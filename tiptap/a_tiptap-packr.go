// Code generated by github.com/gobuffalo/packr. DO NOT EDIT.

package tiptap

import "github.com/gobuffalo/packr"

// You can use the "packr clean" command to clean up this,
// and any other packr generated files.
func init() {
	packr.PackJSONBytes("./tiptapjs/dist/", "tiptap.css", "\"LnRpcHRhcC1lZGl0b3J7cG9zaXRpb246cmVsYXRpdmV9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnR7b3ZlcmZsb3ctd3JhcDpicmVhay13b3JkO3dvcmQtd3JhcDpicmVhay13b3JkO3dvcmQtYnJlYWs6YnJlYWstd29yZH0udGlwdGFwLWVkaXRvcl9fY29udGVudCAqe2NhcmV0LWNvbG9yOmN1cnJlbnRDb2xvcn0udGlwdGFwLWVkaXRvcl9fY29udGVudCBibG9ja3F1b3RlLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgxLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgyLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgzLC50aXB0YXAtZWRpdG9yX19jb250ZW50IG9sLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHAsLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgcHJlLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHVse21hcmdpbjoxcmVtIDB9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgYmxvY2txdW90ZTpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBoMTpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBoMjpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBoMzpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBvbDpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBwOmZpcnN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHByZTpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCB1bDpmaXJzdC1jaGlsZHttYXJnaW4tdG9wOjB9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgYmxvY2txdW90ZTpsYXN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgxOmxhc3QtY2hpbGQsLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgaDI6bGFzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBoMzpsYXN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IG9sOmxhc3QtY2hpbGQsLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgcDpsYXN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHByZTpsYXN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHVsOmxhc3QtY2hpbGR7bWFyZ2luLWJvdHRvbTowfS50aXB0YXAtZWRpdG9yX19jb250ZW50IGgxLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgyLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgze2xpbmUtaGVpZ2h0OjEuM30udGlwdGFwLWVkaXRvcl9fY29udGVudCBwcmV7cGFkZGluZzouN3JlbSAxcmVtO2JvcmRlci1yYWRpdXM6NXB4O2JhY2tncm91bmQ6IzAwMDtjb2xvcjojZmZmO2ZvbnQtc2l6ZTouOHJlbTtvdmVyZmxvdy14OmF1dG99LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgcHJlIGNvZGV7ZGlzcGxheTpibG9ja30udGlwdGFwLWVkaXRvcl9fY29udGVudCBwIGNvZGV7ZGlzcGxheTppbmxpbmUtYmxvY2s7cGFkZGluZzowIC40cmVtO2JvcmRlci1yYWRpdXM6NXB4O2ZvbnQtc2l6ZTouOHJlbTtmb250LXdlaWdodDo3MDA7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4xKTtjb2xvcjpyZ2JhKDAsMCwwLC44KX0udGlwdGFwLWVkaXRvcl9fY29udGVudCBvbCwudGlwdGFwLWVkaXRvcl9fY29udGVudCB1bHtwYWRkaW5nLWxlZnQ6MXJlbX0udGlwdGFwLWVkaXRvcl9fY29udGVudCBsaT5vbCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBsaT5wLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGxpPnVse21hcmdpbjowfS50aXB0YXAtZWRpdG9yX19jb250ZW50IGF7Y29sb3I6aW5oZXJpdH0udGlwdGFwLWVkaXRvcl9fY29udGVudCBibG9ja3F1b3Rle2JvcmRlci1sZWZ0OjNweCBzb2xpZCByZ2JhKDAsMCwwLC4xKTtjb2xvcjpyZ2JhKDAsMCwwLC44KTtwYWRkaW5nLWxlZnQ6LjhyZW07Zm9udC1zdHlsZTppdGFsaWN9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgYmxvY2txdW90ZSBwe21hcmdpbjowfS50aXB0YXAtZWRpdG9yX19jb250ZW50IGltZ3ttYXgtd2lkdGg6MTAwJTtib3JkZXItcmFkaXVzOjNweH0udGlwdGFwLWVkaXRvcl9fY29udGVudCB0YWJsZXtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7dGFibGUtbGF5b3V0OmZpeGVkO3dpZHRoOjEwMCU7bWFyZ2luOjA7b3ZlcmZsb3c6aGlkZGVufS50aXB0YXAtZWRpdG9yX19jb250ZW50IHRhYmxlIHRkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHRhYmxlIHRoe21pbi13aWR0aDoxZW07Ym9yZGVyOjJweCBzb2xpZCAjZGRkO3BhZGRpbmc6M3B4IDVweDt2ZXJ0aWNhbC1hbGlnbjp0b3A7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlfS50aXB0YXAtZWRpdG9yX19jb250ZW50IHRhYmxlIHRkPiosLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgdGFibGUgdGg+KnttYXJnaW4tYm90dG9tOjB9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgdGFibGUgdGh7Zm9udC13ZWlnaHQ6NzAwO3RleHQtYWxpZ246bGVmdH0udGlwdGFwLWVkaXRvcl9fY29udGVudCB0YWJsZSAuc2VsZWN0ZWRDZWxsOmFmdGVye3otaW5kZXg6Mjtwb3NpdGlvbjphYnNvbHV0ZTtjb250ZW50OiIiO2xlZnQ6MDtyaWdodDowO3RvcDowO2JvdHRvbTowO2JhY2tncm91bmQ6cmdiYSgyMDAsMjAwLDI1NSwuNCk7cG9pbnRlci1ldmVudHM6bm9uZX0udGlwdGFwLWVkaXRvcl9fY29udGVudCB0YWJsZSAuY29sdW1uLXJlc2l6ZS1oYW5kbGV7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6LTJweDt0b3A6MDtib3R0b206MDt3aWR0aDo0cHg7ei1pbmRleDoyMDtiYWNrZ3JvdW5kLWNvbG9yOiNhZGY7cG9pbnRlci1ldmVudHM6bm9uZX0udGlwdGFwLWVkaXRvcl9fY29udGVudCAudGFibGVXcmFwcGVye21hcmdpbjoxZW0gMDtvdmVyZmxvdy14OmF1dG99LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgLnJlc2l6ZS1jdXJzb3J7Y3Vyc29yOmV3LXJlc2l6ZTtjdXJzb3I6Y29sLXJlc2l6ZX0ubWVudWJhcnttYXJnaW4tYm90dG9tOjFyZW07LXdlYmtpdC10cmFuc2l0aW9uOnZpc2liaWxpdHkgLjJzIC40cyxvcGFjaXR5IC4ycyAuNHM7dHJhbnNpdGlvbjp2aXNpYmlsaXR5IC4ycyAuNHMsb3BhY2l0eSAuMnMgLjRzfS5tZW51YmFyLmlzLWhpZGRlbnt2aXNpYmlsaXR5OmhpZGRlbjtvcGFjaXR5OjB9Lm1lbnViYXIuaXMtZm9jdXNlZHt2aXNpYmlsaXR5OnZpc2libGU7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNpdGlvbjp2aXNpYmlsaXR5IC4ycyxvcGFjaXR5IC4yczt0cmFuc2l0aW9uOnZpc2liaWxpdHkgLjJzLG9wYWNpdHkgLjJzfS5tZW51YmFyX19idXR0b257Zm9udC13ZWlnaHQ6NzAwO2Rpc3BsYXk6LXdlYmtpdC1pbmxpbmUtYm94O2Rpc3BsYXk6LW1zLWlubGluZS1mbGV4Ym94O2Rpc3BsYXk6aW5saW5lLWZsZXg7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtib3JkZXI6MDtjb2xvcjojMDAwO3BhZGRpbmc6LjJyZW0gLjVyZW07bWFyZ2luLXJpZ2h0Oi4ycmVtO2JvcmRlci1yYWRpdXM6M3B4O2N1cnNvcjpwb2ludGVyfS5tZW51YmFyX19idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4wNSl9Lm1lbnViYXJfX2J1dHRvbi5pcy1hY3RpdmV7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4xKX0ubWVudWJhciBzcGFuLm1lbnViYXJfX2J1dHRvbntmb250LXNpemU6MTMuMzMzM3B4fS5tZW51YnViYmxle3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7ei1pbmRleDoyMDtiYWNrZ3JvdW5kOiMwMDA7Ym9yZGVyLXJhZGl1czo1cHg7cGFkZGluZzouM3JlbTttYXJnaW4tYm90dG9tOi41cmVtOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7dmlzaWJpbGl0eTpoaWRkZW47b3BhY2l0eTowOy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC4ycyx2aXNpYmlsaXR5IC4yczt0cmFuc2l0aW9uOm9wYWNpdHkgLjJzLHZpc2liaWxpdHkgLjJzfS5tZW51YnViYmxlLmlzLWFjdGl2ZXtvcGFjaXR5OjE7dmlzaWJpbGl0eTp2aXNpYmxlfS5tZW51YnViYmxlX19idXR0b257ZGlzcGxheTotd2Via2l0LWlubGluZS1ib3g7ZGlzcGxheTotbXMtaW5saW5lLWZsZXhib3g7ZGlzcGxheTppbmxpbmUtZmxleDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JvcmRlcjowO2NvbG9yOiNmZmY7cGFkZGluZzouMnJlbSAuNXJlbTttYXJnaW4tcmlnaHQ6LjJyZW07Ym9yZGVyLXJhZGl1czozcHg7Y3Vyc29yOnBvaW50ZXJ9Lm1lbnVidWJibGVfX2J1dHRvbjpsYXN0LWNoaWxke21hcmdpbi1yaWdodDowfS5tZW51YnViYmxlX19idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC4xKX0ubWVudWJ1YmJsZV9fYnV0dG9uLmlzLWFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjIpfS5tZW51YnViYmxlX19mb3Jte2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXJ9Lm1lbnVidWJibGVfX2lucHV0e2ZvbnQ6aW5oZXJpdDtib3JkZXI6bm9uZTtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2NvbG9yOiNmZmZ9Lmljb25bZGF0YS12LWU1OWY3ODMyXXtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7d2lkdGg6LjhyZW07aGVpZ2h0Oi44cmVtO21hcmdpbjowIC4zcmVtO3RvcDouMDVyZW07ZmlsbDpjdXJyZW50Q29sb3J9Lmljb24gc3ZnW2RhdGEtdi1lNTlmNzgzMl17ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246dG9wO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9Lmljb25bZGF0YS12LWU1OWY3ODMyXTpmaXJzdC1jaGlsZHttYXJnaW4tbGVmdDowfS5pY29uW2RhdGEtdi1lNTlmNzgzMl06bGFzdC1jaGlsZHttYXJnaW4tcmlnaHQ6MH0=\"")
	packr.PackJSONBytes("./tiptapjs/dist/", "tiptap.umd.min.js", "\"KGZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PT10eXBlb2YgZXhwb3J0cyYmIm9iamVjdCI9PT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUocmVxdWlyZSgiVnVlIikpOiJmdW5jdGlvbiI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbIlZ1ZSJdLGUpOiJvYmplY3QiPT09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0c1sidGlwdGFwIl09ZShyZXF1aXJlKCJWdWUiKSk6dFsidGlwdGFwIl09ZSh0WyJWdWUiXSl9KSgidW5kZWZpbmVkIiE9PXR5cGVvZiBzZWxmP3NlbGY6dGhpcywoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9ezc2Nzk6ZnVuY3Rpb24odCxlKXt2YXIgbixyLG87KGZ1bmN0aW9uKGkscyl7cj1bXSxuPXMsbz0iZnVuY3Rpb24iPT09dHlwZW9mIG4/bi5hcHBseShlLHIpOm4sdm9pZCAwPT09b3x8KHQuZXhwb3J0cz1vKX0pKCJ1bmRlZmluZWQiIT09dHlwZW9mIHNlbGYmJnNlbGYsKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZG9jdW1lbnQsImN1cnJlbnRTY3JpcHQiKTtpZighZSYmImN1cnJlbnRTY3JpcHQiaW4gZG9jdW1lbnQmJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQpcmV0dXJuIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQ7aWYoZSYmZS5nZXQhPT10JiZkb2N1bWVudC5jdXJyZW50U2NyaXB0KXJldHVybiBkb2N1bWVudC5jdXJyZW50U2NyaXB0O3RyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2goZil7dmFyIG4scixvLGk9Ly4qYXQgW14oXSpcKCguKik6KC4rKTooLispXCkkL2dpLHM9L0AoW15AXSopOihcZCspOihcZCspXHMqJC9naSxhPWkuZXhlYyhmLnN0YWNrKXx8cy5leGVjKGYuc3RhY2spLGM9YSYmYVsxXXx8ITEsbD1hJiZhWzJdfHwhMSx1PWRvY3VtZW50LmxvY2F0aW9uLmhyZWYucmVwbGFjZShkb2N1bWVudC5sb2NhdGlvbi5oYXNoLCIiKSxwPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKTtjPT09dSYmKG49ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTCxyPW5ldyBSZWdFeHAoIig/OlteXFxuXSs/XFxuKXswLCIrKGwtMikrIn1bXjxdKjxzY3JpcHQ+KFtcXGRcXERdKj8pPFxcL3NjcmlwdD5bXFxkXFxEXSoiLCJpIiksbz1uLnJlcGxhY2UociwiJDEiKS50cmltKCkpO2Zvcih2YXIgaD0wO2g8cC5sZW5ndGg7aCsrKXtpZigiaW50ZXJhY3RpdmUiPT09cFtoXS5yZWFkeVN0YXRlKXJldHVybiBwW2hdO2lmKHBbaF0uc3JjPT09YylyZXR1cm4gcFtoXTtpZihjPT09dSYmcFtoXS5pbm5lckhUTUwmJnBbaF0uaW5uZXJIVE1MLnRyaW0oKT09PW8pcmV0dXJuIHBbaF19cmV0dXJuIG51bGx9fXJldHVybiB0fSkpfSwzMDk5OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKHQpKyIgaXMgbm90IGEgZnVuY3Rpb24iKTtyZXR1cm4gdH19LDYwNzc6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTExKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIXIodCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcigiQ2FuJ3Qgc2V0ICIrU3RyaW5nKHQpKyIgYXMgYSBwcm90b3R5cGUiKTtyZXR1cm4gdH19LDEyMjM6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTExMiksbz1uKDMwKSxpPW4oMzA3MCkscz1yKCJ1bnNjb3BhYmxlcyIpLGE9QXJyYXkucHJvdG90eXBlO3ZvaWQgMD09YVtzXSYmaS5mKGEscyx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOm8obnVsbCl9KSx0LmV4cG9ydHM9ZnVuY3Rpb24odCl7YVtzXVt0XT0hMH19LDk2NzA6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTExKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIXIodCkpdGhyb3cgVHlwZUVycm9yKFN0cmluZyh0KSsiIGlzIG5vdCBhbiBvYmplY3QiKTtyZXR1cm4gdH19LDg0NTc6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDk5NzQpLG89big3OTA4KSxpPW4oMzQxMSkscz1uKDc2NTkpLGE9big3NDY2KSxjPW4oNjEzNSksbD1uKDEyNDYpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZSxuLHUscCxoLGYsZD1vKHQpLG09ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpBcnJheSx2PWFyZ3VtZW50cy5sZW5ndGgsZz12PjE/YXJndW1lbnRzWzFdOnZvaWQgMCx5PXZvaWQgMCE9PWcsdz1sKGQpLGI9MDtpZih5JiYoZz1yKGcsdj4yP2FyZ3VtZW50c1syXTp2b2lkIDAsMikpLHZvaWQgMD09d3x8bT09QXJyYXkmJnModykpZm9yKGU9YShkLmxlbmd0aCksbj1uZXcgbShlKTtlPmI7YisrKWY9eT9nKGRbYl0sYik6ZFtiXSxjKG4sYixmKTtlbHNlIGZvcihwPXcuY2FsbChkKSxoPXAubmV4dCxuPW5ldyBtOyEodT1oLmNhbGwocCkpLmRvbmU7YisrKWY9eT9pKHAsZyxbdS52YWx1ZSxiXSwhMCk6dS52YWx1ZSxjKG4sYixmKTtyZXR1cm4gbi5sZW5ndGg9YixufX0sMTMxODpmdW5jdGlvbih0LGUsbil7dmFyIHI9big1NjU2KSxvPW4oNzQ2NiksaT1uKDE0MDApLHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixzKXt2YXIgYSxjPXIoZSksbD1vKGMubGVuZ3RoKSx1PWkocyxsKTtpZih0JiZuIT1uKXt3aGlsZShsPnUpaWYoYT1jW3UrK10sYSE9YSlyZXR1cm4hMH1lbHNlIGZvcig7bD51O3UrKylpZigodHx8dSBpbiBjKSYmY1t1XT09PW4pcmV0dXJuIHR8fHV8fDA7cmV0dXJuIXQmJi0xfX07dC5leHBvcnRzPXtpbmNsdWRlczpzKCEwKSxpbmRleE9mOnMoITEpfX0sMjA5MjpmdW5jdGlvbih0LGUsbil7dmFyIHI9big5OTc0KSxvPW4oODM2MSksaT1uKDc5MDgpLHM9big3NDY2KSxhPW4oNTQxNyksYz1bXS5wdXNoLGw9ZnVuY3Rpb24odCl7dmFyIGU9MT09dCxuPTI9PXQsbD0zPT10LHU9ND09dCxwPTY9PXQsaD03PT10LGY9NT09dHx8cDtyZXR1cm4gZnVuY3Rpb24oZCxtLHYsZyl7Zm9yKHZhciB5LHcsYj1pKGQpLHg9byhiKSxrPXIobSx2LDMpLFM9cyh4Lmxlbmd0aCksQz0wLE09Z3x8YSxPPWU/TShkLFMpOm58fGg/TShkLDApOnZvaWQgMDtTPkM7QysrKWlmKChmfHxDIGluIHgpJiYoeT14W0NdLHc9ayh5LEMsYiksdCkpaWYoZSlPW0NdPXc7ZWxzZSBpZih3KXN3aXRjaCh0KXtjYXNlIDM6cmV0dXJuITA7Y2FzZSA1OnJldHVybiB5O2Nhc2UgNjpyZXR1cm4gQztjYXNlIDI6Yy5jYWxsKE8seSl9ZWxzZSBzd2l0Y2godCl7Y2FzZSA0OnJldHVybiExO2Nhc2UgNzpjLmNhbGwoTyx5KX1yZXR1cm4gcD8tMTpsfHx1P3U6T319O3QuZXhwb3J0cz17Zm9yRWFjaDpsKDApLG1hcDpsKDEpLGZpbHRlcjpsKDIpLHNvbWU6bCgzKSxldmVyeTpsKDQpLGZpbmQ6bCg1KSxmaW5kSW5kZXg6bCg2KSxmaWx0ZXJPdXQ6bCg3KX19LDExOTQ6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNzI5Myksbz1uKDUxMTIpLGk9big3MzkyKSxzPW8oInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGk+PTUxfHwhcigoZnVuY3Rpb24oKXt2YXIgZT1bXSxuPWUuY29uc3RydWN0b3I9e307cmV0dXJuIG5bc109ZnVuY3Rpb24oKXtyZXR1cm57Zm9vOjF9fSwxIT09ZVt0XShCb29sZWFuKS5mb299KSl9fSw1NDE3OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDExMSksbz1uKDMxNTcpLGk9big1MTEyKSxzPWkoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbyh0KSYmKG49dC5jb25zdHJ1Y3RvciwiZnVuY3Rpb24iIT10eXBlb2Ygbnx8biE9PUFycmF5JiYhbyhuLnByb3RvdHlwZSk/cihuKSYmKG49bltzXSxudWxsPT09biYmKG49dm9pZCAwKSk6bj12b2lkIDApLG5ldyh2b2lkIDA9PT1uP0FycmF5Om4pKDA9PT1lPzA6ZSl9fSwzNDExOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDk2NzApLG89big5MjEyKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4saSl7dHJ5e3JldHVybiBpP2UocihuKVswXSxuWzFdKTplKG4pfWNhdGNoKHMpe3Rocm93IG8odCksc319fSw3MDcyOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDUxMTIpLG89cigiaXRlcmF0b3IiKSxpPSExO3RyeXt2YXIgcz0wLGE9e25leHQ6ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTohIXMrK319LHJldHVybjpmdW5jdGlvbigpe2k9ITB9fTthW29dPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LEFycmF5LmZyb20oYSwoZnVuY3Rpb24oKXt0aHJvdyAyfSkpfWNhdGNoKGMpe310LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZighZSYmIWkpcmV0dXJuITE7dmFyIG49ITE7dHJ5e3ZhciByPXt9O3Jbb109ZnVuY3Rpb24oKXtyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybntkb25lOm49ITB9fX19LHQocil9Y2F0Y2goYyl7fXJldHVybiBufX0sNDMyNjpmdW5jdGlvbih0KXt2YXIgZT17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGUuY2FsbCh0KS5zbGljZSg4LC0xKX19LDY0ODpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNjk0KSxvPW4oNDMyNiksaT1uKDUxMTIpLHM9aSgidG9TdHJpbmdUYWciKSxhPSJBcmd1bWVudHMiPT1vKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSksYz1mdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4gdFtlXX1jYXRjaChuKXt9fTt0LmV4cG9ydHM9cj9vOmZ1bmN0aW9uKHQpe3ZhciBlLG4scjtyZXR1cm4gdm9pZCAwPT09dD8iVW5kZWZpbmVkIjpudWxsPT09dD8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihuPWMoZT1PYmplY3QodCkscykpP246YT9vKGUpOiJPYmplY3QiPT0ocj1vKGUpKSYmImZ1bmN0aW9uIj09dHlwZW9mIGUuY2FsbGVlPyJBcmd1bWVudHMiOnJ9fSw5OTIwOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDY2NTYpLG89bigzODg3KSxpPW4oMTIzNikscz1uKDMwNzApO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1vKGUpLGE9cy5mLGM9aS5mLGw9MDtsPG4ubGVuZ3RoO2wrKyl7dmFyIHU9bltsXTtyKHQsdSl8fGEodCx1LGMoZSx1KSl9fX0sODU0NDpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3MjkzKTt0LmV4cG9ydHM9IXIoKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuY29uc3RydWN0b3I9bnVsbCxPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IHQpIT09dC5wcm90b3R5cGV9KSl9LDQ5OTQ6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDMzODMpLkl0ZXJhdG9yUHJvdG90eXBlLG89bigzMCksaT1uKDkxMTQpLHM9big4MDAzKSxhPW4oNzQ5NyksYz1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3ZhciBsPWUrIiBJdGVyYXRvciI7cmV0dXJuIHQucHJvdG90eXBlPW8ocix7bmV4dDppKDEsbil9KSxzKHQsbCwhMSwhMCksYVtsXT1jLHR9fSw4ODgwOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDk3ODEpLG89bigzMDcwKSxpPW4oOTExNCk7dC5leHBvcnRzPXI/ZnVuY3Rpb24odCxlLG4pe3JldHVybiBvLmYodCxlLGkoMSxuKSl9OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFtlXT1uLHR9fSw5MTE0OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybntlbnVtZXJhYmxlOiEoMSZ0KSxjb25maWd1cmFibGU6ISgyJnQpLHdyaXRhYmxlOiEoNCZ0KSx2YWx1ZTplfX19LDYxMzU6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDc1OTMpLG89bigzMDcwKSxpPW4oOTExNCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcz1yKGUpO3MgaW4gdD9vLmYodCxzLGkoMCxuKSk6dFtzXT1ufX0sNjU0OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyMTA5KSxvPW4oNDk5NCksaT1uKDk1MTgpLHM9big3Njc0KSxhPW4oODAwMyksYz1uKDg4ODApLGw9bigxMzIwKSx1PW4oNTExMikscD1uKDE5MTMpLGg9big3NDk3KSxmPW4oMzM4MyksZD1mLkl0ZXJhdG9yUHJvdG90eXBlLG09Zi5CVUdHWV9TQUZBUklfSVRFUkFUT1JTLHY9dSgiaXRlcmF0b3IiKSxnPSJrZXlzIix5PSJ2YWx1ZXMiLHc9ImVudHJpZXMiLGI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLHUsZix4LGspe28obixlLHUpO3ZhciBTLEMsTSxPPWZ1bmN0aW9uKHQpe2lmKHQ9PT1mJiZEKXJldHVybiBEO2lmKCFtJiZ0IGluIEUpcmV0dXJuIEVbdF07c3dpdGNoKHQpe2Nhc2UgZzpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyx0KX07Y2FzZSB5OnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLHQpfTtjYXNlIHc6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMsdCl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzKX19LEE9ZSsiIEl0ZXJhdG9yIixOPSExLEU9dC5wcm90b3R5cGUsVD1FW3ZdfHxFWyJAQGl0ZXJhdG9yIl18fGYmJkVbZl0sRD0hbSYmVHx8TyhmKSxfPSJBcnJheSI9PWUmJkUuZW50cmllc3x8VDtpZihfJiYoUz1pKF8uY2FsbChuZXcgdCkpLGQhPT1PYmplY3QucHJvdG90eXBlJiZTLm5leHQmJihwfHxpKFMpPT09ZHx8KHM/cyhTLGQpOiJmdW5jdGlvbiIhPXR5cGVvZiBTW3ZdJiZjKFMsdixiKSksYShTLEEsITAsITApLHAmJihoW0FdPWIpKSksZj09eSYmVCYmVC5uYW1lIT09eSYmKE49ITAsRD1mdW5jdGlvbigpe3JldHVybiBULmNhbGwodGhpcyl9KSxwJiYha3x8RVt2XT09PUR8fGMoRSx2LEQpLGhbZV09RCxmKWlmKEM9e3ZhbHVlczpPKHkpLGtleXM6eD9EOk8oZyksZW50cmllczpPKHcpfSxrKWZvcihNIGluIEMpKG18fE58fCEoTSBpbiBFKSkmJmwoRSxNLENbTV0pO2Vsc2Ugcih7dGFyZ2V0OmUscHJvdG86ITAsZm9yY2VkOm18fE59LEMpO3JldHVybiBDfX0sNzIzNTpmdW5jdGlvbih0LGUsbil7dmFyIHI9big4NTcpLG89big2NjU2KSxpPW4oNjA2MSkscz1uKDMwNzApLmY7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXIuU3ltYm9sfHwoci5TeW1ib2w9e30pO28oZSx0KXx8cyhlLHQse3ZhbHVlOmkuZih0KX0pfX0sOTc4MTpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3MjkzKTt0LmV4cG9ydHM9IXIoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KVsxXX0pKX0sMzE3OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDc4NTQpLG89bigxMTEpLGk9ci5kb2N1bWVudCxzPW8oaSkmJm8oaS5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHM/aS5jcmVhdGVFbGVtZW50KHQpOnt9fX0sODMyNDpmdW5jdGlvbih0KXt0LmV4cG9ydHM9e0NTU1J1bGVMaXN0OjAsQ1NTU3R5bGVEZWNsYXJhdGlvbjowLENTU1ZhbHVlTGlzdDowLENsaWVudFJlY3RMaXN0OjAsRE9NUmVjdExpc3Q6MCxET01TdHJpbmdMaXN0OjAsRE9NVG9rZW5MaXN0OjEsRGF0YVRyYW5zZmVySXRlbUxpc3Q6MCxGaWxlTGlzdDowLEhUTUxBbGxDb2xsZWN0aW9uOjAsSFRNTENvbGxlY3Rpb246MCxIVE1MRm9ybUVsZW1lbnQ6MCxIVE1MU2VsZWN0RWxlbWVudDowLE1lZGlhTGlzdDowLE1pbWVUeXBlQXJyYXk6MCxOYW1lZE5vZGVNYXA6MCxOb2RlTGlzdDoxLFBhaW50UmVxdWVzdExpc3Q6MCxQbHVnaW46MCxQbHVnaW5BcnJheTowLFNWR0xlbmd0aExpc3Q6MCxTVkdOdW1iZXJMaXN0OjAsU1ZHUGF0aFNlZ0xpc3Q6MCxTVkdQb2ludExpc3Q6MCxTVkdTdHJpbmdMaXN0OjAsU1ZHVHJhbnNmb3JtTGlzdDowLFNvdXJjZUJ1ZmZlckxpc3Q6MCxTdHlsZVNoZWV0TGlzdDowLFRleHRUcmFja0N1ZUxpc3Q6MCxUZXh0VHJhY2tMaXN0OjAsVG91Y2hMaXN0OjB9fSw4MTEzOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDUwMDUpO3QuZXhwb3J0cz1yKCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiKXx8IiJ9LDczOTI6ZnVuY3Rpb24odCxlLG4pe3ZhciByLG8saT1uKDc4NTQpLHM9big4MTEzKSxhPWkucHJvY2VzcyxjPWEmJmEudmVyc2lvbnMsbD1jJiZjLnY4O2w/KHI9bC5zcGxpdCgiLiIpLG89clswXTw0PzE6clswXStyWzFdKTpzJiYocj1zLm1hdGNoKC9FZGdlXC8oXGQrKS8pLCghcnx8clsxXT49NzQpJiYocj1zLm1hdGNoKC9DaHJvbWVcLyhcZCspLyksciYmKG89clsxXSkpKSx0LmV4cG9ydHM9byYmK299LDc0ODpmdW5jdGlvbih0KXt0LmV4cG9ydHM9WyJjb25zdHJ1Y3RvciIsImhhc093blByb3BlcnR5IiwiaXNQcm90b3R5cGVPZiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwidG9Mb2NhbGVTdHJpbmciLCJ0b1N0cmluZyIsInZhbHVlT2YiXX0sMjEwOTpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3ODU0KSxvPW4oMTIzNikuZixpPW4oODg4MCkscz1uKDEzMjApLGE9bigzNTA1KSxjPW4oOTkyMCksbD1uKDQ3MDUpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLHUscCxoLGYsZCxtPXQudGFyZ2V0LHY9dC5nbG9iYWwsZz10LnN0YXQ7aWYodT12P3I6Zz9yW21dfHxhKG0se30pOihyW21dfHx7fSkucHJvdG90eXBlLHUpZm9yKHAgaW4gZSl7aWYoZj1lW3BdLHQubm9UYXJnZXRHZXQ/KGQ9byh1LHApLGg9ZCYmZC52YWx1ZSk6aD11W3BdLG49bCh2P3A6bSsoZz8iLiI6IiMiKStwLHQuZm9yY2VkKSwhbiYmdm9pZCAwIT09aCl7aWYodHlwZW9mIGY9PT10eXBlb2YgaCljb250aW51ZTtjKGYsaCl9KHQuc2hhbXx8aCYmaC5zaGFtKSYmaShmLCJzaGFtIiwhMCkscyh1LHAsZix0KX19fSw3MjkzOmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuISF0KCl9Y2F0Y2goZSl7cmV0dXJuITB9fX0sOTk3NDpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMDk5KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2lmKHIodCksdm9pZCAwPT09ZSlyZXR1cm4gdDtzd2l0Y2gobil7Y2FzZSAwOnJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmNhbGwoZSl9O2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQuY2FsbChlLG4pfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIHQuY2FsbChlLG4scil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24obixyLG8pe3JldHVybiB0LmNhbGwoZSxuLHIsbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19fSw1MDA1OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDg1Nyksbz1uKDc4NTQpLGk9ZnVuY3Rpb24odCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDp2b2lkIDB9O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDI/aShyW3RdKXx8aShvW3RdKTpyW3RdJiZyW3RdW2VdfHxvW3RdJiZvW3RdW2VdfX0sMTI0NjpmdW5jdGlvbih0LGUsbil7dmFyIHI9big2NDgpLG89big3NDk3KSxpPW4oNTExMikscz1pKCJpdGVyYXRvciIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZih2b2lkIDAhPXQpcmV0dXJuIHRbc118fHRbIkBAaXRlcmF0b3IiXXx8b1tyKHQpXX19LDc4NTQ6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lk1hdGg9PU1hdGgmJnR9O3QuZXhwb3J0cz1yKCJvYmplY3QiPT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyl8fHIoIm9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyl8fHIoIm9iamVjdCI9PXR5cGVvZiBzZWxmJiZzZWxmKXx8cigib2JqZWN0Ij09dHlwZW9mIG4uZyYmbi5nKXx8ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKXx8RnVuY3Rpb24oInJldHVybiB0aGlzIikoKX0sNjY1NjpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3OTA4KSxvPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1PYmplY3QuaGFzT3dufHxmdW5jdGlvbih0LGUpe3JldHVybiBvLmNhbGwocih0KSxlKX19LDM1MDE6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXt9fSw0OTA6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTAwNSk7dC5leHBvcnRzPXIoImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50Iil9LDQ2NjQ6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOTc4MSksbz1uKDcyOTMpLGk9bigzMTcpO3QuZXhwb3J0cz0hciYmIW8oKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KSl9LDgzNjE6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNzI5Myksbz1uKDQzMjYpLGk9IiIuc3BsaXQ7dC5leHBvcnRzPXIoKGZ1bmN0aW9uKCl7cmV0dXJuIU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApfSkpP2Z1bmN0aW9uKHQpe3JldHVybiJTdHJpbmciPT1vKHQpP2kuY2FsbCh0LCIiKTpPYmplY3QodCl9Ok9iamVjdH0sMjc4ODpmdW5jdGlvbih0LGUsbil7dmFyIHI9big1NDY1KSxvPUZ1bmN0aW9uLnRvU3RyaW5nOyJmdW5jdGlvbiIhPXR5cGVvZiByLmluc3BlY3RTb3VyY2UmJihyLmluc3BlY3RTb3VyY2U9ZnVuY3Rpb24odCl7cmV0dXJuIG8uY2FsbCh0KX0pLHQuZXhwb3J0cz1yLmluc3BlY3RTb3VyY2V9LDk5MDk6ZnVuY3Rpb24odCxlLG4pe3ZhciByLG8saSxzPW4oODUzNiksYT1uKDc4NTQpLGM9bigxMTEpLGw9big4ODgwKSx1PW4oNjY1NikscD1uKDU0NjUpLGg9big2MjAwKSxmPW4oMzUwMSksZD0iT2JqZWN0IGFscmVhZHkgaW5pdGlhbGl6ZWQiLG09YS5XZWFrTWFwLHY9ZnVuY3Rpb24odCl7cmV0dXJuIGkodCk/byh0KTpyKHQse30pfSxnPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbjtpZighYyhlKXx8KG49byhlKSkudHlwZSE9PXQpdGhyb3cgVHlwZUVycm9yKCJJbmNvbXBhdGlibGUgcmVjZWl2ZXIsICIrdCsiIHJlcXVpcmVkIik7cmV0dXJuIG59fTtpZihzfHxwLnN0YXRlKXt2YXIgeT1wLnN0YXRlfHwocC5zdGF0ZT1uZXcgbSksdz15LmdldCxiPXkuaGFzLHg9eS5zZXQ7cj1mdW5jdGlvbih0LGUpe2lmKGIuY2FsbCh5LHQpKXRocm93IG5ldyBUeXBlRXJyb3IoZCk7cmV0dXJuIGUuZmFjYWRlPXQseC5jYWxsKHksdCxlKSxlfSxvPWZ1bmN0aW9uKHQpe3JldHVybiB3LmNhbGwoeSx0KXx8e319LGk9ZnVuY3Rpb24odCl7cmV0dXJuIGIuY2FsbCh5LHQpfX1lbHNle3ZhciBrPWgoInN0YXRlIik7ZltrXT0hMCxyPWZ1bmN0aW9uKHQsZSl7aWYodSh0LGspKXRocm93IG5ldyBUeXBlRXJyb3IoZCk7cmV0dXJuIGUuZmFjYWRlPXQsbCh0LGssZSksZX0sbz1mdW5jdGlvbih0KXtyZXR1cm4gdSh0LGspP3Rba106e319LGk9ZnVuY3Rpb24odCl7cmV0dXJuIHUodCxrKX19dC5leHBvcnRzPXtzZXQ6cixnZXQ6byxoYXM6aSxlbmZvcmNlOnYsZ2V0dGVyRm9yOmd9fSw3NjU5OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDUxMTIpLG89big3NDk3KSxpPXIoIml0ZXJhdG9yIikscz1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10JiYoby5BcnJheT09PXR8fHNbaV09PT10KX19LDMxNTc6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDMyNik7dC5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVybiJBcnJheSI9PXIodCl9fSw0NzA1OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcyOTMpLG89LyN8XC5wcm90b3R5cGVcLi8saT1mdW5jdGlvbih0LGUpe3ZhciBuPWFbcyh0KV07cmV0dXJuIG49PWx8fG4hPWMmJigiZnVuY3Rpb24iPT10eXBlb2YgZT9yKGUpOiEhZSl9LHM9aS5ub3JtYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIFN0cmluZyh0KS5yZXBsYWNlKG8sIi4iKS50b0xvd2VyQ2FzZSgpfSxhPWkuZGF0YT17fSxjPWkuTkFUSVZFPSJOIixsPWkuUE9MWUZJTEw9IlAiO3QuZXhwb3J0cz1pfSwxMTE6ZnVuY3Rpb24odCl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiJvYmplY3QiPT09dHlwZW9mIHQ/bnVsbCE9PXQ6ImZ1bmN0aW9uIj09PXR5cGVvZiB0fX0sMTkxMzpmdW5jdGlvbih0KXt0LmV4cG9ydHM9ITF9LDkyMTI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOTY3MCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRbInJldHVybiJdO2lmKHZvaWQgMCE9PWUpcmV0dXJuIHIoZS5jYWxsKHQpKS52YWx1ZX19LDMzODM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcixvLGkscz1uKDcyOTMpLGE9big5NTE4KSxjPW4oODg4MCksbD1uKDY2NTYpLHU9big1MTEyKSxwPW4oMTkxMyksaD11KCJpdGVyYXRvciIpLGY9ITEsZD1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtbXS5rZXlzJiYoaT1bXS5rZXlzKCksIm5leHQiaW4gaT8obz1hKGEoaSkpLG8hPT1PYmplY3QucHJvdG90eXBlJiYocj1vKSk6Zj0hMCk7dmFyIG09dm9pZCAwPT1yfHxzKChmdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiByW2hdLmNhbGwodCkhPT10fSkpO20mJihyPXt9KSxwJiYhbXx8bChyLGgpfHxjKHIsaCxkKSx0LmV4cG9ydHM9e0l0ZXJhdG9yUHJvdG90eXBlOnIsQlVHR1lfU0FGQVJJX0lURVJBVE9SUzpmfX0sNzQ5NzpmdW5jdGlvbih0KXt0LmV4cG9ydHM9e319LDEzMzpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3MzkyKSxvPW4oNzI5Myk7dC5leHBvcnRzPSEhT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyYmIW8oKGZ1bmN0aW9uKCl7dmFyIHQ9U3ltYm9sKCk7cmV0dXJuIVN0cmluZyh0KXx8IShPYmplY3QodClpbnN0YW5jZW9mIFN5bWJvbCl8fCFTeW1ib2wuc2hhbSYmciYmcjw0MX0pKX0sODUzNjpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3ODU0KSxvPW4oMjc4OCksaT1yLldlYWtNYXA7dC5leHBvcnRzPSJmdW5jdGlvbiI9PT10eXBlb2YgaSYmL25hdGl2ZSBjb2RlLy50ZXN0KG8oaSkpfSwzMDpmdW5jdGlvbih0LGUsbil7dmFyIHIsbz1uKDk2NzApLGk9big2MDQ4KSxzPW4oNzQ4KSxhPW4oMzUwMSksYz1uKDQ5MCksbD1uKDMxNyksdT1uKDYyMDApLHA9Ij4iLGg9IjwiLGY9InByb3RvdHlwZSIsZD0ic2NyaXB0IixtPXUoIklFX1BST1RPIiksdj1mdW5jdGlvbigpe30sZz1mdW5jdGlvbih0KXtyZXR1cm4gaCtkK3ArdCtoKyIvIitkK3B9LHk9ZnVuY3Rpb24odCl7dC53cml0ZShnKCIiKSksdC5jbG9zZSgpO3ZhciBlPXQucGFyZW50V2luZG93Lk9iamVjdDtyZXR1cm4gdD1udWxsLGV9LHc9ZnVuY3Rpb24oKXt2YXIgdCxlPWwoImlmcmFtZSIpLG49ImphdmEiK2QrIjoiO3JldHVybiBlLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGMuYXBwZW5kQ2hpbGQoZSksZS5zcmM9U3RyaW5nKG4pLHQ9ZS5jb250ZW50V2luZG93LmRvY3VtZW50LHQub3BlbigpLHQud3JpdGUoZygiZG9jdW1lbnQuRj1PYmplY3QiKSksdC5jbG9zZSgpLHQuRn0sYj1mdW5jdGlvbigpe3RyeXtyPWRvY3VtZW50LmRvbWFpbiYmbmV3IEFjdGl2ZVhPYmplY3QoImh0bWxmaWxlIil9Y2F0Y2goZSl7fWI9cj95KHIpOncoKTt2YXIgdD1zLmxlbmd0aDt3aGlsZSh0LS0pZGVsZXRlIGJbZl1bc1t0XV07cmV0dXJuIGIoKX07YVttXT0hMCx0LmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbnVsbCE9PXQ/KHZbZl09byh0KSxuPW5ldyB2LHZbZl09bnVsbCxuW21dPXQpOm49YigpLHZvaWQgMD09PWU/bjppKG4sZSl9fSw2MDQ4OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDk3ODEpLG89bigzMDcwKSxpPW4oOTY3MCkscz1uKDE5NTYpO3QuZXhwb3J0cz1yP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKHQsZSl7aSh0KTt2YXIgbixyPXMoZSksYT1yLmxlbmd0aCxjPTA7d2hpbGUoYT5jKW8uZih0LG49cltjKytdLGVbbl0pO3JldHVybiB0fX0sMzA3MDpmdW5jdGlvbih0LGUsbil7dmFyIHI9big5NzgxKSxvPW4oNDY2NCksaT1uKDk2NzApLHM9big3NTkzKSxhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtlLmY9cj9hOmZ1bmN0aW9uKHQsZSxuKXtpZihpKHQpLGU9cyhlLCEwKSxpKG4pLG8pdHJ5e3JldHVybiBhKHQsZSxuKX1jYXRjaChyKXt9aWYoImdldCJpbiBufHwic2V0ImluIG4pdGhyb3cgVHlwZUVycm9yKCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCIpO3JldHVybiJ2YWx1ZSJpbiBuJiYodFtlXT1uLnZhbHVlKSx0fX0sMTIzNjpmdW5jdGlvbih0LGUsbil7dmFyIHI9big5NzgxKSxvPW4oNTI5NiksaT1uKDkxMTQpLHM9big1NjU2KSxhPW4oNzU5MyksYz1uKDY2NTYpLGw9big0NjY0KSx1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7ZS5mPXI/dTpmdW5jdGlvbih0LGUpe2lmKHQ9cyh0KSxlPWEoZSwhMCksbCl0cnl7cmV0dXJuIHUodCxlKX1jYXRjaChuKXt9aWYoYyh0LGUpKXJldHVybiBpKCFvLmYuY2FsbCh0LGUpLHRbZV0pfX0sMTE1NjpmdW5jdGlvbih0LGUsbil7dmFyIHI9big1NjU2KSxvPW4oODAwNikuZixpPXt9LnRvU3RyaW5nLHM9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxhPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gbyh0KX1jYXRjaChlKXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmY9ZnVuY3Rpb24odCl7cmV0dXJuIHMmJiJbb2JqZWN0IFdpbmRvd10iPT1pLmNhbGwodCk/YSh0KTpvKHIodCkpfX0sODAwNjpmdW5jdGlvbih0LGUsbil7dmFyIHI9big2MzI0KSxvPW4oNzQ4KSxpPW8uY29uY2F0KCJsZW5ndGgiLCJwcm90b3R5cGUiKTtlLmY9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fGZ1bmN0aW9uKHQpe3JldHVybiByKHQsaSl9fSw1MTgxOmZ1bmN0aW9uKHQsZSl7ZS5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LDk1MTg6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNjY1Niksbz1uKDc5MDgpLGk9big2MjAwKSxzPW4oODU0NCksYT1pKCJJRV9QUk9UTyIpLGM9T2JqZWN0LnByb3RvdHlwZTt0LmV4cG9ydHM9cz9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9byh0KSxyKHQsYSk/dFthXToiZnVuY3Rpb24iPT10eXBlb2YgdC5jb25zdHJ1Y3RvciYmdCBpbnN0YW5jZW9mIHQuY29uc3RydWN0b3I/dC5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6dCBpbnN0YW5jZW9mIE9iamVjdD9jOm51bGx9fSw2MzI0OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDY2NTYpLG89big1NjU2KSxpPW4oMTMxOCkuaW5kZXhPZixzPW4oMzUwMSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG4sYT1vKHQpLGM9MCxsPVtdO2ZvcihuIGluIGEpIXIocyxuKSYmcihhLG4pJiZsLnB1c2gobik7d2hpbGUoZS5sZW5ndGg+YylyKGEsbj1lW2MrK10pJiYofmkobCxuKXx8bC5wdXNoKG4pKTtyZXR1cm4gbH19LDE5NTY6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNjMyNCksbz1uKDc0OCk7dC5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gcih0LG8pfX0sNTI5NjpmdW5jdGlvbih0LGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isbz1yJiYhbi5jYWxsKHsxOjJ9LDEpO2UuZj1vP2Z1bmN0aW9uKHQpe3ZhciBlPXIodGhpcyx0KTtyZXR1cm4hIWUmJmUuZW51bWVyYWJsZX06bn0sNzY3NDpmdW5jdGlvbih0LGUsbil7dmFyIHI9big5NjcwKSxvPW4oNjA3Nyk7dC5leHBvcnRzPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbigpe3ZhciB0LGU9ITEsbj17fTt0cnl7dD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCx0LmNhbGwobixbXSksZT1uIGluc3RhbmNlb2YgQXJyYXl9Y2F0Y2goaSl7fXJldHVybiBmdW5jdGlvbihuLGkpe3JldHVybiByKG4pLG8oaSksZT90LmNhbGwobixpKTpuLl9fcHJvdG9fXz1pLG59fSgpOnZvaWQgMCl9LDQ2OTk6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOTc4MSksbz1uKDE5NTYpLGk9big1NjU2KSxzPW4oNTI5NikuZixhPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbixhPWkoZSksYz1vKGEpLGw9Yy5sZW5ndGgsdT0wLHA9W107d2hpbGUobD51KW49Y1t1KytdLHImJiFzLmNhbGwoYSxuKXx8cC5wdXNoKHQ/W24sYVtuXV06YVtuXSk7cmV0dXJuIHB9fTt0LmV4cG9ydHM9e2VudHJpZXM6YSghMCksdmFsdWVzOmEoITEpfX0sMjg4OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNjk0KSxvPW4oNjQ4KTt0LmV4cG9ydHM9cj97fS50b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJbb2JqZWN0ICIrbyh0aGlzKSsiXSJ9fSwzODg3OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDUwMDUpLG89big4MDA2KSxpPW4oNTE4MSkscz1uKDk2NzApO3QuZXhwb3J0cz1yKCJSZWZsZWN0Iiwib3duS2V5cyIpfHxmdW5jdGlvbih0KXt2YXIgZT1vLmYocyh0KSksbj1pLmY7cmV0dXJuIG4/ZS5jb25jYXQobih0KSk6ZX19LDg1NzpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3ODU0KTt0LmV4cG9ydHM9cn0sMTMyMDpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3ODU0KSxvPW4oODg4MCksaT1uKDY2NTYpLHM9bigzNTA1KSxhPW4oMjc4OCksYz1uKDk5MDkpLGw9Yy5nZXQsdT1jLmVuZm9yY2UscD1TdHJpbmcoU3RyaW5nKS5zcGxpdCgiU3RyaW5nIik7KHQuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixhKXt2YXIgYyxsPSEhYSYmISFhLnVuc2FmZSxoPSEhYSYmISFhLmVudW1lcmFibGUsZj0hIWEmJiEhYS5ub1RhcmdldEdldDsiZnVuY3Rpb24iPT10eXBlb2YgbiYmKCJzdHJpbmciIT10eXBlb2YgZXx8aShuLCJuYW1lIil8fG8obiwibmFtZSIsZSksYz11KG4pLGMuc291cmNlfHwoYy5zb3VyY2U9cC5qb2luKCJzdHJpbmciPT10eXBlb2YgZT9lOiIiKSkpLHQhPT1yPyhsPyFmJiZ0W2VdJiYoaD0hMCk6ZGVsZXRlIHRbZV0saD90W2VdPW46byh0LGUsbikpOmg/dFtlXT1uOnMoZSxuKX0pKEZ1bmN0aW9uLnByb3RvdHlwZSwidG9TdHJpbmciLChmdW5jdGlvbigpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzJiZsKHRoaXMpLnNvdXJjZXx8YSh0aGlzKX0pKX0sNDQ4ODpmdW5jdGlvbih0KXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT10KXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIit0KTtyZXR1cm4gdH19LDM1MDU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNzg1NCksbz1uKDg4ODApO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3RyeXtvKHIsdCxlKX1jYXRjaChuKXtyW3RdPWV9cmV0dXJuIGV9fSw4MDAzOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMwNzApLmYsbz1uKDY2NTYpLGk9big1MTEyKSxzPWkoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt0JiYhbyh0PW4/dDp0LnByb3RvdHlwZSxzKSYmcih0LHMse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTplfSl9fSw2MjAwOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIzMDkpLG89big5NzExKSxpPXIoImtleXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlbdF18fChpW3RdPW8odCkpfX0sNTQ2NTpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3ODU0KSxvPW4oMzUwNSksaT0iX19jb3JlLWpzX3NoYXJlZF9fIixzPXJbaV18fG8oaSx7fSk7dC5leHBvcnRzPXN9LDIzMDk6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTkxMyksbz1uKDU0NjUpOyh0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gb1t0XXx8KG9bdF09dm9pZCAwIT09ZT9lOnt9KX0pKCJ2ZXJzaW9ucyIsW10pLnB1c2goe3ZlcnNpb246IjMuMTQuMCIsbW9kZTpyPyJwdXJlIjoiZ2xvYmFsIixjb3B5cmlnaHQ6IsKpIDIwMjEgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSkifSl9LDg3MTA6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOTk1OCksbz1uKDQ0ODgpLGk9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIGkscyxhPVN0cmluZyhvKGUpKSxjPXIobiksbD1hLmxlbmd0aDtyZXR1cm4gYzwwfHxjPj1sP3Q/IiI6dm9pZCAwOihpPWEuY2hhckNvZGVBdChjKSxpPDU1Mjk2fHxpPjU2MzE5fHxjKzE9PT1sfHwocz1hLmNoYXJDb2RlQXQoYysxKSk8NTYzMjB8fHM+NTczNDM/dD9hLmNoYXJBdChjKTppOnQ/YS5zbGljZShjLGMrMik6cy01NjMyMCsoaS01NTI5Njw8MTApKzY1NTM2KX19O3QuZXhwb3J0cz17Y29kZUF0OmkoITEpLGNoYXJBdDppKCEwKX19LDE0MDA6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOTk1OCksbz1NYXRoLm1heCxpPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuPXIodCk7cmV0dXJuIG48MD9vKG4rZSwwKTppKG4sZSl9fSw1NjU2OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDgzNjEpLG89big0NDg4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIobyh0KSl9fSw5OTU4OmZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguY2VpbCxuPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpc05hTih0PSt0KT8wOih0PjA/bjplKSh0KX19LDc0NjY6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOTk1OCksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+MD9vKHIodCksOTAwNzE5OTI1NDc0MDk5MSk6MH19LDc5MDg6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDQ4OCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qocih0KSl9fSw3NTkzOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDExMSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoIXIodCkpcmV0dXJuIHQ7dmFyIG4sbztpZihlJiYiZnVuY3Rpb24iPT10eXBlb2Yobj10LnRvU3RyaW5nKSYmIXIobz1uLmNhbGwodCkpKXJldHVybiBvO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihuPXQudmFsdWVPZikmJiFyKG89bi5jYWxsKHQpKSlyZXR1cm4gbztpZighZSYmImZ1bmN0aW9uIj09dHlwZW9mKG49dC50b1N0cmluZykmJiFyKG89bi5jYWxsKHQpKSlyZXR1cm4gbzt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0sMTY5NDpmdW5jdGlvbih0LGUsbil7dmFyIHI9big1MTEyKSxvPXIoInRvU3RyaW5nVGFnIiksaT17fTtpW29dPSJ6Iix0LmV4cG9ydHM9IltvYmplY3Qgel0iPT09U3RyaW5nKGkpfSw5NzExOmZ1bmN0aW9uKHQpe3ZhciBlPTAsbj1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4iU3ltYm9sKCIrU3RyaW5nKHZvaWQgMD09PXQ/IiI6dCkrIilfIisoKytlK24pLnRvU3RyaW5nKDM2KX19LDMzMDc6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTMzKTt0LmV4cG9ydHM9ciYmIVN5bWJvbC5zaGFtJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcn0sNjA2MTpmdW5jdGlvbih0LGUsbil7dmFyIHI9big1MTEyKTtlLmY9cn0sNTExMjpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3ODU0KSxvPW4oMjMwOSksaT1uKDY2NTYpLHM9big5NzExKSxhPW4oMTMzKSxjPW4oMzMwNyksbD1vKCJ3a3MiKSx1PXIuU3ltYm9sLHA9Yz91OnUmJnUud2l0aG91dFNldHRlcnx8czt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGkobCx0KSYmKGF8fCJzdHJpbmciPT10eXBlb2YgbFt0XSl8fChhJiZpKHUsdCk/bFt0XT11W3RdOmxbdF09cCgiU3ltYm9sLiIrdCkpLGxbdF19fSwxMDM4OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIxMDkpLG89big4NDU3KSxpPW4oNzA3Mikscz0haSgoZnVuY3Rpb24odCl7QXJyYXkuZnJvbSh0KX0pKTtyKHt0YXJnZXQ6IkFycmF5IixzdGF0OiEwLGZvcmNlZDpzfSx7ZnJvbTpvfSl9LDY5OTI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDU2NTYpLG89bigxMjIzKSxpPW4oNzQ5Nykscz1uKDk5MDkpLGE9big2NTQpLGM9IkFycmF5IEl0ZXJhdG9yIixsPXMuc2V0LHU9cy5nZXR0ZXJGb3IoYyk7dC5leHBvcnRzPWEoQXJyYXksIkFycmF5IiwoZnVuY3Rpb24odCxlKXtsKHRoaXMse3R5cGU6Yyx0YXJnZXQ6cih0KSxpbmRleDowLGtpbmQ6ZX0pfSksKGZ1bmN0aW9uKCl7dmFyIHQ9dSh0aGlzKSxlPXQudGFyZ2V0LG49dC5raW5kLHI9dC5pbmRleCsrO3JldHVybiFlfHxyPj1lLmxlbmd0aD8odC50YXJnZXQ9dm9pZCAwLHt2YWx1ZTp2b2lkIDAsZG9uZTohMH0pOiJrZXlzIj09bj97dmFsdWU6cixkb25lOiExfToidmFsdWVzIj09bj97dmFsdWU6ZVtyXSxkb25lOiExfTp7dmFsdWU6W3IsZVtyXV0sZG9uZTohMX19KSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxvKCJrZXlzIiksbygidmFsdWVzIiksbygiZW50cmllcyIpfSw3MDQyOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyMTA5KSxvPW4oMTExKSxpPW4oMzE1Nykscz1uKDE0MDApLGE9big3NDY2KSxjPW4oNTY1NiksbD1uKDYxMzUpLHU9big1MTEyKSxwPW4oMTE5NCksaD1wKCJzbGljZSIpLGY9dSgic3BlY2llcyIpLGQ9W10uc2xpY2UsbT1NYXRoLm1heDtyKHt0YXJnZXQ6IkFycmF5Iixwcm90bzohMCxmb3JjZWQ6IWh9LHtzbGljZTpmdW5jdGlvbih0LGUpe3ZhciBuLHIsdSxwPWModGhpcyksaD1hKHAubGVuZ3RoKSx2PXModCxoKSxnPXModm9pZCAwPT09ZT9oOmUsaCk7aWYoaShwKSYmKG49cC5jb25zdHJ1Y3RvciwiZnVuY3Rpb24iIT10eXBlb2Ygbnx8biE9PUFycmF5JiYhaShuLnByb3RvdHlwZSk/byhuKSYmKG49bltmXSxudWxsPT09biYmKG49dm9pZCAwKSk6bj12b2lkIDAsbj09PUFycmF5fHx2b2lkIDA9PT1uKSlyZXR1cm4gZC5jYWxsKHAsdixnKTtmb3Iocj1uZXcodm9pZCAwPT09bj9BcnJheTpuKShtKGctdiwwKSksdT0wO3Y8Zzt2KyssdSsrKXYgaW4gcCYmbChyLHUscFt2XSk7cmV0dXJuIHIubGVuZ3RoPXUscn19KX0sODMwOTpmdW5jdGlvbih0LGUsbil7dmFyIHI9big5NzgxKSxvPW4oMzA3MCkuZixpPUZ1bmN0aW9uLnByb3RvdHlwZSxzPWkudG9TdHJpbmcsYT0vXlxzKmZ1bmN0aW9uIChbXiAoXSopLyxjPSJuYW1lIjtyJiYhKGMgaW4gaSkmJm8oaSxjLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBzLmNhbGwodGhpcykubWF0Y2goYSlbMV19Y2F0Y2godCl7cmV0dXJuIiJ9fX0pfSw5NzIwOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIxMDkpLG89big0Njk5KS5lbnRyaWVzO3Ioe3RhcmdldDoiT2JqZWN0IixzdGF0OiEwfSx7ZW50cmllczpmdW5jdGlvbih0KXtyZXR1cm4gbyh0KX19KX0sMTUzOTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNjk0KSxvPW4oMTMyMCksaT1uKDI4OCk7cnx8byhPYmplY3QucHJvdG90eXBlLCJ0b1N0cmluZyIsaSx7dW5zYWZlOiEwfSl9LDg3ODM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDg3MTApLmNoYXJBdCxvPW4oOTkwOSksaT1uKDY1NCkscz0iU3RyaW5nIEl0ZXJhdG9yIixhPW8uc2V0LGM9by5nZXR0ZXJGb3Iocyk7aShTdHJpbmcsIlN0cmluZyIsKGZ1bmN0aW9uKHQpe2EodGhpcyx7dHlwZTpzLHN0cmluZzpTdHJpbmcodCksaW5kZXg6MH0pfSksKGZ1bmN0aW9uKCl7dmFyIHQsZT1jKHRoaXMpLG49ZS5zdHJpbmcsbz1lLmluZGV4O3JldHVybiBvPj1uLmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9Oih0PXIobixvKSxlLmluZGV4Kz10Lmxlbmd0aCx7dmFsdWU6dCxkb25lOiExfSl9KSl9LDE4MTc6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDIxMDkpLG89big5NzgxKSxpPW4oNzg1NCkscz1uKDY2NTYpLGE9bigxMTEpLGM9bigzMDcwKS5mLGw9big5OTIwKSx1PWkuU3ltYm9sO2lmKG8mJiJmdW5jdGlvbiI9PXR5cGVvZiB1JiYoISgiZGVzY3JpcHRpb24iaW4gdS5wcm90b3R5cGUpfHx2b2lkIDAhPT11KCkuZGVzY3JpcHRpb24pKXt2YXIgcD17fSxoPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aDwxfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/dm9pZCAwOlN0cmluZyhhcmd1bWVudHNbMF0pLGU9dGhpcyBpbnN0YW5jZW9mIGg/bmV3IHUodCk6dm9pZCAwPT09dD91KCk6dSh0KTtyZXR1cm4iIj09PXQmJihwW2VdPSEwKSxlfTtsKGgsdSk7dmFyIGY9aC5wcm90b3R5cGU9dS5wcm90b3R5cGU7Zi5jb25zdHJ1Y3Rvcj1oO3ZhciBkPWYudG9TdHJpbmcsbT0iU3ltYm9sKHRlc3QpIj09U3RyaW5nKHUoInRlc3QiKSksdj0vXlN5bWJvbFwoKC4qKVwpW14pXSskLztjKGYsImRlc2NyaXB0aW9uIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3ZhciB0PWEodGhpcyk/dGhpcy52YWx1ZU9mKCk6dGhpcyxlPWQuY2FsbCh0KTtpZihzKHAsdCkpcmV0dXJuIiI7dmFyIG49bT9lLnNsaWNlKDcsLTEpOmUucmVwbGFjZSh2LCIkMSIpO3JldHVybiIiPT09bj92b2lkIDA6bn19KSxyKHtnbG9iYWw6ITAsZm9yY2VkOiEwfSx7U3ltYm9sOmh9KX19LDIxNjU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNzIzNSk7cigiaXRlcmF0b3IiKX0sMjUyNjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjEwOSksbz1uKDc4NTQpLGk9big1MDA1KSxzPW4oMTkxMyksYT1uKDk3ODEpLGM9bigxMzMpLGw9bigzMzA3KSx1PW4oNzI5MykscD1uKDY2NTYpLGg9bigzMTU3KSxmPW4oMTExKSxkPW4oOTY3MCksbT1uKDc5MDgpLHY9big1NjU2KSxnPW4oNzU5MykseT1uKDkxMTQpLHc9bigzMCksYj1uKDE5NTYpLHg9big4MDA2KSxrPW4oMTE1NiksUz1uKDUxODEpLEM9bigxMjM2KSxNPW4oMzA3MCksTz1uKDUyOTYpLEE9big4ODgwKSxOPW4oMTMyMCksRT1uKDIzMDkpLFQ9big2MjAwKSxEPW4oMzUwMSksXz1uKDk3MTEpLFI9big1MTEyKSx6PW4oNjA2MSksST1uKDcyMzUpLFA9big4MDAzKSwkPW4oOTkwOSksQj1uKDIwOTIpLmZvckVhY2gsVj1UKCJoaWRkZW4iKSxqPSJTeW1ib2wiLEw9InByb3RvdHlwZSIsRj1SKCJ0b1ByaW1pdGl2ZSIpLEg9JC5zZXQsSj0kLmdldHRlckZvcihqKSxXPU9iamVjdFtMXSxxPW8uU3ltYm9sLEs9aSgiSlNPTiIsInN0cmluZ2lmeSIpLFU9Qy5mLEc9TS5mLFg9ay5mLFk9Ty5mLFo9RSgic3ltYm9scyIpLFE9RSgib3Atc3ltYm9scyIpLHR0PUUoInN0cmluZy10by1zeW1ib2wtcmVnaXN0cnkiKSxldD1FKCJzeW1ib2wtdG8tc3RyaW5nLXJlZ2lzdHJ5IiksbnQ9RSgid2tzIikscnQ9by5RT2JqZWN0LG90PSFydHx8IXJ0W0xdfHwhcnRbTF0uZmluZENoaWxkLGl0PWEmJnUoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPXcoRyh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiBHKHRoaXMsImEiLHt2YWx1ZTo3fSkuYX19KSkuYX0pKT9mdW5jdGlvbih0LGUsbil7dmFyIHI9VShXLGUpO3ImJmRlbGV0ZSBXW2VdLEcodCxlLG4pLHImJnQhPT1XJiZHKFcsZSxyKX06RyxzdD1mdW5jdGlvbih0LGUpe3ZhciBuPVpbdF09dyhxW0xdKTtyZXR1cm4gSChuLHt0eXBlOmosdGFnOnQsZGVzY3JpcHRpb246ZX0pLGF8fChuLmRlc2NyaXB0aW9uPWUpLG59LGF0PWw/ZnVuY3Rpb24odCl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KHQpaW5zdGFuY2VvZiBxfSxjdD1mdW5jdGlvbih0LGUsbil7dD09PVcmJmN0KFEsZSxuKSxkKHQpO3ZhciByPWcoZSwhMCk7cmV0dXJuIGQobikscChaLHIpPyhuLmVudW1lcmFibGU/KHAodCxWKSYmdFtWXVtyXSYmKHRbVl1bcl09ITEpLG49dyhuLHtlbnVtZXJhYmxlOnkoMCwhMSl9KSk6KHAodCxWKXx8Ryh0LFYseSgxLHt9KSksdFtWXVtyXT0hMCksaXQodCxyLG4pKTpHKHQscixuKX0sbHQ9ZnVuY3Rpb24odCxlKXtkKHQpO3ZhciBuPXYoZSkscj1iKG4pLmNvbmNhdChkdChuKSk7cmV0dXJuIEIociwoZnVuY3Rpb24oZSl7YSYmIXB0LmNhbGwobixlKXx8Y3QodCxlLG5bZV0pfSkpLHR9LHV0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWU/dyh0KTpsdCh3KHQpLGUpfSxwdD1mdW5jdGlvbih0KXt2YXIgZT1nKHQsITApLG49WS5jYWxsKHRoaXMsZSk7cmV0dXJuISh0aGlzPT09VyYmcChaLGUpJiYhcChRLGUpKSYmKCEobnx8IXAodGhpcyxlKXx8IXAoWixlKXx8cCh0aGlzLFYpJiZ0aGlzW1ZdW2VdKXx8bil9LGh0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dih0KSxyPWcoZSwhMCk7aWYobiE9PVd8fCFwKFoscil8fHAoUSxyKSl7dmFyIG89VShuLHIpO3JldHVybiFvfHwhcChaLHIpfHxwKG4sVikmJm5bVl1bcl18fChvLmVudW1lcmFibGU9ITApLG99fSxmdD1mdW5jdGlvbih0KXt2YXIgZT1YKHYodCkpLG49W107cmV0dXJuIEIoZSwoZnVuY3Rpb24odCl7cChaLHQpfHxwKEQsdCl8fG4ucHVzaCh0KX0pKSxufSxkdD1mdW5jdGlvbih0KXt2YXIgZT10PT09VyxuPVgoZT9ROnYodCkpLHI9W107cmV0dXJuIEIobiwoZnVuY3Rpb24odCl7IXAoWix0KXx8ZSYmIXAoVyx0KXx8ci5wdXNoKFpbdF0pfSkpLHJ9O2lmKGN8fChxPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIHEpdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IiKTt2YXIgdD1hcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/U3RyaW5nKGFyZ3VtZW50c1swXSk6dm9pZCAwLGU9Xyh0KSxuPWZ1bmN0aW9uKHQpe3RoaXM9PT1XJiZuLmNhbGwoUSx0KSxwKHRoaXMsVikmJnAodGhpc1tWXSxlKSYmKHRoaXNbVl1bZV09ITEpLGl0KHRoaXMsZSx5KDEsdCkpfTtyZXR1cm4gYSYmb3QmJml0KFcsZSx7Y29uZmlndXJhYmxlOiEwLHNldDpufSksc3QoZSx0KX0sTihxW0xdLCJ0b1N0cmluZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEoodGhpcykudGFnfSkpLE4ocSwid2l0aG91dFNldHRlciIsKGZ1bmN0aW9uKHQpe3JldHVybiBzdChfKHQpLHQpfSkpLE8uZj1wdCxNLmY9Y3QsQy5mPWh0LHguZj1rLmY9ZnQsUy5mPWR0LHouZj1mdW5jdGlvbih0KXtyZXR1cm4gc3QoUih0KSx0KX0sYSYmKEcocVtMXSwiZGVzY3JpcHRpb24iLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEoodGhpcykuZGVzY3JpcHRpb259fSksc3x8TihXLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIscHQse3Vuc2FmZTohMH0pKSkscih7Z2xvYmFsOiEwLHdyYXA6ITAsZm9yY2VkOiFjLHNoYW06IWN9LHtTeW1ib2w6cX0pLEIoYihudCksKGZ1bmN0aW9uKHQpe0kodCl9KSkscih7dGFyZ2V0Omosc3RhdDohMCxmb3JjZWQ6IWN9LHtmb3I6ZnVuY3Rpb24odCl7dmFyIGU9U3RyaW5nKHQpO2lmKHAodHQsZSkpcmV0dXJuIHR0W2VdO3ZhciBuPXEoZSk7cmV0dXJuIHR0W2VdPW4sZXRbbl09ZSxufSxrZXlGb3I6ZnVuY3Rpb24odCl7aWYoIWF0KHQpKXRocm93IFR5cGVFcnJvcih0KyIgaXMgbm90IGEgc3ltYm9sIik7aWYocChldCx0KSlyZXR1cm4gZXRbdF19LHVzZVNldHRlcjpmdW5jdGlvbigpe290PSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtvdD0hMX19KSxyKHt0YXJnZXQ6Ik9iamVjdCIsc3RhdDohMCxmb3JjZWQ6IWMsc2hhbTohYX0se2NyZWF0ZTp1dCxkZWZpbmVQcm9wZXJ0eTpjdCxkZWZpbmVQcm9wZXJ0aWVzOmx0LGdldE93blByb3BlcnR5RGVzY3JpcHRvcjpodH0pLHIoe3RhcmdldDoiT2JqZWN0IixzdGF0OiEwLGZvcmNlZDohY30se2dldE93blByb3BlcnR5TmFtZXM6ZnQsZ2V0T3duUHJvcGVydHlTeW1ib2xzOmR0fSkscih7dGFyZ2V0OiJPYmplY3QiLHN0YXQ6ITAsZm9yY2VkOnUoKGZ1bmN0aW9uKCl7Uy5mKDEpfSkpfSx7Z2V0T3duUHJvcGVydHlTeW1ib2xzOmZ1bmN0aW9uKHQpe3JldHVybiBTLmYobSh0KSl9fSksSyl7dmFyIG10PSFjfHx1KChmdW5jdGlvbigpe3ZhciB0PXEoKTtyZXR1cm4iW251bGxdIiE9SyhbdF0pfHwie30iIT1LKHthOnR9KXx8Int9IiE9SyhPYmplY3QodCkpfSkpO3Ioe3RhcmdldDoiSlNPTiIsc3RhdDohMCxmb3JjZWQ6bXR9LHtzdHJpbmdpZnk6ZnVuY3Rpb24odCxlLG4pe3ZhciByLG89W3RdLGk9MTt3aGlsZShhcmd1bWVudHMubGVuZ3RoPmkpby5wdXNoKGFyZ3VtZW50c1tpKytdKTtpZihyPWUsKGYoZSl8fHZvaWQgMCE9PXQpJiYhYXQodCkpcmV0dXJuIGgoZSl8fChlPWZ1bmN0aW9uKHQsZSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHImJihlPXIuY2FsbCh0aGlzLHQsZSkpLCFhdChlKSlyZXR1cm4gZX0pLG9bMV09ZSxLLmFwcGx5KG51bGwsbyl9fSl9cVtMXVtGXXx8QShxW0xdLEYscVtMXS52YWx1ZU9mKSxQKHEsaiksRFtWXT0hMH0sMzk0ODpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3ODU0KSxvPW4oODMyNCksaT1uKDY5OTIpLHM9big4ODgwKSxhPW4oNTExMiksYz1hKCJpdGVyYXRvciIpLGw9YSgidG9TdHJpbmdUYWciKSx1PWkudmFsdWVzO2Zvcih2YXIgcCBpbiBvKXt2YXIgaD1yW3BdLGY9aCYmaC5wcm90b3R5cGU7aWYoZil7aWYoZltjXSE9PXUpdHJ5e3MoZixjLHUpfWNhdGNoKG0pe2ZbY109dX1pZihmW2xdfHxzKGYsbCxwKSxvW3BdKWZvcih2YXIgZCBpbiBpKWlmKGZbZF0hPT1pW2RdKXRyeXtzKGYsZCxpW2RdKX1jYXRjaChtKXtmW2RdPWlbZF19fX19LDExMDI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDYyOTEpLG89aShFcnJvcik7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gZS5kaXNwbGF5TmFtZT10LmRpc3BsYXlOYW1lfHx0Lm5hbWUsZTtmdW5jdGlvbiBlKGUpe3JldHVybiBlJiYoZT1yLmFwcGx5KG51bGwsYXJndW1lbnRzKSksbmV3IHQoZSl9fXQuZXhwb3J0cz1vLG8uZXZhbD1pKEV2YWxFcnJvciksby5yYW5nZT1pKFJhbmdlRXJyb3IpLG8ucmVmZXJlbmNlPWkoUmVmZXJlbmNlRXJyb3IpLG8uc3ludGF4PWkoU3ludGF4RXJyb3IpLG8udHlwZT1pKFR5cGVFcnJvciksby51cmk9aShVUklFcnJvciksby5jcmVhdGU9aX0sNjI5MTpmdW5jdGlvbih0KXsoZnVuY3Rpb24oKXt2YXIgZTtmdW5jdGlvbiBuKCl7Y29uc29sZS5sb2coby5hcHBseShudWxsLGFyZ3VtZW50cykpfWZ1bmN0aW9uIHIodCxlKXtyZXR1cm4gby5hcHBseShudWxsLFt0XS5jb25jYXQoZSkpfWZ1bmN0aW9uIG8odCl7Zm9yKHZhciBlLG4scixvLGk9MSxzPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxhPTAsYz10Lmxlbmd0aCxsPSIiLHU9ITEscD0hMSxoPWZ1bmN0aW9uKCl7cmV0dXJuIHNbaSsrXX0sZj1mdW5jdGlvbigpe3ZhciBuPSIiO3doaWxlKC9cZC8udGVzdCh0W2FdKSluKz10W2ErK10sZT10W2FdO3JldHVybiBuLmxlbmd0aD4wP3BhcnNlSW50KG4pOm51bGx9O2E8YzsrK2EpaWYoZT10W2FdLHUpc3dpdGNoKHU9ITEsIi4iPT1lPyhwPSExLGU9dFsrK2FdKToiMCI9PWUmJiIuIj09dFthKzFdPyhwPSEwLGErPTIsZT10W2FdKTpwPSEwLG89ZigpLGUpe2Nhc2UiYiI6bCs9cGFyc2VJbnQoaCgpLDEwKS50b1N0cmluZygyKTticmVhaztjYXNlImMiOm49aCgpLGwrPSJzdHJpbmciPT09dHlwZW9mIG58fG4gaW5zdGFuY2VvZiBTdHJpbmc/bjpTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KG4sMTApKTticmVhaztjYXNlImQiOmwrPXBhcnNlSW50KGgoKSwxMCk7YnJlYWs7Y2FzZSJmIjpyPVN0cmluZyhwYXJzZUZsb2F0KGgoKSkudG9GaXhlZChvfHw2KSksbCs9cD9yOnIucmVwbGFjZSgvXjAvLCIiKTticmVhaztjYXNlImoiOmwrPUpTT04uc3RyaW5naWZ5KGgoKSk7YnJlYWs7Y2FzZSJvIjpsKz0iMCIrcGFyc2VJbnQoaCgpLDEwKS50b1N0cmluZyg4KTticmVhaztjYXNlInMiOmwrPWgoKTticmVhaztjYXNlIngiOmwrPSIweCIrcGFyc2VJbnQoaCgpLDEwKS50b1N0cmluZygxNik7YnJlYWs7Y2FzZSJYIjpsKz0iMHgiK3BhcnNlSW50KGgoKSwxMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7YnJlYWs7ZGVmYXVsdDpsKz1lO2JyZWFrfWVsc2UiJSI9PT1lP3U9ITA6bCs9ZTtyZXR1cm4gbH1lPXQuZXhwb3J0cz1vLGUuZm9ybWF0PW8sZS52c3ByaW50Zj1yLCJ1bmRlZmluZWQiIT09dHlwZW9mIGNvbnNvbGUmJiJmdW5jdGlvbiI9PT10eXBlb2YgY29uc29sZS5sb2cmJihlLnByaW50Zj1uKX0pKCl9LDc4MDI6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIE1hcD90LmNsZWFyPXQuZGVsZXRlPXQuc2V0PWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJtYXAgaXMgcmVhZC1vbmx5Iil9OnQgaW5zdGFuY2VvZiBTZXQmJih0LmFkZD10LmNsZWFyPXQuZGVsZXRlPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJzZXQgaXMgcmVhZC1vbmx5Iil9KSxPYmplY3QuZnJlZXplKHQpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciByPXRbbl07Im9iamVjdCIhPXR5cGVvZiByfHxPYmplY3QuaXNGcm96ZW4ocil8fGUocil9KSksdH12YXIgbj1lLHI9ZTtuLmRlZmF1bHQ9cjtjbGFzcyBve2NvbnN0cnVjdG9yKHQpe3ZvaWQgMD09PXQuZGF0YSYmKHQuZGF0YT17fSksdGhpcy5kYXRhPXQuZGF0YSx0aGlzLmlzTWF0Y2hJZ25vcmVkPSExfWlnbm9yZU1hdGNoKCl7dGhpcy5pc01hdGNoSWdub3JlZD0hMH19ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdC5yZXBsYWNlKC8mL2csIiZhbXA7IikucmVwbGFjZSgvPC9nLCImbHQ7IikucmVwbGFjZSgvPi9nLCImZ3Q7IikucmVwbGFjZSgvIi9nLCImcXVvdDsiKS5yZXBsYWNlKC8nL2csIiYjeDI3OyIpfWZ1bmN0aW9uIHModCwuLi5lKXtjb25zdCBuPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKGNvbnN0IHIgaW4gdCluW3JdPXRbcl07cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24odCl7Zm9yKGNvbnN0IGUgaW4gdCluW2VdPXRbZV19KSksbn1jb25zdCBhPSI8L3NwYW4+IixjPXQ9PiEhdC5raW5kO2NsYXNzIGx7Y29uc3RydWN0b3IodCxlKXt0aGlzLmJ1ZmZlcj0iIix0aGlzLmNsYXNzUHJlZml4PWUuY2xhc3NQcmVmaXgsdC53YWxrKHRoaXMpfWFkZFRleHQodCl7dGhpcy5idWZmZXIrPWkodCl9b3Blbk5vZGUodCl7aWYoIWModCkpcmV0dXJuO2xldCBlPXQua2luZDt0LnN1Ymxhbmd1YWdlfHwoZT1gJHt0aGlzLmNsYXNzUHJlZml4fSR7ZX1gKSx0aGlzLnNwYW4oZSl9Y2xvc2VOb2RlKHQpe2ModCkmJih0aGlzLmJ1ZmZlcis9YSl9dmFsdWUoKXtyZXR1cm4gdGhpcy5idWZmZXJ9c3Bhbih0KXt0aGlzLmJ1ZmZlcis9YDxzcGFuIGNsYXNzPSIke3R9Ij5gfX1jbGFzcyB1e2NvbnN0cnVjdG9yKCl7dGhpcy5yb290Tm9kZT17Y2hpbGRyZW46W119LHRoaXMuc3RhY2s9W3RoaXMucm9vdE5vZGVdfWdldCB0b3AoKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLnN0YWNrLmxlbmd0aC0xXX1nZXQgcm9vdCgpe3JldHVybiB0aGlzLnJvb3ROb2RlfWFkZCh0KXt0aGlzLnRvcC5jaGlsZHJlbi5wdXNoKHQpfW9wZW5Ob2RlKHQpe2NvbnN0IGU9e2tpbmQ6dCxjaGlsZHJlbjpbXX07dGhpcy5hZGQoZSksdGhpcy5zdGFjay5wdXNoKGUpfWNsb3NlTm9kZSgpe2lmKHRoaXMuc3RhY2subGVuZ3RoPjEpcmV0dXJuIHRoaXMuc3RhY2sucG9wKCl9Y2xvc2VBbGxOb2Rlcygpe3doaWxlKHRoaXMuY2xvc2VOb2RlKCkpO310b0pTT04oKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5yb290Tm9kZSxudWxsLDQpfXdhbGsodCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IuX3dhbGsodCx0aGlzLnJvb3ROb2RlKX1zdGF0aWMgX3dhbGsodCxlKXtyZXR1cm4ic3RyaW5nIj09PXR5cGVvZiBlP3QuYWRkVGV4dChlKTplLmNoaWxkcmVuJiYodC5vcGVuTm9kZShlKSxlLmNoaWxkcmVuLmZvckVhY2goKGU9PnRoaXMuX3dhbGsodCxlKSkpLHQuY2xvc2VOb2RlKGUpKSx0fXN0YXRpYyBfY29sbGFwc2UodCl7InN0cmluZyIhPT10eXBlb2YgdCYmdC5jaGlsZHJlbiYmKHQuY2hpbGRyZW4uZXZlcnkoKHQ9PiJzdHJpbmciPT09dHlwZW9mIHQpKT90LmNoaWxkcmVuPVt0LmNoaWxkcmVuLmpvaW4oIiIpXTp0LmNoaWxkcmVuLmZvckVhY2goKHQ9Pnt1Ll9jb2xsYXBzZSh0KX0pKSl9fWNsYXNzIHAgZXh0ZW5kcyB1e2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5vcHRpb25zPXR9YWRkS2V5d29yZCh0LGUpeyIiIT09dCYmKHRoaXMub3Blbk5vZGUoZSksdGhpcy5hZGRUZXh0KHQpLHRoaXMuY2xvc2VOb2RlKCkpfWFkZFRleHQodCl7IiIhPT10JiZ0aGlzLmFkZCh0KX1hZGRTdWJsYW5ndWFnZSh0LGUpe2NvbnN0IG49dC5yb290O24ua2luZD1lLG4uc3VibGFuZ3VhZ2U9ITAsdGhpcy5hZGQobil9dG9IVE1MKCl7Y29uc3QgdD1uZXcgbCh0aGlzLHRoaXMub3B0aW9ucyk7cmV0dXJuIHQudmFsdWUoKX1maW5hbGl6ZSgpe3JldHVybiEwfX1mdW5jdGlvbiBoKHQpe3JldHVybiBuZXcgUmVnRXhwKHQucmVwbGFjZSgvWy0vXFxeJCorPy4oKXxbXF17fV0vZywiXFwkJiIpLCJtIil9ZnVuY3Rpb24gZih0KXtyZXR1cm4gdD8ic3RyaW5nIj09PXR5cGVvZiB0P3Q6dC5zb3VyY2U6bnVsbH1mdW5jdGlvbiBkKC4uLnQpe2NvbnN0IGU9dC5tYXAoKHQ9PmYodCkpKS5qb2luKCIiKTtyZXR1cm4gZX1mdW5jdGlvbiBtKC4uLnQpe2NvbnN0IGU9IigiK3QubWFwKCh0PT5mKHQpKSkuam9pbigifCIpKyIpIjtyZXR1cm4gZX1mdW5jdGlvbiB2KHQpe3JldHVybiBuZXcgUmVnRXhwKHQudG9TdHJpbmcoKSsifCIpLmV4ZWMoIiIpLmxlbmd0aC0xfWZ1bmN0aW9uIGcodCxlKXtjb25zdCBuPXQmJnQuZXhlYyhlKTtyZXR1cm4gbiYmMD09PW4uaW5kZXh9Y29uc3QgeT0vXFsoPzpbXlxcXF1dfFxcLikqXF18XChcPz98XFwoWzEtOV1bMC05XSopfFxcLi87ZnVuY3Rpb24gdyh0LGU9InwiKXtsZXQgbj0wO3JldHVybiB0Lm1hcCgodD0+e24rPTE7Y29uc3QgZT1uO2xldCByPWYodCksbz0iIjt3aGlsZShyLmxlbmd0aD4wKXtjb25zdCB0PXkuZXhlYyhyKTtpZighdCl7bys9cjticmVha31vKz1yLnN1YnN0cmluZygwLHQuaW5kZXgpLHI9ci5zdWJzdHJpbmcodC5pbmRleCt0WzBdLmxlbmd0aCksIlxcIj09PXRbMF1bMF0mJnRbMV0/bys9IlxcIitTdHJpbmcoTnVtYmVyKHRbMV0pK2UpOihvKz10WzBdLCIoIj09PXRbMF0mJm4rKyl9cmV0dXJuIG99KSkubWFwKCh0PT5gKCR7dH0pYCkpLmpvaW4oZSl9Y29uc3QgYj0vXGJcQi8seD0iW2EtekEtWl1cXHcqIixrPSJbYS16QS1aX11cXHcqIixTPSJcXGJcXGQrKFxcLlxcZCspPyIsQz0iKC0/KShcXGIwW3hYXVthLWZBLUYwLTldK3woXFxiXFxkKyhcXC5cXGQqKT98XFwuXFxkKykoW2VFXVstK10/XFxkKyk/KSIsTT0iXFxiKDBiWzAxXSspIixPPSIhfCE9fCE9PXwlfCU9fCZ8JiZ8Jj18XFwqfFxcKj18XFwrfFxcKz18LHwtfC09fC89fC98Onw7fDw8fDw8PXw8PXw8fD09PXw9PXw9fD4+Pj18Pj49fD49fD4+Pnw+Pnw+fFxcP3xcXFt8XFx7fFxcKHxcXF58XFxePXxcXHx8XFx8PXxcXHxcXHx8fiIsQT0odD17fSk9Pntjb25zdCBlPS9eIyFbIF0qXC8vO3JldHVybiB0LmJpbmFyeSYmKHQuYmVnaW49ZChlLC8uKlxiLyx0LmJpbmFyeSwvXGIuKi8pKSxzKHtjbGFzc05hbWU6Im1ldGEiLGJlZ2luOmUsZW5kOi8kLyxyZWxldmFuY2U6MCwib246YmVnaW4iOih0LGUpPT57MCE9PXQuaW5kZXgmJmUuaWdub3JlTWF0Y2goKX19LHQpfSxOPXtiZWdpbjoiXFxcXFtcXHNcXFNdIixyZWxldmFuY2U6MH0sRT17Y2xhc3NOYW1lOiJzdHJpbmciLGJlZ2luOiInIixlbmQ6IiciLGlsbGVnYWw6IlxcbiIsY29udGFpbnM6W05dfSxUPXtjbGFzc05hbWU6InN0cmluZyIsYmVnaW46JyInLGVuZDonIicsaWxsZWdhbDoiXFxuIixjb250YWluczpbTl19LEQ9e2JlZ2luOi9cYihhfGFufHRoZXxhcmV8SSdtfGlzbid0fGRvbid0fGRvZXNuJ3R8d29uJ3R8YnV0fGp1c3R8c2hvdWxkfHByZXR0eXxzaW1wbHl8ZW5vdWdofGdvbm5hfGdvaW5nfHd0Znxzb3xzdWNofHdpbGx8eW91fHlvdXJ8dGhleXxsaWtlfG1vcmUpXGIvfSxfPWZ1bmN0aW9uKHQsZSxuPXt9KXtjb25zdCByPXMoe2NsYXNzTmFtZToiY29tbWVudCIsYmVnaW46dCxlbmQ6ZSxjb250YWluczpbXX0sbik7cmV0dXJuIHIuY29udGFpbnMucHVzaChEKSxyLmNvbnRhaW5zLnB1c2goe2NsYXNzTmFtZToiZG9jdGFnIixiZWdpbjoiKD86VE9ET3xGSVhNRXxOT1RFfEJVR3xPUFRJTUlaRXxIQUNLfFhYWCk6IixyZWxldmFuY2U6MH0pLHJ9LFI9XygiLy8iLCIkIiksej1fKCIvXFwqIiwiXFwqLyIpLEk9XygiIyIsIiQiKSxQPXtjbGFzc05hbWU6Im51bWJlciIsYmVnaW46UyxyZWxldmFuY2U6MH0sJD17Y2xhc3NOYW1lOiJudW1iZXIiLGJlZ2luOkMscmVsZXZhbmNlOjB9LEI9e2NsYXNzTmFtZToibnVtYmVyIixiZWdpbjpNLHJlbGV2YW5jZTowfSxWPXtjbGFzc05hbWU6Im51bWJlciIsYmVnaW46UysiKCV8ZW18ZXh8Y2h8cmVtfHZ3fHZofHZtaW58dm1heHxjbXxtbXxpbnxwdHxwY3xweHxkZWd8Z3JhZHxyYWR8dHVybnxzfG1zfEh6fGtIenxkcGl8ZHBjbXxkcHB4KT8iLHJlbGV2YW5jZTowfSxqPXtiZWdpbjovKD89XC9bXi9cbl0qXC8pLyxjb250YWluczpbe2NsYXNzTmFtZToicmVnZXhwIixiZWdpbjovXC8vLGVuZDovXC9bZ2ltdXldKi8saWxsZWdhbDovXG4vLGNvbnRhaW5zOltOLHtiZWdpbjovXFsvLGVuZDovXF0vLHJlbGV2YW5jZTowLGNvbnRhaW5zOltOXX1dfV19LEw9e2NsYXNzTmFtZToidGl0bGUiLGJlZ2luOngscmVsZXZhbmNlOjB9LEY9e2NsYXNzTmFtZToidGl0bGUiLGJlZ2luOmsscmVsZXZhbmNlOjB9LEg9e2JlZ2luOiJcXC5cXHMqIitrLHJlbGV2YW5jZTowfSxKPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuYXNzaWduKHQseyJvbjpiZWdpbiI6KHQsZSk9PntlLmRhdGEuX2JlZ2luTWF0Y2g9dFsxXX0sIm9uOmVuZCI6KHQsZSk9PntlLmRhdGEuX2JlZ2luTWF0Y2ghPT10WzFdJiZlLmlnbm9yZU1hdGNoKCl9fSl9O3ZhciBXPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLE1BVENIX05PVEhJTkdfUkU6YixJREVOVF9SRTp4LFVOREVSU0NPUkVfSURFTlRfUkU6ayxOVU1CRVJfUkU6UyxDX05VTUJFUl9SRTpDLEJJTkFSWV9OVU1CRVJfUkU6TSxSRV9TVEFSVEVSU19SRTpPLFNIRUJBTkc6QSxCQUNLU0xBU0hfRVNDQVBFOk4sQVBPU19TVFJJTkdfTU9ERTpFLFFVT1RFX1NUUklOR19NT0RFOlQsUEhSQVNBTF9XT1JEU19NT0RFOkQsQ09NTUVOVDpfLENfTElORV9DT01NRU5UX01PREU6UixDX0JMT0NLX0NPTU1FTlRfTU9ERTp6LEhBU0hfQ09NTUVOVF9NT0RFOkksTlVNQkVSX01PREU6UCxDX05VTUJFUl9NT0RFOiQsQklOQVJZX05VTUJFUl9NT0RFOkIsQ1NTX05VTUJFUl9NT0RFOlYsUkVHRVhQX01PREU6aixUSVRMRV9NT0RFOkwsVU5ERVJTQ09SRV9USVRMRV9NT0RFOkYsTUVUSE9EX0dVQVJEOkgsRU5EX1NBTUVfQVNfQkVHSU46Sn0pO2Z1bmN0aW9uIHEodCxlKXtjb25zdCBuPXQuaW5wdXRbdC5pbmRleC0xXTsiLiI9PT1uJiZlLmlnbm9yZU1hdGNoKCl9ZnVuY3Rpb24gSyh0LGUpe2UmJnQuYmVnaW5LZXl3b3JkcyYmKHQuYmVnaW49IlxcYigiK3QuYmVnaW5LZXl3b3Jkcy5zcGxpdCgiICIpLmpvaW4oInwiKSsiKSg/IVxcLikoPz1cXGJ8XFxzKSIsdC5fX2JlZm9yZUJlZ2luPXEsdC5rZXl3b3Jkcz10LmtleXdvcmRzfHx0LmJlZ2luS2V5d29yZHMsZGVsZXRlIHQuYmVnaW5LZXl3b3Jkcyx2b2lkIDA9PT10LnJlbGV2YW5jZSYmKHQucmVsZXZhbmNlPTApKX1mdW5jdGlvbiBVKHQsZSl7QXJyYXkuaXNBcnJheSh0LmlsbGVnYWwpJiYodC5pbGxlZ2FsPW0oLi4udC5pbGxlZ2FsKSl9ZnVuY3Rpb24gRyh0LGUpe2lmKHQubWF0Y2gpe2lmKHQuYmVnaW58fHQuZW5kKXRocm93IG5ldyBFcnJvcigiYmVnaW4gJiBlbmQgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBtYXRjaCIpO3QuYmVnaW49dC5tYXRjaCxkZWxldGUgdC5tYXRjaH19ZnVuY3Rpb24gWCh0LGUpe3ZvaWQgMD09PXQucmVsZXZhbmNlJiYodC5yZWxldmFuY2U9MSl9Y29uc3QgWT1bIm9mIiwiYW5kIiwiZm9yIiwiaW4iLCJub3QiLCJvciIsImlmIiwidGhlbiIsInBhcmVudCIsImxpc3QiLCJ2YWx1ZSJdLFo9ImtleXdvcmQiO2Z1bmN0aW9uIFEodCxlLG49Wil7Y29uc3Qgcj17fTtyZXR1cm4ic3RyaW5nIj09PXR5cGVvZiB0P28obix0LnNwbGl0KCIgIikpOkFycmF5LmlzQXJyYXkodCk/byhuLHQpOk9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe09iamVjdC5hc3NpZ24ocixRKHRbbl0sZSxuKSl9KSkscjtmdW5jdGlvbiBvKHQsbil7ZSYmKG49bi5tYXAoKHQ9PnQudG9Mb3dlckNhc2UoKSkpKSxuLmZvckVhY2goKGZ1bmN0aW9uKGUpe2NvbnN0IG49ZS5zcGxpdCgifCIpO3JbblswXV09W3QsdHQoblswXSxuWzFdKV19KSl9fWZ1bmN0aW9uIHR0KHQsZSl7cmV0dXJuIGU/TnVtYmVyKGUpOmV0KHQpPzA6MX1mdW5jdGlvbiBldCh0KXtyZXR1cm4gWS5pbmNsdWRlcyh0LnRvTG93ZXJDYXNlKCkpfWZ1bmN0aW9uIG50KHQse3BsdWdpbnM6ZX0pe2Z1bmN0aW9uIG4oZSxuKXtyZXR1cm4gbmV3IFJlZ0V4cChmKGUpLCJtIisodC5jYXNlX2luc2Vuc2l0aXZlPyJpIjoiIikrKG4/ImciOiIiKSl9Y2xhc3Mgcntjb25zdHJ1Y3Rvcigpe3RoaXMubWF0Y2hJbmRleGVzPXt9LHRoaXMucmVnZXhlcz1bXSx0aGlzLm1hdGNoQXQ9MSx0aGlzLnBvc2l0aW9uPTB9YWRkUnVsZSh0LGUpe2UucG9zaXRpb249dGhpcy5wb3NpdGlvbisrLHRoaXMubWF0Y2hJbmRleGVzW3RoaXMubWF0Y2hBdF09ZSx0aGlzLnJlZ2V4ZXMucHVzaChbZSx0XSksdGhpcy5tYXRjaEF0Kz12KHQpKzF9Y29tcGlsZSgpezA9PT10aGlzLnJlZ2V4ZXMubGVuZ3RoJiYodGhpcy5leGVjPSgpPT5udWxsKTtjb25zdCB0PXRoaXMucmVnZXhlcy5tYXAoKHQ9PnRbMV0pKTt0aGlzLm1hdGNoZXJSZT1uKHcodCksITApLHRoaXMubGFzdEluZGV4PTB9ZXhlYyh0KXt0aGlzLm1hdGNoZXJSZS5sYXN0SW5kZXg9dGhpcy5sYXN0SW5kZXg7Y29uc3QgZT10aGlzLm1hdGNoZXJSZS5leGVjKHQpO2lmKCFlKXJldHVybiBudWxsO2NvbnN0IG49ZS5maW5kSW5kZXgoKCh0LGUpPT5lPjAmJnZvaWQgMCE9PXQpKSxyPXRoaXMubWF0Y2hJbmRleGVzW25dO3JldHVybiBlLnNwbGljZSgwLG4pLE9iamVjdC5hc3NpZ24oZSxyKX19Y2xhc3Mgb3tjb25zdHJ1Y3Rvcigpe3RoaXMucnVsZXM9W10sdGhpcy5tdWx0aVJlZ2V4ZXM9W10sdGhpcy5jb3VudD0wLHRoaXMubGFzdEluZGV4PTAsdGhpcy5yZWdleEluZGV4PTB9Z2V0TWF0Y2hlcih0KXtpZih0aGlzLm11bHRpUmVnZXhlc1t0XSlyZXR1cm4gdGhpcy5tdWx0aVJlZ2V4ZXNbdF07Y29uc3QgZT1uZXcgcjtyZXR1cm4gdGhpcy5ydWxlcy5zbGljZSh0KS5mb3JFYWNoKCgoW3Qsbl0pPT5lLmFkZFJ1bGUodCxuKSkpLGUuY29tcGlsZSgpLHRoaXMubXVsdGlSZWdleGVzW3RdPWUsZX1yZXN1bWluZ1NjYW5BdFNhbWVQb3NpdGlvbigpe3JldHVybiAwIT09dGhpcy5yZWdleEluZGV4fWNvbnNpZGVyQWxsKCl7dGhpcy5yZWdleEluZGV4PTB9YWRkUnVsZSh0LGUpe3RoaXMucnVsZXMucHVzaChbdCxlXSksImJlZ2luIj09PWUudHlwZSYmdGhpcy5jb3VudCsrfWV4ZWModCl7Y29uc3QgZT10aGlzLmdldE1hdGNoZXIodGhpcy5yZWdleEluZGV4KTtlLmxhc3RJbmRleD10aGlzLmxhc3RJbmRleDtsZXQgbj1lLmV4ZWModCk7aWYodGhpcy5yZXN1bWluZ1NjYW5BdFNhbWVQb3NpdGlvbigpKWlmKG4mJm4uaW5kZXg9PT10aGlzLmxhc3RJbmRleCk7ZWxzZXtjb25zdCBlPXRoaXMuZ2V0TWF0Y2hlcigwKTtlLmxhc3RJbmRleD10aGlzLmxhc3RJbmRleCsxLG49ZS5leGVjKHQpfXJldHVybiBuJiYodGhpcy5yZWdleEluZGV4Kz1uLnBvc2l0aW9uKzEsdGhpcy5yZWdleEluZGV4PT09dGhpcy5jb3VudCYmdGhpcy5jb25zaWRlckFsbCgpKSxufX1mdW5jdGlvbiBpKHQpe2NvbnN0IGU9bmV3IG87cmV0dXJuIHQuY29udGFpbnMuZm9yRWFjaCgodD0+ZS5hZGRSdWxlKHQuYmVnaW4se3J1bGU6dCx0eXBlOiJiZWdpbiJ9KSkpLHQudGVybWluYXRvckVuZCYmZS5hZGRSdWxlKHQudGVybWluYXRvckVuZCx7dHlwZToiZW5kIn0pLHQuaWxsZWdhbCYmZS5hZGRSdWxlKHQuaWxsZWdhbCx7dHlwZToiaWxsZWdhbCJ9KSxlfWZ1bmN0aW9uIGEoZSxyKXtjb25zdCBvPWU7aWYoZS5pc0NvbXBpbGVkKXJldHVybiBvO1tHXS5mb3JFYWNoKCh0PT50KGUscikpKSx0LmNvbXBpbGVyRXh0ZW5zaW9ucy5mb3JFYWNoKCh0PT50KGUscikpKSxlLl9fYmVmb3JlQmVnaW49bnVsbCxbSyxVLFhdLmZvckVhY2goKHQ9PnQoZSxyKSkpLGUuaXNDb21waWxlZD0hMDtsZXQgcz1udWxsO2lmKCJvYmplY3QiPT09dHlwZW9mIGUua2V5d29yZHMmJihzPWUua2V5d29yZHMuJHBhdHRlcm4sZGVsZXRlIGUua2V5d29yZHMuJHBhdHRlcm4pLGUua2V5d29yZHMmJihlLmtleXdvcmRzPVEoZS5rZXl3b3Jkcyx0LmNhc2VfaW5zZW5zaXRpdmUpKSxlLmxleGVtZXMmJnMpdGhyb3cgbmV3IEVycm9yKCJFUlI6IFByZWZlciBga2V5d29yZHMuJHBhdHRlcm5gIHRvIGBtb2RlLmxleGVtZXNgLCBCT1RIIGFyZSBub3QgYWxsb3dlZC4gKHNlZSBtb2RlIHJlZmVyZW5jZSkgIik7cmV0dXJuIHM9c3x8ZS5sZXhlbWVzfHwvXHcrLyxvLmtleXdvcmRQYXR0ZXJuUmU9bihzLCEwKSxyJiYoZS5iZWdpbnx8KGUuYmVnaW49L1xCfFxiLyksby5iZWdpblJlPW4oZS5iZWdpbiksZS5lbmRTYW1lQXNCZWdpbiYmKGUuZW5kPWUuYmVnaW4pLGUuZW5kfHxlLmVuZHNXaXRoUGFyZW50fHwoZS5lbmQ9L1xCfFxiLyksZS5lbmQmJihvLmVuZFJlPW4oZS5lbmQpKSxvLnRlcm1pbmF0b3JFbmQ9ZihlLmVuZCl8fCIiLGUuZW5kc1dpdGhQYXJlbnQmJnIudGVybWluYXRvckVuZCYmKG8udGVybWluYXRvckVuZCs9KGUuZW5kPyJ8IjoiIikrci50ZXJtaW5hdG9yRW5kKSksZS5pbGxlZ2FsJiYoby5pbGxlZ2FsUmU9bihlLmlsbGVnYWwpKSxlLmNvbnRhaW5zfHwoZS5jb250YWlucz1bXSksZS5jb250YWlucz1bXS5jb25jYXQoLi4uZS5jb250YWlucy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBvdCgic2VsZiI9PT10P2U6dCl9KSkpLGUuY29udGFpbnMuZm9yRWFjaCgoZnVuY3Rpb24odCl7YSh0LG8pfSkpLGUuc3RhcnRzJiZhKGUuc3RhcnRzLHIpLG8ubWF0Y2hlcj1pKG8pLG99aWYodC5jb21waWxlckV4dGVuc2lvbnN8fCh0LmNvbXBpbGVyRXh0ZW5zaW9ucz1bXSksdC5jb250YWlucyYmdC5jb250YWlucy5pbmNsdWRlcygic2VsZiIpKXRocm93IG5ldyBFcnJvcigiRVJSOiBjb250YWlucyBgc2VsZmAgaXMgbm90IHN1cHBvcnRlZCBhdCB0aGUgdG9wLWxldmVsIG9mIGEgbGFuZ3VhZ2UuICBTZWUgZG9jdW1lbnRhdGlvbi4iKTtyZXR1cm4gdC5jbGFzc05hbWVBbGlhc2VzPXModC5jbGFzc05hbWVBbGlhc2VzfHx7fSksYSh0KX1mdW5jdGlvbiBydCh0KXtyZXR1cm4hIXQmJih0LmVuZHNXaXRoUGFyZW50fHxydCh0LnN0YXJ0cykpfWZ1bmN0aW9uIG90KHQpe3JldHVybiB0LnZhcmlhbnRzJiYhdC5jYWNoZWRWYXJpYW50cyYmKHQuY2FjaGVkVmFyaWFudHM9dC52YXJpYW50cy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBzKHQse3ZhcmlhbnRzOm51bGx9LGUpfSkpKSx0LmNhY2hlZFZhcmlhbnRzP3QuY2FjaGVkVmFyaWFudHM6cnQodCk/cyh0LHtzdGFydHM6dC5zdGFydHM/cyh0LnN0YXJ0cyk6bnVsbH0pOk9iamVjdC5pc0Zyb3plbih0KT9zKHQpOnR9dmFyIGl0PSIxMC43LjMiO2Z1bmN0aW9uIHN0KHQpe3JldHVybiBCb29sZWFuKHR8fCIiPT09dCl9ZnVuY3Rpb24gYXQodCl7Y29uc3QgZT17cHJvcHM6WyJsYW5ndWFnZSIsImNvZGUiLCJhdXRvZGV0ZWN0Il0sZGF0YTpmdW5jdGlvbigpe3JldHVybntkZXRlY3RlZExhbmd1YWdlOiIiLHVua25vd25MYW5ndWFnZTohMX19LGNvbXB1dGVkOntjbGFzc05hbWUoKXtyZXR1cm4gdGhpcy51bmtub3duTGFuZ3VhZ2U/IiI6ImhsanMgIit0aGlzLmRldGVjdGVkTGFuZ3VhZ2V9LGhpZ2hsaWdodGVkKCl7aWYoIXRoaXMuYXV0b0RldGVjdCYmIXQuZ2V0TGFuZ3VhZ2UodGhpcy5sYW5ndWFnZSkpcmV0dXJuIGNvbnNvbGUud2FybihgVGhlIGxhbmd1YWdlICIke3RoaXMubGFuZ3VhZ2V9IiB5b3Ugc3BlY2lmaWVkIGNvdWxkIG5vdCBiZSBmb3VuZC5gKSx0aGlzLnVua25vd25MYW5ndWFnZT0hMCxpKHRoaXMuY29kZSk7bGV0IGU9e307cmV0dXJuIHRoaXMuYXV0b0RldGVjdD8oZT10LmhpZ2hsaWdodEF1dG8odGhpcy5jb2RlKSx0aGlzLmRldGVjdGVkTGFuZ3VhZ2U9ZS5sYW5ndWFnZSk6KGU9dC5oaWdobGlnaHQodGhpcy5sYW5ndWFnZSx0aGlzLmNvZGUsdGhpcy5pZ25vcmVJbGxlZ2FscyksdGhpcy5kZXRlY3RlZExhbmd1YWdlPXRoaXMubGFuZ3VhZ2UpLGUudmFsdWV9LGF1dG9EZXRlY3QoKXtyZXR1cm4hdGhpcy5sYW5ndWFnZXx8c3QodGhpcy5hdXRvZGV0ZWN0KX0saWdub3JlSWxsZWdhbHMoKXtyZXR1cm4hMH19LHJlbmRlcih0KXtyZXR1cm4gdCgicHJlIix7fSxbdCgiY29kZSIse2NsYXNzOnRoaXMuY2xhc3NOYW1lLGRvbVByb3BzOntpbm5lckhUTUw6dGhpcy5oaWdobGlnaHRlZH19KV0pfX0sbj17aW5zdGFsbCh0KXt0LmNvbXBvbmVudCgiaGlnaGxpZ2h0anMiLGUpfX07cmV0dXJue0NvbXBvbmVudDplLFZ1ZVBsdWdpbjpufX1jb25zdCBjdD17ImFmdGVyOmhpZ2hsaWdodEVsZW1lbnQiOih7ZWw6dCxyZXN1bHQ6ZSx0ZXh0Om59KT0+e2NvbnN0IHI9dXQodCk7aWYoIXIubGVuZ3RoKXJldHVybjtjb25zdCBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO28uaW5uZXJIVE1MPWUudmFsdWUsZS52YWx1ZT1wdChyLHV0KG8pLG4pfX07ZnVuY3Rpb24gbHQodCl7cmV0dXJuIHQubm9kZU5hbWUudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiB1dCh0KXtjb25zdCBlPVtdO3JldHVybiBmdW5jdGlvbiB0KG4scil7Zm9yKGxldCBvPW4uZmlyc3RDaGlsZDtvO289by5uZXh0U2libGluZykzPT09by5ub2RlVHlwZT9yKz1vLm5vZGVWYWx1ZS5sZW5ndGg6MT09PW8ubm9kZVR5cGUmJihlLnB1c2goe2V2ZW50OiJzdGFydCIsb2Zmc2V0OnIsbm9kZTpvfSkscj10KG8sciksbHQobykubWF0Y2goL2JyfGhyfGltZ3xpbnB1dC8pfHxlLnB1c2goe2V2ZW50OiJzdG9wIixvZmZzZXQ6cixub2RlOm99KSk7cmV0dXJuIHJ9KHQsMCksZX1mdW5jdGlvbiBwdCh0LGUsbil7bGV0IHI9MCxvPSIiO2NvbnN0IHM9W107ZnVuY3Rpb24gYSgpe3JldHVybiB0Lmxlbmd0aCYmZS5sZW5ndGg/dFswXS5vZmZzZXQhPT1lWzBdLm9mZnNldD90WzBdLm9mZnNldDxlWzBdLm9mZnNldD90OmU6InN0YXJ0Ij09PWVbMF0uZXZlbnQ/dDplOnQubGVuZ3RoP3Q6ZX1mdW5jdGlvbiBjKHQpe2Z1bmN0aW9uIGUodCl7cmV0dXJuIiAiK3Qubm9kZU5hbWUrJz0iJytpKHQudmFsdWUpKyciJ31vKz0iPCIrbHQodCkrW10ubWFwLmNhbGwodC5hdHRyaWJ1dGVzLGUpLmpvaW4oIiIpKyI+In1mdW5jdGlvbiBsKHQpe28rPSI8LyIrbHQodCkrIj4ifWZ1bmN0aW9uIHUodCl7KCJzdGFydCI9PT10LmV2ZW50P2M6bCkodC5ub2RlKX13aGlsZSh0Lmxlbmd0aHx8ZS5sZW5ndGgpe2xldCBlPWEoKTtpZihvKz1pKG4uc3Vic3RyaW5nKHIsZVswXS5vZmZzZXQpKSxyPWVbMF0ub2Zmc2V0LGU9PT10KXtzLnJldmVyc2UoKS5mb3JFYWNoKGwpO2Rve3UoZS5zcGxpY2UoMCwxKVswXSksZT1hKCl9d2hpbGUoZT09PXQmJmUubGVuZ3RoJiZlWzBdLm9mZnNldD09PXIpO3MucmV2ZXJzZSgpLmZvckVhY2goYyl9ZWxzZSJzdGFydCI9PT1lWzBdLmV2ZW50P3MucHVzaChlWzBdLm5vZGUpOnMucG9wKCksdShlLnNwbGljZSgwLDEpWzBdKX1yZXR1cm4gbytpKG4uc3Vic3RyKHIpKX1jb25zdCBodD17fSxmdD10PT57Y29uc29sZS5lcnJvcih0KX0sZHQ9KHQsLi4uZSk9Pntjb25zb2xlLmxvZyhgV0FSTjogJHt0fWAsLi4uZSl9LG10PSh0LGUpPT57aHRbYCR7dH0vJHtlfWBdfHwoY29uc29sZS5sb2coYERlcHJlY2F0ZWQgYXMgb2YgJHt0fS4gJHtlfWApLGh0W2Ake3R9LyR7ZX1gXT0hMCl9LHZ0PWksZ3Q9cyx5dD1TeW1ib2woIm5vbWF0Y2giKSx3dD1mdW5jdGlvbih0KXtjb25zdCBlPU9iamVjdC5jcmVhdGUobnVsbCkscj1PYmplY3QuY3JlYXRlKG51bGwpLGk9W107bGV0IHM9ITA7Y29uc3QgYT0vKF4oPFtePl0rPnxcdHwpK3xcbikvZ20sYz0iQ291bGQgbm90IGZpbmQgdGhlIGxhbmd1YWdlICd7fScsIGRpZCB5b3UgZm9yZ2V0IHRvIGxvYWQvaW5jbHVkZSBhIGxhbmd1YWdlIG1vZHVsZT8iLGw9e2Rpc2FibGVBdXRvZGV0ZWN0OiEwLG5hbWU6IlBsYWluIHRleHQiLGNvbnRhaW5zOltdfTtsZXQgdT17bm9IaWdobGlnaHRSZTovXihuby0/aGlnaGxpZ2h0KSQvaSxsYW5ndWFnZURldGVjdFJlOi9cYmxhbmcoPzp1YWdlKT8tKFtcdy1dKylcYi9pLGNsYXNzUHJlZml4OiJobGpzLSIsdGFiUmVwbGFjZTpudWxsLHVzZUJSOiExLGxhbmd1YWdlczpudWxsLF9fZW1pdHRlcjpwfTtmdW5jdGlvbiBmKHQpe3JldHVybiB1Lm5vSGlnaGxpZ2h0UmUudGVzdCh0KX1mdW5jdGlvbiBkKHQpe2xldCBlPXQuY2xhc3NOYW1lKyIgIjtlKz10LnBhcmVudE5vZGU/dC5wYXJlbnROb2RlLmNsYXNzTmFtZToiIjtjb25zdCBuPXUubGFuZ3VhZ2VEZXRlY3RSZS5leGVjKGUpO2lmKG4pe2NvbnN0IGU9UChuWzFdKTtyZXR1cm4gZXx8KGR0KGMucmVwbGFjZSgie30iLG5bMV0pKSxkdCgiRmFsbGluZyBiYWNrIHRvIG5vLWhpZ2hsaWdodCBtb2RlIGZvciB0aGlzIGJsb2NrLiIsdCkpLGU/blsxXToibm8taGlnaGxpZ2h0In1yZXR1cm4gZS5zcGxpdCgvXHMrLykuZmluZCgodD0+Zih0KXx8UCh0KSkpfWZ1bmN0aW9uIG0odCxlLG4scil7bGV0IG89IiIsaT0iIjsib2JqZWN0Ij09PXR5cGVvZiBlPyhvPXQsbj1lLmlnbm9yZUlsbGVnYWxzLGk9ZS5sYW5ndWFnZSxyPXZvaWQgMCk6KG10KCIxMC43LjAiLCJoaWdobGlnaHQobGFuZywgY29kZSwgLi4uYXJncykgaGFzIGJlZW4gZGVwcmVjYXRlZC4iKSxtdCgiMTAuNy4wIiwiUGxlYXNlIHVzZSBoaWdobGlnaHQoY29kZSwgb3B0aW9ucykgaW5zdGVhZC5cbmh0dHBzOi8vZ2l0aHViLmNvbS9oaWdobGlnaHRqcy9oaWdobGlnaHQuanMvaXNzdWVzLzIyNzciKSxpPXQsbz1lKTtjb25zdCBzPXtjb2RlOm8sbGFuZ3VhZ2U6aX07TCgiYmVmb3JlOmhpZ2hsaWdodCIscyk7Y29uc3QgYT1zLnJlc3VsdD9zLnJlc3VsdDp2KHMubGFuZ3VhZ2Uscy5jb2RlLG4scik7cmV0dXJuIGEuY29kZT1zLmNvZGUsTCgiYWZ0ZXI6aGlnaGxpZ2h0IixhKSxhfWZ1bmN0aW9uIHYodCxuLHIsYSl7ZnVuY3Rpb24gbCh0LGUpe2NvbnN0IG49Ty5jYXNlX2luc2Vuc2l0aXZlP2VbMF0udG9Mb3dlckNhc2UoKTplWzBdO3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodC5rZXl3b3JkcyxuKSYmdC5rZXl3b3Jkc1tuXX1mdW5jdGlvbiBwKCl7aWYoIUUua2V5d29yZHMpcmV0dXJuIHZvaWQgRC5hZGRUZXh0KF8pO2xldCB0PTA7RS5rZXl3b3JkUGF0dGVyblJlLmxhc3RJbmRleD0wO2xldCBlPUUua2V5d29yZFBhdHRlcm5SZS5leGVjKF8pLG49IiI7d2hpbGUoZSl7bis9Xy5zdWJzdHJpbmcodCxlLmluZGV4KTtjb25zdCByPWwoRSxlKTtpZihyKXtjb25zdFt0LG9dPXI7aWYoRC5hZGRUZXh0KG4pLG49IiIsUis9byx0LnN0YXJ0c1dpdGgoIl8iKSluKz1lWzBdO2Vsc2V7Y29uc3Qgbj1PLmNsYXNzTmFtZUFsaWFzZXNbdF18fHQ7RC5hZGRLZXl3b3JkKGVbMF0sbil9fWVsc2Ugbis9ZVswXTt0PUUua2V5d29yZFBhdHRlcm5SZS5sYXN0SW5kZXgsZT1FLmtleXdvcmRQYXR0ZXJuUmUuZXhlYyhfKX1uKz1fLnN1YnN0cih0KSxELmFkZFRleHQobil9ZnVuY3Rpb24gZigpe2lmKCIiPT09XylyZXR1cm47bGV0IHQ9bnVsbDtpZigic3RyaW5nIj09PXR5cGVvZiBFLnN1Ykxhbmd1YWdlKXtpZighZVtFLnN1Ykxhbmd1YWdlXSlyZXR1cm4gdm9pZCBELmFkZFRleHQoXyk7dD12KEUuc3ViTGFuZ3VhZ2UsXywhMCxUW0Uuc3ViTGFuZ3VhZ2VdKSxUW0Uuc3ViTGFuZ3VhZ2VdPXQudG9wfWVsc2UgdD13KF8sRS5zdWJMYW5ndWFnZS5sZW5ndGg/RS5zdWJMYW5ndWFnZTpudWxsKTtFLnJlbGV2YW5jZT4wJiYoUis9dC5yZWxldmFuY2UpLEQuYWRkU3VibGFuZ3VhZ2UodC5lbWl0dGVyLHQubGFuZ3VhZ2UpfWZ1bmN0aW9uIGQoKXtudWxsIT1FLnN1Ykxhbmd1YWdlP2YoKTpwKCksXz0iIn1mdW5jdGlvbiBtKHQpe3JldHVybiB0LmNsYXNzTmFtZSYmRC5vcGVuTm9kZShPLmNsYXNzTmFtZUFsaWFzZXNbdC5jbGFzc05hbWVdfHx0LmNsYXNzTmFtZSksRT1PYmplY3QuY3JlYXRlKHQse3BhcmVudDp7dmFsdWU6RX19KSxFfWZ1bmN0aW9uIHkodCxlLG4pe2xldCByPWcodC5lbmRSZSxuKTtpZihyKXtpZih0WyJvbjplbmQiXSl7Y29uc3Qgbj1uZXcgbyh0KTt0WyJvbjplbmQiXShlLG4pLG4uaXNNYXRjaElnbm9yZWQmJihyPSExKX1pZihyKXt3aGlsZSh0LmVuZHNQYXJlbnQmJnQucGFyZW50KXQ9dC5wYXJlbnQ7cmV0dXJuIHR9fWlmKHQuZW5kc1dpdGhQYXJlbnQpcmV0dXJuIHkodC5wYXJlbnQsZSxuKX1mdW5jdGlvbiBiKHQpe3JldHVybiAwPT09RS5tYXRjaGVyLnJlZ2V4SW5kZXg/KF8rPXRbMF0sMSk6KCQ9ITAsMCl9ZnVuY3Rpb24geCh0KXtjb25zdCBlPXRbMF0sbj10LnJ1bGUscj1uZXcgbyhuKSxpPVtuLl9fYmVmb3JlQmVnaW4sblsib246YmVnaW4iXV07Zm9yKGNvbnN0IG8gb2YgaSlpZihvJiYobyh0LHIpLHIuaXNNYXRjaElnbm9yZWQpKXJldHVybiBiKGUpO3JldHVybiBuJiZuLmVuZFNhbWVBc0JlZ2luJiYobi5lbmRSZT1oKGUpKSxuLnNraXA/Xys9ZToobi5leGNsdWRlQmVnaW4mJihfKz1lKSxkKCksbi5yZXR1cm5CZWdpbnx8bi5leGNsdWRlQmVnaW58fChfPWUpKSxtKG4pLG4ucmV0dXJuQmVnaW4/MDplLmxlbmd0aH1mdW5jdGlvbiBrKHQpe2NvbnN0IGU9dFswXSxyPW4uc3Vic3RyKHQuaW5kZXgpLG89eShFLHQscik7aWYoIW8pcmV0dXJuIHl0O2NvbnN0IGk9RTtpLnNraXA/Xys9ZTooaS5yZXR1cm5FbmR8fGkuZXhjbHVkZUVuZHx8KF8rPWUpLGQoKSxpLmV4Y2x1ZGVFbmQmJihfPWUpKTtkb3tFLmNsYXNzTmFtZSYmRC5jbG9zZU5vZGUoKSxFLnNraXB8fEUuc3ViTGFuZ3VhZ2V8fChSKz1FLnJlbGV2YW5jZSksRT1FLnBhcmVudH13aGlsZShFIT09by5wYXJlbnQpO3JldHVybiBvLnN0YXJ0cyYmKG8uZW5kU2FtZUFzQmVnaW4mJihvLnN0YXJ0cy5lbmRSZT1vLmVuZFJlKSxtKG8uc3RhcnRzKSksaS5yZXR1cm5FbmQ/MDplLmxlbmd0aH1mdW5jdGlvbiBTKCl7Y29uc3QgdD1bXTtmb3IobGV0IGU9RTtlIT09TztlPWUucGFyZW50KWUuY2xhc3NOYW1lJiZ0LnVuc2hpZnQoZS5jbGFzc05hbWUpO3QuZm9yRWFjaCgodD0+RC5vcGVuTm9kZSh0KSkpfWxldCBDPXt9O2Z1bmN0aW9uIE0oZSxvKXtjb25zdCBpPW8mJm9bMF07aWYoXys9ZSxudWxsPT1pKXJldHVybiBkKCksMDtpZigiYmVnaW4iPT09Qy50eXBlJiYiZW5kIj09PW8udHlwZSYmQy5pbmRleD09PW8uaW5kZXgmJiIiPT09aSl7aWYoXys9bi5zbGljZShvLmluZGV4LG8uaW5kZXgrMSksIXMpe2NvbnN0IGU9bmV3IEVycm9yKCIwIHdpZHRoIG1hdGNoIHJlZ2V4Iik7dGhyb3cgZS5sYW5ndWFnZU5hbWU9dCxlLmJhZFJ1bGU9Qy5ydWxlLGV9cmV0dXJuIDF9aWYoQz1vLCJiZWdpbiI9PT1vLnR5cGUpcmV0dXJuIHgobyk7aWYoImlsbGVnYWwiPT09by50eXBlJiYhcil7Y29uc3QgdD1uZXcgRXJyb3IoJ0lsbGVnYWwgbGV4ZW1lICInK2krJyIgZm9yIG1vZGUgIicrKEUuY2xhc3NOYW1lfHwiPHVubmFtZWQ+IikrJyInKTt0aHJvdyB0Lm1vZGU9RSx0fWlmKCJlbmQiPT09by50eXBlKXtjb25zdCB0PWsobyk7aWYodCE9PXl0KXJldHVybiB0fWlmKCJpbGxlZ2FsIj09PW8udHlwZSYmIiI9PT1pKXJldHVybiAxO2lmKEk+MWU1JiZJPjMqby5pbmRleCl7Y29uc3QgdD1uZXcgRXJyb3IoInBvdGVudGlhbCBpbmZpbml0ZSBsb29wLCB3YXkgbW9yZSBpdGVyYXRpb25zIHRoYW4gbWF0Y2hlcyIpO3Rocm93IHR9cmV0dXJuIF8rPWksaS5sZW5ndGh9Y29uc3QgTz1QKHQpO2lmKCFPKXRocm93IGZ0KGMucmVwbGFjZSgie30iLHQpKSxuZXcgRXJyb3IoJ1Vua25vd24gbGFuZ3VhZ2U6ICInK3QrJyInKTtjb25zdCBBPW50KE8se3BsdWdpbnM6aX0pO2xldCBOPSIiLEU9YXx8QTtjb25zdCBUPXt9LEQ9bmV3IHUuX19lbWl0dGVyKHUpO1MoKTtsZXQgXz0iIixSPTAsej0wLEk9MCwkPSExO3RyeXtmb3IoRS5tYXRjaGVyLmNvbnNpZGVyQWxsKCk7Oyl7SSsrLCQ/JD0hMTpFLm1hdGNoZXIuY29uc2lkZXJBbGwoKSxFLm1hdGNoZXIubGFzdEluZGV4PXo7Y29uc3QgdD1FLm1hdGNoZXIuZXhlYyhuKTtpZighdClicmVhaztjb25zdCBlPW4uc3Vic3RyaW5nKHosdC5pbmRleCkscj1NKGUsdCk7ej10LmluZGV4K3J9cmV0dXJuIE0obi5zdWJzdHIoeikpLEQuY2xvc2VBbGxOb2RlcygpLEQuZmluYWxpemUoKSxOPUQudG9IVE1MKCkse3JlbGV2YW5jZTpNYXRoLmZsb29yKFIpLHZhbHVlOk4sbGFuZ3VhZ2U6dCxpbGxlZ2FsOiExLGVtaXR0ZXI6RCx0b3A6RX19Y2F0Y2goQil7aWYoQi5tZXNzYWdlJiZCLm1lc3NhZ2UuaW5jbHVkZXMoIklsbGVnYWwiKSlyZXR1cm57aWxsZWdhbDohMCxpbGxlZ2FsQnk6e21zZzpCLm1lc3NhZ2UsY29udGV4dDpuLnNsaWNlKHotMTAwLHorMTAwKSxtb2RlOkIubW9kZX0sc29mYXI6TixyZWxldmFuY2U6MCx2YWx1ZTp2dChuKSxlbWl0dGVyOkR9O2lmKHMpcmV0dXJue2lsbGVnYWw6ITEscmVsZXZhbmNlOjAsdmFsdWU6dnQobiksZW1pdHRlcjpELGxhbmd1YWdlOnQsdG9wOkUsZXJyb3JSYWlzZWQ6Qn07dGhyb3cgQn19ZnVuY3Rpb24geSh0KXtjb25zdCBlPXtyZWxldmFuY2U6MCxlbWl0dGVyOm5ldyB1Ll9fZW1pdHRlcih1KSx2YWx1ZTp2dCh0KSxpbGxlZ2FsOiExLHRvcDpsfTtyZXR1cm4gZS5lbWl0dGVyLmFkZFRleHQodCksZX1mdW5jdGlvbiB3KHQsbil7bj1ufHx1Lmxhbmd1YWdlc3x8T2JqZWN0LmtleXMoZSk7Y29uc3Qgcj15KHQpLG89bi5maWx0ZXIoUCkuZmlsdGVyKEIpLm1hcCgoZT0+dihlLHQsITEpKSk7by51bnNoaWZ0KHIpO2NvbnN0IGk9by5zb3J0KCgodCxlKT0+e2lmKHQucmVsZXZhbmNlIT09ZS5yZWxldmFuY2UpcmV0dXJuIGUucmVsZXZhbmNlLXQucmVsZXZhbmNlO2lmKHQubGFuZ3VhZ2UmJmUubGFuZ3VhZ2Upe2lmKFAodC5sYW5ndWFnZSkuc3VwZXJzZXRPZj09PWUubGFuZ3VhZ2UpcmV0dXJuIDE7aWYoUChlLmxhbmd1YWdlKS5zdXBlcnNldE9mPT09dC5sYW5ndWFnZSlyZXR1cm4tMX1yZXR1cm4gMH0pKSxbcyxhXT1pLGM9cztyZXR1cm4gYy5zZWNvbmRfYmVzdD1hLGN9ZnVuY3Rpb24gYih0KXtyZXR1cm4gdS50YWJSZXBsYWNlfHx1LnVzZUJSP3QucmVwbGFjZShhLCh0PT4iXG4iPT09dD91LnVzZUJSPyI8YnI+Ijp0OnUudGFiUmVwbGFjZT90LnJlcGxhY2UoL1x0L2csdS50YWJSZXBsYWNlKTp0KSk6dH1mdW5jdGlvbiB4KHQsZSxuKXtjb25zdCBvPWU/cltlXTpuO3QuY2xhc3NMaXN0LmFkZCgiaGxqcyIpLG8mJnQuY2xhc3NMaXN0LmFkZChvKX1jb25zdCBrPXsiYmVmb3JlOmhpZ2hsaWdodEVsZW1lbnQiOih7ZWw6dH0pPT57dS51c2VCUiYmKHQuaW5uZXJIVE1MPXQuaW5uZXJIVE1MLnJlcGxhY2UoL1xuL2csIiIpLnJlcGxhY2UoLzxiclsgL10qPi9nLCJcbiIpKX0sImFmdGVyOmhpZ2hsaWdodEVsZW1lbnQiOih7cmVzdWx0OnR9KT0+e3UudXNlQlImJih0LnZhbHVlPXQudmFsdWUucmVwbGFjZSgvXG4vZywiPGJyPiIpKX19LFM9L14oPFtePl0rPnxcdCkrL2dtLEM9eyJhZnRlcjpoaWdobGlnaHRFbGVtZW50Ijooe3Jlc3VsdDp0fSk9Pnt1LnRhYlJlcGxhY2UmJih0LnZhbHVlPXQudmFsdWUucmVwbGFjZShTLCh0PT50LnJlcGxhY2UoL1x0L2csdS50YWJSZXBsYWNlKSkpKX19O2Z1bmN0aW9uIE0odCl7bGV0IGU9bnVsbDtjb25zdCBuPWQodCk7aWYoZihuKSlyZXR1cm47TCgiYmVmb3JlOmhpZ2hsaWdodEVsZW1lbnQiLHtlbDp0LGxhbmd1YWdlOm59KSxlPXQ7Y29uc3Qgcj1lLnRleHRDb250ZW50LG89bj9tKHIse2xhbmd1YWdlOm4saWdub3JlSWxsZWdhbHM6ITB9KTp3KHIpO0woImFmdGVyOmhpZ2hsaWdodEVsZW1lbnQiLHtlbDp0LHJlc3VsdDpvLHRleHQ6cn0pLHQuaW5uZXJIVE1MPW8udmFsdWUseCh0LG4sby5sYW5ndWFnZSksdC5yZXN1bHQ9e2xhbmd1YWdlOm8ubGFuZ3VhZ2UscmU6by5yZWxldmFuY2UscmVsYXZhbmNlOm8ucmVsZXZhbmNlfSxvLnNlY29uZF9iZXN0JiYodC5zZWNvbmRfYmVzdD17bGFuZ3VhZ2U6by5zZWNvbmRfYmVzdC5sYW5ndWFnZSxyZTpvLnNlY29uZF9iZXN0LnJlbGV2YW5jZSxyZWxhdmFuY2U6by5zZWNvbmRfYmVzdC5yZWxldmFuY2V9KX1mdW5jdGlvbiBPKHQpe3QudXNlQlImJihtdCgiMTAuMy4wIiwiJ3VzZUJSJyB3aWxsIGJlIHJlbW92ZWQgZW50aXJlbHkgaW4gdjExLjAiKSxtdCgiMTAuMy4wIiwiUGxlYXNlIHNlZSBodHRwczovL2dpdGh1Yi5jb20vaGlnaGxpZ2h0anMvaGlnaGxpZ2h0LmpzL2lzc3Vlcy8yNTU5IikpLHU9Z3QodSx0KX1jb25zdCBBPSgpPT57aWYoQS5jYWxsZWQpcmV0dXJuO0EuY2FsbGVkPSEwLG10KCIxMC42LjAiLCJpbml0SGlnaGxpZ2h0aW5nKCkgaXMgZGVwcmVjYXRlZC4gIFVzZSBoaWdobGlnaHRBbGwoKSBpbnN0ZWFkLiIpO2NvbnN0IHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgicHJlIGNvZGUiKTt0LmZvckVhY2goTSl9O2Z1bmN0aW9uIE4oKXttdCgiMTAuNi4wIiwiaW5pdEhpZ2hsaWdodGluZ09uTG9hZCgpIGlzIGRlcHJlY2F0ZWQuICBVc2UgaGlnaGxpZ2h0QWxsKCkgaW5zdGVhZC4iKSxFPSEwfWxldCBFPSExO2Z1bmN0aW9uIFQoKXtpZigibG9hZGluZyI9PT1kb2N1bWVudC5yZWFkeVN0YXRlKXJldHVybiB2b2lkKEU9ITApO2NvbnN0IHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgicHJlIGNvZGUiKTt0LmZvckVhY2goTSl9ZnVuY3Rpb24gRCgpe0UmJlQoKX1mdW5jdGlvbiBfKG4scil7bGV0IG89bnVsbDt0cnl7bz1yKHQpfWNhdGNoKGkpe2lmKGZ0KCJMYW5ndWFnZSBkZWZpbml0aW9uIGZvciAne30nIGNvdWxkIG5vdCBiZSByZWdpc3RlcmVkLiIucmVwbGFjZSgie30iLG4pKSwhcyl0aHJvdyBpO2Z0KGkpLG89bH1vLm5hbWV8fChvLm5hbWU9biksZVtuXT1vLG8ucmF3RGVmaW5pdGlvbj1yLmJpbmQobnVsbCx0KSxvLmFsaWFzZXMmJiQoby5hbGlhc2VzLHtsYW5ndWFnZU5hbWU6bn0pfWZ1bmN0aW9uIFIodCl7ZGVsZXRlIGVbdF07Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXMocikpcltlXT09PXQmJmRlbGV0ZSByW2VdfWZ1bmN0aW9uIHooKXtyZXR1cm4gT2JqZWN0LmtleXMoZSl9ZnVuY3Rpb24gSSh0KXttdCgiMTAuNC4wIiwicmVxdWlyZUxhbmd1YWdlIHdpbGwgYmUgcmVtb3ZlZCBlbnRpcmVseSBpbiB2MTEuIiksbXQoIjEwLjQuMCIsIlBsZWFzZSBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2hpZ2hsaWdodGpzL2hpZ2hsaWdodC5qcy9wdWxsLzI4NDQiKTtjb25zdCBlPVAodCk7aWYoZSlyZXR1cm4gZTtjb25zdCBuPW5ldyBFcnJvcigiVGhlICd7fScgbGFuZ3VhZ2UgaXMgcmVxdWlyZWQsIGJ1dCBub3QgbG9hZGVkLiIucmVwbGFjZSgie30iLHQpKTt0aHJvdyBufWZ1bmN0aW9uIFAodCl7cmV0dXJuIHQ9KHR8fCIiKS50b0xvd2VyQ2FzZSgpLGVbdF18fGVbclt0XV19ZnVuY3Rpb24gJCh0LHtsYW5ndWFnZU5hbWU6ZX0peyJzdHJpbmciPT09dHlwZW9mIHQmJih0PVt0XSksdC5mb3JFYWNoKCh0PT57clt0LnRvTG93ZXJDYXNlKCldPWV9KSl9ZnVuY3Rpb24gQih0KXtjb25zdCBlPVAodCk7cmV0dXJuIGUmJiFlLmRpc2FibGVBdXRvZGV0ZWN0fWZ1bmN0aW9uIFYodCl7dFsiYmVmb3JlOmhpZ2hsaWdodEJsb2NrIl0mJiF0WyJiZWZvcmU6aGlnaGxpZ2h0RWxlbWVudCJdJiYodFsiYmVmb3JlOmhpZ2hsaWdodEVsZW1lbnQiXT1lPT57dFsiYmVmb3JlOmhpZ2hsaWdodEJsb2NrIl0oT2JqZWN0LmFzc2lnbih7YmxvY2s6ZS5lbH0sZSkpfSksdFsiYWZ0ZXI6aGlnaGxpZ2h0QmxvY2siXSYmIXRbImFmdGVyOmhpZ2hsaWdodEVsZW1lbnQiXSYmKHRbImFmdGVyOmhpZ2hsaWdodEVsZW1lbnQiXT1lPT57dFsiYWZ0ZXI6aGlnaGxpZ2h0QmxvY2siXShPYmplY3QuYXNzaWduKHtibG9jazplLmVsfSxlKSl9KX1mdW5jdGlvbiBqKHQpe1YodCksaS5wdXNoKHQpfWZ1bmN0aW9uIEwodCxlKXtjb25zdCBuPXQ7aS5mb3JFYWNoKChmdW5jdGlvbih0KXt0W25dJiZ0W25dKGUpfSkpfWZ1bmN0aW9uIEYodCl7cmV0dXJuIG10KCIxMC4yLjAiLCJmaXhNYXJrdXAgd2lsbCBiZSByZW1vdmVkIGVudGlyZWx5IGluIHYxMS4wIiksbXQoIjEwLjIuMCIsIlBsZWFzZSBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2hpZ2hsaWdodGpzL2hpZ2hsaWdodC5qcy9pc3N1ZXMvMjUzNCIpLGIodCl9ZnVuY3Rpb24gSCh0KXtyZXR1cm4gbXQoIjEwLjcuMCIsImhpZ2hsaWdodEJsb2NrIHdpbGwgYmUgcmVtb3ZlZCBlbnRpcmVseSBpbiB2MTIuMCIpLG10KCIxMC43LjAiLCJQbGVhc2UgdXNlIGhpZ2hsaWdodEVsZW1lbnQgbm93LiIpLE0odCl9InVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEQsITEpLE9iamVjdC5hc3NpZ24odCx7aGlnaGxpZ2h0Om0saGlnaGxpZ2h0QXV0bzp3LGhpZ2hsaWdodEFsbDpULGZpeE1hcmt1cDpGLGhpZ2hsaWdodEVsZW1lbnQ6TSxoaWdobGlnaHRCbG9jazpILGNvbmZpZ3VyZTpPLGluaXRIaWdobGlnaHRpbmc6QSxpbml0SGlnaGxpZ2h0aW5nT25Mb2FkOk4scmVnaXN0ZXJMYW5ndWFnZTpfLHVucmVnaXN0ZXJMYW5ndWFnZTpSLGxpc3RMYW5ndWFnZXM6eixnZXRMYW5ndWFnZTpQLHJlZ2lzdGVyQWxpYXNlczokLHJlcXVpcmVMYW5ndWFnZTpJLGF1dG9EZXRlY3Rpb246Qixpbmhlcml0Omd0LGFkZFBsdWdpbjpqLHZ1ZVBsdWdpbjphdCh0KS5WdWVQbHVnaW59KSx0LmRlYnVnTW9kZT1mdW5jdGlvbigpe3M9ITF9LHQuc2FmZU1vZGU9ZnVuY3Rpb24oKXtzPSEwfSx0LnZlcnNpb25TdHJpbmc9aXQ7Zm9yKGNvbnN0IG8gaW4gVykib2JqZWN0Ij09PXR5cGVvZiBXW29dJiZuKFdbb10pO3JldHVybiBPYmplY3QuYXNzaWduKHQsVyksdC5hZGRQbHVnaW4oayksdC5hZGRQbHVnaW4oY3QpLHQuYWRkUGx1Z2luKEMpLHR9O3ZhciBidD13dCh7fSk7dC5leHBvcnRzPWJ0fSw2NDcwOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big3ODAyKSxvPW4oMTEwMik7cC5wcm90b3R5cGUuYWRkVGV4dD1kLHAucHJvdG90eXBlLmFkZEtleXdvcmQ9aCxwLnByb3RvdHlwZS5hZGRTdWJsYW5ndWFnZT1mLHAucHJvdG90eXBlLm9wZW5Ob2RlPW0scC5wcm90b3R5cGUuY2xvc2VOb2RlPXYscC5wcm90b3R5cGUuY2xvc2VBbGxOb2Rlcz15LHAucHJvdG90eXBlLmZpbmFsaXplPXkscC5wcm90b3R5cGUudG9IVE1MPWc7dmFyIGk9ImhsanMtIjtmdW5jdGlvbiBzKHQsZSxuKXt2YXIgcyxhPXIuY29uZmlndXJlKHt9KSxjPW58fHt9LGw9Yy5wcmVmaXg7aWYoInN0cmluZyIhPT10eXBlb2YgdCl0aHJvdyBvKCJFeHBlY3RlZCBgc3RyaW5nYCBmb3IgbmFtZSwgZ290IGAlc2AiLHQpO2lmKCFyLmdldExhbmd1YWdlKHQpKXRocm93IG8oIlVua25vd24gbGFuZ3VhZ2U6IGAlc2AgaXMgbm90IHJlZ2lzdGVyZWQiLHQpO2lmKCJzdHJpbmciIT09dHlwZW9mIGUpdGhyb3cgbygiRXhwZWN0ZWQgYHN0cmluZ2AgZm9yIHZhbHVlLCBnb3QgYCVzYCIsZSk7aWYobnVsbCE9PWwmJnZvaWQgMCE9PWx8fGksci5jb25maWd1cmUoe19fZW1pdHRlcjpwLGNsYXNzUHJlZml4Omx9KSxyLmhpZ2hsaWdodChlLHtsYW5ndWFnZTp0LGlnbm9yZUlsbGVnYWxzOiEwfSksci5jb25maWd1cmUoYXx8e30pLHMuZXJyb3JSYWlzZWQpdGhyb3cgcy5lcnJvclJhaXNlZDtyZXR1cm57cmVsZXZhbmNlOnMucmVsZXZhbmNlLGxhbmd1YWdlOnMubGFuZ3VhZ2UsdmFsdWU6cy5lbWl0dGVyLnJvb3ROb2RlLmNoaWxkcmVufX1mdW5jdGlvbiBhKHQsZSl7dmFyIG4sYSxjLGwsdT1lfHx7fSxwPXUuc3Vic2V0fHxyLmxpc3RMYW5ndWFnZXMoKSxoPXUucHJlZml4LGY9cC5sZW5ndGgsZD0tMTtpZihudWxsIT09aCYmdm9pZCAwIT09aHx8aSwic3RyaW5nIiE9PXR5cGVvZiB0KXRocm93IG8oIkV4cGVjdGVkIGBzdHJpbmdgIGZvciB2YWx1ZSwgZ290IGAlc2AiLHQpOyh7cmVsZXZhbmNlOjAsbGFuZ3VhZ2U6bnVsbCx2YWx1ZTpbXX0pLHtyZWxldmFuY2U6MCxsYW5ndWFnZTpudWxsLHZhbHVlOltdfTt3aGlsZSgrK2Q8ZilwW2RdLHIuZ2V0TGFuZ3VhZ2UobCkmJihzKGwsdCxlKSxjLmxhbmd1YWdlPWwsYy5yZWxldmFuY2U+YS5yZWxldmFuY2UmJmMsYy5yZWxldmFuY2U+bi5yZWxldmFuY2UmJihuLGMpKTtyZXR1cm4gYS5sYW5ndWFnZSYmKG4uc2Vjb25kQmVzdD1hKSxufWZ1bmN0aW9uIGModCxlKXtyLnJlZ2lzdGVyTGFuZ3VhZ2UodCxlKX1mdW5jdGlvbiBsKCl7cmV0dXJuIHIubGlzdExhbmd1YWdlcygpfWZ1bmN0aW9uIHUodCxlKXt2YXIgbixvPXQ7Zm9yKG4gaW4gZSYmKHt9LG9bdF09ZSksbylyLnJlZ2lzdGVyQWxpYXNlcyhvW25dLHtsYW5ndWFnZU5hbWU6bn0pfWZ1bmN0aW9uIHAodCl7dGhpcy5vcHRpb25zPXQsdGhpcy5yb290Tm9kZT17Y2hpbGRyZW46W119LHRoaXMuc3RhY2s9W3RoaXMucm9vdE5vZGVdfWZ1bmN0aW9uIGgodCxlKXt0aGlzLm9wZW5Ob2RlKGUpLHRoaXMuYWRkVGV4dCh0KSx0aGlzLmNsb3NlTm9kZSgpfWZ1bmN0aW9uIGYodCxlKXt2YXIgbj10aGlzLnN0YWNrLHI9bltuLmxlbmd0aC0xXSxvPXQucm9vdE5vZGUuY2hpbGRyZW4saT1lP3t0eXBlOiJlbGVtZW50Iix0YWdOYW1lOiJzcGFuIixwcm9wZXJ0aWVzOntjbGFzc05hbWU6W2VdfSxjaGlsZHJlbjpvfTpvO3IuY2hpbGRyZW49ci5jaGlsZHJlbi5jb25jYXQoaSl9ZnVuY3Rpb24gZCh0KXt2YXIgZSxuLHI9dGhpcy5zdGFjazsiIiE9PXQmJihlPXJbci5sZW5ndGgtMV0sbj1lLmNoaWxkcmVuW2UuY2hpbGRyZW4ubGVuZ3RoLTFdLG4mJiJ0ZXh0Ij09PW4udHlwZT9uLnZhbHVlKz10OmUuY2hpbGRyZW4ucHVzaCh7dHlwZToidGV4dCIsdmFsdWU6dH0pKX1mdW5jdGlvbiBtKHQpe3ZhciBlPXRoaXMuc3RhY2ssbj10aGlzLm9wdGlvbnMuY2xhc3NQcmVmaXgrdCxyPWVbZS5sZW5ndGgtMV0sbz17dHlwZToiZWxlbWVudCIsdGFnTmFtZToic3BhbiIscHJvcGVydGllczp7Y2xhc3NOYW1lOltuXX0sY2hpbGRyZW46W119O3IuY2hpbGRyZW4ucHVzaChvKSxlLnB1c2gobyl9ZnVuY3Rpb24gdigpe3RoaXMuc3RhY2sucG9wKCl9ZnVuY3Rpb24gZygpe3JldHVybiIifWZ1bmN0aW9uIHkoKXt9fSwzNzI1OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik01IDE0YTUgNSAwIDExMCAxMCA1IDUgMCAwMTAtMTB6bTIuNSA1LjkzOGEuOTM3LjkzNyAwIDEwMC0xLjg3NUg2LjI1YS4zMTIuMzEyIDAgMDEtLjMxMy0uMzEzVjE2LjVhLjkzNy45MzcgMCAxMC0xLjg3NSAwdjEuMjVjMCAuMTczLS4xNC4zMTMtLjMxMi4zMTNIMi41YS45MzcuOTM3IDAgMTAwIDEuODc1aDEuMjVjLjE3MyAwIC4zMTMuMTQuMzEzLjMxMnYxLjI1YS45MzcuOTM3IDAgMTAxLjg3NSAwdi0xLjI1YzAtLjE3My4xNC0uMzEzLjMxMi0uMzEzSDcuNXpNMTYgMTlhMyAzIDAgMDA2IDBWNWEzIDMgMCAwMC02IDB2MTR6bS0yIDBWNWE1IDUgMCAwMTEwIDB2MTRhNSA1IDAgMDEtMTAgMHoifX0pXSkpfX19LDQ4MDI6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTE5IDE0YTUgNSAwIDExMCAxMCA1IDUgMCAwMTAtMTB6bTIuNSA1LjkzOGEuOTM3LjkzNyAwIDEwMC0xLjg3NWgtMS4yNWEuMzEyLjMxMiAwIDAxLS4zMTMtLjMxM1YxNi41YS45MzcuOTM3IDAgMTAtMS44NzUgMHYxLjI1YzAgLjE3My0uMTQuMzEzLS4zMTIuMzEzSDE2LjVhLjkzNy45MzcgMCAxMDAgMS44NzVoMS4yNWMuMTczIDAgLjMxMy4xNC4zMTMuMzEydjEuMjVhLjkzNy45MzcgMCAxMDEuODc1IDB2LTEuMjVjMC0uMTczLjE0LS4zMTMuMzEyLS4zMTNoMS4yNXpNMiAxOWEzIDMgMCAwMDYgMFY1YTMgMyAwIDEwLTYgMHYxNHptLTIgMFY1YTUgNSAwIDExMTAgMHYxNGE1IDUgMCAwMS0xMCAweiJ9fSldKSl9fX0sOTA5NDpmdW5jdGlvbih0KXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMTkgMGE1IDUgMCAxMTAgMTAgNSA1IDAgMDEwLTEwem0yLjUgNS45MzhhLjkzNy45MzcgMCAxMDAtMS44NzVoLTEuMjVhLjMxMi4zMTIgMCAwMS0uMzEzLS4zMTNWMi41YS45MzcuOTM3IDAgMTAtMS44NzUgMHYxLjI1YzAgLjE3My0uMTQuMzEzLS4zMTIuMzEzSDE2LjVhLjkzNy45MzcgMCAxMDAgMS44NzVoMS4yNWMuMTczIDAgLjMxMy4xNC4zMTMuMzEyVjcuNWEuOTM3LjkzNyAwIDEwMS44NzUgMFY2LjI1YzAtLjE3My4xNC0uMzEzLjMxMi0uMzEzaDEuMjV6TTUgMTZhMyAzIDAgMDAwIDZoMTRhMyAzIDAgMDAwLTZINXptMC0yaDE0YTUgNSAwIDAxMCAxMEg1YTUgNSAwIDAxMC0xMHoifX0pXSkpfX19LDMyNjE6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTE5IDE0YTUgNSAwIDExMCAxMCA1IDUgMCAwMTAtMTB6bTIuNSA1LjkzOGEuOTM3LjkzNyAwIDEwMC0xLjg3NWgtMS4yNWEuMzEyLjMxMiAwIDAxLS4zMTMtLjMxM1YxNi41YS45MzcuOTM3IDAgMTAtMS44NzUgMHYxLjI1YzAgLjE3My0uMTQuMzEzLS4zMTIuMzEzSDE2LjVhLjkzNy45MzcgMCAxMDAgMS44NzVoMS4yNWMuMTczIDAgLjMxMy4xNC4zMTMuMzEydjEuMjVhLjkzNy45MzcgMCAxMDEuODc1IDB2LTEuMjVjMC0uMTczLjE0LS4zMTMuMzEyLS4zMTNoMS4yNXpNNSAyYTMgMyAwIDEwMCA2aDE0YTMgMyAwIDAwMC02SDV6bTAtMmgxNGE1IDUgMCAwMTAgMTBINUE1IDUgMCAxMTUgMHoifX0pXSkpfX19LDU5NjE6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTE3LjE5NCAxMC45NjJBNi4yNzEgNi4yNzEgMCAwMDEyLjg0NC4yNDhINC4zYTEuMjUgMS4yNSAwIDAwMCAyLjVoMS4wMTNhLjI1LjI1IDAgMDEuMjUuMjVWMjFhLjI1LjI1IDAgMDEtLjI1LjI1SDQuM2ExLjI1IDEuMjUgMCAxMDAgMi41aDkuOTYzYTYuNzQyIDYuNzQyIDAgMDAyLjkzLTEyLjc4NnptLTQuMzUtOC4yMTRhMy43NjIgMy43NjIgMCAwMTAgNy41MjNIOC4zMTNhLjI1LjI1IDAgMDEtLjI1LS4yNVYzYS4yNS4yNSAwIDAxLjI1LS4yNXptMS40MiAxOC41SDguMzEzYS4yNS4yNSAwIDAxLS4yNS0uMjV2LTcuOTc3YS4yNS4yNSAwIDAxLjI1LS4yNUgxNC4yNjRhNC4yMzkgNC4yMzkgMCAwMTAgOC40Nzd6In19KV0pKX19fSw5NDA6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTIxIDBIM2EzIDMgMCAwMC0zIDN2MThhMyAzIDAgMDAzIDNoMThhMyAzIDAgMDAzLTNWM2EzIDMgMCAwMC0zLTN6bTEgMjFhMSAxIDAgMDEtMSAxSDNhMSAxIDAgMDEtMS0xVjNhMSAxIDAgMDExLTFoMThhMSAxIDAgMDExIDF6In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xMS4yNDkgNC41YTEuMjUxIDEuMjUxIDAgMDAtMS43NS4yNUw3LjM2NSA3LjZsLS40ODItLjQ4MWExLjI1IDEuMjUgMCAwMC0xLjc2NyAxLjc2NGwxLjUgMS41YTEuMjYyIDEuMjYyIDAgMDAxLjg4NC0uMTM0bDMtNGExLjI1IDEuMjUgMCAwMC0uMjUxLTEuNzQ5ek0xMS4yNDkgMTMuNWExLjI1MSAxLjI1MSAwIDAwLTEuNzUuMjVMNy4zNjUgMTYuNmwtLjQ4Mi0uNDgxYTEuMjUgMS4yNSAwIDEwLTEuNzY3IDEuNzY4bDEuNSAxLjVhMS4yNjUgMS4yNjUgMCAwMDEuODg0LS4xMzhsMy00YTEuMjUgMS4yNSAwIDAwLS4yNTEtMS43NDl6TTE4LjUgNy43NDlIMTRhMS4yNSAxLjI1IDAgMDAwIDIuNWg0LjVhMS4yNSAxLjI1IDAgMDAwLTIuNXpNMTguNSAxNS43NDlIMTRhMS4yNSAxLjI1IDAgMDAwIDIuNWg0LjVhMS4yNSAxLjI1IDAgMTAwLTIuNXoifX0pXSkpfX19LDY3ODU6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTkuMTQ3IDIxLjU1MmExLjI0NCAxLjI0NCAwIDAxLS44OTUtLjM3OEwuODQgMTMuNTYxYTIuMjU3IDIuMjU3IDAgMDEwLTMuMTI1bDcuNDEyLTcuNjEzYTEuMjUgMS4yNSAwIDAxMS43OTEgMS43NDRsLTYuOSA3LjA4M2EuNS41IDAgMDAwIC43bDYuOSA3LjA4MmExLjI1IDEuMjUgMCAwMS0uOSAyLjEyMnpNMTQuODU0IDIxLjU1MmExLjI1IDEuMjUgMCAwMS0uOS0yLjEyMmw2LjktNy4wODNhLjUuNSAwIDAwMC0uN2wtNi45LTcuMDgyYTEuMjUgMS4yNSAwIDAxMS43OTEtMS43NDRsNy40MTEgNy42MTJhMi4yNTcgMi4yNTcgMCAwMTAgMy4xMjVsLTcuNDEyIDcuNjE0YTEuMjQ0IDEuMjQ0IDAgMDEtLjg5LjM4em02LjUxNC05LjM3M3oifX0pXSkpfX19LDU5NDg6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDQ3NC41NTcgNDc0LjU1NyIsd2lkdGg6IjI0IixoZWlnaHQ6IjI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTAgMi4wMjhWNDcyLjUzaDQ3NC41NTdWMi4wMjhIMHptNDM1LjQ3MSA0MzEuNDM3SDM5LjEwOFY0MS4xMzZoMzk2LjM2M3YzOTIuMzI5eiJ9fSksbigicGF0aCIse2F0dHJzOntkOiJNMTI0LjkxNiAyNzMuNjI1YzEuMjk0IDQuNTMgMi4wMDYgMTQuNDA5IDIuMDA2IDI5LjU3NCAwIDEzLjAwNy42NjkgMjIuNTYzIDIuMDcxIDI4LjYyNCAxLjQwMiA2LjAxOCA0LjE0MiAxMS4xNzQgOC4yNCAxNS4yNzIgNC4wNzcgNC4wOTggOS4wODEgNy4wNzUgMTUuMDEzIDguODY2IDUuOTU0IDEuNzY5IDE0LjQ5NiAyLjY1MyAyNS42MDUgMi42NTNoNi41Nzl2LTI5LjY2Yy04Ljg2NiAwLTE0LjYyNS0uNTYxLTE3LjMtMS42ODItMi42NTMtMS4xNDMtNC42MzgtMi43MTgtNS45NTQtNC44OTctMS4yOTQtMi4xNTctMS45NDEtNS45MS0xLjk0MS0xMS4zMjUgMC0zLjg0LS4zNDUtMTIuNTc2LS45OTItMjYuMjk1LS40OTYtOC45NzMtMS41NzUtMTYuMTM1LTMuMjM2LTIxLjQ4NC0xLjYzOS01LjM5My00LjAxMi05Ljk0NC03LjExOC0xMy42OTctMy4wODUtMy43NzUtNy4wNTQtNy4wMzItMTEuOTA3LTkuODE1IDUuNTAxLTMuNTgxIDkuNTc3LTYuOTY3IDEyLjI3NC0xMC4zMTEgMi42NzUtMy4yNTcgNC44NzUtNy40NDIgNi42MDEtMTIuNTExIDEuNzA0LTUuMDY5IDIuNzgzLTExLjY5MSAzLjIxNC0xOS44NDUuNzMzLTE0LjQ1MiAxLjE0My0yNC4yODkgMS4xNDMtMjkuNDg3IDAtNS4wOTEuNjI2LTguNzE1IDEuODU1LTEwLjgwNyAxLjI1MS0yLjA3MSAzLjE0OS0zLjY0NSA1LjczOC00LjcwMiAyLjU4OC0xLjAxNCA4LjQ3Ny0xLjUzMiAxNy42MjMtMS41MzJ2LTI5LjUwOWgtNi41NzljLTEwLjgwNyAwLTE4LjcyMy43NTUtMjMuNzI4IDIuMjQzLTcuNDIgMi4yMjItMTMuMDcyIDUuMjQyLTE2Ljk3NiA5LjA2LTMuODgzIDMuODQtNi41NTggOC45MDktOC4wNDYgMTUuMjI5LTEuNDY3IDYuMjc3LTIuMTc5IDE3LjQyOS0yLjE3OSAzMy4zNDggMCA5Ljg1OC0uMzY3IDE2LjY3NC0xLjAzNSAyMC42NDMtLjgyIDUuMjYzLTIuMzUxIDkuNjQyLTQuNTUxIDEzLjE1OC0yLjI0MyAzLjUxNi00LjgzMiA1Ljk5Ny03LjkxNiA3LjQ4NS0zLjAyIDEuNDQ1LTcuNTI4IDIuMzczLTEzLjU2OCAyLjczOXYyOS42ODFjNy41OTMuMzg4IDEzLjIwMSAyLjAyOCAxNi44OSA0Ljg5NyAzLjY0NSAyLjgwNiA2LjM4NCA3LjQ4NyA4LjE3NCAxNC4wODd6TTIxMi4wODQgMzMxLjM5Mmw2LjczIDE0LjM2NmM3LjQyLTIuNjUzIDEzLjU2OC02LjMyIDE4LjQtMTAuOTE1IDQuODMyLTQuNTk1IDguMDg5LTkuODE1IDkuODE1LTE1LjYxNyAxLjc0Ny01Ljg0NiAyLjYxLTEzLjgwNSAyLjYxLTIzLjgxNHYtMjQuNzg1aC0zNC43NTF2MzQuNzI5aDE2Ljc2MWMtLjEyOSA2LjgzOC0xLjcyNiAxMi4yOTUtNC42NTkgMTYuNDgtMi45NTYgNC4wMzQtNy45MzkgNy4yNjktMTQuOTA2IDkuNTU2ek0yMTQuODg4IDE3NC4wMTJoMzQuNzUxdjM0Ljc3MmgtMzQuNzUxek0zMTEuMTggMzU2LjM0OWM3LjQ2NC0yLjI0MyAxMy4yMDEtNS4yMiAxNy4xMDYtOS4wODEgMy44ODMtMy44MTggNi41MzYtOC45MyA3LjkzOC0xNS4yNzIgMS40MDItNi4zNjMgMi4xNzktMTcuNTE1IDIuMTc5LTMzLjQ5OSAwLTkuNzUuMzY3LTE2LjYwOSAxLjAxNC0yMC41NTcuODg0LTUuMjYzIDIuNDM4LTkuNjQyIDQuNjU5LTEzLjEzNyAyLjE3OS0zLjQ5NCA0Ljc2Ny02LjAxOCA3LjgwOS03LjQ4NSAzLjA0Mi0xLjQ2NyA3LjU1LTIuMzczIDEzLjU2OC0yLjY5NmgtLjA0M3YtMjkuNjZjLTcuNjE1LS40NTMtMTMuMTgtMi4wNzEtMTYuOTMzLTQuOTE4LTMuNjY3LTIuODI2LTYuNDA3LTcuNTcxLTguMjYyLTE0LjEwNy0xLjI1MS00LjYxNi0xLjg1NS0xNC40NTItMS44NTUtMjkuNTA5IDAtMTMuMDI5LS43MTItMjIuNTQxLTIuMTU3LTI4LjU2LTEuNDI0LTYuMTA1LTQuMTYzLTExLjE5NS04LjE5Ny0xNS4zNTgtNC4wNTUtNC4xNDItOS4wMzgtNy4wNTQtMTQuOTctOC44MDEtNS45NzUtMS43MjYtMTQuNTE3LTIuNjEtMjUuNjI2LTIuNjFoLTYuNTU3djI5LjQ2NmM5LjM0IDAgMTUuMzM3LjU2MSAxNy45OSAxLjY4MyAyLjY5NiAxLjEgNC41NTEgMi42NzUgNS41NjUgNC43MjQgMS4wNTcgMi4wNDkgMS41NTMgNi4xNjkgMS42MzkgMTIuMzYuNDUzIDE5LjYwOCAxLjE4NiAzMi4yOTEgMi4wNzEgMzguMDcyIDEuMzgxIDguMzY5IDQuMDU1IDE1LjI5NCA3Ljg3MyAyMC42ODYgMi44MjYgMy44NCA3LjI0OCA3LjY1OCAxMy4zNTIgMTEuNjI3LTQuNzAyIDIuNjk2LTguNTIgNS44NDYtMTEuNTQgOS40NDgtMy4wNDEgMy41NTktNS40MzYgNy45Ni03LjIwNSAxMy4wNzItMS44MTIgNS4xNzctMi45NTUgMTIuMDgtMy4zMjIgMjAuNi0uNjY5IDE0LjE3Mi0xLjEgMjMuODE0LTEuMSAyOC44MTktLjA4NiA1LjAyNi0uNjY5IDguNTg1LTEuOTg0IDEwLjY5OS0xLjMxNiAyLjEzNi0zLjI3OSAzLjcxLTUuOTc1IDQuODUzLTIuNzE4IDEuMTIyLTguNTIgMS42MzktMTcuMzY0IDEuNjM5djI5LjY2aDYuNjIyYzEwLjc0MS4wNjQgMTguNjc5LS43MTIgMjMuNzA1LTIuMTU4eiJ9fSldKSl9fX0sNTMxMTpmdW5jdGlvbih0KXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMiAxOWEzIDMgMCAwMDMgM2gxNGEzIDMgMCAwMDMtM1Y1YTMgMyAwIDAwLTMtM0g1YTMgMyAwIDAwLTMgM3YxNHptLTIgMFY1YTUgNSAwIDAxNS01aDE0YTUgNSAwIDAxNSA1djE0YTUgNSAwIDAxLTUgNUg1YTUgNSAwIDAxLTUtNXptMTItOWExIDEgMCAwMTEgMXYyYTEgMSAwIDAxLTIgMHYtMmExIDEgMCAwMTEtMXptMCA2YTEgMSAwIDAxMSAxdjNhMSAxIDAgMDEtMiAwdi0zYTEgMSAwIDAxMS0xem0wLTEzYTEgMSAwIDAxMSAxdjNhMSAxIDAgMDEtMiAwVjRhMSAxIDAgMDExLTF6In19KV0pKX19fSw0NTI2OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xMi42NDEgMjEuOTMxYTcuMDEgNy4wMSAwIDAwMS4xNDYgMS43NEE1IDUgMCAwMTcgMTlWNWE1IDUgMCAxMTEwIDB2Ny4yOWE2Ljk3MiA2Ljk3MiAwIDAwLTIgLjk2NVY1YTMgMyAwIDAwLTYgMHYxNGEzIDMgMCAwMDMuNjQxIDIuOTMxek0xOSAxNGE1IDUgMCAxMTAgMTAgNSA1IDAgMDEwLTEwem0tMi41IDUuOTM4aDVhLjkzNy45MzcgMCAxMDAtMS44NzVoLTVhLjkzNy45MzcgMCAxMDAgMS44NzV6In19KV0pKX19fSw0NDY0OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xMy4yNTUgMTVhNi45NzIgNi45NzIgMCAwMC0uOTY1IDJINUE1IDUgMCAwMTUgN2gxNGE1IDUgMCAwMTQuNjcxIDYuNzg3IDcuMDEgNy4wMSAwIDAwLTEuNzQtMS4xNDZBMyAzIDAgMDAxOSA5SDVhMyAzIDAgMDAwIDZoOC4yNTV6TTE5IDE0YTUgNSAwIDExMCAxMCA1IDUgMCAwMTAtMTB6bS0yLjUgNS45MzhoNWEuOTM3LjkzNyAwIDEwMC0xLjg3NWgtNWEuOTM3LjkzNyAwIDEwMCAxLjg3NXoifX0pXSkpfX19LDYzNzg6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTE5IDE0YTUgNSAwIDExMCAxMCA1IDUgMCAwMTAtMTB6bS0yLjUgNS45MzhoNWEuOTM3LjkzNyAwIDEwMC0xLjg3NWgtNWEuOTM3LjkzNyAwIDEwMCAxLjg3NXpNMTIuMjkgMTdIOXY1aDMuNjc0Yy4zNTYuNzUuODQxIDEuNDI2IDEuNDI3IDJINWE1IDUgMCAwMS01LTVWNWE1IDUgMCAwMTUtNWgxNGE1IDUgMCAwMTUgNXYyLjgyM2EuODQzLjg0MyAwIDAxMCAuMzU0VjE0LjFhNy4wMTggNy4wMTggMCAwMC0yLTEuNDI3VjloLTV2My4yOWE2Ljk3MiA2Ljk3MiAwIDAwLTIgLjk2NVY5SDl2Nmg0LjI1NWE2Ljk3MiA2Ljk3MiAwIDAwLS45NjUgMnpNMTcgN2g1VjVhMyAzIDAgMDAtMy0zaC0ydjV6bS0yIDBWMkg5djVoNnpNNyAySDVhMyAzIDAgMDAtMyAzdjJoNVYyek0yIDl2Nmg1VjlIMnptMCA4djJhMyAzIDAgMDAzIDNoMnYtNUgyeiJ9fSldKSl9fX0sMjg2MTpmdW5jdGlvbih0KXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMTEuOTk5LjVDNS42NDkuNS41IDUuNjQ4LjUgMTJjMCA1LjA4MiAzLjI5NCA5LjM5MiA3Ljg2NSAxMC45MTQuNTc0LjEwMy43NTYtLjIzNi43NTYtLjU0MSAwLS4yNzQuMDA2LTEuMDM3IDAtMS45OTctMy4xOTguNjk0LTMuODYxLTEuNTE1LTMuODYxLTEuNTE1LS41MjMtMS4zMjktMS4yNzUtMS42ODItMS4yNzUtMS42ODItMS4wNDUtLjcxNC4wNzctLjY5OS4wNzctLjY5OSAxLjE1My4wOCAxLjc2MiAxLjE4NCAxLjc2MiAxLjE4NCAxLjAyNiAxLjc1OCAyLjY5MSAxLjI1IDMuMzQ2Ljk1Ni4xMDYtLjc0Mi40MDItMS4yNTEuNzMxLTEuNTM2LTIuNTU0LS4yOTItNS4yMzgtMS4yNzctNS4yMzgtNS42ODYgMC0xLjI1NS40NDgtMi4yODEgMS4xODQtMy4wODYtLjExOC0uMjg5LS41MTQtMS40Ni4xMTItMy4wNDMgMCAwIC45NjctLjMwOSAzLjE2MiAxLjE4YTExLjAxMSAxMS4wMTEgMCAwMTIuODgtLjM4OGMuOTc2LjAwNSAxLjk2LjEzMiAyLjg4LjM4OCAyLjE5NS0xLjQ4OCAzLjE1OS0xLjE4IDMuMTU5LTEuMTguNjI3IDEuNTgzLjIzMiAyLjc1NC4xMTQgMy4wNDMuNzM2LjgwNSAxLjE4MyAxLjgzMSAxLjE4MyAzLjA4NiAwIDQuNDItMi42ODkgNS4zOTEtNS4yNTEgNS42NzQuNDEyLjM1Ny43ODcgMS4wNDcuNzg3IDIuMTJ2My4xODRjMCAuMzA4LjE4Ni42NDcuNzcuNTM2QzIwLjIwOSAyMS4zODkgMjMuNSAxNy4wOCAyMy41IDEyIDIzLjUgNS42NDggMTguMzUyLjUgMTEuOTk5LjV6In19KV0pKX19fSwxMDMwOmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik01IDEzYTEgMSAwIDAxMC0yaDE0YTEgMSAwIDAxMCAySDV6In19KV0pKX19fSw5MTE4OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJjaXJjbGUiLHthdHRyczp7Y3g6IjkuNzUiLGN5OiI2LjI0NyIscjoiMi4yNSJ9fSksbigicGF0aCIse2F0dHJzOntkOiJNMTYuOTE2IDguNzFBMS4wMjcgMS4wMjcgMCAwMDE2IDguMTU4YTEuMDA3IDEuMDA3IDAgMDAtLjg5Mi41ODZsLTEuNTU4IDMuNDM0YS4yNDkuMjQ5IDAgMDEtLjQyMi4wNTNsLS44Mi0xLjAyNGExIDEgMCAwMC0uODEzLS4zNzYgMS4wMDcgMS4wMDcgMCAwMC0uNzg3LjQyNkw3LjU5IDE1LjcxYS41LjUgMCAwMC40MS43OWgxMmEuNS41IDAgMDAuNDI1LS4yMzcuNS41IDAgMDAuMDIyLS40ODZ6In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMiAwSDUuNWEyIDIgMCAwMC0yIDJ2MTYuNWEyIDIgMCAwMDIgMkgyMmEyIDIgMCAwMDItMlYyYTIgMiAwIDAwLTItMnptLS4xNDUgMTguMzU0YS41LjUgMCAwMS0uMzU0LjE0Nkg2YS41LjUgMCAwMS0uNS0uNVYyLjVBLjUuNSAwIDAxNiAyaDE1LjVhLjUuNSAwIDAxLjUuNVYxOGEuNS41IDAgMDEtLjE0NS4zNTF6In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xOS41IDIyaC0xN2EuNS41IDAgMDEtLjUtLjV2LTE3YTEgMSAwIDAwLTIgMFYyMmEyIDIgMCAwMDIgMmgxNy41YTEgMSAwIDAwMC0yeiJ9fSldKSl9fX0sNzA4MzpmdW5jdGlvbih0KXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMjIuNS4yNDhoLTcuNjM3YTEuMjUgMS4yNSAwIDAwMCAyLjVoMS4wODZhLjI1LjI1IDAgMDEuMjExLjM4NEw0Ljc4IDIxLjAxN2EuNS41IDAgMDEtLjQyMi4yMzFIMS41YTEuMjUgMS4yNSAwIDAwMCAyLjVoNy42MzdhMS4yNSAxLjI1IDAgMDAwLTIuNUg4LjA1MWEuMjUuMjUgMCAwMS0uMjExLS4zODRMMTkuMjIgMi45OGEuNS41IDAgMDEuNDIyLS4yMzJIMjIuNWExLjI1IDEuMjUgMCAwMDAtMi41eiJ9fSldKSl9fX0sMzE0NDpmdW5jdGlvbih0KXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMTIuNDA2IDE0LjkwNWExIDEgMCAwMC0uNTQzIDEuMzA3IDEgMSAwIDAxLS4yMTcgMS4wOWwtMi44MjggMi44MjlhMiAyIDAgMDEtMi44MjggMEwzLjg2OCAxOC4wMWEyIDIgMCAwMTAtMi44MjlMNi43IDEyLjM1M2ExLjAxMyAxLjAxMyAwIDAxMS4wOTEtLjIxNyAxIDEgMCAwMC43NjMtMS44NDkgMy4wMzQgMy4wMzQgMCAwMC0zLjI2OC42NTJsLTIuODMyIDIuODI4YTQuMDA2IDQuMDA2IDAgMDAwIDUuNjU3bDIuMTIyIDIuMTIxYTQgNCAwIDAwNS42NTYgMGwyLjgyOS0yLjgyOGEzLjAwOCAzLjAwOCAwIDAwLjY1MS0zLjI3IDEgMSAwIDAwLTEuMzA2LS41NDJ6In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik03Ljc1NyAxNi4yNDFhMS4wMTEgMS4wMTEgMCAwMDEuNDE0IDBsNy43NzktNy43NzhhMSAxIDAgMDAtMS40MTQtMS40MTRsLTcuNzc5IDcuNzc4YTEgMSAwIDAwMCAxLjQxNHoifX0pLG4oInBhdGgiLHthdHRyczp7ZDoiTTIxLjU0NiA0LjU3NGwtMi4xMjEtMi4xMjFhNC4wMDYgNC4wMDYgMCAwMC01LjY1NyAwbC0yLjgyOSAyLjgyOGEzLjAwNiAzLjAwNiAwIDAwLS42NTEgMy4yNjkgMSAxIDAgMTAxLjg0OS0uNzY0IDEgMSAwIDAxLjIxNy0xLjA4NmwyLjgyOC0yLjgyOGEyIDIgMCAwMTIuODI5IDBsMi4xMjEgMi4xMjFhMiAyIDAgMDEwIDIuODI5TDE3LjMgMTEuNjQ1YTEuMDE1IDEuMDE1IDAgMDEtMS4wOTEuMjE3IDEgMSAwIDAwLS43NjUgMS44NDkgMy4wMjYgMy4wMjYgMCAwMDMuMjctLjY1MWwyLjgyOC0yLjgyOGE0LjAwNyA0LjAwNyAwIDAwLjAwNC01LjY1OHoifX0pXSkpfX19LDk2Njc6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTEyIC41QTExLjYzNCAxMS42MzQgMCAwMC4yNjIgMTIgMTEuNjM0IDExLjYzNCAwIDAwMTIgMjMuNWExMS44MzYgMTEuODM2IDAgMDA2LjYyNC0yIDEuMjUgMS4yNSAwIDEwLTEuMzkzLTIuMDc2QTkuMzQgOS4zNCAwIDAxMTIgMjFhOS4xMzIgOS4xMzIgMCAwMS05LjIzOC05QTkuMTMyIDkuMTMyIDAgMDExMiAzYTkuMTMyIDkuMTMyIDAgMDE5LjIzOCA5di44OTFhMS45NDMgMS45NDMgMCAwMS0zLjg4NCAwVjEyQTUuMzU1IDUuMzU1IDAgMTAxMiAxNy4yNjFhNS4zNzYgNS4zNzYgMCAwMDMuODYxLTEuNjM0IDQuNDM4IDQuNDM4IDAgMDA3Ljg3Ny0yLjczNlYxMkExMS42MzQgMTEuNjM0IDAgMDAxMiAuNXptMCAxNC4yNjFBMi43NjMgMi43NjMgMCAxMTE0Ljg1NCAxMiAyLjgxMiAyLjgxMiAwIDAxMTIgMTQuNzYxeiJ9fSldKSl9fX0sODUyMTpmdW5jdGlvbih0KXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNNy43NSA0LjVoMTVhMSAxIDAgMDAwLTJoLTE1YTEgMSAwIDAwMCAyek0yMi43NSAxMWgtMTVhMSAxIDAgMTAwIDJoMTVhMSAxIDAgMDAwLTJ6TTIyLjc1IDE5LjVoLTE1YTEgMSAwIDAwMCAyaDE1YTEgMSAwIDAwMC0yek0yLjIxMiAxNy4yNDhhMiAyIDAgMDAtMS45MzMgMS40ODQuNzUuNzUgMCAxMDEuNDUuMzg2LjUuNSAwIDExLjQ4My42My43NS43NSAwIDEwMCAxLjUuNS41IDAgMTEtLjQ4Mi42MzUuNzUuNzUgMCAxMC0xLjQ0NS40IDIgMiAwIDEwMy41ODktMS42NDguMjUxLjI1MSAwIDAxMC0uMjc4IDIgMiAwIDAwLTEuNjYyLTMuMTExek00LjI1IDEwLjc0OGEyIDIgMCAwMC00IDAgLjc1Ljc1IDAgMDAxLjUgMCAuNS41IDAgMDExIDAgMS4wMzEgMS4wMzEgMCAwMS0uMjI3LjY0NUwuNDE0IDE0LjAyOUEuNzUuNzUgMCAwMDEgMTUuMjQ4aDIuNWEuNzUuNzUgMCAwMDAtMS41aC0uNDE5YS4yNDkuMjQ5IDAgMDEtLjE5NS0uNDA2TDMuNyAxMi4zM2EyLjU0NCAyLjU0NCAwIDAwLjU1LTEuNTgyek00IDUuMjQ4aC0uMjVBLjI1LjI1IDAgMDEzLjUgNVYxLjYyM0ExLjM3NyAxLjM3NyAwIDAwMi4xMjUuMjQ4SDEuNWEuNzUuNzUgMCAwMDAgMS41aC4yNUEuMjUuMjUgMCAwMTIgMnYzYS4yNS4yNSAwIDAxLS4yNS4yNUgxLjVhLjc1Ljc1IDAgMDAwIDEuNUg0YS43NS43NSAwIDAwMC0xLjV6In19KV0pKX19fSw3OTgwOmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMi41LjI0OEg3LjIyOGE2Ljk3NyA2Ljk3NyAwIDEwMCAxMy45NTRoMi4zMThhLjI1LjI1IDAgMDEuMjUuMjVWMjIuNWExLjI1IDEuMjUgMCAwMDIuNSAwVjNhLjI1LjI1IDAgMDEuMjUtLjI1aDMuNjgyYS4yNS4yNSAwIDAxLjI1LjI1djE5LjVhMS4yNSAxLjI1IDAgMDAyLjUgMFYzYS4yNDkuMjQ5IDAgMDEuMjUtLjI1SDIyLjVhMS4yNSAxLjI1IDAgMDAwLTIuNXpNOS44IDExLjQ1MmEuMjUuMjUgMCAwMS0uMjUuMjVINy4yMjhhNC40NzcgNC40NzcgMCAxMTAtOC45NTRoMi4zMThBLjI1LjI1IDAgMDE5LjggM3oifX0pXSkpfX19LDg2OTk6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTE4LjU1OSAzLjkzMmE0Ljk0MiA0Ljk0MiAwIDEwMCA5Ljg4MyA0LjYwOSA0LjYwOSAwIDAwMS4xMTUtLjE0MS4yNS4yNSAwIDAxLjI3Ni4zNjggNi44MyA2LjgzIDAgMDEtNS44NzggMy41MjMgMS4yNSAxLjI1IDAgMDAwIDIuNSA5LjcxIDkuNzEgMCAwMDkuNDI4LTkuOTVWOC44NzNhNC45NDcgNC45NDcgMCAwMC00Ljk0MS00Ljk0MXpNNi4yMzYgMy45MzJhNC45NDIgNC45NDIgMCAwMDAgOS44ODMgNC42IDQuNiAwIDAwMS4xMTUtLjE0MS4yNS4yNSAwIDAxLjI3Ny4zNjggNi44MyA2LjgzIDAgMDEtNS44NzggMy41MjMgMS4yNSAxLjI1IDAgMDAwIDIuNSA5LjcxMSA5LjcxMSAwIDAwOS40MjgtOS45NVY4Ljg3M2E0Ljk0NyA0Ljk0NyAwIDAwLTQuOTQyLTQuOTQxeiJ9fSldKSl9fX0sMzU0NjpmdW5jdGlvbih0KXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMjIuNjA4LjE2MWEuNS41IDAgMDAtLjU0NS4xMDhMMTkuNDcyIDIuODZhLjI1LjI1IDAgMDEtLjI5Mi4wNDUgMTIuNTM3IDEyLjUzNyAwIDAwLTEyLjk2Ni44NjVBMTIuMjU5IDEyLjI1OSAwIDAwNi4xIDIzLjYzMmExLjI1IDEuMjUgMCAwMDEuNDc2LTIuMDE4IDkuNzU5IDkuNzU5IDAgMDEuMDkxLTE1LjgwOSAxMCAxMCAwIDAxOS40NjYtMS4xLjI1LjI1IDAgMDEuMDg0LjQwOWwtMS44NSAxLjg1YS41LjUgMCAwMC4zNTQuODUzaDYuN2EuNS41IDAgMDAuNS0uNVYuNjIzYS41LjUgMCAwMC0uMzEzLS40NjJ6In19KV0pKX19fSwzMzE2OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMC40ODUgMy41MTFBMTIuMDEgMTIuMDEgMCAxMDI0IDEyYTEyLjAwOSAxMi4wMDkgMCAwMC0zLjUxNS04LjQ4OXptLTEuNzY3IDE1LjIxQTkuNTEgOS41MSAwIDExMjEuNSAxMmE5LjUwOCA5LjUwOCAwIDAxLTIuNzgyIDYuNzIxeiJ9fSksbigicGF0aCIse2F0dHJzOntkOiJNMTYuOTg3IDcuMDFhMS4yNzUgMS4yNzUgMCAwMC0xLjggMGwtMy4xNzcgMy4xNzdMOC44MjkgNy4wMWExLjI3NyAxLjI3NyAwIDAwLTEuODA1IDEuODA2bDMuMTc2IDMuMTc3LTMuMTc2IDMuMTc4YTEuMjc3IDEuMjc3IDAgMDAxLjgwNSAxLjgwNmwzLjE3Ni0zLjE3NyAzLjE3NyAzLjE3OGExLjI3NyAxLjI3NyAwIDAwMS44LTEuODA2bC0zLjE3Ni0zLjE3OCAzLjE3Ni0zLjE3N2ExLjI3OCAxLjI3OCAwIDAwLjAwNS0xLjgwN3oifX0pXSkpfX19LDk2NjY6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTIzLjc1IDEyLjk1MkExLjI1IDEuMjUgMCAwMDIyLjUgMTEuN2gtOC45MzZhLjQ5Mi40OTIgMCAwMS0uMjgyLS4wOWMtLjcyMi0uNTEzLTEuNDgyLS45ODEtMi4yMTgtMS40MzItMi44LTEuNzE1LTQuNS0yLjktNC41LTQuODYzIDAtMi4yMzUgMi4yMDctMi41NjkgMy41MjMtMi41NjlhNC41NCA0LjU0IDAgMDEzLjA4MS43NjQgMi42NjIgMi42NjIgMCAwMS40NDcgMS45OXYuM2ExLjI1IDEuMjUgMCAxMDIuNSAwdi0uMjY4YTQuODg3IDQuODg3IDAgMDAtMS4xNjUtMy43NzdDMTMuOTQ5Ljc0MSAxMi4zNTkuMjQ4IDEwLjA5MS4yNDhjLTMuNjU4IDAtNi4wMjMgMS45ODktNi4wMjMgNS4wNjkgMCAyLjc3MyAxLjg5MiA0LjUxMiA0IDUuOTI3YS4yNS4yNSAwIDAxLS4xMzkuNDU4SDEuNWExLjI1IDEuMjUgMCAwMDAgMi41aDEwLjk3N2EuMjUxLjI1MSAwIDAxLjE1OS4wNTggNC4zMzkgNC4zMzkgMCAwMTEuOTMyIDMuNDY2YzAgMy4yNjgtMy40MjYgMy41MjItNC40NzcgMy41MjItMS44MTQgMC0zLjEzOS0uNDA1LTMuODM0LTEuMTczYTMuMzk0IDMuMzk0IDAgMDEtLjY1LTIuNyAxLjI1IDEuMjUgMCAwMC0yLjQ4OC0uMjQ2QTUuNzYgNS43NiAwIDAwNC40IDIxLjc1M2MxLjIgMS4zMjQgMy4xMTQgMiA1LjY4OCAyIDQuMTc0IDAgNi45NzctMi40MiA2Ljk3Ny02LjAyMmE2LjA1OSA2LjA1OSAwIDAwLS44NDktMy4xNDcuMjUuMjUgMCAwMS4yMTYtLjM3N0gyMi41YTEuMjUgMS4yNSAwIDAwMS4yNS0xLjI1NXoifX0pXSkpfX19LDM0NjI6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ImZpbGwtcnVsZSI6ImV2ZW5vZGQiLGQ6Ik0xNyAxN3Y1aDJhMyAzIDAgMDAzLTN2LTJoLTV6bS0yIDBIOXY1aDZ2LTV6bTItMmg1VjloLTV2NnptLTIgMFY5SDl2Nmg2em0yLThoNVY1YTMgMyAwIDAwLTMtM2gtMnY1em0tMiAwVjJIOXY1aDZ6bTkgOS4xNzdWMTlhNSA1IDAgMDEtNSA1SDVhNSA1IDAgMDEtNS01VjVhNSA1IDAgMDE1LTVoMTRhNSA1IDAgMDE1IDV2Mi44MjNhLjg0My44NDMgMCAwMTAgLjM1NHY3LjY0NmEuODQzLjg0MyAwIDAxMCAuMzU0ek03IDJINWEzIDMgMCAwMC0zIDN2Mmg1VjJ6TTIgOXY2aDVWOUgyem0wIDh2MmEzIDMgMCAwMDMgM2gydi01SDJ6In19KV0pKX19fSwzNzI0OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJjaXJjbGUiLHthdHRyczp7Y3g6IjIuNSIsY3k6IjMuOTk4IixyOiIyLjUifX0pLG4oInBhdGgiLHthdHRyczp7ZDoiTTguNSA1SDIzYTEgMSAwIDAwMC0ySDguNWExIDEgMCAwMDAgMnoifX0pLG4oImNpcmNsZSIse2F0dHJzOntjeDoiMi41IixjeToiMTEuOTk4IixyOiIyLjUifX0pLG4oInBhdGgiLHthdHRyczp7ZDoiTTIzIDExSDguNWExIDEgMCAwMDAgMkgyM2ExIDEgMCAwMDAtMnoifX0pLG4oImNpcmNsZSIse2F0dHJzOntjeDoiMi41IixjeToiMTkuOTk4IixyOiIyLjUifX0pLG4oInBhdGgiLHthdHRyczp7ZDoiTTIzIDE5SDguNWExIDEgMCAwMDAgMkgyM2ExIDEgMCAwMDAtMnoifX0pXSkpfX19LDE2MDc6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTIyLjUgMjEuMjQ4aC0yMWExLjI1IDEuMjUgMCAwMDAgMi41aDIxYTEuMjUgMS4yNSAwIDAwMC0yLjV6TTEuOTc4IDIuNzQ4aDEuMzYzYS4yNS4yNSAwIDAxLjI1LjI1djguNTIzYTguNDA5IDguNDA5IDAgMDAxNi44MTggMFYzYS4yNS4yNSAwIDAxLjI1LS4yNWgxLjM2M2ExLjI1IDEuMjUgMCAwMDAtMi41SDE2LjNhMS4yNSAxLjI1IDAgMDAwIDIuNWgxLjM2M2EuMjUuMjUgMCAwMS4yNS4yNXY4LjUyM2E1LjkwOSA1LjkwOSAwIDAxLTExLjgxOCAwVjNhLjI1LjI1IDAgMDEuMjUtLjI1SDcuN2ExLjI1IDEuMjUgMCAxMDAtMi41SDEuOTc4YTEuMjUgMS4yNSAwIDAwMCAyLjV6In19KV0pKX19fSwzNjY5OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xNy43ODYgMy43N2ExMi41NDIgMTIuNTQyIDAgMDAtMTIuOTY1LS44NjUuMjQ5LjI0OSAwIDAxLS4yOTItLjA0NUwxLjkzNy4yNjlBLjUwNy41MDcgMCAwMDEuMzkyLjE2YS41LjUgMCAwMC0uMzA4LjQ2MnY2LjdhLjUuNSAwIDAwLjUuNWg2LjdhLjUuNSAwIDAwLjM1NC0uODU0TDYuNzgzIDUuMTE1YS4yNTMuMjUzIDAgMDEtLjA2OC0uMjI4LjI0OS4yNDkgMCAwMS4xNTItLjE4MSAxMCAxMCAwIDAxOS40NjYgMS4xIDkuNzU5IDkuNzU5IDAgMDEuMDk0IDE1LjgwOSAxLjI1IDEuMjUgMCAwMDEuNDczIDIuMDE2IDEyLjEyMiAxMi4xMjIgMCAwMDUuMDEzLTkuOTYxIDEyLjEyNSAxMi4xMjUgMCAwMC01LjEyNy05Ljl6In19KV0pKX19fSwyMDA1OmZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9dH19LG49e307ZnVuY3Rpb24gcih0KXt2YXIgbz1uW3RdO2lmKHZvaWQgMCE9PW8pcmV0dXJuIG8uZXhwb3J0czt2YXIgaT1uW3RdPXtleHBvcnRzOnt9fTtyZXR1cm4gZVt0XS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxyKSxpLmV4cG9ydHN9IWZ1bmN0aW9uKCl7ci5uPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0WyJkZWZhdWx0Il19OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiByLmQoZSx7YTplfSksZX19KCksZnVuY3Rpb24oKXtyLmQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSlyLm8oZSxuKSYmIXIubyh0LG4pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHtlbnVtZXJhYmxlOiEwLGdldDplW25dfSl9fSgpLGZ1bmN0aW9uKCl7ci5nPWZ1bmN0aW9uKCl7aWYoIm9iamVjdCI9PT10eXBlb2YgZ2xvYmFsVGhpcylyZXR1cm4gZ2xvYmFsVGhpczt0cnl7cmV0dXJuIHRoaXN8fG5ldyBGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfWNhdGNoKHQpe2lmKCJvYmplY3QiPT09dHlwZW9mIHdpbmRvdylyZXR1cm4gd2luZG93fX0oKX0oKSxmdW5jdGlvbigpe3Iubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX19KCksZnVuY3Rpb24oKXtyLnA9IiJ9KCk7dmFyIG89e307cmV0dXJuIGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2lmKCJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdyl7dmFyIHQ9d2luZG93LmRvY3VtZW50LmN1cnJlbnRTY3JpcHQsZT1yKDc2NzkpO3Q9ZSgpLCJjdXJyZW50U2NyaXB0ImluIGRvY3VtZW50fHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsImN1cnJlbnRTY3JpcHQiLHtnZXQ6ZX0pO3ZhciBuPXQmJnQuc3JjLm1hdGNoKC8oLitcLylbXi9dK1wuanMoXD8uKik/JC8pO24mJihyLnA9blsxXSl9dmFyIG89ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC4kY3JlYXRlRWxlbWVudCxuPXQuX3NlbGYuX2N8fGU7cmV0dXJuIG4oImRpdiIse3N0YXRpY0NsYXNzOiJ0aXB0YXAtZWRpdG9yIn0sW24oImVkaXRvci1tZW51LWJhciIse2F0dHJzOntlZGl0b3I6dC5lZGl0b3J9LHNjb3BlZFNsb3RzOnQuX3UoW3trZXk6ImRlZmF1bHQiLGZuOmZ1bmN0aW9uKGUpe3ZhciByPWUuY29tbWFuZHMsbz1lLmlzQWN0aXZlO3JldHVybltuKCJkaXYiLHtzdGF0aWNDbGFzczoibWVudWJhciJ9LFtuKCJkaXYiLHtzdGF0aWNDbGFzczoidG9vbGJhciJ9LFtuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5oZWFkaW5nKHtsZXZlbDoxfSl9LG9uOntjbGljazpmdW5jdGlvbih0KXtyZXR1cm4gci5oZWFkaW5nKHtsZXZlbDoxfSl9fX0sW3QuX3YoIiBIMSAiKV0pLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLmhlYWRpbmcoe2xldmVsOjJ9KX0sb246e2NsaWNrOmZ1bmN0aW9uKHQpe3JldHVybiByLmhlYWRpbmcoe2xldmVsOjJ9KX19fSxbdC5fdigiIEgyICIpXSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8uaGVhZGluZyh7bGV2ZWw6M30pfSxvbjp7Y2xpY2s6ZnVuY3Rpb24odCl7cmV0dXJuIHIuaGVhZGluZyh7bGV2ZWw6M30pfX19LFt0Ll92KCIgSDMgIildKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5idWxsZXRfbGlzdCgpfSxvbjp7Y2xpY2s6ci5idWxsZXRfbGlzdH19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6InVsIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8ub3JkZXJlZF9saXN0KCl9LG9uOntjbGljazpyLm9yZGVyZWRfbGlzdH19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6Im9sIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8uYm9sZCgpfSxvbjp7Y2xpY2s6ci5ib2xkfX0sW24oImljb24iLHthdHRyczp7bmFtZToiYm9sZCJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLml0YWxpYygpfSxvbjp7Y2xpY2s6ci5pdGFsaWN9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJpdGFsaWMifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5zdHJpa2UoKX0sb246e2NsaWNrOnIuc3RyaWtlfX0sW24oImljb24iLHthdHRyczp7bmFtZToic3RyaWtlIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8udW5kZXJsaW5lKCl9LG9uOntjbGljazpyLnVuZGVybGluZX19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6InVuZGVybGluZSJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLmNvZGUoKX0sb246e2NsaWNrOnIuY29kZX19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImNvZGUifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5wYXJhZ3JhcGgoKX0sb246e2NsaWNrOnIucGFyYWdyYXBofX0sW24oImljb24iLHthdHRyczp7bmFtZToicGFyYWdyYXBoIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8uYmxvY2txdW90ZSgpfSxvbjp7Y2xpY2s6ci5ibG9ja3F1b3RlfX0sW24oImljb24iLHthdHRyczp7bmFtZToicXVvdGUifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5jb2RlX2Jsb2NrKCl9LG9uOntjbGljazpyLmNvZGVfYmxvY2t9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJjb2RlX2Jsb2NrIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsb246e2NsaWNrOmZ1bmN0aW9uKHQpe3JldHVybiByLmNyZWF0ZVRhYmxlKHtyb3dzQ291bnQ6Myxjb2xzQ291bnQ6Myx3aXRoSGVhZGVyUm93OiExfSl9fX0sW24oImljb24iLHthdHRyczp7bmFtZToidGFibGUifX0pXSwxKSxvLnRhYmxlKCk/bigic3BhbiIsW24oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLG9uOntjbGljazpyLmRlbGV0ZVRhYmxlfX0sW24oImljb24iLHthdHRyczp7bmFtZToiZGVsZXRlX3RhYmxlIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsb246e2NsaWNrOnIuYWRkQ29sdW1uQmVmb3JlfX0sW24oImljb24iLHthdHRyczp7bmFtZToiYWRkX2NvbF9iZWZvcmUifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixvbjp7Y2xpY2s6ci5hZGRDb2x1bW5BZnRlcn19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImFkZF9jb2xfYWZ0ZXIifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixvbjp7Y2xpY2s6ci5kZWxldGVDb2x1bW59fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJkZWxldGVfY29sIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsb246e2NsaWNrOnIuYWRkUm93QmVmb3JlfX0sW24oImljb24iLHthdHRyczp7bmFtZToiYWRkX3Jvd19iZWZvcmUifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixvbjp7Y2xpY2s6ci5hZGRSb3dBZnRlcn19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImFkZF9yb3dfYWZ0ZXIifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixvbjp7Y2xpY2s6ci5kZWxldGVSb3d9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJkZWxldGVfcm93In19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsb246e2NsaWNrOnIudG9nZ2xlQ2VsbE1lcmdlfX0sW24oImljb24iLHthdHRyczp7bmFtZToiY29tYmluZV9jZWxscyJ9fSldLDEpXSk6dC5fZSgpXSldKV19fV0pfSksbigiZWRpdG9yLWNvbnRlbnQiLHtzdGF0aWNDbGFzczoidGlwdGFwLWVkaXRvcl9fY29udGVudCIsYXR0cnM6e2VkaXRvcjp0LmVkaXRvcn19KV0sMSl9LGk9W107ZnVuY3Rpb24gcyh0KXt0aGlzLmNvbnRlbnQ9dH1zLnByb3RvdHlwZT17Y29uc3RydWN0b3I6cyxmaW5kOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5jb250ZW50Lmxlbmd0aDtlKz0yKWlmKHRoaXMuY29udGVudFtlXT09PXQpcmV0dXJuIGU7cmV0dXJuLTF9LGdldDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmZpbmQodCk7cmV0dXJuLTE9PWU/dm9pZCAwOnRoaXMuY29udGVudFtlKzFdfSx1cGRhdGU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4mJm4hPXQ/dGhpcy5yZW1vdmUobik6dGhpcyxvPXIuZmluZCh0KSxpPXIuY29udGVudC5zbGljZSgpO3JldHVybi0xPT1vP2kucHVzaChufHx0LGUpOihpW28rMV09ZSxuJiYoaVtvXT1uKSksbmV3IHMoaSl9LHJlbW92ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmZpbmQodCk7aWYoLTE9PWUpcmV0dXJuIHRoaXM7dmFyIG49dGhpcy5jb250ZW50LnNsaWNlKCk7cmV0dXJuIG4uc3BsaWNlKGUsMiksbmV3IHMobil9LGFkZFRvU3RhcnQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHMoW3QsZV0uY29uY2F0KHRoaXMucmVtb3ZlKHQpLmNvbnRlbnQpKX0sYWRkVG9FbmQ6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnJlbW92ZSh0KS5jb250ZW50LnNsaWNlKCk7cmV0dXJuIG4ucHVzaCh0LGUpLG5ldyBzKG4pfSxhZGRCZWZvcmU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMucmVtb3ZlKGUpLG89ci5jb250ZW50LnNsaWNlKCksaT1yLmZpbmQodCk7cmV0dXJuIG8uc3BsaWNlKC0xPT1pP28ubGVuZ3RoOmksMCxlLG4pLG5ldyBzKG8pfSxmb3JFYWNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5jb250ZW50Lmxlbmd0aDtlKz0yKXQodGhpcy5jb250ZW50W2VdLHRoaXMuY29udGVudFtlKzFdKX0scHJlcGVuZDpmdW5jdGlvbih0KXtyZXR1cm4gdD1zLmZyb20odCksdC5zaXplP25ldyBzKHQuY29udGVudC5jb25jYXQodGhpcy5zdWJ0cmFjdCh0KS5jb250ZW50KSk6dGhpc30sYXBwZW5kOmZ1bmN0aW9uKHQpe3JldHVybiB0PXMuZnJvbSh0KSx0LnNpemU/bmV3IHModGhpcy5zdWJ0cmFjdCh0KS5jb250ZW50LmNvbmNhdCh0LmNvbnRlbnQpKTp0aGlzfSxzdWJ0cmFjdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3Q9cy5mcm9tKHQpO2Zvcih2YXIgbj0wO248dC5jb250ZW50Lmxlbmd0aDtuKz0yKWU9ZS5yZW1vdmUodC5jb250ZW50W25dKTtyZXR1cm4gZX0sZ2V0IHNpemUoKXtyZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aD4+MX19LHMuZnJvbT1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgcylyZXR1cm4gdDt2YXIgZT1bXTtpZih0KWZvcih2YXIgbiBpbiB0KWUucHVzaChuLHRbbl0pO3JldHVybiBuZXcgcyhlKX07dmFyIGE9cyxjPWE7ZnVuY3Rpb24gbCh0LGUsbil7Zm9yKHZhciByPTA7O3IrKyl7aWYocj09dC5jaGlsZENvdW50fHxyPT1lLmNoaWxkQ291bnQpcmV0dXJuIHQuY2hpbGRDb3VudD09ZS5jaGlsZENvdW50P251bGw6bjt2YXIgbz10LmNoaWxkKHIpLGk9ZS5jaGlsZChyKTtpZihvIT1pKXtpZighby5zYW1lTWFya3VwKGkpKXJldHVybiBuO2lmKG8uaXNUZXh0JiZvLnRleHQhPWkudGV4dCl7Zm9yKHZhciBzPTA7by50ZXh0W3NdPT1pLnRleHRbc107cysrKW4rKztyZXR1cm4gbn1pZihvLmNvbnRlbnQuc2l6ZXx8aS5jb250ZW50LnNpemUpe3ZhciBhPWwoby5jb250ZW50LGkuY29udGVudCxuKzEpO2lmKG51bGwhPWEpcmV0dXJuIGF9bis9by5ub2RlU2l6ZX1lbHNlIG4rPW8ubm9kZVNpemV9fWZ1bmN0aW9uIHUodCxlLG4scil7Zm9yKHZhciBvPXQuY2hpbGRDb3VudCxpPWUuY2hpbGRDb3VudDs7KXtpZigwPT1vfHwwPT1pKXJldHVybiBvPT1pP251bGw6e2E6bixiOnJ9O3ZhciBzPXQuY2hpbGQoLS1vKSxhPWUuY2hpbGQoLS1pKSxjPXMubm9kZVNpemU7aWYocyE9YSl7aWYoIXMuc2FtZU1hcmt1cChhKSlyZXR1cm57YTpuLGI6cn07aWYocy5pc1RleHQmJnMudGV4dCE9YS50ZXh0KXt2YXIgbD0wLHA9TWF0aC5taW4ocy50ZXh0Lmxlbmd0aCxhLnRleHQubGVuZ3RoKTt3aGlsZShsPHAmJnMudGV4dFtzLnRleHQubGVuZ3RoLWwtMV09PWEudGV4dFthLnRleHQubGVuZ3RoLWwtMV0pbCsrLG4tLSxyLS07cmV0dXJue2E6bixiOnJ9fWlmKHMuY29udGVudC5zaXplfHxhLmNvbnRlbnQuc2l6ZSl7dmFyIGg9dShzLmNvbnRlbnQsYS5jb250ZW50LG4tMSxyLTEpO2lmKGgpcmV0dXJuIGh9bi09YyxyLT1jfWVsc2Ugbi09YyxyLT1jfX12YXIgcD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuY29udGVudD10LHRoaXMuc2l6ZT1lfHwwLG51bGw9PWUpZm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspdGhpcy5zaXplKz10W25dLm5vZGVTaXplfSxoPXtmaXJzdENoaWxkOntjb25maWd1cmFibGU6ITB9LGxhc3RDaGlsZDp7Y29uZmlndXJhYmxlOiEwfSxjaGlsZENvdW50Ontjb25maWd1cmFibGU6ITB9fTtwLnByb3RvdHlwZS5ub2Rlc0JldHdlZW49ZnVuY3Rpb24odCxlLG4scixvKXt2b2lkIDA9PT1yJiYocj0wKTtmb3IodmFyIGk9MCxzPTA7czxlO2krKyl7dmFyIGE9dGhpcy5jb250ZW50W2ldLGM9cythLm5vZGVTaXplO2lmKGM+dCYmITEhPT1uKGEscitzLG8saSkmJmEuY29udGVudC5zaXplKXt2YXIgbD1zKzE7YS5ub2Rlc0JldHdlZW4oTWF0aC5tYXgoMCx0LWwpLE1hdGgubWluKGEuY29udGVudC5zaXplLGUtbCksbixyK2wpfXM9Y319LHAucHJvdG90eXBlLmRlc2NlbmRhbnRzPWZ1bmN0aW9uKHQpe3RoaXMubm9kZXNCZXR3ZWVuKDAsdGhpcy5zaXplLHQpfSxwLnByb3RvdHlwZS50ZXh0QmV0d2Vlbj1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz0iIixpPSEwO3JldHVybiB0aGlzLm5vZGVzQmV0d2Vlbih0LGUsKGZ1bmN0aW9uKHMsYSl7cy5pc1RleHQ/KG8rPXMudGV4dC5zbGljZShNYXRoLm1heCh0LGEpLWEsZS1hKSxpPSFuKTpzLmlzTGVhZiYmcj8obys9cixpPSFuKTohaSYmcy5pc0Jsb2NrJiYobys9bixpPSEwKX0pLDApLG99LHAucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbih0KXtpZighdC5zaXplKXJldHVybiB0aGlzO2lmKCF0aGlzLnNpemUpcmV0dXJuIHQ7dmFyIGU9dGhpcy5sYXN0Q2hpbGQsbj10LmZpcnN0Q2hpbGQscj10aGlzLmNvbnRlbnQuc2xpY2UoKSxvPTA7Zm9yKGUuaXNUZXh0JiZlLnNhbWVNYXJrdXAobikmJihyW3IubGVuZ3RoLTFdPWUud2l0aFRleHQoZS50ZXh0K24udGV4dCksbz0xKTtvPHQuY29udGVudC5sZW5ndGg7bysrKXIucHVzaCh0LmNvbnRlbnRbb10pO3JldHVybiBuZXcgcChyLHRoaXMuc2l6ZSt0LnNpemUpfSxwLnByb3RvdHlwZS5jdXQ9ZnVuY3Rpb24odCxlKXtpZihudWxsPT1lJiYoZT10aGlzLnNpemUpLDA9PXQmJmU9PXRoaXMuc2l6ZSlyZXR1cm4gdGhpczt2YXIgbj1bXSxyPTA7aWYoZT50KWZvcih2YXIgbz0wLGk9MDtpPGU7bysrKXt2YXIgcz10aGlzLmNvbnRlbnRbb10sYT1pK3Mubm9kZVNpemU7YT50JiYoKGk8dHx8YT5lKSYmKHM9cy5pc1RleHQ/cy5jdXQoTWF0aC5tYXgoMCx0LWkpLE1hdGgubWluKHMudGV4dC5sZW5ndGgsZS1pKSk6cy5jdXQoTWF0aC5tYXgoMCx0LWktMSksTWF0aC5taW4ocy5jb250ZW50LnNpemUsZS1pLTEpKSksbi5wdXNoKHMpLHIrPXMubm9kZVNpemUpLGk9YX1yZXR1cm4gbmV3IHAobixyKX0scC5wcm90b3R5cGUuY3V0QnlJbmRleD1mdW5jdGlvbih0LGUpe3JldHVybiB0PT1lP3AuZW1wdHk6MD09dCYmZT09dGhpcy5jb250ZW50Lmxlbmd0aD90aGlzOm5ldyBwKHRoaXMuY29udGVudC5zbGljZSh0LGUpKX0scC5wcm90b3R5cGUucmVwbGFjZUNoaWxkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5jb250ZW50W3RdO2lmKG49PWUpcmV0dXJuIHRoaXM7dmFyIHI9dGhpcy5jb250ZW50LnNsaWNlKCksbz10aGlzLnNpemUrZS5ub2RlU2l6ZS1uLm5vZGVTaXplO3JldHVybiByW3RdPWUsbmV3IHAocixvKX0scC5wcm90b3R5cGUuYWRkVG9TdGFydD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHAoW3RdLmNvbmNhdCh0aGlzLmNvbnRlbnQpLHRoaXMuc2l6ZSt0Lm5vZGVTaXplKX0scC5wcm90b3R5cGUuYWRkVG9FbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBwKHRoaXMuY29udGVudC5jb25jYXQodCksdGhpcy5zaXplK3Qubm9kZVNpemUpfSxwLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtpZih0aGlzLmNvbnRlbnQubGVuZ3RoIT10LmNvbnRlbnQubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZT0wO2U8dGhpcy5jb250ZW50Lmxlbmd0aDtlKyspaWYoIXRoaXMuY29udGVudFtlXS5lcSh0LmNvbnRlbnRbZV0pKXJldHVybiExO3JldHVybiEwfSxoLmZpcnN0Q2hpbGQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGg/dGhpcy5jb250ZW50WzBdOm51bGx9LGgubGFzdENoaWxkLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQubGVuZ3RoP3RoaXMuY29udGVudFt0aGlzLmNvbnRlbnQubGVuZ3RoLTFdOm51bGx9LGguY2hpbGRDb3VudC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aH0scC5wcm90b3R5cGUuY2hpbGQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZW50W3RdO2lmKCFlKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCAiK3QrIiBvdXQgb2YgcmFuZ2UgZm9yICIrdGhpcyk7cmV0dXJuIGV9LHAucHJvdG90eXBlLm1heWJlQ2hpbGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udGVudFt0XX0scC5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPTA7ZTx0aGlzLmNvbnRlbnQubGVuZ3RoO2UrKyl7dmFyIHI9dGhpcy5jb250ZW50W2VdO3QocixuLGUpLG4rPXIubm9kZVNpemV9fSxwLnByb3RvdHlwZS5maW5kRGlmZlN0YXJ0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLGwodGhpcyx0LGUpfSxwLnByb3RvdHlwZS5maW5kRGlmZkVuZD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHZvaWQgMD09PWUmJihlPXRoaXMuc2l6ZSksdm9pZCAwPT09biYmKG49dC5zaXplKSx1KHRoaXMsdCxlLG4pfSxwLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT0tMSksMD09dClyZXR1cm4gZCgwLHQpO2lmKHQ9PXRoaXMuc2l6ZSlyZXR1cm4gZCh0aGlzLmNvbnRlbnQubGVuZ3RoLHQpO2lmKHQ+dGhpcy5zaXplfHx0PDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlBvc2l0aW9uICIrdCsiIG91dHNpZGUgb2YgZnJhZ21lbnQgKCIrdGhpcysiKSIpO2Zvcih2YXIgbj0wLHI9MDs7bisrKXt2YXIgbz10aGlzLmNoaWxkKG4pLGk9citvLm5vZGVTaXplO2lmKGk+PXQpcmV0dXJuIGk9PXR8fGU+MD9kKG4rMSxpKTpkKG4scik7cj1pfX0scC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iPCIrdGhpcy50b1N0cmluZ0lubmVyKCkrIj4ifSxwLnByb3RvdHlwZS50b1N0cmluZ0lubmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudC5qb2luKCIsICIpfSxwLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aD90aGlzLmNvbnRlbnQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50b0pTT04oKX0pKTpudWxsfSxwLmZyb21KU09OPWZ1bmN0aW9uKHQsZSl7aWYoIWUpcmV0dXJuIHAuZW1wdHk7aWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIEZyYWdtZW50LmZyb21KU09OIik7cmV0dXJuIG5ldyBwKGUubWFwKHQubm9kZUZyb21KU09OKSl9LHAuZnJvbUFycmF5PWZ1bmN0aW9uKHQpe2lmKCF0Lmxlbmd0aClyZXR1cm4gcC5lbXB0eTtmb3IodmFyIGUsbj0wLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtuKz1vLm5vZGVTaXplLHImJm8uaXNUZXh0JiZ0W3ItMV0uc2FtZU1hcmt1cChvKT8oZXx8KGU9dC5zbGljZSgwLHIpKSxlW2UubGVuZ3RoLTFdPW8ud2l0aFRleHQoZVtlLmxlbmd0aC0xXS50ZXh0K28udGV4dCkpOmUmJmUucHVzaChvKX1yZXR1cm4gbmV3IHAoZXx8dCxuKX0scC5mcm9tPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiBwLmVtcHR5O2lmKHQgaW5zdGFuY2VvZiBwKXJldHVybiB0O2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHRoaXMuZnJvbUFycmF5KHQpO2lmKHQuYXR0cnMpcmV0dXJuIG5ldyBwKFt0XSx0Lm5vZGVTaXplKTt0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQ2FuIG5vdCBjb252ZXJ0ICIrdCsiIHRvIGEgRnJhZ21lbnQiKyh0Lm5vZGVzQmV0d2Vlbj8iIChsb29rcyBsaWtlIG11bHRpcGxlIHZlcnNpb25zIG9mIHByb3NlbWlycm9yLW1vZGVsIHdlcmUgbG9hZGVkKSI6IiIpKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocC5wcm90b3R5cGUsaCk7dmFyIGY9e2luZGV4OjAsb2Zmc2V0OjB9O2Z1bmN0aW9uIGQodCxlKXtyZXR1cm4gZi5pbmRleD10LGYub2Zmc2V0PWUsZn1mdW5jdGlvbiBtKHQsZSl7aWYodD09PWUpcmV0dXJuITA7aWYoIXR8fCJvYmplY3QiIT10eXBlb2YgdHx8IWV8fCJvYmplY3QiIT10eXBlb2YgZSlyZXR1cm4hMTt2YXIgbj1BcnJheS5pc0FycmF5KHQpO2lmKEFycmF5LmlzQXJyYXkoZSkhPW4pcmV0dXJuITE7aWYobil7aWYodC5sZW5ndGghPWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWlmKCFtKHRbcl0sZVtyXSkpcmV0dXJuITF9ZWxzZXtmb3IodmFyIG8gaW4gdClpZighKG8gaW4gZSl8fCFtKHRbb10sZVtvXSkpcmV0dXJuITE7Zm9yKHZhciBpIGluIGUpaWYoIShpIGluIHQpKXJldHVybiExfXJldHVybiEwfXAuZW1wdHk9bmV3IHAoW10sMCk7dmFyIHY9ZnVuY3Rpb24odCxlKXt0aGlzLnR5cGU9dCx0aGlzLmF0dHJzPWV9O2Z1bmN0aW9uIGcodCl7dmFyIGU9RXJyb3IuY2FsbCh0aGlzLHQpO3JldHVybiBlLl9fcHJvdG9fXz1nLnByb3RvdHlwZSxlfXYucHJvdG90eXBlLmFkZFRvU2V0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPSExLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtpZih0aGlzLmVxKG8pKXJldHVybiB0O2lmKHRoaXMudHlwZS5leGNsdWRlcyhvLnR5cGUpKWV8fChlPXQuc2xpY2UoMCxyKSk7ZWxzZXtpZihvLnR5cGUuZXhjbHVkZXModGhpcy50eXBlKSlyZXR1cm4gdDshbiYmby50eXBlLnJhbms+dGhpcy50eXBlLnJhbmsmJihlfHwoZT10LnNsaWNlKDAscikpLGUucHVzaCh0aGlzKSxuPSEwKSxlJiZlLnB1c2gobyl9fXJldHVybiBlfHwoZT10LnNsaWNlKCkpLG58fGUucHVzaCh0aGlzKSxlfSx2LnByb3RvdHlwZS5yZW1vdmVGcm9tU2V0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRoaXMuZXEodFtlXSkpcmV0dXJuIHQuc2xpY2UoMCxlKS5jb25jYXQodC5zbGljZShlKzEpKTtyZXR1cm4gdH0sdi5wcm90b3R5cGUuaXNJblNldD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpZih0aGlzLmVxKHRbZV0pKXJldHVybiEwO3JldHVybiExfSx2LnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09dHx8dGhpcy50eXBlPT10LnR5cGUmJm0odGhpcy5hdHRycyx0LmF0dHJzKX0sdi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIHQ9e3R5cGU6dGhpcy50eXBlLm5hbWV9O2Zvcih2YXIgZSBpbiB0aGlzLmF0dHJzKXt0LmF0dHJzPXRoaXMuYXR0cnM7YnJlYWt9cmV0dXJuIHR9LHYuZnJvbUpTT049ZnVuY3Rpb24odCxlKXtpZighZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgTWFyay5mcm9tSlNPTiIpO3ZhciBuPXQubWFya3NbZS50eXBlXTtpZighbil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGhlcmUgaXMgbm8gbWFyayB0eXBlICIrZS50eXBlKyIgaW4gdGhpcyBzY2hlbWEiKTtyZXR1cm4gbi5jcmVhdGUoZS5hdHRycyl9LHYuc2FtZVNldD1mdW5jdGlvbih0LGUpe2lmKHQ9PWUpcmV0dXJuITA7aWYodC5sZW5ndGghPWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKCF0W25dLmVxKGVbbl0pKXJldHVybiExO3JldHVybiEwfSx2LnNldEZyb209ZnVuY3Rpb24odCl7aWYoIXR8fDA9PXQubGVuZ3RoKXJldHVybiB2Lm5vbmU7aWYodCBpbnN0YW5jZW9mIHYpcmV0dXJuW3RdO3ZhciBlPXQuc2xpY2UoKTtyZXR1cm4gZS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnR5cGUucmFuay1lLnR5cGUucmFua30pKSxlfSx2Lm5vbmU9W10sZy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLGcucHJvdG90eXBlLmNvbnN0cnVjdG9yPWcsZy5wcm90b3R5cGUubmFtZT0iUmVwbGFjZUVycm9yIjt2YXIgeT1mdW5jdGlvbih0LGUsbil7dGhpcy5jb250ZW50PXQsdGhpcy5vcGVuU3RhcnQ9ZSx0aGlzLm9wZW5FbmQ9bn0sdz17c2l6ZTp7Y29uZmlndXJhYmxlOiEwfX07ZnVuY3Rpb24gYih0LGUsbil7dmFyIHI9dC5maW5kSW5kZXgoZSksbz1yLmluZGV4LGk9ci5vZmZzZXQscz10Lm1heWJlQ2hpbGQobyksYT10LmZpbmRJbmRleChuKSxjPWEuaW5kZXgsbD1hLm9mZnNldDtpZihpPT1lfHxzLmlzVGV4dCl7aWYobCE9biYmIXQuY2hpbGQoYykuaXNUZXh0KXRocm93IG5ldyBSYW5nZUVycm9yKCJSZW1vdmluZyBub24tZmxhdCByYW5nZSIpO3JldHVybiB0LmN1dCgwLGUpLmFwcGVuZCh0LmN1dChuKSl9aWYobyE9Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiUmVtb3Zpbmcgbm9uLWZsYXQgcmFuZ2UiKTtyZXR1cm4gdC5yZXBsYWNlQ2hpbGQobyxzLmNvcHkoYihzLmNvbnRlbnQsZS1pLTEsbi1pLTEpKSl9ZnVuY3Rpb24geCh0LGUsbixyKXt2YXIgbz10LmZpbmRJbmRleChlKSxpPW8uaW5kZXgscz1vLm9mZnNldCxhPXQubWF5YmVDaGlsZChpKTtpZihzPT1lfHxhLmlzVGV4dClyZXR1cm4gciYmIXIuY2FuUmVwbGFjZShpLGksbik/bnVsbDp0LmN1dCgwLGUpLmFwcGVuZChuKS5hcHBlbmQodC5jdXQoZSkpO3ZhciBjPXgoYS5jb250ZW50LGUtcy0xLG4pO3JldHVybiBjJiZ0LnJlcGxhY2VDaGlsZChpLGEuY29weShjKSl9ZnVuY3Rpb24gayh0LGUsbil7aWYobi5vcGVuU3RhcnQ+dC5kZXB0aCl0aHJvdyBuZXcgZygiSW5zZXJ0ZWQgY29udGVudCBkZWVwZXIgdGhhbiBpbnNlcnRpb24gcG9zaXRpb24iKTtpZih0LmRlcHRoLW4ub3BlblN0YXJ0IT1lLmRlcHRoLW4ub3BlbkVuZCl0aHJvdyBuZXcgZygiSW5jb25zaXN0ZW50IG9wZW4gZGVwdGhzIik7cmV0dXJuIFModCxlLG4sMCl9ZnVuY3Rpb24gUyh0LGUsbixyKXt2YXIgbz10LmluZGV4KHIpLGk9dC5ub2RlKHIpO2lmKG89PWUuaW5kZXgocikmJnI8dC5kZXB0aC1uLm9wZW5TdGFydCl7dmFyIHM9Uyh0LGUsbixyKzEpO3JldHVybiBpLmNvcHkoaS5jb250ZW50LnJlcGxhY2VDaGlsZChvLHMpKX1pZihuLmNvbnRlbnQuc2l6ZSl7aWYobi5vcGVuU3RhcnR8fG4ub3BlbkVuZHx8dC5kZXB0aCE9cnx8ZS5kZXB0aCE9cil7dmFyIGE9RChuLHQpLGM9YS5zdGFydCxsPWEuZW5kO3JldHVybiBOKGksRSh0LGMsbCxlLHIpKX12YXIgdT10LnBhcmVudCxwPXUuY29udGVudDtyZXR1cm4gTih1LHAuY3V0KDAsdC5wYXJlbnRPZmZzZXQpLmFwcGVuZChuLmNvbnRlbnQpLmFwcGVuZChwLmN1dChlLnBhcmVudE9mZnNldCkpKX1yZXR1cm4gTihpLFQodCxlLHIpKX1mdW5jdGlvbiBDKHQsZSl7aWYoIWUudHlwZS5jb21wYXRpYmxlQ29udGVudCh0LnR5cGUpKXRocm93IG5ldyBnKCJDYW5ub3Qgam9pbiAiK2UudHlwZS5uYW1lKyIgb250byAiK3QudHlwZS5uYW1lKX1mdW5jdGlvbiBNKHQsZSxuKXt2YXIgcj10Lm5vZGUobik7cmV0dXJuIEMocixlLm5vZGUobikpLHJ9ZnVuY3Rpb24gTyh0LGUpe3ZhciBuPWUubGVuZ3RoLTE7bj49MCYmdC5pc1RleHQmJnQuc2FtZU1hcmt1cChlW25dKT9lW25dPXQud2l0aFRleHQoZVtuXS50ZXh0K3QudGV4dCk6ZS5wdXNoKHQpfWZ1bmN0aW9uIEEodCxlLG4scil7dmFyIG89KGV8fHQpLm5vZGUobiksaT0wLHM9ZT9lLmluZGV4KG4pOm8uY2hpbGRDb3VudDt0JiYoaT10LmluZGV4KG4pLHQuZGVwdGg+bj9pKys6dC50ZXh0T2Zmc2V0JiYoTyh0Lm5vZGVBZnRlcixyKSxpKyspKTtmb3IodmFyIGE9aTthPHM7YSsrKU8oby5jaGlsZChhKSxyKTtlJiZlLmRlcHRoPT1uJiZlLnRleHRPZmZzZXQmJk8oZS5ub2RlQmVmb3JlLHIpfWZ1bmN0aW9uIE4odCxlKXtpZighdC50eXBlLnZhbGlkQ29udGVudChlKSl0aHJvdyBuZXcgZygiSW52YWxpZCBjb250ZW50IGZvciBub2RlICIrdC50eXBlLm5hbWUpO3JldHVybiB0LmNvcHkoZSl9ZnVuY3Rpb24gRSh0LGUsbixyLG8pe3ZhciBpPXQuZGVwdGg+byYmTSh0LGUsbysxKSxzPXIuZGVwdGg+byYmTShuLHIsbysxKSxhPVtdO3JldHVybiBBKG51bGwsdCxvLGEpLGkmJnMmJmUuaW5kZXgobyk9PW4uaW5kZXgobyk/KEMoaSxzKSxPKE4oaSxFKHQsZSxuLHIsbysxKSksYSkpOihpJiZPKE4oaSxUKHQsZSxvKzEpKSxhKSxBKGUsbixvLGEpLHMmJk8oTihzLFQobixyLG8rMSkpLGEpKSxBKHIsbnVsbCxvLGEpLG5ldyBwKGEpfWZ1bmN0aW9uIFQodCxlLG4pe3ZhciByPVtdO2lmKEEobnVsbCx0LG4sciksdC5kZXB0aD5uKXt2YXIgbz1NKHQsZSxuKzEpO08oTihvLFQodCxlLG4rMSkpLHIpfXJldHVybiBBKGUsbnVsbCxuLHIpLG5ldyBwKHIpfWZ1bmN0aW9uIEQodCxlKXtmb3IodmFyIG49ZS5kZXB0aC10Lm9wZW5TdGFydCxyPWUubm9kZShuKSxvPXIuY29weSh0LmNvbnRlbnQpLGk9bi0xO2k+PTA7aS0tKW89ZS5ub2RlKGkpLmNvcHkocC5mcm9tKG8pKTtyZXR1cm57c3RhcnQ6by5yZXNvbHZlTm9DYWNoZSh0Lm9wZW5TdGFydCtuKSxlbmQ6by5yZXNvbHZlTm9DYWNoZShvLmNvbnRlbnQuc2l6ZS10Lm9wZW5FbmQtbil9fXcuc2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50LnNpemUtdGhpcy5vcGVuU3RhcnQtdGhpcy5vcGVuRW5kfSx5LnByb3RvdHlwZS5pbnNlcnRBdD1mdW5jdGlvbih0LGUpe3ZhciBuPXgodGhpcy5jb250ZW50LHQrdGhpcy5vcGVuU3RhcnQsZSxudWxsKTtyZXR1cm4gbiYmbmV3IHkobix0aGlzLm9wZW5TdGFydCx0aGlzLm9wZW5FbmQpfSx5LnByb3RvdHlwZS5yZW1vdmVCZXR3ZWVuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB5KGIodGhpcy5jb250ZW50LHQrdGhpcy5vcGVuU3RhcnQsZSt0aGlzLm9wZW5TdGFydCksdGhpcy5vcGVuU3RhcnQsdGhpcy5vcGVuRW5kKX0seS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udGVudC5lcSh0LmNvbnRlbnQpJiZ0aGlzLm9wZW5TdGFydD09dC5vcGVuU3RhcnQmJnRoaXMub3BlbkVuZD09dC5vcGVuRW5kfSx5LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQrIigiK3RoaXMub3BlblN0YXJ0KyIsIit0aGlzLm9wZW5FbmQrIikifSx5LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtpZighdGhpcy5jb250ZW50LnNpemUpcmV0dXJuIG51bGw7dmFyIHQ9e2NvbnRlbnQ6dGhpcy5jb250ZW50LnRvSlNPTigpfTtyZXR1cm4gdGhpcy5vcGVuU3RhcnQ+MCYmKHQub3BlblN0YXJ0PXRoaXMub3BlblN0YXJ0KSx0aGlzLm9wZW5FbmQ+MCYmKHQub3BlbkVuZD10aGlzLm9wZW5FbmQpLHR9LHkuZnJvbUpTT049ZnVuY3Rpb24odCxlKXtpZighZSlyZXR1cm4geS5lbXB0eTt2YXIgbj1lLm9wZW5TdGFydHx8MCxyPWUub3BlbkVuZHx8MDtpZigibnVtYmVyIiE9dHlwZW9mIG58fCJudW1iZXIiIT10eXBlb2Ygcil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgU2xpY2UuZnJvbUpTT04iKTtyZXR1cm4gbmV3IHkocC5mcm9tSlNPTih0LGUuY29udGVudCksZS5vcGVuU3RhcnR8fDAsZS5vcGVuRW5kfHwwKX0seS5tYXhPcGVuPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITApO2Zvcih2YXIgbj0wLHI9MCxvPXQuZmlyc3RDaGlsZDtvJiYhby5pc0xlYWYmJihlfHwhby50eXBlLnNwZWMuaXNvbGF0aW5nKTtvPW8uZmlyc3RDaGlsZCluKys7Zm9yKHZhciBpPXQubGFzdENoaWxkO2kmJiFpLmlzTGVhZiYmKGV8fCFpLnR5cGUuc3BlYy5pc29sYXRpbmcpO2k9aS5sYXN0Q2hpbGQpcisrO3JldHVybiBuZXcgeSh0LG4scil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHkucHJvdG90eXBlLHcpLHkuZW1wdHk9bmV3IHkocC5lbXB0eSwwLDApO3ZhciBfPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnBvcz10LHRoaXMucGF0aD1lLHRoaXMuZGVwdGg9ZS5sZW5ndGgvMy0xLHRoaXMucGFyZW50T2Zmc2V0PW59LFI9e3BhcmVudDp7Y29uZmlndXJhYmxlOiEwfSxkb2M6e2NvbmZpZ3VyYWJsZTohMH0sdGV4dE9mZnNldDp7Y29uZmlndXJhYmxlOiEwfSxub2RlQWZ0ZXI6e2NvbmZpZ3VyYWJsZTohMH0sbm9kZUJlZm9yZTp7Y29uZmlndXJhYmxlOiEwfX07Xy5wcm90b3R5cGUucmVzb2x2ZURlcHRoPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P3RoaXMuZGVwdGg6dDwwP3RoaXMuZGVwdGgrdDp0fSxSLnBhcmVudC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlKHRoaXMuZGVwdGgpfSxSLmRvYy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlKDApfSxfLnByb3RvdHlwZS5ub2RlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBhdGhbMyp0aGlzLnJlc29sdmVEZXB0aCh0KV19LF8ucHJvdG90eXBlLmluZGV4PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBhdGhbMyp0aGlzLnJlc29sdmVEZXB0aCh0KSsxXX0sXy5wcm90b3R5cGUuaW5kZXhBZnRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLnJlc29sdmVEZXB0aCh0KSx0aGlzLmluZGV4KHQpKyh0IT10aGlzLmRlcHRofHx0aGlzLnRleHRPZmZzZXQ/MTowKX0sXy5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dGhpcy5yZXNvbHZlRGVwdGgodCksMD09dD8wOnRoaXMucGF0aFszKnQtMV0rMX0sXy5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0PXRoaXMucmVzb2x2ZURlcHRoKHQpLHRoaXMuc3RhcnQodCkrdGhpcy5ub2RlKHQpLmNvbnRlbnQuc2l6ZX0sXy5wcm90b3R5cGUuYmVmb3JlPWZ1bmN0aW9uKHQpe2lmKHQ9dGhpcy5yZXNvbHZlRGVwdGgodCksIXQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRoZXJlIGlzIG5vIHBvc2l0aW9uIGJlZm9yZSB0aGUgdG9wLWxldmVsIG5vZGUiKTtyZXR1cm4gdD09dGhpcy5kZXB0aCsxP3RoaXMucG9zOnRoaXMucGF0aFszKnQtMV19LF8ucHJvdG90eXBlLmFmdGVyPWZ1bmN0aW9uKHQpe2lmKHQ9dGhpcy5yZXNvbHZlRGVwdGgodCksIXQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRoZXJlIGlzIG5vIHBvc2l0aW9uIGFmdGVyIHRoZSB0b3AtbGV2ZWwgbm9kZSIpO3JldHVybiB0PT10aGlzLmRlcHRoKzE/dGhpcy5wb3M6dGhpcy5wYXRoWzMqdC0xXSt0aGlzLnBhdGhbMyp0XS5ub2RlU2l6ZX0sUi50ZXh0T2Zmc2V0LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBvcy10aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aC0xXX0sUi5ub2RlQWZ0ZXIuZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wYXJlbnQsZT10aGlzLmluZGV4KHRoaXMuZGVwdGgpO2lmKGU9PXQuY2hpbGRDb3VudClyZXR1cm4gbnVsbDt2YXIgbj10aGlzLnBvcy10aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aC0xXSxyPXQuY2hpbGQoZSk7cmV0dXJuIG4/dC5jaGlsZChlKS5jdXQobik6cn0sUi5ub2RlQmVmb3JlLmdldD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuaW5kZXgodGhpcy5kZXB0aCksZT10aGlzLnBvcy10aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aC0xXTtyZXR1cm4gZT90aGlzLnBhcmVudC5jaGlsZCh0KS5jdXQoMCxlKTowPT10P251bGw6dGhpcy5wYXJlbnQuY2hpbGQodC0xKX0sXy5wcm90b3R5cGUubWFya3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhcmVudCxlPXRoaXMuaW5kZXgoKTtpZigwPT10LmNvbnRlbnQuc2l6ZSlyZXR1cm4gdi5ub25lO2lmKHRoaXMudGV4dE9mZnNldClyZXR1cm4gdC5jaGlsZChlKS5tYXJrczt2YXIgbj10Lm1heWJlQ2hpbGQoZS0xKSxyPXQubWF5YmVDaGlsZChlKTtpZighbil7dmFyIG89bjtuPXIscj1vfWZvcih2YXIgaT1uLm1hcmtzLHM9MDtzPGkubGVuZ3RoO3MrKykhMSE9PWlbc10udHlwZS5zcGVjLmluY2x1c2l2ZXx8ciYmaVtzXS5pc0luU2V0KHIubWFya3MpfHwoaT1pW3MtLV0ucmVtb3ZlRnJvbVNldChpKSk7cmV0dXJuIGl9LF8ucHJvdG90eXBlLm1hcmtzQWNyb3NzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucGFyZW50Lm1heWJlQ2hpbGQodGhpcy5pbmRleCgpKTtpZighZXx8IWUuaXNJbmxpbmUpcmV0dXJuIG51bGw7Zm9yKHZhciBuPWUubWFya3Mscj10LnBhcmVudC5tYXliZUNoaWxkKHQuaW5kZXgoKSksbz0wO288bi5sZW5ndGg7bysrKSExIT09bltvXS50eXBlLnNwZWMuaW5jbHVzaXZlfHxyJiZuW29dLmlzSW5TZXQoci5tYXJrcyl8fChuPW5bby0tXS5yZW1vdmVGcm9tU2V0KG4pKTtyZXR1cm4gbn0sXy5wcm90b3R5cGUuc2hhcmVkRGVwdGg9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZGVwdGg7ZT4wO2UtLSlpZih0aGlzLnN0YXJ0KGUpPD10JiZ0aGlzLmVuZChlKT49dClyZXR1cm4gZTtyZXR1cm4gMH0sXy5wcm90b3R5cGUuYmxvY2tSYW5nZT1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PXQmJih0PXRoaXMpLHQucG9zPHRoaXMucG9zKXJldHVybiB0LmJsb2NrUmFuZ2UodGhpcyk7Zm9yKHZhciBuPXRoaXMuZGVwdGgtKHRoaXMucGFyZW50LmlubGluZUNvbnRlbnR8fHRoaXMucG9zPT10LnBvcz8xOjApO24+PTA7bi0tKWlmKHQucG9zPD10aGlzLmVuZChuKSYmKCFlfHxlKHRoaXMubm9kZShuKSkpKXJldHVybiBuZXcgJCh0aGlzLHQsbil9LF8ucHJvdG90eXBlLnNhbWVQYXJlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucG9zLXRoaXMucGFyZW50T2Zmc2V0PT10LnBvcy10LnBhcmVudE9mZnNldH0sXy5wcm90b3R5cGUubWF4PWZ1bmN0aW9uKHQpe3JldHVybiB0LnBvcz50aGlzLnBvcz90OnRoaXN9LF8ucHJvdG90eXBlLm1pbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5wb3M8dGhpcy5wb3M/dDp0aGlzfSxfLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2Zvcih2YXIgdD0iIixlPTE7ZTw9dGhpcy5kZXB0aDtlKyspdCs9KHQ/Ii8iOiIiKSt0aGlzLm5vZGUoZSkudHlwZS5uYW1lKyJfIit0aGlzLmluZGV4KGUtMSk7cmV0dXJuIHQrIjoiK3RoaXMucGFyZW50T2Zmc2V0fSxfLnJlc29sdmU9ZnVuY3Rpb24odCxlKXtpZighKGU+PTAmJmU8PXQuY29udGVudC5zaXplKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiUG9zaXRpb24gIitlKyIgb3V0IG9mIHJhbmdlIik7Zm9yKHZhciBuPVtdLHI9MCxvPWUsaT10Ozspe3ZhciBzPWkuY29udGVudC5maW5kSW5kZXgobyksYT1zLmluZGV4LGM9cy5vZmZzZXQsbD1vLWM7aWYobi5wdXNoKGksYSxyK2MpLCFsKWJyZWFrO2lmKGk9aS5jaGlsZChhKSxpLmlzVGV4dClicmVhaztvPWwtMSxyKz1jKzF9cmV0dXJuIG5ldyBfKGUsbixvKX0sXy5yZXNvbHZlQ2FjaGVkPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjx6Lmxlbmd0aDtuKyspe3ZhciByPXpbbl07aWYoci5wb3M9PWUmJnIuZG9jPT10KXJldHVybiByfXZhciBvPXpbSV09Xy5yZXNvbHZlKHQsZSk7cmV0dXJuIEk9KEkrMSklUCxvfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfLnByb3RvdHlwZSxSKTt2YXIgej1bXSxJPTAsUD0xMiwkPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLiRmcm9tPXQsdGhpcy4kdG89ZSx0aGlzLmRlcHRoPW59LEI9e3N0YXJ0Ontjb25maWd1cmFibGU6ITB9LGVuZDp7Y29uZmlndXJhYmxlOiEwfSxwYXJlbnQ6e2NvbmZpZ3VyYWJsZTohMH0sc3RhcnRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxlbmRJbmRleDp7Y29uZmlndXJhYmxlOiEwfX07Qi5zdGFydC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZnJvbS5iZWZvcmUodGhpcy5kZXB0aCsxKX0sQi5lbmQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHRvLmFmdGVyKHRoaXMuZGVwdGgrMSl9LEIucGFyZW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRmcm9tLm5vZGUodGhpcy5kZXB0aCl9LEIuc3RhcnRJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZnJvbS5pbmRleCh0aGlzLmRlcHRoKX0sQi5lbmRJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kdG8uaW5kZXhBZnRlcih0aGlzLmRlcHRoKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoJC5wcm90b3R5cGUsQik7dmFyIFY9T2JqZWN0LmNyZWF0ZShudWxsKSxqPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMudHlwZT10LHRoaXMuYXR0cnM9ZSx0aGlzLmNvbnRlbnQ9bnx8cC5lbXB0eSx0aGlzLm1hcmtzPXJ8fHYubm9uZX0sTD17bm9kZVNpemU6e2NvbmZpZ3VyYWJsZTohMH0sY2hpbGRDb3VudDp7Y29uZmlndXJhYmxlOiEwfSx0ZXh0Q29udGVudDp7Y29uZmlndXJhYmxlOiEwfSxmaXJzdENoaWxkOntjb25maWd1cmFibGU6ITB9LGxhc3RDaGlsZDp7Y29uZmlndXJhYmxlOiEwfSxpc0Jsb2NrOntjb25maWd1cmFibGU6ITB9LGlzVGV4dGJsb2NrOntjb25maWd1cmFibGU6ITB9LGlubGluZUNvbnRlbnQ6e2NvbmZpZ3VyYWJsZTohMH0saXNJbmxpbmU6e2NvbmZpZ3VyYWJsZTohMH0saXNUZXh0Ontjb25maWd1cmFibGU6ITB9LGlzTGVhZjp7Y29uZmlndXJhYmxlOiEwfSxpc0F0b206e2NvbmZpZ3VyYWJsZTohMH19O0wubm9kZVNpemUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNMZWFmPzE6Mit0aGlzLmNvbnRlbnQuc2l6ZX0sTC5jaGlsZENvdW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQuY2hpbGRDb3VudH0sai5wcm90b3R5cGUuY2hpbGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udGVudC5jaGlsZCh0KX0sai5wcm90b3R5cGUubWF5YmVDaGlsZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250ZW50Lm1heWJlQ2hpbGQodCl9LGoucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7dGhpcy5jb250ZW50LmZvckVhY2godCl9LGoucHJvdG90eXBlLm5vZGVzQmV0d2Vlbj1mdW5jdGlvbih0LGUsbixyKXt2b2lkIDA9PT1yJiYocj0wKSx0aGlzLmNvbnRlbnQubm9kZXNCZXR3ZWVuKHQsZSxuLHIsdGhpcyl9LGoucHJvdG90eXBlLmRlc2NlbmRhbnRzPWZ1bmN0aW9uKHQpe3RoaXMubm9kZXNCZXR3ZWVuKDAsdGhpcy5jb250ZW50LnNpemUsdCl9LEwudGV4dENvbnRlbnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dEJldHdlZW4oMCx0aGlzLmNvbnRlbnQuc2l6ZSwiIil9LGoucHJvdG90eXBlLnRleHRCZXR3ZWVuPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB0aGlzLmNvbnRlbnQudGV4dEJldHdlZW4odCxlLG4scil9LEwuZmlyc3RDaGlsZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50LmZpcnN0Q2hpbGR9LEwubGFzdENoaWxkLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQubGFzdENoaWxkfSxqLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09dHx8dGhpcy5zYW1lTWFya3VwKHQpJiZ0aGlzLmNvbnRlbnQuZXEodC5jb250ZW50KX0sai5wcm90b3R5cGUuc2FtZU1hcmt1cD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYXNNYXJrdXAodC50eXBlLHQuYXR0cnMsdC5tYXJrcyl9LGoucHJvdG90eXBlLmhhc01hcmt1cD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMudHlwZT09dCYmbSh0aGlzLmF0dHJzLGV8fHQuZGVmYXVsdEF0dHJzfHxWKSYmdi5zYW1lU2V0KHRoaXMubWFya3Msbnx8di5ub25lKX0sai5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bnVsbCksdD09dGhpcy5jb250ZW50P3RoaXM6bmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy50eXBlLHRoaXMuYXR0cnMsdCx0aGlzLm1hcmtzKX0sai5wcm90b3R5cGUubWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gdD09dGhpcy5tYXJrcz90aGlzOm5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMudHlwZSx0aGlzLmF0dHJzLHRoaXMuY29udGVudCx0KX0sai5wcm90b3R5cGUuY3V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIDA9PXQmJmU9PXRoaXMuY29udGVudC5zaXplP3RoaXM6dGhpcy5jb3B5KHRoaXMuY29udGVudC5jdXQodCxlKSl9LGoucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsZSxuKXtpZih2b2lkIDA9PT1lJiYoZT10aGlzLmNvbnRlbnQuc2l6ZSksdm9pZCAwPT09biYmKG49ITEpLHQ9PWUpcmV0dXJuIHkuZW1wdHk7dmFyIHI9dGhpcy5yZXNvbHZlKHQpLG89dGhpcy5yZXNvbHZlKGUpLGk9bj8wOnIuc2hhcmVkRGVwdGgoZSkscz1yLnN0YXJ0KGkpLGE9ci5ub2RlKGkpLGM9YS5jb250ZW50LmN1dChyLnBvcy1zLG8ucG9zLXMpO3JldHVybiBuZXcgeShjLHIuZGVwdGgtaSxvLmRlcHRoLWkpfSxqLnByb3RvdHlwZS5yZXBsYWNlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gayh0aGlzLnJlc29sdmUodCksdGhpcy5yZXNvbHZlKGUpLG4pfSxqLnByb3RvdHlwZS5ub2RlQXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXM7Oyl7dmFyIG49ZS5jb250ZW50LmZpbmRJbmRleCh0KSxyPW4uaW5kZXgsbz1uLm9mZnNldDtpZihlPWUubWF5YmVDaGlsZChyKSwhZSlyZXR1cm4gbnVsbDtpZihvPT10fHxlLmlzVGV4dClyZXR1cm4gZTt0LT1vKzF9fSxqLnByb3RvdHlwZS5jaGlsZEFmdGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGVudC5maW5kSW5kZXgodCksbj1lLmluZGV4LHI9ZS5vZmZzZXQ7cmV0dXJue25vZGU6dGhpcy5jb250ZW50Lm1heWJlQ2hpbGQobiksaW5kZXg6bixvZmZzZXQ6cn19LGoucHJvdG90eXBlLmNoaWxkQmVmb3JlPWZ1bmN0aW9uKHQpe2lmKDA9PXQpcmV0dXJue25vZGU6bnVsbCxpbmRleDowLG9mZnNldDowfTt2YXIgZT10aGlzLmNvbnRlbnQuZmluZEluZGV4KHQpLG49ZS5pbmRleCxyPWUub2Zmc2V0O2lmKHI8dClyZXR1cm57bm9kZTp0aGlzLmNvbnRlbnQuY2hpbGQobiksaW5kZXg6bixvZmZzZXQ6cn07dmFyIG89dGhpcy5jb250ZW50LmNoaWxkKG4tMSk7cmV0dXJue25vZGU6byxpbmRleDpuLTEsb2Zmc2V0OnItby5ub2RlU2l6ZX19LGoucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24odCl7cmV0dXJuIF8ucmVzb2x2ZUNhY2hlZCh0aGlzLHQpfSxqLnByb3RvdHlwZS5yZXNvbHZlTm9DYWNoZT1mdW5jdGlvbih0KXtyZXR1cm4gXy5yZXNvbHZlKHRoaXMsdCl9LGoucHJvdG90eXBlLnJhbmdlSGFzTWFyaz1mdW5jdGlvbih0LGUsbil7dmFyIHI9ITE7cmV0dXJuIGU+dCYmdGhpcy5ub2Rlc0JldHdlZW4odCxlLChmdW5jdGlvbih0KXtyZXR1cm4gbi5pc0luU2V0KHQubWFya3MpJiYocj0hMCksIXJ9KSkscn0sTC5pc0Jsb2NrLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUuaXNCbG9ja30sTC5pc1RleHRibG9jay5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLmlzVGV4dGJsb2NrfSxMLmlubGluZUNvbnRlbnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5pbmxpbmVDb250ZW50fSxMLmlzSW5saW5lLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUuaXNJbmxpbmV9LEwuaXNUZXh0LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUuaXNUZXh0fSxMLmlzTGVhZi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLmlzTGVhZn0sTC5pc0F0b20uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5pc0F0b219LGoucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy50eXBlLnNwZWMudG9EZWJ1Z1N0cmluZylyZXR1cm4gdGhpcy50eXBlLnNwZWMudG9EZWJ1Z1N0cmluZyh0aGlzKTt2YXIgdD10aGlzLnR5cGUubmFtZTtyZXR1cm4gdGhpcy5jb250ZW50LnNpemUmJih0Kz0iKCIrdGhpcy5jb250ZW50LnRvU3RyaW5nSW5uZXIoKSsiKSIpLEgodGhpcy5tYXJrcyx0KX0sai5wcm90b3R5cGUuY29udGVudE1hdGNoQXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy50eXBlLmNvbnRlbnRNYXRjaC5tYXRjaEZyYWdtZW50KHRoaXMuY29udGVudCwwLHQpO2lmKCFlKXRocm93IG5ldyBFcnJvcigiQ2FsbGVkIGNvbnRlbnRNYXRjaEF0IG9uIGEgbm9kZSB3aXRoIGludmFsaWQgY29udGVudCIpO3JldHVybiBlfSxqLnByb3RvdHlwZS5jYW5SZXBsYWNlPWZ1bmN0aW9uKHQsZSxuLHIsbyl7dm9pZCAwPT09biYmKG49cC5lbXB0eSksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09byYmKG89bi5jaGlsZENvdW50KTt2YXIgaT10aGlzLmNvbnRlbnRNYXRjaEF0KHQpLm1hdGNoRnJhZ21lbnQobixyLG8pLHM9aSYmaS5tYXRjaEZyYWdtZW50KHRoaXMuY29udGVudCxlKTtpZighc3x8IXMudmFsaWRFbmQpcmV0dXJuITE7Zm9yKHZhciBhPXI7YTxvO2ErKylpZighdGhpcy50eXBlLmFsbG93c01hcmtzKG4uY2hpbGQoYSkubWFya3MpKXJldHVybiExO3JldHVybiEwfSxqLnByb3RvdHlwZS5jYW5SZXBsYWNlV2l0aD1mdW5jdGlvbih0LGUsbixyKXtpZihyJiYhdGhpcy50eXBlLmFsbG93c01hcmtzKHIpKXJldHVybiExO3ZhciBvPXRoaXMuY29udGVudE1hdGNoQXQodCkubWF0Y2hUeXBlKG4pLGk9byYmby5tYXRjaEZyYWdtZW50KHRoaXMuY29udGVudCxlKTtyZXR1cm4hIWkmJmkudmFsaWRFbmR9LGoucHJvdG90eXBlLmNhbkFwcGVuZD1mdW5jdGlvbih0KXtyZXR1cm4gdC5jb250ZW50LnNpemU/dGhpcy5jYW5SZXBsYWNlKHRoaXMuY2hpbGRDb3VudCx0aGlzLmNoaWxkQ291bnQsdC5jb250ZW50KTp0aGlzLnR5cGUuY29tcGF0aWJsZUNvbnRlbnQodC50eXBlKX0sai5wcm90b3R5cGUuY2hlY2s9ZnVuY3Rpb24oKXtpZighdGhpcy50eXBlLnZhbGlkQ29udGVudCh0aGlzLmNvbnRlbnQpKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGNvbnRlbnQgZm9yIG5vZGUgIit0aGlzLnR5cGUubmFtZSsiOiAiK3RoaXMuY29udGVudC50b1N0cmluZygpLnNsaWNlKDAsNTApKTt0aGlzLmNvbnRlbnQuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2hlY2soKX0pKX0sai5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIHQ9e3R5cGU6dGhpcy50eXBlLm5hbWV9O2Zvcih2YXIgZSBpbiB0aGlzLmF0dHJzKXt0LmF0dHJzPXRoaXMuYXR0cnM7YnJlYWt9cmV0dXJuIHRoaXMuY29udGVudC5zaXplJiYodC5jb250ZW50PXRoaXMuY29udGVudC50b0pTT04oKSksdGhpcy5tYXJrcy5sZW5ndGgmJih0Lm1hcmtzPXRoaXMubWFya3MubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50b0pTT04oKX0pKSksdH0sai5mcm9tSlNPTj1mdW5jdGlvbih0LGUpe2lmKCFlKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBOb2RlLmZyb21KU09OIik7dmFyIG49bnVsbDtpZihlLm1hcmtzKXtpZighQXJyYXkuaXNBcnJheShlLm1hcmtzKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBtYXJrIGRhdGEgZm9yIE5vZGUuZnJvbUpTT04iKTtuPWUubWFya3MubWFwKHQubWFya0Zyb21KU09OKX1pZigidGV4dCI9PWUudHlwZSl7aWYoInN0cmluZyIhPXR5cGVvZiBlLnRleHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgdGV4dCBub2RlIGluIEpTT04iKTtyZXR1cm4gdC50ZXh0KGUudGV4dCxuKX12YXIgcj1wLmZyb21KU09OKHQsZS5jb250ZW50KTtyZXR1cm4gdC5ub2RlVHlwZShlLnR5cGUpLmNyZWF0ZShlLmF0dHJzLHIsbil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGoucHJvdG90eXBlLEwpO3ZhciBGPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyl7aWYodC5jYWxsKHRoaXMsZSxuLG51bGwsbyksIXIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVtcHR5IHRleHQgbm9kZXMgYXJlIG5vdCBhbGxvd2VkIik7dGhpcy50ZXh0PXJ9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e3RleHRDb250ZW50Ontjb25maWd1cmFibGU6ITB9LG5vZGVTaXplOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLnNwZWMudG9EZWJ1Z1N0cmluZz90aGlzLnR5cGUuc3BlYy50b0RlYnVnU3RyaW5nKHRoaXMpOkgodGhpcy5tYXJrcyxKU09OLnN0cmluZ2lmeSh0aGlzLnRleHQpKX0sbi50ZXh0Q29udGVudC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0fSxlLnByb3RvdHlwZS50ZXh0QmV0d2Vlbj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRleHQuc2xpY2UodCxlKX0sbi5ub2RlU2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0Lmxlbmd0aH0sZS5wcm90b3R5cGUubWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gdD09dGhpcy5tYXJrcz90aGlzOm5ldyBlKHRoaXMudHlwZSx0aGlzLmF0dHJzLHRoaXMudGV4dCx0KX0sZS5wcm90b3R5cGUud2l0aFRleHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PXRoaXMudGV4dD90aGlzOm5ldyBlKHRoaXMudHlwZSx0aGlzLmF0dHJzLHQsdGhpcy5tYXJrcyl9LGUucHJvdG90eXBlLmN1dD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT10aGlzLnRleHQubGVuZ3RoKSwwPT10JiZlPT10aGlzLnRleHQubGVuZ3RoP3RoaXM6dGhpcy53aXRoVGV4dCh0aGlzLnRleHQuc2xpY2UodCxlKSl9LGUucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNhbWVNYXJrdXAodCkmJnRoaXMudGV4dD09dC50ZXh0fSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgZT10LnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtyZXR1cm4gZS50ZXh0PXRoaXMudGV4dCxlfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfShqKTtmdW5jdGlvbiBIKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoLTE7bj49MDtuLS0pZT10W25dLnR5cGUubmFtZSsiKCIrZSsiKSI7cmV0dXJuIGV9dmFyIEo9ZnVuY3Rpb24odCl7dGhpcy52YWxpZEVuZD10LHRoaXMubmV4dD1bXSx0aGlzLndyYXBDYWNoZT1bXX0sVz17aW5saW5lQ29udGVudDp7Y29uZmlndXJhYmxlOiEwfSxkZWZhdWx0VHlwZTp7Y29uZmlndXJhYmxlOiEwfSxlZGdlQ291bnQ6e2NvbmZpZ3VyYWJsZTohMH19O0oucGFyc2U9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgcSh0LGUpO2lmKG51bGw9PW4ubmV4dClyZXR1cm4gSi5lbXB0eTt2YXIgcj1VKG4pO24ubmV4dCYmbi5lcnIoIlVuZXhwZWN0ZWQgdHJhaWxpbmcgdGV4dCIpO3ZhciBvPW90KGV0KHIpKTtyZXR1cm4gaXQobyxuKSxvfSxKLnByb3RvdHlwZS5tYXRjaFR5cGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLm5leHQubGVuZ3RoO2UrPTIpaWYodGhpcy5uZXh0W2VdPT10KXJldHVybiB0aGlzLm5leHRbZSsxXTtyZXR1cm4gbnVsbH0sSi5wcm90b3R5cGUubWF0Y2hGcmFnbWVudD1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09biYmKG49dC5jaGlsZENvdW50KTtmb3IodmFyIHI9dGhpcyxvPWU7ciYmbzxuO28rKylyPXIubWF0Y2hUeXBlKHQuY2hpbGQobykudHlwZSk7cmV0dXJuIHJ9LFcuaW5saW5lQ29udGVudC5nZXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm5leHRbMF07cmV0dXJuISF0JiZ0LmlzSW5saW5lfSxXLmRlZmF1bHRUeXBlLmdldD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5uZXh0Lmxlbmd0aDt0Kz0yKXt2YXIgZT10aGlzLm5leHRbdF07aWYoIWUuaXNUZXh0JiYhZS5oYXNSZXF1aXJlZEF0dHJzKCkpcmV0dXJuIGV9fSxKLnByb3RvdHlwZS5jb21wYXRpYmxlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5uZXh0Lmxlbmd0aDtlKz0yKWZvcih2YXIgbj0wO248dC5uZXh0Lmxlbmd0aDtuKz0yKWlmKHRoaXMubmV4dFtlXT09dC5uZXh0W25dKXJldHVybiEwO3JldHVybiExfSxKLnByb3RvdHlwZS5maWxsQmVmb3JlPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT0hMSksdm9pZCAwPT09biYmKG49MCk7dmFyIHI9W3RoaXNdO2Z1bmN0aW9uIG8oaSxzKXt2YXIgYT1pLm1hdGNoRnJhZ21lbnQodCxuKTtpZihhJiYoIWV8fGEudmFsaWRFbmQpKXJldHVybiBwLmZyb20ocy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNyZWF0ZUFuZEZpbGwoKX0pKSk7Zm9yKHZhciBjPTA7YzxpLm5leHQubGVuZ3RoO2MrPTIpe3ZhciBsPWkubmV4dFtjXSx1PWkubmV4dFtjKzFdO2lmKCFsLmlzVGV4dCYmIWwuaGFzUmVxdWlyZWRBdHRycygpJiYtMT09ci5pbmRleE9mKHUpKXtyLnB1c2godSk7dmFyIGg9byh1LHMuY29uY2F0KGwpKTtpZihoKXJldHVybiBofX19cmV0dXJuIG8odGhpcyxbXSl9LEoucHJvdG90eXBlLmZpbmRXcmFwcGluZz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMud3JhcENhY2hlLmxlbmd0aDtlKz0yKWlmKHRoaXMud3JhcENhY2hlW2VdPT10KXJldHVybiB0aGlzLndyYXBDYWNoZVtlKzFdO3ZhciBuPXRoaXMuY29tcHV0ZVdyYXBwaW5nKHQpO3JldHVybiB0aGlzLndyYXBDYWNoZS5wdXNoKHQsbiksbn0sSi5wcm90b3R5cGUuY29tcHV0ZVdyYXBwaW5nPWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCksbj1be21hdGNoOnRoaXMsdHlwZTpudWxsLHZpYTpudWxsfV07d2hpbGUobi5sZW5ndGgpe3ZhciByPW4uc2hpZnQoKSxvPXIubWF0Y2g7aWYoby5tYXRjaFR5cGUodCkpe2Zvcih2YXIgaT1bXSxzPXI7cy50eXBlO3M9cy52aWEpaS5wdXNoKHMudHlwZSk7cmV0dXJuIGkucmV2ZXJzZSgpfWZvcih2YXIgYT0wO2E8by5uZXh0Lmxlbmd0aDthKz0yKXt2YXIgYz1vLm5leHRbYV07Yy5pc0xlYWZ8fGMuaGFzUmVxdWlyZWRBdHRycygpfHxjLm5hbWUgaW4gZXx8ci50eXBlJiYhby5uZXh0W2ErMV0udmFsaWRFbmR8fChuLnB1c2goe21hdGNoOmMuY29udGVudE1hdGNoLHR5cGU6Yyx2aWE6cn0pLGVbYy5uYW1lXT0hMCl9fX0sVy5lZGdlQ291bnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmV4dC5sZW5ndGg+PjF9LEoucHJvdG90eXBlLmVkZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dDw8MTtpZihlPj10aGlzLm5leHQubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJUaGVyZSdzIG5vICIrdCsidGggZWRnZSBpbiB0aGlzIGNvbnRlbnQgbWF0Y2giKTtyZXR1cm57dHlwZTp0aGlzLm5leHRbZV0sbmV4dDp0aGlzLm5leHRbZSsxXX19LEoucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9W107ZnVuY3Rpb24gZShuKXt0LnB1c2gobik7Zm9yKHZhciByPTE7cjxuLm5leHQubGVuZ3RoO3IrPTIpLTE9PXQuaW5kZXhPZihuLm5leHRbcl0pJiZlKG4ubmV4dFtyXSl9cmV0dXJuIGUodGhpcyksdC5tYXAoKGZ1bmN0aW9uKGUsbil7Zm9yKHZhciByPW4rKGUudmFsaWRFbmQ/IioiOiIgIikrIiAiLG89MDtvPGUubmV4dC5sZW5ndGg7bys9MilyKz0obz8iLCAiOiIiKStlLm5leHRbb10ubmFtZSsiLT4iK3QuaW5kZXhPZihlLm5leHRbbysxXSk7cmV0dXJuIHJ9KSkuam9pbigiXG4iKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoSi5wcm90b3R5cGUsVyksSi5lbXB0eT1uZXcgSighMCk7dmFyIHE9ZnVuY3Rpb24odCxlKXt0aGlzLnN0cmluZz10LHRoaXMubm9kZVR5cGVzPWUsdGhpcy5pbmxpbmU9bnVsbCx0aGlzLnBvcz0wLHRoaXMudG9rZW5zPXQuc3BsaXQoL1xzKig/PVxifFxXfCQpLyksIiI9PXRoaXMudG9rZW5zW3RoaXMudG9rZW5zLmxlbmd0aC0xXSYmdGhpcy50b2tlbnMucG9wKCksIiI9PXRoaXMudG9rZW5zWzBdJiZ0aGlzLnRva2Vucy51bnNoaWZ0KCl9LEs9e25leHQ6e2NvbmZpZ3VyYWJsZTohMH19O2Z1bmN0aW9uIFUodCl7dmFyIGU9W107ZG97ZS5wdXNoKEcodCkpfXdoaWxlKHQuZWF0KCJ8IikpO3JldHVybiAxPT1lLmxlbmd0aD9lWzBdOnt0eXBlOiJjaG9pY2UiLGV4cHJzOmV9fWZ1bmN0aW9uIEcodCl7dmFyIGU9W107ZG97ZS5wdXNoKFgodCkpfXdoaWxlKHQubmV4dCYmIikiIT10Lm5leHQmJiJ8IiE9dC5uZXh0KTtyZXR1cm4gMT09ZS5sZW5ndGg/ZVswXTp7dHlwZToic2VxIixleHByczplfX1mdW5jdGlvbiBYKHQpe2Zvcih2YXIgZT10dCh0KTs7KWlmKHQuZWF0KCIrIikpZT17dHlwZToicGx1cyIsZXhwcjplfTtlbHNlIGlmKHQuZWF0KCIqIikpZT17dHlwZToic3RhciIsZXhwcjplfTtlbHNlIGlmKHQuZWF0KCI/IikpZT17dHlwZToib3B0IixleHByOmV9O2Vsc2V7aWYoIXQuZWF0KCJ7IikpYnJlYWs7ZT1aKHQsZSl9cmV0dXJuIGV9ZnVuY3Rpb24gWSh0KXsvXEQvLnRlc3QodC5uZXh0KSYmdC5lcnIoIkV4cGVjdGVkIG51bWJlciwgZ290ICciK3QubmV4dCsiJyIpO3ZhciBlPU51bWJlcih0Lm5leHQpO3JldHVybiB0LnBvcysrLGV9ZnVuY3Rpb24gWih0LGUpe3ZhciBuPVkodCkscj1uO3JldHVybiB0LmVhdCgiLCIpJiYocj0ifSIhPXQubmV4dD9ZKHQpOi0xKSx0LmVhdCgifSIpfHx0LmVycigiVW5jbG9zZWQgYnJhY2VkIHJhbmdlIikse3R5cGU6InJhbmdlIixtaW46bixtYXg6cixleHByOmV9fWZ1bmN0aW9uIFEodCxlKXt2YXIgbj10Lm5vZGVUeXBlcyxyPW5bZV07aWYocilyZXR1cm5bcl07dmFyIG89W107Zm9yKHZhciBpIGluIG4pe3ZhciBzPW5baV07cy5ncm91cHMuaW5kZXhPZihlKT4tMSYmby5wdXNoKHMpfXJldHVybiAwPT1vLmxlbmd0aCYmdC5lcnIoIk5vIG5vZGUgdHlwZSBvciBncm91cCAnIitlKyInIGZvdW5kIiksb31mdW5jdGlvbiB0dCh0KXtpZih0LmVhdCgiKCIpKXt2YXIgZT1VKHQpO3JldHVybiB0LmVhdCgiKSIpfHx0LmVycigiTWlzc2luZyBjbG9zaW5nIHBhcmVuIiksZX1pZighL1xXLy50ZXN0KHQubmV4dCkpe3ZhciBuPVEodCx0Lm5leHQpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PXQuaW5saW5lP3QuaW5saW5lPWUuaXNJbmxpbmU6dC5pbmxpbmUhPWUuaXNJbmxpbmUmJnQuZXJyKCJNaXhpbmcgaW5saW5lIGFuZCBibG9jayBjb250ZW50Iikse3R5cGU6Im5hbWUiLHZhbHVlOmV9fSkpO3JldHVybiB0LnBvcysrLDE9PW4ubGVuZ3RoP25bMF06e3R5cGU6ImNob2ljZSIsZXhwcnM6bn19dC5lcnIoIlVuZXhwZWN0ZWQgdG9rZW4gJyIrdC5uZXh0KyInIil9ZnVuY3Rpb24gZXQodCl7dmFyIGU9W1tdXTtyZXR1cm4gbyhpKHQsMCksbigpKSxlO2Z1bmN0aW9uIG4oKXtyZXR1cm4gZS5wdXNoKFtdKS0xfWZ1bmN0aW9uIHIodCxuLHIpe3ZhciBvPXt0ZXJtOnIsdG86bn07cmV0dXJuIGVbdF0ucHVzaChvKSxvfWZ1bmN0aW9uIG8odCxlKXt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvPWV9KSl9ZnVuY3Rpb24gaSh0LGUpe2lmKCJjaG9pY2UiPT10LnR5cGUpcmV0dXJuIHQuZXhwcnMucmVkdWNlKChmdW5jdGlvbih0LG4pe3JldHVybiB0LmNvbmNhdChpKG4sZSkpfSksW10pO2lmKCJzZXEiPT10LnR5cGUpZm9yKHZhciBzPTA7O3MrKyl7dmFyIGE9aSh0LmV4cHJzW3NdLGUpO2lmKHM9PXQuZXhwcnMubGVuZ3RoLTEpcmV0dXJuIGE7byhhLGU9bigpKX1lbHNle2lmKCJzdGFyIj09dC50eXBlKXt2YXIgYz1uKCk7cmV0dXJuIHIoZSxjKSxvKGkodC5leHByLGMpLGMpLFtyKGMpXX1pZigicGx1cyI9PXQudHlwZSl7dmFyIGw9bigpO3JldHVybiBvKGkodC5leHByLGUpLGwpLG8oaSh0LmV4cHIsbCksbCksW3IobCldfWlmKCJvcHQiPT10LnR5cGUpcmV0dXJuW3IoZSldLmNvbmNhdChpKHQuZXhwcixlKSk7aWYoInJhbmdlIj09dC50eXBlKXtmb3IodmFyIHU9ZSxwPTA7cDx0Lm1pbjtwKyspe3ZhciBoPW4oKTtvKGkodC5leHByLHUpLGgpLHU9aH1pZigtMT09dC5tYXgpbyhpKHQuZXhwcix1KSx1KTtlbHNlIGZvcih2YXIgZj10Lm1pbjtmPHQubWF4O2YrKyl7dmFyIGQ9bigpO3IodSxkKSxvKGkodC5leHByLHUpLGQpLHU9ZH1yZXR1cm5bcih1KV19aWYoIm5hbWUiPT10LnR5cGUpcmV0dXJuW3IoZSxudWxsLHQudmFsdWUpXX19fWZ1bmN0aW9uIG50KHQsZSl7cmV0dXJuIGUtdH1mdW5jdGlvbiBydCh0LGUpe3ZhciBuPVtdO3JldHVybiByKGUpLG4uc29ydChudCk7ZnVuY3Rpb24gcihlKXt2YXIgbz10W2VdO2lmKDE9PW8ubGVuZ3RoJiYhb1swXS50ZXJtKXJldHVybiByKG9bMF0udG8pO24ucHVzaChlKTtmb3IodmFyIGk9MDtpPG8ubGVuZ3RoO2krKyl7dmFyIHM9b1tpXSxhPXMudGVybSxjPXMudG87YXx8LTEhPW4uaW5kZXhPZihjKXx8cihjKX19fWZ1bmN0aW9uIG90KHQpe3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIG4ocnQodCwwKSk7ZnVuY3Rpb24gbihyKXt2YXIgbz1bXTtyLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RbZV0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZS50ZXJtLHI9ZS50bztpZihuKXt2YXIgaT1vLmluZGV4T2Yobikscz1pPi0xJiZvW2krMV07cnQodCxyKS5mb3JFYWNoKChmdW5jdGlvbih0KXtzfHxvLnB1c2gobixzPVtdKSwtMT09cy5pbmRleE9mKHQpJiZzLnB1c2godCl9KSl9fSkpfSkpO2Zvcih2YXIgaT1lW3Iuam9pbigiLCIpXT1uZXcgSihyLmluZGV4T2YodC5sZW5ndGgtMSk+LTEpLHM9MDtzPG8ubGVuZ3RoO3MrPTIpe3ZhciBhPW9bcysxXS5zb3J0KG50KTtpLm5leHQucHVzaChvW3NdLGVbYS5qb2luKCIsIildfHxuKGEpKX1yZXR1cm4gaX19ZnVuY3Rpb24gaXQodCxlKXtmb3IodmFyIG49MCxyPVt0XTtuPHIubGVuZ3RoO24rKyl7Zm9yKHZhciBvPXJbbl0saT0hby52YWxpZEVuZCxzPVtdLGE9MDthPG8ubmV4dC5sZW5ndGg7YSs9Mil7dmFyIGM9by5uZXh0W2FdLGw9by5uZXh0W2ErMV07cy5wdXNoKGMubmFtZSksIWl8fGMuaXNUZXh0fHxjLmhhc1JlcXVpcmVkQXR0cnMoKXx8KGk9ITEpLC0xPT1yLmluZGV4T2YobCkmJnIucHVzaChsKX1pJiZlLmVycigiT25seSBub24tZ2VuZXJhdGFibGUgbm9kZXMgKCIrcy5qb2luKCIsICIpKyIpIGluIGEgcmVxdWlyZWQgcG9zaXRpb24iKX19ZnVuY3Rpb24gc3QodCl7dmFyIGU9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIG4gaW4gdCl7dmFyIHI9dFtuXTtpZighci5oYXNEZWZhdWx0KXJldHVybiBudWxsO2Vbbl09ci5kZWZhdWx0fXJldHVybiBlfWZ1bmN0aW9uIGF0KHQsZSl7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIHIgaW4gdCl7dmFyIG89ZSYmZVtyXTtpZih2b2lkIDA9PT1vKXt2YXIgaT10W3JdO2lmKCFpLmhhc0RlZmF1bHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vIHZhbHVlIHN1cHBsaWVkIGZvciBhdHRyaWJ1dGUgIityKTtvPWkuZGVmYXVsdH1uW3JdPW99cmV0dXJuIG59ZnVuY3Rpb24gY3QodCl7dmFyIGU9T2JqZWN0LmNyZWF0ZShudWxsKTtpZih0KWZvcih2YXIgbiBpbiB0KWVbbl09bmV3IHB0KHRbbl0pO3JldHVybiBlfUsubmV4dC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b2tlbnNbdGhpcy5wb3NdfSxxLnByb3RvdHlwZS5lYXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmV4dD09dCYmKHRoaXMucG9zKyt8fCEwKX0scS5wcm90b3R5cGUuZXJyPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBTeW50YXhFcnJvcih0KyIgKGluIGNvbnRlbnQgZXhwcmVzc2lvbiAnIit0aGlzLnN0cmluZysiJykiKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocS5wcm90b3R5cGUsSyk7dmFyIGx0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLm5hbWU9dCx0aGlzLnNjaGVtYT1lLHRoaXMuc3BlYz1uLHRoaXMuZ3JvdXBzPW4uZ3JvdXA/bi5ncm91cC5zcGxpdCgiICIpOltdLHRoaXMuYXR0cnM9Y3Qobi5hdHRycyksdGhpcy5kZWZhdWx0QXR0cnM9c3QodGhpcy5hdHRycyksdGhpcy5jb250ZW50TWF0Y2g9bnVsbCx0aGlzLm1hcmtTZXQ9bnVsbCx0aGlzLmlubGluZUNvbnRlbnQ9bnVsbCx0aGlzLmlzQmxvY2s9IShuLmlubGluZXx8InRleHQiPT10KSx0aGlzLmlzVGV4dD0idGV4dCI9PXR9LHV0PXtpc0lubGluZTp7Y29uZmlndXJhYmxlOiEwfSxpc1RleHRibG9jazp7Y29uZmlndXJhYmxlOiEwfSxpc0xlYWY6e2NvbmZpZ3VyYWJsZTohMH0saXNBdG9tOntjb25maWd1cmFibGU6ITB9fTt1dC5pc0lubGluZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0Jsb2NrfSx1dC5pc1RleHRibG9jay5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Jsb2NrJiZ0aGlzLmlubGluZUNvbnRlbnR9LHV0LmlzTGVhZi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50TWF0Y2g9PUouZW1wdHl9LHV0LmlzQXRvbS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0xlYWZ8fHRoaXMuc3BlYy5hdG9tfSxsdC5wcm90b3R5cGUuaGFzUmVxdWlyZWRBdHRycz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLmF0dHJzKWlmKHRoaXMuYXR0cnNbdF0uaXNSZXF1aXJlZClyZXR1cm4hMDtyZXR1cm4hMX0sbHQucHJvdG90eXBlLmNvbXBhdGlibGVDb250ZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT10fHx0aGlzLmNvbnRlbnRNYXRjaC5jb21wYXRpYmxlKHQuY29udGVudE1hdGNoKX0sbHQucHJvdG90eXBlLmNvbXB1dGVBdHRycz1mdW5jdGlvbih0KXtyZXR1cm4hdCYmdGhpcy5kZWZhdWx0QXR0cnM/dGhpcy5kZWZhdWx0QXR0cnM6YXQodGhpcy5hdHRycyx0KX0sbHQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbih0LGUsbil7aWYodGhpcy5pc1RleHQpdGhyb3cgbmV3IEVycm9yKCJOb2RlVHlwZS5jcmVhdGUgY2FuJ3QgY29uc3RydWN0IHRleHQgbm9kZXMiKTtyZXR1cm4gbmV3IGoodGhpcyx0aGlzLmNvbXB1dGVBdHRycyh0KSxwLmZyb20oZSksdi5zZXRGcm9tKG4pKX0sbHQucHJvdG90eXBlLmNyZWF0ZUNoZWNrZWQ9ZnVuY3Rpb24odCxlLG4pe2lmKGU9cC5mcm9tKGUpLCF0aGlzLnZhbGlkQ29udGVudChlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBjb250ZW50IGZvciBub2RlICIrdGhpcy5uYW1lKTtyZXR1cm4gbmV3IGoodGhpcyx0aGlzLmNvbXB1dGVBdHRycyh0KSxlLHYuc2V0RnJvbShuKSl9LGx0LnByb3RvdHlwZS5jcmVhdGVBbmRGaWxsPWZ1bmN0aW9uKHQsZSxuKXtpZih0PXRoaXMuY29tcHV0ZUF0dHJzKHQpLGU9cC5mcm9tKGUpLGUuc2l6ZSl7dmFyIHI9dGhpcy5jb250ZW50TWF0Y2guZmlsbEJlZm9yZShlKTtpZighcilyZXR1cm4gbnVsbDtlPXIuYXBwZW5kKGUpfXZhciBvPXRoaXMuY29udGVudE1hdGNoLm1hdGNoRnJhZ21lbnQoZSkuZmlsbEJlZm9yZShwLmVtcHR5LCEwKTtyZXR1cm4gbz9uZXcgaih0aGlzLHQsZS5hcHBlbmQobyksdi5zZXRGcm9tKG4pKTpudWxsfSxsdC5wcm90b3R5cGUudmFsaWRDb250ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGVudE1hdGNoLm1hdGNoRnJhZ21lbnQodCk7aWYoIWV8fCFlLnZhbGlkRW5kKXJldHVybiExO2Zvcih2YXIgbj0wO248dC5jaGlsZENvdW50O24rKylpZighdGhpcy5hbGxvd3NNYXJrcyh0LmNoaWxkKG4pLm1hcmtzKSlyZXR1cm4hMTtyZXR1cm4hMH0sbHQucHJvdG90eXBlLmFsbG93c01hcmtUeXBlPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10aGlzLm1hcmtTZXR8fHRoaXMubWFya1NldC5pbmRleE9mKHQpPi0xfSxsdC5wcm90b3R5cGUuYWxsb3dzTWFya3M9ZnVuY3Rpb24odCl7aWYobnVsbD09dGhpcy5tYXJrU2V0KXJldHVybiEwO2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKCF0aGlzLmFsbG93c01hcmtUeXBlKHRbZV0udHlwZSkpcmV0dXJuITE7cmV0dXJuITB9LGx0LnByb3RvdHlwZS5hbGxvd2VkTWFya3M9ZnVuY3Rpb24odCl7aWYobnVsbD09dGhpcy5tYXJrU2V0KXJldHVybiB0O2Zvcih2YXIgZSxuPTA7bjx0Lmxlbmd0aDtuKyspdGhpcy5hbGxvd3NNYXJrVHlwZSh0W25dLnR5cGUpP2UmJmUucHVzaCh0W25dKTplfHwoZT10LnNsaWNlKDAsbikpO3JldHVybiBlP2UubGVuZ3RoP2U6di5lbXB0eTp0fSxsdC5jb21waWxlPWZ1bmN0aW9uKHQsZSl7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTt0LmZvckVhY2goKGZ1bmN0aW9uKHQscil7cmV0dXJuIG5bdF09bmV3IGx0KHQsZSxyKX0pKTt2YXIgcj1lLnNwZWMudG9wTm9kZXx8ImRvYyI7aWYoIW5bcl0pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlNjaGVtYSBpcyBtaXNzaW5nIGl0cyB0b3Agbm9kZSB0eXBlICgnIityKyInKSIpO2lmKCFuLnRleHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkV2ZXJ5IHNjaGVtYSBuZWVkcyBhICd0ZXh0JyB0eXBlIik7Zm9yKHZhciBvIGluIG4udGV4dC5hdHRycyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGhlIHRleHQgbm9kZSB0eXBlIHNob3VsZCBub3QgaGF2ZSBhdHRyaWJ1dGVzIik7cmV0dXJuIG59LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGx0LnByb3RvdHlwZSx1dCk7dmFyIHB0PWZ1bmN0aW9uKHQpe3RoaXMuaGFzRGVmYXVsdD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCwiZGVmYXVsdCIpLHRoaXMuZGVmYXVsdD10LmRlZmF1bHR9LGh0PXtpc1JlcXVpcmVkOntjb25maWd1cmFibGU6ITB9fTtodC5pc1JlcXVpcmVkLmdldD1mdW5jdGlvbigpe3JldHVybiF0aGlzLmhhc0RlZmF1bHR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHB0LnByb3RvdHlwZSxodCk7dmFyIGZ0PWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMubmFtZT10LHRoaXMuc2NoZW1hPW4sdGhpcy5zcGVjPXIsdGhpcy5hdHRycz1jdChyLmF0dHJzKSx0aGlzLnJhbms9ZSx0aGlzLmV4Y2x1ZGVkPW51bGw7dmFyIG89c3QodGhpcy5hdHRycyk7dGhpcy5pbnN0YW5jZT1vJiZuZXcgdih0aGlzLG8pfTtmdC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKHQpe3JldHVybiF0JiZ0aGlzLmluc3RhbmNlP3RoaXMuaW5zdGFuY2U6bmV3IHYodGhpcyxhdCh0aGlzLmF0dHJzLHQpKX0sZnQuY29tcGlsZT1mdW5jdGlvbih0LGUpe3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCkscj0wO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQsbyl7cmV0dXJuIG5bdF09bmV3IGZ0KHQscisrLGUsbyl9KSksbn0sZnQucHJvdG90eXBlLnJlbW92ZUZyb21TZXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodFtlXS50eXBlPT10aGlzKXJldHVybiB0LnNsaWNlKDAsZSkuY29uY2F0KHQuc2xpY2UoZSsxKSk7cmV0dXJuIHR9LGZ0LnByb3RvdHlwZS5pc0luU2V0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRbZV0udHlwZT09dGhpcylyZXR1cm4gdFtlXX0sZnQucHJvdG90eXBlLmV4Y2x1ZGVzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmV4Y2x1ZGVkLmluZGV4T2YodCk+LTF9O3ZhciBkdD1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdGhpcy5zcGVjPXt9LHQpdGhpcy5zcGVjW2VdPXRbZV07dGhpcy5zcGVjLm5vZGVzPWMuZnJvbSh0Lm5vZGVzKSx0aGlzLnNwZWMubWFya3M9Yy5mcm9tKHQubWFya3MpLHRoaXMubm9kZXM9bHQuY29tcGlsZSh0aGlzLnNwZWMubm9kZXMsdGhpcyksdGhpcy5tYXJrcz1mdC5jb21waWxlKHRoaXMuc3BlYy5tYXJrcyx0aGlzKTt2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcih2YXIgciBpbiB0aGlzLm5vZGVzKXtpZihyIGluIHRoaXMubWFya3MpdGhyb3cgbmV3IFJhbmdlRXJyb3IocisiIGNhbiBub3QgYmUgYm90aCBhIG5vZGUgYW5kIGEgbWFyayIpO3ZhciBvPXRoaXMubm9kZXNbcl0saT1vLnNwZWMuY29udGVudHx8IiIscz1vLnNwZWMubWFya3M7by5jb250ZW50TWF0Y2g9bltpXXx8KG5baV09Si5wYXJzZShpLHRoaXMubm9kZXMpKSxvLmlubGluZUNvbnRlbnQ9by5jb250ZW50TWF0Y2guaW5saW5lQ29udGVudCxvLm1hcmtTZXQ9Il8iPT1zP251bGw6cz9tdCh0aGlzLHMuc3BsaXQoIiAiKSk6IiIhPXMmJm8uaW5saW5lQ29udGVudD9udWxsOltdfWZvcih2YXIgYSBpbiB0aGlzLm1hcmtzKXt2YXIgbD10aGlzLm1hcmtzW2FdLHU9bC5zcGVjLmV4Y2x1ZGVzO2wuZXhjbHVkZWQ9bnVsbD09dT9bbF06IiI9PXU/W106bXQodGhpcyx1LnNwbGl0KCIgIikpfXRoaXMubm9kZUZyb21KU09OPXRoaXMubm9kZUZyb21KU09OLmJpbmQodGhpcyksdGhpcy5tYXJrRnJvbUpTT049dGhpcy5tYXJrRnJvbUpTT04uYmluZCh0aGlzKSx0aGlzLnRvcE5vZGVUeXBlPXRoaXMubm9kZXNbdGhpcy5zcGVjLnRvcE5vZGV8fCJkb2MiXSx0aGlzLmNhY2hlZD1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuY2FjaGVkLndyYXBwaW5ncz1PYmplY3QuY3JlYXRlKG51bGwpfTtmdW5jdGlvbiBtdCh0LGUpe2Zvcih2YXIgbj1bXSxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBvPWVbcl0saT10Lm1hcmtzW29dLHM9aTtpZihpKW4ucHVzaChpKTtlbHNlIGZvcih2YXIgYSBpbiB0Lm1hcmtzKXt2YXIgYz10Lm1hcmtzW2FdOygiXyI9PW98fGMuc3BlYy5ncm91cCYmYy5zcGVjLmdyb3VwLnNwbGl0KCIgIikuaW5kZXhPZihvKT4tMSkmJm4ucHVzaChzPWMpfWlmKCFzKXRocm93IG5ldyBTeW50YXhFcnJvcigiVW5rbm93biBtYXJrIHR5cGU6ICciK2Vbcl0rIiciKX1yZXR1cm4gbn1kdC5wcm90b3R5cGUubm9kZT1mdW5jdGlvbih0LGUsbixyKXtpZigic3RyaW5nIj09dHlwZW9mIHQpdD10aGlzLm5vZGVUeXBlKHQpO2Vsc2V7aWYoISh0IGluc3RhbmNlb2YgbHQpKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIG5vZGUgdHlwZTogIit0KTtpZih0LnNjaGVtYSE9dGhpcyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiTm9kZSB0eXBlIGZyb20gZGlmZmVyZW50IHNjaGVtYSB1c2VkICgiK3QubmFtZSsiKSIpfXJldHVybiB0LmNyZWF0ZUNoZWNrZWQoZSxuLHIpfSxkdC5wcm90b3R5cGUudGV4dD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMubm9kZXMudGV4dDtyZXR1cm4gbmV3IEYobixuLmRlZmF1bHRBdHRycyx0LHYuc2V0RnJvbShlKSl9LGR0LnByb3RvdHlwZS5tYXJrPWZ1bmN0aW9uKHQsZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0JiYodD10aGlzLm1hcmtzW3RdKSx0LmNyZWF0ZShlKX0sZHQucHJvdG90eXBlLm5vZGVGcm9tSlNPTj1mdW5jdGlvbih0KXtyZXR1cm4gai5mcm9tSlNPTih0aGlzLHQpfSxkdC5wcm90b3R5cGUubWFya0Zyb21KU09OPWZ1bmN0aW9uKHQpe3JldHVybiB2LmZyb21KU09OKHRoaXMsdCl9LGR0LnByb3RvdHlwZS5ub2RlVHlwZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm5vZGVzW3RdO2lmKCFlKXRocm93IG5ldyBSYW5nZUVycm9yKCJVbmtub3duIG5vZGUgdHlwZTogIit0KTtyZXR1cm4gZX07dmFyIHZ0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0aGlzLnNjaGVtYT10LHRoaXMucnVsZXM9ZSx0aGlzLnRhZ3M9W10sdGhpcy5zdHlsZXM9W10sZS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LnRhZz9uLnRhZ3MucHVzaCh0KTp0LnN0eWxlJiZuLnN0eWxlcy5wdXNoKHQpfSkpfTt2dC5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIG49bmV3IE10KHRoaXMsZSwhMSk7cmV0dXJuIG4uYWRkQWxsKHQsbnVsbCxlLmZyb20sZS50byksbi5maW5pc2goKX0sdnQucHJvdG90eXBlLnBhcnNlU2xpY2U9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIG49bmV3IE10KHRoaXMsZSwhMCk7cmV0dXJuIG4uYWRkQWxsKHQsbnVsbCxlLmZyb20sZS50bykseS5tYXhPcGVuKG4uZmluaXNoKCkpfSx2dC5wcm90b3R5cGUubWF0Y2hUYWc9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPHRoaXMudGFncy5sZW5ndGg7bisrKXt2YXIgcj10aGlzLnRhZ3Nbbl07aWYoTnQodCxyLnRhZykmJih2b2lkIDA9PT1yLm5hbWVzcGFjZXx8dC5uYW1lc3BhY2VVUkk9PXIubmFtZXNwYWNlKSYmKCFyLmNvbnRleHR8fGUubWF0Y2hlc0NvbnRleHQoci5jb250ZXh0KSkpe2lmKHIuZ2V0QXR0cnMpe3ZhciBvPXIuZ2V0QXR0cnModCk7aWYoITE9PT1vKWNvbnRpbnVlO3IuYXR0cnM9b31yZXR1cm4gcn19fSx2dC5wcm90b3R5cGUubWF0Y2hTdHlsZT1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPTA7cjx0aGlzLnN0eWxlcy5sZW5ndGg7cisrKXt2YXIgbz10aGlzLnN0eWxlc1tyXTtpZighKDAhPW8uc3R5bGUuaW5kZXhPZih0KXx8by5jb250ZXh0JiYhbi5tYXRjaGVzQ29udGV4dChvLmNvbnRleHQpfHxvLnN0eWxlLmxlbmd0aD50Lmxlbmd0aCYmKDYxIT1vLnN0eWxlLmNoYXJDb2RlQXQodC5sZW5ndGgpfHxvLnN0eWxlLnNsaWNlKHQubGVuZ3RoKzEpIT1lKSkpe2lmKG8uZ2V0QXR0cnMpe3ZhciBpPW8uZ2V0QXR0cnMoZSk7aWYoITE9PT1pKWNvbnRpbnVlO28uYXR0cnM9aX1yZXR1cm4gb319fSx2dC5zY2hlbWFSdWxlcz1mdW5jdGlvbih0KXt2YXIgZT1bXTtmdW5jdGlvbiBuKHQpe2Zvcih2YXIgbj1udWxsPT10LnByaW9yaXR5PzUwOnQucHJpb3JpdHkscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdLGk9bnVsbD09by5wcmlvcml0eT81MDpvLnByaW9yaXR5O2lmKGk8bilicmVha31lLnNwbGljZShyLDAsdCl9dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHI9dC5tYXJrc1tlXS5zcGVjLnBhcnNlRE9NO3ImJnIuZm9yRWFjaCgoZnVuY3Rpb24odCl7bih0PVR0KHQpKSx0Lm1hcms9ZX0pKX07Zm9yKHZhciBvIGluIHQubWFya3MpcihvKTt2YXIgaT1mdW5jdGlvbihlKXt2YXIgcj10Lm5vZGVzW3NdLnNwZWMucGFyc2VET007ciYmci5mb3JFYWNoKChmdW5jdGlvbih0KXtuKHQ9VHQodCkpLHQubm9kZT1zfSkpfTtmb3IodmFyIHMgaW4gdC5ub2RlcylpKCk7cmV0dXJuIGV9LHZ0LmZyb21TY2hlbWE9ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2FjaGVkLmRvbVBhcnNlcnx8KHQuY2FjaGVkLmRvbVBhcnNlcj1uZXcgdnQodCx2dC5zY2hlbWFSdWxlcyh0KSkpfTt2YXIgZ3Q9e2FkZHJlc3M6ITAsYXJ0aWNsZTohMCxhc2lkZTohMCxibG9ja3F1b3RlOiEwLGNhbnZhczohMCxkZDohMCxkaXY6ITAsZGw6ITAsZmllbGRzZXQ6ITAsZmlnY2FwdGlvbjohMCxmaWd1cmU6ITAsZm9vdGVyOiEwLGZvcm06ITAsaDE6ITAsaDI6ITAsaDM6ITAsaDQ6ITAsaDU6ITAsaDY6ITAsaGVhZGVyOiEwLGhncm91cDohMCxocjohMCxsaTohMCxub3NjcmlwdDohMCxvbDohMCxvdXRwdXQ6ITAscDohMCxwcmU6ITAsc2VjdGlvbjohMCx0YWJsZTohMCx0Zm9vdDohMCx1bDohMH0seXQ9e2hlYWQ6ITAsbm9zY3JpcHQ6ITAsb2JqZWN0OiEwLHNjcmlwdDohMCxzdHlsZTohMCx0aXRsZTohMH0sd3Q9e29sOiEwLHVsOiEwfSxidD0xLHh0PTIsa3Q9NDtmdW5jdGlvbiBTdCh0KXtyZXR1cm4odD9idDowKXwoImZ1bGwiPT09dD94dDowKX12YXIgQ3Q9ZnVuY3Rpb24odCxlLG4scixvLGkscyl7dGhpcy50eXBlPXQsdGhpcy5hdHRycz1lLHRoaXMuc29saWQ9byx0aGlzLm1hdGNoPWl8fChzJmt0P251bGw6dC5jb250ZW50TWF0Y2gpLHRoaXMub3B0aW9ucz1zLHRoaXMuY29udGVudD1bXSx0aGlzLm1hcmtzPW4sdGhpcy5hY3RpdmVNYXJrcz12Lm5vbmUsdGhpcy5wZW5kaW5nTWFya3M9cn07Q3QucHJvdG90eXBlLmZpbmRXcmFwcGluZz1mdW5jdGlvbih0KXtpZighdGhpcy5tYXRjaCl7aWYoIXRoaXMudHlwZSlyZXR1cm5bXTt2YXIgZT10aGlzLnR5cGUuY29udGVudE1hdGNoLmZpbGxCZWZvcmUocC5mcm9tKHQpKTtpZighZSl7dmFyIG4scj10aGlzLnR5cGUuY29udGVudE1hdGNoO3JldHVybihuPXIuZmluZFdyYXBwaW5nKHQudHlwZSkpPyh0aGlzLm1hdGNoPXIsbik6bnVsbH10aGlzLm1hdGNoPXRoaXMudHlwZS5jb250ZW50TWF0Y2gubWF0Y2hGcmFnbWVudChlKX1yZXR1cm4gdGhpcy5tYXRjaC5maW5kV3JhcHBpbmcodC50eXBlKX0sQ3QucHJvdG90eXBlLmZpbmlzaD1mdW5jdGlvbih0KXtpZighKHRoaXMub3B0aW9ucyZidCkpe3ZhciBlLG49dGhpcy5jb250ZW50W3RoaXMuY29udGVudC5sZW5ndGgtMV07biYmbi5pc1RleHQmJihlPS9bIFx0XHJcblx1MDAwY10rJC8uZXhlYyhuLnRleHQpKSYmKG4udGV4dC5sZW5ndGg9PWVbMF0ubGVuZ3RoP3RoaXMuY29udGVudC5wb3AoKTp0aGlzLmNvbnRlbnRbdGhpcy5jb250ZW50Lmxlbmd0aC0xXT1uLndpdGhUZXh0KG4udGV4dC5zbGljZSgwLG4udGV4dC5sZW5ndGgtZVswXS5sZW5ndGgpKSl9dmFyIHI9cC5mcm9tKHRoaXMuY29udGVudCk7cmV0dXJuIXQmJnRoaXMubWF0Y2gmJihyPXIuYXBwZW5kKHRoaXMubWF0Y2guZmlsbEJlZm9yZShwLmVtcHR5LCEwKSkpLHRoaXMudHlwZT90aGlzLnR5cGUuY3JlYXRlKHRoaXMuYXR0cnMscix0aGlzLm1hcmtzKTpyfSxDdC5wcm90b3R5cGUuYXBwbHlQZW5kaW5nPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5wZW5kaW5nTWFya3M7ZTxuLmxlbmd0aDtlKyspe3ZhciByPW5bZV07KHRoaXMudHlwZT90aGlzLnR5cGUuYWxsb3dzTWFya1R5cGUoci50eXBlKTpEdChyLnR5cGUsdCkpJiYhci5pc0luU2V0KHRoaXMuYWN0aXZlTWFya3MpJiYodGhpcy5hY3RpdmVNYXJrcz1yLmFkZFRvU2V0KHRoaXMuYWN0aXZlTWFya3MpLHRoaXMucGVuZGluZ01hcmtzPXIucmVtb3ZlRnJvbVNldCh0aGlzLnBlbmRpbmdNYXJrcykpfX07dmFyIE10PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnBhcnNlcj10LHRoaXMub3B0aW9ucz1lLHRoaXMuaXNPcGVuPW47dmFyIHIsbz1lLnRvcE5vZGUsaT1TdChlLnByZXNlcnZlV2hpdGVzcGFjZSl8KG4/a3Q6MCk7cj1vP25ldyBDdChvLnR5cGUsby5hdHRycyx2Lm5vbmUsdi5ub25lLCEwLGUudG9wTWF0Y2h8fG8udHlwZS5jb250ZW50TWF0Y2gsaSk6bmV3IEN0KG4/bnVsbDp0LnNjaGVtYS50b3BOb2RlVHlwZSxudWxsLHYubm9uZSx2Lm5vbmUsITAsbnVsbCxpKSx0aGlzLm5vZGVzPVtyXSx0aGlzLm9wZW49MCx0aGlzLmZpbmQ9ZS5maW5kUG9zaXRpb25zLHRoaXMubmVlZHNCbG9jaz0hMX0sT3Q9e3RvcDp7Y29uZmlndXJhYmxlOiEwfSxjdXJyZW50UG9zOntjb25maWd1cmFibGU6ITB9fTtmdW5jdGlvbiBBdCh0KXtmb3IodmFyIGU9dC5maXJzdENoaWxkLG49bnVsbDtlO2U9ZS5uZXh0U2libGluZyl7dmFyIHI9MT09ZS5ub2RlVHlwZT9lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk6bnVsbDtyJiZ3dC5oYXNPd25Qcm9wZXJ0eShyKSYmbj8obi5hcHBlbmRDaGlsZChlKSxlPW4pOiJsaSI9PXI/bj1lOnImJihuPW51bGwpfX1mdW5jdGlvbiBOdCh0LGUpe3JldHVybih0Lm1hdGNoZXN8fHQubXNNYXRjaGVzU2VsZWN0b3J8fHQud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHx0Lm1vek1hdGNoZXNTZWxlY3RvcikuY2FsbCh0LGUpfWZ1bmN0aW9uIEV0KHQpe3ZhciBlLG49L1xzKihbXHctXSspXHMqOlxzKihbXjtdKykvZyxyPVtdO3doaWxlKGU9bi5leGVjKHQpKXIucHVzaChlWzFdLGVbMl0udHJpbSgpKTtyZXR1cm4gcn1mdW5jdGlvbiBUdCh0KXt2YXIgZT17fTtmb3IodmFyIG4gaW4gdCllW25dPXRbbl07cmV0dXJuIGV9ZnVuY3Rpb24gRHQodCxlKXt2YXIgbj1lLnNjaGVtYS5ub2RlcyxyPWZ1bmN0aW9uKHIpe3ZhciBvPW5bcl07aWYoby5hbGxvd3NNYXJrVHlwZSh0KSl7dmFyIGk9W10scz1mdW5jdGlvbih0KXtpLnB1c2godCk7Zm9yKHZhciBuPTA7bjx0LmVkZ2VDb3VudDtuKyspe3ZhciByPXQuZWRnZShuKSxvPXIudHlwZSxhPXIubmV4dDtpZihvPT1lKXJldHVybiEwO2lmKGkuaW5kZXhPZihhKTwwJiZzKGEpKXJldHVybiEwfX07cmV0dXJuIHMoby5jb250ZW50TWF0Y2gpP3t2OiEwfTp2b2lkIDB9fTtmb3IodmFyIG8gaW4gbil7dmFyIGk9cihvKTtpZihpKXJldHVybiBpLnZ9fU90LnRvcC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2Rlc1t0aGlzLm9wZW5dfSxNdC5wcm90b3R5cGUuYWRkRE9NPWZ1bmN0aW9uKHQpe2lmKDM9PXQubm9kZVR5cGUpdGhpcy5hZGRUZXh0Tm9kZSh0KTtlbHNlIGlmKDE9PXQubm9kZVR5cGUpe3ZhciBlPXQuZ2V0QXR0cmlidXRlKCJzdHlsZSIpLG49ZT90aGlzLnJlYWRTdHlsZXMoRXQoZSkpOm51bGwscj10aGlzLnRvcDtpZihudWxsIT1uKWZvcih2YXIgbz0wO288bi5sZW5ndGg7bysrKXRoaXMuYWRkUGVuZGluZ01hcmsobltvXSk7aWYodGhpcy5hZGRFbGVtZW50KHQpLG51bGwhPW4pZm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspdGhpcy5yZW1vdmVQZW5kaW5nTWFyayhuW2ldLHIpfX0sTXQucHJvdG90eXBlLmFkZFRleHROb2RlPWZ1bmN0aW9uKHQpe3ZhciBlPXQubm9kZVZhbHVlLG49dGhpcy50b3A7aWYoKG4udHlwZT9uLnR5cGUuaW5saW5lQ29udGVudDpuLmNvbnRlbnQubGVuZ3RoJiZuLmNvbnRlbnRbMF0uaXNJbmxpbmUpfHwvW14gXHRcclxuXHUwMDBjXS8udGVzdChlKSl7aWYobi5vcHRpb25zJmJ0KW4ub3B0aW9ucyZ4dHx8KGU9ZS5yZXBsYWNlKC9ccj9cbnxcci9nLCIgIikpO2Vsc2UgaWYoZT1lLnJlcGxhY2UoL1sgXHRcclxuXHUwMDBjXSsvZywiICIpLC9eWyBcdFxyXG5cdTAwMGNdLy50ZXN0KGUpJiZ0aGlzLm9wZW49PXRoaXMubm9kZXMubGVuZ3RoLTEpe3ZhciByPW4uY29udGVudFtuLmNvbnRlbnQubGVuZ3RoLTFdLG89dC5wcmV2aW91c1NpYmxpbmc7KCFyfHxvJiYiQlIiPT1vLm5vZGVOYW1lfHxyLmlzVGV4dCYmL1sgXHRcclxuXHUwMDBjXSQvLnRlc3Qoci50ZXh0KSkmJihlPWUuc2xpY2UoMSkpfWUmJnRoaXMuaW5zZXJ0Tm9kZSh0aGlzLnBhcnNlci5zY2hlbWEudGV4dChlKSksdGhpcy5maW5kSW5UZXh0KHQpfWVsc2UgdGhpcy5maW5kSW5zaWRlKHQpfSxNdC5wcm90b3R5cGUuYWRkRWxlbWVudD1mdW5jdGlvbih0KXt2YXIgZT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7d3QuaGFzT3duUHJvcGVydHkoZSkmJkF0KHQpO3ZhciBuPXRoaXMub3B0aW9ucy5ydWxlRnJvbU5vZGUmJnRoaXMub3B0aW9ucy5ydWxlRnJvbU5vZGUodCl8fHRoaXMucGFyc2VyLm1hdGNoVGFnKHQsdGhpcyk7aWYobj9uLmlnbm9yZTp5dC5oYXNPd25Qcm9wZXJ0eShlKSl0aGlzLmZpbmRJbnNpZGUodCk7ZWxzZSBpZighbnx8bi5za2lwKXtuJiZuLnNraXAubm9kZVR5cGUmJih0PW4uc2tpcCk7dmFyIHIsbz10aGlzLnRvcCxpPXRoaXMubmVlZHNCbG9jaztpZihndC5oYXNPd25Qcm9wZXJ0eShlKSlyPSEwLG8udHlwZXx8KHRoaXMubmVlZHNCbG9jaz0hMCk7ZWxzZSBpZighdC5maXJzdENoaWxkKXJldHVybiB2b2lkIHRoaXMubGVhZkZhbGxiYWNrKHQpO3RoaXMuYWRkQWxsKHQpLHImJnRoaXMuc3luYyhvKSx0aGlzLm5lZWRzQmxvY2s9aX1lbHNlIHRoaXMuYWRkRWxlbWVudEJ5UnVsZSh0LG4pfSxNdC5wcm90b3R5cGUubGVhZkZhbGxiYWNrPWZ1bmN0aW9uKHQpeyJCUiI9PXQubm9kZU5hbWUmJnRoaXMudG9wLnR5cGUmJnRoaXMudG9wLnR5cGUuaW5saW5lQ29udGVudCYmdGhpcy5hZGRUZXh0Tm9kZSh0Lm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIlxuIikpfSxNdC5wcm90b3R5cGUucmVhZFN0eWxlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9di5ub25lLG49MDtuPHQubGVuZ3RoO24rPTIpe3ZhciByPXRoaXMucGFyc2VyLm1hdGNoU3R5bGUodFtuXSx0W24rMV0sdGhpcyk7aWYocil7aWYoci5pZ25vcmUpcmV0dXJuIG51bGw7ZT10aGlzLnBhcnNlci5zY2hlbWEubWFya3Nbci5tYXJrXS5jcmVhdGUoci5hdHRycykuYWRkVG9TZXQoZSl9fXJldHVybiBlfSxNdC5wcm90b3R5cGUuYWRkRWxlbWVudEJ5UnVsZT1mdW5jdGlvbih0LGUpe3ZhciBuLHIsbyxpLHM9dGhpcztlLm5vZGU/KHI9dGhpcy5wYXJzZXIuc2NoZW1hLm5vZGVzW2Uubm9kZV0sci5pc0xlYWY/dGhpcy5pbnNlcnROb2RlKHIuY3JlYXRlKGUuYXR0cnMpKXx8dGhpcy5sZWFmRmFsbGJhY2sodCk6bj10aGlzLmVudGVyKHIsZS5hdHRycyxlLnByZXNlcnZlV2hpdGVzcGFjZSkpOihvPXRoaXMucGFyc2VyLnNjaGVtYS5tYXJrc1tlLm1hcmtdLGk9by5jcmVhdGUoZS5hdHRycyksdGhpcy5hZGRQZW5kaW5nTWFyayhpKSk7dmFyIGE9dGhpcy50b3A7aWYociYmci5pc0xlYWYpdGhpcy5maW5kSW5zaWRlKHQpO2Vsc2UgaWYoZS5nZXRDb250ZW50KXRoaXMuZmluZEluc2lkZSh0KSxlLmdldENvbnRlbnQodCx0aGlzLnBhcnNlci5zY2hlbWEpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBzLmluc2VydE5vZGUodCl9KSk7ZWxzZXt2YXIgYz1lLmNvbnRlbnRFbGVtZW50OyJzdHJpbmciPT10eXBlb2YgYz9jPXQucXVlcnlTZWxlY3RvcihjKToiZnVuY3Rpb24iPT10eXBlb2YgYyYmKGM9Yyh0KSksY3x8KGM9dCksdGhpcy5maW5kQXJvdW5kKHQsYywhMCksdGhpcy5hZGRBbGwoYyxuKX1uJiYodGhpcy5zeW5jKGEpLHRoaXMub3Blbi0tKSxpJiZ0aGlzLnJlbW92ZVBlbmRpbmdNYXJrKGksYSl9LE10LnByb3RvdHlwZS5hZGRBbGw9ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBvPW58fDAsaT1uP3QuY2hpbGROb2Rlc1tuXTp0LmZpcnN0Q2hpbGQscz1udWxsPT1yP251bGw6dC5jaGlsZE5vZGVzW3JdO2khPXM7aT1pLm5leHRTaWJsaW5nLCsrbyl0aGlzLmZpbmRBdFBvaW50KHQsbyksdGhpcy5hZGRET00oaSksZSYmZ3QuaGFzT3duUHJvcGVydHkoaS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSYmdGhpcy5zeW5jKGUpO3RoaXMuZmluZEF0UG9pbnQodCxvKX0sTXQucHJvdG90eXBlLmZpbmRQbGFjZT1mdW5jdGlvbih0KXtmb3IodmFyIGUsbixyPXRoaXMub3BlbjtyPj0wO3ItLSl7dmFyIG89dGhpcy5ub2Rlc1tyXSxpPW8uZmluZFdyYXBwaW5nKHQpO2lmKGkmJighZXx8ZS5sZW5ndGg+aS5sZW5ndGgpJiYoZT1pLG49bywhaS5sZW5ndGgpKWJyZWFrO2lmKG8uc29saWQpYnJlYWt9aWYoIWUpcmV0dXJuITE7dGhpcy5zeW5jKG4pO2Zvcih2YXIgcz0wO3M8ZS5sZW5ndGg7cysrKXRoaXMuZW50ZXJJbm5lcihlW3NdLG51bGwsITEpO3JldHVybiEwfSxNdC5wcm90b3R5cGUuaW5zZXJ0Tm9kZT1mdW5jdGlvbih0KXtpZih0LmlzSW5saW5lJiZ0aGlzLm5lZWRzQmxvY2smJiF0aGlzLnRvcC50eXBlKXt2YXIgZT10aGlzLnRleHRibG9ja0Zyb21Db250ZXh0KCk7ZSYmdGhpcy5lbnRlcklubmVyKGUpfWlmKHRoaXMuZmluZFBsYWNlKHQpKXt0aGlzLmNsb3NlRXh0cmEoKTt2YXIgbj10aGlzLnRvcDtuLmFwcGx5UGVuZGluZyh0LnR5cGUpLG4ubWF0Y2gmJihuLm1hdGNoPW4ubWF0Y2gubWF0Y2hUeXBlKHQudHlwZSkpO2Zvcih2YXIgcj1uLmFjdGl2ZU1hcmtzLG89MDtvPHQubWFya3MubGVuZ3RoO28rKyluLnR5cGUmJiFuLnR5cGUuYWxsb3dzTWFya1R5cGUodC5tYXJrc1tvXS50eXBlKXx8KHI9dC5tYXJrc1tvXS5hZGRUb1NldChyKSk7cmV0dXJuIG4uY29udGVudC5wdXNoKHQubWFyayhyKSksITB9cmV0dXJuITF9LE10LnByb3RvdHlwZS5lbnRlcj1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5maW5kUGxhY2UodC5jcmVhdGUoZSkpO3JldHVybiByJiZ0aGlzLmVudGVySW5uZXIodCxlLCEwLG4pLHJ9LE10LnByb3RvdHlwZS5lbnRlcklubmVyPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMuY2xvc2VFeHRyYSgpO3ZhciBvPXRoaXMudG9wO28uYXBwbHlQZW5kaW5nKHQpLG8ubWF0Y2g9by5tYXRjaCYmby5tYXRjaC5tYXRjaFR5cGUodCxlKTt2YXIgaT1udWxsPT1yP28ub3B0aW9ucyZ+a3Q6U3Qocik7by5vcHRpb25zJmt0JiYwPT1vLmNvbnRlbnQubGVuZ3RoJiYoaXw9a3QpLHRoaXMubm9kZXMucHVzaChuZXcgQ3QodCxlLG8uYWN0aXZlTWFya3Msby5wZW5kaW5nTWFya3MsbixudWxsLGkpKSx0aGlzLm9wZW4rK30sTXQucHJvdG90eXBlLmNsb3NlRXh0cmE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ub2Rlcy5sZW5ndGgtMTtpZihlPnRoaXMub3Blbil7Zm9yKDtlPnRoaXMub3BlbjtlLS0pdGhpcy5ub2Rlc1tlLTFdLmNvbnRlbnQucHVzaCh0aGlzLm5vZGVzW2VdLmZpbmlzaCh0KSk7dGhpcy5ub2Rlcy5sZW5ndGg9dGhpcy5vcGVuKzF9fSxNdC5wcm90b3R5cGUuZmluaXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3Blbj0wLHRoaXMuY2xvc2VFeHRyYSh0aGlzLmlzT3BlbiksdGhpcy5ub2Rlc1swXS5maW5pc2godGhpcy5pc09wZW58fHRoaXMub3B0aW9ucy50b3BPcGVuKX0sTXQucHJvdG90eXBlLnN5bmM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMub3BlbjtlPj0wO2UtLSlpZih0aGlzLm5vZGVzW2VdPT10KXJldHVybiB2b2lkKHRoaXMub3Blbj1lKX0sT3QuY3VycmVudFBvcy5nZXQ9ZnVuY3Rpb24oKXt0aGlzLmNsb3NlRXh0cmEoKTtmb3IodmFyIHQ9MCxlPXRoaXMub3BlbjtlPj0wO2UtLSl7Zm9yKHZhciBuPXRoaXMubm9kZXNbZV0uY29udGVudCxyPW4ubGVuZ3RoLTE7cj49MDtyLS0pdCs9bltyXS5ub2RlU2l6ZTtlJiZ0Kyt9cmV0dXJuIHR9LE10LnByb3RvdHlwZS5maW5kQXRQb2ludD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuZmluZClmb3IodmFyIG49MDtuPHRoaXMuZmluZC5sZW5ndGg7bisrKXRoaXMuZmluZFtuXS5ub2RlPT10JiZ0aGlzLmZpbmRbbl0ub2Zmc2V0PT1lJiYodGhpcy5maW5kW25dLnBvcz10aGlzLmN1cnJlbnRQb3MpfSxNdC5wcm90b3R5cGUuZmluZEluc2lkZT1mdW5jdGlvbih0KXtpZih0aGlzLmZpbmQpZm9yKHZhciBlPTA7ZTx0aGlzLmZpbmQubGVuZ3RoO2UrKyludWxsPT10aGlzLmZpbmRbZV0ucG9zJiYxPT10Lm5vZGVUeXBlJiZ0LmNvbnRhaW5zKHRoaXMuZmluZFtlXS5ub2RlKSYmKHRoaXMuZmluZFtlXS5wb3M9dGhpcy5jdXJyZW50UG9zKX0sTXQucHJvdG90eXBlLmZpbmRBcm91bmQ9ZnVuY3Rpb24odCxlLG4pe2lmKHQhPWUmJnRoaXMuZmluZClmb3IodmFyIHI9MDtyPHRoaXMuZmluZC5sZW5ndGg7cisrKWlmKG51bGw9PXRoaXMuZmluZFtyXS5wb3MmJjE9PXQubm9kZVR5cGUmJnQuY29udGFpbnModGhpcy5maW5kW3JdLm5vZGUpKXt2YXIgbz1lLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHRoaXMuZmluZFtyXS5ub2RlKTtvJihuPzI6NCkmJih0aGlzLmZpbmRbcl0ucG9zPXRoaXMuY3VycmVudFBvcyl9fSxNdC5wcm90b3R5cGUuZmluZEluVGV4dD1mdW5jdGlvbih0KXtpZih0aGlzLmZpbmQpZm9yKHZhciBlPTA7ZTx0aGlzLmZpbmQubGVuZ3RoO2UrKyl0aGlzLmZpbmRbZV0ubm9kZT09dCYmKHRoaXMuZmluZFtlXS5wb3M9dGhpcy5jdXJyZW50UG9zLSh0Lm5vZGVWYWx1ZS5sZW5ndGgtdGhpcy5maW5kW2VdLm9mZnNldCkpfSxNdC5wcm90b3R5cGUubWF0Y2hlc0NvbnRleHQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0LmluZGV4T2YoInwiKT4tMSlyZXR1cm4gdC5zcGxpdCgvXHMqXHxccyovKS5zb21lKHRoaXMubWF0Y2hlc0NvbnRleHQsdGhpcyk7dmFyIG49dC5zcGxpdCgiLyIpLHI9dGhpcy5vcHRpb25zLmNvbnRleHQsbz0hdGhpcy5pc09wZW4mJighcnx8ci5wYXJlbnQudHlwZT09dGhpcy5ub2Rlc1swXS50eXBlKSxpPS0ocj9yLmRlcHRoKzE6MCkrKG8/MDoxKSxzPWZ1bmN0aW9uKHQsYSl7Zm9yKDt0Pj0wO3QtLSl7dmFyIGM9blt0XTtpZigiIj09Yyl7aWYodD09bi5sZW5ndGgtMXx8MD09dCljb250aW51ZTtmb3IoO2E+PWk7YS0tKWlmKHModC0xLGEpKXJldHVybiEwO3JldHVybiExfXZhciBsPWE+MHx8MD09YSYmbz9lLm5vZGVzW2FdLnR5cGU6ciYmYT49aT9yLm5vZGUoYS1pKS50eXBlOm51bGw7aWYoIWx8fGwubmFtZSE9YyYmLTE9PWwuZ3JvdXBzLmluZGV4T2YoYykpcmV0dXJuITE7YS0tfXJldHVybiEwfTtyZXR1cm4gcyhuLmxlbmd0aC0xLHRoaXMub3Blbil9LE10LnByb3RvdHlwZS50ZXh0YmxvY2tGcm9tQ29udGV4dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5jb250ZXh0O2lmKHQpZm9yKHZhciBlPXQuZGVwdGg7ZT49MDtlLS0pe3ZhciBuPXQubm9kZShlKS5jb250ZW50TWF0Y2hBdCh0LmluZGV4QWZ0ZXIoZSkpLmRlZmF1bHRUeXBlO2lmKG4mJm4uaXNUZXh0YmxvY2smJm4uZGVmYXVsdEF0dHJzKXJldHVybiBufWZvcih2YXIgciBpbiB0aGlzLnBhcnNlci5zY2hlbWEubm9kZXMpe3ZhciBvPXRoaXMucGFyc2VyLnNjaGVtYS5ub2Rlc1tyXTtpZihvLmlzVGV4dGJsb2NrJiZvLmRlZmF1bHRBdHRycylyZXR1cm4gb319LE10LnByb3RvdHlwZS5hZGRQZW5kaW5nTWFyaz1mdW5jdGlvbih0KXt0aGlzLnRvcC5wZW5kaW5nTWFya3M9dC5hZGRUb1NldCh0aGlzLnRvcC5wZW5kaW5nTWFya3MpfSxNdC5wcm90b3R5cGUucmVtb3ZlUGVuZGluZ01hcms9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5vcGVuO24+PTA7bi0tKXt2YXIgcj10aGlzLm5vZGVzW25dLG89ci5wZW5kaW5nTWFya3MubGFzdEluZGV4T2YodCk7aWYobz4tMT9yLnBlbmRpbmdNYXJrcz10LnJlbW92ZUZyb21TZXQoci5wZW5kaW5nTWFya3MpOnIuYWN0aXZlTWFya3M9dC5yZW1vdmVGcm9tU2V0KHIuYWN0aXZlTWFya3MpLHI9PWUpYnJlYWt9fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhNdC5wcm90b3R5cGUsT3QpO3ZhciBfdD1mdW5jdGlvbih0LGUpe3RoaXMubm9kZXM9dHx8e30sdGhpcy5tYXJrcz1lfHx7fX07ZnVuY3Rpb24gUnQodCl7dmFyIGU9e307Zm9yKHZhciBuIGluIHQpe3ZhciByPXRbbl0uc3BlYy50b0RPTTtyJiYoZVtuXT1yKX1yZXR1cm4gZX1mdW5jdGlvbiB6dCh0KXtyZXR1cm4gdC5kb2N1bWVudHx8d2luZG93LmRvY3VtZW50fV90LnByb3RvdHlwZS5zZXJpYWxpemVGcmFnbWVudD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpczt2b2lkIDA9PT1lJiYoZT17fSksbnx8KG49enQoZSkuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTt2YXIgbz1uLGk9bnVsbDtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXtpZihpfHx0Lm1hcmtzLmxlbmd0aCl7aXx8KGk9W10pO3ZhciBuPTAscz0wO3doaWxlKG48aS5sZW5ndGgmJnM8dC5tYXJrcy5sZW5ndGgpe3ZhciBhPXQubWFya3Nbc107aWYoci5tYXJrc1thLnR5cGUubmFtZV0pe2lmKCFhLmVxKGlbbl0pfHwhMT09PWEudHlwZS5zcGVjLnNwYW5uaW5nKWJyZWFrO24rPTIscysrfWVsc2UgcysrfXdoaWxlKG48aS5sZW5ndGgpbz1pLnBvcCgpLGkucG9wKCk7d2hpbGUoczx0Lm1hcmtzLmxlbmd0aCl7dmFyIGM9dC5tYXJrc1tzKytdLGw9ci5zZXJpYWxpemVNYXJrKGMsdC5pc0lubGluZSxlKTtsJiYoaS5wdXNoKGMsbyksby5hcHBlbmRDaGlsZChsLmRvbSksbz1sLmNvbnRlbnRET018fGwuZG9tKX19by5hcHBlbmRDaGlsZChyLnNlcmlhbGl6ZU5vZGUodCxlKSl9KSksbn0sX3QucHJvdG90eXBlLnNlcmlhbGl6ZU5vZGU9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIG49X3QucmVuZGVyU3BlYyh6dChlKSx0aGlzLm5vZGVzW3QudHlwZS5uYW1lXSh0KSkscj1uLmRvbSxvPW4uY29udGVudERPTTtpZihvKXtpZih0LmlzTGVhZil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQ29udGVudCBob2xlIG5vdCBhbGxvd2VkIGluIGEgbGVhZiBub2RlIHNwZWMiKTtlLm9uQ29udGVudD9lLm9uQ29udGVudCh0LG8sZSk6dGhpcy5zZXJpYWxpemVGcmFnbWVudCh0LmNvbnRlbnQsZSxvKX1yZXR1cm4gcn0sX3QucHJvdG90eXBlLnNlcmlhbGl6ZU5vZGVBbmRNYXJrcz1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTtmb3IodmFyIG49dGhpcy5zZXJpYWxpemVOb2RlKHQsZSkscj10Lm1hcmtzLmxlbmd0aC0xO3I+PTA7ci0tKXt2YXIgbz10aGlzLnNlcmlhbGl6ZU1hcmsodC5tYXJrc1tyXSx0LmlzSW5saW5lLGUpO28mJigoby5jb250ZW50RE9NfHxvLmRvbSkuYXBwZW5kQ2hpbGQobiksbj1vLmRvbSl9cmV0dXJuIG59LF90LnByb3RvdHlwZS5zZXJpYWxpemVNYXJrPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj17fSk7dmFyIHI9dGhpcy5tYXJrc1t0LnR5cGUubmFtZV07cmV0dXJuIHImJl90LnJlbmRlclNwZWMoenQobikscih0LGUpKX0sX3QucmVuZGVyU3BlYz1mdW5jdGlvbih0LGUsbil7aWYodm9pZCAwPT09biYmKG49bnVsbCksInN0cmluZyI9PXR5cGVvZiBlKXJldHVybntkb206dC5jcmVhdGVUZXh0Tm9kZShlKX07aWYobnVsbCE9ZS5ub2RlVHlwZSlyZXR1cm57ZG9tOmV9O3ZhciByPWVbMF0sbz1yLmluZGV4T2YoIiAiKTtvPjAmJihuPXIuc2xpY2UoMCxvKSxyPXIuc2xpY2UobysxKSk7dmFyIGk9bnVsbCxzPW4/dC5jcmVhdGVFbGVtZW50TlMobixyKTp0LmNyZWF0ZUVsZW1lbnQociksYT1lWzFdLGM9MTtpZihhJiYib2JqZWN0Ij09dHlwZW9mIGEmJm51bGw9PWEubm9kZVR5cGUmJiFBcnJheS5pc0FycmF5KGEpKWZvcih2YXIgbCBpbiBjPTIsYSlpZihudWxsIT1hW2xdKXt2YXIgdT1sLmluZGV4T2YoIiAiKTt1PjA/cy5zZXRBdHRyaWJ1dGVOUyhsLnNsaWNlKDAsdSksbC5zbGljZSh1KzEpLGFbbF0pOnMuc2V0QXR0cmlidXRlKGwsYVtsXSl9Zm9yKHZhciBwPWM7cDxlLmxlbmd0aDtwKyspe3ZhciBoPWVbcF07aWYoMD09PWgpe2lmKHA8ZS5sZW5ndGgtMXx8cD5jKXRocm93IG5ldyBSYW5nZUVycm9yKCJDb250ZW50IGhvbGUgbXVzdCBiZSB0aGUgb25seSBjaGlsZCBvZiBpdHMgcGFyZW50IG5vZGUiKTtyZXR1cm57ZG9tOnMsY29udGVudERPTTpzfX12YXIgZj1fdC5yZW5kZXJTcGVjKHQsaCxuKSxkPWYuZG9tLG09Zi5jb250ZW50RE9NO2lmKHMuYXBwZW5kQ2hpbGQoZCksbSl7aWYoaSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiTXVsdGlwbGUgY29udGVudCBob2xlcyIpO2k9bX19cmV0dXJue2RvbTpzLGNvbnRlbnRET006aX19LF90LmZyb21TY2hlbWE9ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2FjaGVkLmRvbVNlcmlhbGl6ZXJ8fCh0LmNhY2hlZC5kb21TZXJpYWxpemVyPW5ldyBfdCh0aGlzLm5vZGVzRnJvbVNjaGVtYSh0KSx0aGlzLm1hcmtzRnJvbVNjaGVtYSh0KSkpfSxfdC5ub2Rlc0Zyb21TY2hlbWE9ZnVuY3Rpb24odCl7dmFyIGU9UnQodC5ub2Rlcyk7cmV0dXJuIGUudGV4dHx8KGUudGV4dD1mdW5jdGlvbih0KXtyZXR1cm4gdC50ZXh0fSksZX0sX3QubWFya3NGcm9tU2NoZW1hPWZ1bmN0aW9uKHQpe3JldHVybiBSdCh0Lm1hcmtzKX07dmFyIEl0PTY1NTM1LFB0PU1hdGgucG93KDIsMTYpO2Z1bmN0aW9uICR0KHQsZSl7cmV0dXJuIHQrZSpQdH1mdW5jdGlvbiBCdCh0KXtyZXR1cm4gdCZJdH1mdW5jdGlvbiBWdCh0KXtyZXR1cm4odC0odCZJdCkpL1B0fXZhciBqdD1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9ITEpLHZvaWQgMD09PW4mJihuPW51bGwpLHRoaXMucG9zPXQsdGhpcy5kZWxldGVkPWUsdGhpcy5yZWNvdmVyPW59LEx0PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMucmFuZ2VzPXQsdGhpcy5pbnZlcnRlZD1lfTtMdC5wcm90b3R5cGUucmVjb3Zlcj1mdW5jdGlvbih0KXt2YXIgZT0wLG49QnQodCk7aWYoIXRoaXMuaW52ZXJ0ZWQpZm9yKHZhciByPTA7cjxuO3IrKyllKz10aGlzLnJhbmdlc1szKnIrMl0tdGhpcy5yYW5nZXNbMypyKzFdO3JldHVybiB0aGlzLnJhbmdlc1szKm5dK2UrVnQodCl9LEx0LnByb3RvdHlwZS5tYXBSZXN1bHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MSksdGhpcy5fbWFwKHQsZSwhMSl9LEx0LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MSksdGhpcy5fbWFwKHQsZSwhMCl9LEx0LnByb3RvdHlwZS5fbWFwPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9MCxvPXRoaXMuaW52ZXJ0ZWQ/MjoxLGk9dGhpcy5pbnZlcnRlZD8xOjIscz0wO3M8dGhpcy5yYW5nZXMubGVuZ3RoO3MrPTMpe3ZhciBhPXRoaXMucmFuZ2VzW3NdLSh0aGlzLmludmVydGVkP3I6MCk7aWYoYT50KWJyZWFrO3ZhciBjPXRoaXMucmFuZ2VzW3Mrb10sbD10aGlzLnJhbmdlc1tzK2ldLHU9YStjO2lmKHQ8PXUpe3ZhciBwPWM/dD09YT8tMTp0PT11PzE6ZTplLGg9YStyKyhwPDA/MDpsKTtpZihuKXJldHVybiBoO3ZhciBmPXQ9PShlPDA/YTp1KT9udWxsOiR0KHMvMyx0LWEpO3JldHVybiBuZXcganQoaCxlPDA/dCE9YTp0IT11LGYpfXIrPWwtY31yZXR1cm4gbj90K3I6bmV3IGp0KHQrcil9LEx0LnByb3RvdHlwZS50b3VjaGVzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAscj1CdChlKSxvPXRoaXMuaW52ZXJ0ZWQ/MjoxLGk9dGhpcy5pbnZlcnRlZD8xOjIscz0wO3M8dGhpcy5yYW5nZXMubGVuZ3RoO3MrPTMpe3ZhciBhPXRoaXMucmFuZ2VzW3NdLSh0aGlzLmludmVydGVkP246MCk7aWYoYT50KWJyZWFrO3ZhciBjPXRoaXMucmFuZ2VzW3Mrb10sbD1hK2M7aWYodDw9bCYmcz09MypyKXJldHVybiEwO24rPXRoaXMucmFuZ2VzW3MraV0tY31yZXR1cm4hMX0sTHQucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuaW52ZXJ0ZWQ/MjoxLG49dGhpcy5pbnZlcnRlZD8xOjIscj0wLG89MDtyPHRoaXMucmFuZ2VzLmxlbmd0aDtyKz0zKXt2YXIgaT10aGlzLnJhbmdlc1tyXSxzPWktKHRoaXMuaW52ZXJ0ZWQ/bzowKSxhPWkrKHRoaXMuaW52ZXJ0ZWQ/MDpvKSxjPXRoaXMucmFuZ2VzW3IrZV0sbD10aGlzLnJhbmdlc1tyK25dO3QocyxzK2MsYSxhK2wpLG8rPWwtY319LEx0LnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEx0KHRoaXMucmFuZ2VzLCF0aGlzLmludmVydGVkKX0sTHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuaW52ZXJ0ZWQ/Ii0iOiIiKStKU09OLnN0cmluZ2lmeSh0aGlzLnJhbmdlcyl9LEx0Lm9mZnNldD1mdW5jdGlvbih0KXtyZXR1cm4gMD09dD9MdC5lbXB0eTpuZXcgTHQodDwwP1swLC10LDBdOlswLDAsdF0pfSxMdC5lbXB0eT1uZXcgTHQoW10pO3ZhciBGdD1mdW5jdGlvbih0LGUsbixyKXt0aGlzLm1hcHM9dHx8W10sdGhpcy5mcm9tPW58fDAsdGhpcy50bz1udWxsPT1yP3RoaXMubWFwcy5sZW5ndGg6cix0aGlzLm1pcnJvcj1lfTtmdW5jdGlvbiBIdCh0KXt2YXIgZT1FcnJvci5jYWxsKHRoaXMsdCk7cmV0dXJuIGUuX19wcm90b19fPUh0LnByb3RvdHlwZSxlfUZ0LnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT10aGlzLm1hcHMubGVuZ3RoKSxuZXcgRnQodGhpcy5tYXBzLHRoaXMubWlycm9yLHQsZSl9LEZ0LnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBGdCh0aGlzLm1hcHMuc2xpY2UoKSx0aGlzLm1pcnJvciYmdGhpcy5taXJyb3Iuc2xpY2UoKSx0aGlzLmZyb20sdGhpcy50byl9LEZ0LnByb3RvdHlwZS5hcHBlbmRNYXA9ZnVuY3Rpb24odCxlKXt0aGlzLnRvPXRoaXMubWFwcy5wdXNoKHQpLG51bGwhPWUmJnRoaXMuc2V0TWlycm9yKHRoaXMubWFwcy5sZW5ndGgtMSxlKX0sRnQucHJvdG90eXBlLmFwcGVuZE1hcHBpbmc9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLm1hcHMubGVuZ3RoO2U8dC5tYXBzLmxlbmd0aDtlKyspe3ZhciByPXQuZ2V0TWlycm9yKGUpO3RoaXMuYXBwZW5kTWFwKHQubWFwc1tlXSxudWxsIT1yJiZyPGU/bityOm51bGwpfX0sRnQucHJvdG90eXBlLmdldE1pcnJvcj1mdW5jdGlvbih0KXtpZih0aGlzLm1pcnJvcilmb3IodmFyIGU9MDtlPHRoaXMubWlycm9yLmxlbmd0aDtlKyspaWYodGhpcy5taXJyb3JbZV09PXQpcmV0dXJuIHRoaXMubWlycm9yW2UrKGUlMj8tMToxKV19LEZ0LnByb3RvdHlwZS5zZXRNaXJyb3I9ZnVuY3Rpb24odCxlKXt0aGlzLm1pcnJvcnx8KHRoaXMubWlycm9yPVtdKSx0aGlzLm1pcnJvci5wdXNoKHQsZSl9LEZ0LnByb3RvdHlwZS5hcHBlbmRNYXBwaW5nSW52ZXJ0ZWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQubWFwcy5sZW5ndGgtMSxuPXRoaXMubWFwcy5sZW5ndGgrdC5tYXBzLmxlbmd0aDtlPj0wO2UtLSl7dmFyIHI9dC5nZXRNaXJyb3IoZSk7dGhpcy5hcHBlbmRNYXAodC5tYXBzW2VdLmludmVydCgpLG51bGwhPXImJnI+ZT9uLXItMTpudWxsKX19LEZ0LnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgRnQ7cmV0dXJuIHQuYXBwZW5kTWFwcGluZ0ludmVydGVkKHRoaXMpLHR9LEZ0LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT0xKSx0aGlzLm1pcnJvcilyZXR1cm4gdGhpcy5fbWFwKHQsZSwhMCk7Zm9yKHZhciBuPXRoaXMuZnJvbTtuPHRoaXMudG87bisrKXQ9dGhpcy5tYXBzW25dLm1hcCh0LGUpO3JldHVybiB0fSxGdC5wcm90b3R5cGUubWFwUmVzdWx0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTEpLHRoaXMuX21hcCh0LGUsITEpfSxGdC5wcm90b3R5cGUuX21hcD1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPSExLG89dGhpcy5mcm9tO288dGhpcy50bztvKyspe3ZhciBpPXRoaXMubWFwc1tvXSxzPWkubWFwUmVzdWx0KHQsZSk7aWYobnVsbCE9cy5yZWNvdmVyKXt2YXIgYT10aGlzLmdldE1pcnJvcihvKTtpZihudWxsIT1hJiZhPm8mJmE8dGhpcy50byl7bz1hLHQ9dGhpcy5tYXBzW2FdLnJlY292ZXIocy5yZWNvdmVyKTtjb250aW51ZX19cy5kZWxldGVkJiYocj0hMCksdD1zLnBvc31yZXR1cm4gbj90Om5ldyBqdCh0LHIpfSxIdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLEh0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1IdCxIdC5wcm90b3R5cGUubmFtZT0iVHJhbnNmb3JtRXJyb3IiO3ZhciBKdD1mdW5jdGlvbih0KXt0aGlzLmRvYz10LHRoaXMuc3RlcHM9W10sdGhpcy5kb2NzPVtdLHRoaXMubWFwcGluZz1uZXcgRnR9LFd0PXtiZWZvcmU6e2NvbmZpZ3VyYWJsZTohMH0sZG9jQ2hhbmdlZDp7Y29uZmlndXJhYmxlOiEwfX07ZnVuY3Rpb24gcXQoKXt0aHJvdyBuZXcgRXJyb3IoIk92ZXJyaWRlIG1lIil9V3QuYmVmb3JlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvY3MubGVuZ3RoP3RoaXMuZG9jc1swXTp0aGlzLmRvY30sSnQucHJvdG90eXBlLnN0ZXA9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5tYXliZVN0ZXAodCk7aWYoZS5mYWlsZWQpdGhyb3cgbmV3IEh0KGUuZmFpbGVkKTtyZXR1cm4gdGhpc30sSnQucHJvdG90eXBlLm1heWJlU3RlcD1mdW5jdGlvbih0KXt2YXIgZT10LmFwcGx5KHRoaXMuZG9jKTtyZXR1cm4gZS5mYWlsZWR8fHRoaXMuYWRkU3RlcCh0LGUuZG9jKSxlfSxXdC5kb2NDaGFuZ2VkLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0ZXBzLmxlbmd0aD4wfSxKdC5wcm90b3R5cGUuYWRkU3RlcD1mdW5jdGlvbih0LGUpe3RoaXMuZG9jcy5wdXNoKHRoaXMuZG9jKSx0aGlzLnN0ZXBzLnB1c2godCksdGhpcy5tYXBwaW5nLmFwcGVuZE1hcCh0LmdldE1hcCgpKSx0aGlzLmRvYz1lfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhKdC5wcm90b3R5cGUsV3QpO3ZhciBLdD1PYmplY3QuY3JlYXRlKG51bGwpLFV0PWZ1bmN0aW9uKCl7fTtVdC5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7cmV0dXJuIHF0KCl9LFV0LnByb3RvdHlwZS5nZXRNYXA9ZnVuY3Rpb24oKXtyZXR1cm4gTHQuZW1wdHl9LFV0LnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHF0KCl9LFV0LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7cmV0dXJuIHF0KCl9LFV0LnByb3RvdHlwZS5tZXJnZT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbH0sVXQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiBxdCgpfSxVdC5mcm9tSlNPTj1mdW5jdGlvbih0LGUpe2lmKCFlfHwhZS5zdGVwVHlwZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgU3RlcC5mcm9tSlNPTiIpO3ZhciBuPUt0W2Uuc3RlcFR5cGVdO2lmKCFuKXRocm93IG5ldyBSYW5nZUVycm9yKCJObyBzdGVwIHR5cGUgIitlLnN0ZXBUeXBlKyIgZGVmaW5lZCIpO3JldHVybiBuLmZyb21KU09OKHQsZSl9LFV0Lmpzb25JRD1mdW5jdGlvbih0LGUpe2lmKHQgaW4gS3QpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkR1cGxpY2F0ZSB1c2Ugb2Ygc3RlcCBKU09OIElEICIrdCk7cmV0dXJuIEt0W3RdPWUsZS5wcm90b3R5cGUuanNvbklEPXQsZX07dmFyIEd0PWZ1bmN0aW9uKHQsZSl7dGhpcy5kb2M9dCx0aGlzLmZhaWxlZD1lfTtHdC5vaz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEd0KHQsbnVsbCl9LEd0LmZhaWw9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBHdChudWxsLHQpfSxHdC5mcm9tUmVwbGFjZT1mdW5jdGlvbih0LGUsbixyKXt0cnl7cmV0dXJuIEd0Lm9rKHQucmVwbGFjZShlLG4scikpfWNhdGNoKG8pe2lmKG8gaW5zdGFuY2VvZiBnKXJldHVybiBHdC5mYWlsKG8ubWVzc2FnZSk7dGhyb3cgb319O3ZhciBYdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8pe3QuY2FsbCh0aGlzKSx0aGlzLmZyb209ZSx0aGlzLnRvPW4sdGhpcy5zbGljZT1yLHRoaXMuc3RydWN0dXJlPSEhb31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RydWN0dXJlJiZadCh0LHRoaXMuZnJvbSx0aGlzLnRvKT9HdC5mYWlsKCJTdHJ1Y3R1cmUgcmVwbGFjZSB3b3VsZCBvdmVyd3JpdGUgY29udGVudCIpOkd0LmZyb21SZXBsYWNlKHQsdGhpcy5mcm9tLHRoaXMudG8sdGhpcy5zbGljZSl9LGUucHJvdG90eXBlLmdldE1hcD1mdW5jdGlvbigpe3JldHVybiBuZXcgTHQoW3RoaXMuZnJvbSx0aGlzLnRvLXRoaXMuZnJvbSx0aGlzLnNsaWNlLnNpemVdKX0sZS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0aGlzLmZyb20sdGhpcy5mcm9tK3RoaXMuc2xpY2Uuc2l6ZSx0LnNsaWNlKHRoaXMuZnJvbSx0aGlzLnRvKSl9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXt2YXIgbj10Lm1hcFJlc3VsdCh0aGlzLmZyb20sMSkscj10Lm1hcFJlc3VsdCh0aGlzLnRvLC0xKTtyZXR1cm4gbi5kZWxldGVkJiZyLmRlbGV0ZWQ/bnVsbDpuZXcgZShuLnBvcyxNYXRoLm1heChuLnBvcyxyLnBvcyksdGhpcy5zbGljZSl9LGUucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIGUpfHx0LnN0cnVjdHVyZXx8dGhpcy5zdHJ1Y3R1cmUpcmV0dXJuIG51bGw7aWYodGhpcy5mcm9tK3RoaXMuc2xpY2Uuc2l6ZSE9dC5mcm9tfHx0aGlzLnNsaWNlLm9wZW5FbmR8fHQuc2xpY2Uub3BlblN0YXJ0KXtpZih0LnRvIT10aGlzLmZyb218fHRoaXMuc2xpY2Uub3BlblN0YXJ0fHx0LnNsaWNlLm9wZW5FbmQpcmV0dXJuIG51bGw7dmFyIG49dGhpcy5zbGljZS5zaXplK3Quc2xpY2Uuc2l6ZT09MD95LmVtcHR5Om5ldyB5KHQuc2xpY2UuY29udGVudC5hcHBlbmQodGhpcy5zbGljZS5jb250ZW50KSx0LnNsaWNlLm9wZW5TdGFydCx0aGlzLnNsaWNlLm9wZW5FbmQpO3JldHVybiBuZXcgZSh0LmZyb20sdGhpcy50byxuLHRoaXMuc3RydWN0dXJlKX12YXIgcj10aGlzLnNsaWNlLnNpemUrdC5zbGljZS5zaXplPT0wP3kuZW1wdHk6bmV3IHkodGhpcy5zbGljZS5jb250ZW50LmFwcGVuZCh0LnNsaWNlLmNvbnRlbnQpLHRoaXMuc2xpY2Uub3BlblN0YXJ0LHQuc2xpY2Uub3BlbkVuZCk7cmV0dXJuIG5ldyBlKHRoaXMuZnJvbSx0aGlzLnRvKyh0LnRvLXQuZnJvbSkscix0aGlzLnN0cnVjdHVyZSl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciB0PXtzdGVwVHlwZToicmVwbGFjZSIsZnJvbTp0aGlzLmZyb20sdG86dGhpcy50b307cmV0dXJuIHRoaXMuc2xpY2Uuc2l6ZSYmKHQuc2xpY2U9dGhpcy5zbGljZS50b0pTT04oKSksdGhpcy5zdHJ1Y3R1cmUmJih0LnN0cnVjdHVyZT0hMCksdH0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbi5mcm9tfHwibnVtYmVyIiE9dHlwZW9mIG4udG8pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIFJlcGxhY2VTdGVwLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKG4uZnJvbSxuLnRvLHkuZnJvbUpTT04odCxuLnNsaWNlKSwhIW4uc3RydWN0dXJlKX0sZX0oVXQpO1V0Lmpzb25JRCgicmVwbGFjZSIsWHQpO3ZhciBZdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8saSxzLGEpe3QuY2FsbCh0aGlzKSx0aGlzLmZyb209ZSx0aGlzLnRvPW4sdGhpcy5nYXBGcm9tPXIsdGhpcy5nYXBUbz1vLHRoaXMuc2xpY2U9aSx0aGlzLmluc2VydD1zLHRoaXMuc3RydWN0dXJlPSEhYX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7aWYodGhpcy5zdHJ1Y3R1cmUmJihadCh0LHRoaXMuZnJvbSx0aGlzLmdhcEZyb20pfHxadCh0LHRoaXMuZ2FwVG8sdGhpcy50bykpKXJldHVybiBHdC5mYWlsKCJTdHJ1Y3R1cmUgZ2FwLXJlcGxhY2Ugd291bGQgb3ZlcndyaXRlIGNvbnRlbnQiKTt2YXIgZT10LnNsaWNlKHRoaXMuZ2FwRnJvbSx0aGlzLmdhcFRvKTtpZihlLm9wZW5TdGFydHx8ZS5vcGVuRW5kKXJldHVybiBHdC5mYWlsKCJHYXAgaXMgbm90IGEgZmxhdCByYW5nZSIpO3ZhciBuPXRoaXMuc2xpY2UuaW5zZXJ0QXQodGhpcy5pbnNlcnQsZS5jb250ZW50KTtyZXR1cm4gbj9HdC5mcm9tUmVwbGFjZSh0LHRoaXMuZnJvbSx0aGlzLnRvLG4pOkd0LmZhaWwoIkNvbnRlbnQgZG9lcyBub3QgZml0IGluIGdhcCIpfSxlLnByb3RvdHlwZS5nZXRNYXA9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEx0KFt0aGlzLmZyb20sdGhpcy5nYXBGcm9tLXRoaXMuZnJvbSx0aGlzLmluc2VydCx0aGlzLmdhcFRvLHRoaXMudG8tdGhpcy5nYXBUbyx0aGlzLnNsaWNlLnNpemUtdGhpcy5pbnNlcnRdKX0sZS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuZ2FwVG8tdGhpcy5nYXBGcm9tO3JldHVybiBuZXcgZSh0aGlzLmZyb20sdGhpcy5mcm9tK3RoaXMuc2xpY2Uuc2l6ZStuLHRoaXMuZnJvbSt0aGlzLmluc2VydCx0aGlzLmZyb20rdGhpcy5pbnNlcnQrbix0LnNsaWNlKHRoaXMuZnJvbSx0aGlzLnRvKS5yZW1vdmVCZXR3ZWVuKHRoaXMuZ2FwRnJvbS10aGlzLmZyb20sdGhpcy5nYXBUby10aGlzLmZyb20pLHRoaXMuZ2FwRnJvbS10aGlzLmZyb20sdGhpcy5zdHJ1Y3R1cmUpfSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7dmFyIG49dC5tYXBSZXN1bHQodGhpcy5mcm9tLDEpLHI9dC5tYXBSZXN1bHQodGhpcy50bywtMSksbz10Lm1hcCh0aGlzLmdhcEZyb20sLTEpLGk9dC5tYXAodGhpcy5nYXBUbywxKTtyZXR1cm4gbi5kZWxldGVkJiZyLmRlbGV0ZWR8fG88bi5wb3N8fGk+ci5wb3M/bnVsbDpuZXcgZShuLnBvcyxyLnBvcyxvLGksdGhpcy5zbGljZSx0aGlzLmluc2VydCx0aGlzLnN0cnVjdHVyZSl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciB0PXtzdGVwVHlwZToicmVwbGFjZUFyb3VuZCIsZnJvbTp0aGlzLmZyb20sdG86dGhpcy50byxnYXBGcm9tOnRoaXMuZ2FwRnJvbSxnYXBUbzp0aGlzLmdhcFRvLGluc2VydDp0aGlzLmluc2VydH07cmV0dXJuIHRoaXMuc2xpY2Uuc2l6ZSYmKHQuc2xpY2U9dGhpcy5zbGljZS50b0pTT04oKSksdGhpcy5zdHJ1Y3R1cmUmJih0LnN0cnVjdHVyZT0hMCksdH0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbi5mcm9tfHwibnVtYmVyIiE9dHlwZW9mIG4udG98fCJudW1iZXIiIT10eXBlb2Ygbi5nYXBGcm9tfHwibnVtYmVyIiE9dHlwZW9mIG4uZ2FwVG98fCJudW1iZXIiIT10eXBlb2Ygbi5pbnNlcnQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIFJlcGxhY2VBcm91bmRTdGVwLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKG4uZnJvbSxuLnRvLG4uZ2FwRnJvbSxuLmdhcFRvLHkuZnJvbUpTT04odCxuLnNsaWNlKSxuLmluc2VydCwhIW4uc3RydWN0dXJlKX0sZX0oVXQpO2Z1bmN0aW9uIFp0KHQsZSxuKXt2YXIgcj10LnJlc29sdmUoZSksbz1uLWUsaT1yLmRlcHRoO3doaWxlKG8+MCYmaT4wJiZyLmluZGV4QWZ0ZXIoaSk9PXIubm9kZShpKS5jaGlsZENvdW50KWktLSxvLS07aWYobz4wKXt2YXIgcz1yLm5vZGUoaSkubWF5YmVDaGlsZChyLmluZGV4QWZ0ZXIoaSkpO3doaWxlKG8+MCl7aWYoIXN8fHMuaXNMZWFmKXJldHVybiEwO3M9cy5maXJzdENoaWxkLG8tLX19cmV0dXJuITF9ZnVuY3Rpb24gUXQodCxlLG4pe3JldHVybigwPT1lfHx0LmNhblJlcGxhY2UoZSx0LmNoaWxkQ291bnQpKSYmKG49PXQuY2hpbGRDb3VudHx8dC5jYW5SZXBsYWNlKDAsbikpfWZ1bmN0aW9uIHRlKHQpe2Zvcih2YXIgZT10LnBhcmVudCxuPWUuY29udGVudC5jdXRCeUluZGV4KHQuc3RhcnRJbmRleCx0LmVuZEluZGV4KSxyPXQuZGVwdGg7Oy0tcil7dmFyIG89dC4kZnJvbS5ub2RlKHIpLGk9dC4kZnJvbS5pbmRleChyKSxzPXQuJHRvLmluZGV4QWZ0ZXIocik7aWYocjx0LmRlcHRoJiZvLmNhblJlcGxhY2UoaSxzLG4pKXJldHVybiByO2lmKDA9PXJ8fG8udHlwZS5zcGVjLmlzb2xhdGluZ3x8IVF0KG8saSxzKSlicmVha319ZnVuY3Rpb24gZWUodCxlLG4scil7dm9pZCAwPT09ciYmKHI9dCk7dmFyIG89cmUodCxlKSxpPW8mJm9lKHIsZSk7cmV0dXJuIGk/by5tYXAobmUpLmNvbmNhdCh7dHlwZTplLGF0dHJzOm59KS5jb25jYXQoaS5tYXAobmUpKTpudWxsfWZ1bmN0aW9uIG5lKHQpe3JldHVybnt0eXBlOnQsYXR0cnM6bnVsbH19ZnVuY3Rpb24gcmUodCxlKXt2YXIgbj10LnBhcmVudCxyPXQuc3RhcnRJbmRleCxvPXQuZW5kSW5kZXgsaT1uLmNvbnRlbnRNYXRjaEF0KHIpLmZpbmRXcmFwcGluZyhlKTtpZighaSlyZXR1cm4gbnVsbDt2YXIgcz1pLmxlbmd0aD9pWzBdOmU7cmV0dXJuIG4uY2FuUmVwbGFjZVdpdGgocixvLHMpP2k6bnVsbH1mdW5jdGlvbiBvZSh0LGUpe3ZhciBuPXQucGFyZW50LHI9dC5zdGFydEluZGV4LG89dC5lbmRJbmRleCxpPW4uY2hpbGQocikscz1lLmNvbnRlbnRNYXRjaC5maW5kV3JhcHBpbmcoaS50eXBlKTtpZighcylyZXR1cm4gbnVsbDtmb3IodmFyIGE9cy5sZW5ndGg/c1tzLmxlbmd0aC0xXTplLGM9YS5jb250ZW50TWF0Y2gsbD1yO2MmJmw8bztsKyspYz1jLm1hdGNoVHlwZShuLmNoaWxkKGwpLnR5cGUpO3JldHVybiBjJiZjLnZhbGlkRW5kP3M6bnVsbH1mdW5jdGlvbiBpZSh0LGUsbil7dmFyIHI9dC5yZXNvbHZlKGUpLG89ci5pbmRleCgpO3JldHVybiByLnBhcmVudC5jYW5SZXBsYWNlV2l0aChvLG8rMSxuKX1mdW5jdGlvbiBzZSh0LGUsbixyKXt2b2lkIDA9PT1uJiYobj0xKTt2YXIgbz10LnJlc29sdmUoZSksaT1vLmRlcHRoLW4scz1yJiZyW3IubGVuZ3RoLTFdfHxvLnBhcmVudDtpZihpPDB8fG8ucGFyZW50LnR5cGUuc3BlYy5pc29sYXRpbmd8fCFvLnBhcmVudC5jYW5SZXBsYWNlKG8uaW5kZXgoKSxvLnBhcmVudC5jaGlsZENvdW50KXx8IXMudHlwZS52YWxpZENvbnRlbnQoby5wYXJlbnQuY29udGVudC5jdXRCeUluZGV4KG8uaW5kZXgoKSxvLnBhcmVudC5jaGlsZENvdW50KSkpcmV0dXJuITE7Zm9yKHZhciBhPW8uZGVwdGgtMSxjPW4tMjthPmk7YS0tLGMtLSl7dmFyIGw9by5ub2RlKGEpLHU9by5pbmRleChhKTtpZihsLnR5cGUuc3BlYy5pc29sYXRpbmcpcmV0dXJuITE7dmFyIHA9bC5jb250ZW50LmN1dEJ5SW5kZXgodSxsLmNoaWxkQ291bnQpLGg9ciYmcltjXXx8bDtpZihoIT1sJiYocD1wLnJlcGxhY2VDaGlsZCgwLGgudHlwZS5jcmVhdGUoaC5hdHRycykpKSwhbC5jYW5SZXBsYWNlKHUrMSxsLmNoaWxkQ291bnQpfHwhaC50eXBlLnZhbGlkQ29udGVudChwKSlyZXR1cm4hMX12YXIgZj1vLmluZGV4QWZ0ZXIoaSksZD1yJiZyWzBdO3JldHVybiBvLm5vZGUoaSkuY2FuUmVwbGFjZVdpdGgoZixmLGQ/ZC50eXBlOm8ubm9kZShpKzEpLnR5cGUpfWZ1bmN0aW9uIGFlKHQsZSl7dmFyIG49dC5yZXNvbHZlKGUpLHI9bi5pbmRleCgpO3JldHVybiBjZShuLm5vZGVCZWZvcmUsbi5ub2RlQWZ0ZXIpJiZuLnBhcmVudC5jYW5SZXBsYWNlKHIscisxKX1mdW5jdGlvbiBjZSh0LGUpe3JldHVybiB0JiZlJiYhdC5pc0xlYWYmJnQuY2FuQXBwZW5kKGUpfWZ1bmN0aW9uIGxlKHQsZSxuKXt2YXIgcj10LnJlc29sdmUoZSk7aWYoci5wYXJlbnQuY2FuUmVwbGFjZVdpdGgoci5pbmRleCgpLHIuaW5kZXgoKSxuKSlyZXR1cm4gZTtpZigwPT1yLnBhcmVudE9mZnNldClmb3IodmFyIG89ci5kZXB0aC0xO28+PTA7by0tKXt2YXIgaT1yLmluZGV4KG8pO2lmKHIubm9kZShvKS5jYW5SZXBsYWNlV2l0aChpLGksbikpcmV0dXJuIHIuYmVmb3JlKG8rMSk7aWYoaT4wKXJldHVybiBudWxsfWlmKHIucGFyZW50T2Zmc2V0PT1yLnBhcmVudC5jb250ZW50LnNpemUpZm9yKHZhciBzPXIuZGVwdGgtMTtzPj0wO3MtLSl7dmFyIGE9ci5pbmRleEFmdGVyKHMpO2lmKHIubm9kZShzKS5jYW5SZXBsYWNlV2l0aChhLGEsbikpcmV0dXJuIHIuYWZ0ZXIocysxKTtpZihhPHIubm9kZShzKS5jaGlsZENvdW50KXJldHVybiBudWxsfX1mdW5jdGlvbiB1ZSh0LGUsbil7dmFyIHI9dC5yZXNvbHZlKGUpO2lmKCFuLmNvbnRlbnQuc2l6ZSlyZXR1cm4gZTtmb3IodmFyIG89bi5jb250ZW50LGk9MDtpPG4ub3BlblN0YXJ0O2krKylvPW8uZmlyc3RDaGlsZC5jb250ZW50O2Zvcih2YXIgcz0xO3M8PSgwPT1uLm9wZW5TdGFydCYmbi5zaXplPzI6MSk7cysrKWZvcih2YXIgYT1yLmRlcHRoO2E+PTA7YS0tKXt2YXIgYz1hPT1yLmRlcHRoPzA6ci5wb3M8PShyLnN0YXJ0KGErMSkrci5lbmQoYSsxKSkvMj8tMToxLGw9ci5pbmRleChhKSsoYz4wPzE6MCksdT1yLm5vZGUoYSkscD0hMTtpZigxPT1zKXA9dS5jYW5SZXBsYWNlKGwsbCxvKTtlbHNle3ZhciBoPXUuY29udGVudE1hdGNoQXQobCkuZmluZFdyYXBwaW5nKG8uZmlyc3RDaGlsZC50eXBlKTtwPWgmJnUuY2FuUmVwbGFjZVdpdGgobCxsLGhbMF0pfWlmKHApcmV0dXJuIDA9PWM/ci5wb3M6YzwwP3IuYmVmb3JlKGErMSk6ci5hZnRlcihhKzEpfXJldHVybiBudWxsfWZ1bmN0aW9uIHBlKHQsZSxuKXtmb3IodmFyIHI9W10sbz0wO288dC5jaGlsZENvdW50O28rKyl7dmFyIGk9dC5jaGlsZChvKTtpLmNvbnRlbnQuc2l6ZSYmKGk9aS5jb3B5KHBlKGkuY29udGVudCxlLGkpKSksaS5pc0lubGluZSYmKGk9ZShpLG4sbykpLHIucHVzaChpKX1yZXR1cm4gcC5mcm9tQXJyYXkocil9VXQuanNvbklEKCJyZXBsYWNlQXJvdW5kIixZdCksSnQucHJvdG90eXBlLmxpZnQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC4kZnJvbSxyPXQuJHRvLG89dC5kZXB0aCxpPW4uYmVmb3JlKG8rMSkscz1yLmFmdGVyKG8rMSksYT1pLGM9cyxsPXAuZW1wdHksdT0wLGg9byxmPSExO2g+ZTtoLS0pZnx8bi5pbmRleChoKT4wPyhmPSEwLGw9cC5mcm9tKG4ubm9kZShoKS5jb3B5KGwpKSx1KyspOmEtLTtmb3IodmFyIGQ9cC5lbXB0eSxtPTAsdj1vLGc9ITE7dj5lO3YtLSlnfHxyLmFmdGVyKHYrMSk8ci5lbmQodik/KGc9ITAsZD1wLmZyb20oci5ub2RlKHYpLmNvcHkoZCkpLG0rKyk6YysrO3JldHVybiB0aGlzLnN0ZXAobmV3IFl0KGEsYyxpLHMsbmV3IHkobC5hcHBlbmQoZCksdSxtKSxsLnNpemUtdSwhMCkpfSxKdC5wcm90b3R5cGUud3JhcD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1wLmVtcHR5LHI9ZS5sZW5ndGgtMTtyPj0wO3ItLSluPXAuZnJvbShlW3JdLnR5cGUuY3JlYXRlKGVbcl0uYXR0cnMsbikpO3ZhciBvPXQuc3RhcnQsaT10LmVuZDtyZXR1cm4gdGhpcy5zdGVwKG5ldyBZdChvLGksbyxpLG5ldyB5KG4sMCwwKSxlLmxlbmd0aCwhMCkpfSxKdC5wcm90b3R5cGUuc2V0QmxvY2tUeXBlPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXRoaXM7aWYodm9pZCAwPT09ZSYmKGU9dCksIW4uaXNUZXh0YmxvY2spdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlR5cGUgZ2l2ZW4gdG8gc2V0QmxvY2tUeXBlIHNob3VsZCBiZSBhIHRleHRibG9jayIpO3ZhciBpPXRoaXMuc3RlcHMubGVuZ3RoO3JldHVybiB0aGlzLmRvYy5ub2Rlc0JldHdlZW4odCxlLChmdW5jdGlvbih0LGUpe2lmKHQuaXNUZXh0YmxvY2smJiF0Lmhhc01hcmt1cChuLHIpJiZpZShvLmRvYyxvLm1hcHBpbmcuc2xpY2UoaSkubWFwKGUpLG4pKXtvLmNsZWFySW5jb21wYXRpYmxlKG8ubWFwcGluZy5zbGljZShpKS5tYXAoZSwxKSxuKTt2YXIgcz1vLm1hcHBpbmcuc2xpY2UoaSksYT1zLm1hcChlLDEpLGM9cy5tYXAoZSt0Lm5vZGVTaXplLDEpO3JldHVybiBvLnN0ZXAobmV3IFl0KGEsYyxhKzEsYy0xLG5ldyB5KHAuZnJvbShuLmNyZWF0ZShyLG51bGwsdC5tYXJrcykpLDAsMCksMSwhMCkpLCExfX0pKSx0aGlzfSxKdC5wcm90b3R5cGUuc2V0Tm9kZU1hcmt1cD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10aGlzLmRvYy5ub2RlQXQodCk7aWYoIW8pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vIG5vZGUgYXQgZ2l2ZW4gcG9zaXRpb24iKTtlfHwoZT1vLnR5cGUpO3ZhciBpPWUuY3JlYXRlKG4sbnVsbCxyfHxvLm1hcmtzKTtpZihvLmlzTGVhZilyZXR1cm4gdGhpcy5yZXBsYWNlV2l0aCh0LHQrby5ub2RlU2l6ZSxpKTtpZighZS52YWxpZENvbnRlbnQoby5jb250ZW50KSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBjb250ZW50IGZvciBub2RlIHR5cGUgIitlLm5hbWUpO3JldHVybiB0aGlzLnN0ZXAobmV3IFl0KHQsdCtvLm5vZGVTaXplLHQrMSx0K28ubm9kZVNpemUtMSxuZXcgeShwLmZyb20oaSksMCwwKSwxLCEwKSl9LEp0LnByb3RvdHlwZS5zcGxpdD1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9MSk7Zm9yKHZhciByPXRoaXMuZG9jLnJlc29sdmUodCksbz1wLmVtcHR5LGk9cC5lbXB0eSxzPXIuZGVwdGgsYT1yLmRlcHRoLWUsYz1lLTE7cz5hO3MtLSxjLS0pe289cC5mcm9tKHIubm9kZShzKS5jb3B5KG8pKTt2YXIgbD1uJiZuW2NdO2k9cC5mcm9tKGw/bC50eXBlLmNyZWF0ZShsLmF0dHJzLGkpOnIubm9kZShzKS5jb3B5KGkpKX1yZXR1cm4gdGhpcy5zdGVwKG5ldyBYdCh0LHQsbmV3IHkoby5hcHBlbmQoaSksZSxlKSwhMCkpfSxKdC5wcm90b3R5cGUuam9pbj1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPTEpO3ZhciBuPW5ldyBYdCh0LWUsdCtlLHkuZW1wdHksITApO3JldHVybiB0aGlzLnN0ZXAobil9O3ZhciBoZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyKXt0LmNhbGwodGhpcyksdGhpcy5mcm9tPWUsdGhpcy50bz1uLHRoaXMubWFyaz1yfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5zbGljZSh0aGlzLmZyb20sdGhpcy50bykscj10LnJlc29sdmUodGhpcy5mcm9tKSxvPXIubm9kZShyLnNoYXJlZERlcHRoKHRoaXMudG8pKSxpPW5ldyB5KHBlKG4uY29udGVudCwoZnVuY3Rpb24odCxuKXtyZXR1cm4gdC5pc0F0b20mJm4udHlwZS5hbGxvd3NNYXJrVHlwZShlLm1hcmsudHlwZSk/dC5tYXJrKGUubWFyay5hZGRUb1NldCh0Lm1hcmtzKSk6dH0pLG8pLG4ub3BlblN0YXJ0LG4ub3BlbkVuZCk7cmV0dXJuIEd0LmZyb21SZXBsYWNlKHQsdGhpcy5mcm9tLHRoaXMudG8saSl9LGUucHJvdG90eXBlLmludmVydD1mdW5jdGlvbigpe3JldHVybiBuZXcgZmUodGhpcy5mcm9tLHRoaXMudG8sdGhpcy5tYXJrKX0sZS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe3ZhciBuPXQubWFwUmVzdWx0KHRoaXMuZnJvbSwxKSxyPXQubWFwUmVzdWx0KHRoaXMudG8sLTEpO3JldHVybiBuLmRlbGV0ZWQmJnIuZGVsZXRlZHx8bi5wb3M+PXIucG9zP251bGw6bmV3IGUobi5wb3Msci5wb3MsdGhpcy5tYXJrKX0sZS5wcm90b3R5cGUubWVyZ2U9ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIGUmJnQubWFyay5lcSh0aGlzLm1hcmspJiZ0aGlzLmZyb208PXQudG8mJnRoaXMudG8+PXQuZnJvbSlyZXR1cm4gbmV3IGUoTWF0aC5taW4odGhpcy5mcm9tLHQuZnJvbSksTWF0aC5tYXgodGhpcy50byx0LnRvKSx0aGlzLm1hcmspfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57c3RlcFR5cGU6ImFkZE1hcmsiLG1hcms6dGhpcy5tYXJrLnRvSlNPTigpLGZyb206dGhpcy5mcm9tLHRvOnRoaXMudG99fSxlLmZyb21KU09OPWZ1bmN0aW9uKHQsbil7aWYoIm51bWJlciIhPXR5cGVvZiBuLmZyb218fCJudW1iZXIiIT10eXBlb2Ygbi50byl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgQWRkTWFya1N0ZXAuZnJvbUpTT04iKTtyZXR1cm4gbmV3IGUobi5mcm9tLG4udG8sdC5tYXJrRnJvbUpTT04obi5tYXJrKSl9LGV9KFV0KTtVdC5qc29uSUQoImFkZE1hcmsiLGhlKTt2YXIgZmU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scil7dC5jYWxsKHRoaXMpLHRoaXMuZnJvbT1lLHRoaXMudG89bix0aGlzLm1hcms9cn1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQuc2xpY2UodGhpcy5mcm9tLHRoaXMudG8pLHI9bmV3IHkocGUobi5jb250ZW50LChmdW5jdGlvbih0KXtyZXR1cm4gdC5tYXJrKGUubWFyay5yZW1vdmVGcm9tU2V0KHQubWFya3MpKX0pKSxuLm9wZW5TdGFydCxuLm9wZW5FbmQpO3JldHVybiBHdC5mcm9tUmVwbGFjZSh0LHRoaXMuZnJvbSx0aGlzLnRvLHIpfSxlLnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGhlKHRoaXMuZnJvbSx0aGlzLnRvLHRoaXMubWFyayl9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXt2YXIgbj10Lm1hcFJlc3VsdCh0aGlzLmZyb20sMSkscj10Lm1hcFJlc3VsdCh0aGlzLnRvLC0xKTtyZXR1cm4gbi5kZWxldGVkJiZyLmRlbGV0ZWR8fG4ucG9zPj1yLnBvcz9udWxsOm5ldyBlKG4ucG9zLHIucG9zLHRoaXMubWFyayl9LGUucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBlJiZ0Lm1hcmsuZXEodGhpcy5tYXJrKSYmdGhpcy5mcm9tPD10LnRvJiZ0aGlzLnRvPj10LmZyb20pcmV0dXJuIG5ldyBlKE1hdGgubWluKHRoaXMuZnJvbSx0LmZyb20pLE1hdGgubWF4KHRoaXMudG8sdC50byksdGhpcy5tYXJrKX0sZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3N0ZXBUeXBlOiJyZW1vdmVNYXJrIixtYXJrOnRoaXMubWFyay50b0pTT04oKSxmcm9tOnRoaXMuZnJvbSx0bzp0aGlzLnRvfX0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbi5mcm9tfHwibnVtYmVyIiE9dHlwZW9mIG4udG8pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIFJlbW92ZU1hcmtTdGVwLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKG4uZnJvbSxuLnRvLHQubWFya0Zyb21KU09OKG4ubWFyaykpfSxlfShVdCk7ZnVuY3Rpb24gZGUodCxlLG4scil7aWYodm9pZCAwPT09biYmKG49ZSksdm9pZCAwPT09ciYmKHI9eS5lbXB0eSksZT09biYmIXIuc2l6ZSlyZXR1cm4gbnVsbDt2YXIgbz10LnJlc29sdmUoZSksaT10LnJlc29sdmUobik7cmV0dXJuIG1lKG8saSxyKT9uZXcgWHQoZSxuLHIpOm5ldyB2ZShvLGkscikuZml0KCl9ZnVuY3Rpb24gbWUodCxlLG4pe3JldHVybiFuLm9wZW5TdGFydCYmIW4ub3BlbkVuZCYmdC5zdGFydCgpPT1lLnN0YXJ0KCkmJnQucGFyZW50LmNhblJlcGxhY2UodC5pbmRleCgpLGUuaW5kZXgoKSxuLmNvbnRlbnQpfVV0Lmpzb25JRCgicmVtb3ZlTWFyayIsZmUpLEp0LnByb3RvdHlwZS5hZGRNYXJrPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLG89W10saT1bXSxzPW51bGwsYT1udWxsO3JldHVybiB0aGlzLmRvYy5ub2Rlc0JldHdlZW4odCxlLChmdW5jdGlvbihyLGMsbCl7aWYoci5pc0lubGluZSl7dmFyIHU9ci5tYXJrcztpZighbi5pc0luU2V0KHUpJiZsLnR5cGUuYWxsb3dzTWFya1R5cGUobi50eXBlKSl7Zm9yKHZhciBwPU1hdGgubWF4KGMsdCksaD1NYXRoLm1pbihjK3Iubm9kZVNpemUsZSksZj1uLmFkZFRvU2V0KHUpLGQ9MDtkPHUubGVuZ3RoO2QrKyl1W2RdLmlzSW5TZXQoZil8fChzJiZzLnRvPT1wJiZzLm1hcmsuZXEodVtkXSk/cy50bz1oOm8ucHVzaChzPW5ldyBmZShwLGgsdVtkXSkpKTthJiZhLnRvPT1wP2EudG89aDppLnB1c2goYT1uZXcgaGUocCxoLG4pKX19fSkpLG8uZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHIuc3RlcCh0KX0pKSxpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiByLnN0ZXAodCl9KSksdGhpc30sSnQucHJvdG90eXBlLnJlbW92ZU1hcms9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7dm9pZCAwPT09biYmKG49bnVsbCk7dmFyIG89W10saT0wO3JldHVybiB0aGlzLmRvYy5ub2Rlc0JldHdlZW4odCxlLChmdW5jdGlvbihyLHMpe2lmKHIuaXNJbmxpbmUpe2krKzt2YXIgYT1udWxsO2lmKG4gaW5zdGFuY2VvZiBmdCl7dmFyIGMsbD1yLm1hcmtzO3doaWxlKGM9bi5pc0luU2V0KGwpKShhfHwoYT1bXSkpLnB1c2goYyksbD1jLnJlbW92ZUZyb21TZXQobCl9ZWxzZSBuP24uaXNJblNldChyLm1hcmtzKSYmKGE9W25dKTphPXIubWFya3M7aWYoYSYmYS5sZW5ndGgpZm9yKHZhciB1PU1hdGgubWluKHMrci5ub2RlU2l6ZSxlKSxwPTA7cDxhLmxlbmd0aDtwKyspe2Zvcih2YXIgaD1hW3BdLGY9dm9pZCAwLGQ9MDtkPG8ubGVuZ3RoO2QrKyl7dmFyIG09b1tkXTttLnN0ZXA9PWktMSYmaC5lcShvW2RdLnN0eWxlKSYmKGY9bSl9Zj8oZi50bz11LGYuc3RlcD1pKTpvLnB1c2goe3N0eWxlOmgsZnJvbTpNYXRoLm1heChzLHQpLHRvOnUsc3RlcDppfSl9fX0pKSxvLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiByLnN0ZXAobmV3IGZlKHQuZnJvbSx0LnRvLHQuc3R5bGUpKX0pKSx0aGlzfSxKdC5wcm90b3R5cGUuY2xlYXJJbmNvbXBhdGlibGU9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPWUuY29udGVudE1hdGNoKTtmb3IodmFyIHI9dGhpcy5kb2Mubm9kZUF0KHQpLG89W10saT10KzEscz0wO3M8ci5jaGlsZENvdW50O3MrKyl7dmFyIGE9ci5jaGlsZChzKSxjPWkrYS5ub2RlU2l6ZSxsPW4ubWF0Y2hUeXBlKGEudHlwZSxhLmF0dHJzKTtpZihsKXtuPWw7Zm9yKHZhciB1PTA7dTxhLm1hcmtzLmxlbmd0aDt1KyspZS5hbGxvd3NNYXJrVHlwZShhLm1hcmtzW3VdLnR5cGUpfHx0aGlzLnN0ZXAobmV3IGZlKGksYyxhLm1hcmtzW3VdKSl9ZWxzZSBvLnB1c2gobmV3IFh0KGksYyx5LmVtcHR5KSk7aT1jfWlmKCFuLnZhbGlkRW5kKXt2YXIgaD1uLmZpbGxCZWZvcmUocC5lbXB0eSwhMCk7dGhpcy5yZXBsYWNlKGksaSxuZXcgeShoLDAsMCkpfWZvcih2YXIgZj1vLmxlbmd0aC0xO2Y+PTA7Zi0tKXRoaXMuc3RlcChvW2ZdKTtyZXR1cm4gdGhpc30sSnQucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPXQpLHZvaWQgMD09PW4mJihuPXkuZW1wdHkpO3ZhciByPWRlKHRoaXMuZG9jLHQsZSxuKTtyZXR1cm4gciYmdGhpcy5zdGVwKHIpLHRoaXN9LEp0LnByb3RvdHlwZS5yZXBsYWNlV2l0aD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMucmVwbGFjZSh0LGUsbmV3IHkocC5mcm9tKG4pLDAsMCkpfSxKdC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVwbGFjZSh0LGUseS5lbXB0eSl9LEp0LnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5yZXBsYWNlV2l0aCh0LHQsZSl9O3ZhciB2ZT1mdW5jdGlvbih0LGUsbil7dGhpcy4kdG89ZSx0aGlzLiRmcm9tPXQsdGhpcy51bnBsYWNlZD1uLHRoaXMuZnJvbnRpZXI9W107Zm9yKHZhciByPTA7cjw9dC5kZXB0aDtyKyspe3ZhciBvPXQubm9kZShyKTt0aGlzLmZyb250aWVyLnB1c2goe3R5cGU6by50eXBlLG1hdGNoOm8uY29udGVudE1hdGNoQXQodC5pbmRleEFmdGVyKHIpKX0pfXRoaXMucGxhY2VkPXAuZW1wdHk7Zm9yKHZhciBpPXQuZGVwdGg7aT4wO2ktLSl0aGlzLnBsYWNlZD1wLmZyb20odC5ub2RlKGkpLmNvcHkodGhpcy5wbGFjZWQpKX0sZ2U9e2RlcHRoOntjb25maWd1cmFibGU6ITB9fTtmdW5jdGlvbiB5ZSh0LGUsbil7cmV0dXJuIDA9PWU/dC5jdXRCeUluZGV4KG4pOnQucmVwbGFjZUNoaWxkKDAsdC5maXJzdENoaWxkLmNvcHkoeWUodC5maXJzdENoaWxkLmNvbnRlbnQsZS0xLG4pKSl9ZnVuY3Rpb24gd2UodCxlLG4pe3JldHVybiAwPT1lP3QuYXBwZW5kKG4pOnQucmVwbGFjZUNoaWxkKHQuY2hpbGRDb3VudC0xLHQubGFzdENoaWxkLmNvcHkod2UodC5sYXN0Q2hpbGQuY29udGVudCxlLTEsbikpKX1mdW5jdGlvbiBiZSh0LGUpe2Zvcih2YXIgbj0wO248ZTtuKyspdD10LmZpcnN0Q2hpbGQuY29udGVudDtyZXR1cm4gdH1mdW5jdGlvbiB4ZSh0LGUsbil7aWYoZTw9MClyZXR1cm4gdDt2YXIgcj10LmNvbnRlbnQ7cmV0dXJuIGU+MSYmKHI9ci5yZXBsYWNlQ2hpbGQoMCx4ZShyLmZpcnN0Q2hpbGQsZS0xLDE9PXIuY2hpbGRDb3VudD9uLTE6MCkpKSxlPjAmJihyPXQudHlwZS5jb250ZW50TWF0Y2guZmlsbEJlZm9yZShyKS5hcHBlbmQociksbjw9MCYmKHI9ci5hcHBlbmQodC50eXBlLmNvbnRlbnRNYXRjaC5tYXRjaEZyYWdtZW50KHIpLmZpbGxCZWZvcmUocC5lbXB0eSwhMCkpKSksdC5jb3B5KHIpfWZ1bmN0aW9uIGtlKHQsZSxuLHIsbyl7dmFyIGk9dC5ub2RlKGUpLHM9bz90LmluZGV4QWZ0ZXIoZSk6dC5pbmRleChlKTtpZihzPT1pLmNoaWxkQ291bnQmJiFuLmNvbXBhdGlibGVDb250ZW50KGkudHlwZSkpcmV0dXJuIG51bGw7dmFyIGE9ci5maWxsQmVmb3JlKGkuY29udGVudCwhMCxzKTtyZXR1cm4gYSYmIVNlKG4saS5jb250ZW50LHMpP2E6bnVsbH1mdW5jdGlvbiBTZSh0LGUsbil7Zm9yKHZhciByPW47cjxlLmNoaWxkQ291bnQ7cisrKWlmKCF0LmFsbG93c01hcmtzKGUuY2hpbGQocikubWFya3MpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIENlKHQsZSxuLHIsbyl7aWYoZTxuKXt2YXIgaT10LmZpcnN0Q2hpbGQ7dD10LnJlcGxhY2VDaGlsZCgwLGkuY29weShDZShpLmNvbnRlbnQsZSsxLG4scixpKSkpfWlmKGU+cil7dmFyIHM9by5jb250ZW50TWF0Y2hBdCgwKSxhPXMuZmlsbEJlZm9yZSh0KS5hcHBlbmQodCk7dD1hLmFwcGVuZChzLm1hdGNoRnJhZ21lbnQoYSkuZmlsbEJlZm9yZShwLmVtcHR5LCEwKSl9cmV0dXJuIHR9ZnVuY3Rpb24gTWUodCxlKXtmb3IodmFyIG49W10scj1NYXRoLm1pbih0LmRlcHRoLGUuZGVwdGgpLG89cjtvPj0wO28tLSl7dmFyIGk9dC5zdGFydChvKTtpZihpPHQucG9zLSh0LmRlcHRoLW8pfHxlLmVuZChvKT5lLnBvcysoZS5kZXB0aC1vKXx8dC5ub2RlKG8pLnR5cGUuc3BlYy5pc29sYXRpbmd8fGUubm9kZShvKS50eXBlLnNwZWMuaXNvbGF0aW5nKWJyZWFrO2k9PWUuc3RhcnQobykmJm4ucHVzaChvKX1yZXR1cm4gbn1nZS5kZXB0aC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mcm9udGllci5sZW5ndGgtMX0sdmUucHJvdG90eXBlLmZpdD1mdW5jdGlvbigpe3doaWxlKHRoaXMudW5wbGFjZWQuc2l6ZSl7dmFyIHQ9dGhpcy5maW5kRml0dGFibGUoKTt0P3RoaXMucGxhY2VOb2Rlcyh0KTp0aGlzLm9wZW5Nb3JlKCl8fHRoaXMuZHJvcE5vZGUoKX12YXIgZT10aGlzLm11c3RNb3ZlSW5saW5lKCksbj10aGlzLnBsYWNlZC5zaXplLXRoaXMuZGVwdGgtdGhpcy4kZnJvbS5kZXB0aCxyPXRoaXMuJGZyb20sbz10aGlzLmNsb3NlKGU8MD90aGlzLiR0bzpyLmRvYy5yZXNvbHZlKGUpKTtpZighbylyZXR1cm4gbnVsbDt2YXIgaT10aGlzLnBsYWNlZCxzPXIuZGVwdGgsYT1vLmRlcHRoO3doaWxlKHMmJmEmJjE9PWkuY2hpbGRDb3VudClpPWkuZmlyc3RDaGlsZC5jb250ZW50LHMtLSxhLS07dmFyIGM9bmV3IHkoaSxzLGEpO3JldHVybiBlPi0xP25ldyBZdChyLnBvcyxlLHRoaXMuJHRvLnBvcyx0aGlzLiR0by5lbmQoKSxjLG4pOmMuc2l6ZXx8ci5wb3MhPXRoaXMuJHRvLnBvcz9uZXcgWHQoci5wb3Msby5wb3MsYyk6dm9pZCAwfSx2ZS5wcm90b3R5cGUuZmluZEZpdHRhYmxlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTE7dDw9Mjt0KyspZm9yKHZhciBlPXRoaXMudW5wbGFjZWQub3BlblN0YXJ0O2U+PTA7ZS0tKXt2YXIgbj12b2lkIDAscj12b2lkIDA7ZT8ocj1iZSh0aGlzLnVucGxhY2VkLmNvbnRlbnQsZS0xKS5maXJzdENoaWxkLG49ci5jb250ZW50KTpuPXRoaXMudW5wbGFjZWQuY29udGVudDtmb3IodmFyIG89bi5maXJzdENoaWxkLGk9dGhpcy5kZXB0aDtpPj0wO2ktLSl7dmFyIHM9dGhpcy5mcm9udGllcltpXSxhPXMudHlwZSxjPXMubWF0Y2gsbD12b2lkIDAsdT12b2lkIDA7aWYoMT09dCYmKG8/Yy5tYXRjaFR5cGUoby50eXBlKXx8KHU9Yy5maWxsQmVmb3JlKHAuZnJvbShvKSwhMSkpOmEuY29tcGF0aWJsZUNvbnRlbnQoci50eXBlKSkpcmV0dXJue3NsaWNlRGVwdGg6ZSxmcm9udGllckRlcHRoOmkscGFyZW50OnIsaW5qZWN0OnV9O2lmKDI9PXQmJm8mJihsPWMuZmluZFdyYXBwaW5nKG8udHlwZSkpKXJldHVybntzbGljZURlcHRoOmUsZnJvbnRpZXJEZXB0aDppLHBhcmVudDpyLHdyYXA6bH07aWYociYmYy5tYXRjaFR5cGUoci50eXBlKSlicmVha319fSx2ZS5wcm90b3R5cGUub3Blbk1vcmU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnVucGxhY2VkLGU9dC5jb250ZW50LG49dC5vcGVuU3RhcnQscj10Lm9wZW5FbmQsbz1iZShlLG4pO3JldHVybiEoIW8uY2hpbGRDb3VudHx8by5maXJzdENoaWxkLmlzTGVhZikmJih0aGlzLnVucGxhY2VkPW5ldyB5KGUsbisxLE1hdGgubWF4KHIsby5zaXplK24+PWUuc2l6ZS1yP24rMTowKSksITApfSx2ZS5wcm90b3R5cGUuZHJvcE5vZGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnVucGxhY2VkLGU9dC5jb250ZW50LG49dC5vcGVuU3RhcnQscj10Lm9wZW5FbmQsbz1iZShlLG4pO2lmKG8uY2hpbGRDb3VudDw9MSYmbj4wKXt2YXIgaT1lLnNpemUtbjw9bitvLnNpemU7dGhpcy51bnBsYWNlZD1uZXcgeSh5ZShlLG4tMSwxKSxuLTEsaT9uLTE6cil9ZWxzZSB0aGlzLnVucGxhY2VkPW5ldyB5KHllKGUsbiwxKSxuLHIpfSx2ZS5wcm90b3R5cGUucGxhY2VOb2Rlcz1mdW5jdGlvbih0KXt2YXIgZT10LnNsaWNlRGVwdGgsbj10LmZyb250aWVyRGVwdGgscj10LnBhcmVudCxvPXQuaW5qZWN0LGk9dC53cmFwO3doaWxlKHRoaXMuZGVwdGg+bil0aGlzLmNsb3NlRnJvbnRpZXJOb2RlKCk7aWYoaSlmb3IodmFyIHM9MDtzPGkubGVuZ3RoO3MrKyl0aGlzLm9wZW5Gcm9udGllck5vZGUoaVtzXSk7dmFyIGE9dGhpcy51bnBsYWNlZCxjPXI/ci5jb250ZW50OmEuY29udGVudCxsPWEub3BlblN0YXJ0LWUsdT0wLGg9W10sZj10aGlzLmZyb250aWVyW25dLGQ9Zi5tYXRjaCxtPWYudHlwZTtpZihvKXtmb3IodmFyIHY9MDt2PG8uY2hpbGRDb3VudDt2KyspaC5wdXNoKG8uY2hpbGQodikpO2Q9ZC5tYXRjaEZyYWdtZW50KG8pfXZhciBnPWMuc2l6ZStlLShhLmNvbnRlbnQuc2l6ZS1hLm9wZW5FbmQpO3doaWxlKHU8Yy5jaGlsZENvdW50KXt2YXIgdz1jLmNoaWxkKHUpLGI9ZC5tYXRjaFR5cGUody50eXBlKTtpZighYilicmVhazt1KyssKHU+MXx8MD09bHx8dy5jb250ZW50LnNpemUpJiYoZD1iLGgucHVzaCh4ZSh3Lm1hcmsobS5hbGxvd2VkTWFya3Mody5tYXJrcykpLDE9PXU/bDowLHU9PWMuY2hpbGRDb3VudD9nOi0xKSkpfXZhciB4PXU9PWMuY2hpbGRDb3VudDt4fHwoZz0tMSksdGhpcy5wbGFjZWQ9d2UodGhpcy5wbGFjZWQsbixwLmZyb20oaCkpLHRoaXMuZnJvbnRpZXJbbl0ubWF0Y2g9ZCx4JiZnPDAmJnImJnIudHlwZT09dGhpcy5mcm9udGllclt0aGlzLmRlcHRoXS50eXBlJiZ0aGlzLmZyb250aWVyLmxlbmd0aD4xJiZ0aGlzLmNsb3NlRnJvbnRpZXJOb2RlKCk7Zm9yKHZhciBrPTAsUz1jO2s8ZztrKyspe3ZhciBDPVMubGFzdENoaWxkO3RoaXMuZnJvbnRpZXIucHVzaCh7dHlwZTpDLnR5cGUsbWF0Y2g6Qy5jb250ZW50TWF0Y2hBdChDLmNoaWxkQ291bnQpfSksUz1DLmNvbnRlbnR9dGhpcy51bnBsYWNlZD14PzA9PWU/eS5lbXB0eTpuZXcgeSh5ZShhLmNvbnRlbnQsZS0xLDEpLGUtMSxnPDA/YS5vcGVuRW5kOmUtMSk6bmV3IHkoeWUoYS5jb250ZW50LGUsdSksYS5vcGVuU3RhcnQsYS5vcGVuRW5kKX0sdmUucHJvdG90eXBlLm11c3RNb3ZlSW5saW5lPWZ1bmN0aW9uKCl7aWYoIXRoaXMuJHRvLnBhcmVudC5pc1RleHRibG9ja3x8dGhpcy4kdG8uZW5kKCk9PXRoaXMuJHRvLnBvcylyZXR1cm4tMTt2YXIgdCxlPXRoaXMuZnJvbnRpZXJbdGhpcy5kZXB0aF07aWYoIWUudHlwZS5pc1RleHRibG9ja3x8IWtlKHRoaXMuJHRvLHRoaXMuJHRvLmRlcHRoLGUudHlwZSxlLm1hdGNoLCExKXx8dGhpcy4kdG8uZGVwdGg9PXRoaXMuZGVwdGgmJih0PXRoaXMuZmluZENsb3NlTGV2ZWwodGhpcy4kdG8pKSYmdC5kZXB0aD09dGhpcy5kZXB0aClyZXR1cm4tMTt2YXIgbj10aGlzLiR0byxyPW4uZGVwdGgsbz10aGlzLiR0by5hZnRlcihyKTt3aGlsZShyPjEmJm89PXRoaXMuJHRvLmVuZCgtLXIpKSsrbztyZXR1cm4gb30sdmUucHJvdG90eXBlLmZpbmRDbG9zZUxldmVsPWZ1bmN0aW9uKHQpe3Q6Zm9yKHZhciBlPU1hdGgubWluKHRoaXMuZGVwdGgsdC5kZXB0aCk7ZT49MDtlLS0pe3ZhciBuPXRoaXMuZnJvbnRpZXJbZV0scj1uLm1hdGNoLG89bi50eXBlLGk9ZTx0LmRlcHRoJiZ0LmVuZChlKzEpPT10LnBvcysodC5kZXB0aC0oZSsxKSkscz1rZSh0LGUsbyxyLGkpO2lmKHMpe2Zvcih2YXIgYT1lLTE7YT49MDthLS0pe3ZhciBjPXRoaXMuZnJvbnRpZXJbYV0sbD1jLm1hdGNoLHU9Yy50eXBlLHA9a2UodCxhLHUsbCwhMCk7aWYoIXB8fHAuY2hpbGRDb3VudCljb250aW51ZSB0fXJldHVybntkZXB0aDplLGZpdDpzLG1vdmU6aT90LmRvYy5yZXNvbHZlKHQuYWZ0ZXIoZSsxKSk6dH19fX0sdmUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZmluZENsb3NlTGV2ZWwodCk7aWYoIWUpcmV0dXJuIG51bGw7d2hpbGUodGhpcy5kZXB0aD5lLmRlcHRoKXRoaXMuY2xvc2VGcm9udGllck5vZGUoKTtlLmZpdC5jaGlsZENvdW50JiYodGhpcy5wbGFjZWQ9d2UodGhpcy5wbGFjZWQsZS5kZXB0aCxlLmZpdCkpLHQ9ZS5tb3ZlO2Zvcih2YXIgbj1lLmRlcHRoKzE7bjw9dC5kZXB0aDtuKyspe3ZhciByPXQubm9kZShuKSxvPXIudHlwZS5jb250ZW50TWF0Y2guZmlsbEJlZm9yZShyLmNvbnRlbnQsITAsdC5pbmRleChuKSk7dGhpcy5vcGVuRnJvbnRpZXJOb2RlKHIudHlwZSxyLmF0dHJzLG8pfXJldHVybiB0fSx2ZS5wcm90b3R5cGUub3BlbkZyb250aWVyTm9kZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5mcm9udGllclt0aGlzLmRlcHRoXTtyLm1hdGNoPXIubWF0Y2gubWF0Y2hUeXBlKHQpLHRoaXMucGxhY2VkPXdlKHRoaXMucGxhY2VkLHRoaXMuZGVwdGgscC5mcm9tKHQuY3JlYXRlKGUsbikpKSx0aGlzLmZyb250aWVyLnB1c2goe3R5cGU6dCxtYXRjaDp0LmNvbnRlbnRNYXRjaH0pfSx2ZS5wcm90b3R5cGUuY2xvc2VGcm9udGllck5vZGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmZyb250aWVyLnBvcCgpLGU9dC5tYXRjaC5maWxsQmVmb3JlKHAuZW1wdHksITApO2UuY2hpbGRDb3VudCYmKHRoaXMucGxhY2VkPXdlKHRoaXMucGxhY2VkLHRoaXMuZnJvbnRpZXIubGVuZ3RoLGUpKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXModmUucHJvdG90eXBlLGdlKSxKdC5wcm90b3R5cGUucmVwbGFjZVJhbmdlPWZ1bmN0aW9uKHQsZSxuKXtpZighbi5zaXplKXJldHVybiB0aGlzLmRlbGV0ZVJhbmdlKHQsZSk7dmFyIHI9dGhpcy5kb2MucmVzb2x2ZSh0KSxvPXRoaXMuZG9jLnJlc29sdmUoZSk7aWYobWUocixvLG4pKXJldHVybiB0aGlzLnN0ZXAobmV3IFh0KHQsZSxuKSk7dmFyIGk9TWUocix0aGlzLmRvYy5yZXNvbHZlKGUpKTswPT1pW2kubGVuZ3RoLTFdJiZpLnBvcCgpO3ZhciBzPS0oci5kZXB0aCsxKTtpLnVuc2hpZnQocyk7Zm9yKHZhciBhPXIuZGVwdGgsYz1yLnBvcy0xO2E+MDthLS0sYy0tKXt2YXIgbD1yLm5vZGUoYSkudHlwZS5zcGVjO2lmKGwuZGVmaW5pbmd8fGwuaXNvbGF0aW5nKWJyZWFrO2kuaW5kZXhPZihhKT4tMT9zPWE6ci5iZWZvcmUoYSk9PWMmJmkuc3BsaWNlKDEsMCwtYSl9Zm9yKHZhciB1PWkuaW5kZXhPZihzKSxwPVtdLGg9bi5vcGVuU3RhcnQsZj1uLmNvbnRlbnQsZD0wOztkKyspe3ZhciBtPWYuZmlyc3RDaGlsZDtpZihwLnB1c2gobSksZD09bi5vcGVuU3RhcnQpYnJlYWs7Zj1tLmNvbnRlbnR9aD4wJiZwW2gtMV0udHlwZS5zcGVjLmRlZmluaW5nJiZyLm5vZGUodSkudHlwZSE9cFtoLTFdLnR5cGU/aC09MTpoPj0yJiZwW2gtMV0uaXNUZXh0YmxvY2smJnBbaC0yXS50eXBlLnNwZWMuZGVmaW5pbmcmJnIubm9kZSh1KS50eXBlIT1wW2gtMl0udHlwZSYmKGgtPTIpO2Zvcih2YXIgdj1uLm9wZW5TdGFydDt2Pj0wO3YtLSl7dmFyIGc9KHYraCsxKSUobi5vcGVuU3RhcnQrMSksdz1wW2ddO2lmKHcpZm9yKHZhciBiPTA7YjxpLmxlbmd0aDtiKyspe3ZhciB4PWlbKGIrdSklaS5sZW5ndGhdLGs9ITA7eDwwJiYoaz0hMSx4PS14KTt2YXIgUz1yLm5vZGUoeC0xKSxDPXIuaW5kZXgoeC0xKTtpZihTLmNhblJlcGxhY2VXaXRoKEMsQyx3LnR5cGUsdy5tYXJrcykpcmV0dXJuIHRoaXMucmVwbGFjZShyLmJlZm9yZSh4KSxrP28uYWZ0ZXIoeCk6ZSxuZXcgeShDZShuLmNvbnRlbnQsMCxuLm9wZW5TdGFydCxnKSxnLG4ub3BlbkVuZCkpfX1mb3IodmFyIE09dGhpcy5zdGVwcy5sZW5ndGgsTz1pLmxlbmd0aC0xO08+PTA7Ty0tKXtpZih0aGlzLnJlcGxhY2UodCxlLG4pLHRoaXMuc3RlcHMubGVuZ3RoPk0pYnJlYWs7dmFyIEE9aVtPXTtBPDB8fCh0PXIuYmVmb3JlKEEpLGU9by5hZnRlcihBKSl9cmV0dXJuIHRoaXN9LEp0LnByb3RvdHlwZS5yZXBsYWNlUmFuZ2VXaXRoPWZ1bmN0aW9uKHQsZSxuKXtpZighbi5pc0lubGluZSYmdD09ZSYmdGhpcy5kb2MucmVzb2x2ZSh0KS5wYXJlbnQuY29udGVudC5zaXplKXt2YXIgcj1sZSh0aGlzLmRvYyx0LG4udHlwZSk7bnVsbCE9ciYmKHQ9ZT1yKX1yZXR1cm4gdGhpcy5yZXBsYWNlUmFuZ2UodCxlLG5ldyB5KHAuZnJvbShuKSwwLDApKX0sSnQucHJvdG90eXBlLmRlbGV0ZVJhbmdlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuZG9jLnJlc29sdmUodCkscj10aGlzLmRvYy5yZXNvbHZlKGUpLG89TWUobixyKSxpPTA7aTxvLmxlbmd0aDtpKyspe3ZhciBzPW9baV0sYT1pPT1vLmxlbmd0aC0xO2lmKGEmJjA9PXN8fG4ubm9kZShzKS50eXBlLmNvbnRlbnRNYXRjaC52YWxpZEVuZClyZXR1cm4gdGhpcy5kZWxldGUobi5zdGFydChzKSxyLmVuZChzKSk7aWYocz4wJiYoYXx8bi5ub2RlKHMtMSkuY2FuUmVwbGFjZShuLmluZGV4KHMtMSksci5pbmRleEFmdGVyKHMtMSkpKSlyZXR1cm4gdGhpcy5kZWxldGUobi5iZWZvcmUocyksci5hZnRlcihzKSl9Zm9yKHZhciBjPTE7Yzw9bi5kZXB0aCYmYzw9ci5kZXB0aDtjKyspaWYodC1uLnN0YXJ0KGMpPT1uLmRlcHRoLWMmJmU+bi5lbmQoYykmJnIuZW5kKGMpLWUhPXIuZGVwdGgtYylyZXR1cm4gdGhpcy5kZWxldGUobi5iZWZvcmUoYyksZSk7cmV0dXJuIHRoaXMuZGVsZXRlKHQsZSl9O3ZhciBPZT1PYmplY3QuY3JlYXRlKG51bGwpLEFlPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnJhbmdlcz1ufHxbbmV3IEVlKHQubWluKGUpLHQubWF4KGUpKV0sdGhpcy4kYW5jaG9yPXQsdGhpcy4kaGVhZD1lfSxOZT17YW5jaG9yOntjb25maWd1cmFibGU6ITB9LGhlYWQ6e2NvbmZpZ3VyYWJsZTohMH0sZnJvbTp7Y29uZmlndXJhYmxlOiEwfSx0bzp7Y29uZmlndXJhYmxlOiEwfSwkZnJvbTp7Y29uZmlndXJhYmxlOiEwfSwkdG86e2NvbmZpZ3VyYWJsZTohMH0sZW1wdHk6e2NvbmZpZ3VyYWJsZTohMH19O05lLmFuY2hvci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kYW5jaG9yLnBvc30sTmUuaGVhZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kaGVhZC5wb3N9LE5lLmZyb20uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGZyb20ucG9zfSxOZS50by5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kdG8ucG9zfSxOZS4kZnJvbS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYW5nZXNbMF0uJGZyb219LE5lLiR0by5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYW5nZXNbMF0uJHRvfSxOZS5lbXB0eS5nZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5yYW5nZXMsZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRbZV0uJGZyb20ucG9zIT10W2VdLiR0by5wb3MpcmV0dXJuITE7cmV0dXJuITB9LEFlLnByb3RvdHlwZS5jb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGZyb20ubm9kZSgwKS5zbGljZSh0aGlzLmZyb20sdGhpcy50bywhMCl9LEFlLnByb3RvdHlwZS5yZXBsYWNlPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9eS5lbXB0eSk7Zm9yKHZhciBuPWUuY29udGVudC5sYXN0Q2hpbGQscj1udWxsLG89MDtvPGUub3BlbkVuZDtvKyspcj1uLG49bi5sYXN0Q2hpbGQ7Zm9yKHZhciBpPXQuc3RlcHMubGVuZ3RoLHM9dGhpcy5yYW5nZXMsYT0wO2E8cy5sZW5ndGg7YSsrKXt2YXIgYz1zW2FdLGw9Yy4kZnJvbSx1PWMuJHRvLHA9dC5tYXBwaW5nLnNsaWNlKGkpO3QucmVwbGFjZVJhbmdlKHAubWFwKGwucG9zKSxwLm1hcCh1LnBvcyksYT95LmVtcHR5OmUpLDA9PWEmJiRlKHQsaSwobj9uLmlzSW5saW5lOnImJnIuaXNUZXh0YmxvY2spPy0xOjEpfX0sQWUucHJvdG90eXBlLnJlcGxhY2VXaXRoPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuc3RlcHMubGVuZ3RoLHI9dGhpcy5yYW5nZXMsbz0wO288ci5sZW5ndGg7bysrKXt2YXIgaT1yW29dLHM9aS4kZnJvbSxhPWkuJHRvLGM9dC5tYXBwaW5nLnNsaWNlKG4pLGw9Yy5tYXAocy5wb3MpLHU9Yy5tYXAoYS5wb3MpO28/dC5kZWxldGVSYW5nZShsLHUpOih0LnJlcGxhY2VSYW5nZVdpdGgobCx1LGUpLCRlKHQsbixlLmlzSW5saW5lPy0xOjEpKX19LEFlLmZpbmRGcm9tPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LnBhcmVudC5pbmxpbmVDb250ZW50P25ldyBUZSh0KTpQZSh0Lm5vZGUoMCksdC5wYXJlbnQsdC5wb3MsdC5pbmRleCgpLGUsbik7aWYocilyZXR1cm4gcjtmb3IodmFyIG89dC5kZXB0aC0xO28+PTA7by0tKXt2YXIgaT1lPDA/UGUodC5ub2RlKDApLHQubm9kZShvKSx0LmJlZm9yZShvKzEpLHQuaW5kZXgobyksZSxuKTpQZSh0Lm5vZGUoMCksdC5ub2RlKG8pLHQuYWZ0ZXIobysxKSx0LmluZGV4KG8pKzEsZSxuKTtpZihpKXJldHVybiBpfX0sQWUubmVhcj1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0xKSx0aGlzLmZpbmRGcm9tKHQsZSl8fHRoaXMuZmluZEZyb20odCwtZSl8fG5ldyB6ZSh0Lm5vZGUoMCkpfSxBZS5hdFN0YXJ0PWZ1bmN0aW9uKHQpe3JldHVybiBQZSh0LHQsMCwwLDEpfHxuZXcgemUodCl9LEFlLmF0RW5kPWZ1bmN0aW9uKHQpe3JldHVybiBQZSh0LHQsdC5jb250ZW50LnNpemUsdC5jaGlsZENvdW50LC0xKXx8bmV3IHplKHQpfSxBZS5mcm9tSlNPTj1mdW5jdGlvbih0LGUpe2lmKCFlfHwhZS50eXBlKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBTZWxlY3Rpb24uZnJvbUpTT04iKTt2YXIgbj1PZVtlLnR5cGVdO2lmKCFuKXRocm93IG5ldyBSYW5nZUVycm9yKCJObyBzZWxlY3Rpb24gdHlwZSAiK2UudHlwZSsiIGRlZmluZWQiKTtyZXR1cm4gbi5mcm9tSlNPTih0LGUpfSxBZS5qc29uSUQ9ZnVuY3Rpb24odCxlKXtpZih0IGluIE9lKXRocm93IG5ldyBSYW5nZUVycm9yKCJEdXBsaWNhdGUgdXNlIG9mIHNlbGVjdGlvbiBKU09OIElEICIrdCk7cmV0dXJuIE9lW3RdPWUsZS5wcm90b3R5cGUuanNvbklEPXQsZX0sQWUucHJvdG90eXBlLmdldEJvb2ttYXJrPWZ1bmN0aW9uKCl7cmV0dXJuIFRlLmJldHdlZW4odGhpcy4kYW5jaG9yLHRoaXMuJGhlYWQpLmdldEJvb2ttYXJrKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEFlLnByb3RvdHlwZSxOZSksQWUucHJvdG90eXBlLnZpc2libGU9ITA7dmFyIEVlPWZ1bmN0aW9uKHQsZSl7dGhpcy4kZnJvbT10LHRoaXMuJHRvPWV9LFRlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2b2lkIDA9PT1uJiYobj1lKSx0LmNhbGwodGhpcyxlLG4pfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXskY3Vyc29yOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gbi4kY3Vyc29yLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRhbmNob3IucG9zPT10aGlzLiRoZWFkLnBvcz90aGlzLiRoZWFkOm51bGx9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbihuLHIpe3ZhciBvPW4ucmVzb2x2ZShyLm1hcCh0aGlzLmhlYWQpKTtpZighby5wYXJlbnQuaW5saW5lQ29udGVudClyZXR1cm4gdC5uZWFyKG8pO3ZhciBpPW4ucmVzb2x2ZShyLm1hcCh0aGlzLmFuY2hvcikpO3JldHVybiBuZXcgZShpLnBhcmVudC5pbmxpbmVDb250ZW50P2k6byxvKX0sZS5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbihlLG4pe2lmKHZvaWQgMD09PW4mJihuPXkuZW1wdHkpLHQucHJvdG90eXBlLnJlcGxhY2UuY2FsbCh0aGlzLGUsbiksbj09eS5lbXB0eSl7dmFyIHI9dGhpcy4kZnJvbS5tYXJrc0Fjcm9zcyh0aGlzLiR0byk7ciYmZS5lbnN1cmVNYXJrcyhyKX19LGUucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZSYmdC5hbmNob3I9PXRoaXMuYW5jaG9yJiZ0LmhlYWQ9PXRoaXMuaGVhZH0sZS5wcm90b3R5cGUuZ2V0Qm9va21hcms9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERlKHRoaXMuYW5jaG9yLHRoaXMuaGVhZCl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJ0ZXh0IixhbmNob3I6dGhpcy5hbmNob3IsaGVhZDp0aGlzLmhlYWR9fSxlLmZyb21KU09OPWZ1bmN0aW9uKHQsbil7aWYoIm51bWJlciIhPXR5cGVvZiBuLmFuY2hvcnx8Im51bWJlciIhPXR5cGVvZiBuLmhlYWQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIFRleHRTZWxlY3Rpb24uZnJvbUpTT04iKTtyZXR1cm4gbmV3IGUodC5yZXNvbHZlKG4uYW5jaG9yKSx0LnJlc29sdmUobi5oZWFkKSl9LGUuY3JlYXRlPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj1lKTt2YXIgcj10LnJlc29sdmUoZSk7cmV0dXJuIG5ldyB0aGlzKHIsbj09ZT9yOnQucmVzb2x2ZShuKSl9LGUuYmV0d2Vlbj1mdW5jdGlvbihuLHIsbyl7dmFyIGk9bi5wb3Mtci5wb3M7aWYobyYmIWl8fChvPWk+PTA/MTotMSksIXIucGFyZW50LmlubGluZUNvbnRlbnQpe3ZhciBzPXQuZmluZEZyb20ocixvLCEwKXx8dC5maW5kRnJvbShyLC1vLCEwKTtpZighcylyZXR1cm4gdC5uZWFyKHIsbyk7cj1zLiRoZWFkfXJldHVybiBuLnBhcmVudC5pbmxpbmVDb250ZW50fHwoMD09aT9uPXI6KG49KHQuZmluZEZyb20obiwtbywhMCl8fHQuZmluZEZyb20obixvLCEwKSkuJGFuY2hvcixuLnBvczxyLnBvcyE9aTwwJiYobj1yKSkpLG5ldyBlKG4scil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLG4pLGV9KEFlKTtBZS5qc29uSUQoInRleHQiLFRlKTt2YXIgRGU9ZnVuY3Rpb24odCxlKXt0aGlzLmFuY2hvcj10LHRoaXMuaGVhZD1lfTtEZS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRGUodC5tYXAodGhpcy5hbmNob3IpLHQubWFwKHRoaXMuaGVhZCkpfSxEZS5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0KXtyZXR1cm4gVGUuYmV0d2Vlbih0LnJlc29sdmUodGhpcy5hbmNob3IpLHQucmVzb2x2ZSh0aGlzLmhlYWQpKX07dmFyIF9lPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49ZS5ub2RlQWZ0ZXIscj1lLm5vZGUoMCkucmVzb2x2ZShlLnBvcytuLm5vZGVTaXplKTt0LmNhbGwodGhpcyxlLHIpLHRoaXMubm9kZT1ufXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24obixyKXt2YXIgbz1yLm1hcFJlc3VsdCh0aGlzLmFuY2hvciksaT1vLmRlbGV0ZWQscz1vLnBvcyxhPW4ucmVzb2x2ZShzKTtyZXR1cm4gaT90Lm5lYXIoYSk6bmV3IGUoYSl9LGUucHJvdG90eXBlLmNvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHkocC5mcm9tKHRoaXMubm9kZSksMCwwKX0sZS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlJiZ0LmFuY2hvcj09dGhpcy5hbmNob3J9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJub2RlIixhbmNob3I6dGhpcy5hbmNob3J9fSxlLnByb3RvdHlwZS5nZXRCb29rbWFyaz1mdW5jdGlvbigpe3JldHVybiBuZXcgUmUodGhpcy5hbmNob3IpfSxlLmZyb21KU09OPWZ1bmN0aW9uKHQsbil7aWYoIm51bWJlciIhPXR5cGVvZiBuLmFuY2hvcil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgTm9kZVNlbGVjdGlvbi5mcm9tSlNPTiIpO3JldHVybiBuZXcgZSh0LnJlc29sdmUobi5hbmNob3IpKX0sZS5jcmVhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHRoaXModC5yZXNvbHZlKGUpKX0sZS5pc1NlbGVjdGFibGU9ZnVuY3Rpb24odCl7cmV0dXJuIXQuaXNUZXh0JiYhMSE9PXQudHlwZS5zcGVjLnNlbGVjdGFibGV9LGV9KEFlKTtfZS5wcm90b3R5cGUudmlzaWJsZT0hMSxBZS5qc29uSUQoIm5vZGUiLF9lKTt2YXIgUmU9ZnVuY3Rpb24odCl7dGhpcy5hbmNob3I9dH07UmUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXt2YXIgZT10Lm1hcFJlc3VsdCh0aGlzLmFuY2hvciksbj1lLmRlbGV0ZWQscj1lLnBvcztyZXR1cm4gbj9uZXcgRGUocixyKTpuZXcgUmUocil9LFJlLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKHQpe3ZhciBlPXQucmVzb2x2ZSh0aGlzLmFuY2hvciksbj1lLm5vZGVBZnRlcjtyZXR1cm4gbiYmX2UuaXNTZWxlY3RhYmxlKG4pP25ldyBfZShlKTpBZS5uZWFyKGUpfTt2YXIgemU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyxlLnJlc29sdmUoMCksZS5yZXNvbHZlKGUuY29udGVudC5zaXplKSl9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24oZSxuKXtpZih2b2lkIDA9PT1uJiYobj15LmVtcHR5KSxuPT15LmVtcHR5KXtlLmRlbGV0ZSgwLGUuZG9jLmNvbnRlbnQuc2l6ZSk7dmFyIHI9dC5hdFN0YXJ0KGUuZG9jKTtyLmVxKGUuc2VsZWN0aW9uKXx8ZS5zZXRTZWxlY3Rpb24ocil9ZWxzZSB0LnByb3RvdHlwZS5yZXBsYWNlLmNhbGwodGhpcyxlLG4pfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZToiYWxsIn19LGUuZnJvbUpTT049ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHQpfSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHQpfSxlLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGV9LGUucHJvdG90eXBlLmdldEJvb2ttYXJrPWZ1bmN0aW9uKCl7cmV0dXJuIEllfSxlfShBZSk7QWUuanNvbklEKCJhbGwiLHplKTt2YXIgSWU9e21hcDpmdW5jdGlvbigpe3JldHVybiB0aGlzfSxyZXNvbHZlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgemUodCl9fTtmdW5jdGlvbiBQZSh0LGUsbixyLG8saSl7aWYoZS5pbmxpbmVDb250ZW50KXJldHVybiBUZS5jcmVhdGUodCxuKTtmb3IodmFyIHM9ci0obz4wPzA6MSk7bz4wP3M8ZS5jaGlsZENvdW50OnM+PTA7cys9byl7dmFyIGE9ZS5jaGlsZChzKTtpZihhLmlzQXRvbSl7aWYoIWkmJl9lLmlzU2VsZWN0YWJsZShhKSlyZXR1cm4gX2UuY3JlYXRlKHQsbi0obzwwP2Eubm9kZVNpemU6MCkpfWVsc2V7dmFyIGM9UGUodCxhLG4rbyxvPDA/YS5jaGlsZENvdW50OjAsbyxpKTtpZihjKXJldHVybiBjfW4rPWEubm9kZVNpemUqb319ZnVuY3Rpb24gJGUodCxlLG4pe3ZhciByPXQuc3RlcHMubGVuZ3RoLTE7aWYoIShyPGUpKXt2YXIgbz10LnN0ZXBzW3JdO2lmKG8gaW5zdGFuY2VvZiBYdHx8byBpbnN0YW5jZW9mIFl0KXt2YXIgaSxzPXQubWFwcGluZy5tYXBzW3JdO3MuZm9yRWFjaCgoZnVuY3Rpb24odCxlLG4scil7bnVsbD09aSYmKGk9cil9KSksdC5zZXRTZWxlY3Rpb24oQWUubmVhcih0LmRvYy5yZXNvbHZlKGkpLG4pKX19fXZhciBCZT0xLFZlPTIsamU9NCxMZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUuZG9jKSx0aGlzLnRpbWU9RGF0ZS5ub3coKSx0aGlzLmN1clNlbGVjdGlvbj1lLnNlbGVjdGlvbix0aGlzLmN1clNlbGVjdGlvbkZvcj0wLHRoaXMuc3RvcmVkTWFya3M9ZS5zdG9yZWRNYXJrcyx0aGlzLnVwZGF0ZWQ9MCx0aGlzLm1ldGE9T2JqZWN0LmNyZWF0ZShudWxsKX10JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17c2VsZWN0aW9uOntjb25maWd1cmFibGU6ITB9LHNlbGVjdGlvblNldDp7Y29uZmlndXJhYmxlOiEwfSxzdG9yZWRNYXJrc1NldDp7Y29uZmlndXJhYmxlOiEwfSxpc0dlbmVyaWM6e2NvbmZpZ3VyYWJsZTohMH0sc2Nyb2xsZWRJbnRvVmlldzp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIG4uc2VsZWN0aW9uLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1clNlbGVjdGlvbkZvcjx0aGlzLnN0ZXBzLmxlbmd0aCYmKHRoaXMuY3VyU2VsZWN0aW9uPXRoaXMuY3VyU2VsZWN0aW9uLm1hcCh0aGlzLmRvYyx0aGlzLm1hcHBpbmcuc2xpY2UodGhpcy5jdXJTZWxlY3Rpb25Gb3IpKSx0aGlzLmN1clNlbGVjdGlvbkZvcj10aGlzLnN0ZXBzLmxlbmd0aCksdGhpcy5jdXJTZWxlY3Rpb259LGUucHJvdG90eXBlLnNldFNlbGVjdGlvbj1mdW5jdGlvbih0KXtpZih0LiRmcm9tLmRvYyE9dGhpcy5kb2MpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlNlbGVjdGlvbiBwYXNzZWQgdG8gc2V0U2VsZWN0aW9uIG11c3QgcG9pbnQgYXQgdGhlIGN1cnJlbnQgZG9jdW1lbnQiKTtyZXR1cm4gdGhpcy5jdXJTZWxlY3Rpb249dCx0aGlzLmN1clNlbGVjdGlvbkZvcj10aGlzLnN0ZXBzLmxlbmd0aCx0aGlzLnVwZGF0ZWQ9KHRoaXMudXBkYXRlZHxCZSkmflZlLHRoaXMuc3RvcmVkTWFya3M9bnVsbCx0aGlzfSxuLnNlbGVjdGlvblNldC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy51cGRhdGVkJkJlKT4wfSxlLnByb3RvdHlwZS5zZXRTdG9yZWRNYXJrcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdG9yZWRNYXJrcz10LHRoaXMudXBkYXRlZHw9VmUsdGhpc30sZS5wcm90b3R5cGUuZW5zdXJlTWFya3M9ZnVuY3Rpb24odCl7cmV0dXJuIHYuc2FtZVNldCh0aGlzLnN0b3JlZE1hcmtzfHx0aGlzLnNlbGVjdGlvbi4kZnJvbS5tYXJrcygpLHQpfHx0aGlzLnNldFN0b3JlZE1hcmtzKHQpLHRoaXN9LGUucHJvdG90eXBlLmFkZFN0b3JlZE1hcms9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZW5zdXJlTWFya3ModC5hZGRUb1NldCh0aGlzLnN0b3JlZE1hcmtzfHx0aGlzLnNlbGVjdGlvbi4kaGVhZC5tYXJrcygpKSl9LGUucHJvdG90eXBlLnJlbW92ZVN0b3JlZE1hcms9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZW5zdXJlTWFya3ModC5yZW1vdmVGcm9tU2V0KHRoaXMuc3RvcmVkTWFya3N8fHRoaXMuc2VsZWN0aW9uLiRoZWFkLm1hcmtzKCkpKX0sbi5zdG9yZWRNYXJrc1NldC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy51cGRhdGVkJlZlKT4wfSxlLnByb3RvdHlwZS5hZGRTdGVwPWZ1bmN0aW9uKGUsbil7dC5wcm90b3R5cGUuYWRkU3RlcC5jYWxsKHRoaXMsZSxuKSx0aGlzLnVwZGF0ZWQ9dGhpcy51cGRhdGVkJn5WZSx0aGlzLnN0b3JlZE1hcmtzPW51bGx9LGUucHJvdG90eXBlLnNldFRpbWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGltZT10LHRoaXN9LGUucHJvdG90eXBlLnJlcGxhY2VTZWxlY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uLnJlcGxhY2UodGhpcyx0KSx0aGlzfSxlLnByb3RvdHlwZS5yZXBsYWNlU2VsZWN0aW9uV2l0aD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuc2VsZWN0aW9uO3JldHVybiExIT09ZSYmKHQ9dC5tYXJrKHRoaXMuc3RvcmVkTWFya3N8fChuLmVtcHR5P24uJGZyb20ubWFya3MoKTpuLiRmcm9tLm1hcmtzQWNyb3NzKG4uJHRvKXx8di5ub25lKSkpLG4ucmVwbGFjZVdpdGgodGhpcyx0KSx0aGlzfSxlLnByb3RvdHlwZS5kZWxldGVTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb24ucmVwbGFjZSh0aGlzKSx0aGlzfSxlLnByb3RvdHlwZS5pbnNlcnRUZXh0PWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj1lKTt2YXIgcj10aGlzLmRvYy50eXBlLnNjaGVtYTtpZihudWxsPT1lKXJldHVybiB0P3RoaXMucmVwbGFjZVNlbGVjdGlvbldpdGgoci50ZXh0KHQpLCEwKTp0aGlzLmRlbGV0ZVNlbGVjdGlvbigpO2lmKCF0KXJldHVybiB0aGlzLmRlbGV0ZVJhbmdlKGUsbik7dmFyIG89dGhpcy5zdG9yZWRNYXJrcztpZighbyl7dmFyIGk9dGhpcy5kb2MucmVzb2x2ZShlKTtvPW49PWU/aS5tYXJrcygpOmkubWFya3NBY3Jvc3ModGhpcy5kb2MucmVzb2x2ZShuKSl9cmV0dXJuIHRoaXMucmVwbGFjZVJhbmdlV2l0aChlLG4sci50ZXh0KHQsbykpLHRoaXMuc2VsZWN0aW9uLmVtcHR5fHx0aGlzLnNldFNlbGVjdGlvbihBZS5uZWFyKHRoaXMuc2VsZWN0aW9uLiR0bykpLHRoaXN9LGUucHJvdG90eXBlLnNldE1ldGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5tZXRhWyJzdHJpbmciPT10eXBlb2YgdD90OnQua2V5XT1lLHRoaXN9LGUucHJvdG90eXBlLmdldE1ldGE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWV0YVsic3RyaW5nIj09dHlwZW9mIHQ/dDp0LmtleV19LG4uaXNHZW5lcmljLmdldD1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLm1ldGEpcmV0dXJuITE7cmV0dXJuITB9LGUucHJvdG90eXBlLnNjcm9sbEludG9WaWV3PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBkYXRlZHw9amUsdGhpc30sbi5zY3JvbGxlZEludG9WaWV3LmdldD1mdW5jdGlvbigpe3JldHVybih0aGlzLnVwZGF0ZWQmamUpPjB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLG4pLGV9KEp0KTtmdW5jdGlvbiBGZSh0LGUpe3JldHVybiBlJiZ0P3QuYmluZChlKTp0fXZhciBIZT1mdW5jdGlvbih0LGUsbil7dGhpcy5uYW1lPXQsdGhpcy5pbml0PUZlKGUuaW5pdCxuKSx0aGlzLmFwcGx5PUZlKGUuYXBwbHksbil9LEplPVtuZXcgSGUoImRvYyIse2luaXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZG9jfHx0LnNjaGVtYS50b3BOb2RlVHlwZS5jcmVhdGVBbmRGaWxsKCl9LGFwcGx5OmZ1bmN0aW9uKHQpe3JldHVybiB0LmRvY319KSxuZXcgSGUoInNlbGVjdGlvbiIse2luaXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zZWxlY3Rpb258fEFlLmF0U3RhcnQoZS5kb2MpfSxhcHBseTpmdW5jdGlvbih0KXtyZXR1cm4gdC5zZWxlY3Rpb259fSksbmV3IEhlKCJzdG9yZWRNYXJrcyIse2luaXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RvcmVkTWFya3N8fG51bGx9LGFwcGx5OmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiByLnNlbGVjdGlvbi4kY3Vyc29yP3Quc3RvcmVkTWFya3M6bnVsbH19KSxuZXcgSGUoInNjcm9sbFRvU2VsZWN0aW9uIix7aW5pdDpmdW5jdGlvbigpe3JldHVybiAwfSxhcHBseTpmdW5jdGlvbih0LGUpe3JldHVybiB0LnNjcm9sbGVkSW50b1ZpZXc/ZSsxOmV9fSldLFdlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0aGlzLnNjaGVtYT10LHRoaXMuZmllbGRzPUplLmNvbmNhdCgpLHRoaXMucGx1Z2lucz1bXSx0aGlzLnBsdWdpbnNCeUtleT1PYmplY3QuY3JlYXRlKG51bGwpLGUmJmUuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYobi5wbHVnaW5zQnlLZXlbdC5rZXldKXRocm93IG5ldyBSYW5nZUVycm9yKCJBZGRpbmcgZGlmZmVyZW50IGluc3RhbmNlcyBvZiBhIGtleWVkIHBsdWdpbiAoIit0LmtleSsiKSIpO24ucGx1Z2lucy5wdXNoKHQpLG4ucGx1Z2luc0J5S2V5W3Qua2V5XT10LHQuc3BlYy5zdGF0ZSYmbi5maWVsZHMucHVzaChuZXcgSGUodC5rZXksdC5zcGVjLnN0YXRlLHQpKX0pKX0scWU9ZnVuY3Rpb24odCl7dGhpcy5jb25maWc9dH0sS2U9e3NjaGVtYTp7Y29uZmlndXJhYmxlOiEwfSxwbHVnaW5zOntjb25maWd1cmFibGU6ITB9LHRyOntjb25maWd1cmFibGU6ITB9fTtLZS5zY2hlbWEuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnLnNjaGVtYX0sS2UucGx1Z2lucy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25maWcucGx1Z2luc30scWUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFwcGx5VHJhbnNhY3Rpb24odCkuc3RhdGV9LHFlLnByb3RvdHlwZS5maWx0ZXJUcmFuc2FjdGlvbj1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPS0xKTtmb3IodmFyIG49MDtuPHRoaXMuY29uZmlnLnBsdWdpbnMubGVuZ3RoO24rKylpZihuIT1lKXt2YXIgcj10aGlzLmNvbmZpZy5wbHVnaW5zW25dO2lmKHIuc3BlYy5maWx0ZXJUcmFuc2FjdGlvbiYmIXIuc3BlYy5maWx0ZXJUcmFuc2FjdGlvbi5jYWxsKHIsdCx0aGlzKSlyZXR1cm4hMX1yZXR1cm4hMH0scWUucHJvdG90eXBlLmFwcGx5VHJhbnNhY3Rpb249ZnVuY3Rpb24odCl7aWYoIXRoaXMuZmlsdGVyVHJhbnNhY3Rpb24odCkpcmV0dXJue3N0YXRlOnRoaXMsdHJhbnNhY3Rpb25zOltdfTtmb3IodmFyIGU9W3RdLG49dGhpcy5hcHBseUlubmVyKHQpLHI9bnVsbDs7KXtmb3IodmFyIG89ITEsaT0wO2k8dGhpcy5jb25maWcucGx1Z2lucy5sZW5ndGg7aSsrKXt2YXIgcz10aGlzLmNvbmZpZy5wbHVnaW5zW2ldO2lmKHMuc3BlYy5hcHBlbmRUcmFuc2FjdGlvbil7dmFyIGE9cj9yW2ldLm46MCxjPXI/cltpXS5zdGF0ZTp0aGlzLGw9YTxlLmxlbmd0aCYmcy5zcGVjLmFwcGVuZFRyYW5zYWN0aW9uLmNhbGwocyxhP2Uuc2xpY2UoYSk6ZSxjLG4pO2lmKGwmJm4uZmlsdGVyVHJhbnNhY3Rpb24obCxpKSl7aWYobC5zZXRNZXRhKCJhcHBlbmRlZFRyYW5zYWN0aW9uIix0KSwhcil7cj1bXTtmb3IodmFyIHU9MDt1PHRoaXMuY29uZmlnLnBsdWdpbnMubGVuZ3RoO3UrKylyLnB1c2godTxpP3tzdGF0ZTpuLG46ZS5sZW5ndGh9OntzdGF0ZTp0aGlzLG46MH0pfWUucHVzaChsKSxuPW4uYXBwbHlJbm5lcihsKSxvPSEwfXImJihyW2ldPXtzdGF0ZTpuLG46ZS5sZW5ndGh9KX19aWYoIW8pcmV0dXJue3N0YXRlOm4sdHJhbnNhY3Rpb25zOmV9fX0scWUucHJvdG90eXBlLmFwcGx5SW5uZXI9ZnVuY3Rpb24odCl7aWYoIXQuYmVmb3JlLmVxKHRoaXMuZG9jKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQXBwbHlpbmcgYSBtaXNtYXRjaGVkIHRyYW5zYWN0aW9uIik7Zm9yKHZhciBlPW5ldyBxZSh0aGlzLmNvbmZpZyksbj10aGlzLmNvbmZpZy5maWVsZHMscj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgbz1uW3JdO2Vbby5uYW1lXT1vLmFwcGx5KHQsdGhpc1tvLm5hbWVdLHRoaXMsZSl9Zm9yKHZhciBpPTA7aTxVZS5sZW5ndGg7aSsrKVVlW2ldKHRoaXMsdCxlKTtyZXR1cm4gZX0sS2UudHIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMZSh0aGlzKX0scWUuY3JlYXRlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgV2UodC5kb2M/dC5kb2MudHlwZS5zY2hlbWE6dC5zY2hlbWEsdC5wbHVnaW5zKSxuPW5ldyBxZShlKSxyPTA7cjxlLmZpZWxkcy5sZW5ndGg7cisrKW5bZS5maWVsZHNbcl0ubmFtZV09ZS5maWVsZHNbcl0uaW5pdCh0LG4pO3JldHVybiBufSxxZS5wcm90b3R5cGUucmVjb25maWd1cmU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBXZSh0aGlzLnNjaGVtYSx0LnBsdWdpbnMpLG49ZS5maWVsZHMscj1uZXcgcWUoZSksbz0wO288bi5sZW5ndGg7bysrKXt2YXIgaT1uW29dLm5hbWU7cltpXT10aGlzLmhhc093blByb3BlcnR5KGkpP3RoaXNbaV06bltvXS5pbml0KHQscil9cmV0dXJuIHJ9LHFlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24odCl7dmFyIGU9e2RvYzp0aGlzLmRvYy50b0pTT04oKSxzZWxlY3Rpb246dGhpcy5zZWxlY3Rpb24udG9KU09OKCl9O2lmKHRoaXMuc3RvcmVkTWFya3MmJihlLnN0b3JlZE1hcmtzPXRoaXMuc3RvcmVkTWFya3MubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50b0pTT04oKX0pKSksdCYmIm9iamVjdCI9PXR5cGVvZiB0KWZvcih2YXIgbiBpbiB0KXtpZigiZG9jIj09bnx8InNlbGVjdGlvbiI9PW4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRoZSBKU09OIGZpZWxkcyBgZG9jYCBhbmQgYHNlbGVjdGlvbmAgYXJlIHJlc2VydmVkIik7dmFyIHI9dFtuXSxvPXIuc3BlYy5zdGF0ZTtvJiZvLnRvSlNPTiYmKGVbbl09by50b0pTT04uY2FsbChyLHRoaXNbci5rZXldKSl9cmV0dXJuIGV9LHFlLmZyb21KU09OPWZ1bmN0aW9uKHQsZSxuKXtpZighZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgRWRpdG9yU3RhdGUuZnJvbUpTT04iKTtpZighdC5zY2hlbWEpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlJlcXVpcmVkIGNvbmZpZyBmaWVsZCAnc2NoZW1hJyBtaXNzaW5nIik7dmFyIHI9bmV3IFdlKHQuc2NoZW1hLHQucGx1Z2lucyksbz1uZXcgcWUocik7cmV0dXJuIHIuZmllbGRzLmZvckVhY2goKGZ1bmN0aW9uKHIpe2lmKCJkb2MiPT1yLm5hbWUpby5kb2M9ai5mcm9tSlNPTih0LnNjaGVtYSxlLmRvYyk7ZWxzZSBpZigic2VsZWN0aW9uIj09ci5uYW1lKW8uc2VsZWN0aW9uPUFlLmZyb21KU09OKG8uZG9jLGUuc2VsZWN0aW9uKTtlbHNlIGlmKCJzdG9yZWRNYXJrcyI9PXIubmFtZSllLnN0b3JlZE1hcmtzJiYoby5zdG9yZWRNYXJrcz1lLnN0b3JlZE1hcmtzLm1hcCh0LnNjaGVtYS5tYXJrRnJvbUpTT04pKTtlbHNle2lmKG4pZm9yKHZhciBpIGluIG4pe3ZhciBzPW5baV0sYT1zLnNwZWMuc3RhdGU7aWYocy5rZXk9PXIubmFtZSYmYSYmYS5mcm9tSlNPTiYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkpcmV0dXJuIHZvaWQob1tyLm5hbWVdPWEuZnJvbUpTT04uY2FsbChzLHQsZVtpXSxvKSl9b1tyLm5hbWVdPXIuaW5pdCh0LG8pfX0pKSxvfSxxZS5hZGRBcHBseUxpc3RlbmVyPWZ1bmN0aW9uKHQpe1VlLnB1c2godCl9LHFlLnJlbW92ZUFwcGx5TGlzdGVuZXI9ZnVuY3Rpb24odCl7dmFyIGU9VWUuaW5kZXhPZih0KTtlPi0xJiZVZS5zcGxpY2UoZSwxKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocWUucHJvdG90eXBlLEtlKTt2YXIgVWU9W107ZnVuY3Rpb24gR2UodCxlLG4pe2Zvcih2YXIgciBpbiB0KXt2YXIgbz10W3JdO28gaW5zdGFuY2VvZiBGdW5jdGlvbj9vPW8uYmluZChlKToiaGFuZGxlRE9NRXZlbnRzIj09ciYmKG89R2UobyxlLHt9KSksbltyXT1vfXJldHVybiBufXZhciBYZT1mdW5jdGlvbih0KXt0aGlzLnByb3BzPXt9LHQucHJvcHMmJkdlKHQucHJvcHMsdGhpcyx0aGlzLnByb3BzKSx0aGlzLnNwZWM9dCx0aGlzLmtleT10LmtleT90LmtleS5rZXk6WmUoInBsdWdpbiIpfTtYZS5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdGhpcy5rZXldfTt2YXIgWWU9T2JqZWN0LmNyZWF0ZShudWxsKTtmdW5jdGlvbiBaZSh0KXtyZXR1cm4gdCBpbiBZZT90KyIkIisgKytZZVt0XTooWWVbdF09MCx0KyIkIil9dmFyIFFlPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PSJrZXkiKSx0aGlzLmtleT1aZSh0KX07UWUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdC5jb25maWcucGx1Z2luc0J5S2V5W3RoaXMua2V5XX0sUWUucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0W3RoaXMua2V5XX07dmFyIHRuPXt9O2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiYidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50KXt2YXIgZW49L0VkZ2VcLyhcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpLG5uPS9NU0lFIFxkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHJuPS9UcmlkZW50XC8oPzpbNy05XXxcZHsyLH0pXC4uKnJ2OihcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpO3RuLm1hYz0vTWFjLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk7dmFyIG9uPXRuLmllPSEhKG5ufHxybnx8ZW4pO3RuLmllX3ZlcnNpb249bm4/ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw2OnJuPytyblsxXTplbj8rZW5bMV06bnVsbCx0bi5nZWNrbz0hb24mJi9nZWNrb1wvKFxkKykvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHRuLmdlY2tvX3ZlcnNpb249dG4uZ2Vja28mJisoL0ZpcmVmb3hcLyhcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpfHxbMCwwXSlbMV07dmFyIHNuPSFvbiYmL0Nocm9tZVwvKFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7dG4uY2hyb21lPSEhc24sdG4uY2hyb21lX3ZlcnNpb249c24mJitzblsxXSx0bi5zYWZhcmk9IW9uJiYvQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2aWdhdG9yLnZlbmRvciksdG4uaW9zPXRuLnNhZmFyaSYmKC9Nb2JpbGVcL1x3Ky8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KXx8bmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzPjIpLHRuLmFuZHJvaWQ9L0FuZHJvaWQgXGQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksdG4ud2Via2l0PSJ3ZWJraXRGb250U21vb3RoaW5nImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSx0bi53ZWJraXRfdmVyc2lvbj10bi53ZWJraXQmJisoL1xiQXBwbGVXZWJLaXRcLyhcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpfHxbMCwwXSlbMV19dmFyIGFuPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wOztlKyspaWYodD10LnByZXZpb3VzU2libGluZywhdClyZXR1cm4gZX0sY249ZnVuY3Rpb24odCl7dmFyIGU9dC5hc3NpZ25lZFNsb3R8fHQucGFyZW50Tm9kZTtyZXR1cm4gZSYmMTE9PWUubm9kZVR5cGU/ZS5ob3N0OmV9LGxuPW51bGwsdW49ZnVuY3Rpb24odCxlLG4pe3ZhciByPWxufHwobG49ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSk7cmV0dXJuIHIuc2V0RW5kKHQsbnVsbD09bj90Lm5vZGVWYWx1ZS5sZW5ndGg6biksci5zZXRTdGFydCh0LGV8fDApLHJ9LHBuPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBuJiYoZm4odCxlLG4sciwtMSl8fGZuKHQsZSxuLHIsMSkpfSxobj0vXihpbWd8YnJ8aW5wdXR8dGV4dGFyZWF8aHIpJC9pO2Z1bmN0aW9uIGZuKHQsZSxuLHIsbyl7Zm9yKDs7KXtpZih0PT1uJiZlPT1yKXJldHVybiEwO2lmKGU9PShvPDA/MDpkbih0KSkpe3ZhciBpPXQucGFyZW50Tm9kZTtpZigxIT1pLm5vZGVUeXBlfHx2bih0KXx8aG4udGVzdCh0Lm5vZGVOYW1lKXx8ImZhbHNlIj09dC5jb250ZW50RWRpdGFibGUpcmV0dXJuITE7ZT1hbih0KSsobzwwPzA6MSksdD1pfWVsc2V7aWYoMSE9dC5ub2RlVHlwZSlyZXR1cm4hMTtpZih0PXQuY2hpbGROb2Rlc1tlKyhvPDA/LTE6MCldLCJmYWxzZSI9PXQuY29udGVudEVkaXRhYmxlKXJldHVybiExO2U9bzwwP2RuKHQpOjB9fX1mdW5jdGlvbiBkbih0KXtyZXR1cm4gMz09dC5ub2RlVHlwZT90Lm5vZGVWYWx1ZS5sZW5ndGg6dC5jaGlsZE5vZGVzLmxlbmd0aH1mdW5jdGlvbiBtbih0LGUsbil7Zm9yKHZhciByPTA9PWUsbz1lPT1kbih0KTtyfHxvOyl7aWYodD09bilyZXR1cm4hMDt2YXIgaT1hbih0KTtpZih0PXQucGFyZW50Tm9kZSwhdClyZXR1cm4hMTtyPXImJjA9PWksbz1vJiZpPT1kbih0KX19ZnVuY3Rpb24gdm4odCl7Zm9yKHZhciBlLG49dDtuO249bi5wYXJlbnROb2RlKWlmKGU9bi5wbVZpZXdEZXNjKWJyZWFrO3JldHVybiBlJiZlLm5vZGUmJmUubm9kZS5pc0Jsb2NrJiYoZS5kb209PXR8fGUuY29udGVudERPTT09dCl9dmFyIGduPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaXNDb2xsYXBzZWQ7cmV0dXJuIGUmJnRuLmNocm9tZSYmdC5yYW5nZUNvdW50JiYhdC5nZXRSYW5nZUF0KDApLmNvbGxhcHNlZCYmKGU9ITEpLGV9O2Z1bmN0aW9uIHluKHQsZSl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50Iik7cmV0dXJuIG4uaW5pdEV2ZW50KCJrZXlkb3duIiwhMCwhMCksbi5rZXlDb2RlPXQsbi5rZXk9bi5jb2RlPWUsbn1mdW5jdGlvbiB3bih0KXtyZXR1cm57bGVmdDowLHJpZ2h0OnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLHRvcDowLGJvdHRvbTp0LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHR9fWZ1bmN0aW9uIGJuKHQsZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0P3Q6dFtlXX1mdW5jdGlvbiB4bih0KXt2YXIgZT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49ZS53aWR0aC90Lm9mZnNldFdpZHRofHwxLHI9ZS5oZWlnaHQvdC5vZmZzZXRIZWlnaHR8fDE7cmV0dXJue2xlZnQ6ZS5sZWZ0LHJpZ2h0OmUubGVmdCt0LmNsaWVudFdpZHRoKm4sdG9wOmUudG9wLGJvdHRvbTplLnRvcCt0LmNsaWVudEhlaWdodCpyfX1mdW5jdGlvbiBrbih0LGUsbil7Zm9yKHZhciByPXQuc29tZVByb3AoInNjcm9sbFRocmVzaG9sZCIpfHwwLG89dC5zb21lUHJvcCgic2Nyb2xsTWFyZ2luIil8fDUsaT10LmRvbS5vd25lckRvY3VtZW50LHM9bnx8dC5kb207O3M9Y24ocykpe2lmKCFzKWJyZWFrO2lmKDE9PXMubm9kZVR5cGUpe3ZhciBhPXM9PWkuYm9keXx8MSE9cy5ub2RlVHlwZSxjPWE/d24oaSk6eG4ocyksbD0wLHU9MDtpZihlLnRvcDxjLnRvcCtibihyLCJ0b3AiKT91PS0oYy50b3AtZS50b3ArYm4obywidG9wIikpOmUuYm90dG9tPmMuYm90dG9tLWJuKHIsImJvdHRvbSIpJiYodT1lLmJvdHRvbS1jLmJvdHRvbStibihvLCJib3R0b20iKSksZS5sZWZ0PGMubGVmdCtibihyLCJsZWZ0Iik/bD0tKGMubGVmdC1lLmxlZnQrYm4obywibGVmdCIpKTplLnJpZ2h0PmMucmlnaHQtYm4ociwicmlnaHQiKSYmKGw9ZS5yaWdodC1jLnJpZ2h0K2JuKG8sInJpZ2h0IikpLGx8fHUpaWYoYSlpLmRlZmF1bHRWaWV3LnNjcm9sbEJ5KGwsdSk7ZWxzZXt2YXIgcD1zLnNjcm9sbExlZnQsaD1zLnNjcm9sbFRvcDt1JiYocy5zY3JvbGxUb3ArPXUpLGwmJihzLnNjcm9sbExlZnQrPWwpO3ZhciBmPXMuc2Nyb2xsTGVmdC1wLGQ9cy5zY3JvbGxUb3AtaDtlPXtsZWZ0OmUubGVmdC1mLHRvcDplLnRvcC1kLHJpZ2h0OmUucmlnaHQtZixib3R0b206ZS5ib3R0b20tZH19aWYoYSlicmVha319fWZ1bmN0aW9uIFNuKHQpe2Zvcih2YXIgZSxuLHI9dC5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1NYXRoLm1heCgwLHIudG9wKSxpPShyLmxlZnQrci5yaWdodCkvMixzPW8rMTtzPE1hdGgubWluKGlubmVySGVpZ2h0LHIuYm90dG9tKTtzKz01KXt2YXIgYT10LnJvb3QuZWxlbWVudEZyb21Qb2ludChpLHMpO2lmKGEhPXQuZG9tJiZ0LmRvbS5jb250YWlucyhhKSl7dmFyIGM9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZihjLnRvcD49by0yMCl7ZT1hLG49Yy50b3A7YnJlYWt9fX1yZXR1cm57cmVmRE9NOmUscmVmVG9wOm4sc3RhY2s6Q24odC5kb20pfX1mdW5jdGlvbiBDbih0KXtmb3IodmFyIGU9W10sbj10Lm93bmVyRG9jdW1lbnQ7dDt0PWNuKHQpKWlmKGUucHVzaCh7ZG9tOnQsdG9wOnQuc2Nyb2xsVG9wLGxlZnQ6dC5zY3JvbGxMZWZ0fSksdD09bilicmVhaztyZXR1cm4gZX1mdW5jdGlvbiBNbih0KXt2YXIgZT10LnJlZkRPTSxuPXQucmVmVG9wLHI9dC5zdGFjayxvPWU/ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A6MDtPbihyLDA9PW8/MDpvLW4pfWZ1bmN0aW9uIE9uKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl0sbz1yLmRvbSxpPXIudG9wLHM9ci5sZWZ0O28uc2Nyb2xsVG9wIT1pK2UmJihvLnNjcm9sbFRvcD1pK2UpLG8uc2Nyb2xsTGVmdCE9cyYmKG8uc2Nyb2xsTGVmdD1zKX19dmFyIEFuPW51bGw7ZnVuY3Rpb24gTm4odCl7aWYodC5zZXRBY3RpdmUpcmV0dXJuIHQuc2V0QWN0aXZlKCk7aWYoQW4pcmV0dXJuIHQuZm9jdXMoQW4pO3ZhciBlPUNuKHQpO3QuZm9jdXMobnVsbD09QW4/e2dldCBwcmV2ZW50U2Nyb2xsKCl7cmV0dXJuIEFuPXtwcmV2ZW50U2Nyb2xsOiEwfSwhMH19OnZvaWQgMCksQW58fChBbj0hMSxPbihlLDApKX1mdW5jdGlvbiBFbih0LGUpe2Zvcih2YXIgbixyLG89MmU4LGk9MCxzPWUudG9wLGE9ZS50b3AsYz10LmZpcnN0Q2hpbGQsbD0wO2M7Yz1jLm5leHRTaWJsaW5nLGwrKyl7dmFyIHU9dm9pZCAwO2lmKDE9PWMubm9kZVR5cGUpdT1jLmdldENsaWVudFJlY3RzKCk7ZWxzZXtpZigzIT1jLm5vZGVUeXBlKWNvbnRpbnVlO3U9dW4oYykuZ2V0Q2xpZW50UmVjdHMoKX1mb3IodmFyIHA9MDtwPHUubGVuZ3RoO3ArKyl7dmFyIGg9dVtwXTtpZihoLnRvcDw9cyYmaC5ib3R0b20+PWEpe3M9TWF0aC5tYXgoaC5ib3R0b20scyksYT1NYXRoLm1pbihoLnRvcCxhKTt2YXIgZj1oLmxlZnQ+ZS5sZWZ0P2gubGVmdC1lLmxlZnQ6aC5yaWdodDxlLmxlZnQ/ZS5sZWZ0LWgucmlnaHQ6MDtpZihmPG8pe249YyxvPWYscj1mJiYzPT1uLm5vZGVUeXBlP3tsZWZ0OmgucmlnaHQ8ZS5sZWZ0P2gucmlnaHQ6aC5sZWZ0LHRvcDplLnRvcH06ZSwxPT1jLm5vZGVUeXBlJiZmJiYoaT1sKyhlLmxlZnQ+PShoLmxlZnQraC5yaWdodCkvMj8xOjApKTtjb250aW51ZX19IW4mJihlLmxlZnQ+PWgucmlnaHQmJmUudG9wPj1oLnRvcHx8ZS5sZWZ0Pj1oLmxlZnQmJmUudG9wPj1oLmJvdHRvbSkmJihpPWwrMSl9fXJldHVybiBuJiYzPT1uLm5vZGVUeXBlP1RuKG4scik6IW58fG8mJjE9PW4ubm9kZVR5cGU/e25vZGU6dCxvZmZzZXQ6aX06RW4obixyKX1mdW5jdGlvbiBUbih0LGUpe2Zvcih2YXIgbj10Lm5vZGVWYWx1ZS5sZW5ndGgscj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpLG89MDtvPG47bysrKXtyLnNldEVuZCh0LG8rMSksci5zZXRTdGFydCh0LG8pO3ZhciBpPSRuKHIsMSk7aWYoaS50b3AhPWkuYm90dG9tJiZEbihlLGkpKXJldHVybntub2RlOnQsb2Zmc2V0Om8rKGUubGVmdD49KGkubGVmdCtpLnJpZ2h0KS8yPzE6MCl9fXJldHVybntub2RlOnQsb2Zmc2V0OjB9fWZ1bmN0aW9uIERuKHQsZSl7cmV0dXJuIHQubGVmdD49ZS5sZWZ0LTEmJnQubGVmdDw9ZS5yaWdodCsxJiZ0LnRvcD49ZS50b3AtMSYmdC50b3A8PWUuYm90dG9tKzF9ZnVuY3Rpb24gX24odCxlKXt2YXIgbj10LnBhcmVudE5vZGU7cmV0dXJuIG4mJi9ebGkkL2kudGVzdChuLm5vZGVOYW1lKSYmZS5sZWZ0PHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdD9uOnR9ZnVuY3Rpb24gUm4odCxlLG4pe3ZhciByPUVuKGUsbiksbz1yLm5vZGUsaT1yLm9mZnNldCxzPS0xO2lmKDE9PW8ubm9kZVR5cGUmJiFvLmZpcnN0Q2hpbGQpe3ZhciBhPW8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cz1hLmxlZnQhPWEucmlnaHQmJm4ubGVmdD4oYS5sZWZ0K2EucmlnaHQpLzI/MTotMX1yZXR1cm4gdC5kb2NWaWV3LnBvc0Zyb21ET00obyxpLHMpfWZ1bmN0aW9uIHpuKHQsZSxuLHIpe2Zvcih2YXIgbz0tMSxpPWU7Oyl7aWYoaT09dC5kb20pYnJlYWs7dmFyIHM9dC5kb2NWaWV3Lm5lYXJlc3REZXNjKGksITApO2lmKCFzKXJldHVybiBudWxsO2lmKHMubm9kZS5pc0Jsb2NrJiZzLnBhcmVudCl7dmFyIGE9cy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYoYS5sZWZ0PnIubGVmdHx8YS50b3A+ci50b3Apbz1zLnBvc0JlZm9yZTtlbHNle2lmKCEoYS5yaWdodDxyLmxlZnR8fGEuYm90dG9tPHIudG9wKSlicmVhaztvPXMucG9zQWZ0ZXJ9fWk9cy5kb20ucGFyZW50Tm9kZX1yZXR1cm4gbz4tMT9vOnQuZG9jVmlldy5wb3NGcm9tRE9NKGUsbil9ZnVuY3Rpb24gSW4odCxlLG4pe3ZhciByPXQuY2hpbGROb2Rlcy5sZW5ndGg7aWYociYmbi50b3A8bi5ib3R0b20pZm9yKHZhciBvPU1hdGgubWF4KDAsTWF0aC5taW4oci0xLE1hdGguZmxvb3IociooZS50b3Atbi50b3ApLyhuLmJvdHRvbS1uLnRvcCkpLTIpKSxpPW87Oyl7dmFyIHM9dC5jaGlsZE5vZGVzW2ldO2lmKDE9PXMubm9kZVR5cGUpZm9yKHZhciBhPXMuZ2V0Q2xpZW50UmVjdHMoKSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBsPWFbY107aWYoRG4oZSxsKSlyZXR1cm4gSW4ocyxlLGwpfWlmKChpPShpKzEpJXIpPT1vKWJyZWFrfXJldHVybiB0fWZ1bmN0aW9uIFBuKHQsZSl7dmFyIG4scixvLGkscz10LnJvb3Q7aWYocy5jYXJldFBvc2l0aW9uRnJvbVBvaW50KXRyeXt2YXIgYT1zLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQoZS5sZWZ0LGUudG9wKTthJiYobj1hLG89bi5vZmZzZXROb2RlLGk9bi5vZmZzZXQpfWNhdGNoKHYpe31pZighbyYmcy5jYXJldFJhbmdlRnJvbVBvaW50KXt2YXIgYz1zLmNhcmV0UmFuZ2VGcm9tUG9pbnQoZS5sZWZ0LGUudG9wKTtjJiYocj1jLG89ci5zdGFydENvbnRhaW5lcixpPXIuc3RhcnRPZmZzZXQpfXZhciBsLHU9cy5lbGVtZW50RnJvbVBvaW50KGUubGVmdCxlLnRvcCsxKTtpZighdXx8IXQuZG9tLmNvbnRhaW5zKDEhPXUubm9kZVR5cGU/dS5wYXJlbnROb2RlOnUpKXt2YXIgcD10LmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZighRG4oZSxwKSlyZXR1cm4gbnVsbDtpZih1PUluKHQuZG9tLGUscCksIXUpcmV0dXJuIG51bGx9aWYodG4uc2FmYXJpKWZvcih2YXIgaD11O28mJmg7aD1jbihoKSloLmRyYWdnYWJsZSYmKG89aT1udWxsKTtpZih1PV9uKHUsZSksbyl7aWYodG4uZ2Vja28mJjE9PW8ubm9kZVR5cGUmJihpPU1hdGgubWluKGksby5jaGlsZE5vZGVzLmxlbmd0aCksaTxvLmNoaWxkTm9kZXMubGVuZ3RoKSl7dmFyIGYsZD1vLmNoaWxkTm9kZXNbaV07IklNRyI9PWQubm9kZU5hbWUmJihmPWQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLnJpZ2h0PD1lLmxlZnQmJmYuYm90dG9tPmUudG9wJiZpKyt9bz09dC5kb20mJmk9PW8uY2hpbGROb2Rlcy5sZW5ndGgtMSYmMT09by5sYXN0Q2hpbGQubm9kZVR5cGUmJmUudG9wPm8ubGFzdENoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbT9sPXQuc3RhdGUuZG9jLmNvbnRlbnQuc2l6ZTowIT1pJiYxPT1vLm5vZGVUeXBlJiYiQlIiPT1vLmNoaWxkTm9kZXNbaS0xXS5ub2RlTmFtZXx8KGw9em4odCxvLGksZSkpfW51bGw9PWwmJihsPVJuKHQsdSxlKSk7dmFyIG09dC5kb2NWaWV3Lm5lYXJlc3REZXNjKHUsITApO3JldHVybntwb3M6bCxpbnNpZGU6bT9tLnBvc0F0U3RhcnQtbS5ib3JkZXI6LTF9fWZ1bmN0aW9uICRuKHQsZSl7dmFyIG49dC5nZXRDbGllbnRSZWN0cygpO3JldHVybiBuLmxlbmd0aD9uW2U8MD8wOm4ubGVuZ3RoLTFdOnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9dmFyIEJuPS9bXHUwNTkwLVx1MDVmNFx1MDYwMC1cdTA2ZmZcdTA3MDAtXHUwOGFjXS87ZnVuY3Rpb24gVm4odCxlLG4pe3ZhciByPXQuZG9jVmlldy5kb21Gcm9tUG9zKGUsbjwwPy0xOjEpLG89ci5ub2RlLGk9ci5vZmZzZXQscz10bi53ZWJraXR8fHRuLmdlY2tvO2lmKDM9PW8ubm9kZVR5cGUpe2lmKCFzfHwhQm4udGVzdChvLm5vZGVWYWx1ZSkmJihuPDA/aTppIT1vLm5vZGVWYWx1ZS5sZW5ndGgpKXt2YXIgYT1pLGM9aSxsPW48MD8xOi0xO3JldHVybiBuPDAmJiFpPyhjKyssbD0tMSk6bj49MCYmaT09by5ub2RlVmFsdWUubGVuZ3RoPyhhLS0sbD0xKTpuPDA/YS0tOmMrKyxqbigkbih1bihvLGEsYyksbCksbDwwKX12YXIgdT0kbih1bihvLGksaSksbik7aWYodG4uZ2Vja28mJmkmJi9ccy8udGVzdChvLm5vZGVWYWx1ZVtpLTFdKSYmaTxvLm5vZGVWYWx1ZS5sZW5ndGgpe3ZhciBwPSRuKHVuKG8saS0xLGktMSksLTEpO2lmKHAudG9wPT11LnRvcCl7dmFyIGg9JG4odW4obyxpLGkrMSksLTEpO2lmKGgudG9wIT11LnRvcClyZXR1cm4gam4oaCxoLmxlZnQ8cC5sZWZ0KX19cmV0dXJuIHV9aWYoIXQuc3RhdGUuZG9jLnJlc29sdmUoZSkucGFyZW50LmlubGluZUNvbnRlbnQpe2lmKGkmJihuPDB8fGk9PWRuKG8pKSl7dmFyIGY9by5jaGlsZE5vZGVzW2ktMV07aWYoMT09Zi5ub2RlVHlwZSlyZXR1cm4gTG4oZi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwhMSl9aWYoaTxkbihvKSl7dmFyIGQ9by5jaGlsZE5vZGVzW2ldO2lmKDE9PWQubm9kZVR5cGUpcmV0dXJuIExuKGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksITApfXJldHVybiBMbihvLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG4+PTApfWlmKGkmJihuPDB8fGk9PWRuKG8pKSl7dmFyIG09by5jaGlsZE5vZGVzW2ktMV0sdj0zPT1tLm5vZGVUeXBlP3VuKG0sZG4obSktKHM/MDoxKSk6MSE9bS5ub2RlVHlwZXx8IkJSIj09bS5ub2RlTmFtZSYmbS5uZXh0U2libGluZz9udWxsOm07aWYodilyZXR1cm4gam4oJG4odiwxKSwhMSl9aWYoaTxkbihvKSl7dmFyIGc9by5jaGlsZE5vZGVzW2ldLHk9Mz09Zy5ub2RlVHlwZT91bihnLDAscz8wOjEpOjE9PWcubm9kZVR5cGU/ZzpudWxsO2lmKHkpcmV0dXJuIGpuKCRuKHksLTEpLCEwKX1yZXR1cm4gam4oJG4oMz09by5ub2RlVHlwZT91bihvKTpvLC1uKSxuPj0wKX1mdW5jdGlvbiBqbih0LGUpe2lmKDA9PXQud2lkdGgpcmV0dXJuIHQ7dmFyIG49ZT90LmxlZnQ6dC5yaWdodDtyZXR1cm57dG9wOnQudG9wLGJvdHRvbTp0LmJvdHRvbSxsZWZ0Om4scmlnaHQ6bn19ZnVuY3Rpb24gTG4odCxlKXtpZigwPT10LmhlaWdodClyZXR1cm4gdDt2YXIgbj1lP3QudG9wOnQuYm90dG9tO3JldHVybnt0b3A6bixib3R0b206bixsZWZ0OnQubGVmdCxyaWdodDp0LnJpZ2h0fX1mdW5jdGlvbiBGbih0LGUsbil7dmFyIHI9dC5zdGF0ZSxvPXQucm9vdC5hY3RpdmVFbGVtZW50O3IhPWUmJnQudXBkYXRlU3RhdGUoZSksbyE9dC5kb20mJnQuZm9jdXMoKTt0cnl7cmV0dXJuIG4oKX1maW5hbGx5e3IhPWUmJnQudXBkYXRlU3RhdGUociksbyE9dC5kb20mJm8mJm8uZm9jdXMoKX19ZnVuY3Rpb24gSG4odCxlLG4pe3ZhciByPWUuc2VsZWN0aW9uLG89InVwIj09bj9yLiRmcm9tOnIuJHRvO3JldHVybiBGbih0LGUsKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPXQuZG9jVmlldy5kb21Gcm9tUG9zKG8ucG9zLCJ1cCI9PW4/LTE6MSkscj1lLm5vZGU7Oyl7dmFyIGk9dC5kb2NWaWV3Lm5lYXJlc3REZXNjKHIsITApO2lmKCFpKWJyZWFrO2lmKGkubm9kZS5pc0Jsb2NrKXtyPWkuZG9tO2JyZWFrfXI9aS5kb20ucGFyZW50Tm9kZX1mb3IodmFyIHM9Vm4odCxvLnBvcywxKSxhPXIuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyl7dmFyIGM9dm9pZCAwO2lmKDE9PWEubm9kZVR5cGUpYz1hLmdldENsaWVudFJlY3RzKCk7ZWxzZXtpZigzIT1hLm5vZGVUeXBlKWNvbnRpbnVlO2M9dW4oYSwwLGEubm9kZVZhbHVlLmxlbmd0aCkuZ2V0Q2xpZW50UmVjdHMoKX1mb3IodmFyIGw9MDtsPGMubGVuZ3RoO2wrKyl7dmFyIHU9Y1tsXTtpZih1LmJvdHRvbT51LnRvcCYmKCJ1cCI9PW4/dS5ib3R0b208cy50b3ArMTp1LnRvcD5zLmJvdHRvbS0xKSlyZXR1cm4hMX19cmV0dXJuITB9KSl9dmFyIEpuPS9bXHUwNTkwLVx1MDhhY10vO2Z1bmN0aW9uIFduKHQsZSxuKXt2YXIgcj1lLnNlbGVjdGlvbixvPXIuJGhlYWQ7aWYoIW8ucGFyZW50LmlzVGV4dGJsb2NrKXJldHVybiExO3ZhciBpPW8ucGFyZW50T2Zmc2V0LHM9IWksYT1pPT1vLnBhcmVudC5jb250ZW50LnNpemUsYz1nZXRTZWxlY3Rpb24oKTtyZXR1cm4gSm4udGVzdChvLnBhcmVudC50ZXh0Q29udGVudCkmJmMubW9kaWZ5P0ZuKHQsZSwoZnVuY3Rpb24oKXt2YXIgZT1jLmdldFJhbmdlQXQoMCkscj1jLmZvY3VzTm9kZSxpPWMuZm9jdXNPZmZzZXQscz1jLmNhcmV0QmlkaUxldmVsO2MubW9kaWZ5KCJtb3ZlIixuLCJjaGFyYWN0ZXIiKTt2YXIgYT1vLmRlcHRoP3QuZG9jVmlldy5kb21BZnRlclBvcyhvLmJlZm9yZSgpKTp0LmRvbSxsPSFhLmNvbnRhaW5zKDE9PWMuZm9jdXNOb2RlLm5vZGVUeXBlP2MuZm9jdXNOb2RlOmMuZm9jdXNOb2RlLnBhcmVudE5vZGUpfHxyPT1jLmZvY3VzTm9kZSYmaT09Yy5mb2N1c09mZnNldDtyZXR1cm4gYy5yZW1vdmVBbGxSYW5nZXMoKSxjLmFkZFJhbmdlKGUpLG51bGwhPXMmJihjLmNhcmV0QmlkaUxldmVsPXMpLGx9KSk6ImxlZnQiPT1ufHwiYmFja3dhcmQiPT1uP3M6YX12YXIgcW49bnVsbCxLbj1udWxsLFVuPSExO2Z1bmN0aW9uIEduKHQsZSxuKXtyZXR1cm4gcW49PWUmJktuPT1uP1VuOihxbj1lLEtuPW4sVW49InVwIj09bnx8ImRvd24iPT1uP0huKHQsZSxuKTpXbih0LGUsbikpfXZhciBYbj0wLFluPTEsWm49MixRbj0zLHRyPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMucGFyZW50PXQsdGhpcy5jaGlsZHJlbj1lLHRoaXMuZG9tPW4sbi5wbVZpZXdEZXNjPXRoaXMsdGhpcy5jb250ZW50RE9NPXIsdGhpcy5kaXJ0eT1Ybn0sZXI9e2JlZm9yZVBvc2l0aW9uOntjb25maWd1cmFibGU6ITB9LHNpemU6e2NvbmZpZ3VyYWJsZTohMH0sYm9yZGVyOntjb25maWd1cmFibGU6ITB9LHBvc0JlZm9yZTp7Y29uZmlndXJhYmxlOiEwfSxwb3NBdFN0YXJ0Ontjb25maWd1cmFibGU6ITB9LHBvc0FmdGVyOntjb25maWd1cmFibGU6ITB9LHBvc0F0RW5kOntjb25maWd1cmFibGU6ITB9LGNvbnRlbnRMb3N0Ontjb25maWd1cmFibGU6ITB9LGRvbUF0b206e2NvbmZpZ3VyYWJsZTohMH19O3RyLnByb3RvdHlwZS5tYXRjaGVzV2lkZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuITF9LHRyLnByb3RvdHlwZS5tYXRjaGVzTWFyaz1mdW5jdGlvbigpe3JldHVybiExfSx0ci5wcm90b3R5cGUubWF0Y2hlc05vZGU9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdHIucHJvdG90eXBlLm1hdGNoZXNIYWNrPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGVyLmJlZm9yZVBvc2l0aW9uLmdldD1mdW5jdGlvbigpe3JldHVybiExfSx0ci5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHRyLnByb3RvdHlwZS5zdG9wRXZlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZXIuc2l6ZS5nZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTA7ZTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtlKyspdCs9dGhpcy5jaGlsZHJlbltlXS5zaXplO3JldHVybiB0fSxlci5ib3JkZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LHRyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5wYXJlbnQ9bnVsbCx0aGlzLmRvbS5wbVZpZXdEZXNjPT10aGlzJiYodGhpcy5kb20ucG1WaWV3RGVzYz1udWxsKTtmb3IodmFyIHQ9MDt0PHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3QrKyl0aGlzLmNoaWxkcmVuW3RdLmRlc3Ryb3koKX0sdHIucHJvdG90eXBlLnBvc0JlZm9yZUNoaWxkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5wb3NBdFN0YXJ0O2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKXt2YXIgcj10aGlzLmNoaWxkcmVuW2VdO2lmKHI9PXQpcmV0dXJuIG47bis9ci5zaXplfX0sZXIucG9zQmVmb3JlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudC5wb3NCZWZvcmVDaGlsZCh0aGlzKX0sZXIucG9zQXRTdGFydC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQucG9zQmVmb3JlQ2hpbGQodGhpcykrdGhpcy5ib3JkZXI6MH0sZXIucG9zQWZ0ZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zQmVmb3JlK3RoaXMuc2l6ZX0sZXIucG9zQXRFbmQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zQXRTdGFydCt0aGlzLnNpemUtMip0aGlzLmJvcmRlcn0sdHIucHJvdG90eXBlLmxvY2FsUG9zRnJvbURPTT1mdW5jdGlvbih0LGUsbil7aWYodGhpcy5jb250ZW50RE9NJiZ0aGlzLmNvbnRlbnRET00uY29udGFpbnMoMT09dC5ub2RlVHlwZT90OnQucGFyZW50Tm9kZSkpe2lmKG48MCl7dmFyIHIsbztpZih0PT10aGlzLmNvbnRlbnRET00pcj10LmNoaWxkTm9kZXNbZS0xXTtlbHNle3doaWxlKHQucGFyZW50Tm9kZSE9dGhpcy5jb250ZW50RE9NKXQ9dC5wYXJlbnROb2RlO3I9dC5wcmV2aW91c1NpYmxpbmd9d2hpbGUociYmKCEobz1yLnBtVmlld0Rlc2MpfHxvLnBhcmVudCE9dGhpcykpcj1yLnByZXZpb3VzU2libGluZztyZXR1cm4gcj90aGlzLnBvc0JlZm9yZUNoaWxkKG8pK28uc2l6ZTp0aGlzLnBvc0F0U3RhcnR9dmFyIGkscztpZih0PT10aGlzLmNvbnRlbnRET00paT10LmNoaWxkTm9kZXNbZV07ZWxzZXt3aGlsZSh0LnBhcmVudE5vZGUhPXRoaXMuY29udGVudERPTSl0PXQucGFyZW50Tm9kZTtpPXQubmV4dFNpYmxpbmd9d2hpbGUoaSYmKCEocz1pLnBtVmlld0Rlc2MpfHxzLnBhcmVudCE9dGhpcykpaT1pLm5leHRTaWJsaW5nO3JldHVybiBpP3RoaXMucG9zQmVmb3JlQ2hpbGQocyk6dGhpcy5wb3NBdEVuZH12YXIgYTtpZih0PT10aGlzLmRvbSYmdGhpcy5jb250ZW50RE9NKWE9ZT5hbih0aGlzLmNvbnRlbnRET00pO2Vsc2UgaWYodGhpcy5jb250ZW50RE9NJiZ0aGlzLmNvbnRlbnRET00hPXRoaXMuZG9tJiZ0aGlzLmRvbS5jb250YWlucyh0aGlzLmNvbnRlbnRET00pKWE9MiZ0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHRoaXMuY29udGVudERPTSk7ZWxzZSBpZih0aGlzLmRvbS5maXJzdENoaWxkKXtpZigwPT1lKWZvcih2YXIgYz10OztjPWMucGFyZW50Tm9kZSl7aWYoYz09dGhpcy5kb20pe2E9ITE7YnJlYWt9aWYoYy5wYXJlbnROb2RlLmZpcnN0Q2hpbGQhPWMpYnJlYWt9aWYobnVsbD09YSYmZT09dC5jaGlsZE5vZGVzLmxlbmd0aClmb3IodmFyIGw9dDs7bD1sLnBhcmVudE5vZGUpe2lmKGw9PXRoaXMuZG9tKXthPSEwO2JyZWFrfWlmKGwucGFyZW50Tm9kZS5sYXN0Q2hpbGQhPWwpYnJlYWt9fXJldHVybihudWxsPT1hP24+MDphKT90aGlzLnBvc0F0RW5kOnRoaXMucG9zQXRTdGFydH0sdHIucHJvdG90eXBlLm5lYXJlc3REZXNjPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPSEwLHI9dDtyO3I9ci5wYXJlbnROb2RlKXt2YXIgbz10aGlzLmdldERlc2Mocik7aWYobyYmKCFlfHxvLm5vZGUpKXtpZighbnx8IW8ubm9kZURPTXx8KDE9PW8ubm9kZURPTS5ub2RlVHlwZT9vLm5vZGVET00uY29udGFpbnMoMT09dC5ub2RlVHlwZT90OnQucGFyZW50Tm9kZSk6by5ub2RlRE9NPT10KSlyZXR1cm4gbztuPSExfX19LHRyLnByb3RvdHlwZS5nZXREZXNjPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnBtVmlld0Rlc2Msbj1lO247bj1uLnBhcmVudClpZihuPT10aGlzKXJldHVybiBlfSx0ci5wcm90b3R5cGUucG9zRnJvbURPTT1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPXQ7cjtyPXIucGFyZW50Tm9kZSl7dmFyIG89dGhpcy5nZXREZXNjKHIpO2lmKG8pcmV0dXJuIG8ubG9jYWxQb3NGcm9tRE9NKHQsZSxuKX1yZXR1cm4tMX0sdHIucHJvdG90eXBlLmRlc2NBdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPTA7ZTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtlKyspe3ZhciByPXRoaXMuY2hpbGRyZW5bZV0sbz1uK3Iuc2l6ZTtpZihuPT10JiZvIT1uKXt3aGlsZSghci5ib3JkZXImJnIuY2hpbGRyZW4ubGVuZ3RoKXI9ci5jaGlsZHJlblswXTtyZXR1cm4gcn1pZih0PG8pcmV0dXJuIHIuZGVzY0F0KHQtbi1yLmJvcmRlcik7bj1vfX0sdHIucHJvdG90eXBlLmRvbUZyb21Qb3M9ZnVuY3Rpb24odCxlKXtpZighdGhpcy5jb250ZW50RE9NKXJldHVybntub2RlOnRoaXMuZG9tLG9mZnNldDowfTtmb3IodmFyIG49MCxyPTAsbz0hMDs7cisrLG89ITEpe3doaWxlKHI8dGhpcy5jaGlsZHJlbi5sZW5ndGgmJih0aGlzLmNoaWxkcmVuW3JdLmJlZm9yZVBvc2l0aW9ufHx0aGlzLmNoaWxkcmVuW3JdLmRvbS5wYXJlbnROb2RlIT10aGlzLmNvbnRlbnRET00pKW4rPXRoaXMuY2hpbGRyZW5bcisrXS5zaXplO3ZhciBpPXI9PXRoaXMuY2hpbGRyZW4ubGVuZ3RoP251bGw6dGhpcy5jaGlsZHJlbltyXTtpZihuPT10JiYoMD09ZXx8IWl8fCFpLnNpemV8fGkuYm9yZGVyfHxlPDAmJm8pfHxpJiZpLmRvbUF0b20mJnQ8bitpLnNpemUpcmV0dXJue25vZGU6dGhpcy5jb250ZW50RE9NLG9mZnNldDppP2FuKGkuZG9tKTp0aGlzLmNvbnRlbnRET00uY2hpbGROb2Rlcy5sZW5ndGh9O2lmKCFpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwb3NpdGlvbiAiK3QpO3ZhciBzPW4raS5zaXplO2lmKCFpLmRvbUF0b20mJihlPDAmJiFpLmJvcmRlcj9zPj10OnM+dCkmJihzPnR8fHIrMT49dGhpcy5jaGlsZHJlbi5sZW5ndGh8fCF0aGlzLmNoaWxkcmVuW3IrMV0uYmVmb3JlUG9zaXRpb24pKXJldHVybiBpLmRvbUZyb21Qb3ModC1uLWkuYm9yZGVyLGUpO249c319LHRyLnByb3RvdHlwZS5wYXJzZVJhbmdlPWZ1bmN0aW9uKHQsZSxuKXtpZih2b2lkIDA9PT1uJiYobj0wKSwwPT10aGlzLmNoaWxkcmVuLmxlbmd0aClyZXR1cm57bm9kZTp0aGlzLmNvbnRlbnRET00sZnJvbTp0LHRvOmUsZnJvbU9mZnNldDowLHRvT2Zmc2V0OnRoaXMuY29udGVudERPTS5jaGlsZE5vZGVzLmxlbmd0aH07Zm9yKHZhciByPS0xLG89LTEsaT1uLHM9MDs7cysrKXt2YXIgYT10aGlzLmNoaWxkcmVuW3NdLGM9aSthLnNpemU7aWYoLTE9PXImJnQ8PWMpe3ZhciBsPWkrYS5ib3JkZXI7aWYodD49bCYmZTw9Yy1hLmJvcmRlciYmYS5ub2RlJiZhLmNvbnRlbnRET00mJnRoaXMuY29udGVudERPTS5jb250YWlucyhhLmNvbnRlbnRET00pKXJldHVybiBhLnBhcnNlUmFuZ2UodCxlLGwpO3Q9aTtmb3IodmFyIHU9czt1PjA7dS0tKXt2YXIgcD10aGlzLmNoaWxkcmVuW3UtMV07aWYocC5zaXplJiZwLmRvbS5wYXJlbnROb2RlPT10aGlzLmNvbnRlbnRET00mJiFwLmVtcHR5Q2hpbGRBdCgxKSl7cj1hbihwLmRvbSkrMTticmVha310LT1wLnNpemV9LTE9PXImJihyPTApfWlmKHI+LTEmJihjPmV8fHM9PXRoaXMuY2hpbGRyZW4ubGVuZ3RoLTEpKXtlPWM7Zm9yKHZhciBoPXMrMTtoPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2grKyl7dmFyIGY9dGhpcy5jaGlsZHJlbltoXTtpZihmLnNpemUmJmYuZG9tLnBhcmVudE5vZGU9PXRoaXMuY29udGVudERPTSYmIWYuZW1wdHlDaGlsZEF0KC0xKSl7bz1hbihmLmRvbSk7YnJlYWt9ZSs9Zi5zaXplfS0xPT1vJiYobz10aGlzLmNvbnRlbnRET00uY2hpbGROb2Rlcy5sZW5ndGgpO2JyZWFrfWk9Y31yZXR1cm57bm9kZTp0aGlzLmNvbnRlbnRET00sZnJvbTp0LHRvOmUsZnJvbU9mZnNldDpyLHRvT2Zmc2V0Om99fSx0ci5wcm90b3R5cGUuZW1wdHlDaGlsZEF0PWZ1bmN0aW9uKHQpe2lmKHRoaXMuYm9yZGVyfHwhdGhpcy5jb250ZW50RE9NfHwhdGhpcy5jaGlsZHJlbi5sZW5ndGgpcmV0dXJuITE7dmFyIGU9dGhpcy5jaGlsZHJlblt0PDA/MDp0aGlzLmNoaWxkcmVuLmxlbmd0aC0xXTtyZXR1cm4gMD09ZS5zaXplfHxlLmVtcHR5Q2hpbGRBdCh0KX0sdHIucHJvdG90eXBlLmRvbUFmdGVyUG9zPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZG9tRnJvbVBvcyh0LDApLG49ZS5ub2RlLHI9ZS5vZmZzZXQ7aWYoMSE9bi5ub2RlVHlwZXx8cj09bi5jaGlsZE5vZGVzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiTm8gbm9kZSBhZnRlciBwb3MgIit0KTtyZXR1cm4gbi5jaGlsZE5vZGVzW3JdfSx0ci5wcm90b3R5cGUuc2V0U2VsZWN0aW9uPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgbz1NYXRoLm1pbih0LGUpLGk9TWF0aC5tYXgodCxlKSxzPTAsYT0wO3M8dGhpcy5jaGlsZHJlbi5sZW5ndGg7cysrKXt2YXIgYz10aGlzLmNoaWxkcmVuW3NdLGw9YStjLnNpemU7aWYobz5hJiZpPGwpcmV0dXJuIGMuc2V0U2VsZWN0aW9uKHQtYS1jLmJvcmRlcixlLWEtYy5ib3JkZXIsbixyKTthPWx9dmFyIHU9dGhpcy5kb21Gcm9tUG9zKHQsdD8tMToxKSxwPWU9PXQ/dTp0aGlzLmRvbUZyb21Qb3MoZSxlPy0xOjEpLGg9bi5nZXRTZWxlY3Rpb24oKSxmPSExO2lmKCh0bi5nZWNrb3x8dG4uc2FmYXJpKSYmdD09ZSl7dmFyIGQ9dS5ub2RlLG09dS5vZmZzZXQ7aWYoMz09ZC5ub2RlVHlwZSlmPW0mJiJcbiI9PWQubm9kZVZhbHVlW20tMV0sZiYmbT09ZC5ub2RlVmFsdWUubGVuZ3RoJiZkLm5leHRTaWJsaW5nJiYiQlIiPT1kLm5leHRTaWJsaW5nLm5vZGVOYW1lJiYodT1wPXtub2RlOmQucGFyZW50Tm9kZSxvZmZzZXQ6YW4oZCkrMX0pO2Vsc2V7dmFyIHY9ZC5jaGlsZE5vZGVzW20tMV07Zj12JiYoIkJSIj09di5ub2RlTmFtZXx8ImZhbHNlIj09di5jb250ZW50RWRpdGFibGUpfX1pZih0bi5nZWNrbyYmaC5mb2N1c05vZGUmJmguZm9jdXNOb2RlIT1wLm5vZGUmJjE9PWguZm9jdXNOb2RlLm5vZGVUeXBlKXt2YXIgZz1oLmZvY3VzTm9kZS5jaGlsZE5vZGVzW2guZm9jdXNPZmZzZXRdO2cmJiJmYWxzZSI9PWcuY29udGVudEVkaXRhYmxlJiYocj0hMCl9aWYocnx8ZiYmdG4uc2FmYXJpfHwhcG4odS5ub2RlLHUub2Zmc2V0LGguYW5jaG9yTm9kZSxoLmFuY2hvck9mZnNldCl8fCFwbihwLm5vZGUscC5vZmZzZXQsaC5mb2N1c05vZGUsaC5mb2N1c09mZnNldCkpe3ZhciB5PSExO2lmKChoLmV4dGVuZHx8dD09ZSkmJiFmKXtoLmNvbGxhcHNlKHUubm9kZSx1Lm9mZnNldCk7dHJ5e3QhPWUmJmguZXh0ZW5kKHAubm9kZSxwLm9mZnNldCkseT0hMH1jYXRjaCh4KXtpZighKHggaW5zdGFuY2VvZiBET01FeGNlcHRpb24pKXRocm93IHh9fWlmKCF5KXtpZih0PmUpe3ZhciB3PXU7dT1wLHA9d312YXIgYj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO2Iuc2V0RW5kKHAubm9kZSxwLm9mZnNldCksYi5zZXRTdGFydCh1Lm5vZGUsdS5vZmZzZXQpLGgucmVtb3ZlQWxsUmFuZ2VzKCksaC5hZGRSYW5nZShiKX19fSx0ci5wcm90b3R5cGUuaWdub3JlTXV0YXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIXRoaXMuY29udGVudERPTSYmInNlbGVjdGlvbiIhPXQudHlwZX0sZXIuY29udGVudExvc3QuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudERPTSYmdGhpcy5jb250ZW50RE9NIT10aGlzLmRvbSYmIXRoaXMuZG9tLmNvbnRhaW5zKHRoaXMuY29udGVudERPTSl9LHRyLnByb3RvdHlwZS5tYXJrRGlydHk9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxyPTA7cjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtyKyspe3ZhciBvPXRoaXMuY2hpbGRyZW5bcl0saT1uK28uc2l6ZTtpZihuPT1pP3Q8PWkmJmU+PW46dDxpJiZlPm4pe3ZhciBzPW4rby5ib3JkZXIsYT1pLW8uYm9yZGVyO2lmKHQ+PXMmJmU8PWEpcmV0dXJuIHRoaXMuZGlydHk9dD09bnx8ZT09aT9abjpZbix2b2lkKHQhPXN8fGUhPWF8fCFvLmNvbnRlbnRMb3N0JiZvLmRvbS5wYXJlbnROb2RlPT10aGlzLmNvbnRlbnRET00/by5tYXJrRGlydHkodC1zLGUtcyk6by5kaXJ0eT1Rbik7by5kaXJ0eT1Rbn1uPWl9dGhpcy5kaXJ0eT1abn0sdHIucHJvdG90eXBlLm1hcmtQYXJlbnRzRGlydHk9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MSxlPXRoaXMucGFyZW50O2U7ZT1lLnBhcmVudCx0Kyspe3ZhciBuPTE9PXQ/Wm46WW47ZS5kaXJ0eTxuJiYoZS5kaXJ0eT1uKX19LGVyLmRvbUF0b20uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuITF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRyLnByb3RvdHlwZSxlcik7dmFyIG5yPVtdLHJyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyl7dmFyIGkscz1uLnR5cGUudG9ET007aWYoImZ1bmN0aW9uIj09dHlwZW9mIHMmJihzPXMociwoZnVuY3Rpb24oKXtyZXR1cm4gaT9pLnBhcmVudD9pLnBhcmVudC5wb3NCZWZvcmVDaGlsZChpKTp2b2lkIDA6b30pKSksIW4udHlwZS5zcGVjLnJhdyl7aWYoMSE9cy5ub2RlVHlwZSl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO2EuYXBwZW5kQ2hpbGQocykscz1hfXMuY29udGVudEVkaXRhYmxlPSExLHMuY2xhc3NMaXN0LmFkZCgiUHJvc2VNaXJyb3Itd2lkZ2V0Iil9dC5jYWxsKHRoaXMsZSxucixzLG51bGwpLHRoaXMud2lkZ2V0PW4saT10aGlzfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXtiZWZvcmVQb3NpdGlvbjp7Y29uZmlndXJhYmxlOiEwfSxkb21BdG9tOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gbi5iZWZvcmVQb3NpdGlvbi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aWRnZXQudHlwZS5zaWRlPDB9LGUucHJvdG90eXBlLm1hdGNoZXNXaWRnZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGlydHk9PVhuJiZ0LnR5cGUuZXEodGhpcy53aWRnZXQudHlwZSl9LGUucHJvdG90eXBlLnBhcnNlUnVsZT1mdW5jdGlvbigpe3JldHVybntpZ25vcmU6ITB9fSxlLnByb3RvdHlwZS5zdG9wRXZlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy53aWRnZXQuc3BlYy5zdG9wRXZlbnQ7cmV0dXJuISFlJiZlKHQpfSxlLnByb3RvdHlwZS5pZ25vcmVNdXRhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4ic2VsZWN0aW9uIiE9dC50eXBlfHx0aGlzLndpZGdldC5zcGVjLmlnbm9yZVNlbGVjdGlvbn0sbi5kb21BdG9tLmdldD1mdW5jdGlvbigpe3JldHVybiEwfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfSh0ciksb3I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvKXt0LmNhbGwodGhpcyxlLG5yLG4sbnVsbCksdGhpcy50ZXh0RE9NPXIsdGhpcy50ZXh0PW99dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e3NpemU6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBuLnNpemUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dC5sZW5ndGh9LGUucHJvdG90eXBlLmxvY2FsUG9zRnJvbURPTT1mdW5jdGlvbih0LGUpe3JldHVybiB0IT10aGlzLnRleHRET00/dGhpcy5wb3NBdFN0YXJ0KyhlP3RoaXMuc2l6ZTowKTp0aGlzLnBvc0F0U3RhcnQrZX0sZS5wcm90b3R5cGUuZG9tRnJvbVBvcz1mdW5jdGlvbih0KXtyZXR1cm57bm9kZTp0aGlzLnRleHRET00sb2Zmc2V0OnR9fSxlLnByb3RvdHlwZS5pZ25vcmVNdXRhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4iY2hhcmFjdGVyRGF0YSI9PT10LnR5cGUmJnQudGFyZ2V0Lm5vZGVWYWx1ZT09dC5vbGRWYWx1ZX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsbiksZX0odHIpLGlyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyl7dC5jYWxsKHRoaXMsZSxbXSxyLG8pLHRoaXMubWFyaz1ufXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLmNyZWF0ZT1mdW5jdGlvbih0LG4scixvKXt2YXIgaT1vLm5vZGVWaWV3c1tuLnR5cGUubmFtZV0scz1pJiZpKG4sbyxyKTtyZXR1cm4gcyYmcy5kb218fChzPV90LnJlbmRlclNwZWMoZG9jdW1lbnQsbi50eXBlLnNwZWMudG9ET00obixyKSkpLG5ldyBlKHQsbixzLmRvbSxzLmNvbnRlbnRET018fHMuZG9tKX0sZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7cmV0dXJue21hcms6dGhpcy5tYXJrLnR5cGUubmFtZSxhdHRyczp0aGlzLm1hcmsuYXR0cnMsY29udGVudEVsZW1lbnQ6dGhpcy5jb250ZW50RE9NfX0sZS5wcm90b3R5cGUubWF0Y2hlc01hcms9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGlydHkhPVFuJiZ0aGlzLm1hcmsuZXEodCl9LGUucHJvdG90eXBlLm1hcmtEaXJ0eT1mdW5jdGlvbihlLG4pe2lmKHQucHJvdG90eXBlLm1hcmtEaXJ0eS5jYWxsKHRoaXMsZSxuKSx0aGlzLmRpcnR5IT1Ybil7dmFyIHI9dGhpcy5wYXJlbnQ7d2hpbGUoIXIubm9kZSlyPXIucGFyZW50O3IuZGlydHk8dGhpcy5kaXJ0eSYmKHIuZGlydHk9dGhpcy5kaXJ0eSksdGhpcy5kaXJ0eT1Ybn19LGUucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsbixyKXt2YXIgbz1lLmNyZWF0ZSh0aGlzLnBhcmVudCx0aGlzLm1hcmssITAsciksaT10aGlzLmNoaWxkcmVuLHM9dGhpcy5zaXplO248cyYmKGk9QXIoaSxuLHMscikpLHQ+MCYmKGk9QXIoaSwwLHQscikpO2Zvcih2YXIgYT0wO2E8aS5sZW5ndGg7YSsrKWlbYV0ucGFyZW50PW87cmV0dXJuIG8uY2hpbGRyZW49aSxvfSxlfSh0ciksc3I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvLGkscyxhLGMsbCl7dC5jYWxsKHRoaXMsZSxuLmlzTGVhZj9ucjpbXSxpLHMpLHRoaXMubm9kZURPTT1hLHRoaXMubm9kZT1uLHRoaXMub3V0ZXJEZWNvPXIsdGhpcy5pbm5lckRlY289byxzJiZ0aGlzLnVwZGF0ZUNoaWxkcmVuKGMsbCl9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e3NpemU6e2NvbmZpZ3VyYWJsZTohMH0sYm9yZGVyOntjb25maWd1cmFibGU6ITB9LGRvbUF0b206e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBlLmNyZWF0ZT1mdW5jdGlvbih0LG4scixvLGkscyl7dmFyIGEsYyxsPWkubm9kZVZpZXdzW24udHlwZS5uYW1lXSx1PWwmJmwobixpLChmdW5jdGlvbigpe3JldHVybiBjP2MucGFyZW50P2MucGFyZW50LnBvc0JlZm9yZUNoaWxkKGMpOnZvaWQgMDpzfSkscixvKSxwPXUmJnUuZG9tLGg9dSYmdS5jb250ZW50RE9NO2lmKG4uaXNUZXh0KWlmKHApe2lmKDMhPXAubm9kZVR5cGUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRleHQgbXVzdCBiZSByZW5kZXJlZCBhcyBhIERPTSB0ZXh0IG5vZGUiKX1lbHNlIHA9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobi50ZXh0KTtlbHNlIHB8fChhPV90LnJlbmRlclNwZWMoZG9jdW1lbnQsbi50eXBlLnNwZWMudG9ET00obikpLHA9YS5kb20saD1hLmNvbnRlbnRET00pO2h8fG4uaXNUZXh0fHwiQlIiPT1wLm5vZGVOYW1lfHwocC5oYXNBdHRyaWJ1dGUoImNvbnRlbnRlZGl0YWJsZSIpfHwocC5jb250ZW50RWRpdGFibGU9ITEpLG4udHlwZS5zcGVjLmRyYWdnYWJsZSYmKHAuZHJhZ2dhYmxlPSEwKSk7dmFyIGY9cDtyZXR1cm4gcD1ncihwLHIsbiksdT9jPW5ldyB1cih0LG4scixvLHAsaCxmLHUsaSxzKzEpOm4uaXNUZXh0P25ldyBjcih0LG4scixvLHAsZixpKTpuZXcgZSh0LG4scixvLHAsaCxmLGkscysxKX0sZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLm5vZGUudHlwZS5zcGVjLnJlcGFyc2VJblZpZXcpcmV0dXJuIG51bGw7dmFyIGU9e25vZGU6dGhpcy5ub2RlLnR5cGUubmFtZSxhdHRyczp0aGlzLm5vZGUuYXR0cnN9O3JldHVybiB0aGlzLm5vZGUudHlwZS5zcGVjLmNvZGUmJihlLnByZXNlcnZlV2hpdGVzcGFjZT0iZnVsbCIpLHRoaXMuY29udGVudERPTSYmIXRoaXMuY29udGVudExvc3Q/ZS5jb250ZW50RWxlbWVudD10aGlzLmNvbnRlbnRET006ZS5nZXRDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29udGVudERPTT9wLmVtcHR5OnQubm9kZS5jb250ZW50fSxlfSxlLnByb3RvdHlwZS5tYXRjaGVzTm9kZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuZGlydHk9PVhuJiZ0LmVxKHRoaXMubm9kZSkmJnlyKGUsdGhpcy5vdXRlckRlY28pJiZuLmVxKHRoaXMuaW5uZXJEZWNvKX0sbi5zaXplLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUubm9kZVNpemV9LG4uYm9yZGVyLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuaXNMZWFmPzA6MX0sZS5wcm90b3R5cGUudXBkYXRlQ2hpbGRyZW49ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9dGhpcy5ub2RlLmlubGluZUNvbnRlbnQsbz1lLGk9ciYmdC5jb21wb3NpbmcmJnRoaXMubG9jYWxDb21wb3NpdGlvbk5vZGUodCxlKSxzPW5ldyBicih0aGlzLGkmJmkubm9kZSk7U3IodGhpcy5ub2RlLHRoaXMuaW5uZXJEZWNvLChmdW5jdGlvbihlLGksYSl7ZS5zcGVjLm1hcmtzP3Muc3luY1RvTWFya3MoZS5zcGVjLm1hcmtzLHIsdCk6ZS50eXBlLnNpZGU+PTAmJiFhJiZzLnN5bmNUb01hcmtzKGk9PW4ubm9kZS5jaGlsZENvdW50P3Yubm9uZTpuLm5vZGUuY2hpbGQoaSkubWFya3Mscix0KSxzLnBsYWNlV2lkZ2V0KGUsdCxvKX0pLChmdW5jdGlvbihlLG4saSxhKXtzLnN5bmNUb01hcmtzKGUubWFya3Mscix0KSxzLmZpbmROb2RlTWF0Y2goZSxuLGksYSl8fHMudXBkYXRlTmV4dE5vZGUoZSxuLGksdCxhKXx8cy5hZGROb2RlKGUsbixpLHQsbyksbys9ZS5ub2RlU2l6ZX0pKSxzLnN5bmNUb01hcmtzKG5yLHIsdCksdGhpcy5ub2RlLmlzVGV4dGJsb2NrJiZzLmFkZFRleHRibG9ja0hhY2tzKCkscy5kZXN0cm95UmVzdCgpLChzLmNoYW5nZWR8fHRoaXMuZGlydHk9PVpuKSYmKGkmJnRoaXMucHJvdGVjdExvY2FsQ29tcG9zaXRpb24odCxpKSxwcih0aGlzLmNvbnRlbnRET00sdGhpcy5jaGlsZHJlbix0KSx0bi5pb3MmJkNyKHRoaXMuZG9tKSl9LGUucHJvdG90eXBlLmxvY2FsQ29tcG9zaXRpb25Ob2RlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5zdGF0ZS5zZWxlY3Rpb24scj1uLmZyb20sbz1uLnRvO2lmKCEoISh0LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIFRlKXx8cjxlfHxvPmUrdGhpcy5ub2RlLmNvbnRlbnQuc2l6ZSkpe3ZhciBpPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxzPU1yKGkuZm9jdXNOb2RlLGkuZm9jdXNPZmZzZXQpO2lmKHMmJnRoaXMuZG9tLmNvbnRhaW5zKHMucGFyZW50Tm9kZSkpe3ZhciBhPXMubm9kZVZhbHVlLGM9T3IodGhpcy5ub2RlLmNvbnRlbnQsYSxyLWUsby1lKTtyZXR1cm4gYzwwP251bGw6e25vZGU6cyxwb3M6Yyx0ZXh0OmF9fX19LGUucHJvdG90eXBlLnByb3RlY3RMb2NhbENvbXBvc2l0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5ub2RlLHI9ZS5wb3Msbz1lLnRleHQ7aWYoIXRoaXMuZ2V0RGVzYyhuKSl7Zm9yKHZhciBpPW47O2k9aS5wYXJlbnROb2RlKXtpZihpLnBhcmVudE5vZGU9PXRoaXMuY29udGVudERPTSlicmVhazt3aGlsZShpLnByZXZpb3VzU2libGluZylpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaS5wcmV2aW91c1NpYmxpbmcpO3doaWxlKGkubmV4dFNpYmxpbmcpaS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkubmV4dFNpYmxpbmcpO2kucG1WaWV3RGVzYyYmKGkucG1WaWV3RGVzYz1udWxsKX12YXIgcz1uZXcgb3IodGhpcyxpLG4sbyk7dC5jb21wb3NpdGlvbk5vZGVzLnB1c2gocyksdGhpcy5jaGlsZHJlbj1Bcih0aGlzLmNoaWxkcmVuLHIscitvLmxlbmd0aCx0LHMpfX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiEodGhpcy5kaXJ0eT09UW58fCF0LnNhbWVNYXJrdXAodGhpcy5ub2RlKSkmJih0aGlzLnVwZGF0ZUlubmVyKHQsZSxuLHIpLCEwKX0sZS5wcm90b3R5cGUudXBkYXRlSW5uZXI9ZnVuY3Rpb24odCxlLG4scil7dGhpcy51cGRhdGVPdXRlckRlY28oZSksdGhpcy5ub2RlPXQsdGhpcy5pbm5lckRlY289bix0aGlzLmNvbnRlbnRET00mJnRoaXMudXBkYXRlQ2hpbGRyZW4ocix0aGlzLnBvc0F0U3RhcnQpLHRoaXMuZGlydHk9WG59LGUucHJvdG90eXBlLnVwZGF0ZU91dGVyRGVjbz1mdW5jdGlvbih0KXtpZigheXIodCx0aGlzLm91dGVyRGVjbykpe3ZhciBlPTEhPXRoaXMubm9kZURPTS5ub2RlVHlwZSxuPXRoaXMuZG9tO3RoaXMuZG9tPW1yKHRoaXMuZG9tLHRoaXMubm9kZURPTSxkcih0aGlzLm91dGVyRGVjbyx0aGlzLm5vZGUsZSksZHIodCx0aGlzLm5vZGUsZSkpLHRoaXMuZG9tIT1uJiYobi5wbVZpZXdEZXNjPW51bGwsdGhpcy5kb20ucG1WaWV3RGVzYz10aGlzKSx0aGlzLm91dGVyRGVjbz10fX0sZS5wcm90b3R5cGUuc2VsZWN0Tm9kZT1mdW5jdGlvbigpe3RoaXMubm9kZURPTS5jbGFzc0xpc3QuYWRkKCJQcm9zZU1pcnJvci1zZWxlY3RlZG5vZGUiKSwhdGhpcy5jb250ZW50RE9NJiZ0aGlzLm5vZGUudHlwZS5zcGVjLmRyYWdnYWJsZXx8KHRoaXMuZG9tLmRyYWdnYWJsZT0hMCl9LGUucHJvdG90eXBlLmRlc2VsZWN0Tm9kZT1mdW5jdGlvbigpe3RoaXMubm9kZURPTS5jbGFzc0xpc3QucmVtb3ZlKCJQcm9zZU1pcnJvci1zZWxlY3RlZG5vZGUiKSwhdGhpcy5jb250ZW50RE9NJiZ0aGlzLm5vZGUudHlwZS5zcGVjLmRyYWdnYWJsZXx8dGhpcy5kb20ucmVtb3ZlQXR0cmlidXRlKCJkcmFnZ2FibGUiKX0sbi5kb21BdG9tLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuaXNBdG9tfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfSh0cik7ZnVuY3Rpb24gYXIodCxlLG4scixvKXtyZXR1cm4gZ3IocixlLHQpLG5ldyBzcihudWxsLHQsZSxuLHIscixyLG8sMCl9dmFyIGNyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyxpLHMsYSl7dC5jYWxsKHRoaXMsZSxuLHIsbyxpLG51bGwscyxhKX10JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17ZG9tQXRvbTp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIGUucHJvdG90eXBlLnBhcnNlUnVsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMubm9kZURPTS5wYXJlbnROb2RlO3doaWxlKHQmJnQhPXRoaXMuZG9tJiYhdC5wbUlzRGVjbyl0PXQucGFyZW50Tm9kZTtyZXR1cm57c2tpcDp0fHwhMH19LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4hKHRoaXMuZGlydHk9PVFufHx0aGlzLmRpcnR5IT1YbiYmIXRoaXMuaW5QYXJlbnQoKXx8IXQuc2FtZU1hcmt1cCh0aGlzLm5vZGUpKSYmKHRoaXMudXBkYXRlT3V0ZXJEZWNvKGUpLHRoaXMuZGlydHk9PVhuJiZ0LnRleHQ9PXRoaXMubm9kZS50ZXh0fHx0LnRleHQ9PXRoaXMubm9kZURPTS5ub2RlVmFsdWV8fCh0aGlzLm5vZGVET00ubm9kZVZhbHVlPXQudGV4dCxyLnRyYWNrV3JpdGVzPT10aGlzLm5vZGVET00mJihyLnRyYWNrV3JpdGVzPW51bGwpKSx0aGlzLm5vZGU9dCx0aGlzLmRpcnR5PVhuLCEwKX0sZS5wcm90b3R5cGUuaW5QYXJlbnQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5wYXJlbnQuY29udGVudERPTSxlPXRoaXMubm9kZURPTTtlO2U9ZS5wYXJlbnROb2RlKWlmKGU9PXQpcmV0dXJuITA7cmV0dXJuITF9LGUucHJvdG90eXBlLmRvbUZyb21Qb3M9ZnVuY3Rpb24odCl7cmV0dXJue25vZGU6dGhpcy5ub2RlRE9NLG9mZnNldDp0fX0sZS5wcm90b3R5cGUubG9jYWxQb3NGcm9tRE9NPWZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gZT09dGhpcy5ub2RlRE9NP3RoaXMucG9zQXRTdGFydCtNYXRoLm1pbihuLHRoaXMubm9kZS50ZXh0Lmxlbmd0aCk6dC5wcm90b3R5cGUubG9jYWxQb3NGcm9tRE9NLmNhbGwodGhpcyxlLG4scil9LGUucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiJjaGFyYWN0ZXJEYXRhIiE9dC50eXBlJiYic2VsZWN0aW9uIiE9dC50eXBlfSxlLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LG4scil7dmFyIG89dGhpcy5ub2RlLmN1dCh0LG4pLGk9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoby50ZXh0KTtyZXR1cm4gbmV3IGUodGhpcy5wYXJlbnQsbyx0aGlzLm91dGVyRGVjbyx0aGlzLmlubmVyRGVjbyxpLGkscil9LG4uZG9tQXRvbS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsbiksZX0oc3IpLGxyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX10JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17ZG9tQXRvbTp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIGUucHJvdG90eXBlLnBhcnNlUnVsZT1mdW5jdGlvbigpe3JldHVybntpZ25vcmU6ITB9fSxlLnByb3RvdHlwZS5tYXRjaGVzSGFjaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRpcnR5PT1Ybn0sbi5kb21BdG9tLmdldD1mdW5jdGlvbigpe3JldHVybiEwfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfSh0ciksdXI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvLGkscyxhLGMsbCx1KXt0LmNhbGwodGhpcyxlLG4scixvLGkscyxhLGwsdSksdGhpcy5zcGVjPWN9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlLG4scixvKXtpZih0aGlzLmRpcnR5PT1RbilyZXR1cm4hMTtpZih0aGlzLnNwZWMudXBkYXRlKXt2YXIgaT10aGlzLnNwZWMudXBkYXRlKGUsbixyKTtyZXR1cm4gaSYmdGhpcy51cGRhdGVJbm5lcihlLG4scixvKSxpfXJldHVybiEoIXRoaXMuY29udGVudERPTSYmIWUuaXNMZWFmKSYmdC5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyxlLG4scixvKX0sZS5wcm90b3R5cGUuc2VsZWN0Tm9kZT1mdW5jdGlvbigpe3RoaXMuc3BlYy5zZWxlY3ROb2RlP3RoaXMuc3BlYy5zZWxlY3ROb2RlKCk6dC5wcm90b3R5cGUuc2VsZWN0Tm9kZS5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5kZXNlbGVjdE5vZGU9ZnVuY3Rpb24oKXt0aGlzLnNwZWMuZGVzZWxlY3ROb2RlP3RoaXMuc3BlYy5kZXNlbGVjdE5vZGUoKTp0LnByb3RvdHlwZS5kZXNlbGVjdE5vZGUuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuc2V0U2VsZWN0aW9uPWZ1bmN0aW9uKGUsbixyLG8pe3RoaXMuc3BlYy5zZXRTZWxlY3Rpb24/dGhpcy5zcGVjLnNldFNlbGVjdGlvbihlLG4scik6dC5wcm90b3R5cGUuc2V0U2VsZWN0aW9uLmNhbGwodGhpcyxlLG4scixvKX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuc3BlYy5kZXN0cm95JiZ0aGlzLnNwZWMuZGVzdHJveSgpLHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuc3RvcEV2ZW50PWZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5zcGVjLnN0b3BFdmVudCYmdGhpcy5zcGVjLnN0b3BFdmVudCh0KX0sZS5wcm90b3R5cGUuaWdub3JlTXV0YXRpb249ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3BlYy5pZ25vcmVNdXRhdGlvbj90aGlzLnNwZWMuaWdub3JlTXV0YXRpb24oZSk6dC5wcm90b3R5cGUuaWdub3JlTXV0YXRpb24uY2FsbCh0aGlzLGUpfSxlfShzcik7ZnVuY3Rpb24gcHIodCxlLG4pe2Zvcih2YXIgcj10LmZpcnN0Q2hpbGQsbz0hMSxpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBzPWVbaV0sYT1zLmRvbTtpZihhLnBhcmVudE5vZGU9PXQpe3doaWxlKGEhPXIpcj13cihyKSxvPSEwO3I9ci5uZXh0U2libGluZ31lbHNlIG89ITAsdC5pbnNlcnRCZWZvcmUoYSxyKTtpZihzIGluc3RhbmNlb2YgaXIpe3ZhciBjPXI/ci5wcmV2aW91c1NpYmxpbmc6dC5sYXN0Q2hpbGQ7cHIocy5jb250ZW50RE9NLHMuY2hpbGRyZW4sbikscj1jP2MubmV4dFNpYmxpbmc6dC5maXJzdENoaWxkfX13aGlsZShyKXI9d3Iociksbz0hMDtvJiZuLnRyYWNrV3JpdGVzPT10JiYobi50cmFja1dyaXRlcz1udWxsKX1mdW5jdGlvbiBocih0KXt0JiYodGhpcy5ub2RlTmFtZT10KX1oci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShudWxsKTt2YXIgZnI9W25ldyBocl07ZnVuY3Rpb24gZHIodCxlLG4pe2lmKDA9PXQubGVuZ3RoKXJldHVybiBmcjtmb3IodmFyIHI9bj9mclswXTpuZXcgaHIsbz1bcl0saT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgcz10W2ldLnR5cGUuYXR0cnM7aWYocylmb3IodmFyIGEgaW4gcy5ub2RlTmFtZSYmby5wdXNoKHI9bmV3IGhyKHMubm9kZU5hbWUpKSxzKXt2YXIgYz1zW2FdO251bGwhPWMmJihuJiYxPT1vLmxlbmd0aCYmby5wdXNoKHI9bmV3IGhyKGUuaXNJbmxpbmU/InNwYW4iOiJkaXYiKSksImNsYXNzIj09YT9yLmNsYXNzPShyLmNsYXNzP3IuY2xhc3MrIiAiOiIiKStjOiJzdHlsZSI9PWE/ci5zdHlsZT0oci5zdHlsZT9yLnN0eWxlKyI7IjoiIikrYzoibm9kZU5hbWUiIT1hJiYoclthXT1jKSl9fXJldHVybiBvfWZ1bmN0aW9uIG1yKHQsZSxuLHIpe2lmKG49PWZyJiZyPT1mcilyZXR1cm4gZTtmb3IodmFyIG89ZSxpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBzPXJbaV0sYT1uW2ldO2lmKGkpe3ZhciBjPXZvaWQgMDthJiZhLm5vZGVOYW1lPT1zLm5vZGVOYW1lJiZvIT10JiYoYz1vLnBhcmVudE5vZGUpJiZjLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09cy5ub2RlTmFtZXx8KGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChzLm5vZGVOYW1lKSxjLnBtSXNEZWNvPSEwLGMuYXBwZW5kQ2hpbGQobyksYT1mclswXSksbz1jfXZyKG8sYXx8ZnJbMF0scyl9cmV0dXJuIG99ZnVuY3Rpb24gdnIodCxlLG4pe2Zvcih2YXIgciBpbiBlKSJjbGFzcyI9PXJ8fCJzdHlsZSI9PXJ8fCJub2RlTmFtZSI9PXJ8fHIgaW4gbnx8dC5yZW1vdmVBdHRyaWJ1dGUocik7Zm9yKHZhciBvIGluIG4pImNsYXNzIiE9byYmInN0eWxlIiE9byYmIm5vZGVOYW1lIiE9byYmbltvXSE9ZVtvXSYmdC5zZXRBdHRyaWJ1dGUobyxuW29dKTtpZihlLmNsYXNzIT1uLmNsYXNzKXtmb3IodmFyIGk9ZS5jbGFzcz9lLmNsYXNzLnNwbGl0KCIgIikuZmlsdGVyKEJvb2xlYW4pOm5yLHM9bi5jbGFzcz9uLmNsYXNzLnNwbGl0KCIgIikuZmlsdGVyKEJvb2xlYW4pOm5yLGE9MDthPGkubGVuZ3RoO2ErKyktMT09cy5pbmRleE9mKGlbYV0pJiZ0LmNsYXNzTGlzdC5yZW1vdmUoaVthXSk7Zm9yKHZhciBjPTA7YzxzLmxlbmd0aDtjKyspLTE9PWkuaW5kZXhPZihzW2NdKSYmdC5jbGFzc0xpc3QuYWRkKHNbY10pfWlmKGUuc3R5bGUhPW4uc3R5bGUpe2lmKGUuc3R5bGUpe3ZhciBsLHU9L1xzKihbXHdcLVx4YTEtXHVmZmZmXSspXHMqOig/OiIoPzpcXC58W14iXSkqInwnKD86XFwufFteJ10pKid8XCguKj9cKXxbXjtdKSovZzt3aGlsZShsPXUuZXhlYyhlLnN0eWxlKSl0LnN0eWxlLnJlbW92ZVByb3BlcnR5KGxbMV0pfW4uc3R5bGUmJih0LnN0eWxlLmNzc1RleHQrPW4uc3R5bGUpfX1mdW5jdGlvbiBncih0LGUsbil7cmV0dXJuIG1yKHQsdCxmcixkcihlLG4sMSE9dC5ub2RlVHlwZSkpfWZ1bmN0aW9uIHlyKHQsZSl7aWYodC5sZW5ndGghPWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKCF0W25dLnR5cGUuZXEoZVtuXS50eXBlKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB3cih0KXt2YXIgZT10Lm5leHRTaWJsaW5nO3JldHVybiB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksZX12YXIgYnI9ZnVuY3Rpb24odCxlKXt0aGlzLnRvcD10LHRoaXMubG9jaz1lLHRoaXMuaW5kZXg9MCx0aGlzLnN0YWNrPVtdLHRoaXMuY2hhbmdlZD0hMSx0aGlzLnByZU1hdGNoPXhyKHQubm9kZS5jb250ZW50LHQuY2hpbGRyZW4pfTtmdW5jdGlvbiB4cih0LGUpe2Zvcih2YXIgbj10LmNoaWxkQ291bnQscj1lLmxlbmd0aCxvPW5ldyBNYXA7bj4wJiZyPjA7ci0tKXt2YXIgaT1lW3ItMV0scz1pLm5vZGU7aWYocyl7aWYocyE9dC5jaGlsZChuLTEpKWJyZWFrOy0tbixvLnNldChpLG4pfX1yZXR1cm57aW5kZXg6bixtYXRjaGVkOm99fWZ1bmN0aW9uIGtyKHQsZSl7cmV0dXJuIHQudHlwZS5zaWRlLWUudHlwZS5zaWRlfWZ1bmN0aW9uIFNyKHQsZSxuLHIpe3ZhciBvPWUubG9jYWxzKHQpLGk9MDtpZigwIT1vLmxlbmd0aClmb3IodmFyIHM9MCxhPVtdLGM9bnVsbCxsPTA7Oyl7aWYoczxvLmxlbmd0aCYmb1tzXS50bz09aSl7dmFyIHU9b1tzKytdLHA9dm9pZCAwO3doaWxlKHM8by5sZW5ndGgmJm9bc10udG89PWkpKHB8fChwPVt1XSkpLnB1c2gob1tzKytdKTtpZihwKXtwLnNvcnQoa3IpO2Zvcih2YXIgaD0wO2g8cC5sZW5ndGg7aCsrKW4ocFtoXSxsLCEhYyl9ZWxzZSBuKHUsbCwhIWMpfXZhciBmPXZvaWQgMCxkPXZvaWQgMDtpZihjKWQ9LTEsZj1jLGM9bnVsbDtlbHNle2lmKCEobDx0LmNoaWxkQ291bnQpKWJyZWFrO2Q9bCxmPXQuY2hpbGQobCsrKX1mb3IodmFyIG09MDttPGEubGVuZ3RoO20rKylhW21dLnRvPD1pJiZhLnNwbGljZShtLS0sMSk7d2hpbGUoczxvLmxlbmd0aCYmb1tzXS5mcm9tPD1pJiZvW3NdLnRvPmkpYS5wdXNoKG9bcysrXSk7dmFyIHY9aStmLm5vZGVTaXplO2lmKGYuaXNUZXh0KXt2YXIgZz12O3M8by5sZW5ndGgmJm9bc10uZnJvbTxnJiYoZz1vW3NdLmZyb20pO2Zvcih2YXIgeT0wO3k8YS5sZW5ndGg7eSsrKWFbeV0udG88ZyYmKGc9YVt5XS50byk7Zzx2JiYoYz1mLmN1dChnLWkpLGY9Zi5jdXQoMCxnLWkpLHY9ZyxkPS0xKX12YXIgdz1hLmxlbmd0aD9mLmlzSW5saW5lJiYhZi5pc0xlYWY/YS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiF0LmlubGluZX0pKTphLnNsaWNlKCk6bnI7cihmLHcsZS5mb3JDaGlsZChpLGYpLGQpLGk9dn1lbHNlIGZvcih2YXIgYj0wO2I8dC5jaGlsZENvdW50O2IrKyl7dmFyIHg9dC5jaGlsZChiKTtyKHgsbyxlLmZvckNoaWxkKGkseCksYiksaSs9eC5ub2RlU2l6ZX19ZnVuY3Rpb24gQ3IodCl7aWYoIlVMIj09dC5ub2RlTmFtZXx8Ik9MIj09dC5ub2RlTmFtZSl7dmFyIGU9dC5zdHlsZS5jc3NUZXh0O3Quc3R5bGUuY3NzVGV4dD1lKyI7IGxpc3Qtc3R5bGU6IHNxdWFyZSAhaW1wb3J0YW50Iix3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0KS5saXN0U3R5bGUsdC5zdHlsZS5jc3NUZXh0PWV9fWZ1bmN0aW9uIE1yKHQsZSl7Zm9yKDs7KXtpZigzPT10Lm5vZGVUeXBlKXJldHVybiB0O2lmKDE9PXQubm9kZVR5cGUmJmU+MCl7aWYodC5jaGlsZE5vZGVzLmxlbmd0aD5lJiYzPT10LmNoaWxkTm9kZXNbZV0ubm9kZVR5cGUpcmV0dXJuIHQuY2hpbGROb2Rlc1tlXTt0PXQuY2hpbGROb2Rlc1tlLTFdLGU9ZG4odCl9ZWxzZXtpZighKDE9PXQubm9kZVR5cGUmJmU8dC5jaGlsZE5vZGVzLmxlbmd0aCkpcmV0dXJuIG51bGw7dD10LmNoaWxkTm9kZXNbZV0sZT0wfX19ZnVuY3Rpb24gT3IodCxlLG4scil7Zm9yKHZhciBvPTAsaT0wO288dC5jaGlsZENvdW50JiZpPD1yOyl7dmFyIHM9dC5jaGlsZChvKyspLGE9aTtpZihpKz1zLm5vZGVTaXplLHMuaXNUZXh0KXt2YXIgYz1zLnRleHQ7d2hpbGUobzx0LmNoaWxkQ291bnQpe3ZhciBsPXQuY2hpbGQobysrKTtpZihpKz1sLm5vZGVTaXplLCFsLmlzVGV4dClicmVhaztjKz1sLnRleHR9aWYoaT49bil7dmFyIHU9Yy5sYXN0SW5kZXhPZihlLHItYSk7aWYodT49MCYmdStlLmxlbmd0aCthPj1uKXJldHVybiBhK3V9fX1yZXR1cm4tMX1mdW5jdGlvbiBBcih0LGUsbixyLG8pe2Zvcih2YXIgaT1bXSxzPTAsYT0wO3M8dC5sZW5ndGg7cysrKXt2YXIgYz10W3NdLGw9YSx1PWErPWMuc2l6ZTtsPj1ufHx1PD1lP2kucHVzaChjKToobDxlJiZpLnB1c2goYy5zbGljZSgwLGUtbCxyKSksbyYmKGkucHVzaChvKSxvPW51bGwpLHU+biYmaS5wdXNoKGMuc2xpY2Uobi1sLGMuc2l6ZSxyKSkpfXJldHVybiBpfWZ1bmN0aW9uIE5yKHQsZSl7dmFyIG49dC5yb290LmdldFNlbGVjdGlvbigpLHI9dC5zdGF0ZS5kb2M7aWYoIW4uZm9jdXNOb2RlKXJldHVybiBudWxsO3ZhciBvPXQuZG9jVmlldy5uZWFyZXN0RGVzYyhuLmZvY3VzTm9kZSksaT1vJiYwPT1vLnNpemUscz10LmRvY1ZpZXcucG9zRnJvbURPTShuLmZvY3VzTm9kZSxuLmZvY3VzT2Zmc2V0KTtpZihzPDApcmV0dXJuIG51bGw7dmFyIGEsYyxsPXIucmVzb2x2ZShzKTtpZihnbihuKSl7YT1sO3doaWxlKG8mJiFvLm5vZGUpbz1vLnBhcmVudDtpZihvJiZvLm5vZGUuaXNBdG9tJiZfZS5pc1NlbGVjdGFibGUoby5ub2RlKSYmby5wYXJlbnQmJighby5ub2RlLmlzSW5saW5lfHwhbW4obi5mb2N1c05vZGUsbi5mb2N1c09mZnNldCxvLmRvbSkpKXt2YXIgdT1vLnBvc0JlZm9yZTtjPW5ldyBfZShzPT11P2w6ci5yZXNvbHZlKHUpKX19ZWxzZXt2YXIgcD10LmRvY1ZpZXcucG9zRnJvbURPTShuLmFuY2hvck5vZGUsbi5hbmNob3JPZmZzZXQpO2lmKHA8MClyZXR1cm4gbnVsbDthPXIucmVzb2x2ZShwKX1pZighYyl7dmFyIGg9InBvaW50ZXIiPT1lfHx0LnN0YXRlLnNlbGVjdGlvbi5oZWFkPGwucG9zJiYhaT8xOi0xO2M9VnIodCxhLGwsaCl9cmV0dXJuIGN9ZnVuY3Rpb24gRXIodCl7cmV0dXJuIHQuZWRpdGFibGU/dC5oYXNGb2N1cygpOkxyKHQpJiZkb2N1bWVudC5hY3RpdmVFbGVtZW50JiZkb2N1bWVudC5hY3RpdmVFbGVtZW50LmNvbnRhaW5zKHQuZG9tKX1mdW5jdGlvbiBUcih0LGUpe3ZhciBuPXQuc3RhdGUuc2VsZWN0aW9uO2lmKCRyKHQsbiksRXIodCkpe2lmKHQuZG9tT2JzZXJ2ZXIuZGlzY29ubmVjdFNlbGVjdGlvbigpLHQuY3Vyc29yV3JhcHBlcilQcih0KTtlbHNle3ZhciByLG8saT1uLmFuY2hvcixzPW4uaGVhZDshRHJ8fG4gaW5zdGFuY2VvZiBUZXx8KG4uJGZyb20ucGFyZW50LmlubGluZUNvbnRlbnR8fChyPV9yKHQsbi5mcm9tKSksbi5lbXB0eXx8bi4kZnJvbS5wYXJlbnQuaW5saW5lQ29udGVudHx8KG89X3IodCxuLnRvKSkpLHQuZG9jVmlldy5zZXRTZWxlY3Rpb24oaSxzLHQucm9vdCxlKSxEciYmKHImJnpyKHIpLG8mJnpyKG8pKSxuLnZpc2libGU/dC5kb20uY2xhc3NMaXN0LnJlbW92ZSgiUHJvc2VNaXJyb3ItaGlkZXNlbGVjdGlvbiIpOih0LmRvbS5jbGFzc0xpc3QuYWRkKCJQcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uIiksIm9uc2VsZWN0aW9uY2hhbmdlImluIGRvY3VtZW50JiZJcih0KSl9dC5kb21PYnNlcnZlci5zZXRDdXJTZWxlY3Rpb24oKSx0LmRvbU9ic2VydmVyLmNvbm5lY3RTZWxlY3Rpb24oKX19YnIucHJvdG90eXBlLmRlc3Ryb3lCZXR3ZWVuPWZ1bmN0aW9uKHQsZSl7aWYodCE9ZSl7Zm9yKHZhciBuPXQ7bjxlO24rKyl0aGlzLnRvcC5jaGlsZHJlbltuXS5kZXN0cm95KCk7dGhpcy50b3AuY2hpbGRyZW4uc3BsaWNlKHQsZS10KSx0aGlzLmNoYW5nZWQ9ITB9fSxici5wcm90b3R5cGUuZGVzdHJveVJlc3Q9ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3lCZXR3ZWVuKHRoaXMuaW5kZXgsdGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoKX0sYnIucHJvdG90eXBlLnN5bmNUb01hcmtzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0wLG89dGhpcy5zdGFjay5sZW5ndGg+PjEsaT1NYXRoLm1pbihvLHQubGVuZ3RoKTt3aGlsZShyPGkmJihyPT1vLTE/dGhpcy50b3A6dGhpcy5zdGFja1tyKzE8PDFdKS5tYXRjaGVzTWFyayh0W3JdKSYmITEhPT10W3JdLnR5cGUuc3BlYy5zcGFubmluZylyKys7d2hpbGUocjxvKXRoaXMuZGVzdHJveVJlc3QoKSx0aGlzLnRvcC5kaXJ0eT1Ybix0aGlzLmluZGV4PXRoaXMuc3RhY2sucG9wKCksdGhpcy50b3A9dGhpcy5zdGFjay5wb3AoKSxvLS07d2hpbGUobzx0Lmxlbmd0aCl7dGhpcy5zdGFjay5wdXNoKHRoaXMudG9wLHRoaXMuaW5kZXgrMSk7Zm9yKHZhciBzPS0xLGE9dGhpcy5pbmRleDthPE1hdGgubWluKHRoaXMuaW5kZXgrMyx0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGgpO2ErKylpZih0aGlzLnRvcC5jaGlsZHJlblthXS5tYXRjaGVzTWFyayh0W29dKSl7cz1hO2JyZWFrfWlmKHM+LTEpcz50aGlzLmluZGV4JiYodGhpcy5jaGFuZ2VkPSEwLHRoaXMuZGVzdHJveUJldHdlZW4odGhpcy5pbmRleCxzKSksdGhpcy50b3A9dGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleF07ZWxzZXt2YXIgYz1pci5jcmVhdGUodGhpcy50b3AsdFtvXSxlLG4pO3RoaXMudG9wLmNoaWxkcmVuLnNwbGljZSh0aGlzLmluZGV4LDAsYyksdGhpcy50b3A9Yyx0aGlzLmNoYW5nZWQ9ITB9dGhpcy5pbmRleD0wLG8rK319LGJyLnByb3RvdHlwZS5maW5kTm9kZU1hdGNoPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXRoaXMudG9wLmNoaWxkcmVuLGk9LTE7aWYocj49dGhpcy5wcmVNYXRjaC5pbmRleCl7Zm9yKHZhciBzPXRoaXMuaW5kZXg7czxvLmxlbmd0aDtzKyspaWYob1tzXS5tYXRjaGVzTm9kZSh0LGUsbikpe2k9czticmVha319ZWxzZSBmb3IodmFyIGE9dGhpcy5pbmRleCxjPU1hdGgubWluKG8ubGVuZ3RoLGErMSk7YTxjO2ErKyl7dmFyIGw9b1thXTtpZihsLm1hdGNoZXNOb2RlKHQsZSxuKSYmIXRoaXMucHJlTWF0Y2gubWF0Y2hlZC5oYXMobCkpe2k9YTticmVha319cmV0dXJuIShpPDApJiYodGhpcy5kZXN0cm95QmV0d2Vlbih0aGlzLmluZGV4LGkpLHRoaXMuaW5kZXgrKywhMCl9LGJyLnByb3RvdHlwZS51cGRhdGVOZXh0Tm9kZT1mdW5jdGlvbih0LGUsbixyLG8pe2Zvcih2YXIgaT10aGlzLmluZGV4O2k8dGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoO2krKyl7dmFyIHM9dGhpcy50b3AuY2hpbGRyZW5baV07aWYocyBpbnN0YW5jZW9mIHNyKXt2YXIgYT10aGlzLnByZU1hdGNoLm1hdGNoZWQuZ2V0KHMpO2lmKG51bGwhPWEmJmEhPW8pcmV0dXJuITE7dmFyIGM9cy5kb20sbD10aGlzLmxvY2smJihjPT10aGlzLmxvY2t8fDE9PWMubm9kZVR5cGUmJmMuY29udGFpbnModGhpcy5sb2NrLnBhcmVudE5vZGUpKSYmISh0LmlzVGV4dCYmcy5ub2RlJiZzLm5vZGUuaXNUZXh0JiZzLm5vZGVET00ubm9kZVZhbHVlPT10LnRleHQmJnMuZGlydHkhPVFuJiZ5cihlLHMub3V0ZXJEZWNvKSk7aWYoIWwmJnMudXBkYXRlKHQsZSxuLHIpKXJldHVybiB0aGlzLmRlc3Ryb3lCZXR3ZWVuKHRoaXMuaW5kZXgsaSkscy5kb20hPWMmJih0aGlzLmNoYW5nZWQ9ITApLHRoaXMuaW5kZXgrKywhMDticmVha319cmV0dXJuITF9LGJyLnByb3RvdHlwZS5hZGROb2RlPWZ1bmN0aW9uKHQsZSxuLHIsbyl7dGhpcy50b3AuY2hpbGRyZW4uc3BsaWNlKHRoaXMuaW5kZXgrKywwLHNyLmNyZWF0ZSh0aGlzLnRvcCx0LGUsbixyLG8pKSx0aGlzLmNoYW5nZWQ9ITB9LGJyLnByb3RvdHlwZS5wbGFjZVdpZGdldD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5pbmRleDx0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGg/dGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleF06bnVsbDtpZighcnx8IXIubWF0Y2hlc1dpZGdldCh0KXx8dCE9ci53aWRnZXQmJnIud2lkZ2V0LnR5cGUudG9ET00ucGFyZW50Tm9kZSl7dmFyIG89bmV3IHJyKHRoaXMudG9wLHQsZSxuKTt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCsrLDAsbyksdGhpcy5jaGFuZ2VkPSEwfWVsc2UgdGhpcy5pbmRleCsrfSxici5wcm90b3R5cGUuYWRkVGV4dGJsb2NrSGFja3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRvcC5jaGlsZHJlblt0aGlzLmluZGV4LTFdO3doaWxlKHQgaW5zdGFuY2VvZiBpcil0PXQuY2hpbGRyZW5bdC5jaGlsZHJlbi5sZW5ndGgtMV07aWYoIXR8fCEodCBpbnN0YW5jZW9mIGNyKXx8L1xuJC8udGVzdCh0Lm5vZGUudGV4dCkpaWYodGhpcy5pbmRleDx0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGgmJnRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXhdLm1hdGNoZXNIYWNrKCkpdGhpcy5pbmRleCsrO2Vsc2V7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKTt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCsrLDAsbmV3IGxyKHRoaXMudG9wLG5yLGUsbnVsbCkpLHRoaXMuY2hhbmdlZD0hMH19O3ZhciBEcj10bi5zYWZhcml8fHRuLmNocm9tZSYmdG4uY2hyb21lX3ZlcnNpb248NjM7ZnVuY3Rpb24gX3IodCxlKXt2YXIgbj10LmRvY1ZpZXcuZG9tRnJvbVBvcyhlLDApLHI9bi5ub2RlLG89bi5vZmZzZXQsaT1vPHIuY2hpbGROb2Rlcy5sZW5ndGg/ci5jaGlsZE5vZGVzW29dOm51bGwscz1vP3IuY2hpbGROb2Rlc1tvLTFdOm51bGw7aWYodG4uc2FmYXJpJiZpJiYiZmFsc2UiPT1pLmNvbnRlbnRFZGl0YWJsZSlyZXR1cm4gUnIoaSk7aWYoKCFpfHwiZmFsc2UiPT1pLmNvbnRlbnRFZGl0YWJsZSkmJighc3x8ImZhbHNlIj09cy5jb250ZW50RWRpdGFibGUpKXtpZihpKXJldHVybiBScihpKTtpZihzKXJldHVybiBScihzKX19ZnVuY3Rpb24gUnIodCl7cmV0dXJuIHQuY29udGVudEVkaXRhYmxlPSJ0cnVlIix0bi5zYWZhcmkmJnQuZHJhZ2dhYmxlJiYodC5kcmFnZ2FibGU9ITEsdC53YXNEcmFnZ2FibGU9ITApLHR9ZnVuY3Rpb24genIodCl7dC5jb250ZW50RWRpdGFibGU9ImZhbHNlIix0Lndhc0RyYWdnYWJsZSYmKHQuZHJhZ2dhYmxlPSEwLHQud2FzRHJhZ2dhYmxlPW51bGwpfWZ1bmN0aW9uIElyKHQpe3ZhciBlPXQuZG9tLm93bmVyRG9jdW1lbnQ7ZS5yZW1vdmVFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLHQuaGlkZVNlbGVjdGlvbkd1YXJkKTt2YXIgbj10LnJvb3QuZ2V0U2VsZWN0aW9uKCkscj1uLmFuY2hvck5vZGUsbz1uLmFuY2hvck9mZnNldDtlLmFkZEV2ZW50TGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsdC5oaWRlU2VsZWN0aW9uR3VhcmQ9ZnVuY3Rpb24oKXtuLmFuY2hvck5vZGU9PXImJm4uYW5jaG9yT2Zmc2V0PT1vfHwoZS5yZW1vdmVFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLHQuaGlkZVNlbGVjdGlvbkd1YXJkKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe0VyKHQpJiYhdC5zdGF0ZS5zZWxlY3Rpb24udmlzaWJsZXx8dC5kb20uY2xhc3NMaXN0LnJlbW92ZSgiUHJvc2VNaXJyb3ItaGlkZXNlbGVjdGlvbiIpfSksMjApKX0pfWZ1bmN0aW9uIFByKHQpe3ZhciBlPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxuPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCkscj10LmN1cnNvcldyYXBwZXIuZG9tLG89IklNRyI9PXIubm9kZU5hbWU7bz9uLnNldEVuZChyLnBhcmVudE5vZGUsYW4ocikrMSk6bi5zZXRFbmQociwwKSxuLmNvbGxhcHNlKCExKSxlLnJlbW92ZUFsbFJhbmdlcygpLGUuYWRkUmFuZ2UobiksIW8mJiF0LnN0YXRlLnNlbGVjdGlvbi52aXNpYmxlJiZ0bi5pZSYmdG4uaWVfdmVyc2lvbjw9MTEmJihyLmRpc2FibGVkPSEwLHIuZGlzYWJsZWQ9ITEpfWZ1bmN0aW9uICRyKHQsZSl7aWYoZSBpbnN0YW5jZW9mIF9lKXt2YXIgbj10LmRvY1ZpZXcuZGVzY0F0KGUuZnJvbSk7biE9dC5sYXN0U2VsZWN0ZWRWaWV3RGVzYyYmKEJyKHQpLG4mJm4uc2VsZWN0Tm9kZSgpLHQubGFzdFNlbGVjdGVkVmlld0Rlc2M9bil9ZWxzZSBCcih0KX1mdW5jdGlvbiBCcih0KXt0Lmxhc3RTZWxlY3RlZFZpZXdEZXNjJiYodC5sYXN0U2VsZWN0ZWRWaWV3RGVzYy5wYXJlbnQmJnQubGFzdFNlbGVjdGVkVmlld0Rlc2MuZGVzZWxlY3ROb2RlKCksdC5sYXN0U2VsZWN0ZWRWaWV3RGVzYz1udWxsKX1mdW5jdGlvbiBWcih0LGUsbixyKXtyZXR1cm4gdC5zb21lUHJvcCgiY3JlYXRlU2VsZWN0aW9uQmV0d2VlbiIsKGZ1bmN0aW9uKHIpe3JldHVybiByKHQsZSxuKX0pKXx8VGUuYmV0d2VlbihlLG4scil9ZnVuY3Rpb24ganIodCl7cmV0dXJuKCF0LmVkaXRhYmxlfHx0LnJvb3QuYWN0aXZlRWxlbWVudD09dC5kb20pJiZMcih0KX1mdW5jdGlvbiBMcih0KXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCk7aWYoIWUuYW5jaG9yTm9kZSlyZXR1cm4hMTt0cnl7cmV0dXJuIHQuZG9tLmNvbnRhaW5zKDM9PWUuYW5jaG9yTm9kZS5ub2RlVHlwZT9lLmFuY2hvck5vZGUucGFyZW50Tm9kZTplLmFuY2hvck5vZGUpJiYodC5lZGl0YWJsZXx8dC5kb20uY29udGFpbnMoMz09ZS5mb2N1c05vZGUubm9kZVR5cGU/ZS5mb2N1c05vZGUucGFyZW50Tm9kZTplLmZvY3VzTm9kZSkpfWNhdGNoKG4pe3JldHVybiExfX1mdW5jdGlvbiBGcih0KXt2YXIgZT10LmRvY1ZpZXcuZG9tRnJvbVBvcyh0LnN0YXRlLnNlbGVjdGlvbi5hbmNob3IsMCksbj10LnJvb3QuZ2V0U2VsZWN0aW9uKCk7cmV0dXJuIHBuKGUubm9kZSxlLm9mZnNldCxuLmFuY2hvck5vZGUsbi5hbmNob3JPZmZzZXQpfWZ1bmN0aW9uIEhyKHQsZSl7dmFyIG49dC5zZWxlY3Rpb24scj1uLiRhbmNob3Isbz1uLiRoZWFkLGk9ZT4wP3IubWF4KG8pOnIubWluKG8pLHM9aS5wYXJlbnQuaW5saW5lQ29udGVudD9pLmRlcHRoP3QuZG9jLnJlc29sdmUoZT4wP2kuYWZ0ZXIoKTppLmJlZm9yZSgpKTpudWxsOmk7cmV0dXJuIHMmJkFlLmZpbmRGcm9tKHMsZSl9ZnVuY3Rpb24gSnIodCxlKXtyZXR1cm4gdC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldFNlbGVjdGlvbihlKS5zY3JvbGxJbnRvVmlldygpKSwhMH1mdW5jdGlvbiBXcih0LGUsbil7dmFyIHI9dC5zdGF0ZS5zZWxlY3Rpb247aWYoIShyIGluc3RhbmNlb2YgVGUpKXtpZihyIGluc3RhbmNlb2YgX2UmJnIubm9kZS5pc0lubGluZSlyZXR1cm4gSnIodCxuZXcgVGUoZT4wP3IuJHRvOnIuJGZyb20pKTt2YXIgbz1Icih0LnN0YXRlLGUpO3JldHVybiEhbyYmSnIodCxvKX1pZighci5lbXB0eXx8bi5pbmRleE9mKCJzIik+LTEpcmV0dXJuITE7aWYodC5lbmRPZlRleHRibG9jayhlPjA/InJpZ2h0IjoibGVmdCIpKXt2YXIgaT1Icih0LnN0YXRlLGUpO3JldHVybiEhKGkmJmkgaW5zdGFuY2VvZiBfZSkmJkpyKHQsaSl9aWYoISh0bi5tYWMmJm4uaW5kZXhPZigibSIpPi0xKSl7dmFyIHMsYT1yLiRoZWFkLGM9YS50ZXh0T2Zmc2V0P251bGw6ZTwwP2Eubm9kZUJlZm9yZTphLm5vZGVBZnRlcjtpZighY3x8Yy5pc1RleHQpcmV0dXJuITE7dmFyIGw9ZTwwP2EucG9zLWMubm9kZVNpemU6YS5wb3M7cmV0dXJuISEoYy5pc0F0b218fChzPXQuZG9jVmlldy5kZXNjQXQobCkpJiYhcy5jb250ZW50RE9NKSYmKF9lLmlzU2VsZWN0YWJsZShjKT9Kcih0LG5ldyBfZShlPDA/dC5zdGF0ZS5kb2MucmVzb2x2ZShhLnBvcy1jLm5vZGVTaXplKTphKSk6ISF0bi53ZWJraXQmJkpyKHQsbmV3IFRlKHQuc3RhdGUuZG9jLnJlc29sdmUoZTwwP2w6bCtjLm5vZGVTaXplKSkpKX19ZnVuY3Rpb24gcXIodCl7cmV0dXJuIDM9PXQubm9kZVR5cGU/dC5ub2RlVmFsdWUubGVuZ3RoOnQuY2hpbGROb2Rlcy5sZW5ndGh9ZnVuY3Rpb24gS3IodCl7dmFyIGU9dC5wbVZpZXdEZXNjO3JldHVybiBlJiYwPT1lLnNpemUmJih0Lm5leHRTaWJsaW5nfHwiQlIiIT10Lm5vZGVOYW1lKX1mdW5jdGlvbiBVcih0KXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj1lLmZvY3VzTm9kZSxyPWUuZm9jdXNPZmZzZXQ7aWYobil7dmFyIG8saSxzPSExO2Zvcih0bi5nZWNrbyYmMT09bi5ub2RlVHlwZSYmcjxxcihuKSYmS3Iobi5jaGlsZE5vZGVzW3JdKSYmKHM9ITApOzspaWYocj4wKXtpZigxIT1uLm5vZGVUeXBlKWJyZWFrO3ZhciBhPW4uY2hpbGROb2Rlc1tyLTFdO2lmKEtyKGEpKW89bixpPS0tcjtlbHNle2lmKDMhPWEubm9kZVR5cGUpYnJlYWs7bj1hLHI9bi5ub2RlVmFsdWUubGVuZ3RofX1lbHNle2lmKFhyKG4pKWJyZWFrO3ZhciBjPW4ucHJldmlvdXNTaWJsaW5nO3doaWxlKGMmJktyKGMpKW89bi5wYXJlbnROb2RlLGk9YW4oYyksYz1jLnByZXZpb3VzU2libGluZztpZihjKW49YyxyPXFyKG4pO2Vsc2V7aWYobj1uLnBhcmVudE5vZGUsbj09dC5kb20pYnJlYWs7cj0wfX1zP1lyKHQsZSxuLHIpOm8mJllyKHQsZSxvLGkpfX1mdW5jdGlvbiBHcih0KXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj1lLmZvY3VzTm9kZSxyPWUuZm9jdXNPZmZzZXQ7aWYobil7Zm9yKHZhciBvLGkscz1xcihuKTs7KWlmKHI8cyl7aWYoMSE9bi5ub2RlVHlwZSlicmVhazt2YXIgYT1uLmNoaWxkTm9kZXNbcl07aWYoIUtyKGEpKWJyZWFrO289bixpPSsrcn1lbHNle2lmKFhyKG4pKWJyZWFrO3ZhciBjPW4ubmV4dFNpYmxpbmc7d2hpbGUoYyYmS3IoYykpbz1jLnBhcmVudE5vZGUsaT1hbihjKSsxLGM9Yy5uZXh0U2libGluZztpZihjKW49YyxyPTAscz1xcihuKTtlbHNle2lmKG49bi5wYXJlbnROb2RlLG49PXQuZG9tKWJyZWFrO3I9cz0wfX1vJiZZcih0LGUsbyxpKX19ZnVuY3Rpb24gWHIodCl7dmFyIGU9dC5wbVZpZXdEZXNjO3JldHVybiBlJiZlLm5vZGUmJmUubm9kZS5pc0Jsb2NrfWZ1bmN0aW9uIFlyKHQsZSxuLHIpe2lmKGduKGUpKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO28uc2V0RW5kKG4sciksby5zZXRTdGFydChuLHIpLGUucmVtb3ZlQWxsUmFuZ2VzKCksZS5hZGRSYW5nZShvKX1lbHNlIGUuZXh0ZW5kJiZlLmV4dGVuZChuLHIpO3QuZG9tT2JzZXJ2ZXIuc2V0Q3VyU2VsZWN0aW9uKCk7dmFyIGk9dC5zdGF0ZTtzZXRUaW1lb3V0KChmdW5jdGlvbigpe3Quc3RhdGU9PWkmJlRyKHQpfSksNTApfWZ1bmN0aW9uIFpyKHQsZSxuKXt2YXIgcj10LnN0YXRlLnNlbGVjdGlvbjtpZihyIGluc3RhbmNlb2YgVGUmJiFyLmVtcHR5fHxuLmluZGV4T2YoInMiKT4tMSlyZXR1cm4hMTtpZih0bi5tYWMmJm4uaW5kZXhPZigibSIpPi0xKXJldHVybiExO3ZhciBvPXIuJGZyb20saT1yLiR0bztpZighby5wYXJlbnQuaW5saW5lQ29udGVudHx8dC5lbmRPZlRleHRibG9jayhlPDA/InVwIjoiZG93biIpKXt2YXIgcz1Icih0LnN0YXRlLGUpO2lmKHMmJnMgaW5zdGFuY2VvZiBfZSlyZXR1cm4gSnIodCxzKX1pZighby5wYXJlbnQuaW5saW5lQ29udGVudCl7dmFyIGE9ZTwwP286aSxjPXIgaW5zdGFuY2VvZiB6ZT9BZS5uZWFyKGEsZSk6QWUuZmluZEZyb20oYSxlKTtyZXR1cm4hIWMmJkpyKHQsYyl9cmV0dXJuITF9ZnVuY3Rpb24gUXIodCxlKXtpZighKHQuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgVGUpKXJldHVybiEwO3ZhciBuPXQuc3RhdGUuc2VsZWN0aW9uLHI9bi4kaGVhZCxvPW4uJGFuY2hvcixpPW4uZW1wdHk7aWYoIXIuc2FtZVBhcmVudChvKSlyZXR1cm4hMDtpZighaSlyZXR1cm4hMTtpZih0LmVuZE9mVGV4dGJsb2NrKGU+MD8iZm9yd2FyZCI6ImJhY2t3YXJkIikpcmV0dXJuITA7dmFyIHM9IXIudGV4dE9mZnNldCYmKGU8MD9yLm5vZGVCZWZvcmU6ci5ub2RlQWZ0ZXIpO2lmKHMmJiFzLmlzVGV4dCl7dmFyIGE9dC5zdGF0ZS50cjtyZXR1cm4gZTwwP2EuZGVsZXRlKHIucG9zLXMubm9kZVNpemUsci5wb3MpOmEuZGVsZXRlKHIucG9zLHIucG9zK3Mubm9kZVNpemUpLHQuZGlzcGF0Y2goYSksITB9cmV0dXJuITF9ZnVuY3Rpb24gdG8odCxlLG4pe3QuZG9tT2JzZXJ2ZXIuc3RvcCgpLGUuY29udGVudEVkaXRhYmxlPW4sdC5kb21PYnNlcnZlci5zdGFydCgpfWZ1bmN0aW9uIGVvKHQpe2lmKHRuLnNhZmFyaSYmISh0LnN0YXRlLnNlbGVjdGlvbi4kaGVhZC5wYXJlbnRPZmZzZXQ+MCkpe3ZhciBlPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxuPWUuZm9jdXNOb2RlLHI9ZS5mb2N1c09mZnNldDtpZihuJiYxPT1uLm5vZGVUeXBlJiYwPT1yJiZuLmZpcnN0Q2hpbGQmJiJmYWxzZSI9PW4uZmlyc3RDaGlsZC5jb250ZW50RWRpdGFibGUpe3ZhciBvPW4uZmlyc3RDaGlsZDt0byh0LG8sITApLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHRvKHQsbywhMSl9KSwyMCl9fX1mdW5jdGlvbiBubyh0KXt2YXIgZT0iIjtyZXR1cm4gdC5jdHJsS2V5JiYoZSs9ImMiKSx0Lm1ldGFLZXkmJihlKz0ibSIpLHQuYWx0S2V5JiYoZSs9ImEiKSx0LnNoaWZ0S2V5JiYoZSs9InMiKSxlfWZ1bmN0aW9uIHJvKHQsZSl7dmFyIG49ZS5rZXlDb2RlLHI9bm8oZSk7cmV0dXJuIDg9PW58fHRuLm1hYyYmNzI9PW4mJiJjIj09cj9Rcih0LC0xKXx8VXIodCk6NDY9PW58fHRuLm1hYyYmNjg9PW4mJiJjIj09cj9Rcih0LDEpfHxHcih0KToxMz09bnx8Mjc9PW58fCgzNz09bj9Xcih0LC0xLHIpfHxVcih0KTozOT09bj9Xcih0LDEscil8fEdyKHQpOjM4PT1uP1pyKHQsLTEscil8fFVyKHQpOjQwPT1uP2VvKHQpfHxacih0LDEscil8fEdyKHQpOnI9PSh0bi5tYWM/Im0iOiJjIikmJig2Nj09bnx8NzM9PW58fDg5PT1ufHw5MD09bikpfWZ1bmN0aW9uIG9vKHQsZSxuKXt2YXIgcj10LmRvY1ZpZXcucGFyc2VSYW5nZShlLG4pLG89ci5ub2RlLGk9ci5mcm9tT2Zmc2V0LHM9ci50b09mZnNldCxhPXIuZnJvbSxjPXIudG8sbD10LnJvb3QuZ2V0U2VsZWN0aW9uKCksdT1udWxsLHA9bC5hbmNob3JOb2RlO2lmKHAmJnQuZG9tLmNvbnRhaW5zKDE9PXAubm9kZVR5cGU/cDpwLnBhcmVudE5vZGUpJiYodT1be25vZGU6cCxvZmZzZXQ6bC5hbmNob3JPZmZzZXR9XSxnbihsKXx8dS5wdXNoKHtub2RlOmwuZm9jdXNOb2RlLG9mZnNldDpsLmZvY3VzT2Zmc2V0fSkpLHRuLmNocm9tZSYmOD09PXQubGFzdEtleUNvZGUpZm9yKHZhciBoPXM7aD5pO2gtLSl7dmFyIGY9by5jaGlsZE5vZGVzW2gtMV0sZD1mLnBtVmlld0Rlc2M7aWYoIkJSIj09Zi5ub2RlTmFtZSYmIWQpe3M9aDticmVha31pZighZHx8ZC5zaXplKWJyZWFrfXZhciBtPXQuc3RhdGUuZG9jLHY9dC5zb21lUHJvcCgiZG9tUGFyc2VyIil8fHZ0LmZyb21TY2hlbWEodC5zdGF0ZS5zY2hlbWEpLGc9bS5yZXNvbHZlKGEpLHk9bnVsbCx3PXYucGFyc2Uobyx7dG9wTm9kZTpnLnBhcmVudCx0b3BNYXRjaDpnLnBhcmVudC5jb250ZW50TWF0Y2hBdChnLmluZGV4KCkpLHRvcE9wZW46ITAsZnJvbTppLHRvOnMscHJlc2VydmVXaGl0ZXNwYWNlOiFnLnBhcmVudC50eXBlLnNwZWMuY29kZXx8ImZ1bGwiLGVkaXRhYmxlQ29udGVudDohMCxmaW5kUG9zaXRpb25zOnUscnVsZUZyb21Ob2RlOmlvLGNvbnRleHQ6Z30pO2lmKHUmJm51bGwhPXVbMF0ucG9zKXt2YXIgYj11WzBdLnBvcyx4PXVbMV0mJnVbMV0ucG9zO251bGw9PXgmJih4PWIpLHk9e2FuY2hvcjpiK2EsaGVhZDp4K2F9fXJldHVybntkb2M6dyxzZWw6eSxmcm9tOmEsdG86Y319ZnVuY3Rpb24gaW8odCl7dmFyIGU9dC5wbVZpZXdEZXNjO2lmKGUpcmV0dXJuIGUucGFyc2VSdWxlKCk7aWYoIkJSIj09dC5ub2RlTmFtZSYmdC5wYXJlbnROb2RlKXtpZih0bi5zYWZhcmkmJi9eKHVsfG9sKSQvaS50ZXN0KHQucGFyZW50Tm9kZS5ub2RlTmFtZSkpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBuLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIikpLHtza2lwOm59fWlmKHQucGFyZW50Tm9kZS5sYXN0Q2hpbGQ9PXR8fHRuLnNhZmFyaSYmL14odHJ8dGFibGUpJC9pLnRlc3QodC5wYXJlbnROb2RlLm5vZGVOYW1lKSlyZXR1cm57aWdub3JlOiEwfX1lbHNlIGlmKCJJTUciPT10Lm5vZGVOYW1lJiZ0LmdldEF0dHJpYnV0ZSgibWFyay1wbGFjZWhvbGRlciIpKXJldHVybntpZ25vcmU6ITB9fWZ1bmN0aW9uIHNvKHQsZSxuLHIsbyl7aWYoZTwwKXt2YXIgaT10Lmxhc3RTZWxlY3Rpb25UaW1lPkRhdGUubm93KCktNTA/dC5sYXN0U2VsZWN0aW9uT3JpZ2luOm51bGwscz1Ocih0LGkpO2lmKHMmJiF0LnN0YXRlLnNlbGVjdGlvbi5lcShzKSl7dmFyIGE9dC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24ocyk7InBvaW50ZXIiPT1pP2Euc2V0TWV0YSgicG9pbnRlciIsITApOiJrZXkiPT1pJiZhLnNjcm9sbEludG9WaWV3KCksdC5kaXNwYXRjaChhKX19ZWxzZXt2YXIgYz10LnN0YXRlLmRvYy5yZXNvbHZlKGUpLGw9Yy5zaGFyZWREZXB0aChuKTtlPWMuYmVmb3JlKGwrMSksbj10LnN0YXRlLmRvYy5yZXNvbHZlKG4pLmFmdGVyKGwrMSk7dmFyIHU9dC5zdGF0ZS5zZWxlY3Rpb24scD1vbyh0LGUsbik7aWYodG4uY2hyb21lJiZ0LmN1cnNvcldyYXBwZXImJnAuc2VsJiZwLnNlbC5hbmNob3I9PXQuY3Vyc29yV3JhcHBlci5kZWNvLmZyb20pe3ZhciBoPXQuY3Vyc29yV3JhcHBlci5kZWNvLnR5cGUudG9ET00ubmV4dFNpYmxpbmcsZj1oJiZoLm5vZGVWYWx1ZT9oLm5vZGVWYWx1ZS5sZW5ndGg6MTtwLnNlbD17YW5jaG9yOnAuc2VsLmFuY2hvcitmLGhlYWQ6cC5zZWwuYW5jaG9yK2Z9fXZhciBkLG0sdj10LnN0YXRlLmRvYyxnPXYuc2xpY2UocC5mcm9tLHAudG8pOzg9PT10Lmxhc3RLZXlDb2RlJiZEYXRlLm5vdygpLTEwMDx0Lmxhc3RLZXlDb2RlVGltZT8oZD10LnN0YXRlLnNlbGVjdGlvbi50byxtPSJlbmQiKTooZD10LnN0YXRlLnNlbGVjdGlvbi5mcm9tLG09InN0YXJ0IiksdC5sYXN0S2V5Q29kZT1udWxsO3ZhciB5PXBvKGcuY29udGVudCxwLmRvYy5jb250ZW50LHAuZnJvbSxkLG0pO2lmKCF5KXtpZighKHImJnUgaW5zdGFuY2VvZiBUZSYmIXUuZW1wdHkmJnUuJGhlYWQuc2FtZVBhcmVudCh1LiRhbmNob3IpKXx8dC5jb21wb3Npbmd8fHAuc2VsJiZwLnNlbC5hbmNob3IhPXAuc2VsLmhlYWQpe2lmKCh0bi5pb3MmJnQubGFzdElPU0VudGVyPkRhdGUubm93KCktMjI1fHx0bi5hbmRyb2lkKSYmby5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4iRElWIj09dC5ub2RlTmFtZXx8IlAiPT10Lm5vZGVOYW1lfSkpJiZ0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCx5bigxMywiRW50ZXIiKSl9KSkpcmV0dXJuIHZvaWQodC5sYXN0SU9TRW50ZXI9MCk7aWYocC5zZWwpe3ZhciB3PWFvKHQsdC5zdGF0ZS5kb2MscC5zZWwpO3cmJiF3LmVxKHQuc3RhdGUuc2VsZWN0aW9uKSYmdC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldFNlbGVjdGlvbih3KSl9cmV0dXJufXk9e3N0YXJ0OnUuZnJvbSxlbmRBOnUudG8sZW5kQjp1LnRvfX10LmRvbUNoYW5nZUNvdW50KyssdC5zdGF0ZS5zZWxlY3Rpb24uZnJvbTx0LnN0YXRlLnNlbGVjdGlvbi50byYmeS5zdGFydD09eS5lbmRCJiZ0LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIFRlJiYoeS5zdGFydD50LnN0YXRlLnNlbGVjdGlvbi5mcm9tJiZ5LnN0YXJ0PD10LnN0YXRlLnNlbGVjdGlvbi5mcm9tKzI/eS5zdGFydD10LnN0YXRlLnNlbGVjdGlvbi5mcm9tOnkuZW5kQTx0LnN0YXRlLnNlbGVjdGlvbi50byYmeS5lbmRBPj10LnN0YXRlLnNlbGVjdGlvbi50by0yJiYoeS5lbmRCKz10LnN0YXRlLnNlbGVjdGlvbi50by15LmVuZEEseS5lbmRBPXQuc3RhdGUuc2VsZWN0aW9uLnRvKSksdG4uaWUmJnRuLmllX3ZlcnNpb248PTExJiZ5LmVuZEI9PXkuc3RhcnQrMSYmeS5lbmRBPT15LnN0YXJ0JiZ5LnN0YXJ0PnAuZnJvbSYmIiDCoCI9PXAuZG9jLnRleHRCZXR3ZWVuKHkuc3RhcnQtcC5mcm9tLTEseS5zdGFydC1wLmZyb20rMSkmJih5LnN0YXJ0LS0seS5lbmRBLS0seS5lbmRCLS0pO3ZhciBiLHg9cC5kb2MucmVzb2x2ZU5vQ2FjaGUoeS5zdGFydC1wLmZyb20pLGs9cC5kb2MucmVzb2x2ZU5vQ2FjaGUoeS5lbmRCLXAuZnJvbSksUz14LnNhbWVQYXJlbnQoaykmJngucGFyZW50LmlubGluZUNvbnRlbnQ7aWYoKHRuLmlvcyYmdC5sYXN0SU9TRW50ZXI+RGF0ZS5ub3coKS0yMjUmJighU3x8by5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4iRElWIj09dC5ub2RlTmFtZXx8IlAiPT10Lm5vZGVOYW1lfSkpKXx8IVMmJngucG9zPHAuZG9jLmNvbnRlbnQuc2l6ZSYmKGI9QWUuZmluZEZyb20ocC5kb2MucmVzb2x2ZSh4LnBvcysxKSwxLCEwKSkmJmIuaGVhZD09ay5wb3MpJiZ0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCx5bigxMywiRW50ZXIiKSl9KSkpdC5sYXN0SU9TRW50ZXI9MDtlbHNlIGlmKHQuc3RhdGUuc2VsZWN0aW9uLmFuY2hvcj55LnN0YXJ0JiZsbyh2LHkuc3RhcnQseS5lbmRBLHgsaykmJnQuc29tZVByb3AoImhhbmRsZUtleURvd24iLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0LHluKDgsIkJhY2tzcGFjZSIpKX0pKSl0bi5hbmRyb2lkJiZ0bi5jaHJvbWUmJnQuZG9tT2JzZXJ2ZXIuc3VwcHJlc3NTZWxlY3Rpb25VcGRhdGVzKCk7ZWxzZXt0bi5jaHJvbWUmJnRuLmFuZHJvaWQmJnkudG9CPT15LmZyb20mJih0Lmxhc3RBbmRyb2lkRGVsZXRlPURhdGUubm93KCkpLHRuLmFuZHJvaWQmJiFTJiZ4LnN0YXJ0KCkhPWsuc3RhcnQoKSYmMD09ay5wYXJlbnRPZmZzZXQmJnguZGVwdGg9PWsuZGVwdGgmJnAuc2VsJiZwLnNlbC5hbmNob3I9PXAuc2VsLmhlYWQmJnAuc2VsLmhlYWQ9PXkuZW5kQSYmKHkuZW5kQi09MixrPXAuZG9jLnJlc29sdmVOb0NhY2hlKHkuZW5kQi1wLmZyb20pLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5zb21lUHJvcCgiaGFuZGxlS2V5RG93biIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQseW4oMTMsIkVudGVyIikpfSkpfSksMjApKTt2YXIgQyxNLE8sQSxOPXkuc3RhcnQsRT15LmVuZEE7aWYoUylpZih4LnBvcz09ay5wb3MpdG4uaWUmJnRuLmllX3ZlcnNpb248PTExJiYwPT14LnBhcmVudE9mZnNldCYmKHQuZG9tT2JzZXJ2ZXIuc3VwcHJlc3NTZWxlY3Rpb25VcGRhdGVzKCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gVHIodCl9KSwyMCkpLEM9dC5zdGF0ZS50ci5kZWxldGUoTixFKSxNPXYucmVzb2x2ZSh5LnN0YXJ0KS5tYXJrc0Fjcm9zcyh2LnJlc29sdmUoeS5lbmRBKSk7ZWxzZSBpZih5LmVuZEE9PXkuZW5kQiYmKEE9di5yZXNvbHZlKHkuc3RhcnQpKSYmKE89Y28oeC5wYXJlbnQuY29udGVudC5jdXQoeC5wYXJlbnRPZmZzZXQsay5wYXJlbnRPZmZzZXQpLEEucGFyZW50LmNvbnRlbnQuY3V0KEEucGFyZW50T2Zmc2V0LHkuZW5kQS1BLnN0YXJ0KCkpKSkpQz10LnN0YXRlLnRyLCJhZGQiPT1PLnR5cGU/Qy5hZGRNYXJrKE4sRSxPLm1hcmspOkMucmVtb3ZlTWFyayhOLEUsTy5tYXJrKTtlbHNlIGlmKHgucGFyZW50LmNoaWxkKHguaW5kZXgoKSkuaXNUZXh0JiZ4LmluZGV4KCk9PWsuaW5kZXgoKS0oay50ZXh0T2Zmc2V0PzA6MSkpe3ZhciBUPXgucGFyZW50LnRleHRCZXR3ZWVuKHgucGFyZW50T2Zmc2V0LGsucGFyZW50T2Zmc2V0KTtpZih0LnNvbWVQcm9wKCJoYW5kbGVUZXh0SW5wdXQiLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0LE4sRSxUKX0pKSlyZXR1cm47Qz10LnN0YXRlLnRyLmluc2VydFRleHQoVCxOLEUpfWlmKEN8fChDPXQuc3RhdGUudHIucmVwbGFjZShOLEUscC5kb2Muc2xpY2UoeS5zdGFydC1wLmZyb20seS5lbmRCLXAuZnJvbSkpKSxwLnNlbCl7dmFyIEQ9YW8odCxDLmRvYyxwLnNlbCk7RCYmISh0bi5jaHJvbWUmJnRuLmFuZHJvaWQmJnQuY29tcG9zaW5nJiZELmVtcHR5JiYoeS5zdGFydCE9eS5lbmRCfHx0Lmxhc3RBbmRyb2lkRGVsZXRlPERhdGUubm93KCktMTAwKSYmKEQuaGVhZD09Tnx8RC5oZWFkPT1DLm1hcHBpbmcubWFwKEUpLTEpfHx0bi5pZSYmRC5lbXB0eSYmRC5oZWFkPT1OKSYmQy5zZXRTZWxlY3Rpb24oRCl9TSYmQy5lbnN1cmVNYXJrcyhNKSx0LmRpc3BhdGNoKEMuc2Nyb2xsSW50b1ZpZXcoKSl9fX1mdW5jdGlvbiBhbyh0LGUsbil7cmV0dXJuIE1hdGgubWF4KG4uYW5jaG9yLG4uaGVhZCk+ZS5jb250ZW50LnNpemU/bnVsbDpWcih0LGUucmVzb2x2ZShuLmFuY2hvciksZS5yZXNvbHZlKG4uaGVhZCkpfWZ1bmN0aW9uIGNvKHQsZSl7Zm9yKHZhciBuLHIsbyxpPXQuZmlyc3RDaGlsZC5tYXJrcyxzPWUuZmlyc3RDaGlsZC5tYXJrcyxhPWksYz1zLGw9MDtsPHMubGVuZ3RoO2wrKylhPXNbbF0ucmVtb3ZlRnJvbVNldChhKTtmb3IodmFyIHU9MDt1PGkubGVuZ3RoO3UrKyljPWlbdV0ucmVtb3ZlRnJvbVNldChjKTtpZigxPT1hLmxlbmd0aCYmMD09Yy5sZW5ndGgpcj1hWzBdLG49ImFkZCIsbz1mdW5jdGlvbih0KXtyZXR1cm4gdC5tYXJrKHIuYWRkVG9TZXQodC5tYXJrcykpfTtlbHNle2lmKDAhPWEubGVuZ3RofHwxIT1jLmxlbmd0aClyZXR1cm4gbnVsbDtyPWNbMF0sbj0icmVtb3ZlIixvPWZ1bmN0aW9uKHQpe3JldHVybiB0Lm1hcmsoci5yZW1vdmVGcm9tU2V0KHQubWFya3MpKX19Zm9yKHZhciBoPVtdLGY9MDtmPGUuY2hpbGRDb3VudDtmKyspaC5wdXNoKG8oZS5jaGlsZChmKSkpO2lmKHAuZnJvbShoKS5lcSh0KSlyZXR1cm57bWFyazpyLHR5cGU6bn19ZnVuY3Rpb24gbG8odCxlLG4scixvKXtpZighci5wYXJlbnQuaXNUZXh0YmxvY2t8fG4tZTw9by5wb3Mtci5wb3N8fHVvKHIsITAsITEpPG8ucG9zKXJldHVybiExO3ZhciBpPXQucmVzb2x2ZShlKTtpZihpLnBhcmVudE9mZnNldDxpLnBhcmVudC5jb250ZW50LnNpemV8fCFpLnBhcmVudC5pc1RleHRibG9jaylyZXR1cm4hMTt2YXIgcz10LnJlc29sdmUodW8oaSwhMCwhMCkpO3JldHVybiEoIXMucGFyZW50LmlzVGV4dGJsb2NrfHxzLnBvcz5ufHx1byhzLCEwLCExKTxuKSYmci5wYXJlbnQuY29udGVudC5jdXQoci5wYXJlbnRPZmZzZXQpLmVxKHMucGFyZW50LmNvbnRlbnQpfWZ1bmN0aW9uIHVvKHQsZSxuKXt2YXIgcj10LmRlcHRoLG89ZT90LmVuZCgpOnQucG9zO3doaWxlKHI+MCYmKGV8fHQuaW5kZXhBZnRlcihyKT09dC5ub2RlKHIpLmNoaWxkQ291bnQpKXItLSxvKyssZT0hMTtpZihuKXt2YXIgaT10Lm5vZGUocikubWF5YmVDaGlsZCh0LmluZGV4QWZ0ZXIocikpO3doaWxlKGkmJiFpLmlzTGVhZilpPWkuZmlyc3RDaGlsZCxvKyt9cmV0dXJuIG99ZnVuY3Rpb24gcG8odCxlLG4scixvKXt2YXIgaT10LmZpbmREaWZmU3RhcnQoZSxuKTtpZihudWxsPT1pKXJldHVybiBudWxsO3ZhciBzPXQuZmluZERpZmZFbmQoZSxuK3Quc2l6ZSxuK2Uuc2l6ZSksYT1zLmEsYz1zLmI7aWYoImVuZCI9PW8pe3ZhciBsPU1hdGgubWF4KDAsaS1NYXRoLm1pbihhLGMpKTtyLT1hK2wtaX1pZihhPGkmJnQuc2l6ZTxlLnNpemUpe3ZhciB1PXI8PWkmJnI+PWE/aS1yOjA7aS09dSxjPWkrKGMtYSksYT1pfWVsc2UgaWYoYzxpKXt2YXIgcD1yPD1pJiZyPj1jP2ktcjowO2ktPXAsYT1pKyhhLWMpLGM9aX1yZXR1cm57c3RhcnQ6aSxlbmRBOmEsZW5kQjpjfX1mdW5jdGlvbiBobyh0LGUpe3ZhciBuPVtdLHI9ZS5jb250ZW50LG89ZS5vcGVuU3RhcnQsaT1lLm9wZW5FbmQ7d2hpbGUobz4xJiZpPjEmJjE9PXIuY2hpbGRDb3VudCYmMT09ci5maXJzdENoaWxkLmNoaWxkQ291bnQpe28tLSxpLS07dmFyIHM9ci5maXJzdENoaWxkO24ucHVzaChzLnR5cGUubmFtZSxzLmF0dHJzIT1zLnR5cGUuZGVmYXVsdEF0dHJzP3MuYXR0cnM6bnVsbCkscj1zLmNvbnRlbnR9dmFyIGE9dC5zb21lUHJvcCgiY2xpcGJvYXJkU2VyaWFsaXplciIpfHxfdC5mcm9tU2NoZW1hKHQuc3RhdGUuc2NoZW1hKSxjPVNvKCksbD1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2wuYXBwZW5kQ2hpbGQoYS5zZXJpYWxpemVGcmFnbWVudChyLHtkb2N1bWVudDpjfSkpO3ZhciB1LHA9bC5maXJzdENoaWxkO3doaWxlKHAmJjE9PXAubm9kZVR5cGUmJih1PXhvW3Aubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pKXtmb3IodmFyIGg9dS5sZW5ndGgtMTtoPj0wO2gtLSl7dmFyIGY9Yy5jcmVhdGVFbGVtZW50KHVbaF0pO3doaWxlKGwuZmlyc3RDaGlsZClmLmFwcGVuZENoaWxkKGwuZmlyc3RDaGlsZCk7bC5hcHBlbmRDaGlsZChmKX1wPWwuZmlyc3RDaGlsZH1wJiYxPT1wLm5vZGVUeXBlJiZwLnNldEF0dHJpYnV0ZSgiZGF0YS1wbS1zbGljZSIsbysiICIraSsiICIrSlNPTi5zdHJpbmdpZnkobikpO3ZhciBkPXQuc29tZVByb3AoImNsaXBib2FyZFRleHRTZXJpYWxpemVyIiwoZnVuY3Rpb24odCl7cmV0dXJuIHQoZSl9KSl8fGUuY29udGVudC50ZXh0QmV0d2VlbigwLGUuY29udGVudC5zaXplLCJcblxuIik7cmV0dXJue2RvbTpsLHRleHQ6ZH19ZnVuY3Rpb24gZm8odCxlLG4scixvKXt2YXIgaSxzLGE9by5wYXJlbnQudHlwZS5zcGVjLmNvZGU7aWYoIW4mJiFlKXJldHVybiBudWxsO3ZhciBjPWUmJihyfHxhfHwhbik7aWYoYyl7aWYodC5zb21lUHJvcCgidHJhbnNmb3JtUGFzdGVkVGV4dCIsKGZ1bmN0aW9uKHQpe2U9dChlLGF8fHIpfSkpLGEpcmV0dXJuIG5ldyB5KHAuZnJvbSh0LnN0YXRlLnNjaGVtYS50ZXh0KGUucmVwbGFjZSgvXHJcbj8vZywiXG4iKSkpLDAsMCk7dmFyIGw9dC5zb21lUHJvcCgiY2xpcGJvYXJkVGV4dFBhcnNlciIsKGZ1bmN0aW9uKHQpe3JldHVybiB0KGUsbyxyKX0pKTtsP3M9bDooaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxlLnRyaW0oKS5zcGxpdCgvKD86XHJcbj98XG4pKy8pLmZvckVhY2goKGZ1bmN0aW9uKHQpe2kuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpKS50ZXh0Q29udGVudD10fSkpKX1lbHNlIHQuc29tZVByb3AoInRyYW5zZm9ybVBhc3RlZEhUTUwiLChmdW5jdGlvbih0KXtuPXQobil9KSksaT1DbyhuKTt2YXIgdT1pJiZpLnF1ZXJ5U2VsZWN0b3IoIltkYXRhLXBtLXNsaWNlXSIpLGg9dSYmL14oXGQrKSAoXGQrKSAoLiopLy5leGVjKHUuZ2V0QXR0cmlidXRlKCJkYXRhLXBtLXNsaWNlIikpO2lmKCFzKXt2YXIgZj10LnNvbWVQcm9wKCJjbGlwYm9hcmRQYXJzZXIiKXx8dC5zb21lUHJvcCgiZG9tUGFyc2VyIil8fHZ0LmZyb21TY2hlbWEodC5zdGF0ZS5zY2hlbWEpO3M9Zi5wYXJzZVNsaWNlKGkse3ByZXNlcnZlV2hpdGVzcGFjZTohKCFjJiYhaCksY29udGV4dDpvfSl9cmV0dXJuIHM9aD9NbyhibyhzLCtoWzFdLCtoWzJdKSxoWzNdKTp5Lm1heE9wZW4obW8ocy5jb250ZW50LG8pLCExKSx0LnNvbWVQcm9wKCJ0cmFuc2Zvcm1QYXN0ZWQiLChmdW5jdGlvbih0KXtzPXQocyl9KSksc31mdW5jdGlvbiBtbyh0LGUpe2lmKHQuY2hpbGRDb3VudDwyKXJldHVybiB0O2Zvcih2YXIgbj1mdW5jdGlvbihuKXt2YXIgcj1lLm5vZGUobiksbz1yLmNvbnRlbnRNYXRjaEF0KGUuaW5kZXgobikpLGk9dm9pZCAwLHM9W107aWYodC5mb3JFYWNoKChmdW5jdGlvbih0KXtpZihzKXt2YXIgZSxuPW8uZmluZFdyYXBwaW5nKHQudHlwZSk7aWYoIW4pcmV0dXJuIHM9bnVsbDtpZihlPXMubGVuZ3RoJiZpLmxlbmd0aCYmZ28obixpLHQsc1tzLmxlbmd0aC0xXSwwKSlzW3MubGVuZ3RoLTFdPWU7ZWxzZXtzLmxlbmd0aCYmKHNbcy5sZW5ndGgtMV09eW8oc1tzLmxlbmd0aC0xXSxpLmxlbmd0aCkpO3ZhciByPXZvKHQsbik7cy5wdXNoKHIpLG89by5tYXRjaFR5cGUoci50eXBlLHIuYXR0cnMpLGk9bn19fSkpLHMpcmV0dXJue3Y6cC5mcm9tKHMpfX0scj1lLmRlcHRoO3I+PTA7ci0tKXt2YXIgbz1uKHIpO2lmKG8pcmV0dXJuIG8udn1yZXR1cm4gdH1mdW5jdGlvbiB2byh0LGUsbil7dm9pZCAwPT09biYmKG49MCk7Zm9yKHZhciByPWUubGVuZ3RoLTE7cj49bjtyLS0pdD1lW3JdLmNyZWF0ZShudWxsLHAuZnJvbSh0KSk7cmV0dXJuIHR9ZnVuY3Rpb24gZ28odCxlLG4scixvKXtpZihvPHQubGVuZ3RoJiZvPGUubGVuZ3RoJiZ0W29dPT1lW29dKXt2YXIgaT1nbyh0LGUsbixyLmxhc3RDaGlsZCxvKzEpO2lmKGkpcmV0dXJuIHIuY29weShyLmNvbnRlbnQucmVwbGFjZUNoaWxkKHIuY2hpbGRDb3VudC0xLGkpKTt2YXIgcz1yLmNvbnRlbnRNYXRjaEF0KHIuY2hpbGRDb3VudCk7aWYocy5tYXRjaFR5cGUobz09dC5sZW5ndGgtMT9uLnR5cGU6dFtvKzFdKSlyZXR1cm4gci5jb3B5KHIuY29udGVudC5hcHBlbmQocC5mcm9tKHZvKG4sdCxvKzEpKSkpfX1mdW5jdGlvbiB5byh0LGUpe2lmKDA9PWUpcmV0dXJuIHQ7dmFyIG49dC5jb250ZW50LnJlcGxhY2VDaGlsZCh0LmNoaWxkQ291bnQtMSx5byh0Lmxhc3RDaGlsZCxlLTEpKSxyPXQuY29udGVudE1hdGNoQXQodC5jaGlsZENvdW50KS5maWxsQmVmb3JlKHAuZW1wdHksITApO3JldHVybiB0LmNvcHkobi5hcHBlbmQocikpfWZ1bmN0aW9uIHdvKHQsZSxuLHIsbyxpKXt2YXIgcz1lPDA/dC5maXJzdENoaWxkOnQubGFzdENoaWxkLGE9cy5jb250ZW50O3JldHVybiBvPHItMSYmKGE9d28oYSxlLG4scixvKzEsaSkpLG8+PW4mJihhPWU8MD9zLmNvbnRlbnRNYXRjaEF0KDApLmZpbGxCZWZvcmUoYSx0LmNoaWxkQ291bnQ+MXx8aTw9bykuYXBwZW5kKGEpOmEuYXBwZW5kKHMuY29udGVudE1hdGNoQXQocy5jaGlsZENvdW50KS5maWxsQmVmb3JlKHAuZW1wdHksITApKSksdC5yZXBsYWNlQ2hpbGQoZTwwPzA6dC5jaGlsZENvdW50LTEscy5jb3B5KGEpKX1mdW5jdGlvbiBibyh0LGUsbil7cmV0dXJuIGU8dC5vcGVuU3RhcnQmJih0PW5ldyB5KHdvKHQuY29udGVudCwtMSxlLHQub3BlblN0YXJ0LDAsdC5vcGVuRW5kKSxlLHQub3BlbkVuZCkpLG48dC5vcGVuRW5kJiYodD1uZXcgeSh3byh0LmNvbnRlbnQsMSxuLHQub3BlbkVuZCwwLDApLHQub3BlblN0YXJ0LG4pKSx0fXZhciB4bz17dGhlYWQ6WyJ0YWJsZSJdLHRib2R5OlsidGFibGUiXSx0Zm9vdDpbInRhYmxlIl0sY2FwdGlvbjpbInRhYmxlIl0sY29sZ3JvdXA6WyJ0YWJsZSJdLGNvbDpbInRhYmxlIiwiY29sZ3JvdXAiXSx0cjpbInRhYmxlIiwidGJvZHkiXSx0ZDpbInRhYmxlIiwidGJvZHkiLCJ0ciJdLHRoOlsidGFibGUiLCJ0Ym9keSIsInRyIl19LGtvPW51bGw7ZnVuY3Rpb24gU28oKXtyZXR1cm4ga298fChrbz1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoInRpdGxlIikpfWZ1bmN0aW9uIENvKHQpe3ZhciBlPS9eKFxzKjxtZXRhIFtePl0qPikqLy5leGVjKHQpO2UmJih0PXQuc2xpY2UoZVswXS5sZW5ndGgpKTt2YXIgbixyPVNvKCkuY3JlYXRlRWxlbWVudCgiZGl2Iiksbz0vPChbYS16XVtePlxzXSspL2kuZXhlYyh0KTtpZigobj1vJiZ4b1tvWzFdLnRvTG93ZXJDYXNlKCldKSYmKHQ9bi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiI8Iit0KyI+In0pKS5qb2luKCIiKSt0K24ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4iPC8iK3QrIj4ifSkpLnJldmVyc2UoKS5qb2luKCIiKSksci5pbm5lckhUTUw9dCxuKWZvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXI9ci5xdWVyeVNlbGVjdG9yKG5baV0pfHxyO3JldHVybiByfWZ1bmN0aW9uIE1vKHQsZSl7aWYoIXQuc2l6ZSlyZXR1cm4gdDt2YXIgbixyPXQuY29udGVudC5maXJzdENoaWxkLnR5cGUuc2NoZW1hO3RyeXtuPUpTT04ucGFyc2UoZSl9Y2F0Y2gobCl7cmV0dXJuIHR9Zm9yKHZhciBvPXQuY29udGVudCxpPXQub3BlblN0YXJ0LHM9dC5vcGVuRW5kLGE9bi5sZW5ndGgtMjthPj0wO2EtPTIpe3ZhciBjPXIubm9kZXNbblthXV07aWYoIWN8fGMuaGFzUmVxdWlyZWRBdHRycygpKWJyZWFrO289cC5mcm9tKGMuY3JlYXRlKG5bYSsxXSxvKSksaSsrLHMrK31yZXR1cm4gbmV3IHkobyxpLHMpfXZhciBPbz17Y2hpbGRMaXN0OiEwLGNoYXJhY3RlckRhdGE6ITAsY2hhcmFjdGVyRGF0YU9sZFZhbHVlOiEwLGF0dHJpYnV0ZXM6ITAsYXR0cmlidXRlT2xkVmFsdWU6ITAsc3VidHJlZTohMH0sQW89dG4uaWUmJnRuLmllX3ZlcnNpb248PTExLE5vPWZ1bmN0aW9uKCl7dGhpcy5hbmNob3JOb2RlPXRoaXMuYW5jaG9yT2Zmc2V0PXRoaXMuZm9jdXNOb2RlPXRoaXMuZm9jdXNPZmZzZXQ9bnVsbH07Tm8ucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt0aGlzLmFuY2hvck5vZGU9dC5hbmNob3JOb2RlLHRoaXMuYW5jaG9yT2Zmc2V0PXQuYW5jaG9yT2Zmc2V0LHRoaXMuZm9jdXNOb2RlPXQuZm9jdXNOb2RlLHRoaXMuZm9jdXNPZmZzZXQ9dC5mb2N1c09mZnNldH0sTm8ucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0LmFuY2hvck5vZGU9PXRoaXMuYW5jaG9yTm9kZSYmdC5hbmNob3JPZmZzZXQ9PXRoaXMuYW5jaG9yT2Zmc2V0JiZ0LmZvY3VzTm9kZT09dGhpcy5mb2N1c05vZGUmJnQuZm9jdXNPZmZzZXQ9PXRoaXMuZm9jdXNPZmZzZXR9O3ZhciBFbz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy52aWV3PXQsdGhpcy5oYW5kbGVET01DaGFuZ2U9ZSx0aGlzLnF1ZXVlPVtdLHRoaXMuZmx1c2hpbmdTb29uPS0xLHRoaXMub2JzZXJ2ZXI9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXImJm5ldyB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcigoZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspbi5xdWV1ZS5wdXNoKHRbZV0pO3RuLmllJiZ0bi5pZV92ZXJzaW9uPD0xMSYmdC5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4iY2hpbGRMaXN0Ij09dC50eXBlJiZ0LnJlbW92ZWROb2Rlcy5sZW5ndGh8fCJjaGFyYWN0ZXJEYXRhIj09dC50eXBlJiZ0Lm9sZFZhbHVlLmxlbmd0aD50LnRhcmdldC5ub2RlVmFsdWUubGVuZ3RofSkpP24uZmx1c2hTb29uKCk6bi5mbHVzaCgpfSkpLHRoaXMuY3VycmVudFNlbGVjdGlvbj1uZXcgTm8sQW8mJih0aGlzLm9uQ2hhckRhdGE9ZnVuY3Rpb24odCl7bi5xdWV1ZS5wdXNoKHt0YXJnZXQ6dC50YXJnZXQsdHlwZToiY2hhcmFjdGVyRGF0YSIsb2xkVmFsdWU6dC5wcmV2VmFsdWV9KSxuLmZsdXNoU29vbigpfSksdGhpcy5vblNlbGVjdGlvbkNoYW5nZT10aGlzLm9uU2VsZWN0aW9uQ2hhbmdlLmJpbmQodGhpcyksdGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXM9ITF9O0VvLnByb3RvdHlwZS5mbHVzaFNvb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZmx1c2hpbmdTb29uPDAmJih0aGlzLmZsdXNoaW5nU29vbj13aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmZsdXNoaW5nU29vbj0tMSx0LmZsdXNoKCl9KSwyMCkpfSxFby5wcm90b3R5cGUuZm9yY2VGbHVzaD1mdW5jdGlvbigpe3RoaXMuZmx1c2hpbmdTb29uPi0xJiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLmZsdXNoaW5nU29vbiksdGhpcy5mbHVzaGluZ1Nvb249LTEsdGhpcy5mbHVzaCgpKX0sRW8ucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5vYnNlcnZlciYmdGhpcy5vYnNlcnZlci5vYnNlcnZlKHRoaXMudmlldy5kb20sT28pLEFvJiZ0aGlzLnZpZXcuZG9tLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcy5vbkNoYXJEYXRhKSx0aGlzLmNvbm5lY3RTZWxlY3Rpb24oKX0sRW8ucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMub2JzZXJ2ZXIpe3ZhciBlPXRoaXMub2JzZXJ2ZXIudGFrZVJlY29yZHMoKTtpZihlLmxlbmd0aCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdGhpcy5xdWV1ZS5wdXNoKGVbbl0pO3dpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0LmZsdXNoKCl9KSwyMCl9dGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCl9QW8mJnRoaXMudmlldy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIix0aGlzLm9uQ2hhckRhdGEpLHRoaXMuZGlzY29ubmVjdFNlbGVjdGlvbigpfSxFby5wcm90b3R5cGUuY29ubmVjdFNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMudmlldy5kb20ub3duZXJEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLHRoaXMub25TZWxlY3Rpb25DaGFuZ2UpfSxFby5wcm90b3R5cGUuZGlzY29ubmVjdFNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMudmlldy5kb20ub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLHRoaXMub25TZWxlY3Rpb25DaGFuZ2UpfSxFby5wcm90b3R5cGUuc3VwcHJlc3NTZWxlY3Rpb25VcGRhdGVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcz0hMCxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0LnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcz0hMX0pLDUwKX0sRW8ucHJvdG90eXBlLm9uU2VsZWN0aW9uQ2hhbmdlPWZ1bmN0aW9uKCl7aWYoanIodGhpcy52aWV3KSl7aWYodGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMpcmV0dXJuIFRyKHRoaXMudmlldyk7aWYodG4uaWUmJnRuLmllX3ZlcnNpb248PTExJiYhdGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbi5lbXB0eSl7dmFyIHQ9dGhpcy52aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKCk7aWYodC5mb2N1c05vZGUmJnBuKHQuZm9jdXNOb2RlLHQuZm9jdXNPZmZzZXQsdC5hbmNob3JOb2RlLHQuYW5jaG9yT2Zmc2V0KSlyZXR1cm4gdGhpcy5mbHVzaFNvb24oKX10aGlzLmZsdXNoKCl9fSxFby5wcm90b3R5cGUuc2V0Q3VyU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50U2VsZWN0aW9uLnNldCh0aGlzLnZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKSl9LEVvLnByb3RvdHlwZS5pZ25vcmVTZWxlY3Rpb25DaGFuZ2U9ZnVuY3Rpb24odCl7aWYoMD09dC5yYW5nZUNvdW50KXJldHVybiEwO3ZhciBlPXQuZ2V0UmFuZ2VBdCgwKS5jb21tb25BbmNlc3RvckNvbnRhaW5lcixuPXRoaXMudmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKGUpO3JldHVybiBuJiZuLmlnbm9yZU11dGF0aW9uKHt0eXBlOiJzZWxlY3Rpb24iLHRhcmdldDozPT1lLm5vZGVUeXBlP2UucGFyZW50Tm9kZTplfSk/KHRoaXMuc2V0Q3VyU2VsZWN0aW9uKCksITApOnZvaWQgMH0sRW8ucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7aWYodGhpcy52aWV3LmRvY1ZpZXcmJiEodGhpcy5mbHVzaGluZ1Nvb24+LTEpKXt2YXIgdD10aGlzLm9ic2VydmVyP3RoaXMub2JzZXJ2ZXIudGFrZVJlY29yZHMoKTpbXTt0aGlzLnF1ZXVlLmxlbmd0aCYmKHQ9dGhpcy5xdWV1ZS5jb25jYXQodCksdGhpcy5xdWV1ZS5sZW5ndGg9MCk7dmFyIGU9dGhpcy52aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj0hdGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMmJiF0aGlzLmN1cnJlbnRTZWxlY3Rpb24uZXEoZSkmJkxyKHRoaXMudmlldykmJiF0aGlzLmlnbm9yZVNlbGVjdGlvbkNoYW5nZShlKSxyPS0xLG89LTEsaT0hMSxzPVtdO2lmKHRoaXMudmlldy5lZGl0YWJsZSlmb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIGM9dGhpcy5yZWdpc3Rlck11dGF0aW9uKHRbYV0scyk7YyYmKHI9cjwwP2MuZnJvbTpNYXRoLm1pbihjLmZyb20sciksbz1vPDA/Yy50bzpNYXRoLm1heChjLnRvLG8pLGMudHlwZU92ZXImJihpPSEwKSl9aWYodG4uZ2Vja28mJnMubGVuZ3RoPjEpe3ZhciBsPXMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4iQlIiPT10Lm5vZGVOYW1lfSkpO2lmKDI9PWwubGVuZ3RoKXt2YXIgdT1sWzBdLHA9bFsxXTt1LnBhcmVudE5vZGUmJnUucGFyZW50Tm9kZS5wYXJlbnROb2RlPT1wLnBhcmVudE5vZGU/cC5yZW1vdmUoKTp1LnJlbW92ZSgpfX0ocj4tMXx8bikmJihyPi0xJiYodGhpcy52aWV3LmRvY1ZpZXcubWFya0RpcnR5KHIsbyksRG8odGhpcy52aWV3KSksdGhpcy5oYW5kbGVET01DaGFuZ2UocixvLGkscyksdGhpcy52aWV3LmRvY1ZpZXcuZGlydHk/dGhpcy52aWV3LnVwZGF0ZVN0YXRlKHRoaXMudmlldy5zdGF0ZSk6dGhpcy5jdXJyZW50U2VsZWN0aW9uLmVxKGUpfHxUcih0aGlzLnZpZXcpLHRoaXMuY3VycmVudFNlbGVjdGlvbi5zZXQoZSkpfX0sRW8ucHJvdG90eXBlLnJlZ2lzdGVyTXV0YXRpb249ZnVuY3Rpb24odCxlKXtpZihlLmluZGV4T2YodC50YXJnZXQpPi0xKXJldHVybiBudWxsO3ZhciBuPXRoaXMudmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKHQudGFyZ2V0KTtpZigiYXR0cmlidXRlcyI9PXQudHlwZSYmKG49PXRoaXMudmlldy5kb2NWaWV3fHwiY29udGVudGVkaXRhYmxlIj09dC5hdHRyaWJ1dGVOYW1lfHwic3R5bGUiPT10LmF0dHJpYnV0ZU5hbWUmJiF0Lm9sZFZhbHVlJiYhdC50YXJnZXQuZ2V0QXR0cmlidXRlKCJzdHlsZSIpKSlyZXR1cm4gbnVsbDtpZighbnx8bi5pZ25vcmVNdXRhdGlvbih0KSlyZXR1cm4gbnVsbDtpZigiY2hpbGRMaXN0Ij09dC50eXBlKXtmb3IodmFyIHI9MDtyPHQuYWRkZWROb2Rlcy5sZW5ndGg7cisrKWUucHVzaCh0LmFkZGVkTm9kZXNbcl0pO2lmKG4uY29udGVudERPTSYmbi5jb250ZW50RE9NIT1uLmRvbSYmIW4uY29udGVudERPTS5jb250YWlucyh0LnRhcmdldCkpcmV0dXJue2Zyb206bi5wb3NCZWZvcmUsdG86bi5wb3NBZnRlcn07dmFyIG89dC5wcmV2aW91c1NpYmxpbmcsaT10Lm5leHRTaWJsaW5nO2lmKHRuLmllJiZ0bi5pZV92ZXJzaW9uPD0xMSYmdC5hZGRlZE5vZGVzLmxlbmd0aClmb3IodmFyIHM9MDtzPHQuYWRkZWROb2Rlcy5sZW5ndGg7cysrKXt2YXIgYT10LmFkZGVkTm9kZXNbc10sYz1hLnByZXZpb3VzU2libGluZyxsPWEubmV4dFNpYmxpbmc7KCFjfHxBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHQuYWRkZWROb2RlcyxjKTwwKSYmKG89YyksKCFsfHxBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHQuYWRkZWROb2RlcyxsKTwwKSYmKGk9bCl9dmFyIHU9byYmby5wYXJlbnROb2RlPT10LnRhcmdldD9hbihvKSsxOjAscD1uLmxvY2FsUG9zRnJvbURPTSh0LnRhcmdldCx1LC0xKSxoPWkmJmkucGFyZW50Tm9kZT09dC50YXJnZXQ/YW4oaSk6dC50YXJnZXQuY2hpbGROb2Rlcy5sZW5ndGgsZj1uLmxvY2FsUG9zRnJvbURPTSh0LnRhcmdldCxoLDEpO3JldHVybntmcm9tOnAsdG86Zn19cmV0dXJuImF0dHJpYnV0ZXMiPT10LnR5cGU/e2Zyb206bi5wb3NBdFN0YXJ0LW4uYm9yZGVyLHRvOm4ucG9zQXRFbmQrbi5ib3JkZXJ9Ontmcm9tOm4ucG9zQXRTdGFydCx0bzpuLnBvc0F0RW5kLHR5cGVPdmVyOnQudGFyZ2V0Lm5vZGVWYWx1ZT09dC5vbGRWYWx1ZX19O3ZhciBUbz0hMTtmdW5jdGlvbiBEbyh0KXtUb3x8KFRvPSEwLCJub3JtYWwiPT1nZXRDb21wdXRlZFN0eWxlKHQuZG9tKS53aGl0ZVNwYWNlJiZjb25zb2xlWyJ3YXJuIl0oIlByb3NlTWlycm9yIGV4cGVjdHMgdGhlIENTUyB3aGl0ZS1zcGFjZSBwcm9wZXJ0eSB0byBiZSBzZXQsIHByZWZlcmFibHkgdG8gJ3ByZS13cmFwJy4gSXQgaXMgcmVjb21tZW5kZWQgdG8gbG9hZCBzdHlsZS9wcm9zZW1pcnJvci5jc3MgZnJvbSB0aGUgcHJvc2VtaXJyb3ItdmlldyBwYWNrYWdlLiIpKX12YXIgX289e30sUm89e307ZnVuY3Rpb24gem8odCl7dC5zaGlmdEtleT0hMSx0Lm1vdXNlRG93bj1udWxsLHQubGFzdEtleUNvZGU9bnVsbCx0Lmxhc3RLZXlDb2RlVGltZT0wLHQubGFzdENsaWNrPXt0aW1lOjAseDowLHk6MCx0eXBlOiIifSx0Lmxhc3RTZWxlY3Rpb25PcmlnaW49bnVsbCx0Lmxhc3RTZWxlY3Rpb25UaW1lPTAsdC5sYXN0SU9TRW50ZXI9MCx0Lmxhc3RJT1NFbnRlckZhbGxiYWNrVGltZW91dD1udWxsLHQubGFzdEFuZHJvaWREZWxldGU9MCx0LmNvbXBvc2luZz0hMSx0LmNvbXBvc2luZ1RpbWVvdXQ9bnVsbCx0LmNvbXBvc2l0aW9uTm9kZXM9W10sdC5jb21wb3NpdGlvbkVuZGVkQXQ9LTJlOCx0LmRvbU9ic2VydmVyPW5ldyBFbyh0LChmdW5jdGlvbihlLG4scixvKXtyZXR1cm4gc28odCxlLG4scixvKX0pKSx0LmRvbU9ic2VydmVyLnN0YXJ0KCksdC5kb21DaGFuZ2VDb3VudD0wLHQuZXZlbnRIYW5kbGVycz1PYmplY3QuY3JlYXRlKG51bGwpO3ZhciBlPWZ1bmN0aW9uKGUpe3ZhciBuPV9vW2VdO3QuZG9tLmFkZEV2ZW50TGlzdGVuZXIoZSx0LmV2ZW50SGFuZGxlcnNbZV09ZnVuY3Rpb24oZSl7IVZvKHQsZSl8fEJvKHQsZSl8fCF0LmVkaXRhYmxlJiZlLnR5cGUgaW4gUm98fG4odCxlKX0pfTtmb3IodmFyIG4gaW4gX28pZShuKTt0bi5zYWZhcmkmJnQuZG9tLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwoZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0pKSwkbyh0KX1mdW5jdGlvbiBJbyh0LGUpe3QubGFzdFNlbGVjdGlvbk9yaWdpbj1lLHQubGFzdFNlbGVjdGlvblRpbWU9RGF0ZS5ub3coKX1mdW5jdGlvbiBQbyh0KXtmb3IodmFyIGUgaW4gdC5kb21PYnNlcnZlci5zdG9wKCksdC5ldmVudEhhbmRsZXJzKXQuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0LmV2ZW50SGFuZGxlcnNbZV0pO2NsZWFyVGltZW91dCh0LmNvbXBvc2luZ1RpbWVvdXQpLGNsZWFyVGltZW91dCh0Lmxhc3RJT1NFbnRlckZhbGxiYWNrVGltZW91dCl9ZnVuY3Rpb24gJG8odCl7dC5zb21lUHJvcCgiaGFuZGxlRE9NRXZlbnRzIiwoZnVuY3Rpb24oZSl7Zm9yKHZhciBuIGluIGUpdC5ldmVudEhhbmRsZXJzW25dfHx0LmRvbS5hZGRFdmVudExpc3RlbmVyKG4sdC5ldmVudEhhbmRsZXJzW25dPWZ1bmN0aW9uKGUpe3JldHVybiBCbyh0LGUpfSl9KSl9ZnVuY3Rpb24gQm8odCxlKXtyZXR1cm4gdC5zb21lUHJvcCgiaGFuZGxlRE9NRXZlbnRzIiwoZnVuY3Rpb24obil7dmFyIHI9bltlLnR5cGVdO3JldHVybiEhciYmKHIodCxlKXx8ZS5kZWZhdWx0UHJldmVudGVkKX0pKX1mdW5jdGlvbiBWbyh0LGUpe2lmKCFlLmJ1YmJsZXMpcmV0dXJuITA7aWYoZS5kZWZhdWx0UHJldmVudGVkKXJldHVybiExO2Zvcih2YXIgbj1lLnRhcmdldDtuIT10LmRvbTtuPW4ucGFyZW50Tm9kZSlpZighbnx8MTE9PW4ubm9kZVR5cGV8fG4ucG1WaWV3RGVzYyYmbi5wbVZpZXdEZXNjLnN0b3BFdmVudChlKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBqbyh0LGUpe0JvKHQsZSl8fCFfb1tlLnR5cGVdfHwhdC5lZGl0YWJsZSYmZS50eXBlIGluIFJvfHxfb1tlLnR5cGVdKHQsZSl9ZnVuY3Rpb24gTG8odCl7cmV0dXJue2xlZnQ6dC5jbGllbnRYLHRvcDp0LmNsaWVudFl9fWZ1bmN0aW9uIEZvKHQsZSl7dmFyIG49ZS54LXQuY2xpZW50WCxyPWUueS10LmNsaWVudFk7cmV0dXJuIG4qbityKnI8MTAwfWZ1bmN0aW9uIEhvKHQsZSxuLHIsbyl7aWYoLTE9PXIpcmV0dXJuITE7Zm9yKHZhciBpPXQuc3RhdGUuZG9jLnJlc29sdmUocikscz1mdW5jdGlvbihyKXtpZih0LnNvbWVQcm9wKGUsKGZ1bmN0aW9uKGUpe3JldHVybiByPmkuZGVwdGg/ZSh0LG4saS5ub2RlQWZ0ZXIsaS5iZWZvcmUociksbywhMCk6ZSh0LG4saS5ub2RlKHIpLGkuYmVmb3JlKHIpLG8sITEpfSkpKXJldHVybnt2OiEwfX0sYT1pLmRlcHRoKzE7YT4wO2EtLSl7dmFyIGM9cyhhKTtpZihjKXJldHVybiBjLnZ9cmV0dXJuITF9ZnVuY3Rpb24gSm8odCxlLG4pe3QuZm9jdXNlZHx8dC5mb2N1cygpO3ZhciByPXQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKGUpOyJwb2ludGVyIj09biYmci5zZXRNZXRhKCJwb2ludGVyIiwhMCksdC5kaXNwYXRjaChyKX1mdW5jdGlvbiBXbyh0LGUpe2lmKC0xPT1lKXJldHVybiExO3ZhciBuPXQuc3RhdGUuZG9jLnJlc29sdmUoZSkscj1uLm5vZGVBZnRlcjtyZXR1cm4hIShyJiZyLmlzQXRvbSYmX2UuaXNTZWxlY3RhYmxlKHIpKSYmKEpvKHQsbmV3IF9lKG4pLCJwb2ludGVyIiksITApfWZ1bmN0aW9uIHFvKHQsZSl7aWYoLTE9PWUpcmV0dXJuITE7dmFyIG4scixvPXQuc3RhdGUuc2VsZWN0aW9uO28gaW5zdGFuY2VvZiBfZSYmKG49by5ub2RlKTtmb3IodmFyIGk9dC5zdGF0ZS5kb2MucmVzb2x2ZShlKSxzPWkuZGVwdGgrMTtzPjA7cy0tKXt2YXIgYT1zPmkuZGVwdGg/aS5ub2RlQWZ0ZXI6aS5ub2RlKHMpO2lmKF9lLmlzU2VsZWN0YWJsZShhKSl7cj1uJiZvLiRmcm9tLmRlcHRoPjAmJnM+PW8uJGZyb20uZGVwdGgmJmkuYmVmb3JlKG8uJGZyb20uZGVwdGgrMSk9PW8uJGZyb20ucG9zP2kuYmVmb3JlKG8uJGZyb20uZGVwdGgpOmkuYmVmb3JlKHMpO2JyZWFrfX1yZXR1cm4gbnVsbCE9ciYmKEpvKHQsX2UuY3JlYXRlKHQuc3RhdGUuZG9jLHIpLCJwb2ludGVyIiksITApfWZ1bmN0aW9uIEtvKHQsZSxuLHIsbyl7cmV0dXJuIEhvKHQsImhhbmRsZUNsaWNrT24iLGUsbixyKXx8dC5zb21lUHJvcCgiaGFuZGxlQ2xpY2siLChmdW5jdGlvbihuKXtyZXR1cm4gbih0LGUscil9KSl8fChvP3FvKHQsbik6V28odCxuKSl9ZnVuY3Rpb24gVW8odCxlLG4scil7cmV0dXJuIEhvKHQsImhhbmRsZURvdWJsZUNsaWNrT24iLGUsbixyKXx8dC5zb21lUHJvcCgiaGFuZGxlRG91YmxlQ2xpY2siLChmdW5jdGlvbihuKXtyZXR1cm4gbih0LGUscil9KSl9ZnVuY3Rpb24gR28odCxlLG4scil7cmV0dXJuIEhvKHQsImhhbmRsZVRyaXBsZUNsaWNrT24iLGUsbixyKXx8dC5zb21lUHJvcCgiaGFuZGxlVHJpcGxlQ2xpY2siLChmdW5jdGlvbihuKXtyZXR1cm4gbih0LGUscil9KSl8fFhvKHQsbil9ZnVuY3Rpb24gWG8odCxlKXt2YXIgbj10LnN0YXRlLmRvYztpZigtMT09ZSlyZXR1cm4hIW4uaW5saW5lQ29udGVudCYmKEpvKHQsVGUuY3JlYXRlKG4sMCxuLmNvbnRlbnQuc2l6ZSksInBvaW50ZXIiKSwhMCk7Zm9yKHZhciByPW4ucmVzb2x2ZShlKSxvPXIuZGVwdGgrMTtvPjA7by0tKXt2YXIgaT1vPnIuZGVwdGg/ci5ub2RlQWZ0ZXI6ci5ub2RlKG8pLHM9ci5iZWZvcmUobyk7aWYoaS5pbmxpbmVDb250ZW50KUpvKHQsVGUuY3JlYXRlKG4scysxLHMrMStpLmNvbnRlbnQuc2l6ZSksInBvaW50ZXIiKTtlbHNle2lmKCFfZS5pc1NlbGVjdGFibGUoaSkpY29udGludWU7Sm8odCxfZS5jcmVhdGUobixzKSwicG9pbnRlciIpfXJldHVybiEwfX1mdW5jdGlvbiBZbyh0KXtyZXR1cm4gb2kodCl9Um8ua2V5ZG93bj1mdW5jdGlvbih0LGUpe2lmKHQuc2hpZnRLZXk9MTY9PWUua2V5Q29kZXx8ZS5zaGlmdEtleSwhdGkodCxlKSlpZih0LmRvbU9ic2VydmVyLmZvcmNlRmx1c2goKSx0Lmxhc3RLZXlDb2RlPWUua2V5Q29kZSx0Lmxhc3RLZXlDb2RlVGltZT1EYXRlLm5vdygpLCF0bi5pb3N8fDEzIT1lLmtleUNvZGV8fGUuY3RybEtleXx8ZS5hbHRLZXl8fGUubWV0YUtleSl0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlKX0pKXx8cm8odCxlKT9lLnByZXZlbnREZWZhdWx0KCk6SW8odCwia2V5Iik7ZWxzZXt2YXIgbj1EYXRlLm5vdygpO3QubGFzdElPU0VudGVyPW4sdC5sYXN0SU9TRW50ZXJGYWxsYmFja1RpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0Lmxhc3RJT1NFbnRlcj09biYmKHQuc29tZVByb3AoImhhbmRsZUtleURvd24iLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0LHluKDEzLCJFbnRlciIpKX0pKSx0Lmxhc3RJT1NFbnRlcj0wKX0pLDIwMCl9fSxSby5rZXl1cD1mdW5jdGlvbih0LGUpezE2PT1lLmtleUNvZGUmJih0LnNoaWZ0S2V5PSExKX0sUm8ua2V5cHJlc3M9ZnVuY3Rpb24odCxlKXtpZighKHRpKHQsZSl8fCFlLmNoYXJDb2RlfHxlLmN0cmxLZXkmJiFlLmFsdEtleXx8dG4ubWFjJiZlLm1ldGFLZXkpKWlmKHQuc29tZVByb3AoImhhbmRsZUtleVByZXNzIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlKX0pKSllLnByZXZlbnREZWZhdWx0KCk7ZWxzZXt2YXIgbj10LnN0YXRlLnNlbGVjdGlvbjtpZighKG4gaW5zdGFuY2VvZiBUZSl8fCFuLiRmcm9tLnNhbWVQYXJlbnQobi4kdG8pKXt2YXIgcj1TdHJpbmcuZnJvbUNoYXJDb2RlKGUuY2hhckNvZGUpO3Quc29tZVByb3AoImhhbmRsZVRleHRJbnB1dCIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQsbi4kZnJvbS5wb3Msbi4kdG8ucG9zLHIpfSkpfHx0LmRpc3BhdGNoKHQuc3RhdGUudHIuaW5zZXJ0VGV4dChyKS5zY3JvbGxJbnRvVmlldygpKSxlLnByZXZlbnREZWZhdWx0KCl9fX07dmFyIFpvPXRuLm1hYz8ibWV0YUtleSI6ImN0cmxLZXkiO19vLm1vdXNlZG93bj1mdW5jdGlvbih0LGUpe3Quc2hpZnRLZXk9ZS5zaGlmdEtleTt2YXIgbj1Zbyh0KSxyPURhdGUubm93KCksbz0ic2luZ2xlQ2xpY2siO3ItdC5sYXN0Q2xpY2sudGltZTw1MDAmJkZvKGUsdC5sYXN0Q2xpY2spJiYhZVtab10mJigic2luZ2xlQ2xpY2siPT10Lmxhc3RDbGljay50eXBlP289ImRvdWJsZUNsaWNrIjoiZG91YmxlQ2xpY2siPT10Lmxhc3RDbGljay50eXBlJiYobz0idHJpcGxlQ2xpY2siKSksdC5sYXN0Q2xpY2s9e3RpbWU6cix4OmUuY2xpZW50WCx5OmUuY2xpZW50WSx0eXBlOm99O3ZhciBpPXQucG9zQXRDb29yZHMoTG8oZSkpO2kmJigic2luZ2xlQ2xpY2siPT1vPyh0Lm1vdXNlRG93biYmdC5tb3VzZURvd24uZG9uZSgpLHQubW91c2VEb3duPW5ldyBRbyh0LGksZSxuKSk6KCJkb3VibGVDbGljayI9PW8/VW86R28pKHQsaS5wb3MsaS5pbnNpZGUsZSk/ZS5wcmV2ZW50RGVmYXVsdCgpOklvKHQsInBvaW50ZXIiKSl9O3ZhciBRbz1mdW5jdGlvbih0LGUsbixyKXt2YXIgbyxpLHM9dGhpcztpZih0aGlzLnZpZXc9dCx0aGlzLnN0YXJ0RG9jPXQuc3RhdGUuZG9jLHRoaXMucG9zPWUsdGhpcy5ldmVudD1uLHRoaXMuZmx1c2hlZD1yLHRoaXMuc2VsZWN0Tm9kZT1uW1pvXSx0aGlzLmFsbG93RGVmYXVsdD1uLnNoaWZ0S2V5LGUuaW5zaWRlPi0xKW89dC5zdGF0ZS5kb2Mubm9kZUF0KGUuaW5zaWRlKSxpPWUuaW5zaWRlO2Vsc2V7dmFyIGE9dC5zdGF0ZS5kb2MucmVzb2x2ZShlLnBvcyk7bz1hLnBhcmVudCxpPWEuZGVwdGg/YS5iZWZvcmUoKTowfXRoaXMubWlnaHREcmFnPW51bGw7dmFyIGM9cj9udWxsOm4udGFyZ2V0LGw9Yz90LmRvY1ZpZXcubmVhcmVzdERlc2MoYywhMCk6bnVsbDt0aGlzLnRhcmdldD1sP2wuZG9tOm51bGw7dmFyIHU9dC5zdGF0ZSxwPXUuc2VsZWN0aW9uOyhvLnR5cGUuc3BlYy5kcmFnZ2FibGUmJiExIT09by50eXBlLnNwZWMuc2VsZWN0YWJsZXx8cCBpbnN0YW5jZW9mIF9lJiZwLmZyb208PWkmJnAudG8+aSkmJih0aGlzLm1pZ2h0RHJhZz17bm9kZTpvLHBvczppLGFkZEF0dHI6dGhpcy50YXJnZXQmJiF0aGlzLnRhcmdldC5kcmFnZ2FibGUsc2V0VW5lZGl0YWJsZTp0aGlzLnRhcmdldCYmdG4uZ2Vja28mJiF0aGlzLnRhcmdldC5oYXNBdHRyaWJ1dGUoImNvbnRlbnRFZGl0YWJsZSIpfSksdGhpcy50YXJnZXQmJnRoaXMubWlnaHREcmFnJiYodGhpcy5taWdodERyYWcuYWRkQXR0cnx8dGhpcy5taWdodERyYWcuc2V0VW5lZGl0YWJsZSkmJih0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RvcCgpLHRoaXMubWlnaHREcmFnLmFkZEF0dHImJih0aGlzLnRhcmdldC5kcmFnZ2FibGU9ITApLHRoaXMubWlnaHREcmFnLnNldFVuZWRpdGFibGUmJnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cy52aWV3Lm1vdXNlRG93bj09cyYmcy50YXJnZXQuc2V0QXR0cmlidXRlKCJjb250ZW50RWRpdGFibGUiLCJmYWxzZSIpfSksMjApLHRoaXMudmlldy5kb21PYnNlcnZlci5zdGFydCgpKSx0LnJvb3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsdGhpcy51cD10aGlzLnVwLmJpbmQodGhpcykpLHQucm9vdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLHRoaXMubW92ZT10aGlzLm1vdmUuYmluZCh0aGlzKSksSW8odCwicG9pbnRlciIpfTtmdW5jdGlvbiB0aSh0LGUpe3JldHVybiEhdC5jb21wb3Npbmd8fCEhKHRuLnNhZmFyaSYmTWF0aC5hYnMoZS50aW1lU3RhbXAtdC5jb21wb3NpdGlvbkVuZGVkQXQpPDUwMCkmJih0LmNvbXBvc2l0aW9uRW5kZWRBdD0tMmU4LCEwKX1Rby5wcm90b3R5cGUuZG9uZT1mdW5jdGlvbigpe3RoaXMudmlldy5yb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLHRoaXMudXApLHRoaXMudmlldy5yb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsdGhpcy5tb3ZlKSx0aGlzLm1pZ2h0RHJhZyYmdGhpcy50YXJnZXQmJih0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RvcCgpLHRoaXMubWlnaHREcmFnLmFkZEF0dHImJnRoaXMudGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZSgiZHJhZ2dhYmxlIiksdGhpcy5taWdodERyYWcuc2V0VW5lZGl0YWJsZSYmdGhpcy50YXJnZXQucmVtb3ZlQXR0cmlidXRlKCJjb250ZW50RWRpdGFibGUiKSx0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RhcnQoKSksdGhpcy52aWV3Lm1vdXNlRG93bj1udWxsfSxRby5wcm90b3R5cGUudXA9ZnVuY3Rpb24odCl7aWYodGhpcy5kb25lKCksdGhpcy52aWV3LmRvbS5jb250YWlucygzPT10LnRhcmdldC5ub2RlVHlwZT90LnRhcmdldC5wYXJlbnROb2RlOnQudGFyZ2V0KSl7dmFyIGU9dGhpcy5wb3M7dGhpcy52aWV3LnN0YXRlLmRvYyE9dGhpcy5zdGFydERvYyYmKGU9dGhpcy52aWV3LnBvc0F0Q29vcmRzKExvKHQpKSksdGhpcy5hbGxvd0RlZmF1bHR8fCFlP0lvKHRoaXMudmlldywicG9pbnRlciIpOktvKHRoaXMudmlldyxlLnBvcyxlLmluc2lkZSx0LHRoaXMuc2VsZWN0Tm9kZSk/dC5wcmV2ZW50RGVmYXVsdCgpOnRoaXMuZmx1c2hlZHx8dG4uc2FmYXJpJiZ0aGlzLm1pZ2h0RHJhZyYmIXRoaXMubWlnaHREcmFnLm5vZGUuaXNBdG9tfHx0bi5jaHJvbWUmJiEodGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIFRlKSYmTWF0aC5taW4oTWF0aC5hYnMoZS5wb3MtdGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbi5mcm9tKSxNYXRoLmFicyhlLnBvcy10aGlzLnZpZXcuc3RhdGUuc2VsZWN0aW9uLnRvKSk8PTI/KEpvKHRoaXMudmlldyxBZS5uZWFyKHRoaXMudmlldy5zdGF0ZS5kb2MucmVzb2x2ZShlLnBvcykpLCJwb2ludGVyIiksdC5wcmV2ZW50RGVmYXVsdCgpKTpJbyh0aGlzLnZpZXcsInBvaW50ZXIiKX19LFFvLnByb3RvdHlwZS5tb3ZlPWZ1bmN0aW9uKHQpeyF0aGlzLmFsbG93RGVmYXVsdCYmKE1hdGguYWJzKHRoaXMuZXZlbnQueC10LmNsaWVudFgpPjR8fE1hdGguYWJzKHRoaXMuZXZlbnQueS10LmNsaWVudFkpPjQpJiYodGhpcy5hbGxvd0RlZmF1bHQ9ITApLElvKHRoaXMudmlldywicG9pbnRlciIpLDA9PXQuYnV0dG9ucyYmdGhpcy5kb25lKCl9LF9vLnRvdWNoZG93bj1mdW5jdGlvbih0KXtZbyh0KSxJbyh0LCJwb2ludGVyIil9LF9vLmNvbnRleHRtZW51PWZ1bmN0aW9uKHQpe3JldHVybiBZbyh0KX07dmFyIGVpPXRuLmFuZHJvaWQ/NWUzOi0xO2Z1bmN0aW9uIG5pKHQsZSl7Y2xlYXJUaW1lb3V0KHQuY29tcG9zaW5nVGltZW91dCksZT4tMSYmKHQuY29tcG9zaW5nVGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBvaSh0KX0pLGUpKX1mdW5jdGlvbiByaSh0KXt0LmNvbXBvc2luZz0hMTt3aGlsZSh0LmNvbXBvc2l0aW9uTm9kZXMubGVuZ3RoPjApdC5jb21wb3NpdGlvbk5vZGVzLnBvcCgpLm1hcmtQYXJlbnRzRGlydHkoKX1mdW5jdGlvbiBvaSh0LGUpe2lmKHQuZG9tT2JzZXJ2ZXIuZm9yY2VGbHVzaCgpLHJpKHQpLGV8fHQuZG9jVmlldy5kaXJ0eSl7dmFyIG49TnIodCk7cmV0dXJuIG4mJiFuLmVxKHQuc3RhdGUuc2VsZWN0aW9uKT90LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKG4pKTp0LnVwZGF0ZVN0YXRlKHQuc3RhdGUpLCEwfXJldHVybiExfWZ1bmN0aW9uIGlpKHQsZSl7aWYodC5kb20ucGFyZW50Tm9kZSl7dmFyIG49dC5kb20ucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSk7bi5hcHBlbmRDaGlsZChlKSxuLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOiBmaXhlZDsgbGVmdDogLTEwMDAwcHg7IHRvcDogMTBweCI7dmFyIHI9Z2V0U2VsZWN0aW9uKCksbz1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO28uc2VsZWN0Tm9kZUNvbnRlbnRzKGUpLHQuZG9tLmJsdXIoKSxyLnJlbW92ZUFsbFJhbmdlcygpLHIuYWRkUmFuZ2Uobyksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtuLnBhcmVudE5vZGUmJm4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSx0LmZvY3VzKCl9KSw1MCl9fVJvLmNvbXBvc2l0aW9uc3RhcnQ9Um8uY29tcG9zaXRpb251cGRhdGU9ZnVuY3Rpb24odCl7aWYoIXQuY29tcG9zaW5nKXt0LmRvbU9ic2VydmVyLmZsdXNoKCk7dmFyIGU9dC5zdGF0ZSxuPWUuc2VsZWN0aW9uLiRmcm9tO2lmKGUuc2VsZWN0aW9uLmVtcHR5JiYoZS5zdG9yZWRNYXJrc3x8IW4udGV4dE9mZnNldCYmbi5wYXJlbnRPZmZzZXQmJm4ubm9kZUJlZm9yZS5tYXJrcy5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4hMT09PXQudHlwZS5zcGVjLmluY2x1c2l2ZX0pKSkpdC5tYXJrQ3Vyc29yPXQuc3RhdGUuc3RvcmVkTWFya3N8fG4ubWFya3MoKSxvaSh0LCEwKSx0Lm1hcmtDdXJzb3I9bnVsbDtlbHNlIGlmKG9pKHQpLHRuLmdlY2tvJiZlLnNlbGVjdGlvbi5lbXB0eSYmbi5wYXJlbnRPZmZzZXQmJiFuLnRleHRPZmZzZXQmJm4ubm9kZUJlZm9yZS5tYXJrcy5sZW5ndGgpZm9yKHZhciByPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxvPXIuZm9jdXNOb2RlLGk9ci5mb2N1c09mZnNldDtvJiYxPT1vLm5vZGVUeXBlJiYwIT1pOyl7dmFyIHM9aTwwP28ubGFzdENoaWxkOm8uY2hpbGROb2Rlc1tpLTFdO2lmKCFzKWJyZWFrO2lmKDM9PXMubm9kZVR5cGUpe3IuY29sbGFwc2UocyxzLm5vZGVWYWx1ZS5sZW5ndGgpO2JyZWFrfW89cyxpPS0xfXQuY29tcG9zaW5nPSEwfW5pKHQsZWkpfSxSby5jb21wb3NpdGlvbmVuZD1mdW5jdGlvbih0LGUpe3QuY29tcG9zaW5nJiYodC5jb21wb3Npbmc9ITEsdC5jb21wb3NpdGlvbkVuZGVkQXQ9ZS50aW1lU3RhbXAsbmkodCwyMCkpfTt2YXIgc2k9dG4uaWUmJnRuLmllX3ZlcnNpb248MTV8fHRuLmlvcyYmdG4ud2Via2l0X3ZlcnNpb248NjA0O2Z1bmN0aW9uIGFpKHQpe3JldHVybiAwPT10Lm9wZW5TdGFydCYmMD09dC5vcGVuRW5kJiYxPT10LmNvbnRlbnQuY2hpbGRDb3VudD90LmNvbnRlbnQuZmlyc3RDaGlsZDpudWxsfWZ1bmN0aW9uIGNpKHQsZSl7aWYodC5kb20ucGFyZW50Tm9kZSl7dmFyIG49dC5zaGlmdEtleXx8dC5zdGF0ZS5zZWxlY3Rpb24uJGZyb20ucGFyZW50LnR5cGUuc3BlYy5jb2RlLHI9dC5kb20ucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KG4/InRleHRhcmVhIjoiZGl2IikpO258fChyLmNvbnRlbnRFZGl0YWJsZT0idHJ1ZSIpLHIuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246IGZpeGVkOyBsZWZ0OiAtMTAwMDBweDsgdG9wOiAxMHB4IixyLmZvY3VzKCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmZvY3VzKCksci5wYXJlbnROb2RlJiZyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQociksbj9saSh0LHIudmFsdWUsbnVsbCxlKTpsaSh0LHIudGV4dENvbnRlbnQsci5pbm5lckhUTUwsZSl9KSw1MCl9fWZ1bmN0aW9uIGxpKHQsZSxuLHIpe3ZhciBvPWZvKHQsZSxuLHQuc2hpZnRLZXksdC5zdGF0ZS5zZWxlY3Rpb24uJGZyb20pO2lmKHQuc29tZVByb3AoImhhbmRsZVBhc3RlIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCxyLG98fHkuZW1wdHkpfSkpKXJldHVybiEwO2lmKCFvKXJldHVybiExO3ZhciBpPWFpKG8pLHM9aT90LnN0YXRlLnRyLnJlcGxhY2VTZWxlY3Rpb25XaXRoKGksdC5zaGlmdEtleSk6dC5zdGF0ZS50ci5yZXBsYWNlU2VsZWN0aW9uKG8pO3JldHVybiB0LmRpc3BhdGNoKHMuc2Nyb2xsSW50b1ZpZXcoKS5zZXRNZXRhKCJwYXN0ZSIsITApLnNldE1ldGEoInVpRXZlbnQiLCJwYXN0ZSIpKSwhMH1fby5jb3B5PVJvLmN1dD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuc3RhdGUuc2VsZWN0aW9uLHI9ImN1dCI9PWUudHlwZTtpZighbi5lbXB0eSl7dmFyIG89c2k/bnVsbDplLmNsaXBib2FyZERhdGEsaT1uLmNvbnRlbnQoKSxzPWhvKHQsaSksYT1zLmRvbSxjPXMudGV4dDtvPyhlLnByZXZlbnREZWZhdWx0KCksby5jbGVhckRhdGEoKSxvLnNldERhdGEoInRleHQvaHRtbCIsYS5pbm5lckhUTUwpLG8uc2V0RGF0YSgidGV4dC9wbGFpbiIsYykpOmlpKHQsYSksciYmdC5kaXNwYXRjaCh0LnN0YXRlLnRyLmRlbGV0ZVNlbGVjdGlvbigpLnNjcm9sbEludG9WaWV3KCkuc2V0TWV0YSgidWlFdmVudCIsImN1dCIpKX19LFJvLnBhc3RlPWZ1bmN0aW9uKHQsZSl7dmFyIG49c2k/bnVsbDplLmNsaXBib2FyZERhdGE7biYmbGkodCxuLmdldERhdGEoInRleHQvcGxhaW4iKSxuLmdldERhdGEoInRleHQvaHRtbCIpLGUpP2UucHJldmVudERlZmF1bHQoKTpjaSh0LGUpfTt2YXIgdWk9ZnVuY3Rpb24odCxlKXt0aGlzLnNsaWNlPXQsdGhpcy5tb3ZlPWV9LHBpPXRuLm1hYz8iYWx0S2V5IjoiY3RybEtleSI7Zm9yKHZhciBoaSBpbiBfby5kcmFnc3RhcnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10Lm1vdXNlRG93bjtpZihuJiZuLmRvbmUoKSxlLmRhdGFUcmFuc2Zlcil7dmFyIHI9dC5zdGF0ZS5zZWxlY3Rpb24sbz1yLmVtcHR5P251bGw6dC5wb3NBdENvb3JkcyhMbyhlKSk7aWYobyYmby5wb3M+PXIuZnJvbSYmby5wb3M8PShyIGluc3RhbmNlb2YgX2U/ci50by0xOnIudG8pKTtlbHNlIGlmKG4mJm4ubWlnaHREcmFnKXQuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oX2UuY3JlYXRlKHQuc3RhdGUuZG9jLG4ubWlnaHREcmFnLnBvcykpKTtlbHNlIGlmKGUudGFyZ2V0JiYxPT1lLnRhcmdldC5ub2RlVHlwZSl7dmFyIGk9dC5kb2NWaWV3Lm5lYXJlc3REZXNjKGUudGFyZ2V0LCEwKTtpZighaXx8IWkubm9kZS50eXBlLnNwZWMuZHJhZ2dhYmxlfHxpPT10LmRvY1ZpZXcpcmV0dXJuO3QuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oX2UuY3JlYXRlKHQuc3RhdGUuZG9jLGkucG9zQmVmb3JlKSkpfXZhciBzPXQuc3RhdGUuc2VsZWN0aW9uLmNvbnRlbnQoKSxhPWhvKHQscyksYz1hLmRvbSxsPWEudGV4dDtlLmRhdGFUcmFuc2Zlci5jbGVhckRhdGEoKSxlLmRhdGFUcmFuc2Zlci5zZXREYXRhKHNpPyJUZXh0IjoidGV4dC9odG1sIixjLmlubmVySFRNTCksZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZD0iY29weU1vdmUiLHNpfHxlLmRhdGFUcmFuc2Zlci5zZXREYXRhKCJ0ZXh0L3BsYWluIixsKSx0LmRyYWdnaW5nPW5ldyB1aShzLCFlW3BpXSl9fSxfby5kcmFnZW5kPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZHJhZ2dpbmc7d2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5kcmFnZ2luZz09ZSYmKHQuZHJhZ2dpbmc9bnVsbCl9KSw1MCl9LFJvLmRyYWdvdmVyPVJvLmRyYWdlbnRlcj1mdW5jdGlvbih0LGUpe3JldHVybiBlLnByZXZlbnREZWZhdWx0KCl9LFJvLmRyb3A9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmRyYWdnaW5nO2lmKHQuZHJhZ2dpbmc9bnVsbCxlLmRhdGFUcmFuc2Zlcil7dmFyIHI9dC5wb3NBdENvb3JkcyhMbyhlKSk7aWYocil7dmFyIG89dC5zdGF0ZS5kb2MucmVzb2x2ZShyLnBvcyk7aWYobyl7dmFyIGk9biYmbi5zbGljZTtpP3Quc29tZVByb3AoInRyYW5zZm9ybVBhc3RlZCIsKGZ1bmN0aW9uKHQpe2k9dChpKX0pKTppPWZvKHQsZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShzaT8iVGV4dCI6InRleHQvcGxhaW4iKSxzaT9udWxsOmUuZGF0YVRyYW5zZmVyLmdldERhdGEoInRleHQvaHRtbCIpLCExLG8pO3ZhciBzPW4mJiFlW3BpXTtpZih0LnNvbWVQcm9wKCJoYW5kbGVEcm9wIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlLGl8fHkuZW1wdHkscyl9KSkpZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgaWYoaSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBhPWk/dWUodC5zdGF0ZS5kb2Msby5wb3MsaSk6by5wb3M7bnVsbD09YSYmKGE9by5wb3MpO3ZhciBjPXQuc3RhdGUudHI7cyYmYy5kZWxldGVTZWxlY3Rpb24oKTt2YXIgbD1jLm1hcHBpbmcubWFwKGEpLHU9MD09aS5vcGVuU3RhcnQmJjA9PWkub3BlbkVuZCYmMT09aS5jb250ZW50LmNoaWxkQ291bnQscD1jLmRvYztpZih1P2MucmVwbGFjZVJhbmdlV2l0aChsLGwsaS5jb250ZW50LmZpcnN0Q2hpbGQpOmMucmVwbGFjZVJhbmdlKGwsbCxpKSwhYy5kb2MuZXEocCkpe3ZhciBoPWMuZG9jLnJlc29sdmUobCk7aWYodSYmX2UuaXNTZWxlY3RhYmxlKGkuY29udGVudC5maXJzdENoaWxkKSYmaC5ub2RlQWZ0ZXImJmgubm9kZUFmdGVyLnNhbWVNYXJrdXAoaS5jb250ZW50LmZpcnN0Q2hpbGQpKWMuc2V0U2VsZWN0aW9uKG5ldyBfZShoKSk7ZWxzZXt2YXIgZj1jLm1hcHBpbmcubWFwKGEpO2MubWFwcGluZy5tYXBzW2MubWFwcGluZy5tYXBzLmxlbmd0aC0xXS5mb3JFYWNoKChmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gZj1yfSkpLGMuc2V0U2VsZWN0aW9uKFZyKHQsaCxjLmRvYy5yZXNvbHZlKGYpKSl9dC5mb2N1cygpLHQuZGlzcGF0Y2goYy5zZXRNZXRhKCJ1aUV2ZW50IiwiZHJvcCIpKX19fX19fSxfby5mb2N1cz1mdW5jdGlvbih0KXt0LmZvY3VzZWR8fCh0LmRvbU9ic2VydmVyLnN0b3AoKSx0LmRvbS5jbGFzc0xpc3QuYWRkKCJQcm9zZU1pcnJvci1mb2N1c2VkIiksdC5kb21PYnNlcnZlci5zdGFydCgpLHQuZm9jdXNlZD0hMCxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuZG9jVmlldyYmdC5oYXNGb2N1cygpJiYhdC5kb21PYnNlcnZlci5jdXJyZW50U2VsZWN0aW9uLmVxKHQucm9vdC5nZXRTZWxlY3Rpb24oKSkmJlRyKHQpfSksMjApKX0sX28uYmx1cj1mdW5jdGlvbih0KXt0LmZvY3VzZWQmJih0LmRvbU9ic2VydmVyLnN0b3AoKSx0LmRvbS5jbGFzc0xpc3QucmVtb3ZlKCJQcm9zZU1pcnJvci1mb2N1c2VkIiksdC5kb21PYnNlcnZlci5zdGFydCgpLHQuZG9tT2JzZXJ2ZXIuY3VycmVudFNlbGVjdGlvbi5zZXQoe30pLHQuZm9jdXNlZD0hMSl9LF9vLmJlZm9yZWlucHV0PWZ1bmN0aW9uKHQsZSl7aWYodG4uY2hyb21lJiZ0bi5hbmRyb2lkJiYiZGVsZXRlQ29udGVudEJhY2t3YXJkIj09ZS5pbnB1dFR5cGUpe3ZhciBuPXQuZG9tQ2hhbmdlQ291bnQ7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtpZih0LmRvbUNoYW5nZUNvdW50PT1uJiYodC5kb20uYmx1cigpLHQuZm9jdXMoKSwhdC5zb21lUHJvcCgiaGFuZGxlS2V5RG93biIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQseW4oOCwiQmFja3NwYWNlIikpfSkpKSl7dmFyIGU9dC5zdGF0ZS5zZWxlY3Rpb24scj1lLiRjdXJzb3I7ciYmci5wb3M+MCYmdC5kaXNwYXRjaCh0LnN0YXRlLnRyLmRlbGV0ZShyLnBvcy0xLHIucG9zKS5zY3JvbGxJbnRvVmlldygpKX19KSw1MCl9fSxSbylfb1toaV09Um9baGldO2Z1bmN0aW9uIGZpKHQsZSl7aWYodD09ZSlyZXR1cm4hMDtmb3IodmFyIG4gaW4gdClpZih0W25dIT09ZVtuXSlyZXR1cm4hMTtmb3IodmFyIHIgaW4gZSlpZighKHIgaW4gdCkpcmV0dXJuITE7cmV0dXJuITB9dmFyIGRpPWZ1bmN0aW9uKHQsZSl7dGhpcy5zcGVjPWV8fGJpLHRoaXMuc2lkZT10aGlzLnNwZWMuc2lkZXx8MCx0aGlzLnRvRE9NPXR9O2RpLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89dC5tYXBSZXN1bHQoZS5mcm9tK3IsdGhpcy5zaWRlPDA/LTE6MSksaT1vLnBvcyxzPW8uZGVsZXRlZDtyZXR1cm4gcz9udWxsOm5ldyBnaShpLW4saS1uLHRoaXMpfSxkaS5wcm90b3R5cGUudmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZGkucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT10fHx0IGluc3RhbmNlb2YgZGkmJih0aGlzLnNwZWMua2V5JiZ0aGlzLnNwZWMua2V5PT10LnNwZWMua2V5fHx0aGlzLnRvRE9NPT10LnRvRE9NJiZmaSh0aGlzLnNwZWMsdC5zcGVjKSl9O3ZhciBtaT1mdW5jdGlvbih0LGUpe3RoaXMuc3BlYz1lfHxiaSx0aGlzLmF0dHJzPXR9O21pLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89dC5tYXAoZS5mcm9tK3IsdGhpcy5zcGVjLmluY2x1c2l2ZVN0YXJ0Py0xOjEpLW4saT10Lm1hcChlLnRvK3IsdGhpcy5zcGVjLmluY2x1c2l2ZUVuZD8xOi0xKS1uO3JldHVybiBvPj1pP251bGw6bmV3IGdpKG8saSx0aGlzKX0sbWkucHJvdG90eXBlLnZhbGlkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuZnJvbTxlLnRvfSxtaS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PXR8fHQgaW5zdGFuY2VvZiBtaSYmZmkodGhpcy5hdHRycyx0LmF0dHJzKSYmZmkodGhpcy5zcGVjLHQuc3BlYyl9LG1pLmlzPWZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGUgaW5zdGFuY2VvZiBtaX07dmFyIHZpPWZ1bmN0aW9uKHQsZSl7dGhpcy5zcGVjPWV8fGJpLHRoaXMuYXR0cnM9dH07dmkucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10Lm1hcFJlc3VsdChlLmZyb20rciwxKTtpZihvLmRlbGV0ZWQpcmV0dXJuIG51bGw7dmFyIGk9dC5tYXBSZXN1bHQoZS50bytyLC0xKTtyZXR1cm4gaS5kZWxldGVkfHxpLnBvczw9by5wb3M/bnVsbDpuZXcgZ2koby5wb3MtbixpLnBvcy1uLHRoaXMpfSx2aS5wcm90b3R5cGUudmFsaWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmNvbnRlbnQuZmluZEluZGV4KGUuZnJvbSkscj1uLmluZGV4LG89bi5vZmZzZXQ7cmV0dXJuIG89PWUuZnJvbSYmbyt0LmNoaWxkKHIpLm5vZGVTaXplPT1lLnRvfSx2aS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PXR8fHQgaW5zdGFuY2VvZiB2aSYmZmkodGhpcy5hdHRycyx0LmF0dHJzKSYmZmkodGhpcy5zcGVjLHQuc3BlYyl9O3ZhciBnaT1mdW5jdGlvbih0LGUsbil7dGhpcy5mcm9tPXQsdGhpcy50bz1lLHRoaXMudHlwZT1ufSx5aT17c3BlYzp7Y29uZmlndXJhYmxlOiEwfSxpbmxpbmU6e2NvbmZpZ3VyYWJsZTohMH19O2dpLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBnaSh0LGUsdGhpcy50eXBlKX0sZ2kucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLHRoaXMudHlwZS5lcSh0LnR5cGUpJiZ0aGlzLmZyb20rZT09dC5mcm9tJiZ0aGlzLnRvK2U9PXQudG99LGdpLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLnR5cGUubWFwKHQsdGhpcyxlLG4pfSxnaS53aWRnZXQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcgZ2kodCx0LG5ldyBkaShlLG4pKX0sZ2kuaW5saW5lPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBuZXcgZ2kodCxlLG5ldyBtaShuLHIpKX0sZ2kubm9kZT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gbmV3IGdpKHQsZSxuZXcgdmkobixyKSl9LHlpLnNwZWMuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5zcGVjfSx5aS5pbmxpbmUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZSBpbnN0YW5jZW9mIG1pfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhnaS5wcm90b3R5cGUseWkpO3ZhciB3aT1bXSxiaT17fSx4aT1mdW5jdGlvbih0LGUpe3RoaXMubG9jYWw9dCYmdC5sZW5ndGg/dDp3aSx0aGlzLmNoaWxkcmVuPWUmJmUubGVuZ3RoP2U6d2l9O3hpLmNyZWF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBlLmxlbmd0aD9FaShlLHQsMCxiaSk6a2l9LHhpLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1bXTtyZXR1cm4gdGhpcy5maW5kSW5uZXIobnVsbD09dD8wOnQsbnVsbD09ZT8xZTk6ZSxyLDAsbikscn0seGkucHJvdG90eXBlLmZpbmRJbm5lcj1mdW5jdGlvbih0LGUsbixyLG8pe2Zvcih2YXIgaT0wO2k8dGhpcy5sb2NhbC5sZW5ndGg7aSsrKXt2YXIgcz10aGlzLmxvY2FsW2ldO3MuZnJvbTw9ZSYmcy50bz49dCYmKCFvfHxvKHMuc3BlYykpJiZuLnB1c2gocy5jb3B5KHMuZnJvbStyLHMudG8rcikpfWZvcih2YXIgYT0wO2E8dGhpcy5jaGlsZHJlbi5sZW5ndGg7YSs9MylpZih0aGlzLmNoaWxkcmVuW2FdPGUmJnRoaXMuY2hpbGRyZW5bYSsxXT50KXt2YXIgYz10aGlzLmNoaWxkcmVuW2FdKzE7dGhpcy5jaGlsZHJlblthKzJdLmZpbmRJbm5lcih0LWMsZS1jLG4scitjLG8pfX0seGkucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXM9PWtpfHwwPT10Lm1hcHMubGVuZ3RoP3RoaXM6dGhpcy5tYXBJbm5lcih0LGUsMCwwLG58fGJpKX0seGkucHJvdG90eXBlLm1hcElubmVyPWZ1bmN0aW9uKHQsZSxuLHIsbyl7Zm9yKHZhciBpLHM9MDtzPHRoaXMubG9jYWwubGVuZ3RoO3MrKyl7dmFyIGE9dGhpcy5sb2NhbFtzXS5tYXAodCxuLHIpO2EmJmEudHlwZS52YWxpZChlLGEpPyhpfHwoaT1bXSkpLnB1c2goYSk6by5vblJlbW92ZSYmby5vblJlbW92ZSh0aGlzLmxvY2FsW3NdLnNwZWMpfXJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aD9DaSh0aGlzLmNoaWxkcmVuLGksdCxlLG4scixvKTppP25ldyB4aShpLnNvcnQoVGkpKTpraX0seGkucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUpe3JldHVybiBlLmxlbmd0aD90aGlzPT1raT94aS5jcmVhdGUodCxlKTp0aGlzLmFkZElubmVyKHQsZSwwKTp0aGlzfSx4aS5wcm90b3R5cGUuYWRkSW5uZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciByLG89dGhpcyxpPTA7dC5mb3JFYWNoKChmdW5jdGlvbih0LHMpe3ZhciBhLGM9cytuO2lmKGE9QWkoZSx0LGMpKXtyfHwocj1vLmNoaWxkcmVuLnNsaWNlKCkpO3doaWxlKGk8ci5sZW5ndGgmJnJbaV08cylpKz0zO3JbaV09PXM/cltpKzJdPXJbaSsyXS5hZGRJbm5lcih0LGEsYysxKTpyLnNwbGljZShpLDAscyxzK3Qubm9kZVNpemUsRWkoYSx0LGMrMSxiaSkpLGkrPTN9fSkpO2Zvcih2YXIgcz1NaShpP05pKGUpOmUsLW4pLGE9MDthPHMubGVuZ3RoO2ErKylzW2FdLnR5cGUudmFsaWQodCxzW2FdKXx8cy5zcGxpY2UoYS0tLDEpO3JldHVybiBuZXcgeGkocy5sZW5ndGg/dGhpcy5sb2NhbC5jb25jYXQocykuc29ydChUaSk6dGhpcy5sb2NhbCxyfHx0aGlzLmNoaWxkcmVuKX0seGkucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXtyZXR1cm4gMD09dC5sZW5ndGh8fHRoaXM9PWtpP3RoaXM6dGhpcy5yZW1vdmVJbm5lcih0LDApfSx4aS5wcm90b3R5cGUucmVtb3ZlSW5uZXI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5jaGlsZHJlbixyPXRoaXMubG9jYWwsbz0wO288bi5sZW5ndGg7bys9Myl7Zm9yKHZhciBpPXZvaWQgMCxzPW5bb10rZSxhPW5bbysxXStlLGM9MCxsPXZvaWQgMDtjPHQubGVuZ3RoO2MrKykobD10W2NdKSYmbC5mcm9tPnMmJmwudG88YSYmKHRbY109bnVsbCwoaXx8KGk9W10pKS5wdXNoKGwpKTtpZihpKXtuPT10aGlzLmNoaWxkcmVuJiYobj10aGlzLmNoaWxkcmVuLnNsaWNlKCkpO3ZhciB1PW5bbysyXS5yZW1vdmVJbm5lcihpLHMrMSk7dSE9a2k/bltvKzJdPXU6KG4uc3BsaWNlKG8sMyksby09Myl9fWlmKHIubGVuZ3RoKWZvcih2YXIgcD0wLGg9dm9pZCAwO3A8dC5sZW5ndGg7cCsrKWlmKGg9dFtwXSlmb3IodmFyIGY9MDtmPHIubGVuZ3RoO2YrKylyW2ZdLmVxKGgsZSkmJihyPT10aGlzLmxvY2FsJiYocj10aGlzLmxvY2FsLnNsaWNlKCkpLHIuc3BsaWNlKGYtLSwxKSk7cmV0dXJuIG49PXRoaXMuY2hpbGRyZW4mJnI9PXRoaXMubG9jYWw/dGhpczpyLmxlbmd0aHx8bi5sZW5ndGg/bmV3IHhpKHIsbik6a2l9LHhpLnByb3RvdHlwZS5mb3JDaGlsZD1mdW5jdGlvbih0LGUpe2lmKHRoaXM9PWtpKXJldHVybiB0aGlzO2lmKGUuaXNMZWFmKXJldHVybiB4aS5lbXB0eTtmb3IodmFyIG4scixvPTA7bzx0aGlzLmNoaWxkcmVuLmxlbmd0aDtvKz0zKWlmKHRoaXMuY2hpbGRyZW5bb10+PXQpe3RoaXMuY2hpbGRyZW5bb109PXQmJihuPXRoaXMuY2hpbGRyZW5bbysyXSk7YnJlYWt9Zm9yKHZhciBpPXQrMSxzPWkrZS5jb250ZW50LnNpemUsYT0wO2E8dGhpcy5sb2NhbC5sZW5ndGg7YSsrKXt2YXIgYz10aGlzLmxvY2FsW2FdO2lmKGMuZnJvbTxzJiZjLnRvPmkmJmMudHlwZSBpbnN0YW5jZW9mIG1pKXt2YXIgbD1NYXRoLm1heChpLGMuZnJvbSktaSx1PU1hdGgubWluKHMsYy50byktaTtsPHUmJihyfHwocj1bXSkpLnB1c2goYy5jb3B5KGwsdSkpfX1pZihyKXt2YXIgcD1uZXcgeGkoci5zb3J0KFRpKSk7cmV0dXJuIG4/bmV3IFNpKFtwLG5dKTpwfXJldHVybiBufHxraX0seGkucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe2lmKHRoaXM9PXQpcmV0dXJuITA7aWYoISh0IGluc3RhbmNlb2YgeGkpfHx0aGlzLmxvY2FsLmxlbmd0aCE9dC5sb2NhbC5sZW5ndGh8fHRoaXMuY2hpbGRyZW4ubGVuZ3RoIT10LmNoaWxkcmVuLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGU9MDtlPHRoaXMubG9jYWwubGVuZ3RoO2UrKylpZighdGhpcy5sb2NhbFtlXS5lcSh0LmxvY2FsW2VdKSlyZXR1cm4hMTtmb3IodmFyIG49MDtuPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO24rPTMpaWYodGhpcy5jaGlsZHJlbltuXSE9dC5jaGlsZHJlbltuXXx8dGhpcy5jaGlsZHJlbltuKzFdIT10LmNoaWxkcmVuW24rMV18fCF0aGlzLmNoaWxkcmVuW24rMl0uZXEodC5jaGlsZHJlbltuKzJdKSlyZXR1cm4hMTtyZXR1cm4hMH0seGkucHJvdG90eXBlLmxvY2Fscz1mdW5jdGlvbih0KXtyZXR1cm4gRGkodGhpcy5sb2NhbHNJbm5lcih0KSl9LHhpLnByb3RvdHlwZS5sb2NhbHNJbm5lcj1mdW5jdGlvbih0KXtpZih0aGlzPT1raSlyZXR1cm4gd2k7aWYodC5pbmxpbmVDb250ZW50fHwhdGhpcy5sb2NhbC5zb21lKG1pLmlzKSlyZXR1cm4gdGhpcy5sb2NhbDtmb3IodmFyIGU9W10sbj0wO248dGhpcy5sb2NhbC5sZW5ndGg7bisrKXRoaXMubG9jYWxbbl0udHlwZSBpbnN0YW5jZW9mIG1pfHxlLnB1c2godGhpcy5sb2NhbFtuXSk7cmV0dXJuIGV9O3ZhciBraT1uZXcgeGk7eGkuZW1wdHk9a2kseGkucmVtb3ZlT3ZlcmxhcD1EaTt2YXIgU2k9ZnVuY3Rpb24odCl7dGhpcy5tZW1iZXJzPXR9O2Z1bmN0aW9uIENpKHQsZSxuLHIsbyxpLHMpe2Zvcih2YXIgYT10LnNsaWNlKCksYz1mdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIHM9MDtzPGEubGVuZ3RoO3MrPTMpe3ZhciBjPWFbcysxXSxsPXZvaWQgMDstMT09Y3x8dD5jK2l8fChlPj1hW3NdK2k/YVtzKzFdPS0xOm4+PW8mJihsPXItbi0oZS10KSkmJihhW3NdKz1sLGFbcysxXSs9bCkpfX0sbD0wO2w8bi5tYXBzLmxlbmd0aDtsKyspbi5tYXBzW2xdLmZvckVhY2goYyk7Zm9yKHZhciB1PSExLHA9MDtwPGEubGVuZ3RoO3ArPTMpaWYoLTE9PWFbcCsxXSl7dmFyIGg9bi5tYXAodFtwXStpKSxmPWgtbztpZihmPDB8fGY+PXIuY29udGVudC5zaXplKXt1PSEwO2NvbnRpbnVlfXZhciBkPW4ubWFwKHRbcCsxXStpLC0xKSxtPWQtbyx2PXIuY29udGVudC5maW5kSW5kZXgoZiksZz12LmluZGV4LHk9di5vZmZzZXQsdz1yLm1heWJlQ2hpbGQoZyk7aWYodyYmeT09ZiYmeSt3Lm5vZGVTaXplPT1tKXt2YXIgYj1hW3ArMl0ubWFwSW5uZXIobix3LGgrMSx0W3BdK2krMSxzKTtiIT1raT8oYVtwXT1mLGFbcCsxXT1tLGFbcCsyXT1iKTooYVtwKzFdPS0yLHU9ITApfWVsc2UgdT0hMH1pZih1KXt2YXIgeD1PaShhLHQsZXx8W10sbixvLGkscyksaz1FaSh4LHIsMCxzKTtlPWsubG9jYWw7Zm9yKHZhciBTPTA7UzxhLmxlbmd0aDtTKz0zKWFbUysxXTwwJiYoYS5zcGxpY2UoUywzKSxTLT0zKTtmb3IodmFyIEM9MCxNPTA7QzxrLmNoaWxkcmVuLmxlbmd0aDtDKz0zKXt2YXIgTz1rLmNoaWxkcmVuW0NdO3doaWxlKE08YS5sZW5ndGgmJmFbTV08TylNKz0zO2Euc3BsaWNlKE0sMCxrLmNoaWxkcmVuW0NdLGsuY2hpbGRyZW5bQysxXSxrLmNoaWxkcmVuW0MrMl0pfX1yZXR1cm4gbmV3IHhpKGUmJmUuc29ydChUaSksYSl9ZnVuY3Rpb24gTWkodCxlKXtpZighZXx8IXQubGVuZ3RoKXJldHVybiB0O2Zvcih2YXIgbj1bXSxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07bi5wdXNoKG5ldyBnaShvLmZyb20rZSxvLnRvK2Usby50eXBlKSl9cmV0dXJuIG59ZnVuY3Rpb24gT2kodCxlLG4scixvLGkscyl7ZnVuY3Rpb24gYSh0LGUpe2Zvcih2YXIgaT0wO2k8dC5sb2NhbC5sZW5ndGg7aSsrKXt2YXIgYz10LmxvY2FsW2ldLm1hcChyLG8sZSk7Yz9uLnB1c2goYyk6cy5vblJlbW92ZSYmcy5vblJlbW92ZSh0LmxvY2FsW2ldLnNwZWMpfWZvcih2YXIgbD0wO2w8dC5jaGlsZHJlbi5sZW5ndGg7bCs9MylhKHQuY2hpbGRyZW5bbCsyXSx0LmNoaWxkcmVuW2xdK2UrMSl9Zm9yKHZhciBjPTA7Yzx0Lmxlbmd0aDtjKz0zKS0xPT10W2MrMV0mJmEodFtjKzJdLGVbY10raSsxKTtyZXR1cm4gbn1mdW5jdGlvbiBBaSh0LGUsbil7aWYoZS5pc0xlYWYpcmV0dXJuIG51bGw7Zm9yKHZhciByPW4rZS5ub2RlU2l6ZSxvPW51bGwsaT0wLHM9dm9pZCAwO2k8dC5sZW5ndGg7aSsrKShzPXRbaV0pJiZzLmZyb20+biYmcy50bzxyJiYoKG98fChvPVtdKSkucHVzaChzKSx0W2ldPW51bGwpO3JldHVybiBvfWZ1bmN0aW9uIE5pKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDtuKyspbnVsbCE9dFtuXSYmZS5wdXNoKHRbbl0pO3JldHVybiBlfWZ1bmN0aW9uIEVpKHQsZSxuLHIpe3ZhciBvPVtdLGk9ITE7ZS5mb3JFYWNoKChmdW5jdGlvbihlLHMpe3ZhciBhPUFpKHQsZSxzK24pO2lmKGEpe2k9ITA7dmFyIGM9RWkoYSxlLG4rcysxLHIpO2MhPWtpJiZvLnB1c2gocyxzK2Uubm9kZVNpemUsYyl9fSkpO2Zvcih2YXIgcz1NaShpP05pKHQpOnQsLW4pLnNvcnQoVGkpLGE9MDthPHMubGVuZ3RoO2ErKylzW2FdLnR5cGUudmFsaWQoZSxzW2FdKXx8KHIub25SZW1vdmUmJnIub25SZW1vdmUoc1thXS5zcGVjKSxzLnNwbGljZShhLS0sMSkpO3JldHVybiBzLmxlbmd0aHx8by5sZW5ndGg/bmV3IHhpKHMsbyk6a2l9ZnVuY3Rpb24gVGkodCxlKXtyZXR1cm4gdC5mcm9tLWUuZnJvbXx8dC50by1lLnRvfWZ1bmN0aW9uIERpKHQpe2Zvcih2YXIgZT10LG49MDtuPGUubGVuZ3RoLTE7bisrKXt2YXIgcj1lW25dO2lmKHIuZnJvbSE9ci50bylmb3IodmFyIG89bisxO288ZS5sZW5ndGg7bysrKXt2YXIgaT1lW29dO2lmKGkuZnJvbSE9ci5mcm9tKXtpLmZyb208ci50byYmKGU9PXQmJihlPXQuc2xpY2UoKSksZVtuXT1yLmNvcHkoci5mcm9tLGkuZnJvbSksX2koZSxvLHIuY29weShpLmZyb20sci50bykpKTticmVha31pLnRvIT1yLnRvJiYoZT09dCYmKGU9dC5zbGljZSgpKSxlW29dPWkuY29weShpLmZyb20sci50byksX2koZSxvKzEsaS5jb3B5KHIudG8saS50bykpKX19cmV0dXJuIGV9ZnVuY3Rpb24gX2kodCxlLG4pe3doaWxlKGU8dC5sZW5ndGgmJlRpKG4sdFtlXSk+MCllKys7dC5zcGxpY2UoZSwwLG4pfWZ1bmN0aW9uIFJpKHQpe3ZhciBlPVtdO3JldHVybiB0LnNvbWVQcm9wKCJkZWNvcmF0aW9ucyIsKGZ1bmN0aW9uKG4pe3ZhciByPW4odC5zdGF0ZSk7ciYmciE9a2kmJmUucHVzaChyKX0pKSx0LmN1cnNvcldyYXBwZXImJmUucHVzaCh4aS5jcmVhdGUodC5zdGF0ZS5kb2MsW3QuY3Vyc29yV3JhcHBlci5kZWNvXSkpLFNpLmZyb20oZSl9U2kucHJvdG90eXBlLmZvckNoaWxkPWZ1bmN0aW9uKHQsZSl7aWYoZS5pc0xlYWYpcmV0dXJuIHhpLmVtcHR5O2Zvcih2YXIgbj1bXSxyPTA7cjx0aGlzLm1lbWJlcnMubGVuZ3RoO3IrKyl7dmFyIG89dGhpcy5tZW1iZXJzW3JdLmZvckNoaWxkKHQsZSk7byE9a2kmJihvIGluc3RhbmNlb2YgU2k/bj1uLmNvbmNhdChvLm1lbWJlcnMpOm4ucHVzaChvKSl9cmV0dXJuIFNpLmZyb20obil9LFNpLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtpZighKHQgaW5zdGFuY2VvZiBTaSl8fHQubWVtYmVycy5sZW5ndGghPXRoaXMubWVtYmVycy5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBlPTA7ZTx0aGlzLm1lbWJlcnMubGVuZ3RoO2UrKylpZighdGhpcy5tZW1iZXJzW2VdLmVxKHQubWVtYmVyc1tlXSkpcmV0dXJuITE7cmV0dXJuITB9LFNpLnByb3RvdHlwZS5sb2NhbHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49ITAscj0wO3I8dGhpcy5tZW1iZXJzLmxlbmd0aDtyKyspe3ZhciBvPXRoaXMubWVtYmVyc1tyXS5sb2NhbHNJbm5lcih0KTtpZihvLmxlbmd0aClpZihlKXtuJiYoZT1lLnNsaWNlKCksbj0hMSk7Zm9yKHZhciBpPTA7aTxvLmxlbmd0aDtpKyspZS5wdXNoKG9baV0pfWVsc2UgZT1vfXJldHVybiBlP0RpKG4/ZTplLnNvcnQoVGkpKTp3aX0sU2kuZnJvbT1mdW5jdGlvbih0KXtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4ga2k7Y2FzZSAxOnJldHVybiB0WzBdO2RlZmF1bHQ6cmV0dXJuIG5ldyBTaSh0KX19O3ZhciB6aT1mdW5jdGlvbih0LGUpe3RoaXMuX3Byb3BzPWUsdGhpcy5zdGF0ZT1lLnN0YXRlLHRoaXMuZGlzcGF0Y2g9dGhpcy5kaXNwYXRjaC5iaW5kKHRoaXMpLHRoaXMuX3Jvb3Q9bnVsbCx0aGlzLmZvY3VzZWQ9ITEsdGhpcy50cmFja1dyaXRlcz1udWxsLHRoaXMuZG9tPXQmJnQubW91bnR8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHQmJih0LmFwcGVuZENoaWxkP3QuYXBwZW5kQ2hpbGQodGhpcy5kb20pOnQuYXBwbHk/dCh0aGlzLmRvbSk6dC5tb3VudCYmKHRoaXMubW91bnRlZD0hMCkpLHRoaXMuZWRpdGFibGU9QmkodGhpcyksdGhpcy5tYXJrQ3Vyc29yPW51bGwsdGhpcy5jdXJzb3JXcmFwcGVyPW51bGwsJGkodGhpcyksdGhpcy5ub2RlVmlld3M9amkodGhpcyksdGhpcy5kb2NWaWV3PWFyKHRoaXMuc3RhdGUuZG9jLFBpKHRoaXMpLFJpKHRoaXMpLHRoaXMuZG9tLHRoaXMpLHRoaXMubGFzdFNlbGVjdGVkVmlld0Rlc2M9bnVsbCx0aGlzLmRyYWdnaW5nPW51bGwsem8odGhpcyksdGhpcy5wbHVnaW5WaWV3cz1bXSx0aGlzLnVwZGF0ZVBsdWdpblZpZXdzKCl9LElpPXtwcm9wczp7Y29uZmlndXJhYmxlOiEwfSxyb290Ontjb25maWd1cmFibGU6ITB9fTtmdW5jdGlvbiBQaSh0KXt2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybiBlLmNsYXNzPSJQcm9zZU1pcnJvciIsZS5jb250ZW50ZWRpdGFibGU9U3RyaW5nKHQuZWRpdGFibGUpLHQuc29tZVByb3AoImF0dHJpYnV0ZXMiLChmdW5jdGlvbihuKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgbiYmKG49bih0LnN0YXRlKSksbilmb3IodmFyIHIgaW4gbikiY2xhc3MiPT1yP2UuY2xhc3MrPSIgIituW3JdOmVbcl18fCJjb250ZW50ZWRpdGFibGUiPT1yfHwibm9kZU5hbWUiPT1yfHwoZVtyXT1TdHJpbmcobltyXSkpfSkpLFtnaS5ub2RlKDAsdC5zdGF0ZS5kb2MuY29udGVudC5zaXplLGUpXX1mdW5jdGlvbiAkaSh0KXtpZih0Lm1hcmtDdXJzb3Ipe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO2Uuc2V0QXR0cmlidXRlKCJtYXJrLXBsYWNlaG9sZGVyIiwidHJ1ZSIpLHQuY3Vyc29yV3JhcHBlcj17ZG9tOmUsZGVjbzpnaS53aWRnZXQodC5zdGF0ZS5zZWxlY3Rpb24uaGVhZCxlLHtyYXc6ITAsbWFya3M6dC5tYXJrQ3Vyc29yfSl9fWVsc2UgdC5jdXJzb3JXcmFwcGVyPW51bGx9ZnVuY3Rpb24gQmkodCl7cmV0dXJuIXQuc29tZVByb3AoImVkaXRhYmxlIiwoZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1lKHQuc3RhdGUpfSkpfWZ1bmN0aW9uIFZpKHQsZSl7dmFyIG49TWF0aC5taW4odC4kYW5jaG9yLnNoYXJlZERlcHRoKHQuaGVhZCksZS4kYW5jaG9yLnNoYXJlZERlcHRoKGUuaGVhZCkpO3JldHVybiB0LiRhbmNob3Iuc3RhcnQobikhPWUuJGFuY2hvci5zdGFydChuKX1mdW5jdGlvbiBqaSh0KXt2YXIgZT17fTtyZXR1cm4gdC5zb21lUHJvcCgibm9kZVZpZXdzIiwoZnVuY3Rpb24odCl7Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbil8fChlW25dPXRbbl0pfSkpLGV9ZnVuY3Rpb24gTGkodCxlKXt2YXIgbj0wLHI9MDtmb3IodmFyIG8gaW4gdCl7aWYodFtvXSE9ZVtvXSlyZXR1cm4hMDtuKyt9Zm9yKHZhciBpIGluIGUpcisrO3JldHVybiBuIT1yfWZ1bmN0aW9uIEZpKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD17fSksbmV3IFhlKHt2aWV3OmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgSGkoZSx0KX19KX1JaS5wcm9wcy5nZXQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9wcm9wcy5zdGF0ZSE9dGhpcy5zdGF0ZSl7dmFyIHQ9dGhpcy5fcHJvcHM7Zm9yKHZhciBlIGluIHRoaXMuX3Byb3BzPXt9LHQpdGhpcy5fcHJvcHNbZV09dFtlXTt0aGlzLl9wcm9wcy5zdGF0ZT10aGlzLnN0YXRlfXJldHVybiB0aGlzLl9wcm9wc30semkucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0LmhhbmRsZURPTUV2ZW50cyE9dGhpcy5fcHJvcHMuaGFuZGxlRE9NRXZlbnRzJiYkbyh0aGlzKSx0aGlzLl9wcm9wcz10LHRoaXMudXBkYXRlU3RhdGVJbm5lcih0LnN0YXRlLCEwKX0semkucHJvdG90eXBlLnNldFByb3BzPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Zvcih2YXIgbiBpbiB0aGlzLl9wcm9wcyllW25dPXRoaXMuX3Byb3BzW25dO2Zvcih2YXIgciBpbiBlLnN0YXRlPXRoaXMuc3RhdGUsdCllW3JdPXRbcl07dGhpcy51cGRhdGUoZSl9LHppLnByb3RvdHlwZS51cGRhdGVTdGF0ZT1mdW5jdGlvbih0KXt0aGlzLnVwZGF0ZVN0YXRlSW5uZXIodCx0aGlzLnN0YXRlLnBsdWdpbnMhPXQucGx1Z2lucyl9LHppLnByb3RvdHlwZS51cGRhdGVTdGF0ZUlubmVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXRoaXMuc3RhdGUsbz0hMSxpPSExO2lmKHQuc3RvcmVkTWFya3MmJnRoaXMuY29tcG9zaW5nJiYocmkodGhpcyksaT0hMCksdGhpcy5zdGF0ZT10LGUpe3ZhciBzPWppKHRoaXMpO0xpKHMsdGhpcy5ub2RlVmlld3MpJiYodGhpcy5ub2RlVmlld3M9cyxvPSEwKSwkbyh0aGlzKX10aGlzLmVkaXRhYmxlPUJpKHRoaXMpLCRpKHRoaXMpO3ZhciBhPVJpKHRoaXMpLGM9UGkodGhpcyksbD1lPyJyZXNldCI6dC5zY3JvbGxUb1NlbGVjdGlvbj5yLnNjcm9sbFRvU2VsZWN0aW9uPyJ0byBzZWxlY3Rpb24iOiJwcmVzZXJ2ZSIsdT1vfHwhdGhpcy5kb2NWaWV3Lm1hdGNoZXNOb2RlKHQuZG9jLGMsYSk7IXUmJnQuc2VsZWN0aW9uLmVxKHIuc2VsZWN0aW9uKXx8KGk9ITApO3ZhciBwPSJwcmVzZXJ2ZSI9PWwmJmkmJm51bGw9PXRoaXMuZG9tLnN0eWxlLm92ZXJmbG93QW5jaG9yJiZTbih0aGlzKTtpZihpKXt0aGlzLmRvbU9ic2VydmVyLnN0b3AoKTt2YXIgaD11JiYodG4uaWV8fHRuLmNocm9tZSkmJiF0aGlzLmNvbXBvc2luZyYmIXIuc2VsZWN0aW9uLmVtcHR5JiYhdC5zZWxlY3Rpb24uZW1wdHkmJlZpKHIuc2VsZWN0aW9uLHQuc2VsZWN0aW9uKTtpZih1KXt2YXIgZj10bi5jaHJvbWU/dGhpcy50cmFja1dyaXRlcz10aGlzLnJvb3QuZ2V0U2VsZWN0aW9uKCkuZm9jdXNOb2RlOm51bGw7IW8mJnRoaXMuZG9jVmlldy51cGRhdGUodC5kb2MsYyxhLHRoaXMpfHwodGhpcy5kb2NWaWV3LnVwZGF0ZU91dGVyRGVjbyhbXSksdGhpcy5kb2NWaWV3LmRlc3Ryb3koKSx0aGlzLmRvY1ZpZXc9YXIodC5kb2MsYyxhLHRoaXMuZG9tLHRoaXMpKSxmJiYhdGhpcy50cmFja1dyaXRlcyYmKGg9ITApfWh8fCEodGhpcy5tb3VzZURvd24mJnRoaXMuZG9tT2JzZXJ2ZXIuY3VycmVudFNlbGVjdGlvbi5lcSh0aGlzLnJvb3QuZ2V0U2VsZWN0aW9uKCkpJiZGcih0aGlzKSk/VHIodGhpcyxoKTooJHIodGhpcyx0LnNlbGVjdGlvbiksdGhpcy5kb21PYnNlcnZlci5zZXRDdXJTZWxlY3Rpb24oKSksdGhpcy5kb21PYnNlcnZlci5zdGFydCgpfWlmKHRoaXMudXBkYXRlUGx1Z2luVmlld3MociksInJlc2V0Ij09bCl0aGlzLmRvbS5zY3JvbGxUb3A9MDtlbHNlIGlmKCJ0byBzZWxlY3Rpb24iPT1sKXt2YXIgZD10aGlzLnJvb3QuZ2V0U2VsZWN0aW9uKCkuZm9jdXNOb2RlO3RoaXMuc29tZVByb3AoImhhbmRsZVNjcm9sbFRvU2VsZWN0aW9uIiwoZnVuY3Rpb24odCl7cmV0dXJuIHQobil9KSl8fCh0LnNlbGVjdGlvbiBpbnN0YW5jZW9mIF9lP2tuKHRoaXMsdGhpcy5kb2NWaWV3LmRvbUFmdGVyUG9zKHQuc2VsZWN0aW9uLmZyb20pLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGQpOmtuKHRoaXMsdGhpcy5jb29yZHNBdFBvcyh0LnNlbGVjdGlvbi5oZWFkLDEpLGQpKX1lbHNlIHAmJk1uKHApfSx6aS5wcm90b3R5cGUuZGVzdHJveVBsdWdpblZpZXdzPWZ1bmN0aW9uKCl7dmFyIHQ7d2hpbGUodD10aGlzLnBsdWdpblZpZXdzLnBvcCgpKXQuZGVzdHJveSYmdC5kZXN0cm95KCl9LHppLnByb3RvdHlwZS51cGRhdGVQbHVnaW5WaWV3cz1mdW5jdGlvbih0KXtpZih0JiZ0LnBsdWdpbnM9PXRoaXMuc3RhdGUucGx1Z2lucylmb3IodmFyIGU9MDtlPHRoaXMucGx1Z2luVmlld3MubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5wbHVnaW5WaWV3c1tlXTtuLnVwZGF0ZSYmbi51cGRhdGUodGhpcyx0KX1lbHNle3RoaXMuZGVzdHJveVBsdWdpblZpZXdzKCk7Zm9yKHZhciByPTA7cjx0aGlzLnN0YXRlLnBsdWdpbnMubGVuZ3RoO3IrKyl7dmFyIG89dGhpcy5zdGF0ZS5wbHVnaW5zW3JdO28uc3BlYy52aWV3JiZ0aGlzLnBsdWdpblZpZXdzLnB1c2goby5zcGVjLnZpZXcodGhpcykpfX19LHppLnByb3RvdHlwZS5zb21lUHJvcD1mdW5jdGlvbih0LGUpe3ZhciBuLHI9dGhpcy5fcHJvcHMmJnRoaXMuX3Byb3BzW3RdO2lmKG51bGwhPXImJihuPWU/ZShyKTpyKSlyZXR1cm4gbjt2YXIgbz10aGlzLnN0YXRlLnBsdWdpbnM7aWYobylmb3IodmFyIGk9MDtpPG8ubGVuZ3RoO2krKyl7dmFyIHM9b1tpXS5wcm9wc1t0XTtpZihudWxsIT1zJiYobj1lP2Uocyk6cykpcmV0dXJuIG59fSx6aS5wcm90b3R5cGUuaGFzRm9jdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yb290LmFjdGl2ZUVsZW1lbnQ9PXRoaXMuZG9tfSx6aS5wcm90b3R5cGUuZm9jdXM9ZnVuY3Rpb24oKXt0aGlzLmRvbU9ic2VydmVyLnN0b3AoKSx0aGlzLmVkaXRhYmxlJiZObih0aGlzLmRvbSksVHIodGhpcyksdGhpcy5kb21PYnNlcnZlci5zdGFydCgpfSxJaS5yb290LmdldD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3Jvb3Q7aWYobnVsbD09dClmb3IodmFyIGU9dGhpcy5kb20ucGFyZW50Tm9kZTtlO2U9ZS5wYXJlbnROb2RlKWlmKDk9PWUubm9kZVR5cGV8fDExPT1lLm5vZGVUeXBlJiZlLmhvc3QpcmV0dXJuIGUuZ2V0U2VsZWN0aW9ufHwoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmdldFNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKX0pLHRoaXMuX3Jvb3Q9ZTtyZXR1cm4gdHx8ZG9jdW1lbnR9LHppLnByb3RvdHlwZS5wb3NBdENvb3Jkcz1mdW5jdGlvbih0KXtyZXR1cm4gUG4odGhpcyx0KX0semkucHJvdG90eXBlLmNvb3Jkc0F0UG9zPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTEpLFZuKHRoaXMsdCxlKX0semkucHJvdG90eXBlLmRvbUF0UG9zPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLHRoaXMuZG9jVmlldy5kb21Gcm9tUG9zKHQsZSl9LHppLnByb3RvdHlwZS5ub2RlRE9NPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZG9jVmlldy5kZXNjQXQodCk7cmV0dXJuIGU/ZS5ub2RlRE9NOm51bGx9LHppLnByb3RvdHlwZS5wb3NBdERPTT1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49LTEpO3ZhciByPXRoaXMuZG9jVmlldy5wb3NGcm9tRE9NKHQsZSxuKTtpZihudWxsPT1yKXRocm93IG5ldyBSYW5nZUVycm9yKCJET00gcG9zaXRpb24gbm90IGluc2lkZSB0aGUgZWRpdG9yIik7cmV0dXJuIHJ9LHppLnByb3RvdHlwZS5lbmRPZlRleHRibG9jaz1mdW5jdGlvbih0LGUpe3JldHVybiBHbih0aGlzLGV8fHRoaXMuc3RhdGUsdCl9LHppLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5kb2NWaWV3JiYoUG8odGhpcyksdGhpcy5kZXN0cm95UGx1Z2luVmlld3MoKSx0aGlzLm1vdW50ZWQ/KHRoaXMuZG9jVmlldy51cGRhdGUodGhpcy5zdGF0ZS5kb2MsW10sUmkodGhpcyksdGhpcyksdGhpcy5kb20udGV4dENvbnRlbnQ9IiIpOnRoaXMuZG9tLnBhcmVudE5vZGUmJnRoaXMuZG9tLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kb20pLHRoaXMuZG9jVmlldy5kZXN0cm95KCksdGhpcy5kb2NWaWV3PW51bGwpfSx6aS5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbih0KXtyZXR1cm4gam8odGhpcyx0KX0semkucHJvdG90eXBlLmRpc3BhdGNoPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3Byb3BzLmRpc3BhdGNoVHJhbnNhY3Rpb247ZT9lLmNhbGwodGhpcyx0KTp0aGlzLnVwZGF0ZVN0YXRlKHRoaXMuc3RhdGUuYXBwbHkodCkpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh6aS5wcm90b3R5cGUsSWkpO3ZhciBIaT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy5lZGl0b3JWaWV3PXQsdGhpcy53aWR0aD1lLndpZHRofHwxLHRoaXMuY29sb3I9ZS5jb2xvcnx8ImJsYWNrIix0aGlzLmNsYXNzPWUuY2xhc3MsdGhpcy5jdXJzb3JQb3M9bnVsbCx0aGlzLmVsZW1lbnQ9bnVsbCx0aGlzLnRpbWVvdXQ9bnVsbCx0aGlzLmhhbmRsZXJzPVsiZHJhZ292ZXIiLCJkcmFnZW5kIiwiZHJvcCIsImRyYWdsZWF2ZSJdLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24odCl7cmV0dXJuIG5bZV0odCl9O3JldHVybiB0LmRvbS5hZGRFdmVudExpc3RlbmVyKGUscikse25hbWU6ZSxoYW5kbGVyOnJ9fSkpfTtIaS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5oYW5kbGVycy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLm5hbWUscj1lLmhhbmRsZXI7cmV0dXJuIHQuZWRpdG9yVmlldy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLHIpfSkpfSxIaS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7bnVsbCE9dGhpcy5jdXJzb3JQb3MmJmUuZG9jIT10LnN0YXRlLmRvYyYmKHRoaXMuY3Vyc29yUG9zPnQuc3RhdGUuZG9jLmNvbnRlbnQuc2l6ZT90aGlzLnNldEN1cnNvcihudWxsKTp0aGlzLnVwZGF0ZU92ZXJsYXkoKSl9LEhpLnByb3RvdHlwZS5zZXRDdXJzb3I9ZnVuY3Rpb24odCl7dCE9dGhpcy5jdXJzb3JQb3MmJih0aGlzLmN1cnNvclBvcz10LG51bGw9PXQ/KHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudCksdGhpcy5lbGVtZW50PW51bGwpOnRoaXMudXBkYXRlT3ZlcmxheSgpKX0sSGkucHJvdG90eXBlLnVwZGF0ZU92ZXJsYXk9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuZWRpdG9yVmlldy5zdGF0ZS5kb2MucmVzb2x2ZSh0aGlzLmN1cnNvclBvcyk7aWYoIWUucGFyZW50LmlubGluZUNvbnRlbnQpe3ZhciBuPWUubm9kZUJlZm9yZSxyPWUubm9kZUFmdGVyO2lmKG58fHIpe3ZhciBvPXRoaXMuZWRpdG9yVmlldy5ub2RlRE9NKHRoaXMuY3Vyc29yUG9zLShuP24ubm9kZVNpemU6MCkpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGk9bj9vLmJvdHRvbTpvLnRvcDtuJiZyJiYoaT0oaSt0aGlzLmVkaXRvclZpZXcubm9kZURPTSh0aGlzLmN1cnNvclBvcykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wKS8yKSx0PXtsZWZ0Om8ubGVmdCxyaWdodDpvLnJpZ2h0LHRvcDppLXRoaXMud2lkdGgvMixib3R0b206aSt0aGlzLndpZHRoLzJ9fX1pZighdCl7dmFyIHM9dGhpcy5lZGl0b3JWaWV3LmNvb3Jkc0F0UG9zKHRoaXMuY3Vyc29yUG9zKTt0PXtsZWZ0OnMubGVmdC10aGlzLndpZHRoLzIscmlnaHQ6cy5sZWZ0K3RoaXMud2lkdGgvMix0b3A6cy50b3AsYm90dG9tOnMuYm90dG9tfX12YXIgYSxjLGw9dGhpcy5lZGl0b3JWaWV3LmRvbS5vZmZzZXRQYXJlbnQ7aWYodGhpcy5lbGVtZW50fHwodGhpcy5lbGVtZW50PWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHRoaXMuY2xhc3MmJih0aGlzLmVsZW1lbnQuY2xhc3NOYW1lPXRoaXMuY2xhc3MpLHRoaXMuZWxlbWVudC5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjogYWJzb2x1dGU7IHotaW5kZXg6IDUwOyBwb2ludGVyLWV2ZW50czogbm9uZTsgYmFja2dyb3VuZC1jb2xvcjogIit0aGlzLmNvbG9yKSwhbHx8bD09ZG9jdW1lbnQuYm9keSYmInN0YXRpYyI9PWdldENvbXB1dGVkU3R5bGUobCkucG9zaXRpb24pYT0tcGFnZVhPZmZzZXQsYz0tcGFnZVlPZmZzZXQ7ZWxzZXt2YXIgdT1sLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2E9dS5sZWZ0LWwuc2Nyb2xsTGVmdCxjPXUudG9wLWwuc2Nyb2xsVG9wfXRoaXMuZWxlbWVudC5zdHlsZS5sZWZ0PXQubGVmdC1hKyJweCIsdGhpcy5lbGVtZW50LnN0eWxlLnRvcD10LnRvcC1jKyJweCIsdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoPXQucmlnaHQtdC5sZWZ0KyJweCIsdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodD10LmJvdHRvbS10LnRvcCsicHgifSxIaS5wcm90b3R5cGUuc2NoZWR1bGVSZW1vdmFsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7Y2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCksdGhpcy50aW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuc2V0Q3Vyc29yKG51bGwpfSksdCl9LEhpLnByb3RvdHlwZS5kcmFnb3Zlcj1mdW5jdGlvbih0KXtpZih0aGlzLmVkaXRvclZpZXcuZWRpdGFibGUpe3ZhciBlPXRoaXMuZWRpdG9yVmlldy5wb3NBdENvb3Jkcyh7bGVmdDp0LmNsaWVudFgsdG9wOnQuY2xpZW50WX0pO2lmKGUpe3ZhciBuPWUucG9zO2lmKHRoaXMuZWRpdG9yVmlldy5kcmFnZ2luZyYmdGhpcy5lZGl0b3JWaWV3LmRyYWdnaW5nLnNsaWNlJiYobj11ZSh0aGlzLmVkaXRvclZpZXcuc3RhdGUuZG9jLG4sdGhpcy5lZGl0b3JWaWV3LmRyYWdnaW5nLnNsaWNlKSxudWxsPT1uKSlyZXR1cm4gdGhpcy5zZXRDdXJzb3IobnVsbCk7dGhpcy5zZXRDdXJzb3IobiksdGhpcy5zY2hlZHVsZVJlbW92YWwoNWUzKX19fSxIaS5wcm90b3R5cGUuZHJhZ2VuZD1mdW5jdGlvbigpe3RoaXMuc2NoZWR1bGVSZW1vdmFsKDIwKX0sSGkucHJvdG90eXBlLmRyb3A9ZnVuY3Rpb24oKXt0aGlzLnNjaGVkdWxlUmVtb3ZhbCgyMCl9LEhpLnByb3RvdHlwZS5kcmFnbGVhdmU9ZnVuY3Rpb24odCl7dC50YXJnZXQhPXRoaXMuZWRpdG9yVmlldy5kb20mJnRoaXMuZWRpdG9yVmlldy5kb20uY29udGFpbnModC5yZWxhdGVkVGFyZ2V0KXx8dGhpcy5zZXRDdXJzb3IobnVsbCl9O2Zvcih2YXIgSmk9ezg6IkJhY2tzcGFjZSIsOToiVGFiIiwxMDoiRW50ZXIiLDEyOiJOdW1Mb2NrIiwxMzoiRW50ZXIiLDE2OiJTaGlmdCIsMTc6IkNvbnRyb2wiLDE4OiJBbHQiLDIwOiJDYXBzTG9jayIsMjc6IkVzY2FwZSIsMzI6IiAiLDMzOiJQYWdlVXAiLDM0OiJQYWdlRG93biIsMzU6IkVuZCIsMzY6IkhvbWUiLDM3OiJBcnJvd0xlZnQiLDM4OiJBcnJvd1VwIiwzOToiQXJyb3dSaWdodCIsNDA6IkFycm93RG93biIsNDQ6IlByaW50U2NyZWVuIiw0NToiSW5zZXJ0Iiw0NjoiRGVsZXRlIiw1OToiOyIsNjE6Ij0iLDkxOiJNZXRhIiw5MjoiTWV0YSIsMTA2OiIqIiwxMDc6IisiLDEwODoiLCIsMTA5OiItIiwxMTA6Ii4iLDExMToiLyIsMTQ0OiJOdW1Mb2NrIiwxNDU6IlNjcm9sbExvY2siLDE2MDoiU2hpZnQiLDE2MToiU2hpZnQiLDE2MjoiQ29udHJvbCIsMTYzOiJDb250cm9sIiwxNjQ6IkFsdCIsMTY1OiJBbHQiLDE3MzoiLSIsMTg2OiI7IiwxODc6Ij0iLDE4ODoiLCIsMTg5OiItIiwxOTA6Ii4iLDE5MToiLyIsMTkyOiJgIiwyMTk6IlsiLDIyMDoiXFwiLDIyMToiXSIsMjIyOiInIiwyMjk6InEifSxXaT17NDg6IikiLDQ5OiIhIiw1MDoiQCIsNTE6IiMiLDUyOiIkIiw1MzoiJSIsNTQ6Il4iLDU1OiImIiw1NjoiKiIsNTc6IigiLDU5OiI6Iiw2MToiKyIsMTczOiJfIiwxODY6IjoiLDE4NzoiKyIsMTg4OiI8IiwxODk6Il8iLDE5MDoiPiIsMTkxOiI/IiwxOTI6In4iLDIxOToieyIsMjIwOiJ8IiwyMjE6In0iLDIyMjonIicsMjI5OiJRIn0scWk9InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9DaHJvbWVcLyhcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpLEtpPSJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiYvQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2aWdhdG9yLnZlbmRvciksVWk9InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9HZWNrb1wvXGQrLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLEdpPSJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiYvTWFjLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSksWGk9InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9NU0lFIFxkfFRyaWRlbnRcLyg/Ols3LTldfFxkezIsfSlcLi4qcnY6KFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCksWWk9cWkmJihHaXx8K3FpWzFdPDU3KXx8VWkmJkdpLFppPTA7Wmk8MTA7WmkrKylKaVs0OCtaaV09SmlbOTYrWmldPVN0cmluZyhaaSk7Zm9yKFppPTE7Wmk8PTI0O1ppKyspSmlbWmkrMTExXT0iRiIrWmk7Zm9yKFppPTY1O1ppPD05MDtaaSsrKUppW1ppXT1TdHJpbmcuZnJvbUNoYXJDb2RlKFppKzMyKSxXaVtaaV09U3RyaW5nLmZyb21DaGFyQ29kZShaaSk7Zm9yKHZhciBRaSBpbiBKaSlXaS5oYXNPd25Qcm9wZXJ0eShRaSl8fChXaVtRaV09SmlbUWldKTtmdW5jdGlvbiB0cyh0KXt2YXIgZT1ZaSYmKHQuY3RybEtleXx8dC5hbHRLZXl8fHQubWV0YUtleSl8fChLaXx8WGkpJiZ0LnNoaWZ0S2V5JiZ0LmtleSYmMT09dC5rZXkubGVuZ3RoLG49IWUmJnQua2V5fHwodC5zaGlmdEtleT9XaTpKaSlbdC5rZXlDb2RlXXx8dC5rZXl8fCJVbmlkZW50aWZpZWQiO3JldHVybiJFc2MiPT1uJiYobj0iRXNjYXBlIiksIkRlbCI9PW4mJihuPSJEZWxldGUiKSwiTGVmdCI9PW4mJihuPSJBcnJvd0xlZnQiKSwiVXAiPT1uJiYobj0iQXJyb3dVcCIpLCJSaWdodCI9PW4mJihuPSJBcnJvd1JpZ2h0IiksIkRvd24iPT1uJiYobj0iQXJyb3dEb3duIiksbn12YXIgZXM9InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTtmdW5jdGlvbiBucyh0KXt2YXIgZSxuLHIsbyxpPXQuc3BsaXQoLy0oPyEkKS8pLHM9aVtpLmxlbmd0aC0xXTsiU3BhY2UiPT1zJiYocz0iICIpO2Zvcih2YXIgYT0wO2E8aS5sZW5ndGgtMTthKyspe3ZhciBjPWlbYV07aWYoL14oY21kfG1ldGF8bSkkL2kudGVzdChjKSlvPSEwO2Vsc2UgaWYoL15hKGx0KT8kL2kudGVzdChjKSllPSEwO2Vsc2UgaWYoL14oY3xjdHJsfGNvbnRyb2wpJC9pLnRlc3QoYykpbj0hMDtlbHNlIGlmKC9ecyhoaWZ0KT8kL2kudGVzdChjKSlyPSEwO2Vsc2V7aWYoIS9ebW9kJC9pLnRlc3QoYykpdGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgbW9kaWZpZXIgbmFtZTogIitjKTtlcz9vPSEwOm49ITB9fXJldHVybiBlJiYocz0iQWx0LSIrcyksbiYmKHM9IkN0cmwtIitzKSxvJiYocz0iTWV0YS0iK3MpLHImJihzPSJTaGlmdC0iK3MpLHN9ZnVuY3Rpb24gcnModCl7dmFyIGU9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIG4gaW4gdCllW25zKG4pXT10W25dO3JldHVybiBlfWZ1bmN0aW9uIGlzKHQsZSxuKXtyZXR1cm4gZS5hbHRLZXkmJih0PSJBbHQtIit0KSxlLmN0cmxLZXkmJih0PSJDdHJsLSIrdCksZS5tZXRhS2V5JiYodD0iTWV0YS0iK3QpLCExIT09biYmZS5zaGlmdEtleSYmKHQ9IlNoaWZ0LSIrdCksdH1mdW5jdGlvbiBzcyh0KXtyZXR1cm4gbmV3IFhlKHtwcm9wczp7aGFuZGxlS2V5RG93bjphcyh0KX19KX1mdW5jdGlvbiBhcyh0KXt2YXIgZT1ycyh0KTtyZXR1cm4gZnVuY3Rpb24odCxuKXt2YXIgcixvPXRzKG4pLGk9MT09by5sZW5ndGgmJiIgIiE9byxzPWVbaXMobyxuLCFpKV07aWYocyYmcyh0LnN0YXRlLHQuZGlzcGF0Y2gsdCkpcmV0dXJuITA7aWYoaSYmKG4uc2hpZnRLZXl8fG4uYWx0S2V5fHxuLm1ldGFLZXl8fG8uY2hhckNvZGVBdCgwKT4xMjcpJiYocj1KaVtuLmtleUNvZGVdKSYmciE9byl7dmFyIGE9ZVtpcyhyLG4sITApXTtpZihhJiZhKHQuc3RhdGUsdC5kaXNwYXRjaCx0KSlyZXR1cm4hMH1lbHNlIGlmKGkmJm4uc2hpZnRLZXkpe3ZhciBjPWVbaXMobyxuLCEwKV07aWYoYyYmYyh0LnN0YXRlLHQuZGlzcGF0Y2gsdCkpcmV0dXJuITB9cmV0dXJuITF9fXZhciBjcz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUsZSl9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbihuLHIpe3ZhciBvPW4ucmVzb2x2ZShyLm1hcCh0aGlzLmhlYWQpKTtyZXR1cm4gZS52YWxpZChvKT9uZXcgZShvKTp0Lm5lYXIobyl9LGUucHJvdG90eXBlLmNvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4geS5lbXB0eX0sZS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlJiZ0LmhlYWQ9PXRoaXMuaGVhZH0sZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6ImdhcGN1cnNvciIscG9zOnRoaXMuaGVhZH19LGUuZnJvbUpTT049ZnVuY3Rpb24odCxuKXtpZigibnVtYmVyIiE9dHlwZW9mIG4ucG9zKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBHYXBDdXJzb3IuZnJvbUpTT04iKTtyZXR1cm4gbmV3IGUodC5yZXNvbHZlKG4ucG9zKSl9LGUucHJvdG90eXBlLmdldEJvb2ttYXJrPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBscyh0aGlzLmFuY2hvcil9LGUudmFsaWQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5wYXJlbnQ7aWYoZS5pc1RleHRibG9ja3x8IXVzKHQpfHwhcHModCkpcmV0dXJuITE7dmFyIG49ZS50eXBlLnNwZWMuYWxsb3dHYXBDdXJzb3I7aWYobnVsbCE9bilyZXR1cm4gbjt2YXIgcj1lLmNvbnRlbnRNYXRjaEF0KHQuaW5kZXgoKSkuZGVmYXVsdFR5cGU7cmV0dXJuIHImJnIuaXNUZXh0YmxvY2t9LGUuZmluZEZyb209ZnVuY3Rpb24odCxuLHIpe3Q6Zm9yKDs7KXtpZighciYmZS52YWxpZCh0KSlyZXR1cm4gdDtmb3IodmFyIG89dC5wb3MsaT1udWxsLHM9dC5kZXB0aDs7cy0tKXt2YXIgYT10Lm5vZGUocyk7aWYobj4wP3QuaW5kZXhBZnRlcihzKTxhLmNoaWxkQ291bnQ6dC5pbmRleChzKT4wKXtpPWEuY2hpbGQobj4wP3QuaW5kZXhBZnRlcihzKTp0LmluZGV4KHMpLTEpO2JyZWFrfWlmKDA9PXMpcmV0dXJuIG51bGw7bys9bjt2YXIgYz10LmRvYy5yZXNvbHZlKG8pO2lmKGUudmFsaWQoYykpcmV0dXJuIGN9Zm9yKDs7KXt2YXIgbD1uPjA/aS5maXJzdENoaWxkOmkubGFzdENoaWxkO2lmKCFsKXtpZihpLmlzQXRvbSYmIWkuaXNUZXh0JiYhX2UuaXNTZWxlY3RhYmxlKGkpKXt0PXQuZG9jLnJlc29sdmUobytpLm5vZGVTaXplKm4pLHI9ITE7Y29udGludWUgdH1icmVha31pPWwsbys9bjt2YXIgdT10LmRvYy5yZXNvbHZlKG8pO2lmKGUudmFsaWQodSkpcmV0dXJuIHV9cmV0dXJuIG51bGx9fSxlfShBZSk7Y3MucHJvdG90eXBlLnZpc2libGU9ITEsQWUuanNvbklEKCJnYXBjdXJzb3IiLGNzKTt2YXIgbHM9ZnVuY3Rpb24odCl7dGhpcy5wb3M9dH07ZnVuY3Rpb24gdXModCl7Zm9yKHZhciBlPXQuZGVwdGg7ZT49MDtlLS0pe3ZhciBuPXQuaW5kZXgoZSk7aWYoMCE9bilmb3IodmFyIHI9dC5ub2RlKGUpLmNoaWxkKG4tMSk7O3I9ci5sYXN0Q2hpbGQpe2lmKDA9PXIuY2hpbGRDb3VudCYmIXIuaW5saW5lQ29udGVudHx8ci5pc0F0b218fHIudHlwZS5zcGVjLmlzb2xhdGluZylyZXR1cm4hMDtpZihyLmlubGluZUNvbnRlbnQpcmV0dXJuITF9fXJldHVybiEwfWZ1bmN0aW9uIHBzKHQpe2Zvcih2YXIgZT10LmRlcHRoO2U+PTA7ZS0tKXt2YXIgbj10LmluZGV4QWZ0ZXIoZSkscj10Lm5vZGUoZSk7aWYobiE9ci5jaGlsZENvdW50KWZvcih2YXIgbz1yLmNoaWxkKG4pOztvPW8uZmlyc3RDaGlsZCl7aWYoMD09by5jaGlsZENvdW50JiYhby5pbmxpbmVDb250ZW50fHxvLmlzQXRvbXx8by50eXBlLnNwZWMuaXNvbGF0aW5nKXJldHVybiEwO2lmKG8uaW5saW5lQ29udGVudClyZXR1cm4hMX19cmV0dXJuITB9bHMucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGxzKHQubWFwKHRoaXMucG9zKSl9LGxzLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKHQpe3ZhciBlPXQucmVzb2x2ZSh0aGlzLnBvcyk7cmV0dXJuIGNzLnZhbGlkKGUpP25ldyBjcyhlKTpBZS5uZWFyKGUpfTt2YXIgaHM9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFhlKHtwcm9wczp7ZGVjb3JhdGlvbnM6dnMsY3JlYXRlU2VsZWN0aW9uQmV0d2VlbjpmdW5jdGlvbih0LGUsbil7aWYoZS5wb3M9PW4ucG9zJiZjcy52YWxpZChuKSlyZXR1cm4gbmV3IGNzKG4pfSxoYW5kbGVDbGljazptcyxoYW5kbGVLZXlEb3duOmZzfX0pfSxmcz1hcyh7QXJyb3dMZWZ0OmRzKCJob3JpeiIsLTEpLEFycm93UmlnaHQ6ZHMoImhvcml6IiwxKSxBcnJvd1VwOmRzKCJ2ZXJ0IiwtMSksQXJyb3dEb3duOmRzKCJ2ZXJ0IiwxKX0pO2Z1bmN0aW9uIGRzKHQsZSl7dmFyIG49InZlcnQiPT10P2U+MD8iZG93biI6InVwIjplPjA/InJpZ2h0IjoibGVmdCI7cmV0dXJuIGZ1bmN0aW9uKHQscixvKXt2YXIgaT10LnNlbGVjdGlvbixzPWU+MD9pLiR0bzppLiRmcm9tLGE9aS5lbXB0eTtpZihpIGluc3RhbmNlb2YgVGUpe2lmKCFvLmVuZE9mVGV4dGJsb2NrKG4pfHwwPT1zLmRlcHRoKXJldHVybiExO2E9ITEscz10LmRvYy5yZXNvbHZlKGU+MD9zLmFmdGVyKCk6cy5iZWZvcmUoKSl9dmFyIGM9Y3MuZmluZEZyb20ocyxlLGEpO3JldHVybiEhYyYmKHImJnIodC50ci5zZXRTZWxlY3Rpb24obmV3IGNzKGMpKSksITApfX1mdW5jdGlvbiBtcyh0LGUsbil7aWYoIXQuZWRpdGFibGUpcmV0dXJuITE7dmFyIHI9dC5zdGF0ZS5kb2MucmVzb2x2ZShlKTtpZighY3MudmFsaWQocikpcmV0dXJuITE7dmFyIG89dC5wb3NBdENvb3Jkcyh7bGVmdDpuLmNsaWVudFgsdG9wOm4uY2xpZW50WX0pLGk9by5pbnNpZGU7cmV0dXJuIShpPi0xJiZfZS5pc1NlbGVjdGFibGUodC5zdGF0ZS5kb2Mubm9kZUF0KGkpKSkmJih0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKG5ldyBjcyhyKSkpLCEwKX1mdW5jdGlvbiB2cyh0KXtpZighKHQuc2VsZWN0aW9uIGluc3RhbmNlb2YgY3MpKXJldHVybiBudWxsO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBlLmNsYXNzTmFtZT0iUHJvc2VNaXJyb3ItZ2FwY3Vyc29yIix4aS5jcmVhdGUodC5kb2MsW2dpLndpZGdldCh0LnNlbGVjdGlvbi5oZWFkLGUse2tleToiZ2FwY3Vyc29yIn0pXSl9ZnVuY3Rpb24gZ3ModCxlKXtyZXR1cm4hdC5zZWxlY3Rpb24uZW1wdHkmJihlJiZlKHQudHIuZGVsZXRlU2VsZWN0aW9uKCkuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIHlzKHQsZSxuKXt2YXIgcj10LnNlbGVjdGlvbixvPXIuJGN1cnNvcjtpZighb3x8KG4/IW4uZW5kT2ZUZXh0YmxvY2soImJhY2t3YXJkIix0KTpvLnBhcmVudE9mZnNldD4wKSlyZXR1cm4hMTt2YXIgaT14cyhvKTtpZighaSl7dmFyIHM9by5ibG9ja1JhbmdlKCksYT1zJiZ0ZShzKTtyZXR1cm4gbnVsbCE9YSYmKGUmJmUodC50ci5saWZ0KHMsYSkuc2Nyb2xsSW50b1ZpZXcoKSksITApfXZhciBjPWkubm9kZUJlZm9yZTtpZighYy50eXBlLnNwZWMuaXNvbGF0aW5nJiZ6cyh0LGksZSkpcmV0dXJuITA7aWYoMD09by5wYXJlbnQuY29udGVudC5zaXplJiYod3MoYywiZW5kIil8fF9lLmlzU2VsZWN0YWJsZShjKSkpe2lmKGUpe3ZhciBsPXQudHIuZGVsZXRlUmFuZ2Uoby5iZWZvcmUoKSxvLmFmdGVyKCkpO2wuc2V0U2VsZWN0aW9uKHdzKGMsImVuZCIpP0FlLmZpbmRGcm9tKGwuZG9jLnJlc29sdmUobC5tYXBwaW5nLm1hcChpLnBvcywtMSkpLC0xKTpfZS5jcmVhdGUobC5kb2MsaS5wb3MtYy5ub2RlU2l6ZSkpLGUobC5zY3JvbGxJbnRvVmlldygpKX1yZXR1cm4hMH1yZXR1cm4hKCFjLmlzQXRvbXx8aS5kZXB0aCE9by5kZXB0aC0xKSYmKGUmJmUodC50ci5kZWxldGUoaS5wb3MtYy5ub2RlU2l6ZSxpLnBvcykuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIHdzKHQsZSl7Zm9yKDt0O3Q9InN0YXJ0Ij09ZT90LmZpcnN0Q2hpbGQ6dC5sYXN0Q2hpbGQpaWYodC5pc1RleHRibG9jaylyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBicyh0LGUsbil7dmFyIHI9dC5zZWxlY3Rpb24sbz1yLiRoZWFkLGk9ci5lbXB0eSxzPW87aWYoIWkpcmV0dXJuITE7aWYoby5wYXJlbnQuaXNUZXh0YmxvY2spe2lmKG4/IW4uZW5kT2ZUZXh0YmxvY2soImJhY2t3YXJkIix0KTpvLnBhcmVudE9mZnNldD4wKXJldHVybiExO3M9eHMobyl9dmFyIGE9cyYmcy5ub2RlQmVmb3JlO3JldHVybiEoIWF8fCFfZS5pc1NlbGVjdGFibGUoYSkpJiYoZSYmZSh0LnRyLnNldFNlbGVjdGlvbihfZS5jcmVhdGUodC5kb2Mscy5wb3MtYS5ub2RlU2l6ZSkpLnNjcm9sbEludG9WaWV3KCkpLCEwKX1mdW5jdGlvbiB4cyh0KXtpZighdC5wYXJlbnQudHlwZS5zcGVjLmlzb2xhdGluZylmb3IodmFyIGU9dC5kZXB0aC0xO2U+PTA7ZS0tKXtpZih0LmluZGV4KGUpPjApcmV0dXJuIHQuZG9jLnJlc29sdmUodC5iZWZvcmUoZSsxKSk7aWYodC5ub2RlKGUpLnR5cGUuc3BlYy5pc29sYXRpbmcpYnJlYWt9cmV0dXJuIG51bGx9ZnVuY3Rpb24ga3ModCxlLG4pe3ZhciByPXQuc2VsZWN0aW9uLG89ci4kY3Vyc29yO2lmKCFvfHwobj8hbi5lbmRPZlRleHRibG9jaygiZm9yd2FyZCIsdCk6by5wYXJlbnRPZmZzZXQ8by5wYXJlbnQuY29udGVudC5zaXplKSlyZXR1cm4hMTt2YXIgaT1DcyhvKTtpZighaSlyZXR1cm4hMTt2YXIgcz1pLm5vZGVBZnRlcjtpZih6cyh0LGksZSkpcmV0dXJuITA7aWYoMD09by5wYXJlbnQuY29udGVudC5zaXplJiYod3Mocywic3RhcnQiKXx8X2UuaXNTZWxlY3RhYmxlKHMpKSl7aWYoZSl7dmFyIGE9dC50ci5kZWxldGVSYW5nZShvLmJlZm9yZSgpLG8uYWZ0ZXIoKSk7YS5zZXRTZWxlY3Rpb24od3Mocywic3RhcnQiKT9BZS5maW5kRnJvbShhLmRvYy5yZXNvbHZlKGEubWFwcGluZy5tYXAoaS5wb3MpKSwxKTpfZS5jcmVhdGUoYS5kb2MsYS5tYXBwaW5nLm1hcChpLnBvcykpKSxlKGEuc2Nyb2xsSW50b1ZpZXcoKSl9cmV0dXJuITB9cmV0dXJuISghcy5pc0F0b218fGkuZGVwdGghPW8uZGVwdGgtMSkmJihlJiZlKHQudHIuZGVsZXRlKGkucG9zLGkucG9zK3Mubm9kZVNpemUpLnNjcm9sbEludG9WaWV3KCkpLCEwKX1mdW5jdGlvbiBTcyh0LGUsbil7dmFyIHI9dC5zZWxlY3Rpb24sbz1yLiRoZWFkLGk9ci5lbXB0eSxzPW87aWYoIWkpcmV0dXJuITE7aWYoby5wYXJlbnQuaXNUZXh0YmxvY2spe2lmKG4/IW4uZW5kT2ZUZXh0YmxvY2soImZvcndhcmQiLHQpOm8ucGFyZW50T2Zmc2V0PG8ucGFyZW50LmNvbnRlbnQuc2l6ZSlyZXR1cm4hMTtzPUNzKG8pfXZhciBhPXMmJnMubm9kZUFmdGVyO3JldHVybiEoIWF8fCFfZS5pc1NlbGVjdGFibGUoYSkpJiYoZSYmZSh0LnRyLnNldFNlbGVjdGlvbihfZS5jcmVhdGUodC5kb2Mscy5wb3MpKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9ZnVuY3Rpb24gQ3ModCl7aWYoIXQucGFyZW50LnR5cGUuc3BlYy5pc29sYXRpbmcpZm9yKHZhciBlPXQuZGVwdGgtMTtlPj0wO2UtLSl7dmFyIG49dC5ub2RlKGUpO2lmKHQuaW5kZXgoZSkrMTxuLmNoaWxkQ291bnQpcmV0dXJuIHQuZG9jLnJlc29sdmUodC5hZnRlcihlKzEpKTtpZihuLnR5cGUuc3BlYy5pc29sYXRpbmcpYnJlYWt9cmV0dXJuIG51bGx9ZnVuY3Rpb24gTXModCxlKXt2YXIgbj10LnNlbGVjdGlvbixyPW4uJGZyb20sbz1uLiR0byxpPXIuYmxvY2tSYW5nZShvKSxzPWkmJnRlKGkpO3JldHVybiBudWxsIT1zJiYoZSYmZSh0LnRyLmxpZnQoaSxzKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9ZnVuY3Rpb24gT3ModCxlKXt2YXIgbj10LnNlbGVjdGlvbixyPW4uJGhlYWQsbz1uLiRhbmNob3I7cmV0dXJuISghci5wYXJlbnQudHlwZS5zcGVjLmNvZGV8fCFyLnNhbWVQYXJlbnQobykpJiYoZSYmZSh0LnRyLmluc2VydFRleHQoIlxuIikuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIEFzKHQpe2Zvcih2YXIgZT0wO2U8dC5lZGdlQ291bnQ7ZSsrKXt2YXIgbj10LmVkZ2UoZSkscj1uLnR5cGU7aWYoci5pc1RleHRibG9jayYmIXIuaGFzUmVxdWlyZWRBdHRycygpKXJldHVybiByfXJldHVybiBudWxsfWZ1bmN0aW9uIE5zKHQsZSl7dmFyIG49dC5zZWxlY3Rpb24scj1uLiRoZWFkLG89bi4kYW5jaG9yO2lmKCFyLnBhcmVudC50eXBlLnNwZWMuY29kZXx8IXIuc2FtZVBhcmVudChvKSlyZXR1cm4hMTt2YXIgaT1yLm5vZGUoLTEpLHM9ci5pbmRleEFmdGVyKC0xKSxhPUFzKGkuY29udGVudE1hdGNoQXQocykpO2lmKCFpLmNhblJlcGxhY2VXaXRoKHMscyxhKSlyZXR1cm4hMTtpZihlKXt2YXIgYz1yLmFmdGVyKCksbD10LnRyLnJlcGxhY2VXaXRoKGMsYyxhLmNyZWF0ZUFuZEZpbGwoKSk7bC5zZXRTZWxlY3Rpb24oQWUubmVhcihsLmRvYy5yZXNvbHZlKGMpLDEpKSxlKGwuc2Nyb2xsSW50b1ZpZXcoKSl9cmV0dXJuITB9ZnVuY3Rpb24gRXModCxlKXt2YXIgbj10LnNlbGVjdGlvbixyPW4uJGZyb20sbz1uLiR0bztpZihuIGluc3RhbmNlb2YgemV8fHIucGFyZW50LmlubGluZUNvbnRlbnR8fG8ucGFyZW50LmlubGluZUNvbnRlbnQpcmV0dXJuITE7dmFyIGk9QXMoby5wYXJlbnQuY29udGVudE1hdGNoQXQoby5pbmRleEFmdGVyKCkpKTtpZighaXx8IWkuaXNUZXh0YmxvY2spcmV0dXJuITE7aWYoZSl7dmFyIHM9KCFyLnBhcmVudE9mZnNldCYmby5pbmRleCgpPG8ucGFyZW50LmNoaWxkQ291bnQ/cjpvKS5wb3MsYT10LnRyLmluc2VydChzLGkuY3JlYXRlQW5kRmlsbCgpKTthLnNldFNlbGVjdGlvbihUZS5jcmVhdGUoYS5kb2MscysxKSksZShhLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfWZ1bmN0aW9uIFRzKHQsZSl7dmFyIG49dC5zZWxlY3Rpb24scj1uLiRjdXJzb3I7aWYoIXJ8fHIucGFyZW50LmNvbnRlbnQuc2l6ZSlyZXR1cm4hMTtpZihyLmRlcHRoPjEmJnIuYWZ0ZXIoKSE9ci5lbmQoLTEpKXt2YXIgbz1yLmJlZm9yZSgpO2lmKHNlKHQuZG9jLG8pKXJldHVybiBlJiZlKHQudHIuc3BsaXQobykuc2Nyb2xsSW50b1ZpZXcoKSksITB9dmFyIGk9ci5ibG9ja1JhbmdlKCkscz1pJiZ0ZShpKTtyZXR1cm4gbnVsbCE9cyYmKGUmJmUodC50ci5saWZ0KGkscykuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIERzKHQsZSl7dmFyIG49dC5zZWxlY3Rpb24scj1uLiRmcm9tLG89bi4kdG87aWYodC5zZWxlY3Rpb24gaW5zdGFuY2VvZiBfZSYmdC5zZWxlY3Rpb24ubm9kZS5pc0Jsb2NrKXJldHVybiEoIXIucGFyZW50T2Zmc2V0fHwhc2UodC5kb2Msci5wb3MpKSYmKGUmJmUodC50ci5zcGxpdChyLnBvcykuc2Nyb2xsSW50b1ZpZXcoKSksITApO2lmKCFyLnBhcmVudC5pc0Jsb2NrKXJldHVybiExO2lmKGUpe3ZhciBpPW8ucGFyZW50T2Zmc2V0PT1vLnBhcmVudC5jb250ZW50LnNpemUscz10LnRyOyh0LnNlbGVjdGlvbiBpbnN0YW5jZW9mIFRlfHx0LnNlbGVjdGlvbiBpbnN0YW5jZW9mIHplKSYmcy5kZWxldGVTZWxlY3Rpb24oKTt2YXIgYT0wPT1yLmRlcHRoP251bGw6QXMoci5ub2RlKC0xKS5jb250ZW50TWF0Y2hBdChyLmluZGV4QWZ0ZXIoLTEpKSksYz1pJiZhP1t7dHlwZTphfV06bnVsbCxsPXNlKHMuZG9jLHMubWFwcGluZy5tYXAoci5wb3MpLDEsYyk7aWYoY3x8bHx8IXNlKHMuZG9jLHMubWFwcGluZy5tYXAoci5wb3MpLDEsYSYmW3t0eXBlOmF9XSl8fChjPVt7dHlwZTphfV0sbD0hMCksbCYmKHMuc3BsaXQocy5tYXBwaW5nLm1hcChyLnBvcyksMSxjKSwhaSYmIXIucGFyZW50T2Zmc2V0JiZyLnBhcmVudC50eXBlIT1hKSl7dmFyIHU9cy5tYXBwaW5nLm1hcChyLmJlZm9yZSgpKSxwPXMuZG9jLnJlc29sdmUodSk7ci5ub2RlKC0xKS5jYW5SZXBsYWNlV2l0aChwLmluZGV4KCkscC5pbmRleCgpKzEsYSkmJnMuc2V0Tm9kZU1hcmt1cChzLm1hcHBpbmcubWFwKHIuYmVmb3JlKCkpLGEpfWUocy5zY3JvbGxJbnRvVmlldygpKX1yZXR1cm4hMH1mdW5jdGlvbiBfcyh0LGUpe3JldHVybiBlJiZlKHQudHIuc2V0U2VsZWN0aW9uKG5ldyB6ZSh0LmRvYykpKSwhMH1mdW5jdGlvbiBScyh0LGUsbil7dmFyIHI9ZS5ub2RlQmVmb3JlLG89ZS5ub2RlQWZ0ZXIsaT1lLmluZGV4KCk7cmV0dXJuISEociYmbyYmci50eXBlLmNvbXBhdGlibGVDb250ZW50KG8udHlwZSkpJiYoIXIuY29udGVudC5zaXplJiZlLnBhcmVudC5jYW5SZXBsYWNlKGktMSxpKT8obiYmbih0LnRyLmRlbGV0ZShlLnBvcy1yLm5vZGVTaXplLGUucG9zKS5zY3JvbGxJbnRvVmlldygpKSwhMCk6ISghZS5wYXJlbnQuY2FuUmVwbGFjZShpLGkrMSl8fCFvLmlzVGV4dGJsb2NrJiYhYWUodC5kb2MsZS5wb3MpKSYmKG4mJm4odC50ci5jbGVhckluY29tcGF0aWJsZShlLnBvcyxyLnR5cGUsci5jb250ZW50TWF0Y2hBdChyLmNoaWxkQ291bnQpKS5qb2luKGUucG9zKS5zY3JvbGxJbnRvVmlldygpKSwhMCkpfWZ1bmN0aW9uIHpzKHQsZSxuKXt2YXIgcixvLGk9ZS5ub2RlQmVmb3JlLHM9ZS5ub2RlQWZ0ZXI7aWYoaS50eXBlLnNwZWMuaXNvbGF0aW5nfHxzLnR5cGUuc3BlYy5pc29sYXRpbmcpcmV0dXJuITE7aWYoUnModCxlLG4pKXJldHVybiEwO3ZhciBhPWUucGFyZW50LmNhblJlcGxhY2UoZS5pbmRleCgpLGUuaW5kZXgoKSsxKTtpZihhJiYocj0obz1pLmNvbnRlbnRNYXRjaEF0KGkuY2hpbGRDb3VudCkpLmZpbmRXcmFwcGluZyhzLnR5cGUpKSYmby5tYXRjaFR5cGUoclswXXx8cy50eXBlKS52YWxpZEVuZCl7aWYobil7Zm9yKHZhciBjPWUucG9zK3Mubm9kZVNpemUsbD1wLmVtcHR5LHU9ci5sZW5ndGgtMTt1Pj0wO3UtLSlsPXAuZnJvbShyW3VdLmNyZWF0ZShudWxsLGwpKTtsPXAuZnJvbShpLmNvcHkobCkpO3ZhciBoPXQudHIuc3RlcChuZXcgWXQoZS5wb3MtMSxjLGUucG9zLGMsbmV3IHkobCwxLDApLHIubGVuZ3RoLCEwKSksZj1jKzIqci5sZW5ndGg7YWUoaC5kb2MsZikmJmguam9pbihmKSxuKGguc2Nyb2xsSW50b1ZpZXcoKSl9cmV0dXJuITB9dmFyIGQ9QWUuZmluZEZyb20oZSwxKSxtPWQmJmQuJGZyb20uYmxvY2tSYW5nZShkLiR0byksdj1tJiZ0ZShtKTtpZihudWxsIT12JiZ2Pj1lLmRlcHRoKXJldHVybiBuJiZuKHQudHIubGlmdChtLHYpLnNjcm9sbEludG9WaWV3KCkpLCEwO2lmKGEmJnMuaXNUZXh0YmxvY2smJndzKGksImVuZCIpKXtmb3IodmFyIGc9aSx3PVtdOzspe2lmKHcucHVzaChnKSxnLmlzVGV4dGJsb2NrKWJyZWFrO2c9Zy5sYXN0Q2hpbGR9aWYoZy5jYW5SZXBsYWNlKGcuY2hpbGRDb3VudCxnLmNoaWxkQ291bnQscy5jb250ZW50KSl7aWYobil7Zm9yKHZhciBiPXAuZW1wdHkseD13Lmxlbmd0aC0xO3g+PTA7eC0tKWI9cC5mcm9tKHdbeF0uY29weShiKSk7dmFyIGs9dC50ci5zdGVwKG5ldyBZdChlLnBvcy13Lmxlbmd0aCxlLnBvcytzLm5vZGVTaXplLGUucG9zKzEsZS5wb3Mrcy5ub2RlU2l6ZS0xLG5ldyB5KGIsdy5sZW5ndGgsMCksMCwhMCkpO24oay5zY3JvbGxJbnRvVmlldygpKX1yZXR1cm4hMH19cmV0dXJuITF9ZnVuY3Rpb24gSXModCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXt2YXIgbz1uLnNlbGVjdGlvbixpPW8uJGZyb20scz1vLiR0byxhPWkuYmxvY2tSYW5nZShzKSxjPWEmJmVlKGEsdCxlKTtyZXR1cm4hIWMmJihyJiZyKG4udHIud3JhcChhLGMpLnNjcm9sbEludG9WaWV3KCkpLCEwKX19ZnVuY3Rpb24gUHModCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXt2YXIgbz1uLnNlbGVjdGlvbixpPW8uZnJvbSxzPW8udG8sYT0hMTtyZXR1cm4gbi5kb2Mubm9kZXNCZXR3ZWVuKGkscywoZnVuY3Rpb24ocixvKXtpZihhKXJldHVybiExO2lmKHIuaXNUZXh0YmxvY2smJiFyLmhhc01hcmt1cCh0LGUpKWlmKHIudHlwZT09dClhPSEwO2Vsc2V7dmFyIGk9bi5kb2MucmVzb2x2ZShvKSxzPWkuaW5kZXgoKTthPWkucGFyZW50LmNhblJlcGxhY2VXaXRoKHMscysxLHQpfX0pKSwhIWEmJihyJiZyKG4udHIuc2V0QmxvY2tUeXBlKGkscyx0LGUpLnNjcm9sbEludG9WaWV3KCkpLCEwKX19ZnVuY3Rpb24gJHModCxlLG4pe2Zvcih2YXIgcj1mdW5jdGlvbihyKXt2YXIgbz1lW3JdLGk9by4kZnJvbSxzPW8uJHRvLGE9MD09aS5kZXB0aCYmdC50eXBlLmFsbG93c01hcmtUeXBlKG4pO2lmKHQubm9kZXNCZXR3ZWVuKGkucG9zLHMucG9zLChmdW5jdGlvbih0KXtpZihhKXJldHVybiExO2E9dC5pbmxpbmVDb250ZW50JiZ0LnR5cGUuYWxsb3dzTWFya1R5cGUobil9KSksYSlyZXR1cm57djohMH19LG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIGk9cihvKTtpZihpKXJldHVybiBpLnZ9cmV0dXJuITF9ZnVuY3Rpb24gQnModCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXt2YXIgbz1uLnNlbGVjdGlvbixpPW8uZW1wdHkscz1vLiRjdXJzb3IsYT1vLnJhbmdlcztpZihpJiYhc3x8ISRzKG4uZG9jLGEsdCkpcmV0dXJuITE7aWYocilpZihzKXQuaXNJblNldChuLnN0b3JlZE1hcmtzfHxzLm1hcmtzKCkpP3Iobi50ci5yZW1vdmVTdG9yZWRNYXJrKHQpKTpyKG4udHIuYWRkU3RvcmVkTWFyayh0LmNyZWF0ZShlKSkpO2Vsc2V7Zm9yKHZhciBjPSExLGw9bi50cix1PTA7IWMmJnU8YS5sZW5ndGg7dSsrKXt2YXIgcD1hW3VdLGg9cC4kZnJvbSxmPXAuJHRvO2M9bi5kb2MucmFuZ2VIYXNNYXJrKGgucG9zLGYucG9zLHQpfWZvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgbT1hW2RdLHY9bS4kZnJvbSxnPW0uJHRvO2lmKGMpbC5yZW1vdmVNYXJrKHYucG9zLGcucG9zLHQpO2Vsc2V7dmFyIHk9di5wb3Msdz1nLnBvcyxiPXYubm9kZUFmdGVyLHg9Zy5ub2RlQmVmb3JlLGs9YiYmYi5pc1RleHQ/L15ccyovLmV4ZWMoYi50ZXh0KVswXS5sZW5ndGg6MCxTPXgmJnguaXNUZXh0Py9ccyokLy5leGVjKHgudGV4dClbMF0ubGVuZ3RoOjA7eStrPHcmJih5Kz1rLHctPVMpLGwuYWRkTWFyayh5LHcsdC5jcmVhdGUoZSkpfX1yKGwuc2Nyb2xsSW50b1ZpZXcoKSl9cmV0dXJuITB9fWZ1bmN0aW9uIFZzKCl7dmFyIHQ9W10sZT1hcmd1bWVudHMubGVuZ3RoO3doaWxlKGUtLSl0W2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gZnVuY3Rpb24oZSxuLHIpe2Zvcih2YXIgbz0wO288dC5sZW5ndGg7bysrKWlmKHRbb10oZSxuLHIpKXJldHVybiEwO3JldHVybiExfX12YXIganM9VnMoZ3MseXMsYnMpLExzPVZzKGdzLGtzLFNzKSxGcz17RW50ZXI6VnMoT3MsRXMsVHMsRHMpLCJNb2QtRW50ZXIiOk5zLEJhY2tzcGFjZTpqcywiTW9kLUJhY2tzcGFjZSI6anMsRGVsZXRlOkxzLCJNb2QtRGVsZXRlIjpMcywiTW9kLWEiOl9zfSxIcz17IkN0cmwtaCI6RnNbIkJhY2tzcGFjZSJdLCJBbHQtQmFja3NwYWNlIjpGc1siTW9kLUJhY2tzcGFjZSJdLCJDdHJsLWQiOkZzWyJEZWxldGUiXSwiQ3RybC1BbHQtQmFja3NwYWNlIjpGc1siTW9kLURlbGV0ZSJdLCJBbHQtRGVsZXRlIjpGc1siTW9kLURlbGV0ZSJdLCJBbHQtZCI6RnNbIk1vZC1EZWxldGUiXX07Zm9yKHZhciBKcyBpbiBGcylIc1tKc109RnNbSnNdO3ZhciBXcz0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvcj8vTWFjLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk6InVuZGVmaW5lZCIhPXR5cGVvZiBvcyYmImRhcndpbiI9PW9zLnBsYXRmb3JtKCkscXM9V3M/SHM6RnMsS3M9ZnVuY3Rpb24odCxlKXt0aGlzLm1hdGNoPXQsdGhpcy5oYW5kbGVyPSJzdHJpbmciPT10eXBlb2YgZT9VcyhlKTplfTtmdW5jdGlvbiBVcyh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLHIsbyl7dmFyIGk9dDtpZihuWzFdKXt2YXIgcz1uWzBdLmxhc3RJbmRleE9mKG5bMV0pO2krPW5bMF0uc2xpY2UocytuWzFdLmxlbmd0aCkscis9czt2YXIgYT1yLW87YT4wJiYoaT1uWzBdLnNsaWNlKHMtYSxzKStpLHI9byl9cmV0dXJuIGUudHIuaW5zZXJ0VGV4dChpLHIsbyl9fXZhciBHcz01MDA7ZnVuY3Rpb24gWHModCl7dmFyIGU9dC5ydWxlcyxuPW5ldyBYZSh7c3RhdGU6e2luaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sYXBwbHk6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldE1ldGEodGhpcyk7cmV0dXJuIG58fCh0LnNlbGVjdGlvblNldHx8dC5kb2NDaGFuZ2VkP251bGw6ZSl9fSxwcm9wczp7aGFuZGxlVGV4dElucHV0OmZ1bmN0aW9uKHQscixvLGkpe3JldHVybiBZcyh0LHIsbyxpLGUsbil9LGhhbmRsZURPTUV2ZW50czp7Y29tcG9zaXRpb25lbmQ6ZnVuY3Rpb24odCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt2YXIgcj10LnN0YXRlLnNlbGVjdGlvbixvPXIuJGN1cnNvcjtvJiZZcyh0LG8ucG9zLG8ucG9zLCIiLGUsbil9KSl9fX0saXNJbnB1dFJ1bGVzOiEwfSk7cmV0dXJuIG59ZnVuY3Rpb24gWXModCxlLG4scixvLGkpe2lmKHQuY29tcG9zaW5nKXJldHVybiExO3ZhciBzPXQuc3RhdGUsYT1zLmRvYy5yZXNvbHZlKGUpO2lmKGEucGFyZW50LnR5cGUuc3BlYy5jb2RlKXJldHVybiExO2Zvcih2YXIgYz1hLnBhcmVudC50ZXh0QmV0d2VlbihNYXRoLm1heCgwLGEucGFyZW50T2Zmc2V0LUdzKSxhLnBhcmVudE9mZnNldCxudWxsLCLvv7wiKStyLGw9MDtsPG8ubGVuZ3RoO2wrKyl7dmFyIHU9b1tsXS5tYXRjaC5leGVjKGMpLHA9dSYmb1tsXS5oYW5kbGVyKHMsdSxlLSh1WzBdLmxlbmd0aC1yLmxlbmd0aCksbik7aWYocClyZXR1cm4gdC5kaXNwYXRjaChwLnNldE1ldGEoaSx7dHJhbnNmb3JtOnAsZnJvbTplLHRvOm4sdGV4dDpyfSkpLCEwfXJldHVybiExfWZ1bmN0aW9uIFpzKHQsZSl7Zm9yKHZhciBuPXQucGx1Z2lucyxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl0saT12b2lkIDA7aWYoby5zcGVjLmlzSW5wdXRSdWxlcyYmKGk9by5nZXRTdGF0ZSh0KSkpe2lmKGUpe2Zvcih2YXIgcz10LnRyLGE9aS50cmFuc2Zvcm0sYz1hLnN0ZXBzLmxlbmd0aC0xO2M+PTA7Yy0tKXMuc3RlcChhLnN0ZXBzW2NdLmludmVydChhLmRvY3NbY10pKTtpZihpLnRleHQpe3ZhciBsPXMuZG9jLnJlc29sdmUoaS5mcm9tKS5tYXJrcygpO3MucmVwbGFjZVdpdGgoaS5mcm9tLGkudG8sdC5zY2hlbWEudGV4dChpLnRleHQsbCkpfWVsc2Ugcy5kZWxldGUoaS5mcm9tLGkudG8pO2Uocyl9cmV0dXJuITB9fXJldHVybiExfW5ldyBLcygvLS0kLywi4oCUIiksbmV3IEtzKC9cLlwuXC4kLywi4oCmIiksbmV3IEtzKC8oPzpefFtcc1x7XFtcKFw8JyJcdTIwMThcdTIwMUNdKSgiKSQvLCLigJwiKSxuZXcgS3MoLyIkLywi4oCdIiksbmV3IEtzKC8oPzpefFtcc1x7XFtcKFw8JyJcdTIwMThcdTIwMUNdKSgnKSQvLCLigJgiKSxuZXcgS3MoLyckLywi4oCZIik7ZnVuY3Rpb24gUXModCxlLG4scil7cmV0dXJuIG5ldyBLcyh0LChmdW5jdGlvbih0LG8saSxzKXt2YXIgYT1uIGluc3RhbmNlb2YgRnVuY3Rpb24/bihvKTpuLGM9dC50ci5kZWxldGUoaSxzKSxsPWMuZG9jLnJlc29sdmUoaSksdT1sLmJsb2NrUmFuZ2UoKSxwPXUmJmVlKHUsZSxhKTtpZighcClyZXR1cm4gbnVsbDtjLndyYXAodSxwKTt2YXIgaD1jLmRvYy5yZXNvbHZlKGktMSkubm9kZUJlZm9yZTtyZXR1cm4gaCYmaC50eXBlPT1lJiZhZShjLmRvYyxpLTEpJiYoIXJ8fHIobyxoKSkmJmMuam9pbihpLTEpLGN9KSl9ZnVuY3Rpb24gdGEodCxlLG4pe3JldHVybiBuZXcgS3ModCwoZnVuY3Rpb24odCxyLG8saSl7dmFyIHM9dC5kb2MucmVzb2x2ZShvKSxhPW4gaW5zdGFuY2VvZiBGdW5jdGlvbj9uKHIpOm47cmV0dXJuIHMubm9kZSgtMSkuY2FuUmVwbGFjZVdpdGgocy5pbmRleCgtMSkscy5pbmRleEFmdGVyKC0xKSxlKT90LnRyLmRlbGV0ZShvLGkpLnNldEJsb2NrVHlwZShvLG8sZSxhKTpudWxsfSkpfQovKiEKICAgICogdGlwdGFwLXV0aWxzIHYxLjEzLjAKICAgICogKGMpIDIwMjEgw7xiZXJkb3NpcyBHYlIgKGxpbWl0ZWQgbGlhYmlsaXR5KQogICAgKiBAbGljZW5zZSBNSVQKICAgICovCmZ1bmN0aW9uIGVhKHQsZSl7cmV0dXJuIGU/dC5jcmVhdGVDaGVja2VkKG51bGwsZSk6dC5jcmVhdGVBbmRGaWxsKCl9ZnVuY3Rpb24gbmEodCl7aWYodC5jYWNoZWQudGFibGVOb2RlVHlwZXMpcmV0dXJuIHQuY2FjaGVkLnRhYmxlTm9kZVR5cGVzO2NvbnN0IGU9e307cmV0dXJuIE9iamVjdC5rZXlzKHQubm9kZXMpLmZvckVhY2goKG49Pntjb25zdCByPXQubm9kZXNbbl07ci5zcGVjLnRhYmxlUm9sZSYmKGVbci5zcGVjLnRhYmxlUm9sZV09cil9KSksdC5jYWNoZWQudGFibGVOb2RlVHlwZXM9ZSxlfWZ1bmN0aW9uIHJhKHQsZSxuLHIsbyl7Y29uc3QgaT1uYSh0KSxzPVtdLGE9W107Zm9yKGxldCBsPTA7bDxuO2wrPTEpe2NvbnN0IHQ9ZWEoaS5jZWxsLG8pO2lmKHQmJmEucHVzaCh0KSxyKXtjb25zdCB0PWVhKGkuaGVhZGVyX2NlbGwsbyk7dCYmcy5wdXNoKHQpfX1jb25zdCBjPVtdO2ZvcihsZXQgbD0wO2w8ZTtsKz0xKWMucHVzaChpLnJvdy5jcmVhdGVDaGVja2VkKG51bGwsciYmMD09PWw/czphKSk7cmV0dXJuIGkudGFibGUuY3JlYXRlQ2hlY2tlZChudWxsLGMpfWZ1bmN0aW9uIG9hKHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCkmJnQuaW5kZXhPZihlLnR5cGUpPi0xfHxlLnR5cGU9PT10fWZ1bmN0aW9uIGlhKHQsZSl7Zm9yKGxldCBuPXQuZGVwdGg7bj4wO24tPTEpe2NvbnN0IHI9dC5ub2RlKG4pO2lmKGUocikpcmV0dXJue3BvczpuPjA/dC5iZWZvcmUobik6MCxzdGFydDp0LnN0YXJ0KG4pLGRlcHRoOm4sbm9kZTpyfX19ZnVuY3Rpb24gc2EodCl7cmV0dXJuIGU9PmlhKGUuJGZyb20sdCl9ZnVuY3Rpb24gYWEodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBfZX1mdW5jdGlvbiBjYSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoYWEoZSkpe2NvbnN0e25vZGU6bn09ZSx7JGZyb206cn09ZTtpZihvYSh0LG4pKXJldHVybntub2RlOm4scG9zOnIucG9zLGRlcHRoOnIuZGVwdGh9fX19ZnVuY3Rpb24gbGEodCxlKXtjb25zdHtmcm9tOm4sdG86cn09dC5zZWxlY3Rpb247bGV0IG89W107dC5kb2Mubm9kZXNCZXR3ZWVuKG4sciwodD0+e289Wy4uLm8sLi4udC5tYXJrc119KSk7Y29uc3QgaT1vLmZpbmQoKHQ9PnQudHlwZS5uYW1lPT09ZS5uYW1lKSk7cmV0dXJuIGk/aS5hdHRyczp7fX1mdW5jdGlvbiB1YSh0PW51bGwsZT1udWxsKXtpZighdHx8IWUpcmV0dXJuITE7Y29uc3Qgbj10LnBhcmVudC5jaGlsZEFmdGVyKHQucGFyZW50T2Zmc2V0KTtpZighbi5ub2RlKXJldHVybiExO2NvbnN0IHI9bi5ub2RlLm1hcmtzLmZpbmQoKHQ9PnQudHlwZT09PWUpKTtpZighcilyZXR1cm4hMTtsZXQgbz10LmluZGV4KCksaT10LnN0YXJ0KCkrbi5vZmZzZXQscz1vKzEsYT1pK24ubm9kZS5ub2RlU2l6ZTt3aGlsZShvPjAmJnIuaXNJblNldCh0LnBhcmVudC5jaGlsZChvLTEpLm1hcmtzKSlvLT0xLGktPXQucGFyZW50LmNoaWxkKG8pLm5vZGVTaXplO3doaWxlKHM8dC5wYXJlbnQuY2hpbGRDb3VudCYmci5pc0luU2V0KHQucGFyZW50LmNoaWxkKHMpLm1hcmtzKSlhKz10LnBhcmVudC5jaGlsZChzKS5ub2RlU2l6ZSxzKz0xO3JldHVybntmcm9tOmksdG86YX19ZnVuY3Rpb24gcGEodCxlKXtjb25zdHtmcm9tOm4sdG86cn09dC5zZWxlY3Rpb247bGV0IG89W107dC5kb2Mubm9kZXNCZXR3ZWVuKG4sciwodD0+e289Wy4uLm8sdF19KSk7Y29uc3QgaT1vLnJldmVyc2UoKS5maW5kKCh0PT50LnR5cGUubmFtZT09PWUubmFtZSkpO3JldHVybiBpP2kuYXR0cnM6e319ZnVuY3Rpb24gaGEodCxlKXtjb25zdHtmcm9tOm4sJGZyb206cix0bzpvLGVtcHR5Oml9PXQuc2VsZWN0aW9uO3JldHVybiBpPyEhZS5pc0luU2V0KHQuc3RvcmVkTWFya3N8fHIubWFya3MoKSk6ISF0LmRvYy5yYW5nZUhhc01hcmsobixvLGUpfWZ1bmN0aW9uIGZhKHQsZSxuPXt9KXtjb25zdCByPXQ9PnQudHlwZT09PWUsbz1jYShlKSh0LnNlbGVjdGlvbil8fHNhKHIpKHQuc2VsZWN0aW9uKTtyZXR1cm4gT2JqZWN0LmtleXMobikubGVuZ3RoJiZvP28ubm9kZS5oYXNNYXJrdXAoZSx7Li4uby5ub2RlLmF0dHJzLC4uLm59KTohIW99dmFyIGRhPXIoMjAwNSksbWE9ci5uKGRhKTtmdW5jdGlvbiB2YSh0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciBvPW4uc2VsZWN0aW9uLGk9by4kZnJvbSxzPW8uJHRvLGE9aS5ibG9ja1JhbmdlKHMpLGM9ITEsbD1hO2lmKCFhKXJldHVybiExO2lmKGEuZGVwdGg+PTImJmkubm9kZShhLmRlcHRoLTEpLnR5cGUuY29tcGF0aWJsZUNvbnRlbnQodCkmJjA9PWEuc3RhcnRJbmRleCl7aWYoMD09aS5pbmRleChhLmRlcHRoLTEpKXJldHVybiExO3ZhciB1PW4uZG9jLnJlc29sdmUoYS5zdGFydC0yKTtsPW5ldyAkKHUsdSxhLmRlcHRoKSxhLmVuZEluZGV4PGEucGFyZW50LmNoaWxkQ291bnQmJihhPW5ldyAkKGksbi5kb2MucmVzb2x2ZShzLmVuZChhLmRlcHRoKSksYS5kZXB0aCkpLGM9ITB9dmFyIHA9ZWUobCx0LGUsYSk7cmV0dXJuISFwJiYociYmcihnYShuLnRyLGEscCxjLHQpLnNjcm9sbEludG9WaWV3KCkpLCEwKX19ZnVuY3Rpb24gZ2EodCxlLG4scixvKXtmb3IodmFyIGk9cC5lbXB0eSxzPW4ubGVuZ3RoLTE7cz49MDtzLS0paT1wLmZyb20obltzXS50eXBlLmNyZWF0ZShuW3NdLmF0dHJzLGkpKTt0LnN0ZXAobmV3IFl0KGUuc3RhcnQtKHI/MjowKSxlLmVuZCxlLnN0YXJ0LGUuZW5kLG5ldyB5KGksMCwwKSxuLmxlbmd0aCwhMCkpO2Zvcih2YXIgYT0wLGM9MDtjPG4ubGVuZ3RoO2MrKyluW2NdLnR5cGU9PW8mJihhPWMrMSk7Zm9yKHZhciBsPW4ubGVuZ3RoLWEsdT1lLnN0YXJ0K24ubGVuZ3RoLShyPzI6MCksaD1lLnBhcmVudCxmPWUuc3RhcnRJbmRleCxkPWUuZW5kSW5kZXgsbT0hMDtmPGQ7ZisrLG09ITEpIW0mJnNlKHQuZG9jLHUsbCkmJih0LnNwbGl0KHUsbCksdSs9MipsKSx1Kz1oLmNoaWxkKGYpLm5vZGVTaXplO3JldHVybiB0fWZ1bmN0aW9uIHlhKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciByPWUuc2VsZWN0aW9uLG89ci4kZnJvbSxpPXIuJHRvLHM9ci5ub2RlO2lmKHMmJnMuaXNCbG9ja3x8by5kZXB0aDwyfHwhby5zYW1lUGFyZW50KGkpKXJldHVybiExO3ZhciBhPW8ubm9kZSgtMSk7aWYoYS50eXBlIT10KXJldHVybiExO2lmKDA9PW8ucGFyZW50LmNvbnRlbnQuc2l6ZSYmby5ub2RlKC0xKS5jaGlsZENvdW50PT1vLmluZGV4QWZ0ZXIoLTEpKXtpZigyPT1vLmRlcHRofHxvLm5vZGUoLTMpLnR5cGUhPXR8fG8uaW5kZXgoLTIpIT1vLm5vZGUoLTIpLmNoaWxkQ291bnQtMSlyZXR1cm4hMTtpZihuKXtmb3IodmFyIGM9cC5lbXB0eSxsPW8uaW5kZXgoLTEpPjAsdT1vLmRlcHRoLShsPzE6Mik7dT49by5kZXB0aC0zO3UtLSljPXAuZnJvbShvLm5vZGUodSkuY29weShjKSk7Yz1jLmFwcGVuZChwLmZyb20odC5jcmVhdGVBbmRGaWxsKCkpKTt2YXIgaD1lLnRyLnJlcGxhY2Uoby5iZWZvcmUobD9udWxsOi0xKSxvLmFmdGVyKC0zKSxuZXcgeShjLGw/MzoyLDIpKTtoLnNldFNlbGVjdGlvbihlLnNlbGVjdGlvbi5jb25zdHJ1Y3Rvci5uZWFyKGguZG9jLnJlc29sdmUoby5wb3MrKGw/MzoyKSkpKSxuKGguc2Nyb2xsSW50b1ZpZXcoKSl9cmV0dXJuITB9dmFyIGY9aS5wb3M9PW8uZW5kKCk/YS5jb250ZW50TWF0Y2hBdCgwKS5kZWZhdWx0VHlwZTpudWxsLGQ9ZS50ci5kZWxldGUoby5wb3MsaS5wb3MpLG09ZiYmW251bGwse3R5cGU6Zn1dO3JldHVybiEhc2UoZC5kb2Msby5wb3MsMixtKSYmKG4mJm4oZC5zcGxpdChvLnBvcywyLG0pLnNjcm9sbEludG9WaWV3KCkpLCEwKX19ZnVuY3Rpb24gd2EodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIHI9ZS5zZWxlY3Rpb24sbz1yLiRmcm9tLGk9ci4kdG8scz1vLmJsb2NrUmFuZ2UoaSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hpbGRDb3VudCYmZS5maXJzdENoaWxkLnR5cGU9PXR9KSk7cmV0dXJuISFzJiYoIW58fChvLm5vZGUocy5kZXB0aC0xKS50eXBlPT10P2JhKGUsbix0LHMpOnhhKGUsbixzKSkpfX1mdW5jdGlvbiBiYSh0LGUsbixyKXt2YXIgbz10LnRyLGk9ci5lbmQscz1yLiR0by5lbmQoci5kZXB0aCk7cmV0dXJuIGk8cyYmKG8uc3RlcChuZXcgWXQoaS0xLHMsaSxzLG5ldyB5KHAuZnJvbShuLmNyZWF0ZShudWxsLHIucGFyZW50LmNvcHkoKSkpLDEsMCksMSwhMCkpLHI9bmV3ICQoby5kb2MucmVzb2x2ZShyLiRmcm9tLnBvcyksby5kb2MucmVzb2x2ZShzKSxyLmRlcHRoKSksZShvLmxpZnQocix0ZShyKSkuc2Nyb2xsSW50b1ZpZXcoKSksITB9ZnVuY3Rpb24geGEodCxlLG4pe2Zvcih2YXIgcj10LnRyLG89bi5wYXJlbnQsaT1uLmVuZCxzPW4uZW5kSW5kZXgtMSxhPW4uc3RhcnRJbmRleDtzPmE7cy0tKWktPW8uY2hpbGQocykubm9kZVNpemUsci5kZWxldGUoaS0xLGkrMSk7dmFyIGM9ci5kb2MucmVzb2x2ZShuLnN0YXJ0KSxsPWMubm9kZUFmdGVyLHU9MD09bi5zdGFydEluZGV4LGg9bi5lbmRJbmRleD09by5jaGlsZENvdW50LGY9Yy5ub2RlKC0xKSxkPWMuaW5kZXgoLTEpO2lmKCFmLmNhblJlcGxhY2UoZCsodT8wOjEpLGQrMSxsLmNvbnRlbnQuYXBwZW5kKGg/cC5lbXB0eTpwLmZyb20obykpKSlyZXR1cm4hMTt2YXIgbT1jLnBvcyx2PW0rbC5ub2RlU2l6ZTtyZXR1cm4gci5zdGVwKG5ldyBZdChtLSh1PzE6MCksdisoaD8xOjApLG0rMSx2LTEsbmV3IHkoKHU/cC5lbXB0eTpwLmZyb20oby5jb3B5KHAuZW1wdHkpKSkuYXBwZW5kKGg/cC5lbXB0eTpwLmZyb20oby5jb3B5KHAuZW1wdHkpKSksdT8wOjEsaD8wOjEpLHU/MDoxKSksZShyLnNjcm9sbEludG9WaWV3KCkpLCEwfWZ1bmN0aW9uIGthKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciByPWUuc2VsZWN0aW9uLG89ci4kZnJvbSxpPXIuJHRvLHM9by5ibG9ja1JhbmdlKGksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoaWxkQ291bnQmJmUuZmlyc3RDaGlsZC50eXBlPT10fSkpO2lmKCFzKXJldHVybiExO3ZhciBhPXMuc3RhcnRJbmRleDtpZigwPT1hKXJldHVybiExO3ZhciBjPXMucGFyZW50LGw9Yy5jaGlsZChhLTEpO2lmKGwudHlwZSE9dClyZXR1cm4hMTtpZihuKXt2YXIgdT1sLmxhc3RDaGlsZCYmbC5sYXN0Q2hpbGQudHlwZT09Yy50eXBlLGg9cC5mcm9tKHU/dC5jcmVhdGUoKTpudWxsKSxmPW5ldyB5KHAuZnJvbSh0LmNyZWF0ZShudWxsLHAuZnJvbShjLnR5cGUuY3JlYXRlKG51bGwsaCkpKSksdT8zOjEsMCksZD1zLnN0YXJ0LG09cy5lbmQ7bihlLnRyLnN0ZXAobmV3IFl0KGQtKHU/MzoxKSxtLGQsbSxmLDEsITApKS5zY3JvbGxJbnRvVmlldygpKX1yZXR1cm4hMH19ZnVuY3Rpb24gU2EodCxlLG4pe2xldCByPVtdO3JldHVybiBuLmRvYy5ub2Rlc0JldHdlZW4odCxlLCgodCxlKT0+e3I9Wy4uLnIsLi4udC5tYXJrcy5tYXAoKG49Pih7c3RhcnQ6ZSxlbmQ6ZSt0Lm5vZGVTaXplLG1hcms6bn0pKSldfSkpLHJ9ZnVuY3Rpb24gQ2EodCxlLG4pe3JldHVybiBuZXcgS3ModCwoKHQscixvLGkpPT57Y29uc3Qgcz1uIGluc3RhbmNlb2YgRnVuY3Rpb24/bihyKTpuLHt0cjphfT10LGM9ci5sZW5ndGgtMTtsZXQgbD1pLHU9bztpZihyW2NdKXtjb25zdCBuPW8rclswXS5pbmRleE9mKHJbYy0xXSkscz1uK3JbYy0xXS5sZW5ndGgtMSxwPW4rcltjLTFdLmxhc3RJbmRleE9mKHJbY10pLGg9cCtyW2NdLmxlbmd0aCxmPVNhKG8saSx0KS5maWx0ZXIoKHQ9Pntjb25zdHtleGNsdWRlZDpufT10Lm1hcmsudHlwZTtyZXR1cm4gbi5maW5kKCh0PT50Lm5hbWU9PT1lLm5hbWUpKX0pKS5maWx0ZXIoKHQ9PnQuZW5kPm4pKTtpZihmLmxlbmd0aClyZXR1cm4hMTtoPHMmJmEuZGVsZXRlKGgscykscD5uJiZhLmRlbGV0ZShuLHApLHU9bixsPXUrcltjXS5sZW5ndGh9cmV0dXJuIGEuYWRkTWFyayh1LGwsZS5jcmVhdGUocykpLGEucmVtb3ZlU3RvcmVkTWFyayhlKSxhfSkpfWZ1bmN0aW9uIE1hKHQsZSxuKXtjb25zdCByPW89Pntjb25zdCBpPVtdO3JldHVybiBvLmZvckVhY2goKG89PntpZihvLmlzVGV4dCl7Y29uc3R7dGV4dDpyfT1vO2xldCBzLGE9MDtkb3tpZihzPXQuZXhlYyhyKSxzKXtjb25zdCB0PXMuaW5kZXgscj10K3NbMF0ubGVuZ3RoLGM9biBpbnN0YW5jZW9mIEZ1bmN0aW9uP24oc1swXSk6bjt0PjAmJmkucHVzaChvLmN1dChhLHQpKSxpLnB1c2goby5jdXQodCxyKS5tYXJrKGUuY3JlYXRlKGMpLmFkZFRvU2V0KG8ubWFya3MpKSksYT1yfX13aGlsZShzKTthPHIubGVuZ3RoJiZpLnB1c2goby5jdXQoYSkpfWVsc2UgaS5wdXNoKG8uY29weShyKG8uY29udGVudCkpKX0pKSxwLmZyb21BcnJheShpKX07cmV0dXJuIG5ldyBYZSh7cHJvcHM6e3RyYW5zZm9ybVBhc3RlZDp0PT5uZXcgeShyKHQuY29udGVudCksdC5vcGVuU3RhcnQsdC5vcGVuRW5kKX19KX1mdW5jdGlvbiBPYSh0LGUsbil7Y29uc3Qgcj0obyxpKT0+e2NvbnN0IHM9W107cmV0dXJuIG8uZm9yRWFjaCgobz0+e2lmKG8uaXNUZXh0KXtjb25zdHt0ZXh0OnIsbWFya3M6YX09bztsZXQgYyxsPTA7Y29uc3QgdT0hIWEuZmlsdGVyKCh0PT4ibGluayI9PT10LnR5cGUubmFtZSkpWzBdO3doaWxlKCF1JiZudWxsIT09KGM9dC5leGVjKHIpKSlpZihpJiZpLnR5cGUuYWxsb3dzTWFya1R5cGUoZSkmJmNbMV0pe2NvbnN0IHQ9Yy5pbmRleCxyPXQrY1swXS5sZW5ndGgsaT10K2NbMF0uaW5kZXhPZihjWzFdKSxhPWkrY1sxXS5sZW5ndGgsdT1uIGluc3RhbmNlb2YgRnVuY3Rpb24/bihjKTpuO3Q+MCYmcy5wdXNoKG8uY3V0KGwsdCkpLHMucHVzaChvLmN1dChpLGEpLm1hcmsoZS5jcmVhdGUodSkuYWRkVG9TZXQoby5tYXJrcykpKSxsPXJ9bDxyLmxlbmd0aCYmcy5wdXNoKG8uY3V0KGwpKX1lbHNlIHMucHVzaChvLmNvcHkocihvLmNvbnRlbnQsbykpKX0pKSxwLmZyb21BcnJheShzKX07cmV0dXJuIG5ldyBYZSh7cHJvcHM6e3RyYW5zZm9ybVBhc3RlZDp0PT5uZXcgeShyKHQuY29udGVudCksdC5vcGVuU3RhcnQsdC5vcGVuRW5kKX19KX1mdW5jdGlvbiBBYSh0KXtyZXR1cm4oZSxuKT0+e2NvbnN0e3RyOnIsc2VsZWN0aW9uOm99PWU7bGV0e2Zyb206aSx0bzpzfT1vO2NvbnN0eyRmcm9tOmEsZW1wdHk6Y309bztpZihjKXtjb25zdCBlPXVhKGEsdCk7aT1lLmZyb20scz1lLnRvfXJldHVybiByLnJlbW92ZU1hcmsoaSxzLHQpLG4ocil9fWZ1bmN0aW9uIE5hKHQsZSxuPTEscil7Y29uc3Qgbz10LnJlc29sdmUoZSksaT1vLmRlcHRoLW4scz1yJiZyW3IubGVuZ3RoLTFdfHxvLnBhcmVudDtpZihpPDB8fG8ucGFyZW50LnR5cGUuc3BlYy5pc29sYXRpbmd8fCFvLnBhcmVudC5jYW5SZXBsYWNlKG8uaW5kZXgoKSxvLnBhcmVudC5jaGlsZENvdW50KXx8IXMudHlwZS52YWxpZENvbnRlbnQoby5wYXJlbnQuY29udGVudC5jdXRCeUluZGV4KG8uaW5kZXgoKSxvLnBhcmVudC5jaGlsZENvdW50KSkpcmV0dXJuITE7Zm9yKGxldCBsPW8uZGVwdGgtMSx1PW4tMjtsPmk7bC0tLHUtLSl7Y29uc3QgdD1vLm5vZGUobCksZT1vLmluZGV4KGwpO2lmKHQudHlwZS5zcGVjLmlzb2xhdGluZylyZXR1cm4hMTtsZXQgbj10LmNvbnRlbnQuY3V0QnlJbmRleChlLHQuY2hpbGRDb3VudCk7Y29uc3QgaT1yJiZyW3VdfHx0O2lmKGkhPXQmJihuPW4ucmVwbGFjZUNoaWxkKDAsaS50eXBlLmNyZWF0ZShpLmF0dHJzKSkpLCF0LmNhblJlcGxhY2UoZSsxLHQuY2hpbGRDb3VudCkpcmV0dXJuITF9Y29uc3QgYT1vLmluZGV4QWZ0ZXIoaSksYz1yJiZyWzBdO3JldHVybiBvLm5vZGUoaSkuY2FuUmVwbGFjZVdpdGgoYSxhLGM/Yy50eXBlOm8ubm9kZShpKzEpLnR5cGUpfWZ1bmN0aW9uIEVhKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe2NvbnN0eyRmcm9tOnIsJHRvOm8sbm9kZTppfT1lLnNlbGVjdGlvbjtpZihpJiZpLmlzQmxvY2t8fHIuZGVwdGg8Mnx8IXIuc2FtZVBhcmVudChvKSlyZXR1cm4hMTtjb25zdCBzPXIubm9kZSgtMSk7aWYocy50eXBlIT10KXJldHVybiExO2lmKDA9PXIucGFyZW50LmNvbnRlbnQuc2l6ZSl7aWYoMj09ci5kZXB0aHx8ci5ub2RlKC0zKS50eXBlIT10fHxyLmluZGV4KC0yKSE9ci5ub2RlKC0yKS5jaGlsZENvdW50LTEpcmV0dXJuITE7aWYobil7bGV0IG89cC5lbXB0eTtjb25zdCBpPXIuaW5kZXgoLTEpPjA7Zm9yKGxldCB0PXIuZGVwdGgtKGk/MToyKTt0Pj1yLmRlcHRoLTM7dC0tKW89cC5mcm9tKHIubm9kZSh0KS5jb3B5KG8pKTtvPW8uYXBwZW5kKHAuZnJvbSh0LmNyZWF0ZUFuZEZpbGwoKSkpO2NvbnN0IHM9ZS50ci5yZXBsYWNlKHIuYmVmb3JlKGk/bnVsbDotMSksci5hZnRlcigtMyksbmV3IHkobyxpPzM6MiwyKSk7cy5zZXRTZWxlY3Rpb24oZS5zZWxlY3Rpb24uY29uc3RydWN0b3IubmVhcihzLmRvYy5yZXNvbHZlKHIucG9zKyhpPzM6MikpKSksbihzLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfWNvbnN0IGE9by5wb3M9PXIuZW5kKCk/cy5jb250ZW50TWF0Y2hBdChyLmluZGV4QWZ0ZXIoLTEpKS5kZWZhdWx0VHlwZTpudWxsLGM9ZS50ci5kZWxldGUoci5wb3Msby5wb3MpO2xldCBsPWEmJlt7dHlwZTp0fSx7dHlwZTphfV07cmV0dXJuIGx8fChsPVt7dHlwZTp0fSxudWxsXSksISFOYShjLmRvYyxyLnBvcywyLGwpJiYobiYmbihjLnNwbGl0KHIucG9zLDIsbCkuc2Nyb2xsSW50b1ZpZXcoKSksITApfX1mdW5jdGlvbiBUYSh0LGUsbj17fSl7cmV0dXJuKHIsbyxpKT0+e2NvbnN0IHM9ZmEocix0LG4pO3JldHVybiBzP1BzKGUpKHIsbyxpKTpQcyh0LG4pKHIsbyxpKX19ZnVuY3Rpb24gRGEodCxlKXtyZXR1cm4gdC50eXBlPT09ZS5ub2Rlcy5idWxsZXRfbGlzdHx8dC50eXBlPT09ZS5ub2Rlcy5vcmRlcmVkX2xpc3R8fHQudHlwZT09PWUubm9kZXMudG9kb19saXN0fWZ1bmN0aW9uIF9hKHQsZSl7cmV0dXJuKG4scixvKT0+e2NvbnN0e3NjaGVtYTppLHNlbGVjdGlvbjpzfT1uLHskZnJvbTphLCR0bzpjfT1zLGw9YS5ibG9ja1JhbmdlKGMpO2lmKCFsKXJldHVybiExO2NvbnN0IHU9c2EoKHQ9PkRhKHQsaSkpKShzKTtpZihsLmRlcHRoPj0xJiZ1JiZsLmRlcHRoLXUuZGVwdGg8PTEpe2lmKHUubm9kZS50eXBlPT09dClyZXR1cm4gd2EoZSkobixyLG8pO2lmKERhKHUubm9kZSxpKSYmdC52YWxpZENvbnRlbnQodS5ub2RlLmNvbnRlbnQpKXtjb25zdHt0cjplfT1uO3JldHVybiBlLnNldE5vZGVNYXJrdXAodS5wb3MsdCksciYmcihlKSwhMX19cmV0dXJuIHZhKHQpKG4scixvKX19ZnVuY3Rpb24gUmEodCxlPXt9KXtyZXR1cm4obixyLG8pPT57Y29uc3QgaT1mYShuLHQsZSk7cmV0dXJuIGk/TXMobixyKTpJcyh0LGUpKG4scixvKX19ZnVuY3Rpb24gemEodCxlKXtyZXR1cm4obixyKT0+e2NvbnN0e3RyOm8sc2VsZWN0aW9uOmksZG9jOnN9PW4se3JhbmdlczphLGVtcHR5OmN9PWk7aWYoYyl7Y29uc3R7ZnJvbTpuLHRvOnJ9PXVhKGkuJGZyb20sdCk7cy5yYW5nZUhhc01hcmsobixyLHQpJiZvLnJlbW92ZU1hcmsobixyLHQpLG8uYWRkTWFyayhuLHIsdC5jcmVhdGUoZSkpfWVsc2UgYS5mb3JFYWNoKChuPT57Y29uc3R7JHRvOnIsJGZyb206aX09bjtzLnJhbmdlSGFzTWFyayhpLnBvcyxyLnBvcyx0KSYmby5yZW1vdmVNYXJrKGkucG9zLHIucG9zLHQpLG8uYWRkTWFyayhpLnBvcyxyLnBvcyx0LmNyZWF0ZShlKSl9KSk7cmV0dXJuIHIobyl9fQovKiEKICAgICogdGlwdGFwIHYxLjMyLjEKICAgICogKGMpIDIwMjEgw7xiZXJkb3NpcyBHYlIgKGxpbWl0ZWQgbGlhYmlsaXR5KQogICAgKiBAbGljZW5zZSBNSVQKICAgICovCmZ1bmN0aW9uIElhKHQpe3JldHVybiB0LnJlcGxhY2UoLyg/Ol5cd3xbQS1aXXxcYlx3KS9nLCgodCxlKT0+MD09PWU/dC50b0xvd2VyQ2FzZSgpOnQudG9VcHBlckNhc2UoKSkpLnJlcGxhY2UoL1xzKy9nLCIiKX1jbGFzcyBQYXtjb25zdHJ1Y3Rvcih0LHtlZGl0b3I6ZSxleHRlbnNpb246bixwYXJlbnQ6cixub2RlOm8sdmlldzppLGRlY29yYXRpb25zOnMsZ2V0UG9zOmF9KXt0aGlzLmNvbXBvbmVudD10LHRoaXMuZWRpdG9yPWUsdGhpcy5leHRlbnNpb249bix0aGlzLnBhcmVudD1yLHRoaXMubm9kZT1vLHRoaXMudmlldz1pLHRoaXMuZGVjb3JhdGlvbnM9cyx0aGlzLmlzTm9kZT0hIXRoaXMubm9kZS5tYXJrcyx0aGlzLmlzTWFyaz0hdGhpcy5pc05vZGUsdGhpcy5nZXRQb3M9dGhpcy5pc01hcms/dGhpcy5nZXRNYXJrUG9zOmEsdGhpcy5jYXB0dXJlRXZlbnRzPSEwLHRoaXMuZG9tPXRoaXMuY3JlYXRlRE9NKCksdGhpcy5jb250ZW50RE9NPXRoaXMudm0uJHJlZnMuY29udGVudH1jcmVhdGVET00oKXtjb25zdCB0PW1hKCkuZXh0ZW5kKHRoaXMuY29tcG9uZW50KSxlPXtlZGl0b3I6dGhpcy5lZGl0b3Isbm9kZTp0aGlzLm5vZGUsdmlldzp0aGlzLnZpZXcsZ2V0UG9zOigpPT50aGlzLmdldFBvcygpLGRlY29yYXRpb25zOnRoaXMuZGVjb3JhdGlvbnMsc2VsZWN0ZWQ6ITEsb3B0aW9uczp0aGlzLmV4dGVuc2lvbi5vcHRpb25zLHVwZGF0ZUF0dHJzOnQ9PnRoaXMudXBkYXRlQXR0cnModCl9O3JldHVybiJmdW5jdGlvbiI9PT10eXBlb2YgdGhpcy5leHRlbnNpb24uc2V0U2VsZWN0aW9uJiYodGhpcy5zZXRTZWxlY3Rpb249dGhpcy5leHRlbnNpb24uc2V0U2VsZWN0aW9uKSwiZnVuY3Rpb24iPT09dHlwZW9mIHRoaXMuZXh0ZW5zaW9uLnVwZGF0ZSYmKHRoaXMudXBkYXRlPXRoaXMuZXh0ZW5zaW9uLnVwZGF0ZSksdGhpcy52bT1uZXcgdCh7cGFyZW50OnRoaXMucGFyZW50LHByb3BzRGF0YTplfSkuJG1vdW50KCksdGhpcy52bS4kZWx9dXBkYXRlKHQsZSl7cmV0dXJuIHQudHlwZT09PXRoaXMubm9kZS50eXBlJiYodD09PXRoaXMubm9kZSYmdGhpcy5kZWNvcmF0aW9ucz09PWV8fCh0aGlzLm5vZGU9dCx0aGlzLmRlY29yYXRpb25zPWUsdGhpcy51cGRhdGVDb21wb25lbnRQcm9wcyh7bm9kZTp0LGRlY29yYXRpb25zOmV9KSksITApfXVwZGF0ZUNvbXBvbmVudFByb3BzKHQpe2lmKCF0aGlzLnZtLl9wcm9wcylyZXR1cm47Y29uc3QgZT1tYSgpLmNvbmZpZy5zaWxlbnQ7bWEoKS5jb25maWcuc2lsZW50PSEwLE9iamVjdC5lbnRyaWVzKHQpLmZvckVhY2goKChbdCxlXSk9Pnt0aGlzLnZtLl9wcm9wc1t0XT1lfSkpLG1hKCkuY29uZmlnLnNpbGVudD1lfXVwZGF0ZUF0dHJzKHQpe2lmKCF0aGlzLnZpZXcuZWRpdGFibGUpcmV0dXJuO2NvbnN0e3N0YXRlOmV9PXRoaXMudmlldyx7dHlwZTpufT10aGlzLm5vZGUscj10aGlzLmdldFBvcygpLG89ey4uLnRoaXMubm9kZS5hdHRycywuLi50fSxpPXRoaXMuaXNNYXJrP2UudHIucmVtb3ZlTWFyayhyLmZyb20sci50byxuKS5hZGRNYXJrKHIuZnJvbSxyLnRvLG4uY3JlYXRlKG8pKTplLnRyLnNldE5vZGVNYXJrdXAocixudWxsLG8pO3RoaXMudmlldy5kaXNwYXRjaChpKX1pZ25vcmVNdXRhdGlvbih0KXtyZXR1cm4ic2VsZWN0aW9uIiE9PXQudHlwZSYmKCF0aGlzLmNvbnRlbnRET018fCF0aGlzLmNvbnRlbnRET00uY29udGFpbnModC50YXJnZXQpKX1zdG9wRXZlbnQodCl7aWYoImZ1bmN0aW9uIj09PXR5cGVvZiB0aGlzLmV4dGVuc2lvbi5zdG9wRXZlbnQpcmV0dXJuIHRoaXMuZXh0ZW5zaW9uLnN0b3BFdmVudCh0KTtjb25zdCBlPSEhdGhpcy5leHRlbnNpb24uc2NoZW1hLmRyYWdnYWJsZTtpZihlJiYibW91c2Vkb3duIj09PXQudHlwZSl7Y29uc3QgZT10LnRhcmdldC5jbG9zZXN0JiZ0LnRhcmdldC5jbG9zZXN0KCJbZGF0YS1kcmFnLWhhbmRsZV0iKSxuPWUmJih0aGlzLmRvbT09PWV8fHRoaXMuZG9tLmNvbnRhaW5zKGUpKTtuJiYodGhpcy5jYXB0dXJlRXZlbnRzPSExLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImRyYWdlbmQiLCgoKT0+e3RoaXMuY2FwdHVyZUV2ZW50cz0hMH0pLHtvbmNlOiEwfSkpfWNvbnN0IG49ImNvcHkiPT09dC50eXBlLHI9InBhc3RlIj09PXQudHlwZSxvPSJjdXQiPT09dC50eXBlLGk9dC50eXBlLnN0YXJ0c1dpdGgoImRyYWciKXx8ImRyb3AiPT09dC50eXBlO3JldHVybiEoZSYmaXx8bnx8cnx8bykmJnRoaXMuY2FwdHVyZUV2ZW50c31zZWxlY3ROb2RlKCl7dGhpcy51cGRhdGVDb21wb25lbnRQcm9wcyh7c2VsZWN0ZWQ6ITB9KX1kZXNlbGVjdE5vZGUoKXt0aGlzLnVwZGF0ZUNvbXBvbmVudFByb3BzKHtzZWxlY3RlZDohMX0pfWdldE1hcmtQb3MoKXtjb25zdCB0PXRoaXMudmlldy5wb3NBdERPTSh0aGlzLmRvbSksZT10aGlzLnZpZXcuc3RhdGUuZG9jLnJlc29sdmUodCksbj11YShlLHRoaXMubm9kZS50eXBlKTtyZXR1cm4gbn1kZXN0cm95KCl7dGhpcy52bS4kZGVzdHJveSgpfX1jbGFzcyAkYXtvbih0LGUpe3JldHVybiB0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fSx0aGlzLl9jYWxsYmFja3NbdF18fCh0aGlzLl9jYWxsYmFja3NbdF09W10pLHRoaXMuX2NhbGxiYWNrc1t0XS5wdXNoKGUpLHRoaXN9ZW1pdCh0LC4uLmUpe3RoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9O2NvbnN0IG49dGhpcy5fY2FsbGJhY2tzW3RdO3JldHVybiBuJiZuLmZvckVhY2goKHQ9PnQuYXBwbHkodGhpcyxlKSkpLHRoaXN9b2ZmKHQsZSl7aWYoYXJndW1lbnRzLmxlbmd0aCl7Y29uc3Qgbj10aGlzLl9jYWxsYmFja3M/dGhpcy5fY2FsbGJhY2tzW3RdOm51bGw7biYmKGU/dGhpcy5fY2FsbGJhY2tzW3RdPW4uZmlsdGVyKCh0PT50IT09ZSkpOmRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbdF0pfWVsc2UgdGhpcy5fY2FsbGJhY2tzPXt9O3JldHVybiB0aGlzfX1jbGFzcyBCYXtjb25zdHJ1Y3Rvcih0PXt9KXt0aGlzLm9wdGlvbnM9ey4uLnRoaXMuZGVmYXVsdE9wdGlvbnMsLi4udH19aW5pdCgpe3JldHVybiBudWxsfWJpbmRFZGl0b3IodD1udWxsKXt0aGlzLmVkaXRvcj10fWdldCBuYW1lKCl7cmV0dXJuIG51bGx9Z2V0IHR5cGUoKXtyZXR1cm4iZXh0ZW5zaW9uIn1nZXQgZGVmYXVsdE9wdGlvbnMoKXtyZXR1cm57fX1nZXQgcGx1Z2lucygpe3JldHVybltdfWlucHV0UnVsZXMoKXtyZXR1cm5bXX1wYXN0ZVJ1bGVzKCl7cmV0dXJuW119a2V5cygpe3JldHVybnt9fX1jbGFzcyBWYXtjb25zdHJ1Y3Rvcih0PVtdLGUpe3QuZm9yRWFjaCgodD0+e3QuYmluZEVkaXRvcihlKSx0LmluaXQoKX0pKSx0aGlzLmV4dGVuc2lvbnM9dH1nZXQgbm9kZXMoKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLmZpbHRlcigodD0+Im5vZGUiPT09dC50eXBlKSkucmVkdWNlKCgodCx7bmFtZTplLHNjaGVtYTpufSk9Pih7Li4udCxbZV06bn0pKSx7fSl9Z2V0IG9wdGlvbnMoKXtjb25zdHt2aWV3OnR9PXRoaXM7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5yZWR1Y2UoKChlLG4pPT4oey4uLmUsW24ubmFtZV06bmV3IFByb3h5KG4ub3B0aW9ucyx7c2V0KGUsbixyKXtjb25zdCBvPWVbbl0hPT1yO3JldHVybiBPYmplY3QuYXNzaWduKGUse1tuXTpyfSksbyYmdC51cGRhdGVTdGF0ZSh0LnN0YXRlKSwhMH19KX0pKSx7fSl9Z2V0IG1hcmtzKCl7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5maWx0ZXIoKHQ9PiJtYXJrIj09PXQudHlwZSkpLnJlZHVjZSgoKHQse25hbWU6ZSxzY2hlbWE6bn0pPT4oey4uLnQsW2VdOm59KSkse30pfWdldCBwbHVnaW5zKCl7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5maWx0ZXIoKHQ9PnQucGx1Z2lucykpLnJlZHVjZSgoKHQse3BsdWdpbnM6ZX0pPT5bLi4udCwuLi5lXSksW10pfWtleW1hcHMoe3NjaGVtYTp0fSl7Y29uc3QgZT10aGlzLmV4dGVuc2lvbnMuZmlsdGVyKCh0PT5bImV4dGVuc2lvbiJdLmluY2x1ZGVzKHQudHlwZSkpKS5maWx0ZXIoKHQ9PnQua2V5cykpLm1hcCgoZT0+ZS5rZXlzKHtzY2hlbWE6dH0pKSksbj10aGlzLmV4dGVuc2lvbnMuZmlsdGVyKCh0PT5bIm5vZGUiLCJtYXJrIl0uaW5jbHVkZXModC50eXBlKSkpLmZpbHRlcigodD0+dC5rZXlzKSkubWFwKChlPT5lLmtleXMoe3R5cGU6dFtgJHtlLnR5cGV9c2BdW2UubmFtZV0sc2NoZW1hOnR9KSkpO3JldHVyblsuLi5lLC4uLm5dLm1hcCgodD0+c3ModCkpKX1pbnB1dFJ1bGVzKHtzY2hlbWE6dCxleGNsdWRlZEV4dGVuc2lvbnM6ZX0pe2lmKCEoZSBpbnN0YW5jZW9mIEFycmF5KSYmZSlyZXR1cm5bXTtjb25zdCBuPWUgaW5zdGFuY2VvZiBBcnJheT90aGlzLmV4dGVuc2lvbnMuZmlsdGVyKCh0PT4hZS5pbmNsdWRlcyh0Lm5hbWUpKSk6dGhpcy5leHRlbnNpb25zLHI9bi5maWx0ZXIoKHQ9PlsiZXh0ZW5zaW9uIl0uaW5jbHVkZXModC50eXBlKSkpLmZpbHRlcigodD0+dC5pbnB1dFJ1bGVzKSkubWFwKChlPT5lLmlucHV0UnVsZXMoe3NjaGVtYTp0fSkpKSxvPW4uZmlsdGVyKCh0PT5bIm5vZGUiLCJtYXJrIl0uaW5jbHVkZXModC50eXBlKSkpLmZpbHRlcigodD0+dC5pbnB1dFJ1bGVzKSkubWFwKChlPT5lLmlucHV0UnVsZXMoe3R5cGU6dFtgJHtlLnR5cGV9c2BdW2UubmFtZV0sc2NoZW1hOnR9KSkpO3JldHVyblsuLi5yLC4uLm9dLnJlZHVjZSgoKHQsZSk9PlsuLi50LC4uLmVdKSxbXSl9cGFzdGVSdWxlcyh7c2NoZW1hOnQsZXhjbHVkZWRFeHRlbnNpb25zOmV9KXtpZighKGUgaW5zdGFuY2VvZiBBcnJheSkmJmUpcmV0dXJuW107Y29uc3Qgbj1lIGluc3RhbmNlb2YgQXJyYXk/dGhpcy5leHRlbnNpb25zLmZpbHRlcigodD0+IWUuaW5jbHVkZXModC5uYW1lKSkpOnRoaXMuZXh0ZW5zaW9ucyxyPW4uZmlsdGVyKCh0PT5bImV4dGVuc2lvbiJdLmluY2x1ZGVzKHQudHlwZSkpKS5maWx0ZXIoKHQ9PnQucGFzdGVSdWxlcykpLm1hcCgoZT0+ZS5wYXN0ZVJ1bGVzKHtzY2hlbWE6dH0pKSksbz1uLmZpbHRlcigodD0+WyJub2RlIiwibWFyayJdLmluY2x1ZGVzKHQudHlwZSkpKS5maWx0ZXIoKHQ9PnQucGFzdGVSdWxlcykpLm1hcCgoZT0+ZS5wYXN0ZVJ1bGVzKHt0eXBlOnRbYCR7ZS50eXBlfXNgXVtlLm5hbWVdLHNjaGVtYTp0fSkpKTtyZXR1cm5bLi4uciwuLi5vXS5yZWR1Y2UoKCh0LGUpPT5bLi4udCwuLi5lXSksW10pfWNvbW1hbmRzKHtzY2hlbWE6dCx2aWV3OmV9KXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLmZpbHRlcigodD0+dC5jb21tYW5kcykpLnJlZHVjZSgoKG4scik9Pntjb25zdHtuYW1lOm8sdHlwZTppfT1yLHM9e30sYT1yLmNvbW1hbmRzKHtzY2hlbWE6dCwuLi5bIm5vZGUiLCJtYXJrIl0uaW5jbHVkZXMoaSk/e3R5cGU6dFtgJHtpfXNgXVtvXX06e319KSxjPSh0LG4pPT4hIWUuZWRpdGFibGUmJihlLmZvY3VzKCksdChuKShlLnN0YXRlLGUuZGlzcGF0Y2gsZSkpLGw9KHQsZSk9PntBcnJheS5pc0FycmF5KGUpP3NbdF09dD0+ZS5mb3JFYWNoKChlPT5jKGUsdCkpKToiZnVuY3Rpb24iPT09dHlwZW9mIGUmJihzW3RdPXQ9PmMoZSx0KSl9O3JldHVybiJvYmplY3QiPT09dHlwZW9mIGE/T2JqZWN0LmVudHJpZXMoYSkuZm9yRWFjaCgoKFt0LGVdKT0+e2wodCxlKX0pKTpsKG8sYSksey4uLm4sLi4uc319KSx7fSl9fWZ1bmN0aW9uIGphKHQpe3tjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7ZS50eXBlPSJ0ZXh0L2NzcyIsZS50ZXh0Q29udGVudD10O2NvbnN0e2hlYWQ6bn09ZG9jdW1lbnQse2ZpcnN0Q2hpbGQ6cn09bjtyP24uaW5zZXJ0QmVmb3JlKGUscik6bi5hcHBlbmRDaGlsZChlKX19Y2xhc3MgTGEgZXh0ZW5kcyBCYXtjb25zdHJ1Y3Rvcih0PXt9KXtzdXBlcih0KX1nZXQgdHlwZSgpe3JldHVybiJtYXJrIn1nZXQgdmlldygpe3JldHVybiBudWxsfWdldCBzY2hlbWEoKXtyZXR1cm4gbnVsbH1jb21tYW5kKCl7cmV0dXJuKCk9Pnt9fX1mdW5jdGlvbiBGYSh0PTAsZT0wLG49MCl7cmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHBhcnNlSW50KHQsMTApLGUpLG4pfWNsYXNzIEhhIGV4dGVuZHMgQmF7Y29uc3RydWN0b3IodD17fSl7c3VwZXIodCl9Z2V0IHR5cGUoKXtyZXR1cm4ibm9kZSJ9Z2V0IHZpZXcoKXtyZXR1cm4gbnVsbH1nZXQgc2NoZW1hKCl7cmV0dXJuIG51bGx9Y29tbWFuZCgpe3JldHVybigpPT57fX19Y2xhc3MgSmEgZXh0ZW5kcyBIYXtnZXQgbmFtZSgpe3JldHVybiJkb2MifWdldCBzY2hlbWEoKXtyZXR1cm57Y29udGVudDoiYmxvY2srIn19fWNsYXNzIFdhIGV4dGVuZHMgSGF7Z2V0IG5hbWUoKXtyZXR1cm4icGFyYWdyYXBoIn1nZXQgc2NoZW1hKCl7cmV0dXJue2NvbnRlbnQ6ImlubGluZSoiLGdyb3VwOiJibG9jayIsZHJhZ2dhYmxlOiExLHBhcnNlRE9NOlt7dGFnOiJwIn1dLHRvRE9NOigpPT5bInAiLDBdfX1jb21tYW5kcyh7dHlwZTp0fSl7cmV0dXJuKCk9PlBzKHQpfX1jbGFzcyBxYSBleHRlbmRzIEhhe2dldCBuYW1lKCl7cmV0dXJuInRleHQifWdldCBzY2hlbWEoKXtyZXR1cm57Z3JvdXA6ImlubGluZSJ9fX12YXIgS2E9Jy5Qcm9zZU1pcnJvciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLlByb3NlTWlycm9yIHtcbiAgd29yZC13cmFwOiBicmVhay13b3JkO1xuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XG4gIC13ZWJraXQtZm9udC12YXJpYW50LWxpZ2F0dXJlczogbm9uZTtcbiAgZm9udC12YXJpYW50LWxpZ2F0dXJlczogbm9uZTtcbn1cblxuLlByb3NlTWlycm9yIHByZSB7XG4gIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbn1cblxuLlByb3NlTWlycm9yLWdhcGN1cnNvciB7XG4gIGRpc3BsYXk6IG5vbmU7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG59XG5cbi5Qcm9zZU1pcnJvci1nYXBjdXJzb3I6YWZ0ZXIge1xuICBjb250ZW50OiAiIjtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAtMnB4O1xuICB3aWR0aDogMjBweDtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIGJsYWNrO1xuICBhbmltYXRpb246IFByb3NlTWlycm9yLWN1cnNvci1ibGluayAxLjFzIHN0ZXBzKDIsIHN0YXJ0KSBpbmZpbml0ZTtcbn1cblxuQGtleWZyYW1lcyBQcm9zZU1pcnJvci1jdXJzb3ItYmxpbmsge1xuICB0byB7XG4gICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICB9XG59XG5cbi5Qcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uICo6OnNlbGVjdGlvbiB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xufVxuXG4uUHJvc2VNaXJyb3ItaGlkZXNlbGVjdGlvbiAqOjotbW96LXNlbGVjdGlvbiB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xufVxuXG4uUHJvc2VNaXJyb3ItaGlkZXNlbGVjdGlvbiAqIHtcbiAgY2FyZXQtY29sb3I6IHRyYW5zcGFyZW50O1xufVxuXG4uUHJvc2VNaXJyb3ItZm9jdXNlZCAuUHJvc2VNaXJyb3ItZ2FwY3Vyc29yIHtcbiAgZGlzcGxheTogYmxvY2s7XG59XG4nO2NsYXNzIFVhIGV4dGVuZHMgJGF7Y29uc3RydWN0b3IodD17fSl7c3VwZXIoKSx0aGlzLmRlZmF1bHRPcHRpb25zPXtlZGl0b3JQcm9wczp7fSxlZGl0YWJsZTohMCxhdXRvRm9jdXM6bnVsbCxleHRlbnNpb25zOltdLGNvbnRlbnQ6IiIsdG9wTm9kZToiZG9jIixlbXB0eURvY3VtZW50Ont0eXBlOiJkb2MiLGNvbnRlbnQ6W3t0eXBlOiJwYXJhZ3JhcGgifV19LHVzZUJ1aWx0SW5FeHRlbnNpb25zOiEwLGRpc2FibGVJbnB1dFJ1bGVzOiExLGRpc2FibGVQYXN0ZVJ1bGVzOiExLGRyb3BDdXJzb3I6e30sZW5hYmxlRHJvcEN1cnNvcjohMCxlbmFibGVHYXBDdXJzb3I6ITAscGFyc2VPcHRpb25zOnt9LGluamVjdENTUzohMCxvbkluaXQ6KCk9Pnt9LG9uVHJhbnNhY3Rpb246KCk9Pnt9LG9uVXBkYXRlOigpPT57fSxvbkZvY3VzOigpPT57fSxvbkJsdXI6KCk9Pnt9LG9uUGFzdGU6KCk9Pnt9LG9uRHJvcDooKT0+e319LHRoaXMuZXZlbnRzPVsiaW5pdCIsInRyYW5zYWN0aW9uIiwidXBkYXRlIiwiZm9jdXMiLCJibHVyIiwicGFzdGUiLCJkcm9wIl0sdGhpcy5pbml0KHQpfWluaXQodD17fSl7dGhpcy5zZXRPcHRpb25zKHsuLi50aGlzLmRlZmF1bHRPcHRpb25zLC4uLnR9KSx0aGlzLmZvY3VzZWQ9ITEsdGhpcy5zZWxlY3Rpb249e2Zyb206MCx0bzowfSx0aGlzLmVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5leHRlbnNpb25zPXRoaXMuY3JlYXRlRXh0ZW5zaW9ucygpLHRoaXMubm9kZXM9dGhpcy5jcmVhdGVOb2RlcygpLHRoaXMubWFya3M9dGhpcy5jcmVhdGVNYXJrcygpLHRoaXMuc2NoZW1hPXRoaXMuY3JlYXRlU2NoZW1hKCksdGhpcy5wbHVnaW5zPXRoaXMuY3JlYXRlUGx1Z2lucygpLHRoaXMua2V5bWFwcz10aGlzLmNyZWF0ZUtleW1hcHMoKSx0aGlzLmlucHV0UnVsZXM9dGhpcy5jcmVhdGVJbnB1dFJ1bGVzKCksdGhpcy5wYXN0ZVJ1bGVzPXRoaXMuY3JlYXRlUGFzdGVSdWxlcygpLHRoaXMudmlldz10aGlzLmNyZWF0ZVZpZXcoKSx0aGlzLmNvbW1hbmRzPXRoaXMuY3JlYXRlQ29tbWFuZHMoKSx0aGlzLnNldEFjdGl2ZU5vZGVzQW5kTWFya3MoKSx0aGlzLm9wdGlvbnMuaW5qZWN0Q1NTJiZqYShLYSksbnVsbCE9PXRoaXMub3B0aW9ucy5hdXRvRm9jdXMmJnRoaXMuZm9jdXModGhpcy5vcHRpb25zLmF1dG9Gb2N1cyksdGhpcy5ldmVudHMuZm9yRWFjaCgodD0+e3RoaXMub24odCx0aGlzLm9wdGlvbnNbSWEoYG9uICR7dH1gKV18fCgoKT0+e30pKX0pKSx0aGlzLmVtaXQoImluaXQiLHt2aWV3OnRoaXMudmlldyxzdGF0ZTp0aGlzLnN0YXRlfSksdGhpcy5leHRlbnNpb25zLnZpZXc9dGhpcy52aWV3fXNldE9wdGlvbnModCl7dGhpcy5vcHRpb25zPXsuLi50aGlzLm9wdGlvbnMsLi4udH0sdGhpcy52aWV3JiZ0aGlzLnN0YXRlJiZ0aGlzLnZpZXcudXBkYXRlU3RhdGUodGhpcy5zdGF0ZSl9Z2V0IGJ1aWx0SW5FeHRlbnNpb25zKCl7cmV0dXJuIHRoaXMub3B0aW9ucy51c2VCdWlsdEluRXh0ZW5zaW9ucz9bbmV3IEphLG5ldyBxYSxuZXcgV2FdOltdfWdldCBzdGF0ZSgpe3JldHVybiB0aGlzLnZpZXc/dGhpcy52aWV3LnN0YXRlOm51bGx9Y3JlYXRlRXh0ZW5zaW9ucygpe3JldHVybiBuZXcgVmEoWy4uLnRoaXMuYnVpbHRJbkV4dGVuc2lvbnMsLi4udGhpcy5vcHRpb25zLmV4dGVuc2lvbnNdLHRoaXMpfWNyZWF0ZVBsdWdpbnMoKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLnBsdWdpbnN9Y3JlYXRlS2V5bWFwcygpe3JldHVybiB0aGlzLmV4dGVuc2lvbnMua2V5bWFwcyh7c2NoZW1hOnRoaXMuc2NoZW1hfSl9Y3JlYXRlSW5wdXRSdWxlcygpe3JldHVybiB0aGlzLmV4dGVuc2lvbnMuaW5wdXRSdWxlcyh7c2NoZW1hOnRoaXMuc2NoZW1hLGV4Y2x1ZGVkRXh0ZW5zaW9uczp0aGlzLm9wdGlvbnMuZGlzYWJsZUlucHV0UnVsZXN9KX1jcmVhdGVQYXN0ZVJ1bGVzKCl7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5wYXN0ZVJ1bGVzKHtzY2hlbWE6dGhpcy5zY2hlbWEsZXhjbHVkZWRFeHRlbnNpb25zOnRoaXMub3B0aW9ucy5kaXNhYmxlUGFzdGVSdWxlc30pfWNyZWF0ZUNvbW1hbmRzKCl7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5jb21tYW5kcyh7c2NoZW1hOnRoaXMuc2NoZW1hLHZpZXc6dGhpcy52aWV3fSl9Y3JlYXRlTm9kZXMoKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLm5vZGVzfWNyZWF0ZU1hcmtzKCl7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5tYXJrc31jcmVhdGVTY2hlbWEoKXtyZXR1cm4gbmV3IGR0KHt0b3BOb2RlOnRoaXMub3B0aW9ucy50b3BOb2RlLG5vZGVzOnRoaXMubm9kZXMsbWFya3M6dGhpcy5tYXJrc30pfWNyZWF0ZVN0YXRlKCl7cmV0dXJuIHFlLmNyZWF0ZSh7c2NoZW1hOnRoaXMuc2NoZW1hLGRvYzp0aGlzLmNyZWF0ZURvY3VtZW50KHRoaXMub3B0aW9ucy5jb250ZW50KSxwbHVnaW5zOlsuLi50aGlzLnBsdWdpbnMsWHMoe3J1bGVzOnRoaXMuaW5wdXRSdWxlc30pLC4uLnRoaXMucGFzdGVSdWxlcywuLi50aGlzLmtleW1hcHMsc3Moe0JhY2tzcGFjZTpac30pLHNzKHFzKSwuLi50aGlzLm9wdGlvbnMuZW5hYmxlRHJvcEN1cnNvcj9bRmkodGhpcy5vcHRpb25zLmRyb3BDdXJzb3IpXTpbXSwuLi50aGlzLm9wdGlvbnMuZW5hYmxlR2FwQ3Vyc29yP1tocygpXTpbXSxuZXcgWGUoe2tleTpuZXcgUWUoImVkaXRhYmxlIikscHJvcHM6e2VkaXRhYmxlOigpPT50aGlzLm9wdGlvbnMuZWRpdGFibGV9fSksbmV3IFhlKHtwcm9wczp7YXR0cmlidXRlczp7dGFiaW5kZXg6MH0saGFuZGxlRE9NRXZlbnRzOntmb2N1czoodCxlKT0+e3RoaXMuZm9jdXNlZD0hMCx0aGlzLmVtaXQoImZvY3VzIix7ZXZlbnQ6ZSxzdGF0ZTp0LnN0YXRlLHZpZXc6dH0pO2NvbnN0IG49dGhpcy5zdGF0ZS50ci5zZXRNZXRhKCJmb2N1c2VkIiwhMCk7dGhpcy52aWV3LmRpc3BhdGNoKG4pfSxibHVyOih0LGUpPT57dGhpcy5mb2N1c2VkPSExLHRoaXMuZW1pdCgiYmx1ciIse2V2ZW50OmUsc3RhdGU6dC5zdGF0ZSx2aWV3OnR9KTtjb25zdCBuPXRoaXMuc3RhdGUudHIuc2V0TWV0YSgiZm9jdXNlZCIsITEpO3RoaXMudmlldy5kaXNwYXRjaChuKX19fX0pLG5ldyBYZSh7cHJvcHM6dGhpcy5vcHRpb25zLmVkaXRvclByb3BzfSldfSl9Y3JlYXRlRG9jdW1lbnQodCxlPXRoaXMub3B0aW9ucy5wYXJzZU9wdGlvbnMpe2lmKG51bGw9PT10KXJldHVybiB0aGlzLnNjaGVtYS5ub2RlRnJvbUpTT04odGhpcy5vcHRpb25zLmVtcHR5RG9jdW1lbnQpO2lmKCJvYmplY3QiPT09dHlwZW9mIHQpdHJ5e3JldHVybiB0aGlzLnNjaGVtYS5ub2RlRnJvbUpTT04odCl9Y2F0Y2gobil7cmV0dXJuIGNvbnNvbGUud2FybigiW3RpcHRhcCB3YXJuXTogSW52YWxpZCBjb250ZW50LiIsIlBhc3NlZCB2YWx1ZToiLHQsIkVycm9yOiIsbiksdGhpcy5zY2hlbWEubm9kZUZyb21KU09OKHRoaXMub3B0aW9ucy5lbXB0eURvY3VtZW50KX1pZigic3RyaW5nIj09PXR5cGVvZiB0KXtjb25zdCBuPWA8ZGl2PiR7dH08L2Rpdj5gLHI9bmV3IHdpbmRvdy5ET01QYXJzZXIsbz1yLnBhcnNlRnJvbVN0cmluZyhuLCJ0ZXh0L2h0bWwiKS5ib2R5LmZpcnN0RWxlbWVudENoaWxkO3JldHVybiB2dC5mcm9tU2NoZW1hKHRoaXMuc2NoZW1hKS5wYXJzZShvLGUpfXJldHVybiExfWNyZWF0ZVZpZXcoKXtyZXR1cm4gbmV3IHppKHRoaXMuZWxlbWVudCx7c3RhdGU6dGhpcy5jcmVhdGVTdGF0ZSgpLGhhbmRsZVBhc3RlOiguLi50KT0+e3RoaXMuZW1pdCgicGFzdGUiLC4uLnQpfSxoYW5kbGVEcm9wOiguLi50KT0+e3RoaXMuZW1pdCgiZHJvcCIsLi4udCl9LGRpc3BhdGNoVHJhbnNhY3Rpb246dGhpcy5kaXNwYXRjaFRyYW5zYWN0aW9uLmJpbmQodGhpcyl9KX1zZXRQYXJlbnRDb21wb25lbnQodD1udWxsKXt0JiZ0aGlzLnZpZXcuc2V0UHJvcHMoe25vZGVWaWV3czp0aGlzLmluaXROb2RlVmlld3Moe3BhcmVudDp0LGV4dGVuc2lvbnM6Wy4uLnRoaXMuYnVpbHRJbkV4dGVuc2lvbnMsLi4udGhpcy5vcHRpb25zLmV4dGVuc2lvbnNdfSl9KX1pbml0Tm9kZVZpZXdzKHtwYXJlbnQ6dCxleHRlbnNpb25zOmV9KXtyZXR1cm4gZS5maWx0ZXIoKHQ9Plsibm9kZSIsIm1hcmsiXS5pbmNsdWRlcyh0LnR5cGUpKSkuZmlsdGVyKCh0PT50LnZpZXcpKS5yZWR1Y2UoKChlLG4pPT57Y29uc3Qgcj0oZSxyLG8saSk9Pntjb25zdCBzPW4udmlldztyZXR1cm4gbmV3IFBhKHMse2VkaXRvcjp0aGlzLGV4dGVuc2lvbjpuLHBhcmVudDp0LG5vZGU6ZSx2aWV3OnIsZ2V0UG9zOm8sZGVjb3JhdGlvbnM6aX0pfTtyZXR1cm57Li4uZSxbbi5uYW1lXTpyfX0pLHt9KX1kaXNwYXRjaFRyYW5zYWN0aW9uKHQpe2NvbnN0IGU9dGhpcy5zdGF0ZS5hcHBseSh0KTt0aGlzLnZpZXcudXBkYXRlU3RhdGUoZSksdGhpcy5zZWxlY3Rpb249e2Zyb206dGhpcy5zdGF0ZS5zZWxlY3Rpb24uZnJvbSx0bzp0aGlzLnN0YXRlLnNlbGVjdGlvbi50b30sdGhpcy5zZXRBY3RpdmVOb2Rlc0FuZE1hcmtzKCksdGhpcy5lbWl0KCJ0cmFuc2FjdGlvbiIse2dldEhUTUw6dGhpcy5nZXRIVE1MLmJpbmQodGhpcyksZ2V0SlNPTjp0aGlzLmdldEpTT04uYmluZCh0aGlzKSxzdGF0ZTp0aGlzLnN0YXRlLHRyYW5zYWN0aW9uOnR9KSx0LmRvY0NoYW5nZWQmJiF0LmdldE1ldGEoInByZXZlbnRVcGRhdGUiKSYmdGhpcy5lbWl0VXBkYXRlKHQpfWVtaXRVcGRhdGUodCl7dGhpcy5lbWl0KCJ1cGRhdGUiLHtnZXRIVE1MOnRoaXMuZ2V0SFRNTC5iaW5kKHRoaXMpLGdldEpTT046dGhpcy5nZXRKU09OLmJpbmQodGhpcyksc3RhdGU6dGhpcy5zdGF0ZSx0cmFuc2FjdGlvbjp0fSl9cmVzb2x2ZVNlbGVjdGlvbih0PW51bGwpe2lmKHRoaXMuc2VsZWN0aW9uJiZudWxsPT09dClyZXR1cm4gdGhpcy5zZWxlY3Rpb247aWYoInN0YXJ0Ij09PXR8fCEwPT09dClyZXR1cm57ZnJvbTowLHRvOjB9O2lmKCJlbmQiPT09dCl7Y29uc3R7ZG9jOnR9PXRoaXMuc3RhdGU7cmV0dXJue2Zyb206dC5jb250ZW50LnNpemUsdG86dC5jb250ZW50LnNpemV9fXJldHVybntmcm9tOnQsdG86dH19Zm9jdXModD1udWxsKXtpZih0aGlzLnZpZXcuZm9jdXNlZCYmbnVsbD09PXR8fCExPT09dClyZXR1cm47Y29uc3R7ZnJvbTplLHRvOm59PXRoaXMucmVzb2x2ZVNlbGVjdGlvbih0KTt0aGlzLnNldFNlbGVjdGlvbihlLG4pLHNldFRpbWVvdXQoKCgpPT50aGlzLnZpZXcuZm9jdXMoKSksMTApfXNldFNlbGVjdGlvbih0PTAsZT0wKXtjb25zdHtkb2M6bix0cjpyfT10aGlzLnN0YXRlLG89RmEodCwwLG4uY29udGVudC5zaXplKSxpPUZhKGUsMCxuLmNvbnRlbnQuc2l6ZSkscz1UZS5jcmVhdGUobixvLGkpLGE9ci5zZXRTZWxlY3Rpb24ocyk7dGhpcy52aWV3LmRpc3BhdGNoKGEpfWJsdXIoKXt0aGlzLnZpZXcuZG9tLmJsdXIoKX1nZXRTY2hlbWFKU09OKCl7cmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoe25vZGVzOnRoaXMuZXh0ZW5zaW9ucy5ub2RlcyxtYXJrczp0aGlzLmV4dGVuc2lvbnMubWFya3N9KSl9Z2V0SFRNTCgpe2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksZT1fdC5mcm9tU2NoZW1hKHRoaXMuc2NoZW1hKS5zZXJpYWxpemVGcmFnbWVudCh0aGlzLnN0YXRlLmRvYy5jb250ZW50KTtyZXR1cm4gdC5hcHBlbmRDaGlsZChlKSx0LmlubmVySFRNTH1nZXRKU09OKCl7cmV0dXJuIHRoaXMuc3RhdGUuZG9jLnRvSlNPTigpfXNldENvbnRlbnQodD17fSxlPSExLG4pe2NvbnN0e2RvYzpyLHRyOm99PXRoaXMuc3RhdGUsaT10aGlzLmNyZWF0ZURvY3VtZW50KHQsbikscz1UZS5jcmVhdGUociwwLHIuY29udGVudC5zaXplKSxhPW8uc2V0U2VsZWN0aW9uKHMpLnJlcGxhY2VTZWxlY3Rpb25XaXRoKGksITEpLnNldE1ldGEoInByZXZlbnRVcGRhdGUiLCFlKTt0aGlzLnZpZXcuZGlzcGF0Y2goYSl9Y2xlYXJDb250ZW50KHQ9ITEpe3RoaXMuc2V0Q29udGVudCh0aGlzLm9wdGlvbnMuZW1wdHlEb2N1bWVudCx0KX1zZXRBY3RpdmVOb2Rlc0FuZE1hcmtzKCl7dGhpcy5hY3RpdmVNYXJrcz1PYmplY3QuZW50cmllcyh0aGlzLnNjaGVtYS5tYXJrcykucmVkdWNlKCgodCxbZSxuXSk9Pih7Li4udCxbZV06KHQ9e30pPT5oYSh0aGlzLnN0YXRlLG4sdCl9KSkse30pLHRoaXMuYWN0aXZlTWFya0F0dHJzPU9iamVjdC5lbnRyaWVzKHRoaXMuc2NoZW1hLm1hcmtzKS5yZWR1Y2UoKCh0LFtlLG5dKT0+KHsuLi50LFtlXTpsYSh0aGlzLnN0YXRlLG4pfSkpLHt9KSx0aGlzLmFjdGl2ZU5vZGVzPU9iamVjdC5lbnRyaWVzKHRoaXMuc2NoZW1hLm5vZGVzKS5yZWR1Y2UoKCh0LFtlLG5dKT0+KHsuLi50LFtlXToodD17fSk9PmZhKHRoaXMuc3RhdGUsbix0KX0pKSx7fSl9Z2V0TWFya0F0dHJzKHQ9bnVsbCl7cmV0dXJuIHRoaXMuYWN0aXZlTWFya0F0dHJzW3RdfWdldE5vZGVBdHRycyh0PW51bGwpe3JldHVybnsuLi5wYSh0aGlzLnN0YXRlLHRoaXMuc2NoZW1hLm5vZGVzW3RdKX19Z2V0IGlzQWN0aXZlKCl7cmV0dXJuIE9iamVjdC5lbnRyaWVzKHsuLi50aGlzLmFjdGl2ZU1hcmtzLC4uLnRoaXMuYWN0aXZlTm9kZXN9KS5yZWR1Y2UoKCh0LFtlLG5dKT0+KHsuLi50LFtlXToodD17fSk9Pm4odCl9KSkse30pfXJlZ2lzdGVyUGx1Z2luKHQ9bnVsbCxlKXtjb25zdCBuPSJmdW5jdGlvbiI9PT10eXBlb2YgZT9lKHQsdGhpcy5zdGF0ZS5wbHVnaW5zKTpbdCwuLi50aGlzLnN0YXRlLnBsdWdpbnNdLHI9dGhpcy5zdGF0ZS5yZWNvbmZpZ3VyZSh7cGx1Z2luczpufSk7dGhpcy52aWV3LnVwZGF0ZVN0YXRlKHIpfXVucmVnaXN0ZXJQbHVnaW4odD1udWxsKXtpZighdHx8IXRoaXMudmlldy5kb2NWaWV3KXJldHVybjtjb25zdCBlPXRoaXMuc3RhdGUucmVjb25maWd1cmUoe3BsdWdpbnM6dGhpcy5zdGF0ZS5wbHVnaW5zLmZpbHRlcigoZT0+IWUua2V5LnN0YXJ0c1dpdGgoYCR7dH0kYCkpKX0pO3RoaXMudmlldy51cGRhdGVTdGF0ZShlKX1kZXN0cm95KCl7dGhpcy52aWV3JiZ0aGlzLnZpZXcuZGVzdHJveSgpfX12YXIgR2E9e3Byb3BzOntlZGl0b3I6e2RlZmF1bHQ6bnVsbCx0eXBlOk9iamVjdH19LHdhdGNoOntlZGl0b3I6e2ltbWVkaWF0ZTohMCxoYW5kbGVyKHQpe3QmJnQuZWxlbWVudCYmdGhpcy4kbmV4dFRpY2soKCgpPT57dGhpcy4kZWwuYXBwZW5kQ2hpbGQodC5lbGVtZW50LmZpcnN0Q2hpbGQpLHQuc2V0UGFyZW50Q29tcG9uZW50KHRoaXMpfSkpfX19LHJlbmRlcih0KXtyZXR1cm4gdCgiZGl2Iil9LGJlZm9yZURlc3Ryb3koKXt0aGlzLmVkaXRvci5lbGVtZW50PXRoaXMuJGVsfX07Y2xhc3MgWGF7Y29uc3RydWN0b3Ioe29wdGlvbnM6dH0pe3RoaXMub3B0aW9ucz10LHRoaXMucHJldmVudEhpZGU9ITEsdGhpcy5tb3VzZWRvd25IYW5kbGVyPXRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKSx0aGlzLm9wdGlvbnMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLHRoaXMubW91c2Vkb3duSGFuZGxlcix7Y2FwdHVyZTohMH0pLHRoaXMuYmx1ckhhbmRsZXI9KCk9Pnt0aGlzLnByZXZlbnRIaWRlP3RoaXMucHJldmVudEhpZGU9ITE6dGhpcy5vcHRpb25zLmVkaXRvci5lbWl0KCJtZW51YmFyOmZvY3VzVXBkYXRlIiwhMSl9LHRoaXMub3B0aW9ucy5lZGl0b3Iub24oImJsdXIiLHRoaXMuYmx1ckhhbmRsZXIpfWhhbmRsZUNsaWNrKCl7dGhpcy5wcmV2ZW50SGlkZT0hMH1kZXN0cm95KCl7dGhpcy5vcHRpb25zLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIix0aGlzLm1vdXNlZG93bkhhbmRsZXIpLHRoaXMub3B0aW9ucy5lZGl0b3Iub2ZmKCJibHVyIix0aGlzLmJsdXJIYW5kbGVyKX19ZnVuY3Rpb24gWWEodCl7cmV0dXJuIG5ldyBYZSh7a2V5Om5ldyBRZSgibWVudV9iYXIiKSx2aWV3KGUpe3JldHVybiBuZXcgWGEoe2VkaXRvclZpZXc6ZSxvcHRpb25zOnR9KX19KX12YXIgWmE9e3Byb3BzOntlZGl0b3I6e2RlZmF1bHQ6bnVsbCx0eXBlOk9iamVjdH19LGRhdGEoKXtyZXR1cm57Zm9jdXNlZDohMX19LHdhdGNoOntlZGl0b3I6e2ltbWVkaWF0ZTohMCxoYW5kbGVyKHQpe3QmJnRoaXMuJG5leHRUaWNrKCgoKT0+e3QucmVnaXN0ZXJQbHVnaW4oWWEoe2VkaXRvcjp0LGVsZW1lbnQ6dGhpcy4kZWx9KSksdGhpcy5mb2N1c2VkPXQuZm9jdXNlZCx0Lm9uKCJmb2N1cyIsKCgpPT57dGhpcy5mb2N1c2VkPSEwfSkpLHQub24oIm1lbnViYXI6Zm9jdXNVcGRhdGUiLCh0PT57dGhpcy5mb2N1c2VkPXR9KSl9KSl9fX0scmVuZGVyKCl7cmV0dXJuIHRoaXMuZWRpdG9yP3RoaXMuJHNjb3BlZFNsb3RzLmRlZmF1bHQoe2ZvY3VzZWQ6dGhpcy5mb2N1c2VkLGZvY3VzOnRoaXMuZWRpdG9yLmZvY3VzLGNvbW1hbmRzOnRoaXMuZWRpdG9yLmNvbW1hbmRzLGlzQWN0aXZlOnRoaXMuZWRpdG9yLmlzQWN0aXZlLGdldE1hcmtBdHRyczp0aGlzLmVkaXRvci5nZXRNYXJrQXR0cnMuYmluZCh0aGlzLmVkaXRvciksZ2V0Tm9kZUF0dHJzOnRoaXMuZWRpdG9yLmdldE5vZGVBdHRycy5iaW5kKHRoaXMuZWRpdG9yKX0pOm51bGx9fTtmdW5jdGlvbiBRYSh0LGUsbil7Y29uc3Qgcj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO3JldHVybiByLnNldEVuZCh0LG51bGw9PW4/dC5ub2RlVmFsdWUubGVuZ3RoOm4pLHIuc2V0U3RhcnQodCxNYXRoLm1heChlLDApKSxyfWZ1bmN0aW9uIHRjKHQsZSl7Y29uc3Qgbj10LmdldENsaWVudFJlY3RzKCk7cmV0dXJuIG4ubGVuZ3RoP25bZTwwPzA6bi5sZW5ndGgtMV06dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1mdW5jdGlvbiBlYyh0LGUsbj0hMSl7Y29uc3R7bm9kZTpyLG9mZnNldDpvfT10LmRvY1ZpZXcuZG9tRnJvbVBvcyhlKTtsZXQgaSxzO2lmKDM9PT1yLm5vZGVUeXBlKW4mJm88ci5ub2RlVmFsdWUubGVuZ3RoPyh0YyhRYShyLG8tMSxvKSwtMSksInJpZ2h0Iik6bzxyLm5vZGVWYWx1ZS5sZW5ndGgmJih0YyhRYShyLG8sbysxKSwtMSksImxlZnQiKTtlbHNlIGlmKHIuZmlyc3RDaGlsZCl7aWYobzxyLmNoaWxkTm9kZXMubGVuZ3RoKXtjb25zdCB0PXIuY2hpbGROb2Rlc1tvXTt0YygzPT09dC5ub2RlVHlwZT9RYSh0KTp0LC0xKSwibGVmdCJ9aWYoKCFzfHxzLnRvcD09PXMuYm90dG9tKSYmbyl7Y29uc3QgdD1yLmNoaWxkTm9kZXNbby0xXTt0YygzPT09dC5ub2RlVHlwZT9RYSh0KTp0LDEpLCJyaWdodCJ9fWVsc2Ugci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwibGVmdCI7Y29uc3QgYT1zW2ldO3JldHVybnt0b3A6cy50b3AsYm90dG9tOnMuYm90dG9tLGxlZnQ6YSxyaWdodDphfX1jbGFzcyBuY3tjb25zdHJ1Y3Rvcih7b3B0aW9uczp0LGVkaXRvclZpZXc6ZX0pe3RoaXMub3B0aW9ucz17ZWxlbWVudDpudWxsLGtlZXBJbkJvdW5kczohMCxvblVwZGF0ZTooKT0+ITEsLi4udH0sdGhpcy5lZGl0b3JWaWV3PWUsdGhpcy5pc0FjdGl2ZT0hMSx0aGlzLmxlZnQ9MCx0aGlzLmJvdHRvbT0wLHRoaXMudG9wPTAsdGhpcy5wcmV2ZW50SGlkZT0hMSx0aGlzLm1vdXNlZG93bkhhbmRsZXI9dGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpLHRoaXMub3B0aW9ucy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsdGhpcy5tb3VzZWRvd25IYW5kbGVyLHtjYXB0dXJlOiEwfSksdGhpcy5mb2N1c0hhbmRsZXI9KHt2aWV3OnR9KT0+e3RoaXMudXBkYXRlKHQpfSx0aGlzLm9wdGlvbnMuZWRpdG9yLm9uKCJmb2N1cyIsdGhpcy5mb2N1c0hhbmRsZXIpLHRoaXMuYmx1ckhhbmRsZXI9KHtldmVudDp0fSk9Pnt0aGlzLnByZXZlbnRIaWRlP3RoaXMucHJldmVudEhpZGU9ITE6dGhpcy5oaWRlKHQpfSx0aGlzLm9wdGlvbnMuZWRpdG9yLm9uKCJibHVyIix0aGlzLmJsdXJIYW5kbGVyKX1oYW5kbGVDbGljaygpe3RoaXMucHJldmVudEhpZGU9ITB9dXBkYXRlKHQsZSl7Y29uc3R7c3RhdGU6bn09dDtpZih0LmNvbXBvc2luZylyZXR1cm47aWYoZSYmZS5kb2MuZXEobi5kb2MpJiZlLnNlbGVjdGlvbi5lcShuLnNlbGVjdGlvbikpcmV0dXJuO2lmKG4uc2VsZWN0aW9uLmVtcHR5KXJldHVybiB2b2lkIHRoaXMuaGlkZSgpO2NvbnN0e2Zyb206cix0bzpvfT1uLnNlbGVjdGlvbixpPWVjKHQscikscz1lYyh0LG8sITApLGE9dGhpcy5vcHRpb25zLmVsZW1lbnQub2Zmc2V0UGFyZW50O2lmKCFhKXJldHVybiB2b2lkIHRoaXMuaGlkZSgpO2NvbnN0IGM9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxsPXRoaXMub3B0aW9ucy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHU9KGkubGVmdCtzLmxlZnQpLzItYy5sZWZ0O3RoaXMubGVmdD1NYXRoLnJvdW5kKHRoaXMub3B0aW9ucy5rZWVwSW5Cb3VuZHM/TWF0aC5taW4oYy53aWR0aC1sLndpZHRoLzIsTWF0aC5tYXgodSxsLndpZHRoLzIpKTp1KSx0aGlzLmJvdHRvbT1NYXRoLnJvdW5kKGMuYm90dG9tLWkudG9wKSx0aGlzLnRvcD1NYXRoLnJvdW5kKHMuYm90dG9tLWMudG9wKSx0aGlzLmlzQWN0aXZlPSEwLHRoaXMuc2VuZFVwZGF0ZSgpfXNlbmRVcGRhdGUoKXt0aGlzLm9wdGlvbnMub25VcGRhdGUoe2lzQWN0aXZlOnRoaXMuaXNBY3RpdmUsbGVmdDp0aGlzLmxlZnQsYm90dG9tOnRoaXMuYm90dG9tLHRvcDp0aGlzLnRvcH0pfWhpZGUodCl7dCYmdC5yZWxhdGVkVGFyZ2V0JiZ0aGlzLm9wdGlvbnMuZWxlbWVudC5wYXJlbnROb2RlJiZ0aGlzLm9wdGlvbnMuZWxlbWVudC5wYXJlbnROb2RlLmNvbnRhaW5zKHQucmVsYXRlZFRhcmdldCl8fCh0aGlzLmlzQWN0aXZlPSExLHRoaXMuc2VuZFVwZGF0ZSgpKX1kZXN0cm95KCl7dGhpcy5vcHRpb25zLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIix0aGlzLm1vdXNlZG93bkhhbmRsZXIpLHRoaXMub3B0aW9ucy5lZGl0b3Iub2ZmKCJmb2N1cyIsdGhpcy5mb2N1c0hhbmRsZXIpLHRoaXMub3B0aW9ucy5lZGl0b3Iub2ZmKCJibHVyIix0aGlzLmJsdXJIYW5kbGVyKX19ZnVuY3Rpb24gcmModCl7cmV0dXJuIG5ldyBYZSh7a2V5Om5ldyBRZSgibWVudV9idWJibGUiKSx2aWV3KGUpe3JldHVybiBuZXcgbmMoe2VkaXRvclZpZXc6ZSxvcHRpb25zOnR9KX19KX1Cb29sZWFuO3ZhciBvYz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10LiRjcmVhdGVFbGVtZW50LG49dC5fc2VsZi5fY3x8ZTtyZXR1cm4gbigiZGl2Iix7c3RhdGljQ2xhc3M6Imljb24iLGNsYXNzOlsiaWNvbi0tIit0Lm5hbWUsImljb24tLSIrdC5zaXplXX0sW24odC5pY29uLHt0YWc6ImNvbXBvbmVudCJ9KV0sMSl9LGljPVtdO2Z1bmN0aW9uIHNjKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHR9cigyNTI2KSxyKDE4MTcpLHIoMTUzOSkscigyMTY1KSxyKDY5OTIpLHIoODc4MykscigzOTQ4KTtmdW5jdGlvbiBhYyh0LGUpe3ZhciBuPXQmJigidW5kZWZpbmVkIiE9PXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXXx8dFsiQEBpdGVyYXRvciJdKTtpZihudWxsIT1uKXt2YXIgcixvLGk9W10scz0hMCxhPSExO3RyeXtmb3Iobj1uLmNhbGwodCk7IShzPShyPW4ubmV4dCgpKS5kb25lKTtzPSEwKWlmKGkucHVzaChyLnZhbHVlKSxlJiZpLmxlbmd0aD09PWUpYnJlYWt9Y2F0Y2goYyl7YT0hMCxvPWN9ZmluYWxseXt0cnl7c3x8bnVsbD09blsicmV0dXJuIl18fG5bInJldHVybiJdKCl9ZmluYWxseXtpZihhKXRocm93IG99fXJldHVybiBpfX1yKDcwNDIpLHIoODMwOSkscigxMDM4KTtmdW5jdGlvbiBjYyh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIGxjKHQsZSl7aWYodCl7aWYoInN0cmluZyI9PT10eXBlb2YgdClyZXR1cm4gY2ModCxlKTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09bnx8IlNldCI9PT1uP0FycmF5LmZyb20odCk6IkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9jYyh0LGUpOnZvaWQgMH19ZnVuY3Rpb24gdWMoKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfWZ1bmN0aW9uIHBjKHQsZSl7cmV0dXJuIHNjKHQpfHxhYyh0LGUpfHxsYyh0LGUpfHx1YygpfXIoOTcyMCk7Zm9yKHZhciBoYz1yKDM3MjUpLGZjPXIubihoYyksZGM9cig0ODAyKSxtYz1yLm4oZGMpLHZjPXIoOTA5NCksZ2M9ci5uKHZjKSx5Yz1yKDMyNjEpLHdjPXIubih5YyksYmM9cig1OTYxKSx4Yz1yLm4oYmMpLGtjPXIoOTQwKSxTYz1yLm4oa2MpLENjPXIoNjc4NSksTWM9ci5uKENjKSxPYz1yKDU5NDgpLEFjPXIubihPYyksTmM9cig1MzExKSxFYz1yLm4oTmMpLFRjPXIoNDUyNiksRGM9ci5uKFRjKSxfYz1yKDQ0NjQpLFJjPXIubihfYyksemM9cig2Mzc4KSxJYz1yLm4oemMpLFBjPXIoMjg2MSksJGM9ci5uKFBjKSxCYz1yKDEwMzApLFZjPXIubihCYyksamM9cig5MTE4KSxMYz1yLm4oamMpLEZjPXIoNzA4MyksSGM9ci5uKEZjKSxKYz1yKDMxNDQpLFdjPXIubihKYykscWM9cig5NjY3KSxLYz1yLm4ocWMpLFVjPXIoODUyMSksR2M9ci5uKFVjKSxYYz1yKDc5ODApLFljPXIubihYYyksWmM9cig4Njk5KSxRYz1yLm4oWmMpLHRsPXIoMzU0NiksZWw9ci5uKHRsKSxubD1yKDMzMTYpLHJsPXIubihubCksb2w9cig5NjY2KSxpbD1yLm4ob2wpLHNsPXIoMzQ2MiksYWw9ci5uKHNsKSxjbD1yKDM3MjQpLGxsPXIubihjbCksdWw9cigxNjA3KSxwbD1yLm4odWwpLGhsPXIoMzY2OSksZmw9ci5uKGhsKSxkbD17YWRkX2NvbF9hZnRlcjpmYygpLGFkZF9jb2xfYmVmb3JlOm1jKCksYWRkX3Jvd19hZnRlcjpnYygpLGFkZF9yb3dfYmVmb3JlOndjKCksYm9sZDp4YygpLGNoZWNrbGlzdDpTYygpLGNvZGU6TWMoKSxjb2RlX2Jsb2NrOkFjKCksY29tYmluZV9jZWxsczpFYygpLGRlbGV0ZV9jb2w6RGMoKSxkZWxldGVfcm93OlJjKCksZGVsZXRlX3RhYmxlOkljKCksZ2l0aHViOiRjKCksaHI6VmMoKSxpbWFnZTpMYygpLGl0YWxpYzpIYygpLGxpbms6V2MoKSxtZW50aW9uOktjKCksb2w6R2MoKSxwYXJhZ3JhcGg6WWMoKSxxdW90ZTpRYygpLHJlZG86ZWwoKSxyZW1vdmU6cmwoKSxzdHJpa2U6aWwoKSx0YWJsZTphbCgpLHVsOmxsKCksdW5kZXJsaW5lOnBsKCksdW5kbzpmbCgpfSxtbD17fSx2bD0wLGdsPU9iamVjdC5lbnRyaWVzKGRsKTt2bDxnbC5sZW5ndGg7dmwrKyl7dmFyIHlsPXBjKGdsW3ZsXSwyKSx3bD15bFswXSxibD15bFsxXTttbFsiaWNvbl8iK3dsXT1ibH12YXIgeGw9e2NvbXBvbmVudHM6bWwscHJvcHM6e25hbWU6e30sc2l6ZTp7ZGVmYXVsdDoibm9ybWFsIn0sbW9kaWZpZXI6e2RlZmF1bHQ6bnVsbH0sZml4QWxpZ246e2RlZmF1bHQ6ITB9fSxjb21wdXRlZDp7aWNvbjpmdW5jdGlvbigpe3JldHVybiJpY29uXyIrdGhpcy5uYW1lfX19LGtsPXhsO2Z1bmN0aW9uIFNsKHQsZSxuLHIsbyxpLHMsYSl7dmFyIGMsbD0iZnVuY3Rpb24iPT09dHlwZW9mIHQ/dC5vcHRpb25zOnQ7aWYoZSYmKGwucmVuZGVyPWUsbC5zdGF0aWNSZW5kZXJGbnM9bixsLl9jb21waWxlZD0hMCksciYmKGwuZnVuY3Rpb25hbD0hMCksaSYmKGwuX3Njb3BlSWQ9ImRhdGEtdi0iK2kpLHM/KGM9ZnVuY3Rpb24odCl7dD10fHx0aGlzLiR2bm9kZSYmdGhpcy4kdm5vZGUuc3NyQ29udGV4dHx8dGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LiR2bm9kZSYmdGhpcy5wYXJlbnQuJHZub2RlLnNzckNvbnRleHQsdHx8InVuZGVmaW5lZCI9PT10eXBlb2YgX19WVUVfU1NSX0NPTlRFWFRfX3x8KHQ9X19WVUVfU1NSX0NPTlRFWFRfXyksbyYmby5jYWxsKHRoaXMsdCksdCYmdC5fcmVnaXN0ZXJlZENvbXBvbmVudHMmJnQuX3JlZ2lzdGVyZWRDb21wb25lbnRzLmFkZChzKX0sbC5fc3NyUmVnaXN0ZXI9Yyk6byYmKGM9YT9mdW5jdGlvbigpe28uY2FsbCh0aGlzLChsLmZ1bmN0aW9uYWw/dGhpcy5wYXJlbnQ6dGhpcykuJHJvb3QuJG9wdGlvbnMuc2hhZG93Um9vdCl9Om8pLGMpaWYobC5mdW5jdGlvbmFsKXtsLl9pbmplY3RTdHlsZXM9Yzt2YXIgdT1sLnJlbmRlcjtsLnJlbmRlcj1mdW5jdGlvbih0LGUpe3JldHVybiBjLmNhbGwoZSksdSh0LGUpfX1lbHNle3ZhciBwPWwuYmVmb3JlQ3JlYXRlO2wuYmVmb3JlQ3JlYXRlPXA/W10uY29uY2F0KHAsYyk6W2NdfXJldHVybntleHBvcnRzOnQsb3B0aW9uczpsfX12YXIgQ2wsTWwsT2w9U2woa2wsb2MsaWMsITEsbnVsbCwiZTU5Zjc4MzIiLG51bGwpLEFsPU9sLmV4cG9ydHM7cig2NDcwKTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFdlYWtNYXApe3ZhciBObD1uZXcgV2Vha01hcDtDbD1mdW5jdGlvbih0KXtyZXR1cm4gTmwuZ2V0KHQpfSxNbD1mdW5jdGlvbih0LGUpe3JldHVybiBObC5zZXQodCxlKSxlfX1lbHNle3ZhciBFbD1bXSxUbD0xMCxEbD0wO0NsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8RWwubGVuZ3RoO2UrPTIpaWYoRWxbZV09PXQpcmV0dXJuIEVsW2UrMV19LE1sPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIERsPT1UbCYmKERsPTApLEVsW0RsKytdPXQsRWxbRGwrK109ZX19dmFyIF9sPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMubGVmdD10LHRoaXMudG9wPWUsdGhpcy5yaWdodD1uLHRoaXMuYm90dG9tPXJ9LFJsPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMud2lkdGg9dCx0aGlzLmhlaWdodD1lLHRoaXMubWFwPW4sdGhpcy5wcm9ibGVtcz1yfTtmdW5jdGlvbiB6bCh0KXtpZigidGFibGUiIT10LnR5cGUuc3BlYy50YWJsZVJvbGUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vdCBhIHRhYmxlIG5vZGU6ICIrdC50eXBlLm5hbWUpO2Zvcih2YXIgZT1JbCh0KSxuPXQuY2hpbGRDb3VudCxyPVtdLG89MCxpPW51bGwscz1bXSxhPTAsYz1lKm47YTxjO2ErKylyW2FdPTA7Zm9yKHZhciBsPTAsdT0wO2w8bjtsKyspe3ZhciBwPXQuY2hpbGQobCk7dSsrO2Zvcih2YXIgaD0wOztoKyspe3doaWxlKG88ci5sZW5ndGgmJjAhPXJbb10pbysrO2lmKGg9PXAuY2hpbGRDb3VudClicmVhaztmb3IodmFyIGY9cC5jaGlsZChoKSxkPWYuYXR0cnMsbT1kLmNvbHNwYW4sdj1kLnJvd3NwYW4sZz1kLmNvbHdpZHRoLHk9MDt5PHY7eSsrKXtpZih5K2w+PW4peyhpfHwoaT1bXSkpLnB1c2goe3R5cGU6Im92ZXJsb25nX3Jvd3NwYW4iLHBvczp1LG46di15fSk7YnJlYWt9Zm9yKHZhciB3PW8reSplLGI9MDtiPG07YisrKXswPT1yW3crYl0/clt3K2JdPXU6KGl8fChpPVtdKSkucHVzaCh7dHlwZToiY29sbGlzaW9uIixyb3c6bCxwb3M6dSxuOm0tYn0pO3ZhciB4PWcmJmdbYl07aWYoeCl7dmFyIGs9KHcrYiklZSoyLFM9c1trXTtudWxsPT1TfHxTIT14JiYxPT1zW2srMV0/KHNba109eCxzW2srMV09MSk6Uz09eCYmc1trKzFdKyt9fX1vKz1tLHUrPWYubm9kZVNpemV9dmFyIEM9KGwrMSkqZSxNPTA7d2hpbGUobzxDKTA9PXJbbysrXSYmTSsrO00mJihpfHwoaT1bXSkpLnB1c2goe3R5cGU6Im1pc3NpbmciLHJvdzpsLG46TX0pLHUrK31mb3IodmFyIE89bmV3IFJsKGUsbixyLGkpLEE9ITEsTj0wOyFBJiZOPHMubGVuZ3RoO04rPTIpbnVsbCE9c1tOXSYmc1tOKzFdPG4mJihBPSEwKTtyZXR1cm4gQSYmUGwoTyxzLHQpLE99ZnVuY3Rpb24gSWwodCl7Zm9yKHZhciBlPS0xLG49ITEscj0wO3I8dC5jaGlsZENvdW50O3IrKyl7dmFyIG89dC5jaGlsZChyKSxpPTA7aWYobilmb3IodmFyIHM9MDtzPHI7cysrKWZvcih2YXIgYT10LmNoaWxkKHMpLGM9MDtjPGEuY2hpbGRDb3VudDtjKyspe3ZhciBsPWEuY2hpbGQoYyk7cytsLmF0dHJzLnJvd3NwYW4+ciYmKGkrPWwuYXR0cnMuY29sc3Bhbil9Zm9yKHZhciB1PTA7dTxvLmNoaWxkQ291bnQ7dSsrKXt2YXIgcD1vLmNoaWxkKHUpO2krPXAuYXR0cnMuY29sc3BhbixwLmF0dHJzLnJvd3NwYW4+MSYmKG49ITApfS0xPT1lP2U9aTplIT1pJiYoZT1NYXRoLm1heChlLGkpKX1yZXR1cm4gZX1mdW5jdGlvbiBQbCh0LGUsbil7dC5wcm9ibGVtc3x8KHQucHJvYmxlbXM9W10pO2Zvcih2YXIgcj0wLG89e307cjx0Lm1hcC5sZW5ndGg7cisrKXt2YXIgaT10Lm1hcFtyXTtpZighb1tpXSl7b1tpXT0hMDtmb3IodmFyIHM9bi5ub2RlQXQoaSksYT1udWxsLGM9MDtjPHMuYXR0cnMuY29sc3BhbjtjKyspe3ZhciBsPShyK2MpJXQud2lkdGgsdT1lWzIqbF07bnVsbD09dXx8cy5hdHRycy5jb2x3aWR0aCYmcy5hdHRycy5jb2x3aWR0aFtjXT09dXx8KChhfHwoYT0kbChzLmF0dHJzKSkpW2NdPXUpfWEmJnQucHJvYmxlbXMudW5zaGlmdCh7dHlwZToiY29sd2lkdGggbWlzbWF0Y2giLHBvczppLGNvbHdpZHRoOmF9KX19fWZ1bmN0aW9uICRsKHQpe2lmKHQuY29sd2lkdGgpcmV0dXJuIHQuY29sd2lkdGguc2xpY2UoKTtmb3IodmFyIGU9W10sbj0wO248dC5jb2xzcGFuO24rKyllLnB1c2goMCk7cmV0dXJuIGV9ZnVuY3Rpb24gQmwodCxlKXt2YXIgbj10LmdldEF0dHJpYnV0ZSgiZGF0YS1jb2x3aWR0aCIpLHI9biYmL15cZCsoLFxkKykqJC8udGVzdChuKT9uLnNwbGl0KCIsIikubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gTnVtYmVyKHQpfSkpOm51bGwsbz1OdW1iZXIodC5nZXRBdHRyaWJ1dGUoImNvbHNwYW4iKXx8MSksaT17Y29sc3BhbjpvLHJvd3NwYW46TnVtYmVyKHQuZ2V0QXR0cmlidXRlKCJyb3dzcGFuIil8fDEpLGNvbHdpZHRoOnImJnIubGVuZ3RoPT1vP3I6bnVsbH07Zm9yKHZhciBzIGluIGUpe3ZhciBhPWVbc10uZ2V0RnJvbURPTSxjPWEmJmEodCk7bnVsbCE9YyYmKGlbc109Yyl9cmV0dXJuIGl9ZnVuY3Rpb24gVmwodCxlKXt2YXIgbj17fTtmb3IodmFyIHIgaW4gMSE9dC5hdHRycy5jb2xzcGFuJiYobi5jb2xzcGFuPXQuYXR0cnMuY29sc3BhbiksMSE9dC5hdHRycy5yb3dzcGFuJiYobi5yb3dzcGFuPXQuYXR0cnMucm93c3BhbiksdC5hdHRycy5jb2x3aWR0aCYmKG5bImRhdGEtY29sd2lkdGgiXT10LmF0dHJzLmNvbHdpZHRoLmpvaW4oIiwiKSksZSl7dmFyIG89ZVtyXS5zZXRET01BdHRyO28mJm8odC5hdHRyc1tyXSxuKX1yZXR1cm4gbn1mdW5jdGlvbiBqbCh0KXt2YXIgZT10LmNlbGxBdHRyaWJ1dGVzfHx7fSxuPXtjb2xzcGFuOntkZWZhdWx0OjF9LHJvd3NwYW46e2RlZmF1bHQ6MX0sY29sd2lkdGg6e2RlZmF1bHQ6bnVsbH19O2Zvcih2YXIgciBpbiBlKW5bcl09e2RlZmF1bHQ6ZVtyXS5kZWZhdWx0fTtyZXR1cm57dGFibGU6e2NvbnRlbnQ6InRhYmxlX3JvdysiLHRhYmxlUm9sZToidGFibGUiLGlzb2xhdGluZzohMCxncm91cDp0LnRhYmxlR3JvdXAscGFyc2VET006W3t0YWc6InRhYmxlIn1dLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuWyJ0YWJsZSIsWyJ0Ym9keSIsMF1dfX0sdGFibGVfcm93Ontjb250ZW50OiIodGFibGVfY2VsbCB8IHRhYmxlX2hlYWRlcikqIix0YWJsZVJvbGU6InJvdyIscGFyc2VET006W3t0YWc6InRyIn1dLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuWyJ0ciIsMF19fSx0YWJsZV9jZWxsOntjb250ZW50OnQuY2VsbENvbnRlbnQsYXR0cnM6bix0YWJsZVJvbGU6ImNlbGwiLGlzb2xhdGluZzohMCxwYXJzZURPTTpbe3RhZzoidGQiLGdldEF0dHJzOmZ1bmN0aW9uKHQpe3JldHVybiBCbCh0LGUpfX1dLHRvRE9NOmZ1bmN0aW9uKHQpe3JldHVyblsidGQiLFZsKHQsZSksMF19fSx0YWJsZV9oZWFkZXI6e2NvbnRlbnQ6dC5jZWxsQ29udGVudCxhdHRyczpuLHRhYmxlUm9sZToiaGVhZGVyX2NlbGwiLGlzb2xhdGluZzohMCxwYXJzZURPTTpbe3RhZzoidGgiLGdldEF0dHJzOmZ1bmN0aW9uKHQpe3JldHVybiBCbCh0LGUpfX1dLHRvRE9NOmZ1bmN0aW9uKHQpe3JldHVyblsidGgiLFZsKHQsZSksMF19fX19ZnVuY3Rpb24gTGwodCl7dmFyIGU9dC5jYWNoZWQudGFibGVOb2RlVHlwZXM7aWYoIWUpZm9yKHZhciBuIGluIGU9dC5jYWNoZWQudGFibGVOb2RlVHlwZXM9e30sdC5ub2Rlcyl7dmFyIHI9dC5ub2Rlc1tuXSxvPXIuc3BlYy50YWJsZVJvbGU7byYmKGVbb109cil9cmV0dXJuIGV9UmwucHJvdG90eXBlLmZpbmRDZWxsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5tYXAubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5tYXBbZV07aWYobj09dCl7Zm9yKHZhciByPWUldGhpcy53aWR0aCxvPWUvdGhpcy53aWR0aHwwLGk9cisxLHM9bysxLGE9MTtpPHRoaXMud2lkdGgmJnRoaXMubWFwW2UrYV09PW47YSsrKWkrKztmb3IodmFyIGM9MTtzPHRoaXMuaGVpZ2h0JiZ0aGlzLm1hcFtlK3RoaXMud2lkdGgqY109PW47YysrKXMrKztyZXR1cm4gbmV3IF9sKHIsbyxpLHMpfX10aHJvdyBuZXcgUmFuZ2VFcnJvcigiTm8gY2VsbCB3aXRoIG9mZnNldCAiK3QrIiBmb3VuZCIpfSxSbC5wcm90b3R5cGUuY29sQ291bnQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLm1hcC5sZW5ndGg7ZSsrKWlmKHRoaXMubWFwW2VdPT10KXJldHVybiBlJXRoaXMud2lkdGg7dGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vIGNlbGwgd2l0aCBvZmZzZXQgIit0KyIgZm91bmQiKX0sUmwucHJvdG90eXBlLm5leHRDZWxsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLmZpbmRDZWxsKHQpLG89ci5sZWZ0LGk9ci5yaWdodCxzPXIudG9wLGE9ci5ib3R0b207cmV0dXJuImhvcml6Ij09ZT8objwwPzA9PW86aT09dGhpcy53aWR0aCk/bnVsbDp0aGlzLm1hcFtzKnRoaXMud2lkdGgrKG48MD9vLTE6aSldOihuPDA/MD09czphPT10aGlzLmhlaWdodCk/bnVsbDp0aGlzLm1hcFtvK3RoaXMud2lkdGgqKG48MD9zLTE6YSldfSxSbC5wcm90b3R5cGUucmVjdEJldHdlZW49ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmZpbmRDZWxsKHQpLHI9bi5sZWZ0LG89bi5yaWdodCxpPW4udG9wLHM9bi5ib3R0b20sYT10aGlzLmZpbmRDZWxsKGUpLGM9YS5sZWZ0LGw9YS5yaWdodCx1PWEudG9wLHA9YS5ib3R0b207cmV0dXJuIG5ldyBfbChNYXRoLm1pbihyLGMpLE1hdGgubWluKGksdSksTWF0aC5tYXgobyxsKSxNYXRoLm1heChzLHApKX0sUmwucHJvdG90eXBlLmNlbGxzSW5SZWN0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPXt9LHI9dC50b3A7cjx0LmJvdHRvbTtyKyspZm9yKHZhciBvPXQubGVmdDtvPHQucmlnaHQ7bysrKXt2YXIgaT1yKnRoaXMud2lkdGgrbyxzPXRoaXMubWFwW2ldO25bc118fChuW3NdPSEwLG89PXQubGVmdCYmbyYmdGhpcy5tYXBbaS0xXT09c3x8cj09dC50b3AmJnImJnRoaXMubWFwW2ktdGhpcy53aWR0aF09PXN8fGUucHVzaChzKSl9cmV0dXJuIGV9LFJsLnByb3RvdHlwZS5wb3NpdGlvbkF0PWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9MCxvPTA7O3IrKyl7dmFyIGk9bytuLmNoaWxkKHIpLm5vZGVTaXplO2lmKHI9PXQpe3ZhciBzPWUrdCp0aGlzLndpZHRoLGE9KHQrMSkqdGhpcy53aWR0aDt3aGlsZShzPGEmJnRoaXMubWFwW3NdPG8pcysrO3JldHVybiBzPT1hP2ktMTp0aGlzLm1hcFtzXX1vPWl9fSxSbC5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIENsKHQpfHxNbCh0LHpsKHQpKX07dmFyIEZsPW5ldyBRZSgic2VsZWN0aW5nQ2VsbHMiKTtmdW5jdGlvbiBIbCh0KXtmb3IodmFyIGU9dC5kZXB0aC0xO2U+MDtlLS0paWYoInJvdyI9PXQubm9kZShlKS50eXBlLnNwZWMudGFibGVSb2xlKXJldHVybiB0Lm5vZGUoMCkucmVzb2x2ZSh0LmJlZm9yZShlKzEpKTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBKbCh0KXtmb3IodmFyIGU9dC5kZXB0aDtlPjA7ZS0tKXt2YXIgbj10Lm5vZGUoZSkudHlwZS5zcGVjLnRhYmxlUm9sZTtpZigiY2VsbCI9PT1ufHwiaGVhZGVyX2NlbGwiPT09bilyZXR1cm4gdC5ub2RlKGUpfXJldHVybiBudWxsfWZ1bmN0aW9uIFdsKHQpe2Zvcih2YXIgZT10LnNlbGVjdGlvbi4kaGVhZCxuPWUuZGVwdGg7bj4wO24tLSlpZigicm93Ij09ZS5ub2RlKG4pLnR5cGUuc3BlYy50YWJsZVJvbGUpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gcWwodCl7dmFyIGU9dC5zZWxlY3Rpb247cmV0dXJuIGUuJGFuY2hvckNlbGw/ZS4kYW5jaG9yQ2VsbC5wb3M+ZS4kaGVhZENlbGwucG9zP2UuJGFuY2hvckNlbGw6ZS4kaGVhZENlbGw6ZS5ub2RlJiYiY2VsbCI9PWUubm9kZS50eXBlLnNwZWMudGFibGVSb2xlP2UuJGFuY2hvcjpIbChlLiRoZWFkKXx8S2woZS4kaGVhZCl9ZnVuY3Rpb24gS2wodCl7Zm9yKHZhciBlPXQubm9kZUFmdGVyLG49dC5wb3M7ZTtlPWUuZmlyc3RDaGlsZCxuKyspe3ZhciByPWUudHlwZS5zcGVjLnRhYmxlUm9sZTtpZigiY2VsbCI9PXJ8fCJoZWFkZXJfY2VsbCI9PXIpcmV0dXJuIHQuZG9jLnJlc29sdmUobil9Zm9yKHZhciBvPXQubm9kZUJlZm9yZSxpPXQucG9zO287bz1vLmxhc3RDaGlsZCxpLS0pe3ZhciBzPW8udHlwZS5zcGVjLnRhYmxlUm9sZTtpZigiY2VsbCI9PXN8fCJoZWFkZXJfY2VsbCI9PXMpcmV0dXJuIHQuZG9jLnJlc29sdmUoaS1vLm5vZGVTaXplKX19ZnVuY3Rpb24gVWwodCl7cmV0dXJuInJvdyI9PXQucGFyZW50LnR5cGUuc3BlYy50YWJsZVJvbGUmJnQubm9kZUFmdGVyfWZ1bmN0aW9uIEdsKHQpe3JldHVybiB0Lm5vZGUoMCkucmVzb2x2ZSh0LnBvcyt0Lm5vZGVBZnRlci5ub2RlU2l6ZSl9ZnVuY3Rpb24gWGwodCxlKXtyZXR1cm4gdC5kZXB0aD09ZS5kZXB0aCYmdC5wb3M+PWUuc3RhcnQoLTEpJiZ0LnBvczw9ZS5lbmQoLTEpfWZ1bmN0aW9uIFlsKHQsZSxuKXt2YXIgcj10LnN0YXJ0KC0xKSxvPVJsLmdldCh0Lm5vZGUoLTEpKSxpPW8ubmV4dENlbGwodC5wb3MtcixlLG4pO3JldHVybiBudWxsPT1pP251bGw6dC5ub2RlKDApLnJlc29sdmUocitpKX1mdW5jdGlvbiBabCh0LGUsbil7dmFyIHI9e307Zm9yKHZhciBvIGluIHQpcltvXT10W29dO3JldHVybiByW2VdPW4scn1mdW5jdGlvbiBRbCh0LGUsbil7dm9pZCAwPT09biYmKG49MSk7dmFyIHI9WmwodCwiY29sc3BhbiIsdC5jb2xzcGFuLW4pO3JldHVybiByLmNvbHdpZHRoJiYoci5jb2x3aWR0aD1yLmNvbHdpZHRoLnNsaWNlKCksci5jb2x3aWR0aC5zcGxpY2UoZSxuKSxyLmNvbHdpZHRoLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiB0PjB9KSl8fChyLmNvbHdpZHRoPW51bGwpKSxyfWZ1bmN0aW9uIHR1KHQsZSxuKXt2b2lkIDA9PT1uJiYobj0xKTt2YXIgcj1abCh0LCJjb2xzcGFuIix0LmNvbHNwYW4rbik7aWYoci5jb2x3aWR0aCl7ci5jb2x3aWR0aD1yLmNvbHdpZHRoLnNsaWNlKCk7Zm9yKHZhciBvPTA7bzxuO28rKylyLmNvbHdpZHRoLnNwbGljZShlLDAsMCl9cmV0dXJuIHJ9ZnVuY3Rpb24gZXUodCxlLG4pe2Zvcih2YXIgcj1MbChlLnR5cGUuc2NoZW1hKS5oZWFkZXJfY2VsbCxvPTA7bzx0LmhlaWdodDtvKyspaWYoZS5ub2RlQXQodC5tYXBbbitvKnQud2lkdGhdKS50eXBlIT1yKXJldHVybiExO3JldHVybiEwfXZhciBudT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dm9pZCAwPT09biYmKG49ZSk7dmFyIHI9ZS5ub2RlKC0xKSxvPVJsLmdldChyKSxpPWUuc3RhcnQoLTEpLHM9by5yZWN0QmV0d2VlbihlLnBvcy1pLG4ucG9zLWkpLGE9ZS5ub2RlKDApLGM9by5jZWxsc0luUmVjdChzKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0IT1uLnBvcy1pfSkpO2MudW5zaGlmdChuLnBvcy1pKTt2YXIgbD1jLm1hcCgoZnVuY3Rpb24odCl7dmFyIGU9ci5ub2RlQXQodCksbj10K2krMTtyZXR1cm4gbmV3IEVlKGEucmVzb2x2ZShuKSxhLnJlc29sdmUobitlLmNvbnRlbnQuc2l6ZSkpfSkpO3QuY2FsbCh0aGlzLGxbMF0uJGZyb20sbFswXS4kdG8sbCksdGhpcy4kYW5jaG9yQ2VsbD1lLHRoaXMuJGhlYWRDZWxsPW59cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LG4pe3ZhciByPXQucmVzb2x2ZShuLm1hcCh0aGlzLiRhbmNob3JDZWxsLnBvcykpLG89dC5yZXNvbHZlKG4ubWFwKHRoaXMuJGhlYWRDZWxsLnBvcykpO2lmKFVsKHIpJiZVbChvKSYmWGwocixvKSl7dmFyIGk9dGhpcy4kYW5jaG9yQ2VsbC5ub2RlKC0xKSE9ci5ub2RlKC0xKTtyZXR1cm4gaSYmdGhpcy5pc1Jvd1NlbGVjdGlvbigpP2Uucm93U2VsZWN0aW9uKHIsbyk6aSYmdGhpcy5pc0NvbFNlbGVjdGlvbigpP2UuY29sU2VsZWN0aW9uKHIsbyk6bmV3IGUocixvKX1yZXR1cm4gVGUuYmV0d2VlbihyLG8pfSxlLnByb3RvdHlwZS5jb250ZW50PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuJGFuY2hvckNlbGwubm9kZSgtMSksZT1SbC5nZXQodCksbj10aGlzLiRhbmNob3JDZWxsLnN0YXJ0KC0xKSxyPWUucmVjdEJldHdlZW4odGhpcy4kYW5jaG9yQ2VsbC5wb3Mtbix0aGlzLiRoZWFkQ2VsbC5wb3Mtbiksbz17fSxpPVtdLHM9ci50b3A7czxyLmJvdHRvbTtzKyspe2Zvcih2YXIgYT1bXSxjPXMqZS53aWR0aCtyLmxlZnQsbD1yLmxlZnQ7bDxyLnJpZ2h0O2wrKyxjKyspe3ZhciB1PWUubWFwW2NdO2lmKCFvW3VdKXtvW3VdPSEwO3ZhciBoPWUuZmluZENlbGwodSksZj10Lm5vZGVBdCh1KSxkPXIubGVmdC1oLmxlZnQsbT1oLnJpZ2h0LXIucmlnaHQ7aWYoZD4wfHxtPjApe3ZhciB2PWYuYXR0cnM7ZD4wJiYodj1RbCh2LDAsZCkpLG0+MCYmKHY9UWwodix2LmNvbHNwYW4tbSxtKSksZj1oLmxlZnQ8ci5sZWZ0P2YudHlwZS5jcmVhdGVBbmRGaWxsKHYpOmYudHlwZS5jcmVhdGUodixmLmNvbnRlbnQpfWlmKGgudG9wPHIudG9wfHxoLmJvdHRvbT5yLmJvdHRvbSl7dmFyIGc9WmwoZi5hdHRycywicm93c3BhbiIsTWF0aC5taW4oaC5ib3R0b20sci5ib3R0b20pLU1hdGgubWF4KGgudG9wLHIudG9wKSk7Zj1oLnRvcDxyLnRvcD9mLnR5cGUuY3JlYXRlQW5kRmlsbChnKTpmLnR5cGUuY3JlYXRlKGcsZi5jb250ZW50KX1hLnB1c2goZil9fWkucHVzaCh0LmNoaWxkKHMpLmNvcHkocC5mcm9tKGEpKSl9dmFyIHc9dGhpcy5pc0NvbFNlbGVjdGlvbigpJiZ0aGlzLmlzUm93U2VsZWN0aW9uKCk/dDppO3JldHVybiBuZXcgeShwLmZyb20odyksMSwxKX0sZS5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbihlLG4pe3ZvaWQgMD09PW4mJihuPXkuZW1wdHkpO2Zvcih2YXIgcj1lLnN0ZXBzLmxlbmd0aCxvPXRoaXMucmFuZ2VzLGk9MDtpPG8ubGVuZ3RoO2krKyl7dmFyIHM9b1tpXSxhPXMuJGZyb20sYz1zLiR0byxsPWUubWFwcGluZy5zbGljZShyKTtlLnJlcGxhY2UobC5tYXAoYS5wb3MpLGwubWFwKGMucG9zKSxpP3kuZW1wdHk6bil9dmFyIHU9dC5maW5kRnJvbShlLmRvYy5yZXNvbHZlKGUubWFwcGluZy5zbGljZShyKS5tYXAodGhpcy50bykpLC0xKTt1JiZlLnNldFNlbGVjdGlvbih1KX0sZS5wcm90b3R5cGUucmVwbGFjZVdpdGg9ZnVuY3Rpb24odCxlKXt0aGlzLnJlcGxhY2UodCxuZXcgeShwLmZyb20oZSksMCwwKSl9LGUucHJvdG90eXBlLmZvckVhY2hDZWxsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLiRhbmNob3JDZWxsLm5vZGUoLTEpLG49UmwuZ2V0KGUpLHI9dGhpcy4kYW5jaG9yQ2VsbC5zdGFydCgtMSksbz1uLmNlbGxzSW5SZWN0KG4ucmVjdEJldHdlZW4odGhpcy4kYW5jaG9yQ2VsbC5wb3Mtcix0aGlzLiRoZWFkQ2VsbC5wb3MtcikpLGk9MDtpPG8ubGVuZ3RoO2krKyl0KGUubm9kZUF0KG9baV0pLHIrb1tpXSl9LGUucHJvdG90eXBlLmlzQ29sU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy4kYW5jaG9yQ2VsbC5pbmRleCgtMSksZT10aGlzLiRoZWFkQ2VsbC5pbmRleCgtMSk7aWYoTWF0aC5taW4odCxlKT4wKXJldHVybiExO3ZhciBuPXQrdGhpcy4kYW5jaG9yQ2VsbC5ub2RlQWZ0ZXIuYXR0cnMucm93c3BhbixyPWUrdGhpcy4kaGVhZENlbGwubm9kZUFmdGVyLmF0dHJzLnJvd3NwYW47cmV0dXJuIE1hdGgubWF4KG4scik9PXRoaXMuJGhlYWRDZWxsLm5vZGUoLTEpLmNoaWxkQ291bnR9LGUuY29sU2VsZWN0aW9uPWZ1bmN0aW9uKHQsbil7dm9pZCAwPT09biYmKG49dCk7dmFyIHI9UmwuZ2V0KHQubm9kZSgtMSkpLG89dC5zdGFydCgtMSksaT1yLmZpbmRDZWxsKHQucG9zLW8pLHM9ci5maW5kQ2VsbChuLnBvcy1vKSxhPXQubm9kZSgwKTtyZXR1cm4gaS50b3A8PXMudG9wPyhpLnRvcD4wJiYodD1hLnJlc29sdmUobytyLm1hcFtpLmxlZnRdKSkscy5ib3R0b208ci5oZWlnaHQmJihuPWEucmVzb2x2ZShvK3IubWFwW3Iud2lkdGgqKHIuaGVpZ2h0LTEpK3MucmlnaHQtMV0pKSk6KHMudG9wPjAmJihuPWEucmVzb2x2ZShvK3IubWFwW3MubGVmdF0pKSxpLmJvdHRvbTxyLmhlaWdodCYmKHQ9YS5yZXNvbHZlKG8rci5tYXBbci53aWR0aCooci5oZWlnaHQtMSkraS5yaWdodC0xXSkpKSxuZXcgZSh0LG4pfSxlLnByb3RvdHlwZS5pc1Jvd1NlbGVjdGlvbj1mdW5jdGlvbigpe3ZhciB0PVJsLmdldCh0aGlzLiRhbmNob3JDZWxsLm5vZGUoLTEpKSxlPXRoaXMuJGFuY2hvckNlbGwuc3RhcnQoLTEpLG49dC5jb2xDb3VudCh0aGlzLiRhbmNob3JDZWxsLnBvcy1lKSxyPXQuY29sQ291bnQodGhpcy4kaGVhZENlbGwucG9zLWUpO2lmKE1hdGgubWluKG4scik+MClyZXR1cm4hMTt2YXIgbz1uK3RoaXMuJGFuY2hvckNlbGwubm9kZUFmdGVyLmF0dHJzLmNvbHNwYW4saT1yK3RoaXMuJGhlYWRDZWxsLm5vZGVBZnRlci5hdHRycy5jb2xzcGFuO3JldHVybiBNYXRoLm1heChvLGkpPT10LndpZHRofSxlLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGUmJnQuJGFuY2hvckNlbGwucG9zPT10aGlzLiRhbmNob3JDZWxsLnBvcyYmdC4kaGVhZENlbGwucG9zPT10aGlzLiRoZWFkQ2VsbC5wb3N9LGUucm93U2VsZWN0aW9uPWZ1bmN0aW9uKHQsbil7dm9pZCAwPT09biYmKG49dCk7dmFyIHI9UmwuZ2V0KHQubm9kZSgtMSkpLG89dC5zdGFydCgtMSksaT1yLmZpbmRDZWxsKHQucG9zLW8pLHM9ci5maW5kQ2VsbChuLnBvcy1vKSxhPXQubm9kZSgwKTtyZXR1cm4gaS5sZWZ0PD1zLmxlZnQ/KGkubGVmdD4wJiYodD1hLnJlc29sdmUobytyLm1hcFtpLnRvcCpyLndpZHRoXSkpLHMucmlnaHQ8ci53aWR0aCYmKG49YS5yZXNvbHZlKG8rci5tYXBbci53aWR0aCoocy50b3ArMSktMV0pKSk6KHMubGVmdD4wJiYobj1hLnJlc29sdmUobytyLm1hcFtzLnRvcCpyLndpZHRoXSkpLGkucmlnaHQ8ci53aWR0aCYmKHQ9YS5yZXNvbHZlKG8rci5tYXBbci53aWR0aCooaS50b3ArMSktMV0pKSksbmV3IGUodCxuKX0sZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6ImNlbGwiLGFuY2hvcjp0aGlzLiRhbmNob3JDZWxsLnBvcyxoZWFkOnRoaXMuJGhlYWRDZWxsLnBvc319LGUuZnJvbUpTT049ZnVuY3Rpb24odCxuKXtyZXR1cm4gbmV3IGUodC5yZXNvbHZlKG4uYW5jaG9yKSx0LnJlc29sdmUobi5oZWFkKSl9LGUuY3JlYXRlPWZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9biksbmV3IGUodC5yZXNvbHZlKG4pLHQucmVzb2x2ZShyKSl9LGUucHJvdG90eXBlLmdldEJvb2ttYXJrPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBydSh0aGlzLiRhbmNob3JDZWxsLnBvcyx0aGlzLiRoZWFkQ2VsbC5wb3MpfSxlfShBZSk7bnUucHJvdG90eXBlLnZpc2libGU9ITEsQWUuanNvbklEKCJjZWxsIixudSk7dmFyIHJ1PWZ1bmN0aW9uKHQsZSl7dGhpcy5hbmNob3I9dCx0aGlzLmhlYWQ9ZX07ZnVuY3Rpb24gb3UodCl7aWYoISh0LnNlbGVjdGlvbiBpbnN0YW5jZW9mIG51KSlyZXR1cm4gbnVsbDt2YXIgZT1bXTtyZXR1cm4gdC5zZWxlY3Rpb24uZm9yRWFjaENlbGwoKGZ1bmN0aW9uKHQsbil7ZS5wdXNoKGdpLm5vZGUobixuK3Qubm9kZVNpemUse2NsYXNzOiJzZWxlY3RlZENlbGwifSkpfSkpLHhpLmNyZWF0ZSh0LmRvYyxlKX1mdW5jdGlvbiBpdSh0KXt2YXIgZT10LiRmcm9tLG49dC4kdG87aWYoZS5wb3M9PW4ucG9zfHxlLnBvczxlLnBvcy02KXJldHVybiExO2Zvcih2YXIgcj1lLnBvcyxvPW4ucG9zLGk9ZS5kZXB0aDtpPj0wO2ktLSxyKyspaWYoZS5hZnRlcihpKzEpPGUuZW5kKGkpKWJyZWFrO2Zvcih2YXIgcz1uLmRlcHRoO3M+PTA7cy0tLG8tLSlpZihuLmJlZm9yZShzKzEpPm4uc3RhcnQocykpYnJlYWs7cmV0dXJuIHI9PW8mJi9yb3d8dGFibGUvLnRlc3QoZS5ub2RlKGkpLnR5cGUuc3BlYy50YWJsZVJvbGUpfWZ1bmN0aW9uIHN1KHQpe2Zvcih2YXIgZSxuLHI9dC4kZnJvbSxvPXQuJHRvLGk9ci5kZXB0aDtpPjA7aS0tKXt2YXIgcz1yLm5vZGUoaSk7aWYoImNlbGwiPT09cy50eXBlLnNwZWMudGFibGVSb2xlfHwiaGVhZGVyX2NlbGwiPT09cy50eXBlLnNwZWMudGFibGVSb2xlKXtlPXM7YnJlYWt9fWZvcih2YXIgYT1vLmRlcHRoO2E+MDthLS0pe3ZhciBjPW8ubm9kZShhKTtpZigiY2VsbCI9PT1jLnR5cGUuc3BlYy50YWJsZVJvbGV8fCJoZWFkZXJfY2VsbCI9PT1jLnR5cGUuc3BlYy50YWJsZVJvbGUpe249YzticmVha319cmV0dXJuIGUhPT1uJiYwPT09by5wYXJlbnRPZmZzZXR9ZnVuY3Rpb24gYXUodCxlLG4pe3ZhciByLG8saT0oZXx8dCkuc2VsZWN0aW9uLHM9KGV8fHQpLmRvYztpZihpIGluc3RhbmNlb2YgX2UmJihvPWkubm9kZS50eXBlLnNwZWMudGFibGVSb2xlKSl7aWYoImNlbGwiPT1vfHwiaGVhZGVyX2NlbGwiPT1vKXI9bnUuY3JlYXRlKHMsaS5mcm9tKTtlbHNlIGlmKCJyb3ciPT1vKXt2YXIgYT1zLnJlc29sdmUoaS5mcm9tKzEpO3I9bnUucm93U2VsZWN0aW9uKGEsYSl9ZWxzZSBpZighbil7dmFyIGM9UmwuZ2V0KGkubm9kZSksbD1pLmZyb20rMSx1PWwrYy5tYXBbYy53aWR0aCpjLmhlaWdodC0xXTtyPW51LmNyZWF0ZShzLGwrMSx1KX19ZWxzZSBpIGluc3RhbmNlb2YgVGUmJml1KGkpP3I9VGUuY3JlYXRlKHMsaS5mcm9tKTppIGluc3RhbmNlb2YgVGUmJnN1KGkpJiYocj1UZS5jcmVhdGUocyxpLiRmcm9tLnN0YXJ0KCksaS4kZnJvbS5lbmQoKSkpO3JldHVybiByJiYoZXx8KGU9dC50cikpLnNldFNlbGVjdGlvbihyKSxlfWZ1bmN0aW9uIGN1KHQpe2lmKCF0LnNpemUpcmV0dXJuIG51bGw7dmFyIGU9dC5jb250ZW50LG49dC5vcGVuU3RhcnQscj10Lm9wZW5FbmQ7d2hpbGUoMT09ZS5jaGlsZENvdW50JiYobj4wJiZyPjB8fCJ0YWJsZSI9PWUuZmlyc3RDaGlsZC50eXBlLnNwZWMudGFibGVSb2xlKSluLS0sci0tLGU9ZS5maXJzdENoaWxkLmNvbnRlbnQ7dmFyIG89ZS5maXJzdENoaWxkLGk9by50eXBlLnNwZWMudGFibGVSb2xlLHM9by50eXBlLnNjaGVtYSxhPVtdO2lmKCJyb3ciPT1pKWZvcih2YXIgYz0wO2M8ZS5jaGlsZENvdW50O2MrKyl7dmFyIGw9ZS5jaGlsZChjKS5jb250ZW50LHU9Yz8wOk1hdGgubWF4KDAsbi0xKSxwPWM8ZS5jaGlsZENvdW50LTE/MDpNYXRoLm1heCgwLHItMSk7KHV8fHApJiYobD11dShMbChzKS5yb3csbmV3IHkobCx1LHApKS5jb250ZW50KSxhLnB1c2gobCl9ZWxzZXtpZigiY2VsbCIhPWkmJiJoZWFkZXJfY2VsbCIhPWkpcmV0dXJuIG51bGw7YS5wdXNoKG58fHI/dXUoTGwocykucm93LG5ldyB5KGUsbixyKSkuY29udGVudDplKX1yZXR1cm4gbHUocyxhKX1mdW5jdGlvbiBsdSh0LGUpe2Zvcih2YXIgbj1bXSxyPTA7cjxlLmxlbmd0aDtyKyspZm9yKHZhciBvPWVbcl0saT1vLmNoaWxkQ291bnQtMTtpPj0wO2ktLSlmb3IodmFyIHM9by5jaGlsZChpKS5hdHRycyxhPXMucm93c3BhbixjPXMuY29sc3BhbixsPXI7bDxyK2E7bCsrKW5bbF09KG5bbF18fDApK2M7Zm9yKHZhciB1PTAsaD0wO2g8bi5sZW5ndGg7aCsrKXU9TWF0aC5tYXgodSxuW2hdKTtmb3IodmFyIGY9MDtmPG4ubGVuZ3RoO2YrKylpZihmPj1lLmxlbmd0aCYmZS5wdXNoKHAuZW1wdHkpLG5bZl08dSl7Zm9yKHZhciBkPUxsKHQpLmNlbGwuY3JlYXRlQW5kRmlsbCgpLG09W10sdj1uW2ZdO3Y8dTt2KyspbS5wdXNoKGQpO2VbZl09ZVtmXS5hcHBlbmQocC5mcm9tKG0pKX1yZXR1cm57aGVpZ2h0OmUubGVuZ3RoLHdpZHRoOnUscm93czplfX1mdW5jdGlvbiB1dSh0LGUpe3ZhciBuPXQuY3JlYXRlQW5kRmlsbCgpLHI9bmV3IEp0KG4pLnJlcGxhY2UoMCxuLmNvbnRlbnQuc2l6ZSxlKTtyZXR1cm4gci5kb2N9ZnVuY3Rpb24gcHUodCxlLG4pe3ZhciByPXQud2lkdGgsbz10LmhlaWdodCxpPXQucm93cztpZihyIT1lKXtmb3IodmFyIHM9W10sYT1bXSxjPTA7YzxpLmxlbmd0aDtjKyspe2Zvcih2YXIgbD1pW2NdLHU9W10saD1zW2NdfHwwLGY9MDtoPGU7ZisrKXt2YXIgZD1sLmNoaWxkKGYlbC5jaGlsZENvdW50KTtoK2QuYXR0cnMuY29sc3Bhbj5lJiYoZD1kLnR5cGUuY3JlYXRlKFFsKGQuYXR0cnMsZC5hdHRycy5jb2xzcGFuLGgrZC5hdHRycy5jb2xzcGFuLWUpLGQuY29udGVudCkpLHUucHVzaChkKSxoKz1kLmF0dHJzLmNvbHNwYW47Zm9yKHZhciBtPTE7bTxkLmF0dHJzLnJvd3NwYW47bSsrKXNbYyttXT0oc1tjK21dfHwwKStkLmF0dHJzLmNvbHNwYW59YS5wdXNoKHAuZnJvbSh1KSl9aT1hLHI9ZX1pZihvIT1uKXtmb3IodmFyIHY9W10sZz0wLHk9MDtnPG47ZysrLHkrKyl7Zm9yKHZhciB3PVtdLGI9aVt5JW9dLHg9MDt4PGIuY2hpbGRDb3VudDt4Kyspe3ZhciBrPWIuY2hpbGQoeCk7ZytrLmF0dHJzLnJvd3NwYW4+biYmKGs9ay50eXBlLmNyZWF0ZShabChrLmF0dHJzLCJyb3dzcGFuIixNYXRoLm1heCgxLG4tay5hdHRycy5yb3dzcGFuKSksay5jb250ZW50KSksdy5wdXNoKGspfXYucHVzaChwLmZyb20odykpfWk9dixvPW59cmV0dXJue3dpZHRoOnIsaGVpZ2h0Om8scm93czppfX1mdW5jdGlvbiBodSh0LGUsbixyLG8saSxzKXt2YXIgYSxjLGw9dC5kb2MudHlwZS5zY2hlbWEsdT1MbChsKTtpZihvPmUud2lkdGgpZm9yKHZhciBoPTAsZj0wO2g8ZS5oZWlnaHQ7aCsrKXt2YXIgZD1uLmNoaWxkKGgpO2YrPWQubm9kZVNpemU7dmFyIG09W10sdj12b2lkIDA7dj1udWxsPT1kLmxhc3RDaGlsZHx8ZC5sYXN0Q2hpbGQudHlwZT09dS5jZWxsP2F8fChhPXUuY2VsbC5jcmVhdGVBbmRGaWxsKCkpOmN8fChjPXUuaGVhZGVyX2NlbGwuY3JlYXRlQW5kRmlsbCgpKTtmb3IodmFyIGc9ZS53aWR0aDtnPG87ZysrKW0ucHVzaCh2KTt0Lmluc2VydCh0Lm1hcHBpbmcuc2xpY2UocykubWFwKGYtMStyKSxtKX1pZihpPmUuaGVpZ2h0KXtmb3IodmFyIHk9W10sdz0wLGI9KGUuaGVpZ2h0LTEpKmUud2lkdGg7dzxNYXRoLm1heChlLndpZHRoLG8pO3crKyl7dmFyIHg9ISh3Pj1lLndpZHRoKSYmbi5ub2RlQXQoZS5tYXBbYit3XSkudHlwZT09dS5oZWFkZXJfY2VsbDt5LnB1c2goeD9jfHwoYz11LmhlYWRlcl9jZWxsLmNyZWF0ZUFuZEZpbGwoKSk6YXx8KGE9dS5jZWxsLmNyZWF0ZUFuZEZpbGwoKSkpfWZvcih2YXIgaz11LnJvdy5jcmVhdGUobnVsbCxwLmZyb20oeSkpLFM9W10sQz1lLmhlaWdodDtDPGk7QysrKVMucHVzaChrKTt0Lmluc2VydCh0Lm1hcHBpbmcuc2xpY2UocykubWFwKHIrbi5ub2RlU2l6ZS0yKSxTKX1yZXR1cm4hKCFhJiYhYyl9ZnVuY3Rpb24gZnUodCxlLG4scixvLGkscyxhKXtpZigwPT1zfHxzPT1lLmhlaWdodClyZXR1cm4hMTtmb3IodmFyIGM9ITEsbD1vO2w8aTtsKyspe3ZhciB1PXMqZS53aWR0aCtsLHA9ZS5tYXBbdV07aWYoZS5tYXBbdS1lLndpZHRoXT09cCl7Yz0hMDt2YXIgaD1uLm5vZGVBdChwKSxmPWUuZmluZENlbGwocCksZD1mLnRvcCxtPWYubGVmdDt0LnNldE5vZGVNYXJrdXAodC5tYXBwaW5nLnNsaWNlKGEpLm1hcChwK3IpLG51bGwsWmwoaC5hdHRycywicm93c3BhbiIscy1kKSksdC5pbnNlcnQodC5tYXBwaW5nLnNsaWNlKGEpLm1hcChlLnBvc2l0aW9uQXQocyxtLG4pKSxoLnR5cGUuY3JlYXRlQW5kRmlsbChabChoLmF0dHJzLCJyb3dzcGFuIixkK2guYXR0cnMucm93c3Bhbi1zKSkpLGwrPWguYXR0cnMuY29sc3Bhbi0xfX1yZXR1cm4gY31mdW5jdGlvbiBkdSh0LGUsbixyLG8saSxzLGEpe2lmKDA9PXN8fHM9PWUud2lkdGgpcmV0dXJuITE7Zm9yKHZhciBjPSExLGw9bztsPGk7bCsrKXt2YXIgdT1sKmUud2lkdGgrcyxwPWUubWFwW3VdO2lmKGUubWFwW3UtMV09PXApe2M9ITA7dmFyIGg9bi5ub2RlQXQocCksZj1lLmNvbENvdW50KHApLGQ9dC5tYXBwaW5nLnNsaWNlKGEpLm1hcChwK3IpO3Quc2V0Tm9kZU1hcmt1cChkLG51bGwsUWwoaC5hdHRycyxzLWYsaC5hdHRycy5jb2xzcGFuLShzLWYpKSksdC5pbnNlcnQoZCtoLm5vZGVTaXplLGgudHlwZS5jcmVhdGVBbmRGaWxsKFFsKGguYXR0cnMsMCxzLWYpKSksbCs9aC5hdHRycy5yb3dzcGFuLTF9fXJldHVybiBjfWZ1bmN0aW9uIG11KHQsZSxuLHIsbyl7dmFyIGk9bj90LmRvYy5ub2RlQXQobi0xKTp0LmRvYyxzPVJsLmdldChpKSxhPXIudG9wLGM9ci5sZWZ0LGw9YytvLndpZHRoLHU9YStvLmhlaWdodCxwPXQudHIsaD0wO2Z1bmN0aW9uIGYoKXtpPW4/cC5kb2Mubm9kZUF0KG4tMSk6cC5kb2Mscz1SbC5nZXQoaSksaD1wLm1hcHBpbmcubWFwcy5sZW5ndGh9aHUocCxzLGksbixsLHUsaCkmJmYoKSxmdShwLHMsaSxuLGMsbCxhLGgpJiZmKCksZnUocCxzLGksbixjLGwsdSxoKSYmZigpLGR1KHAscyxpLG4sYSx1LGMsaCkmJmYoKSxkdShwLHMsaSxuLGEsdSxsLGgpJiZmKCk7Zm9yKHZhciBkPWE7ZDx1O2QrKyl7dmFyIG09cy5wb3NpdGlvbkF0KGQsYyxpKSx2PXMucG9zaXRpb25BdChkLGwsaSk7cC5yZXBsYWNlKHAubWFwcGluZy5zbGljZShoKS5tYXAobStuKSxwLm1hcHBpbmcuc2xpY2UoaCkubWFwKHYrbiksbmV3IHkoby5yb3dzW2QtYV0sMCwwKSl9ZigpLHAuc2V0U2VsZWN0aW9uKG5ldyBudShwLmRvYy5yZXNvbHZlKG4rcy5wb3NpdGlvbkF0KGEsYyxpKSkscC5kb2MucmVzb2x2ZShuK3MucG9zaXRpb25BdCh1LTEsbC0xLGkpKSkpLGUocCl9cnUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHJ1KHQubWFwKHRoaXMuYW5jaG9yKSx0Lm1hcCh0aGlzLmhlYWQpKX0scnUucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24odCl7dmFyIGU9dC5yZXNvbHZlKHRoaXMuYW5jaG9yKSxuPXQucmVzb2x2ZSh0aGlzLmhlYWQpO3JldHVybiJyb3ciPT1lLnBhcmVudC50eXBlLnNwZWMudGFibGVSb2xlJiYicm93Ij09bi5wYXJlbnQudHlwZS5zcGVjLnRhYmxlUm9sZSYmZS5pbmRleCgpPGUucGFyZW50LmNoaWxkQ291bnQmJm4uaW5kZXgoKTxuLnBhcmVudC5jaGlsZENvdW50JiZYbChlLG4pP25ldyBudShlLG4pOkFlLm5lYXIobiwxKX07dmFyIHZ1PWFzKHtBcnJvd0xlZnQ6eXUoImhvcml6IiwtMSksQXJyb3dSaWdodDp5dSgiaG9yaXoiLDEpLEFycm93VXA6eXUoInZlcnQiLC0xKSxBcnJvd0Rvd246eXUoInZlcnQiLDEpLCJTaGlmdC1BcnJvd0xlZnQiOnd1KCJob3JpeiIsLTEpLCJTaGlmdC1BcnJvd1JpZ2h0Ijp3dSgiaG9yaXoiLDEpLCJTaGlmdC1BcnJvd1VwIjp3dSgidmVydCIsLTEpLCJTaGlmdC1BcnJvd0Rvd24iOnd1KCJ2ZXJ0IiwxKSxCYWNrc3BhY2U6YnUsIk1vZC1CYWNrc3BhY2UiOmJ1LERlbGV0ZTpidSwiTW9kLURlbGV0ZSI6YnV9KTtmdW5jdGlvbiBndSh0LGUsbil7cmV0dXJuIW4uZXEodC5zZWxlY3Rpb24pJiYoZSYmZSh0LnRyLnNldFNlbGVjdGlvbihuKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9ZnVuY3Rpb24geXUodCxlKXtyZXR1cm4gZnVuY3Rpb24obixyLG8pe3ZhciBpPW4uc2VsZWN0aW9uO2lmKGkgaW5zdGFuY2VvZiBudSlyZXR1cm4gZ3UobixyLEFlLm5lYXIoaS4kaGVhZENlbGwsZSkpO2lmKCJob3JpeiIhPXQmJiFpLmVtcHR5KXJldHVybiExO3ZhciBzPUN1KG8sdCxlKTtpZihudWxsPT1zKXJldHVybiExO2lmKCJob3JpeiI9PXQpcmV0dXJuIGd1KG4scixBZS5uZWFyKG4uZG9jLnJlc29sdmUoaS5oZWFkK2UpLGUpKTt2YXIgYSxjPW4uZG9jLnJlc29sdmUocyksbD1ZbChjLHQsZSk7cmV0dXJuIGE9bD9BZS5uZWFyKGwsMSk6ZTwwP0FlLm5lYXIobi5kb2MucmVzb2x2ZShjLmJlZm9yZSgtMSkpLC0xKTpBZS5uZWFyKG4uZG9jLnJlc29sdmUoYy5hZnRlcigtMSkpLDEpLGd1KG4scixhKX19ZnVuY3Rpb24gd3UodCxlKXtyZXR1cm4gZnVuY3Rpb24obixyLG8pe3ZhciBpPW4uc2VsZWN0aW9uO2lmKCEoaSBpbnN0YW5jZW9mIG51KSl7dmFyIHM9Q3Uobyx0LGUpO2lmKG51bGw9PXMpcmV0dXJuITE7aT1uZXcgbnUobi5kb2MucmVzb2x2ZShzKSl9dmFyIGE9WWwoaS4kaGVhZENlbGwsdCxlKTtyZXR1cm4hIWEmJmd1KG4scixuZXcgbnUoaS4kYW5jaG9yQ2VsbCxhKSl9fWZ1bmN0aW9uIGJ1KHQsZSl7dmFyIG49dC5zZWxlY3Rpb247aWYoIShuIGluc3RhbmNlb2YgbnUpKXJldHVybiExO2lmKGUpe3ZhciByPXQudHIsbz1MbCh0LnNjaGVtYSkuY2VsbC5jcmVhdGVBbmRGaWxsKCkuY29udGVudDtuLmZvckVhY2hDZWxsKChmdW5jdGlvbih0LGUpe3QuY29udGVudC5lcShvKXx8ci5yZXBsYWNlKHIubWFwcGluZy5tYXAoZSsxKSxyLm1hcHBpbmcubWFwKGUrdC5ub2RlU2l6ZS0xKSxuZXcgeShvLDAsMCkpfSkpLHIuZG9jQ2hhbmdlZCYmZShyKX1yZXR1cm4hMH1mdW5jdGlvbiB4dSh0LGUpe3ZhciBuPXQuc3RhdGUuZG9jLHI9SGwobi5yZXNvbHZlKGUpKTtyZXR1cm4hIXImJih0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKG5ldyBudShyKSkpLCEwKX1mdW5jdGlvbiBrdSh0LGUsbil7aWYoIVdsKHQuc3RhdGUpKXJldHVybiExO3ZhciByPWN1KG4pLG89dC5zdGF0ZS5zZWxlY3Rpb247aWYobyBpbnN0YW5jZW9mIG51KXtyfHwocj17d2lkdGg6MSxoZWlnaHQ6MSxyb3dzOltwLmZyb20odXUoTGwodC5zdGF0ZS5zY2hlbWEpLmNlbGwsbikpXX0pO3ZhciBpPW8uJGFuY2hvckNlbGwubm9kZSgtMSkscz1vLiRhbmNob3JDZWxsLnN0YXJ0KC0xKSxhPVJsLmdldChpKS5yZWN0QmV0d2VlbihvLiRhbmNob3JDZWxsLnBvcy1zLG8uJGhlYWRDZWxsLnBvcy1zKTtyZXR1cm4gcj1wdShyLGEucmlnaHQtYS5sZWZ0LGEuYm90dG9tLWEudG9wKSxtdSh0LnN0YXRlLHQuZGlzcGF0Y2gscyxhLHIpLCEwfWlmKHIpe3ZhciBjPXFsKHQuc3RhdGUpLGw9Yy5zdGFydCgtMSk7cmV0dXJuIG11KHQuc3RhdGUsdC5kaXNwYXRjaCxsLFJsLmdldChjLm5vZGUoLTEpKS5maW5kQ2VsbChjLnBvcy1sKSxyKSwhMH1yZXR1cm4hMX1mdW5jdGlvbiBTdSh0LGUpe2lmKCFlLmN0cmxLZXkmJiFlLm1ldGFLZXkpe3ZhciBuLHI9TXUodCxlLnRhcmdldCk7aWYoZS5zaGlmdEtleSYmdC5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBudSlvKHQuc3RhdGUuc2VsZWN0aW9uLiRhbmNob3JDZWxsLGUpLGUucHJldmVudERlZmF1bHQoKTtlbHNlIGlmKGUuc2hpZnRLZXkmJnImJm51bGwhPShuPUhsKHQuc3RhdGUuc2VsZWN0aW9uLiRhbmNob3IpKSYmT3UodCxlKS5wb3MhPW4ucG9zKW8obixlKSxlLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBpZighcilyZXR1cm47dC5yb290LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLGkpLHQucm9vdC5hZGRFdmVudExpc3RlbmVyKCJkcmFnc3RhcnQiLGkpLHQucm9vdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLHMpfWZ1bmN0aW9uIG8oZSxuKXt2YXIgcj1PdSh0LG4pLG89bnVsbD09RmwuZ2V0U3RhdGUodC5zdGF0ZSk7aWYoIXJ8fCFYbChlLHIpKXtpZighbylyZXR1cm47cj1lfXZhciBpPW5ldyBudShlLHIpO2lmKG98fCF0LnN0YXRlLnNlbGVjdGlvbi5lcShpKSl7dmFyIHM9dC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oaSk7byYmcy5zZXRNZXRhKEZsLGUucG9zKSx0LmRpc3BhdGNoKHMpfX1mdW5jdGlvbiBpKCl7dC5yb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLGkpLHQucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKCJkcmFnc3RhcnQiLGkpLHQucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLHMpLG51bGwhPUZsLmdldFN0YXRlKHQuc3RhdGUpJiZ0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0TWV0YShGbCwtMSkpfWZ1bmN0aW9uIHMobil7dmFyIHMsYT1GbC5nZXRTdGF0ZSh0LnN0YXRlKTtpZihudWxsIT1hKXM9dC5zdGF0ZS5kb2MucmVzb2x2ZShhKTtlbHNlIGlmKE11KHQsbi50YXJnZXQpIT1yJiYocz1PdSh0LGUpLCFzKSlyZXR1cm4gaSgpO3MmJm8ocyxuKX19ZnVuY3Rpb24gQ3UodCxlLG4pe2lmKCEodC5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBUZSkpcmV0dXJuIG51bGw7Zm9yKHZhciByPXQuc3RhdGUuc2VsZWN0aW9uLG89ci4kaGVhZCxpPW8uZGVwdGgtMTtpPj0wO2ktLSl7dmFyIHM9by5ub2RlKGkpLGE9bjwwP28uaW5kZXgoaSk6by5pbmRleEFmdGVyKGkpO2lmKGEhPShuPDA/MDpzLmNoaWxkQ291bnQpKXJldHVybiBudWxsO2lmKCJjZWxsIj09cy50eXBlLnNwZWMudGFibGVSb2xlfHwiaGVhZGVyX2NlbGwiPT1zLnR5cGUuc3BlYy50YWJsZVJvbGUpe3ZhciBjPW8uYmVmb3JlKGkpLGw9InZlcnQiPT1lP24+MD8iZG93biI6InVwIjpuPjA/InJpZ2h0IjoibGVmdCI7cmV0dXJuIHQuZW5kT2ZUZXh0YmxvY2sobCk/YzpudWxsfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBNdSh0LGUpe2Zvcig7ZSYmZSE9dC5kb207ZT1lLnBhcmVudE5vZGUpaWYoIlREIj09ZS5ub2RlTmFtZXx8IlRIIj09ZS5ub2RlTmFtZSlyZXR1cm4gZX1mdW5jdGlvbiBPdSh0LGUpe3ZhciBuPXQucG9zQXRDb29yZHMoe2xlZnQ6ZS5jbGllbnRYLHRvcDplLmNsaWVudFl9KTtyZXR1cm4gbiYmbj9IbCh0LnN0YXRlLmRvYy5yZXNvbHZlKG4ucG9zKSk6bnVsbH12YXIgQXU9bmV3IFFlKCJmaXgtdGFibGVzIik7ZnVuY3Rpb24gTnUodCxlLG4scil7dmFyIG89dC5jaGlsZENvdW50LGk9ZS5jaGlsZENvdW50O3Q6Zm9yKHZhciBzPTAsYT0wO3M8aTtzKyspe2Zvcih2YXIgYz1lLmNoaWxkKHMpLGw9YSx1PU1hdGgubWluKG8scyszKTtsPHU7bCsrKWlmKHQuY2hpbGQobCk9PWMpe2E9bCsxLG4rPWMubm9kZVNpemU7Y29udGludWUgdH1yKGMsbiksYTxvJiZ0LmNoaWxkKGEpLnNhbWVNYXJrdXAoYyk/TnUodC5jaGlsZChhKSxjLG4rMSxyKTpjLm5vZGVzQmV0d2VlbigwLGMuY29udGVudC5zaXplLHIsbisxKSxuKz1jLm5vZGVTaXplfX1mdW5jdGlvbiBFdSh0LGUpe3ZhciBuLHI9ZnVuY3Rpb24oZSxyKXsidGFibGUiPT1lLnR5cGUuc3BlYy50YWJsZVJvbGUmJihuPVR1KHQsZSxyLG4pKX07cmV0dXJuIGU/ZS5kb2MhPXQuZG9jJiZOdShlLmRvYyx0LmRvYywwLHIpOnQuZG9jLmRlc2NlbmRhbnRzKHIpLG59ZnVuY3Rpb24gVHUodCxlLG4scil7dmFyIG89UmwuZ2V0KGUpO2lmKCFvLnByb2JsZW1zKXJldHVybiByO3J8fChyPXQudHIpO2Zvcih2YXIgaSxzLGE9W10sYz0wO2M8by5oZWlnaHQ7YysrKWEucHVzaCgwKTtmb3IodmFyIGw9MDtsPG8ucHJvYmxlbXMubGVuZ3RoO2wrKyl7dmFyIHU9by5wcm9ibGVtc1tsXTtpZigiY29sbGlzaW9uIj09dS50eXBlKXtmb3IodmFyIHA9ZS5ub2RlQXQodS5wb3MpLGg9MDtoPHAuYXR0cnMucm93c3BhbjtoKyspYVt1LnJvdytoXSs9dS5uO3Iuc2V0Tm9kZU1hcmt1cChyLm1hcHBpbmcubWFwKG4rMSt1LnBvcyksbnVsbCxRbChwLmF0dHJzLHAuYXR0cnMuY29sc3Bhbi11Lm4sdS5uKSl9ZWxzZSBpZigibWlzc2luZyI9PXUudHlwZSlhW3Uucm93XSs9dS5uO2Vsc2UgaWYoIm92ZXJsb25nX3Jvd3NwYW4iPT11LnR5cGUpe3ZhciBmPWUubm9kZUF0KHUucG9zKTtyLnNldE5vZGVNYXJrdXAoci5tYXBwaW5nLm1hcChuKzErdS5wb3MpLG51bGwsWmwoZi5hdHRycywicm93c3BhbiIsZi5hdHRycy5yb3dzcGFuLXUubikpfWVsc2UgaWYoImNvbHdpZHRoIG1pc21hdGNoIj09dS50eXBlKXt2YXIgZD1lLm5vZGVBdCh1LnBvcyk7ci5zZXROb2RlTWFya3VwKHIubWFwcGluZy5tYXAobisxK3UucG9zKSxudWxsLFpsKGQuYXR0cnMsImNvbHdpZHRoIix1LmNvbHdpZHRoKSl9fWZvcih2YXIgbT0wO208YS5sZW5ndGg7bSsrKWFbbV0mJihudWxsPT1pJiYoaT1tKSxzPW0pO2Zvcih2YXIgdj0wLGc9bisxO3Y8by5oZWlnaHQ7disrKXt2YXIgeT1lLmNoaWxkKHYpLHc9Zyt5Lm5vZGVTaXplLGI9YVt2XTtpZihiPjApe3ZhciB4PSJjZWxsIjt5LmZpcnN0Q2hpbGQmJih4PXkuZmlyc3RDaGlsZC50eXBlLnNwZWMudGFibGVSb2xlKTtmb3IodmFyIGs9W10sUz0wO1M8YjtTKyspay5wdXNoKExsKHQuc2NoZW1hKVt4XS5jcmVhdGVBbmRGaWxsKCkpO3ZhciBDPTAhPXYmJmkhPXYtMXx8cyE9dj93LTE6ZysxO3IuaW5zZXJ0KHIubWFwcGluZy5tYXAoQyksayl9Zz13fXJldHVybiByLnNldE1ldGEoQXUse2ZpeFRhYmxlczohMH0pfWZ1bmN0aW9uIER1KHQpe3ZhciBlLG49dC5zZWxlY3Rpb24scj1xbCh0KSxvPXIubm9kZSgtMSksaT1yLnN0YXJ0KC0xKSxzPVJsLmdldChvKTtyZXR1cm4gZT1uIGluc3RhbmNlb2YgbnU/cy5yZWN0QmV0d2VlbihuLiRhbmNob3JDZWxsLnBvcy1pLG4uJGhlYWRDZWxsLnBvcy1pKTpzLmZpbmRDZWxsKHIucG9zLWkpLGUudGFibGVTdGFydD1pLGUubWFwPXMsZS50YWJsZT1vLGV9ZnVuY3Rpb24gX3UodCxlLG4pe3ZhciByPWUubWFwLG89ZS50YWJsZVN0YXJ0LGk9ZS50YWJsZSxzPW4+MD8tMTowO2V1KHIsaSxuK3MpJiYocz0wPT1ufHxuPT1yLndpZHRoP251bGw6MCk7Zm9yKHZhciBhPTA7YTxyLmhlaWdodDthKyspe3ZhciBjPWEqci53aWR0aCtuO2lmKG4+MCYmbjxyLndpZHRoJiZyLm1hcFtjLTFdPT1yLm1hcFtjXSl7dmFyIGw9ci5tYXBbY10sdT1pLm5vZGVBdChsKTt0LnNldE5vZGVNYXJrdXAodC5tYXBwaW5nLm1hcChvK2wpLG51bGwsdHUodS5hdHRycyxuLXIuY29sQ291bnQobCkpKSxhKz11LmF0dHJzLnJvd3NwYW4tMX1lbHNle3ZhciBwPW51bGw9PXM/TGwoaS50eXBlLnNjaGVtYSkuY2VsbDppLm5vZGVBdChyLm1hcFtjK3NdKS50eXBlLGg9ci5wb3NpdGlvbkF0KGEsbixpKTt0Lmluc2VydCh0Lm1hcHBpbmcubWFwKG8raCkscC5jcmVhdGVBbmRGaWxsKCkpfX1yZXR1cm4gdH1mdW5jdGlvbiBSdSh0LGUpe2lmKCFXbCh0KSlyZXR1cm4hMTtpZihlKXt2YXIgbj1EdSh0KTtlKF91KHQudHIsbixuLmxlZnQpKX1yZXR1cm4hMH1mdW5jdGlvbiB6dSh0LGUpe2lmKCFXbCh0KSlyZXR1cm4hMTtpZihlKXt2YXIgbj1EdSh0KTtlKF91KHQudHIsbixuLnJpZ2h0KSl9cmV0dXJuITB9ZnVuY3Rpb24gSXUodCxlLG4pe2Zvcih2YXIgcj1lLm1hcCxvPWUudGFibGUsaT1lLnRhYmxlU3RhcnQscz10Lm1hcHBpbmcubWFwcy5sZW5ndGgsYT0wO2E8ci5oZWlnaHQ7KXt2YXIgYz1hKnIud2lkdGgrbixsPXIubWFwW2NdLHU9by5ub2RlQXQobCk7aWYobj4wJiZyLm1hcFtjLTFdPT1sfHxuPHIud2lkdGgtMSYmci5tYXBbYysxXT09bCl0LnNldE5vZGVNYXJrdXAodC5tYXBwaW5nLnNsaWNlKHMpLm1hcChpK2wpLG51bGwsUWwodS5hdHRycyxuLXIuY29sQ291bnQobCkpKTtlbHNle3ZhciBwPXQubWFwcGluZy5zbGljZShzKS5tYXAoaStsKTt0LmRlbGV0ZShwLHArdS5ub2RlU2l6ZSl9YSs9dS5hdHRycy5yb3dzcGFufX1mdW5jdGlvbiBQdSh0LGUpe2lmKCFXbCh0KSlyZXR1cm4hMTtpZihlKXt2YXIgbj1EdSh0KSxyPXQudHI7aWYoMD09bi5sZWZ0JiZuLnJpZ2h0PT1uLm1hcC53aWR0aClyZXR1cm4hMTtmb3IodmFyIG89bi5yaWdodC0xOztvLS0pe2lmKEl1KHIsbixvKSxvPT1uLmxlZnQpYnJlYWs7bi50YWJsZT1uLnRhYmxlU3RhcnQ/ci5kb2Mubm9kZUF0KG4udGFibGVTdGFydC0xKTpyLmRvYyxuLm1hcD1SbC5nZXQobi50YWJsZSl9ZShyKX1yZXR1cm4hMH1mdW5jdGlvbiAkdSh0LGUsbil7Zm9yKHZhciByPUxsKGUudHlwZS5zY2hlbWEpLmhlYWRlcl9jZWxsLG89MDtvPHQud2lkdGg7bysrKWlmKGUubm9kZUF0KHQubWFwW28rbip0LndpZHRoXSkudHlwZSE9cilyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBCdSh0LGUsbil7Zm9yKHZhciByPWUubWFwLG89ZS50YWJsZVN0YXJ0LGk9ZS50YWJsZSxzPW8sYT0wO2E8bjthKyspcys9aS5jaGlsZChhKS5ub2RlU2l6ZTt2YXIgYz1bXSxsPW4+MD8tMTowOyR1KHIsaSxuK2wpJiYobD0wPT1ufHxuPT1yLmhlaWdodD9udWxsOjApO2Zvcih2YXIgdT0wLHA9ci53aWR0aCpuO3U8ci53aWR0aDt1KysscCsrKWlmKG4+MCYmbjxyLmhlaWdodCYmci5tYXBbcF09PXIubWFwW3Atci53aWR0aF0pe3ZhciBoPXIubWFwW3BdLGY9aS5ub2RlQXQoaCkuYXR0cnM7dC5zZXROb2RlTWFya3VwKG8raCxudWxsLFpsKGYsInJvd3NwYW4iLGYucm93c3BhbisxKSksdSs9Zi5jb2xzcGFuLTF9ZWxzZXt2YXIgZD1udWxsPT1sP0xsKGkudHlwZS5zY2hlbWEpLmNlbGw6aS5ub2RlQXQoci5tYXBbcCtsKnIud2lkdGhdKS50eXBlO2MucHVzaChkLmNyZWF0ZUFuZEZpbGwoKSl9cmV0dXJuIHQuaW5zZXJ0KHMsTGwoaS50eXBlLnNjaGVtYSkucm93LmNyZWF0ZShudWxsLGMpKSx0fWZ1bmN0aW9uIFZ1KHQsZSl7aWYoIVdsKHQpKXJldHVybiExO2lmKGUpe3ZhciBuPUR1KHQpO2UoQnUodC50cixuLG4udG9wKSl9cmV0dXJuITB9ZnVuY3Rpb24ganUodCxlKXtpZighV2wodCkpcmV0dXJuITE7aWYoZSl7dmFyIG49RHUodCk7ZShCdSh0LnRyLG4sbi5ib3R0b20pKX1yZXR1cm4hMH1mdW5jdGlvbiBMdSh0LGUsbil7Zm9yKHZhciByPWUubWFwLG89ZS50YWJsZSxpPWUudGFibGVTdGFydCxzPTAsYT0wO2E8bjthKyspcys9by5jaGlsZChhKS5ub2RlU2l6ZTt2YXIgYz1zK28uY2hpbGQobikubm9kZVNpemUsbD10Lm1hcHBpbmcubWFwcy5sZW5ndGg7dC5kZWxldGUocytpLGMraSk7Zm9yKHZhciB1PTAscD1uKnIud2lkdGg7dTxyLndpZHRoO3UrKyxwKyspe3ZhciBoPXIubWFwW3BdO2lmKG4+MCYmaD09ci5tYXBbcC1yLndpZHRoXSl7dmFyIGY9by5ub2RlQXQoaCkuYXR0cnM7dC5zZXROb2RlTWFya3VwKHQubWFwcGluZy5zbGljZShsKS5tYXAoaCtpKSxudWxsLFpsKGYsInJvd3NwYW4iLGYucm93c3Bhbi0xKSksdSs9Zi5jb2xzcGFuLTF9ZWxzZSBpZihuPHIud2lkdGgmJmg9PXIubWFwW3Arci53aWR0aF0pe3ZhciBkPW8ubm9kZUF0KGgpLG09ZC50eXBlLmNyZWF0ZShabChkLmF0dHJzLCJyb3dzcGFuIixkLmF0dHJzLnJvd3NwYW4tMSksZC5jb250ZW50KSx2PXIucG9zaXRpb25BdChuKzEsdSxvKTt0Lmluc2VydCh0Lm1hcHBpbmcuc2xpY2UobCkubWFwKGkrdiksbSksdSs9ZC5hdHRycy5jb2xzcGFuLTF9fX1mdW5jdGlvbiBGdSh0LGUpe2lmKCFXbCh0KSlyZXR1cm4hMTtpZihlKXt2YXIgbj1EdSh0KSxyPXQudHI7aWYoMD09bi50b3AmJm4uYm90dG9tPT1uLm1hcC5oZWlnaHQpcmV0dXJuITE7Zm9yKHZhciBvPW4uYm90dG9tLTE7O28tLSl7aWYoTHUocixuLG8pLG89PW4udG9wKWJyZWFrO24udGFibGU9bi50YWJsZVN0YXJ0P3IuZG9jLm5vZGVBdChuLnRhYmxlU3RhcnQtMSk6ci5kb2Msbi5tYXA9UmwuZ2V0KG4udGFibGUpfWUocil9cmV0dXJuITB9ZnVuY3Rpb24gSHUodCl7dmFyIGU9dC5jb250ZW50O3JldHVybiAxPT1lLmNoaWxkQ291bnQmJmUuZmlyc3RDaGlsZC5pc1RleHRibG9jayYmMD09ZS5maXJzdENoaWxkLmNoaWxkQ291bnR9ZnVuY3Rpb24gSnUodCxlKXtmb3IodmFyIG49dC53aWR0aCxyPXQuaGVpZ2h0LG89dC5tYXAsaT1lLnRvcCpuK2UubGVmdCxzPWksYT0oZS5ib3R0b20tMSkqbitlLmxlZnQsYz1pKyhlLnJpZ2h0LWUubGVmdC0xKSxsPWUudG9wO2w8ZS5ib3R0b207bCsrKXtpZihlLmxlZnQ+MCYmb1tzXT09b1tzLTFdfHxlLnJpZ2h0PG4mJm9bY109PW9bYysxXSlyZXR1cm4hMDtzKz1uLGMrPW59Zm9yKHZhciB1PWUubGVmdDt1PGUucmlnaHQ7dSsrKXtpZihlLnRvcD4wJiZvW2ldPT1vW2ktbl18fGUuYm90dG9tPHImJm9bYV09PW9bYStuXSlyZXR1cm4hMDtpKyssYSsrfXJldHVybiExfWZ1bmN0aW9uIFd1KHQsZSl7dmFyIG49dC5zZWxlY3Rpb247aWYoIShuIGluc3RhbmNlb2YgbnUpfHxuLiRhbmNob3JDZWxsLnBvcz09bi4kaGVhZENlbGwucG9zKXJldHVybiExO3ZhciByPUR1KHQpLG89ci5tYXA7aWYoSnUobyxyKSlyZXR1cm4hMTtpZihlKXtmb3IodmFyIGkscyxhPXQudHIsYz17fSxsPXAuZW1wdHksdT1yLnRvcDt1PHIuYm90dG9tO3UrKylmb3IodmFyIGg9ci5sZWZ0O2g8ci5yaWdodDtoKyspe3ZhciBmPW8ubWFwW3Uqby53aWR0aCtoXSxkPXIudGFibGUubm9kZUF0KGYpO2lmKCFjW2ZdKWlmKGNbZl09ITAsbnVsbD09aSlpPWYscz1kO2Vsc2V7SHUoZCl8fChsPWwuYXBwZW5kKGQuY29udGVudCkpO3ZhciBtPWEubWFwcGluZy5tYXAoZityLnRhYmxlU3RhcnQpO2EuZGVsZXRlKG0sbStkLm5vZGVTaXplKX19aWYoYS5zZXROb2RlTWFya3VwKGkrci50YWJsZVN0YXJ0LG51bGwsWmwodHUocy5hdHRycyxzLmF0dHJzLmNvbHNwYW4sci5yaWdodC1yLmxlZnQtcy5hdHRycy5jb2xzcGFuKSwicm93c3BhbiIsci5ib3R0b20tci50b3ApKSxsLnNpemUpe3ZhciB2PWkrMStzLmNvbnRlbnQuc2l6ZSxnPUh1KHMpP2krMTp2O2EucmVwbGFjZVdpdGgoZytyLnRhYmxlU3RhcnQsdityLnRhYmxlU3RhcnQsbCl9YS5zZXRTZWxlY3Rpb24obmV3IG51KGEuZG9jLnJlc29sdmUoaStyLnRhYmxlU3RhcnQpKSksZShhKX1yZXR1cm4hMH1mdW5jdGlvbiBxdSh0LGUpe3ZhciBuPUxsKHQuc2NoZW1hKTtyZXR1cm4gS3UoKGZ1bmN0aW9uKHQpe3ZhciBlPXQubm9kZTtyZXR1cm4gbltlLnR5cGUuc3BlYy50YWJsZVJvbGVdfSkpKHQsZSl9ZnVuY3Rpb24gS3UodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIHIsbyxpPWUuc2VsZWN0aW9uO2lmKGkgaW5zdGFuY2VvZiBudSl7aWYoaS4kYW5jaG9yQ2VsbC5wb3MhPWkuJGhlYWRDZWxsLnBvcylyZXR1cm4hMTtyPWkuJGFuY2hvckNlbGwubm9kZUFmdGVyLG89aS4kYW5jaG9yQ2VsbC5wb3N9ZWxzZXtpZihyPUpsKGkuJGZyb20pLCFyKXJldHVybiExO289SGwoaS4kZnJvbSkucG9zfWlmKDE9PXIuYXR0cnMuY29sc3BhbiYmMT09ci5hdHRycy5yb3dzcGFuKXJldHVybiExO2lmKG4pe3ZhciBzPXIuYXR0cnMsYT1bXSxjPXMuY29sd2lkdGg7cy5yb3dzcGFuPjEmJihzPVpsKHMsInJvd3NwYW4iLDEpKSxzLmNvbHNwYW4+MSYmKHM9WmwocywiY29sc3BhbiIsMSkpO2Zvcih2YXIgbCx1PUR1KGUpLHA9ZS50cixoPTA7aDx1LnJpZ2h0LXUubGVmdDtoKyspYS5wdXNoKGM/WmwocywiY29sd2lkdGgiLGMmJmNbaF0/W2NbaF1dOm51bGwpOnMpO2Zvcih2YXIgZj11LnRvcDtmPHUuYm90dG9tO2YrKyl7dmFyIGQ9dS5tYXAucG9zaXRpb25BdChmLHUubGVmdCx1LnRhYmxlKTtmPT11LnRvcCYmKGQrPXIubm9kZVNpemUpO2Zvcih2YXIgbT11LmxlZnQsdj0wO208dS5yaWdodDttKyssdisrKW09PXUubGVmdCYmZj09dS50b3B8fHAuaW5zZXJ0KGw9cC5tYXBwaW5nLm1hcChkK3UudGFibGVTdGFydCwxKSx0KHtub2RlOnIscm93OmYsY29sOm19KS5jcmVhdGVBbmRGaWxsKGFbdl0pKX1wLnNldE5vZGVNYXJrdXAobyx0KHtub2RlOnIscm93OnUudG9wLGNvbDp1LmxlZnR9KSxhWzBdKSxpIGluc3RhbmNlb2YgbnUmJnAuc2V0U2VsZWN0aW9uKG5ldyBudShwLmRvYy5yZXNvbHZlKGkuJGFuY2hvckNlbGwucG9zKSxsJiZwLmRvYy5yZXNvbHZlKGwpKSksbihwKX1yZXR1cm4hMH19ZnVuY3Rpb24gVXUodCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXtpZighV2wobikpcmV0dXJuITE7dmFyIG89cWwobik7aWYoby5ub2RlQWZ0ZXIuYXR0cnNbdF09PT1lKXJldHVybiExO2lmKHIpe3ZhciBpPW4udHI7bi5zZWxlY3Rpb24gaW5zdGFuY2VvZiBudT9uLnNlbGVjdGlvbi5mb3JFYWNoQ2VsbCgoZnVuY3Rpb24obixyKXtuLmF0dHJzW3RdIT09ZSYmaS5zZXROb2RlTWFya3VwKHIsbnVsbCxabChuLmF0dHJzLHQsZSkpfSkpOmkuc2V0Tm9kZU1hcmt1cChvLnBvcyxudWxsLFpsKG8ubm9kZUFmdGVyLmF0dHJzLHQsZSkpLHIoaSl9cmV0dXJuITB9fWZ1bmN0aW9uIEd1KHQpe3JldHVybiBmdW5jdGlvbihlLG4pe2lmKCFXbChlKSlyZXR1cm4hMTtpZihuKXtmb3IodmFyIHI9TGwoZS5zY2hlbWEpLG89RHUoZSksaT1lLnRyLHM9by5tYXAuY2VsbHNJblJlY3QoImNvbHVtbiI9PXQ/bmV3IF9sKG8ubGVmdCwwLG8ucmlnaHQsby5tYXAuaGVpZ2h0KToicm93Ij09dD9uZXcgX2woMCxvLnRvcCxvLm1hcC53aWR0aCxvLmJvdHRvbSk6byksYT1zLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG8udGFibGUubm9kZUF0KHQpfSkpLGM9MDtjPHMubGVuZ3RoO2MrKylhW2NdLnR5cGU9PXIuaGVhZGVyX2NlbGwmJmkuc2V0Tm9kZU1hcmt1cChvLnRhYmxlU3RhcnQrc1tjXSxyLmNlbGwsYVtjXS5hdHRycyk7aWYoMD09aS5zdGVwcy5sZW5ndGgpZm9yKHZhciBsPTA7bDxzLmxlbmd0aDtsKyspaS5zZXROb2RlTWFya3VwKG8udGFibGVTdGFydCtzW2xdLHIuaGVhZGVyX2NlbGwsYVtsXS5hdHRycyk7bihpKX1yZXR1cm4hMH19ZnVuY3Rpb24gWHUodCxlLG4pe2Zvcih2YXIgcj1lLm1hcC5jZWxsc0luUmVjdCh7bGVmdDowLHRvcDowLHJpZ2h0OiJyb3ciPT10P2UubWFwLndpZHRoOjEsYm90dG9tOiJjb2x1bW4iPT10P2UubWFwLmhlaWdodDoxfSksbz0wO288ci5sZW5ndGg7bysrKXt2YXIgaT1lLnRhYmxlLm5vZGVBdChyW29dKTtpZihpJiZpLnR5cGUhPT1uLmhlYWRlcl9jZWxsKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIFl1KHQsZSl7cmV0dXJuIGU9ZXx8e3VzZURlcHJlY2F0ZWRMb2dpYzohMX0sZS51c2VEZXByZWNhdGVkTG9naWM/R3UodCk6ZnVuY3Rpb24oZSxuKXtpZighV2woZSkpcmV0dXJuITE7aWYobil7dmFyIHI9TGwoZS5zY2hlbWEpLG89RHUoZSksaT1lLnRyLHM9WHUoInJvdyIsbyxyKSxhPVh1KCJjb2x1bW4iLG8sciksYz0iY29sdW1uIj09PXQ/czoicm93Ij09PXQmJmEsbD1jPzE6MCx1PSJjb2x1bW4iPT10P25ldyBfbCgwLGwsMSxvLm1hcC5oZWlnaHQpOiJyb3ciPT10P25ldyBfbChsLDAsby5tYXAud2lkdGgsMSk6byxwPSJjb2x1bW4iPT10P2E/ci5jZWxsOnIuaGVhZGVyX2NlbGw6InJvdyI9PXQ/cz9yLmNlbGw6ci5oZWFkZXJfY2VsbDpyLmNlbGw7by5tYXAuY2VsbHNJblJlY3QodSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9dCtvLnRhYmxlU3RhcnQsbj1pLmRvYy5ub2RlQXQoZSk7biYmaS5zZXROb2RlTWFya3VwKGUscCxuLmF0dHJzKX0pKSxuKGkpfXJldHVybiEwfX12YXIgWnU9WXUoInJvdyIse3VzZURlcHJlY2F0ZWRMb2dpYzohMH0pLFF1PVl1KCJjb2x1bW4iLHt1c2VEZXByZWNhdGVkTG9naWM6ITB9KSx0cD1ZdSgiY2VsbCIse3VzZURlcHJlY2F0ZWRMb2dpYzohMH0pO2Z1bmN0aW9uIGVwKHQsZSl7aWYoZTwwKXt2YXIgbj10Lm5vZGVCZWZvcmU7aWYobilyZXR1cm4gdC5wb3Mtbi5ub2RlU2l6ZTtmb3IodmFyIHI9dC5pbmRleCgtMSktMSxvPXQuYmVmb3JlKCk7cj49MDtyLS0pe3ZhciBpPXQubm9kZSgtMSkuY2hpbGQocik7aWYoaS5jaGlsZENvdW50KXJldHVybiBvLTEtaS5sYXN0Q2hpbGQubm9kZVNpemU7by09aS5ub2RlU2l6ZX19ZWxzZXtpZih0LmluZGV4KCk8dC5wYXJlbnQuY2hpbGRDb3VudC0xKXJldHVybiB0LnBvcyt0Lm5vZGVBZnRlci5ub2RlU2l6ZTtmb3IodmFyIHM9dC5ub2RlKC0xKSxhPXQuaW5kZXhBZnRlcigtMSksYz10LmFmdGVyKCk7YTxzLmNoaWxkQ291bnQ7YSsrKXt2YXIgbD1zLmNoaWxkKGEpO2lmKGwuY2hpbGRDb3VudClyZXR1cm4gYysxO2MrPWwubm9kZVNpemV9fX1mdW5jdGlvbiBucCh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtpZighV2woZSkpcmV0dXJuITE7dmFyIHI9ZXAocWwoZSksdCk7aWYobnVsbCE9cil7aWYobil7dmFyIG89ZS5kb2MucmVzb2x2ZShyKTtuKGUudHIuc2V0U2VsZWN0aW9uKFRlLmJldHdlZW4obyxHbChvKSkpLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfX19ZnVuY3Rpb24gcnAodCxlKXtmb3IodmFyIG49dC5zZWxlY3Rpb24uJGFuY2hvcixyPW4uZGVwdGg7cj4wO3ItLSl7dmFyIG89bi5ub2RlKHIpO2lmKCJ0YWJsZSI9PW8udHlwZS5zcGVjLnRhYmxlUm9sZSlyZXR1cm4gZSYmZSh0LnRyLmRlbGV0ZShuLmJlZm9yZShyKSxuLmFmdGVyKHIpKS5zY3JvbGxJbnRvVmlldygpKSwhMH1yZXR1cm4hMX12YXIgb3A9ZnVuY3Rpb24odCxlKXt0aGlzLm5vZGU9dCx0aGlzLmNlbGxNaW5XaWR0aD1lLHRoaXMuZG9tPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuZG9tLmNsYXNzTmFtZT0idGFibGVXcmFwcGVyIix0aGlzLnRhYmxlPXRoaXMuZG9tLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIikpLHRoaXMuY29sZ3JvdXA9dGhpcy50YWJsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjb2xncm91cCIpKSxpcCh0LHRoaXMuY29sZ3JvdXAsdGhpcy50YWJsZSxlKSx0aGlzLmNvbnRlbnRET009dGhpcy50YWJsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpKX07ZnVuY3Rpb24gaXAodCxlLG4scixvLGkpe2Zvcih2YXIgcz0wLGE9ITAsYz1lLmZpcnN0Q2hpbGQsbD10LmZpcnN0Q2hpbGQsdT0wLHA9MDt1PGwuY2hpbGRDb3VudDt1KyspZm9yKHZhciBoPWwuY2hpbGQodSkuYXR0cnMsZj1oLmNvbHNwYW4sZD1oLmNvbHdpZHRoLG09MDttPGY7bSsrLHArKyl7dmFyIHY9bz09cD9pOmQmJmRbbV0sZz12P3YrInB4IjoiIjtzKz12fHxyLHZ8fChhPSExKSxjPyhjLnN0eWxlLndpZHRoIT1nJiYoYy5zdHlsZS53aWR0aD1nKSxjPWMubmV4dFNpYmxpbmcpOmUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY29sIikpLnN0eWxlLndpZHRoPWd9d2hpbGUoYyl7dmFyIHk9Yy5uZXh0U2libGluZztjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyksYz15fWE/KG4uc3R5bGUud2lkdGg9cysicHgiLG4uc3R5bGUubWluV2lkdGg9IiIpOihuLnN0eWxlLndpZHRoPSIiLG4uc3R5bGUubWluV2lkdGg9cysicHgiKX1vcC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PXRoaXMubm9kZS50eXBlJiYodGhpcy5ub2RlPXQsaXAodCx0aGlzLmNvbGdyb3VwLHRoaXMudGFibGUsdGhpcy5jZWxsTWluV2lkdGgpLCEwKX0sb3AucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiJhdHRyaWJ1dGVzIj09dC50eXBlJiYodC50YXJnZXQ9PXRoaXMudGFibGV8fHRoaXMuY29sZ3JvdXAuY29udGFpbnModC50YXJnZXQpKX07dmFyIHNwPW5ldyBRZSgidGFibGVDb2x1bW5SZXNpemluZyIpO2Z1bmN0aW9uIGFwKHQpe3ZvaWQgMD09PXQmJih0PXt9KTt2YXIgZT10LmhhbmRsZVdpZHRoO3ZvaWQgMD09PWUmJihlPTUpO3ZhciBuPXQuY2VsbE1pbldpZHRoO3ZvaWQgMD09PW4mJihuPTI1KTt2YXIgcj10LlZpZXc7dm9pZCAwPT09ciYmKHI9b3ApO3ZhciBvPXQubGFzdENvbHVtblJlc2l6YWJsZTt2b2lkIDA9PT1vJiYobz0hMCk7dmFyIGk9bmV3IFhlKHtrZXk6c3Asc3RhdGU6e2luaXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zcGVjLnByb3BzLm5vZGVWaWV3c1tMbChlLnNjaGVtYSkudGFibGUubmFtZV09ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHIodCxuLGUpfSxuZXcgY3AoLTEsITEpfSxhcHBseTpmdW5jdGlvbih0LGUpe3JldHVybiBlLmFwcGx5KHQpfX0scHJvcHM6e2F0dHJpYnV0ZXM6ZnVuY3Rpb24odCl7dmFyIGU9c3AuZ2V0U3RhdGUodCk7cmV0dXJuIGUuYWN0aXZlSGFuZGxlPi0xP3tjbGFzczoicmVzaXplLWN1cnNvciJ9Om51bGx9LGhhbmRsZURPTUV2ZW50czp7bW91c2Vtb3ZlOmZ1bmN0aW9uKHQscil7bHAodCxyLGUsbixvKX0sbW91c2VsZWF2ZTpmdW5jdGlvbih0KXt1cCh0KX0sbW91c2Vkb3duOmZ1bmN0aW9uKHQsZSl7cHAodCxlLG4pfX0sZGVjb3JhdGlvbnM6ZnVuY3Rpb24odCl7dmFyIGU9c3AuZ2V0U3RhdGUodCk7aWYoZS5hY3RpdmVIYW5kbGU+LTEpcmV0dXJuIGJwKHQsZS5hY3RpdmVIYW5kbGUpfSxub2RlVmlld3M6e319fSk7cmV0dXJuIGl9dmFyIGNwPWZ1bmN0aW9uKHQsZSl7dGhpcy5hY3RpdmVIYW5kbGU9dCx0aGlzLmRyYWdnaW5nPWV9O2Z1bmN0aW9uIGxwKHQsZSxuLHIsbyl7dmFyIGk9c3AuZ2V0U3RhdGUodC5zdGF0ZSk7aWYoIWkuZHJhZ2dpbmcpe3ZhciBzPWZwKGUudGFyZ2V0KSxhPS0xO2lmKHMpe3ZhciBjPXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbD1jLmxlZnQsdT1jLnJpZ2h0O2UuY2xpZW50WC1sPD1uP2E9ZHAodCxlLCJsZWZ0Iik6dS1lLmNsaWVudFg8PW4mJihhPWRwKHQsZSwicmlnaHQiKSl9aWYoYSE9aS5hY3RpdmVIYW5kbGUpe2lmKCFvJiYtMSE9PWEpe3ZhciBwPXQuc3RhdGUuZG9jLnJlc29sdmUoYSksaD1wLm5vZGUoLTEpLGY9UmwuZ2V0KGgpLGQ9cC5zdGFydCgtMSksbT1mLmNvbENvdW50KHAucG9zLWQpK3Aubm9kZUFmdGVyLmF0dHJzLmNvbHNwYW4tMTtpZihtPT1mLndpZHRoLTEpcmV0dXJufXZwKHQsYSl9fX1mdW5jdGlvbiB1cCh0KXt2YXIgZT1zcC5nZXRTdGF0ZSh0LnN0YXRlKTtlLmFjdGl2ZUhhbmRsZT4tMSYmIWUuZHJhZ2dpbmcmJnZwKHQsLTEpfWZ1bmN0aW9uIHBwKHQsZSxuKXt2YXIgcj1zcC5nZXRTdGF0ZSh0LnN0YXRlKTtpZigtMT09ci5hY3RpdmVIYW5kbGV8fHIuZHJhZ2dpbmcpcmV0dXJuITE7dmFyIG89dC5zdGF0ZS5kb2Mubm9kZUF0KHIuYWN0aXZlSGFuZGxlKSxpPWhwKHQsci5hY3RpdmVIYW5kbGUsby5hdHRycyk7ZnVuY3Rpb24gcyhlKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2V1cCIscyksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsYSk7dmFyIHI9c3AuZ2V0U3RhdGUodC5zdGF0ZSk7ci5kcmFnZ2luZyYmKGdwKHQsci5hY3RpdmVIYW5kbGUsbXAoci5kcmFnZ2luZyxlLG4pKSx0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0TWV0YShzcCx7c2V0RHJhZ2dpbmc6bnVsbH0pKSl9ZnVuY3Rpb24gYShlKXtpZighZS53aGljaClyZXR1cm4gcyhlKTt2YXIgcj1zcC5nZXRTdGF0ZSh0LnN0YXRlKSxvPW1wKHIuZHJhZ2dpbmcsZSxuKTt5cCh0LHIuYWN0aXZlSGFuZGxlLG8sbil9cmV0dXJuIHQuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRNZXRhKHNwLHtzZXREcmFnZ2luZzp7c3RhcnRYOmUuY2xpZW50WCxzdGFydFdpZHRoOml9fSkpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtb3VzZXVwIixzKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIixhKSxlLnByZXZlbnREZWZhdWx0KCksITB9ZnVuY3Rpb24gaHAodCxlLG4pe3ZhciByPW4uY29sc3BhbixvPW4uY29sd2lkdGgsaT1vJiZvW28ubGVuZ3RoLTFdO2lmKGkpcmV0dXJuIGk7dmFyIHM9dC5kb21BdFBvcyhlKSxhPXMubm9kZS5jaGlsZE5vZGVzW3Mub2Zmc2V0XSxjPWEub2Zmc2V0V2lkdGgsbD1yO2lmKG8pZm9yKHZhciB1PTA7dTxyO3UrKylvW3VdJiYoYy09b1t1XSxsLS0pO3JldHVybiBjL2x9ZnVuY3Rpb24gZnAodCl7d2hpbGUodCYmIlREIiE9dC5ub2RlTmFtZSYmIlRIIiE9dC5ub2RlTmFtZSl0PXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJQcm9zZU1pcnJvciIpP251bGw6dC5wYXJlbnROb2RlO3JldHVybiB0fWZ1bmN0aW9uIGRwKHQsZSxuKXt2YXIgcj10LnBvc0F0Q29vcmRzKHtsZWZ0OmUuY2xpZW50WCx0b3A6ZS5jbGllbnRZfSk7aWYoIXIpcmV0dXJuLTE7dmFyIG89ci5wb3MsaT1IbCh0LnN0YXRlLmRvYy5yZXNvbHZlKG8pKTtpZighaSlyZXR1cm4tMTtpZigicmlnaHQiPT1uKXJldHVybiBpLnBvczt2YXIgcz1SbC5nZXQoaS5ub2RlKC0xKSksYT1pLnN0YXJ0KC0xKSxjPXMubWFwLmluZGV4T2YoaS5wb3MtYSk7cmV0dXJuIGMlcy53aWR0aD09MD8tMTphK3MubWFwW2MtMV19ZnVuY3Rpb24gbXAodCxlLG4pe3ZhciByPWUuY2xpZW50WC10LnN0YXJ0WDtyZXR1cm4gTWF0aC5tYXgobix0LnN0YXJ0V2lkdGgrcil9ZnVuY3Rpb24gdnAodCxlKXt0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0TWV0YShzcCx7c2V0SGFuZGxlOmV9KSl9ZnVuY3Rpb24gZ3AodCxlLG4pe2Zvcih2YXIgcj10LnN0YXRlLmRvYy5yZXNvbHZlKGUpLG89ci5ub2RlKC0xKSxpPVJsLmdldChvKSxzPXIuc3RhcnQoLTEpLGE9aS5jb2xDb3VudChyLnBvcy1zKStyLm5vZGVBZnRlci5hdHRycy5jb2xzcGFuLTEsYz10LnN0YXRlLnRyLGw9MDtsPGkuaGVpZ2h0O2wrKyl7dmFyIHU9bCppLndpZHRoK2E7aWYoIWx8fGkubWFwW3VdIT1pLm1hcFt1LWkud2lkdGhdKXt2YXIgcD1pLm1hcFt1XSxoPW8ubm9kZUF0KHApLGY9aC5hdHRycyxkPTE9PWYuY29sc3Bhbj8wOmEtaS5jb2xDb3VudChwKTtpZighZi5jb2x3aWR0aHx8Zi5jb2x3aWR0aFtkXSE9bil7dmFyIG09Zi5jb2x3aWR0aD9mLmNvbHdpZHRoLnNsaWNlKCk6d3AoZi5jb2xzcGFuKTttW2RdPW4sYy5zZXROb2RlTWFya3VwKHMrcCxudWxsLFpsKGYsImNvbHdpZHRoIixtKSl9fX1jLmRvY0NoYW5nZWQmJnQuZGlzcGF0Y2goYyl9ZnVuY3Rpb24geXAodCxlLG4scil7dmFyIG89dC5zdGF0ZS5kb2MucmVzb2x2ZShlKSxpPW8ubm9kZSgtMSkscz1vLnN0YXJ0KC0xKSxhPVJsLmdldChpKS5jb2xDb3VudChvLnBvcy1zKStvLm5vZGVBZnRlci5hdHRycy5jb2xzcGFuLTEsYz10LmRvbUF0UG9zKG8uc3RhcnQoLTEpKS5ub2RlO3doaWxlKCJUQUJMRSIhPWMubm9kZU5hbWUpYz1jLnBhcmVudE5vZGU7aXAoaSxjLmZpcnN0Q2hpbGQsYyxyLGEsbil9ZnVuY3Rpb24gd3AodCl7Zm9yKHZhciBlPVtdLG49MDtuPHQ7bisrKWUucHVzaCgwKTtyZXR1cm4gZX1mdW5jdGlvbiBicCh0LGUpe2Zvcih2YXIgbj1bXSxyPXQuZG9jLnJlc29sdmUoZSksbz1yLm5vZGUoLTEpLGk9UmwuZ2V0KG8pLHM9ci5zdGFydCgtMSksYT1pLmNvbENvdW50KHIucG9zLXMpK3Iubm9kZUFmdGVyLmF0dHJzLmNvbHNwYW4sYz0wO2M8aS5oZWlnaHQ7YysrKXt2YXIgbD1hK2MqaS53aWR0aC0xO2lmKChhPT1pLndpZHRofHxpLm1hcFtsXSE9aS5tYXBbbCsxXSkmJigwPT1jfHxpLm1hcFtsLTFdIT1pLm1hcFtsLTEtaS53aWR0aF0pKXt2YXIgdT1pLm1hcFtsXSxwPXMrdStvLm5vZGVBdCh1KS5ub2RlU2l6ZS0xLGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aC5jbGFzc05hbWU9ImNvbHVtbi1yZXNpemUtaGFuZGxlIixuLnB1c2goZ2kud2lkZ2V0KHAsaCkpfX1yZXR1cm4geGkuY3JlYXRlKHQuZG9jLG4pfWZ1bmN0aW9uIHhwKHQpe3ZvaWQgMD09PXQmJih0PXt9KTt2YXIgZT10LmFsbG93VGFibGVOb2RlU2VsZWN0aW9uO3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMSksbmV3IFhlKHtrZXk6Rmwsc3RhdGU6e2luaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sYXBwbHk6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldE1ldGEoRmwpO2lmKG51bGwhPW4pcmV0dXJuLTE9PW4/bnVsbDpuO2lmKG51bGw9PWV8fCF0LmRvY0NoYW5nZWQpcmV0dXJuIGU7dmFyIHI9dC5tYXBwaW5nLm1hcFJlc3VsdChlKSxvPXIuZGVsZXRlZCxpPXIucG9zO3JldHVybiBvP251bGw6aX19LHByb3BzOntkZWNvcmF0aW9uczpvdSxoYW5kbGVET01FdmVudHM6e21vdXNlZG93bjpTdX0sY3JlYXRlU2VsZWN0aW9uQmV0d2VlbjpmdW5jdGlvbih0KXtpZihudWxsIT1GbC5nZXRTdGF0ZSh0LnN0YXRlKSlyZXR1cm4gdC5zdGF0ZS5zZWxlY3Rpb259LGhhbmRsZVRyaXBsZUNsaWNrOnh1LGhhbmRsZUtleURvd246dnUsaGFuZGxlUGFzdGU6a3V9LGFwcGVuZFRyYW5zYWN0aW9uOmZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gYXUocixFdShyLG4pLGUpfX0pfWNwLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5nZXRNZXRhKHNwKTtpZihuJiZudWxsIT1uLnNldEhhbmRsZSlyZXR1cm4gbmV3IGNwKG4uc2V0SGFuZGxlLG51bGwpO2lmKG4mJnZvaWQgMCE9PW4uc2V0RHJhZ2dpbmcpcmV0dXJuIG5ldyBjcChlLmFjdGl2ZUhhbmRsZSxuLnNldERyYWdnaW5nKTtpZihlLmFjdGl2ZUhhbmRsZT4tMSYmdC5kb2NDaGFuZ2VkKXt2YXIgcj10Lm1hcHBpbmcubWFwKGUuYWN0aXZlSGFuZGxlLC0xKTtVbCh0LmRvYy5yZXNvbHZlKHIpKXx8KHI9bnVsbCksZT1uZXcgY3AocixlLmRyYWdnaW5nKX1yZXR1cm4gZX07bmV3IFFlKCJjb2xsYWIiKTt2YXIga3A9MjAwLFNwPWZ1bmN0aW9uKCl7fTtTcC5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0Lmxlbmd0aD8odD1TcC5mcm9tKHQpLCF0aGlzLmxlbmd0aCYmdHx8dC5sZW5ndGg8a3AmJnRoaXMubGVhZkFwcGVuZCh0KXx8dGhpcy5sZW5ndGg8a3AmJnQubGVhZlByZXBlbmQodGhpcyl8fHRoaXMuYXBwZW5kSW5uZXIodCkpOnRoaXN9LFNwLnByb3RvdHlwZS5wcmVwZW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0Lmxlbmd0aD9TcC5mcm9tKHQpLmFwcGVuZCh0aGlzKTp0aGlzfSxTcC5wcm90b3R5cGUuYXBwZW5kSW5uZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBNcCh0aGlzLHQpfSxTcC5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09ZSYmKGU9dGhpcy5sZW5ndGgpLHQ+PWU/U3AuZW1wdHk6dGhpcy5zbGljZUlubmVyKE1hdGgubWF4KDAsdCksTWF0aC5taW4odGhpcy5sZW5ndGgsZSkpfSxTcC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe2lmKCEodDwwfHx0Pj10aGlzLmxlbmd0aCkpcmV0dXJuIHRoaXMuZ2V0SW5uZXIodCl9LFNwLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1uJiYobj10aGlzLmxlbmd0aCksZTw9bj90aGlzLmZvckVhY2hJbm5lcih0LGUsbiwwKTp0aGlzLmZvckVhY2hJbnZlcnRlZElubmVyKHQsZSxuLDApfSxTcC5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1uJiYobj10aGlzLmxlbmd0aCk7dmFyIHI9W107cmV0dXJuIHRoaXMuZm9yRWFjaCgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gci5wdXNoKHQoZSxuKSl9KSxlLG4pLHJ9LFNwLmZyb209ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBTcD90OnQmJnQubGVuZ3RoP25ldyBDcCh0KTpTcC5lbXB0eX07dmFyIENwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMpLHRoaXMudmFsdWVzPWV9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e2xlbmd0aDp7Y29uZmlndXJhYmxlOiEwfSxkZXB0aDp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIGUucHJvdG90eXBlLmZsYXR0ZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXN9LGUucHJvdG90eXBlLnNsaWNlSW5uZXI9ZnVuY3Rpb24odCxuKXtyZXR1cm4gMD09dCYmbj09dGhpcy5sZW5ndGg/dGhpczpuZXcgZSh0aGlzLnZhbHVlcy5zbGljZSh0LG4pKX0sZS5wcm90b3R5cGUuZ2V0SW5uZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudmFsdWVzW3RdfSxlLnByb3RvdHlwZS5mb3JFYWNoSW5uZXI9ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBvPWU7bzxuO28rKylpZighMT09PXQodGhpcy52YWx1ZXNbb10scitvKSlyZXR1cm4hMX0sZS5wcm90b3R5cGUuZm9yRWFjaEludmVydGVkSW5uZXI9ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBvPWUtMTtvPj1uO28tLSlpZighMT09PXQodGhpcy52YWx1ZXNbb10scitvKSlyZXR1cm4hMX0sZS5wcm90b3R5cGUubGVhZkFwcGVuZD1mdW5jdGlvbih0KXtpZih0aGlzLmxlbmd0aCt0Lmxlbmd0aDw9a3ApcmV0dXJuIG5ldyBlKHRoaXMudmFsdWVzLmNvbmNhdCh0LmZsYXR0ZW4oKSkpfSxlLnByb3RvdHlwZS5sZWFmUHJlcGVuZD1mdW5jdGlvbih0KXtpZih0aGlzLmxlbmd0aCt0Lmxlbmd0aDw9a3ApcmV0dXJuIG5ldyBlKHQuZmxhdHRlbigpLmNvbmNhdCh0aGlzLnZhbHVlcykpfSxuLmxlbmd0aC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXMubGVuZ3RofSxuLmRlcHRoLmdldD1mdW5jdGlvbigpe3JldHVybiAwfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfShTcCk7U3AuZW1wdHk9bmV3IENwKFtdKTt2YXIgTXA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3QuY2FsbCh0aGlzKSx0aGlzLmxlZnQ9ZSx0aGlzLnJpZ2h0PW4sdGhpcy5sZW5ndGg9ZS5sZW5ndGgrbi5sZW5ndGgsdGhpcy5kZXB0aD1NYXRoLm1heChlLmRlcHRoLG4uZGVwdGgpKzF9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmZsYXR0ZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZWZ0LmZsYXR0ZW4oKS5jb25jYXQodGhpcy5yaWdodC5mbGF0dGVuKCkpfSxlLnByb3RvdHlwZS5nZXRJbm5lcj1mdW5jdGlvbih0KXtyZXR1cm4gdDx0aGlzLmxlZnQubGVuZ3RoP3RoaXMubGVmdC5nZXQodCk6dGhpcy5yaWdodC5nZXQodC10aGlzLmxlZnQubGVuZ3RoKX0sZS5wcm90b3R5cGUuZm9yRWFjaElubmVyPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXRoaXMubGVmdC5sZW5ndGg7cmV0dXJuIShlPG8mJiExPT09dGhpcy5sZWZ0LmZvckVhY2hJbm5lcih0LGUsTWF0aC5taW4obixvKSxyKSkmJighKG4+byYmITE9PT10aGlzLnJpZ2h0LmZvckVhY2hJbm5lcih0LE1hdGgubWF4KGUtbywwKSxNYXRoLm1pbih0aGlzLmxlbmd0aCxuKS1vLHIrbykpJiZ2b2lkIDApfSxlLnByb3RvdHlwZS5mb3JFYWNoSW52ZXJ0ZWRJbm5lcj1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10aGlzLmxlZnQubGVuZ3RoO3JldHVybiEoZT5vJiYhMT09PXRoaXMucmlnaHQuZm9yRWFjaEludmVydGVkSW5uZXIodCxlLW8sTWF0aC5tYXgobixvKS1vLHIrbykpJiYoIShuPG8mJiExPT09dGhpcy5sZWZ0LmZvckVhY2hJbnZlcnRlZElubmVyKHQsTWF0aC5taW4oZSxvKSxuLHIpKSYmdm9pZCAwKX0sZS5wcm90b3R5cGUuc2xpY2VJbm5lcj1mdW5jdGlvbih0LGUpe2lmKDA9PXQmJmU9PXRoaXMubGVuZ3RoKXJldHVybiB0aGlzO3ZhciBuPXRoaXMubGVmdC5sZW5ndGg7cmV0dXJuIGU8PW4/dGhpcy5sZWZ0LnNsaWNlKHQsZSk6dD49bj90aGlzLnJpZ2h0LnNsaWNlKHQtbixlLW4pOnRoaXMubGVmdC5zbGljZSh0LG4pLmFwcGVuZCh0aGlzLnJpZ2h0LnNsaWNlKDAsZS1uKSl9LGUucHJvdG90eXBlLmxlYWZBcHBlbmQ9ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5yaWdodC5sZWFmQXBwZW5kKHQpO2lmKG4pcmV0dXJuIG5ldyBlKHRoaXMubGVmdCxuKX0sZS5wcm90b3R5cGUubGVhZlByZXBlbmQ9ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5sZWZ0LmxlYWZQcmVwZW5kKHQpO2lmKG4pcmV0dXJuIG5ldyBlKG4sdGhpcy5yaWdodCl9LGUucHJvdG90eXBlLmFwcGVuZElubmVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxlZnQuZGVwdGg+PU1hdGgubWF4KHRoaXMucmlnaHQuZGVwdGgsdC5kZXB0aCkrMT9uZXcgZSh0aGlzLmxlZnQsbmV3IGUodGhpcy5yaWdodCx0KSk6bmV3IGUodGhpcyx0KX0sZX0oU3ApLE9wPVNwLEFwPU9wLE5wPTUwMCxFcD1mdW5jdGlvbih0LGUpe3RoaXMuaXRlbXM9dCx0aGlzLmV2ZW50Q291bnQ9ZX07ZnVuY3Rpb24gVHAodCxlKXt2YXIgbjtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0LHIpe2lmKHQuc2VsZWN0aW9uJiYwPT1lLS0pcmV0dXJuIG49ciwhMX0pKSx0LnNsaWNlKG4pfUVwLnByb3RvdHlwZS5wb3BFdmVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7aWYoMD09dGhpcy5ldmVudENvdW50KXJldHVybiBudWxsO2Zvcih2YXIgcixvLGk9dGhpcy5pdGVtcy5sZW5ndGg7O2ktLSl7dmFyIHM9dGhpcy5pdGVtcy5nZXQoaS0xKTtpZihzLnNlbGVjdGlvbil7LS1pO2JyZWFrfX1lJiYocj10aGlzLnJlbWFwcGluZyhpLHRoaXMuaXRlbXMubGVuZ3RoKSxvPXIubWFwcy5sZW5ndGgpO3ZhciBhLGMsbD10LnRyLHU9W10scD1bXTtyZXR1cm4gdGhpcy5pdGVtcy5mb3JFYWNoKChmdW5jdGlvbih0LGUpe2lmKCF0LnN0ZXApcmV0dXJuIHJ8fChyPW4ucmVtYXBwaW5nKGksZSsxKSxvPXIubWFwcy5sZW5ndGgpLG8tLSx2b2lkIHAucHVzaCh0KTtpZihyKXtwLnB1c2gobmV3IERwKHQubWFwKSk7dmFyIHMsaD10LnN0ZXAubWFwKHIuc2xpY2UobykpO2gmJmwubWF5YmVTdGVwKGgpLmRvYyYmKHM9bC5tYXBwaW5nLm1hcHNbbC5tYXBwaW5nLm1hcHMubGVuZ3RoLTFdLHUucHVzaChuZXcgRHAocyxudWxsLG51bGwsdS5sZW5ndGgrcC5sZW5ndGgpKSksby0tLHMmJnIuYXBwZW5kTWFwKHMsbyl9ZWxzZSBsLm1heWJlU3RlcCh0LnN0ZXApO3JldHVybiB0LnNlbGVjdGlvbj8oYT1yP3Quc2VsZWN0aW9uLm1hcChyLnNsaWNlKG8pKTp0LnNlbGVjdGlvbixjPW5ldyBFcChuLml0ZW1zLnNsaWNlKDAsaSkuYXBwZW5kKHAucmV2ZXJzZSgpLmNvbmNhdCh1KSksbi5ldmVudENvdW50LTEpLCExKTp2b2lkIDB9KSx0aGlzLml0ZW1zLmxlbmd0aCwwKSx7cmVtYWluaW5nOmMsdHJhbnNmb3JtOmwsc2VsZWN0aW9uOmF9fSxFcC5wcm90b3R5cGUuYWRkVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgbz1bXSxpPXRoaXMuZXZlbnRDb3VudCxzPXRoaXMuaXRlbXMsYT0hciYmcy5sZW5ndGg/cy5nZXQocy5sZW5ndGgtMSk6bnVsbCxjPTA7Yzx0LnN0ZXBzLmxlbmd0aDtjKyspe3ZhciBsPXQuc3RlcHNbY10uaW52ZXJ0KHQuZG9jc1tjXSksdT1uZXcgRHAodC5tYXBwaW5nLm1hcHNbY10sbCxlKSxwPXZvaWQgMDsocD1hJiZhLm1lcmdlKHUpKSYmKHU9cCxjP28ucG9wKCk6cz1zLnNsaWNlKDAscy5sZW5ndGgtMSkpLG8ucHVzaCh1KSxlJiYoaSsrLGU9bnVsbCkscnx8KGE9dSl9dmFyIGg9aS1uLmRlcHRoO3JldHVybiBoPlJwJiYocz1UcChzLGgpLGktPWgpLG5ldyBFcChzLmFwcGVuZChvKSxpKX0sRXAucHJvdG90eXBlLnJlbWFwcGluZz1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBGdDtyZXR1cm4gdGhpcy5pdGVtcy5mb3JFYWNoKChmdW5jdGlvbihlLHIpe3ZhciBvPW51bGwhPWUubWlycm9yT2Zmc2V0JiZyLWUubWlycm9yT2Zmc2V0Pj10P24ubWFwcy5sZW5ndGgtZS5taXJyb3JPZmZzZXQ6bnVsbDtuLmFwcGVuZE1hcChlLm1hcCxvKX0pLHQsZSksbn0sRXAucHJvdG90eXBlLmFkZE1hcHM9ZnVuY3Rpb24odCl7cmV0dXJuIDA9PXRoaXMuZXZlbnRDb3VudD90aGlzOm5ldyBFcCh0aGlzLml0ZW1zLmFwcGVuZCh0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBEcCh0KX0pKSksdGhpcy5ldmVudENvdW50KX0sRXAucHJvdG90eXBlLnJlYmFzZWQ9ZnVuY3Rpb24odCxlKXtpZighdGhpcy5ldmVudENvdW50KXJldHVybiB0aGlzO3ZhciBuPVtdLHI9TWF0aC5tYXgoMCx0aGlzLml0ZW1zLmxlbmd0aC1lKSxvPXQubWFwcGluZyxpPXQuc3RlcHMubGVuZ3RoLHM9dGhpcy5ldmVudENvdW50O3RoaXMuaXRlbXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5zZWxlY3Rpb24mJnMtLX0pLHIpO3ZhciBhPWU7dGhpcy5pdGVtcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1vLmdldE1pcnJvcigtLWEpO2lmKG51bGwhPXIpe2k9TWF0aC5taW4oaSxyKTt2YXIgYz1vLm1hcHNbcl07aWYoZS5zdGVwKXt2YXIgbD10LnN0ZXBzW3JdLmludmVydCh0LmRvY3Nbcl0pLHU9ZS5zZWxlY3Rpb24mJmUuc2VsZWN0aW9uLm1hcChvLnNsaWNlKGErMSxyKSk7dSYmcysrLG4ucHVzaChuZXcgRHAoYyxsLHUpKX1lbHNlIG4ucHVzaChuZXcgRHAoYykpfX0pLHIpO2Zvcih2YXIgYz1bXSxsPWU7bDxpO2wrKyljLnB1c2gobmV3IERwKG8ubWFwc1tsXSkpO3ZhciB1PXRoaXMuaXRlbXMuc2xpY2UoMCxyKS5hcHBlbmQoYykuYXBwZW5kKG4pLHA9bmV3IEVwKHUscyk7cmV0dXJuIHAuZW1wdHlJdGVtQ291bnQoKT5OcCYmKHA9cC5jb21wcmVzcyh0aGlzLml0ZW1zLmxlbmd0aC1uLmxlbmd0aCkpLHB9LEVwLnByb3RvdHlwZS5lbXB0eUl0ZW1Db3VudD1mdW5jdGlvbigpe3ZhciB0PTA7cmV0dXJuIHRoaXMuaXRlbXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5zdGVwfHx0Kyt9KSksdH0sRXAucHJvdG90eXBlLmNvbXByZXNzPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PXRoaXMuaXRlbXMubGVuZ3RoKTt2YXIgZT10aGlzLnJlbWFwcGluZygwLHQpLG49ZS5tYXBzLmxlbmd0aCxyPVtdLG89MDtyZXR1cm4gdGhpcy5pdGVtcy5mb3JFYWNoKChmdW5jdGlvbihpLHMpe2lmKHM+PXQpci5wdXNoKGkpLGkuc2VsZWN0aW9uJiZvKys7ZWxzZSBpZihpLnN0ZXApe3ZhciBhPWkuc3RlcC5tYXAoZS5zbGljZShuKSksYz1hJiZhLmdldE1hcCgpO2lmKG4tLSxjJiZlLmFwcGVuZE1hcChjLG4pLGEpe3ZhciBsPWkuc2VsZWN0aW9uJiZpLnNlbGVjdGlvbi5tYXAoZS5zbGljZShuKSk7bCYmbysrO3ZhciB1LHA9bmV3IERwKGMuaW52ZXJ0KCksYSxsKSxoPXIubGVuZ3RoLTE7KHU9ci5sZW5ndGgmJnJbaF0ubWVyZ2UocCkpP3JbaF09dTpyLnB1c2gocCl9fWVsc2UgaS5tYXAmJm4tLX0pLHRoaXMuaXRlbXMubGVuZ3RoLDApLG5ldyBFcChBcC5mcm9tKHIucmV2ZXJzZSgpKSxvKX0sRXAuZW1wdHk9bmV3IEVwKEFwLmVtcHR5LDApO3ZhciBEcD1mdW5jdGlvbih0LGUsbixyKXt0aGlzLm1hcD10LHRoaXMuc3RlcD1lLHRoaXMuc2VsZWN0aW9uPW4sdGhpcy5taXJyb3JPZmZzZXQ9cn07RHAucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuc3RlcCYmdC5zdGVwJiYhdC5zZWxlY3Rpb24pe3ZhciBlPXQuc3RlcC5tZXJnZSh0aGlzLnN0ZXApO2lmKGUpcmV0dXJuIG5ldyBEcChlLmdldE1hcCgpLmludmVydCgpLGUsdGhpcy5zZWxlY3Rpb24pfX07dmFyIF9wPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMuZG9uZT10LHRoaXMudW5kb25lPWUsdGhpcy5wcmV2UmFuZ2VzPW4sdGhpcy5wcmV2VGltZT1yfSxScD0yMDtmdW5jdGlvbiB6cCh0LGUsbixyKXt2YXIgbyxpPW4uZ2V0TWV0YShGcCk7aWYoaSlyZXR1cm4gaS5oaXN0b3J5U3RhdGU7bi5nZXRNZXRhKEhwKSYmKHQ9bmV3IF9wKHQuZG9uZSx0LnVuZG9uZSxudWxsLDApKTt2YXIgcz1uLmdldE1ldGEoImFwcGVuZGVkVHJhbnNhY3Rpb24iKTtpZigwPT1uLnN0ZXBzLmxlbmd0aClyZXR1cm4gdDtpZihzJiZzLmdldE1ldGEoRnApKXJldHVybiBzLmdldE1ldGEoRnApLnJlZG8/bmV3IF9wKHQuZG9uZS5hZGRUcmFuc2Zvcm0obixudWxsLHIsTHAoZSkpLHQudW5kb25lLFBwKG4ubWFwcGluZy5tYXBzW24uc3RlcHMubGVuZ3RoLTFdKSx0LnByZXZUaW1lKTpuZXcgX3AodC5kb25lLHQudW5kb25lLmFkZFRyYW5zZm9ybShuLG51bGwscixMcChlKSksbnVsbCx0LnByZXZUaW1lKTtpZighMT09PW4uZ2V0TWV0YSgiYWRkVG9IaXN0b3J5Iil8fHMmJiExPT09cy5nZXRNZXRhKCJhZGRUb0hpc3RvcnkiKSlyZXR1cm4obz1uLmdldE1ldGEoInJlYmFzZWQiKSk/bmV3IF9wKHQuZG9uZS5yZWJhc2VkKG4sbyksdC51bmRvbmUucmViYXNlZChuLG8pLCRwKHQucHJldlJhbmdlcyxuLm1hcHBpbmcpLHQucHJldlRpbWUpOm5ldyBfcCh0LmRvbmUuYWRkTWFwcyhuLm1hcHBpbmcubWFwcyksdC51bmRvbmUuYWRkTWFwcyhuLm1hcHBpbmcubWFwcyksJHAodC5wcmV2UmFuZ2VzLG4ubWFwcGluZyksdC5wcmV2VGltZSk7dmFyIGE9MD09dC5wcmV2VGltZXx8IXMmJih0LnByZXZUaW1lPChuLnRpbWV8fDApLXIubmV3R3JvdXBEZWxheXx8IUlwKG4sdC5wcmV2UmFuZ2VzKSksYz1zPyRwKHQucHJldlJhbmdlcyxuLm1hcHBpbmcpOlBwKG4ubWFwcGluZy5tYXBzW24uc3RlcHMubGVuZ3RoLTFdKTtyZXR1cm4gbmV3IF9wKHQuZG9uZS5hZGRUcmFuc2Zvcm0obixhP2Uuc2VsZWN0aW9uLmdldEJvb2ttYXJrKCk6bnVsbCxyLExwKGUpKSxFcC5lbXB0eSxjLG4udGltZSl9ZnVuY3Rpb24gSXAodCxlKXtpZighZSlyZXR1cm4hMTtpZighdC5kb2NDaGFuZ2VkKXJldHVybiEwO3ZhciBuPSExO3JldHVybiB0Lm1hcHBpbmcubWFwc1swXS5mb3JFYWNoKChmdW5jdGlvbih0LHIpe2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bys9Mil0PD1lW28rMV0mJnI+PWVbb10mJihuPSEwKX0pKSxufWZ1bmN0aW9uIFBwKHQpe3ZhciBlPVtdO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQsbixyLG8pe3JldHVybiBlLnB1c2gocixvKX0pKSxlfWZ1bmN0aW9uICRwKHQsZSl7aWYoIXQpcmV0dXJuIG51bGw7Zm9yKHZhciBuPVtdLHI9MDtyPHQubGVuZ3RoO3IrPTIpe3ZhciBvPWUubWFwKHRbcl0sMSksaT1lLm1hcCh0W3IrMV0sLTEpO288PWkmJm4ucHVzaChvLGkpfXJldHVybiBufWZ1bmN0aW9uIEJwKHQsZSxuLHIpe3ZhciBvPUxwKGUpLGk9RnAuZ2V0KGUpLnNwZWMuY29uZmlnLHM9KHI/dC51bmRvbmU6dC5kb25lKS5wb3BFdmVudChlLG8pO2lmKHMpe3ZhciBhPXMuc2VsZWN0aW9uLnJlc29sdmUocy50cmFuc2Zvcm0uZG9jKSxjPShyP3QuZG9uZTp0LnVuZG9uZSkuYWRkVHJhbnNmb3JtKHMudHJhbnNmb3JtLGUuc2VsZWN0aW9uLmdldEJvb2ttYXJrKCksaSxvKSxsPW5ldyBfcChyP2M6cy5yZW1haW5pbmcscj9zLnJlbWFpbmluZzpjLG51bGwsMCk7bihzLnRyYW5zZm9ybS5zZXRTZWxlY3Rpb24oYSkuc2V0TWV0YShGcCx7cmVkbzpyLGhpc3RvcnlTdGF0ZTpsfSkuc2Nyb2xsSW50b1ZpZXcoKSl9fXZhciBWcD0hMSxqcD1udWxsO2Z1bmN0aW9uIExwKHQpe3ZhciBlPXQucGx1Z2lucztpZihqcCE9ZSl7VnA9ITEsanA9ZTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZihlW25dLnNwZWMuaGlzdG9yeVByZXNlcnZlSXRlbXMpe1ZwPSEwO2JyZWFrfX1yZXR1cm4gVnB9dmFyIEZwPW5ldyBRZSgiaGlzdG9yeSIpLEhwPW5ldyBRZSgiY2xvc2VIaXN0b3J5Iik7ZnVuY3Rpb24gSnAodCl7cmV0dXJuIHQ9e2RlcHRoOnQmJnQuZGVwdGh8fDEwMCxuZXdHcm91cERlbGF5OnQmJnQubmV3R3JvdXBEZWxheXx8NTAwfSxuZXcgWGUoe2tleTpGcCxzdGF0ZTp7aW5pdDpmdW5jdGlvbigpe3JldHVybiBuZXcgX3AoRXAuZW1wdHksRXAuZW1wdHksbnVsbCwwKX0sYXBwbHk6ZnVuY3Rpb24oZSxuLHIpe3JldHVybiB6cChuLHIsZSx0KX19LGNvbmZpZzp0fSl9ZnVuY3Rpb24gV3AodCxlKXt2YXIgbj1GcC5nZXRTdGF0ZSh0KTtyZXR1cm4hKCFufHwwPT1uLmRvbmUuZXZlbnRDb3VudCkmJihlJiZCcChuLHQsZSwhMSksITApfWZ1bmN0aW9uIHFwKHQsZSl7dmFyIG49RnAuZ2V0U3RhdGUodCk7cmV0dXJuISghbnx8MD09bi51bmRvbmUuZXZlbnRDb3VudCkmJihlJiZCcChuLHQsZSwhMCksITApfWZ1bmN0aW9uIEtwKHQpe3ZhciBlPUZwLmdldFN0YXRlKHQpO3JldHVybiBlP2UuZG9uZS5ldmVudENvdW50OjB9ZnVuY3Rpb24gVXAodCl7dmFyIGU9RnAuZ2V0U3RhdGUodCk7cmV0dXJuIGU/ZS51bmRvbmUuZXZlbnRDb3VudDowfQovKiEKICAgICogdGlwdGFwLWV4dGVuc2lvbnMgdjEuMzUuMQogICAgKiAoYykgMjAyMSDDvGJlcmRvc2lzIEdiUiAobGltaXRlZCBsaWFiaWxpdHkpCiAgICAqIEBsaWNlbnNlIE1JVAogICAgKi8KY2xhc3MgR3AgZXh0ZW5kcyBIYXtnZXQgbmFtZSgpe3JldHVybiJibG9ja3F1b3RlIn1nZXQgc2NoZW1hKCl7cmV0dXJue2NvbnRlbnQ6ImJsb2NrKiIsZ3JvdXA6ImJsb2NrIixkZWZpbmluZzohMCxkcmFnZ2FibGU6ITEscGFyc2VET006W3t0YWc6ImJsb2NrcXVvdGUifV0sdG9ET006KCk9PlsiYmxvY2txdW90ZSIsMF19fWNvbW1hbmRzKHt0eXBlOnR9KXtyZXR1cm4oKT0+UmEodCl9a2V5cyh7dHlwZTp0fSl7cmV0dXJueyJDdHJsLT4iOlJhKHQpfX1pbnB1dFJ1bGVzKHt0eXBlOnR9KXtyZXR1cm5bUXMoL15ccyo+XHMkLyx0KV19fWNsYXNzIFhwIGV4dGVuZHMgSGF7Z2V0IG5hbWUoKXtyZXR1cm4iYnVsbGV0X2xpc3QifWdldCBzY2hlbWEoKXtyZXR1cm57Y29udGVudDoibGlzdF9pdGVtKyIsZ3JvdXA6ImJsb2NrIixwYXJzZURPTTpbe3RhZzoidWwifV0sdG9ET006KCk9PlsidWwiLDBdfX1jb21tYW5kcyh7dHlwZTp0LHNjaGVtYTplfSl7cmV0dXJuKCk9Pl9hKHQsZS5ub2Rlcy5saXN0X2l0ZW0pfWtleXMoe3R5cGU6dCxzY2hlbWE6ZX0pe3JldHVybnsiU2hpZnQtQ3RybC04IjpfYSh0LGUubm9kZXMubGlzdF9pdGVtKX19aW5wdXRSdWxlcyh7dHlwZTp0fSl7cmV0dXJuW1FzKC9eXHMqKFstKypdKVxzJC8sdCldfX1jbGFzcyBZcCBleHRlbmRzIEhhe2dldCBuYW1lKCl7cmV0dXJuImNvZGVfYmxvY2sifWdldCBzY2hlbWEoKXtyZXR1cm57Y29udGVudDoidGV4dCoiLG1hcmtzOiIiLGdyb3VwOiJibG9jayIsY29kZTohMCxkZWZpbmluZzohMCxkcmFnZ2FibGU6ITEscGFyc2VET006W3t0YWc6InByZSIscHJlc2VydmVXaGl0ZXNwYWNlOiJmdWxsIn1dLHRvRE9NOigpPT5bInByZSIsWyJjb2RlIiwwXV19fWNvbW1hbmRzKHt0eXBlOnQsc2NoZW1hOmV9KXtyZXR1cm4oKT0+VGEodCxlLm5vZGVzLnBhcmFncmFwaCl9a2V5cyh7dHlwZTp0fSl7cmV0dXJueyJTaGlmdC1DdHJsLVxcIjpQcyh0KX19aW5wdXRSdWxlcyh7dHlwZTp0fSl7cmV0dXJuW3RhKC9eYGBgJC8sdCldfX1jbGFzcyBacCBleHRlbmRzIEhhe2dldCBuYW1lKCl7cmV0dXJuImhhcmRfYnJlYWsifWdldCBzY2hlbWEoKXtyZXR1cm57aW5saW5lOiEwLGdyb3VwOiJpbmxpbmUiLHNlbGVjdGFibGU6ITEscGFyc2VET006W3t0YWc6ImJyIn1dLHRvRE9NOigpPT5bImJyIl19fWNvbW1hbmRzKHt0eXBlOnR9KXtyZXR1cm4oKT0+VnMoTnMsKChlLG4pPT4obihlLnRyLnJlcGxhY2VTZWxlY3Rpb25XaXRoKHQuY3JlYXRlKCkpLnNjcm9sbEludG9WaWV3KCkpLCEwKSkpfWtleXMoe3R5cGU6dH0pe2NvbnN0IGU9VnMoTnMsKChlLG4pPT4obihlLnRyLnJlcGxhY2VTZWxlY3Rpb25XaXRoKHQuY3JlYXRlKCkpLnNjcm9sbEludG9WaWV3KCkpLCEwKSkpO3JldHVybnsiTW9kLUVudGVyIjplLCJTaGlmdC1FbnRlciI6ZX19fWNsYXNzIFFwIGV4dGVuZHMgSGF7Z2V0IG5hbWUoKXtyZXR1cm4iaGVhZGluZyJ9Z2V0IGRlZmF1bHRPcHRpb25zKCl7cmV0dXJue2xldmVsczpbMSwyLDMsNCw1LDZdfX1nZXQgc2NoZW1hKCl7cmV0dXJue2F0dHJzOntsZXZlbDp7ZGVmYXVsdDoxfX0sY29udGVudDoiaW5saW5lKiIsZ3JvdXA6ImJsb2NrIixkZWZpbmluZzohMCxkcmFnZ2FibGU6ITEscGFyc2VET006dGhpcy5vcHRpb25zLmxldmVscy5tYXAoKHQ9Pih7dGFnOmBoJHt0fWAsYXR0cnM6e2xldmVsOnR9fSkpKSx0b0RPTTp0PT5bYGgke3QuYXR0cnMubGV2ZWx9YCwwXX19Y29tbWFuZHMoe3R5cGU6dCxzY2hlbWE6ZX0pe3JldHVybiBuPT5UYSh0LGUubm9kZXMucGFyYWdyYXBoLG4pfWtleXMoe3R5cGU6dH0pe3JldHVybiB0aGlzLm9wdGlvbnMubGV2ZWxzLnJlZHVjZSgoKGUsbik9Pih7Li4uZSxbYFNoaWZ0LUN0cmwtJHtufWBdOlBzKHQse2xldmVsOm59KX0pKSx7fSl9aW5wdXRSdWxlcyh7dHlwZTp0fSl7cmV0dXJuIHRoaXMub3B0aW9ucy5sZXZlbHMubWFwKChlPT50YShuZXcgUmVnRXhwKGBeKCN7MSwke2V9fSlcXHMkYCksdCwoKCk9Pih7bGV2ZWw6ZX0pKSkpKX19Y2xhc3MgdGggZXh0ZW5kcyBIYXtnZXQgbmFtZSgpe3JldHVybiJsaXN0X2l0ZW0ifWdldCBzY2hlbWEoKXtyZXR1cm57Y29udGVudDoicGFyYWdyYXBoIGJsb2NrKiIsZGVmaW5pbmc6ITAsZHJhZ2dhYmxlOiExLHBhcnNlRE9NOlt7dGFnOiJsaSJ9XSx0b0RPTTooKT0+WyJsaSIsMF19fWtleXMoe3R5cGU6dH0pe3JldHVybntFbnRlcjp5YSh0KSxUYWI6a2EodCksIlNoaWZ0LVRhYiI6d2EodCl9fX1jbGFzcyBlaCBleHRlbmRzIEhhe2dldCBuYW1lKCl7cmV0dXJuIm9yZGVyZWRfbGlzdCJ9Z2V0IHNjaGVtYSgpe3JldHVybnthdHRyczp7b3JkZXI6e2RlZmF1bHQ6MX19LGNvbnRlbnQ6Imxpc3RfaXRlbSsiLGdyb3VwOiJibG9jayIscGFyc2VET006W3t0YWc6Im9sIixnZXRBdHRyczp0PT4oe29yZGVyOnQuaGFzQXR0cmlidXRlKCJzdGFydCIpPyt0LmdldEF0dHJpYnV0ZSgic3RhcnQiKToxfSl9XSx0b0RPTTp0PT4xPT09dC5hdHRycy5vcmRlcj9bIm9sIiwwXTpbIm9sIix7c3RhcnQ6dC5hdHRycy5vcmRlcn0sMF19fWNvbW1hbmRzKHt0eXBlOnQsc2NoZW1hOmV9KXtyZXR1cm4oKT0+X2EodCxlLm5vZGVzLmxpc3RfaXRlbSl9a2V5cyh7dHlwZTp0LHNjaGVtYTplfSl7cmV0dXJueyJTaGlmdC1DdHJsLTkiOl9hKHQsZS5ub2Rlcy5saXN0X2l0ZW0pfX1pbnB1dFJ1bGVzKHt0eXBlOnR9KXtyZXR1cm5bUXMoL14oXGQrKVwuXHMkLyx0LCh0PT4oe29yZGVyOit0WzFdfSkpLCgodCxlKT0+ZS5jaGlsZENvdW50K2UuYXR0cnMub3JkZXI9PT0rdFsxXSkpXX19dmFyIG5oPWpsKHt0YWJsZUdyb3VwOiJibG9jayIsY2VsbENvbnRlbnQ6ImJsb2NrKyIsY2VsbEF0dHJpYnV0ZXM6e2JhY2tncm91bmQ6e2RlZmF1bHQ6bnVsbCxnZXRGcm9tRE9NKHQpe3JldHVybiB0LnN0eWxlLmJhY2tncm91bmRDb2xvcnx8bnVsbH0sc2V0RE9NQXR0cih0LGUpe2lmKHQpe2NvbnN0IG49e3N0eWxlOmAke2Uuc3R5bGV8fCIifWJhY2tncm91bmQtY29sb3I6ICR7dH07YH07T2JqZWN0LmFzc2lnbihlLG4pfX19fX0pO2NsYXNzIHJoIGV4dGVuZHMgSGF7Z2V0IG5hbWUoKXtyZXR1cm4idGFibGUifWdldCBkZWZhdWx0T3B0aW9ucygpe3JldHVybntyZXNpemFibGU6ITF9fWdldCBzY2hlbWEoKXtyZXR1cm4gbmgudGFibGV9Y29tbWFuZHMoe3NjaGVtYTp0fSl7cmV0dXJue2NyZWF0ZVRhYmxlOih7cm93c0NvdW50OmUsY29sc0NvdW50Om4sd2l0aEhlYWRlclJvdzpyfSk9PihvLGkpPT57Y29uc3Qgcz1vLnRyLnNlbGVjdGlvbi5hbmNob3IrMSxhPXJhKHQsZSxuLHIpLGM9by50ci5yZXBsYWNlU2VsZWN0aW9uV2l0aChhKS5zY3JvbGxJbnRvVmlldygpLGw9Yy5kb2MucmVzb2x2ZShzKTtjLnNldFNlbGVjdGlvbihUZS5uZWFyKGwpKSxpKGMpfSxhZGRDb2x1bW5CZWZvcmU6KCk9PlJ1LGFkZENvbHVtbkFmdGVyOigpPT56dSxkZWxldGVDb2x1bW46KCk9PlB1LGFkZFJvd0JlZm9yZTooKT0+VnUsYWRkUm93QWZ0ZXI6KCk9Pmp1LGRlbGV0ZVJvdzooKT0+RnUsZGVsZXRlVGFibGU6KCk9PnJwLHRvZ2dsZUNlbGxNZXJnZTooKT0+KHQsZSk9PntXdSh0LGUpfHxxdSh0LGUpfSxtZXJnZUNlbGxzOigpPT5XdSxzcGxpdENlbGw6KCk9PnF1LHRvZ2dsZUhlYWRlckNvbHVtbjooKT0+UXUsdG9nZ2xlSGVhZGVyUm93OigpPT5adSx0b2dnbGVIZWFkZXJDZWxsOigpPT50cCxzZXRDZWxsQXR0cjooe25hbWU6dCx2YWx1ZTplfSk9PlV1KHQsZSksZml4VGFibGVzOigpPT5FdX19a2V5cygpe3JldHVybntUYWI6bnAoMSksIlNoaWZ0LVRhYiI6bnAoLTEpfX1nZXQgcGx1Z2lucygpe3JldHVyblsuLi50aGlzLm9wdGlvbnMucmVzaXphYmxlP1thcCgpXTpbXSx4cCgpXX19Y2xhc3Mgb2ggZXh0ZW5kcyBIYXtnZXQgbmFtZSgpe3JldHVybiJ0YWJsZV9oZWFkZXIifWdldCBzY2hlbWEoKXtyZXR1cm4gbmgudGFibGVfaGVhZGVyfX1jbGFzcyBpaCBleHRlbmRzIEhhe2dldCBuYW1lKCl7cmV0dXJuInRhYmxlX2NlbGwifWdldCBzY2hlbWEoKXtyZXR1cm4gbmgudGFibGVfY2VsbH19Y2xhc3Mgc2ggZXh0ZW5kcyBIYXtnZXQgbmFtZSgpe3JldHVybiJ0YWJsZV9yb3cifWdldCBzY2hlbWEoKXtyZXR1cm4gbmgudGFibGVfcm93fX1jbGFzcyBhaCBleHRlbmRzIEhhe2dldCBuYW1lKCl7cmV0dXJuInRvZG9faXRlbSJ9Z2V0IGRlZmF1bHRPcHRpb25zKCl7cmV0dXJue25lc3RlZDohMX19Z2V0IHZpZXcoKXtyZXR1cm57cHJvcHM6WyJub2RlIiwidXBkYXRlQXR0cnMiLCJ2aWV3Il0sbWV0aG9kczp7b25DaGFuZ2UoKXt0aGlzLnVwZGF0ZUF0dHJzKHtkb25lOiF0aGlzLm5vZGUuYXR0cnMuZG9uZX0pfX0sdGVtcGxhdGU6J1xuICAgICAgICA8bGkgOmRhdGEtdHlwZT0ibm9kZS50eXBlLm5hbWUiIDpkYXRhLWRvbmU9Im5vZGUuYXR0cnMuZG9uZS50b1N0cmluZygpIiBkYXRhLWRyYWctaGFuZGxlPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPSJ0b2RvLWNoZWNrYm94IiBjb250ZW50ZWRpdGFibGU9ImZhbHNlIiBAY2xpY2s9Im9uQ2hhbmdlIj48L3NwYW4+XG4gICAgICAgICAgPGRpdiBjbGFzcz0idG9kby1jb250ZW50IiByZWY9ImNvbnRlbnQiIDpjb250ZW50ZWRpdGFibGU9InZpZXcuZWRpdGFibGUudG9TdHJpbmcoKSI+PC9kaXY+XG4gICAgICAgIDwvbGk+XG4gICAgICAnfX1nZXQgc2NoZW1hKCl7cmV0dXJue2F0dHJzOntkb25lOntkZWZhdWx0OiExfX0sZHJhZ2dhYmxlOiEwLGNvbnRlbnQ6dGhpcy5vcHRpb25zLm5lc3RlZD8iKHBhcmFncmFwaHx0b2RvX2xpc3QpKyI6InBhcmFncmFwaCsiLHRvRE9NOnQ9Pntjb25zdHtkb25lOmV9PXQuYXR0cnM7cmV0dXJuWyJsaSIseyJkYXRhLXR5cGUiOnRoaXMubmFtZSwiZGF0YS1kb25lIjplLnRvU3RyaW5nKCl9LFsic3BhbiIse2NsYXNzOiJ0b2RvLWNoZWNrYm94Iixjb250ZW50ZWRpdGFibGU6ImZhbHNlIn1dLFsiZGl2Iix7Y2xhc3M6InRvZG8tY29udGVudCJ9LDBdXX0scGFyc2VET006W3twcmlvcml0eTo1MSx0YWc6YFtkYXRhLXR5cGU9IiR7dGhpcy5uYW1lfSJdYCxnZXRBdHRyczp0PT4oe2RvbmU6InRydWUiPT09dC5nZXRBdHRyaWJ1dGUoImRhdGEtZG9uZSIpfSl9XX19a2V5cyh7dHlwZTp0fSl7cmV0dXJue0VudGVyOkVhKHQpLFRhYjp0aGlzLm9wdGlvbnMubmVzdGVkP2thKHQpOigpPT57fSwiU2hpZnQtVGFiIjp3YSh0KX19fWNsYXNzIGNoIGV4dGVuZHMgSGF7Z2V0IG5hbWUoKXtyZXR1cm4idG9kb19saXN0In1nZXQgc2NoZW1hKCl7cmV0dXJue2dyb3VwOiJibG9jayIsY29udGVudDoidG9kb19pdGVtKyIsdG9ET006KCk9PlsidWwiLHsiZGF0YS10eXBlIjp0aGlzLm5hbWV9LDBdLHBhcnNlRE9NOlt7cHJpb3JpdHk6NTEsdGFnOmBbZGF0YS10eXBlPSIke3RoaXMubmFtZX0iXWB9XX19Y29tbWFuZHMoe3R5cGU6dCxzY2hlbWE6ZX0pe3JldHVybigpPT5fYSh0LGUubm9kZXMudG9kb19pdGVtKX1pbnB1dFJ1bGVzKHt0eXBlOnR9KXtyZXR1cm5bUXMoL15ccyooXFsgXF0pXHMkLyx0KV19fWNsYXNzIGxoIGV4dGVuZHMgTGF7Z2V0IG5hbWUoKXtyZXR1cm4iYm9sZCJ9Z2V0IHNjaGVtYSgpe3JldHVybntwYXJzZURPTTpbe3RhZzoic3Ryb25nIn0se3RhZzoiYiIsZ2V0QXR0cnM6dD0+Im5vcm1hbCIhPT10LnN0eWxlLmZvbnRXZWlnaHQmJm51bGx9LHtzdHlsZToiZm9udC13ZWlnaHQiLGdldEF0dHJzOnQ9Pi9eKGJvbGQoZXIpP3xbNS05XVxkezIsfSkkLy50ZXN0KHQpJiZudWxsfV0sdG9ET006KCk9Plsic3Ryb25nIiwwXX19a2V5cyh7dHlwZTp0fSl7cmV0dXJueyJNb2QtYiI6QnModCl9fWNvbW1hbmRzKHt0eXBlOnR9KXtyZXR1cm4oKT0+QnModCl9aW5wdXRSdWxlcyh7dHlwZTp0fSl7cmV0dXJuW0NhKC8oPzpcKlwqfF9fKShbXipfXSspKD86XCpcKnxfXykkLyx0KV19cGFzdGVSdWxlcyh7dHlwZTp0fSl7cmV0dXJuW09hKC8oPzpcKlwqfF9fKShbXipfXSspKD86XCpcKnxfXykvZyx0KV19fWNsYXNzIHVoIGV4dGVuZHMgTGF7Z2V0IG5hbWUoKXtyZXR1cm4iY29kZSJ9Z2V0IHNjaGVtYSgpe3JldHVybntleGNsdWRlczoiXyIscGFyc2VET006W3t0YWc6ImNvZGUifV0sdG9ET006KCk9PlsiY29kZSIsMF19fWtleXMoe3R5cGU6dH0pe3JldHVybnsiTW9kLWAiOkJzKHQpfX1jb21tYW5kcyh7dHlwZTp0fSl7cmV0dXJuKCk9PkJzKHQpfWlucHV0UnVsZXMoe3R5cGU6dH0pe3JldHVybltDYSgvKD86YCkoW15gXSspKD86YCkkLyx0KV19cGFzdGVSdWxlcyh7dHlwZTp0fSl7cmV0dXJuW09hKC8oPzpgKShbXmBdKykoPzpgKS9nLHQpXX19Y2xhc3MgcGggZXh0ZW5kcyBMYXtnZXQgbmFtZSgpe3JldHVybiJpdGFsaWMifWdldCBzY2hlbWEoKXtyZXR1cm57cGFyc2VET006W3t0YWc6ImkifSx7dGFnOiJlbSJ9LHtzdHlsZToiZm9udC1zdHlsZT1pdGFsaWMifV0sdG9ET006KCk9PlsiZW0iLDBdfX1rZXlzKHt0eXBlOnR9KXtyZXR1cm57Ik1vZC1pIjpCcyh0KX19Y29tbWFuZHMoe3R5cGU6dH0pe3JldHVybigpPT5Ccyh0KX1pbnB1dFJ1bGVzKHt0eXBlOnR9KXtyZXR1cm5bQ2EoLyg/Ol58W15fXSkoXyhbXl9dKylfKSQvLHQpLENhKC8oPzpefFteKl0pKFwqKFteKl0rKVwqKSQvLHQpXX1wYXN0ZVJ1bGVzKHt0eXBlOnR9KXtyZXR1cm5bT2EoL18oW15fXSspXy9nLHQpLE9hKC9cKihbXipdKylcKi9nLHQpXX19Y2xhc3MgaGggZXh0ZW5kcyBMYXtnZXQgbmFtZSgpe3JldHVybiJsaW5rIn1nZXQgZGVmYXVsdE9wdGlvbnMoKXtyZXR1cm57b3Blbk9uQ2xpY2s6ITAsdGFyZ2V0Om51bGx9fWdldCBzY2hlbWEoKXtyZXR1cm57YXR0cnM6e2hyZWY6e2RlZmF1bHQ6bnVsbH0sdGFyZ2V0OntkZWZhdWx0Om51bGx9fSxpbmNsdXNpdmU6ITEscGFyc2VET006W3t0YWc6ImFbaHJlZl0iLGdldEF0dHJzOnQ9Pih7aHJlZjp0LmdldEF0dHJpYnV0ZSgiaHJlZiIpLHRhcmdldDp0LmdldEF0dHJpYnV0ZSgidGFyZ2V0Iil9KX1dLHRvRE9NOnQ9PlsiYSIsey4uLnQuYXR0cnMscmVsOiJub29wZW5lciBub3JlZmVycmVyIG5vZm9sbG93Iix0YXJnZXQ6dC5hdHRycy50YXJnZXR8fHRoaXMub3B0aW9ucy50YXJnZXR9LDBdfX1jb21tYW5kcyh7dHlwZTp0fSl7cmV0dXJuIGU9PmUuaHJlZj96YSh0LGUpOkFhKHQpfXBhc3RlUnVsZXMoe3R5cGU6dH0pe3JldHVybltNYSgvaHR0cHM/OlwvXC8od3d3XC4pP1stYS16QS1aMC05QDolLl8rfiM9XXsxLDI1Nn1cLlthLXpBLVpdezIsfVxiKFstYS16QS1aMC05QDolXysufiM/Ji8vPSwoKSFdKikvZ2ksdCwodD0+KHtocmVmOnR9KSkpXX1nZXQgcGx1Z2lucygpe3JldHVybiB0aGlzLm9wdGlvbnMub3Blbk9uQ2xpY2s/W25ldyBYZSh7cHJvcHM6e2hhbmRsZUNsaWNrOih0LGUsbik9Pntjb25zdHtzY2hlbWE6cn09dC5zdGF0ZSxvPWxhKHQuc3RhdGUsci5tYXJrcy5saW5rKTtvLmhyZWYmJm4udGFyZ2V0IGluc3RhbmNlb2YgSFRNTEFuY2hvckVsZW1lbnQmJihuLnN0b3BQcm9wYWdhdGlvbigpLHdpbmRvdy5vcGVuKG8uaHJlZixvLnRhcmdldCkpfX19KV06W119fWNsYXNzIGZoIGV4dGVuZHMgTGF7Z2V0IG5hbWUoKXtyZXR1cm4ic3RyaWtlIn1nZXQgc2NoZW1hKCl7cmV0dXJue3BhcnNlRE9NOlt7dGFnOiJzIn0se3RhZzoiZGVsIn0se3RhZzoic3RyaWtlIn0se3N0eWxlOiJ0ZXh0LWRlY29yYXRpb24iLGdldEF0dHJzOnQ9PiJsaW5lLXRocm91Z2giPT09dH1dLHRvRE9NOigpPT5bInMiLDBdfX1rZXlzKHt0eXBlOnR9KXtyZXR1cm57Ik1vZC1kIjpCcyh0KX19Y29tbWFuZHMoe3R5cGU6dH0pe3JldHVybigpPT5Ccyh0KX1pbnB1dFJ1bGVzKHt0eXBlOnR9KXtyZXR1cm5bQ2EoL34oW15+XSspfiQvLHQpXX1wYXN0ZVJ1bGVzKHt0eXBlOnR9KXtyZXR1cm5bT2EoL34oW15+XSspfi9nLHQpXX19Y2xhc3MgZGggZXh0ZW5kcyBMYXtnZXQgbmFtZSgpe3JldHVybiJ1bmRlcmxpbmUifWdldCBzY2hlbWEoKXtyZXR1cm57cGFyc2VET006W3t0YWc6InUifSx7c3R5bGU6InRleHQtZGVjb3JhdGlvbiIsZ2V0QXR0cnM6dD0+InVuZGVybGluZSI9PT10fV0sdG9ET006KCk9PlsidSIsMF19fWtleXMoe3R5cGU6dH0pe3JldHVybnsiTW9kLXUiOkJzKHQpfX1jb21tYW5kcyh7dHlwZTp0fSl7cmV0dXJuKCk9PkJzKHQpfX1jbGFzcyBtaCBleHRlbmRzIEJhe2dldCBuYW1lKCl7cmV0dXJuImhpc3RvcnkifWdldCBkZWZhdWx0T3B0aW9ucygpe3JldHVybntkZXB0aDoiIixuZXdHcm91cERlbGF5OiIifX1rZXlzKCl7Y29uc3QgdD17Ik1vZC16IjpXcCwiTW9kLXkiOnFwLCJTaGlmdC1Nb2QteiI6cXAsIk1vZC3RjyI6V3AsIlNoaWZ0LU1vZC3RjyI6cXB9O3JldHVybiB0fWdldCBwbHVnaW5zKCl7cmV0dXJuW0pwKHtkZXB0aDp0aGlzLm9wdGlvbnMuZGVwdGgsbmV3R3JvdXBEZWxheTp0aGlzLm9wdGlvbnMubmV3R3JvdXBEZWxheX0pXX1jb21tYW5kcygpe3JldHVybnt1bmRvOigpPT5XcCxyZWRvOigpPT5xcCx1bmRvRGVwdGg6KCk9PktwLHJlZG9EZXB0aDooKT0+VXB9fX1mdW5jdGlvbiB2aCgpe3JldHVybltuZXcgR3AsbmV3IFhwLG5ldyBZcCxuZXcgWnAsbmV3IFFwLG5ldyB0aCxuZXcgZWgsbmV3IGFoLG5ldyBjaCxuZXcgaGgsbmV3IHJoKHtyZXNpemFibGU6ITB9KSxuZXcgb2gsbmV3IGloLG5ldyBzaCxuZXcgbGgsbmV3IHVoLG5ldyBwaCxuZXcgZmgsbmV3IGRoLG5ldyBtaF19dmFyIGdoPXtpbmplY3Q6WyJjb3JlIl0sY29tcG9uZW50czp7RWRpdG9yQ29udGVudDpHYSxFZGl0b3JNZW51QmFyOlphLEljb246QWx9LHByb3BzOntmaWVsZE5hbWU6U3RyaW5nLHZhbHVlOlN0cmluZ30sbW91bnRlZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuJHByb3BzLGU9dC52YWx1ZSxuPXQuZmllbGROYW1lO3RoaXMuY29yZS5zZXRGb3JtVmFsdWUobixlKX0sZGF0YTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10LiRwcm9wcy5maWVsZE5hbWU7cmV0dXJue2VkaXRvcjpuZXcgVWEoe2NvbnRlbnQ6dGhpcy4kcHJvcHMudmFsdWUsZXh0ZW5zaW9uczp2aCgpLG9uVXBkYXRlOmZ1bmN0aW9uKG4pe3ZhciByPW4uZ2V0SFRNTCxvPXIoKTtlJiYwIT1lLmxlbmd0aCYmdC5jb3JlLnNldEZvcm1WYWx1ZShlLG8pfX0pfX0sYmVmb3JlRGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWRpdG9yLmRlc3Ryb3koKX19LHloPWdoLHdoPVNsKHloLG8saSwhMSxudWxsLG51bGwsbnVsbCksYmg9d2guZXhwb3J0czsod2luZG93Ll9fZ29wbGFpZFZ1ZUNvbXBvbmVudFJlZ2lzdGVycz13aW5kb3cuX19nb3BsYWlkVnVlQ29tcG9uZW50UmVnaXN0ZXJzfHxbXSkucHVzaCgoZnVuY3Rpb24odCl7dC5jb21wb25lbnQoInRpcHRhcC1lZGl0b3IiLGJoKX0pKX0oKSxvPW8uZGVmYXVsdCxvfSgpfSkpOw==\"")
}
