// Code generated by github.com/gobuffalo/packr. DO NOT EDIT.

package tiptap

import "github.com/gobuffalo/packr"

// You can use the "packr clean" command to clean up this,
// and any other packr generated files.
func init() {
	_ = packr.PackJSONBytes("./tiptapjs/dist/", "tiptap.css", "\"LnRpcHRhcC1lZGl0b3J7cG9zaXRpb246cmVsYXRpdmV9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnR7b3ZlcmZsb3ctd3JhcDpicmVhay13b3JkO3dvcmQtd3JhcDpicmVhay13b3JkO3dvcmQtYnJlYWs6YnJlYWstd29yZH0udGlwdGFwLWVkaXRvcl9fY29udGVudCAqe2NhcmV0LWNvbG9yOmN1cnJlbnRDb2xvcn0udGlwdGFwLWVkaXRvcl9fY29udGVudCBibG9ja3F1b3RlLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgxLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgyLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgzLC50aXB0YXAtZWRpdG9yX19jb250ZW50IG9sLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHAsLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgcHJlLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHVse21hcmdpbjoxcmVtIDB9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgYmxvY2txdW90ZTpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBoMTpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBoMjpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBoMzpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBvbDpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBwOmZpcnN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHByZTpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCB1bDpmaXJzdC1jaGlsZHttYXJnaW4tdG9wOjB9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgYmxvY2txdW90ZTpsYXN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgxOmxhc3QtY2hpbGQsLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgaDI6bGFzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBoMzpsYXN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IG9sOmxhc3QtY2hpbGQsLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgcDpsYXN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHByZTpsYXN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHVsOmxhc3QtY2hpbGR7bWFyZ2luLWJvdHRvbTowfS50aXB0YXAtZWRpdG9yX19jb250ZW50IGgxLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgyLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgze2xpbmUtaGVpZ2h0OjEuM30udGlwdGFwLWVkaXRvcl9fY29udGVudCBwcmV7cGFkZGluZzouN3JlbSAxcmVtO2JvcmRlci1yYWRpdXM6NXB4O2JhY2tncm91bmQ6IzAwMDtjb2xvcjojZmZmO2ZvbnQtc2l6ZTouOHJlbTtvdmVyZmxvdy14OmF1dG99LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgcHJlIGNvZGV7ZGlzcGxheTpibG9ja30udGlwdGFwLWVkaXRvcl9fY29udGVudCBwIGNvZGV7ZGlzcGxheTppbmxpbmUtYmxvY2s7cGFkZGluZzowIC40cmVtO2JvcmRlci1yYWRpdXM6NXB4O2ZvbnQtc2l6ZTouOHJlbTtmb250LXdlaWdodDo3MDA7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4xKTtjb2xvcjpyZ2JhKDAsMCwwLC44KX0udGlwdGFwLWVkaXRvcl9fY29udGVudCBvbCwudGlwdGFwLWVkaXRvcl9fY29udGVudCB1bHtwYWRkaW5nLWxlZnQ6MXJlbX0udGlwdGFwLWVkaXRvcl9fY29udGVudCBsaT5vbCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBsaT5wLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGxpPnVse21hcmdpbjowfS50aXB0YXAtZWRpdG9yX19jb250ZW50IGF7Y29sb3I6aW5oZXJpdH0udGlwdGFwLWVkaXRvcl9fY29udGVudCBibG9ja3F1b3Rle2JvcmRlci1sZWZ0OjNweCBzb2xpZCByZ2JhKDAsMCwwLC4xKTtjb2xvcjpyZ2JhKDAsMCwwLC44KTtwYWRkaW5nLWxlZnQ6LjhyZW07Zm9udC1zdHlsZTppdGFsaWN9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgYmxvY2txdW90ZSBwe21hcmdpbjowfS50aXB0YXAtZWRpdG9yX19jb250ZW50IGltZ3ttYXgtd2lkdGg6MTAwJTtib3JkZXItcmFkaXVzOjNweH0udGlwdGFwLWVkaXRvcl9fY29udGVudCB0YWJsZXtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7dGFibGUtbGF5b3V0OmZpeGVkO3dpZHRoOjEwMCU7bWFyZ2luOjA7b3ZlcmZsb3c6aGlkZGVufS50aXB0YXAtZWRpdG9yX19jb250ZW50IHRhYmxlIHRkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHRhYmxlIHRoe21pbi13aWR0aDoxZW07Ym9yZGVyOjJweCBzb2xpZCAjZGRkO3BhZGRpbmc6M3B4IDVweDt2ZXJ0aWNhbC1hbGlnbjp0b3A7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlfS50aXB0YXAtZWRpdG9yX19jb250ZW50IHRhYmxlIHRkPiosLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgdGFibGUgdGg+KnttYXJnaW4tYm90dG9tOjB9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgdGFibGUgdGh7Zm9udC13ZWlnaHQ6NzAwO3RleHQtYWxpZ246bGVmdH0udGlwdGFwLWVkaXRvcl9fY29udGVudCB0YWJsZSAuc2VsZWN0ZWRDZWxsOmFmdGVye3otaW5kZXg6Mjtwb3NpdGlvbjphYnNvbHV0ZTtjb250ZW50OiIiO2xlZnQ6MDtyaWdodDowO3RvcDowO2JvdHRvbTowO2JhY2tncm91bmQ6cmdiYSgyMDAsMjAwLDI1NSwuNCk7cG9pbnRlci1ldmVudHM6bm9uZX0udGlwdGFwLWVkaXRvcl9fY29udGVudCB0YWJsZSAuY29sdW1uLXJlc2l6ZS1oYW5kbGV7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6LTJweDt0b3A6MDtib3R0b206MDt3aWR0aDo0cHg7ei1pbmRleDoyMDtiYWNrZ3JvdW5kLWNvbG9yOiNhZGY7cG9pbnRlci1ldmVudHM6bm9uZX0udGlwdGFwLWVkaXRvcl9fY29udGVudCAudGFibGVXcmFwcGVye21hcmdpbjoxZW0gMDtvdmVyZmxvdy14OmF1dG99LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgLnJlc2l6ZS1jdXJzb3J7Y3Vyc29yOmV3LXJlc2l6ZTtjdXJzb3I6Y29sLXJlc2l6ZX0ubWVudWJhcnttYXJnaW4tYm90dG9tOjFyZW07LXdlYmtpdC10cmFuc2l0aW9uOnZpc2liaWxpdHkgLjJzIC40cyxvcGFjaXR5IC4ycyAuNHM7dHJhbnNpdGlvbjp2aXNpYmlsaXR5IC4ycyAuNHMsb3BhY2l0eSAuMnMgLjRzfS5tZW51YmFyLmlzLWhpZGRlbnt2aXNpYmlsaXR5OmhpZGRlbjtvcGFjaXR5OjB9Lm1lbnViYXIuaXMtZm9jdXNlZHt2aXNpYmlsaXR5OnZpc2libGU7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNpdGlvbjp2aXNpYmlsaXR5IC4ycyxvcGFjaXR5IC4yczt0cmFuc2l0aW9uOnZpc2liaWxpdHkgLjJzLG9wYWNpdHkgLjJzfS5tZW51YmFyX19idXR0b257Zm9udC13ZWlnaHQ6NzAwO2Rpc3BsYXk6LXdlYmtpdC1pbmxpbmUtYm94O2Rpc3BsYXk6LW1zLWlubGluZS1mbGV4Ym94O2Rpc3BsYXk6aW5saW5lLWZsZXg7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtib3JkZXI6MDtjb2xvcjojMDAwO3BhZGRpbmc6LjJyZW0gLjVyZW07bWFyZ2luLXJpZ2h0Oi4ycmVtO2JvcmRlci1yYWRpdXM6M3B4O2N1cnNvcjpwb2ludGVyfS5tZW51YmFyX19idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4wNSl9Lm1lbnViYXJfX2J1dHRvbi5pcy1hY3RpdmV7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4xKX0ubWVudWJhciBzcGFuLm1lbnViYXJfX2J1dHRvbntmb250LXNpemU6MTMuMzMzM3B4fS5tZW51YnViYmxle3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7ei1pbmRleDoyMDtiYWNrZ3JvdW5kOiMwMDA7Ym9yZGVyLXJhZGl1czo1cHg7cGFkZGluZzouM3JlbTttYXJnaW4tYm90dG9tOi41cmVtOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7dmlzaWJpbGl0eTpoaWRkZW47b3BhY2l0eTowOy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC4ycyx2aXNpYmlsaXR5IC4yczt0cmFuc2l0aW9uOm9wYWNpdHkgLjJzLHZpc2liaWxpdHkgLjJzfS5tZW51YnViYmxlLmlzLWFjdGl2ZXtvcGFjaXR5OjE7dmlzaWJpbGl0eTp2aXNpYmxlfS5tZW51YnViYmxlX19idXR0b257ZGlzcGxheTotd2Via2l0LWlubGluZS1ib3g7ZGlzcGxheTotbXMtaW5saW5lLWZsZXhib3g7ZGlzcGxheTppbmxpbmUtZmxleDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JvcmRlcjowO2NvbG9yOiNmZmY7cGFkZGluZzouMnJlbSAuNXJlbTttYXJnaW4tcmlnaHQ6LjJyZW07Ym9yZGVyLXJhZGl1czozcHg7Y3Vyc29yOnBvaW50ZXJ9Lm1lbnVidWJibGVfX2J1dHRvbjpsYXN0LWNoaWxke21hcmdpbi1yaWdodDowfS5tZW51YnViYmxlX19idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpoc2xhKDAsMCUsMTAwJSwuMSl9Lm1lbnVidWJibGVfX2J1dHRvbi5pcy1hY3RpdmV7YmFja2dyb3VuZC1jb2xvcjpoc2xhKDAsMCUsMTAwJSwuMil9Lm1lbnVidWJibGVfX2Zvcm17ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn0ubWVudWJ1YmJsZV9faW5wdXR7Zm9udDppbmhlcml0O2JvcmRlcjpub25lO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Y29sb3I6I2ZmZn0uaWNvbltkYXRhLXYtZTU5Zjc4MzJde3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTt3aWR0aDouOHJlbTtoZWlnaHQ6LjhyZW07bWFyZ2luOjAgLjNyZW07dG9wOi4wNXJlbTtmaWxsOmN1cnJlbnRDb2xvcn0uaWNvbiBzdmdbZGF0YS12LWU1OWY3ODMyXXtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjp0b3A7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0uaWNvbltkYXRhLXYtZTU5Zjc4MzJdOmZpcnN0LWNoaWxke21hcmdpbi1sZWZ0OjB9Lmljb25bZGF0YS12LWU1OWY3ODMyXTpsYXN0LWNoaWxke21hcmdpbi1yaWdodDowfQ==\"")
	_ = packr.PackJSONBytes("./tiptapjs/dist/", "tiptap.umd.min.js", "\"KGZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PT10eXBlb2YgZXhwb3J0cyYmIm9iamVjdCI9PT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUocmVxdWlyZSgiVnVlIikpOiJmdW5jdGlvbiI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbIlZ1ZSJdLGUpOiJvYmplY3QiPT09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0c1sidGlwdGFwIl09ZShyZXF1aXJlKCJWdWUiKSk6dFsidGlwdGFwIl09ZSh0WyJWdWUiXSl9KSgidW5kZWZpbmVkIiE9PXR5cGVvZiBzZWxmP3NlbGY6dGhpcywoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4ocil7aWYoZVtyXSlyZXR1cm4gZVtyXS5leHBvcnRzO3ZhciBvPWVbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W3JdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLG4pLG8ubD0hMCxvLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUscil7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5yPWZ1bmN0aW9uKHQpeyJ1bmRlZmluZWQiIT09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOiJNb2R1bGUifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24odCxlKXtpZigxJmUmJih0PW4odCkpLDgmZSlyZXR1cm4gdDtpZig0JmUmJiJvYmplY3QiPT09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkociwiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImZSYmInN0cmluZyIhPXR5cGVvZiB0KWZvcih2YXIgbyBpbiB0KW4uZChyLG8sZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19LmJpbmQobnVsbCxvKSk7cmV0dXJuIHJ9LG4ubj1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdFsiZGVmYXVsdCJdfTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gbi5kKGUsImEiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPSIiLG4obi5zPSJmYWUzIil9KHsiMDBlZSI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImI2MjIiKSxvPXIoInRvU3RyaW5nVGFnIiksaT17fTtpW29dPSJ6Iix0LmV4cG9ydHM9IltvYmplY3Qgel0iPT09U3RyaW5nKGkpfSwiMDU3ZiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImZjNmEiKSxvPW4oIjI0MWMiKS5mLGk9e30udG9TdHJpbmcscz0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdLGE9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBvKHQpfWNhdGNoKGUpe3JldHVybiBzLnNsaWNlKCl9fTt0LmV4cG9ydHMuZj1mdW5jdGlvbih0KXtyZXR1cm4gcyYmIltvYmplY3QgV2luZG93XSI9PWkuY2FsbCh0KT9hKHQpOm8ocih0KSl9fSwiMDZjZiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjgzYWIiKSxvPW4oImQxZTciKSxpPW4oIjVjNmMiKSxzPW4oImZjNmEiKSxhPW4oImMwNGUiKSxjPW4oIjUxMzUiKSxsPW4oIjBjZmIiKSx1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7ZS5mPXI/dTpmdW5jdGlvbih0LGUpe2lmKHQ9cyh0KSxlPWEoZSwhMCksbCl0cnl7cmV0dXJuIHUodCxlKX1jYXRjaChuKXt9aWYoYyh0LGUpKXJldHVybiBpKCFvLmYuY2FsbCh0LGUpLHRbZV0pfX0sIjA3M2UiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiNWRiZSIpLG89aShFcnJvcik7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gZS5kaXNwbGF5TmFtZT10LmRpc3BsYXlOYW1lfHx0Lm5hbWUsZTtmdW5jdGlvbiBlKGUpe3JldHVybiBlJiYoZT1yLmFwcGx5KG51bGwsYXJndW1lbnRzKSksbmV3IHQoZSl9fXQuZXhwb3J0cz1vLG8uZXZhbD1pKEV2YWxFcnJvciksby5yYW5nZT1pKFJhbmdlRXJyb3IpLG8ucmVmZXJlbmNlPWkoUmVmZXJlbmNlRXJyb3IpLG8uc3ludGF4PWkoU3ludGF4RXJyb3IpLG8udHlwZT1pKFR5cGVFcnJvciksby51cmk9aShVUklFcnJvciksby5jcmVhdGU9aX0sIjBhYzAiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBwfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHd9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLG4uZChlLCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gQX0pKSxuLmQoZSwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIER9KSksbi5kKGUsImciLChmdW5jdGlvbigpe3JldHVybiBQfSkpLG4uZChlLCJoIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ30pKSxuLmQoZSwiaSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ9KSksbi5kKGUsImoiLChmdW5jdGlvbigpe3JldHVybiB4fSkpO3ZhciByPW4oIjMwNGEiKSxvPTY1NTM1LGk9TWF0aC5wb3coMiwxNik7ZnVuY3Rpb24gcyh0LGUpe3JldHVybiB0K2UqaX1mdW5jdGlvbiBhKHQpe3JldHVybiB0Jm99ZnVuY3Rpb24gYyh0KXtyZXR1cm4odC0odCZvKSkvaX12YXIgbD1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9ITEpLHZvaWQgMD09PW4mJihuPW51bGwpLHRoaXMucG9zPXQsdGhpcy5kZWxldGVkPWUsdGhpcy5yZWNvdmVyPW59LHU9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0hMSksdGhpcy5yYW5nZXM9dCx0aGlzLmludmVydGVkPWV9O3UucHJvdG90eXBlLnJlY292ZXI9ZnVuY3Rpb24odCl7dmFyIGU9MCxuPWEodCk7aWYoIXRoaXMuaW52ZXJ0ZWQpZm9yKHZhciByPTA7cjxuO3IrKyllKz10aGlzLnJhbmdlc1szKnIrMl0tdGhpcy5yYW5nZXNbMypyKzFdO3JldHVybiB0aGlzLnJhbmdlc1szKm5dK2UrYyh0KX0sdS5wcm90b3R5cGUubWFwUmVzdWx0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTEpLHRoaXMuX21hcCh0LGUsITEpfSx1LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MSksdGhpcy5fbWFwKHQsZSwhMCl9LHUucHJvdG90eXBlLl9tYXA9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj0wLG89dGhpcy5pbnZlcnRlZD8yOjEsaT10aGlzLmludmVydGVkPzE6MixhPTA7YTx0aGlzLnJhbmdlcy5sZW5ndGg7YSs9Myl7dmFyIGM9dGhpcy5yYW5nZXNbYV0tKHRoaXMuaW52ZXJ0ZWQ/cjowKTtpZihjPnQpYnJlYWs7dmFyIHU9dGhpcy5yYW5nZXNbYStvXSxwPXRoaXMucmFuZ2VzW2EraV0sZj1jK3U7aWYodDw9Zil7dmFyIGQ9dT90PT1jPy0xOnQ9PWY/MTplOmUsaD1jK3IrKGQ8MD8wOnApO2lmKG4pcmV0dXJuIGg7dmFyIHY9cyhhLzMsdC1jKTtyZXR1cm4gbmV3IGwoaCxlPDA/dCE9Yzp0IT1mLHYpfXIrPXAtdX1yZXR1cm4gbj90K3I6bmV3IGwodCtyKX0sdS5wcm90b3R5cGUudG91Y2hlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wLHI9YShlKSxvPXRoaXMuaW52ZXJ0ZWQ/MjoxLGk9dGhpcy5pbnZlcnRlZD8xOjIscz0wO3M8dGhpcy5yYW5nZXMubGVuZ3RoO3MrPTMpe3ZhciBjPXRoaXMucmFuZ2VzW3NdLSh0aGlzLmludmVydGVkP246MCk7aWYoYz50KWJyZWFrO3ZhciBsPXRoaXMucmFuZ2VzW3Mrb10sdT1jK2w7aWYodDw9dSYmcz09MypyKXJldHVybiEwO24rPXRoaXMucmFuZ2VzW3MraV0tbH1yZXR1cm4hMX0sdS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5pbnZlcnRlZD8yOjEsbj10aGlzLmludmVydGVkPzE6MixyPTAsbz0wO3I8dGhpcy5yYW5nZXMubGVuZ3RoO3IrPTMpe3ZhciBpPXRoaXMucmFuZ2VzW3JdLHM9aS0odGhpcy5pbnZlcnRlZD9vOjApLGE9aSsodGhpcy5pbnZlcnRlZD8wOm8pLGM9dGhpcy5yYW5nZXNbcitlXSxsPXRoaXMucmFuZ2VzW3Irbl07dChzLHMrYyxhLGErbCksbys9bC1jfX0sdS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1KHRoaXMucmFuZ2VzLCF0aGlzLmludmVydGVkKX0sdS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5pbnZlcnRlZD8iLSI6IiIpK0pTT04uc3RyaW5naWZ5KHRoaXMucmFuZ2VzKX0sdS5vZmZzZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIDA9PXQ/dS5lbXB0eTpuZXcgdSh0PDA/WzAsLXQsMF06WzAsMCx0XSl9LHUuZW1wdHk9bmV3IHUoW10pO3ZhciBwPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMubWFwcz10fHxbXSx0aGlzLmZyb209bnx8MCx0aGlzLnRvPW51bGw9PXI/dGhpcy5tYXBzLmxlbmd0aDpyLHRoaXMubWlycm9yPWV9O2Z1bmN0aW9uIGYodCl7dmFyIGU9RXJyb3IuY2FsbCh0aGlzLHQpO3JldHVybiBlLl9fcHJvdG9fXz1mLnByb3RvdHlwZSxlfXAucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPXRoaXMubWFwcy5sZW5ndGgpLG5ldyBwKHRoaXMubWFwcyx0aGlzLm1pcnJvcix0LGUpfSxwLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBwKHRoaXMubWFwcy5zbGljZSgpLHRoaXMubWlycm9yJiZ0aGlzLm1pcnJvci5zbGljZSgpLHRoaXMuZnJvbSx0aGlzLnRvKX0scC5wcm90b3R5cGUuYXBwZW5kTWFwPWZ1bmN0aW9uKHQsZSl7dGhpcy50bz10aGlzLm1hcHMucHVzaCh0KSxudWxsIT1lJiZ0aGlzLnNldE1pcnJvcih0aGlzLm1hcHMubGVuZ3RoLTEsZSl9LHAucHJvdG90eXBlLmFwcGVuZE1hcHBpbmc9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLm1hcHMubGVuZ3RoO2U8dC5tYXBzLmxlbmd0aDtlKyspe3ZhciByPXQuZ2V0TWlycm9yKGUpO3RoaXMuYXBwZW5kTWFwKHQubWFwc1tlXSxudWxsIT1yJiZyPGU/bityOm51bGwpfX0scC5wcm90b3R5cGUuZ2V0TWlycm9yPWZ1bmN0aW9uKHQpe2lmKHRoaXMubWlycm9yKWZvcih2YXIgZT0wO2U8dGhpcy5taXJyb3IubGVuZ3RoO2UrKylpZih0aGlzLm1pcnJvcltlXT09dClyZXR1cm4gdGhpcy5taXJyb3JbZSsoZSUyPy0xOjEpXX0scC5wcm90b3R5cGUuc2V0TWlycm9yPWZ1bmN0aW9uKHQsZSl7dGhpcy5taXJyb3J8fCh0aGlzLm1pcnJvcj1bXSksdGhpcy5taXJyb3IucHVzaCh0LGUpfSxwLnByb3RvdHlwZS5hcHBlbmRNYXBwaW5nSW52ZXJ0ZWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQubWFwcy5sZW5ndGgtMSxuPXRoaXMubWFwcy5sZW5ndGgrdC5tYXBzLmxlbmd0aDtlPj0wO2UtLSl7dmFyIHI9dC5nZXRNaXJyb3IoZSk7dGhpcy5hcHBlbmRNYXAodC5tYXBzW2VdLmludmVydCgpLG51bGwhPXImJnI+ZT9uLXItMTpudWxsKX19LHAucHJvdG90eXBlLmludmVydD1mdW5jdGlvbigpe3ZhciB0PW5ldyBwO3JldHVybiB0LmFwcGVuZE1hcHBpbmdJbnZlcnRlZCh0aGlzKSx0fSxwLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT0xKSx0aGlzLm1pcnJvcilyZXR1cm4gdGhpcy5fbWFwKHQsZSwhMCk7Zm9yKHZhciBuPXRoaXMuZnJvbTtuPHRoaXMudG87bisrKXQ9dGhpcy5tYXBzW25dLm1hcCh0LGUpO3JldHVybiB0fSxwLnByb3RvdHlwZS5tYXBSZXN1bHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MSksdGhpcy5fbWFwKHQsZSwhMSl9LHAucHJvdG90eXBlLl9tYXA9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj0hMSxvPW51bGwsaT10aGlzLmZyb207aTx0aGlzLnRvO2krKyl7dmFyIHM9dGhpcy5tYXBzW2ldLGE9byYmb1tpXTtpZihudWxsIT1hJiZzLnRvdWNoZXModCxhKSl0PXMucmVjb3ZlcihhKTtlbHNle3ZhciBjPXMubWFwUmVzdWx0KHQsZSk7aWYobnVsbCE9Yy5yZWNvdmVyKXt2YXIgdT10aGlzLmdldE1pcnJvcihpKTtpZihudWxsIT11JiZ1PmkmJnU8dGhpcy50byl7aWYoYy5kZWxldGVkKXtpPXUsdD10aGlzLm1hcHNbdV0ucmVjb3ZlcihjLnJlY292ZXIpO2NvbnRpbnVlfShvfHwobz1PYmplY3QuY3JlYXRlKG51bGwpKSlbdV09Yy5yZWNvdmVyfX1jLmRlbGV0ZWQmJihyPSEwKSx0PWMucG9zfX1yZXR1cm4gbj90Om5ldyBsKHQscil9LGYucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSxmLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1mLGYucHJvdG90eXBlLm5hbWU9IlRyYW5zZm9ybUVycm9yIjt2YXIgZD1mdW5jdGlvbih0KXt0aGlzLmRvYz10LHRoaXMuc3RlcHM9W10sdGhpcy5kb2NzPVtdLHRoaXMubWFwcGluZz1uZXcgcH0saD17YmVmb3JlOntjb25maWd1cmFibGU6ITB9LGRvY0NoYW5nZWQ6e2NvbmZpZ3VyYWJsZTohMH19O2Z1bmN0aW9uIHYoKXt0aHJvdyBuZXcgRXJyb3IoIk92ZXJyaWRlIG1lIil9aC5iZWZvcmUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jcy5sZW5ndGg/dGhpcy5kb2NzWzBdOnRoaXMuZG9jfSxkLnByb3RvdHlwZS5zdGVwPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubWF5YmVTdGVwKHQpO2lmKGUuZmFpbGVkKXRocm93IG5ldyBmKGUuZmFpbGVkKTtyZXR1cm4gdGhpc30sZC5wcm90b3R5cGUubWF5YmVTdGVwPWZ1bmN0aW9uKHQpe3ZhciBlPXQuYXBwbHkodGhpcy5kb2MpO3JldHVybiBlLmZhaWxlZHx8dGhpcy5hZGRTdGVwKHQsZS5kb2MpLGV9LGguZG9jQ2hhbmdlZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGVwcy5sZW5ndGg+MH0sZC5wcm90b3R5cGUuYWRkU3RlcD1mdW5jdGlvbih0LGUpe3RoaXMuZG9jcy5wdXNoKHRoaXMuZG9jKSx0aGlzLnN0ZXBzLnB1c2godCksdGhpcy5tYXBwaW5nLmFwcGVuZE1hcCh0LmdldE1hcCgpKSx0aGlzLmRvYz1lfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhkLnByb3RvdHlwZSxoKTt2YXIgbT1PYmplY3QuY3JlYXRlKG51bGwpLGc9ZnVuY3Rpb24oKXt9O2cucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQpe3JldHVybiB2KCl9LGcucHJvdG90eXBlLmdldE1hcD1mdW5jdGlvbigpe3JldHVybiB1LmVtcHR5fSxnLnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHYoKX0sZy5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe3JldHVybiB2KCl9LGcucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsfSxnLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdigpfSxnLmZyb21KU09OPWZ1bmN0aW9uKHQsZSl7aWYoIWV8fCFlLnN0ZXBUeXBlKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBTdGVwLmZyb21KU09OIik7dmFyIG49bVtlLnN0ZXBUeXBlXTtpZighbil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiTm8gc3RlcCB0eXBlICIrZS5zdGVwVHlwZSsiIGRlZmluZWQiKTtyZXR1cm4gbi5mcm9tSlNPTih0LGUpfSxnLmpzb25JRD1mdW5jdGlvbih0LGUpe2lmKHQgaW4gbSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRHVwbGljYXRlIHVzZSBvZiBzdGVwIEpTT04gSUQgIit0KTtyZXR1cm4gbVt0XT1lLGUucHJvdG90eXBlLmpzb25JRD10LGV9O3ZhciB5PWZ1bmN0aW9uKHQsZSl7dGhpcy5kb2M9dCx0aGlzLmZhaWxlZD1lfTt5Lm9rPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgeSh0LG51bGwpfSx5LmZhaWw9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB5KG51bGwsdCl9LHkuZnJvbVJlcGxhY2U9ZnVuY3Rpb24odCxlLG4sbyl7dHJ5e3JldHVybiB5Lm9rKHQucmVwbGFjZShlLG4sbykpfWNhdGNoKGkpe2lmKGkgaW5zdGFuY2VvZiByWyJSZXBsYWNlRXJyb3IiXSlyZXR1cm4geS5mYWlsKGkubWVzc2FnZSk7dGhyb3cgaX19O3ZhciB3PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyl7dC5jYWxsKHRoaXMpLHRoaXMuZnJvbT1lLHRoaXMudG89bix0aGlzLnNsaWNlPXIsdGhpcy5zdHJ1Y3R1cmU9ISFvfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdHJ1Y3R1cmUmJlModCx0aGlzLmZyb20sdGhpcy50byk/eS5mYWlsKCJTdHJ1Y3R1cmUgcmVwbGFjZSB3b3VsZCBvdmVyd3JpdGUgY29udGVudCIpOnkuZnJvbVJlcGxhY2UodCx0aGlzLmZyb20sdGhpcy50byx0aGlzLnNsaWNlKX0sZS5wcm90b3R5cGUuZ2V0TWFwPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1KFt0aGlzLmZyb20sdGhpcy50by10aGlzLmZyb20sdGhpcy5zbGljZS5zaXplXSl9LGUucHJvdG90eXBlLmludmVydD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodGhpcy5mcm9tLHRoaXMuZnJvbSt0aGlzLnNsaWNlLnNpemUsdC5zbGljZSh0aGlzLmZyb20sdGhpcy50bykpfSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7dmFyIG49dC5tYXBSZXN1bHQodGhpcy5mcm9tLDEpLHI9dC5tYXBSZXN1bHQodGhpcy50bywtMSk7cmV0dXJuIG4uZGVsZXRlZCYmci5kZWxldGVkP251bGw6bmV3IGUobi5wb3MsTWF0aC5tYXgobi5wb3Msci5wb3MpLHRoaXMuc2xpY2UpfSxlLnByb3RvdHlwZS5tZXJnZT1mdW5jdGlvbih0KXtpZighKHQgaW5zdGFuY2VvZiBlKXx8dC5zdHJ1Y3R1cmUhPXRoaXMuc3RydWN0dXJlKXJldHVybiBudWxsO2lmKHRoaXMuZnJvbSt0aGlzLnNsaWNlLnNpemUhPXQuZnJvbXx8dGhpcy5zbGljZS5vcGVuRW5kfHx0LnNsaWNlLm9wZW5TdGFydCl7aWYodC50byE9dGhpcy5mcm9tfHx0aGlzLnNsaWNlLm9wZW5TdGFydHx8dC5zbGljZS5vcGVuRW5kKXJldHVybiBudWxsO3ZhciBuPXRoaXMuc2xpY2Uuc2l6ZSt0LnNsaWNlLnNpemU9PTA/clsiU2xpY2UiXS5lbXB0eTpuZXcgclsiU2xpY2UiXSh0LnNsaWNlLmNvbnRlbnQuYXBwZW5kKHRoaXMuc2xpY2UuY29udGVudCksdC5zbGljZS5vcGVuU3RhcnQsdGhpcy5zbGljZS5vcGVuRW5kKTtyZXR1cm4gbmV3IGUodC5mcm9tLHRoaXMudG8sbix0aGlzLnN0cnVjdHVyZSl9dmFyIG89dGhpcy5zbGljZS5zaXplK3Quc2xpY2Uuc2l6ZT09MD9yWyJTbGljZSJdLmVtcHR5Om5ldyByWyJTbGljZSJdKHRoaXMuc2xpY2UuY29udGVudC5hcHBlbmQodC5zbGljZS5jb250ZW50KSx0aGlzLnNsaWNlLm9wZW5TdGFydCx0LnNsaWNlLm9wZW5FbmQpO3JldHVybiBuZXcgZSh0aGlzLmZyb20sdGhpcy50bysodC50by10LmZyb20pLG8sdGhpcy5zdHJ1Y3R1cmUpfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgdD17c3RlcFR5cGU6InJlcGxhY2UiLGZyb206dGhpcy5mcm9tLHRvOnRoaXMudG99O3JldHVybiB0aGlzLnNsaWNlLnNpemUmJih0LnNsaWNlPXRoaXMuc2xpY2UudG9KU09OKCkpLHRoaXMuc3RydWN0dXJlJiYodC5zdHJ1Y3R1cmU9ITApLHR9LGUuZnJvbUpTT049ZnVuY3Rpb24odCxuKXtpZigibnVtYmVyIiE9dHlwZW9mIG4uZnJvbXx8Im51bWJlciIhPXR5cGVvZiBuLnRvKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBSZXBsYWNlU3RlcC5mcm9tSlNPTiIpO3JldHVybiBuZXcgZShuLmZyb20sbi50byxyWyJTbGljZSJdLmZyb21KU09OKHQsbi5zbGljZSksISFuLnN0cnVjdHVyZSl9LGV9KGcpO2cuanNvbklEKCJyZXBsYWNlIix3KTt2YXIgYj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8saSxzLGEpe3QuY2FsbCh0aGlzKSx0aGlzLmZyb209ZSx0aGlzLnRvPW4sdGhpcy5nYXBGcm9tPXIsdGhpcy5nYXBUbz1vLHRoaXMuc2xpY2U9aSx0aGlzLmluc2VydD1zLHRoaXMuc3RydWN0dXJlPSEhYX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7aWYodGhpcy5zdHJ1Y3R1cmUmJihTKHQsdGhpcy5mcm9tLHRoaXMuZ2FwRnJvbSl8fFModCx0aGlzLmdhcFRvLHRoaXMudG8pKSlyZXR1cm4geS5mYWlsKCJTdHJ1Y3R1cmUgZ2FwLXJlcGxhY2Ugd291bGQgb3ZlcndyaXRlIGNvbnRlbnQiKTt2YXIgZT10LnNsaWNlKHRoaXMuZ2FwRnJvbSx0aGlzLmdhcFRvKTtpZihlLm9wZW5TdGFydHx8ZS5vcGVuRW5kKXJldHVybiB5LmZhaWwoIkdhcCBpcyBub3QgYSBmbGF0IHJhbmdlIik7dmFyIG49dGhpcy5zbGljZS5pbnNlcnRBdCh0aGlzLmluc2VydCxlLmNvbnRlbnQpO3JldHVybiBuP3kuZnJvbVJlcGxhY2UodCx0aGlzLmZyb20sdGhpcy50byxuKTp5LmZhaWwoIkNvbnRlbnQgZG9lcyBub3QgZml0IGluIGdhcCIpfSxlLnByb3RvdHlwZS5nZXRNYXA9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHUoW3RoaXMuZnJvbSx0aGlzLmdhcEZyb20tdGhpcy5mcm9tLHRoaXMuaW5zZXJ0LHRoaXMuZ2FwVG8sdGhpcy50by10aGlzLmdhcFRvLHRoaXMuc2xpY2Uuc2l6ZS10aGlzLmluc2VydF0pfSxlLnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5nYXBUby10aGlzLmdhcEZyb207cmV0dXJuIG5ldyBlKHRoaXMuZnJvbSx0aGlzLmZyb20rdGhpcy5zbGljZS5zaXplK24sdGhpcy5mcm9tK3RoaXMuaW5zZXJ0LHRoaXMuZnJvbSt0aGlzLmluc2VydCtuLHQuc2xpY2UodGhpcy5mcm9tLHRoaXMudG8pLnJlbW92ZUJldHdlZW4odGhpcy5nYXBGcm9tLXRoaXMuZnJvbSx0aGlzLmdhcFRvLXRoaXMuZnJvbSksdGhpcy5nYXBGcm9tLXRoaXMuZnJvbSx0aGlzLnN0cnVjdHVyZSl9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXt2YXIgbj10Lm1hcFJlc3VsdCh0aGlzLmZyb20sMSkscj10Lm1hcFJlc3VsdCh0aGlzLnRvLC0xKSxvPXQubWFwKHRoaXMuZ2FwRnJvbSwtMSksaT10Lm1hcCh0aGlzLmdhcFRvLDEpO3JldHVybiBuLmRlbGV0ZWQmJnIuZGVsZXRlZHx8bzxuLnBvc3x8aT5yLnBvcz9udWxsOm5ldyBlKG4ucG9zLHIucG9zLG8saSx0aGlzLnNsaWNlLHRoaXMuaW5zZXJ0LHRoaXMuc3RydWN0dXJlKX0sZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIHQ9e3N0ZXBUeXBlOiJyZXBsYWNlQXJvdW5kIixmcm9tOnRoaXMuZnJvbSx0bzp0aGlzLnRvLGdhcEZyb206dGhpcy5nYXBGcm9tLGdhcFRvOnRoaXMuZ2FwVG8saW5zZXJ0OnRoaXMuaW5zZXJ0fTtyZXR1cm4gdGhpcy5zbGljZS5zaXplJiYodC5zbGljZT10aGlzLnNsaWNlLnRvSlNPTigpKSx0aGlzLnN0cnVjdHVyZSYmKHQuc3RydWN0dXJlPSEwKSx0fSxlLmZyb21KU09OPWZ1bmN0aW9uKHQsbil7aWYoIm51bWJlciIhPXR5cGVvZiBuLmZyb218fCJudW1iZXIiIT10eXBlb2Ygbi50b3x8Im51bWJlciIhPXR5cGVvZiBuLmdhcEZyb218fCJudW1iZXIiIT10eXBlb2Ygbi5nYXBUb3x8Im51bWJlciIhPXR5cGVvZiBuLmluc2VydCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgUmVwbGFjZUFyb3VuZFN0ZXAuZnJvbUpTT04iKTtyZXR1cm4gbmV3IGUobi5mcm9tLG4udG8sbi5nYXBGcm9tLG4uZ2FwVG8sclsiU2xpY2UiXS5mcm9tSlNPTih0LG4uc2xpY2UpLG4uaW5zZXJ0LCEhbi5zdHJ1Y3R1cmUpfSxlfShnKTtmdW5jdGlvbiBTKHQsZSxuKXt2YXIgcj10LnJlc29sdmUoZSksbz1uLWUsaT1yLmRlcHRoO3doaWxlKG8+MCYmaT4wJiZyLmluZGV4QWZ0ZXIoaSk9PXIubm9kZShpKS5jaGlsZENvdW50KWktLSxvLS07aWYobz4wKXt2YXIgcz1yLm5vZGUoaSkubWF5YmVDaGlsZChyLmluZGV4QWZ0ZXIoaSkpO3doaWxlKG8+MCl7aWYoIXN8fHMuaXNMZWFmKXJldHVybiEwO3M9cy5maXJzdENoaWxkLG8tLX19cmV0dXJuITF9ZnVuY3Rpb24gayh0LGUsbil7cmV0dXJuKDA9PWV8fHQuY2FuUmVwbGFjZShlLHQuY2hpbGRDb3VudCkpJiYobj09dC5jaGlsZENvdW50fHx0LmNhblJlcGxhY2UoMCxuKSl9ZnVuY3Rpb24geCh0KXtmb3IodmFyIGU9dC5wYXJlbnQsbj1lLmNvbnRlbnQuY3V0QnlJbmRleCh0LnN0YXJ0SW5kZXgsdC5lbmRJbmRleCkscj10LmRlcHRoOzstLXIpe3ZhciBvPXQuJGZyb20ubm9kZShyKSxpPXQuJGZyb20uaW5kZXgocikscz10LiR0by5pbmRleEFmdGVyKHIpO2lmKHI8dC5kZXB0aCYmby5jYW5SZXBsYWNlKGkscyxuKSlyZXR1cm4gcjtpZigwPT1yfHxvLnR5cGUuc3BlYy5pc29sYXRpbmd8fCFrKG8saSxzKSlicmVha319ZnVuY3Rpb24gQyh0LGUsbixyKXt2b2lkIDA9PT1yJiYocj10KTt2YXIgbz1NKHQsZSksaT1vJiZOKHIsZSk7cmV0dXJuIGk/by5tYXAoTykuY29uY2F0KHt0eXBlOmUsYXR0cnM6bn0pLmNvbmNhdChpLm1hcChPKSk6bnVsbH1mdW5jdGlvbiBPKHQpe3JldHVybnt0eXBlOnQsYXR0cnM6bnVsbH19ZnVuY3Rpb24gTSh0LGUpe3ZhciBuPXQucGFyZW50LHI9dC5zdGFydEluZGV4LG89dC5lbmRJbmRleCxpPW4uY29udGVudE1hdGNoQXQocikuZmluZFdyYXBwaW5nKGUpO2lmKCFpKXJldHVybiBudWxsO3ZhciBzPWkubGVuZ3RoP2lbMF06ZTtyZXR1cm4gbi5jYW5SZXBsYWNlV2l0aChyLG8scyk/aTpudWxsfWZ1bmN0aW9uIE4odCxlKXt2YXIgbj10LnBhcmVudCxyPXQuc3RhcnRJbmRleCxvPXQuZW5kSW5kZXgsaT1uLmNoaWxkKHIpLHM9ZS5jb250ZW50TWF0Y2guZmluZFdyYXBwaW5nKGkudHlwZSk7aWYoIXMpcmV0dXJuIG51bGw7Zm9yKHZhciBhPXMubGVuZ3RoP3Nbcy5sZW5ndGgtMV06ZSxjPWEuY29udGVudE1hdGNoLGw9cjtjJiZsPG87bCsrKWM9Yy5tYXRjaFR5cGUobi5jaGlsZChsKS50eXBlKTtyZXR1cm4gYyYmYy52YWxpZEVuZD9zOm51bGx9ZnVuY3Rpb24gVCh0LGUsbil7dmFyIHI9dC5yZXNvbHZlKGUpLG89ci5pbmRleCgpO3JldHVybiByLnBhcmVudC5jYW5SZXBsYWNlV2l0aChvLG8rMSxuKX1mdW5jdGlvbiBEKHQsZSxuLHIpe3ZvaWQgMD09PW4mJihuPTEpO3ZhciBvPXQucmVzb2x2ZShlKSxpPW8uZGVwdGgtbixzPXImJnJbci5sZW5ndGgtMV18fG8ucGFyZW50O2lmKGk8MHx8by5wYXJlbnQudHlwZS5zcGVjLmlzb2xhdGluZ3x8IW8ucGFyZW50LmNhblJlcGxhY2Uoby5pbmRleCgpLG8ucGFyZW50LmNoaWxkQ291bnQpfHwhcy50eXBlLnZhbGlkQ29udGVudChvLnBhcmVudC5jb250ZW50LmN1dEJ5SW5kZXgoby5pbmRleCgpLG8ucGFyZW50LmNoaWxkQ291bnQpKSlyZXR1cm4hMTtmb3IodmFyIGE9by5kZXB0aC0xLGM9bi0yO2E+aTthLS0sYy0tKXt2YXIgbD1vLm5vZGUoYSksdT1vLmluZGV4KGEpO2lmKGwudHlwZS5zcGVjLmlzb2xhdGluZylyZXR1cm4hMTt2YXIgcD1sLmNvbnRlbnQuY3V0QnlJbmRleCh1LGwuY2hpbGRDb3VudCksZj1yJiZyW2NdfHxsO2lmKGYhPWwmJihwPXAucmVwbGFjZUNoaWxkKDAsZi50eXBlLmNyZWF0ZShmLmF0dHJzKSkpLCFsLmNhblJlcGxhY2UodSsxLGwuY2hpbGRDb3VudCl8fCFmLnR5cGUudmFsaWRDb250ZW50KHApKXJldHVybiExfXZhciBkPW8uaW5kZXhBZnRlcihpKSxoPXImJnJbMF07cmV0dXJuIG8ubm9kZShpKS5jYW5SZXBsYWNlV2l0aChkLGQsaD9oLnR5cGU6by5ub2RlKGkrMSkudHlwZSl9ZnVuY3Rpb24gQSh0LGUpe3ZhciBuPXQucmVzb2x2ZShlKSxyPW4uaW5kZXgoKTtyZXR1cm4gRShuLm5vZGVCZWZvcmUsbi5ub2RlQWZ0ZXIpJiZuLnBhcmVudC5jYW5SZXBsYWNlKHIscisxKX1mdW5jdGlvbiBFKHQsZSl7cmV0dXJuIHQmJmUmJiF0LmlzTGVhZiYmdC5jYW5BcHBlbmQoZSl9ZnVuY3Rpb24gUih0LGUsbil7dm9pZCAwPT09biYmKG49LTEpO2Zvcih2YXIgcj10LnJlc29sdmUoZSksbz1yLmRlcHRoOztvLS0pe3ZhciBpPXZvaWQgMCxzPXZvaWQgMDtpZihvPT1yLmRlcHRoPyhpPXIubm9kZUJlZm9yZSxzPXIubm9kZUFmdGVyKTpuPjA/KGk9ci5ub2RlKG8rMSkscz1yLm5vZGUobykubWF5YmVDaGlsZChyLmluZGV4KG8pKzEpKTooaT1yLm5vZGUobykubWF5YmVDaGlsZChyLmluZGV4KG8pLTEpLHM9ci5ub2RlKG8rMSkpLGkmJiFpLmlzVGV4dGJsb2NrJiZFKGkscykpcmV0dXJuIGU7aWYoMD09bylicmVhaztlPW48MD9yLmJlZm9yZShvKTpyLmFmdGVyKG8pfX1mdW5jdGlvbiBfKHQsZSxuKXt2YXIgcj10LnJlc29sdmUoZSk7aWYoci5wYXJlbnQuY2FuUmVwbGFjZVdpdGgoci5pbmRleCgpLHIuaW5kZXgoKSxuKSlyZXR1cm4gZTtpZigwPT1yLnBhcmVudE9mZnNldClmb3IodmFyIG89ci5kZXB0aC0xO28+PTA7by0tKXt2YXIgaT1yLmluZGV4KG8pO2lmKHIubm9kZShvKS5jYW5SZXBsYWNlV2l0aChpLGksbikpcmV0dXJuIHIuYmVmb3JlKG8rMSk7aWYoaT4wKXJldHVybiBudWxsfWlmKHIucGFyZW50T2Zmc2V0PT1yLnBhcmVudC5jb250ZW50LnNpemUpZm9yKHZhciBzPXIuZGVwdGgtMTtzPj0wO3MtLSl7dmFyIGE9ci5pbmRleEFmdGVyKHMpO2lmKHIubm9kZShzKS5jYW5SZXBsYWNlV2l0aChhLGEsbikpcmV0dXJuIHIuYWZ0ZXIocysxKTtpZihhPHIubm9kZShzKS5jaGlsZENvdW50KXJldHVybiBudWxsfX1mdW5jdGlvbiBQKHQsZSxuKXt2YXIgcj10LnJlc29sdmUoZSk7aWYoIW4uY29udGVudC5zaXplKXJldHVybiBlO2Zvcih2YXIgbz1uLmNvbnRlbnQsaT0wO2k8bi5vcGVuU3RhcnQ7aSsrKW89by5maXJzdENoaWxkLmNvbnRlbnQ7Zm9yKHZhciBzPTE7czw9KDA9PW4ub3BlblN0YXJ0JiZuLnNpemU/MjoxKTtzKyspZm9yKHZhciBhPXIuZGVwdGg7YT49MDthLS0pe3ZhciBjPWE9PXIuZGVwdGg/MDpyLnBvczw9KHIuc3RhcnQoYSsxKStyLmVuZChhKzEpKS8yPy0xOjEsbD1yLmluZGV4KGEpKyhjPjA/MTowKTtpZigxPT1zP3Iubm9kZShhKS5jYW5SZXBsYWNlKGwsbCxvKTpyLm5vZGUoYSkuY29udGVudE1hdGNoQXQobCkuZmluZFdyYXBwaW5nKG8uZmlyc3RDaGlsZC50eXBlKSlyZXR1cm4gMD09Yz9yLnBvczpjPDA/ci5iZWZvcmUoYSsxKTpyLmFmdGVyKGErMSl9cmV0dXJuIG51bGx9ZnVuY3Rpb24geih0LGUsbil7Zm9yKHZhciBvPVtdLGk9MDtpPHQuY2hpbGRDb3VudDtpKyspe3ZhciBzPXQuY2hpbGQoaSk7cy5jb250ZW50LnNpemUmJihzPXMuY29weSh6KHMuY29udGVudCxlLHMpKSkscy5pc0lubGluZSYmKHM9ZShzLG4saSkpLG8ucHVzaChzKX1yZXR1cm4gclsiRnJhZ21lbnQiXS5mcm9tQXJyYXkobyl9Zy5qc29uSUQoInJlcGxhY2VBcm91bmQiLGIpLGQucHJvdG90eXBlLmxpZnQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC4kZnJvbSxvPXQuJHRvLGk9dC5kZXB0aCxzPW4uYmVmb3JlKGkrMSksYT1vLmFmdGVyKGkrMSksYz1zLGw9YSx1PXJbIkZyYWdtZW50Il0uZW1wdHkscD0wLGY9aSxkPSExO2Y+ZTtmLS0pZHx8bi5pbmRleChmKT4wPyhkPSEwLHU9clsiRnJhZ21lbnQiXS5mcm9tKG4ubm9kZShmKS5jb3B5KHUpKSxwKyspOmMtLTtmb3IodmFyIGg9clsiRnJhZ21lbnQiXS5lbXB0eSx2PTAsbT1pLGc9ITE7bT5lO20tLSlnfHxvLmFmdGVyKG0rMSk8by5lbmQobSk/KGc9ITAsaD1yWyJGcmFnbWVudCJdLmZyb20oby5ub2RlKG0pLmNvcHkoaCkpLHYrKyk6bCsrO3JldHVybiB0aGlzLnN0ZXAobmV3IGIoYyxsLHMsYSxuZXcgclsiU2xpY2UiXSh1LmFwcGVuZChoKSxwLHYpLHUuc2l6ZS1wLCEwKSl9LGQucHJvdG90eXBlLndyYXA9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49clsiRnJhZ21lbnQiXS5lbXB0eSxvPWUubGVuZ3RoLTE7bz49MDtvLS0pbj1yWyJGcmFnbWVudCJdLmZyb20oZVtvXS50eXBlLmNyZWF0ZShlW29dLmF0dHJzLG4pKTt2YXIgaT10LnN0YXJ0LHM9dC5lbmQ7cmV0dXJuIHRoaXMuc3RlcChuZXcgYihpLHMsaSxzLG5ldyByWyJTbGljZSJdKG4sMCwwKSxlLmxlbmd0aCwhMCkpfSxkLnByb3RvdHlwZS5zZXRCbG9ja1R5cGU9ZnVuY3Rpb24odCxlLG4sbyl7dmFyIGk9dGhpcztpZih2b2lkIDA9PT1lJiYoZT10KSwhbi5pc1RleHRibG9jayl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVHlwZSBnaXZlbiB0byBzZXRCbG9ja1R5cGUgc2hvdWxkIGJlIGEgdGV4dGJsb2NrIik7dmFyIHM9dGhpcy5zdGVwcy5sZW5ndGg7cmV0dXJuIHRoaXMuZG9jLm5vZGVzQmV0d2Vlbih0LGUsKGZ1bmN0aW9uKHQsZSl7aWYodC5pc1RleHRibG9jayYmIXQuaGFzTWFya3VwKG4sbykmJlQoaS5kb2MsaS5tYXBwaW5nLnNsaWNlKHMpLm1hcChlKSxuKSl7aS5jbGVhckluY29tcGF0aWJsZShpLm1hcHBpbmcuc2xpY2UocykubWFwKGUsMSksbik7dmFyIGE9aS5tYXBwaW5nLnNsaWNlKHMpLGM9YS5tYXAoZSwxKSxsPWEubWFwKGUrdC5ub2RlU2l6ZSwxKTtyZXR1cm4gaS5zdGVwKG5ldyBiKGMsbCxjKzEsbC0xLG5ldyByWyJTbGljZSJdKHJbIkZyYWdtZW50Il0uZnJvbShuLmNyZWF0ZShvLG51bGwsdC5tYXJrcykpLDAsMCksMSwhMCkpLCExfX0pKSx0aGlzfSxkLnByb3RvdHlwZS5zZXROb2RlTWFya3VwPWZ1bmN0aW9uKHQsZSxuLG8pe3ZhciBpPXRoaXMuZG9jLm5vZGVBdCh0KTtpZighaSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiTm8gbm9kZSBhdCBnaXZlbiBwb3NpdGlvbiIpO2V8fChlPWkudHlwZSk7dmFyIHM9ZS5jcmVhdGUobixudWxsLG98fGkubWFya3MpO2lmKGkuaXNMZWFmKXJldHVybiB0aGlzLnJlcGxhY2VXaXRoKHQsdCtpLm5vZGVTaXplLHMpO2lmKCFlLnZhbGlkQ29udGVudChpLmNvbnRlbnQpKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGNvbnRlbnQgZm9yIG5vZGUgdHlwZSAiK2UubmFtZSk7cmV0dXJuIHRoaXMuc3RlcChuZXcgYih0LHQraS5ub2RlU2l6ZSx0KzEsdCtpLm5vZGVTaXplLTEsbmV3IHJbIlNsaWNlIl0oclsiRnJhZ21lbnQiXS5mcm9tKHMpLDAsMCksMSwhMCkpfSxkLnByb3RvdHlwZS5zcGxpdD1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9MSk7Zm9yKHZhciBvPXRoaXMuZG9jLnJlc29sdmUodCksaT1yWyJGcmFnbWVudCJdLmVtcHR5LHM9clsiRnJhZ21lbnQiXS5lbXB0eSxhPW8uZGVwdGgsYz1vLmRlcHRoLWUsbD1lLTE7YT5jO2EtLSxsLS0pe2k9clsiRnJhZ21lbnQiXS5mcm9tKG8ubm9kZShhKS5jb3B5KGkpKTt2YXIgdT1uJiZuW2xdO3M9clsiRnJhZ21lbnQiXS5mcm9tKHU/dS50eXBlLmNyZWF0ZSh1LmF0dHJzLHMpOm8ubm9kZShhKS5jb3B5KHMpKX1yZXR1cm4gdGhpcy5zdGVwKG5ldyB3KHQsdCxuZXcgclsiU2xpY2UiXShpLmFwcGVuZChzKSxlLGUpLCEwKSl9LGQucHJvdG90eXBlLmpvaW49ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0xKTt2YXIgbj1uZXcgdyh0LWUsdCtlLHJbIlNsaWNlIl0uZW1wdHksITApO3JldHVybiB0aGlzLnN0ZXAobil9O3ZhciBJPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIpe3QuY2FsbCh0aGlzKSx0aGlzLmZyb209ZSx0aGlzLnRvPW4sdGhpcy5tYXJrPXJ9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LnNsaWNlKHRoaXMuZnJvbSx0aGlzLnRvKSxvPXQucmVzb2x2ZSh0aGlzLmZyb20pLGk9by5ub2RlKG8uc2hhcmVkRGVwdGgodGhpcy50bykpLHM9bmV3IHJbIlNsaWNlIl0oeihuLmNvbnRlbnQsKGZ1bmN0aW9uKHQsbil7cmV0dXJuIG4udHlwZS5hbGxvd3NNYXJrVHlwZShlLm1hcmsudHlwZSk/dC5tYXJrKGUubWFyay5hZGRUb1NldCh0Lm1hcmtzKSk6dH0pLGkpLG4ub3BlblN0YXJ0LG4ub3BlbkVuZCk7cmV0dXJuIHkuZnJvbVJlcGxhY2UodCx0aGlzLmZyb20sdGhpcy50byxzKX0sZS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBCKHRoaXMuZnJvbSx0aGlzLnRvLHRoaXMubWFyayl9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXt2YXIgbj10Lm1hcFJlc3VsdCh0aGlzLmZyb20sMSkscj10Lm1hcFJlc3VsdCh0aGlzLnRvLC0xKTtyZXR1cm4gbi5kZWxldGVkJiZyLmRlbGV0ZWR8fG4ucG9zPj1yLnBvcz9udWxsOm5ldyBlKG4ucG9zLHIucG9zLHRoaXMubWFyayl9LGUucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBlJiZ0Lm1hcmsuZXEodGhpcy5tYXJrKSYmdGhpcy5mcm9tPD10LnRvJiZ0aGlzLnRvPj10LmZyb20pcmV0dXJuIG5ldyBlKE1hdGgubWluKHRoaXMuZnJvbSx0LmZyb20pLE1hdGgubWF4KHRoaXMudG8sdC50byksdGhpcy5tYXJrKX0sZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3N0ZXBUeXBlOiJhZGRNYXJrIixtYXJrOnRoaXMubWFyay50b0pTT04oKSxmcm9tOnRoaXMuZnJvbSx0bzp0aGlzLnRvfX0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbi5mcm9tfHwibnVtYmVyIiE9dHlwZW9mIG4udG8pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIEFkZE1hcmtTdGVwLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKG4uZnJvbSxuLnRvLHQubWFya0Zyb21KU09OKG4ubWFyaykpfSxlfShnKTtnLmpzb25JRCgiYWRkTWFyayIsSSk7dmFyIEI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scil7dC5jYWxsKHRoaXMpLHRoaXMuZnJvbT1lLHRoaXMudG89bix0aGlzLm1hcms9cn1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQuc2xpY2UodGhpcy5mcm9tLHRoaXMudG8pLG89bmV3IHJbIlNsaWNlIl0oeihuLmNvbnRlbnQsKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1hcmsoZS5tYXJrLnJlbW92ZUZyb21TZXQodC5tYXJrcykpfSkpLG4ub3BlblN0YXJ0LG4ub3BlbkVuZCk7cmV0dXJuIHkuZnJvbVJlcGxhY2UodCx0aGlzLmZyb20sdGhpcy50byxvKX0sZS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBJKHRoaXMuZnJvbSx0aGlzLnRvLHRoaXMubWFyayl9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXt2YXIgbj10Lm1hcFJlc3VsdCh0aGlzLmZyb20sMSkscj10Lm1hcFJlc3VsdCh0aGlzLnRvLC0xKTtyZXR1cm4gbi5kZWxldGVkJiZyLmRlbGV0ZWR8fG4ucG9zPj1yLnBvcz9udWxsOm5ldyBlKG4ucG9zLHIucG9zLHRoaXMubWFyayl9LGUucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBlJiZ0Lm1hcmsuZXEodGhpcy5tYXJrKSYmdGhpcy5mcm9tPD10LnRvJiZ0aGlzLnRvPj10LmZyb20pcmV0dXJuIG5ldyBlKE1hdGgubWluKHRoaXMuZnJvbSx0LmZyb20pLE1hdGgubWF4KHRoaXMudG8sdC50byksdGhpcy5tYXJrKX0sZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3N0ZXBUeXBlOiJyZW1vdmVNYXJrIixtYXJrOnRoaXMubWFyay50b0pTT04oKSxmcm9tOnRoaXMuZnJvbSx0bzp0aGlzLnRvfX0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbi5mcm9tfHwibnVtYmVyIiE9dHlwZW9mIG4udG8pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIFJlbW92ZU1hcmtTdGVwLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKG4uZnJvbSxuLnRvLHQubWFya0Zyb21KU09OKG4ubWFyaykpfSxlfShnKTtmdW5jdGlvbiBWKHQsZSxuLG8pe2lmKHZvaWQgMD09PW4mJihuPWUpLHZvaWQgMD09PW8mJihvPXJbIlNsaWNlIl0uZW1wdHkpLGU9PW4mJiFvLnNpemUpcmV0dXJuIG51bGw7dmFyIGk9dC5yZXNvbHZlKGUpLHM9dC5yZXNvbHZlKG4pO2lmKEooaSxzLG8pKXJldHVybiBuZXcgdyhlLG4sbyk7dmFyIGE9RyhpLG8pLGM9aihpLGEpLGw9cShpLHMsYyk7aWYoIWwpcmV0dXJuIG51bGw7aWYoYy5zaXplIT1sLnNpemUmJksoaSxzLGMpKXt2YXIgdT1zLmRlcHRoLHA9cy5hZnRlcih1KTt3aGlsZSh1PjEmJnA9PXMuZW5kKC0tdSkpKytwO3ZhciBmPXEoaSx0LnJlc29sdmUocCksYyk7aWYoZilyZXR1cm4gbmV3IGIoZSxwLG4scy5lbmQoKSxmLGMuc2l6ZSl9cmV0dXJuIGwuc2l6ZXx8ZSE9bj9uZXcgdyhlLG4sbCk6bnVsbH1mdW5jdGlvbiBGKHQsZSxuLG8pe3ZhciBpPXJbIkZyYWdtZW50Il0uZW1wdHkscz0wLGE9bltlXTtpZih0LmRlcHRoPmUpe3ZhciBjPUYodCxlKzEsbixvfHxhKTtzPWMub3BlbkVuZCsxLGk9clsiRnJhZ21lbnQiXS5mcm9tKHQubm9kZShlKzEpLmNvcHkoYy5jb250ZW50KSl9cmV0dXJuIGEmJihpPWkuYXBwZW5kKGEuY29udGVudCkscz1hLm9wZW5FbmQpLG8mJihpPWkuYXBwZW5kKHQubm9kZShlKS5jb250ZW50TWF0Y2hBdCh0LmluZGV4QWZ0ZXIoZSkpLmZpbGxCZWZvcmUoclsiRnJhZ21lbnQiXS5lbXB0eSwhMCkpLHM9MCkse2NvbnRlbnQ6aSxvcGVuRW5kOnN9fWZ1bmN0aW9uIGoodCxlKXt2YXIgbj1GKHQsMCxlLCExKSxvPW4uY29udGVudCxpPW4ub3BlbkVuZDtyZXR1cm4gbmV3IHJbIlNsaWNlIl0obyx0LmRlcHRoLGl8fDApfWZ1bmN0aW9uICQodCxlLG4scixvLGkscyl7dmFyIGEsYz10LmNoaWxkQ291bnQsbD1jLShzPjA/MTowKSx1PWk8MD9lOm4ubm9kZShvKTthPWk8MD91LmNvbnRlbnRNYXRjaEF0KGwpOjE9PWMmJnM+MD91LmNvbnRlbnRNYXRjaEF0KGk/bi5pbmRleChvKTpuLmluZGV4QWZ0ZXIobykpOnUuY29udGVudE1hdGNoQXQobi5pbmRleEFmdGVyKG8pKS5tYXRjaEZyYWdtZW50KHQsYz4wJiZpPzE6MCxsKTt2YXIgcD1yLm5vZGUobyk7aWYocz4wJiZvPHIuZGVwdGgpe3ZhciBmPXAuY29udGVudC5jdXRCeUluZGV4KHIuaW5kZXhBZnRlcihvKSkuYWRkVG9TdGFydCh0Lmxhc3RDaGlsZCksZD1hLmZpbGxCZWZvcmUoZiwhMCk7aWYoZCYmZC5zaXplJiZpPjAmJjE9PWMmJihkPW51bGwpLGQpe3ZhciBoPSQodC5sYXN0Q2hpbGQuY29udGVudCx0Lmxhc3RDaGlsZCxuLHIsbysxLDE9PWM/aS0xOi0xLHMtMSk7aWYoaCl7dmFyIHY9dC5sYXN0Q2hpbGQuY29weShoKTtyZXR1cm4gZC5zaXplP3QuY3V0QnlJbmRleCgwLGMtMSkuYXBwZW5kKGQpLmFkZFRvRW5kKHYpOnQucmVwbGFjZUNoaWxkKGMtMSx2KX19fXM+MCYmKGE9YS5tYXRjaFR5cGUoKDE9PWMmJmk+MD9uLm5vZGUobysxKTp0Lmxhc3RDaGlsZCkudHlwZSkpO3ZhciBtPXIuaW5kZXgobyk7aWYobT09cC5jaGlsZENvdW50JiYhcC50eXBlLmNvbXBhdGlibGVDb250ZW50KGUudHlwZSkpcmV0dXJuIG51bGw7Zm9yKHZhciBnPWEuZmlsbEJlZm9yZShwLmNvbnRlbnQsITAsbSkseT1tO2cmJnk8cC5jb250ZW50LmNoaWxkQ291bnQ7eSsrKXUudHlwZS5hbGxvd3NNYXJrcyhwLmNvbnRlbnQuY2hpbGQoeSkubWFya3MpfHwoZz1udWxsKTtpZighZylyZXR1cm4gbnVsbDtpZihzPjApe3ZhciB3PUwodC5sYXN0Q2hpbGQscy0xLG4sbysxLDE9PWM/aS0xOi0xKTt0PXQucmVwbGFjZUNoaWxkKGMtMSx3KX1yZXR1cm4gdD10LmFwcGVuZChnKSxyLmRlcHRoPm8mJih0PXQuYWRkVG9FbmQoSChyLG8rMSkpKSx0fWZ1bmN0aW9uIEwodCxlLG4sbyxpKXt2YXIgcyxhPXQuY29udGVudCxjPWEuY2hpbGRDb3VudDtpZihzPWk+PTA/bi5ub2RlKG8pLmNvbnRlbnRNYXRjaEF0KG4uaW5kZXhBZnRlcihvKSkubWF0Y2hGcmFnbWVudChhLGk+MD8xOjAsYyk6dC5jb250ZW50TWF0Y2hBdChjKSxlPjApe3ZhciBsPUwoYS5sYXN0Q2hpbGQsZS0xLG4sbysxLDE9PWM/aS0xOi0xKTthPWEucmVwbGFjZUNoaWxkKGMtMSxsKX1yZXR1cm4gdC5jb3B5KGEuYXBwZW5kKHMuZmlsbEJlZm9yZShyWyJGcmFnbWVudCJdLmVtcHR5LCEwKSkpfWZ1bmN0aW9uIEgodCxlKXt2YXIgbj10Lm5vZGUoZSkscj1uLmNvbnRlbnRNYXRjaEF0KDApLmZpbGxCZWZvcmUobi5jb250ZW50LCEwLHQuaW5kZXgoZSkpO3JldHVybiB0LmRlcHRoPmUmJihyPXIuYWRkVG9FbmQoSCh0LGUrMSkpKSxuLmNvcHkocil9ZnVuY3Rpb24gVyh0LGUsbil7d2hpbGUoZT4wJiZuPjAmJjE9PXQuY2hpbGRDb3VudCl0PXQuZmlyc3RDaGlsZC5jb250ZW50LGUtLSxuLS07cmV0dXJuIG5ldyByWyJTbGljZSJdKHQsZSxuKX1mdW5jdGlvbiBxKHQsZSxuKXt2YXIgcj0kKG4uY29udGVudCx0Lm5vZGUoMCksdCxlLDAsbi5vcGVuU3RhcnQsbi5vcGVuRW5kKTtyZXR1cm4gcj9XKHIsbi5vcGVuU3RhcnQsZS5kZXB0aCk6bnVsbH1mdW5jdGlvbiBKKHQsZSxuKXtyZXR1cm4hbi5vcGVuU3RhcnQmJiFuLm9wZW5FbmQmJnQuc3RhcnQoKT09ZS5zdGFydCgpJiZ0LnBhcmVudC5jYW5SZXBsYWNlKHQuaW5kZXgoKSxlLmluZGV4KCksbi5jb250ZW50KX1mdW5jdGlvbiBLKHQsZSxuKXtpZighZS5wYXJlbnQuaXNUZXh0YmxvY2spcmV0dXJuITE7dmFyIHIsbz1uLm9wZW5FbmQ/VShuLmNvbnRlbnQsbi5vcGVuRW5kKTp0Lm5vZGUodC5kZXB0aC0obi5vcGVuU3RhcnQtbi5vcGVuRW5kKSk7aWYoIW8uaXNUZXh0YmxvY2spcmV0dXJuITE7Zm9yKHZhciBpPWUuaW5kZXgoKTtpPGUucGFyZW50LmNoaWxkQ291bnQ7aSsrKWlmKCFvLnR5cGUuYWxsb3dzTWFya3MoZS5wYXJlbnQuY2hpbGQoaSkubWFya3MpKXJldHVybiExO3JldHVybiBuLm9wZW5FbmQ/cj1vLmNvbnRlbnRNYXRjaEF0KG8uY2hpbGRDb3VudCk6KHI9by5jb250ZW50TWF0Y2hBdChvLmNoaWxkQ291bnQpLG4uc2l6ZSYmKHI9ci5tYXRjaEZyYWdtZW50KG4uY29udGVudCxuLm9wZW5TdGFydD8xOjApKSkscj1yLm1hdGNoRnJhZ21lbnQoZS5wYXJlbnQuY29udGVudCxlLmluZGV4KCkpLHImJnIudmFsaWRFbmR9ZnVuY3Rpb24gVSh0LGUpe2Zvcih2YXIgbj0xO248ZTtuKyspdD10Lmxhc3RDaGlsZC5jb250ZW50O3JldHVybiB0Lmxhc3RDaGlsZH1mdW5jdGlvbiBHKHQsZSl7Zm9yKHZhciBuPW5ldyBYKHQpLHI9MTtlLnNpemUmJnI8PTM7cisrKXt2YXIgbz1uLnBsYWNlU2xpY2UoZS5jb250ZW50LGUub3BlblN0YXJ0LGUub3BlbkVuZCxyKTszPT1yJiZvIT1lJiZvLnNpemUmJihyPTApLGU9b313aGlsZShuLm9wZW4ubGVuZ3RoKW4uY2xvc2VOb2RlKCk7cmV0dXJuIG4ucGxhY2VkfWcuanNvbklEKCJyZW1vdmVNYXJrIixCKSxkLnByb3RvdHlwZS5hZGRNYXJrPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLG89W10saT1bXSxzPW51bGwsYT1udWxsO3JldHVybiB0aGlzLmRvYy5ub2Rlc0JldHdlZW4odCxlLChmdW5jdGlvbihyLGMsbCl7aWYoci5pc0lubGluZSl7dmFyIHU9ci5tYXJrcztpZighbi5pc0luU2V0KHUpJiZsLnR5cGUuYWxsb3dzTWFya1R5cGUobi50eXBlKSl7Zm9yKHZhciBwPU1hdGgubWF4KGMsdCksZj1NYXRoLm1pbihjK3Iubm9kZVNpemUsZSksZD1uLmFkZFRvU2V0KHUpLGg9MDtoPHUubGVuZ3RoO2grKyl1W2hdLmlzSW5TZXQoZCl8fChzJiZzLnRvPT1wJiZzLm1hcmsuZXEodVtoXSk/cy50bz1mOm8ucHVzaChzPW5ldyBCKHAsZix1W2hdKSkpO2EmJmEudG89PXA/YS50bz1mOmkucHVzaChhPW5ldyBJKHAsZixuKSl9fX0pKSxvLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiByLnN0ZXAodCl9KSksaS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gci5zdGVwKHQpfSkpLHRoaXN9LGQucHJvdG90eXBlLnJlbW92ZU1hcms9ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXM7dm9pZCAwPT09biYmKG49bnVsbCk7dmFyIGk9W10scz0wO3JldHVybiB0aGlzLmRvYy5ub2Rlc0JldHdlZW4odCxlLChmdW5jdGlvbihvLGEpe2lmKG8uaXNJbmxpbmUpe3MrKzt2YXIgYz1udWxsO2lmKG4gaW5zdGFuY2VvZiByWyJNYXJrVHlwZSJdKXt2YXIgbD1uLmlzSW5TZXQoby5tYXJrcyk7bCYmKGM9W2xdKX1lbHNlIG4/bi5pc0luU2V0KG8ubWFya3MpJiYoYz1bbl0pOmM9by5tYXJrcztpZihjJiZjLmxlbmd0aClmb3IodmFyIHU9TWF0aC5taW4oYStvLm5vZGVTaXplLGUpLHA9MDtwPGMubGVuZ3RoO3ArKyl7Zm9yKHZhciBmPWNbcF0sZD12b2lkIDAsaD0wO2g8aS5sZW5ndGg7aCsrKXt2YXIgdj1pW2hdO3Yuc3RlcD09cy0xJiZmLmVxKGlbaF0uc3R5bGUpJiYoZD12KX1kPyhkLnRvPXUsZC5zdGVwPXMpOmkucHVzaCh7c3R5bGU6Zixmcm9tOk1hdGgubWF4KGEsdCksdG86dSxzdGVwOnN9KX19fSkpLGkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIG8uc3RlcChuZXcgQih0LmZyb20sdC50byx0LnN0eWxlKSl9KSksdGhpc30sZC5wcm90b3R5cGUuY2xlYXJJbmNvbXBhdGlibGU9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPWUuY29udGVudE1hdGNoKTtmb3IodmFyIG89dGhpcy5kb2Mubm9kZUF0KHQpLGk9W10scz10KzEsYT0wO2E8by5jaGlsZENvdW50O2ErKyl7dmFyIGM9by5jaGlsZChhKSxsPXMrYy5ub2RlU2l6ZSx1PW4ubWF0Y2hUeXBlKGMudHlwZSxjLmF0dHJzKTtpZih1KXtuPXU7Zm9yKHZhciBwPTA7cDxjLm1hcmtzLmxlbmd0aDtwKyspZS5hbGxvd3NNYXJrVHlwZShjLm1hcmtzW3BdLnR5cGUpfHx0aGlzLnN0ZXAobmV3IEIocyxsLGMubWFya3NbcF0pKX1lbHNlIGkucHVzaChuZXcgdyhzLGwsclsiU2xpY2UiXS5lbXB0eSkpO3M9bH1pZighbi52YWxpZEVuZCl7dmFyIGY9bi5maWxsQmVmb3JlKHJbIkZyYWdtZW50Il0uZW1wdHksITApO3RoaXMucmVwbGFjZShzLHMsbmV3IHJbIlNsaWNlIl0oZiwwLDApKX1mb3IodmFyIGQ9aS5sZW5ndGgtMTtkPj0wO2QtLSl0aGlzLnN0ZXAoaVtkXSk7cmV0dXJuIHRoaXN9LGQucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPXQpLHZvaWQgMD09PW4mJihuPXJbIlNsaWNlIl0uZW1wdHkpO3ZhciBvPVYodGhpcy5kb2MsdCxlLG4pO3JldHVybiBvJiZ0aGlzLnN0ZXAobyksdGhpc30sZC5wcm90b3R5cGUucmVwbGFjZVdpdGg9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLnJlcGxhY2UodCxlLG5ldyByWyJTbGljZSJdKHJbIkZyYWdtZW50Il0uZnJvbShuKSwwLDApKX0sZC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVwbGFjZSh0LGUsclsiU2xpY2UiXS5lbXB0eSl9LGQucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJlcGxhY2VXaXRoKHQsdCxlKX07dmFyIFg9ZnVuY3Rpb24odCl7dGhpcy5vcGVuPVtdO2Zvcih2YXIgZT0wO2U8PXQuZGVwdGg7ZSsrKXt2YXIgbj10Lm5vZGUoZSksbz1uLmNvbnRlbnRNYXRjaEF0KHQuaW5kZXhBZnRlcihlKSk7dGhpcy5vcGVuLnB1c2goe3BhcmVudDpuLG1hdGNoOm8sY29udGVudDpyWyJGcmFnbWVudCJdLmVtcHR5LHdyYXBwZXI6ITEsb3BlbkVuZDowLGRlcHRoOmV9KX10aGlzLnBsYWNlZD1bXX07ZnVuY3Rpb24gWSh0LGUsbil7dmFyIHI9dC5jb250ZW50O2lmKGU+MSl7dmFyIG89WSh0LmZpcnN0Q2hpbGQsZS0xLDE9PXQuY2hpbGRDb3VudD9uLTE6MCk7cj10LmNvbnRlbnQucmVwbGFjZUNoaWxkKDAsbyl9dmFyIGk9dC50eXBlLmNvbnRlbnRNYXRjaC5maWxsQmVmb3JlKHIsMD09bik7cmV0dXJuIHQuY29weShpLmFwcGVuZChyKSl9ZnVuY3Rpb24gWih0LGUpe3ZhciBuPXQuY29udGVudDtpZihlPjEpe3ZhciBvPVoodC5sYXN0Q2hpbGQsZS0xKTtuPXQuY29udGVudC5yZXBsYWNlQ2hpbGQodC5jaGlsZENvdW50LTEsbyl9dmFyIGk9dC5jb250ZW50TWF0Y2hBdCh0LmNoaWxkQ291bnQpLmZpbGxCZWZvcmUoclsiRnJhZ21lbnQiXS5lbXB0eSwhMCk7cmV0dXJuIHQuY29weShuLmFwcGVuZChpKSl9ZnVuY3Rpb24gUSh0LGUpe3JldHVybiBlP3QucmVwbGFjZUNoaWxkKHQuY2hpbGRDb3VudC0xLFoodC5sYXN0Q2hpbGQsZSkpOnR9ZnVuY3Rpb24gdHQodCxlLG4sbyxpKXtpZihlPG4pe3ZhciBzPXQuZmlyc3RDaGlsZDt0PXQucmVwbGFjZUNoaWxkKDAscy5jb3B5KHR0KHMuY29udGVudCxlKzEsbixvLHMpKSl9aWYoZT5vKXt2YXIgYT1pLmNvbnRlbnRNYXRjaEF0KDApLGM9YS5maWxsQmVmb3JlKHQpLmFwcGVuZCh0KTt0PWMuYXBwZW5kKGEubWF0Y2hGcmFnbWVudChjKS5maWxsQmVmb3JlKHJbIkZyYWdtZW50Il0uZW1wdHksITApKX1yZXR1cm4gdH1mdW5jdGlvbiBldCh0LGUpe2Zvcih2YXIgbj1bXSxyPU1hdGgubWluKHQuZGVwdGgsZS5kZXB0aCksbz1yO28+PTA7by0tKXt2YXIgaT10LnN0YXJ0KG8pO2lmKGk8dC5wb3MtKHQuZGVwdGgtbyl8fGUuZW5kKG8pPmUucG9zKyhlLmRlcHRoLW8pfHx0Lm5vZGUobykudHlwZS5zcGVjLmlzb2xhdGluZ3x8ZS5ub2RlKG8pLnR5cGUuc3BlYy5pc29sYXRpbmcpYnJlYWs7aT09ZS5zdGFydChvKSYmbi5wdXNoKG8pfXJldHVybiBufVgucHJvdG90eXBlLnBsYWNlU2xpY2U9ZnVuY3Rpb24odCxlLG4sbyxpKXtpZihlPjApe3ZhciBzPXQuZmlyc3RDaGlsZCxhPXRoaXMucGxhY2VTbGljZShzLmNvbnRlbnQsTWF0aC5tYXgoMCxlLTEpLG4mJjE9PXQuY2hpbGRDb3VudD9uLTE6MCxvLHMpO2EuY29udGVudCE9cy5jb250ZW50JiYoYS5jb250ZW50LnNpemU/KHQ9dC5yZXBsYWNlQ2hpbGQoMCxzLmNvcHkoYS5jb250ZW50KSksZT1hLm9wZW5TdGFydCsxKTooMT09dC5jaGlsZENvdW50JiYobj0wKSx0PXQuY3V0QnlJbmRleCgxKSxlPTApKX12YXIgYz10aGlzLnBsYWNlQ29udGVudCh0LGUsbixvLGkpO2lmKG8+MiYmYy5zaXplJiYwPT1lKXt2YXIgbD1jLmNvbnRlbnQuZmlyc3RDaGlsZCx1PTE9PWMuY29udGVudC5jaGlsZENvdW50O3RoaXMucGxhY2VDb250ZW50KGwuY29udGVudCwwLG4mJnU/bi0xOjAsbyxsKSxjPXU/clsiRnJhZ21lbnQiXS5lbXB0eTpuZXcgclsiU2xpY2UiXShjLmNvbnRlbnQuY3V0QnlJbmRleCgxKSwwLG4pfXJldHVybiBjfSxYLnByb3RvdHlwZS5wbGFjZUNvbnRlbnQ9ZnVuY3Rpb24odCxlLG4sbyxpKXtmb3IodmFyIHM9MDtzPHQuY2hpbGRDb3VudDtzKyspe2Zvcih2YXIgYT10LmNoaWxkKHMpLGM9ITEsbD1zPT10LmNoaWxkQ291bnQtMSx1PXRoaXMub3Blbi5sZW5ndGgtMTt1Pj0wO3UtLSl7dmFyIHA9dGhpcy5vcGVuW3VdLGY9dm9pZCAwO2lmKG8+MSYmKGY9cC5tYXRjaC5maW5kV3JhcHBpbmcoYS50eXBlKSkmJighaXx8IWYubGVuZ3RofHxmW2YubGVuZ3RoLTFdIT1pLnR5cGUpKXt3aGlsZSh0aGlzLm9wZW4ubGVuZ3RoLTE+dSl0aGlzLmNsb3NlTm9kZSgpO2Zvcih2YXIgZD0wO2Q8Zi5sZW5ndGg7ZCsrKXAubWF0Y2g9cC5tYXRjaC5tYXRjaFR5cGUoZltkXSksdSsrLHA9e3BhcmVudDpmW2RdLmNyZWF0ZSgpLG1hdGNoOmZbZF0uY29udGVudE1hdGNoLGNvbnRlbnQ6clsiRnJhZ21lbnQiXS5lbXB0eSx3cmFwcGVyOiEwLG9wZW5FbmQ6MCxkZXB0aDp1K2R9LHRoaXMub3Blbi5wdXNoKHApfXZhciBoPXAubWF0Y2gubWF0Y2hUeXBlKGEudHlwZSk7aWYoIWgpe3ZhciB2PXAubWF0Y2guZmlsbEJlZm9yZShyWyJGcmFnbWVudCJdLmZyb20oYSkpO2lmKCF2KXtpZihpJiZwLm1hdGNoLm1hdGNoVHlwZShpLnR5cGUpKWJyZWFrO2NvbnRpbnVlfWZvcih2YXIgbT0wO208di5jaGlsZENvdW50O20rKyl7dmFyIGc9di5jaGlsZChtKTt0aGlzLmFkZE5vZGUocCxnLDApLGg9cC5tYXRjaC5tYXRjaEZyYWdtZW50KGcpfX13aGlsZSh0aGlzLm9wZW4ubGVuZ3RoLTE+dSl0aGlzLmNsb3NlTm9kZSgpO2E9YS5tYXJrKHAucGFyZW50LnR5cGUuYWxsb3dlZE1hcmtzKGEubWFya3MpKSxlJiYoYT1ZKGEsZSxsP246MCksZT0wKSx0aGlzLmFkZE5vZGUocCxhLGw/bjowKSxwLm1hdGNoPWgsbCYmKG49MCksYz0hMDticmVha31pZighYylicmVha31yZXR1cm4gdGhpcy5vcGVuLmxlbmd0aD4xJiYocz4wJiZzPT10LmNoaWxkQ291bnR8fGkmJnRoaXMub3Blblt0aGlzLm9wZW4ubGVuZ3RoLTFdLnBhcmVudC50eXBlPT1pLnR5cGUpJiZ0aGlzLmNsb3NlTm9kZSgpLG5ldyByWyJTbGljZSJdKHQuY3V0QnlJbmRleChzKSxlLG4pfSxYLnByb3RvdHlwZS5hZGROb2RlPWZ1bmN0aW9uKHQsZSxuKXt0LmNvbnRlbnQ9USh0LmNvbnRlbnQsdC5vcGVuRW5kKS5hZGRUb0VuZChlKSx0Lm9wZW5FbmQ9bn0sWC5wcm90b3R5cGUuY2xvc2VOb2RlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcGVuLnBvcCgpOzA9PXQuY29udGVudC5zaXplfHwodC53cmFwcGVyP3RoaXMuYWRkTm9kZSh0aGlzLm9wZW5bdGhpcy5vcGVuLmxlbmd0aC0xXSx0LnBhcmVudC5jb3B5KHQuY29udGVudCksdC5vcGVuRW5kKzEpOnRoaXMucGxhY2VkW3QuZGVwdGhdPXtkZXB0aDp0LmRlcHRoLGNvbnRlbnQ6dC5jb250ZW50LG9wZW5FbmQ6dC5vcGVuRW5kfSl9LGQucHJvdG90eXBlLnJlcGxhY2VSYW5nZT1mdW5jdGlvbih0LGUsbil7aWYoIW4uc2l6ZSlyZXR1cm4gdGhpcy5kZWxldGVSYW5nZSh0LGUpO3ZhciBvPXRoaXMuZG9jLnJlc29sdmUodCksaT10aGlzLmRvYy5yZXNvbHZlKGUpO2lmKEoobyxpLG4pKXJldHVybiB0aGlzLnN0ZXAobmV3IHcodCxlLG4pKTt2YXIgcz1ldChvLHRoaXMuZG9jLnJlc29sdmUoZSkpOzA9PXNbcy5sZW5ndGgtMV0mJnMucG9wKCk7dmFyIGE9LShvLmRlcHRoKzEpO3MudW5zaGlmdChhKTtmb3IodmFyIGM9by5kZXB0aCxsPW8ucG9zLTE7Yz4wO2MtLSxsLS0pe3ZhciB1PW8ubm9kZShjKS50eXBlLnNwZWM7aWYodS5kZWZpbmluZ3x8dS5pc29sYXRpbmcpYnJlYWs7cy5pbmRleE9mKGMpPi0xP2E9YzpvLmJlZm9yZShjKT09bCYmcy5zcGxpY2UoMSwwLC1jKX1mb3IodmFyIHA9cy5pbmRleE9mKGEpLGY9W10sZD1uLm9wZW5TdGFydCxoPW4uY29udGVudCx2PTA7O3YrKyl7dmFyIG09aC5maXJzdENoaWxkO2lmKGYucHVzaChtKSx2PT1uLm9wZW5TdGFydClicmVhaztoPW0uY29udGVudH1kPjAmJmZbZC0xXS50eXBlLnNwZWMuZGVmaW5pbmcmJm8ubm9kZShwKS50eXBlIT1mW2QtMV0udHlwZT9kLT0xOmQ+PTImJmZbZC0xXS5pc1RleHRibG9jayYmZltkLTJdLnR5cGUuc3BlYy5kZWZpbmluZyYmby5ub2RlKHApLnR5cGUhPWZbZC0yXS50eXBlJiYoZC09Mik7Zm9yKHZhciBnPW4ub3BlblN0YXJ0O2c+PTA7Zy0tKXt2YXIgeT0oZytkKzEpJShuLm9wZW5TdGFydCsxKSxiPWZbeV07aWYoYilmb3IodmFyIFM9MDtTPHMubGVuZ3RoO1MrKyl7dmFyIGs9c1soUytwKSVzLmxlbmd0aF0seD0hMDtrPDAmJih4PSExLGs9LWspO3ZhciBDPW8ubm9kZShrLTEpLE89by5pbmRleChrLTEpO2lmKEMuY2FuUmVwbGFjZVdpdGgoTyxPLGIudHlwZSxiLm1hcmtzKSlyZXR1cm4gdGhpcy5yZXBsYWNlKG8uYmVmb3JlKGspLHg/aS5hZnRlcihrKTplLG5ldyByWyJTbGljZSJdKHR0KG4uY29udGVudCwwLG4ub3BlblN0YXJ0LHkpLHksbi5vcGVuRW5kKSl9fWZvcih2YXIgTT10aGlzLnN0ZXBzLmxlbmd0aCxOPXMubGVuZ3RoLTE7Tj49MDtOLS0pe2lmKHRoaXMucmVwbGFjZSh0LGUsbiksdGhpcy5zdGVwcy5sZW5ndGg+TSlicmVhazt2YXIgVD1zW05dO048MHx8KHQ9by5iZWZvcmUoVCksZT1pLmFmdGVyKFQpKX1yZXR1cm4gdGhpc30sZC5wcm90b3R5cGUucmVwbGFjZVJhbmdlV2l0aD1mdW5jdGlvbih0LGUsbil7aWYoIW4uaXNJbmxpbmUmJnQ9PWUmJnRoaXMuZG9jLnJlc29sdmUodCkucGFyZW50LmNvbnRlbnQuc2l6ZSl7dmFyIG89Xyh0aGlzLmRvYyx0LG4udHlwZSk7bnVsbCE9byYmKHQ9ZT1vKX1yZXR1cm4gdGhpcy5yZXBsYWNlUmFuZ2UodCxlLG5ldyByWyJTbGljZSJdKHJbIkZyYWdtZW50Il0uZnJvbShuKSwwLDApKX0sZC5wcm90b3R5cGUuZGVsZXRlUmFuZ2U9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5kb2MucmVzb2x2ZSh0KSxyPXRoaXMuZG9jLnJlc29sdmUoZSksbz1ldChuLHIpLGk9MDtpPG8ubGVuZ3RoO2krKyl7dmFyIHM9b1tpXSxhPWk9PW8ubGVuZ3RoLTE7aWYoYSYmMD09c3x8bi5ub2RlKHMpLnR5cGUuY29udGVudE1hdGNoLnZhbGlkRW5kKXJldHVybiB0aGlzLmRlbGV0ZShuLnN0YXJ0KHMpLHIuZW5kKHMpKTtpZihzPjAmJihhfHxuLm5vZGUocy0xKS5jYW5SZXBsYWNlKG4uaW5kZXgocy0xKSxyLmluZGV4QWZ0ZXIocy0xKSkpKXJldHVybiB0aGlzLmRlbGV0ZShuLmJlZm9yZShzKSxyLmFmdGVyKHMpKX1mb3IodmFyIGM9MTtjPD1uLmRlcHRoJiZjPD1yLmRlcHRoO2MrKylpZih0LW4uc3RhcnQoYyk9PW4uZGVwdGgtYyYmZT5uLmVuZChjKSYmci5lbmQoYyktZSE9ci5kZXB0aC1jKXJldHVybiB0aGlzLmRlbGV0ZShuLmJlZm9yZShjKSxlKTtyZXR1cm4gdGhpcy5kZWxldGUodCxlKX19LCIwY2ZiIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiODNhYiIpLG89bigiZDAzOSIpLGk9bigiY2MxMiIpO3QuZXhwb3J0cz0hciYmIW8oKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KSl9LCIxYWZhIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImU3NmMiKSxvPW4ubihyKTtvLmF9LCIxYmU0IjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZDA2NiIpO3QuZXhwb3J0cz1yKCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIpfSwiMWMwYiI6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgVHlwZUVycm9yKFN0cmluZyh0KSsiIGlzIG5vdCBhIGZ1bmN0aW9uIik7cmV0dXJuIHR9fSwiMWQ4MCI6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT10KXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIit0KTtyZXR1cm4gdH19LCIyM2NiIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiYTY5MSIpLG89TWF0aC5tYXgsaT1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj1yKHQpO3JldHVybiBuPDA/byhuK2UsMCk6aShuLGUpfX0sIjIzZTciOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJkYTg0Iiksbz1uKCIwNmNmIikuZixpPW4oIjkxMTIiKSxzPW4oIjZlZWIiKSxhPW4oImNlNGUiKSxjPW4oImU4OTMiKSxsPW4oIjk0Y2EiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbix1LHAsZixkLGgsdj10LnRhcmdldCxtPXQuZ2xvYmFsLGc9dC5zdGF0O2lmKHU9bT9yOmc/clt2XXx8YSh2LHt9KTooclt2XXx8e30pLnByb3RvdHlwZSx1KWZvcihwIGluIGUpe2lmKGQ9ZVtwXSx0Lm5vVGFyZ2V0R2V0PyhoPW8odSxwKSxmPWgmJmgudmFsdWUpOmY9dVtwXSxuPWwobT9wOnYrKGc/Ii4iOiIjIikrcCx0LmZvcmNlZCksIW4mJnZvaWQgMCE9PWYpe2lmKHR5cGVvZiBkPT09dHlwZW9mIGYpY29udGludWU7YyhkLGYpfSh0LnNoYW18fGYmJmYuc2hhbSkmJmkoZCwic2hhbSIsITApLHModSxwLGQsdCl9fX0sIjI0MWMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJjYTg0Iiksbz1uKCI3ODM5IiksaT1vLmNvbmNhdCgibGVuZ3RoIiwicHJvdG90eXBlIik7ZS5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbih0KXtyZXR1cm4gcih0LGkpfX0sIjI1ZjAiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiNmVlYiIpLG89bigiODI1YSIpLGk9bigiZDAzOSIpLHM9bigiYWQ2ZCIpLGE9InRvU3RyaW5nIixjPVJlZ0V4cC5wcm90b3R5cGUsbD1jW2FdLHU9aSgoZnVuY3Rpb24oKXtyZXR1cm4iL2EvYiIhPWwuY2FsbCh7c291cmNlOiJhIixmbGFnczoiYiJ9KX0pKSxwPWwubmFtZSE9YTsodXx8cCkmJnIoUmVnRXhwLnByb3RvdHlwZSxhLChmdW5jdGlvbigpe3ZhciB0PW8odGhpcyksZT1TdHJpbmcodC5zb3VyY2UpLG49dC5mbGFncyxyPVN0cmluZyh2b2lkIDA9PT1uJiZ0IGluc3RhbmNlb2YgUmVnRXhwJiYhKCJmbGFncyJpbiBjKT9zLmNhbGwodCk6bik7cmV0dXJuIi8iK2UrIi8iK3J9KSx7dW5zYWZlOiEwfSl9LCIzMDRhIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7dGhpcy5jb250ZW50PXR9bi5yKGUpLHIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpyLGZpbmQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmNvbnRlbnQubGVuZ3RoO2UrPTIpaWYodGhpcy5jb250ZW50W2VdPT09dClyZXR1cm4gZTtyZXR1cm4tMX0sZ2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZmluZCh0KTtyZXR1cm4tMT09ZT92b2lkIDA6dGhpcy5jb250ZW50W2UrMV19LHVwZGF0ZTpmdW5jdGlvbih0LGUsbil7dmFyIG89biYmbiE9dD90aGlzLnJlbW92ZShuKTp0aGlzLGk9by5maW5kKHQpLHM9by5jb250ZW50LnNsaWNlKCk7cmV0dXJuLTE9PWk/cy5wdXNoKG58fHQsZSk6KHNbaSsxXT1lLG4mJihzW2ldPW4pKSxuZXcgcihzKX0scmVtb3ZlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZmluZCh0KTtpZigtMT09ZSlyZXR1cm4gdGhpczt2YXIgbj10aGlzLmNvbnRlbnQuc2xpY2UoKTtyZXR1cm4gbi5zcGxpY2UoZSwyKSxuZXcgcihuKX0sYWRkVG9TdGFydDpmdW5jdGlvbih0LGUpe3JldHVybiBuZXcgcihbdCxlXS5jb25jYXQodGhpcy5yZW1vdmUodCkuY29udGVudCkpfSxhZGRUb0VuZDpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMucmVtb3ZlKHQpLmNvbnRlbnQuc2xpY2UoKTtyZXR1cm4gbi5wdXNoKHQsZSksbmV3IHIobil9LGFkZEJlZm9yZTpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcy5yZW1vdmUoZSksaT1vLmNvbnRlbnQuc2xpY2UoKSxzPW8uZmluZCh0KTtyZXR1cm4gaS5zcGxpY2UoLTE9PXM/aS5sZW5ndGg6cywwLGUsbiksbmV3IHIoaSl9LGZvckVhY2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmNvbnRlbnQubGVuZ3RoO2UrPTIpdCh0aGlzLmNvbnRlbnRbZV0sdGhpcy5jb250ZW50W2UrMV0pfSxwcmVwZW5kOmZ1bmN0aW9uKHQpe3JldHVybiB0PXIuZnJvbSh0KSx0LnNpemU/bmV3IHIodC5jb250ZW50LmNvbmNhdCh0aGlzLnN1YnRyYWN0KHQpLmNvbnRlbnQpKTp0aGlzfSxhcHBlbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9ci5mcm9tKHQpLHQuc2l6ZT9uZXcgcih0aGlzLnN1YnRyYWN0KHQpLmNvbnRlbnQuY29uY2F0KHQuY29udGVudCkpOnRoaXN9LHN1YnRyYWN0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dD1yLmZyb20odCk7Zm9yKHZhciBuPTA7bjx0LmNvbnRlbnQubGVuZ3RoO24rPTIpZT1lLnJlbW92ZSh0LmNvbnRlbnRbbl0pO3JldHVybiBlfSxnZXQgc2l6ZSgpe3JldHVybiB0aGlzLmNvbnRlbnQubGVuZ3RoPj4xfX0sci5mcm9tPWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiByKXJldHVybiB0O3ZhciBlPVtdO2lmKHQpZm9yKHZhciBuIGluIHQpZS5wdXNoKG4sdFtuXSk7cmV0dXJuIG5ldyByKGUpfTt2YXIgbz1yLGk9bztmdW5jdGlvbiBzKHQsZSxuKXtmb3IodmFyIHI9MDs7cisrKXtpZihyPT10LmNoaWxkQ291bnR8fHI9PWUuY2hpbGRDb3VudClyZXR1cm4gdC5jaGlsZENvdW50PT1lLmNoaWxkQ291bnQ/bnVsbDpuO3ZhciBvPXQuY2hpbGQociksaT1lLmNoaWxkKHIpO2lmKG8hPWkpe2lmKCFvLnNhbWVNYXJrdXAoaSkpcmV0dXJuIG47aWYoby5pc1RleHQmJm8udGV4dCE9aS50ZXh0KXtmb3IodmFyIGE9MDtvLnRleHRbYV09PWkudGV4dFthXTthKyspbisrO3JldHVybiBufWlmKG8uY29udGVudC5zaXplfHxpLmNvbnRlbnQuc2l6ZSl7dmFyIGM9cyhvLmNvbnRlbnQsaS5jb250ZW50LG4rMSk7aWYobnVsbCE9YylyZXR1cm4gY31uKz1vLm5vZGVTaXplfWVsc2Ugbis9by5ub2RlU2l6ZX19ZnVuY3Rpb24gYSh0LGUsbixyKXtmb3IodmFyIG89dC5jaGlsZENvdW50LGk9ZS5jaGlsZENvdW50Ozspe2lmKDA9PW98fDA9PWkpcmV0dXJuIG89PWk/bnVsbDp7YTpuLGI6cn07dmFyIHM9dC5jaGlsZCgtLW8pLGM9ZS5jaGlsZCgtLWkpLGw9cy5ub2RlU2l6ZTtpZihzIT1jKXtpZighcy5zYW1lTWFya3VwKGMpKXJldHVybnthOm4sYjpyfTtpZihzLmlzVGV4dCYmcy50ZXh0IT1jLnRleHQpe3ZhciB1PTAscD1NYXRoLm1pbihzLnRleHQubGVuZ3RoLGMudGV4dC5sZW5ndGgpO3doaWxlKHU8cCYmcy50ZXh0W3MudGV4dC5sZW5ndGgtdS0xXT09Yy50ZXh0W2MudGV4dC5sZW5ndGgtdS0xXSl1Kyssbi0tLHItLTtyZXR1cm57YTpuLGI6cn19aWYocy5jb250ZW50LnNpemV8fGMuY29udGVudC5zaXplKXt2YXIgZj1hKHMuY29udGVudCxjLmNvbnRlbnQsbi0xLHItMSk7aWYoZilyZXR1cm4gZn1uLT1sLHItPWx9ZWxzZSBuLT1sLHItPWx9fW4uZChlLCJDb250ZW50TWF0Y2giLChmdW5jdGlvbigpe3JldHVybiAkfSkpLG4uZChlLCJET01QYXJzZXIiLChmdW5jdGlvbigpe3JldHVybiBkdH0pKSxuLmQoZSwiRE9NU2VyaWFsaXplciIsKGZ1bmN0aW9uKCl7cmV0dXJuIFR0fSkpLG4uZChlLCJGcmFnbWVudCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKGUsIk1hcmsiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLG4uZChlLCJNYXJrVHlwZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV0fSkpLG4uZChlLCJOb2RlIiwoZnVuY3Rpb24oKXtyZXR1cm4gQn0pKSxuLmQoZSwiTm9kZVJhbmdlIiwoZnVuY3Rpb24oKXtyZXR1cm4gUH0pKSxuLmQoZSwiTm9kZVR5cGUiLChmdW5jdGlvbigpe3JldHVybiBzdH0pKSxuLmQoZSwiUmVwbGFjZUVycm9yIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKSxuLmQoZSwiUmVzb2x2ZWRQb3MiLChmdW5jdGlvbigpe3JldHVybiBEfSkpLG4uZChlLCJTY2hlbWEiLChmdW5jdGlvbigpe3JldHVybiBwdH0pKSxuLmQoZSwiU2xpY2UiLChmdW5jdGlvbigpe3JldHVybiB2fSkpO3ZhciBjPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5jb250ZW50PXQsdGhpcy5zaXplPWV8fDAsbnVsbD09ZSlmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl0aGlzLnNpemUrPXRbbl0ubm9kZVNpemV9LGw9e2ZpcnN0Q2hpbGQ6e2NvbmZpZ3VyYWJsZTohMH0sbGFzdENoaWxkOntjb25maWd1cmFibGU6ITB9LGNoaWxkQ291bnQ6e2NvbmZpZ3VyYWJsZTohMH19O2MucHJvdG90eXBlLm5vZGVzQmV0d2Vlbj1mdW5jdGlvbih0LGUsbixyLG8pe3ZvaWQgMD09PXImJihyPTApO2Zvcih2YXIgaT0wLHM9MDtzPGU7aSsrKXt2YXIgYT10aGlzLmNvbnRlbnRbaV0sYz1zK2Eubm9kZVNpemU7aWYoYz50JiYhMSE9PW4oYSxyK3MsbyxpKSYmYS5jb250ZW50LnNpemUpe3ZhciBsPXMrMTthLm5vZGVzQmV0d2VlbihNYXRoLm1heCgwLHQtbCksTWF0aC5taW4oYS5jb250ZW50LnNpemUsZS1sKSxuLHIrbCl9cz1jfX0sYy5wcm90b3R5cGUuZGVzY2VuZGFudHM9ZnVuY3Rpb24odCl7dGhpcy5ub2Rlc0JldHdlZW4oMCx0aGlzLnNpemUsdCl9LGMucHJvdG90eXBlLnRleHRCZXR3ZWVuPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPSIiLGk9ITA7cmV0dXJuIHRoaXMubm9kZXNCZXR3ZWVuKHQsZSwoZnVuY3Rpb24ocyxhKXtzLmlzVGV4dD8obys9cy50ZXh0LnNsaWNlKE1hdGgubWF4KHQsYSktYSxlLWEpLGk9IW4pOnMuaXNMZWFmJiZyPyhvKz1yLGk9IW4pOiFpJiZzLmlzQmxvY2smJihvKz1uLGk9ITApfSksMCksb30sYy5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKHQpe2lmKCF0LnNpemUpcmV0dXJuIHRoaXM7aWYoIXRoaXMuc2l6ZSlyZXR1cm4gdDt2YXIgZT10aGlzLmxhc3RDaGlsZCxuPXQuZmlyc3RDaGlsZCxyPXRoaXMuY29udGVudC5zbGljZSgpLG89MDtmb3IoZS5pc1RleHQmJmUuc2FtZU1hcmt1cChuKSYmKHJbci5sZW5ndGgtMV09ZS53aXRoVGV4dChlLnRleHQrbi50ZXh0KSxvPTEpO288dC5jb250ZW50Lmxlbmd0aDtvKyspci5wdXNoKHQuY29udGVudFtvXSk7cmV0dXJuIG5ldyBjKHIsdGhpcy5zaXplK3Quc2l6ZSl9LGMucHJvdG90eXBlLmN1dD1mdW5jdGlvbih0LGUpe2lmKG51bGw9PWUmJihlPXRoaXMuc2l6ZSksMD09dCYmZT09dGhpcy5zaXplKXJldHVybiB0aGlzO3ZhciBuPVtdLHI9MDtpZihlPnQpZm9yKHZhciBvPTAsaT0wO2k8ZTtvKyspe3ZhciBzPXRoaXMuY29udGVudFtvXSxhPWkrcy5ub2RlU2l6ZTthPnQmJigoaTx0fHxhPmUpJiYocz1zLmlzVGV4dD9zLmN1dChNYXRoLm1heCgwLHQtaSksTWF0aC5taW4ocy50ZXh0Lmxlbmd0aCxlLWkpKTpzLmN1dChNYXRoLm1heCgwLHQtaS0xKSxNYXRoLm1pbihzLmNvbnRlbnQuc2l6ZSxlLWktMSkpKSxuLnB1c2gocykscis9cy5ub2RlU2l6ZSksaT1hfXJldHVybiBuZXcgYyhuLHIpfSxjLnByb3RvdHlwZS5jdXRCeUluZGV4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9PWU/Yy5lbXB0eTowPT10JiZlPT10aGlzLmNvbnRlbnQubGVuZ3RoP3RoaXM6bmV3IGModGhpcy5jb250ZW50LnNsaWNlKHQsZSkpfSxjLnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmNvbnRlbnRbdF07aWYobj09ZSlyZXR1cm4gdGhpczt2YXIgcj10aGlzLmNvbnRlbnQuc2xpY2UoKSxvPXRoaXMuc2l6ZStlLm5vZGVTaXplLW4ubm9kZVNpemU7cmV0dXJuIHJbdF09ZSxuZXcgYyhyLG8pfSxjLnByb3RvdHlwZS5hZGRUb1N0YXJ0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgYyhbdF0uY29uY2F0KHRoaXMuY29udGVudCksdGhpcy5zaXplK3Qubm9kZVNpemUpfSxjLnByb3RvdHlwZS5hZGRUb0VuZD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGModGhpcy5jb250ZW50LmNvbmNhdCh0KSx0aGlzLnNpemUrdC5ub2RlU2l6ZSl9LGMucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe2lmKHRoaXMuY29udGVudC5sZW5ndGghPXQuY29udGVudC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBlPTA7ZTx0aGlzLmNvbnRlbnQubGVuZ3RoO2UrKylpZighdGhpcy5jb250ZW50W2VdLmVxKHQuY29udGVudFtlXSkpcmV0dXJuITE7cmV0dXJuITB9LGwuZmlyc3RDaGlsZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aD90aGlzLmNvbnRlbnRbMF06bnVsbH0sbC5sYXN0Q2hpbGQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGg/dGhpcy5jb250ZW50W3RoaXMuY29udGVudC5sZW5ndGgtMV06bnVsbH0sbC5jaGlsZENvdW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQubGVuZ3RofSxjLnByb3RvdHlwZS5jaGlsZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRlbnRbdF07aWYoIWUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4ICIrdCsiIG91dCBvZiByYW5nZSBmb3IgIit0aGlzKTtyZXR1cm4gZX0sYy5wcm90b3R5cGUubWF5YmVDaGlsZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250ZW50W3RdfSxjLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49MDtlPHRoaXMuY29udGVudC5sZW5ndGg7ZSsrKXt2YXIgcj10aGlzLmNvbnRlbnRbZV07dChyLG4sZSksbis9ci5ub2RlU2l6ZX19LGMucHJvdG90eXBlLmZpbmREaWZmU3RhcnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCkscyh0aGlzLHQsZSl9LGMucHJvdG90eXBlLmZpbmREaWZmRW5kPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9dGhpcy5zaXplKSx2b2lkIDA9PT1uJiYobj10LnNpemUpLGEodGhpcyx0LGUsbil9LGMucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PWUmJihlPS0xKSwwPT10KXJldHVybiBwKDAsdCk7aWYodD09dGhpcy5zaXplKXJldHVybiBwKHRoaXMuY29udGVudC5sZW5ndGgsdCk7aWYodD50aGlzLnNpemV8fHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiUG9zaXRpb24gIit0KyIgb3V0c2lkZSBvZiBmcmFnbWVudCAoIit0aGlzKyIpIik7Zm9yKHZhciBuPTAscj0wOztuKyspe3ZhciBvPXRoaXMuY2hpbGQobiksaT1yK28ubm9kZVNpemU7aWYoaT49dClyZXR1cm4gaT09dHx8ZT4wP3AobisxLGkpOnAobixyKTtyPWl9fSxjLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiI8Iit0aGlzLnRvU3RyaW5nSW5uZXIoKSsiPiJ9LGMucHJvdG90eXBlLnRvU3RyaW5nSW5uZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50LmpvaW4oIiwgIil9LGMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQubGVuZ3RoP3RoaXMuY29udGVudC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvSlNPTigpfSkpOm51bGx9LGMuZnJvbUpTT049ZnVuY3Rpb24odCxlKXtpZighZSlyZXR1cm4gYy5lbXB0eTtpZighQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgRnJhZ21lbnQuZnJvbUpTT04iKTtyZXR1cm4gbmV3IGMoZS5tYXAodC5ub2RlRnJvbUpTT04pKX0sYy5mcm9tQXJyYXk9ZnVuY3Rpb24odCl7aWYoIXQubGVuZ3RoKXJldHVybiBjLmVtcHR5O2Zvcih2YXIgZSxuPTAscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO24rPW8ubm9kZVNpemUsciYmby5pc1RleHQmJnRbci0xXS5zYW1lTWFya3VwKG8pPyhlfHwoZT10LnNsaWNlKDAscikpLGVbZS5sZW5ndGgtMV09by53aXRoVGV4dChlW2UubGVuZ3RoLTFdLnRleHQrby50ZXh0KSk6ZSYmZS5wdXNoKG8pfXJldHVybiBuZXcgYyhlfHx0LG4pfSxjLmZyb209ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIGMuZW1wdHk7aWYodCBpbnN0YW5jZW9mIGMpcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdGhpcy5mcm9tQXJyYXkodCk7aWYodC5hdHRycylyZXR1cm4gbmV3IGMoW3RdLHQubm9kZVNpemUpO3Rocm93IG5ldyBSYW5nZUVycm9yKCJDYW4gbm90IGNvbnZlcnQgIit0KyIgdG8gYSBGcmFnbWVudCIrKHQubm9kZXNCZXR3ZWVuPyIgKGxvb2tzIGxpa2UgbXVsdGlwbGUgdmVyc2lvbnMgb2YgcHJvc2VtaXJyb3ItbW9kZWwgd2VyZSBsb2FkZWQpIjoiIikpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjLnByb3RvdHlwZSxsKTt2YXIgdT17aW5kZXg6MCxvZmZzZXQ6MH07ZnVuY3Rpb24gcCh0LGUpe3JldHVybiB1LmluZGV4PXQsdS5vZmZzZXQ9ZSx1fWZ1bmN0aW9uIGYodCxlKXtpZih0PT09ZSlyZXR1cm4hMDtpZighdHx8Im9iamVjdCIhPXR5cGVvZiB0fHwhZXx8Im9iamVjdCIhPXR5cGVvZiBlKXJldHVybiExO3ZhciBuPUFycmF5LmlzQXJyYXkodCk7aWYoQXJyYXkuaXNBcnJheShlKSE9bilyZXR1cm4hMTtpZihuKXtpZih0Lmxlbmd0aCE9ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspaWYoIWYodFtyXSxlW3JdKSlyZXR1cm4hMX1lbHNle2Zvcih2YXIgbyBpbiB0KWlmKCEobyBpbiBlKXx8IWYodFtvXSxlW29dKSlyZXR1cm4hMTtmb3IodmFyIGkgaW4gZSlpZighKGkgaW4gdCkpcmV0dXJuITF9cmV0dXJuITB9Yy5lbXB0eT1uZXcgYyhbXSwwKTt2YXIgZD1mdW5jdGlvbih0LGUpe3RoaXMudHlwZT10LHRoaXMuYXR0cnM9ZX07ZnVuY3Rpb24gaCh0KXt2YXIgZT1FcnJvci5jYWxsKHRoaXMsdCk7cmV0dXJuIGUuX19wcm90b19fPWgucHJvdG90eXBlLGV9ZC5wcm90b3R5cGUuYWRkVG9TZXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49ITEscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO2lmKHRoaXMuZXEobykpcmV0dXJuIHQ7aWYodGhpcy50eXBlLmV4Y2x1ZGVzKG8udHlwZSkpZXx8KGU9dC5zbGljZSgwLHIpKTtlbHNle2lmKG8udHlwZS5leGNsdWRlcyh0aGlzLnR5cGUpKXJldHVybiB0OyFuJiZvLnR5cGUucmFuaz50aGlzLnR5cGUucmFuayYmKGV8fChlPXQuc2xpY2UoMCxyKSksZS5wdXNoKHRoaXMpLG49ITApLGUmJmUucHVzaChvKX19cmV0dXJuIGV8fChlPXQuc2xpY2UoKSksbnx8ZS5wdXNoKHRoaXMpLGV9LGQucHJvdG90eXBlLnJlbW92ZUZyb21TZXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodGhpcy5lcSh0W2VdKSlyZXR1cm4gdC5zbGljZSgwLGUpLmNvbmNhdCh0LnNsaWNlKGUrMSkpO3JldHVybiB0fSxkLnByb3RvdHlwZS5pc0luU2V0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRoaXMuZXEodFtlXSkpcmV0dXJuITA7cmV0dXJuITF9LGQucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT10fHx0aGlzLnR5cGU9PXQudHlwZSYmZih0aGlzLmF0dHJzLHQuYXR0cnMpfSxkLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgdD17dHlwZTp0aGlzLnR5cGUubmFtZX07Zm9yKHZhciBlIGluIHRoaXMuYXR0cnMpe3QuYXR0cnM9dGhpcy5hdHRyczticmVha31yZXR1cm4gdH0sZC5mcm9tSlNPTj1mdW5jdGlvbih0LGUpe2lmKCFlKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBNYXJrLmZyb21KU09OIik7dmFyIG49dC5tYXJrc1tlLnR5cGVdO2lmKCFuKXRocm93IG5ldyBSYW5nZUVycm9yKCJUaGVyZSBpcyBubyBtYXJrIHR5cGUgIitlLnR5cGUrIiBpbiB0aGlzIHNjaGVtYSIpO3JldHVybiBuLmNyZWF0ZShlLmF0dHJzKX0sZC5zYW1lU2V0PWZ1bmN0aW9uKHQsZSl7aWYodD09ZSlyZXR1cm4hMDtpZih0Lmxlbmd0aCE9ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYoIXRbbl0uZXEoZVtuXSkpcmV0dXJuITE7cmV0dXJuITB9LGQuc2V0RnJvbT1mdW5jdGlvbih0KXtpZighdHx8MD09dC5sZW5ndGgpcmV0dXJuIGQubm9uZTtpZih0IGluc3RhbmNlb2YgZClyZXR1cm5bdF07dmFyIGU9dC5zbGljZSgpO3JldHVybiBlLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudHlwZS5yYW5rLWUudHlwZS5yYW5rfSkpLGV9LGQubm9uZT1bXSxoLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksaC5wcm90b3R5cGUuY29uc3RydWN0b3I9aCxoLnByb3RvdHlwZS5uYW1lPSJSZXBsYWNlRXJyb3IiO3ZhciB2PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmNvbnRlbnQ9dCx0aGlzLm9wZW5TdGFydD1lLHRoaXMub3BlbkVuZD1ufSxtPXtzaXplOntjb25maWd1cmFibGU6ITB9fTtmdW5jdGlvbiBnKHQsZSxuKXt2YXIgcj10LmZpbmRJbmRleChlKSxvPXIuaW5kZXgsaT1yLm9mZnNldCxzPXQubWF5YmVDaGlsZChvKSxhPXQuZmluZEluZGV4KG4pLGM9YS5pbmRleCxsPWEub2Zmc2V0O2lmKGk9PWV8fHMuaXNUZXh0KXtpZihsIT1uJiYhdC5jaGlsZChjKS5pc1RleHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlJlbW92aW5nIG5vbi1mbGF0IHJhbmdlIik7cmV0dXJuIHQuY3V0KDAsZSkuYXBwZW5kKHQuY3V0KG4pKX1pZihvIT1jKXRocm93IG5ldyBSYW5nZUVycm9yKCJSZW1vdmluZyBub24tZmxhdCByYW5nZSIpO3JldHVybiB0LnJlcGxhY2VDaGlsZChvLHMuY29weShnKHMuY29udGVudCxlLWktMSxuLWktMSkpKX1mdW5jdGlvbiB5KHQsZSxuLHIpe3ZhciBvPXQuZmluZEluZGV4KGUpLGk9by5pbmRleCxzPW8ub2Zmc2V0LGE9dC5tYXliZUNoaWxkKGkpO2lmKHM9PWV8fGEuaXNUZXh0KXJldHVybiByJiYhci5jYW5SZXBsYWNlKGksaSxuKT9udWxsOnQuY3V0KDAsZSkuYXBwZW5kKG4pLmFwcGVuZCh0LmN1dChlKSk7dmFyIGM9eShhLmNvbnRlbnQsZS1zLTEsbik7cmV0dXJuIGMmJnQucmVwbGFjZUNoaWxkKGksYS5jb3B5KGMpKX1mdW5jdGlvbiB3KHQsZSxuKXtpZihuLm9wZW5TdGFydD50LmRlcHRoKXRocm93IG5ldyBoKCJJbnNlcnRlZCBjb250ZW50IGRlZXBlciB0aGFuIGluc2VydGlvbiBwb3NpdGlvbiIpO2lmKHQuZGVwdGgtbi5vcGVuU3RhcnQhPWUuZGVwdGgtbi5vcGVuRW5kKXRocm93IG5ldyBoKCJJbmNvbnNpc3RlbnQgb3BlbiBkZXB0aHMiKTtyZXR1cm4gYih0LGUsbiwwKX1mdW5jdGlvbiBiKHQsZSxuLHIpe3ZhciBvPXQuaW5kZXgociksaT10Lm5vZGUocik7aWYobz09ZS5pbmRleChyKSYmcjx0LmRlcHRoLW4ub3BlblN0YXJ0KXt2YXIgcz1iKHQsZSxuLHIrMSk7cmV0dXJuIGkuY29weShpLmNvbnRlbnQucmVwbGFjZUNoaWxkKG8scykpfWlmKG4uY29udGVudC5zaXplKXtpZihuLm9wZW5TdGFydHx8bi5vcGVuRW5kfHx0LmRlcHRoIT1yfHxlLmRlcHRoIT1yKXt2YXIgYT1UKG4sdCksYz1hLnN0YXJ0LGw9YS5lbmQ7cmV0dXJuIE8oaSxNKHQsYyxsLGUscikpfXZhciB1PXQucGFyZW50LHA9dS5jb250ZW50O3JldHVybiBPKHUscC5jdXQoMCx0LnBhcmVudE9mZnNldCkuYXBwZW5kKG4uY29udGVudCkuYXBwZW5kKHAuY3V0KGUucGFyZW50T2Zmc2V0KSkpfXJldHVybiBPKGksTih0LGUscikpfWZ1bmN0aW9uIFModCxlKXtpZighZS50eXBlLmNvbXBhdGlibGVDb250ZW50KHQudHlwZSkpdGhyb3cgbmV3IGgoIkNhbm5vdCBqb2luICIrZS50eXBlLm5hbWUrIiBvbnRvICIrdC50eXBlLm5hbWUpfWZ1bmN0aW9uIGsodCxlLG4pe3ZhciByPXQubm9kZShuKTtyZXR1cm4gUyhyLGUubm9kZShuKSkscn1mdW5jdGlvbiB4KHQsZSl7dmFyIG49ZS5sZW5ndGgtMTtuPj0wJiZ0LmlzVGV4dCYmdC5zYW1lTWFya3VwKGVbbl0pP2Vbbl09dC53aXRoVGV4dChlW25dLnRleHQrdC50ZXh0KTplLnB1c2godCl9ZnVuY3Rpb24gQyh0LGUsbixyKXt2YXIgbz0oZXx8dCkubm9kZShuKSxpPTAscz1lP2UuaW5kZXgobik6by5jaGlsZENvdW50O3QmJihpPXQuaW5kZXgobiksdC5kZXB0aD5uP2krKzp0LnRleHRPZmZzZXQmJih4KHQubm9kZUFmdGVyLHIpLGkrKykpO2Zvcih2YXIgYT1pO2E8czthKyspeChvLmNoaWxkKGEpLHIpO2UmJmUuZGVwdGg9PW4mJmUudGV4dE9mZnNldCYmeChlLm5vZGVCZWZvcmUscil9ZnVuY3Rpb24gTyh0LGUpe2lmKCF0LnR5cGUudmFsaWRDb250ZW50KGUpKXRocm93IG5ldyBoKCJJbnZhbGlkIGNvbnRlbnQgZm9yIG5vZGUgIit0LnR5cGUubmFtZSk7cmV0dXJuIHQuY29weShlKX1mdW5jdGlvbiBNKHQsZSxuLHIsbyl7dmFyIGk9dC5kZXB0aD5vJiZrKHQsZSxvKzEpLHM9ci5kZXB0aD5vJiZrKG4scixvKzEpLGE9W107cmV0dXJuIEMobnVsbCx0LG8sYSksaSYmcyYmZS5pbmRleChvKT09bi5pbmRleChvKT8oUyhpLHMpLHgoTyhpLE0odCxlLG4scixvKzEpKSxhKSk6KGkmJngoTyhpLE4odCxlLG8rMSkpLGEpLEMoZSxuLG8sYSkscyYmeChPKHMsTihuLHIsbysxKSksYSkpLEMocixudWxsLG8sYSksbmV3IGMoYSl9ZnVuY3Rpb24gTih0LGUsbil7dmFyIHI9W107aWYoQyhudWxsLHQsbixyKSx0LmRlcHRoPm4pe3ZhciBvPWsodCxlLG4rMSk7eChPKG8sTih0LGUsbisxKSkscil9cmV0dXJuIEMoZSxudWxsLG4sciksbmV3IGMocil9ZnVuY3Rpb24gVCh0LGUpe2Zvcih2YXIgbj1lLmRlcHRoLXQub3BlblN0YXJ0LHI9ZS5ub2RlKG4pLG89ci5jb3B5KHQuY29udGVudCksaT1uLTE7aT49MDtpLS0pbz1lLm5vZGUoaSkuY29weShjLmZyb20obykpO3JldHVybntzdGFydDpvLnJlc29sdmVOb0NhY2hlKHQub3BlblN0YXJ0K24pLGVuZDpvLnJlc29sdmVOb0NhY2hlKG8uY29udGVudC5zaXplLXQub3BlbkVuZC1uKX19bS5zaXplLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQuc2l6ZS10aGlzLm9wZW5TdGFydC10aGlzLm9wZW5FbmR9LHYucHJvdG90eXBlLmluc2VydEF0PWZ1bmN0aW9uKHQsZSl7dmFyIG49eSh0aGlzLmNvbnRlbnQsdCt0aGlzLm9wZW5TdGFydCxlLG51bGwpO3JldHVybiBuJiZuZXcgdihuLHRoaXMub3BlblN0YXJ0LHRoaXMub3BlbkVuZCl9LHYucHJvdG90eXBlLnJlbW92ZUJldHdlZW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHYoZyh0aGlzLmNvbnRlbnQsdCt0aGlzLm9wZW5TdGFydCxlK3RoaXMub3BlblN0YXJ0KSx0aGlzLm9wZW5TdGFydCx0aGlzLm9wZW5FbmQpfSx2LnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250ZW50LmVxKHQuY29udGVudCkmJnRoaXMub3BlblN0YXJ0PT10Lm9wZW5TdGFydCYmdGhpcy5vcGVuRW5kPT10Lm9wZW5FbmR9LHYucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudCsiKCIrdGhpcy5vcGVuU3RhcnQrIiwiK3RoaXMub3BlbkVuZCsiKSJ9LHYucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe2lmKCF0aGlzLmNvbnRlbnQuc2l6ZSlyZXR1cm4gbnVsbDt2YXIgdD17Y29udGVudDp0aGlzLmNvbnRlbnQudG9KU09OKCl9O3JldHVybiB0aGlzLm9wZW5TdGFydD4wJiYodC5vcGVuU3RhcnQ9dGhpcy5vcGVuU3RhcnQpLHRoaXMub3BlbkVuZD4wJiYodC5vcGVuRW5kPXRoaXMub3BlbkVuZCksdH0sdi5mcm9tSlNPTj1mdW5jdGlvbih0LGUpe2lmKCFlKXJldHVybiB2LmVtcHR5O3ZhciBuPWUub3BlblN0YXJ0fHwwLHI9ZS5vcGVuRW5kfHwwO2lmKCJudW1iZXIiIT10eXBlb2Ygbnx8Im51bWJlciIhPXR5cGVvZiByKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBTbGljZS5mcm9tSlNPTiIpO3JldHVybiBuZXcgdihjLmZyb21KU09OKHQsZS5jb250ZW50KSxlLm9wZW5TdGFydHx8MCxlLm9wZW5FbmR8fDApfSx2Lm1heE9wZW49ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0hMCk7Zm9yKHZhciBuPTAscj0wLG89dC5maXJzdENoaWxkO28mJiFvLmlzTGVhZiYmKGV8fCFvLnR5cGUuc3BlYy5pc29sYXRpbmcpO289by5maXJzdENoaWxkKW4rKztmb3IodmFyIGk9dC5sYXN0Q2hpbGQ7aSYmIWkuaXNMZWFmJiYoZXx8IWkudHlwZS5zcGVjLmlzb2xhdGluZyk7aT1pLmxhc3RDaGlsZClyKys7cmV0dXJuIG5ldyB2KHQsbixyKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXModi5wcm90b3R5cGUsbSksdi5lbXB0eT1uZXcgdihjLmVtcHR5LDAsMCk7dmFyIEQ9ZnVuY3Rpb24odCxlLG4pe3RoaXMucG9zPXQsdGhpcy5wYXRoPWUsdGhpcy5kZXB0aD1lLmxlbmd0aC8zLTEsdGhpcy5wYXJlbnRPZmZzZXQ9bn0sQT17cGFyZW50Ontjb25maWd1cmFibGU6ITB9LGRvYzp7Y29uZmlndXJhYmxlOiEwfSx0ZXh0T2Zmc2V0Ontjb25maWd1cmFibGU6ITB9LG5vZGVBZnRlcjp7Y29uZmlndXJhYmxlOiEwfSxub2RlQmVmb3JlOntjb25maWd1cmFibGU6ITB9fTtELnByb3RvdHlwZS5yZXNvbHZlRGVwdGg9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/dGhpcy5kZXB0aDp0PDA/dGhpcy5kZXB0aCt0OnR9LEEucGFyZW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUodGhpcy5kZXB0aCl9LEEuZG9jLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUoMCl9LEQucHJvdG90eXBlLm5vZGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucGF0aFszKnRoaXMucmVzb2x2ZURlcHRoKHQpXX0sRC5wcm90b3R5cGUuaW5kZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucGF0aFszKnRoaXMucmVzb2x2ZURlcHRoKHQpKzFdfSxELnByb3RvdHlwZS5pbmRleEFmdGVyPWZ1bmN0aW9uKHQpe3JldHVybiB0PXRoaXMucmVzb2x2ZURlcHRoKHQpLHRoaXMuaW5kZXgodCkrKHQhPXRoaXMuZGVwdGh8fHRoaXMudGV4dE9mZnNldD8xOjApfSxELnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLnJlc29sdmVEZXB0aCh0KSwwPT10PzA6dGhpcy5wYXRoWzMqdC0xXSsxfSxELnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dGhpcy5yZXNvbHZlRGVwdGgodCksdGhpcy5zdGFydCh0KSt0aGlzLm5vZGUodCkuY29udGVudC5zaXplfSxELnByb3RvdHlwZS5iZWZvcmU9ZnVuY3Rpb24odCl7aWYodD10aGlzLnJlc29sdmVEZXB0aCh0KSwhdCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGhlcmUgaXMgbm8gcG9zaXRpb24gYmVmb3JlIHRoZSB0b3AtbGV2ZWwgbm9kZSIpO3JldHVybiB0PT10aGlzLmRlcHRoKzE/dGhpcy5wb3M6dGhpcy5wYXRoWzMqdC0xXX0sRC5wcm90b3R5cGUuYWZ0ZXI9ZnVuY3Rpb24odCl7aWYodD10aGlzLnJlc29sdmVEZXB0aCh0KSwhdCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGhlcmUgaXMgbm8gcG9zaXRpb24gYWZ0ZXIgdGhlIHRvcC1sZXZlbCBub2RlIik7cmV0dXJuIHQ9PXRoaXMuZGVwdGgrMT90aGlzLnBvczp0aGlzLnBhdGhbMyp0LTFdK3RoaXMucGF0aFszKnRdLm5vZGVTaXplfSxBLnRleHRPZmZzZXQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zLXRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoLTFdfSxBLm5vZGVBZnRlci5nZXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhcmVudCxlPXRoaXMuaW5kZXgodGhpcy5kZXB0aCk7aWYoZT09dC5jaGlsZENvdW50KXJldHVybiBudWxsO3ZhciBuPXRoaXMucG9zLXRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoLTFdLHI9dC5jaGlsZChlKTtyZXR1cm4gbj90LmNoaWxkKGUpLmN1dChuKTpyfSxBLm5vZGVCZWZvcmUuZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5pbmRleCh0aGlzLmRlcHRoKSxlPXRoaXMucG9zLXRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoLTFdO3JldHVybiBlP3RoaXMucGFyZW50LmNoaWxkKHQpLmN1dCgwLGUpOjA9PXQ/bnVsbDp0aGlzLnBhcmVudC5jaGlsZCh0LTEpfSxELnByb3RvdHlwZS5tYXJrcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMucGFyZW50LGU9dGhpcy5pbmRleCgpO2lmKDA9PXQuY29udGVudC5zaXplKXJldHVybiBkLm5vbmU7aWYodGhpcy50ZXh0T2Zmc2V0KXJldHVybiB0LmNoaWxkKGUpLm1hcmtzO3ZhciBuPXQubWF5YmVDaGlsZChlLTEpLHI9dC5tYXliZUNoaWxkKGUpO2lmKCFuKXt2YXIgbz1uO249cixyPW99Zm9yKHZhciBpPW4ubWFya3Mscz0wO3M8aS5sZW5ndGg7cysrKSExIT09aVtzXS50eXBlLnNwZWMuaW5jbHVzaXZlfHxyJiZpW3NdLmlzSW5TZXQoci5tYXJrcyl8fChpPWlbcy0tXS5yZW1vdmVGcm9tU2V0KGkpKTtyZXR1cm4gaX0sRC5wcm90b3R5cGUubWFya3NBY3Jvc3M9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wYXJlbnQubWF5YmVDaGlsZCh0aGlzLmluZGV4KCkpO2lmKCFlfHwhZS5pc0lubGluZSlyZXR1cm4gbnVsbDtmb3IodmFyIG49ZS5tYXJrcyxyPXQucGFyZW50Lm1heWJlQ2hpbGQodC5pbmRleCgpKSxvPTA7bzxuLmxlbmd0aDtvKyspITEhPT1uW29dLnR5cGUuc3BlYy5pbmNsdXNpdmV8fHImJm5bb10uaXNJblNldChyLm1hcmtzKXx8KG49bltvLS1dLnJlbW92ZUZyb21TZXQobikpO3JldHVybiBufSxELnByb3RvdHlwZS5zaGFyZWREZXB0aD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5kZXB0aDtlPjA7ZS0tKWlmKHRoaXMuc3RhcnQoZSk8PXQmJnRoaXMuZW5kKGUpPj10KXJldHVybiBlO3JldHVybiAwfSxELnByb3RvdHlwZS5ibG9ja1JhbmdlPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09dCYmKHQ9dGhpcyksdC5wb3M8dGhpcy5wb3MpcmV0dXJuIHQuYmxvY2tSYW5nZSh0aGlzKTtmb3IodmFyIG49dGhpcy5kZXB0aC0odGhpcy5wYXJlbnQuaW5saW5lQ29udGVudHx8dGhpcy5wb3M9PXQucG9zPzE6MCk7bj49MDtuLS0paWYodC5wb3M8PXRoaXMuZW5kKG4pJiYoIWV8fGUodGhpcy5ub2RlKG4pKSkpcmV0dXJuIG5ldyBQKHRoaXMsdCxuKX0sRC5wcm90b3R5cGUuc2FtZVBhcmVudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wb3MtdGhpcy5wYXJlbnRPZmZzZXQ9PXQucG9zLXQucGFyZW50T2Zmc2V0fSxELnByb3RvdHlwZS5tYXg9ZnVuY3Rpb24odCl7cmV0dXJuIHQucG9zPnRoaXMucG9zP3Q6dGhpc30sRC5wcm90b3R5cGUubWluPWZ1bmN0aW9uKHQpe3JldHVybiB0LnBvczx0aGlzLnBvcz90OnRoaXN9LEQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PSIiLGU9MTtlPD10aGlzLmRlcHRoO2UrKyl0Kz0odD8iLyI6IiIpK3RoaXMubm9kZShlKS50eXBlLm5hbWUrIl8iK3RoaXMuaW5kZXgoZS0xKTtyZXR1cm4gdCsiOiIrdGhpcy5wYXJlbnRPZmZzZXR9LEQucmVzb2x2ZT1mdW5jdGlvbih0LGUpe2lmKCEoZT49MCYmZTw9dC5jb250ZW50LnNpemUpKXRocm93IG5ldyBSYW5nZUVycm9yKCJQb3NpdGlvbiAiK2UrIiBvdXQgb2YgcmFuZ2UiKTtmb3IodmFyIG49W10scj0wLG89ZSxpPXQ7Oyl7dmFyIHM9aS5jb250ZW50LmZpbmRJbmRleChvKSxhPXMuaW5kZXgsYz1zLm9mZnNldCxsPW8tYztpZihuLnB1c2goaSxhLHIrYyksIWwpYnJlYWs7aWYoaT1pLmNoaWxkKGEpLGkuaXNUZXh0KWJyZWFrO289bC0xLHIrPWMrMX1yZXR1cm4gbmV3IEQoZSxuLG8pfSxELnJlc29sdmVDYWNoZWQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPEUubGVuZ3RoO24rKyl7dmFyIHI9RVtuXTtpZihyLnBvcz09ZSYmci5kb2M9PXQpcmV0dXJuIHJ9dmFyIG89RVtSXT1ELnJlc29sdmUodCxlKTtyZXR1cm4gUj0oUisxKSVfLG99LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEQucHJvdG90eXBlLEEpO3ZhciBFPVtdLFI9MCxfPTEyLFA9ZnVuY3Rpb24odCxlLG4pe3RoaXMuJGZyb209dCx0aGlzLiR0bz1lLHRoaXMuZGVwdGg9bn0sej17c3RhcnQ6e2NvbmZpZ3VyYWJsZTohMH0sZW5kOntjb25maWd1cmFibGU6ITB9LHBhcmVudDp7Y29uZmlndXJhYmxlOiEwfSxzdGFydEluZGV4Ontjb25maWd1cmFibGU6ITB9LGVuZEluZGV4Ontjb25maWd1cmFibGU6ITB9fTt6LnN0YXJ0LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRmcm9tLmJlZm9yZSh0aGlzLmRlcHRoKzEpfSx6LmVuZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kdG8uYWZ0ZXIodGhpcy5kZXB0aCsxKX0sei5wYXJlbnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGZyb20ubm9kZSh0aGlzLmRlcHRoKX0sei5zdGFydEluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRmcm9tLmluZGV4KHRoaXMuZGVwdGgpfSx6LmVuZEluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiR0by5pbmRleEFmdGVyKHRoaXMuZGVwdGgpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQLnByb3RvdHlwZSx6KTt2YXIgST1PYmplY3QuY3JlYXRlKG51bGwpLEI9ZnVuY3Rpb24odCxlLG4scil7dGhpcy50eXBlPXQsdGhpcy5hdHRycz1lLHRoaXMuY29udGVudD1ufHxjLmVtcHR5LHRoaXMubWFya3M9cnx8ZC5ub25lfSxWPXtub2RlU2l6ZTp7Y29uZmlndXJhYmxlOiEwfSxjaGlsZENvdW50Ontjb25maWd1cmFibGU6ITB9LHRleHRDb250ZW50Ontjb25maWd1cmFibGU6ITB9LGZpcnN0Q2hpbGQ6e2NvbmZpZ3VyYWJsZTohMH0sbGFzdENoaWxkOntjb25maWd1cmFibGU6ITB9LGlzQmxvY2s6e2NvbmZpZ3VyYWJsZTohMH0saXNUZXh0YmxvY2s6e2NvbmZpZ3VyYWJsZTohMH0saW5saW5lQ29udGVudDp7Y29uZmlndXJhYmxlOiEwfSxpc0lubGluZTp7Y29uZmlndXJhYmxlOiEwfSxpc1RleHQ6e2NvbmZpZ3VyYWJsZTohMH0saXNMZWFmOntjb25maWd1cmFibGU6ITB9LGlzQXRvbTp7Y29uZmlndXJhYmxlOiEwfX07Vi5ub2RlU2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0xlYWY/MToyK3RoaXMuY29udGVudC5zaXplfSxWLmNoaWxkQ291bnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudC5jaGlsZENvdW50fSxCLnByb3RvdHlwZS5jaGlsZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250ZW50LmNoaWxkKHQpfSxCLnByb3RvdHlwZS5tYXliZUNoaWxkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbnRlbnQubWF5YmVDaGlsZCh0KX0sQi5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0KXt0aGlzLmNvbnRlbnQuZm9yRWFjaCh0KX0sQi5wcm90b3R5cGUubm9kZXNCZXR3ZWVuPWZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PXImJihyPTApLHRoaXMuY29udGVudC5ub2Rlc0JldHdlZW4odCxlLG4scix0aGlzKX0sQi5wcm90b3R5cGUuZGVzY2VuZGFudHM9ZnVuY3Rpb24odCl7dGhpcy5ub2Rlc0JldHdlZW4oMCx0aGlzLmNvbnRlbnQuc2l6ZSx0KX0sVi50ZXh0Q29udGVudC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0QmV0d2VlbigwLHRoaXMuY29udGVudC5zaXplLCIiKX0sQi5wcm90b3R5cGUudGV4dEJldHdlZW49ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHRoaXMuY29udGVudC50ZXh0QmV0d2Vlbih0LGUsbixyKX0sVi5maXJzdENoaWxkLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQuZmlyc3RDaGlsZH0sVi5sYXN0Q2hpbGQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudC5sYXN0Q2hpbGR9LEIucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT10fHx0aGlzLnNhbWVNYXJrdXAodCkmJnRoaXMuY29udGVudC5lcSh0LmNvbnRlbnQpfSxCLnByb3RvdHlwZS5zYW1lTWFya3VwPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhhc01hcmt1cCh0LnR5cGUsdC5hdHRycyx0Lm1hcmtzKX0sQi5wcm90b3R5cGUuaGFzTWFya3VwPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy50eXBlPT10JiZmKHRoaXMuYXR0cnMsZXx8dC5kZWZhdWx0QXR0cnN8fEkpJiZkLnNhbWVTZXQodGhpcy5tYXJrcyxufHxkLm5vbmUpfSxCLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1udWxsKSx0PT10aGlzLmNvbnRlbnQ/dGhpczpuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLnR5cGUsdGhpcy5hdHRycyx0LHRoaXMubWFya3MpfSxCLnByb3RvdHlwZS5tYXJrPWZ1bmN0aW9uKHQpe3JldHVybiB0PT10aGlzLm1hcmtzP3RoaXM6bmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy50eXBlLHRoaXMuYXR0cnMsdGhpcy5jb250ZW50LHQpfSxCLnByb3RvdHlwZS5jdXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gMD09dCYmZT09dGhpcy5jb250ZW50LnNpemU/dGhpczp0aGlzLmNvcHkodGhpcy5jb250ZW50LmN1dCh0LGUpKX0sQi5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCxlLG4pe2lmKHZvaWQgMD09PWUmJihlPXRoaXMuY29udGVudC5zaXplKSx2b2lkIDA9PT1uJiYobj0hMSksdD09ZSlyZXR1cm4gdi5lbXB0eTt2YXIgcj10aGlzLnJlc29sdmUodCksbz10aGlzLnJlc29sdmUoZSksaT1uPzA6ci5zaGFyZWREZXB0aChlKSxzPXIuc3RhcnQoaSksYT1yLm5vZGUoaSksYz1hLmNvbnRlbnQuY3V0KHIucG9zLXMsby5wb3Mtcyk7cmV0dXJuIG5ldyB2KGMsci5kZXB0aC1pLG8uZGVwdGgtaSl9LEIucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB3KHRoaXMucmVzb2x2ZSh0KSx0aGlzLnJlc29sdmUoZSksbil9LEIucHJvdG90eXBlLm5vZGVBdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpczs7KXt2YXIgbj1lLmNvbnRlbnQuZmluZEluZGV4KHQpLHI9bi5pbmRleCxvPW4ub2Zmc2V0O2lmKGU9ZS5tYXliZUNoaWxkKHIpLCFlKXJldHVybiBudWxsO2lmKG89PXR8fGUuaXNUZXh0KXJldHVybiBlO3QtPW8rMX19LEIucHJvdG90eXBlLmNoaWxkQWZ0ZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZW50LmZpbmRJbmRleCh0KSxuPWUuaW5kZXgscj1lLm9mZnNldDtyZXR1cm57bm9kZTp0aGlzLmNvbnRlbnQubWF5YmVDaGlsZChuKSxpbmRleDpuLG9mZnNldDpyfX0sQi5wcm90b3R5cGUuY2hpbGRCZWZvcmU9ZnVuY3Rpb24odCl7aWYoMD09dClyZXR1cm57bm9kZTpudWxsLGluZGV4OjAsb2Zmc2V0OjB9O3ZhciBlPXRoaXMuY29udGVudC5maW5kSW5kZXgodCksbj1lLmluZGV4LHI9ZS5vZmZzZXQ7aWYocjx0KXJldHVybntub2RlOnRoaXMuY29udGVudC5jaGlsZChuKSxpbmRleDpuLG9mZnNldDpyfTt2YXIgbz10aGlzLmNvbnRlbnQuY2hpbGQobi0xKTtyZXR1cm57bm9kZTpvLGluZGV4Om4tMSxvZmZzZXQ6ci1vLm5vZGVTaXplfX0sQi5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0KXtyZXR1cm4gRC5yZXNvbHZlQ2FjaGVkKHRoaXMsdCl9LEIucHJvdG90eXBlLnJlc29sdmVOb0NhY2hlPWZ1bmN0aW9uKHQpe3JldHVybiBELnJlc29sdmUodGhpcyx0KX0sQi5wcm90b3R5cGUucmFuZ2VIYXNNYXJrPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0hMTtyZXR1cm4gZT50JiZ0aGlzLm5vZGVzQmV0d2Vlbih0LGUsKGZ1bmN0aW9uKHQpe3JldHVybiBuLmlzSW5TZXQodC5tYXJrcykmJihyPSEwKSwhcn0pKSxyfSxWLmlzQmxvY2suZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5pc0Jsb2NrfSxWLmlzVGV4dGJsb2NrLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUuaXNUZXh0YmxvY2t9LFYuaW5saW5lQ29udGVudC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLmlubGluZUNvbnRlbnR9LFYuaXNJbmxpbmUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5pc0lubGluZX0sVi5pc1RleHQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5pc1RleHR9LFYuaXNMZWFmLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUuaXNMZWFmfSxWLmlzQXRvbS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLmlzQXRvbX0sQi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLnR5cGUuc3BlYy50b0RlYnVnU3RyaW5nKXJldHVybiB0aGlzLnR5cGUuc3BlYy50b0RlYnVnU3RyaW5nKHRoaXMpO3ZhciB0PXRoaXMudHlwZS5uYW1lO3JldHVybiB0aGlzLmNvbnRlbnQuc2l6ZSYmKHQrPSIoIit0aGlzLmNvbnRlbnQudG9TdHJpbmdJbm5lcigpKyIpIiksaih0aGlzLm1hcmtzLHQpfSxCLnByb3RvdHlwZS5jb250ZW50TWF0Y2hBdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnR5cGUuY29udGVudE1hdGNoLm1hdGNoRnJhZ21lbnQodGhpcy5jb250ZW50LDAsdCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJDYWxsZWQgY29udGVudE1hdGNoQXQgb24gYSBub2RlIHdpdGggaW52YWxpZCBjb250ZW50Iik7cmV0dXJuIGV9LEIucHJvdG90eXBlLmNhblJlcGxhY2U9ZnVuY3Rpb24odCxlLG4scixvKXt2b2lkIDA9PT1uJiYobj1jLmVtcHR5KSx2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT1vJiYobz1uLmNoaWxkQ291bnQpO3ZhciBpPXRoaXMuY29udGVudE1hdGNoQXQodCkubWF0Y2hGcmFnbWVudChuLHIsbykscz1pJiZpLm1hdGNoRnJhZ21lbnQodGhpcy5jb250ZW50LGUpO2lmKCFzfHwhcy52YWxpZEVuZClyZXR1cm4hMTtmb3IodmFyIGE9cjthPG87YSsrKWlmKCF0aGlzLnR5cGUuYWxsb3dzTWFya3Mobi5jaGlsZChhKS5tYXJrcykpcmV0dXJuITE7cmV0dXJuITB9LEIucHJvdG90eXBlLmNhblJlcGxhY2VXaXRoPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHImJiF0aGlzLnR5cGUuYWxsb3dzTWFya3MocikpcmV0dXJuITE7dmFyIG89dGhpcy5jb250ZW50TWF0Y2hBdCh0KS5tYXRjaFR5cGUobiksaT1vJiZvLm1hdGNoRnJhZ21lbnQodGhpcy5jb250ZW50LGUpO3JldHVybiEhaSYmaS52YWxpZEVuZH0sQi5wcm90b3R5cGUuY2FuQXBwZW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbnRlbnQuc2l6ZT90aGlzLmNhblJlcGxhY2UodGhpcy5jaGlsZENvdW50LHRoaXMuY2hpbGRDb3VudCx0LmNvbnRlbnQpOnRoaXMudHlwZS5jb21wYXRpYmxlQ29udGVudCh0LnR5cGUpfSxCLnByb3RvdHlwZS5kZWZhdWx0Q29udGVudFR5cGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udGVudE1hdGNoQXQodCkuZGVmYXVsdFR5cGV9LEIucHJvdG90eXBlLmNoZWNrPWZ1bmN0aW9uKCl7aWYoIXRoaXMudHlwZS52YWxpZENvbnRlbnQodGhpcy5jb250ZW50KSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBjb250ZW50IGZvciBub2RlICIrdGhpcy50eXBlLm5hbWUrIjogIit0aGlzLmNvbnRlbnQudG9TdHJpbmcoKS5zbGljZSgwLDUwKSk7dGhpcy5jb250ZW50LmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNoZWNrKCl9KSl9LEIucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciB0PXt0eXBlOnRoaXMudHlwZS5uYW1lfTtmb3IodmFyIGUgaW4gdGhpcy5hdHRycyl7dC5hdHRycz10aGlzLmF0dHJzO2JyZWFrfXJldHVybiB0aGlzLmNvbnRlbnQuc2l6ZSYmKHQuY29udGVudD10aGlzLmNvbnRlbnQudG9KU09OKCkpLHRoaXMubWFya3MubGVuZ3RoJiYodC5tYXJrcz10aGlzLm1hcmtzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudG9KU09OKCl9KSkpLHR9LEIuZnJvbUpTT049ZnVuY3Rpb24odCxlKXtpZighZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgTm9kZS5mcm9tSlNPTiIpO3ZhciBuPW51bGw7aWYoZS5tYXJrcyl7aWYoIUFycmF5LmlzQXJyYXkoZS5tYXJrcykpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgbWFyayBkYXRhIGZvciBOb2RlLmZyb21KU09OIik7bj1lLm1hcmtzLm1hcCh0Lm1hcmtGcm9tSlNPTil9aWYoInRleHQiPT1lLnR5cGUpe2lmKCJzdHJpbmciIT10eXBlb2YgZS50ZXh0KXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIHRleHQgbm9kZSBpbiBKU09OIik7cmV0dXJuIHQudGV4dChlLnRleHQsbil9dmFyIHI9Yy5mcm9tSlNPTih0LGUuY29udGVudCk7cmV0dXJuIHQubm9kZVR5cGUoZS50eXBlKS5jcmVhdGUoZS5hdHRycyxyLG4pfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhCLnByb3RvdHlwZSxWKTt2YXIgRj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8pe2lmKHQuY2FsbCh0aGlzLGUsbixudWxsLG8pLCFyKXRocm93IG5ldyBSYW5nZUVycm9yKCJFbXB0eSB0ZXh0IG5vZGVzIGFyZSBub3QgYWxsb3dlZCIpO3RoaXMudGV4dD1yfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXt0ZXh0Q29udGVudDp7Y29uZmlndXJhYmxlOiEwfSxub2RlU2l6ZTp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5zcGVjLnRvRGVidWdTdHJpbmc/dGhpcy50eXBlLnNwZWMudG9EZWJ1Z1N0cmluZyh0aGlzKTpqKHRoaXMubWFya3MsSlNPTi5zdHJpbmdpZnkodGhpcy50ZXh0KSl9LG4udGV4dENvbnRlbnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dH0sZS5wcm90b3R5cGUudGV4dEJldHdlZW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50ZXh0LnNsaWNlKHQsZSl9LG4ubm9kZVNpemUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dC5sZW5ndGh9LGUucHJvdG90eXBlLm1hcms9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PXRoaXMubWFya3M/dGhpczpuZXcgZSh0aGlzLnR5cGUsdGhpcy5hdHRycyx0aGlzLnRleHQsdCl9LGUucHJvdG90eXBlLndpdGhUZXh0PWZ1bmN0aW9uKHQpe3JldHVybiB0PT10aGlzLnRleHQ/dGhpczpuZXcgZSh0aGlzLnR5cGUsdGhpcy5hdHRycyx0LHRoaXMubWFya3MpfSxlLnByb3RvdHlwZS5jdXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09ZSYmKGU9dGhpcy50ZXh0Lmxlbmd0aCksMD09dCYmZT09dGhpcy50ZXh0Lmxlbmd0aD90aGlzOnRoaXMud2l0aFRleHQodGhpcy50ZXh0LnNsaWNlKHQsZSkpfSxlLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zYW1lTWFya3VwKHQpJiZ0aGlzLnRleHQ9PXQudGV4dH0sZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIGU9dC5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7cmV0dXJuIGUudGV4dD10aGlzLnRleHQsZX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsbiksZX0oQik7ZnVuY3Rpb24gaih0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aC0xO24+PTA7bi0tKWU9dFtuXS50eXBlLm5hbWUrIigiK2UrIikiO3JldHVybiBlfXZhciAkPWZ1bmN0aW9uKHQpe3RoaXMudmFsaWRFbmQ9dCx0aGlzLm5leHQ9W10sdGhpcy53cmFwQ2FjaGU9W119LEw9e2lubGluZUNvbnRlbnQ6e2NvbmZpZ3VyYWJsZTohMH0sZGVmYXVsdFR5cGU6e2NvbmZpZ3VyYWJsZTohMH0sZWRnZUNvdW50Ontjb25maWd1cmFibGU6ITB9fTskLnBhcnNlPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IEgodCxlKTtpZihudWxsPT1uLm5leHQpcmV0dXJuICQuZW1wdHk7dmFyIHI9cShuKTtuLm5leHQmJm4uZXJyKCJVbmV4cGVjdGVkIHRyYWlsaW5nIHRleHQiKTt2YXIgbz1ldChaKHIpKTtyZXR1cm4gbnQobyxuKSxvfSwkLnByb3RvdHlwZS5tYXRjaFR5cGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLm5leHQubGVuZ3RoO2UrPTIpaWYodGhpcy5uZXh0W2VdPT10KXJldHVybiB0aGlzLm5leHRbZSsxXTtyZXR1cm4gbnVsbH0sJC5wcm90b3R5cGUubWF0Y2hGcmFnbWVudD1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09biYmKG49dC5jaGlsZENvdW50KTtmb3IodmFyIHI9dGhpcyxvPWU7ciYmbzxuO28rKylyPXIubWF0Y2hUeXBlKHQuY2hpbGQobykudHlwZSk7cmV0dXJuIHJ9LEwuaW5saW5lQ29udGVudC5nZXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm5leHRbMF07cmV0dXJuISF0JiZ0LmlzSW5saW5lfSxMLmRlZmF1bHRUeXBlLmdldD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5uZXh0Lmxlbmd0aDt0Kz0yKXt2YXIgZT10aGlzLm5leHRbdF07aWYoIWUuaXNUZXh0JiYhZS5oYXNSZXF1aXJlZEF0dHJzKCkpcmV0dXJuIGV9fSwkLnByb3RvdHlwZS5jb21wYXRpYmxlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5uZXh0Lmxlbmd0aDtlKz0yKWZvcih2YXIgbj0wO248dC5uZXh0Lmxlbmd0aDtuKz0yKWlmKHRoaXMubmV4dFtlXT09dC5uZXh0W25dKXJldHVybiEwO3JldHVybiExfSwkLnByb3RvdHlwZS5maWxsQmVmb3JlPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT0hMSksdm9pZCAwPT09biYmKG49MCk7dmFyIHI9W3RoaXNdO2Z1bmN0aW9uIG8oaSxzKXt2YXIgYT1pLm1hdGNoRnJhZ21lbnQodCxuKTtpZihhJiYoIWV8fGEudmFsaWRFbmQpKXJldHVybiBjLmZyb20ocy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNyZWF0ZUFuZEZpbGwoKX0pKSk7Zm9yKHZhciBsPTA7bDxpLm5leHQubGVuZ3RoO2wrPTIpe3ZhciB1PWkubmV4dFtsXSxwPWkubmV4dFtsKzFdO2lmKCF1LmlzVGV4dCYmIXUuaGFzUmVxdWlyZWRBdHRycygpJiYtMT09ci5pbmRleE9mKHApKXtyLnB1c2gocCk7dmFyIGY9byhwLHMuY29uY2F0KHUpKTtpZihmKXJldHVybiBmfX19cmV0dXJuIG8odGhpcyxbXSl9LCQucHJvdG90eXBlLmZpbmRXcmFwcGluZz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMud3JhcENhY2hlLmxlbmd0aDtlKz0yKWlmKHRoaXMud3JhcENhY2hlW2VdPT10KXJldHVybiB0aGlzLndyYXBDYWNoZVtlKzFdO3ZhciBuPXRoaXMuY29tcHV0ZVdyYXBwaW5nKHQpO3JldHVybiB0aGlzLndyYXBDYWNoZS5wdXNoKHQsbiksbn0sJC5wcm90b3R5cGUuY29tcHV0ZVdyYXBwaW5nPWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCksbj1be21hdGNoOnRoaXMsdHlwZTpudWxsLHZpYTpudWxsfV07d2hpbGUobi5sZW5ndGgpe3ZhciByPW4uc2hpZnQoKSxvPXIubWF0Y2g7aWYoby5tYXRjaFR5cGUodCkpe2Zvcih2YXIgaT1bXSxzPXI7cy50eXBlO3M9cy52aWEpaS5wdXNoKHMudHlwZSk7cmV0dXJuIGkucmV2ZXJzZSgpfWZvcih2YXIgYT0wO2E8by5uZXh0Lmxlbmd0aDthKz0yKXt2YXIgYz1vLm5leHRbYV07Yy5pc0xlYWZ8fGMuaGFzUmVxdWlyZWRBdHRycygpfHxjLm5hbWUgaW4gZXx8ci50eXBlJiYhby5uZXh0W2ErMV0udmFsaWRFbmR8fChuLnB1c2goe21hdGNoOmMuY29udGVudE1hdGNoLHR5cGU6Yyx2aWE6cn0pLGVbYy5uYW1lXT0hMCl9fX0sTC5lZGdlQ291bnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmV4dC5sZW5ndGg+PjF9LCQucHJvdG90eXBlLmVkZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dDw8MTtpZihlPj10aGlzLm5leHQubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJUaGVyZSdzIG5vICIrdCsidGggZWRnZSBpbiB0aGlzIGNvbnRlbnQgbWF0Y2giKTtyZXR1cm57dHlwZTp0aGlzLm5leHRbZV0sbmV4dDp0aGlzLm5leHRbZSsxXX19LCQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9W107ZnVuY3Rpb24gZShuKXt0LnB1c2gobik7Zm9yKHZhciByPTE7cjxuLm5leHQubGVuZ3RoO3IrPTIpLTE9PXQuaW5kZXhPZihuLm5leHRbcl0pJiZlKG4ubmV4dFtyXSl9cmV0dXJuIGUodGhpcyksdC5tYXAoKGZ1bmN0aW9uKGUsbil7Zm9yKHZhciByPW4rKGUudmFsaWRFbmQ/IioiOiIgIikrIiAiLG89MDtvPGUubmV4dC5sZW5ndGg7bys9MilyKz0obz8iLCAiOiIiKStlLm5leHRbb10ubmFtZSsiLT4iK3QuaW5kZXhPZihlLm5leHRbbysxXSk7cmV0dXJuIHJ9KSkuam9pbigiXG4iKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoJC5wcm90b3R5cGUsTCksJC5lbXB0eT1uZXcgJCghMCk7dmFyIEg9ZnVuY3Rpb24odCxlKXt0aGlzLnN0cmluZz10LHRoaXMubm9kZVR5cGVzPWUsdGhpcy5pbmxpbmU9bnVsbCx0aGlzLnBvcz0wLHRoaXMudG9rZW5zPXQuc3BsaXQoL1xzKig/PVxifFxXfCQpLyksIiI9PXRoaXMudG9rZW5zW3RoaXMudG9rZW5zLmxlbmd0aC0xXSYmdGhpcy50b2tlbnMucG9wKCksIiI9PXRoaXMudG9rZW5zWzBdJiZ0aGlzLnRva2Vucy51bnNoaWZ0KCl9LFc9e25leHQ6e2NvbmZpZ3VyYWJsZTohMH19O2Z1bmN0aW9uIHEodCl7dmFyIGU9W107ZG97ZS5wdXNoKEoodCkpfXdoaWxlKHQuZWF0KCJ8IikpO3JldHVybiAxPT1lLmxlbmd0aD9lWzBdOnt0eXBlOiJjaG9pY2UiLGV4cHJzOmV9fWZ1bmN0aW9uIEoodCl7dmFyIGU9W107ZG97ZS5wdXNoKEsodCkpfXdoaWxlKHQubmV4dCYmIikiIT10Lm5leHQmJiJ8IiE9dC5uZXh0KTtyZXR1cm4gMT09ZS5sZW5ndGg/ZVswXTp7dHlwZToic2VxIixleHByczplfX1mdW5jdGlvbiBLKHQpe2Zvcih2YXIgZT1ZKHQpOzspaWYodC5lYXQoIisiKSllPXt0eXBlOiJwbHVzIixleHByOmV9O2Vsc2UgaWYodC5lYXQoIioiKSllPXt0eXBlOiJzdGFyIixleHByOmV9O2Vsc2UgaWYodC5lYXQoIj8iKSllPXt0eXBlOiJvcHQiLGV4cHI6ZX07ZWxzZXtpZighdC5lYXQoInsiKSlicmVhaztlPUcodCxlKX1yZXR1cm4gZX1mdW5jdGlvbiBVKHQpey9cRC8udGVzdCh0Lm5leHQpJiZ0LmVycigiRXhwZWN0ZWQgbnVtYmVyLCBnb3QgJyIrdC5uZXh0KyInIik7dmFyIGU9TnVtYmVyKHQubmV4dCk7cmV0dXJuIHQucG9zKyssZX1mdW5jdGlvbiBHKHQsZSl7dmFyIG49VSh0KSxyPW47cmV0dXJuIHQuZWF0KCIsIikmJihyPSJ9IiE9dC5uZXh0P1UodCk6LTEpLHQuZWF0KCJ9Iil8fHQuZXJyKCJVbmNsb3NlZCBicmFjZWQgcmFuZ2UiKSx7dHlwZToicmFuZ2UiLG1pbjpuLG1heDpyLGV4cHI6ZX19ZnVuY3Rpb24gWCh0LGUpe3ZhciBuPXQubm9kZVR5cGVzLHI9bltlXTtpZihyKXJldHVybltyXTt2YXIgbz1bXTtmb3IodmFyIGkgaW4gbil7dmFyIHM9bltpXTtzLmdyb3Vwcy5pbmRleE9mKGUpPi0xJiZvLnB1c2gocyl9cmV0dXJuIDA9PW8ubGVuZ3RoJiZ0LmVycigiTm8gbm9kZSB0eXBlIG9yIGdyb3VwICciK2UrIicgZm91bmQiKSxvfWZ1bmN0aW9uIFkodCl7aWYodC5lYXQoIigiKSl7dmFyIGU9cSh0KTtyZXR1cm4gdC5lYXQoIikiKXx8dC5lcnIoIk1pc3NpbmcgY2xvc2luZyBwYXJlbiIpLGV9aWYoIS9cVy8udGVzdCh0Lm5leHQpKXt2YXIgbj1YKHQsdC5uZXh0KS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT10LmlubGluZT90LmlubGluZT1lLmlzSW5saW5lOnQuaW5saW5lIT1lLmlzSW5saW5lJiZ0LmVycigiTWl4aW5nIGlubGluZSBhbmQgYmxvY2sgY29udGVudCIpLHt0eXBlOiJuYW1lIix2YWx1ZTplfX0pKTtyZXR1cm4gdC5wb3MrKywxPT1uLmxlbmd0aD9uWzBdOnt0eXBlOiJjaG9pY2UiLGV4cHJzOm59fXQuZXJyKCJVbmV4cGVjdGVkIHRva2VuICciK3QubmV4dCsiJyIpfWZ1bmN0aW9uIFoodCl7dmFyIGU9W1tdXTtyZXR1cm4gbyhpKHQsMCksbigpKSxlO2Z1bmN0aW9uIG4oKXtyZXR1cm4gZS5wdXNoKFtdKS0xfWZ1bmN0aW9uIHIodCxuLHIpe3ZhciBvPXt0ZXJtOnIsdG86bn07cmV0dXJuIGVbdF0ucHVzaChvKSxvfWZ1bmN0aW9uIG8odCxlKXt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvPWV9KSl9ZnVuY3Rpb24gaSh0LGUpe2lmKCJjaG9pY2UiPT10LnR5cGUpcmV0dXJuIHQuZXhwcnMucmVkdWNlKChmdW5jdGlvbih0LG4pe3JldHVybiB0LmNvbmNhdChpKG4sZSkpfSksW10pO2lmKCJzZXEiPT10LnR5cGUpZm9yKHZhciBzPTA7O3MrKyl7dmFyIGE9aSh0LmV4cHJzW3NdLGUpO2lmKHM9PXQuZXhwcnMubGVuZ3RoLTEpcmV0dXJuIGE7byhhLGU9bigpKX1lbHNle2lmKCJzdGFyIj09dC50eXBlKXt2YXIgYz1uKCk7cmV0dXJuIHIoZSxjKSxvKGkodC5leHByLGMpLGMpLFtyKGMpXX1pZigicGx1cyI9PXQudHlwZSl7dmFyIGw9bigpO3JldHVybiBvKGkodC5leHByLGUpLGwpLG8oaSh0LmV4cHIsbCksbCksW3IobCldfWlmKCJvcHQiPT10LnR5cGUpcmV0dXJuW3IoZSldLmNvbmNhdChpKHQuZXhwcixlKSk7aWYoInJhbmdlIj09dC50eXBlKXtmb3IodmFyIHU9ZSxwPTA7cDx0Lm1pbjtwKyspe3ZhciBmPW4oKTtvKGkodC5leHByLHUpLGYpLHU9Zn1pZigtMT09dC5tYXgpbyhpKHQuZXhwcix1KSx1KTtlbHNlIGZvcih2YXIgZD10Lm1pbjtkPHQubWF4O2QrKyl7dmFyIGg9bigpO3IodSxoKSxvKGkodC5leHByLHUpLGgpLHU9aH1yZXR1cm5bcih1KV19aWYoIm5hbWUiPT10LnR5cGUpcmV0dXJuW3IoZSxudWxsLHQudmFsdWUpXX19fWZ1bmN0aW9uIFEodCxlKXtyZXR1cm4gZS10fWZ1bmN0aW9uIHR0KHQsZSl7dmFyIG49W107cmV0dXJuIHIoZSksbi5zb3J0KFEpO2Z1bmN0aW9uIHIoZSl7dmFyIG89dFtlXTtpZigxPT1vLmxlbmd0aCYmIW9bMF0udGVybSlyZXR1cm4gcihvWzBdLnRvKTtuLnB1c2goZSk7Zm9yKHZhciBpPTA7aTxvLmxlbmd0aDtpKyspe3ZhciBzPW9baV0sYT1zLnRlcm0sYz1zLnRvO2F8fC0xIT1uLmluZGV4T2YoYyl8fHIoYyl9fX1mdW5jdGlvbiBldCh0KXt2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybiBuKHR0KHQsMCkpO2Z1bmN0aW9uIG4ocil7dmFyIG89W107ci5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2VdLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUudGVybSxyPWUudG87aWYobil7dmFyIGk9by5pbmRleE9mKG4pLHM9aT4tMSYmb1tpKzFdO3R0KHQscikuZm9yRWFjaCgoZnVuY3Rpb24odCl7c3x8by5wdXNoKG4scz1bXSksLTE9PXMuaW5kZXhPZih0KSYmcy5wdXNoKHQpfSkpfX0pKX0pKTtmb3IodmFyIGk9ZVtyLmpvaW4oIiwiKV09bmV3ICQoci5pbmRleE9mKHQubGVuZ3RoLTEpPi0xKSxzPTA7czxvLmxlbmd0aDtzKz0yKXt2YXIgYT1vW3MrMV0uc29ydChRKTtpLm5leHQucHVzaChvW3NdLGVbYS5qb2luKCIsIildfHxuKGEpKX1yZXR1cm4gaX19ZnVuY3Rpb24gbnQodCxlKXtmb3IodmFyIG49MCxyPVt0XTtuPHIubGVuZ3RoO24rKyl7Zm9yKHZhciBvPXJbbl0saT0hby52YWxpZEVuZCxzPVtdLGE9MDthPG8ubmV4dC5sZW5ndGg7YSs9Mil7dmFyIGM9by5uZXh0W2FdLGw9by5uZXh0W2ErMV07cy5wdXNoKGMubmFtZSksIWl8fGMuaXNUZXh0fHxjLmhhc1JlcXVpcmVkQXR0cnMoKXx8KGk9ITEpLC0xPT1yLmluZGV4T2YobCkmJnIucHVzaChsKX1pJiZlLmVycigiT25seSBub24tZ2VuZXJhdGFibGUgbm9kZXMgKCIrcy5qb2luKCIsICIpKyIpIGluIGEgcmVxdWlyZWQgcG9zaXRpb24iKX19ZnVuY3Rpb24gcnQodCl7dmFyIGU9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIG4gaW4gdCl7dmFyIHI9dFtuXTtpZighci5oYXNEZWZhdWx0KXJldHVybiBudWxsO2Vbbl09ci5kZWZhdWx0fXJldHVybiBlfWZ1bmN0aW9uIG90KHQsZSl7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIHIgaW4gdCl7dmFyIG89ZSYmZVtyXTtpZih2b2lkIDA9PT1vKXt2YXIgaT10W3JdO2lmKCFpLmhhc0RlZmF1bHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vIHZhbHVlIHN1cHBsaWVkIGZvciBhdHRyaWJ1dGUgIityKTtvPWkuZGVmYXVsdH1uW3JdPW99cmV0dXJuIG59ZnVuY3Rpb24gaXQodCl7dmFyIGU9T2JqZWN0LmNyZWF0ZShudWxsKTtpZih0KWZvcih2YXIgbiBpbiB0KWVbbl09bmV3IGN0KHRbbl0pO3JldHVybiBlfVcubmV4dC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b2tlbnNbdGhpcy5wb3NdfSxILnByb3RvdHlwZS5lYXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmV4dD09dCYmKHRoaXMucG9zKyt8fCEwKX0sSC5wcm90b3R5cGUuZXJyPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBTeW50YXhFcnJvcih0KyIgKGluIGNvbnRlbnQgZXhwcmVzc2lvbiAnIit0aGlzLnN0cmluZysiJykiKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoSC5wcm90b3R5cGUsVyk7dmFyIHN0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLm5hbWU9dCx0aGlzLnNjaGVtYT1lLHRoaXMuc3BlYz1uLHRoaXMuZ3JvdXBzPW4uZ3JvdXA/bi5ncm91cC5zcGxpdCgiICIpOltdLHRoaXMuYXR0cnM9aXQobi5hdHRycyksdGhpcy5kZWZhdWx0QXR0cnM9cnQodGhpcy5hdHRycyksdGhpcy5jb250ZW50TWF0Y2g9bnVsbCx0aGlzLm1hcmtTZXQ9bnVsbCx0aGlzLmlubGluZUNvbnRlbnQ9bnVsbCx0aGlzLmlzQmxvY2s9IShuLmlubGluZXx8InRleHQiPT10KSx0aGlzLmlzVGV4dD0idGV4dCI9PXR9LGF0PXtpc0lubGluZTp7Y29uZmlndXJhYmxlOiEwfSxpc1RleHRibG9jazp7Y29uZmlndXJhYmxlOiEwfSxpc0xlYWY6e2NvbmZpZ3VyYWJsZTohMH0saXNBdG9tOntjb25maWd1cmFibGU6ITB9fTthdC5pc0lubGluZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0Jsb2NrfSxhdC5pc1RleHRibG9jay5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Jsb2NrJiZ0aGlzLmlubGluZUNvbnRlbnR9LGF0LmlzTGVhZi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50TWF0Y2g9PSQuZW1wdHl9LGF0LmlzQXRvbS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0xlYWZ8fHRoaXMuc3BlYy5hdG9tfSxzdC5wcm90b3R5cGUuaGFzUmVxdWlyZWRBdHRycz1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdGhpcy5hdHRycylpZih0aGlzLmF0dHJzW2VdLmlzUmVxdWlyZWQmJighdHx8IShlIGluIHQpKSlyZXR1cm4hMDtyZXR1cm4hMX0sc3QucHJvdG90eXBlLmNvbXBhdGlibGVDb250ZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT10fHx0aGlzLmNvbnRlbnRNYXRjaC5jb21wYXRpYmxlKHQuY29udGVudE1hdGNoKX0sc3QucHJvdG90eXBlLmNvbXB1dGVBdHRycz1mdW5jdGlvbih0KXtyZXR1cm4hdCYmdGhpcy5kZWZhdWx0QXR0cnM/dGhpcy5kZWZhdWx0QXR0cnM6b3QodGhpcy5hdHRycyx0KX0sc3QucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbih0LGUsbil7aWYodGhpcy5pc1RleHQpdGhyb3cgbmV3IEVycm9yKCJOb2RlVHlwZS5jcmVhdGUgY2FuJ3QgY29uc3RydWN0IHRleHQgbm9kZXMiKTtyZXR1cm4gbmV3IEIodGhpcyx0aGlzLmNvbXB1dGVBdHRycyh0KSxjLmZyb20oZSksZC5zZXRGcm9tKG4pKX0sc3QucHJvdG90eXBlLmNyZWF0ZUNoZWNrZWQ9ZnVuY3Rpb24odCxlLG4pe2lmKGU9Yy5mcm9tKGUpLCF0aGlzLnZhbGlkQ29udGVudChlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBjb250ZW50IGZvciBub2RlICIrdGhpcy5uYW1lKTtyZXR1cm4gbmV3IEIodGhpcyx0aGlzLmNvbXB1dGVBdHRycyh0KSxlLGQuc2V0RnJvbShuKSl9LHN0LnByb3RvdHlwZS5jcmVhdGVBbmRGaWxsPWZ1bmN0aW9uKHQsZSxuKXtpZih0PXRoaXMuY29tcHV0ZUF0dHJzKHQpLGU9Yy5mcm9tKGUpLGUuc2l6ZSl7dmFyIHI9dGhpcy5jb250ZW50TWF0Y2guZmlsbEJlZm9yZShlKTtpZighcilyZXR1cm4gbnVsbDtlPXIuYXBwZW5kKGUpfXZhciBvPXRoaXMuY29udGVudE1hdGNoLm1hdGNoRnJhZ21lbnQoZSkuZmlsbEJlZm9yZShjLmVtcHR5LCEwKTtyZXR1cm4gbz9uZXcgQih0aGlzLHQsZS5hcHBlbmQobyksZC5zZXRGcm9tKG4pKTpudWxsfSxzdC5wcm90b3R5cGUudmFsaWRDb250ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGVudE1hdGNoLm1hdGNoRnJhZ21lbnQodCk7aWYoIWV8fCFlLnZhbGlkRW5kKXJldHVybiExO2Zvcih2YXIgbj0wO248dC5jaGlsZENvdW50O24rKylpZighdGhpcy5hbGxvd3NNYXJrcyh0LmNoaWxkKG4pLm1hcmtzKSlyZXR1cm4hMTtyZXR1cm4hMH0sc3QucHJvdG90eXBlLmFsbG93c01hcmtUeXBlPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10aGlzLm1hcmtTZXR8fHRoaXMubWFya1NldC5pbmRleE9mKHQpPi0xfSxzdC5wcm90b3R5cGUuYWxsb3dzTWFya3M9ZnVuY3Rpb24odCl7aWYobnVsbD09dGhpcy5tYXJrU2V0KXJldHVybiEwO2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKCF0aGlzLmFsbG93c01hcmtUeXBlKHRbZV0udHlwZSkpcmV0dXJuITE7cmV0dXJuITB9LHN0LnByb3RvdHlwZS5hbGxvd2VkTWFya3M9ZnVuY3Rpb24odCl7aWYobnVsbD09dGhpcy5tYXJrU2V0KXJldHVybiB0O2Zvcih2YXIgZSxuPTA7bjx0Lmxlbmd0aDtuKyspdGhpcy5hbGxvd3NNYXJrVHlwZSh0W25dLnR5cGUpP2UmJmUucHVzaCh0W25dKTplfHwoZT10LnNsaWNlKDAsbikpO3JldHVybiBlP2UubGVuZ3RoP2U6ZC5lbXB0eTp0fSxzdC5jb21waWxlPWZ1bmN0aW9uKHQsZSl7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTt0LmZvckVhY2goKGZ1bmN0aW9uKHQscil7cmV0dXJuIG5bdF09bmV3IHN0KHQsZSxyKX0pKTt2YXIgcj1lLnNwZWMudG9wTm9kZXx8ImRvYyI7aWYoIW5bcl0pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlNjaGVtYSBpcyBtaXNzaW5nIGl0cyB0b3Agbm9kZSB0eXBlICgnIityKyInKSIpO2lmKCFuLnRleHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkV2ZXJ5IHNjaGVtYSBuZWVkcyBhICd0ZXh0JyB0eXBlIik7Zm9yKHZhciBvIGluIG4udGV4dC5hdHRycyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGhlIHRleHQgbm9kZSB0eXBlIHNob3VsZCBub3QgaGF2ZSBhdHRyaWJ1dGVzIik7cmV0dXJuIG59LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHN0LnByb3RvdHlwZSxhdCk7dmFyIGN0PWZ1bmN0aW9uKHQpe3RoaXMuaGFzRGVmYXVsdD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCwiZGVmYXVsdCIpLHRoaXMuZGVmYXVsdD10LmRlZmF1bHR9LGx0PXtpc1JlcXVpcmVkOntjb25maWd1cmFibGU6ITB9fTtsdC5pc1JlcXVpcmVkLmdldD1mdW5jdGlvbigpe3JldHVybiF0aGlzLmhhc0RlZmF1bHR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGN0LnByb3RvdHlwZSxsdCk7dmFyIHV0PWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMubmFtZT10LHRoaXMuc2NoZW1hPW4sdGhpcy5zcGVjPXIsdGhpcy5hdHRycz1pdChyLmF0dHJzKSx0aGlzLnJhbms9ZSx0aGlzLmV4Y2x1ZGVkPW51bGw7dmFyIG89cnQodGhpcy5hdHRycyk7dGhpcy5pbnN0YW5jZT1vJiZuZXcgZCh0aGlzLG8pfTt1dC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKHQpe3JldHVybiF0JiZ0aGlzLmluc3RhbmNlP3RoaXMuaW5zdGFuY2U6bmV3IGQodGhpcyxvdCh0aGlzLmF0dHJzLHQpKX0sdXQuY29tcGlsZT1mdW5jdGlvbih0LGUpe3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCkscj0wO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQsbyl7cmV0dXJuIG5bdF09bmV3IHV0KHQscisrLGUsbyl9KSksbn0sdXQucHJvdG90eXBlLnJlbW92ZUZyb21TZXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodFtlXS50eXBlPT10aGlzKXJldHVybiB0LnNsaWNlKDAsZSkuY29uY2F0KHQuc2xpY2UoZSsxKSk7cmV0dXJuIHR9LHV0LnByb3RvdHlwZS5pc0luU2V0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRbZV0udHlwZT09dGhpcylyZXR1cm4gdFtlXX0sdXQucHJvdG90eXBlLmV4Y2x1ZGVzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmV4Y2x1ZGVkLmluZGV4T2YodCk+LTF9O3ZhciBwdD1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdGhpcy5zcGVjPXt9LHQpdGhpcy5zcGVjW2VdPXRbZV07dGhpcy5zcGVjLm5vZGVzPWkuZnJvbSh0Lm5vZGVzKSx0aGlzLnNwZWMubWFya3M9aS5mcm9tKHQubWFya3MpLHRoaXMubm9kZXM9c3QuY29tcGlsZSh0aGlzLnNwZWMubm9kZXMsdGhpcyksdGhpcy5tYXJrcz11dC5jb21waWxlKHRoaXMuc3BlYy5tYXJrcyx0aGlzKTt2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcih2YXIgciBpbiB0aGlzLm5vZGVzKXtpZihyIGluIHRoaXMubWFya3MpdGhyb3cgbmV3IFJhbmdlRXJyb3IocisiIGNhbiBub3QgYmUgYm90aCBhIG5vZGUgYW5kIGEgbWFyayIpO3ZhciBvPXRoaXMubm9kZXNbcl0scz1vLnNwZWMuY29udGVudHx8IiIsYT1vLnNwZWMubWFya3M7by5jb250ZW50TWF0Y2g9bltzXXx8KG5bc109JC5wYXJzZShzLHRoaXMubm9kZXMpKSxvLmlubGluZUNvbnRlbnQ9by5jb250ZW50TWF0Y2guaW5saW5lQ29udGVudCxvLm1hcmtTZXQ9Il8iPT1hP251bGw6YT9mdCh0aGlzLGEuc3BsaXQoIiAiKSk6IiIhPWEmJm8uaW5saW5lQ29udGVudD9udWxsOltdfWZvcih2YXIgYyBpbiB0aGlzLm1hcmtzKXt2YXIgbD10aGlzLm1hcmtzW2NdLHU9bC5zcGVjLmV4Y2x1ZGVzO2wuZXhjbHVkZWQ9bnVsbD09dT9bbF06IiI9PXU/W106ZnQodGhpcyx1LnNwbGl0KCIgIikpfXRoaXMubm9kZUZyb21KU09OPXRoaXMubm9kZUZyb21KU09OLmJpbmQodGhpcyksdGhpcy5tYXJrRnJvbUpTT049dGhpcy5tYXJrRnJvbUpTT04uYmluZCh0aGlzKSx0aGlzLnRvcE5vZGVUeXBlPXRoaXMubm9kZXNbdGhpcy5zcGVjLnRvcE5vZGV8fCJkb2MiXSx0aGlzLmNhY2hlZD1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuY2FjaGVkLndyYXBwaW5ncz1PYmplY3QuY3JlYXRlKG51bGwpfTtmdW5jdGlvbiBmdCh0LGUpe2Zvcih2YXIgbj1bXSxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBvPWVbcl0saT10Lm1hcmtzW29dLHM9aTtpZihpKW4ucHVzaChpKTtlbHNlIGZvcih2YXIgYSBpbiB0Lm1hcmtzKXt2YXIgYz10Lm1hcmtzW2FdOygiXyI9PW98fGMuc3BlYy5ncm91cCYmYy5zcGVjLmdyb3VwLnNwbGl0KCIgIikuaW5kZXhPZihvKT4tMSkmJm4ucHVzaChzPWMpfWlmKCFzKXRocm93IG5ldyBTeW50YXhFcnJvcigiVW5rbm93biBtYXJrIHR5cGU6ICciK2Vbcl0rIiciKX1yZXR1cm4gbn1wdC5wcm90b3R5cGUubm9kZT1mdW5jdGlvbih0LGUsbixyKXtpZigic3RyaW5nIj09dHlwZW9mIHQpdD10aGlzLm5vZGVUeXBlKHQpO2Vsc2V7aWYoISh0IGluc3RhbmNlb2Ygc3QpKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIG5vZGUgdHlwZTogIit0KTtpZih0LnNjaGVtYSE9dGhpcyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiTm9kZSB0eXBlIGZyb20gZGlmZmVyZW50IHNjaGVtYSB1c2VkICgiK3QubmFtZSsiKSIpfXJldHVybiB0LmNyZWF0ZUNoZWNrZWQoZSxuLHIpfSxwdC5wcm90b3R5cGUudGV4dD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMubm9kZXMudGV4dDtyZXR1cm4gbmV3IEYobixuLmRlZmF1bHRBdHRycyx0LGQuc2V0RnJvbShlKSl9LHB0LnByb3RvdHlwZS5tYXJrPWZ1bmN0aW9uKHQsZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0JiYodD10aGlzLm1hcmtzW3RdKSx0LmNyZWF0ZShlKX0scHQucHJvdG90eXBlLm5vZGVGcm9tSlNPTj1mdW5jdGlvbih0KXtyZXR1cm4gQi5mcm9tSlNPTih0aGlzLHQpfSxwdC5wcm90b3R5cGUubWFya0Zyb21KU09OPWZ1bmN0aW9uKHQpe3JldHVybiBkLmZyb21KU09OKHRoaXMsdCl9LHB0LnByb3RvdHlwZS5ub2RlVHlwZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm5vZGVzW3RdO2lmKCFlKXRocm93IG5ldyBSYW5nZUVycm9yKCJVbmtub3duIG5vZGUgdHlwZTogIit0KTtyZXR1cm4gZX07dmFyIGR0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0aGlzLnNjaGVtYT10LHRoaXMucnVsZXM9ZSx0aGlzLnRhZ3M9W10sdGhpcy5zdHlsZXM9W10sZS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LnRhZz9uLnRhZ3MucHVzaCh0KTp0LnN0eWxlJiZuLnN0eWxlcy5wdXNoKHQpfSkpfTtkdC5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIG49bmV3IGt0KHRoaXMsZSwhMSk7cmV0dXJuIG4uYWRkQWxsKHQsbnVsbCxlLmZyb20sZS50byksbi5maW5pc2goKX0sZHQucHJvdG90eXBlLnBhcnNlU2xpY2U9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIG49bmV3IGt0KHRoaXMsZSwhMCk7cmV0dXJuIG4uYWRkQWxsKHQsbnVsbCxlLmZyb20sZS50byksdi5tYXhPcGVuKG4uZmluaXNoKCkpfSxkdC5wcm90b3R5cGUubWF0Y2hUYWc9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPHRoaXMudGFncy5sZW5ndGg7bisrKXt2YXIgcj10aGlzLnRhZ3Nbbl07aWYoT3QodCxyLnRhZykmJih2b2lkIDA9PT1yLm5hbWVzcGFjZXx8dC5uYW1lc3BhY2VVUkk9PXIubmFtZXNwYWNlKSYmKCFyLmNvbnRleHR8fGUubWF0Y2hlc0NvbnRleHQoci5jb250ZXh0KSkpe2lmKHIuZ2V0QXR0cnMpe3ZhciBvPXIuZ2V0QXR0cnModCk7aWYoITE9PT1vKWNvbnRpbnVlO3IuYXR0cnM9b31yZXR1cm4gcn19fSxkdC5wcm90b3R5cGUubWF0Y2hTdHlsZT1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPTA7cjx0aGlzLnN0eWxlcy5sZW5ndGg7cisrKXt2YXIgbz10aGlzLnN0eWxlc1tyXTtpZighKDAhPW8uc3R5bGUuaW5kZXhPZih0KXx8by5jb250ZXh0JiYhbi5tYXRjaGVzQ29udGV4dChvLmNvbnRleHQpfHxvLnN0eWxlLmxlbmd0aD50Lmxlbmd0aCYmKDYxIT1vLnN0eWxlLmNoYXJDb2RlQXQodC5sZW5ndGgpfHxvLnN0eWxlLnNsaWNlKHQubGVuZ3RoKzEpIT1lKSkpe2lmKG8uZ2V0QXR0cnMpe3ZhciBpPW8uZ2V0QXR0cnMoZSk7aWYoITE9PT1pKWNvbnRpbnVlO28uYXR0cnM9aX1yZXR1cm4gb319fSxkdC5zY2hlbWFSdWxlcz1mdW5jdGlvbih0KXt2YXIgZT1bXTtmdW5jdGlvbiBuKHQpe2Zvcih2YXIgbj1udWxsPT10LnByaW9yaXR5PzUwOnQucHJpb3JpdHkscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdLGk9bnVsbD09by5wcmlvcml0eT81MDpvLnByaW9yaXR5O2lmKGk8bilicmVha31lLnNwbGljZShyLDAsdCl9dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHI9dC5tYXJrc1tlXS5zcGVjLnBhcnNlRE9NO3ImJnIuZm9yRWFjaCgoZnVuY3Rpb24odCl7bih0PU50KHQpKSx0Lm1hcms9ZX0pKX07Zm9yKHZhciBvIGluIHQubWFya3MpcihvKTt2YXIgaT1mdW5jdGlvbihlKXt2YXIgcj10Lm5vZGVzW3NdLnNwZWMucGFyc2VET007ciYmci5mb3JFYWNoKChmdW5jdGlvbih0KXtuKHQ9TnQodCkpLHQubm9kZT1zfSkpfTtmb3IodmFyIHMgaW4gdC5ub2RlcylpKCk7cmV0dXJuIGV9LGR0LmZyb21TY2hlbWE9ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2FjaGVkLmRvbVBhcnNlcnx8KHQuY2FjaGVkLmRvbVBhcnNlcj1uZXcgZHQodCxkdC5zY2hlbWFSdWxlcyh0KSkpfTt2YXIgaHQ9e2FkZHJlc3M6ITAsYXJ0aWNsZTohMCxhc2lkZTohMCxibG9ja3F1b3RlOiEwLGNhbnZhczohMCxkZDohMCxkaXY6ITAsZGw6ITAsZmllbGRzZXQ6ITAsZmlnY2FwdGlvbjohMCxmaWd1cmU6ITAsZm9vdGVyOiEwLGZvcm06ITAsaDE6ITAsaDI6ITAsaDM6ITAsaDQ6ITAsaDU6ITAsaDY6ITAsaGVhZGVyOiEwLGhncm91cDohMCxocjohMCxsaTohMCxub3NjcmlwdDohMCxvbDohMCxvdXRwdXQ6ITAscDohMCxwcmU6ITAsc2VjdGlvbjohMCx0YWJsZTohMCx0Zm9vdDohMCx1bDohMH0sdnQ9e2hlYWQ6ITAsbm9zY3JpcHQ6ITAsb2JqZWN0OiEwLHNjcmlwdDohMCxzdHlsZTohMCx0aXRsZTohMH0sbXQ9e29sOiEwLHVsOiEwfSxndD0xLHl0PTIsd3Q9NDtmdW5jdGlvbiBidCh0KXtyZXR1cm4odD9ndDowKXwoImZ1bGwiPT09dD95dDowKX12YXIgU3Q9ZnVuY3Rpb24odCxlLG4scixvLGkpe3RoaXMudHlwZT10LHRoaXMuYXR0cnM9ZSx0aGlzLnNvbGlkPXIsdGhpcy5tYXRjaD1vfHwoaSZ3dD9udWxsOnQuY29udGVudE1hdGNoKSx0aGlzLm9wdGlvbnM9aSx0aGlzLmNvbnRlbnQ9W10sdGhpcy5tYXJrcz1uLHRoaXMuYWN0aXZlTWFya3M9ZC5ub25lfTtTdC5wcm90b3R5cGUuZmluZFdyYXBwaW5nPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLm1hdGNoKXtpZighdGhpcy50eXBlKXJldHVybltdO3ZhciBlPXRoaXMudHlwZS5jb250ZW50TWF0Y2guZmlsbEJlZm9yZShjLmZyb20odCkpO2lmKCFlKXt2YXIgbixyPXRoaXMudHlwZS5jb250ZW50TWF0Y2g7cmV0dXJuKG49ci5maW5kV3JhcHBpbmcodC50eXBlKSk/KHRoaXMubWF0Y2g9cixuKTpudWxsfXRoaXMubWF0Y2g9dGhpcy50eXBlLmNvbnRlbnRNYXRjaC5tYXRjaEZyYWdtZW50KGUpfXJldHVybiB0aGlzLm1hdGNoLmZpbmRXcmFwcGluZyh0LnR5cGUpfSxTdC5wcm90b3R5cGUuZmluaXNoPWZ1bmN0aW9uKHQpe2lmKCEodGhpcy5vcHRpb25zJmd0KSl7dmFyIGUsbj10aGlzLmNvbnRlbnRbdGhpcy5jb250ZW50Lmxlbmd0aC0xXTtuJiZuLmlzVGV4dCYmKGU9L1sgXHRcclxuXHUwMDBjXSskLy5leGVjKG4udGV4dCkpJiYobi50ZXh0Lmxlbmd0aD09ZVswXS5sZW5ndGg/dGhpcy5jb250ZW50LnBvcCgpOnRoaXMuY29udGVudFt0aGlzLmNvbnRlbnQubGVuZ3RoLTFdPW4ud2l0aFRleHQobi50ZXh0LnNsaWNlKDAsbi50ZXh0Lmxlbmd0aC1lWzBdLmxlbmd0aCkpKX12YXIgcj1jLmZyb20odGhpcy5jb250ZW50KTtyZXR1cm4hdCYmdGhpcy5tYXRjaCYmKHI9ci5hcHBlbmQodGhpcy5tYXRjaC5maWxsQmVmb3JlKGMuZW1wdHksITApKSksdGhpcy50eXBlP3RoaXMudHlwZS5jcmVhdGUodGhpcy5hdHRycyxyLHRoaXMubWFya3MpOnJ9O3ZhciBrdD1mdW5jdGlvbih0LGUsbil7dGhpcy5wYXJzZXI9dCx0aGlzLm9wdGlvbnM9ZSx0aGlzLmlzT3Blbj1uLHRoaXMucGVuZGluZ01hcmtzPVtdO3ZhciByLG89ZS50b3BOb2RlLGk9YnQoZS5wcmVzZXJ2ZVdoaXRlc3BhY2UpfChuP3d0OjApO3I9bz9uZXcgU3Qoby50eXBlLG8uYXR0cnMsZC5ub25lLCEwLGUudG9wTWF0Y2h8fG8udHlwZS5jb250ZW50TWF0Y2gsaSk6bmV3IFN0KG4/bnVsbDp0LnNjaGVtYS50b3BOb2RlVHlwZSxudWxsLGQubm9uZSwhMCxudWxsLGkpLHRoaXMubm9kZXM9W3JdLHRoaXMub3Blbj0wLHRoaXMuZmluZD1lLmZpbmRQb3NpdGlvbnMsdGhpcy5uZWVkc0Jsb2NrPSExfSx4dD17dG9wOntjb25maWd1cmFibGU6ITB9LGN1cnJlbnRQb3M6e2NvbmZpZ3VyYWJsZTohMH19O2Z1bmN0aW9uIEN0KHQpe2Zvcih2YXIgZT10LmZpcnN0Q2hpbGQsbj1udWxsO2U7ZT1lLm5leHRTaWJsaW5nKXt2YXIgcj0xPT1lLm5vZGVUeXBlP2Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKTpudWxsO3ImJm10Lmhhc093blByb3BlcnR5KHIpJiZuPyhuLmFwcGVuZENoaWxkKGUpLGU9bik6ImxpIj09cj9uPWU6ciYmKG49bnVsbCl9fWZ1bmN0aW9uIE90KHQsZSl7cmV0dXJuKHQubWF0Y2hlc3x8dC5tc01hdGNoZXNTZWxlY3Rvcnx8dC53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fHQubW96TWF0Y2hlc1NlbGVjdG9yKS5jYWxsKHQsZSl9ZnVuY3Rpb24gTXQodCl7dmFyIGUsbj0vXHMqKFtcdy1dKylccyo6XHMqKFteO10rKS9nLHI9W107d2hpbGUoZT1uLmV4ZWModCkpci5wdXNoKGVbMV0sZVsyXS50cmltKCkpO3JldHVybiByfWZ1bmN0aW9uIE50KHQpe3ZhciBlPXt9O2Zvcih2YXIgbiBpbiB0KWVbbl09dFtuXTtyZXR1cm4gZX14dC50b3AuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZXNbdGhpcy5vcGVuXX0sa3QucHJvdG90eXBlLmFkZERPTT1mdW5jdGlvbih0KXtpZigzPT10Lm5vZGVUeXBlKXRoaXMuYWRkVGV4dE5vZGUodCk7ZWxzZSBpZigxPT10Lm5vZGVUeXBlKXt2YXIgZT10LmdldEF0dHJpYnV0ZSgic3R5bGUiKSxuPWU/dGhpcy5yZWFkU3R5bGVzKE10KGUpKTpudWxsO2lmKG51bGwhPW4pZm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspdGhpcy5hZGRQZW5kaW5nTWFyayhuW3JdKTtpZih0aGlzLmFkZEVsZW1lbnQodCksbnVsbCE9bilmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKyl0aGlzLnJlbW92ZVBlbmRpbmdNYXJrKG5bb10pfX0sa3QucHJvdG90eXBlLmFkZFRleHROb2RlPWZ1bmN0aW9uKHQpe3ZhciBlPXQubm9kZVZhbHVlLG49dGhpcy50b3A7aWYoKG4udHlwZT9uLnR5cGUuaW5saW5lQ29udGVudDpuLmNvbnRlbnQubGVuZ3RoJiZuLmNvbnRlbnRbMF0uaXNJbmxpbmUpfHwvW14gXHRcclxuXHUwMDBjXS8udGVzdChlKSl7aWYobi5vcHRpb25zJmd0KW4ub3B0aW9ucyZ5dHx8KGU9ZS5yZXBsYWNlKC9ccj9cbnxcci9nLCIgIikpO2Vsc2UgaWYoZT1lLnJlcGxhY2UoL1sgXHRcclxuXHUwMDBjXSsvZywiICIpLC9eWyBcdFxyXG5cdTAwMGNdLy50ZXN0KGUpJiZ0aGlzLm9wZW49PXRoaXMubm9kZXMubGVuZ3RoLTEpe3ZhciByPW4uY29udGVudFtuLmNvbnRlbnQubGVuZ3RoLTFdLG89dC5wcmV2aW91c1NpYmxpbmc7KCFyfHxvJiYiQlIiPT1vLm5vZGVOYW1lfHxyLmlzVGV4dCYmL1sgXHRcclxuXHUwMDBjXSQvLnRlc3Qoci50ZXh0KSkmJihlPWUuc2xpY2UoMSkpfWUmJnRoaXMuaW5zZXJ0Tm9kZSh0aGlzLnBhcnNlci5zY2hlbWEudGV4dChlKSksdGhpcy5maW5kSW5UZXh0KHQpfWVsc2UgdGhpcy5maW5kSW5zaWRlKHQpfSxrdC5wcm90b3R5cGUuYWRkRWxlbWVudD1mdW5jdGlvbih0KXt2YXIgZT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7bXQuaGFzT3duUHJvcGVydHkoZSkmJkN0KHQpO3ZhciBuPXRoaXMub3B0aW9ucy5ydWxlRnJvbU5vZGUmJnRoaXMub3B0aW9ucy5ydWxlRnJvbU5vZGUodCl8fHRoaXMucGFyc2VyLm1hdGNoVGFnKHQsdGhpcyk7aWYobj9uLmlnbm9yZTp2dC5oYXNPd25Qcm9wZXJ0eShlKSl0aGlzLmZpbmRJbnNpZGUodCk7ZWxzZSBpZighbnx8bi5za2lwKXtuJiZuLnNraXAubm9kZVR5cGUmJih0PW4uc2tpcCk7dmFyIHIsbz10aGlzLnRvcCxpPXRoaXMubmVlZHNCbG9jaztpZihodC5oYXNPd25Qcm9wZXJ0eShlKSlyPSEwLG8udHlwZXx8KHRoaXMubmVlZHNCbG9jaz0hMCk7ZWxzZSBpZighdC5maXJzdENoaWxkKXJldHVybiB2b2lkIHRoaXMubGVhZkZhbGxiYWNrKHQpO3RoaXMuYWRkQWxsKHQpLHImJnRoaXMuc3luYyhvKSx0aGlzLm5lZWRzQmxvY2s9aX1lbHNlIHRoaXMuYWRkRWxlbWVudEJ5UnVsZSh0LG4pfSxrdC5wcm90b3R5cGUubGVhZkZhbGxiYWNrPWZ1bmN0aW9uKHQpeyJCUiI9PXQubm9kZU5hbWUmJnRoaXMudG9wLnR5cGUmJnRoaXMudG9wLnR5cGUuaW5saW5lQ29udGVudCYmdGhpcy5hZGRUZXh0Tm9kZSh0Lm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIlxuIikpfSxrdC5wcm90b3R5cGUucmVhZFN0eWxlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9ZC5ub25lLG49MDtuPHQubGVuZ3RoO24rPTIpe3ZhciByPXRoaXMucGFyc2VyLm1hdGNoU3R5bGUodFtuXSx0W24rMV0sdGhpcyk7aWYocil7aWYoci5pZ25vcmUpcmV0dXJuIG51bGw7ZT10aGlzLnBhcnNlci5zY2hlbWEubWFya3Nbci5tYXJrXS5jcmVhdGUoci5hdHRycykuYWRkVG9TZXQoZSl9fXJldHVybiBlfSxrdC5wcm90b3R5cGUuYWRkRWxlbWVudEJ5UnVsZT1mdW5jdGlvbih0LGUpe3ZhciBuLHIsbyxpLHM9dGhpcztlLm5vZGU/KHI9dGhpcy5wYXJzZXIuc2NoZW1hLm5vZGVzW2Uubm9kZV0sci5pc0xlYWY/dGhpcy5pbnNlcnROb2RlKHIuY3JlYXRlKGUuYXR0cnMpKXx8dGhpcy5sZWFmRmFsbGJhY2sodCk6bj10aGlzLmVudGVyKHIsZS5hdHRycyxlLnByZXNlcnZlV2hpdGVzcGFjZSkpOihvPXRoaXMucGFyc2VyLnNjaGVtYS5tYXJrc1tlLm1hcmtdLGk9by5jcmVhdGUoZS5hdHRycyksdGhpcy5hZGRQZW5kaW5nTWFyayhpKSk7dmFyIGE9dGhpcy50b3A7aWYociYmci5pc0xlYWYpdGhpcy5maW5kSW5zaWRlKHQpO2Vsc2UgaWYoZS5nZXRDb250ZW50KXRoaXMuZmluZEluc2lkZSh0KSxlLmdldENvbnRlbnQodCx0aGlzLnBhcnNlci5zY2hlbWEpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBzLmluc2VydE5vZGUodCl9KSk7ZWxzZXt2YXIgYz1lLmNvbnRlbnRFbGVtZW50OyJzdHJpbmciPT10eXBlb2YgYz9jPXQucXVlcnlTZWxlY3RvcihjKToiZnVuY3Rpb24iPT10eXBlb2YgYyYmKGM9Yyh0KSksY3x8KGM9dCksdGhpcy5maW5kQXJvdW5kKHQsYywhMCksdGhpcy5hZGRBbGwoYyxuKX1uJiYodGhpcy5zeW5jKGEpLHRoaXMub3Blbi0tKSxpJiZ0aGlzLnJlbW92ZVBlbmRpbmdNYXJrKGkpfSxrdC5wcm90b3R5cGUuYWRkQWxsPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgbz1ufHwwLGk9bj90LmNoaWxkTm9kZXNbbl06dC5maXJzdENoaWxkLHM9bnVsbD09cj9udWxsOnQuY2hpbGROb2Rlc1tyXTtpIT1zO2k9aS5uZXh0U2libGluZywrK28pdGhpcy5maW5kQXRQb2ludCh0LG8pLHRoaXMuYWRkRE9NKGkpLGUmJmh0Lmhhc093blByb3BlcnR5KGkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkmJnRoaXMuc3luYyhlKTt0aGlzLmZpbmRBdFBvaW50KHQsbyl9LGt0LnByb3RvdHlwZS5maW5kUGxhY2U9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG4scj10aGlzLm9wZW47cj49MDtyLS0pe3ZhciBvPXRoaXMubm9kZXNbcl0saT1vLmZpbmRXcmFwcGluZyh0KTtpZihpJiYoIWV8fGUubGVuZ3RoPmkubGVuZ3RoKSYmKGU9aSxuPW8sIWkubGVuZ3RoKSlicmVhaztpZihvLnNvbGlkKWJyZWFrfWlmKCFlKXJldHVybiExO3RoaXMuc3luYyhuKTtmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKyl0aGlzLmVudGVySW5uZXIoZVtzXSxudWxsLCExKTtyZXR1cm4hMH0sa3QucHJvdG90eXBlLmluc2VydE5vZGU9ZnVuY3Rpb24odCl7aWYodC5pc0lubGluZSYmdGhpcy5uZWVkc0Jsb2NrJiYhdGhpcy50b3AudHlwZSl7dmFyIGU9dGhpcy50ZXh0YmxvY2tGcm9tQ29udGV4dCgpO2UmJnRoaXMuZW50ZXJJbm5lcihlKX1pZih0aGlzLmZpbmRQbGFjZSh0KSl7dGhpcy5jbG9zZUV4dHJhKCk7dmFyIG49dGhpcy50b3A7dGhpcy5hcHBseVBlbmRpbmdNYXJrcyhuKSxuLm1hdGNoJiYobi5tYXRjaD1uLm1hdGNoLm1hdGNoVHlwZSh0LnR5cGUpKTtmb3IodmFyIHI9bi5hY3RpdmVNYXJrcyxvPTA7bzx0Lm1hcmtzLmxlbmd0aDtvKyspbi50eXBlJiYhbi50eXBlLmFsbG93c01hcmtUeXBlKHQubWFya3Nbb10udHlwZSl8fChyPXQubWFya3Nbb10uYWRkVG9TZXQocikpO3JldHVybiBuLmNvbnRlbnQucHVzaCh0Lm1hcmsocikpLCEwfXJldHVybiExfSxrdC5wcm90b3R5cGUuYXBwbHlQZW5kaW5nTWFya3M9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLnBlbmRpbmdNYXJrcy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLnBlbmRpbmdNYXJrc1tlXTt0LnR5cGUmJiF0LnR5cGUuYWxsb3dzTWFya1R5cGUobi50eXBlKXx8bi5pc0luU2V0KHQuYWN0aXZlTWFya3MpfHwodC5hY3RpdmVNYXJrcz1uLmFkZFRvU2V0KHQuYWN0aXZlTWFya3MpLHRoaXMucGVuZGluZ01hcmtzLnNwbGljZShlLS0sMSkpfX0sa3QucHJvdG90eXBlLmVudGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLmZpbmRQbGFjZSh0LmNyZWF0ZShlKSk7cmV0dXJuIHImJih0aGlzLmFwcGx5UGVuZGluZ01hcmtzKHRoaXMudG9wKSx0aGlzLmVudGVySW5uZXIodCxlLCEwLG4pKSxyfSxrdC5wcm90b3R5cGUuZW50ZXJJbm5lcj1mdW5jdGlvbih0LGUsbixyKXt0aGlzLmNsb3NlRXh0cmEoKTt2YXIgbz10aGlzLnRvcDtvLm1hdGNoPW8ubWF0Y2gmJm8ubWF0Y2gubWF0Y2hUeXBlKHQsZSk7dmFyIGk9bnVsbD09cj9vLm9wdGlvbnMmfnd0OmJ0KHIpO28ub3B0aW9ucyZ3dCYmMD09by5jb250ZW50Lmxlbmd0aCYmKGl8PXd0KSx0aGlzLm5vZGVzLnB1c2gobmV3IFN0KHQsZSxvLmFjdGl2ZU1hcmtzLG4sbnVsbCxpKSksdGhpcy5vcGVuKyt9LGt0LnByb3RvdHlwZS5jbG9zZUV4dHJhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubm9kZXMubGVuZ3RoLTE7aWYoZT50aGlzLm9wZW4pe2Zvcig7ZT50aGlzLm9wZW47ZS0tKXRoaXMubm9kZXNbZS0xXS5jb250ZW50LnB1c2godGhpcy5ub2Rlc1tlXS5maW5pc2godCkpO3RoaXMubm9kZXMubGVuZ3RoPXRoaXMub3BlbisxfX0sa3QucHJvdG90eXBlLmZpbmlzaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wZW49MCx0aGlzLmNsb3NlRXh0cmEodGhpcy5pc09wZW4pLHRoaXMubm9kZXNbMF0uZmluaXNoKHRoaXMuaXNPcGVufHx0aGlzLm9wdGlvbnMudG9wT3Blbil9LGt0LnByb3RvdHlwZS5zeW5jPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLm9wZW47ZT49MDtlLS0paWYodGhpcy5ub2Rlc1tlXT09dClyZXR1cm4gdm9pZCh0aGlzLm9wZW49ZSl9LGt0LnByb3RvdHlwZS5hZGRQZW5kaW5nTWFyaz1mdW5jdGlvbih0KXt0aGlzLnBlbmRpbmdNYXJrcy5wdXNoKHQpfSxrdC5wcm90b3R5cGUucmVtb3ZlUGVuZGluZ01hcms9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wZW5kaW5nTWFya3MubGFzdEluZGV4T2YodCk7aWYoZT4tMSl0aGlzLnBlbmRpbmdNYXJrcy5zcGxpY2UoZSwxKTtlbHNle3ZhciBuPXRoaXMudG9wO24uYWN0aXZlTWFya3M9dC5yZW1vdmVGcm9tU2V0KG4uYWN0aXZlTWFya3MpfX0seHQuY3VycmVudFBvcy5nZXQ9ZnVuY3Rpb24oKXt0aGlzLmNsb3NlRXh0cmEoKTtmb3IodmFyIHQ9MCxlPXRoaXMub3BlbjtlPj0wO2UtLSl7Zm9yKHZhciBuPXRoaXMubm9kZXNbZV0uY29udGVudCxyPW4ubGVuZ3RoLTE7cj49MDtyLS0pdCs9bltyXS5ub2RlU2l6ZTtlJiZ0Kyt9cmV0dXJuIHR9LGt0LnByb3RvdHlwZS5maW5kQXRQb2ludD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuZmluZClmb3IodmFyIG49MDtuPHRoaXMuZmluZC5sZW5ndGg7bisrKXRoaXMuZmluZFtuXS5ub2RlPT10JiZ0aGlzLmZpbmRbbl0ub2Zmc2V0PT1lJiYodGhpcy5maW5kW25dLnBvcz10aGlzLmN1cnJlbnRQb3MpfSxrdC5wcm90b3R5cGUuZmluZEluc2lkZT1mdW5jdGlvbih0KXtpZih0aGlzLmZpbmQpZm9yKHZhciBlPTA7ZTx0aGlzLmZpbmQubGVuZ3RoO2UrKyludWxsPT10aGlzLmZpbmRbZV0ucG9zJiYxPT10Lm5vZGVUeXBlJiZ0LmNvbnRhaW5zKHRoaXMuZmluZFtlXS5ub2RlKSYmKHRoaXMuZmluZFtlXS5wb3M9dGhpcy5jdXJyZW50UG9zKX0sa3QucHJvdG90eXBlLmZpbmRBcm91bmQ9ZnVuY3Rpb24odCxlLG4pe2lmKHQhPWUmJnRoaXMuZmluZClmb3IodmFyIHI9MDtyPHRoaXMuZmluZC5sZW5ndGg7cisrKWlmKG51bGw9PXRoaXMuZmluZFtyXS5wb3MmJjE9PXQubm9kZVR5cGUmJnQuY29udGFpbnModGhpcy5maW5kW3JdLm5vZGUpKXt2YXIgbz1lLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHRoaXMuZmluZFtyXS5ub2RlKTtvJihuPzI6NCkmJih0aGlzLmZpbmRbcl0ucG9zPXRoaXMuY3VycmVudFBvcyl9fSxrdC5wcm90b3R5cGUuZmluZEluVGV4dD1mdW5jdGlvbih0KXtpZih0aGlzLmZpbmQpZm9yKHZhciBlPTA7ZTx0aGlzLmZpbmQubGVuZ3RoO2UrKyl0aGlzLmZpbmRbZV0ubm9kZT09dCYmKHRoaXMuZmluZFtlXS5wb3M9dGhpcy5jdXJyZW50UG9zLSh0Lm5vZGVWYWx1ZS5sZW5ndGgtdGhpcy5maW5kW2VdLm9mZnNldCkpfSxrdC5wcm90b3R5cGUubWF0Y2hlc0NvbnRleHQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0LmluZGV4T2YoInwiKT4tMSlyZXR1cm4gdC5zcGxpdCgvXHMqXHxccyovKS5zb21lKHRoaXMubWF0Y2hlc0NvbnRleHQsdGhpcyk7dmFyIG49dC5zcGxpdCgiLyIpLHI9dGhpcy5vcHRpb25zLmNvbnRleHQsbz0hdGhpcy5pc09wZW4mJighcnx8ci5wYXJlbnQudHlwZT09dGhpcy5ub2Rlc1swXS50eXBlKSxpPS0ocj9yLmRlcHRoKzE6MCkrKG8/MDoxKSxzPWZ1bmN0aW9uKHQsYSl7Zm9yKDt0Pj0wO3QtLSl7dmFyIGM9blt0XTtpZigiIj09Yyl7aWYodD09bi5sZW5ndGgtMXx8MD09dCljb250aW51ZTtmb3IoO2E+PWk7YS0tKWlmKHModC0xLGEpKXJldHVybiEwO3JldHVybiExfXZhciBsPWE+MHx8MD09YSYmbz9lLm5vZGVzW2FdLnR5cGU6ciYmYT49aT9yLm5vZGUoYS1pKS50eXBlOm51bGw7aWYoIWx8fGwubmFtZSE9YyYmLTE9PWwuZ3JvdXBzLmluZGV4T2YoYykpcmV0dXJuITE7YS0tfXJldHVybiEwfTtyZXR1cm4gcyhuLmxlbmd0aC0xLHRoaXMub3Blbil9LGt0LnByb3RvdHlwZS50ZXh0YmxvY2tGcm9tQ29udGV4dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5jb250ZXh0O2lmKHQpZm9yKHZhciBlPXQuZGVwdGg7ZT49MDtlLS0pe3ZhciBuPXQubm9kZShlKS5jb250ZW50TWF0Y2hBdCh0LmluZGV4QWZ0ZXIoZSkpLmRlZmF1bHRUeXBlO2lmKG4mJm4uaXNUZXh0YmxvY2smJm4uZGVmYXVsdEF0dHJzKXJldHVybiBufWZvcih2YXIgciBpbiB0aGlzLnBhcnNlci5zY2hlbWEubm9kZXMpe3ZhciBvPXRoaXMucGFyc2VyLnNjaGVtYS5ub2Rlc1tyXTtpZihvLmlzVGV4dGJsb2NrJiZvLmRlZmF1bHRBdHRycylyZXR1cm4gb319LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGt0LnByb3RvdHlwZSx4dCk7dmFyIFR0PWZ1bmN0aW9uKHQsZSl7dGhpcy5ub2Rlcz10fHx7fSx0aGlzLm1hcmtzPWV8fHt9fTtmdW5jdGlvbiBEdCh0KXt2YXIgZT17fTtmb3IodmFyIG4gaW4gdCl7dmFyIHI9dFtuXS5zcGVjLnRvRE9NO3ImJihlW25dPXIpfXJldHVybiBlfWZ1bmN0aW9uIEF0KHQpe3JldHVybiB0LmRvY3VtZW50fHx3aW5kb3cuZG9jdW1lbnR9VHQucHJvdG90eXBlLnNlcmlhbGl6ZUZyYWdtZW50PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzO3ZvaWQgMD09PWUmJihlPXt9KSxufHwobj1BdChlKS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO3ZhciBvPW4saT1udWxsO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKGl8fHQubWFya3MubGVuZ3RoKXtpfHwoaT1bXSk7dmFyIG49MCxzPTA7d2hpbGUobjxpLmxlbmd0aCYmczx0Lm1hcmtzLmxlbmd0aCl7dmFyIGE9dC5tYXJrc1tzXTtpZihyLm1hcmtzW2EudHlwZS5uYW1lXSl7aWYoIWEuZXEoaVtuXSl8fCExPT09YS50eXBlLnNwZWMuc3Bhbm5pbmcpYnJlYWs7bis9MixzKyt9ZWxzZSBzKyt9d2hpbGUobjxpLmxlbmd0aClvPWkucG9wKCksaS5wb3AoKTt3aGlsZShzPHQubWFya3MubGVuZ3RoKXt2YXIgYz10Lm1hcmtzW3MrK10sbD1yLnNlcmlhbGl6ZU1hcmsoYyx0LmlzSW5saW5lLGUpO2wmJihpLnB1c2goYyxvKSxvLmFwcGVuZENoaWxkKGwuZG9tKSxvPWwuY29udGVudERPTXx8bC5kb20pfX1vLmFwcGVuZENoaWxkKHIuc2VyaWFsaXplTm9kZSh0LGUpKX0pKSxufSxUdC5wcm90b3R5cGUuc2VyaWFsaXplTm9kZT1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgbj1UdC5yZW5kZXJTcGVjKEF0KGUpLHRoaXMubm9kZXNbdC50eXBlLm5hbWVdKHQpKSxyPW4uZG9tLG89bi5jb250ZW50RE9NO2lmKG8pe2lmKHQuaXNMZWFmKXRocm93IG5ldyBSYW5nZUVycm9yKCJDb250ZW50IGhvbGUgbm90IGFsbG93ZWQgaW4gYSBsZWFmIG5vZGUgc3BlYyIpO2Uub25Db250ZW50P2Uub25Db250ZW50KHQsbyxlKTp0aGlzLnNlcmlhbGl6ZUZyYWdtZW50KHQuY29udGVudCxlLG8pfXJldHVybiByfSxUdC5wcm90b3R5cGUuc2VyaWFsaXplTm9kZUFuZE1hcmtzPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO2Zvcih2YXIgbj10aGlzLnNlcmlhbGl6ZU5vZGUodCxlKSxyPXQubWFya3MubGVuZ3RoLTE7cj49MDtyLS0pe3ZhciBvPXRoaXMuc2VyaWFsaXplTWFyayh0Lm1hcmtzW3JdLHQuaXNJbmxpbmUsZSk7byYmKChvLmNvbnRlbnRET018fG8uZG9tKS5hcHBlbmRDaGlsZChuKSxuPW8uZG9tKX1yZXR1cm4gbn0sVHQucHJvdG90eXBlLnNlcmlhbGl6ZU1hcms9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPXt9KTt2YXIgcj10aGlzLm1hcmtzW3QudHlwZS5uYW1lXTtyZXR1cm4gciYmVHQucmVuZGVyU3BlYyhBdChuKSxyKHQsZSkpfSxUdC5yZW5kZXJTcGVjPWZ1bmN0aW9uKHQsZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybntkb206dC5jcmVhdGVUZXh0Tm9kZShlKX07aWYobnVsbCE9ZS5ub2RlVHlwZSlyZXR1cm57ZG9tOmV9O3ZhciBuPXQuY3JlYXRlRWxlbWVudChlWzBdKSxyPW51bGwsbz1lWzFdLGk9MTtpZihvJiYib2JqZWN0Ij09dHlwZW9mIG8mJm51bGw9PW8ubm9kZVR5cGUmJiFBcnJheS5pc0FycmF5KG8pKWZvcih2YXIgcyBpbiBpPTIsbyludWxsIT1vW3NdJiZuLnNldEF0dHJpYnV0ZShzLG9bc10pO2Zvcih2YXIgYT1pO2E8ZS5sZW5ndGg7YSsrKXt2YXIgYz1lW2FdO2lmKDA9PT1jKXtpZihhPGUubGVuZ3RoLTF8fGE+aSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQ29udGVudCBob2xlIG11c3QgYmUgdGhlIG9ubHkgY2hpbGQgb2YgaXRzIHBhcmVudCBub2RlIik7cmV0dXJue2RvbTpuLGNvbnRlbnRET006bn19dmFyIGw9VHQucmVuZGVyU3BlYyh0LGMpLHU9bC5kb20scD1sLmNvbnRlbnRET007aWYobi5hcHBlbmRDaGlsZCh1KSxwKXtpZihyKXRocm93IG5ldyBSYW5nZUVycm9yKCJNdWx0aXBsZSBjb250ZW50IGhvbGVzIik7cj1wfX1yZXR1cm57ZG9tOm4sY29udGVudERPTTpyfX0sVHQuZnJvbVNjaGVtYT1mdW5jdGlvbih0KXtyZXR1cm4gdC5jYWNoZWQuZG9tU2VyaWFsaXplcnx8KHQuY2FjaGVkLmRvbVNlcmlhbGl6ZXI9bmV3IFR0KHRoaXMubm9kZXNGcm9tU2NoZW1hKHQpLHRoaXMubWFya3NGcm9tU2NoZW1hKHQpKSl9LFR0Lm5vZGVzRnJvbVNjaGVtYT1mdW5jdGlvbih0KXt2YXIgZT1EdCh0Lm5vZGVzKTtyZXR1cm4gZS50ZXh0fHwoZS50ZXh0PWZ1bmN0aW9uKHQpe3JldHVybiB0LnRleHR9KSxlfSxUdC5tYXJrc0Zyb21TY2hlbWE9ZnVuY3Rpb24odCl7cmV0dXJuIER0KHQubWFya3MpfX0sIjM3ZTgiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI4M2FiIiksbz1uKCI5YmYyIiksaT1uKCI4MjVhIikscz1uKCJkZjc1Iik7dC5leHBvcnRzPXI/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24odCxlKXtpKHQpO3ZhciBuLHI9cyhlKSxhPXIubGVuZ3RoLGM9MDt3aGlsZShhPmMpby5mKHQsbj1yW2MrK10sZVtuXSk7cmV0dXJuIHR9fSwiM2JiZSI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjg2MWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIXIodCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcigiQ2FuJ3Qgc2V0ICIrU3RyaW5nKHQpKyIgYXMgYSBwcm90b3R5cGUiKTtyZXR1cm4gdH19LCIzY2EzIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjY1NDciKS5jaGFyQXQsbz1uKCI2OWYzIiksaT1uKCI3ZGQwIikscz0iU3RyaW5nIEl0ZXJhdG9yIixhPW8uc2V0LGM9by5nZXR0ZXJGb3Iocyk7aShTdHJpbmcsIlN0cmluZyIsKGZ1bmN0aW9uKHQpe2EodGhpcyx7dHlwZTpzLHN0cmluZzpTdHJpbmcodCksaW5kZXg6MH0pfSksKGZ1bmN0aW9uKCl7dmFyIHQsZT1jKHRoaXMpLG49ZS5zdHJpbmcsbz1lLmluZGV4O3JldHVybiBvPj1uLmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9Oih0PXIobixvKSxlLmluZGV4Kz10Lmxlbmd0aCx7dmFsdWU6dCxkb25lOiExfSl9KSl9LCIzY2U0IjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImQyYTIiKSxvPW4oIjA3M2UiKTtmdW5jdGlvbiBpKCl7fWkucHJvdG90eXBlPXI7dmFyIHM9bmV3IGk7dC5leHBvcnRzPXMscy5oaWdobGlnaHQ9eCxzLmhpZ2hsaWdodEF1dG89ayxzLnJlZ2lzdGVyTGFuZ3VhZ2U9QyxzLmxpc3RMYW5ndWFnZXM9TyxzLnJlZ2lzdGVyQWxpYXM9TSxzLmdldExhbmd1YWdlPXo7dmFyIGE9ci5pbmhlcml0LGM9e30uaGFzT3duUHJvcGVydHksbD0iaGxqcy0iLHU9ImNhc2VfaW5zZW5zaXRpdmUiLHA9ImNhY2hlZF92YXJpYW50cyIsZj0idGVybWluYXRvcl9lbmQiLGQ9IiAiLGg9InwiLHY9IigiLG09IikiLGc9IlxcIix5PVsib2YiLCJhbmQiLCJmb3IiLCJpbiIsIm5vdCIsIm9yIiwiaWYiLCJ0aGVuIl0sdz1bXSxiPXt9LFM9e307ZnVuY3Rpb24gayh0LGUpe3ZhciBuLHIsaSxzLGE9ZXx8e30sYz1hLnN1YnNldHx8dyx1PWEucHJlZml4LHA9Yy5sZW5ndGgsZj0tMTtpZihudWxsIT09dSYmdm9pZCAwIT09dXx8KHU9bCksInN0cmluZyIhPT10eXBlb2YgdCl0aHJvdyBvKCJFeHBlY3RlZCBgc3RyaW5nYCBmb3IgdmFsdWUsIGdvdCBgJXNgIix0KTtyPV8oe30pLG49Xyh7fSk7d2hpbGUoKytmPHApcz1jW2ZdLHoocykmJihpPV8oTihzLHQsITEsdSkpLGkubGFuZ3VhZ2U9cyxpLnJlbGV2YW5jZT5yLnJlbGV2YW5jZSYmKHI9aSksaS5yZWxldmFuY2U+bi5yZWxldmFuY2UmJihyPW4sbj1pKSk7cmV0dXJuIHIubGFuZ3VhZ2UmJihuLnNlY29uZEJlc3Q9ciksbn1mdW5jdGlvbiB4KHQsZSxuKXt2YXIgcj1ufHx7fSxvPXIucHJlZml4O3JldHVybiBudWxsIT09byYmdm9pZCAwIT09b3x8KG89bCksXyhOKHQsZSwhMCxvKSl9ZnVuY3Rpb24gQyh0LGUpe3ZhciBuPWUocyk7bi5yYXdEZWZpbml0aW9uPWUuYmluZChudWxsLHMpLGJbdF09bix3LnB1c2godCksbi5hbGlhc2VzJiZNKHQsbi5hbGlhc2VzKX1mdW5jdGlvbiBPKCl7cmV0dXJuIHcuY29uY2F0KCl9ZnVuY3Rpb24gTSh0LGUpe3ZhciBuLHIsbyxpLHM9dDtmb3IobiBpbiBlJiYocz17fSxzW3RdPWUpLHMpe3I9c1tuXSxyPSJzdHJpbmciPT09dHlwZW9mIHI/W3JdOnIsbz1yLmxlbmd0aCxpPS0xO3doaWxlKCsraTxvKVNbcltpXV09bn19ZnVuY3Rpb24gTih0LGUsbixyLGkpe3ZhciBzLGEsbCxwLGYsZCxoLHYsbT17fSxnPXt9LHk9W10sdz0iIixTPTA7aWYoInN0cmluZyIhPT10eXBlb2YgdCl0aHJvdyBvKCJFeHBlY3RlZCBgc3RyaW5nYCBmb3IgbmFtZSwgZ290IGAlc2AiLHQpO2lmKCJzdHJpbmciIT09dHlwZW9mIGUpdGhyb3cgbygiRXhwZWN0ZWQgYHN0cmluZ2AgZm9yIHZhbHVlLCBnb3QgYCVzYCIsZSk7aWYocz16KHQpLGE9aXx8cyx2PVtdLGw9YSxwPXYsIXMpdGhyb3cgbygiVW5rbm93biBsYW5ndWFnZTogYCVzYCBpcyBub3QgcmVnaXN0ZXJlZCIsdCk7VChzKTt0cnl7YS50ZXJtaW5hdG9ycy5sYXN0SW5kZXg9MCxmPTAsaD1hLnRlcm1pbmF0b3JzLmV4ZWMoZSk7d2hpbGUoaClkPU0oZS5zbGljZShmLGguaW5kZXgpLGgpLGY9aC5pbmRleCtkLGEudGVybWluYXRvcnMubGFzdEluZGV4PWYsaD1hLnRlcm1pbmF0b3JzLmV4ZWMoZSk7TShlLnNsaWNlKGYpKSxsPWE7d2hpbGUobC5wYXJlbnQpbC5jbGFzc05hbWUmJiQoKSxsPWwucGFyZW50O3JldHVybntyZWxldmFuY2U6Uyx2YWx1ZTpwLGlsbGVnYWw6ITEsbGFuZ3VhZ2U6dCx0b3A6YX19Y2F0Y2goTCl7aWYoLTE9PT1MLm1lc3NhZ2UuaW5kZXhPZigiSWxsZWdhbCIpKXRocm93IEw7cmV0dXJue3JlbGV2YW5jZTowLGlsbGVnYWw6ITAsdmFsdWU6SShlLFtdKX19ZnVuY3Rpb24geCh0KXtyZXR1cm4gbmV3IFJlZ0V4cCh0LnJlcGxhY2UoL1stL1xcXiQqKz8uKCl8W1xde31dL2csIlxcJCYiKSwibSIpfWZ1bmN0aW9uIEModCl7dmFyIGU9dFswXSxuPXQucnVsZTtyZXR1cm4gbiYmbi5lbmRTYW1lQXNCZWdpbiYmKG4uZW5kUmU9eChlKSksbi5za2lwP3crPWU6KG4uZXhjbHVkZUJlZ2luJiYodys9ZSksXyhBKCkscCksbi5yZXR1cm5CZWdpbnx8bi5leGNsdWRlQmVnaW58fCh3PWUpKSxEKG4pLG4ucmV0dXJuQmVnaW4/MDplLmxlbmd0aH1mdW5jdGlvbiBPKHQpe3ZhciBuPXRbMF0scj1lLnNsaWNlKHQuaW5kZXgpLG89aihhLHIpO2lmKG8pe3ZhciBpPWE7aS5za2lwP3crPW46KGkucmV0dXJuRW5kfHxpLmV4Y2x1ZGVFbmR8fCh3Kz1uKSxfKEEoKSxwKSxpLmV4Y2x1ZGVFbmQmJih3PW4pKTtkb3thLmNsYXNzTmFtZSYmJCgpLGEuc2tpcHx8YS5zdWJMYW5ndWFnZXx8KFMrPWEucmVsZXZhbmNlKSxhPWEucGFyZW50fXdoaWxlKGEhPT1vLnBhcmVudCk7cmV0dXJuIG8uc3RhcnRzJiYoby5lbmRTYW1lQXNCZWdpbiYmKG8uc3RhcnRzLmVuZFJlPW8uZW5kUmUpLEQoby5zdGFydHMpKSxpLnJldHVybkVuZD8wOm4ubGVuZ3RofX1mdW5jdGlvbiBNKHQscil7dmFyIGkscz1yJiZyWzBdO2lmKHcrPXQsdm9pZCAwPT09cylyZXR1cm4gXyhBKCkscCksMDtpZigiYmVnaW4iPT09bS50eXBlJiYiZW5kIj09PXIudHlwZSYmbS5pbmRleD09PXIuaW5kZXgmJiIiPT09cylyZXR1cm4gdys9ZS5zbGljZShyLmluZGV4LHIuaW5kZXgrMSksMTtpZihtPXIsImJlZ2luIj09PXIudHlwZSlyZXR1cm4gQyhyKTtpZigiZW5kIj09PXIudHlwZSYmKGk9TyhyKSx2b2lkIDAhPT1pKSlyZXR1cm4gaTtpZigiaWxsZWdhbCI9PT1yLnR5cGUmJiFuKXRocm93IG8oJ0lsbGVnYWwgbGV4ZW1lICIlcyIgZm9yIG1vZGUgIiVzIicscyxhLmNsYXNzTmFtZXx8Ijx1bm5hbWVkPiIpO3JldHVybiB3Kz1zLHMubGVuZ3RofWZ1bmN0aW9uIEQodCl7dmFyIGU7dC5jbGFzc05hbWUmJihlPVYodC5jbGFzc05hbWUsW10pKSxlJiYocC5wdXNoKGUpLHkucHVzaChwKSxwPWUuY2hpbGRyZW4pLGE9T2JqZWN0LmNyZWF0ZSh0LHtwYXJlbnQ6e3ZhbHVlOmF9fSl9ZnVuY3Rpb24gQSgpe3ZhciB0PWEuc3ViTGFuZ3VhZ2U/RSgpOlIoKTtyZXR1cm4gdz0iIix0fWZ1bmN0aW9uIEUoKXt2YXIgdCxlPSJzdHJpbmciPT09dHlwZW9mIGEuc3ViTGFuZ3VhZ2U7cmV0dXJuIGUmJiFiW2Euc3ViTGFuZ3VhZ2VdP0kodyxbXSk6KHQ9ZT9OKGEuc3ViTGFuZ3VhZ2UsdywhMCxyLGdbYS5zdWJMYW5ndWFnZV0pOmsodyx7c3Vic2V0OjA9PT1hLnN1Ykxhbmd1YWdlLmxlbmd0aD92b2lkIDA6YS5zdWJMYW5ndWFnZSxwcmVmaXg6cn0pLHQubGFuZ3VhZ2U/KGEucmVsZXZhbmNlPjAmJihTKz10LnJlbGV2YW5jZSksZSYmKGdbYS5zdWJMYW5ndWFnZV09dC50b3ApLFtWKHQubGFuZ3VhZ2UsdC52YWx1ZSwhMCldKTpbQih3KV0pfWZ1bmN0aW9uIFIoKXt2YXIgdCxlLG4scixvPVtdO2lmKCFhLmtleXdvcmRzKXJldHVybiBJKHcsbyk7dD0wLGEubGV4ZW1lc1JlLmxhc3RJbmRleD0wLGU9YS5sZXhlbWVzUmUuZXhlYyh3KTt3aGlsZShlKUkody5zbGljZSh0LGUuaW5kZXgpLG8pLHI9RihhLGUpLHI/KFMrPXJbMV0sbj1WKHJbMF0sW10pLG8ucHVzaChuKSxJKGVbMF0sbi5jaGlsZHJlbikpOkkoZVswXSxvKSx0PWEubGV4ZW1lc1JlLmxhc3RJbmRleCxlPWEubGV4ZW1lc1JlLmV4ZWModyk7cmV0dXJuIEkody5zbGljZSh0KSxvKSxvfWZ1bmN0aW9uIF8odCxlKXt2YXIgbixyPXQubGVuZ3RoLG89LTE7d2hpbGUoKytvPHIpbj10W29dLCJ0ZXh0Ij09PW4udHlwZT9JKG4udmFsdWUsZSk6ZS5wdXNoKG4pfWZ1bmN0aW9uIEkodCxlKXt2YXIgbjtyZXR1cm4gdCYmKG49ZVtlLmxlbmd0aC0xXSxuJiYidGV4dCI9PT1uLnR5cGU/bi52YWx1ZSs9dDplLnB1c2goQih0KSkpLGV9ZnVuY3Rpb24gQih0KXtyZXR1cm57dHlwZToidGV4dCIsdmFsdWU6dH19ZnVuY3Rpb24gVih0LGUsbil7cmV0dXJue3R5cGU6ImVsZW1lbnQiLHRhZ05hbWU6InNwYW4iLHByb3BlcnRpZXM6e2NsYXNzTmFtZTpbKG4/IiI6cikrdF19LGNoaWxkcmVuOmV9fWZ1bmN0aW9uIEYodCxlKXt2YXIgbj1lWzBdO3JldHVybiBzW3VdJiYobj1uLnRvTG93ZXJDYXNlKCkpLGMuY2FsbCh0LmtleXdvcmRzLG4pJiZ0LmtleXdvcmRzW25dfWZ1bmN0aW9uIGoodCxlKXtpZihQKHQuZW5kUmUsZSkpe3doaWxlKHQuZW5kc1BhcmVudCYmdC5wYXJlbnQpdD10LnBhcmVudDtyZXR1cm4gdH1pZih0LmVuZHNXaXRoUGFyZW50KXJldHVybiBqKHQucGFyZW50LGUpfWZ1bmN0aW9uICQoKXtwPXkucG9wKCl8fHZ9fWZ1bmN0aW9uIFQodCl7ZnVuY3Rpb24gZShvLGEpe28uY29tcGlsZWR8fChvLmNvbXBpbGVkPSEwLG8ua2V5d29yZHM9by5rZXl3b3Jkc3x8by5iZWdpbktleXdvcmRzLG8ua2V5d29yZHMmJihvLmtleXdvcmRzPUQoby5rZXl3b3Jkcyx0W3VdKSksby5sZXhlbWVzUmU9aShvLmxleGVtZXN8fC9cdysvLCEwKSxhJiYoby5iZWdpbktleXdvcmRzJiYoby5iZWdpbj0iXFxiKCIrby5iZWdpbktleXdvcmRzLnNwbGl0KGQpLmpvaW4oaCkrIilcXGIiKSxvLmJlZ2lufHwoby5iZWdpbj0vXEJ8XGIvKSxvLmJlZ2luUmU9aShvLmJlZ2luKSxvLmVuZFNhbWVBc0JlZ2luJiYoby5lbmQ9by5iZWdpbiksby5lbmR8fG8uZW5kc1dpdGhQYXJlbnR8fChvLmVuZD0vXEJ8XGIvKSxvLmVuZCYmKG8uZW5kUmU9aShvLmVuZCkpLG9bZl09cyhvLmVuZCl8fCIiLG8uZW5kc1dpdGhQYXJlbnQmJmFbZl0mJihvW2ZdKz0oby5lbmQ/aDoiIikrYVtmXSkpLG8uaWxsZWdhbCYmKG8uaWxsZWdhbFJlPWkoby5pbGxlZ2FsKSksdm9pZCAwPT09by5yZWxldmFuY2UmJihvLnJlbGV2YW5jZT0xKSxvLmNvbnRhaW5zPW4oby5jb250YWluc3x8W10sbyksby5zdGFydHMmJmUoby5zdGFydHMsYSksby50ZXJtaW5hdG9ycz1yKG8pKX1mdW5jdGlvbiBuKHQsbil7dmFyIHIsbz1bXSxpPXQubGVuZ3RoLHM9LTE7d2hpbGUoKytzPGkpcj10W3NdLG89by5jb25jYXQoRSgic2VsZiI9PT1yP246cikpO2k9by5sZW5ndGgscz0tMTt3aGlsZSgrK3M8aSllKG9bc10sbik7cmV0dXJuIG99ZnVuY3Rpb24gcih0KXt2YXIgZSxuLHI9e30scz1bXSxhPXt9LGM9MSxsPXQuY29udGFpbnMsdT1sLmxlbmd0aCxwPS0xLGQ9W107d2hpbGUoKytwPHUpbj1sW3BdLG0obixuLmJlZ2luS2V5d29yZHM/IlxcLj8oPzoiK24uYmVnaW4rIilcXC4/IjpuLmJlZ2luKTt0W2ZdJiZtKCJlbmQiLHRbZl0pLHQuaWxsZWdhbCYmbSgiaWxsZWdhbCIsdC5pbGxlZ2FsKSx1PXMubGVuZ3RoLHA9LTE7d2hpbGUoKytwPHUpZFtwXT1zW3BdWzFdO3JldHVybiBlPWkobyhkLGgpLCEwKSxhPXtsYXN0SW5kZXg6MCxleGVjOnZ9LGE7ZnVuY3Rpb24gdihuKXt2YXIgbyxpLGMsbCx1O2lmKDA9PT1zLmxlbmd0aClyZXR1cm4gbnVsbDtpZihlLmxhc3RJbmRleD1hLmxhc3RJbmRleCxsPWUuZXhlYyhuKSwhbClyZXR1cm4gbnVsbDtvPWwubGVuZ3RoLGk9LTE7d2hpbGUoKytpPG8paWYodT1sW2ldLHZvaWQgMCE9PXUmJnZvaWQgMCE9PXJbaV0pe2M9cltpXTticmVha31yZXR1cm4ic3RyaW5nIj09PXR5cGVvZiBjPyhsLnR5cGU9YyxsLmV4dHJhPVt0LmlsbGVnYWwsdC50ZXJtaW5hdG9yX2VuZF0pOihsLnR5cGU9ImJlZ2luIixsLnJ1bGU9YyksbH1mdW5jdGlvbiBtKHQsZSl7cltjXT10LHMucHVzaChbdCxlXSksYys9bmV3IFJlZ0V4cChlLnRvU3RyaW5nKCkraCkuZXhlYygiIikubGVuZ3RofX1mdW5jdGlvbiBvKHQsZSl7dmFyIG4scixvLGksYT0vXFsoPzpbXlxcXF1dfFxcLikqXF18XChcPz98XFwoWzEtOV1cZCopfFxcLi8sYz0wLGw9IiIsdT10Lmxlbmd0aCxwPS0xO3doaWxlKCsrcDx1KXtuPXRbcF0sbz1zKG4pLGMrPTEscj1jLDAhPT1wJiYobCs9ZSksbCs9djt3aGlsZShvLmxlbmd0aD4wKXtpZihpPWEuZXhlYyhvKSxudWxsPT09aSl7bCs9bzticmVha31sKz1vLnNsaWNlKDAsaS5pbmRleCksbz1vLnNsaWNlKGkuaW5kZXgraVswXS5sZW5ndGgpLGlbMF1bMF09PT1nJiZpWzFdP2wrPWcrU3RyaW5nKE51bWJlcihpWzFdKStyKToobCs9aVswXSxpWzBdPT09diYmYysrKX1sKz1tfXJldHVybiBsfWZ1bmN0aW9uIGkoZSxuKXtyZXR1cm4gbmV3IFJlZ0V4cChzKGUpLCJtIisodFt1XT8iaSI6IiIpKyhuPyJnIjoiIikpfWZ1bmN0aW9uIHModCl7cmV0dXJuIHQmJnQuc291cmNlfHx0fWUodCl9ZnVuY3Rpb24gRCh0LGUpe3ZhciBuLHI9e307aWYoInN0cmluZyI9PT10eXBlb2YgdClvKCJrZXl3b3JkIix0KTtlbHNlIGZvcihuIGluIHQpbyhuLHRbbl0pO3JldHVybiByO2Z1bmN0aW9uIG8odCxuKXt2YXIgcj1lP24udG9Mb3dlckNhc2UoKTpuO2kodCxyLnNwbGl0KGQpKX1mdW5jdGlvbiBpKHQsZSl7dmFyIG4sbz1lLmxlbmd0aCxpPS0xO3doaWxlKCsraTxvKW49ZVtpXS5zcGxpdChoKSxyW25bMF1dPVt0LE51bWJlcihuWzFdKXx8QShuWzBdKT8wOjFdfX1mdW5jdGlvbiBBKHQpe3JldHVybi0xIT09eS5pbmRleE9mKHQudG9Mb3dlckNhc2UoKSl9ZnVuY3Rpb24gRSh0KXt2YXIgZSxuLHIsbztpZih0LnZhcmlhbnRzJiYhdFtwXSl7cj10LnZhcmlhbnRzLGU9ci5sZW5ndGgsbj0tMSxvPVtdO3doaWxlKCsrbjxlKW9bbl09YSh0LHt2YXJpYW50czpudWxsfSxyW25dKTt0W3BdPW99cmV0dXJuIHQuY2FjaGVkX3ZhcmlhbnRzP3QuY2FjaGVkX3ZhcmlhbnRzOlIodCk/W2EodCx7c3RhcnRzOnQuc3RhcnRzP2EodC5zdGFydHMpOm51bGx9KV06W3RdfWZ1bmN0aW9uIFIodCl7cmV0dXJuISF0JiYodC5lbmRzV2l0aFBhcmVudHx8Uih0LnN0YXJ0cykpfWZ1bmN0aW9uIF8odCl7cmV0dXJue3JlbGV2YW5jZTp0LnJlbGV2YW5jZXx8MCxsYW5ndWFnZTp0Lmxhbmd1YWdlfHxudWxsLHZhbHVlOnQudmFsdWV8fFtdfX1mdW5jdGlvbiBQKHQsZSl7dmFyIG49dCYmdC5leGVjKGUpO3JldHVybiBuJiYwPT09bi5pbmRleH1mdW5jdGlvbiB6KHQpe3JldHVybiB0PXQudG9Mb3dlckNhc2UoKSxiW3RdfHxiW1NbdF1dfX0sIjNmOGMiOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXt9fSwiNDI4ZiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImRhODQiKTt0LmV4cG9ydHM9cn0sIjQ0YWQiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJkMDM5Iiksbz1uKCJjNmI2IiksaT0iIi5zcGxpdDt0LmV4cG9ydHM9cigoZnVuY3Rpb24oKXtyZXR1cm4hT2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCl9KSk/ZnVuY3Rpb24odCl7cmV0dXJuIlN0cmluZyI9PW8odCk/aS5jYWxsKHQsIiIpOk9iamVjdCh0KX06T2JqZWN0fSwiNDRkMiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImI2MjIiKSxvPW4oIjdjNzMiKSxpPW4oIjliZjIiKSxzPXIoInVuc2NvcGFibGVzIiksYT1BcnJheS5wcm90b3R5cGU7dm9pZCAwPT1hW3NdJiZpLmYoYSxzLHtjb25maWd1cmFibGU6ITAsdmFsdWU6byhudWxsKX0pLHQuZXhwb3J0cz1mdW5jdGlvbih0KXthW3NdW3RdPSEwfX0sNDkzMDpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZDAzOSIpO3QuZXhwb3J0cz0hIU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMmJiFyKChmdW5jdGlvbigpe3JldHVybiFTdHJpbmcoU3ltYm9sKCkpfSkpfSwiNGQ2NCI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImZjNmEiKSxvPW4oIjUwYzQiKSxpPW4oIjIzY2IiKSxzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4scyl7dmFyIGEsYz1yKGUpLGw9byhjLmxlbmd0aCksdT1pKHMsbCk7aWYodCYmbiE9bil7d2hpbGUobD51KWlmKGE9Y1t1KytdLGEhPWEpcmV0dXJuITB9ZWxzZSBmb3IoO2w+dTt1KyspaWYoKHR8fHUgaW4gYykmJmNbdV09PT1uKXJldHVybiB0fHx1fHwwO3JldHVybiF0JiYtMX19O3QuZXhwb3J0cz17aW5jbHVkZXM6cyghMCksaW5kZXhPZjpzKCExKX19LCI0ZmFkIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiMjNlNyIpLG89bigiNmY1MyIpLmVudHJpZXM7cih7dGFyZ2V0OiJPYmplY3QiLHN0YXQ6ITB9LHtlbnRyaWVzOmZ1bmN0aW9uKHQpe3JldHVybiBvKHQpfX0pfSwiNTBjNCI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImE2OTEiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP28ocih0KSw5MDA3MTk5MjU0NzQwOTkxKTowfX0sNTEzNTpmdW5jdGlvbih0LGUpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBuLmNhbGwodCxlKX19LDUzMTM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLnIoZSksbi5kKGUsIkFsbFNlbGVjdGlvbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKGUsIkVkaXRvclN0YXRlIiwoZnVuY3Rpb24oKXtyZXR1cm4gT30pKSxuLmQoZSwiTm9kZVNlbGVjdGlvbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSksbi5kKGUsIlBsdWdpbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIER9KSksbi5kKGUsIlBsdWdpbktleSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ9KSksbi5kKGUsIlNlbGVjdGlvbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKGUsIlNlbGVjdGlvblJhbmdlIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQoZSwiVGV4dFNlbGVjdGlvbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksbi5kKGUsIlRyYW5zYWN0aW9uIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKTt2YXIgcj1uKCIzMDRhIiksbz1uKCIwYWMwIiksaT1PYmplY3QuY3JlYXRlKG51bGwpLHM9ZnVuY3Rpb24odCxlLG4pe3RoaXMucmFuZ2VzPW58fFtuZXcgYyh0Lm1pbihlKSx0Lm1heChlKSldLHRoaXMuJGFuY2hvcj10LHRoaXMuJGhlYWQ9ZX0sYT17YW5jaG9yOntjb25maWd1cmFibGU6ITB9LGhlYWQ6e2NvbmZpZ3VyYWJsZTohMH0sZnJvbTp7Y29uZmlndXJhYmxlOiEwfSx0bzp7Y29uZmlndXJhYmxlOiEwfSwkZnJvbTp7Y29uZmlndXJhYmxlOiEwfSwkdG86e2NvbmZpZ3VyYWJsZTohMH0sZW1wdHk6e2NvbmZpZ3VyYWJsZTohMH19O2EuYW5jaG9yLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRhbmNob3IucG9zfSxhLmhlYWQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGhlYWQucG9zfSxhLmZyb20uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGZyb20ucG9zfSxhLnRvLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiR0by5wb3N9LGEuJGZyb20uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmFuZ2VzWzBdLiRmcm9tfSxhLiR0by5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYW5nZXNbMF0uJHRvfSxhLmVtcHR5LmdldD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnJhbmdlcyxlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodFtlXS4kZnJvbS5wb3MhPXRbZV0uJHRvLnBvcylyZXR1cm4hMTtyZXR1cm4hMH0scy5wcm90b3R5cGUuY29udGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRmcm9tLm5vZGUoMCkuc2xpY2UodGhpcy5mcm9tLHRoaXMudG8sITApfSxzLnByb3RvdHlwZS5yZXBsYWNlPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9clsiU2xpY2UiXS5lbXB0eSk7Zm9yKHZhciBuPWUuY29udGVudC5sYXN0Q2hpbGQsbz1udWxsLGk9MDtpPGUub3BlbkVuZDtpKyspbz1uLG49bi5sYXN0Q2hpbGQ7Zm9yKHZhciBzPXQuc3RlcHMubGVuZ3RoLGE9dGhpcy5yYW5nZXMsYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgbD1hW2NdLHU9bC4kZnJvbSxwPWwuJHRvLGY9dC5tYXBwaW5nLnNsaWNlKHMpO3QucmVwbGFjZVJhbmdlKGYubWFwKHUucG9zKSxmLm1hcChwLnBvcyksYz9yWyJTbGljZSJdLmVtcHR5OmUpLDA9PWMmJm0odCxzLChuP24uaXNJbmxpbmU6byYmby5pc1RleHRibG9jayk/LTE6MSl9fSxzLnByb3RvdHlwZS5yZXBsYWNlV2l0aD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LnN0ZXBzLmxlbmd0aCxyPXRoaXMucmFuZ2VzLG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGk9cltvXSxzPWkuJGZyb20sYT1pLiR0byxjPXQubWFwcGluZy5zbGljZShuKSxsPWMubWFwKHMucG9zKSx1PWMubWFwKGEucG9zKTtvP3QuZGVsZXRlUmFuZ2UobCx1KToodC5yZXBsYWNlUmFuZ2VXaXRoKGwsdSxlKSxtKHQsbixlLmlzSW5saW5lPy0xOjEpKX19LHMuZmluZEZyb209ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQucGFyZW50LmlubGluZUNvbnRlbnQ/bmV3IGwodCk6dih0Lm5vZGUoMCksdC5wYXJlbnQsdC5wb3MsdC5pbmRleCgpLGUsbik7aWYocilyZXR1cm4gcjtmb3IodmFyIG89dC5kZXB0aC0xO28+PTA7by0tKXt2YXIgaT1lPDA/dih0Lm5vZGUoMCksdC5ub2RlKG8pLHQuYmVmb3JlKG8rMSksdC5pbmRleChvKSxlLG4pOnYodC5ub2RlKDApLHQubm9kZShvKSx0LmFmdGVyKG8rMSksdC5pbmRleChvKSsxLGUsbik7aWYoaSlyZXR1cm4gaX19LHMubmVhcj1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0xKSx0aGlzLmZpbmRGcm9tKHQsZSl8fHRoaXMuZmluZEZyb20odCwtZSl8fG5ldyBkKHQubm9kZSgwKSl9LHMuYXRTdGFydD1mdW5jdGlvbih0KXtyZXR1cm4gdih0LHQsMCwwLDEpfHxuZXcgZCh0KX0scy5hdEVuZD1mdW5jdGlvbih0KXtyZXR1cm4gdih0LHQsdC5jb250ZW50LnNpemUsdC5jaGlsZENvdW50LC0xKXx8bmV3IGQodCl9LHMuZnJvbUpTT049ZnVuY3Rpb24odCxlKXtpZighZXx8IWUudHlwZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgU2VsZWN0aW9uLmZyb21KU09OIik7dmFyIG49aVtlLnR5cGVdO2lmKCFuKXRocm93IG5ldyBSYW5nZUVycm9yKCJObyBzZWxlY3Rpb24gdHlwZSAiK2UudHlwZSsiIGRlZmluZWQiKTtyZXR1cm4gbi5mcm9tSlNPTih0LGUpfSxzLmpzb25JRD1mdW5jdGlvbih0LGUpe2lmKHQgaW4gaSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRHVwbGljYXRlIHVzZSBvZiBzZWxlY3Rpb24gSlNPTiBJRCAiK3QpO3JldHVybiBpW3RdPWUsZS5wcm90b3R5cGUuanNvbklEPXQsZX0scy5wcm90b3R5cGUuZ2V0Qm9va21hcms9ZnVuY3Rpb24oKXtyZXR1cm4gbC5iZXR3ZWVuKHRoaXMuJGFuY2hvcix0aGlzLiRoZWFkKS5nZXRCb29rbWFyaygpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzLnByb3RvdHlwZSxhKSxzLnByb3RvdHlwZS52aXNpYmxlPSEwO3ZhciBjPWZ1bmN0aW9uKHQsZSl7dGhpcy4kZnJvbT10LHRoaXMuJHRvPWV9LGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZvaWQgMD09PW4mJihuPWUpLHQuY2FsbCh0aGlzLGUsbil9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49eyRjdXJzb3I6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBuLiRjdXJzb3IuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGFuY2hvci5wb3M9PXRoaXMuJGhlYWQucG9zP3RoaXMuJGhlYWQ6bnVsbH0sZS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKG4scil7dmFyIG89bi5yZXNvbHZlKHIubWFwKHRoaXMuaGVhZCkpO2lmKCFvLnBhcmVudC5pbmxpbmVDb250ZW50KXJldHVybiB0Lm5lYXIobyk7dmFyIGk9bi5yZXNvbHZlKHIubWFwKHRoaXMuYW5jaG9yKSk7cmV0dXJuIG5ldyBlKGkucGFyZW50LmlubGluZUNvbnRlbnQ/aTpvLG8pfSxlLnByb3RvdHlwZS5yZXBsYWNlPWZ1bmN0aW9uKGUsbil7aWYodm9pZCAwPT09biYmKG49clsiU2xpY2UiXS5lbXB0eSksdC5wcm90b3R5cGUucmVwbGFjZS5jYWxsKHRoaXMsZSxuKSxuPT1yWyJTbGljZSJdLmVtcHR5KXt2YXIgbz10aGlzLiRmcm9tLm1hcmtzQWNyb3NzKHRoaXMuJHRvKTtvJiZlLmVuc3VyZU1hcmtzKG8pfX0sZS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlJiZ0LmFuY2hvcj09dGhpcy5hbmNob3ImJnQuaGVhZD09dGhpcy5oZWFkfSxlLnByb3RvdHlwZS5nZXRCb29rbWFyaz1mdW5jdGlvbigpe3JldHVybiBuZXcgdSh0aGlzLmFuY2hvcix0aGlzLmhlYWQpfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZToidGV4dCIsYW5jaG9yOnRoaXMuYW5jaG9yLGhlYWQ6dGhpcy5oZWFkfX0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbi5hbmNob3J8fCJudW1iZXIiIT10eXBlb2Ygbi5oZWFkKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBUZXh0U2VsZWN0aW9uLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKHQucmVzb2x2ZShuLmFuY2hvciksdC5yZXNvbHZlKG4uaGVhZCkpfSxlLmNyZWF0ZT1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49ZSk7dmFyIHI9dC5yZXNvbHZlKGUpO3JldHVybiBuZXcgdGhpcyhyLG49PWU/cjp0LnJlc29sdmUobikpfSxlLmJldHdlZW49ZnVuY3Rpb24obixyLG8pe3ZhciBpPW4ucG9zLXIucG9zO2lmKG8mJiFpfHwobz1pPj0wPzE6LTEpLCFyLnBhcmVudC5pbmxpbmVDb250ZW50KXt2YXIgcz10LmZpbmRGcm9tKHIsbywhMCl8fHQuZmluZEZyb20ociwtbywhMCk7aWYoIXMpcmV0dXJuIHQubmVhcihyLG8pO3I9cy4kaGVhZH1yZXR1cm4gbi5wYXJlbnQuaW5saW5lQ29udGVudHx8KDA9PWk/bj1yOihuPSh0LmZpbmRGcm9tKG4sLW8sITApfHx0LmZpbmRGcm9tKG4sbywhMCkpLiRhbmNob3Isbi5wb3M8ci5wb3MhPWk8MCYmKG49cikpKSxuZXcgZShuLHIpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfShzKTtzLmpzb25JRCgidGV4dCIsbCk7dmFyIHU9ZnVuY3Rpb24odCxlKXt0aGlzLmFuY2hvcj10LHRoaXMuaGVhZD1lfTt1LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB1KHQubWFwKHRoaXMuYW5jaG9yKSx0Lm1hcCh0aGlzLmhlYWQpKX0sdS5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0KXtyZXR1cm4gbC5iZXR3ZWVuKHQucmVzb2x2ZSh0aGlzLmFuY2hvciksdC5yZXNvbHZlKHRoaXMuaGVhZCkpfTt2YXIgcD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPWUubm9kZUFmdGVyLHI9ZS5ub2RlKDApLnJlc29sdmUoZS5wb3Mrbi5ub2RlU2l6ZSk7dC5jYWxsKHRoaXMsZSxyKSx0aGlzLm5vZGU9bn1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKG4scil7dmFyIG89ci5tYXBSZXN1bHQodGhpcy5hbmNob3IpLGk9by5kZWxldGVkLHM9by5wb3MsYT1uLnJlc29sdmUocyk7cmV0dXJuIGk/dC5uZWFyKGEpOm5ldyBlKGEpfSxlLnByb3RvdHlwZS5jb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByWyJTbGljZSJdKHJbIkZyYWdtZW50Il0uZnJvbSh0aGlzLm5vZGUpLDAsMCl9LGUucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZSYmdC5hbmNob3I9PXRoaXMuYW5jaG9yfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZToibm9kZSIsYW5jaG9yOnRoaXMuYW5jaG9yfX0sZS5wcm90b3R5cGUuZ2V0Qm9va21hcms9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGYodGhpcy5hbmNob3IpfSxlLmZyb21KU09OPWZ1bmN0aW9uKHQsbil7aWYoIm51bWJlciIhPXR5cGVvZiBuLmFuY2hvcil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgTm9kZVNlbGVjdGlvbi5mcm9tSlNPTiIpO3JldHVybiBuZXcgZSh0LnJlc29sdmUobi5hbmNob3IpKX0sZS5jcmVhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHRoaXModC5yZXNvbHZlKGUpKX0sZS5pc1NlbGVjdGFibGU9ZnVuY3Rpb24odCl7cmV0dXJuIXQuaXNUZXh0JiYhMSE9PXQudHlwZS5zcGVjLnNlbGVjdGFibGV9LGV9KHMpO3AucHJvdG90eXBlLnZpc2libGU9ITEscy5qc29uSUQoIm5vZGUiLHApO3ZhciBmPWZ1bmN0aW9uKHQpe3RoaXMuYW5jaG9yPXR9O2YucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXt2YXIgZT10Lm1hcFJlc3VsdCh0aGlzLmFuY2hvciksbj1lLmRlbGV0ZWQscj1lLnBvcztyZXR1cm4gbj9uZXcgdShyLHIpOm5ldyBmKHIpfSxmLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKHQpe3ZhciBlPXQucmVzb2x2ZSh0aGlzLmFuY2hvciksbj1lLm5vZGVBZnRlcjtyZXR1cm4gbiYmcC5pc1NlbGVjdGFibGUobik/bmV3IHAoZSk6cy5uZWFyKGUpfTt2YXIgZD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUucmVzb2x2ZSgwKSxlLnJlc29sdmUoZS5jb250ZW50LnNpemUpKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6ImFsbCJ9fSxlLmZyb21KU09OPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0KX0sZS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0KX0sZS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlfSxlLnByb3RvdHlwZS5nZXRCb29rbWFyaz1mdW5jdGlvbigpe3JldHVybiBofSxlfShzKTtzLmpzb25JRCgiYWxsIixkKTt2YXIgaD17bWFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHJlc29sdmU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBkKHQpfX07ZnVuY3Rpb24gdih0LGUsbixyLG8saSl7aWYoZS5pbmxpbmVDb250ZW50KXJldHVybiBsLmNyZWF0ZSh0LG4pO2Zvcih2YXIgcz1yLShvPjA/MDoxKTtvPjA/czxlLmNoaWxkQ291bnQ6cz49MDtzKz1vKXt2YXIgYT1lLmNoaWxkKHMpO2lmKGEuaXNBdG9tKXtpZighaSYmcC5pc1NlbGVjdGFibGUoYSkpcmV0dXJuIHAuY3JlYXRlKHQsbi0obzwwP2Eubm9kZVNpemU6MCkpfWVsc2V7dmFyIGM9dih0LGEsbitvLG88MD9hLmNoaWxkQ291bnQ6MCxvLGkpO2lmKGMpcmV0dXJuIGN9bis9YS5ub2RlU2l6ZSpvfX1mdW5jdGlvbiBtKHQsZSxuKXt2YXIgcj10LnN0ZXBzLmxlbmd0aC0xO2lmKCEocjxlKSl7dmFyIGk9dC5zdGVwc1tyXTtpZihpIGluc3RhbmNlb2Ygb1siYyJdfHxpIGluc3RhbmNlb2Ygb1siYiJdKXt2YXIgYSxjPXQubWFwcGluZy5tYXBzW3JdO2MuZm9yRWFjaCgoZnVuY3Rpb24odCxlLG4scil7bnVsbD09YSYmKGE9cil9KSksdC5zZXRTZWxlY3Rpb24ocy5uZWFyKHQuZG9jLnJlc29sdmUoYSksbikpfX19dmFyIGc9MSx5PTIsdz00LGI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyxlLmRvYyksdGhpcy50aW1lPURhdGUubm93KCksdGhpcy5jdXJTZWxlY3Rpb249ZS5zZWxlY3Rpb24sdGhpcy5jdXJTZWxlY3Rpb25Gb3I9MCx0aGlzLnN0b3JlZE1hcmtzPWUuc3RvcmVkTWFya3MsdGhpcy51cGRhdGVkPTAsdGhpcy5tZXRhPU9iamVjdC5jcmVhdGUobnVsbCl9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e3NlbGVjdGlvbjp7Y29uZmlndXJhYmxlOiEwfSxzZWxlY3Rpb25TZXQ6e2NvbmZpZ3VyYWJsZTohMH0sc3RvcmVkTWFya3NTZXQ6e2NvbmZpZ3VyYWJsZTohMH0saXNHZW5lcmljOntjb25maWd1cmFibGU6ITB9LHNjcm9sbGVkSW50b1ZpZXc6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBuLnNlbGVjdGlvbi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJTZWxlY3Rpb25Gb3I8dGhpcy5zdGVwcy5sZW5ndGgmJih0aGlzLmN1clNlbGVjdGlvbj10aGlzLmN1clNlbGVjdGlvbi5tYXAodGhpcy5kb2MsdGhpcy5tYXBwaW5nLnNsaWNlKHRoaXMuY3VyU2VsZWN0aW9uRm9yKSksdGhpcy5jdXJTZWxlY3Rpb25Gb3I9dGhpcy5zdGVwcy5sZW5ndGgpLHRoaXMuY3VyU2VsZWN0aW9ufSxlLnByb3RvdHlwZS5zZXRTZWxlY3Rpb249ZnVuY3Rpb24odCl7aWYodC4kZnJvbS5kb2MhPXRoaXMuZG9jKXRocm93IG5ldyBSYW5nZUVycm9yKCJTZWxlY3Rpb24gcGFzc2VkIHRvIHNldFNlbGVjdGlvbiBtdXN0IHBvaW50IGF0IHRoZSBjdXJyZW50IGRvY3VtZW50Iik7cmV0dXJuIHRoaXMuY3VyU2VsZWN0aW9uPXQsdGhpcy5jdXJTZWxlY3Rpb25Gb3I9dGhpcy5zdGVwcy5sZW5ndGgsdGhpcy51cGRhdGVkPSh0aGlzLnVwZGF0ZWR8ZykmfnksdGhpcy5zdG9yZWRNYXJrcz1udWxsLHRoaXN9LG4uc2VsZWN0aW9uU2V0LmdldD1mdW5jdGlvbigpe3JldHVybih0aGlzLnVwZGF0ZWQmZyk+MH0sZS5wcm90b3R5cGUuc2V0U3RvcmVkTWFya3M9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RvcmVkTWFya3M9dCx0aGlzLnVwZGF0ZWR8PXksdGhpc30sZS5wcm90b3R5cGUuZW5zdXJlTWFya3M9ZnVuY3Rpb24odCl7cmV0dXJuIHJbIk1hcmsiXS5zYW1lU2V0KHRoaXMuc3RvcmVkTWFya3N8fHRoaXMuc2VsZWN0aW9uLiRmcm9tLm1hcmtzKCksdCl8fHRoaXMuc2V0U3RvcmVkTWFya3ModCksdGhpc30sZS5wcm90b3R5cGUuYWRkU3RvcmVkTWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lbnN1cmVNYXJrcyh0LmFkZFRvU2V0KHRoaXMuc3RvcmVkTWFya3N8fHRoaXMuc2VsZWN0aW9uLiRoZWFkLm1hcmtzKCkpKX0sZS5wcm90b3R5cGUucmVtb3ZlU3RvcmVkTWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lbnN1cmVNYXJrcyh0LnJlbW92ZUZyb21TZXQodGhpcy5zdG9yZWRNYXJrc3x8dGhpcy5zZWxlY3Rpb24uJGhlYWQubWFya3MoKSkpfSxuLnN0b3JlZE1hcmtzU2V0LmdldD1mdW5jdGlvbigpe3JldHVybih0aGlzLnVwZGF0ZWQmeSk+MH0sZS5wcm90b3R5cGUuYWRkU3RlcD1mdW5jdGlvbihlLG4pe3QucHJvdG90eXBlLmFkZFN0ZXAuY2FsbCh0aGlzLGUsbiksdGhpcy51cGRhdGVkPXRoaXMudXBkYXRlZCZ+eSx0aGlzLnN0b3JlZE1hcmtzPW51bGx9LGUucHJvdG90eXBlLnNldFRpbWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGltZT10LHRoaXN9LGUucHJvdG90eXBlLnJlcGxhY2VTZWxlY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uLnJlcGxhY2UodGhpcyx0KSx0aGlzfSxlLnByb3RvdHlwZS5yZXBsYWNlU2VsZWN0aW9uV2l0aD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuc2VsZWN0aW9uO3JldHVybiExIT09ZSYmKHQ9dC5tYXJrKHRoaXMuc3RvcmVkTWFya3N8fChuLmVtcHR5P24uJGZyb20ubWFya3MoKTpuLiRmcm9tLm1hcmtzQWNyb3NzKG4uJHRvKXx8clsiTWFyayJdLm5vbmUpKSksbi5yZXBsYWNlV2l0aCh0aGlzLHQpLHRoaXN9LGUucHJvdG90eXBlLmRlbGV0ZVNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdGlvbi5yZXBsYWNlKHRoaXMpLHRoaXN9LGUucHJvdG90eXBlLmluc2VydFRleHQ9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPWUpO3ZhciByPXRoaXMuZG9jLnR5cGUuc2NoZW1hO2lmKG51bGw9PWUpcmV0dXJuIHQ/dGhpcy5yZXBsYWNlU2VsZWN0aW9uV2l0aChyLnRleHQodCksITApOnRoaXMuZGVsZXRlU2VsZWN0aW9uKCk7aWYoIXQpcmV0dXJuIHRoaXMuZGVsZXRlUmFuZ2UoZSxuKTt2YXIgbz10aGlzLnN0b3JlZE1hcmtzO2lmKCFvKXt2YXIgaT10aGlzLmRvYy5yZXNvbHZlKGUpO289bj09ZT9pLm1hcmtzKCk6aS5tYXJrc0Fjcm9zcyh0aGlzLmRvYy5yZXNvbHZlKG4pKX1yZXR1cm4gdGhpcy5yZXBsYWNlUmFuZ2VXaXRoKGUsbixyLnRleHQodCxvKSksdGhpcy5zZWxlY3Rpb24uZW1wdHl8fHRoaXMuc2V0U2VsZWN0aW9uKHMubmVhcih0aGlzLnNlbGVjdGlvbi4kdG8pKSx0aGlzfSxlLnByb3RvdHlwZS5zZXRNZXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubWV0YVsic3RyaW5nIj09dHlwZW9mIHQ/dDp0LmtleV09ZSx0aGlzfSxlLnByb3RvdHlwZS5nZXRNZXRhPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm1ldGFbInN0cmluZyI9PXR5cGVvZiB0P3Q6dC5rZXldfSxuLmlzR2VuZXJpYy5nZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5tZXRhKXJldHVybiExO3JldHVybiEwfSxlLnByb3RvdHlwZS5zY3JvbGxJbnRvVmlldz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVwZGF0ZWR8PXcsdGhpc30sbi5zY3JvbGxlZEludG9WaWV3LmdldD1mdW5jdGlvbigpe3JldHVybih0aGlzLnVwZGF0ZWQmdyk+MH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsbiksZX0ob1siZCJdKTtmdW5jdGlvbiBTKHQsZSl7cmV0dXJuIGUmJnQ/dC5iaW5kKGUpOnR9dmFyIGs9ZnVuY3Rpb24odCxlLG4pe3RoaXMubmFtZT10LHRoaXMuaW5pdD1TKGUuaW5pdCxuKSx0aGlzLmFwcGx5PVMoZS5hcHBseSxuKX0seD1bbmV3IGsoImRvYyIse2luaXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZG9jfHx0LnNjaGVtYS50b3BOb2RlVHlwZS5jcmVhdGVBbmRGaWxsKCl9LGFwcGx5OmZ1bmN0aW9uKHQpe3JldHVybiB0LmRvY319KSxuZXcgaygic2VsZWN0aW9uIix7aW5pdDpmdW5jdGlvbih0LGUpe3JldHVybiB0LnNlbGVjdGlvbnx8cy5hdFN0YXJ0KGUuZG9jKX0sYXBwbHk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuc2VsZWN0aW9ufX0pLG5ldyBrKCJzdG9yZWRNYXJrcyIse2luaXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RvcmVkTWFya3N8fG51bGx9LGFwcGx5OmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiByLnNlbGVjdGlvbi4kY3Vyc29yP3Quc3RvcmVkTWFya3M6bnVsbH19KSxuZXcgaygic2Nyb2xsVG9TZWxlY3Rpb24iLHtpbml0OmZ1bmN0aW9uKCl7cmV0dXJuIDB9LGFwcGx5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc2Nyb2xsZWRJbnRvVmlldz9lKzE6ZX19KV0sQz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy5zY2hlbWE9dCx0aGlzLmZpZWxkcz14LmNvbmNhdCgpLHRoaXMucGx1Z2lucz1bXSx0aGlzLnBsdWdpbnNCeUtleT1PYmplY3QuY3JlYXRlKG51bGwpLGUmJmUuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYobi5wbHVnaW5zQnlLZXlbdC5rZXldKXRocm93IG5ldyBSYW5nZUVycm9yKCJBZGRpbmcgZGlmZmVyZW50IGluc3RhbmNlcyBvZiBhIGtleWVkIHBsdWdpbiAoIit0LmtleSsiKSIpO24ucGx1Z2lucy5wdXNoKHQpLG4ucGx1Z2luc0J5S2V5W3Qua2V5XT10LHQuc3BlYy5zdGF0ZSYmbi5maWVsZHMucHVzaChuZXcgayh0LmtleSx0LnNwZWMuc3RhdGUsdCkpfSkpfSxPPWZ1bmN0aW9uKHQpe3RoaXMuY29uZmlnPXR9LE09e3NjaGVtYTp7Y29uZmlndXJhYmxlOiEwfSxwbHVnaW5zOntjb25maWd1cmFibGU6ITB9LHRyOntjb25maWd1cmFibGU6ITB9fTtNLnNjaGVtYS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25maWcuc2NoZW1hfSxNLnBsdWdpbnMuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnLnBsdWdpbnN9LE8ucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFwcGx5VHJhbnNhY3Rpb24odCkuc3RhdGV9LE8ucHJvdG90eXBlLmZpbHRlclRyYW5zYWN0aW9uPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9LTEpO2Zvcih2YXIgbj0wO248dGhpcy5jb25maWcucGx1Z2lucy5sZW5ndGg7bisrKWlmKG4hPWUpe3ZhciByPXRoaXMuY29uZmlnLnBsdWdpbnNbbl07aWYoci5zcGVjLmZpbHRlclRyYW5zYWN0aW9uJiYhci5zcGVjLmZpbHRlclRyYW5zYWN0aW9uLmNhbGwocix0LHRoaXMpKXJldHVybiExfXJldHVybiEwfSxPLnByb3RvdHlwZS5hcHBseVRyYW5zYWN0aW9uPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmZpbHRlclRyYW5zYWN0aW9uKHQpKXJldHVybntzdGF0ZTp0aGlzLHRyYW5zYWN0aW9uczpbXX07Zm9yKHZhciBlPVt0XSxuPXRoaXMuYXBwbHlJbm5lcih0KSxyPW51bGw7Oyl7Zm9yKHZhciBvPSExLGk9MDtpPHRoaXMuY29uZmlnLnBsdWdpbnMubGVuZ3RoO2krKyl7dmFyIHM9dGhpcy5jb25maWcucGx1Z2luc1tpXTtpZihzLnNwZWMuYXBwZW5kVHJhbnNhY3Rpb24pe3ZhciBhPXI/cltpXS5uOjAsYz1yP3JbaV0uc3RhdGU6dGhpcyxsPWE8ZS5sZW5ndGgmJnMuc3BlYy5hcHBlbmRUcmFuc2FjdGlvbi5jYWxsKHMsYT9lLnNsaWNlKGEpOmUsYyxuKTtpZihsJiZuLmZpbHRlclRyYW5zYWN0aW9uKGwsaSkpe2lmKGwuc2V0TWV0YSgiYXBwZW5kZWRUcmFuc2FjdGlvbiIsdCksIXIpe3I9W107Zm9yKHZhciB1PTA7dTx0aGlzLmNvbmZpZy5wbHVnaW5zLmxlbmd0aDt1Kyspci5wdXNoKHU8aT97c3RhdGU6bixuOmUubGVuZ3RofTp7c3RhdGU6dGhpcyxuOjB9KX1lLnB1c2gobCksbj1uLmFwcGx5SW5uZXIobCksbz0hMH1yJiYocltpXT17c3RhdGU6bixuOmUubGVuZ3RofSl9fWlmKCFvKXJldHVybntzdGF0ZTpuLHRyYW5zYWN0aW9uczplfX19LE8ucHJvdG90eXBlLmFwcGx5SW5uZXI9ZnVuY3Rpb24odCl7aWYoIXQuYmVmb3JlLmVxKHRoaXMuZG9jKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQXBwbHlpbmcgYSBtaXNtYXRjaGVkIHRyYW5zYWN0aW9uIik7Zm9yKHZhciBlPW5ldyBPKHRoaXMuY29uZmlnKSxuPXRoaXMuY29uZmlnLmZpZWxkcyxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl07ZVtvLm5hbWVdPW8uYXBwbHkodCx0aGlzW28ubmFtZV0sdGhpcyxlKX1mb3IodmFyIGk9MDtpPE4ubGVuZ3RoO2krKylOW2ldKHRoaXMsdCxlKTtyZXR1cm4gZX0sTS50ci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGIodGhpcyl9LE8uY3JlYXRlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgQyh0LnNjaGVtYXx8dC5kb2MudHlwZS5zY2hlbWEsdC5wbHVnaW5zKSxuPW5ldyBPKGUpLHI9MDtyPGUuZmllbGRzLmxlbmd0aDtyKyspbltlLmZpZWxkc1tyXS5uYW1lXT1lLmZpZWxkc1tyXS5pbml0KHQsbik7cmV0dXJuIG59LE8ucHJvdG90eXBlLnJlY29uZmlndXJlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgQyh0LnNjaGVtYXx8dGhpcy5zY2hlbWEsdC5wbHVnaW5zKSxuPWUuZmllbGRzLHI9bmV3IE8oZSksbz0wO288bi5sZW5ndGg7bysrKXt2YXIgaT1uW29dLm5hbWU7cltpXT10aGlzLmhhc093blByb3BlcnR5KGkpP3RoaXNbaV06bltvXS5pbml0KHQscil9cmV0dXJuIHJ9LE8ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbih0KXt2YXIgZT17ZG9jOnRoaXMuZG9jLnRvSlNPTigpLHNlbGVjdGlvbjp0aGlzLnNlbGVjdGlvbi50b0pTT04oKX07aWYodGhpcy5zdG9yZWRNYXJrcyYmKGUuc3RvcmVkTWFya3M9dGhpcy5zdG9yZWRNYXJrcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvSlNPTigpfSkpKSx0JiYib2JqZWN0Ij09dHlwZW9mIHQpZm9yKHZhciBuIGluIHQpe2lmKCJkb2MiPT1ufHwic2VsZWN0aW9uIj09bil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGhlIEpTT04gZmllbGRzIGBkb2NgIGFuZCBgc2VsZWN0aW9uYCBhcmUgcmVzZXJ2ZWQiKTt2YXIgcj10W25dLG89ci5zcGVjLnN0YXRlO28mJm8udG9KU09OJiYoZVtuXT1vLnRvSlNPTi5jYWxsKHIsdGhpc1tyLmtleV0pKX1yZXR1cm4gZX0sTy5mcm9tSlNPTj1mdW5jdGlvbih0LGUsbil7aWYoIWUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIEVkaXRvclN0YXRlLmZyb21KU09OIik7aWYoIXQuc2NoZW1hKXRocm93IG5ldyBSYW5nZUVycm9yKCJSZXF1aXJlZCBjb25maWcgZmllbGQgJ3NjaGVtYScgbWlzc2luZyIpO3ZhciBvPW5ldyBDKHQuc2NoZW1hLHQucGx1Z2lucyksaT1uZXcgTyhvKTtyZXR1cm4gby5maWVsZHMuZm9yRWFjaCgoZnVuY3Rpb24obyl7aWYoImRvYyI9PW8ubmFtZSlpLmRvYz1yWyJOb2RlIl0uZnJvbUpTT04odC5zY2hlbWEsZS5kb2MpO2Vsc2UgaWYoInNlbGVjdGlvbiI9PW8ubmFtZSlpLnNlbGVjdGlvbj1zLmZyb21KU09OKGkuZG9jLGUuc2VsZWN0aW9uKTtlbHNlIGlmKCJzdG9yZWRNYXJrcyI9PW8ubmFtZSllLnN0b3JlZE1hcmtzJiYoaS5zdG9yZWRNYXJrcz1lLnN0b3JlZE1hcmtzLm1hcCh0LnNjaGVtYS5tYXJrRnJvbUpTT04pKTtlbHNle2lmKG4pZm9yKHZhciBhIGluIG4pe3ZhciBjPW5bYV0sbD1jLnNwZWMuc3RhdGU7aWYoYy5rZXk9PW8ubmFtZSYmbCYmbC5mcm9tSlNPTiYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsYSkpcmV0dXJuIHZvaWQoaVtvLm5hbWVdPWwuZnJvbUpTT04uY2FsbChjLHQsZVthXSxpKSl9aVtvLm5hbWVdPW8uaW5pdCh0LGkpfX0pKSxpfSxPLmFkZEFwcGx5TGlzdGVuZXI9ZnVuY3Rpb24odCl7Ti5wdXNoKHQpfSxPLnJlbW92ZUFwcGx5TGlzdGVuZXI9ZnVuY3Rpb24odCl7dmFyIGU9Ti5pbmRleE9mKHQpO2U+LTEmJk4uc3BsaWNlKGUsMSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE8ucHJvdG90eXBlLE0pO3ZhciBOPVtdO2Z1bmN0aW9uIFQodCxlLG4pe2Zvcih2YXIgciBpbiB0KXt2YXIgbz10W3JdO28gaW5zdGFuY2VvZiBGdW5jdGlvbj9vPW8uYmluZChlKToiaGFuZGxlRE9NRXZlbnRzIj09ciYmKG89VChvLGUse30pKSxuW3JdPW99cmV0dXJuIG59dmFyIEQ9ZnVuY3Rpb24odCl7dGhpcy5wcm9wcz17fSx0LnByb3BzJiZUKHQucHJvcHMsdGhpcyx0aGlzLnByb3BzKSx0aGlzLnNwZWM9dCx0aGlzLmtleT10LmtleT90LmtleS5rZXk6RSgicGx1Z2luIil9O0QucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0W3RoaXMua2V5XX07dmFyIEE9T2JqZWN0LmNyZWF0ZShudWxsKTtmdW5jdGlvbiBFKHQpe3JldHVybiB0IGluIEE/dCsiJCIrICsrQVt0XTooQVt0XT0wLHQrIiQiKX12YXIgUj1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0ia2V5IiksdGhpcy5rZXk9RSh0KX07Ui5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbmZpZy5wbHVnaW5zQnlLZXlbdGhpcy5rZXldfSxSLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0aGlzLmtleV19fSwiNTViZSI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLnIoZSksbi5kKGUsIkNlbGxTZWxlY3Rpb24iLChmdW5jdGlvbigpe3JldHVybiB6fSkpLG4uZChlLCJUYWJsZU1hcCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksbi5kKGUsIl9fY2xpcENlbGxzIiwoZnVuY3Rpb24oKXtyZXR1cm4gVX0pKSxuLmQoZSwiX19pbnNlcnRDZWxscyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFp9KSksbi5kKGUsIl9fcGFzdGVkQ2VsbHMiLChmdW5jdGlvbigpe3JldHVybiBxfSkpLG4uZChlLCJhZGRDb2x1bW4iLChmdW5jdGlvbigpe3JldHVybiBtdH0pKSxuLmQoZSwiYWRkQ29sdW1uQWZ0ZXIiLChmdW5jdGlvbigpe3JldHVybiB5dH0pKSxuLmQoZSwiYWRkQ29sdW1uQmVmb3JlIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ3R9KSksbi5kKGUsImFkZFJvdyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGt0fSkpLG4uZChlLCJhZGRSb3dBZnRlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN0fSkpLG4uZChlLCJhZGRSb3dCZWZvcmUiLChmdW5jdGlvbigpe3JldHVybiB4dH0pKSxuLmQoZSwiY2VsbEFyb3VuZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSksbi5kKGUsImNvbENvdW50IiwoZnVuY3Rpb24oKXtyZXR1cm4gQX0pKSxuLmQoZSwiY29sdW1uUmVzaXppbmciLChmdW5jdGlvbigpe3JldHVybiBxdH0pKSxuLmQoZSwiY29sdW1uUmVzaXppbmdQbHVnaW5LZXkiLChmdW5jdGlvbigpe3JldHVybiBXdH0pKSxuLmQoZSwiZGVsZXRlQ29sdW1uIiwoZnVuY3Rpb24oKXtyZXR1cm4gYnR9KSksbi5kKGUsImRlbGV0ZVJvdyIsKGZ1bmN0aW9uKCl7cmV0dXJuIE10fSkpLG4uZChlLCJkZWxldGVUYWJsZSIsKGZ1bmN0aW9uKCl7cmV0dXJuICR0fSkpLG4uZChlLCJmaW5kQ2VsbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIER9KSksbi5kKGUsImZpeFRhYmxlcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ0fSkpLG4uZChlLCJmaXhUYWJsZXNLZXkiLChmdW5jdGlvbigpe3JldHVybiB1dH0pKSxuLmQoZSwiZ29Ub05leHRDZWxsIiwoZnVuY3Rpb24oKXtyZXR1cm4ganR9KSksbi5kKGUsImhhbmRsZVBhc3RlIiwoZnVuY3Rpb24oKXtyZXR1cm4gaXR9KSksbi5kKGUsImluU2FtZVRhYmxlIiwoZnVuY3Rpb24oKXtyZXR1cm4gVH0pKSxuLmQoZSwiaXNJblRhYmxlIiwoZnVuY3Rpb24oKXtyZXR1cm4geH0pKSxuLmQoZSwibWVyZ2VDZWxscyIsKGZ1bmN0aW9uKCl7cmV0dXJuIER0fSkpLG4uZChlLCJtb3ZlQ2VsbEZvcndhcmQiLChmdW5jdGlvbigpe3JldHVybiBOfSkpLG4uZChlLCJuZXh0Q2VsbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEV9KSksbi5kKGUsInJlbW92ZUNvbHVtbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHd0fSkpLG4uZChlLCJyZW1vdmVSb3ciLChmdW5jdGlvbigpe3JldHVybiBPdH0pKSxuLmQoZSwicm93SXNIZWFkZXIiLChmdW5jdGlvbigpe3JldHVybiBTdH0pKSxuLmQoZSwic2VsZWN0ZWRSZWN0IiwoZnVuY3Rpb24oKXtyZXR1cm4gaHR9KSksbi5kKGUsInNlbGVjdGlvbkNlbGwiLChmdW5jdGlvbigpe3JldHVybiBDfSkpLG4uZChlLCJzZXRDZWxsQXR0ciIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ0fSkpLG4uZChlLCJzcGxpdENlbGwiLChmdW5jdGlvbigpe3JldHVybiBBdH0pKSxuLmQoZSwic3BsaXRDZWxsV2l0aFR5cGUiLChmdW5jdGlvbigpe3JldHVybiBFdH0pKSxuLmQoZSwidGFibGVFZGl0aW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4gaWV9KSksbi5kKGUsInRhYmxlRWRpdGluZ0tleSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSksbi5kKGUsInRhYmxlTm9kZXMiLChmdW5jdGlvbigpe3JldHVybiBIfSkpLG4uZChlLCJ0b2dnbGVIZWFkZXIiLChmdW5jdGlvbigpe3JldHVybiB6dH0pKSxuLmQoZSwidG9nZ2xlSGVhZGVyQ2VsbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFZ0fSkpLG4uZChlLCJ0b2dnbGVIZWFkZXJDb2x1bW4iLChmdW5jdGlvbigpe3JldHVybiBCdH0pKSxuLmQoZSwidG9nZ2xlSGVhZGVyUm93IiwoZnVuY3Rpb24oKXtyZXR1cm4gSXR9KSksbi5kKGUsInVwZGF0ZUNvbHVtbnNPblJlc2l6ZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEh0fSkpO3ZhciByLG8saT1uKCI1MzEzIikscz1uKCIzMDRhIiksYT1uKCI3ZjA2IiksYz1uKCI1NzZhIiksbD1uKCIwYWMwIik7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBXZWFrTWFwKXt2YXIgdT1uZXcgV2Vha01hcDtyPWZ1bmN0aW9uKHQpe3JldHVybiB1LmdldCh0KX0sbz1mdW5jdGlvbih0LGUpe3JldHVybiB1LnNldCh0LGUpLGV9fWVsc2V7dmFyIHA9W10sZj0xMCxkPTA7cj1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHAubGVuZ3RoO2UrPTIpaWYocFtlXT09dClyZXR1cm4gcFtlKzFdfSxvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGQ9PWYmJihkPTApLHBbZCsrXT10LHBbZCsrXT1lfX12YXIgaD1mdW5jdGlvbih0LGUsbixyKXt0aGlzLmxlZnQ9dCx0aGlzLnRvcD1lLHRoaXMucmlnaHQ9bix0aGlzLmJvdHRvbT1yfSx2PWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMud2lkdGg9dCx0aGlzLmhlaWdodD1lLHRoaXMubWFwPW4sdGhpcy5wcm9ibGVtcz1yfTtmdW5jdGlvbiBtKHQpe2lmKCJ0YWJsZSIhPXQudHlwZS5zcGVjLnRhYmxlUm9sZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiTm90IGEgdGFibGUgbm9kZTogIit0LnR5cGUubmFtZSk7Zm9yKHZhciBlPWcodCksbj10LmNoaWxkQ291bnQscj1bXSxvPTAsaT1udWxsLHM9W10sYT0wLGM9ZSpuO2E8YzthKyspclthXT0wO2Zvcih2YXIgbD0wLHU9MDtsPG47bCsrKXt2YXIgcD10LmNoaWxkKGwpO3UrKztmb3IodmFyIGY9MDs7ZisrKXt3aGlsZShvPHIubGVuZ3RoJiYwIT1yW29dKW8rKztpZihmPT1wLmNoaWxkQ291bnQpYnJlYWs7Zm9yKHZhciBkPXAuY2hpbGQoZiksaD1kLmF0dHJzLG09aC5jb2xzcGFuLHc9aC5yb3dzcGFuLGI9aC5jb2x3aWR0aCxTPTA7Uzx3O1MrKyl7aWYoUytsPj1uKXsoaXx8KGk9W10pKS5wdXNoKHt0eXBlOiJvdmVybG9uZ19yb3dzcGFuIixwb3M6dSxuOnctU30pO2JyZWFrfWZvcih2YXIgaz1vK1MqZSx4PTA7eDxtO3grKyl7MD09cltrK3hdP3Jbayt4XT11OihpfHwoaT1bXSkpLnB1c2goe3R5cGU6ImNvbGxpc2lvbiIscm93OmwscG9zOnUsbjptLXh9KTt2YXIgQz1iJiZiW3hdO2lmKEMpe3ZhciBPPShrK3gpJWUqMixNPXNbT107bnVsbD09TXx8TSE9QyYmMT09c1tPKzFdPyhzW09dPUMsc1tPKzFdPTEpOk09PUMmJnNbTysxXSsrfX19bys9bSx1Kz1kLm5vZGVTaXplfXZhciBOPShsKzEpKmUsVD0wO3doaWxlKG88TikwPT1yW28rK10mJlQrKztUJiYoaXx8KGk9W10pKS5wdXNoKHt0eXBlOiJtaXNzaW5nIixyb3c6bCxuOlR9KSx1Kyt9Zm9yKHZhciBEPW5ldyB2KGUsbixyLGkpLEE9ITEsRT0wOyFBJiZFPHMubGVuZ3RoO0UrPTIpbnVsbCE9c1tFXSYmc1tFKzFdPG4mJihBPSEwKTtyZXR1cm4gQSYmeShELHMsdCksRH1mdW5jdGlvbiBnKHQpe2Zvcih2YXIgZT0tMSxuPSExLHI9MDtyPHQuY2hpbGRDb3VudDtyKyspe3ZhciBvPXQuY2hpbGQociksaT0wO2lmKG4pZm9yKHZhciBzPTA7czxyO3MrKylmb3IodmFyIGE9dC5jaGlsZChzKSxjPTA7YzxhLmNoaWxkQ291bnQ7YysrKXt2YXIgbD1hLmNoaWxkKGMpO3MrbC5hdHRycy5yb3dzcGFuPnImJihpKz1sLmF0dHJzLmNvbHNwYW4pfWZvcih2YXIgdT0wO3U8by5jaGlsZENvdW50O3UrKyl7dmFyIHA9by5jaGlsZCh1KTtpKz1wLmF0dHJzLmNvbHNwYW4scC5hdHRycy5yb3dzcGFuPjEmJihuPSEwKX0tMT09ZT9lPWk6ZSE9aSYmKGU9TWF0aC5tYXgoZSxpKSl9cmV0dXJuIGV9ZnVuY3Rpb24geSh0LGUsbil7dC5wcm9ibGVtc3x8KHQucHJvYmxlbXM9W10pO2Zvcih2YXIgcj0wLG89e307cjx0Lm1hcC5sZW5ndGg7cisrKXt2YXIgaT10Lm1hcFtyXTtpZighb1tpXSl7b1tpXT0hMDtmb3IodmFyIHM9bi5ub2RlQXQoaSksYT1udWxsLGM9MDtjPHMuYXR0cnMuY29sc3BhbjtjKyspe3ZhciBsPShyK2MpJXQud2lkdGgsdT1lWzIqbF07bnVsbD09dXx8cy5hdHRycy5jb2x3aWR0aCYmcy5hdHRycy5jb2x3aWR0aFtjXT09dXx8KChhfHwoYT13KHMuYXR0cnMpKSlbY109dSl9YSYmdC5wcm9ibGVtcy51bnNoaWZ0KHt0eXBlOiJjb2x3aWR0aCBtaXNtYXRjaCIscG9zOmksY29sd2lkdGg6YX0pfX19ZnVuY3Rpb24gdyh0KXtpZih0LmNvbHdpZHRoKXJldHVybiB0LmNvbHdpZHRoLnNsaWNlKCk7Zm9yKHZhciBlPVtdLG49MDtuPHQuY29sc3BhbjtuKyspZS5wdXNoKDApO3JldHVybiBlfXYucHJvdG90eXBlLmZpbmRDZWxsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5tYXAubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5tYXBbZV07aWYobj09dCl7Zm9yKHZhciByPWUldGhpcy53aWR0aCxvPWUvdGhpcy53aWR0aHwwLGk9cisxLHM9bysxLGE9MTtpPHRoaXMud2lkdGgmJnRoaXMubWFwW2UrYV09PW47YSsrKWkrKztmb3IodmFyIGM9MTtzPHRoaXMuaGVpZ2h0JiZ0aGlzLm1hcFtlK3RoaXMud2lkdGgqY109PW47YysrKXMrKztyZXR1cm4gbmV3IGgocixvLGkscyl9fXRocm93IG5ldyBSYW5nZUVycm9yKCJObyBjZWxsIHdpdGggb2Zmc2V0ICIrdCsiIGZvdW5kIil9LHYucHJvdG90eXBlLmNvbENvdW50PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5tYXAubGVuZ3RoO2UrKylpZih0aGlzLm1hcFtlXT09dClyZXR1cm4gZSV0aGlzLndpZHRoO3Rocm93IG5ldyBSYW5nZUVycm9yKCJObyBjZWxsIHdpdGggb2Zmc2V0ICIrdCsiIGZvdW5kIil9LHYucHJvdG90eXBlLm5leHRDZWxsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLmZpbmRDZWxsKHQpLG89ci5sZWZ0LGk9ci5yaWdodCxzPXIudG9wLGE9ci5ib3R0b207cmV0dXJuImhvcml6Ij09ZT8objwwPzA9PW86aT09dGhpcy53aWR0aCk/bnVsbDp0aGlzLm1hcFtzKnRoaXMud2lkdGgrKG48MD9vLTE6aSldOihuPDA/MD09czphPT10aGlzLmhlaWdodCk/bnVsbDp0aGlzLm1hcFtvK3RoaXMud2lkdGgqKG48MD9zLTE6YSldfSx2LnByb3RvdHlwZS5yZWN0QmV0d2Vlbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZmluZENlbGwodCkscj1uLmxlZnQsbz1uLnJpZ2h0LGk9bi50b3Ascz1uLmJvdHRvbSxhPXRoaXMuZmluZENlbGwoZSksYz1hLmxlZnQsbD1hLnJpZ2h0LHU9YS50b3AscD1hLmJvdHRvbTtyZXR1cm4gbmV3IGgoTWF0aC5taW4ocixjKSxNYXRoLm1pbihpLHUpLE1hdGgubWF4KG8sbCksTWF0aC5tYXgocyxwKSl9LHYucHJvdG90eXBlLmNlbGxzSW5SZWN0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPXt9LHI9dC50b3A7cjx0LmJvdHRvbTtyKyspZm9yKHZhciBvPXQubGVmdDtvPHQucmlnaHQ7bysrKXt2YXIgaT1yKnRoaXMud2lkdGgrbyxzPXRoaXMubWFwW2ldO25bc118fChuW3NdPSEwLG89PXQubGVmdCYmbyYmdGhpcy5tYXBbaS0xXT09c3x8cj09dC50b3AmJnImJnRoaXMubWFwW2ktdGhpcy53aWR0aF09PXN8fGUucHVzaChzKSl9cmV0dXJuIGV9LHYucHJvdG90eXBlLnBvc2l0aW9uQXQ9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj0wLG89MDs7cisrKXt2YXIgaT1vK24uY2hpbGQocikubm9kZVNpemU7aWYocj09dCl7dmFyIHM9ZSt0KnRoaXMud2lkdGgsYT0odCsxKSp0aGlzLndpZHRoO3doaWxlKHM8YSYmdGhpcy5tYXBbc108bylzKys7cmV0dXJuIHM9PWE/aS0xOnRoaXMubWFwW3NdfW89aX19LHYuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiByKHQpfHxvKHQsbSh0KSl9O3ZhciBiPW5ldyBpWyJQbHVnaW5LZXkiXSgic2VsZWN0aW5nQ2VsbHMiKTtmdW5jdGlvbiBTKHQpe2Zvcih2YXIgZT10LmRlcHRoLTE7ZT4wO2UtLSlpZigicm93Ij09dC5ub2RlKGUpLnR5cGUuc3BlYy50YWJsZVJvbGUpcmV0dXJuIHQubm9kZSgwKS5yZXNvbHZlKHQuYmVmb3JlKGUrMSkpO3JldHVybiBudWxsfWZ1bmN0aW9uIGsodCl7Zm9yKHZhciBlPXQuZGVwdGg7ZT4wO2UtLSl7dmFyIG49dC5ub2RlKGUpLnR5cGUuc3BlYy50YWJsZVJvbGU7aWYoImNlbGwiPT09bnx8ImhlYWRlcl9jZWxsIj09PW4pcmV0dXJuIHQubm9kZShlKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiB4KHQpe2Zvcih2YXIgZT10LnNlbGVjdGlvbi4kaGVhZCxuPWUuZGVwdGg7bj4wO24tLSlpZigicm93Ij09ZS5ub2RlKG4pLnR5cGUuc3BlYy50YWJsZVJvbGUpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gQyh0KXt2YXIgZT10LnNlbGVjdGlvbjtyZXR1cm4gZS4kYW5jaG9yQ2VsbD9lLiRhbmNob3JDZWxsLnBvcz5lLiRoZWFkQ2VsbC5wb3M/ZS4kYW5jaG9yQ2VsbDplLiRoZWFkQ2VsbDplLm5vZGUmJiJjZWxsIj09ZS5ub2RlLnR5cGUuc3BlYy50YWJsZVJvbGU/ZS4kYW5jaG9yOlMoZS4kaGVhZCl8fE8oZS4kaGVhZCl9ZnVuY3Rpb24gTyh0KXtmb3IodmFyIGU9dC5ub2RlQWZ0ZXIsbj10LnBvcztlO2U9ZS5maXJzdENoaWxkLG4rKyl7dmFyIHI9ZS50eXBlLnNwZWMudGFibGVSb2xlO2lmKCJjZWxsIj09cnx8ImhlYWRlcl9jZWxsIj09cilyZXR1cm4gdC5kb2MucmVzb2x2ZShuKX1mb3IodmFyIG89dC5ub2RlQmVmb3JlLGk9dC5wb3M7bztvPW8ubGFzdENoaWxkLGktLSl7dmFyIHM9by50eXBlLnNwZWMudGFibGVSb2xlO2lmKCJjZWxsIj09c3x8ImhlYWRlcl9jZWxsIj09cylyZXR1cm4gdC5kb2MucmVzb2x2ZShpLW8ubm9kZVNpemUpfX1mdW5jdGlvbiBNKHQpe3JldHVybiJyb3ciPT10LnBhcmVudC50eXBlLnNwZWMudGFibGVSb2xlJiZ0Lm5vZGVBZnRlcn1mdW5jdGlvbiBOKHQpe3JldHVybiB0Lm5vZGUoMCkucmVzb2x2ZSh0LnBvcyt0Lm5vZGVBZnRlci5ub2RlU2l6ZSl9ZnVuY3Rpb24gVCh0LGUpe3JldHVybiB0LmRlcHRoPT1lLmRlcHRoJiZ0LnBvcz49ZS5zdGFydCgtMSkmJnQucG9zPD1lLmVuZCgtMSl9ZnVuY3Rpb24gRCh0KXtyZXR1cm4gdi5nZXQodC5ub2RlKC0xKSkuZmluZENlbGwodC5wb3MtdC5zdGFydCgtMSkpfWZ1bmN0aW9uIEEodCl7cmV0dXJuIHYuZ2V0KHQubm9kZSgtMSkpLmNvbENvdW50KHQucG9zLXQuc3RhcnQoLTEpKX1mdW5jdGlvbiBFKHQsZSxuKXt2YXIgcj10LnN0YXJ0KC0xKSxvPXYuZ2V0KHQubm9kZSgtMSkpLGk9by5uZXh0Q2VsbCh0LnBvcy1yLGUsbik7cmV0dXJuIG51bGw9PWk/bnVsbDp0Lm5vZGUoMCkucmVzb2x2ZShyK2kpfWZ1bmN0aW9uIFIodCxlLG4pe3ZhciByPXt9O2Zvcih2YXIgbyBpbiB0KXJbb109dFtvXTtyZXR1cm4gcltlXT1uLHJ9ZnVuY3Rpb24gXyh0LGUsbil7dm9pZCAwPT09biYmKG49MSk7dmFyIHI9Uih0LCJjb2xzcGFuIix0LmNvbHNwYW4tbik7cmV0dXJuIHIuY29sd2lkdGgmJihyLmNvbHdpZHRoPXIuY29sd2lkdGguc2xpY2UoKSxyLmNvbHdpZHRoLnNwbGljZShlLG4pLHIuY29sd2lkdGguc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIHQ+MH0pKXx8KHIuY29sd2lkdGg9bnVsbCkpLHJ9ZnVuY3Rpb24gUCh0LGUsbil7dm9pZCAwPT09biYmKG49MSk7dmFyIHI9Uih0LCJjb2xzcGFuIix0LmNvbHNwYW4rbik7aWYoci5jb2x3aWR0aCl7ci5jb2x3aWR0aD1yLmNvbHdpZHRoLnNsaWNlKCk7Zm9yKHZhciBvPTA7bzxuO28rKylyLmNvbHdpZHRoLnNwbGljZShlLDAsMCl9cmV0dXJuIHJ9dmFyIHo9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZvaWQgMD09PW4mJihuPWUpO3ZhciByPWUubm9kZSgtMSksbz12LmdldChyKSxzPWUuc3RhcnQoLTEpLGE9by5yZWN0QmV0d2VlbihlLnBvcy1zLG4ucG9zLXMpLGM9ZS5ub2RlKDApLGw9by5jZWxsc0luUmVjdChhKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0IT1uLnBvcy1zfSkpO2wudW5zaGlmdChuLnBvcy1zKTt2YXIgdT1sLm1hcCgoZnVuY3Rpb24odCl7dmFyIGU9ci5ub2RlQXQodCksbj10K3MrMTtyZXR1cm4gbmV3IGlbIlNlbGVjdGlvblJhbmdlIl0oYy5yZXNvbHZlKG4pLGMucmVzb2x2ZShuK2UuY29udGVudC5zaXplKSl9KSk7dC5jYWxsKHRoaXMsdVswXS4kZnJvbSx1WzBdLiR0byx1KSx0aGlzLiRhbmNob3JDZWxsPWUsdGhpcy4kaGVhZENlbGw9bn1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsbil7dmFyIHI9dC5yZXNvbHZlKG4ubWFwKHRoaXMuJGFuY2hvckNlbGwucG9zKSksbz10LnJlc29sdmUobi5tYXAodGhpcy4kaGVhZENlbGwucG9zKSk7aWYoTShyKSYmTShvKSYmVChyLG8pKXt2YXIgcz10aGlzLiRhbmNob3JDZWxsLm5vZGUoLTEpIT1yLm5vZGUoLTEpO3JldHVybiBzJiZ0aGlzLmlzUm93U2VsZWN0aW9uKCk/ZS5yb3dTZWxlY3Rpb24ocixvKTpzJiZ0aGlzLmlzQ29sU2VsZWN0aW9uKCk/ZS5jb2xTZWxlY3Rpb24ocixvKTpuZXcgZShyLG8pfXJldHVybiBpWyJUZXh0U2VsZWN0aW9uIl0uYmV0d2VlbihyLG8pfSxlLnByb3RvdHlwZS5jb250ZW50PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuJGFuY2hvckNlbGwubm9kZSgtMSksZT12LmdldCh0KSxuPXRoaXMuJGFuY2hvckNlbGwuc3RhcnQoLTEpLHI9ZS5yZWN0QmV0d2Vlbih0aGlzLiRhbmNob3JDZWxsLnBvcy1uLHRoaXMuJGhlYWRDZWxsLnBvcy1uKSxvPXt9LGk9W10sYT1yLnRvcDthPHIuYm90dG9tO2ErKyl7Zm9yKHZhciBjPVtdLGw9YSplLndpZHRoK3IubGVmdCx1PXIubGVmdDt1PHIucmlnaHQ7dSsrLGwrKyl7dmFyIHA9ZS5tYXBbbF07aWYoIW9bcF0pe29bcF09ITA7dmFyIGY9ZS5maW5kQ2VsbChwKSxkPXQubm9kZUF0KHApLGg9ci5sZWZ0LWYubGVmdCxtPWYucmlnaHQtci5yaWdodDtpZihoPjB8fG0+MCl7dmFyIGc9ZC5hdHRycztoPjAmJihnPV8oZywwLGgpKSxtPjAmJihnPV8oZyxnLmNvbHNwYW4tbSxtKSksZD1mLmxlZnQ8ci5sZWZ0P2QudHlwZS5jcmVhdGVBbmRGaWxsKGcpOmQudHlwZS5jcmVhdGUoZyxkLmNvbnRlbnQpfWlmKGYudG9wPHIudG9wfHxmLmJvdHRvbT5yLmJvdHRvbSl7dmFyIHk9UihkLmF0dHJzLCJyb3dzcGFuIixNYXRoLm1pbihmLmJvdHRvbSxyLmJvdHRvbSktTWF0aC5tYXgoZi50b3Asci50b3ApKTtkPWYudG9wPHIudG9wP2QudHlwZS5jcmVhdGVBbmRGaWxsKHkpOmQudHlwZS5jcmVhdGUoeSxkLmNvbnRlbnQpfWMucHVzaChkKX19aS5wdXNoKHQuY2hpbGQoYSkuY29weShzWyJGcmFnbWVudCJdLmZyb20oYykpKX12YXIgdz10aGlzLmlzQ29sU2VsZWN0aW9uKCkmJnRoaXMuaXNSb3dTZWxlY3Rpb24oKT90Omk7cmV0dXJuIG5ldyBzWyJTbGljZSJdKHNbIkZyYWdtZW50Il0uZnJvbSh3KSwxLDEpfSxlLnByb3RvdHlwZS5yZXBsYWNlPWZ1bmN0aW9uKGUsbil7dm9pZCAwPT09biYmKG49c1siU2xpY2UiXS5lbXB0eSk7Zm9yKHZhciByPWUuc3RlcHMubGVuZ3RoLG89dGhpcy5yYW5nZXMsaT0wO2k8by5sZW5ndGg7aSsrKXt2YXIgYT1vW2ldLGM9YS4kZnJvbSxsPWEuJHRvLHU9ZS5tYXBwaW5nLnNsaWNlKHIpO2UucmVwbGFjZSh1Lm1hcChjLnBvcyksdS5tYXAobC5wb3MpLGk/c1siU2xpY2UiXS5lbXB0eTpuKX12YXIgcD10LmZpbmRGcm9tKGUuZG9jLnJlc29sdmUoZS5tYXBwaW5nLnNsaWNlKHIpLm1hcCh0aGlzLnRvKSksLTEpO3AmJmUuc2V0U2VsZWN0aW9uKHApfSxlLnByb3RvdHlwZS5yZXBsYWNlV2l0aD1mdW5jdGlvbih0LGUpe3RoaXMucmVwbGFjZSh0LG5ldyBzWyJTbGljZSJdKHNbIkZyYWdtZW50Il0uZnJvbShlKSwwLDApKX0sZS5wcm90b3R5cGUuZm9yRWFjaENlbGw9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuJGFuY2hvckNlbGwubm9kZSgtMSksbj12LmdldChlKSxyPXRoaXMuJGFuY2hvckNlbGwuc3RhcnQoLTEpLG89bi5jZWxsc0luUmVjdChuLnJlY3RCZXR3ZWVuKHRoaXMuJGFuY2hvckNlbGwucG9zLXIsdGhpcy4kaGVhZENlbGwucG9zLXIpKSxpPTA7aTxvLmxlbmd0aDtpKyspdChlLm5vZGVBdChvW2ldKSxyK29baV0pfSxlLnByb3RvdHlwZS5pc0NvbFNlbGVjdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuJGFuY2hvckNlbGwuaW5kZXgoLTEpLGU9dGhpcy4kaGVhZENlbGwuaW5kZXgoLTEpO2lmKE1hdGgubWluKHQsZSk+MClyZXR1cm4hMTt2YXIgbj10K3RoaXMuJGFuY2hvckNlbGwubm9kZUFmdGVyLmF0dHJzLnJvd3NwYW4scj1lK3RoaXMuJGhlYWRDZWxsLm5vZGVBZnRlci5hdHRycy5yb3dzcGFuO3JldHVybiBNYXRoLm1heChuLHIpPT10aGlzLiRoZWFkQ2VsbC5ub2RlKC0xKS5jaGlsZENvdW50fSxlLmNvbFNlbGVjdGlvbj1mdW5jdGlvbih0LG4pe3ZvaWQgMD09PW4mJihuPXQpO3ZhciByPXYuZ2V0KHQubm9kZSgtMSkpLG89dC5zdGFydCgtMSksaT1yLmZpbmRDZWxsKHQucG9zLW8pLHM9ci5maW5kQ2VsbChuLnBvcy1vKSxhPXQubm9kZSgwKTtyZXR1cm4gaS50b3A8PXMudG9wPyhpLnRvcD4wJiYodD1hLnJlc29sdmUobytyLm1hcFtpLmxlZnRdKSkscy5ib3R0b208ci5oZWlnaHQmJihuPWEucmVzb2x2ZShvK3IubWFwW3Iud2lkdGgqKHIuaGVpZ2h0LTEpK3MucmlnaHQtMV0pKSk6KHMudG9wPjAmJihuPWEucmVzb2x2ZShvK3IubWFwW3MubGVmdF0pKSxpLmJvdHRvbTxyLmhlaWdodCYmKHQ9YS5yZXNvbHZlKG8rci5tYXBbci53aWR0aCooci5oZWlnaHQtMSkraS5yaWdodC0xXSkpKSxuZXcgZSh0LG4pfSxlLnByb3RvdHlwZS5pc1Jvd1NlbGVjdGlvbj1mdW5jdGlvbigpe3ZhciB0PXYuZ2V0KHRoaXMuJGFuY2hvckNlbGwubm9kZSgtMSkpLGU9dGhpcy4kYW5jaG9yQ2VsbC5zdGFydCgtMSksbj10LmNvbENvdW50KHRoaXMuJGFuY2hvckNlbGwucG9zLWUpLHI9dC5jb2xDb3VudCh0aGlzLiRoZWFkQ2VsbC5wb3MtZSk7aWYoTWF0aC5taW4obixyKT4wKXJldHVybiExO3ZhciBvPW4rdGhpcy4kYW5jaG9yQ2VsbC5ub2RlQWZ0ZXIuYXR0cnMuY29sc3BhbixpPXIrdGhpcy4kaGVhZENlbGwubm9kZUFmdGVyLmF0dHJzLmNvbHNwYW47cmV0dXJuIE1hdGgubWF4KG8saSk9PXQud2lkdGh9LGUucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZSYmdC4kYW5jaG9yQ2VsbC5wb3M9PXRoaXMuJGFuY2hvckNlbGwucG9zJiZ0LiRoZWFkQ2VsbC5wb3M9PXRoaXMuJGhlYWRDZWxsLnBvc30sZS5yb3dTZWxlY3Rpb249ZnVuY3Rpb24odCxuKXt2b2lkIDA9PT1uJiYobj10KTt2YXIgcj12LmdldCh0Lm5vZGUoLTEpKSxvPXQuc3RhcnQoLTEpLGk9ci5maW5kQ2VsbCh0LnBvcy1vKSxzPXIuZmluZENlbGwobi5wb3MtbyksYT10Lm5vZGUoMCk7cmV0dXJuIGkubGVmdDw9cy5sZWZ0PyhpLmxlZnQ+MCYmKHQ9YS5yZXNvbHZlKG8rci5tYXBbaS50b3Aqci53aWR0aF0pKSxzLnJpZ2h0PHIud2lkdGgmJihuPWEucmVzb2x2ZShvK3IubWFwW3Iud2lkdGgqKHMudG9wKzEpLTFdKSkpOihzLmxlZnQ+MCYmKG49YS5yZXNvbHZlKG8rci5tYXBbcy50b3Aqci53aWR0aF0pKSxpLnJpZ2h0PHIud2lkdGgmJih0PWEucmVzb2x2ZShvK3IubWFwW3Iud2lkdGgqKGkudG9wKzEpLTFdKSkpLG5ldyBlKHQsbil9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJjZWxsIixhbmNob3I6dGhpcy4kYW5jaG9yQ2VsbC5wb3MsaGVhZDp0aGlzLiRoZWFkQ2VsbC5wb3N9fSxlLmZyb21KU09OPWZ1bmN0aW9uKHQsbil7cmV0dXJuIG5ldyBlKHQucmVzb2x2ZShuLmFuY2hvciksdC5yZXNvbHZlKG4uaGVhZCkpfSxlLmNyZWF0ZT1mdW5jdGlvbih0LG4scil7cmV0dXJuIHZvaWQgMD09PXImJihyPW4pLG5ldyBlKHQucmVzb2x2ZShuKSx0LnJlc29sdmUocikpfSxlLnByb3RvdHlwZS5nZXRCb29rbWFyaz1mdW5jdGlvbigpe3JldHVybiBuZXcgSSh0aGlzLiRhbmNob3JDZWxsLnBvcyx0aGlzLiRoZWFkQ2VsbC5wb3MpfSxlfShpWyJTZWxlY3Rpb24iXSk7ei5wcm90b3R5cGUudmlzaWJsZT0hMSxpWyJTZWxlY3Rpb24iXS5qc29uSUQoImNlbGwiLHopO3ZhciBJPWZ1bmN0aW9uKHQsZSl7dGhpcy5hbmNob3I9dCx0aGlzLmhlYWQ9ZX07ZnVuY3Rpb24gQih0KXtpZighKHQuc2VsZWN0aW9uIGluc3RhbmNlb2YgeikpcmV0dXJuIG51bGw7dmFyIGU9W107cmV0dXJuIHQuc2VsZWN0aW9uLmZvckVhY2hDZWxsKChmdW5jdGlvbih0LG4pe2UucHVzaChjWyJhIl0ubm9kZShuLG4rdC5ub2RlU2l6ZSx7Y2xhc3M6InNlbGVjdGVkQ2VsbCJ9KSl9KSksY1siYiJdLmNyZWF0ZSh0LmRvYyxlKX1mdW5jdGlvbiBWKHQpe3ZhciBlPXQuJGZyb20sbj10LiR0bztpZihlLnBvcz09bi5wb3N8fGUucG9zPGUucG9zLTYpcmV0dXJuITE7Zm9yKHZhciByPWUucG9zLG89bi5wb3MsaT1lLmRlcHRoO2k+PTA7aS0tLHIrKylpZihlLmFmdGVyKGkrMSk8ZS5lbmQoaSkpYnJlYWs7Zm9yKHZhciBzPW4uZGVwdGg7cz49MDtzLS0sby0tKWlmKG4uYmVmb3JlKHMrMSk+bi5zdGFydChzKSlicmVhaztyZXR1cm4gcj09byYmL3Jvd3x0YWJsZS8udGVzdChlLm5vZGUoaSkudHlwZS5zcGVjLnRhYmxlUm9sZSl9ZnVuY3Rpb24gRih0KXtmb3IodmFyIGUsbixyPXQuJGZyb20sbz10LiR0byxpPXIuZGVwdGg7aT4wO2ktLSl7dmFyIHM9ci5ub2RlKGkpO2lmKCJjZWxsIj09PXMudHlwZS5zcGVjLnRhYmxlUm9sZXx8ImhlYWRlcl9jZWxsIj09PXMudHlwZS5zcGVjLnRhYmxlUm9sZSl7ZT1zO2JyZWFrfX1mb3IodmFyIGE9by5kZXB0aDthPjA7YS0tKXt2YXIgYz1vLm5vZGUoYSk7aWYoImNlbGwiPT09Yy50eXBlLnNwZWMudGFibGVSb2xlfHwiaGVhZGVyX2NlbGwiPT09Yy50eXBlLnNwZWMudGFibGVSb2xlKXtuPWM7YnJlYWt9fXJldHVybiBlIT09biYmMD09PW8ucGFyZW50T2Zmc2V0fWZ1bmN0aW9uIGoodCxlLG4pe3ZhciByLG8scz0oZXx8dCkuc2VsZWN0aW9uLGE9KGV8fHQpLmRvYztpZihzIGluc3RhbmNlb2YgaVsiTm9kZVNlbGVjdGlvbiJdJiYobz1zLm5vZGUudHlwZS5zcGVjLnRhYmxlUm9sZSkpe2lmKCJjZWxsIj09b3x8ImhlYWRlcl9jZWxsIj09bylyPXouY3JlYXRlKGEscy5mcm9tKTtlbHNlIGlmKCJyb3ciPT1vKXt2YXIgYz1hLnJlc29sdmUocy5mcm9tKzEpO3I9ei5yb3dTZWxlY3Rpb24oYyxjKX1lbHNlIGlmKCFuKXt2YXIgbD12LmdldChzLm5vZGUpLHU9cy5mcm9tKzEscD11K2wubWFwW2wud2lkdGgqbC5oZWlnaHQtMV07cj16LmNyZWF0ZShhLHUrMSxwKX19ZWxzZSBzIGluc3RhbmNlb2YgaVsiVGV4dFNlbGVjdGlvbiJdJiZWKHMpP3I9aVsiVGV4dFNlbGVjdGlvbiJdLmNyZWF0ZShhLHMuZnJvbSk6cyBpbnN0YW5jZW9mIGlbIlRleHRTZWxlY3Rpb24iXSYmRihzKSYmKHI9aVsiVGV4dFNlbGVjdGlvbiJdLmNyZWF0ZShhLHMuJGZyb20uc3RhcnQoKSxzLiRmcm9tLmVuZCgpKSk7cmV0dXJuIHImJihlfHwoZT10LnRyKSkuc2V0U2VsZWN0aW9uKHIpLGV9ZnVuY3Rpb24gJCh0LGUpe3ZhciBuPXQuZ2V0QXR0cmlidXRlKCJkYXRhLWNvbHdpZHRoIikscj1uJiYvXlxkKygsXGQrKSokLy50ZXN0KG4pP24uc3BsaXQoIiwiKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBOdW1iZXIodCl9KSk6bnVsbCxvPU51bWJlcih0LmdldEF0dHJpYnV0ZSgiY29sc3BhbiIpfHwxKSxpPXtjb2xzcGFuOm8scm93c3BhbjpOdW1iZXIodC5nZXRBdHRyaWJ1dGUoInJvd3NwYW4iKXx8MSksY29sd2lkdGg6ciYmci5sZW5ndGg9PW8/cjpudWxsfTtmb3IodmFyIHMgaW4gZSl7dmFyIGE9ZVtzXS5nZXRGcm9tRE9NLGM9YSYmYSh0KTtudWxsIT1jJiYoaVtzXT1jKX1yZXR1cm4gaX1mdW5jdGlvbiBMKHQsZSl7dmFyIG49e307Zm9yKHZhciByIGluIDEhPXQuYXR0cnMuY29sc3BhbiYmKG4uY29sc3Bhbj10LmF0dHJzLmNvbHNwYW4pLDEhPXQuYXR0cnMucm93c3BhbiYmKG4ucm93c3Bhbj10LmF0dHJzLnJvd3NwYW4pLHQuYXR0cnMuY29sd2lkdGgmJihuWyJkYXRhLWNvbHdpZHRoIl09dC5hdHRycy5jb2x3aWR0aC5qb2luKCIsIikpLGUpe3ZhciBvPWVbcl0uc2V0RE9NQXR0cjtvJiZvKHQuYXR0cnNbcl0sbil9cmV0dXJuIG59ZnVuY3Rpb24gSCh0KXt2YXIgZT10LmNlbGxBdHRyaWJ1dGVzfHx7fSxuPXtjb2xzcGFuOntkZWZhdWx0OjF9LHJvd3NwYW46e2RlZmF1bHQ6MX0sY29sd2lkdGg6e2RlZmF1bHQ6bnVsbH19O2Zvcih2YXIgciBpbiBlKW5bcl09e2RlZmF1bHQ6ZVtyXS5kZWZhdWx0fTtyZXR1cm57dGFibGU6e2NvbnRlbnQ6InRhYmxlX3JvdysiLHRhYmxlUm9sZToidGFibGUiLGlzb2xhdGluZzohMCxncm91cDp0LnRhYmxlR3JvdXAscGFyc2VET006W3t0YWc6InRhYmxlIn1dLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuWyJ0YWJsZSIsWyJ0Ym9keSIsMF1dfX0sdGFibGVfcm93Ontjb250ZW50OiIodGFibGVfY2VsbCB8IHRhYmxlX2hlYWRlcikqIix0YWJsZVJvbGU6InJvdyIscGFyc2VET006W3t0YWc6InRyIn1dLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuWyJ0ciIsMF19fSx0YWJsZV9jZWxsOntjb250ZW50OnQuY2VsbENvbnRlbnQsYXR0cnM6bix0YWJsZVJvbGU6ImNlbGwiLGlzb2xhdGluZzohMCxwYXJzZURPTTpbe3RhZzoidGQiLGdldEF0dHJzOmZ1bmN0aW9uKHQpe3JldHVybiAkKHQsZSl9fV0sdG9ET006ZnVuY3Rpb24odCl7cmV0dXJuWyJ0ZCIsTCh0LGUpLDBdfX0sdGFibGVfaGVhZGVyOntjb250ZW50OnQuY2VsbENvbnRlbnQsYXR0cnM6bix0YWJsZVJvbGU6ImhlYWRlcl9jZWxsIixpc29sYXRpbmc6ITAscGFyc2VET006W3t0YWc6InRoIixnZXRBdHRyczpmdW5jdGlvbih0KXtyZXR1cm4gJCh0LGUpfX1dLHRvRE9NOmZ1bmN0aW9uKHQpe3JldHVyblsidGgiLEwodCxlKSwwXX19fX1mdW5jdGlvbiBXKHQpe3ZhciBlPXQuY2FjaGVkLnRhYmxlTm9kZVR5cGVzO2lmKCFlKWZvcih2YXIgbiBpbiBlPXQuY2FjaGVkLnRhYmxlTm9kZVR5cGVzPXt9LHQubm9kZXMpe3ZhciByPXQubm9kZXNbbl0sbz1yLnNwZWMudGFibGVSb2xlO28mJihlW29dPXIpfXJldHVybiBlfWZ1bmN0aW9uIHEodCl7aWYoIXQuc2l6ZSlyZXR1cm4gbnVsbDt2YXIgZT10LmNvbnRlbnQsbj10Lm9wZW5TdGFydCxyPXQub3BlbkVuZDt3aGlsZSgxPT1lLmNoaWxkQ291bnQmJihuPjAmJnI+MHx8InRhYmxlIj09ZS5maXJzdENoaWxkLnR5cGUuc3BlYy50YWJsZVJvbGUpKW4tLSxyLS0sZT1lLmZpcnN0Q2hpbGQuY29udGVudDt2YXIgbz1lLmZpcnN0Q2hpbGQsaT1vLnR5cGUuc3BlYy50YWJsZVJvbGUsYT1vLnR5cGUuc2NoZW1hLGM9W107aWYoInJvdyI9PWkpZm9yKHZhciBsPTA7bDxlLmNoaWxkQ291bnQ7bCsrKXt2YXIgdT1lLmNoaWxkKGwpLmNvbnRlbnQscD1sPzA6TWF0aC5tYXgoMCxuLTEpLGY9bDxlLmNoaWxkQ291bnQtMT8wOk1hdGgubWF4KDAsci0xKTsocHx8ZikmJih1PUsoVyhhKS5yb3csbmV3IHNbIlNsaWNlIl0odSxwLGYpKS5jb250ZW50KSxjLnB1c2godSl9ZWxzZXtpZigiY2VsbCIhPWkmJiJoZWFkZXJfY2VsbCIhPWkpcmV0dXJuIG51bGw7Yy5wdXNoKG58fHI/SyhXKGEpLnJvdyxuZXcgc1siU2xpY2UiXShlLG4scikpLmNvbnRlbnQ6ZSl9cmV0dXJuIEooYSxjKX1mdW5jdGlvbiBKKHQsZSl7Zm9yKHZhciBuPVtdLHI9MDtyPGUubGVuZ3RoO3IrKylmb3IodmFyIG89ZVtyXSxpPW8uY2hpbGRDb3VudC0xO2k+PTA7aS0tKWZvcih2YXIgYT1vLmNoaWxkKGkpLmF0dHJzLGM9YS5yb3dzcGFuLGw9YS5jb2xzcGFuLHU9cjt1PHIrYzt1Kyspblt1XT0oblt1XXx8MCkrbDtmb3IodmFyIHA9MCxmPTA7ZjxuLmxlbmd0aDtmKyspcD1NYXRoLm1heChwLG5bZl0pO2Zvcih2YXIgZD0wO2Q8bi5sZW5ndGg7ZCsrKWlmKGQ+PWUubGVuZ3RoJiZlLnB1c2goc1siRnJhZ21lbnQiXS5lbXB0eSksbltkXTxwKXtmb3IodmFyIGg9Vyh0KS5jZWxsLmNyZWF0ZUFuZEZpbGwoKSx2PVtdLG09bltkXTttPHA7bSsrKXYucHVzaChoKTtlW2RdPWVbZF0uYXBwZW5kKHNbIkZyYWdtZW50Il0uZnJvbSh2KSl9cmV0dXJue2hlaWdodDplLmxlbmd0aCx3aWR0aDpwLHJvd3M6ZX19ZnVuY3Rpb24gSyh0LGUpe3ZhciBuPXQuY3JlYXRlQW5kRmlsbCgpLHI9bmV3IGxbImQiXShuKS5yZXBsYWNlKDAsbi5jb250ZW50LnNpemUsZSk7cmV0dXJuIHIuZG9jfWZ1bmN0aW9uIFUodCxlLG4pe3ZhciByPXQud2lkdGgsbz10LmhlaWdodCxpPXQucm93cztpZihyIT1lKXtmb3IodmFyIGE9W10sYz1bXSxsPTA7bDxpLmxlbmd0aDtsKyspe2Zvcih2YXIgdT1pW2xdLHA9W10sZj1hW2xdfHwwLGQ9MDtmPGU7ZCsrKXt2YXIgaD11LmNoaWxkKGQldS5jaGlsZENvdW50KTtmK2guYXR0cnMuY29sc3Bhbj5lJiYoaD1oLnR5cGUuY3JlYXRlKF8oaC5hdHRycyxoLmF0dHJzLmNvbHNwYW4sZitoLmF0dHJzLmNvbHNwYW4tZSksaC5jb250ZW50KSkscC5wdXNoKGgpLGYrPWguYXR0cnMuY29sc3Bhbjtmb3IodmFyIHY9MTt2PGguYXR0cnMucm93c3Bhbjt2KyspYVtsK3ZdPShhW2wrdl18fDApK2guYXR0cnMuY29sc3Bhbn1jLnB1c2goc1siRnJhZ21lbnQiXS5mcm9tKHApKX1pPWMscj1lfWlmKG8hPW4pe2Zvcih2YXIgbT1bXSxnPTAseT0wO2c8bjtnKysseSsrKXtmb3IodmFyIHc9W10sYj1pW3klb10sUz0wO1M8Yi5jaGlsZENvdW50O1MrKyl7dmFyIGs9Yi5jaGlsZChTKTtnK2suYXR0cnMucm93c3Bhbj5uJiYoaz1rLnR5cGUuY3JlYXRlKFIoay5hdHRycywicm93c3BhbiIsbi1rLmF0dHJzLnJvd3NwYW4pLGsuY29udGVudCkpLHcucHVzaChrKX1tLnB1c2goc1siRnJhZ21lbnQiXS5mcm9tKHcpKX1pPW0sbz1ufXJldHVybnt3aWR0aDpyLGhlaWdodDpvLHJvd3M6aX19ZnVuY3Rpb24gRyh0LGUsbixyLG8saSxhKXt2YXIgYyxsLHU9dC5kb2MudHlwZS5zY2hlbWEscD1XKHUpO2lmKG8+ZS53aWR0aClmb3IodmFyIGY9MCxkPTA7ZjxlLmhlaWdodDtmKyspe3ZhciBoPW4uY2hpbGQoZik7ZCs9aC5ub2RlU2l6ZTt2YXIgdj1bXSxtPXZvaWQgMDttPW51bGw9PWgubGFzdENoaWxkfHxoLmxhc3RDaGlsZC50eXBlPT1wLmNlbGw/Y3x8KGM9cC5jZWxsLmNyZWF0ZUFuZEZpbGwoKSk6bHx8KGw9cC5oZWFkZXJfY2VsbC5jcmVhdGVBbmRGaWxsKCkpO2Zvcih2YXIgZz1lLndpZHRoO2c8bztnKyspdi5wdXNoKG0pO3QuaW5zZXJ0KHQubWFwcGluZy5zbGljZShhKS5tYXAoZC0xK3IpLHYpfWlmKGk+ZS5oZWlnaHQpe2Zvcih2YXIgeT1bXSx3PTAsYj0oZS5oZWlnaHQtMSkqZS53aWR0aDt3PE1hdGgubWF4KGUud2lkdGgsbyk7dysrKXt2YXIgUz0hKHc+PWUud2lkdGgpJiZuLm5vZGVBdChlLm1hcFtiK3ddKS50eXBlPT1wLmhlYWRlcl9jZWxsO3kucHVzaChTP2x8fChsPXAuaGVhZGVyX2NlbGwuY3JlYXRlQW5kRmlsbCgpKTpjfHwoYz1wLmNlbGwuY3JlYXRlQW5kRmlsbCgpKSl9Zm9yKHZhciBrPXAucm93LmNyZWF0ZShudWxsLHNbIkZyYWdtZW50Il0uZnJvbSh5KSkseD1bXSxDPWUuaGVpZ2h0O0M8aTtDKyspeC5wdXNoKGspO3QuaW5zZXJ0KHQubWFwcGluZy5zbGljZShhKS5tYXAocituLm5vZGVTaXplLTIpLHgpfXJldHVybiEoIWMmJiFsKX1mdW5jdGlvbiBYKHQsZSxuLHIsbyxpLHMsYSl7aWYoMD09c3x8cz09ZS5oZWlnaHQpcmV0dXJuITE7Zm9yKHZhciBjPSExLGw9bztsPGk7bCsrKXt2YXIgdT1zKmUud2lkdGgrbCxwPWUubWFwW3VdO2lmKGUubWFwW3UtZS53aWR0aF09PXApe2M9ITA7dmFyIGY9bi5ub2RlQXQocCksZD1lLmZpbmRDZWxsKHApLGg9ZC50b3Asdj1kLmxlZnQ7dC5zZXROb2RlTWFya3VwKHQubWFwcGluZy5zbGljZShhKS5tYXAocCtyKSxudWxsLFIoZi5hdHRycywicm93c3BhbiIscy1oKSksdC5pbnNlcnQodC5tYXBwaW5nLnNsaWNlKGEpLm1hcChlLnBvc2l0aW9uQXQocyx2LG4pKSxmLnR5cGUuY3JlYXRlQW5kRmlsbChSKGYuYXR0cnMsInJvd3NwYW4iLGgrZi5hdHRycy5yb3dzcGFuLXMpKSksbCs9Zi5hdHRycy5jb2xzcGFuLTF9fXJldHVybiBjfWZ1bmN0aW9uIFkodCxlLG4scixvLGkscyxhKXtpZigwPT1zfHxzPT1lLndpZHRoKXJldHVybiExO2Zvcih2YXIgYz0hMSxsPW87bDxpO2wrKyl7dmFyIHU9bCplLndpZHRoK3MscD1lLm1hcFt1XTtpZihlLm1hcFt1LTFdPT1wKXtjPSEwO3ZhciBmPW4ubm9kZUF0KHApLGQ9ZS5jb2xDb3VudChwKSxoPXQubWFwcGluZy5zbGljZShhKS5tYXAocCtyKTt0LnNldE5vZGVNYXJrdXAoaCxudWxsLF8oZi5hdHRycyxzLWQsZi5hdHRycy5jb2xzcGFuLShzLWQpKSksdC5pbnNlcnQoaCtmLm5vZGVTaXplLGYudHlwZS5jcmVhdGVBbmRGaWxsKF8oZi5hdHRycywwLHMtZCkpKSxsKz1mLmF0dHJzLnJvd3NwYW4tMX19cmV0dXJuIGN9ZnVuY3Rpb24gWih0LGUsbixyLG8pe3ZhciBpPW4/dC5kb2Mubm9kZUF0KG4tMSk6dC5kb2MsYT12LmdldChpKSxjPXIudG9wLGw9ci5sZWZ0LHU9bCtvLndpZHRoLHA9YytvLmhlaWdodCxmPXQudHIsZD0wO2Z1bmN0aW9uIGgoKXtpPW4/Zi5kb2Mubm9kZUF0KG4tMSk6Zi5kb2MsYT12LmdldChpKSxkPWYubWFwcGluZy5tYXBzLmxlbmd0aH1HKGYsYSxpLG4sdSxwLGQpJiZoKCksWChmLGEsaSxuLGwsdSxjLGQpJiZoKCksWChmLGEsaSxuLGwsdSxwLGQpJiZoKCksWShmLGEsaSxuLGMscCxsLGQpJiZoKCksWShmLGEsaSxuLGMscCx1LGQpJiZoKCk7Zm9yKHZhciBtPWM7bTxwO20rKyl7dmFyIGc9YS5wb3NpdGlvbkF0KG0sbCxpKSx5PWEucG9zaXRpb25BdChtLHUsaSk7Zi5yZXBsYWNlKGYubWFwcGluZy5zbGljZShkKS5tYXAoZytuKSxmLm1hcHBpbmcuc2xpY2UoZCkubWFwKHkrbiksbmV3IHNbIlNsaWNlIl0oby5yb3dzW20tY10sMCwwKSl9aCgpLGYuc2V0U2VsZWN0aW9uKG5ldyB6KGYuZG9jLnJlc29sdmUobithLnBvc2l0aW9uQXQoYyxsLGkpKSxmLmRvYy5yZXNvbHZlKG4rYS5wb3NpdGlvbkF0KHAtMSx1LTEsaSkpKSksZShmKX1JLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBJKHQubWFwKHRoaXMuYW5jaG9yKSx0Lm1hcCh0aGlzLmhlYWQpKX0sSS5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0KXt2YXIgZT10LnJlc29sdmUodGhpcy5hbmNob3IpLG49dC5yZXNvbHZlKHRoaXMuaGVhZCk7cmV0dXJuInJvdyI9PWUucGFyZW50LnR5cGUuc3BlYy50YWJsZVJvbGUmJiJyb3ciPT1uLnBhcmVudC50eXBlLnNwZWMudGFibGVSb2xlJiZlLmluZGV4KCk8ZS5wYXJlbnQuY2hpbGRDb3VudCYmbi5pbmRleCgpPG4ucGFyZW50LmNoaWxkQ291bnQmJlQoZSxuKT9uZXcgeihlLG4pOmlbIlNlbGVjdGlvbiJdLm5lYXIobiwxKX07dmFyIFE9T2JqZWN0KGFbImEiXSkoe0Fycm93TGVmdDpldCgiaG9yaXoiLC0xKSxBcnJvd1JpZ2h0OmV0KCJob3JpeiIsMSksQXJyb3dVcDpldCgidmVydCIsLTEpLEFycm93RG93bjpldCgidmVydCIsMSksIlNoaWZ0LUFycm93TGVmdCI6bnQoImhvcml6IiwtMSksIlNoaWZ0LUFycm93UmlnaHQiOm50KCJob3JpeiIsMSksIlNoaWZ0LUFycm93VXAiOm50KCJ2ZXJ0IiwtMSksIlNoaWZ0LUFycm93RG93biI6bnQoInZlcnQiLDEpLEJhY2tzcGFjZTpydCwiTW9kLUJhY2tzcGFjZSI6cnQsRGVsZXRlOnJ0LCJNb2QtRGVsZXRlIjpydH0pO2Z1bmN0aW9uIHR0KHQsZSxuKXtyZXR1cm4hbi5lcSh0LnNlbGVjdGlvbikmJihlJiZlKHQudHIuc2V0U2VsZWN0aW9uKG4pLnNjcm9sbEludG9WaWV3KCkpLCEwKX1mdW5jdGlvbiBldCh0LGUpe3JldHVybiBmdW5jdGlvbihuLHIsbyl7dmFyIHM9bi5zZWxlY3Rpb247aWYocyBpbnN0YW5jZW9mIHopcmV0dXJuIHR0KG4scixpWyJTZWxlY3Rpb24iXS5uZWFyKHMuJGhlYWRDZWxsLGUpKTtpZigiaG9yaXoiIT10JiYhcy5lbXB0eSlyZXR1cm4hMTt2YXIgYT1hdChvLHQsZSk7aWYobnVsbD09YSlyZXR1cm4hMTtpZigiaG9yaXoiPT10KXJldHVybiB0dChuLHIsaVsiU2VsZWN0aW9uIl0ubmVhcihuLmRvYy5yZXNvbHZlKHMuaGVhZCtlKSxlKSk7dmFyIGMsbD1uLmRvYy5yZXNvbHZlKGEpLHU9RShsLHQsZSk7cmV0dXJuIGM9dT9pWyJTZWxlY3Rpb24iXS5uZWFyKHUsMSk6ZTwwP2lbIlNlbGVjdGlvbiJdLm5lYXIobi5kb2MucmVzb2x2ZShsLmJlZm9yZSgtMSkpLC0xKTppWyJTZWxlY3Rpb24iXS5uZWFyKG4uZG9jLnJlc29sdmUobC5hZnRlcigtMSkpLDEpLHR0KG4scixjKX19ZnVuY3Rpb24gbnQodCxlKXtyZXR1cm4gZnVuY3Rpb24obixyLG8pe3ZhciBpPW4uc2VsZWN0aW9uO2lmKCEoaSBpbnN0YW5jZW9mIHopKXt2YXIgcz1hdChvLHQsZSk7aWYobnVsbD09cylyZXR1cm4hMTtpPW5ldyB6KG4uZG9jLnJlc29sdmUocykpfXZhciBhPUUoaS4kaGVhZENlbGwsdCxlKTtyZXR1cm4hIWEmJnR0KG4scixuZXcgeihpLiRhbmNob3JDZWxsLGEpKX19ZnVuY3Rpb24gcnQodCxlKXt2YXIgbj10LnNlbGVjdGlvbjtpZighKG4gaW5zdGFuY2VvZiB6KSlyZXR1cm4hMTtpZihlKXt2YXIgcj10LnRyLG89Vyh0LnNjaGVtYSkuY2VsbC5jcmVhdGVBbmRGaWxsKCkuY29udGVudDtuLmZvckVhY2hDZWxsKChmdW5jdGlvbih0LGUpe3QuY29udGVudC5lcShvKXx8ci5yZXBsYWNlKHIubWFwcGluZy5tYXAoZSsxKSxyLm1hcHBpbmcubWFwKGUrdC5ub2RlU2l6ZS0xKSxuZXcgc1siU2xpY2UiXShvLDAsMCkpfSkpLHIuZG9jQ2hhbmdlZCYmZShyKX1yZXR1cm4hMH1mdW5jdGlvbiBvdCh0LGUpe3ZhciBuPXQuc3RhdGUuZG9jLHI9UyhuLnJlc29sdmUoZSkpO3JldHVybiEhciYmKHQuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24obmV3IHoocikpKSwhMCl9ZnVuY3Rpb24gaXQodCxlLG4pe2lmKCF4KHQuc3RhdGUpKXJldHVybiExO3ZhciByPXEobiksbz10LnN0YXRlLnNlbGVjdGlvbjtpZihvIGluc3RhbmNlb2Ygeil7cnx8KHI9e3dpZHRoOjEsaGVpZ2h0OjEscm93czpbc1siRnJhZ21lbnQiXS5mcm9tKEsoVyh0LnN0YXRlLnNjaGVtYSkuY2VsbCxuKSldfSk7dmFyIGk9by4kYW5jaG9yQ2VsbC5ub2RlKC0xKSxhPW8uJGFuY2hvckNlbGwuc3RhcnQoLTEpLGM9di5nZXQoaSkucmVjdEJldHdlZW4oby4kYW5jaG9yQ2VsbC5wb3MtYSxvLiRoZWFkQ2VsbC5wb3MtYSk7cmV0dXJuIHI9VShyLGMucmlnaHQtYy5sZWZ0LGMuYm90dG9tLWMudG9wKSxaKHQuc3RhdGUsdC5kaXNwYXRjaCxhLGMsciksITB9aWYocil7dmFyIGw9Qyh0LnN0YXRlKSx1PWwuc3RhcnQoLTEpO3JldHVybiBaKHQuc3RhdGUsdC5kaXNwYXRjaCx1LHYuZ2V0KGwubm9kZSgtMSkpLmZpbmRDZWxsKGwucG9zLXUpLHIpLCEwfXJldHVybiExfWZ1bmN0aW9uIHN0KHQsZSl7aWYoIWUuY3RybEtleSYmIWUubWV0YUtleSl7dmFyIG4scj1jdCh0LGUudGFyZ2V0KTtpZihlLnNoaWZ0S2V5JiZ0LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIHopbyh0LnN0YXRlLnNlbGVjdGlvbi4kYW5jaG9yQ2VsbCxlKSxlLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBpZihlLnNoaWZ0S2V5JiZyJiZudWxsIT0obj1TKHQuc3RhdGUuc2VsZWN0aW9uLiRhbmNob3IpKSYmbHQodCxlKS5wb3MhPW4ucG9zKW8obixlKSxlLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBpZighcilyZXR1cm47dC5yb290LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLGkpLHQucm9vdC5hZGRFdmVudExpc3RlbmVyKCJkcmFnc3RhcnQiLGkpLHQucm9vdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLHMpfWZ1bmN0aW9uIG8oZSxuKXt2YXIgcj1sdCh0LG4pLG89bnVsbD09Yi5nZXRTdGF0ZSh0LnN0YXRlKTtpZighcnx8IVQoZSxyKSl7aWYoIW8pcmV0dXJuO3I9ZX12YXIgaT1uZXcgeihlLHIpO2lmKG98fCF0LnN0YXRlLnNlbGVjdGlvbi5lcShpKSl7dmFyIHM9dC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oaSk7byYmcy5zZXRNZXRhKGIsZS5wb3MpLHQuZGlzcGF0Y2gocyl9fWZ1bmN0aW9uIGkoKXt0LnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsaSksdC5yb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoImRyYWdzdGFydCIsaSksdC5yb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIscyksbnVsbCE9Yi5nZXRTdGF0ZSh0LnN0YXRlKSYmdC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldE1ldGEoYiwtMSkpfWZ1bmN0aW9uIHMobil7dmFyIHMsYT1iLmdldFN0YXRlKHQuc3RhdGUpO2lmKG51bGwhPWEpcz10LnN0YXRlLmRvYy5yZXNvbHZlKGEpO2Vsc2UgaWYoY3QodCxuLnRhcmdldCkhPXImJihzPWx0KHQsZSksIXMpKXJldHVybiBpKCk7cyYmbyhzLG4pfX1mdW5jdGlvbiBhdCh0LGUsbil7aWYoISh0LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIGlbIlRleHRTZWxlY3Rpb24iXSkpcmV0dXJuIG51bGw7Zm9yKHZhciByPXQuc3RhdGUuc2VsZWN0aW9uLG89ci4kaGVhZCxzPW8uZGVwdGgtMTtzPj0wO3MtLSl7dmFyIGE9by5ub2RlKHMpLGM9bjwwP28uaW5kZXgocyk6by5pbmRleEFmdGVyKHMpO2lmKGMhPShuPDA/MDphLmNoaWxkQ291bnQpKXJldHVybiBudWxsO2lmKCJjZWxsIj09YS50eXBlLnNwZWMudGFibGVSb2xlfHwiaGVhZGVyX2NlbGwiPT1hLnR5cGUuc3BlYy50YWJsZVJvbGUpe3ZhciBsPW8uYmVmb3JlKHMpLHU9InZlcnQiPT1lP24+MD8iZG93biI6InVwIjpuPjA/InJpZ2h0IjoibGVmdCI7cmV0dXJuIHQuZW5kT2ZUZXh0YmxvY2sodSk/bDpudWxsfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBjdCh0LGUpe2Zvcig7ZSYmZSE9dC5kb207ZT1lLnBhcmVudE5vZGUpaWYoIlREIj09ZS5ub2RlTmFtZXx8IlRIIj09ZS5ub2RlTmFtZSlyZXR1cm4gZX1mdW5jdGlvbiBsdCh0LGUpe3ZhciBuPXQucG9zQXRDb29yZHMoe2xlZnQ6ZS5jbGllbnRYLHRvcDplLmNsaWVudFl9KTtyZXR1cm4gbiYmbj9TKHQuc3RhdGUuZG9jLnJlc29sdmUobi5wb3MpKTpudWxsfXZhciB1dD1uZXcgaVsiUGx1Z2luS2V5Il0oImZpeC10YWJsZXMiKTtmdW5jdGlvbiBwdCh0LGUsbixyKXt2YXIgbz10LmNoaWxkQ291bnQsaT1lLmNoaWxkQ291bnQ7dDpmb3IodmFyIHM9MCxhPTA7czxpO3MrKyl7Zm9yKHZhciBjPWUuY2hpbGQocyksbD1hLHU9TWF0aC5taW4obyxzKzMpO2w8dTtsKyspaWYodC5jaGlsZChsKT09Yyl7YT1sKzEsbis9Yy5ub2RlU2l6ZTtjb250aW51ZSB0fXIoYyxuKSxhPG8mJnQuY2hpbGQoYSkuc2FtZU1hcmt1cChjKT9wdCh0LmNoaWxkKGEpLGMsbisxLHIpOmMubm9kZXNCZXR3ZWVuKDAsYy5jb250ZW50LnNpemUscixuKzEpLG4rPWMubm9kZVNpemV9fWZ1bmN0aW9uIGZ0KHQsZSl7dmFyIG4scj1mdW5jdGlvbihlLHIpeyJ0YWJsZSI9PWUudHlwZS5zcGVjLnRhYmxlUm9sZSYmKG49ZHQodCxlLHIsbikpfTtyZXR1cm4gZT9lLmRvYyE9dC5kb2MmJnB0KGUuZG9jLHQuZG9jLDAscik6dC5kb2MuZGVzY2VuZGFudHMociksbn1mdW5jdGlvbiBkdCh0LGUsbixyKXt2YXIgbz12LmdldChlKTtpZighby5wcm9ibGVtcylyZXR1cm4gcjtyfHwocj10LnRyKTtmb3IodmFyIGkscyxhPVtdLGM9MDtjPG8uaGVpZ2h0O2MrKylhLnB1c2goMCk7Zm9yKHZhciBsPTA7bDxvLnByb2JsZW1zLmxlbmd0aDtsKyspe3ZhciB1PW8ucHJvYmxlbXNbbF07aWYoImNvbGxpc2lvbiI9PXUudHlwZSl7Zm9yKHZhciBwPWUubm9kZUF0KHUucG9zKSxmPTA7ZjxwLmF0dHJzLnJvd3NwYW47ZisrKWFbdS5yb3crZl0rPXUubjtyLnNldE5vZGVNYXJrdXAoci5tYXBwaW5nLm1hcChuKzErdS5wb3MpLG51bGwsXyhwLmF0dHJzLHAuYXR0cnMuY29sc3Bhbi11Lm4sdS5uKSl9ZWxzZSBpZigibWlzc2luZyI9PXUudHlwZSlhW3Uucm93XSs9dS5uO2Vsc2UgaWYoIm92ZXJsb25nX3Jvd3NwYW4iPT11LnR5cGUpe3ZhciBkPWUubm9kZUF0KHUucG9zKTtyLnNldE5vZGVNYXJrdXAoci5tYXBwaW5nLm1hcChuKzErdS5wb3MpLG51bGwsUihkLmF0dHJzLCJyb3dzcGFuIixkLmF0dHJzLnJvd3NwYW4tdS5uKSl9ZWxzZSBpZigiY29sd2lkdGggbWlzbWF0Y2giPT11LnR5cGUpe3ZhciBoPWUubm9kZUF0KHUucG9zKTtyLnNldE5vZGVNYXJrdXAoci5tYXBwaW5nLm1hcChuKzErdS5wb3MpLG51bGwsUihoLmF0dHJzLCJjb2x3aWR0aCIsdS5jb2x3aWR0aCkpfX1mb3IodmFyIG09MDttPGEubGVuZ3RoO20rKylhW21dJiYobnVsbD09aSYmKGk9bSkscz1tKTtmb3IodmFyIGc9MCx5PW4rMTtnPG8uaGVpZ2h0O2crKyl7dmFyIHc9ZS5jaGlsZChnKSxiPXkrdy5ub2RlU2l6ZSxTPWFbZ107aWYoUz4wKXt2YXIgaz0iY2VsbCI7dy5maXJzdENoaWxkJiYoaz13LmZpcnN0Q2hpbGQudHlwZS5zcGVjLnRhYmxlUm9sZSk7Zm9yKHZhciB4PVtdLEM9MDtDPFM7QysrKXgucHVzaChXKHQuc2NoZW1hKVtrXS5jcmVhdGVBbmRGaWxsKCkpO3ZhciBPPTAhPWcmJmkhPWctMXx8cyE9Zz9iLTE6eSsxO3IuaW5zZXJ0KHIubWFwcGluZy5tYXAoTykseCl9eT1ifXJldHVybiByLnNldE1ldGEodXQse2ZpeFRhYmxlczohMH0pfWZ1bmN0aW9uIGh0KHQpe3ZhciBlLG49dC5zZWxlY3Rpb24scj1DKHQpLG89ci5ub2RlKC0xKSxpPXIuc3RhcnQoLTEpLHM9di5nZXQobyk7cmV0dXJuIGU9biBpbnN0YW5jZW9mIHo/cy5yZWN0QmV0d2VlbihuLiRhbmNob3JDZWxsLnBvcy1pLG4uJGhlYWRDZWxsLnBvcy1pKTpzLmZpbmRDZWxsKHIucG9zLWkpLGUudGFibGVTdGFydD1pLGUubWFwPXMsZS50YWJsZT1vLGV9ZnVuY3Rpb24gdnQodCxlLG4pe2Zvcih2YXIgcj1XKGUudHlwZS5zY2hlbWEpLmhlYWRlcl9jZWxsLG89MDtvPHQuaGVpZ2h0O28rKylpZihlLm5vZGVBdCh0Lm1hcFtuK28qdC53aWR0aF0pLnR5cGUhPXIpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gbXQodCxlLG4pe3ZhciByPWUubWFwLG89ZS50YWJsZVN0YXJ0LGk9ZS50YWJsZSxzPW4+MD8tMTowO3Z0KHIsaSxuK3MpJiYocz0wPT1ufHxuPT1yLndpZHRoP251bGw6MCk7Zm9yKHZhciBhPTA7YTxyLmhlaWdodDthKyspe3ZhciBjPWEqci53aWR0aCtuO2lmKG4+MCYmbjxyLndpZHRoJiZyLm1hcFtjLTFdPT1yLm1hcFtjXSl7dmFyIGw9ci5tYXBbY10sdT1pLm5vZGVBdChsKTt0LnNldE5vZGVNYXJrdXAodC5tYXBwaW5nLm1hcChvK2wpLG51bGwsUCh1LmF0dHJzLG4tci5jb2xDb3VudChsKSkpLGErPXUuYXR0cnMucm93c3Bhbi0xfWVsc2V7dmFyIHA9bnVsbD09cz9XKGkudHlwZS5zY2hlbWEpLmNlbGw6aS5ub2RlQXQoci5tYXBbYytzXSkudHlwZSxmPXIucG9zaXRpb25BdChhLG4saSk7dC5pbnNlcnQodC5tYXBwaW5nLm1hcChvK2YpLHAuY3JlYXRlQW5kRmlsbCgpKX19cmV0dXJuIHR9ZnVuY3Rpb24gZ3QodCxlKXtpZigheCh0KSlyZXR1cm4hMTtpZihlKXt2YXIgbj1odCh0KTtlKG10KHQudHIsbixuLmxlZnQpKX1yZXR1cm4hMH1mdW5jdGlvbiB5dCh0LGUpe2lmKCF4KHQpKXJldHVybiExO2lmKGUpe3ZhciBuPWh0KHQpO2UobXQodC50cixuLG4ucmlnaHQpKX1yZXR1cm4hMH1mdW5jdGlvbiB3dCh0LGUsbil7Zm9yKHZhciByPWUubWFwLG89ZS50YWJsZSxpPWUudGFibGVTdGFydCxzPXQubWFwcGluZy5tYXBzLmxlbmd0aCxhPTA7YTxyLmhlaWdodDspe3ZhciBjPWEqci53aWR0aCtuLGw9ci5tYXBbY10sdT1vLm5vZGVBdChsKTtpZihuPjAmJnIubWFwW2MtMV09PWx8fG48ci53aWR0aC0xJiZyLm1hcFtjKzFdPT1sKXQuc2V0Tm9kZU1hcmt1cCh0Lm1hcHBpbmcuc2xpY2UocykubWFwKGkrbCksbnVsbCxfKHUuYXR0cnMsbi1yLmNvbENvdW50KGwpKSk7ZWxzZXt2YXIgcD10Lm1hcHBpbmcuc2xpY2UocykubWFwKGkrbCk7dC5kZWxldGUocCxwK3Uubm9kZVNpemUpfWErPXUuYXR0cnMucm93c3Bhbn19ZnVuY3Rpb24gYnQodCxlKXtpZigheCh0KSlyZXR1cm4hMTtpZihlKXt2YXIgbj1odCh0KSxyPXQudHI7aWYoMD09bi5sZWZ0JiZuLnJpZ2h0PT1uLm1hcC53aWR0aClyZXR1cm4hMTtmb3IodmFyIG89bi5yaWdodC0xOztvLS0pe2lmKHd0KHIsbixvKSxvPT1uLmxlZnQpYnJlYWs7bi50YWJsZT1uLnRhYmxlU3RhcnQ/ci5kb2Mubm9kZUF0KG4udGFibGVTdGFydC0xKTpyLmRvYyxuLm1hcD12LmdldChuLnRhYmxlKX1lKHIpfXJldHVybiEwfWZ1bmN0aW9uIFN0KHQsZSxuKXtmb3IodmFyIHI9VyhlLnR5cGUuc2NoZW1hKS5oZWFkZXJfY2VsbCxvPTA7bzx0LndpZHRoO28rKylpZihlLm5vZGVBdCh0Lm1hcFtvK24qdC53aWR0aF0pLnR5cGUhPXIpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24ga3QodCxlLG4pe2Zvcih2YXIgcj1lLm1hcCxvPWUudGFibGVTdGFydCxpPWUudGFibGUscz1vLGE9MDthPG47YSsrKXMrPWkuY2hpbGQoYSkubm9kZVNpemU7dmFyIGM9W10sbD1uPjA/LTE6MDtTdChyLGksbitsKSYmKGw9MD09bnx8bj09ci5oZWlnaHQ/bnVsbDowKTtmb3IodmFyIHU9MCxwPXIud2lkdGgqbjt1PHIud2lkdGg7dSsrLHArKylpZihuPjAmJm48ci5oZWlnaHQmJnIubWFwW3BdPT1yLm1hcFtwLXIud2lkdGhdKXt2YXIgZj1yLm1hcFtwXSxkPWkubm9kZUF0KGYpLmF0dHJzO3Quc2V0Tm9kZU1hcmt1cChvK2YsbnVsbCxSKGQsInJvd3NwYW4iLGQucm93c3BhbisxKSksdSs9ZC5jb2xzcGFuLTF9ZWxzZXt2YXIgaD1udWxsPT1sP1coaS50eXBlLnNjaGVtYSkuY2VsbDppLm5vZGVBdChyLm1hcFtwK2wqci53aWR0aF0pLnR5cGU7Yy5wdXNoKGguY3JlYXRlQW5kRmlsbCgpKX1yZXR1cm4gdC5pbnNlcnQocyxXKGkudHlwZS5zY2hlbWEpLnJvdy5jcmVhdGUobnVsbCxjKSksdH1mdW5jdGlvbiB4dCh0LGUpe2lmKCF4KHQpKXJldHVybiExO2lmKGUpe3ZhciBuPWh0KHQpO2Uoa3QodC50cixuLG4udG9wKSl9cmV0dXJuITB9ZnVuY3Rpb24gQ3QodCxlKXtpZigheCh0KSlyZXR1cm4hMTtpZihlKXt2YXIgbj1odCh0KTtlKGt0KHQudHIsbixuLmJvdHRvbSkpfXJldHVybiEwfWZ1bmN0aW9uIE90KHQsZSxuKXtmb3IodmFyIHI9ZS5tYXAsbz1lLnRhYmxlLGk9ZS50YWJsZVN0YXJ0LHM9MCxhPTA7YTxuO2ErKylzKz1vLmNoaWxkKGEpLm5vZGVTaXplO3ZhciBjPXMrby5jaGlsZChuKS5ub2RlU2l6ZSxsPXQubWFwcGluZy5tYXBzLmxlbmd0aDt0LmRlbGV0ZShzK2ksYytpKTtmb3IodmFyIHU9MCxwPW4qci53aWR0aDt1PHIud2lkdGg7dSsrLHArKyl7dmFyIGY9ci5tYXBbcF07aWYobj4wJiZmPT1yLm1hcFtwLXIud2lkdGhdKXt2YXIgZD1vLm5vZGVBdChmKS5hdHRyczt0LnNldE5vZGVNYXJrdXAodC5tYXBwaW5nLnNsaWNlKGwpLm1hcChmK2kpLG51bGwsUihkLCJyb3dzcGFuIixkLnJvd3NwYW4tMSkpLHUrPWQuY29sc3Bhbi0xfWVsc2UgaWYobjxyLndpZHRoJiZmPT1yLm1hcFtwK3Iud2lkdGhdKXt2YXIgaD1vLm5vZGVBdChmKSx2PWgudHlwZS5jcmVhdGUoUihoLmF0dHJzLCJyb3dzcGFuIixoLmF0dHJzLnJvd3NwYW4tMSksaC5jb250ZW50KSxtPXIucG9zaXRpb25BdChuKzEsdSxvKTt0Lmluc2VydCh0Lm1hcHBpbmcuc2xpY2UobCkubWFwKGkrbSksdiksdSs9aC5hdHRycy5jb2xzcGFuLTF9fX1mdW5jdGlvbiBNdCh0LGUpe2lmKCF4KHQpKXJldHVybiExO2lmKGUpe3ZhciBuPWh0KHQpLHI9dC50cjtpZigwPT1uLnRvcCYmbi5ib3R0b209PW4ubWFwLmhlaWdodClyZXR1cm4hMTtmb3IodmFyIG89bi5ib3R0b20tMTs7by0tKXtpZihPdChyLG4sbyksbz09bi50b3ApYnJlYWs7bi50YWJsZT1uLnRhYmxlU3RhcnQ/ci5kb2Mubm9kZUF0KG4udGFibGVTdGFydC0xKTpyLmRvYyxuLm1hcD12LmdldChuLnRhYmxlKX1lKHIpfXJldHVybiEwfWZ1bmN0aW9uIE50KHQpe3ZhciBlPXQuY29udGVudDtyZXR1cm4gMT09ZS5jaGlsZENvdW50JiZlLmZpcnN0Q2hpbGQuaXNUZXh0YmxvY2smJjA9PWUuZmlyc3RDaGlsZC5jaGlsZENvdW50fWZ1bmN0aW9uIFR0KHQsZSl7Zm9yKHZhciBuPXQud2lkdGgscj10LmhlaWdodCxvPXQubWFwLGk9ZS50b3AqbitlLmxlZnQscz1pLGE9KGUuYm90dG9tLTEpKm4rZS5sZWZ0LGM9aSsoZS5yaWdodC1lLmxlZnQtMSksbD1lLnRvcDtsPGUuYm90dG9tO2wrKyl7aWYoZS5sZWZ0PjAmJm9bc109PW9bcy0xXXx8ZS5yaWdodDxuJiZvW2NdPT1vW2MrMV0pcmV0dXJuITA7cys9bixjKz1ufWZvcih2YXIgdT1lLmxlZnQ7dTxlLnJpZ2h0O3UrKyl7aWYoZS50b3A+MCYmb1tpXT09b1tpLW5dfHxlLmJvdHRvbTxyJiZvW2FdPT1vW2Erbl0pcmV0dXJuITA7aSsrLGErK31yZXR1cm4hMX1mdW5jdGlvbiBEdCh0LGUpe3ZhciBuPXQuc2VsZWN0aW9uO2lmKCEobiBpbnN0YW5jZW9mIHopfHxuLiRhbmNob3JDZWxsLnBvcz09bi4kaGVhZENlbGwucG9zKXJldHVybiExO3ZhciByPWh0KHQpLG89ci5tYXA7aWYoVHQobyxyKSlyZXR1cm4hMTtpZihlKXtmb3IodmFyIGksYSxjPXQudHIsbD17fSx1PXNbIkZyYWdtZW50Il0uZW1wdHkscD1yLnRvcDtwPHIuYm90dG9tO3ArKylmb3IodmFyIGY9ci5sZWZ0O2Y8ci5yaWdodDtmKyspe3ZhciBkPW8ubWFwW3Aqby53aWR0aCtmXSxoPXIudGFibGUubm9kZUF0KGQpO2lmKCFsW2RdKWlmKGxbZF09ITAsbnVsbD09aSlpPWQsYT1oO2Vsc2V7TnQoaCl8fCh1PXUuYXBwZW5kKGguY29udGVudCkpO3ZhciB2PWMubWFwcGluZy5tYXAoZCtyLnRhYmxlU3RhcnQpO2MuZGVsZXRlKHYsditoLm5vZGVTaXplKX19aWYoYy5zZXROb2RlTWFya3VwKGkrci50YWJsZVN0YXJ0LG51bGwsUihQKGEuYXR0cnMsYS5hdHRycy5jb2xzcGFuLHIucmlnaHQtci5sZWZ0LWEuYXR0cnMuY29sc3BhbiksInJvd3NwYW4iLHIuYm90dG9tLXIudG9wKSksdS5zaXplKXt2YXIgbT1pKzErYS5jb250ZW50LnNpemUsZz1OdChhKT9pKzE6bTtjLnJlcGxhY2VXaXRoKGcrci50YWJsZVN0YXJ0LG0rci50YWJsZVN0YXJ0LHUpfWMuc2V0U2VsZWN0aW9uKG5ldyB6KGMuZG9jLnJlc29sdmUoaStyLnRhYmxlU3RhcnQpKSksZShjKX1yZXR1cm4hMH1mdW5jdGlvbiBBdCh0LGUpe3ZhciBuPVcodC5zY2hlbWEpO3JldHVybiBFdCgoZnVuY3Rpb24odCl7dmFyIGU9dC5ub2RlO3JldHVybiBuW2UudHlwZS5zcGVjLnRhYmxlUm9sZV19KSkodCxlKX1mdW5jdGlvbiBFdCh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgcixvLGk9ZS5zZWxlY3Rpb247aWYoaSBpbnN0YW5jZW9mIHope2lmKGkuJGFuY2hvckNlbGwucG9zIT1pLiRoZWFkQ2VsbC5wb3MpcmV0dXJuITE7cj1pLiRhbmNob3JDZWxsLm5vZGVBZnRlcixvPWkuJGFuY2hvckNlbGwucG9zfWVsc2V7aWYocj1rKGkuJGZyb20pLCFyKXJldHVybiExO289UyhpLiRmcm9tKS5wb3N9aWYoMT09ci5hdHRycy5jb2xzcGFuJiYxPT1yLmF0dHJzLnJvd3NwYW4pcmV0dXJuITE7aWYobil7dmFyIHM9ci5hdHRycyxhPVtdLGM9cy5jb2x3aWR0aDtzLnJvd3NwYW4+MSYmKHM9UihzLCJyb3dzcGFuIiwxKSkscy5jb2xzcGFuPjEmJihzPVIocywiY29sc3BhbiIsMSkpO2Zvcih2YXIgbCx1PWh0KGUpLHA9ZS50cixmPTA7Zjx1LnJpZ2h0LXUubGVmdDtmKyspYS5wdXNoKGM/UihzLCJjb2x3aWR0aCIsYyYmY1tmXT9bY1tmXV06bnVsbCk6cyk7Zm9yKHZhciBkPXUudG9wO2Q8dS5ib3R0b207ZCsrKXt2YXIgaD11Lm1hcC5wb3NpdGlvbkF0KGQsdS5sZWZ0LHUudGFibGUpO2Q9PXUudG9wJiYoaCs9ci5ub2RlU2l6ZSk7Zm9yKHZhciB2PXUubGVmdCxtPTA7djx1LnJpZ2h0O3YrKyxtKyspdj09dS5sZWZ0JiZkPT11LnRvcHx8cC5pbnNlcnQobD1wLm1hcHBpbmcubWFwKGgrdS50YWJsZVN0YXJ0LDEpLHQoe25vZGU6cixyb3c6ZCxjb2w6dn0pLmNyZWF0ZUFuZEZpbGwoYVttXSkpfXAuc2V0Tm9kZU1hcmt1cChvLHQoe25vZGU6cixyb3c6dS50b3AsY29sOnUubGVmdH0pLGFbMF0pLGkgaW5zdGFuY2VvZiB6JiZwLnNldFNlbGVjdGlvbihuZXcgeihwLmRvYy5yZXNvbHZlKGkuJGFuY2hvckNlbGwucG9zKSxsJiZwLmRvYy5yZXNvbHZlKGwpKSksbihwKX1yZXR1cm4hMH19ZnVuY3Rpb24gUnQodCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXtpZigheChuKSlyZXR1cm4hMTt2YXIgbz1DKG4pO2lmKG8ubm9kZUFmdGVyLmF0dHJzW3RdPT09ZSlyZXR1cm4hMTtpZihyKXt2YXIgaT1uLnRyO24uc2VsZWN0aW9uIGluc3RhbmNlb2Ygej9uLnNlbGVjdGlvbi5mb3JFYWNoQ2VsbCgoZnVuY3Rpb24obixyKXtuLmF0dHJzW3RdIT09ZSYmaS5zZXROb2RlTWFya3VwKHIsbnVsbCxSKG4uYXR0cnMsdCxlKSl9KSk6aS5zZXROb2RlTWFya3VwKG8ucG9zLG51bGwsUihvLm5vZGVBZnRlci5hdHRycyx0LGUpKSxyKGkpfXJldHVybiEwfX1mdW5jdGlvbiBfdCh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtpZigheChlKSlyZXR1cm4hMTtpZihuKXtmb3IodmFyIHI9VyhlLnNjaGVtYSksbz1odChlKSxpPWUudHIscz1vLm1hcC5jZWxsc0luUmVjdCgiY29sdW1uIj09dD9uZXcgaChvLmxlZnQsMCxvLnJpZ2h0LG8ubWFwLmhlaWdodCk6InJvdyI9PXQ/bmV3IGgoMCxvLnRvcCxvLm1hcC53aWR0aCxvLmJvdHRvbSk6byksYT1zLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG8udGFibGUubm9kZUF0KHQpfSkpLGM9MDtjPHMubGVuZ3RoO2MrKylhW2NdLnR5cGU9PXIuaGVhZGVyX2NlbGwmJmkuc2V0Tm9kZU1hcmt1cChvLnRhYmxlU3RhcnQrc1tjXSxyLmNlbGwsYVtjXS5hdHRycyk7aWYoMD09aS5zdGVwcy5sZW5ndGgpZm9yKHZhciBsPTA7bDxzLmxlbmd0aDtsKyspaS5zZXROb2RlTWFya3VwKG8udGFibGVTdGFydCtzW2xdLHIuaGVhZGVyX2NlbGwsYVtsXS5hdHRycyk7bihpKX1yZXR1cm4hMH19ZnVuY3Rpb24gUHQodCxlLG4pe2Zvcih2YXIgcj1lLm1hcC5jZWxsc0luUmVjdCh7bGVmdDowLHRvcDowLHJpZ2h0OiJyb3ciPT10P2UubWFwLndpZHRoOjEsYm90dG9tOiJjb2x1bW4iPT10P2UubWFwLmhlaWdodDoxfSksbz0wO288ci5sZW5ndGg7bysrKXt2YXIgaT1lLnRhYmxlLm5vZGVBdChyW29dKTtpZihpJiZpLnR5cGUhPT1uLmhlYWRlcl9jZWxsKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIHp0KHQsZSl7cmV0dXJuIGU9ZXx8e3VzZURlcHJlY2F0ZWRMb2dpYzohMX0sZS51c2VEZXByZWNhdGVkTG9naWM/X3QodCk6ZnVuY3Rpb24oZSxuKXtpZigheChlKSlyZXR1cm4hMTtpZihuKXt2YXIgcj1XKGUuc2NoZW1hKSxvPWh0KGUpLGk9ZS50cixzPVB0KCJyb3ciLG8sciksYT1QdCgiY29sdW1uIixvLHIpLGM9ImNvbHVtbiI9PT10P3M6InJvdyI9PT10JiZhLGw9Yz8xOjAsdT0iY29sdW1uIj09dD9uZXcgaCgwLGwsMSxvLm1hcC5oZWlnaHQpOiJyb3ciPT10P25ldyBoKGwsMCxvLm1hcC53aWR0aCwxKTpvLHA9ImNvbHVtbiI9PXQ/YT9yLmNlbGw6ci5oZWFkZXJfY2VsbDoicm93Ij09dD9zP3IuY2VsbDpyLmhlYWRlcl9jZWxsOnIuY2VsbDtvLm1hcC5jZWxsc0luUmVjdCh1KS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT10K28udGFibGVTdGFydCxuPWkuZG9jLm5vZGVBdChlKTtuJiZpLnNldE5vZGVNYXJrdXAoZSxwLG4uYXR0cnMpfSkpLG4oaSl9cmV0dXJuITB9fXZhciBJdD16dCgicm93Iix7dXNlRGVwcmVjYXRlZExvZ2ljOiEwfSksQnQ9enQoImNvbHVtbiIse3VzZURlcHJlY2F0ZWRMb2dpYzohMH0pLFZ0PXp0KCJjZWxsIix7dXNlRGVwcmVjYXRlZExvZ2ljOiEwfSk7ZnVuY3Rpb24gRnQodCxlKXtpZihlPDApe3ZhciBuPXQubm9kZUJlZm9yZTtpZihuKXJldHVybiB0LnBvcy1uLm5vZGVTaXplO2Zvcih2YXIgcj10LmluZGV4KC0xKS0xLG89dC5iZWZvcmUoKTtyPj0wO3ItLSl7dmFyIGk9dC5ub2RlKC0xKS5jaGlsZChyKTtpZihpLmNoaWxkQ291bnQpcmV0dXJuIG8tMS1pLmxhc3RDaGlsZC5ub2RlU2l6ZTtvLT1pLm5vZGVTaXplfX1lbHNle2lmKHQuaW5kZXgoKTx0LnBhcmVudC5jaGlsZENvdW50LTEpcmV0dXJuIHQucG9zK3Qubm9kZUFmdGVyLm5vZGVTaXplO2Zvcih2YXIgcz10Lm5vZGUoLTEpLGE9dC5pbmRleEFmdGVyKC0xKSxjPXQuYWZ0ZXIoKTthPHMuY2hpbGRDb3VudDthKyspe3ZhciBsPXMuY2hpbGQoYSk7aWYobC5jaGlsZENvdW50KXJldHVybiBjKzE7Yys9bC5ub2RlU2l6ZX19fWZ1bmN0aW9uIGp0KHQpe3JldHVybiBmdW5jdGlvbihlLG4pe2lmKCF4KGUpKXJldHVybiExO3ZhciByPUZ0KEMoZSksdCk7aWYobnVsbCE9cil7aWYobil7dmFyIG89ZS5kb2MucmVzb2x2ZShyKTtuKGUudHIuc2V0U2VsZWN0aW9uKGlbIlRleHRTZWxlY3Rpb24iXS5iZXR3ZWVuKG8sTihvKSkpLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfX19ZnVuY3Rpb24gJHQodCxlKXtmb3IodmFyIG49dC5zZWxlY3Rpb24uJGFuY2hvcixyPW4uZGVwdGg7cj4wO3ItLSl7dmFyIG89bi5ub2RlKHIpO2lmKCJ0YWJsZSI9PW8udHlwZS5zcGVjLnRhYmxlUm9sZSlyZXR1cm4gZSYmZSh0LnRyLmRlbGV0ZShuLmJlZm9yZShyKSxuLmFmdGVyKHIpKS5zY3JvbGxJbnRvVmlldygpKSwhMH1yZXR1cm4hMX12YXIgTHQ9ZnVuY3Rpb24odCxlKXt0aGlzLm5vZGU9dCx0aGlzLmNlbGxNaW5XaWR0aD1lLHRoaXMuZG9tPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuZG9tLmNsYXNzTmFtZT0idGFibGVXcmFwcGVyIix0aGlzLnRhYmxlPXRoaXMuZG9tLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIikpLHRoaXMuY29sZ3JvdXA9dGhpcy50YWJsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjb2xncm91cCIpKSxIdCh0LHRoaXMuY29sZ3JvdXAsdGhpcy50YWJsZSxlKSx0aGlzLmNvbnRlbnRET009dGhpcy50YWJsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpKX07ZnVuY3Rpb24gSHQodCxlLG4scixvLGkpe2Zvcih2YXIgcz0wLGE9ITAsYz1lLmZpcnN0Q2hpbGQsbD10LmZpcnN0Q2hpbGQsdT0wLHA9MDt1PGwuY2hpbGRDb3VudDt1KyspZm9yKHZhciBmPWwuY2hpbGQodSkuYXR0cnMsZD1mLmNvbHNwYW4saD1mLmNvbHdpZHRoLHY9MDt2PGQ7disrLHArKyl7dmFyIG09bz09cD9pOmgmJmhbdl0sZz1tP20rInB4IjoiIjtzKz1tfHxyLG18fChhPSExKSxjPyhjLnN0eWxlLndpZHRoIT1nJiYoYy5zdHlsZS53aWR0aD1nKSxjPWMubmV4dFNpYmxpbmcpOmUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY29sIikpLnN0eWxlLndpZHRoPWd9d2hpbGUoYyl7dmFyIHk9Yy5uZXh0U2libGluZztjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyksYz15fWE/KG4uc3R5bGUud2lkdGg9cysicHgiLG4uc3R5bGUubWluV2lkdGg9IiIpOihuLnN0eWxlLndpZHRoPSIiLG4uc3R5bGUubWluV2lkdGg9cysicHgiKX1MdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PXRoaXMubm9kZS50eXBlJiYodGhpcy5ub2RlPXQsSHQodCx0aGlzLmNvbGdyb3VwLHRoaXMudGFibGUsdGhpcy5jZWxsTWluV2lkdGgpLCEwKX0sTHQucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiJhdHRyaWJ1dGVzIj09dC50eXBlJiYodC50YXJnZXQ9PXRoaXMudGFibGV8fHRoaXMuY29sZ3JvdXAuY29udGFpbnModC50YXJnZXQpKX07dmFyIFd0PW5ldyBpWyJQbHVnaW5LZXkiXSgidGFibGVDb2x1bW5SZXNpemluZyIpO2Z1bmN0aW9uIHF0KHQpe3ZvaWQgMD09PXQmJih0PXt9KTt2YXIgZT10LmhhbmRsZVdpZHRoO3ZvaWQgMD09PWUmJihlPTUpO3ZhciBuPXQuY2VsbE1pbldpZHRoO3ZvaWQgMD09PW4mJihuPTI1KTt2YXIgcj10LlZpZXc7dm9pZCAwPT09ciYmKHI9THQpO3ZhciBvPXQubGFzdENvbHVtblJlc2l6YWJsZTt2b2lkIDA9PT1vJiYobz0hMCk7dmFyIHM9bmV3IGlbIlBsdWdpbiJdKHtrZXk6V3Qsc3RhdGU6e2luaXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zcGVjLnByb3BzLm5vZGVWaWV3c1tXKGUuc2NoZW1hKS50YWJsZS5uYW1lXT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgcih0LG4sZSl9LG5ldyBKdCgtMSwhMSl9LGFwcGx5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuYXBwbHkodCl9fSxwcm9wczp7YXR0cmlidXRlczpmdW5jdGlvbih0KXt2YXIgZT1XdC5nZXRTdGF0ZSh0KTtyZXR1cm4gZS5hY3RpdmVIYW5kbGU+LTE/e2NsYXNzOiJyZXNpemUtY3Vyc29yIn06bnVsbH0saGFuZGxlRE9NRXZlbnRzOnttb3VzZW1vdmU6ZnVuY3Rpb24odCxyKXtLdCh0LHIsZSxuLG8pfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKHQpe1V0KHQpfSxtb3VzZWRvd246ZnVuY3Rpb24odCxlKXtHdCh0LGUsbil9fSxkZWNvcmF0aW9uczpmdW5jdGlvbih0KXt2YXIgZT1XdC5nZXRTdGF0ZSh0KTtpZihlLmFjdGl2ZUhhbmRsZT4tMSlyZXR1cm4gb2UodCxlLmFjdGl2ZUhhbmRsZSl9LG5vZGVWaWV3czp7fX19KTtyZXR1cm4gc312YXIgSnQ9ZnVuY3Rpb24odCxlKXt0aGlzLmFjdGl2ZUhhbmRsZT10LHRoaXMuZHJhZ2dpbmc9ZX07ZnVuY3Rpb24gS3QodCxlLG4scixvKXt2YXIgaT1XdC5nZXRTdGF0ZSh0LnN0YXRlKTtpZighaS5kcmFnZ2luZyl7dmFyIHM9WXQoZS50YXJnZXQpLGE9LTE7aWYocyl7dmFyIGM9cy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxsPWMubGVmdCx1PWMucmlnaHQ7ZS5jbGllbnRYLWw8PW4/YT1adCh0LGUsImxlZnQiKTp1LWUuY2xpZW50WDw9biYmKGE9WnQodCxlLCJyaWdodCIpKX1pZihhIT1pLmFjdGl2ZUhhbmRsZSl7aWYoIW8mJi0xIT09YSl7dmFyIHA9dC5zdGF0ZS5kb2MucmVzb2x2ZShhKSxmPXAubm9kZSgtMSksZD12LmdldChmKSxoPXAuc3RhcnQoLTEpLG09ZC5jb2xDb3VudChwLnBvcy1oKStwLm5vZGVBZnRlci5hdHRycy5jb2xzcGFuLTE7aWYobT09ZC53aWR0aC0xKXJldHVybn10ZSh0LGEpfX19ZnVuY3Rpb24gVXQodCl7dmFyIGU9V3QuZ2V0U3RhdGUodC5zdGF0ZSk7ZS5hY3RpdmVIYW5kbGU+LTEmJiFlLmRyYWdnaW5nJiZ0ZSh0LC0xKX1mdW5jdGlvbiBHdCh0LGUsbil7dmFyIHI9V3QuZ2V0U3RhdGUodC5zdGF0ZSk7aWYoLTE9PXIuYWN0aXZlSGFuZGxlfHxyLmRyYWdnaW5nKXJldHVybiExO3ZhciBvPXQuc3RhdGUuZG9jLm5vZGVBdChyLmFjdGl2ZUhhbmRsZSksaT1YdCh0LHIuYWN0aXZlSGFuZGxlLG8uYXR0cnMpO2Z1bmN0aW9uIHMoZSl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLHMpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLGEpO3ZhciByPVd0LmdldFN0YXRlKHQuc3RhdGUpO3IuZHJhZ2dpbmcmJihlZSh0LHIuYWN0aXZlSGFuZGxlLFF0KHIuZHJhZ2dpbmcsZSxuKSksdC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldE1ldGEoV3Qse3NldERyYWdnaW5nOm51bGx9KSkpfWZ1bmN0aW9uIGEoZSl7aWYoIWUud2hpY2gpcmV0dXJuIHMoZSk7dmFyIHI9V3QuZ2V0U3RhdGUodC5zdGF0ZSksbz1RdChyLmRyYWdnaW5nLGUsbik7bmUodCxyLmFjdGl2ZUhhbmRsZSxvLG4pfXJldHVybiB0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0TWV0YShXdCx7c2V0RHJhZ2dpbmc6e3N0YXJ0WDplLmNsaWVudFgsc3RhcnRXaWR0aDppfX0pKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIscyksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsYSksZS5wcmV2ZW50RGVmYXVsdCgpLCEwfWZ1bmN0aW9uIFh0KHQsZSxuKXt2YXIgcj1uLmNvbHNwYW4sbz1uLmNvbHdpZHRoLGk9byYmb1tvLmxlbmd0aC0xXTtpZihpKXJldHVybiBpO3ZhciBzPXQuZG9tQXRQb3MoZSksYT1zLm5vZGUuY2hpbGROb2Rlc1tzLm9mZnNldF0sYz1hLm9mZnNldFdpZHRoLGw9cjtpZihvKWZvcih2YXIgdT0wO3U8cjt1Kyspb1t1XSYmKGMtPW9bdV0sbC0tKTtyZXR1cm4gYy9sfWZ1bmN0aW9uIFl0KHQpe3doaWxlKHQmJiJURCIhPXQubm9kZU5hbWUmJiJUSCIhPXQubm9kZU5hbWUpdD10LmNsYXNzTGlzdC5jb250YWlucygiUHJvc2VNaXJyb3IiKT9udWxsOnQucGFyZW50Tm9kZTtyZXR1cm4gdH1mdW5jdGlvbiBadCh0LGUsbil7dmFyIHI9dC5wb3NBdENvb3Jkcyh7bGVmdDplLmNsaWVudFgsdG9wOmUuY2xpZW50WX0pLG89ci5wb3MsaT1TKHQuc3RhdGUuZG9jLnJlc29sdmUobykpO2lmKCFpKXJldHVybi0xO2lmKCJyaWdodCI9PW4pcmV0dXJuIGkucG9zO3ZhciBzPXYuZ2V0KGkubm9kZSgtMSkpLGE9aS5zdGFydCgtMSksYz1zLm1hcC5pbmRleE9mKGkucG9zLWEpO3JldHVybiBjJXMud2lkdGg9PTA/LTE6YStzLm1hcFtjLTFdfWZ1bmN0aW9uIFF0KHQsZSxuKXt2YXIgcj1lLmNsaWVudFgtdC5zdGFydFg7cmV0dXJuIE1hdGgubWF4KG4sdC5zdGFydFdpZHRoK3IpfWZ1bmN0aW9uIHRlKHQsZSl7dC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldE1ldGEoV3Qse3NldEhhbmRsZTplfSkpfWZ1bmN0aW9uIGVlKHQsZSxuKXtmb3IodmFyIHI9dC5zdGF0ZS5kb2MucmVzb2x2ZShlKSxvPXIubm9kZSgtMSksaT12LmdldChvKSxzPXIuc3RhcnQoLTEpLGE9aS5jb2xDb3VudChyLnBvcy1zKStyLm5vZGVBZnRlci5hdHRycy5jb2xzcGFuLTEsYz10LnN0YXRlLnRyLGw9MDtsPGkuaGVpZ2h0O2wrKyl7dmFyIHU9bCppLndpZHRoK2E7aWYoIWx8fGkubWFwW3VdIT1pLm1hcFt1LWkud2lkdGhdKXt2YXIgcD1pLm1hcFt1XSxmPW8ubm9kZUF0KHApLGQ9Zi5hdHRycyxoPTE9PWQuY29sc3Bhbj8wOmEtaS5jb2xDb3VudChwKTtpZighZC5jb2x3aWR0aHx8ZC5jb2x3aWR0aFtoXSE9bil7dmFyIG09ZC5jb2x3aWR0aD9kLmNvbHdpZHRoLnNsaWNlKCk6cmUoZC5jb2xzcGFuKTttW2hdPW4sYy5zZXROb2RlTWFya3VwKHMrcCxudWxsLFIoZCwiY29sd2lkdGgiLG0pKX19fWMuZG9jQ2hhbmdlZCYmdC5kaXNwYXRjaChjKX1mdW5jdGlvbiBuZSh0LGUsbixyKXt2YXIgbz10LnN0YXRlLmRvYy5yZXNvbHZlKGUpLGk9by5ub2RlKC0xKSxzPW8uc3RhcnQoLTEpLGE9di5nZXQoaSkuY29sQ291bnQoby5wb3Mtcykrby5ub2RlQWZ0ZXIuYXR0cnMuY29sc3Bhbi0xLGM9dC5kb21BdFBvcyhvLnN0YXJ0KC0xKSkubm9kZTt3aGlsZSgiVEFCTEUiIT1jLm5vZGVOYW1lKWM9Yy5wYXJlbnROb2RlO0h0KGksYy5maXJzdENoaWxkLGMscixhLG4pfWZ1bmN0aW9uIHJlKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0O24rKyllLnB1c2goMCk7cmV0dXJuIGV9ZnVuY3Rpb24gb2UodCxlKXtmb3IodmFyIG49W10scj10LmRvYy5yZXNvbHZlKGUpLG89ci5ub2RlKC0xKSxpPXYuZ2V0KG8pLHM9ci5zdGFydCgtMSksYT1pLmNvbENvdW50KHIucG9zLXMpK3Iubm9kZUFmdGVyLmF0dHJzLmNvbHNwYW4sbD0wO2w8aS5oZWlnaHQ7bCsrKXt2YXIgdT1hK2wqaS53aWR0aC0xO2lmKChhPT1pLndpZHRofHxpLm1hcFt1XSE9aS5tYXBbdSsxXSkmJigwPT1sfHxpLm1hcFt1LTFdIT1pLm1hcFt1LTEtaS53aWR0aF0pKXt2YXIgcD1pLm1hcFt1XSxmPXMrcCtvLm5vZGVBdChwKS5ub2RlU2l6ZS0xLGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZC5jbGFzc05hbWU9ImNvbHVtbi1yZXNpemUtaGFuZGxlIixuLnB1c2goY1siYSJdLndpZGdldChmLGQpKX19cmV0dXJuIGNbImIiXS5jcmVhdGUodC5kb2Msbil9ZnVuY3Rpb24gaWUodCl7dm9pZCAwPT09dCYmKHQ9e30pO3ZhciBlPXQuYWxsb3dUYWJsZU5vZGVTZWxlY3Rpb247cmV0dXJuIHZvaWQgMD09PWUmJihlPSExKSxuZXcgaVsiUGx1Z2luIl0oe2tleTpiLHN0YXRlOntpbml0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGFwcGx5OmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRNZXRhKGIpO2lmKG51bGwhPW4pcmV0dXJuLTE9PW4/bnVsbDpuO2lmKG51bGw9PWV8fCF0LmRvY0NoYW5nZWQpcmV0dXJuIGU7dmFyIHI9dC5tYXBwaW5nLm1hcFJlc3VsdChlKSxvPXIuZGVsZXRlZCxpPXIucG9zO3JldHVybiBvP251bGw6aX19LHByb3BzOntkZWNvcmF0aW9uczpCLGhhbmRsZURPTUV2ZW50czp7bW91c2Vkb3duOnN0fSxjcmVhdGVTZWxlY3Rpb25CZXR3ZWVuOmZ1bmN0aW9uKHQpe2lmKG51bGwhPWIuZ2V0U3RhdGUodC5zdGF0ZSkpcmV0dXJuIHQuc3RhdGUuc2VsZWN0aW9ufSxoYW5kbGVUcmlwbGVDbGljazpvdCxoYW5kbGVLZXlEb3duOlEsaGFuZGxlUGFzdGU6aXR9LGFwcGVuZFRyYW5zYWN0aW9uOmZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gaihyLGZ0KHIsbiksZSl9fSl9SnQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LmdldE1ldGEoV3QpO2lmKG4mJm51bGwhPW4uc2V0SGFuZGxlKXJldHVybiBuZXcgSnQobi5zZXRIYW5kbGUsbnVsbCk7aWYobiYmdm9pZCAwIT09bi5zZXREcmFnZ2luZylyZXR1cm4gbmV3IEp0KGUuYWN0aXZlSGFuZGxlLG4uc2V0RHJhZ2dpbmcpO2lmKGUuYWN0aXZlSGFuZGxlPi0xJiZ0LmRvY0NoYW5nZWQpe3ZhciByPXQubWFwcGluZy5tYXAoZS5hY3RpdmVIYW5kbGUsLTEpO00odC5kb2MucmVzb2x2ZShyKSl8fChyPW51bGwpLGU9bmV3IEp0KHIsZS5kcmFnZ2luZyl9cmV0dXJuIGV9fSw1NjkyOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJjNDMwIiksbz1uKCJjNmNkIik7KHQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBvW3RdfHwob1t0XT12b2lkIDAhPT1lP2U6e30pfSkoInZlcnNpb25zIixbXSkucHVzaCh7dmVyc2lvbjoiMy42LjAiLG1vZGU6cj8icHVyZSI6Imdsb2JhbCIsY29weXJpZ2h0OiLCqSAyMDE5IERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpIn0pfSwiNTZlZiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImQwNjYiKSxvPW4oIjI0MWMiKSxpPW4oIjc0MTgiKSxzPW4oIjgyNWEiKTt0LmV4cG9ydHM9cigiUmVmbGVjdCIsIm93bktleXMiKXx8ZnVuY3Rpb24odCl7dmFyIGU9by5mKHModCkpLG49aS5mO3JldHVybiBuP2UuY29uY2F0KG4odCkpOmV9fSwiNTc2YSI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGhufSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4geW59KSk7dmFyIHI9bigiNTMxMyIpLG89bigiMzA0YSIpLGk9bigiMGFjMCIpLHM9e307aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQpe3ZhciBhPS9FZGdlXC8oXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KSxjPS9NU0lFIFxkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGw9L1RyaWRlbnRcLyg/Ols3LTldfFxkezIsfSlcLi4qcnY6KFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7cy5tYWM9L01hYy8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO3ZhciB1PXMuaWU9ISEoY3x8bHx8YSk7cy5pZV92ZXJzaW9uPWM/ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw2Omw/K2xbMV06YT8rYVsxXTpudWxsLHMuZ2Vja289IXUmJi9nZWNrb1wvKFxkKykvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHMuZ2Vja29fdmVyc2lvbj1zLmdlY2tvJiYrKC9GaXJlZm94XC8oXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KXx8WzAsMF0pWzFdO3ZhciBwPSF1JiYvQ2hyb21lXC8oXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KTtzLmNocm9tZT0hIXAscy5jaHJvbWVfdmVyc2lvbj1wJiYrcFsxXSxzLmlvcz0hdSYmL0FwcGxlV2ViS2l0Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpJiYvTW9iaWxlXC9cdysvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkscy5hbmRyb2lkPS9BbmRyb2lkIFxkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHMud2Via2l0PSF1JiYiV2Via2l0QXBwZWFyYW5jZSJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUscy5zYWZhcmk9L0FwcGxlIENvbXB1dGVyLy50ZXN0KG5hdmlnYXRvci52ZW5kb3IpLHMud2Via2l0X3ZlcnNpb249cy53ZWJraXQmJisoL1xiQXBwbGVXZWJLaXRcLyhcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpfHxbMCwwXSlbMV19dmFyIGY9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7O2UrKylpZih0PXQucHJldmlvdXNTaWJsaW5nLCF0KXJldHVybiBlfSxkPWZ1bmN0aW9uKHQpe3ZhciBlPXQucGFyZW50Tm9kZTtyZXR1cm4gZSYmMTE9PWUubm9kZVR5cGU/ZS5ob3N0OmV9LGg9ZnVuY3Rpb24odCxlLG4pe3ZhciByPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7cmV0dXJuIHIuc2V0RW5kKHQsbnVsbD09bj90Lm5vZGVWYWx1ZS5sZW5ndGg6biksci5zZXRTdGFydCh0LGV8fDApLHJ9LHY9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIG4mJihnKHQsZSxuLHIsLTEpfHxnKHQsZSxuLHIsMSkpfSxtPS9eKGltZ3xicnxpbnB1dHx0ZXh0YXJlYXxocikkL2k7ZnVuY3Rpb24gZyh0LGUsbixyLG8pe2Zvcig7Oyl7aWYodD09biYmZT09cilyZXR1cm4hMDtpZihlPT0obzwwPzA6eSh0KSkpe3ZhciBpPXQucGFyZW50Tm9kZTtpZigxIT1pLm5vZGVUeXBlfHx3KHQpfHxtLnRlc3QodC5ub2RlTmFtZSl8fCJmYWxzZSI9PXQuY29udGVudEVkaXRhYmxlKXJldHVybiExO2U9Zih0KSsobzwwPzA6MSksdD1pfWVsc2V7aWYoMSE9dC5ub2RlVHlwZSlyZXR1cm4hMTt0PXQuY2hpbGROb2Rlc1tlKyhvPDA/LTE6MCldLGU9bzwwP3kodCk6MH19fWZ1bmN0aW9uIHkodCl7cmV0dXJuIDM9PXQubm9kZVR5cGU/dC5ub2RlVmFsdWUubGVuZ3RoOnQuY2hpbGROb2Rlcy5sZW5ndGh9ZnVuY3Rpb24gdyh0KXtmb3IodmFyIGUsbj10O247bj1uLnBhcmVudE5vZGUpaWYoZT1uLnBtVmlld0Rlc2MpYnJlYWs7cmV0dXJuIGUmJmUubm9kZSYmZS5ub2RlLmlzQmxvY2smJihlLmRvbT09dHx8ZS5jb250ZW50RE9NPT10KX12YXIgYj1mdW5jdGlvbih0KXt2YXIgZT10LmlzQ29sbGFwc2VkO3JldHVybiBlJiZzLmNocm9tZSYmdC5yYW5nZUNvdW50JiYhdC5nZXRSYW5nZUF0KDApLmNvbGxhcHNlZCYmKGU9ITEpLGV9O2Z1bmN0aW9uIFModCxlKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKTtyZXR1cm4gbi5pbml0RXZlbnQoImtleWRvd24iLCEwLCEwKSxuLmtleUNvZGU9dCxuLmtleT1uLmNvZGU9ZSxufWZ1bmN0aW9uIGsodCl7cmV0dXJue2xlZnQ6MCxyaWdodDp0LmlubmVyV2lkdGgsdG9wOjAsYm90dG9tOnQuaW5uZXJIZWlnaHR9fWZ1bmN0aW9uIHgodCxlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIHQ/dDp0W2VdfWZ1bmN0aW9uIEModCxlLG4pe2Zvcih2YXIgcj10LnNvbWVQcm9wKCJzY3JvbGxUaHJlc2hvbGQiKXx8MCxvPXQuc29tZVByb3AoInNjcm9sbE1hcmdpbiIpfHw1LGk9dC5kb20ub3duZXJEb2N1bWVudCxzPWkuZGVmYXVsdFZpZXcsYT1ufHx0LmRvbTs7YT1kKGEpKXtpZighYSlicmVhaztpZigxPT1hLm5vZGVUeXBlKXt2YXIgYz1hPT1pLmJvZHl8fDEhPWEubm9kZVR5cGUsbD1jP2socyk6YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx1PTAscD0wO2lmKGUudG9wPGwudG9wK3gociwidG9wIik/cD0tKGwudG9wLWUudG9wK3gobywidG9wIikpOmUuYm90dG9tPmwuYm90dG9tLXgociwiYm90dG9tIikmJihwPWUuYm90dG9tLWwuYm90dG9tK3gobywiYm90dG9tIikpLGUubGVmdDxsLmxlZnQreChyLCJsZWZ0Iik/dT0tKGwubGVmdC1lLmxlZnQreChvLCJsZWZ0IikpOmUucmlnaHQ+bC5yaWdodC14KHIsInJpZ2h0IikmJih1PWUucmlnaHQtbC5yaWdodCt4KG8sInJpZ2h0IikpLCh1fHxwKSYmKGM/cy5zY3JvbGxCeSh1LHApOihwJiYoYS5zY3JvbGxUb3ArPXApLHUmJihhLnNjcm9sbExlZnQrPXUpKSksYylicmVha319fWZ1bmN0aW9uIE8odCl7Zm9yKHZhciBlLG4scj10LmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPU1hdGgubWF4KDAsci50b3ApLGk9KHIubGVmdCtyLnJpZ2h0KS8yLHM9bysxO3M8TWF0aC5taW4oaW5uZXJIZWlnaHQsci5ib3R0b20pO3MrPTUpe3ZhciBhPXQucm9vdC5lbGVtZW50RnJvbVBvaW50KGkscyk7aWYoYSE9dC5kb20mJnQuZG9tLmNvbnRhaW5zKGEpKXt2YXIgYz1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKGMudG9wPj1vLTIwKXtlPWEsbj1jLnRvcDticmVha319fXJldHVybntyZWZET006ZSxyZWZUb3A6bixzdGFjazpNKHQuZG9tKX19ZnVuY3Rpb24gTSh0KXtmb3IodmFyIGU9W10sbj10Lm93bmVyRG9jdW1lbnQ7dDt0PWQodCkpaWYoZS5wdXNoKHtkb206dCx0b3A6dC5zY3JvbGxUb3AsbGVmdDp0LnNjcm9sbExlZnR9KSx0PT1uKWJyZWFrO3JldHVybiBlfWZ1bmN0aW9uIE4odCl7dmFyIGU9dC5yZWZET00sbj10LnJlZlRvcCxyPXQuc3RhY2ssbz1lP2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wOjA7VChyLDA9PW8/MDpvLW4pfWZ1bmN0aW9uIFQodCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXSxvPXIuZG9tLGk9ci50b3Ascz1yLmxlZnQ7by5zY3JvbGxUb3AhPWkrZSYmKG8uc2Nyb2xsVG9wPWkrZSksby5zY3JvbGxMZWZ0IT1zJiYoby5zY3JvbGxMZWZ0PXMpfX12YXIgRD1udWxsO2Z1bmN0aW9uIEEodCl7aWYodC5zZXRBY3RpdmUpcmV0dXJuIHQuc2V0QWN0aXZlKCk7aWYoRClyZXR1cm4gdC5mb2N1cyhEKTt2YXIgZT1NKHQpO3QuZm9jdXMobnVsbD09RD97Z2V0IHByZXZlbnRTY3JvbGwoKXtyZXR1cm4gRD17cHJldmVudFNjcm9sbDohMH0sITB9fTp2b2lkIDApLER8fChEPSExLFQoZSwwKSl9ZnVuY3Rpb24gRSh0LGUpe2Zvcih2YXIgbixyLG89MmU4LGk9MCxzPWUudG9wLGE9ZS50b3AsYz10LmZpcnN0Q2hpbGQsbD0wO2M7Yz1jLm5leHRTaWJsaW5nLGwrKyl7dmFyIHU9dm9pZCAwO2lmKDE9PWMubm9kZVR5cGUpdT1jLmdldENsaWVudFJlY3RzKCk7ZWxzZXtpZigzIT1jLm5vZGVUeXBlKWNvbnRpbnVlO3U9aChjKS5nZXRDbGllbnRSZWN0cygpfWZvcih2YXIgcD0wO3A8dS5sZW5ndGg7cCsrKXt2YXIgZj11W3BdO2lmKGYudG9wPD1zJiZmLmJvdHRvbT49YSl7cz1NYXRoLm1heChmLmJvdHRvbSxzKSxhPU1hdGgubWluKGYudG9wLGEpO3ZhciBkPWYubGVmdD5lLmxlZnQ/Zi5sZWZ0LWUubGVmdDpmLnJpZ2h0PGUubGVmdD9lLmxlZnQtZi5yaWdodDowO2lmKGQ8byl7bj1jLG89ZCxyPWQmJjM9PW4ubm9kZVR5cGU/e2xlZnQ6Zi5yaWdodDxlLmxlZnQ/Zi5yaWdodDpmLmxlZnQsdG9wOmUudG9wfTplLDE9PWMubm9kZVR5cGUmJmQmJihpPWwrKGUubGVmdD49KGYubGVmdCtmLnJpZ2h0KS8yPzE6MCkpO2NvbnRpbnVlfX0hbiYmKGUubGVmdD49Zi5yaWdodCYmZS50b3A+PWYudG9wfHxlLmxlZnQ+PWYubGVmdCYmZS50b3A+PWYuYm90dG9tKSYmKGk9bCsxKX19cmV0dXJuIG4mJjM9PW4ubm9kZVR5cGU/UihuLHIpOiFufHxvJiYxPT1uLm5vZGVUeXBlP3tub2RlOnQsb2Zmc2V0Oml9OkUobixyKX1mdW5jdGlvbiBSKHQsZSl7Zm9yKHZhciBuPXQubm9kZVZhbHVlLmxlbmd0aCxyPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCksbz0wO288bjtvKyspe3Iuc2V0RW5kKHQsbysxKSxyLnNldFN0YXJ0KHQsbyk7dmFyIGk9RihyLDEpO2lmKGkudG9wIT1pLmJvdHRvbSYmXyhlLGkpKXJldHVybntub2RlOnQsb2Zmc2V0Om8rKGUubGVmdD49KGkubGVmdCtpLnJpZ2h0KS8yPzE6MCl9fXJldHVybntub2RlOnQsb2Zmc2V0OjB9fWZ1bmN0aW9uIF8odCxlKXtyZXR1cm4gdC5sZWZ0Pj1lLmxlZnQtMSYmdC5sZWZ0PD1lLnJpZ2h0KzEmJnQudG9wPj1lLnRvcC0xJiZ0LnRvcDw9ZS5ib3R0b20rMX1mdW5jdGlvbiBQKHQsZSl7dmFyIG49dC5wYXJlbnROb2RlO3JldHVybiBuJiYvXmxpJC9pLnRlc3Qobi5ub2RlTmFtZSkmJmUubGVmdDx0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ/bjp0fWZ1bmN0aW9uIHoodCxlLG4pe3ZhciByPUUoZSxuKSxvPXIubm9kZSxpPXIub2Zmc2V0LHM9LTE7aWYoMT09by5ub2RlVHlwZSYmIW8uZmlyc3RDaGlsZCl7dmFyIGE9by5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtzPWEubGVmdCE9YS5yaWdodCYmbi5sZWZ0PihhLmxlZnQrYS5yaWdodCkvMj8xOi0xfXJldHVybiB0LmRvY1ZpZXcucG9zRnJvbURPTShvLGkscyl9ZnVuY3Rpb24gSSh0LGUsbixyKXtmb3IodmFyIG89LTEsaT1lOzspe2lmKGk9PXQuZG9tKWJyZWFrO3ZhciBzPXQuZG9jVmlldy5uZWFyZXN0RGVzYyhpLCEwKTtpZighcylyZXR1cm4gbnVsbDtpZihzLm5vZGUuaXNCbG9jayYmcy5wYXJlbnQpe3ZhciBhPXMuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKGEubGVmdD5yLmxlZnR8fGEudG9wPnIudG9wKW89cy5wb3NCZWZvcmU7ZWxzZXtpZighKGEucmlnaHQ8ci5sZWZ0fHxhLmJvdHRvbTxyLnRvcCkpYnJlYWs7bz1zLnBvc0FmdGVyfX1pPXMuZG9tLnBhcmVudE5vZGV9cmV0dXJuIG8+LTE/bzp0LmRvY1ZpZXcucG9zRnJvbURPTShlLG4pfWZ1bmN0aW9uIEIodCxlLG4pe3ZhciByPXQuY2hpbGROb2Rlcy5sZW5ndGg7aWYociYmbi50b3A8bi5ib3R0b20pZm9yKHZhciBvPU1hdGgubWF4KDAsTWF0aC5taW4oci0xLE1hdGguZmxvb3IociooZS50b3Atbi50b3ApLyhuLmJvdHRvbS1uLnRvcCkpLTIpKSxpPW87Oyl7dmFyIHM9dC5jaGlsZE5vZGVzW2ldO2lmKDE9PXMubm9kZVR5cGUpZm9yKHZhciBhPXMuZ2V0Q2xpZW50UmVjdHMoKSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBsPWFbY107aWYoXyhlLGwpKXJldHVybiBCKHMsZSxsKX1pZigoaT0oaSsxKSVyKT09bylicmVha31yZXR1cm4gdH1mdW5jdGlvbiBWKHQsZSl7dmFyIG4scixvLGksYT10LnJvb3Q7aWYoYS5jYXJldFBvc2l0aW9uRnJvbVBvaW50KXRyeXt2YXIgYz1hLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQoZS5sZWZ0LGUudG9wKTtjJiYobj1jLG89bi5vZmZzZXROb2RlLGk9bi5vZmZzZXQpfWNhdGNoKG0pe31pZighbyYmYS5jYXJldFJhbmdlRnJvbVBvaW50KXt2YXIgbD1hLmNhcmV0UmFuZ2VGcm9tUG9pbnQoZS5sZWZ0LGUudG9wKTtsJiYocj1sLG89ci5zdGFydENvbnRhaW5lcixpPXIuc3RhcnRPZmZzZXQpfXZhciB1LHA9YS5lbGVtZW50RnJvbVBvaW50KGUubGVmdCxlLnRvcCsxKTtpZighcHx8IXQuZG9tLmNvbnRhaW5zKDEhPXAubm9kZVR5cGU/cC5wYXJlbnROb2RlOnApKXt2YXIgZj10LmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZighXyhlLGYpKXJldHVybiBudWxsO2lmKHA9Qih0LmRvbSxlLGYpLCFwKXJldHVybiBudWxsfWlmKHA9UChwLGUpLG8pe2lmKHMuZ2Vja28mJjE9PW8ubm9kZVR5cGUmJihpPU1hdGgubWluKGksby5jaGlsZE5vZGVzLmxlbmd0aCksaTxvLmNoaWxkTm9kZXMubGVuZ3RoKSl7dmFyIGQsaD1vLmNoaWxkTm9kZXNbaV07IklNRyI9PWgubm9kZU5hbWUmJihkPWguZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLnJpZ2h0PD1lLmxlZnQmJmQuYm90dG9tPmUudG9wJiZpKyt9bz09dC5kb20mJmk9PW8uY2hpbGROb2Rlcy5sZW5ndGgtMSYmMT09by5sYXN0Q2hpbGQubm9kZVR5cGUmJmUudG9wPm8ubGFzdENoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbT91PXQuc3RhdGUuZG9jLmNvbnRlbnQuc2l6ZTowIT1pJiYxPT1vLm5vZGVUeXBlJiYiQlIiPT1vLmNoaWxkTm9kZXNbaS0xXS5ub2RlTmFtZXx8KHU9SSh0LG8saSxlKSl9bnVsbD09dSYmKHU9eih0LHAsZSkpO3ZhciB2PXQuZG9jVmlldy5uZWFyZXN0RGVzYyhwLCEwKTtyZXR1cm57cG9zOnUsaW5zaWRlOnY/di5wb3NBdFN0YXJ0LXYuYm9yZGVyOi0xfX1mdW5jdGlvbiBGKHQsZSl7dmFyIG49dC5nZXRDbGllbnRSZWN0cygpO3JldHVybiBuLmxlbmd0aD9uW2U8MD8wOm4ubGVuZ3RoLTFdOnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9ZnVuY3Rpb24gaih0LGUpe3ZhciBuPXQuZG9jVmlldy5kb21Gcm9tUG9zKGUpLHI9bi5ub2RlLG89bi5vZmZzZXQ7aWYoMz09ci5ub2RlVHlwZSYmKHMuY2hyb21lfHxzLmdlY2tvKSl7dmFyIGk9RihoKHIsbyxvKSwwKTtpZihzLmdlY2tvJiZvJiYvXHMvLnRlc3Qoci5ub2RlVmFsdWVbby0xXSkmJm88ci5ub2RlVmFsdWUubGVuZ3RoKXt2YXIgYT1GKGgocixvLTEsby0xKSwtMSk7aWYoTWF0aC5hYnMoYS5sZWZ0LWkubGVmdCk8MSYmYS50b3A9PWkudG9wKXt2YXIgYz1GKGgocixvLG8rMSksLTEpO3JldHVybiAkKGMsYy5sZWZ0PGEubGVmdCl9fXJldHVybiBpfWlmKDE9PXIubm9kZVR5cGUmJiF0LnN0YXRlLmRvYy5yZXNvbHZlKGUpLnBhcmVudC5pbmxpbmVDb250ZW50KXt2YXIgbCx1PSEwO2lmKG88ci5jaGlsZE5vZGVzLmxlbmd0aCl7dmFyIHA9ci5jaGlsZE5vZGVzW29dOzE9PXAubm9kZVR5cGUmJihsPXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpfWlmKCFsJiZvKXt2YXIgZj1yLmNoaWxkTm9kZXNbby0xXTsxPT1mLm5vZGVUeXBlJiYobD1mLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHU9ITEpfXJldHVybiBMKGx8fHIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdSl9Zm9yKHZhciBkPS0xO2Q8MjtkKz0yKWlmKGQ8MCYmbyl7dmFyIHY9dm9pZCAwLG09Mz09ci5ub2RlVHlwZT9oKHIsby0xLG8pOjM9PSh2PXIuY2hpbGROb2Rlc1tvLTFdKS5ub2RlVHlwZT9oKHYpOjE9PXYubm9kZVR5cGUmJiJCUiIhPXYubm9kZU5hbWU/djpudWxsO2lmKG0pe3ZhciBnPUYobSwxKTtpZihnLnRvcDxnLmJvdHRvbSlyZXR1cm4gJChnLCExKX19ZWxzZSBpZihkPjAmJm88eShyKSl7dmFyIHc9dm9pZCAwLGI9Mz09ci5ub2RlVHlwZT9oKHIsbyxvKzEpOjM9PSh3PXIuY2hpbGROb2Rlc1tvXSkubm9kZVR5cGU/aCh3KToxPT13Lm5vZGVUeXBlP3c6bnVsbDtpZihiKXt2YXIgUz1GKGIsLTEpO2lmKFMudG9wPFMuYm90dG9tKXJldHVybiAkKFMsITApfX1yZXR1cm4gJChGKDM9PXIubm9kZVR5cGU/aChyKTpyLDApLCExKX1mdW5jdGlvbiAkKHQsZSl7aWYoMD09dC53aWR0aClyZXR1cm4gdDt2YXIgbj1lP3QubGVmdDp0LnJpZ2h0O3JldHVybnt0b3A6dC50b3AsYm90dG9tOnQuYm90dG9tLGxlZnQ6bixyaWdodDpufX1mdW5jdGlvbiBMKHQsZSl7aWYoMD09dC5oZWlnaHQpcmV0dXJuIHQ7dmFyIG49ZT90LnRvcDp0LmJvdHRvbTtyZXR1cm57dG9wOm4sYm90dG9tOm4sbGVmdDp0LmxlZnQscmlnaHQ6dC5yaWdodH19ZnVuY3Rpb24gSCh0LGUsbil7dmFyIHI9dC5zdGF0ZSxvPXQucm9vdC5hY3RpdmVFbGVtZW50O3IhPWUmJnQudXBkYXRlU3RhdGUoZSksbyE9dC5kb20mJnQuZm9jdXMoKTt0cnl7cmV0dXJuIG4oKX1maW5hbGx5e3IhPWUmJnQudXBkYXRlU3RhdGUociksbyE9dC5kb20mJm8uZm9jdXMoKX19ZnVuY3Rpb24gVyh0LGUsbil7dmFyIHI9ZS5zZWxlY3Rpb24sbz0idXAiPT1uP3IuJGFuY2hvci5taW4oci4kaGVhZCk6ci4kYW5jaG9yLm1heChyLiRoZWFkKTtyZXR1cm4gSCh0LGUsKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPXQuZG9jVmlldy5kb21Gcm9tUG9zKG8ucG9zKSxyPWUubm9kZTs7KXt2YXIgaT10LmRvY1ZpZXcubmVhcmVzdERlc2MociwhMCk7aWYoIWkpYnJlYWs7aWYoaS5ub2RlLmlzQmxvY2spe3I9aS5kb207YnJlYWt9cj1pLmRvbS5wYXJlbnROb2RlfWZvcih2YXIgcz1qKHQsby5wb3MpLGE9ci5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKXt2YXIgYz12b2lkIDA7aWYoMT09YS5ub2RlVHlwZSljPWEuZ2V0Q2xpZW50UmVjdHMoKTtlbHNle2lmKDMhPWEubm9kZVR5cGUpY29udGludWU7Yz1oKGEsMCxhLm5vZGVWYWx1ZS5sZW5ndGgpLmdldENsaWVudFJlY3RzKCl9Zm9yKHZhciBsPTA7bDxjLmxlbmd0aDtsKyspe3ZhciB1PWNbbF07aWYodS5ib3R0b20+dS50b3AmJigidXAiPT1uP3UuYm90dG9tPHMudG9wKzE6dS50b3A+cy5ib3R0b20tMSkpcmV0dXJuITF9fXJldHVybiEwfSkpfXZhciBxPS9bXHUwNTkwLVx1MDhhY10vO2Z1bmN0aW9uIEoodCxlLG4pe3ZhciByPWUuc2VsZWN0aW9uLG89ci4kaGVhZDtpZighby5wYXJlbnQuaXNUZXh0YmxvY2spcmV0dXJuITE7dmFyIGk9by5wYXJlbnRPZmZzZXQscz0haSxhPWk9PW8ucGFyZW50LmNvbnRlbnQuc2l6ZSxjPWdldFNlbGVjdGlvbigpO3JldHVybiBxLnRlc3Qoby5wYXJlbnQudGV4dENvbnRlbnQpJiZjLm1vZGlmeT9IKHQsZSwoZnVuY3Rpb24oKXt2YXIgZT1jLmdldFJhbmdlQXQoMCkscj1jLmZvY3VzTm9kZSxpPWMuZm9jdXNPZmZzZXQscz1jLmNhcmV0QmlkaUxldmVsO2MubW9kaWZ5KCJtb3ZlIixuLCJjaGFyYWN0ZXIiKTt2YXIgYT1vLmRlcHRoP3QuZG9jVmlldy5kb21BZnRlclBvcyhvLmJlZm9yZSgpKTp0LmRvbSxsPSFhLmNvbnRhaW5zKDE9PWMuZm9jdXNOb2RlLm5vZGVUeXBlP2MuZm9jdXNOb2RlOmMuZm9jdXNOb2RlLnBhcmVudE5vZGUpfHxyPT1jLmZvY3VzTm9kZSYmaT09Yy5mb2N1c09mZnNldDtyZXR1cm4gYy5yZW1vdmVBbGxSYW5nZXMoKSxjLmFkZFJhbmdlKGUpLG51bGwhPXMmJihjLmNhcmV0QmlkaUxldmVsPXMpLGx9KSk6ImxlZnQiPT1ufHwiYmFja3dhcmQiPT1uP3M6YX12YXIgSz1udWxsLFU9bnVsbCxHPSExO2Z1bmN0aW9uIFgodCxlLG4pe3JldHVybiBLPT1lJiZVPT1uP0c6KEs9ZSxVPW4sRz0idXAiPT1ufHwiZG93biI9PW4/Vyh0LGUsbik6Sih0LGUsbikpfXZhciBZPTAsWj0xLFE9Mix0dD0zLGV0PWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMucGFyZW50PXQsdGhpcy5jaGlsZHJlbj1lLHRoaXMuZG9tPW4sbi5wbVZpZXdEZXNjPXRoaXMsdGhpcy5jb250ZW50RE9NPXIsdGhpcy5kaXJ0eT1ZfSxudD17YmVmb3JlUG9zaXRpb246e2NvbmZpZ3VyYWJsZTohMH0sc2l6ZTp7Y29uZmlndXJhYmxlOiEwfSxib3JkZXI6e2NvbmZpZ3VyYWJsZTohMH0scG9zQmVmb3JlOntjb25maWd1cmFibGU6ITB9LHBvc0F0U3RhcnQ6e2NvbmZpZ3VyYWJsZTohMH0scG9zQWZ0ZXI6e2NvbmZpZ3VyYWJsZTohMH0scG9zQXRFbmQ6e2NvbmZpZ3VyYWJsZTohMH0sY29udGVudExvc3Q6e2NvbmZpZ3VyYWJsZTohMH19O2V0LnByb3RvdHlwZS5tYXRjaGVzV2lkZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuITF9LGV0LnByb3RvdHlwZS5tYXRjaGVzTWFyaz1mdW5jdGlvbigpe3JldHVybiExfSxldC5wcm90b3R5cGUubWF0Y2hlc05vZGU9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZXQucHJvdG90eXBlLm1hdGNoZXNIYWNrPWZ1bmN0aW9uKCl7cmV0dXJuITF9LG50LmJlZm9yZVBvc2l0aW9uLmdldD1mdW5jdGlvbigpe3JldHVybiExfSxldC5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGV0LnByb3RvdHlwZS5zdG9wRXZlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sbnQuc2l6ZS5nZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTA7ZTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtlKyspdCs9dGhpcy5jaGlsZHJlbltlXS5zaXplO3JldHVybiB0fSxudC5ib3JkZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGV0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5wYXJlbnQ9bnVsbCx0aGlzLmRvbS5wbVZpZXdEZXNjPT10aGlzJiYodGhpcy5kb20ucG1WaWV3RGVzYz1udWxsKTtmb3IodmFyIHQ9MDt0PHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3QrKyl0aGlzLmNoaWxkcmVuW3RdLmRlc3Ryb3koKX0sZXQucHJvdG90eXBlLnBvc0JlZm9yZUNoaWxkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5wb3NBdFN0YXJ0O2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKXt2YXIgcj10aGlzLmNoaWxkcmVuW2VdO2lmKHI9PXQpcmV0dXJuIG47bis9ci5zaXplfX0sbnQucG9zQmVmb3JlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudC5wb3NCZWZvcmVDaGlsZCh0aGlzKX0sbnQucG9zQXRTdGFydC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQucG9zQmVmb3JlQ2hpbGQodGhpcykrdGhpcy5ib3JkZXI6MH0sbnQucG9zQWZ0ZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zQmVmb3JlK3RoaXMuc2l6ZX0sbnQucG9zQXRFbmQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zQXRTdGFydCt0aGlzLnNpemUtMip0aGlzLmJvcmRlcn0sZXQucHJvdG90eXBlLmxvY2FsUG9zRnJvbURPTT1mdW5jdGlvbih0LGUsbil7aWYodGhpcy5jb250ZW50RE9NJiZ0aGlzLmNvbnRlbnRET00uY29udGFpbnMoMT09dC5ub2RlVHlwZT90OnQucGFyZW50Tm9kZSkpe2lmKG48MCl7dmFyIHIsbztpZih0PT10aGlzLmNvbnRlbnRET00pcj10LmNoaWxkTm9kZXNbZS0xXTtlbHNle3doaWxlKHQucGFyZW50Tm9kZSE9dGhpcy5jb250ZW50RE9NKXQ9dC5wYXJlbnROb2RlO3I9dC5wcmV2aW91c1NpYmxpbmd9d2hpbGUociYmKCEobz1yLnBtVmlld0Rlc2MpfHxvLnBhcmVudCE9dGhpcykpcj1yLnByZXZpb3VzU2libGluZztyZXR1cm4gcj90aGlzLnBvc0JlZm9yZUNoaWxkKG8pK28uc2l6ZTp0aGlzLnBvc0F0U3RhcnR9dmFyIGkscztpZih0PT10aGlzLmNvbnRlbnRET00paT10LmNoaWxkTm9kZXNbZV07ZWxzZXt3aGlsZSh0LnBhcmVudE5vZGUhPXRoaXMuY29udGVudERPTSl0PXQucGFyZW50Tm9kZTtpPXQubmV4dFNpYmxpbmd9d2hpbGUoaSYmKCEocz1pLnBtVmlld0Rlc2MpfHxzLnBhcmVudCE9dGhpcykpaT1pLm5leHRTaWJsaW5nO3JldHVybiBpP3RoaXMucG9zQmVmb3JlQ2hpbGQocyk6dGhpcy5wb3NBdEVuZH12YXIgYTtpZih0aGlzLmNvbnRlbnRET00mJnRoaXMuY29udGVudERPTSE9dGhpcy5kb20mJnRoaXMuZG9tLmNvbnRhaW5zKHRoaXMuY29udGVudERPTSkpYT0yJnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24odGhpcy5jb250ZW50RE9NKTtlbHNlIGlmKHRoaXMuZG9tLmZpcnN0Q2hpbGQpe2lmKDA9PWUpZm9yKHZhciBjPXQ7O2M9Yy5wYXJlbnROb2RlKXtpZihjPT10aGlzLmRvbSl7YT0hMTticmVha31pZihjLnBhcmVudE5vZGUuZmlyc3RDaGlsZCE9YylicmVha31pZihudWxsPT1hJiZlPT10LmNoaWxkTm9kZXMubGVuZ3RoKWZvcih2YXIgbD10OztsPWwucGFyZW50Tm9kZSl7aWYobD09dGhpcy5kb20pe2E9ITA7YnJlYWt9aWYobC5wYXJlbnROb2RlLmxhc3RDaGlsZCE9bClicmVha319cmV0dXJuKG51bGw9PWE/bj4wOmEpP3RoaXMucG9zQXRFbmQ6dGhpcy5wb3NBdFN0YXJ0fSxldC5wcm90b3R5cGUubmVhcmVzdERlc2M9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ITAscj10O3I7cj1yLnBhcmVudE5vZGUpe3ZhciBvPXRoaXMuZ2V0RGVzYyhyKTtpZihvJiYoIWV8fG8ubm9kZSkpe2lmKCFufHwhby5ub2RlRE9NfHwoMT09by5ub2RlRE9NLm5vZGVUeXBlP28ubm9kZURPTS5jb250YWlucyh0KTpvLm5vZGVET009PXQpKXJldHVybiBvO249ITF9fX0sZXQucHJvdG90eXBlLmdldERlc2M9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQucG1WaWV3RGVzYyxuPWU7bjtuPW4ucGFyZW50KWlmKG49PXRoaXMpcmV0dXJuIGV9LGV0LnByb3RvdHlwZS5wb3NGcm9tRE9NPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9dDs7cj1yLnBhcmVudE5vZGUpe3ZhciBvPXRoaXMuZ2V0RGVzYyhyKTtpZihvKXJldHVybiBvLmxvY2FsUG9zRnJvbURPTSh0LGUsbil9fSxldC5wcm90b3R5cGUuZGVzY0F0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49MDtlPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2UrKyl7dmFyIHI9dGhpcy5jaGlsZHJlbltlXSxvPW4rci5zaXplO2lmKG49PXQmJm8hPW4pe3doaWxlKCFyLmJvcmRlciYmci5jaGlsZHJlbi5sZW5ndGgpcj1yLmNoaWxkcmVuWzBdO3JldHVybiByfWlmKHQ8bylyZXR1cm4gci5kZXNjQXQodC1uLXIuYm9yZGVyKTtuPW99fSxldC5wcm90b3R5cGUuZG9tRnJvbVBvcz1mdW5jdGlvbih0KXtpZighdGhpcy5jb250ZW50RE9NKXJldHVybntub2RlOnRoaXMuZG9tLG9mZnNldDowfTtmb3IodmFyIGU9MCxuPTA7O24rKyl7aWYoZT09dCl7d2hpbGUobjx0aGlzLmNoaWxkcmVuLmxlbmd0aCYmKHRoaXMuY2hpbGRyZW5bbl0uYmVmb3JlUG9zaXRpb258fHRoaXMuY2hpbGRyZW5bbl0uZG9tLnBhcmVudE5vZGUhPXRoaXMuY29udGVudERPTSkpbisrO3JldHVybntub2RlOnRoaXMuY29udGVudERPTSxvZmZzZXQ6bj09dGhpcy5jaGlsZHJlbi5sZW5ndGg/dGhpcy5jb250ZW50RE9NLmNoaWxkTm9kZXMubGVuZ3RoOmYodGhpcy5jaGlsZHJlbltuXS5kb20pfX1pZihuPT10aGlzLmNoaWxkcmVuLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcG9zaXRpb24gIit0KTt2YXIgcj10aGlzLmNoaWxkcmVuW25dLG89ZStyLnNpemU7aWYodDxvKXJldHVybiByLmRvbUZyb21Qb3ModC1lLXIuYm9yZGVyKTtlPW99fSxldC5wcm90b3R5cGUucGFyc2VSYW5nZT1mdW5jdGlvbih0LGUsbil7aWYodm9pZCAwPT09biYmKG49MCksMD09dGhpcy5jaGlsZHJlbi5sZW5ndGgpcmV0dXJue25vZGU6dGhpcy5jb250ZW50RE9NLGZyb206dCx0bzplLGZyb21PZmZzZXQ6MCx0b09mZnNldDp0aGlzLmNvbnRlbnRET00uY2hpbGROb2Rlcy5sZW5ndGh9O2Zvcih2YXIgcj0tMSxvPS0xLGk9bixzPTA7O3MrKyl7dmFyIGE9dGhpcy5jaGlsZHJlbltzXSxjPWkrYS5zaXplO2lmKC0xPT1yJiZ0PD1jKXt2YXIgbD1pK2EuYm9yZGVyO2lmKHQ+PWwmJmU8PWMtYS5ib3JkZXImJmEubm9kZSYmYS5jb250ZW50RE9NJiZ0aGlzLmNvbnRlbnRET00uY29udGFpbnMoYS5jb250ZW50RE9NKSlyZXR1cm4gYS5wYXJzZVJhbmdlKHQsZSxsKTt0PWk7Zm9yKHZhciB1PXM7dT4wO3UtLSl7dmFyIHA9dGhpcy5jaGlsZHJlblt1LTFdO2lmKHAuc2l6ZSYmcC5kb20ucGFyZW50Tm9kZT09dGhpcy5jb250ZW50RE9NJiYhcC5lbXB0eUNoaWxkQXQoMSkpe3I9ZihwLmRvbSkrMTticmVha310LT1wLnNpemV9LTE9PXImJihyPTApfWlmKHI+LTEmJmU8PWMpe2U9Yztmb3IodmFyIGQ9cysxO2Q8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZCsrKXt2YXIgaD10aGlzLmNoaWxkcmVuW2RdO2lmKGguc2l6ZSYmaC5kb20ucGFyZW50Tm9kZT09dGhpcy5jb250ZW50RE9NJiYhaC5lbXB0eUNoaWxkQXQoLTEpKXtvPWYoaC5kb20pO2JyZWFrfWUrPWguc2l6ZX0tMT09byYmKG89dGhpcy5jb250ZW50RE9NLmNoaWxkTm9kZXMubGVuZ3RoKTticmVha31pPWN9cmV0dXJue25vZGU6dGhpcy5jb250ZW50RE9NLGZyb206dCx0bzplLGZyb21PZmZzZXQ6cix0b09mZnNldDpvfX0sZXQucHJvdG90eXBlLmVtcHR5Q2hpbGRBdD1mdW5jdGlvbih0KXtpZih0aGlzLmJvcmRlcnx8IXRoaXMuY29udGVudERPTXx8IXRoaXMuY2hpbGRyZW4ubGVuZ3RoKXJldHVybiExO3ZhciBlPXRoaXMuY2hpbGRyZW5bdDwwPzA6dGhpcy5jaGlsZHJlbi5sZW5ndGgtMV07cmV0dXJuIDA9PWUuc2l6ZXx8ZS5lbXB0eUNoaWxkQXQodCl9LGV0LnByb3RvdHlwZS5kb21BZnRlclBvcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRvbUZyb21Qb3ModCksbj1lLm5vZGUscj1lLm9mZnNldDtpZigxIT1uLm5vZGVUeXBlfHxyPT1uLmNoaWxkTm9kZXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJObyBub2RlIGFmdGVyIHBvcyAiK3QpO3JldHVybiBuLmNoaWxkTm9kZXNbcl19LGV0LnByb3RvdHlwZS5zZXRTZWxlY3Rpb249ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBvPU1hdGgubWluKHQsZSksaT1NYXRoLm1heCh0LGUpLHM9MCxhPTA7czx0aGlzLmNoaWxkcmVuLmxlbmd0aDtzKyspe3ZhciBjPXRoaXMuY2hpbGRyZW5bc10sbD1hK2Muc2l6ZTtpZihvPmEmJmk8bClyZXR1cm4gYy5zZXRTZWxlY3Rpb24odC1hLWMuYm9yZGVyLGUtYS1jLmJvcmRlcixuLHIpO2E9bH12YXIgdT10aGlzLmRvbUZyb21Qb3ModCkscD10aGlzLmRvbUZyb21Qb3MoZSksZj1uLmdldFNlbGVjdGlvbigpLGQ9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtpZihyfHwhdih1Lm5vZGUsdS5vZmZzZXQsZi5hbmNob3JOb2RlLGYuYW5jaG9yT2Zmc2V0KXx8IXYocC5ub2RlLHAub2Zmc2V0LGYuZm9jdXNOb2RlLGYuZm9jdXNPZmZzZXQpKXtpZihmLmV4dGVuZClkLnNldEVuZCh1Lm5vZGUsdS5vZmZzZXQpLGQuY29sbGFwc2UoITEpO2Vsc2V7aWYodD5lKXt2YXIgaD11O3U9cCxwPWh9ZC5zZXRFbmQocC5ub2RlLHAub2Zmc2V0KSxkLnNldFN0YXJ0KHUubm9kZSx1Lm9mZnNldCl9Zi5yZW1vdmVBbGxSYW5nZXMoKSxmLmFkZFJhbmdlKGQpLGYuZXh0ZW5kJiZmLmV4dGVuZChwLm5vZGUscC5vZmZzZXQpfX0sZXQucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiF0aGlzLmNvbnRlbnRET019LG50LmNvbnRlbnRMb3N0LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRET00mJnRoaXMuY29udGVudERPTSE9dGhpcy5kb20mJiF0aGlzLmRvbS5jb250YWlucyh0aGlzLmNvbnRlbnRET00pfSxldC5wcm90b3R5cGUubWFya0RpcnR5PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAscj0wO3I8dGhpcy5jaGlsZHJlbi5sZW5ndGg7cisrKXt2YXIgbz10aGlzLmNoaWxkcmVuW3JdLGk9bitvLnNpemU7aWYobj09aT90PD1pJiZlPj1uOnQ8aSYmZT5uKXt2YXIgcz1uK28uYm9yZGVyLGE9aS1vLmJvcmRlcjtpZih0Pj1zJiZlPD1hKXJldHVybiB0aGlzLmRpcnR5PXQ9PW58fGU9PWk/UTpaLHZvaWQodCE9c3x8ZSE9YXx8IW8uY29udGVudExvc3QmJm8uZG9tLnBhcmVudE5vZGU9PXRoaXMuY29udGVudERPTT9vLm1hcmtEaXJ0eSh0LXMsZS1zKTpvLmRpcnR5PXR0KTtvLmRpcnR5PXR0fW49aX10aGlzLmRpcnR5PVF9LGV0LnByb3RvdHlwZS5tYXJrUGFyZW50c0RpcnR5PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMucGFyZW50O3Q7dD10LnBhcmVudCl7dmFyIGU9UTt0LmRpcnR5PGUmJih0LmRpcnR5PWUpfX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZXQucHJvdG90eXBlLG50KTt2YXIgcnQ9W10sb3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvKXt2YXIgaSxzPW4udHlwZS50b0RPTTtpZigiZnVuY3Rpb24iPT10eXBlb2YgcyYmKHM9cyhyLChmdW5jdGlvbigpe3JldHVybiBpP2kucGFyZW50P2kucGFyZW50LnBvc0JlZm9yZUNoaWxkKGkpOnZvaWQgMDpvfSkpKSwhbi50eXBlLnNwZWMucmF3KXtpZigxIT1zLm5vZGVUeXBlKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7YS5hcHBlbmRDaGlsZChzKSxzPWF9cy5jb250ZW50RWRpdGFibGU9ITEscy5jbGFzc0xpc3QuYWRkKCJQcm9zZU1pcnJvci13aWRnZXQiKX10LmNhbGwodGhpcyxlLHJ0LHMsbnVsbCksdGhpcy53aWRnZXQ9bixpPXRoaXN9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e2JlZm9yZVBvc2l0aW9uOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gbi5iZWZvcmVQb3NpdGlvbi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aWRnZXQudHlwZS5zaWRlPDB9LGUucHJvdG90eXBlLm1hdGNoZXNXaWRnZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGlydHk9PVkmJnQudHlwZS5lcSh0aGlzLndpZGdldC50eXBlKX0sZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7cmV0dXJue2lnbm9yZTohMH19LGUucHJvdG90eXBlLnN0b3BFdmVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLndpZGdldC5zcGVjLnN0b3BFdmVudDtyZXR1cm4hIWUmJmUodCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLG4pLGV9KGV0KSxpdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8pe3QuY2FsbCh0aGlzLGUscnQsbixudWxsKSx0aGlzLnRleHRET009cix0aGlzLnRleHQ9b310JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17c2l6ZTp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIG4uc2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0Lmxlbmd0aH0sZS5wcm90b3R5cGUubG9jYWxQb3NGcm9tRE9NPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQhPXRoaXMudGV4dERPTT90aGlzLnBvc0F0U3RhcnQrKGU/dGhpcy5zaXplOjApOnRoaXMucG9zQXRTdGFydCtlfSxlLnByb3RvdHlwZS5kb21Gcm9tUG9zPWZ1bmN0aW9uKHQpe3JldHVybntub2RlOnRoaXMudGV4dERPTSxvZmZzZXQ6dH19LGUucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiJjaGFyYWN0ZXJEYXRhIj09PXQudHlwZSYmdC50YXJnZXQubm9kZVZhbHVlPT10Lm9sZFZhbHVlfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfShldCksc3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvKXt0LmNhbGwodGhpcyxlLFtdLHIsbyksdGhpcy5tYXJrPW59cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUuY3JlYXRlPWZ1bmN0aW9uKHQsbixyLGkpe3ZhciBzPWkubm9kZVZpZXdzW24udHlwZS5uYW1lXSxhPXMmJnMobixpLHIpO3JldHVybiBhJiZhLmRvbXx8KGE9b1siRE9NU2VyaWFsaXplciJdLnJlbmRlclNwZWMoZG9jdW1lbnQsbi50eXBlLnNwZWMudG9ET00obixyKSkpLG5ldyBlKHQsbixhLmRvbSxhLmNvbnRlbnRET018fGEuZG9tKX0sZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7cmV0dXJue21hcms6dGhpcy5tYXJrLnR5cGUubmFtZSxhdHRyczp0aGlzLm1hcmsuYXR0cnMsY29udGVudEVsZW1lbnQ6dGhpcy5jb250ZW50RE9NfX0sZS5wcm90b3R5cGUubWF0Y2hlc01hcms9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGlydHkhPXR0JiZ0aGlzLm1hcmsuZXEodCl9LGUucHJvdG90eXBlLm1hcmtEaXJ0eT1mdW5jdGlvbihlLG4pe2lmKHQucHJvdG90eXBlLm1hcmtEaXJ0eS5jYWxsKHRoaXMsZSxuKSx0aGlzLmRpcnR5IT1ZKXt2YXIgcj10aGlzLnBhcmVudDt3aGlsZSghci5ub2RlKXI9ci5wYXJlbnQ7ci5kaXJ0eTx0aGlzLmRpcnR5JiYoci5kaXJ0eT10aGlzLmRpcnR5KSx0aGlzLmRpcnR5PVl9fSxlLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LG4scil7dmFyIG89ZS5jcmVhdGUodGhpcy5wYXJlbnQsdGhpcy5tYXJrLCEwLHIpLGk9dGhpcy5jaGlsZHJlbixzPXRoaXMuc2l6ZTtuPHMmJihpPVR0KGksbixzLHIpKSx0PjAmJihpPVR0KGksMCx0LHIpKTtmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKylpW2FdLnBhcmVudD1vO3JldHVybiBvLmNoaWxkcmVuPWksb30sZX0oZXQpLGF0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyxpLHMsYSxjLGwpe3QuY2FsbCh0aGlzLGUsbi5pc0xlYWY/cnQ6W10saSxzKSx0aGlzLm5vZGVET009YSx0aGlzLm5vZGU9bix0aGlzLm91dGVyRGVjbz1yLHRoaXMuaW5uZXJEZWNvPW8scyYmdGhpcy51cGRhdGVDaGlsZHJlbihjLGwpfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXtzaXplOntjb25maWd1cmFibGU6ITB9LGJvcmRlcjp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIGUuY3JlYXRlPWZ1bmN0aW9uKHQsbixyLGkscyxhKXt2YXIgYyxsLHU9cy5ub2RlVmlld3Nbbi50eXBlLm5hbWVdLHA9dSYmdShuLHMsKGZ1bmN0aW9uKCl7cmV0dXJuIGw/bC5wYXJlbnQ/bC5wYXJlbnQucG9zQmVmb3JlQ2hpbGQobCk6dm9pZCAwOmF9KSxyKSxmPXAmJnAuZG9tLGQ9cCYmcC5jb250ZW50RE9NO2lmKG4uaXNUZXh0KWlmKGYpe2lmKDMhPWYubm9kZVR5cGUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRleHQgbXVzdCBiZSByZW5kZXJlZCBhcyBhIERPTSB0ZXh0IG5vZGUiKX1lbHNlIGY9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobi50ZXh0KTtlbHNlIGZ8fChjPW9bIkRPTVNlcmlhbGl6ZXIiXS5yZW5kZXJTcGVjKGRvY3VtZW50LG4udHlwZS5zcGVjLnRvRE9NKG4pKSxmPWMuZG9tLGQ9Yy5jb250ZW50RE9NKTtkfHxuLmlzVGV4dHx8IkJSIj09Zi5ub2RlTmFtZXx8KGYuaGFzQXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKXx8KGYuY29udGVudEVkaXRhYmxlPSExKSxuLnR5cGUuc3BlYy5kcmFnZ2FibGUmJihmLmRyYWdnYWJsZT0hMCkpO3ZhciBoPWY7cmV0dXJuIGY9eXQoZixyLG4pLHA/bD1uZXcgcHQodCxuLHIsaSxmLGQsaCxwLHMsYSsxKTpuLmlzVGV4dD9uZXcgbHQodCxuLHIsaSxmLGgscyk6bmV3IGUodCxuLHIsaSxmLGQsaCxzLGErMSl9LGUucHJvdG90eXBlLnBhcnNlUnVsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodGhpcy5ub2RlLnR5cGUuc3BlYy5yZXBhcnNlSW5WaWV3KXJldHVybiBudWxsO3ZhciBlPXtub2RlOnRoaXMubm9kZS50eXBlLm5hbWUsYXR0cnM6dGhpcy5ub2RlLmF0dHJzfTtyZXR1cm4gdGhpcy5ub2RlLnR5cGUuc3BlYy5jb2RlJiYoZS5wcmVzZXJ2ZVdoaXRlc3BhY2U9ImZ1bGwiKSx0aGlzLmNvbnRlbnRET00mJiF0aGlzLmNvbnRlbnRMb3N0P2UuY29udGVudEVsZW1lbnQ9dGhpcy5jb250ZW50RE9NOmUuZ2V0Q29udGVudD1mdW5jdGlvbigpe3JldHVybiB0LmNvbnRlbnRET00/b1siRnJhZ21lbnQiXS5lbXB0eTp0Lm5vZGUuY29udGVudH0sZX0sZS5wcm90b3R5cGUubWF0Y2hlc05vZGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLmRpcnR5PT1ZJiZ0LmVxKHRoaXMubm9kZSkmJnd0KGUsdGhpcy5vdXRlckRlY28pJiZuLmVxKHRoaXMuaW5uZXJEZWNvKX0sbi5zaXplLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUubm9kZVNpemV9LG4uYm9yZGVyLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuaXNMZWFmPzA6MX0sZS5wcm90b3R5cGUudXBkYXRlQ2hpbGRyZW49ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9dGhpcy5ub2RlLmlubGluZUNvbnRlbnQsaT1lLHM9ciYmdC5jb21wb3NpbmcmJnRoaXMubG9jYWxDb21wb3NpdGlvbk5vZGUodCxlKSxhPW5ldyBTdCh0aGlzLHMmJnMubm9kZSk7Q3QodGhpcy5ub2RlLHRoaXMuaW5uZXJEZWNvLChmdW5jdGlvbihlLHMpe2Uuc3BlYy5tYXJrcz9hLnN5bmNUb01hcmtzKGUuc3BlYy5tYXJrcyxyLHQpOmUudHlwZS5zaWRlPj0wJiZhLnN5bmNUb01hcmtzKHM9PW4ubm9kZS5jaGlsZENvdW50P29bIk1hcmsiXS5ub25lOm4ubm9kZS5jaGlsZChzKS5tYXJrcyxyLHQpLGEucGxhY2VXaWRnZXQoZSx0LGkpfSksKGZ1bmN0aW9uKGUsbixvLHMpe2Euc3luY1RvTWFya3MoZS5tYXJrcyxyLHQpLGEuZmluZE5vZGVNYXRjaChlLG4sbyxzKXx8YS51cGRhdGVOZXh0Tm9kZShlLG4sbyx0LHMpfHxhLmFkZE5vZGUoZSxuLG8sdCxpKSxpKz1lLm5vZGVTaXplfSkpLGEuc3luY1RvTWFya3MocnQscix0KSx0aGlzLm5vZGUuaXNUZXh0YmxvY2smJmEuYWRkVGV4dGJsb2NrSGFja3MoKSxhLmRlc3Ryb3lSZXN0KCksKGEuY2hhbmdlZHx8dGhpcy5kaXJ0eT09USkmJihzJiZ0aGlzLnByb3RlY3RMb2NhbENvbXBvc2l0aW9uKHQscyksdGhpcy5yZW5kZXJDaGlsZHJlbigpKX0sZS5wcm90b3R5cGUucmVuZGVyQ2hpbGRyZW49ZnVuY3Rpb24oKXtmdCh0aGlzLmNvbnRlbnRET00sdGhpcy5jaGlsZHJlbikscy5pb3MmJk90KHRoaXMuZG9tKX0sZS5wcm90b3R5cGUubG9jYWxDb21wb3NpdGlvbk5vZGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LnN0YXRlLnNlbGVjdGlvbixvPW4uZnJvbSxpPW4udG87aWYoISghKHQuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgclsiVGV4dFNlbGVjdGlvbiJdKXx8bzxlfHxpPmUrdGhpcy5ub2RlLmNvbnRlbnQuc2l6ZSkpe3ZhciBzPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxhPU10KHMuZm9jdXNOb2RlLHMuZm9jdXNPZmZzZXQpO2lmKGEmJnRoaXMuZG9tLmNvbnRhaW5zKGEucGFyZW50Tm9kZSkpe3ZhciBjPWEubm9kZVZhbHVlLGw9TnQodGhpcy5ub2RlLmNvbnRlbnQsYyxvLWUsaS1lKTtyZXR1cm4gbDwwP251bGw6e25vZGU6YSxwb3M6bCx0ZXh0OmN9fX19LGUucHJvdG90eXBlLnByb3RlY3RMb2NhbENvbXBvc2l0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5ub2RlLHI9ZS5wb3Msbz1lLnRleHQ7aWYoIXRoaXMuZ2V0RGVzYyhuKSl7Zm9yKHZhciBpPW47O2k9aS5wYXJlbnROb2RlKXtpZihpLnBhcmVudE5vZGU9PXRoaXMuY29udGVudERPTSlicmVhazt3aGlsZShpLnByZXZpb3VzU2libGluZylpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaS5wcmV2aW91c1NpYmxpbmcpO3doaWxlKGkubmV4dFNpYmxpbmcpaS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkubmV4dFNpYmxpbmcpO2kucG1WaWV3RGVzYyYmKGkucG1WaWV3RGVzYz1udWxsKX12YXIgcz1uZXcgaXQodGhpcyxpLG4sbyk7dC5jb21wb3NpdGlvbk5vZGVzLnB1c2gocyksdGhpcy5jaGlsZHJlbj1UdCh0aGlzLmNoaWxkcmVuLHIscitvLmxlbmd0aCx0LHMpfX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiEodGhpcy5kaXJ0eT09dHR8fCF0LnNhbWVNYXJrdXAodGhpcy5ub2RlKSkmJih0aGlzLnVwZGF0ZUlubmVyKHQsZSxuLHIpLCEwKX0sZS5wcm90b3R5cGUudXBkYXRlSW5uZXI9ZnVuY3Rpb24odCxlLG4scil7dGhpcy51cGRhdGVPdXRlckRlY28oZSksdGhpcy5ub2RlPXQsdGhpcy5pbm5lckRlY289bix0aGlzLmNvbnRlbnRET00mJnRoaXMudXBkYXRlQ2hpbGRyZW4ocix0aGlzLnBvc0F0U3RhcnQpLHRoaXMuZGlydHk9WX0sZS5wcm90b3R5cGUudXBkYXRlT3V0ZXJEZWNvPWZ1bmN0aW9uKHQpe2lmKCF3dCh0LHRoaXMub3V0ZXJEZWNvKSl7dmFyIGU9MSE9dGhpcy5ub2RlRE9NLm5vZGVUeXBlLG49dGhpcy5kb207dGhpcy5kb209bXQodGhpcy5kb20sdGhpcy5ub2RlRE9NLHZ0KHRoaXMub3V0ZXJEZWNvLHRoaXMubm9kZSxlKSx2dCh0LHRoaXMubm9kZSxlKSksdGhpcy5kb20hPW4mJihuLnBtVmlld0Rlc2M9bnVsbCx0aGlzLmRvbS5wbVZpZXdEZXNjPXRoaXMpLHRoaXMub3V0ZXJEZWNvPXR9fSxlLnByb3RvdHlwZS5zZWxlY3ROb2RlPWZ1bmN0aW9uKCl7dGhpcy5ub2RlRE9NLmNsYXNzTGlzdC5hZGQoIlByb3NlTWlycm9yLXNlbGVjdGVkbm9kZSIpLCF0aGlzLmNvbnRlbnRET00mJnRoaXMubm9kZS50eXBlLnNwZWMuZHJhZ2dhYmxlfHwodGhpcy5kb20uZHJhZ2dhYmxlPSEwKX0sZS5wcm90b3R5cGUuZGVzZWxlY3ROb2RlPWZ1bmN0aW9uKCl7dGhpcy5ub2RlRE9NLmNsYXNzTGlzdC5yZW1vdmUoIlByb3NlTWlycm9yLXNlbGVjdGVkbm9kZSIpLCF0aGlzLmNvbnRlbnRET00mJnRoaXMubm9kZS50eXBlLnNwZWMuZHJhZ2dhYmxlfHwodGhpcy5kb20uZHJhZ2dhYmxlPSExKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsbiksZX0oZXQpO2Z1bmN0aW9uIGN0KHQsZSxuLHIsbyl7cmV0dXJuIHl0KHIsZSx0KSxuZXcgYXQobnVsbCx0LGUsbixyLHIscixvLDApfXZhciBsdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8saSxzLGEpe3QuY2FsbCh0aGlzLGUsbixyLG8saSxudWxsLHMsYSl9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnBhcnNlUnVsZT1mdW5jdGlvbigpe3JldHVybntza2lwOnRoaXMubm9kZURPTS5wYXJlbnROb2RlfHwhMH19LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiEodGhpcy5kaXJ0eT09dHR8fHRoaXMuZGlydHkhPVkmJiF0aGlzLmluUGFyZW50KCl8fCF0LnNhbWVNYXJrdXAodGhpcy5ub2RlKSkmJih0aGlzLnVwZGF0ZU91dGVyRGVjbyhlKSx0aGlzLmRpcnR5PT1ZJiZ0LnRleHQ9PXRoaXMubm9kZS50ZXh0fHx0LnRleHQ9PXRoaXMubm9kZURPTS5ub2RlVmFsdWV8fCh0aGlzLm5vZGVET00ubm9kZVZhbHVlPXQudGV4dCksdGhpcy5ub2RlPXQsdGhpcy5kaXJ0eT1ZLCEwKX0sZS5wcm90b3R5cGUuaW5QYXJlbnQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5wYXJlbnQuY29udGVudERPTSxlPXRoaXMubm9kZURPTTtlO2U9ZS5wYXJlbnROb2RlKWlmKGU9PXQpcmV0dXJuITA7cmV0dXJuITF9LGUucHJvdG90eXBlLmRvbUZyb21Qb3M9ZnVuY3Rpb24odCl7cmV0dXJue25vZGU6dGhpcy5ub2RlRE9NLG9mZnNldDp0fX0sZS5wcm90b3R5cGUubG9jYWxQb3NGcm9tRE9NPWZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gZT09dGhpcy5ub2RlRE9NP3RoaXMucG9zQXRTdGFydCtNYXRoLm1pbihuLHRoaXMubm9kZS50ZXh0Lmxlbmd0aCk6dC5wcm90b3R5cGUubG9jYWxQb3NGcm9tRE9NLmNhbGwodGhpcyxlLG4scil9LGUucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiJjaGFyYWN0ZXJEYXRhIiE9dC50eXBlJiYic2VsZWN0aW9uIiE9dC50eXBlfSxlLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LG4scil7dmFyIG89dGhpcy5ub2RlLmN1dCh0LG4pLGk9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoby50ZXh0KTtyZXR1cm4gbmV3IGUodGhpcy5wYXJlbnQsbyx0aGlzLm91dGVyRGVjbyx0aGlzLmlubmVyRGVjbyxpLGkscil9LGV9KGF0KSx1dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnBhcnNlUnVsZT1mdW5jdGlvbigpe3JldHVybntpZ25vcmU6ITB9fSxlLnByb3RvdHlwZS5tYXRjaGVzSGFjaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRpcnR5PT1ZfSxlfShldCkscHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvLGkscyxhLGMsbCx1KXt0LmNhbGwodGhpcyxlLG4scixvLGkscyxhLGwsdSksdGhpcy5zcGVjPWN9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlLG4scixvKXtpZih0aGlzLmRpcnR5PT10dClyZXR1cm4hMTtpZih0aGlzLnNwZWMudXBkYXRlKXt2YXIgaT10aGlzLnNwZWMudXBkYXRlKGUsbik7cmV0dXJuIGkmJnRoaXMudXBkYXRlSW5uZXIoZSxuLHIsbyksaX1yZXR1cm4hKCF0aGlzLmNvbnRlbnRET00mJiFlLmlzTGVhZikmJnQucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMsZSxuLHIsbyl9LGUucHJvdG90eXBlLnNlbGVjdE5vZGU9ZnVuY3Rpb24oKXt0aGlzLnNwZWMuc2VsZWN0Tm9kZT90aGlzLnNwZWMuc2VsZWN0Tm9kZSgpOnQucHJvdG90eXBlLnNlbGVjdE5vZGUuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuZGVzZWxlY3ROb2RlPWZ1bmN0aW9uKCl7dGhpcy5zcGVjLmRlc2VsZWN0Tm9kZT90aGlzLnNwZWMuZGVzZWxlY3ROb2RlKCk6dC5wcm90b3R5cGUuZGVzZWxlY3ROb2RlLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnNldFNlbGVjdGlvbj1mdW5jdGlvbihlLG4scixvKXt0aGlzLnNwZWMuc2V0U2VsZWN0aW9uP3RoaXMuc3BlYy5zZXRTZWxlY3Rpb24oZSxuLHIpOnQucHJvdG90eXBlLnNldFNlbGVjdGlvbi5jYWxsKHRoaXMsZSxuLHIsbyl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnNwZWMuZGVzdHJveSYmdGhpcy5zcGVjLmRlc3Ryb3koKSx0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnN0b3BFdmVudD1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuc3BlYy5zdG9wRXZlbnQmJnRoaXMuc3BlYy5zdG9wRXZlbnQodCl9LGUucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNwZWMuaWdub3JlTXV0YXRpb24/dGhpcy5zcGVjLmlnbm9yZU11dGF0aW9uKGUpOnQucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uLmNhbGwodGhpcyxlKX0sZX0oYXQpO2Z1bmN0aW9uIGZ0KHQsZSl7Zm9yKHZhciBuPXQuZmlyc3RDaGlsZCxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBvPWVbcl0saT1vLmRvbTtpZihpLnBhcmVudE5vZGU9PXQpe3doaWxlKGkhPW4pbj1idChuKTtuPW4ubmV4dFNpYmxpbmd9ZWxzZSB0Lmluc2VydEJlZm9yZShpLG4pO2lmKG8gaW5zdGFuY2VvZiBzdCl7dmFyIHM9bj9uLnByZXZpb3VzU2libGluZzp0Lmxhc3RDaGlsZDtmdChvLmNvbnRlbnRET00sby5jaGlsZHJlbiksbj1zP3MubmV4dFNpYmxpbmc6dC5maXJzdENoaWxkfX13aGlsZShuKW49YnQobil9ZnVuY3Rpb24gZHQodCl7dCYmKHRoaXMubm9kZU5hbWU9dCl9ZHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobnVsbCk7dmFyIGh0PVtuZXcgZHRdO2Z1bmN0aW9uIHZ0KHQsZSxuKXtpZigwPT10Lmxlbmd0aClyZXR1cm4gaHQ7Zm9yKHZhciByPW4/aHRbMF06bmV3IGR0LG89W3JdLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIHM9dFtpXS50eXBlLmF0dHJzLGE9cjtpZihzKWZvcih2YXIgYyBpbiBzLm5vZGVOYW1lJiZvLnB1c2goYT1uZXcgZHQocy5ub2RlTmFtZSkpLHMpe3ZhciBsPXNbY107bnVsbCE9bCYmKG4mJjE9PW8ubGVuZ3RoJiZvLnB1c2goYT1yPW5ldyBkdChlLmlzSW5saW5lPyJzcGFuIjoiZGl2IikpLCJjbGFzcyI9PWM/YS5jbGFzcz0oYS5jbGFzcz9hLmNsYXNzKyIgIjoiIikrbDoic3R5bGUiPT1jP2Euc3R5bGU9KGEuc3R5bGU/YS5zdHlsZSsiOyI6IiIpK2w6Im5vZGVOYW1lIiE9YyYmKGFbY109bCkpfX1yZXR1cm4gb31mdW5jdGlvbiBtdCh0LGUsbixyKXtpZihuPT1odCYmcj09aHQpcmV0dXJuIGU7Zm9yKHZhciBvPWUsaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgcz1yW2ldLGE9bltpXTtpZihpKXt2YXIgYz12b2lkIDA7YSYmYS5ub2RlTmFtZT09cy5ub2RlTmFtZSYmbyE9dCYmKGM9by5wYXJlbnROb2RlKSYmYy50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PXMubm9kZU5hbWU/bz1jOihjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQocy5ub2RlTmFtZSksYy5hcHBlbmRDaGlsZChvKSxhPWh0WzBdLG89Yyl9Z3QobyxhfHxodFswXSxzKX1yZXR1cm4gb31mdW5jdGlvbiBndCh0LGUsbil7Zm9yKHZhciByIGluIGUpImNsYXNzIj09cnx8InN0eWxlIj09cnx8Im5vZGVOYW1lIj09cnx8ciBpbiBufHx0LnJlbW92ZUF0dHJpYnV0ZShyKTtmb3IodmFyIG8gaW4gbikiY2xhc3MiIT1vJiYic3R5bGUiIT1vJiYibm9kZU5hbWUiIT1vJiZuW29dIT1lW29dJiZ0LnNldEF0dHJpYnV0ZShvLG5bb10pO2lmKGUuY2xhc3MhPW4uY2xhc3Mpe2Zvcih2YXIgaT1lLmNsYXNzP2UuY2xhc3Muc3BsaXQoIiAiKTpydCxzPW4uY2xhc3M/bi5jbGFzcy5zcGxpdCgiICIpOnJ0LGE9MDthPGkubGVuZ3RoO2ErKyktMT09cy5pbmRleE9mKGlbYV0pJiZ0LmNsYXNzTGlzdC5yZW1vdmUoaVthXSk7Zm9yKHZhciBjPTA7YzxzLmxlbmd0aDtjKyspLTE9PWkuaW5kZXhPZihzW2NdKSYmdC5jbGFzc0xpc3QuYWRkKHNbY10pfWlmKGUuc3R5bGUhPW4uc3R5bGUpe2lmKGUuc3R5bGUpe3ZhciBsLHU9L1xzKihbXHdcLVx4YTEtXHVmZmZmXSspXHMqOig/OiIoPzpcXC58W14iXSkqInwnKD86XFwufFteJ10pKid8XCguKj9cKXxbXjtdKSovZzt3aGlsZShsPXUuZXhlYyhlLnN0eWxlKSl0LnN0eWxlLnJlbW92ZVByb3BlcnR5KGxbMV0pfW4uc3R5bGUmJih0LnN0eWxlLmNzc1RleHQrPW4uc3R5bGUpfX1mdW5jdGlvbiB5dCh0LGUsbil7cmV0dXJuIG10KHQsdCxodCx2dChlLG4sMSE9dC5ub2RlVHlwZSkpfWZ1bmN0aW9uIHd0KHQsZSl7aWYodC5sZW5ndGghPWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKCF0W25dLnR5cGUuZXEoZVtuXS50eXBlKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBidCh0KXt2YXIgZT10Lm5leHRTaWJsaW5nO3JldHVybiB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksZX12YXIgU3Q9ZnVuY3Rpb24odCxlKXt0aGlzLnRvcD10LHRoaXMubG9jaz1lLHRoaXMuaW5kZXg9MCx0aGlzLnN0YWNrPVtdLHRoaXMuY2hhbmdlZD0hMTt2YXIgbj1rdCh0Lm5vZGUuY29udGVudCx0LmNoaWxkcmVuKTt0aGlzLnByZU1hdGNoZWQ9bi5ub2Rlcyx0aGlzLnByZU1hdGNoT2Zmc2V0PW4ub2Zmc2V0fTtmdW5jdGlvbiBrdCh0LGUpe2Zvcih2YXIgbj1bXSxyPXQuY2hpbGRDb3VudCxvPWUubGVuZ3RoLTE7cj4wJiZvPj0wO28tLSl7dmFyIGk9ZVtvXSxzPWkubm9kZTtpZihzKXtpZihzIT10LmNoaWxkKHItMSkpYnJlYWs7bi5wdXNoKGkpLC0tcn19cmV0dXJue25vZGVzOm4ucmV2ZXJzZSgpLG9mZnNldDpyfX1mdW5jdGlvbiB4dCh0LGUpe3JldHVybiB0LnR5cGUuc2lkZS1lLnR5cGUuc2lkZX1mdW5jdGlvbiBDdCh0LGUsbixyKXt2YXIgbz1lLmxvY2Fscyh0KSxpPTA7aWYoMCE9by5sZW5ndGgpZm9yKHZhciBzPTAsYT1bXSxjPW51bGwsbD0wOzspe2lmKHM8by5sZW5ndGgmJm9bc10udG89PWkpe3ZhciB1PW9bcysrXSxwPXZvaWQgMDt3aGlsZShzPG8ubGVuZ3RoJiZvW3NdLnRvPT1pKShwfHwocD1bdV0pKS5wdXNoKG9bcysrXSk7aWYocCl7cC5zb3J0KHh0KTtmb3IodmFyIGY9MDtmPHAubGVuZ3RoO2YrKyluKHBbZl0sbCl9ZWxzZSBuKHUsbCl9dmFyIGQ9dm9pZCAwLGg9dm9pZCAwO2lmKGMpaD0tMSxkPWMsYz1udWxsO2Vsc2V7aWYoIShsPHQuY2hpbGRDb3VudCkpYnJlYWs7aD1sLGQ9dC5jaGlsZChsKyspfWZvcih2YXIgdj0wO3Y8YS5sZW5ndGg7disrKWFbdl0udG88PWkmJmEuc3BsaWNlKHYtLSwxKTt3aGlsZShzPG8ubGVuZ3RoJiZvW3NdLmZyb209PWkpYS5wdXNoKG9bcysrXSk7dmFyIG09aStkLm5vZGVTaXplO2lmKGQuaXNUZXh0KXt2YXIgZz1tO3M8by5sZW5ndGgmJm9bc10uZnJvbTxnJiYoZz1vW3NdLmZyb20pO2Zvcih2YXIgeT0wO3k8YS5sZW5ndGg7eSsrKWFbeV0udG88ZyYmKGc9YVt5XS50byk7ZzxtJiYoYz1kLmN1dChnLWkpLGQ9ZC5jdXQoMCxnLWkpLG09ZyxoPS0xKX1yKGQsYS5sZW5ndGg/YS5zbGljZSgpOnJ0LGUuZm9yQ2hpbGQoaSxkKSxoKSxpPW19ZWxzZSBmb3IodmFyIHc9MDt3PHQuY2hpbGRDb3VudDt3Kyspe3ZhciBiPXQuY2hpbGQodyk7cihiLG8sZS5mb3JDaGlsZChpLGIpLHcpLGkrPWIubm9kZVNpemV9fWZ1bmN0aW9uIE90KHQpe2lmKCJVTCI9PXQubm9kZU5hbWV8fCJPTCI9PXQubm9kZU5hbWUpe3ZhciBlPXQuc3R5bGUuY3NzVGV4dDt0LnN0eWxlLmNzc1RleHQ9ZSsiOyBsaXN0LXN0eWxlOiBzcXVhcmUgIWltcG9ydGFudCIsd2luZG93LmdldENvbXB1dGVkU3R5bGUodCkubGlzdFN0eWxlLHQuc3R5bGUuY3NzVGV4dD1lfX1mdW5jdGlvbiBNdCh0LGUpe2Zvcig7Oyl7aWYoMz09dC5ub2RlVHlwZSlyZXR1cm4gdDtpZigxPT10Lm5vZGVUeXBlJiZlPjApe2lmKHQuY2hpbGROb2Rlcy5sZW5ndGg+ZSYmMz09dC5jaGlsZE5vZGVzW2VdLm5vZGVUeXBlKXJldHVybiB0LmNoaWxkTm9kZXNbZV07dD10LmNoaWxkTm9kZXNbZS0xXSxlPXkodCl9ZWxzZXtpZighKDE9PXQubm9kZVR5cGUmJmU8dC5jaGlsZE5vZGVzLmxlbmd0aCkpcmV0dXJuIG51bGw7dD10LmNoaWxkTm9kZXNbZV0sZT0wfX19ZnVuY3Rpb24gTnQodCxlLG4scil7Zm9yKHZhciBvPSIiLGk9MCxzPTA7aTx0LmNoaWxkQ291bnQ7aSsrKXt2YXIgYT10LmNoaWxkKGkpLGM9cythLm5vZGVTaXplO2lmKGEuaXNUZXh0KXtpZihvKz1hLnRleHQsYz49cil7dmFyIGw9Yy1vLmxlbmd0aCx1PW8ubGFzdEluZGV4T2YoZSk7d2hpbGUodT4tMSYmbCt1Pm4pdT1vLmxhc3RJbmRleE9mKGUsdS0xKTtpZih1Pi0xJiZsK3UrZS5sZW5ndGg+PXIpcmV0dXJuIGwrdTtpZihjPnIpYnJlYWt9fWVsc2Ugbz0iIjtzPWN9cmV0dXJuLTF9ZnVuY3Rpb24gVHQodCxlLG4scixvKXtmb3IodmFyIGk9W10scz0wLGE9MDtzPHQubGVuZ3RoO3MrKyl7dmFyIGM9dFtzXSxsPWEsdT1hKz1jLnNpemU7bD49bnx8dTw9ZT9pLnB1c2goYyk6KGw8ZSYmaS5wdXNoKGMuc2xpY2UoMCxlLWwscikpLG8mJihpLnB1c2gobyksbz1udWxsKSx1Pm4mJmkucHVzaChjLnNsaWNlKG4tbCxjLnNpemUscikpKX1yZXR1cm4gaX1mdW5jdGlvbiBEdCh0LGUpe3ZhciBuPXQuc2VsZWN0aW9uLG89bi4kYW5jaG9yLGk9bi4kaGVhZCxzPWU+MD9vLm1heChpKTpvLm1pbihpKSxhPXMucGFyZW50LmlubGluZUNvbnRlbnQ/cy5kZXB0aD90LmRvYy5yZXNvbHZlKGU+MD9zLmFmdGVyKCk6cy5iZWZvcmUoKSk6bnVsbDpzO3JldHVybiBhJiZyWyJTZWxlY3Rpb24iXS5maW5kRnJvbShhLGUpfWZ1bmN0aW9uIEF0KHQsZSl7cmV0dXJuIHQuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oZSkuc2Nyb2xsSW50b1ZpZXcoKSksITB9ZnVuY3Rpb24gRXQodCxlLG4pe3ZhciBvPXQuc3RhdGUuc2VsZWN0aW9uO2lmKG8gaW5zdGFuY2VvZiByWyJUZXh0U2VsZWN0aW9uIl0pe2lmKCFvLmVtcHR5fHxuLmluZGV4T2YoInMiKT4tMSlyZXR1cm4hMTtpZih0LmVuZE9mVGV4dGJsb2NrKGU+MD8icmlnaHQiOiJsZWZ0Iikpe3ZhciBpPUR0KHQuc3RhdGUsZSk7cmV0dXJuISEoaSYmaSBpbnN0YW5jZW9mIHJbIk5vZGVTZWxlY3Rpb24iXSkmJkF0KHQsaSl9dmFyIGEsYz1vLiRoZWFkLGw9Yy50ZXh0T2Zmc2V0P251bGw6ZTwwP2Mubm9kZUJlZm9yZTpjLm5vZGVBZnRlcjtpZighbHx8bC5pc1RleHQpcmV0dXJuITE7dmFyIHU9ZTwwP2MucG9zLWwubm9kZVNpemU6Yy5wb3M7cmV0dXJuISEobC5pc0F0b218fChhPXQuZG9jVmlldy5kZXNjQXQodSkpJiYhYS5jb250ZW50RE9NKSYmKHJbIk5vZGVTZWxlY3Rpb24iXS5pc1NlbGVjdGFibGUobCk/QXQodCxuZXcgclsiTm9kZVNlbGVjdGlvbiJdKGU8MD90LnN0YXRlLmRvYy5yZXNvbHZlKGMucG9zLWwubm9kZVNpemUpOmMpKTohIXMud2Via2l0JiZBdCh0LG5ldyByWyJUZXh0U2VsZWN0aW9uIl0odC5zdGF0ZS5kb2MucmVzb2x2ZShlPDA/dTp1K2wubm9kZVNpemUpKSkpfWlmKG8gaW5zdGFuY2VvZiByWyJOb2RlU2VsZWN0aW9uIl0mJm8ubm9kZS5pc0lubGluZSlyZXR1cm4gQXQodCxuZXcgclsiVGV4dFNlbGVjdGlvbiJdKGU+MD9vLiR0bzpvLiRmcm9tKSk7dmFyIHA9RHQodC5zdGF0ZSxlKTtyZXR1cm4hIXAmJkF0KHQscCl9ZnVuY3Rpb24gUnQodCl7cmV0dXJuIDM9PXQubm9kZVR5cGU/dC5ub2RlVmFsdWUubGVuZ3RoOnQuY2hpbGROb2Rlcy5sZW5ndGh9ZnVuY3Rpb24gX3QodCl7dmFyIGU9dC5wbVZpZXdEZXNjO3JldHVybiBlJiYwPT1lLnNpemUmJih0Lm5leHRTaWJsaW5nfHwiQlIiIT10Lm5vZGVOYW1lKX1mdW5jdGlvbiBQdCh0KXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj1lLmZvY3VzTm9kZSxyPWUuZm9jdXNPZmZzZXQ7aWYobil7dmFyIG8saSxhPSExO2ZvcihzLmdlY2tvJiYxPT1uLm5vZGVUeXBlJiZyPFJ0KG4pJiZfdChuLmNoaWxkTm9kZXNbcl0pJiYoYT0hMCk7OylpZihyPjApe2lmKDEhPW4ubm9kZVR5cGUpYnJlYWs7dmFyIGM9bi5jaGlsZE5vZGVzW3ItMV07aWYoX3QoYykpbz1uLGk9LS1yO2Vsc2V7aWYoMyE9Yy5ub2RlVHlwZSlicmVhaztuPWMscj1uLm5vZGVWYWx1ZS5sZW5ndGh9fWVsc2V7aWYoSXQobikpYnJlYWs7dmFyIGw9bi5wcmV2aW91c1NpYmxpbmc7d2hpbGUobCYmX3QobCkpbz1uLnBhcmVudE5vZGUsaT1mKGwpLGw9bC5wcmV2aW91c1NpYmxpbmc7aWYobCluPWwscj1SdChuKTtlbHNle2lmKG49bi5wYXJlbnROb2RlLG49PXQuZG9tKWJyZWFrO3I9MH19YT9CdCh0LGUsbixyKTpvJiZCdCh0LGUsbyxpKX19ZnVuY3Rpb24genQodCl7dmFyIGU9dC5yb290LmdldFNlbGVjdGlvbigpLG49ZS5mb2N1c05vZGUscj1lLmZvY3VzT2Zmc2V0O2lmKG4pe2Zvcih2YXIgbyxpLHM9UnQobik7OylpZihyPHMpe2lmKDEhPW4ubm9kZVR5cGUpYnJlYWs7dmFyIGE9bi5jaGlsZE5vZGVzW3JdO2lmKCFfdChhKSlicmVhaztvPW4saT0rK3J9ZWxzZXtpZihJdChuKSlicmVhazt2YXIgYz1uLm5leHRTaWJsaW5nO3doaWxlKGMmJl90KGMpKW89Yy5wYXJlbnROb2RlLGk9ZihjKSsxLGM9Yy5uZXh0U2libGluZztpZihjKW49YyxyPTAscz1SdChuKTtlbHNle2lmKG49bi5wYXJlbnROb2RlLG49PXQuZG9tKWJyZWFrO3I9cz0wfX1vJiZCdCh0LGUsbyxpKX19ZnVuY3Rpb24gSXQodCl7dmFyIGU9dC5wbVZpZXdEZXNjO3JldHVybiBlJiZlLm5vZGUmJmUubm9kZS5pc0Jsb2NrfWZ1bmN0aW9uIEJ0KHQsZSxuLHIpe2lmKGIoZSkpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7by5zZXRFbmQobixyKSxvLnNldFN0YXJ0KG4sciksZS5yZW1vdmVBbGxSYW5nZXMoKSxlLmFkZFJhbmdlKG8pfWVsc2UgZS5leHRlbmQmJmUuZXh0ZW5kKG4scik7dC5kb21PYnNlcnZlci5zZXRDdXJTZWxlY3Rpb24oKX1mdW5jdGlvbiBWdCh0LGUsbil7dmFyIG89dC5zdGF0ZS5zZWxlY3Rpb247aWYobyBpbnN0YW5jZW9mIHJbIlRleHRTZWxlY3Rpb24iXSYmIW8uZW1wdHl8fG4uaW5kZXhPZigicyIpPi0xKXJldHVybiExO3ZhciBpPW8uJGZyb20scz1vLiR0bztpZighaS5wYXJlbnQuaW5saW5lQ29udGVudHx8dC5lbmRPZlRleHRibG9jayhlPDA/InVwIjoiZG93biIpKXt2YXIgYT1EdCh0LnN0YXRlLGUpO2lmKGEmJmEgaW5zdGFuY2VvZiByWyJOb2RlU2VsZWN0aW9uIl0pcmV0dXJuIEF0KHQsYSl9aWYoIWkucGFyZW50LmlubGluZUNvbnRlbnQpe3ZhciBjPXJbIlNlbGVjdGlvbiJdLmZpbmRGcm9tKGU8MD9pOnMsZSk7cmV0dXJuIWN8fEF0KHQsYyl9cmV0dXJuITF9ZnVuY3Rpb24gRnQodCxlKXtpZighKHQuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgclsiVGV4dFNlbGVjdGlvbiJdKSlyZXR1cm4hMDt2YXIgbj10LnN0YXRlLnNlbGVjdGlvbixvPW4uJGhlYWQsaT1uLiRhbmNob3Iscz1uLmVtcHR5O2lmKCFvLnNhbWVQYXJlbnQoaSkpcmV0dXJuITA7aWYoIXMpcmV0dXJuITE7aWYodC5lbmRPZlRleHRibG9jayhlPjA/ImZvcndhcmQiOiJiYWNrd2FyZCIpKXJldHVybiEwO3ZhciBhPSFvLnRleHRPZmZzZXQmJihlPDA/by5ub2RlQmVmb3JlOm8ubm9kZUFmdGVyKTtpZihhJiYhYS5pc1RleHQpe3ZhciBjPXQuc3RhdGUudHI7cmV0dXJuIGU8MD9jLmRlbGV0ZShvLnBvcy1hLm5vZGVTaXplLG8ucG9zKTpjLmRlbGV0ZShvLnBvcyxvLnBvcythLm5vZGVTaXplKSx0LmRpc3BhdGNoKGMpLCEwfXJldHVybiExfWZ1bmN0aW9uIGp0KHQsZSxuKXt0LmRvbU9ic2VydmVyLnN0b3AoKSxlLmNvbnRlbnRFZGl0YWJsZT1uLHQuZG9tT2JzZXJ2ZXIuc3RhcnQoKX1mdW5jdGlvbiAkdCh0KXtpZihzLmNocm9tZSYmISh0LnN0YXRlLnNlbGVjdGlvbi4kaGVhZC5wYXJlbnRPZmZzZXQ+MCkpe3ZhciBlPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxuPWUuZm9jdXNOb2RlLHI9ZS5mb2N1c09mZnNldDtpZihuJiYxPT1uLm5vZGVUeXBlJiYwPT1yJiZuLmZpcnN0Q2hpbGQmJiJmYWxzZSI9PW4uZmlyc3RDaGlsZC5jb250ZW50RWRpdGFibGUpe3ZhciBvPW4uZmlyc3RDaGlsZDtqdCh0LG8sITApLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGp0KHQsbywhMSl9KSwyMCl9fX1mdW5jdGlvbiBMdCh0KXt2YXIgZT0iIjtyZXR1cm4gdC5jdHJsS2V5JiYoZSs9ImMiKSx0Lm1ldGFLZXkmJihlKz0ibSIpLHQuYWx0S2V5JiYoZSs9ImEiKSx0LnNoaWZ0S2V5JiYoZSs9InMiKSxlfWZ1bmN0aW9uIEh0KHQsZSl7dmFyIG49ZS5rZXlDb2RlLHI9THQoZSk7cmV0dXJuIDg9PW58fHMubWFjJiY3Mj09biYmImMiPT1yP0Z0KHQsLTEpfHxQdCh0KTo0Nj09bnx8cy5tYWMmJjY4PT1uJiYiYyI9PXI/RnQodCwxKXx8enQodCk6MTM9PW58fDI3PT1ufHwoMzc9PW4/RXQodCwtMSxyKXx8UHQodCk6Mzk9PW4/RXQodCwxLHIpfHx6dCh0KTozOD09bj9WdCh0LC0xLHIpfHxQdCh0KTo0MD09bj8kdCh0KXx8VnQodCwxLHIpfHx6dCh0KTpyPT0ocy5tYWM/Im0iOiJjIikmJig2Nj09bnx8NzM9PW58fDg5PT1ufHw5MD09bikpfWZ1bmN0aW9uIFd0KHQsZSl7dmFyIG4sbyxpPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxzPXQuc3RhdGUuZG9jLGE9dC5kb2NWaWV3Lm5lYXJlc3REZXNjKGkuZm9jdXNOb2RlKSxjPWEmJjA9PWEuc2l6ZSxsPXQuZG9jVmlldy5wb3NGcm9tRE9NKGkuZm9jdXNOb2RlLGkuZm9jdXNPZmZzZXQpLHU9cy5yZXNvbHZlKGwpO2lmKGIoaSkpe249dTt3aGlsZShhJiYhYS5ub2RlKWE9YS5wYXJlbnQ7aWYoYSYmYS5ub2RlLmlzQXRvbSYmclsiTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZShhLm5vZGUpJiZhLnBhcmVudCl7dmFyIHA9YS5wb3NCZWZvcmU7bz1uZXcgclsiTm9kZVNlbGVjdGlvbiJdKGw9PXA/dTpzLnJlc29sdmUocCkpfX1lbHNlIG49cy5yZXNvbHZlKHQuZG9jVmlldy5wb3NGcm9tRE9NKGkuYW5jaG9yTm9kZSxpLmFuY2hvck9mZnNldCkpO2lmKCFvKXt2YXIgZj0icG9pbnRlciI9PWV8fHQuc3RhdGUuc2VsZWN0aW9uLmhlYWQ8dS5wb3MmJiFjPzE6LTE7bz1adCh0LG4sdSxmKX1yZXR1cm4gb31mdW5jdGlvbiBxdCh0LGUpe3ZhciBuPXQuc3RhdGUuc2VsZWN0aW9uO2lmKFh0KHQsbiksdC5lZGl0YWJsZT90Lmhhc0ZvY3VzKCk6dGUodCkmJmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuY29udGFpbnModC5kb20pKXtpZih0LmRvbU9ic2VydmVyLmRpc2Nvbm5lY3RTZWxlY3Rpb24oKSx0LmN1cnNvcldyYXBwZXIpR3QodCk7ZWxzZXt2YXIgbyxpLHM9bi5hbmNob3IsYT1uLmhlYWQ7IUp0fHxuIGluc3RhbmNlb2YgclsiVGV4dFNlbGVjdGlvbiJdfHwobi4kZnJvbS5wYXJlbnQuaW5saW5lQ29udGVudHx8KG89S3QodCxuLmZyb20pKSxuLmVtcHR5fHxuLiRmcm9tLnBhcmVudC5pbmxpbmVDb250ZW50fHwoaT1LdCh0LG4udG8pKSksdC5kb2NWaWV3LnNldFNlbGVjdGlvbihzLGEsdC5yb290LGUpLEp0JiYobyYmKG8uY29udGVudEVkaXRhYmxlPSJmYWxzZSIpLGkmJihpLmNvbnRlbnRFZGl0YWJsZT0iZmFsc2UiKSksbi52aXNpYmxlP3QuZG9tLmNsYXNzTGlzdC5yZW1vdmUoIlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb24iKTpzIT1hJiYodC5kb20uY2xhc3NMaXN0LmFkZCgiUHJvc2VNaXJyb3ItaGlkZXNlbGVjdGlvbiIpLCJvbnNlbGVjdGlvbmNoYW5nZSJpbiBkb2N1bWVudCYmVXQodCkpfXQuZG9tT2JzZXJ2ZXIuc2V0Q3VyU2VsZWN0aW9uKCksdC5kb21PYnNlcnZlci5jb25uZWN0U2VsZWN0aW9uKCl9fVN0LnByb3RvdHlwZS5nZXRQcmVNYXRjaD1mdW5jdGlvbih0KXtyZXR1cm4gdD49dGhpcy5wcmVNYXRjaE9mZnNldD90aGlzLnByZU1hdGNoZWRbdC10aGlzLnByZU1hdGNoT2Zmc2V0XTpudWxsfSxTdC5wcm90b3R5cGUuZGVzdHJveUJldHdlZW49ZnVuY3Rpb24odCxlKXtpZih0IT1lKXtmb3IodmFyIG49dDtuPGU7bisrKXRoaXMudG9wLmNoaWxkcmVuW25dLmRlc3Ryb3koKTt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodCxlLXQpLHRoaXMuY2hhbmdlZD0hMH19LFN0LnByb3RvdHlwZS5kZXN0cm95UmVzdD1mdW5jdGlvbigpe3RoaXMuZGVzdHJveUJldHdlZW4odGhpcy5pbmRleCx0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGgpfSxTdC5wcm90b3R5cGUuc3luY1RvTWFya3M9ZnVuY3Rpb24odCxlLG4pe3ZhciByPTAsbz10aGlzLnN0YWNrLmxlbmd0aD4+MSxpPU1hdGgubWluKG8sdC5sZW5ndGgpO3doaWxlKHI8aSYmKHI9PW8tMT90aGlzLnRvcDp0aGlzLnN0YWNrW3IrMTw8MV0pLm1hdGNoZXNNYXJrKHRbcl0pJiYhMSE9PXRbcl0udHlwZS5zcGVjLnNwYW5uaW5nKXIrKzt3aGlsZShyPG8pdGhpcy5kZXN0cm95UmVzdCgpLHRoaXMudG9wLmRpcnR5PVksdGhpcy5pbmRleD10aGlzLnN0YWNrLnBvcCgpLHRoaXMudG9wPXRoaXMuc3RhY2sucG9wKCksby0tO3doaWxlKG88dC5sZW5ndGgpe3RoaXMuc3RhY2sucHVzaCh0aGlzLnRvcCx0aGlzLmluZGV4KzEpO2Zvcih2YXIgcz0tMSxhPXRoaXMuaW5kZXg7YTxNYXRoLm1pbih0aGlzLmluZGV4KzMsdGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoKTthKyspaWYodGhpcy50b3AuY2hpbGRyZW5bYV0ubWF0Y2hlc01hcmsodFtvXSkpe3M9YTticmVha31pZihzPi0xKXM+dGhpcy5pbmRleCYmKHRoaXMuY2hhbmdlZD0hMCx0aGlzLmRlc3Ryb3lCZXR3ZWVuKHRoaXMuaW5kZXgscykpLHRoaXMudG9wPXRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXhdO2Vsc2V7dmFyIGM9c3QuY3JlYXRlKHRoaXMudG9wLHRbb10sZSxuKTt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCwwLGMpLHRoaXMudG9wPWMsdGhpcy5jaGFuZ2VkPSEwfXRoaXMuaW5kZXg9MCxvKyt9fSxTdC5wcm90b3R5cGUuZmluZE5vZGVNYXRjaD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz0tMSxpPXI8MD92b2lkIDA6dGhpcy5nZXRQcmVNYXRjaChyKSxzPXRoaXMudG9wLmNoaWxkcmVuO2lmKGkmJmkubWF0Y2hlc05vZGUodCxlLG4pKW89cy5pbmRleE9mKGkpO2Vsc2UgZm9yKHZhciBhPXRoaXMuaW5kZXgsYz1NYXRoLm1pbihzLmxlbmd0aCxhKzUpO2E8YzthKyspe3ZhciBsPXNbYV07aWYobC5tYXRjaGVzTm9kZSh0LGUsbikmJnRoaXMucHJlTWF0Y2hlZC5pbmRleE9mKGwpPDApe289YTticmVha319cmV0dXJuIShvPDApJiYodGhpcy5kZXN0cm95QmV0d2Vlbih0aGlzLmluZGV4LG8pLHRoaXMuaW5kZXgrKywhMCl9LFN0LnByb3RvdHlwZS51cGRhdGVOZXh0Tm9kZT1mdW5jdGlvbih0LGUsbixyLG8pe2lmKHRoaXMuaW5kZXg9PXRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aClyZXR1cm4hMTt2YXIgaT10aGlzLnRvcC5jaGlsZHJlblt0aGlzLmluZGV4XTtpZihpIGluc3RhbmNlb2YgYXQpe3ZhciBzPXRoaXMucHJlTWF0Y2hlZC5pbmRleE9mKGkpO2lmKHM+LTEmJnMrdGhpcy5wcmVNYXRjaE9mZnNldCE9bylyZXR1cm4hMTt2YXIgYT1pLmRvbSxjPXRoaXMubG9jayYmKGE9PXRoaXMubG9ja3x8MT09YS5ub2RlVHlwZSYmYS5jb250YWlucyh0aGlzLmxvY2sucGFyZW50Tm9kZSkpJiYhKHQuaXNUZXh0JiZpLm5vZGUmJmkubm9kZS5pc1RleHQmJmkubm9kZURPTS5ub2RlVmFsdWU9PXQudGV4dCYmaS5kaXJ0eSE9dHQmJnd0KGUsaS5vdXRlckRlY28pKTtpZighYyYmaS51cGRhdGUodCxlLG4scikpcmV0dXJuIGkuZG9tIT1hJiYodGhpcy5jaGFuZ2VkPSEwKSx0aGlzLmluZGV4KyssITB9cmV0dXJuITF9LFN0LnByb3RvdHlwZS5hZGROb2RlPWZ1bmN0aW9uKHQsZSxuLHIsbyl7dGhpcy50b3AuY2hpbGRyZW4uc3BsaWNlKHRoaXMuaW5kZXgrKywwLGF0LmNyZWF0ZSh0aGlzLnRvcCx0LGUsbixyLG8pKSx0aGlzLmNoYW5nZWQ9ITB9LFN0LnByb3RvdHlwZS5wbGFjZVdpZGdldD1mdW5jdGlvbih0LGUsbil7aWYodGhpcy5pbmRleDx0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGgmJnRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXhdLm1hdGNoZXNXaWRnZXQodCkpdGhpcy5pbmRleCsrO2Vsc2V7dmFyIHI9bmV3IG90KHRoaXMudG9wLHQsZSxuKTt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCsrLDAsciksdGhpcy5jaGFuZ2VkPSEwfX0sU3QucHJvdG90eXBlLmFkZFRleHRibG9ja0hhY2tzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleC0xXTt3aGlsZSh0IGluc3RhbmNlb2Ygc3QpdD10LmNoaWxkcmVuW3QuY2hpbGRyZW4ubGVuZ3RoLTFdO2lmKCF0fHwhKHQgaW5zdGFuY2VvZiBsdCl8fC9cbiQvLnRlc3QodC5ub2RlLnRleHQpKWlmKHRoaXMuaW5kZXg8dGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoJiZ0aGlzLnRvcC5jaGlsZHJlblt0aGlzLmluZGV4XS5tYXRjaGVzSGFjaygpKXRoaXMuaW5kZXgrKztlbHNle3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJyIik7dGhpcy50b3AuY2hpbGRyZW4uc3BsaWNlKHRoaXMuaW5kZXgrKywwLG5ldyB1dCh0aGlzLnRvcCxydCxlLG51bGwpKSx0aGlzLmNoYW5nZWQ9ITB9fTt2YXIgSnQ9cy5zYWZhcml8fHMuY2hyb21lJiZzLmNocm9tZV92ZXJzaW9uPDYzO2Z1bmN0aW9uIEt0KHQsZSl7dmFyIG49dC5kb2NWaWV3LmRvbUZyb21Qb3MoZSkscj1uLm5vZGUsbz1uLm9mZnNldCxpPW88ci5jaGlsZE5vZGVzLmxlbmd0aD9yLmNoaWxkTm9kZXNbb106bnVsbCxzPW8/ci5jaGlsZE5vZGVzW28tMV06bnVsbDtpZigoIWl8fCJmYWxzZSI9PWkuY29udGVudEVkaXRhYmxlKSYmKCFzfHwiZmFsc2UiPT1zLmNvbnRlbnRFZGl0YWJsZSkpe2lmKGkpcmV0dXJuIGkuY29udGVudEVkaXRhYmxlPSJ0cnVlIixpO2lmKHMpcmV0dXJuIHMuY29udGVudEVkaXRhYmxlPSJ0cnVlIixzfX1mdW5jdGlvbiBVdCh0KXt2YXIgZT10LmRvbS5vd25lckRvY3VtZW50O2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIix0LmhpZGVTZWxlY3Rpb25HdWFyZCk7dmFyIG49dC5yb290LmdldFNlbGVjdGlvbigpLHI9bi5hbmNob3JOb2RlLG89bi5hbmNob3JPZmZzZXQ7ZS5hZGRFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLHQuaGlkZVNlbGVjdGlvbkd1YXJkPWZ1bmN0aW9uKCl7bi5hbmNob3JOb2RlPT1yJiZuLmFuY2hvck9mZnNldD09b3x8KGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIix0LmhpZGVTZWxlY3Rpb25HdWFyZCksdC5kb20uY2xhc3NMaXN0LnJlbW92ZSgiUHJvc2VNaXJyb3ItaGlkZXNlbGVjdGlvbiIpKX0pfWZ1bmN0aW9uIEd0KHQpe3ZhciBlPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxuPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCkscj10LmN1cnNvcldyYXBwZXIuZG9tLG89IklNRyI9PXIubm9kZU5hbWU7bz9uLnNldEVuZChyLnBhcmVudE5vZGUsZihyKSsxKTpuLnNldEVuZChyLDApLG4uY29sbGFwc2UoITEpLGUucmVtb3ZlQWxsUmFuZ2VzKCksZS5hZGRSYW5nZShuKSwhbyYmIXQuc3RhdGUuc2VsZWN0aW9uLnZpc2libGUmJnMuaWUmJnMuaWVfdmVyc2lvbjw9MTEmJihyLmRpc2FibGVkPSEwLHIuZGlzYWJsZWQ9ITEpfWZ1bmN0aW9uIFh0KHQsZSl7aWYoZSBpbnN0YW5jZW9mIHJbIk5vZGVTZWxlY3Rpb24iXSl7dmFyIG49dC5kb2NWaWV3LmRlc2NBdChlLmZyb20pO24hPXQubGFzdFNlbGVjdGVkVmlld0Rlc2MmJihZdCh0KSxuJiZuLnNlbGVjdE5vZGUoKSx0Lmxhc3RTZWxlY3RlZFZpZXdEZXNjPW4pfWVsc2UgWXQodCl9ZnVuY3Rpb24gWXQodCl7dC5sYXN0U2VsZWN0ZWRWaWV3RGVzYyYmKHQubGFzdFNlbGVjdGVkVmlld0Rlc2MucGFyZW50JiZ0Lmxhc3RTZWxlY3RlZFZpZXdEZXNjLmRlc2VsZWN0Tm9kZSgpLHQubGFzdFNlbGVjdGVkVmlld0Rlc2M9bnVsbCl9ZnVuY3Rpb24gWnQodCxlLG4sbyl7cmV0dXJuIHQuc29tZVByb3AoImNyZWF0ZVNlbGVjdGlvbkJldHdlZW4iLChmdW5jdGlvbihyKXtyZXR1cm4gcih0LGUsbil9KSl8fHJbIlRleHRTZWxlY3Rpb24iXS5iZXR3ZWVuKGUsbixvKX1mdW5jdGlvbiBRdCh0KXtyZXR1cm4oIXQuZWRpdGFibGV8fHQucm9vdC5hY3RpdmVFbGVtZW50PT10LmRvbSkmJnRlKHQpfWZ1bmN0aW9uIHRlKHQpe3ZhciBlPXQucm9vdC5nZXRTZWxlY3Rpb24oKTtpZighZS5hbmNob3JOb2RlKXJldHVybiExO3RyeXtyZXR1cm4gdC5kb20uY29udGFpbnMoMz09ZS5hbmNob3JOb2RlLm5vZGVUeXBlP2UuYW5jaG9yTm9kZS5wYXJlbnROb2RlOmUuYW5jaG9yTm9kZSkmJih0LmVkaXRhYmxlfHx0LmRvbS5jb250YWlucygzPT1lLmZvY3VzTm9kZS5ub2RlVHlwZT9lLmZvY3VzTm9kZS5wYXJlbnROb2RlOmUuZm9jdXNOb2RlKSl9Y2F0Y2gobil7cmV0dXJuITF9fWZ1bmN0aW9uIGVlKHQpe3ZhciBlPXQuZG9jVmlldy5kb21Gcm9tUG9zKHQuc3RhdGUuc2VsZWN0aW9uLmFuY2hvciksbj10LnJvb3QuZ2V0U2VsZWN0aW9uKCk7cmV0dXJuIHYoZS5ub2RlLGUub2Zmc2V0LG4uYW5jaG9yTm9kZSxuLmFuY2hvck9mZnNldCl9ZnVuY3Rpb24gbmUodCxlLG4pe3ZhciByPXQuZG9jVmlldy5wYXJzZVJhbmdlKGUsbiksaT1yLm5vZGUsYT1yLmZyb21PZmZzZXQsYz1yLnRvT2Zmc2V0LGw9ci5mcm9tLHU9ci50byxwPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxmPW51bGwsZD1wLmFuY2hvck5vZGU7aWYoZCYmdC5kb20uY29udGFpbnMoMT09ZC5ub2RlVHlwZT9kOmQucGFyZW50Tm9kZSkmJihmPVt7bm9kZTpkLG9mZnNldDpwLmFuY2hvck9mZnNldH1dLGIocCl8fGYucHVzaCh7bm9kZTpwLmZvY3VzTm9kZSxvZmZzZXQ6cC5mb2N1c09mZnNldH0pKSxzLmNocm9tZSYmOD09PXQubGFzdEtleUNvZGUpZm9yKHZhciBoPWM7aD5hO2gtLSl7dmFyIHY9aS5jaGlsZE5vZGVzW2gtMV0sbT12LnBtVmlld0Rlc2M7aWYoIkJSIj09di5ub2RlVHlwZSYmIW0pe2M9aDticmVha31pZighbXx8bS5zaXplKWJyZWFrfXZhciBnPXQuc3RhdGUuZG9jLHk9dC5zb21lUHJvcCgiZG9tUGFyc2VyIil8fG9bIkRPTVBhcnNlciJdLmZyb21TY2hlbWEodC5zdGF0ZS5zY2hlbWEpLHc9Zy5yZXNvbHZlKGwpLFM9bnVsbCxrPXkucGFyc2UoaSx7dG9wTm9kZTp3LnBhcmVudCx0b3BNYXRjaDp3LnBhcmVudC5jb250ZW50TWF0Y2hBdCh3LmluZGV4KCkpLHRvcE9wZW46ITAsZnJvbTphLHRvOmMscHJlc2VydmVXaGl0ZXNwYWNlOiF3LnBhcmVudC50eXBlLnNwZWMuY29kZXx8ImZ1bGwiLGVkaXRhYmxlQ29udGVudDohMCxmaW5kUG9zaXRpb25zOmYscnVsZUZyb21Ob2RlOnJlLGNvbnRleHQ6d30pO2lmKGYmJm51bGwhPWZbMF0ucG9zKXt2YXIgeD1mWzBdLnBvcyxDPWZbMV0mJmZbMV0ucG9zO251bGw9PUMmJihDPXgpLFM9e2FuY2hvcjp4K2wsaGVhZDpDK2x9fXJldHVybntkb2M6ayxzZWw6Uyxmcm9tOmwsdG86dX19ZnVuY3Rpb24gcmUodCl7dmFyIGU9dC5wbVZpZXdEZXNjO2lmKGUpcmV0dXJuIGUucGFyc2VSdWxlKCk7aWYoIkJSIj09dC5ub2RlTmFtZSYmdC5wYXJlbnROb2RlKXtpZihzLnNhZmFyaSYmL14odWx8b2wpJC9pLnRlc3QodC5wYXJlbnROb2RlLm5vZGVOYW1lKSl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIG4uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGkiKSkse3NraXA6bn19aWYodC5wYXJlbnROb2RlLmxhc3RDaGlsZD09dHx8cy5zYWZhcmkmJi9eKHRyfHRhYmxlKSQvaS50ZXN0KHQucGFyZW50Tm9kZS5ub2RlTmFtZSkpcmV0dXJue2lnbm9yZTohMH19ZWxzZSBpZigiSU1HIj09dC5ub2RlTmFtZSYmdC5nZXRBdHRyaWJ1dGUoIm1hcmstcGxhY2Vob2xkZXIiKSlyZXR1cm57aWdub3JlOiEwfX1mdW5jdGlvbiBvZSh0LGUsbixvKXtpZihlPDApe3ZhciBpPXQubGFzdFNlbGVjdGlvblRpbWU+RGF0ZS5ub3coKS01MD90Lmxhc3RTZWxlY3Rpb25PcmlnaW46bnVsbCxhPVd0KHQsaSk7aWYoIXQuc3RhdGUuc2VsZWN0aW9uLmVxKGEpKXt2YXIgYz10LnN0YXRlLnRyLnNldFNlbGVjdGlvbihhKTsicG9pbnRlciI9PWk/Yy5zZXRNZXRhKCJwb2ludGVyIiwhMCk6ImtleSI9PWkmJmMuc2Nyb2xsSW50b1ZpZXcoKSx0LmRpc3BhdGNoKGMpfX1lbHNle3ZhciBsPXQuc3RhdGUuZG9jLnJlc29sdmUoZSksdT1sLnNoYXJlZERlcHRoKG4pO2U9bC5iZWZvcmUodSsxKSxuPXQuc3RhdGUuZG9jLnJlc29sdmUobikuYWZ0ZXIodSsxKTt2YXIgcCxmLGQ9dC5zdGF0ZS5zZWxlY3Rpb24saD1uZSh0LGUsbiksdj10LnN0YXRlLmRvYyxtPXYuc2xpY2UoaC5mcm9tLGgudG8pOzg9PT10Lmxhc3RLZXlDb2RlJiZEYXRlLm5vdygpLTEwMDx0Lmxhc3RLZXlDb2RlVGltZT8ocD10LnN0YXRlLnNlbGVjdGlvbi50byxmPSJlbmQiKToocD10LnN0YXRlLnNlbGVjdGlvbi5mcm9tLGY9InN0YXJ0IiksdC5sYXN0S2V5Q29kZT1udWxsO3ZhciBnPWxlKG0uY29udGVudCxoLmRvYy5jb250ZW50LGguZnJvbSxwLGYpO2lmKCFnKXtpZighKG8mJmQgaW5zdGFuY2VvZiByWyJUZXh0U2VsZWN0aW9uIl0mJiFkLmVtcHR5JiZkLiRoZWFkLnNhbWVQYXJlbnQoZC4kYW5jaG9yKSl8fHQuY29tcG9zaW5nfHxoLnNlbCYmaC5zZWwuYW5jaG9yIT1oLnNlbC5oZWFkKXtpZihoLnNlbCl7dmFyIHk9aWUodCx0LnN0YXRlLmRvYyxoLnNlbCk7eSYmIXkuZXEodC5zdGF0ZS5zZWxlY3Rpb24pJiZ0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKHkpKX1yZXR1cm59Zz17c3RhcnQ6ZC5mcm9tLGVuZEE6ZC50byxlbmRCOmQudG99fXQuZG9tQ2hhbmdlQ291bnQrKyx0LnN0YXRlLnNlbGVjdGlvbi5mcm9tPHQuc3RhdGUuc2VsZWN0aW9uLnRvJiZnLnN0YXJ0PT1nLmVuZEImJnQuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgclsiVGV4dFNlbGVjdGlvbiJdJiYoZy5zdGFydD50LnN0YXRlLnNlbGVjdGlvbi5mcm9tJiZnLnN0YXJ0PD10LnN0YXRlLnNlbGVjdGlvbi5mcm9tKzI/Zy5zdGFydD10LnN0YXRlLnNlbGVjdGlvbi5mcm9tOmcuZW5kQTx0LnN0YXRlLnNlbGVjdGlvbi50byYmZy5lbmRBPj10LnN0YXRlLnNlbGVjdGlvbi50by0yJiYoZy5lbmRCKz10LnN0YXRlLnNlbGVjdGlvbi50by1nLmVuZEEsZy5lbmRBPXQuc3RhdGUuc2VsZWN0aW9uLnRvKSkscy5pZSYmcy5pZV92ZXJzaW9uPD0xMSYmZy5lbmRCPT1nLnN0YXJ0KzEmJmcuZW5kQT09Zy5zdGFydCYmZy5zdGFydD5oLmZyb20mJiIgwqAiPT1oLmRvYy50ZXh0QmV0d2VlbihnLnN0YXJ0LWguZnJvbS0xLGcuc3RhcnQtaC5mcm9tKzEpJiYoZy5zdGFydC0tLGcuZW5kQS0tLGcuZW5kQi0tKTt2YXIgdyxiPWguZG9jLnJlc29sdmVOb0NhY2hlKGcuc3RhcnQtaC5mcm9tKSxrPWguZG9jLnJlc29sdmVOb0NhY2hlKGcuZW5kQi1oLmZyb20pO2lmKCEoIWIuc2FtZVBhcmVudChrKSYmYi5wb3M8aC5kb2MuY29udGVudC5zaXplJiYodz1yWyJTZWxlY3Rpb24iXS5maW5kRnJvbShoLmRvYy5yZXNvbHZlKGIucG9zKzEpLDEsITApKSYmdy5oZWFkPT1rLnBvcyYmdC5zb21lUHJvcCgiaGFuZGxlS2V5RG93biIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQsUygxMywiRW50ZXIiKSl9KSkpKWlmKHQuc3RhdGUuc2VsZWN0aW9uLmFuY2hvcj5nLnN0YXJ0JiZhZSh2LGcuc3RhcnQsZy5lbmRBLGIsaykmJnQuc29tZVByb3AoImhhbmRsZUtleURvd24iLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0LFMoOCwiQmFja3NwYWNlIikpfSkpKXMuYW5kcm9pZCYmcy5jaHJvbWUmJnQuZG9tT2JzZXJ2ZXIuc3VwcHJlc3NTZWxlY3Rpb25VcGRhdGVzKCk7ZWxzZXt2YXIgeCxDLE8sTSxOPWcuc3RhcnQsVD1nLmVuZEE7aWYoYi5zYW1lUGFyZW50KGspJiZiLnBhcmVudC5pbmxpbmVDb250ZW50KWlmKGIucG9zPT1rLnBvcylzLmllJiZzLmllX3ZlcnNpb248PTExJiYwPT1iLnBhcmVudE9mZnNldCYmKHQuZG9tT2JzZXJ2ZXIuc3VwcHJlc3NTZWxlY3Rpb25VcGRhdGVzKCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gcXQodCl9KSwyMCkpLHg9dC5zdGF0ZS50ci5kZWxldGUoTixUKSxDPXYucmVzb2x2ZShnLnN0YXJ0KS5tYXJrc0Fjcm9zcyh2LnJlc29sdmUoZy5lbmRBKSk7ZWxzZSBpZihnLmVuZEE9PWcuZW5kQiYmKE09di5yZXNvbHZlKGcuc3RhcnQpKSYmKE89c2UoYi5wYXJlbnQuY29udGVudC5jdXQoYi5wYXJlbnRPZmZzZXQsay5wYXJlbnRPZmZzZXQpLE0ucGFyZW50LmNvbnRlbnQuY3V0KE0ucGFyZW50T2Zmc2V0LGcuZW5kQS1NLnN0YXJ0KCkpKSkpeD10LnN0YXRlLnRyLCJhZGQiPT1PLnR5cGU/eC5hZGRNYXJrKE4sVCxPLm1hcmspOngucmVtb3ZlTWFyayhOLFQsTy5tYXJrKTtlbHNlIGlmKGIucGFyZW50LmNoaWxkKGIuaW5kZXgoKSkuaXNUZXh0JiZiLmluZGV4KCk9PWsuaW5kZXgoKS0oay50ZXh0T2Zmc2V0PzA6MSkpe3ZhciBEPWIucGFyZW50LnRleHRCZXR3ZWVuKGIucGFyZW50T2Zmc2V0LGsucGFyZW50T2Zmc2V0KTtpZih0LnNvbWVQcm9wKCJoYW5kbGVUZXh0SW5wdXQiLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0LE4sVCxEKX0pKSlyZXR1cm47eD10LnN0YXRlLnRyLmluc2VydFRleHQoRCxOLFQpfWlmKHh8fCh4PXQuc3RhdGUudHIucmVwbGFjZShOLFQsaC5kb2Muc2xpY2UoZy5zdGFydC1oLmZyb20sZy5lbmRCLWguZnJvbSkpKSxoLnNlbCl7dmFyIEE9aWUodCx4LmRvYyxoLnNlbCk7QSYmIShzLmNocm9tZSYmcy5hbmRyb2lkJiZ0LmNvbXBvc2luZyYmQS5lbXB0eSYmQS5oZWFkPT1OfHxzLmllJiZBLmVtcHR5JiZBLmhlYWQ9PU4pJiZ4LnNldFNlbGVjdGlvbihBKX1DJiZ4LmVuc3VyZU1hcmtzKEMpLHQuZGlzcGF0Y2goeC5zY3JvbGxJbnRvVmlldygpKX19fWZ1bmN0aW9uIGllKHQsZSxuKXtyZXR1cm4gTWF0aC5tYXgobi5hbmNob3Isbi5oZWFkKT5lLmNvbnRlbnQuc2l6ZT9udWxsOlp0KHQsZS5yZXNvbHZlKG4uYW5jaG9yKSxlLnJlc29sdmUobi5oZWFkKSl9ZnVuY3Rpb24gc2UodCxlKXtmb3IodmFyIG4scixpLHM9dC5maXJzdENoaWxkLm1hcmtzLGE9ZS5maXJzdENoaWxkLm1hcmtzLGM9cyxsPWEsdT0wO3U8YS5sZW5ndGg7dSsrKWM9YVt1XS5yZW1vdmVGcm9tU2V0KGMpO2Zvcih2YXIgcD0wO3A8cy5sZW5ndGg7cCsrKWw9c1twXS5yZW1vdmVGcm9tU2V0KGwpO2lmKDE9PWMubGVuZ3RoJiYwPT1sLmxlbmd0aClyPWNbMF0sbj0iYWRkIixpPWZ1bmN0aW9uKHQpe3JldHVybiB0Lm1hcmsoci5hZGRUb1NldCh0Lm1hcmtzKSl9O2Vsc2V7aWYoMCE9Yy5sZW5ndGh8fDEhPWwubGVuZ3RoKXJldHVybiBudWxsO3I9bFswXSxuPSJyZW1vdmUiLGk9ZnVuY3Rpb24odCl7cmV0dXJuIHQubWFyayhyLnJlbW92ZUZyb21TZXQodC5tYXJrcykpfX1mb3IodmFyIGY9W10sZD0wO2Q8ZS5jaGlsZENvdW50O2QrKylmLnB1c2goaShlLmNoaWxkKGQpKSk7aWYob1siRnJhZ21lbnQiXS5mcm9tKGYpLmVxKHQpKXJldHVybnttYXJrOnIsdHlwZTpufX1mdW5jdGlvbiBhZSh0LGUsbixyLG8pe2lmKCFyLnBhcmVudC5pc1RleHRibG9ja3x8bi1lPD1vLnBvcy1yLnBvc3x8Y2UociwhMCwhMSk8by5wb3MpcmV0dXJuITE7dmFyIGk9dC5yZXNvbHZlKGUpO2lmKGkucGFyZW50T2Zmc2V0PGkucGFyZW50LmNvbnRlbnQuc2l6ZXx8IWkucGFyZW50LmlzVGV4dGJsb2NrKXJldHVybiExO3ZhciBzPXQucmVzb2x2ZShjZShpLCEwLCEwKSk7cmV0dXJuISghcy5wYXJlbnQuaXNUZXh0YmxvY2t8fHMucG9zPm58fGNlKHMsITAsITEpPG4pJiZyLnBhcmVudC5jb250ZW50LmN1dChyLnBhcmVudE9mZnNldCkuZXEocy5wYXJlbnQuY29udGVudCl9ZnVuY3Rpb24gY2UodCxlLG4pe3ZhciByPXQuZGVwdGgsbz1lP3QuZW5kKCk6dC5wb3M7d2hpbGUocj4wJiYoZXx8dC5pbmRleEFmdGVyKHIpPT10Lm5vZGUocikuY2hpbGRDb3VudCkpci0tLG8rKyxlPSExO2lmKG4pe3ZhciBpPXQubm9kZShyKS5tYXliZUNoaWxkKHQuaW5kZXhBZnRlcihyKSk7d2hpbGUoaSYmIWkuaXNMZWFmKWk9aS5maXJzdENoaWxkLG8rK31yZXR1cm4gb31mdW5jdGlvbiBsZSh0LGUsbixyLG8pe3ZhciBpPXQuZmluZERpZmZTdGFydChlLG4pO2lmKG51bGw9PWkpcmV0dXJuIG51bGw7dmFyIHM9dC5maW5kRGlmZkVuZChlLG4rdC5zaXplLG4rZS5zaXplKSxhPXMuYSxjPXMuYjtpZigiZW5kIj09byl7dmFyIGw9TWF0aC5tYXgoMCxpLU1hdGgubWluKGEsYykpO3ItPWErbC1pfWlmKGE8aSYmdC5zaXplPGUuc2l6ZSl7dmFyIHU9cjw9aSYmcj49YT9pLXI6MDtpLT11LGM9aSsoYy1hKSxhPWl9ZWxzZSBpZihjPGkpe3ZhciBwPXI8PWkmJnI+PWM/aS1yOjA7aS09cCxhPWkrKGEtYyksYz1pfXJldHVybntzdGFydDppLGVuZEE6YSxlbmRCOmN9fWZ1bmN0aW9uIHVlKHQsZSl7dmFyIG49W10scj1lLmNvbnRlbnQsaT1lLm9wZW5TdGFydCxzPWUub3BlbkVuZDt3aGlsZShpPjEmJnM+MSYmMT09ci5jaGlsZENvdW50JiYxPT1yLmZpcnN0Q2hpbGQuY2hpbGRDb3VudCl7aS0tLHMtLTt2YXIgYT1yLmZpcnN0Q2hpbGQ7bi5wdXNoKGEudHlwZS5uYW1lLGEudHlwZS5oYXNSZXF1aXJlZEF0dHJzKCk/YS5hdHRyczpudWxsKSxyPWEuY29udGVudH12YXIgYz10LnNvbWVQcm9wKCJjbGlwYm9hcmRTZXJpYWxpemVyIil8fG9bIkRPTVNlcmlhbGl6ZXIiXS5mcm9tU2NoZW1hKHQuc3RhdGUuc2NoZW1hKSxsPWJlKCksdT1sLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3UuYXBwZW5kQ2hpbGQoYy5zZXJpYWxpemVGcmFnbWVudChyLHtkb2N1bWVudDpsfSkpO3ZhciBwLGY9dS5maXJzdENoaWxkO3doaWxlKGYmJjE9PWYubm9kZVR5cGUmJihwPXllW2Yubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pKXtmb3IodmFyIGQ9cC5sZW5ndGgtMTtkPj0wO2QtLSl7dmFyIGg9bC5jcmVhdGVFbGVtZW50KHBbZF0pO3doaWxlKHUuZmlyc3RDaGlsZCloLmFwcGVuZENoaWxkKHUuZmlyc3RDaGlsZCk7dS5hcHBlbmRDaGlsZChoKX1mPXUuZmlyc3RDaGlsZH1mJiYxPT1mLm5vZGVUeXBlJiZmLnNldEF0dHJpYnV0ZSgiZGF0YS1wbS1zbGljZSIsaSsiICIrcysiICIrSlNPTi5zdHJpbmdpZnkobikpO3ZhciB2PXQuc29tZVByb3AoImNsaXBib2FyZFRleHRTZXJpYWxpemVyIiwoZnVuY3Rpb24odCl7cmV0dXJuIHQoZSl9KSl8fGUuY29udGVudC50ZXh0QmV0d2VlbigwLGUuY29udGVudC5zaXplLCJcblxuIik7cmV0dXJue2RvbTp1LHRleHQ6dn19ZnVuY3Rpb24gcGUodCxlLG4scixpKXt2YXIgcyxhLGM9aS5wYXJlbnQudHlwZS5zcGVjLmNvZGU7aWYoIW4mJiFlKXJldHVybiBudWxsO3ZhciBsPWUmJihyfHxjfHwhbik7aWYobCl7aWYodC5zb21lUHJvcCgidHJhbnNmb3JtUGFzdGVkVGV4dCIsKGZ1bmN0aW9uKHQpe2U9dChlKX0pKSxjKXJldHVybiBuZXcgb1siU2xpY2UiXShvWyJGcmFnbWVudCJdLmZyb20odC5zdGF0ZS5zY2hlbWEudGV4dChlKSksMCwwKTt2YXIgdT10LnNvbWVQcm9wKCJjbGlwYm9hcmRUZXh0UGFyc2VyIiwoZnVuY3Rpb24odCl7cmV0dXJuIHQoZSxpKX0pKTt1P2E9dToocz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxlLnRyaW0oKS5zcGxpdCgvKD86XHJcbj98XG4pKy8pLmZvckVhY2goKGZ1bmN0aW9uKHQpe3MuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpKS50ZXh0Q29udGVudD10fSkpKX1lbHNlIHQuc29tZVByb3AoInRyYW5zZm9ybVBhc3RlZEhUTUwiLChmdW5jdGlvbih0KXtuPXQobil9KSkscz1TZShuKTt2YXIgcD1zJiZzLnF1ZXJ5U2VsZWN0b3IoIltkYXRhLXBtLXNsaWNlXSIpLGY9cCYmL14oXGQrKSAoXGQrKSAoLiopLy5leGVjKHAuZ2V0QXR0cmlidXRlKCJkYXRhLXBtLXNsaWNlIikpO2lmKCFhKXt2YXIgZD10LnNvbWVQcm9wKCJjbGlwYm9hcmRQYXJzZXIiKXx8dC5zb21lUHJvcCgiZG9tUGFyc2VyIil8fG9bIkRPTVBhcnNlciJdLmZyb21TY2hlbWEodC5zdGF0ZS5zY2hlbWEpO2E9ZC5wYXJzZVNsaWNlKHMse3ByZXNlcnZlV2hpdGVzcGFjZTohKCFsJiYhZiksY29udGV4dDppfSl9cmV0dXJuIGE9Zj9rZShnZShhLCtmWzFdLCtmWzJdKSxmWzNdKTpvWyJTbGljZSJdLm1heE9wZW4oZmUoYS5jb250ZW50LGkpLCExKSx0LnNvbWVQcm9wKCJ0cmFuc2Zvcm1QYXN0ZWQiLChmdW5jdGlvbih0KXthPXQoYSl9KSksYX1mdW5jdGlvbiBmZSh0LGUpe2lmKHQuY2hpbGRDb3VudDwyKXJldHVybiB0O2Zvcih2YXIgbj1mdW5jdGlvbihuKXt2YXIgcj1lLm5vZGUobiksaT1yLmNvbnRlbnRNYXRjaEF0KGUuaW5kZXgobikpLHM9dm9pZCAwLGE9W107aWYodC5mb3JFYWNoKChmdW5jdGlvbih0KXtpZihhKXt2YXIgZSxuPWkuZmluZFdyYXBwaW5nKHQudHlwZSk7aWYoIW4pcmV0dXJuIGE9bnVsbDtpZihlPWEubGVuZ3RoJiZzLmxlbmd0aCYmaGUobixzLHQsYVthLmxlbmd0aC0xXSwwKSlhW2EubGVuZ3RoLTFdPWU7ZWxzZXthLmxlbmd0aCYmKGFbYS5sZW5ndGgtMV09dmUoYVthLmxlbmd0aC0xXSxzLmxlbmd0aCkpO3ZhciByPWRlKHQsbik7YS5wdXNoKHIpLGk9aS5tYXRjaFR5cGUoci50eXBlLHIuYXR0cnMpLHM9bn19fSkpLGEpcmV0dXJue3Y6b1siRnJhZ21lbnQiXS5mcm9tKGEpfX0scj1lLmRlcHRoO3I+PTA7ci0tKXt2YXIgaT1uKHIpO2lmKGkpcmV0dXJuIGkudn1yZXR1cm4gdH1mdW5jdGlvbiBkZSh0LGUsbil7dm9pZCAwPT09biYmKG49MCk7Zm9yKHZhciByPWUubGVuZ3RoLTE7cj49bjtyLS0pdD1lW3JdLmNyZWF0ZShudWxsLG9bIkZyYWdtZW50Il0uZnJvbSh0KSk7cmV0dXJuIHR9ZnVuY3Rpb24gaGUodCxlLG4scixpKXtpZihpPHQubGVuZ3RoJiZpPGUubGVuZ3RoJiZ0W2ldPT1lW2ldKXt2YXIgcz1oZSh0LGUsbixyLmxhc3RDaGlsZCxpKzEpO2lmKHMpcmV0dXJuIHIuY29weShyLmNvbnRlbnQucmVwbGFjZUNoaWxkKHIuY2hpbGRDb3VudC0xLHMpKTt2YXIgYT1yLmNvbnRlbnRNYXRjaEF0KHIuY2hpbGRDb3VudCk7aWYoYS5tYXRjaFR5cGUoaT09dC5sZW5ndGgtMT9uLnR5cGU6dFtpKzFdKSlyZXR1cm4gci5jb3B5KHIuY29udGVudC5hcHBlbmQob1siRnJhZ21lbnQiXS5mcm9tKGRlKG4sdCxpKzEpKSkpfX1mdW5jdGlvbiB2ZSh0LGUpe2lmKDA9PWUpcmV0dXJuIHQ7dmFyIG49dC5jb250ZW50LnJlcGxhY2VDaGlsZCh0LmNoaWxkQ291bnQtMSx2ZSh0Lmxhc3RDaGlsZCxlLTEpKSxyPXQuY29udGVudE1hdGNoQXQodC5jaGlsZENvdW50KS5maWxsQmVmb3JlKG9bIkZyYWdtZW50Il0uZW1wdHksITApO3JldHVybiB0LmNvcHkobi5hcHBlbmQocikpfWZ1bmN0aW9uIG1lKHQsZSxuLHIsaSxzKXt2YXIgYT1lPDA/dC5maXJzdENoaWxkOnQubGFzdENoaWxkLGM9YS5jb250ZW50O3JldHVybiBpPHItMSYmKGM9bWUoYyxlLG4scixpKzEscykpLGk+PW4mJihjPWU8MD9hLmNvbnRlbnRNYXRjaEF0KDApLmZpbGxCZWZvcmUoYyx0LmNoaWxkQ291bnQ+MXx8czw9aSkuYXBwZW5kKGMpOmMuYXBwZW5kKGEuY29udGVudE1hdGNoQXQoYS5jaGlsZENvdW50KS5maWxsQmVmb3JlKG9bIkZyYWdtZW50Il0uZW1wdHksITApKSksdC5yZXBsYWNlQ2hpbGQoZTwwPzA6dC5jaGlsZENvdW50LTEsYS5jb3B5KGMpKX1mdW5jdGlvbiBnZSh0LGUsbil7cmV0dXJuIGU8dC5vcGVuU3RhcnQmJih0PW5ldyBvWyJTbGljZSJdKG1lKHQuY29udGVudCwtMSxlLHQub3BlblN0YXJ0LDAsdC5vcGVuRW5kKSxlLHQub3BlbkVuZCkpLG48dC5vcGVuRW5kJiYodD1uZXcgb1siU2xpY2UiXShtZSh0LmNvbnRlbnQsMSxuLHQub3BlbkVuZCwwLDApLHQub3BlblN0YXJ0LG4pKSx0fXZhciB5ZT17dGhlYWQ6WyJ0YWJsZSJdLGNvbGdyb3VwOlsidGFibGUiXSxjb2w6WyJ0YWJsZSIsImNvbGdyb3VwIl0sdHI6WyJ0YWJsZSIsInRib2R5Il0sdGQ6WyJ0YWJsZSIsInRib2R5IiwidHIiXSx0aDpbInRhYmxlIiwidGJvZHkiLCJ0ciJdfSx3ZT1udWxsO2Z1bmN0aW9uIGJlKCl7cmV0dXJuIHdlfHwod2U9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCJ0aXRsZSIpKX1mdW5jdGlvbiBTZSh0KXt2YXIgZT0vKFxzKjxtZXRhIFtePl0qPikqLy5leGVjKHQpO2UmJih0PXQuc2xpY2UoZVswXS5sZW5ndGgpKTt2YXIgbixyPWJlKCkuY3JlYXRlRWxlbWVudCgiZGl2Iiksbz0vKD86PG1ldGEgW14+XSo+KSo8KFthLXpdW14+XHNdKykvaS5leGVjKHQpLGk9MDsobj1vJiZ5ZVtvWzFdLnRvTG93ZXJDYXNlKCldKSYmKHQ9bi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiI8Iit0KyI+In0pKS5qb2luKCIiKSt0K24ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4iPC8iK3QrIj4ifSkpLnJldmVyc2UoKS5qb2luKCIiKSxpPW4ubGVuZ3RoKSxyLmlubmVySFRNTD10O2Zvcih2YXIgcz0wO3M8aTtzKyspcj1yLmZpcnN0Q2hpbGQ7cmV0dXJuIHJ9ZnVuY3Rpb24ga2UodCxlKXtpZighdC5zaXplKXJldHVybiB0O3ZhciBuLHI9dC5jb250ZW50LmZpcnN0Q2hpbGQudHlwZS5zY2hlbWE7dHJ5e249SlNPTi5wYXJzZShlKX1jYXRjaCh1KXtyZXR1cm4gdH1mb3IodmFyIGk9dC5jb250ZW50LHM9dC5vcGVuU3RhcnQsYT10Lm9wZW5FbmQsYz1uLmxlbmd0aC0yO2M+PTA7Yy09Mil7dmFyIGw9ci5ub2Rlc1tuW2NdXTtpZighbHx8bC5oYXNSZXF1aXJlZEF0dHJzKCkpYnJlYWs7aT1vWyJGcmFnbWVudCJdLmZyb20obC5jcmVhdGUobltjKzFdLGkpKSxzKyssYSsrfXJldHVybiBuZXcgb1siU2xpY2UiXShpLHMsYSl9dmFyIHhlPXtjaGlsZExpc3Q6ITAsY2hhcmFjdGVyRGF0YTohMCxjaGFyYWN0ZXJEYXRhT2xkVmFsdWU6ITAsYXR0cmlidXRlczohMCxhdHRyaWJ1dGVPbGRWYWx1ZTohMCxzdWJ0cmVlOiEwfSxDZT1zLmllJiZzLmllX3ZlcnNpb248PTExLE9lPWZ1bmN0aW9uKCl7dGhpcy5hbmNob3JOb2RlPXRoaXMuYW5jaG9yT2Zmc2V0PXRoaXMuZm9jdXNOb2RlPXRoaXMuZm9jdXNPZmZzZXQ9bnVsbH07T2UucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt0aGlzLmFuY2hvck5vZGU9dC5hbmNob3JOb2RlLHRoaXMuYW5jaG9yT2Zmc2V0PXQuYW5jaG9yT2Zmc2V0LHRoaXMuZm9jdXNOb2RlPXQuZm9jdXNOb2RlLHRoaXMuZm9jdXNPZmZzZXQ9dC5mb2N1c09mZnNldH0sT2UucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0LmFuY2hvck5vZGU9PXRoaXMuYW5jaG9yTm9kZSYmdC5hbmNob3JPZmZzZXQ9PXRoaXMuYW5jaG9yT2Zmc2V0JiZ0LmZvY3VzTm9kZT09dGhpcy5mb2N1c05vZGUmJnQuZm9jdXNPZmZzZXQ9PXRoaXMuZm9jdXNPZmZzZXR9O3ZhciBNZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy52aWV3PXQsdGhpcy5oYW5kbGVET01DaGFuZ2U9ZSx0aGlzLnF1ZXVlPVtdLHRoaXMuZmx1c2hpbmdTb29uPSExLHRoaXMub2JzZXJ2ZXI9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXImJm5ldyB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcigoZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspbi5xdWV1ZS5wdXNoKHRbZV0pO3MuaWUmJnMuaWVfdmVyc2lvbjw9MTEmJnQuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuImNoaWxkTGlzdCI9PXQudHlwZSYmdC5yZW1vdmVkTm9kZXMubGVuZ3RofHwiY2hhcmFjdGVyRGF0YSI9PXQudHlwZSYmdC5vbGRWYWx1ZS5sZW5ndGg+dC50YXJnZXQubm9kZVZhbHVlLmxlbmd0aH0pKT9uLmZsdXNoU29vbigpOm4uZmx1c2goKX0pKSx0aGlzLmN1cnJlbnRTZWxlY3Rpb249bmV3IE9lLENlJiYodGhpcy5vbkNoYXJEYXRhPWZ1bmN0aW9uKHQpe24ucXVldWUucHVzaCh7dGFyZ2V0OnQudGFyZ2V0LHR5cGU6ImNoYXJhY3RlckRhdGEiLG9sZFZhbHVlOnQucHJldlZhbHVlfSksbi5mbHVzaFNvb24oKX0pLHRoaXMub25TZWxlY3Rpb25DaGFuZ2U9dGhpcy5vblNlbGVjdGlvbkNoYW5nZS5iaW5kKHRoaXMpLHRoaXMuc3VwcHJlc3NpbmdTZWxlY3Rpb25VcGRhdGVzPSExfTtNZS5wcm90b3R5cGUuZmx1c2hTb29uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmZsdXNoaW5nU29vbnx8KHRoaXMuZmx1c2hpbmdTb29uPSEwLHdpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuZmx1c2hpbmdTb29uPSExLHQuZmx1c2goKX0pLDIwKSl9LE1lLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe3RoaXMub2JzZXJ2ZXImJnRoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnZpZXcuZG9tLHhlKSxDZSYmdGhpcy52aWV3LmRvbS5hZGRFdmVudExpc3RlbmVyKCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQiLHRoaXMub25DaGFyRGF0YSksdGhpcy5jb25uZWN0U2VsZWN0aW9uKCl9LE1lLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLm9ic2VydmVyKXt2YXIgZT10aGlzLm9ic2VydmVyLnRha2VSZWNvcmRzKCk7aWYoZS5sZW5ndGgpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXRoaXMucXVldWUucHVzaChlW25dKTt3aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5mbHVzaCgpfSksMjApfXRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpfUNlJiZ0aGlzLnZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcy5vbkNoYXJEYXRhKSx0aGlzLmRpc2Nvbm5lY3RTZWxlY3Rpb24oKX0sTWUucHJvdG90eXBlLmNvbm5lY3RTZWxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLnZpZXcuZG9tLm93bmVyRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIix0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKX0sTWUucHJvdG90eXBlLmRpc2Nvbm5lY3RTZWxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLnZpZXcuZG9tLm93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIix0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKX0sTWUucHJvdG90eXBlLnN1cHByZXNzU2VsZWN0aW9uVXBkYXRlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXM9ITAsc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXM9ITF9KSw1MCl9LE1lLnByb3RvdHlwZS5vblNlbGVjdGlvbkNoYW5nZT1mdW5jdGlvbigpe2lmKFF0KHRoaXMudmlldykpe2lmKHRoaXMuc3VwcHJlc3NpbmdTZWxlY3Rpb25VcGRhdGVzKXJldHVybiBxdCh0aGlzLnZpZXcpO2lmKHMuaWUmJnMuaWVfdmVyc2lvbjw9MTEmJiF0aGlzLnZpZXcuc3RhdGUuc2VsZWN0aW9uLmVtcHR5KXt2YXIgdD10aGlzLnZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKTtpZih0LmZvY3VzTm9kZSYmdih0LmZvY3VzTm9kZSx0LmZvY3VzT2Zmc2V0LHQuYW5jaG9yTm9kZSx0LmFuY2hvck9mZnNldCkpcmV0dXJuIHRoaXMuZmx1c2hTb29uKCl9dGhpcy5mbHVzaCgpfX0sTWUucHJvdG90eXBlLnNldEN1clNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMuY3VycmVudFNlbGVjdGlvbi5zZXQodGhpcy52aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKCkpfSxNZS5wcm90b3R5cGUuaWdub3JlU2VsZWN0aW9uQ2hhbmdlPWZ1bmN0aW9uKHQpe2lmKDA9PXQucmFuZ2VDb3VudClyZXR1cm4hMDt2YXIgZT10LmdldFJhbmdlQXQoMCkuY29tbW9uQW5jZXN0b3JDb250YWluZXIsbj10aGlzLnZpZXcuZG9jVmlldy5uZWFyZXN0RGVzYyhlKTtyZXR1cm4gbiYmbi5pZ25vcmVNdXRhdGlvbih7dHlwZToic2VsZWN0aW9uIix0YXJnZXQ6Mz09ZS5ub2RlVHlwZT9lLnBhcmVudE5vZGU6ZX0pfSxNZS5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXtpZih0aGlzLnZpZXcuZG9jVmlldyYmIXRoaXMuZmx1c2hpbmdTb29uKXt2YXIgdD10aGlzLm9ic2VydmVyP3RoaXMub2JzZXJ2ZXIudGFrZVJlY29yZHMoKTpbXTt0aGlzLnF1ZXVlLmxlbmd0aCYmKHQ9dGhpcy5xdWV1ZS5jb25jYXQodCksdGhpcy5xdWV1ZS5sZW5ndGg9MCk7dmFyIGU9dGhpcy52aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj0hdGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMmJiF0aGlzLmN1cnJlbnRTZWxlY3Rpb24uZXEoZSkmJnRlKHRoaXMudmlldykmJiF0aGlzLmlnbm9yZVNlbGVjdGlvbkNoYW5nZShlKSxyPS0xLG89LTEsaT0hMSxhPVtdO2lmKHRoaXMudmlldy5lZGl0YWJsZSlmb3IodmFyIGM9MDtjPHQubGVuZ3RoO2MrKyl7dmFyIGw9dGhpcy5yZWdpc3Rlck11dGF0aW9uKHRbY10sYSk7bCYmKHI9cjwwP2wuZnJvbTpNYXRoLm1pbihsLmZyb20sciksbz1vPDA/bC50bzpNYXRoLm1heChsLnRvLG8pLGwudHlwZU92ZXImJiF0aGlzLnZpZXcuY29tcG9zaW5nJiYoaT0hMCkpfWlmKHMuZ2Vja28mJmEubGVuZ3RoPjEpe3ZhciB1PWEuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4iQlIiPT10Lm5vZGVOYW1lfSkpO2lmKDI9PXUubGVuZ3RoKXt2YXIgcD11WzBdLGY9dVsxXTtwLnBhcmVudE5vZGUmJnAucGFyZW50Tm9kZS5wYXJlbnROb2RlPT1mLnBhcmVudE5vZGU/Zi5yZW1vdmUoKTpwLnJlbW92ZSgpfX0ocj4tMXx8bikmJihyPi0xJiYodGhpcy52aWV3LmRvY1ZpZXcubWFya0RpcnR5KHIsbyksVGUodGhpcy52aWV3KSksdGhpcy5oYW5kbGVET01DaGFuZ2UocixvLGkpLHRoaXMudmlldy5kb2NWaWV3LmRpcnR5P3RoaXMudmlldy51cGRhdGVTdGF0ZSh0aGlzLnZpZXcuc3RhdGUpOnRoaXMuY3VycmVudFNlbGVjdGlvbi5lcShlKXx8cXQodGhpcy52aWV3KSl9fSxNZS5wcm90b3R5cGUucmVnaXN0ZXJNdXRhdGlvbj1mdW5jdGlvbih0LGUpe2lmKGUuaW5kZXhPZih0LnRhcmdldCk+LTEpcmV0dXJuIG51bGw7dmFyIG49dGhpcy52aWV3LmRvY1ZpZXcubmVhcmVzdERlc2ModC50YXJnZXQpO2lmKCJhdHRyaWJ1dGVzIj09dC50eXBlJiYobj09dGhpcy52aWV3LmRvY1ZpZXd8fCJjb250ZW50ZWRpdGFibGUiPT10LmF0dHJpYnV0ZU5hbWV8fCJzdHlsZSI9PXQuYXR0cmlidXRlTmFtZSYmIXQub2xkVmFsdWUmJiF0LnRhcmdldC5nZXRBdHRyaWJ1dGUoInN0eWxlIikpKXJldHVybiBudWxsO2lmKCFufHxuLmlnbm9yZU11dGF0aW9uKHQpKXJldHVybiBudWxsO2lmKCJjaGlsZExpc3QiPT10LnR5cGUpe3ZhciByPXQucHJldmlvdXNTaWJsaW5nLG89dC5uZXh0U2libGluZztpZihzLmllJiZzLmllX3ZlcnNpb248PTExJiZ0LmFkZGVkTm9kZXMubGVuZ3RoKWZvcih2YXIgaT0wO2k8dC5hZGRlZE5vZGVzLmxlbmd0aDtpKyspe3ZhciBhPXQuYWRkZWROb2Rlc1tpXSxjPWEucHJldmlvdXNTaWJsaW5nLGw9YS5uZXh0U2libGluZzsoIWN8fEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodC5hZGRlZE5vZGVzLGMpPDApJiYocj1jKSwoIWx8fEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodC5hZGRlZE5vZGVzLGwpPDApJiYobz1sKX1mb3IodmFyIHU9ciYmci5wYXJlbnROb2RlPT10LnRhcmdldD9mKHIpKzE6MCxwPW4ubG9jYWxQb3NGcm9tRE9NKHQudGFyZ2V0LHUsLTEpLGQ9byYmby5wYXJlbnROb2RlPT10LnRhcmdldD9mKG8pOnQudGFyZ2V0LmNoaWxkTm9kZXMubGVuZ3RoLGg9MDtoPHQuYWRkZWROb2Rlcy5sZW5ndGg7aCsrKWUucHVzaCh0LmFkZGVkTm9kZXNbaF0pO3ZhciB2PW4ubG9jYWxQb3NGcm9tRE9NKHQudGFyZ2V0LGQsMSk7cmV0dXJue2Zyb206cCx0bzp2fX1yZXR1cm4iYXR0cmlidXRlcyI9PXQudHlwZT97ZnJvbTpuLnBvc0F0U3RhcnQtbi5ib3JkZXIsdG86bi5wb3NBdEVuZCtuLmJvcmRlcn06e2Zyb206bi5wb3NBdFN0YXJ0LHRvOm4ucG9zQXRFbmQsdHlwZU92ZXI6dC50YXJnZXQubm9kZVZhbHVlPT10Lm9sZFZhbHVlfX07dmFyIE5lPSExO2Z1bmN0aW9uIFRlKHQpe05lfHwoTmU9ITAsIm5vcm1hbCI9PWdldENvbXB1dGVkU3R5bGUodC5kb20pLndoaXRlU3BhY2UmJmNvbnNvbGVbIndhcm4iXSgiUHJvc2VNaXJyb3IgZXhwZWN0cyB0aGUgQ1NTIHdoaXRlLXNwYWNlIHByb3BlcnR5IHRvIGJlIHNldCwgcHJlZmVyYWJseSB0byAncHJlLXdyYXAnLiBJdCBpcyByZWNvbW1lbmRlZCB0byBsb2FkIHN0eWxlL3Byb3NlbWlycm9yLmNzcyBmcm9tIHRoZSBwcm9zZW1pcnJvci12aWV3IHBhY2thZ2UuIikpfXZhciBEZT17fSxBZT17fTtmdW5jdGlvbiBFZSh0KXt0LnNoaWZ0S2V5PSExLHQubW91c2VEb3duPW51bGwsdC5sYXN0S2V5Q29kZT1udWxsLHQubGFzdEtleUNvZGVUaW1lPTAsdC5sYXN0Q2xpY2s9e3RpbWU6MCx4OjAseTowLHR5cGU6IiJ9LHQubGFzdFNlbGVjdGlvbk9yaWdpbj1udWxsLHQubGFzdFNlbGVjdGlvblRpbWU9MCx0LmNvbXBvc2luZz0hMSx0LmNvbXBvc2luZ1RpbWVvdXQ9bnVsbCx0LmNvbXBvc2l0aW9uTm9kZXM9W10sdC5jb21wb3NpdGlvbkVuZGVkQXQ9LTJlOCx0LmRvbU9ic2VydmVyPW5ldyBNZSh0LChmdW5jdGlvbihlLG4scil7cmV0dXJuIG9lKHQsZSxuLHIpfSkpLHQuZG9tT2JzZXJ2ZXIuc3RhcnQoKSx0LmRvbUNoYW5nZUNvdW50PTAsdC5ldmVudEhhbmRsZXJzPU9iamVjdC5jcmVhdGUobnVsbCk7dmFyIGU9ZnVuY3Rpb24oZSl7dmFyIG49RGVbZV07dC5kb20uYWRkRXZlbnRMaXN0ZW5lcihlLHQuZXZlbnRIYW5kbGVyc1tlXT1mdW5jdGlvbihlKXshSWUodCxlKXx8emUodCxlKXx8IXQuZWRpdGFibGUmJmUudHlwZSBpbiBBZXx8bih0LGUpfSl9O2Zvcih2YXIgbiBpbiBEZSllKG4pO3Muc2FmYXJpJiZ0LmRvbS5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9KSksUGUodCl9ZnVuY3Rpb24gUmUodCxlKXt0Lmxhc3RTZWxlY3Rpb25PcmlnaW49ZSx0Lmxhc3RTZWxlY3Rpb25UaW1lPURhdGUubm93KCl9ZnVuY3Rpb24gX2UodCl7Zm9yKHZhciBlIGluIHQuZG9tT2JzZXJ2ZXIuc3RvcCgpLHQuZXZlbnRIYW5kbGVycyl0LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKGUsdC5ldmVudEhhbmRsZXJzW2VdKTtjbGVhclRpbWVvdXQodC5jb21wb3NpbmdUaW1lb3V0KX1mdW5jdGlvbiBQZSh0KXt0LnNvbWVQcm9wKCJoYW5kbGVET01FdmVudHMiLChmdW5jdGlvbihlKXtmb3IodmFyIG4gaW4gZSl0LmV2ZW50SGFuZGxlcnNbbl18fHQuZG9tLmFkZEV2ZW50TGlzdGVuZXIobix0LmV2ZW50SGFuZGxlcnNbbl09ZnVuY3Rpb24oZSl7cmV0dXJuIHplKHQsZSl9KX0pKX1mdW5jdGlvbiB6ZSh0LGUpe3JldHVybiB0LnNvbWVQcm9wKCJoYW5kbGVET01FdmVudHMiLChmdW5jdGlvbihuKXt2YXIgcj1uW2UudHlwZV07cmV0dXJuISFyJiYocih0LGUpfHxlLmRlZmF1bHRQcmV2ZW50ZWQpfSkpfWZ1bmN0aW9uIEllKHQsZSl7aWYoIWUuYnViYmxlcylyZXR1cm4hMDtpZihlLmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuITE7Zm9yKHZhciBuPWUudGFyZ2V0O24hPXQuZG9tO249bi5wYXJlbnROb2RlKWlmKCFufHwxMT09bi5ub2RlVHlwZXx8bi5wbVZpZXdEZXNjJiZuLnBtVmlld0Rlc2Muc3RvcEV2ZW50KGUpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIEJlKHQsZSl7emUodCxlKXx8IURlW2UudHlwZV18fCF0LmVkaXRhYmxlJiZlLnR5cGUgaW4gQWV8fERlW2UudHlwZV0odCxlKX1mdW5jdGlvbiBWZSh0KXtyZXR1cm57bGVmdDp0LmNsaWVudFgsdG9wOnQuY2xpZW50WX19ZnVuY3Rpb24gRmUodCxlKXt2YXIgbj1lLngtdC5jbGllbnRYLHI9ZS55LXQuY2xpZW50WTtyZXR1cm4gbipuK3IqcjwxMDB9ZnVuY3Rpb24gamUodCxlLG4scixvKXtpZigtMT09cilyZXR1cm4hMTtmb3IodmFyIGk9dC5zdGF0ZS5kb2MucmVzb2x2ZShyKSxzPWZ1bmN0aW9uKHIpe2lmKHQuc29tZVByb3AoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIHI+aS5kZXB0aD9lKHQsbixpLm5vZGVBZnRlcixpLmJlZm9yZShyKSxvLCEwKTplKHQsbixpLm5vZGUociksaS5iZWZvcmUociksbywhMSl9KSkpcmV0dXJue3Y6ITB9fSxhPWkuZGVwdGgrMTthPjA7YS0tKXt2YXIgYz1zKGEpO2lmKGMpcmV0dXJuIGMudn1yZXR1cm4hMX1mdW5jdGlvbiAkZSh0LGUsbil7dC5mb2N1c2VkfHx0LmZvY3VzKCk7dmFyIHI9dC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oZSk7InBvaW50ZXIiPT1uJiZyLnNldE1ldGEoInBvaW50ZXIiLCEwKSx0LmRpc3BhdGNoKHIpfWZ1bmN0aW9uIExlKHQsZSl7aWYoLTE9PWUpcmV0dXJuITE7dmFyIG49dC5zdGF0ZS5kb2MucmVzb2x2ZShlKSxvPW4ubm9kZUFmdGVyO3JldHVybiEhKG8mJm8uaXNBdG9tJiZyWyJOb2RlU2VsZWN0aW9uIl0uaXNTZWxlY3RhYmxlKG8pKSYmKCRlKHQsbmV3IHJbIk5vZGVTZWxlY3Rpb24iXShuKSwicG9pbnRlciIpLCEwKX1mdW5jdGlvbiBIZSh0LGUpe2lmKC0xPT1lKXJldHVybiExO3ZhciBuLG8saT10LnN0YXRlLnNlbGVjdGlvbjtpIGluc3RhbmNlb2YgclsiTm9kZVNlbGVjdGlvbiJdJiYobj1pLm5vZGUpO2Zvcih2YXIgcz10LnN0YXRlLmRvYy5yZXNvbHZlKGUpLGE9cy5kZXB0aCsxO2E+MDthLS0pe3ZhciBjPWE+cy5kZXB0aD9zLm5vZGVBZnRlcjpzLm5vZGUoYSk7aWYoclsiTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZShjKSl7bz1uJiZpLiRmcm9tLmRlcHRoPjAmJmE+PWkuJGZyb20uZGVwdGgmJnMuYmVmb3JlKGkuJGZyb20uZGVwdGgrMSk9PWkuJGZyb20ucG9zP3MuYmVmb3JlKGkuJGZyb20uZGVwdGgpOnMuYmVmb3JlKGEpO2JyZWFrfX1yZXR1cm4gbnVsbCE9byYmKCRlKHQsclsiTm9kZVNlbGVjdGlvbiJdLmNyZWF0ZSh0LnN0YXRlLmRvYyxvKSwicG9pbnRlciIpLCEwKX1mdW5jdGlvbiBXZSh0LGUsbixyLG8pe3JldHVybiBqZSh0LCJoYW5kbGVDbGlja09uIixlLG4scil8fHQuc29tZVByb3AoImhhbmRsZUNsaWNrIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlLHIpfSkpfHwobz9IZSh0LG4pOkxlKHQsbikpfWZ1bmN0aW9uIHFlKHQsZSxuLHIpe3JldHVybiBqZSh0LCJoYW5kbGVEb3VibGVDbGlja09uIixlLG4scil8fHQuc29tZVByb3AoImhhbmRsZURvdWJsZUNsaWNrIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlLHIpfSkpfWZ1bmN0aW9uIEplKHQsZSxuLHIpe3JldHVybiBqZSh0LCJoYW5kbGVUcmlwbGVDbGlja09uIixlLG4scil8fHQuc29tZVByb3AoImhhbmRsZVRyaXBsZUNsaWNrIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlLHIpfSkpfHxLZSh0LG4pfWZ1bmN0aW9uIEtlKHQsZSl7dmFyIG49dC5zdGF0ZS5kb2M7aWYoLTE9PWUpcmV0dXJuISFuLmlubGluZUNvbnRlbnQmJigkZSh0LHJbIlRleHRTZWxlY3Rpb24iXS5jcmVhdGUobiwwLG4uY29udGVudC5zaXplKSwicG9pbnRlciIpLCEwKTtmb3IodmFyIG89bi5yZXNvbHZlKGUpLGk9by5kZXB0aCsxO2k+MDtpLS0pe3ZhciBzPWk+by5kZXB0aD9vLm5vZGVBZnRlcjpvLm5vZGUoaSksYT1vLmJlZm9yZShpKTtpZihzLmlubGluZUNvbnRlbnQpJGUodCxyWyJUZXh0U2VsZWN0aW9uIl0uY3JlYXRlKG4sYSsxLGErMStzLmNvbnRlbnQuc2l6ZSksInBvaW50ZXIiKTtlbHNle2lmKCFyWyJOb2RlU2VsZWN0aW9uIl0uaXNTZWxlY3RhYmxlKHMpKWNvbnRpbnVlOyRlKHQsclsiTm9kZVNlbGVjdGlvbiJdLmNyZWF0ZShuLGEpLCJwb2ludGVyIil9cmV0dXJuITB9fWZ1bmN0aW9uIFVlKHQpe3JldHVybiB0bih0KX1BZS5rZXlkb3duPWZ1bmN0aW9uKHQsZSl7dC5zaGlmdEtleT0xNj09ZS5rZXlDb2RlfHxlLnNoaWZ0S2V5LFllKHQsZSl8fCh0Lmxhc3RLZXlDb2RlPWUua2V5Q29kZSx0Lmxhc3RLZXlDb2RlVGltZT1EYXRlLm5vdygpLHQuc29tZVByb3AoImhhbmRsZUtleURvd24iLChmdW5jdGlvbihuKXtyZXR1cm4gbih0LGUpfSkpfHxIdCh0LGUpP2UucHJldmVudERlZmF1bHQoKTpSZSh0LCJrZXkiKSl9LEFlLmtleXVwPWZ1bmN0aW9uKHQsZSl7MTY9PWUua2V5Q29kZSYmKHQuc2hpZnRLZXk9ITEpfSxBZS5rZXlwcmVzcz1mdW5jdGlvbih0LGUpe2lmKCEoWWUodCxlKXx8IWUuY2hhckNvZGV8fGUuY3RybEtleSYmIWUuYWx0S2V5fHxzLm1hYyYmZS5tZXRhS2V5KSlpZih0LnNvbWVQcm9wKCJoYW5kbGVLZXlQcmVzcyIsKGZ1bmN0aW9uKG4pe3JldHVybiBuKHQsZSl9KSkpZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2V7dmFyIG49dC5zdGF0ZS5zZWxlY3Rpb247aWYoIShuIGluc3RhbmNlb2YgclsiVGV4dFNlbGVjdGlvbiJdKXx8IW4uJGZyb20uc2FtZVBhcmVudChuLiR0bykpe3ZhciBvPVN0cmluZy5mcm9tQ2hhckNvZGUoZS5jaGFyQ29kZSk7dC5zb21lUHJvcCgiaGFuZGxlVGV4dElucHV0IiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCxuLiRmcm9tLnBvcyxuLiR0by5wb3Msbyl9KSl8fHQuZGlzcGF0Y2godC5zdGF0ZS50ci5pbnNlcnRUZXh0KG8pLnNjcm9sbEludG9WaWV3KCkpLGUucHJldmVudERlZmF1bHQoKX19fTt2YXIgR2U9cy5tYWM/Im1ldGFLZXkiOiJjdHJsS2V5IjtEZS5tb3VzZWRvd249ZnVuY3Rpb24odCxlKXt0LnNoaWZ0S2V5PWUuc2hpZnRLZXk7dmFyIG49VWUodCkscj1EYXRlLm5vdygpLG89InNpbmdsZUNsaWNrIjtyLXQubGFzdENsaWNrLnRpbWU8NTAwJiZGZShlLHQubGFzdENsaWNrKSYmIWVbR2VdJiYoInNpbmdsZUNsaWNrIj09dC5sYXN0Q2xpY2sudHlwZT9vPSJkb3VibGVDbGljayI6ImRvdWJsZUNsaWNrIj09dC5sYXN0Q2xpY2sudHlwZSYmKG89InRyaXBsZUNsaWNrIikpLHQubGFzdENsaWNrPXt0aW1lOnIseDplLmNsaWVudFgseTplLmNsaWVudFksdHlwZTpvfTt2YXIgaT10LnBvc0F0Q29vcmRzKFZlKGUpKTtpJiYoInNpbmdsZUNsaWNrIj09bz90Lm1vdXNlRG93bj1uZXcgWGUodCxpLGUsbik6KCJkb3VibGVDbGljayI9PW8/cWU6SmUpKHQsaS5wb3MsaS5pbnNpZGUsZSk/ZS5wcmV2ZW50RGVmYXVsdCgpOlJlKHQsInBvaW50ZXIiKSl9O3ZhciBYZT1mdW5jdGlvbih0LGUsbixvKXt2YXIgaSxhLGM9dGhpcztpZih0aGlzLnZpZXc9dCx0aGlzLnN0YXJ0RG9jPXQuc3RhdGUuZG9jLHRoaXMucG9zPWUsdGhpcy5ldmVudD1uLHRoaXMuZmx1c2hlZD1vLHRoaXMuc2VsZWN0Tm9kZT1uW0dlXSx0aGlzLmFsbG93RGVmYXVsdD1uLnNoaWZ0S2V5LGUuaW5zaWRlPi0xKWk9dC5zdGF0ZS5kb2Mubm9kZUF0KGUuaW5zaWRlKSxhPWUuaW5zaWRlO2Vsc2V7dmFyIGw9dC5zdGF0ZS5kb2MucmVzb2x2ZShlLnBvcyk7aT1sLnBhcmVudCxhPWwuZGVwdGg/bC5iZWZvcmUoKTowfXRoaXMubWlnaHREcmFnPW51bGw7dmFyIHU9bz9udWxsOm4udGFyZ2V0LHA9dT90LmRvY1ZpZXcubmVhcmVzdERlc2ModSwhMCk6bnVsbDt0aGlzLnRhcmdldD1wP3AuZG9tOm51bGwsKGkudHlwZS5zcGVjLmRyYWdnYWJsZSYmITEhPT1pLnR5cGUuc3BlYy5zZWxlY3RhYmxlfHx0LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIHJbIk5vZGVTZWxlY3Rpb24iXSYmYT09dC5zdGF0ZS5zZWxlY3Rpb24uZnJvbSkmJih0aGlzLm1pZ2h0RHJhZz17bm9kZTppLHBvczphLGFkZEF0dHI6dGhpcy50YXJnZXQmJiF0aGlzLnRhcmdldC5kcmFnZ2FibGUsc2V0VW5lZGl0YWJsZTp0aGlzLnRhcmdldCYmcy5nZWNrbyYmIXRoaXMudGFyZ2V0Lmhhc0F0dHJpYnV0ZSgiY29udGVudEVkaXRhYmxlIil9KSx0aGlzLnRhcmdldCYmdGhpcy5taWdodERyYWcmJih0aGlzLm1pZ2h0RHJhZy5hZGRBdHRyfHx0aGlzLm1pZ2h0RHJhZy5zZXRVbmVkaXRhYmxlKSYmKHRoaXMudmlldy5kb21PYnNlcnZlci5zdG9wKCksdGhpcy5taWdodERyYWcuYWRkQXR0ciYmKHRoaXMudGFyZ2V0LmRyYWdnYWJsZT0hMCksdGhpcy5taWdodERyYWcuc2V0VW5lZGl0YWJsZSYmc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gYy50YXJnZXQuc2V0QXR0cmlidXRlKCJjb250ZW50RWRpdGFibGUiLCJmYWxzZSIpfSksMjApLHRoaXMudmlldy5kb21PYnNlcnZlci5zdGFydCgpKSx0LnJvb3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsdGhpcy51cD10aGlzLnVwLmJpbmQodGhpcykpLHQucm9vdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLHRoaXMubW92ZT10aGlzLm1vdmUuYmluZCh0aGlzKSksUmUodCwicG9pbnRlciIpfTtmdW5jdGlvbiBZZSh0LGUpe3JldHVybiEhdC5jb21wb3Npbmd8fCEhKHMuc2FmYXJpJiZNYXRoLmFicyhlLnRpbWVTdGFtcC10LmNvbXBvc2l0aW9uRW5kZWRBdCk8NTAwKSYmKHQuY29tcG9zaXRpb25FbmRlZEF0PS0yZTgsITApfVhlLnByb3RvdHlwZS5kb25lPWZ1bmN0aW9uKCl7dGhpcy52aWV3LnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsdGhpcy51cCksdGhpcy52aWV3LnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIix0aGlzLm1vdmUpLHRoaXMubWlnaHREcmFnJiZ0aGlzLnRhcmdldCYmKHRoaXMudmlldy5kb21PYnNlcnZlci5zdG9wKCksdGhpcy5taWdodERyYWcuYWRkQXR0ciYmKHRoaXMudGFyZ2V0LmRyYWdnYWJsZT0hMSksdGhpcy5taWdodERyYWcuc2V0VW5lZGl0YWJsZSYmdGhpcy50YXJnZXQucmVtb3ZlQXR0cmlidXRlKCJjb250ZW50RWRpdGFibGUiKSx0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RhcnQoKSksdGhpcy52aWV3Lm1vdXNlRG93bj1udWxsfSxYZS5wcm90b3R5cGUudXA9ZnVuY3Rpb24odCl7aWYodGhpcy5kb25lKCksdGhpcy52aWV3LmRvbS5jb250YWlucygzPT10LnRhcmdldC5ub2RlVHlwZT90LnRhcmdldC5wYXJlbnROb2RlOnQudGFyZ2V0KSl7dmFyIGU9dGhpcy5wb3M7dGhpcy52aWV3LnN0YXRlLmRvYyE9dGhpcy5zdGFydERvYyYmKGU9dGhpcy52aWV3LnBvc0F0Q29vcmRzKFZlKHQpKSksdGhpcy5hbGxvd0RlZmF1bHR8fCFlP1JlKHRoaXMudmlldywicG9pbnRlciIpOldlKHRoaXMudmlldyxlLnBvcyxlLmluc2lkZSx0LHRoaXMuc2VsZWN0Tm9kZSk/dC5wcmV2ZW50RGVmYXVsdCgpOiF0aGlzLmZsdXNoZWQmJighcy5jaHJvbWV8fHRoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiByWyJUZXh0U2VsZWN0aW9uIl18fGUucG9zIT10aGlzLnZpZXcuc3RhdGUuc2VsZWN0aW9uLmZyb20mJmUucG9zIT10aGlzLnZpZXcuc3RhdGUuc2VsZWN0aW9uLnRvKT9SZSh0aGlzLnZpZXcsInBvaW50ZXIiKTooJGUodGhpcy52aWV3LHJbIlNlbGVjdGlvbiJdLm5lYXIodGhpcy52aWV3LnN0YXRlLmRvYy5yZXNvbHZlKGUucG9zKSksInBvaW50ZXIiKSx0LnByZXZlbnREZWZhdWx0KCkpfX0sWGUucHJvdG90eXBlLm1vdmU9ZnVuY3Rpb24odCl7IXRoaXMuYWxsb3dEZWZhdWx0JiYoTWF0aC5hYnModGhpcy5ldmVudC54LXQuY2xpZW50WCk+NHx8TWF0aC5hYnModGhpcy5ldmVudC55LXQuY2xpZW50WSk+NCkmJih0aGlzLmFsbG93RGVmYXVsdD0hMCksUmUodGhpcy52aWV3LCJwb2ludGVyIil9LERlLnRvdWNoZG93bj1mdW5jdGlvbih0KXtVZSh0KSxSZSh0LCJwb2ludGVyIil9LERlLmNvbnRleHRtZW51PWZ1bmN0aW9uKHQpe3JldHVybiBVZSh0KX07dmFyIFplPXMuYW5kcm9pZD81ZTM6LTE7ZnVuY3Rpb24gUWUodCxlKXtjbGVhclRpbWVvdXQodC5jb21wb3NpbmdUaW1lb3V0KSxlPi0xJiYodC5jb21wb3NpbmdUaW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHRuKHQpfSksZSkpfWZ1bmN0aW9uIHRuKHQsZSl7dC5jb21wb3Npbmc9ITE7d2hpbGUodC5jb21wb3NpdGlvbk5vZGVzLmxlbmd0aD4wKXQuY29tcG9zaXRpb25Ob2Rlcy5wb3AoKS5tYXJrUGFyZW50c0RpcnR5KCk7cmV0dXJuISghZSYmIXQuZG9jVmlldy5kaXJ0eSkmJih0LnVwZGF0ZVN0YXRlKHQuc3RhdGUpLCEwKX1mdW5jdGlvbiBlbih0LGUpe3ZhciBuPXQuZG9tLm93bmVyRG9jdW1lbnQscj1uLmJvZHkuYXBwZW5kQ2hpbGQobi5jcmVhdGVFbGVtZW50KCJkaXYiKSk7ci5hcHBlbmRDaGlsZChlKSxyLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOiBmaXhlZDsgbGVmdDogLTEwMDAwcHg7IHRvcDogMTBweCI7dmFyIG89Z2V0U2VsZWN0aW9uKCksaT1uLmNyZWF0ZVJhbmdlKCk7aS5zZWxlY3ROb2RlQ29udGVudHMoZSksdC5kb20uYmx1cigpLG8ucmVtb3ZlQWxsUmFuZ2VzKCksby5hZGRSYW5nZShpKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe24uYm9keS5yZW1vdmVDaGlsZChyKSx0LmZvY3VzKCl9KSw1MCl9QWUuY29tcG9zaXRpb25zdGFydD1BZS5jb21wb3NpdGlvbnVwZGF0ZT1mdW5jdGlvbih0KXtpZighdC5jb21wb3Npbmcpe3QuZG9tT2JzZXJ2ZXIuZmx1c2goKTt2YXIgZT10LnN0YXRlLG49ZS5zZWxlY3Rpb24uJGZyb207aWYoZS5zZWxlY3Rpb24uZW1wdHkmJihlLnN0b3JlZE1hcmtzfHwhbi50ZXh0T2Zmc2V0JiZuLnBhcmVudE9mZnNldCYmbi5ub2RlQmVmb3JlLm1hcmtzLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiExPT09dC50eXBlLnNwZWMuaW5jbHVzaXZlfSkpKSl0Lm1hcmtDdXJzb3I9dC5zdGF0ZS5zdG9yZWRNYXJrc3x8bi5tYXJrcygpLHRuKHQsITApLHQubWFya0N1cnNvcj1udWxsO2Vsc2UgaWYodG4odCkscy5nZWNrbyYmZS5zZWxlY3Rpb24uZW1wdHkmJm4ucGFyZW50T2Zmc2V0JiYhbi50ZXh0T2Zmc2V0JiZuLm5vZGVCZWZvcmUubWFya3MubGVuZ3RoKWZvcih2YXIgcj10LnJvb3QuZ2V0U2VsZWN0aW9uKCksbz1yLmZvY3VzTm9kZSxpPXIuZm9jdXNPZmZzZXQ7byYmMT09by5ub2RlVHlwZSYmMCE9aTspe3ZhciBhPWk8MD9vLmxhc3RDaGlsZDpvLmNoaWxkTm9kZXNbaS0xXTtpZigzPT1hLm5vZGVUeXBlKXtyLmNvbGxhcHNlKGEsYS5ub2RlVmFsdWUubGVuZ3RoKTticmVha31vPWEsaT0tMX10LmNvbXBvc2luZz0hMH1RZSh0LFplKX0sQWUuY29tcG9zaXRpb25lbmQ9ZnVuY3Rpb24odCxlKXt0LmNvbXBvc2luZyYmKHQuY29tcG9zaW5nPSExLHQuY29tcG9zaXRpb25FbmRlZEF0PWUudGltZVN0YW1wLFFlKHQsMjApKX07dmFyIG5uPXMuaWUmJnMuaWVfdmVyc2lvbjwxNXx8cy5pb3MmJnMud2Via2l0X3ZlcnNpb248NjA0O2Z1bmN0aW9uIHJuKHQpe3JldHVybiAwPT10Lm9wZW5TdGFydCYmMD09dC5vcGVuRW5kJiYxPT10LmNvbnRlbnQuY2hpbGRDb3VudD90LmNvbnRlbnQuZmlyc3RDaGlsZDpudWxsfWZ1bmN0aW9uIG9uKHQsZSl7dmFyIG49dC5kb20ub3duZXJEb2N1bWVudCxyPXQuc2hpZnRLZXl8fHQuc3RhdGUuc2VsZWN0aW9uLiRmcm9tLnBhcmVudC50eXBlLnNwZWMuY29kZSxvPW4uYm9keS5hcHBlbmRDaGlsZChuLmNyZWF0ZUVsZW1lbnQocj8idGV4dGFyZWEiOiJkaXYiKSk7cnx8KG8uY29udGVudEVkaXRhYmxlPSJ0cnVlIiksby5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6IC0xMDAwMHB4OyB0b3A6IDEwcHgiLG8uZm9jdXMoKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuZm9jdXMoKSxuLmJvZHkucmVtb3ZlQ2hpbGQobykscj9zbih0LG8udmFsdWUsbnVsbCxlKTpzbih0LG8udGV4dENvbnRlbnQsby5pbm5lckhUTUwsZSl9KSw1MCl9ZnVuY3Rpb24gc24odCxlLG4scil7dmFyIGk9cGUodCxlLG4sdC5zaGlmdEtleSx0LnN0YXRlLnNlbGVjdGlvbi4kZnJvbSk7aWYoIXQuc29tZVByb3AoImhhbmRsZVBhc3RlIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCxyLGl8fG9bIlNsaWNlIl0uZW1wdHkpfSkpJiZpKXt2YXIgcz1ybihpKSxhPXM/dC5zdGF0ZS50ci5yZXBsYWNlU2VsZWN0aW9uV2l0aChzLHQuc2hpZnRLZXkpOnQuc3RhdGUudHIucmVwbGFjZVNlbGVjdGlvbihpKTt0LmRpc3BhdGNoKGEuc2Nyb2xsSW50b1ZpZXcoKS5zZXRNZXRhKCJwYXN0ZSIsITApLnNldE1ldGEoInVpRXZlbnQiLCJwYXN0ZSIpKX19RGUuY29weT1BZS5jdXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10LnN0YXRlLnNlbGVjdGlvbixyPSJjdXQiPT1lLnR5cGU7aWYoIW4uZW1wdHkpe3ZhciBvPW5uP251bGw6ZS5jbGlwYm9hcmREYXRhLGk9bi5jb250ZW50KCkscz11ZSh0LGkpLGE9cy5kb20sYz1zLnRleHQ7bz8oZS5wcmV2ZW50RGVmYXVsdCgpLG8uY2xlYXJEYXRhKCksby5zZXREYXRhKCJ0ZXh0L2h0bWwiLGEuaW5uZXJIVE1MKSxvLnNldERhdGEoInRleHQvcGxhaW4iLGMpKTplbih0LGEpLHImJnQuZGlzcGF0Y2godC5zdGF0ZS50ci5kZWxldGVTZWxlY3Rpb24oKS5zY3JvbGxJbnRvVmlldygpLnNldE1ldGEoInVpRXZlbnQiLCJjdXQiKSl9fSxBZS5wYXN0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPW5uP251bGw6ZS5jbGlwYm9hcmREYXRhLHI9biYmbi5nZXREYXRhKCJ0ZXh0L2h0bWwiKSxvPW4mJm4uZ2V0RGF0YSgidGV4dC9wbGFpbiIpO24mJihyfHxvfHxuLmZpbGVzLmxlbmd0aCk/KHNuKHQsbyxyLGUpLGUucHJldmVudERlZmF1bHQoKSk6b24odCxlKX07dmFyIGFuPWZ1bmN0aW9uKHQsZSl7dGhpcy5zbGljZT10LHRoaXMubW92ZT1lfSxjbj1zLm1hYz8iYWx0S2V5IjoiY3RybEtleSI7Zm9yKHZhciBsbiBpbiBEZS5kcmFnc3RhcnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10Lm1vdXNlRG93bjtpZihuJiZuLmRvbmUoKSxlLmRhdGFUcmFuc2Zlcil7dmFyIG89dC5zdGF0ZS5zZWxlY3Rpb24saT1vLmVtcHR5P251bGw6dC5wb3NBdENvb3JkcyhWZShlKSk7aWYoaSYmaS5wb3M+PW8uZnJvbSYmaS5wb3M8PShvIGluc3RhbmNlb2YgclsiTm9kZVNlbGVjdGlvbiJdP28udG8tMTpvLnRvKSk7ZWxzZSBpZihuJiZuLm1pZ2h0RHJhZyl0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKHJbIk5vZGVTZWxlY3Rpb24iXS5jcmVhdGUodC5zdGF0ZS5kb2Msbi5taWdodERyYWcucG9zKSkpO2Vsc2UgaWYoZS50YXJnZXQmJjE9PWUudGFyZ2V0Lm5vZGVUeXBlKXt2YXIgcz10LmRvY1ZpZXcubmVhcmVzdERlc2MoZS50YXJnZXQsITApO2lmKCFzfHwhcy5ub2RlLnR5cGUuc3BlYy5kcmFnZ2FibGV8fHM9PXQuZG9jVmlldylyZXR1cm47dC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldFNlbGVjdGlvbihyWyJOb2RlU2VsZWN0aW9uIl0uY3JlYXRlKHQuc3RhdGUuZG9jLHMucG9zQmVmb3JlKSkpfXZhciBhPXQuc3RhdGUuc2VsZWN0aW9uLmNvbnRlbnQoKSxjPXVlKHQsYSksbD1jLmRvbSx1PWMudGV4dDtlLmRhdGFUcmFuc2Zlci5jbGVhckRhdGEoKSxlLmRhdGFUcmFuc2Zlci5zZXREYXRhKG5uPyJUZXh0IjoidGV4dC9odG1sIixsLmlubmVySFRNTCksbm58fGUuZGF0YVRyYW5zZmVyLnNldERhdGEoInRleHQvcGxhaW4iLHUpLHQuZHJhZ2dpbmc9bmV3IGFuKGEsIWVbY25dKX19LERlLmRyYWdlbmQ9ZnVuY3Rpb24odCl7d2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuZHJhZ2dpbmc9bnVsbH0pLDUwKX0sQWUuZHJhZ292ZXI9QWUuZHJhZ2VudGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUucHJldmVudERlZmF1bHQoKX0sQWUuZHJvcD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZHJhZ2dpbmc7aWYodC5kcmFnZ2luZz1udWxsLGUuZGF0YVRyYW5zZmVyKXt2YXIgbz10LnBvc0F0Q29vcmRzKFZlKGUpKTtpZihvKXt2YXIgcz10LnN0YXRlLmRvYy5yZXNvbHZlKG8ucG9zKTtpZihzKXt2YXIgYT1uJiZuLnNsaWNlfHxwZSh0LGUuZGF0YVRyYW5zZmVyLmdldERhdGEobm4/IlRleHQiOiJ0ZXh0L3BsYWluIiksbm4/bnVsbDplLmRhdGFUcmFuc2Zlci5nZXREYXRhKCJ0ZXh0L2h0bWwiKSwhMSxzKTtpZihhJiYoZS5wcmV2ZW50RGVmYXVsdCgpLCF0LnNvbWVQcm9wKCJoYW5kbGVEcm9wIiwoZnVuY3Rpb24ocil7cmV0dXJuIHIodCxlLGEsbiYmbi5tb3ZlKX0pKSkpe3ZhciBjPWE/T2JqZWN0KGlbImciXSkodC5zdGF0ZS5kb2Mscy5wb3MsYSk6cy5wb3M7bnVsbD09YyYmKGM9cy5wb3MpO3ZhciBsPXQuc3RhdGUudHI7biYmbi5tb3ZlJiZsLmRlbGV0ZVNlbGVjdGlvbigpO3ZhciB1PWwubWFwcGluZy5tYXAoYykscD0wPT1hLm9wZW5TdGFydCYmMD09YS5vcGVuRW5kJiYxPT1hLmNvbnRlbnQuY2hpbGRDb3VudCxmPWwuZG9jO2lmKHA/bC5yZXBsYWNlUmFuZ2VXaXRoKHUsdSxhLmNvbnRlbnQuZmlyc3RDaGlsZCk6bC5yZXBsYWNlUmFuZ2UodSx1LGEpLCFsLmRvYy5lcShmKSl7dmFyIGQ9bC5kb2MucmVzb2x2ZSh1KTtwJiZyWyJOb2RlU2VsZWN0aW9uIl0uaXNTZWxlY3RhYmxlKGEuY29udGVudC5maXJzdENoaWxkKSYmZC5ub2RlQWZ0ZXImJmQubm9kZUFmdGVyLnNhbWVNYXJrdXAoYS5jb250ZW50LmZpcnN0Q2hpbGQpP2wuc2V0U2VsZWN0aW9uKG5ldyByWyJOb2RlU2VsZWN0aW9uIl0oZCkpOmwuc2V0U2VsZWN0aW9uKFp0KHQsZCxsLmRvYy5yZXNvbHZlKGwubWFwcGluZy5tYXAoYykpKSksdC5mb2N1cygpLHQuZGlzcGF0Y2gobC5zZXRNZXRhKCJ1aUV2ZW50IiwiZHJvcCIpKX19fX19fSxEZS5mb2N1cz1mdW5jdGlvbih0KXt0LmZvY3VzZWR8fCh0LmRvbU9ic2VydmVyLnN0b3AoKSx0LmRvbS5jbGFzc0xpc3QuYWRkKCJQcm9zZU1pcnJvci1mb2N1c2VkIiksdC5kb21PYnNlcnZlci5zdGFydCgpLHQuZm9jdXNlZD0hMCl9LERlLmJsdXI9ZnVuY3Rpb24odCl7dC5mb2N1c2VkJiYodC5kb21PYnNlcnZlci5zdG9wKCksdC5kb20uY2xhc3NMaXN0LnJlbW92ZSgiUHJvc2VNaXJyb3ItZm9jdXNlZCIpLHQuZG9tT2JzZXJ2ZXIuc3RhcnQoKSx0LmRvbU9ic2VydmVyLmN1cnJlbnRTZWxlY3Rpb24uc2V0KHt9KSx0LmZvY3VzZWQ9ITEpfSxEZS5iZWZvcmVpbnB1dD1mdW5jdGlvbih0LGUpe2lmKHMuY2hyb21lJiZzLmFuZHJvaWQmJiJkZWxldGVDb250ZW50QmFja3dhcmQiPT1lLmlucHV0VHlwZSl7dmFyIG49dC5kb21DaGFuZ2VDb3VudDtzZXRUaW1lb3V0KChmdW5jdGlvbigpe2lmKHQuZG9tQ2hhbmdlQ291bnQ9PW4mJih0LmRvbS5ibHVyKCksdC5mb2N1cygpLCF0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCxTKDgsIkJhY2tzcGFjZSIpKX0pKSkpe3ZhciBlPXQuc3RhdGUuc2VsZWN0aW9uLHI9ZS4kY3Vyc29yO3ImJnIucG9zPjAmJnQuZGlzcGF0Y2godC5zdGF0ZS50ci5kZWxldGUoci5wb3MtMSxyLnBvcykuc2Nyb2xsSW50b1ZpZXcoKSl9fSksNTApfX0sQWUpRGVbbG5dPUFlW2xuXTtmdW5jdGlvbiB1bih0LGUpe2lmKHQ9PWUpcmV0dXJuITA7Zm9yKHZhciBuIGluIHQpaWYodFtuXSE9PWVbbl0pcmV0dXJuITE7Zm9yKHZhciByIGluIGUpaWYoIShyIGluIHQpKXJldHVybiExO3JldHVybiEwfXZhciBwbj1mdW5jdGlvbih0LGUpe3RoaXMuc3BlYz1lfHxnbix0aGlzLnNpZGU9dGhpcy5zcGVjLnNpZGV8fDAsdGhpcy50b0RPTT10fTtwbi5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQubWFwUmVzdWx0KGUuZnJvbStyLHRoaXMuc2lkZTwwPy0xOjEpLGk9by5wb3Mscz1vLmRlbGV0ZWQ7cmV0dXJuIHM/bnVsbDpuZXcgaG4oaS1uLGktbix0aGlzKX0scG4ucHJvdG90eXBlLnZhbGlkPWZ1bmN0aW9uKCl7cmV0dXJuITB9LHBuLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09dHx8dCBpbnN0YW5jZW9mIHBuJiYodGhpcy5zcGVjLmtleSYmdGhpcy5zcGVjLmtleT09dC5zcGVjLmtleXx8dGhpcy50b0RPTT09dC50b0RPTSYmdW4odGhpcy5zcGVjLHQuc3BlYykpfTt2YXIgZm49ZnVuY3Rpb24odCxlKXt0aGlzLnNwZWM9ZXx8Z24sdGhpcy5hdHRycz10fTtmbi5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQubWFwKGUuZnJvbStyLHRoaXMuc3BlYy5pbmNsdXNpdmVTdGFydD8tMToxKS1uLGk9dC5tYXAoZS50bytyLHRoaXMuc3BlYy5pbmNsdXNpdmVFbmQ/MTotMSktbjtyZXR1cm4gbz49aT9udWxsOm5ldyBobihvLGksdGhpcyl9LGZuLnByb3RvdHlwZS52YWxpZD1mdW5jdGlvbih0LGUpe3JldHVybiBlLmZyb208ZS50b30sZm4ucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT10fHx0IGluc3RhbmNlb2YgZm4mJnVuKHRoaXMuYXR0cnMsdC5hdHRycykmJnVuKHRoaXMuc3BlYyx0LnNwZWMpfSxmbi5pcz1mdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlIGluc3RhbmNlb2YgZm59O3ZhciBkbj1mdW5jdGlvbih0LGUpe3RoaXMuc3BlYz1lfHxnbix0aGlzLmF0dHJzPXR9O2RuLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89dC5tYXBSZXN1bHQoZS5mcm9tK3IsMSk7aWYoby5kZWxldGVkKXJldHVybiBudWxsO3ZhciBpPXQubWFwUmVzdWx0KGUudG8rciwtMSk7cmV0dXJuIGkuZGVsZXRlZHx8aS5wb3M8PW8ucG9zP251bGw6bmV3IGhuKG8ucG9zLW4saS5wb3Mtbix0aGlzKX0sZG4ucHJvdG90eXBlLnZhbGlkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jb250ZW50LmZpbmRJbmRleChlLmZyb20pLHI9bi5pbmRleCxvPW4ub2Zmc2V0O3JldHVybiBvPT1lLmZyb20mJm8rdC5jaGlsZChyKS5ub2RlU2l6ZT09ZS50b30sZG4ucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT10fHx0IGluc3RhbmNlb2YgZG4mJnVuKHRoaXMuYXR0cnMsdC5hdHRycykmJnVuKHRoaXMuc3BlYyx0LnNwZWMpfTt2YXIgaG49ZnVuY3Rpb24odCxlLG4pe3RoaXMuZnJvbT10LHRoaXMudG89ZSx0aGlzLnR5cGU9bn0sdm49e3NwZWM6e2NvbmZpZ3VyYWJsZTohMH19O2huLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBobih0LGUsdGhpcy50eXBlKX0saG4ucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnR5cGUuZXEodC50eXBlKSYmdGhpcy5mcm9tPT10LmZyb20mJnRoaXMudG89PXQudG99LGhuLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLnR5cGUubWFwKHQsdGhpcyxlLG4pfSxobi53aWRnZXQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcgaG4odCx0LG5ldyBwbihlLG4pKX0saG4uaW5saW5lPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBuZXcgaG4odCxlLG5ldyBmbihuLHIpKX0saG4ubm9kZT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gbmV3IGhuKHQsZSxuZXcgZG4obixyKSl9LHZuLnNwZWMuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5zcGVjfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhobi5wcm90b3R5cGUsdm4pO3ZhciBtbj1bXSxnbj17fSx5bj1mdW5jdGlvbih0LGUpe3RoaXMubG9jYWw9dCYmdC5sZW5ndGg/dDptbix0aGlzLmNoaWxkcmVuPWUmJmUubGVuZ3RoP2U6bW59O3luLmNyZWF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBlLmxlbmd0aD9NbihlLHQsMCxnbik6d259LHluLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1bXTtyZXR1cm4gdGhpcy5maW5kSW5uZXIobnVsbD09dD8wOnQsbnVsbD09ZT8xZTk6ZSxyLDAsbikscn0seW4ucHJvdG90eXBlLmZpbmRJbm5lcj1mdW5jdGlvbih0LGUsbixyLG8pe2Zvcih2YXIgaT0wO2k8dGhpcy5sb2NhbC5sZW5ndGg7aSsrKXt2YXIgcz10aGlzLmxvY2FsW2ldO3MuZnJvbTw9ZSYmcy50bz49dCYmKCFvfHxvKHMuc3BlYykpJiZuLnB1c2gocy5jb3B5KHMuZnJvbStyLHMudG8rcikpfWZvcih2YXIgYT0wO2E8dGhpcy5jaGlsZHJlbi5sZW5ndGg7YSs9MylpZih0aGlzLmNoaWxkcmVuW2FdPGUmJnRoaXMuY2hpbGRyZW5bYSsxXT50KXt2YXIgYz10aGlzLmNoaWxkcmVuW2FdKzE7dGhpcy5jaGlsZHJlblthKzJdLmZpbmRJbm5lcih0LWMsZS1jLG4scitjLG8pfX0seW4ucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXM9PXdufHwwPT10Lm1hcHMubGVuZ3RoP3RoaXM6dGhpcy5tYXBJbm5lcih0LGUsMCwwLG58fGduKX0seW4ucHJvdG90eXBlLm1hcElubmVyPWZ1bmN0aW9uKHQsZSxuLHIsbyl7Zm9yKHZhciBpLHM9MDtzPHRoaXMubG9jYWwubGVuZ3RoO3MrKyl7dmFyIGE9dGhpcy5sb2NhbFtzXS5tYXAodCxuLHIpO2EmJmEudHlwZS52YWxpZChlLGEpPyhpfHwoaT1bXSkpLnB1c2goYSk6by5vblJlbW92ZSYmby5vblJlbW92ZSh0aGlzLmxvY2FsW3NdLnNwZWMpfXJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aD9Tbih0aGlzLmNoaWxkcmVuLGksdCxlLG4scixvKTppP25ldyB5bihpLnNvcnQoTm4pKTp3bn0seW4ucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUpe3JldHVybiBlLmxlbmd0aD90aGlzPT13bj95bi5jcmVhdGUodCxlKTp0aGlzLmFkZElubmVyKHQsZSwwKTp0aGlzfSx5bi5wcm90b3R5cGUuYWRkSW5uZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciByLG89dGhpcyxpPTA7dC5mb3JFYWNoKChmdW5jdGlvbih0LHMpe3ZhciBhLGM9cytuO2lmKGE9Q24oZSx0LGMpKXtyfHwocj1vLmNoaWxkcmVuLnNsaWNlKCkpO3doaWxlKGk8ci5sZW5ndGgmJnJbaV08cylpKz0zO3JbaV09PXM/cltpKzJdPXJbaSsyXS5hZGRJbm5lcih0LGEsYysxKTpyLnNwbGljZShpLDAscyxzK3Qubm9kZVNpemUsTW4oYSx0LGMrMSxnbikpLGkrPTN9fSkpO3ZhciBzPWtuKGk/T24oZSk6ZSwtbik7cmV0dXJuIG5ldyB5bihzLmxlbmd0aD90aGlzLmxvY2FsLmNvbmNhdChzKS5zb3J0KE5uKTp0aGlzLmxvY2FsLHJ8fHRoaXMuY2hpbGRyZW4pfSx5bi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3JldHVybiAwPT10Lmxlbmd0aHx8dGhpcz09d24/dGhpczp0aGlzLnJlbW92ZUlubmVyKHQsMCl9LHluLnByb3RvdHlwZS5yZW1vdmVJbm5lcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLmNoaWxkcmVuLHI9dGhpcy5sb2NhbCxvPTA7bzxuLmxlbmd0aDtvKz0zKXtmb3IodmFyIGk9dm9pZCAwLHM9bltvXStlLGE9bltvKzFdK2UsYz0wLGw9dm9pZCAwO2M8dC5sZW5ndGg7YysrKShsPXRbY10pJiZsLmZyb20+cyYmbC50bzxhJiYodFtjXT1udWxsLChpfHwoaT1bXSkpLnB1c2gobCkpO2lmKGkpe249PXRoaXMuY2hpbGRyZW4mJihuPXRoaXMuY2hpbGRyZW4uc2xpY2UoKSk7dmFyIHU9bltvKzJdLnJlbW92ZUlubmVyKGkscysxKTt1IT13bj9uW28rMl09dToobi5zcGxpY2UobywzKSxvLT0zKX19aWYoci5sZW5ndGgpZm9yKHZhciBwPTAsZj12b2lkIDA7cDx0Lmxlbmd0aDtwKyspaWYoZj10W3BdKWZvcih2YXIgZD0wO2Q8ci5sZW5ndGg7ZCsrKXJbZF0udHlwZS5lcShmLnR5cGUpJiYocj09dGhpcy5sb2NhbCYmKHI9dGhpcy5sb2NhbC5zbGljZSgpKSxyLnNwbGljZShkLS0sMSkpO3JldHVybiBuPT10aGlzLmNoaWxkcmVuJiZyPT10aGlzLmxvY2FsP3RoaXM6ci5sZW5ndGh8fG4ubGVuZ3RoP25ldyB5bihyLG4pOndufSx5bi5wcm90b3R5cGUuZm9yQ2hpbGQ9ZnVuY3Rpb24odCxlKXtpZih0aGlzPT13bilyZXR1cm4gdGhpcztpZihlLmlzTGVhZilyZXR1cm4geW4uZW1wdHk7Zm9yKHZhciBuLHIsbz0wO288dGhpcy5jaGlsZHJlbi5sZW5ndGg7bys9MylpZih0aGlzLmNoaWxkcmVuW29dPj10KXt0aGlzLmNoaWxkcmVuW29dPT10JiYobj10aGlzLmNoaWxkcmVuW28rMl0pO2JyZWFrfWZvcih2YXIgaT10KzEscz1pK2UuY29udGVudC5zaXplLGE9MDthPHRoaXMubG9jYWwubGVuZ3RoO2ErKyl7dmFyIGM9dGhpcy5sb2NhbFthXTtpZihjLmZyb208cyYmYy50bz5pJiZjLnR5cGUgaW5zdGFuY2VvZiBmbil7dmFyIGw9TWF0aC5tYXgoaSxjLmZyb20pLWksdT1NYXRoLm1pbihzLGMudG8pLWk7bDx1JiYocnx8KHI9W10pKS5wdXNoKGMuY29weShsLHUpKX19aWYocil7dmFyIHA9bmV3IHluKHIuc29ydChObikpO3JldHVybiBuP25ldyBibihbcCxuXSk6cH1yZXR1cm4gbnx8d259LHluLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtpZih0aGlzPT10KXJldHVybiEwO2lmKCEodCBpbnN0YW5jZW9mIHluKXx8dGhpcy5sb2NhbC5sZW5ndGghPXQubG9jYWwubGVuZ3RofHx0aGlzLmNoaWxkcmVuLmxlbmd0aCE9dC5jaGlsZHJlbi5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBlPTA7ZTx0aGlzLmxvY2FsLmxlbmd0aDtlKyspaWYoIXRoaXMubG9jYWxbZV0uZXEodC5sb2NhbFtlXSkpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtuKz0zKWlmKHRoaXMuY2hpbGRyZW5bbl0hPXQuY2hpbGRyZW5bbl18fHRoaXMuY2hpbGRyZW5bbisxXSE9dC5jaGlsZHJlbltuKzFdfHwhdGhpcy5jaGlsZHJlbltuKzJdLmVxKHQuY2hpbGRyZW5bbisyXSkpcmV0dXJuITE7cmV0dXJuITB9LHluLnByb3RvdHlwZS5sb2NhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIFRuKHRoaXMubG9jYWxzSW5uZXIodCkpfSx5bi5wcm90b3R5cGUubG9jYWxzSW5uZXI9ZnVuY3Rpb24odCl7aWYodGhpcz09d24pcmV0dXJuIG1uO2lmKHQuaW5saW5lQ29udGVudHx8IXRoaXMubG9jYWwuc29tZShmbi5pcykpcmV0dXJuIHRoaXMubG9jYWw7Zm9yKHZhciBlPVtdLG49MDtuPHRoaXMubG9jYWwubGVuZ3RoO24rKyl0aGlzLmxvY2FsW25dLnR5cGUgaW5zdGFuY2VvZiBmbnx8ZS5wdXNoKHRoaXMubG9jYWxbbl0pO3JldHVybiBlfTt2YXIgd249bmV3IHluO3luLmVtcHR5PXduLHluLnJlbW92ZU92ZXJsYXA9VG47dmFyIGJuPWZ1bmN0aW9uKHQpe3RoaXMubWVtYmVycz10fTtmdW5jdGlvbiBTbih0LGUsbixyLG8saSxzKXtmb3IodmFyIGE9dC5zbGljZSgpLGM9ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBzPTA7czxhLmxlbmd0aDtzKz0zKXt2YXIgYz1hW3MrMV0sbD12b2lkIDA7LTE9PWN8fHQ+YytpfHwoZT49YVtzXStpP2FbcysxXT0tMToobD1yLW4tKGUtdCkrKGktbykpJiYoYVtzXSs9bCxhW3MrMV0rPWwpKX19LGw9MDtsPG4ubWFwcy5sZW5ndGg7bCsrKW4ubWFwc1tsXS5mb3JFYWNoKGMpO2Zvcih2YXIgdT0hMSxwPTA7cDxhLmxlbmd0aDtwKz0zKWlmKC0xPT1hW3ArMV0pe3ZhciBmPW4ubWFwKGFbcF0raSksZD1mLW87aWYoZDwwfHxkPj1yLmNvbnRlbnQuc2l6ZSl7dT0hMDtjb250aW51ZX12YXIgaD1uLm1hcCh0W3ArMV0raSwtMSksdj1oLW8sbT1yLmNvbnRlbnQuZmluZEluZGV4KGQpLGc9bS5pbmRleCx5PW0ub2Zmc2V0LHc9ci5tYXliZUNoaWxkKGcpO2lmKHcmJnk9PWQmJnkrdy5ub2RlU2l6ZT09dil7dmFyIGI9YVtwKzJdLm1hcElubmVyKG4sdyxmKzEsYVtwXStpKzEscyk7YiE9d24/KGFbcF09ZCxhW3ArMV09dixhW3ArMl09Yik6KGFbcCsxXT0tMix1PSEwKX1lbHNlIHU9ITB9aWYodSl7dmFyIFM9eG4oYSx0LGV8fFtdLG4sbyxpLHMpLGs9TW4oUyxyLDAscyk7ZT1rLmxvY2FsO2Zvcih2YXIgeD0wO3g8YS5sZW5ndGg7eCs9MylhW3grMV08MCYmKGEuc3BsaWNlKHgsMykseC09Myk7Zm9yKHZhciBDPTAsTz0wO0M8ay5jaGlsZHJlbi5sZW5ndGg7Qys9Myl7dmFyIE09ay5jaGlsZHJlbltDXTt3aGlsZShPPGEubGVuZ3RoJiZhW09dPE0pTys9MzthLnNwbGljZShPLDAsay5jaGlsZHJlbltDXSxrLmNoaWxkcmVuW0MrMV0say5jaGlsZHJlbltDKzJdKX19cmV0dXJuIG5ldyB5bihlJiZlLnNvcnQoTm4pLGEpfWZ1bmN0aW9uIGtuKHQsZSl7aWYoIWV8fCF0Lmxlbmd0aClyZXR1cm4gdDtmb3IodmFyIG49W10scj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO24ucHVzaChuZXcgaG4oby5mcm9tK2Usby50bytlLG8udHlwZSkpfXJldHVybiBufWZ1bmN0aW9uIHhuKHQsZSxuLHIsbyxpLHMpe2Z1bmN0aW9uIGEodCxlKXtmb3IodmFyIGk9MDtpPHQubG9jYWwubGVuZ3RoO2krKyl7dmFyIGM9dC5sb2NhbFtpXS5tYXAocixvLGUpO2M/bi5wdXNoKGMpOnMub25SZW1vdmUmJnMub25SZW1vdmUodC5sb2NhbFtpXS5zcGVjKX1mb3IodmFyIGw9MDtsPHQuY2hpbGRyZW4ubGVuZ3RoO2wrPTMpYSh0LmNoaWxkcmVuW2wrMl0sdC5jaGlsZHJlbltsXStlKzEpfWZvcih2YXIgYz0wO2M8dC5sZW5ndGg7Yys9MyktMT09dFtjKzFdJiZhKHRbYysyXSxlW2NdK2krMSk7cmV0dXJuIG59ZnVuY3Rpb24gQ24odCxlLG4pe2lmKGUuaXNMZWFmKXJldHVybiBudWxsO2Zvcih2YXIgcj1uK2Uubm9kZVNpemUsbz1udWxsLGk9MCxzPXZvaWQgMDtpPHQubGVuZ3RoO2krKykocz10W2ldKSYmcy5mcm9tPm4mJnMudG88ciYmKChvfHwobz1bXSkpLnB1c2gocyksdFtpXT1udWxsKTtyZXR1cm4gb31mdW5jdGlvbiBPbih0KXtmb3IodmFyIGU9W10sbj0wO248dC5sZW5ndGg7bisrKW51bGwhPXRbbl0mJmUucHVzaCh0W25dKTtyZXR1cm4gZX1mdW5jdGlvbiBNbih0LGUsbixyKXt2YXIgbz1bXSxpPSExO2UuZm9yRWFjaCgoZnVuY3Rpb24oZSxzKXt2YXIgYT1Dbih0LGUscytuKTtpZihhKXtpPSEwO3ZhciBjPU1uKGEsZSxuK3MrMSxyKTtjIT13biYmby5wdXNoKHMscytlLm5vZGVTaXplLGMpfX0pKTtmb3IodmFyIHM9a24oaT9Pbih0KTp0LC1uKS5zb3J0KE5uKSxhPTA7YTxzLmxlbmd0aDthKyspc1thXS50eXBlLnZhbGlkKGUsc1thXSl8fChyLm9uUmVtb3ZlJiZyLm9uUmVtb3ZlKHNbYV0uc3BlYykscy5zcGxpY2UoYS0tLDEpKTtyZXR1cm4gcy5sZW5ndGh8fG8ubGVuZ3RoP25ldyB5bihzLG8pOndufWZ1bmN0aW9uIE5uKHQsZSl7cmV0dXJuIHQuZnJvbS1lLmZyb218fHQudG8tZS50b31mdW5jdGlvbiBUbih0KXtmb3IodmFyIGU9dCxuPTA7bjxlLmxlbmd0aC0xO24rKyl7dmFyIHI9ZVtuXTtpZihyLmZyb20hPXIudG8pZm9yKHZhciBvPW4rMTtvPGUubGVuZ3RoO28rKyl7dmFyIGk9ZVtvXTtpZihpLmZyb20hPXIuZnJvbSl7aS5mcm9tPHIudG8mJihlPT10JiYoZT10LnNsaWNlKCkpLGVbbl09ci5jb3B5KHIuZnJvbSxpLmZyb20pLERuKGUsbyxyLmNvcHkoaS5mcm9tLHIudG8pKSk7YnJlYWt9aS50byE9ci50byYmKGU9PXQmJihlPXQuc2xpY2UoKSksZVtvXT1pLmNvcHkoaS5mcm9tLHIudG8pLERuKGUsbysxLGkuY29weShyLnRvLGkudG8pKSl9fXJldHVybiBlfWZ1bmN0aW9uIERuKHQsZSxuKXt3aGlsZShlPHQubGVuZ3RoJiZObihuLHRbZV0pPjApZSsrO3Quc3BsaWNlKGUsMCxuKX1mdW5jdGlvbiBBbih0KXt2YXIgZT1bXTtyZXR1cm4gdC5zb21lUHJvcCgiZGVjb3JhdGlvbnMiLChmdW5jdGlvbihuKXt2YXIgcj1uKHQuc3RhdGUpO3ImJnIhPXduJiZlLnB1c2gocil9KSksdC5jdXJzb3JXcmFwcGVyJiZlLnB1c2goeW4uY3JlYXRlKHQuc3RhdGUuZG9jLFt0LmN1cnNvcldyYXBwZXIuZGVjb10pKSxibi5mcm9tKGUpfWJuLnByb3RvdHlwZS5mb3JDaGlsZD1mdW5jdGlvbih0LGUpe2lmKGUuaXNMZWFmKXJldHVybiB5bi5lbXB0eTtmb3IodmFyIG49W10scj0wO3I8dGhpcy5tZW1iZXJzLmxlbmd0aDtyKyspe3ZhciBvPXRoaXMubWVtYmVyc1tyXS5mb3JDaGlsZCh0LGUpO28hPXduJiYobyBpbnN0YW5jZW9mIGJuP249bi5jb25jYXQoby5tZW1iZXJzKTpuLnB1c2gobykpfXJldHVybiBibi5mcm9tKG4pfSxibi5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7aWYoISh0IGluc3RhbmNlb2YgYm4pfHx0Lm1lbWJlcnMubGVuZ3RoIT10aGlzLm1lbWJlcnMubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZT0wO2U8dGhpcy5tZW1iZXJzLmxlbmd0aDtlKyspaWYoIXRoaXMubWVtYmVyc1tlXS5lcSh0Lm1lbWJlcnNbZV0pKXJldHVybiExO3JldHVybiEwfSxibi5wcm90b3R5cGUubG9jYWxzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPSEwLHI9MDtyPHRoaXMubWVtYmVycy5sZW5ndGg7cisrKXt2YXIgbz10aGlzLm1lbWJlcnNbcl0ubG9jYWxzSW5uZXIodCk7aWYoby5sZW5ndGgpaWYoZSl7biYmKGU9ZS5zbGljZSgpLG49ITEpO2Zvcih2YXIgaT0wO2k8by5sZW5ndGg7aSsrKWUucHVzaChvW2ldKX1lbHNlIGU9b31yZXR1cm4gZT9UbihuP2U6ZS5zb3J0KE5uKSk6bW59LGJuLmZyb209ZnVuY3Rpb24odCl7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIHduO2Nhc2UgMTpyZXR1cm4gdFswXTtkZWZhdWx0OnJldHVybiBuZXcgYm4odCl9fTt2YXIgRW49ZnVuY3Rpb24odCxlKXt0aGlzLl9wcm9wcz1lLHRoaXMuc3RhdGU9ZS5zdGF0ZSx0aGlzLmRpc3BhdGNoPXRoaXMuZGlzcGF0Y2guYmluZCh0aGlzKSx0aGlzLl9yb290PW51bGwsdGhpcy5mb2N1c2VkPSExLHRoaXMuZG9tPXQmJnQubW91bnR8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHQmJih0LmFwcGVuZENoaWxkP3QuYXBwZW5kQ2hpbGQodGhpcy5kb20pOnQuYXBwbHk/dCh0aGlzLmRvbSk6dC5tb3VudCYmKHRoaXMubW91bnRlZD0hMCkpLHRoaXMuZWRpdGFibGU9em4odGhpcyksdGhpcy5tYXJrQ3Vyc29yPW51bGwsdGhpcy5jdXJzb3JXcmFwcGVyPW51bGwsUG4odGhpcyksdGhpcy5ub2RlVmlld3M9Qm4odGhpcyksdGhpcy5kb2NWaWV3PWN0KHRoaXMuc3RhdGUuZG9jLF9uKHRoaXMpLEFuKHRoaXMpLHRoaXMuZG9tLHRoaXMpLHRoaXMubGFzdFNlbGVjdGVkVmlld0Rlc2M9bnVsbCx0aGlzLmRyYWdnaW5nPW51bGwsRWUodGhpcyksdGhpcy5wbHVnaW5WaWV3cz1bXSx0aGlzLnVwZGF0ZVBsdWdpblZpZXdzKCl9LFJuPXtwcm9wczp7Y29uZmlndXJhYmxlOiEwfSxyb290Ontjb25maWd1cmFibGU6ITB9fTtmdW5jdGlvbiBfbih0KXt2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybiBlLmNsYXNzPSJQcm9zZU1pcnJvciIsZS5jb250ZW50ZWRpdGFibGU9U3RyaW5nKHQuZWRpdGFibGUpLHQuc29tZVByb3AoImF0dHJpYnV0ZXMiLChmdW5jdGlvbihuKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgbiYmKG49bih0LnN0YXRlKSksbilmb3IodmFyIHIgaW4gbikiY2xhc3MiPT1yP2UuY2xhc3MrPSIgIituW3JdOmVbcl18fCJjb250ZW50ZWRpdGFibGUiPT1yfHwibm9kZU5hbWUiPT1yfHwoZVtyXT1TdHJpbmcobltyXSkpfSkpLFtobi5ub2RlKDAsdC5zdGF0ZS5kb2MuY29udGVudC5zaXplLGUpXX1mdW5jdGlvbiBQbih0KXt2YXIgZT10LnN0YXRlLnNlbGVjdGlvbixuPWUuJGhlYWQscj1lLiRhbmNob3Isbz1lLnZpc2libGU7aWYodC5tYXJrQ3Vyc29yKXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtpLnNldEF0dHJpYnV0ZSgibWFyay1wbGFjZWhvbGRlciIsInRydWUiKSx0LmN1cnNvcldyYXBwZXI9e2RvbTppLGRlY286aG4ud2lkZ2V0KG4ucG9zLGkse3JhdzohMCxtYXJrczp0Lm1hcmtDdXJzb3J9KX19ZWxzZSBpZihvfHxuLnBvcyE9ci5wb3MpdC5jdXJzb3JXcmFwcGVyPW51bGw7ZWxzZXt2YXIgczshdC5jdXJzb3JXcmFwcGVyfHx0LmN1cnNvcldyYXBwZXIuZG9tLmNoaWxkTm9kZXMubGVuZ3RoPyhzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHMuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixzLnN0eWxlLmxlZnQ9Ii0xMDAwMDBweCIpOnQuY3Vyc29yV3JhcHBlci5kZWNvLnBvcyE9bi5wb3MmJihzPXQuY3Vyc29yV3JhcHBlci5kb20pLHMmJih0LmN1cnNvcldyYXBwZXI9e2RvbTpzLGRlY286aG4ud2lkZ2V0KG4ucG9zLHMse3JhdzohMH0pfSl9fWZ1bmN0aW9uIHpuKHQpe3JldHVybiF0LnNvbWVQcm9wKCJlZGl0YWJsZSIsKGZ1bmN0aW9uKGUpe3JldHVybiExPT09ZSh0LnN0YXRlKX0pKX1mdW5jdGlvbiBJbih0LGUpe3ZhciBuPU1hdGgubWluKHQuJGFuY2hvci5zaGFyZWREZXB0aCh0LmhlYWQpLGUuJGFuY2hvci5zaGFyZWREZXB0aChlLmhlYWQpKTtyZXR1cm4gdC4kYW5jaG9yLm5vZGUobikhPWUuJGFuY2hvci5ub2RlKG4pfWZ1bmN0aW9uIEJuKHQpe3ZhciBlPXt9O3JldHVybiB0LnNvbWVQcm9wKCJub2RlVmlld3MiLChmdW5jdGlvbih0KXtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKXx8KGVbbl09dFtuXSl9KSksZX1mdW5jdGlvbiBWbih0LGUpe3ZhciBuPTAscj0wO2Zvcih2YXIgbyBpbiB0KXtpZih0W29dIT1lW29dKXJldHVybiEwO24rK31mb3IodmFyIGkgaW4gZSlyKys7cmV0dXJuIG4hPXJ9Um4ucHJvcHMuZ2V0PWZ1bmN0aW9uKCl7aWYodGhpcy5fcHJvcHMuc3RhdGUhPXRoaXMuc3RhdGUpe3ZhciB0PXRoaXMuX3Byb3BzO2Zvcih2YXIgZSBpbiB0aGlzLl9wcm9wcz17fSx0KXRoaXMuX3Byb3BzW2VdPXRbZV07dGhpcy5fcHJvcHMuc3RhdGU9dGhpcy5zdGF0ZX1yZXR1cm4gdGhpcy5fcHJvcHN9LEVuLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dC5oYW5kbGVET01FdmVudHMhPXRoaXMuX3Byb3BzLmhhbmRsZURPTUV2ZW50cyYmUGUodGhpcyksdGhpcy5fcHJvcHM9dCx0aGlzLnVwZGF0ZVN0YXRlSW5uZXIodC5zdGF0ZSwhMCl9LEVuLnByb3RvdHlwZS5zZXRQcm9wcz1mdW5jdGlvbih0KXt2YXIgZT17fTtmb3IodmFyIG4gaW4gdGhpcy5fcHJvcHMpZVtuXT10aGlzLl9wcm9wc1tuXTtmb3IodmFyIHIgaW4gZS5zdGF0ZT10aGlzLnN0YXRlLHQpZVtyXT10W3JdO3RoaXMudXBkYXRlKGUpfSxFbi5wcm90b3R5cGUudXBkYXRlU3RhdGU9ZnVuY3Rpb24odCl7dGhpcy51cGRhdGVTdGF0ZUlubmVyKHQsdGhpcy5zdGF0ZS5wbHVnaW5zIT10LnBsdWdpbnMpfSxFbi5wcm90b3R5cGUudXBkYXRlU3RhdGVJbm5lcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMsbz10aGlzLnN0YXRlLGk9ITE7aWYodGhpcy5zdGF0ZT10LGUpe3ZhciBhPUJuKHRoaXMpO1ZuKGEsdGhpcy5ub2RlVmlld3MpJiYodGhpcy5ub2RlVmlld3M9YSxpPSEwKSxQZSh0aGlzKX10aGlzLmVkaXRhYmxlPXpuKHRoaXMpLFBuKHRoaXMpO3ZhciBjPUFuKHRoaXMpLGw9X24odGhpcyksdT1lPyJyZXNldCI6dC5zY3JvbGxUb1NlbGVjdGlvbj5vLnNjcm9sbFRvU2VsZWN0aW9uPyJ0byBzZWxlY3Rpb24iOiJwcmVzZXJ2ZSIscD1pfHwhdGhpcy5kb2NWaWV3Lm1hdGNoZXNOb2RlKHQuZG9jLGwsYyksZj1wfHwhdC5zZWxlY3Rpb24uZXEoby5zZWxlY3Rpb24pLGQ9InByZXNlcnZlIj09dSYmZiYmbnVsbD09dGhpcy5kb20uc3R5bGUub3ZlcmZsb3dBbmNob3ImJk8odGhpcyk7aWYoZil7dGhpcy5kb21PYnNlcnZlci5zdG9wKCk7dmFyIGg9cCYmKHMuaWV8fHMuY2hyb21lKSYmIW8uc2VsZWN0aW9uLmVtcHR5JiYhdC5zZWxlY3Rpb24uZW1wdHkmJkluKG8uc2VsZWN0aW9uLHQuc2VsZWN0aW9uKTtwJiYoIWkmJnRoaXMuZG9jVmlldy51cGRhdGUodC5kb2MsbCxjLHRoaXMpfHwodGhpcy5kb2NWaWV3LmRlc3Ryb3koKSx0aGlzLmRvY1ZpZXc9Y3QodC5kb2MsbCxjLHRoaXMuZG9tLHRoaXMpKSksaHx8ISh0aGlzLm1vdXNlRG93biYmdGhpcy5kb21PYnNlcnZlci5jdXJyZW50U2VsZWN0aW9uLmVxKHRoaXMucm9vdC5nZXRTZWxlY3Rpb24oKSkmJmVlKHRoaXMpKT9xdCh0aGlzLGgpOihYdCh0aGlzLHQuc2VsZWN0aW9uKSx0aGlzLmRvbU9ic2VydmVyLnNldEN1clNlbGVjdGlvbigpKSx0aGlzLmRvbU9ic2VydmVyLnN0YXJ0KCl9aWYodGhpcy51cGRhdGVQbHVnaW5WaWV3cyhvKSwicmVzZXQiPT11KXRoaXMuZG9tLnNjcm9sbFRvcD0wO2Vsc2UgaWYoInRvIHNlbGVjdGlvbiI9PXUpe3ZhciB2PXRoaXMucm9vdC5nZXRTZWxlY3Rpb24oKS5mb2N1c05vZGU7dGhpcy5zb21lUHJvcCgiaGFuZGxlU2Nyb2xsVG9TZWxlY3Rpb24iLChmdW5jdGlvbih0KXtyZXR1cm4gdChuKX0pKXx8KHQuc2VsZWN0aW9uIGluc3RhbmNlb2YgclsiTm9kZVNlbGVjdGlvbiJdP0ModGhpcyx0aGlzLmRvY1ZpZXcuZG9tQWZ0ZXJQb3ModC5zZWxlY3Rpb24uZnJvbSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdik6Qyh0aGlzLHRoaXMuY29vcmRzQXRQb3ModC5zZWxlY3Rpb24uaGVhZCksdikpfWVsc2UgZCYmTihkKX0sRW4ucHJvdG90eXBlLmRlc3Ryb3lQbHVnaW5WaWV3cz1mdW5jdGlvbigpe3ZhciB0O3doaWxlKHQ9dGhpcy5wbHVnaW5WaWV3cy5wb3AoKSl0LmRlc3Ryb3kmJnQuZGVzdHJveSgpfSxFbi5wcm90b3R5cGUudXBkYXRlUGx1Z2luVmlld3M9ZnVuY3Rpb24odCl7aWYodCYmdC5wbHVnaW5zPT10aGlzLnN0YXRlLnBsdWdpbnMpZm9yKHZhciBlPTA7ZTx0aGlzLnBsdWdpblZpZXdzLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMucGx1Z2luVmlld3NbZV07bi51cGRhdGUmJm4udXBkYXRlKHRoaXMsdCl9ZWxzZXt0aGlzLmRlc3Ryb3lQbHVnaW5WaWV3cygpO2Zvcih2YXIgcj0wO3I8dGhpcy5zdGF0ZS5wbHVnaW5zLmxlbmd0aDtyKyspe3ZhciBvPXRoaXMuc3RhdGUucGx1Z2luc1tyXTtvLnNwZWMudmlldyYmdGhpcy5wbHVnaW5WaWV3cy5wdXNoKG8uc3BlYy52aWV3KHRoaXMpKX19fSxFbi5wcm90b3R5cGUuc29tZVByb3A9ZnVuY3Rpb24odCxlKXt2YXIgbixyPXRoaXMuX3Byb3BzJiZ0aGlzLl9wcm9wc1t0XTtpZihudWxsIT1yJiYobj1lP2Uocik6cikpcmV0dXJuIG47dmFyIG89dGhpcy5zdGF0ZS5wbHVnaW5zO2lmKG8pZm9yKHZhciBpPTA7aTxvLmxlbmd0aDtpKyspe3ZhciBzPW9baV0ucHJvcHNbdF07aWYobnVsbCE9cyYmKG49ZT9lKHMpOnMpKXJldHVybiBufX0sRW4ucHJvdG90eXBlLmhhc0ZvY3VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdC5hY3RpdmVFbGVtZW50PT10aGlzLmRvbX0sRW4ucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKCl7dGhpcy5kb21PYnNlcnZlci5zdG9wKCksdGhpcy5lZGl0YWJsZSYmQSh0aGlzLmRvbSkscXQodGhpcyksdGhpcy5kb21PYnNlcnZlci5zdGFydCgpfSxSbi5yb290LmdldD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3Jvb3Q7aWYobnVsbD09dClmb3IodmFyIGU9dGhpcy5kb20ucGFyZW50Tm9kZTtlO2U9ZS5wYXJlbnROb2RlKWlmKDk9PWUubm9kZVR5cGV8fDExPT1lLm5vZGVUeXBlJiZlLmhvc3QpcmV0dXJuIGUuZ2V0U2VsZWN0aW9ufHwoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmdldFNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKX0pLHRoaXMuX3Jvb3Q9ZTtyZXR1cm4gdHx8ZG9jdW1lbnR9LEVuLnByb3RvdHlwZS5wb3NBdENvb3Jkcz1mdW5jdGlvbih0KXtyZXR1cm4gVih0aGlzLHQpfSxFbi5wcm90b3R5cGUuY29vcmRzQXRQb3M9ZnVuY3Rpb24odCl7cmV0dXJuIGoodGhpcyx0KX0sRW4ucHJvdG90eXBlLmRvbUF0UG9zPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRvY1ZpZXcuZG9tRnJvbVBvcyh0KX0sRW4ucHJvdG90eXBlLm5vZGVET009ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kb2NWaWV3LmRlc2NBdCh0KTtyZXR1cm4gZT9lLm5vZGVET006bnVsbH0sRW4ucHJvdG90eXBlLnBvc0F0RE9NPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0tMSk7dmFyIHI9dGhpcy5kb2NWaWV3LnBvc0Zyb21ET00odCxlLG4pO2lmKG51bGw9PXIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRPTSBwb3NpdGlvbiBub3QgaW5zaWRlIHRoZSBlZGl0b3IiKTtyZXR1cm4gcn0sRW4ucHJvdG90eXBlLmVuZE9mVGV4dGJsb2NrPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFgodGhpcyxlfHx0aGlzLnN0YXRlLHQpfSxFbi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZG9jVmlldyYmKF9lKHRoaXMpLHRoaXMuZGVzdHJveVBsdWdpblZpZXdzKCksdGhpcy5tb3VudGVkPyh0aGlzLmRvY1ZpZXcudXBkYXRlKHRoaXMuc3RhdGUuZG9jLFtdLEFuKHRoaXMpLHRoaXMpLHRoaXMuZG9tLnRleHRDb250ZW50PSIiKTp0aGlzLmRvbS5wYXJlbnROb2RlJiZ0aGlzLmRvbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tKSx0aGlzLmRvY1ZpZXcuZGVzdHJveSgpLHRoaXMuZG9jVmlldz1udWxsKX0sRW4ucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIEJlKHRoaXMsdCl9LEVuLnByb3RvdHlwZS5kaXNwYXRjaD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wcm9wcy5kaXNwYXRjaFRyYW5zYWN0aW9uO2U/ZS5jYWxsKHRoaXMsdCk6dGhpcy51cGRhdGVTdGF0ZSh0aGlzLnN0YXRlLmFwcGx5KHQpKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRW4ucHJvdG90eXBlLFJuKX0sIjVjNmMiOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJue2VudW1lcmFibGU6ISgxJnQpLGNvbmZpZ3VyYWJsZTohKDImdCksd3JpdGFibGU6ISg0JnQpLHZhbHVlOmV9fX0sIjVkYmUiOmZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24oKXt2YXIgZTtmdW5jdGlvbiBuKCl7Y29uc29sZS5sb2coby5hcHBseShudWxsLGFyZ3VtZW50cykpfWZ1bmN0aW9uIHIodCxlKXtyZXR1cm4gby5hcHBseShudWxsLFt0XS5jb25jYXQoZSkpfWZ1bmN0aW9uIG8odCl7Zm9yKHZhciBlLG4scixvLGk9MSxzPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxhPTAsYz10Lmxlbmd0aCxsPSIiLHU9ITEscD0hMSxmPWZ1bmN0aW9uKCl7cmV0dXJuIHNbaSsrXX0sZD1mdW5jdGlvbigpe3ZhciBuPSIiO3doaWxlKC9cZC8udGVzdCh0W2FdKSluKz10W2ErK10sZT10W2FdO3JldHVybiBuLmxlbmd0aD4wP3BhcnNlSW50KG4pOm51bGx9O2E8YzsrK2EpaWYoZT10W2FdLHUpc3dpdGNoKHU9ITEsIi4iPT1lPyhwPSExLGU9dFsrK2FdKToiMCI9PWUmJiIuIj09dFthKzFdPyhwPSEwLGErPTIsZT10W2FdKTpwPSEwLG89ZCgpLGUpe2Nhc2UiYiI6bCs9cGFyc2VJbnQoZigpLDEwKS50b1N0cmluZygyKTticmVhaztjYXNlImMiOm49ZigpLGwrPSJzdHJpbmciPT09dHlwZW9mIG58fG4gaW5zdGFuY2VvZiBTdHJpbmc/bjpTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KG4sMTApKTticmVhaztjYXNlImQiOmwrPXBhcnNlSW50KGYoKSwxMCk7YnJlYWs7Y2FzZSJmIjpyPVN0cmluZyhwYXJzZUZsb2F0KGYoKSkudG9GaXhlZChvfHw2KSksbCs9cD9yOnIucmVwbGFjZSgvXjAvLCIiKTticmVhaztjYXNlImoiOmwrPUpTT04uc3RyaW5naWZ5KGYoKSk7YnJlYWs7Y2FzZSJvIjpsKz0iMCIrcGFyc2VJbnQoZigpLDEwKS50b1N0cmluZyg4KTticmVhaztjYXNlInMiOmwrPWYoKTticmVhaztjYXNlIngiOmwrPSIweCIrcGFyc2VJbnQoZigpLDEwKS50b1N0cmluZygxNik7YnJlYWs7Y2FzZSJYIjpsKz0iMHgiK3BhcnNlSW50KGYoKSwxMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7YnJlYWs7ZGVmYXVsdDpsKz1lO2JyZWFrfWVsc2UiJSI9PT1lP3U9ITA6bCs9ZTtyZXR1cm4gbH1lPXQuZXhwb3J0cz1vLGUuZm9ybWF0PW8sZS52c3ByaW50Zj1yLCJ1bmRlZmluZWQiIT09dHlwZW9mIGNvbnNvbGUmJiJmdW5jdGlvbiI9PT10eXBlb2YgY29uc29sZS5sb2cmJihlLnByaW50Zj1uKX0pKCl9LDY1NDc6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImE2OTEiKSxvPW4oIjFkODAiKSxpPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciBpLHMsYT1TdHJpbmcobyhlKSksYz1yKG4pLGw9YS5sZW5ndGg7cmV0dXJuIGM8MHx8Yz49bD90PyIiOnZvaWQgMDooaT1hLmNoYXJDb2RlQXQoYyksaTw1NTI5Nnx8aT41NjMxOXx8YysxPT09bHx8KHM9YS5jaGFyQ29kZUF0KGMrMSkpPDU2MzIwfHxzPjU3MzQzP3Q/YS5jaGFyQXQoYyk6aTp0P2Euc2xpY2UoYyxjKzIpOnMtNTYzMjArKGktNTUyOTY8PDEwKSs2NTUzNil9fTt0LmV4cG9ydHM9e2NvZGVBdDppKCExKSxjaGFyQXQ6aSghMCl9fSwiNjVmMCI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjg2MWQiKSxvPW4oImU4YjUiKSxpPW4oImI2MjIiKSxzPWkoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbyh0KSYmKG49dC5jb25zdHJ1Y3RvciwiZnVuY3Rpb24iIT10eXBlb2Ygbnx8biE9PUFycmF5JiYhbyhuLnByb3RvdHlwZSk/cihuKSYmKG49bltzXSxudWxsPT09biYmKG49dm9pZCAwKSk6bj12b2lkIDApLG5ldyh2b2lkIDA9PT1uP0FycmF5Om4pKDA9PT1lPzA6ZSl9fSwiNjlmMyI6ZnVuY3Rpb24odCxlLG4pe3ZhciByLG8saSxzPW4oIjdmOWEiKSxhPW4oImRhODQiKSxjPW4oIjg2MWQiKSxsPW4oIjkxMTIiKSx1PW4oIjUxMzUiKSxwPW4oImY3NzIiKSxmPW4oImQwMTIiKSxkPWEuV2Vha01hcCxoPWZ1bmN0aW9uKHQpe3JldHVybiBpKHQpP28odCk6cih0LHt9KX0sdj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG47aWYoIWMoZSl8fChuPW8oZSkpLnR5cGUhPT10KXRocm93IFR5cGVFcnJvcigiSW5jb21wYXRpYmxlIHJlY2VpdmVyLCAiK3QrIiByZXF1aXJlZCIpO3JldHVybiBufX07aWYocyl7dmFyIG09bmV3IGQsZz1tLmdldCx5PW0uaGFzLHc9bS5zZXQ7cj1mdW5jdGlvbih0LGUpe3JldHVybiB3LmNhbGwobSx0LGUpLGV9LG89ZnVuY3Rpb24odCl7cmV0dXJuIGcuY2FsbChtLHQpfHx7fX0saT1mdW5jdGlvbih0KXtyZXR1cm4geS5jYWxsKG0sdCl9fWVsc2V7dmFyIGI9cCgic3RhdGUiKTtmW2JdPSEwLHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbCh0LGIsZSksZX0sbz1mdW5jdGlvbih0KXtyZXR1cm4gdSh0LGIpP3RbYl06e319LGk9ZnVuY3Rpb24odCl7cmV0dXJuIHUodCxiKX19dC5leHBvcnRzPXtzZXQ6cixnZXQ6byxoYXM6aSxlbmZvcmNlOmgsZ2V0dGVyRm9yOnZ9fSwiNmVlYiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImRhODQiKSxvPW4oIjkxMTIiKSxpPW4oIjUxMzUiKSxzPW4oImNlNGUiKSxhPW4oIjg5MjUiKSxjPW4oIjY5ZjMiKSxsPWMuZ2V0LHU9Yy5lbmZvcmNlLHA9U3RyaW5nKFN0cmluZykuc3BsaXQoIlN0cmluZyIpOyh0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4sYSl7dmFyIGM9ISFhJiYhIWEudW5zYWZlLGw9ISFhJiYhIWEuZW51bWVyYWJsZSxmPSEhYSYmISFhLm5vVGFyZ2V0R2V0OyJmdW5jdGlvbiI9PXR5cGVvZiBuJiYoInN0cmluZyIhPXR5cGVvZiBlfHxpKG4sIm5hbWUiKXx8byhuLCJuYW1lIixlKSx1KG4pLnNvdXJjZT1wLmpvaW4oInN0cmluZyI9PXR5cGVvZiBlP2U6IiIpKSx0IT09cj8oYz8hZiYmdFtlXSYmKGw9ITApOmRlbGV0ZSB0W2VdLGw/dFtlXT1uOm8odCxlLG4pKTpsP3RbZV09bjpzKGUsbil9KShGdW5jdGlvbi5wcm90b3R5cGUsInRvU3RyaW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdGhpcyYmbCh0aGlzKS5zb3VyY2V8fGEodGhpcyl9KSl9LCI2ZjUzIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiODNhYiIpLG89bigiZGY3NSIpLGk9bigiZmM2YSIpLHM9bigiZDFlNyIpLmYsYT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG4sYT1pKGUpLGM9byhhKSxsPWMubGVuZ3RoLHU9MCxwPVtdO3doaWxlKGw+dSluPWNbdSsrXSxyJiYhcy5jYWxsKGEsbil8fHAucHVzaCh0P1tuLGFbbl1dOmFbbl0pO3JldHVybiBwfX07dC5leHBvcnRzPXtlbnRyaWVzOmEoITApLHZhbHVlczphKCExKX19LDc0MTg6ZnVuY3Rpb24odCxlKXtlLmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30sIjc0NmYiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI0MjhmIiksbz1uKCI1MTM1IiksaT1uKCJjMDMyIikscz1uKCI5YmYyIikuZjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9ci5TeW1ib2x8fChyLlN5bWJvbD17fSk7byhlLHQpfHxzKGUsdCx7dmFsdWU6aS5mKHQpfSl9fSw3ODM5OmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVsiY29uc3RydWN0b3IiLCJoYXNPd25Qcm9wZXJ0eSIsImlzUHJvdG90eXBlT2YiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInRvTG9jYWxlU3RyaW5nIiwidG9TdHJpbmciLCJ2YWx1ZU9mIl19LCI3YjBiIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiMWQ4MCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KHIodCkpfX0sIjdjNzMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcixvPW4oIjgyNWEiKSxpPW4oIjM3ZTgiKSxzPW4oIjc4MzkiKSxhPW4oImQwMTIiKSxjPW4oIjFiZTQiKSxsPW4oImNjMTIiKSx1PW4oImY3NzIiKSxwPSI+IixmPSI8IixkPSJwcm90b3R5cGUiLGg9InNjcmlwdCIsdj11KCJJRV9QUk9UTyIpLG09ZnVuY3Rpb24oKXt9LGc9ZnVuY3Rpb24odCl7cmV0dXJuIGYraCtwK3QrZisiLyIraCtwfSx5PWZ1bmN0aW9uKHQpe3Qud3JpdGUoZygiIikpLHQuY2xvc2UoKTt2YXIgZT10LnBhcmVudFdpbmRvdy5PYmplY3Q7cmV0dXJuIHQ9bnVsbCxlfSx3PWZ1bmN0aW9uKCl7dmFyIHQsZT1sKCJpZnJhbWUiKSxuPSJqYXZhIitoKyI6IjtyZXR1cm4gZS5zdHlsZS5kaXNwbGF5PSJub25lIixjLmFwcGVuZENoaWxkKGUpLGUuc3JjPVN0cmluZyhuKSx0PWUuY29udGVudFdpbmRvdy5kb2N1bWVudCx0Lm9wZW4oKSx0LndyaXRlKGcoImRvY3VtZW50LkY9T2JqZWN0IikpLHQuY2xvc2UoKSx0LkZ9LGI9ZnVuY3Rpb24oKXt0cnl7cj1kb2N1bWVudC5kb21haW4mJm5ldyBBY3RpdmVYT2JqZWN0KCJodG1sZmlsZSIpfWNhdGNoKGUpe31iPXI/eShyKTp3KCk7dmFyIHQ9cy5sZW5ndGg7d2hpbGUodC0tKWRlbGV0ZSBiW2RdW3NbdF1dO3JldHVybiBiKCl9O2Fbdl09ITAsdC5leHBvcnRzPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIG51bGwhPT10PyhtW2RdPW8odCksbj1uZXcgbSxtW2RdPW51bGwsblt2XT10KTpuPWIoKSx2b2lkIDA9PT1lP246aShuLGUpfX0sIjdkZDAiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiMjNlNyIpLG89bigiOWVkMyIpLGk9bigiZTE2MyIpLHM9bigiZDJiYiIpLGE9bigiZDQ0ZSIpLGM9bigiOTExMiIpLGw9bigiNmVlYiIpLHU9bigiYjYyMiIpLHA9bigiYzQzMCIpLGY9bigiM2Y4YyIpLGQ9bigiYWU5MyIpLGg9ZC5JdGVyYXRvclByb3RvdHlwZSx2PWQuQlVHR1lfU0FGQVJJX0lURVJBVE9SUyxtPXUoIml0ZXJhdG9yIiksZz0ia2V5cyIseT0idmFsdWVzIix3PSJlbnRyaWVzIixiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbix1LGQsUyxrKXtvKG4sZSx1KTt2YXIgeCxDLE8sTT1mdW5jdGlvbih0KXtpZih0PT09ZCYmRSlyZXR1cm4gRTtpZighdiYmdCBpbiBEKXJldHVybiBEW3RdO3N3aXRjaCh0KXtjYXNlIGc6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMsdCl9O2Nhc2UgeTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyx0KX07Y2FzZSB3OnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLHQpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyl9fSxOPWUrIiBJdGVyYXRvciIsVD0hMSxEPXQucHJvdG90eXBlLEE9RFttXXx8RFsiQEBpdGVyYXRvciJdfHxkJiZEW2RdLEU9IXYmJkF8fE0oZCksUj0iQXJyYXkiPT1lJiZELmVudHJpZXN8fEE7aWYoUiYmKHg9aShSLmNhbGwobmV3IHQpKSxoIT09T2JqZWN0LnByb3RvdHlwZSYmeC5uZXh0JiYocHx8aSh4KT09PWh8fChzP3MoeCxoKToiZnVuY3Rpb24iIT10eXBlb2YgeFttXSYmYyh4LG0sYikpLGEoeCxOLCEwLCEwKSxwJiYoZltOXT1iKSkpLGQ9PXkmJkEmJkEubmFtZSE9PXkmJihUPSEwLEU9ZnVuY3Rpb24oKXtyZXR1cm4gQS5jYWxsKHRoaXMpfSkscCYmIWt8fERbbV09PT1FfHxjKEQsbSxFKSxmW2VdPUUsZClpZihDPXt2YWx1ZXM6TSh5KSxrZXlzOlM/RTpNKGcpLGVudHJpZXM6TSh3KX0saylmb3IoTyBpbiBDKSF2JiYhVCYmTyBpbiBEfHxsKEQsTyxDW09dKTtlbHNlIHIoe3RhcmdldDplLHByb3RvOiEwLGZvcmNlZDp2fHxUfSxDKTtyZXR1cm4gQ319LCI3ZjA2IjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Zvcih2YXIgcj17ODoiQmFja3NwYWNlIiw5OiJUYWIiLDEwOiJFbnRlciIsMTI6Ik51bUxvY2siLDEzOiJFbnRlciIsMTY6IlNoaWZ0IiwxNzoiQ29udHJvbCIsMTg6IkFsdCIsMjA6IkNhcHNMb2NrIiwyNzoiRXNjYXBlIiwzMjoiICIsMzM6IlBhZ2VVcCIsMzQ6IlBhZ2VEb3duIiwzNToiRW5kIiwzNjoiSG9tZSIsMzc6IkFycm93TGVmdCIsMzg6IkFycm93VXAiLDM5OiJBcnJvd1JpZ2h0Iiw0MDoiQXJyb3dEb3duIiw0NDoiUHJpbnRTY3JlZW4iLDQ1OiJJbnNlcnQiLDQ2OiJEZWxldGUiLDU5OiI7Iiw2MToiPSIsOTE6Ik1ldGEiLDkyOiJNZXRhIiwxMDY6IioiLDEwNzoiKyIsMTA4OiIsIiwxMDk6Ii0iLDExMDoiLiIsMTExOiIvIiwxNDQ6Ik51bUxvY2siLDE0NToiU2Nyb2xsTG9jayIsMTYwOiJTaGlmdCIsMTYxOiJTaGlmdCIsMTYyOiJDb250cm9sIiwxNjM6IkNvbnRyb2wiLDE2NDoiQWx0IiwxNjU6IkFsdCIsMTczOiItIiwxODY6IjsiLDE4NzoiPSIsMTg4OiIsIiwxODk6Ii0iLDE5MDoiLiIsMTkxOiIvIiwxOTI6ImAiLDIxOToiWyIsMjIwOiJcXCIsMjIxOiJdIiwyMjI6IiciLDIyOToicSJ9LG89cixpPXs0ODoiKSIsNDk6IiEiLDUwOiJAIiw1MToiIyIsNTI6IiQiLDUzOiIlIiw1NDoiXiIsNTU6IiYiLDU2OiIqIiw1NzoiKCIsNTk6IjsiLDYxOiIrIiwxNzM6Il8iLDE4NjoiOiIsMTg3OiIrIiwxODg6IjwiLDE4OToiXyIsMTkwOiI+IiwxOTE6Ij8iLDE5MjoifiIsMjE5OiJ7IiwyMjA6InwiLDIyMToifSIsMjIyOiciJywyMjk6IlEifSxzPSJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiYvQ2hyb21lXC8oXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KSxhPSJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiYvQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2aWdhdG9yLnZlbmRvciksYz0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmL0dlY2tvXC9cZCsvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksbD0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmL01hYy8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pLHU9InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9NU0lFIFxkfFRyaWRlbnRcLyg/Ols3LTldfFxkezIsfSlcLi4qcnY6KFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCkscD1zJiYobHx8K3NbMV08NTcpfHxjJiZsLGY9MDtmPDEwO2YrKylyWzQ4K2ZdPXJbOTYrZl09U3RyaW5nKGYpO2ZvcihmPTE7Zjw9MjQ7ZisrKXJbZisxMTFdPSJGIitmO2ZvcihmPTY1O2Y8PTkwO2YrKylyW2ZdPVN0cmluZy5mcm9tQ2hhckNvZGUoZiszMiksaVtmXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGYpO2Zvcih2YXIgZCBpbiByKWkuaGFzT3duUHJvcGVydHkoZCl8fChpW2RdPXJbZF0pO3ZhciBoPWZ1bmN0aW9uKHQpe3ZhciBlPXAmJih0LmN0cmxLZXl8fHQuYWx0S2V5fHx0Lm1ldGFLZXkpfHwoYXx8dSkmJnQuc2hpZnRLZXkmJnQua2V5JiYxPT10LmtleS5sZW5ndGgsbj0hZSYmdC5rZXl8fCh0LnNoaWZ0S2V5P2k6cilbdC5rZXlDb2RlXXx8dC5rZXl8fCJVbmlkZW50aWZpZWQiO3JldHVybiJFc2MiPT1uJiYobj0iRXNjYXBlIiksIkRlbCI9PW4mJihuPSJEZWxldGUiKSwiTGVmdCI9PW4mJihuPSJBcnJvd0xlZnQiKSwiVXAiPT1uJiYobj0iQXJyb3dVcCIpLCJSaWdodCI9PW4mJihuPSJBcnJvd1JpZ2h0IiksIkRvd24iPT1uJiYobj0iQXJyb3dEb3duIiksbn0sdj1uKCI1MzEzIik7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBTfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKTt2YXIgbT0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmL01hYy8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO2Z1bmN0aW9uIGcodCl7dmFyIGUsbixyLG8saT10LnNwbGl0KC8tKD8hJCkvKSxzPWlbaS5sZW5ndGgtMV07IlNwYWNlIj09cyYmKHM9IiAiKTtmb3IodmFyIGE9MDthPGkubGVuZ3RoLTE7YSsrKXt2YXIgYz1pW2FdO2lmKC9eKGNtZHxtZXRhfG0pJC9pLnRlc3QoYykpbz0hMDtlbHNlIGlmKC9eYShsdCk/JC9pLnRlc3QoYykpZT0hMDtlbHNlIGlmKC9eKGN8Y3RybHxjb250cm9sKSQvaS50ZXN0KGMpKW49ITA7ZWxzZSBpZigvXnMoaGlmdCk/JC9pLnRlc3QoYykpcj0hMDtlbHNle2lmKCEvXm1vZCQvaS50ZXN0KGMpKXRocm93IG5ldyBFcnJvcigiVW5yZWNvZ25pemVkIG1vZGlmaWVyIG5hbWU6ICIrYyk7bT9vPSEwOm49ITB9fXJldHVybiBlJiYocz0iQWx0LSIrcyksbiYmKHM9IkN0cmwtIitzKSxvJiYocz0iTWV0YS0iK3MpLHImJihzPSJTaGlmdC0iK3MpLHN9ZnVuY3Rpb24geSh0KXt2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcih2YXIgbiBpbiB0KWVbZyhuKV09dFtuXTtyZXR1cm4gZX1mdW5jdGlvbiB3KHQsZSxuKXtyZXR1cm4gZS5hbHRLZXkmJih0PSJBbHQtIit0KSxlLmN0cmxLZXkmJih0PSJDdHJsLSIrdCksZS5tZXRhS2V5JiYodD0iTWV0YS0iK3QpLCExIT09biYmZS5zaGlmdEtleSYmKHQ9IlNoaWZ0LSIrdCksdH1mdW5jdGlvbiBiKHQpe3JldHVybiBuZXcgdlsiUGx1Z2luIl0oe3Byb3BzOntoYW5kbGVLZXlEb3duOlModCl9fSl9ZnVuY3Rpb24gUyh0KXt2YXIgZT15KHQpO3JldHVybiBmdW5jdGlvbih0LG4pe3ZhciByLGk9aChuKSxzPTE9PWkubGVuZ3RoJiYiICIhPWksYT1lW3coaSxuLCFzKV07aWYoYSYmYSh0LnN0YXRlLHQuZGlzcGF0Y2gsdCkpcmV0dXJuITA7aWYocyYmKG4uc2hpZnRLZXl8fG4uYWx0S2V5fHxuLm1ldGFLZXkpJiYocj1vW24ua2V5Q29kZV0pJiZyIT1pKXt2YXIgYz1lW3cocixuLCEwKV07aWYoYyYmYyh0LnN0YXRlLHQuZGlzcGF0Y2gsdCkpcmV0dXJuITB9ZWxzZSBpZihzJiZuLnNoaWZ0S2V5KXt2YXIgbD1lW3coaSxuLCEwKV07aWYobCYmbCh0LnN0YXRlLHQuZGlzcGF0Y2gsdCkpcmV0dXJuITB9cmV0dXJuITF9fX0sIjdmOWEiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJkYTg0Iiksbz1uKCI4OTI1IiksaT1yLldlYWtNYXA7dC5leHBvcnRzPSJmdW5jdGlvbiI9PT10eXBlb2YgaSYmL25hdGl2ZSBjb2RlLy50ZXN0KG8oaSkpfSwiODI1YSI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjg2MWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIXIodCkpdGhyb3cgVHlwZUVycm9yKFN0cmluZyh0KSsiIGlzIG5vdCBhbiBvYmplY3QiKTtyZXR1cm4gdH19LCI4M2FiIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZDAzOSIpO3QuZXhwb3J0cz0hcigoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pKX0sIjg2MWQiOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiJvYmplY3QiPT09dHlwZW9mIHQ/bnVsbCE9PXQ6ImZ1bmN0aW9uIj09PXR5cGVvZiB0fX0sODkyNTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiYzZjZCIpLG89RnVuY3Rpb24udG9TdHJpbmc7ImZ1bmN0aW9uIiE9dHlwZW9mIHIuaW5zcGVjdFNvdXJjZSYmKHIuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gby5jYWxsKHQpfSksdC5leHBvcnRzPXIuaW5zcGVjdFNvdXJjZX0sIjhiYmYiOmZ1bmN0aW9uKGUsbil7ZS5leHBvcnRzPXR9LCI5MGUzIjpmdW5jdGlvbih0LGUpe3ZhciBuPTAscj1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4iU3ltYm9sKCIrU3RyaW5nKHZvaWQgMD09PXQ/IiI6dCkrIilfIisoKytuK3IpLnRvU3RyaW5nKDM2KX19LDkxMTI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjgzYWIiKSxvPW4oIjliZjIiKSxpPW4oIjVjNmMiKTt0LmV4cG9ydHM9cj9mdW5jdGlvbih0LGUsbil7cmV0dXJuIG8uZih0LGUsaSgxLG4pKX06ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW4sdH19LCI5NGNhIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZDAzOSIpLG89LyN8XC5wcm90b3R5cGVcLi8saT1mdW5jdGlvbih0LGUpe3ZhciBuPWFbcyh0KV07cmV0dXJuIG49PWx8fG4hPWMmJigiZnVuY3Rpb24iPT10eXBlb2YgZT9yKGUpOiEhZSl9LHM9aS5ub3JtYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIFN0cmluZyh0KS5yZXBsYWNlKG8sIi4iKS50b0xvd2VyQ2FzZSgpfSxhPWkuZGF0YT17fSxjPWkuTkFUSVZFPSJOIixsPWkuUE9MWUZJTEw9IlAiO3QuZXhwb3J0cz1pfSwiOTg2ZCI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9bigiNTMxMyIpLG89bigiMzA0YSIpLGk9bigiNTViZSIpLHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPSQodCkoZS5zZWxlY3Rpb24pO3JldHVybiBuP3gobi5wb3MpKGUpOmV9fSxhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe0FycmF5LmlzQXJyYXkodCl8fCh0PVt0XSk7Zm9yKHZhciByPTAsbz10Lmxlbmd0aDtyPG87cisrKXt2YXIgaT0kKHRbcl0pKG4uc2VsZWN0aW9uKTtpZihpKXt2YXIgcz1TKGkucG9zLGUpKG4pO2lmKHMhPT1uKXJldHVybiBzfX1yZXR1cm4gbn19LGM9ZnVuY3Rpb24odCl7aWYoeSh0LnNlbGVjdGlvbikpe3ZhciBlPXQuc2VsZWN0aW9uLiRmcm9tLnBvcyxuPXQuc2VsZWN0aW9uLiR0by5wb3M7cmV0dXJuIGIodC5kZWxldGUoZSxuKSl9cmV0dXJuIHR9LGw9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKHkoZS5zZWxlY3Rpb24pKXt2YXIgbj1lLnNlbGVjdGlvbixpPW4uJGZyb20scz1uLiR0bztpZih0IGluc3RhbmNlb2Ygby5GcmFnbWVudCYmaS5wYXJlbnQuY2FuUmVwbGFjZShpLmluZGV4KCksaS5pbmRleEFmdGVyKCksdCl8fGkucGFyZW50LmNhblJlcGxhY2VXaXRoKGkuaW5kZXgoKSxpLmluZGV4QWZ0ZXIoKSx0LnR5cGUpKXJldHVybiBiKGUucmVwbGFjZVdpdGgoaS5wb3Mscy5wb3MsdCkuc2V0U2VsZWN0aW9uKG5ldyByLk5vZGVTZWxlY3Rpb24oZS5kb2MucmVzb2x2ZShpLnBvcykpKSl9cmV0dXJuIGV9fSx1PWZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxO3JldHVybiBmdW5jdGlvbihuKXt2YXIgbz1yLlNlbGVjdGlvbi5maW5kRnJvbShuLmRvYy5yZXNvbHZlKHQpLGUsITApO3JldHVybiBvP24uc2V0U2VsZWN0aW9uKG8pOm59fSxwPWZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGUmJnQudHlwZS5zcGVjLnNlbGVjdGFibGV9LGY9ZnVuY3Rpb24odCl7cmV0dXJuIHAodCkmJnQudHlwZS5pc0xlYWZ9LGQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmKHQpP24uc2V0U2VsZWN0aW9uKG5ldyByLk5vZGVTZWxlY3Rpb24obi5kb2MucmVzb2x2ZShlKSkpOnUoZSkobil9LGg9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbihyKXt2YXIgbz0ibnVtYmVyIj09PXR5cGVvZiBlLGk9ci5zZWxlY3Rpb24uJGZyb20scz1vP3IuZG9jLnJlc29sdmUoZSk6eShyLnNlbGVjdGlvbik/ci5kb2MucmVzb2x2ZShpLnBvcysxKTppLGM9cy5wYXJlbnQ7aWYoeShyLnNlbGVjdGlvbikmJm4pe3ZhciB1PXI7aWYocj1sKHQpKHIpLHUhPT1yKXJldHVybiByfWlmKE0oYykpe3ZhciBmPXI7aWYocj1hKGMudHlwZSx0KShyKSxmIT09cil7dmFyIGg9cCh0KT9zLmJlZm9yZShzLmRlcHRoKTpzLnBvcztyZXR1cm4gZCh0LGgscil9fWlmKE8ocyx0KSl7ci5pbnNlcnQocy5wb3MsdCk7dmFyIHY9bz9zLnBvczpwKHQpP3Iuc2VsZWN0aW9uLiRhbmNob3IucG9zLTE6ci5zZWxlY3Rpb24uJGFuY2hvci5wb3M7cmV0dXJuIGIoZCh0LHYscikpfWZvcih2YXIgbT1zLmRlcHRoO20+MDttLS0pe3ZhciBnPXMuYWZ0ZXIobSksdz1yLmRvYy5yZXNvbHZlKGcpO2lmKE8odyx0KSlyZXR1cm4gci5pbnNlcnQoZyx0KSxiKGQodCxnLHIpKX1yZXR1cm4gcn19LHY9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIGZ1bmN0aW9uKG8pe3ZhciBpPSQodCkoby5zZWxlY3Rpb24pO3JldHVybiBpP2Ioby5zZXROb2RlTWFya3VwKGkucG9zLGUsT2JqZWN0LmFzc2lnbih7fSxpLm5vZGUuYXR0cnMsbikscikpOm99fSxtPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtpZigheShlLnNlbGVjdGlvbikpe3ZhciBuPSQodCkoZS5zZWxlY3Rpb24pO2lmKG4pcmV0dXJuIGIoZS5zZXRTZWxlY3Rpb24oci5Ob2RlU2VsZWN0aW9uLmNyZWF0ZShlLmRvYyxuLnBvcykpKX1yZXR1cm4gZX19LGc9ZnVuY3Rpb24odCl7dmFyIGU9Sih0LnNlbGVjdGlvbik7cmV0dXJuIm51bWJlciI9PT10eXBlb2YgZT94KGUpKHQpOnR9LHk9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiByLk5vZGVTZWxlY3Rpb259LHc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KSYmdC5pbmRleE9mKGUudHlwZSk+LTF8fGUudHlwZT09PXR9LGI9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZSh0KSx0KS5zZXRUaW1lKERhdGUubm93KCkpfSxTPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciByPW4uZG9jLm5vZGVBdCh0KSxvPW4uZG9jLnJlc29sdmUodCk7aWYoayhvLGUpKXtuPW4ucmVwbGFjZVdpdGgodCx0K3Iubm9kZVNpemUsZSk7dmFyIGk9bi5zZWxlY3Rpb24uJGZyb20ucG9zLTE7cmV0dXJuIG49dShNYXRoLm1heChpLDApLC0xKShuKSxuPXUobi5zZWxlY3Rpb24uJGZyb20uc3RhcnQoKSkobiksYihuKX1yZXR1cm4gbn19LGs9ZnVuY3Rpb24odCxlKXt2YXIgbj10Lm5vZGUodC5kZXB0aCk7cmV0dXJuIG4mJm4udHlwZS52YWxpZENvbnRlbnQoZSBpbnN0YW5jZW9mIG8uRnJhZ21lbnQ/ZTpvLkZyYWdtZW50LmZyb20oZSkpfSx4PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1lLmRvYy5ub2RlQXQodCk7cmV0dXJuIGIoZS5kZWxldGUodCx0K24ubm9kZVNpemUpKX19LEM9ZnVuY3Rpb24odCl7aWYodC5jYWNoZWQudGFibGVOb2RlVHlwZXMpcmV0dXJuIHQuY2FjaGVkLnRhYmxlTm9kZVR5cGVzO3ZhciBlPXt9O3JldHVybiBPYmplY3Qua2V5cyh0Lm5vZGVzKS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj10Lm5vZGVzW25dO3Iuc3BlYy50YWJsZVJvbGUmJihlW3Iuc3BlYy50YWJsZVJvbGVdPXIpfSkpLHQuY2FjaGVkLnRhYmxlTm9kZVR5cGVzPWUsZX0sTz1mdW5jdGlvbih0LGUpe3ZhciBuPXQuaW5kZXgoKTtyZXR1cm4gZSBpbnN0YW5jZW9mIG8uRnJhZ21lbnQ/dC5wYXJlbnQuY2FuUmVwbGFjZShuLG4sZSk6ZSBpbnN0YW5jZW9mIG8uTm9kZSYmdC5wYXJlbnQuY2FuUmVwbGFjZVdpdGgobixuLGUudHlwZSl9LE09ZnVuY3Rpb24odCl7cmV0dXJuIXR8fCJwYXJhZ3JhcGgiPT09dC50eXBlLm5hbWUmJjI9PT10Lm5vZGVTaXplfSxOPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGUuc3BlYy50YWJsZVJvbGUmJi90YWJsZS9pLnRlc3QodC50eXBlLnNwZWMudGFibGVSb2xlKX07cmV0dXJuIFYodCxlKX0sVD1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbDtyZXR1cm4gZT90LmNyZWF0ZUNoZWNrZWQobnVsbCxlKTp0LmNyZWF0ZUFuZEZpbGwoKX0sRD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciBuPWkuVGFibGVNYXAuZ2V0KGUuJGFuY2hvckNlbGwubm9kZSgtMSkpLHI9ZS4kYW5jaG9yQ2VsbC5zdGFydCgtMSksbz1uLmNlbGxzSW5SZWN0KHQpLHM9bi5jZWxsc0luUmVjdChuLnJlY3RCZXR3ZWVuKGUuJGFuY2hvckNlbGwucG9zLXIsZS4kaGVhZENlbGwucG9zLXIpKSxhPTAsYz1vLmxlbmd0aDthPGM7YSsrKWlmKC0xPT09cy5pbmRleE9mKG9bYV0pKXJldHVybiExO3JldHVybiEwfX0sQT1mdW5jdGlvbih0KXtyZXR1cm4gdFswXS5tYXAoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFtuXX0pKX0pKX0sRT1mdW5jdGlvbih0KXtmb3IodmFyIGU9aS5UYWJsZU1hcC5nZXQodCksbj1bXSxyPTA7cjxlLmhlaWdodDtyKyspe2Zvcih2YXIgbz1bXSxzPXt9LGE9MDthPGUud2lkdGg7YSsrKXt2YXIgYz1lLm1hcFtyKmUud2lkdGgrYV0sbD10Lm5vZGVBdChjKSx1PWUuZmluZENlbGwoYyk7c1tjXXx8dS50b3AhPT1yP28ucHVzaChudWxsKTooc1tjXT0hMCxvLnB1c2gobCkpfW4ucHVzaChvKX1yZXR1cm4gbn0sUj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1bXSxyPWkuVGFibGVNYXAuZ2V0KHQpLG89MDtvPHIuaGVpZ2h0O28rKyl7Zm9yKHZhciBzPXQuY2hpbGQobyksYT1bXSxjPTA7YzxyLndpZHRoO2MrKylpZihlW29dW2NdKXt2YXIgbD1yLm1hcFtvKnIud2lkdGgrY10sdT1lW29dW2NdLHA9dC5ub2RlQXQobCksZj1wLnR5cGUuY3JlYXRlQ2hlY2tlZChPYmplY3QuYXNzaWduKHt9LHUuYXR0cnMpLHUuY29udGVudCx1Lm1hcmtzKTthLnB1c2goZil9bi5wdXNoKHMudHlwZS5jcmVhdGVDaGVja2VkKHMuYXR0cnMsYSxzLm1hcmtzKSl9dmFyIGQ9dC50eXBlLmNyZWF0ZUNoZWNrZWQodC5hdHRycyxuLHQubWFya3MpO3JldHVybiBkfSxfPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPUEoRSh0Lm5vZGUpKTtyZXR1cm4gbz16KG8sZSxuLHIpLG89QShvKSxSKHQubm9kZSxvKX0sUD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz1FKHQubm9kZSk7cmV0dXJuIG89eihvLGUsbixyKSxSKHQubm9kZSxvKX0sej1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz1lWzBdPm5bMF0/LTE6MSxpPXQuc3BsaWNlKGVbMF0sZS5sZW5ndGgpLHM9aS5sZW5ndGglMj09PTA/MTowLGE9dm9pZCAwO3JldHVybiBhPS0xPT09ciYmMT09PW8/blswXS0xOjE9PT1yJiYtMT09PW8/bltuLmxlbmd0aC0xXS1zKzE6LTE9PT1vP25bMF06bltuLmxlbmd0aC0xXS1zLHQuc3BsaWNlLmFwcGx5KHQsW2EsMF0uY29uY2F0KGkpKSx0fSxJPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQ+ZT8tMToxLGk9IlRhcmdldCBwb3NpdGlvbiBpcyBpbnZhbGlkLCB5b3UgY2FuJ3QgbW92ZSB0aGUgIityKyIgIit0KyIgdG8gIitlKyIsIHRoZSB0YXJnZXQgY2FuJ3QgYmUgc3BsaXQuIFlvdSBjb3VsZCB1c2UgdHJ5VG9GaXQgb3B0aW9uLiI7aWYoMT09PW8pe2lmKC0xIT09bi5zbGljZSgwLG4ubGVuZ3RoLTEpLmluZGV4T2YoZSkpdGhyb3cgbmV3IEVycm9yKGkpfWVsc2UgaWYoLTEhPT1uLnNsaWNlKDEpLmluZGV4T2YoZSkpdGhyb3cgbmV3IEVycm9yKGkpO3JldHVybiEwfSxCPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1lLiRmcm9tO3JldHVybiBWKG4sdCl9fSxWPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuZGVwdGg7bj4wO24tLSl7dmFyIHI9dC5ub2RlKG4pO2lmKGUocikpcmV0dXJue3BvczpuPjA/dC5iZWZvcmUobik6MCxzdGFydDp0LnN0YXJ0KG4pLGRlcHRoOm4sbm9kZTpyfX19LEY9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHI9Qih0KShuKTtpZihyKXJldHVybiBLKHIucG9zLGUpfX0saj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuISFCKHQpKGUpfX0sJD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIEIoKGZ1bmN0aW9uKGUpe3JldHVybiB3KHQsZSl9KSkoZSl9fSxMPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFYodCwoZnVuY3Rpb24odCl7cmV0dXJuIHcoZSx0KX0pKX0sSD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGooKGZ1bmN0aW9uKGUpe3JldHVybiB3KHQsZSl9KSkoZSl9fSxXPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBGKChmdW5jdGlvbihlKXtyZXR1cm4gdyh0LGUpfSksZSkobil9fSxxPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtpZih5KGUpKXt2YXIgbj1lLm5vZGUscj1lLiRmcm9tO2lmKHcodCxuKSlyZXR1cm57bm9kZTpuLHBvczpyLnBvcyxkZXB0aDpyLmRlcHRofX19fSxKPWZ1bmN0aW9uKHQpe3ZhciBlPXQuJGZyb20ubm9kZUJlZm9yZSxuPXIuU2VsZWN0aW9uLmZpbmRGcm9tKHQuJGZyb20sLTEpO2lmKG4mJmUpe3ZhciBvPSQoZS50eXBlKShuKTtyZXR1cm4gbz9vLnBvczpuLiRmcm9tLnBvc319LEs9ZnVuY3Rpb24odCxlKXt2YXIgbj1lKHQpLHI9bi5ub2RlLmNoaWxkTm9kZXNbbi5vZmZzZXRdO3JldHVybiBuLm5vZGUubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERT9uLm5vZGUucGFyZW50Tm9kZTpyJiZyLm5vZGVUeXBlIT09Tm9kZS5URVhUX05PREU/cjpuLm5vZGV9LFU9ZnVuY3Rpb24odCl7dmFyIGU9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTtpZighdCl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgIm5vZGUiIHBhcmFtZXRlcicpO3ZhciBuPVtdO3JldHVybiB0LmRlc2NlbmRhbnRzKChmdW5jdGlvbih0LHIpe2lmKG4ucHVzaCh7bm9kZTp0LHBvczpyfSksIWUpcmV0dXJuITF9KSksbn0sRz1mdW5jdGlvbih0LGUsbil7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkICJub2RlIiBwYXJhbWV0ZXInKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgInByZWRpY2F0ZSIgcGFyYW1ldGVyJyk7cmV0dXJuIFUodCxuKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBlKHQubm9kZSl9KSl9LFg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gRyh0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5pc1RleHR9KSxlKX0sWT1mdW5jdGlvbih0LGUpe3JldHVybiBHKHQsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzSW5saW5lfSksZSl9LFo9ZnVuY3Rpb24odCxlKXtyZXR1cm4gRyh0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5pc0Jsb2NrfSksZSl9LFE9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBHKHQsKGZ1bmN0aW9uKHQpe3JldHVybiEhZSh0LmF0dHJzKX0pLG4pfSx0dD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIEcodCwoZnVuY3Rpb24odCl7cmV0dXJuIHQudHlwZT09PWV9KSxuKX0sZXQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBHKHQsKGZ1bmN0aW9uKHQpe3JldHVybiBlLmlzSW5TZXQodC5tYXJrcyl9KSxuKX0sbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4hIXR0KHQsZSkubGVuZ3RofTtmdW5jdGlvbiBydCh0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxuPUFycmF5KHQubGVuZ3RoKTtlPHQubGVuZ3RoO2UrKyluW2VdPXRbZV07cmV0dXJuIG59cmV0dXJuIEFycmF5LmZyb20odCl9dmFyIG90PWZ1bmN0aW9uKHQpe3JldHVybiBCKChmdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlLnNwZWMudGFibGVSb2xlJiYidGFibGUiPT09dC50eXBlLnNwZWMudGFibGVSb2xlfSkpKHQpfSxpdD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGkuQ2VsbFNlbGVjdGlvbn0sc3Q9ZnVuY3Rpb24odCl7aWYoaXQodCkpe3ZhciBlPXQuJGFuY2hvckNlbGwuc3RhcnQoLTEpLG49aS5UYWJsZU1hcC5nZXQodC4kYW5jaG9yQ2VsbC5ub2RlKC0xKSk7cmV0dXJuIG4ucmVjdEJldHdlZW4odC4kYW5jaG9yQ2VsbC5wb3MtZSx0LiRoZWFkQ2VsbC5wb3MtZSl9fSxhdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoaXQoZSkpe3ZhciBuPWkuVGFibGVNYXAuZ2V0KGUuJGFuY2hvckNlbGwubm9kZSgtMSkpO3JldHVybiBEKHtsZWZ0OnQscmlnaHQ6dCsxLHRvcDowLGJvdHRvbTpuLmhlaWdodH0pKGUpfXJldHVybiExfX0sY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKGl0KGUpKXt2YXIgbj1pLlRhYmxlTWFwLmdldChlLiRhbmNob3JDZWxsLm5vZGUoLTEpKTtyZXR1cm4gRCh7bGVmdDowLHJpZ2h0Om4ud2lkdGgsdG9wOnQsYm90dG9tOnQrMX0pKGUpfXJldHVybiExfX0sbHQ9ZnVuY3Rpb24odCl7aWYoaXQodCkpe3ZhciBlPWkuVGFibGVNYXAuZ2V0KHQuJGFuY2hvckNlbGwubm9kZSgtMSkpO3JldHVybiBEKHtsZWZ0OjAscmlnaHQ6ZS53aWR0aCx0b3A6MCxib3R0b206ZS5oZWlnaHR9KSh0KX1yZXR1cm4hMX0sdXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPW90KGUpO2lmKG4pe3ZhciByPWkuVGFibGVNYXAuZ2V0KG4ubm9kZSksbz1BcnJheS5pc0FycmF5KHQpP3Q6QXJyYXkuZnJvbShbdF0pO3JldHVybiBvLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtpZihlPj0wJiZlPD1yLndpZHRoLTEpe3ZhciBvPXIuY2VsbHNJblJlY3Qoe2xlZnQ6ZSxyaWdodDplKzEsdG9wOjAsYm90dG9tOnIuaGVpZ2h0fSk7cmV0dXJuIHQuY29uY2F0KG8ubWFwKChmdW5jdGlvbih0KXt2YXIgZT1uLm5vZGUubm9kZUF0KHQpLHI9dCtuLnN0YXJ0O3JldHVybntwb3M6cixzdGFydDpyKzEsbm9kZTplfX0pKSl9fSksW10pfX19LHB0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1vdChlKTtpZihuKXt2YXIgcj1pLlRhYmxlTWFwLmdldChuLm5vZGUpLG89QXJyYXkuaXNBcnJheSh0KT90OkFycmF5LmZyb20oW3RdKTtyZXR1cm4gby5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7aWYoZT49MCYmZTw9ci5oZWlnaHQtMSl7dmFyIG89ci5jZWxsc0luUmVjdCh7bGVmdDowLHJpZ2h0OnIud2lkdGgsdG9wOmUsYm90dG9tOmUrMX0pO3JldHVybiB0LmNvbmNhdChvLm1hcCgoZnVuY3Rpb24odCl7dmFyIGU9bi5ub2RlLm5vZGVBdCh0KSxyPXQrbi5zdGFydDtyZXR1cm57cG9zOnIsc3RhcnQ6cisxLG5vZGU6ZX19KSkpfX0pLFtdKX19fSxmdD1mdW5jdGlvbih0KXt2YXIgZT1vdCh0KTtpZihlKXt2YXIgbj1pLlRhYmxlTWFwLmdldChlLm5vZGUpLHI9bi5jZWxsc0luUmVjdCh7bGVmdDowLHJpZ2h0Om4ud2lkdGgsdG9wOjAsYm90dG9tOm4uaGVpZ2h0fSk7cmV0dXJuIHIubWFwKChmdW5jdGlvbih0KXt2YXIgbj1lLm5vZGUubm9kZUF0KHQpLHI9dCtlLnN0YXJ0O3JldHVybntwb3M6cixzdGFydDpyKzEsbm9kZTpufX0pKX19LGR0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3JldHVybiBmdW5jdGlvbihyKXt2YXIgbz1vdChyLnNlbGVjdGlvbikscz0icm93Ij09PXQ7aWYobyl7dmFyIGE9aS5UYWJsZU1hcC5nZXQoby5ub2RlKTtpZihlPj0wJiZlPChzP2EuaGVpZ2h0OmEud2lkdGgpKXt2YXIgYz1zPzA6ZSxsPXM/ZTowLHU9cz9hLndpZHRoOmUrMSxwPXM/ZSsxOmEuaGVpZ2h0O2lmKG4pe3ZhciBmPVB0KHIuc2VsZWN0aW9uLiRmcm9tKTtpZighZilyZXR1cm4gcjt2YXIgZD1hLmZpbmRDZWxsKGYucG9zLW8uc3RhcnQpO3M/KGw9TWF0aC5taW4obCxkLnRvcCkscD1NYXRoLm1heChwLGQuYm90dG9tKSk6KGM9TWF0aC5taW4oYyxkLmxlZnQpLHU9TWF0aC5tYXgodSxkLnJpZ2h0KSl9dmFyIGg9YS5jZWxsc0luUmVjdCh7bGVmdDpjLHRvcDpsLHJpZ2h0OnM/dTpjKzEsYm90dG9tOnM/bCsxOnB9KSx2PXAtbD09PTE/aDphLmNlbGxzSW5SZWN0KHtsZWZ0OnM/Yzp1LTEsdG9wOnM/cC0xOmwscmlnaHQ6dSxib3R0b206cH0pLG09by5zdGFydCtoWzBdLGc9by5zdGFydCt2W3YubGVuZ3RoLTFdLHk9ci5kb2MucmVzb2x2ZShtKSx3PXIuZG9jLnJlc29sdmUoZyk7cmV0dXJuIGIoci5zZXRTZWxlY3Rpb24obmV3IGkuQ2VsbFNlbGVjdGlvbih3LHkpKSl9fXJldHVybiByfX19LGh0PWR0KCJjb2x1bW4iKSx2dD1kdCgicm93IiksbXQ9ZnVuY3Rpb24odCl7dmFyIGU9b3QodC5zZWxlY3Rpb24pO2lmKGUpe3ZhciBuPWkuVGFibGVNYXAuZ2V0KGUubm9kZSkscj1uLm1hcDtpZihyJiZyLmxlbmd0aCl7dmFyIG89ZS5zdGFydCtyWzBdLHM9ZS5zdGFydCtyW3IubGVuZ3RoLTFdLGE9dC5kb2MucmVzb2x2ZShvKSxjPXQuZG9jLnJlc29sdmUocyk7cmV0dXJuIGIodC5zZXRTZWxlY3Rpb24obmV3IGkuQ2VsbFNlbGVjdGlvbihjLGEpKSl9fXJldHVybiB0fSxndD1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtpZih0KXt2YXIgcj1DKGUpLmNlbGwuY3JlYXRlQW5kRmlsbCgpLG89ci5jb250ZW50O2lmKCF0Lm5vZGUuY29udGVudC5lcShvKSlyZXR1cm4gbi5yZXBsYWNlV2l0aCh0LnBvcysxLHQucG9zK3Qubm9kZS5ub2RlU2l6ZSxvKSxiKG4pfXJldHVybiBufX0seXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPW90KGUuc2VsZWN0aW9uKTtpZihuKXt2YXIgcj1pLlRhYmxlTWFwLmdldChuLm5vZGUpO2lmKHQ+PTAmJnQ8PXIud2lkdGgpcmV0dXJuIGIoaS5hZGRDb2x1bW4oZSx7bWFwOnIsdGFibGVTdGFydDpuLnN0YXJ0LHRhYmxlOm4ubm9kZX0sdCkpfXJldHVybiBlfX0sd3Q9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbihyKXt2YXIgbz17dHJ5VG9GaXQ6ITEsZGlyZWN0aW9uOjB9LGk9T2JqZWN0LmFzc2lnbihvLG4pLHM9b3Qoci5zZWxlY3Rpb24pO2lmKCFzKXJldHVybiByO3ZhciBhPVZ0KHQpKHIpLGM9YS5pbmRleGVzLGw9VnQoZSkociksdT1sLmluZGV4ZXM7aWYoYy5pbmRleE9mKGUpPi0xKXJldHVybiByOyFpLnRyeVRvRml0JiZ1Lmxlbmd0aD4xJiZJKHQsZSx1LCJyb3ciKTt2YXIgcD1QKHMsYyx1LGkuZGlyZWN0aW9uKTtyZXR1cm4gYihyKS5yZXBsYWNlV2l0aChzLnBvcyxzLnBvcytzLm5vZGUubm9kZVNpemUscCl9fSxidD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBvPXt0cnlUb0ZpdDohMSxkaXJlY3Rpb246MH0saT1PYmplY3QuYXNzaWduKG8sbikscz1vdChyLnNlbGVjdGlvbik7aWYoIXMpcmV0dXJuIHI7dmFyIGE9QnQodCkociksYz1hLmluZGV4ZXMsbD1CdChlKShyKSx1PWwuaW5kZXhlcztpZihjLmluZGV4T2YoZSk+LTEpcmV0dXJuIHI7IWkudHJ5VG9GaXQmJnUubGVuZ3RoPjEmJkkodCxlLHUsImNvbHVtbiIpO3ZhciBwPV8ocyxjLHUsaS5kaXJlY3Rpb24pO3JldHVybiBiKHIpLnJlcGxhY2VXaXRoKHMucG9zLHMucG9zK3Mubm9kZS5ub2RlU2l6ZSxwKX19LFN0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciByPW90KG4uc2VsZWN0aW9uKTtpZihyKXt2YXIgbz1pLlRhYmxlTWFwLmdldChyLm5vZGUpLHM9dC0xO2lmKGUmJnM+PTApcmV0dXJuIGIoa3QocykobikpO2lmKHQ+PTAmJnQ8PW8uaGVpZ2h0KXJldHVybiBiKGkuYWRkUm93KG4se21hcDpvLHRhYmxlU3RhcnQ6ci5zdGFydCx0YWJsZTpyLm5vZGV9LHQpKX1yZXR1cm4gbn19LGt0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1vdChlLnNlbGVjdGlvbik7aWYobil7dmFyIHI9aS5UYWJsZU1hcC5nZXQobi5ub2RlKTtpZih0Pj0wJiZ0PD1yLmhlaWdodCl7Zm9yKHZhciBvPW4ubm9kZSxzPUMoby50eXBlLnNjaGVtYSksYT1uLnN0YXJ0LGM9MDtjPHQrMTtjKyspYSs9by5jaGlsZChjKS5ub2RlU2l6ZTt2YXIgbD1vLmNoaWxkKHQpLHU9W10scD0wO2lmKGwuZm9yRWFjaCgoZnVuY3Rpb24odCl7MT09PXQuYXR0cnMucm93c3BhbiYmKHArPXQuYXR0cnMuY29sc3Bhbix1LnB1c2goc1t0LnR5cGUuc3BlYy50YWJsZVJvbGVdLmNyZWF0ZUFuZEZpbGwodC5hdHRycyx0Lm1hcmtzKSkpfSkpLHA8ci53aWR0aCl7Zm9yKHZhciBmPVtdLGQ9ZnVuY3Rpb24obil7dmFyIHI9SXQobiwoZnVuY3Rpb24oZSxyKXt2YXIgbz1lLm5vZGUuYXR0cnMucm93c3BhbixpPW4rbztyZXR1cm4gbz4xJiZpPnR9KSkoZSk7Zi5wdXNoLmFwcGx5KGYscnQocikpfSx2PXQ7dj49MDt2LS0pZCh2KTtmLmxlbmd0aCYmZi5mb3JFYWNoKChmdW5jdGlvbih0KXtlPVJ0KHQse3Jvd3NwYW46dC5ub2RlLmF0dHJzLnJvd3NwYW4rMX0pKGUpfSkpfXJldHVybiBoKHMucm93LmNyZWF0ZShsLmF0dHJzLHUpLGEpKGUpfX1yZXR1cm4gZX19LHh0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1vdChlLnNlbGVjdGlvbik7aWYobil7dmFyIHI9aS5UYWJsZU1hcC5nZXQobi5ub2RlKTtpZigwPT09dCYmMT09PXIud2lkdGgpcmV0dXJuIE90KGUpO2lmKHQ+PTAmJnQ8PXIud2lkdGgpcmV0dXJuIGkucmVtb3ZlQ29sdW1uKGUse21hcDpyLHRhYmxlU3RhcnQ6bi5zdGFydCx0YWJsZTpuLm5vZGV9LHQpLGIoZSl9cmV0dXJuIGV9fSxDdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49b3QoZS5zZWxlY3Rpb24pO2lmKG4pe3ZhciByPWkuVGFibGVNYXAuZ2V0KG4ubm9kZSk7aWYoMD09PXQmJjE9PT1yLmhlaWdodClyZXR1cm4gT3QoZSk7aWYodD49MCYmdDw9ci5oZWlnaHQpcmV0dXJuIGkucmVtb3ZlUm93KGUse21hcDpyLHRhYmxlU3RhcnQ6bi5zdGFydCx0YWJsZTpuLm5vZGV9LHQpLGIoZSl9cmV0dXJuIGV9fSxPdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5zZWxlY3Rpb24uJGZyb20sbj1lLmRlcHRoO24+MDtuLS0pe3ZhciByPWUubm9kZShuKTtpZigidGFibGUiPT09ci50eXBlLnNwZWMudGFibGVSb2xlKXJldHVybiBiKHQuZGVsZXRlKGUuYmVmb3JlKG4pLGUuYWZ0ZXIobikpKX1yZXR1cm4gdH0sTXQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5zZWxlY3Rpb247aWYobHQoZSkpcmV0dXJuIE90KHQpO2lmKGl0KGUpKXt2YXIgbj1vdChlKTtpZihuKXt2YXIgcj1pLlRhYmxlTWFwLmdldChuLm5vZGUpLG89ci5yZWN0QmV0d2VlbihlLiRhbmNob3JDZWxsLnBvcy1uLnN0YXJ0LGUuJGhlYWRDZWxsLnBvcy1uLnN0YXJ0KTtpZigwPT1vLmxlZnQmJm8ucmlnaHQ9PXIud2lkdGgpcmV0dXJuITE7Zm9yKHZhciBzPU9iamVjdC5hc3NpZ24oe30sbyx7bWFwOnIsdGFibGU6bi5ub2RlLHRhYmxlU3RhcnQ6bi5zdGFydH0pLGE9cy5yaWdodC0xOzthLS0pe2lmKGkucmVtb3ZlQ29sdW1uKHQscyxhKSxhPT09cy5sZWZ0KWJyZWFrO3MudGFibGU9cy50YWJsZVN0YXJ0P3QuZG9jLm5vZGVBdChzLnRhYmxlU3RhcnQtMSk6dC5kb2Mscy5tYXA9aS5UYWJsZU1hcC5nZXQocy50YWJsZSl9cmV0dXJuIGIodCl9fXJldHVybiB0fSxOdD1mdW5jdGlvbih0KXt2YXIgZT10LnNlbGVjdGlvbjtpZihsdChlKSlyZXR1cm4gT3QodCk7aWYoaXQoZSkpe3ZhciBuPW90KGUpO2lmKG4pe3ZhciByPWkuVGFibGVNYXAuZ2V0KG4ubm9kZSksbz1yLnJlY3RCZXR3ZWVuKGUuJGFuY2hvckNlbGwucG9zLW4uc3RhcnQsZS4kaGVhZENlbGwucG9zLW4uc3RhcnQpO2lmKDA9PW8udG9wJiZvLmJvdHRvbT09ci5oZWlnaHQpcmV0dXJuITE7Zm9yKHZhciBzPU9iamVjdC5hc3NpZ24oe30sbyx7bWFwOnIsdGFibGU6bi5ub2RlLHRhYmxlU3RhcnQ6bi5zdGFydH0pLGE9cy5ib3R0b20tMTs7YS0tKXtpZihpLnJlbW92ZVJvdyh0LHMsYSksYT09PXMudG9wKWJyZWFrO3MudGFibGU9cy50YWJsZVN0YXJ0P3QuZG9jLm5vZGVBdChzLnRhYmxlU3RhcnQtMSk6dC5kb2Mscy5tYXA9aS5UYWJsZU1hcC5nZXQocy50YWJsZSl9cmV0dXJuIGIodCl9fXJldHVybiB0fSxUdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49enQodCk7cmV0dXJuIG4/eHQobi5sZWZ0KSh1KHQucG9zKShlKSk6ZX19LER0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj16dCh0KTtyZXR1cm4gbj9DdChuLnRvcCkodSh0LnBvcykoZSkpOmV9fSxBdD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKG8pe3ZhciBpPXV0KHQpKG8uc2VsZWN0aW9uKTtpZihpKXtmb3IodmFyIHM9aS5sZW5ndGgtMTtzPj0wO3MtLSlvPWUoaVtzXSxvKTtpZihuKXt2YXIgYT1vLmRvYy5yZXNvbHZlKG8ubWFwcGluZy5tYXAoaVtpLmxlbmd0aC0xXS5wb3MpKTtvLnNldFNlbGVjdGlvbihyLlNlbGVjdGlvbi5uZWFyKGEpKX1yZXR1cm4gYihvKX1yZXR1cm4gb319LEV0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24obyl7dmFyIGk9cHQodCkoby5zZWxlY3Rpb24pO2lmKGkpe2Zvcih2YXIgcz1pLmxlbmd0aC0xO3M+PTA7cy0tKW89ZShpW3NdLG8pO2lmKG4pe3ZhciBhPW8uZG9jLnJlc29sdmUoby5tYXBwaW5nLm1hcChpW2kubGVuZ3RoLTFdLnBvcykpO28uc2V0U2VsZWN0aW9uKHIuU2VsZWN0aW9uLm5lYXIoYSkpfX1yZXR1cm4gb319LFJ0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiB0PyhuLnNldE5vZGVNYXJrdXAodC5wb3MsbnVsbCxPYmplY3QuYXNzaWduKHt9LHQubm9kZS5hdHRycyxlKSksYihuKSk6bn19LF90PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MyxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTozLHI9IShhcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSl8fGFyZ3VtZW50c1szXSxvPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTpudWxsLGk9Qyh0KSxzPWkuY2VsbCxhPWkuaGVhZGVyX2NlbGwsYz1pLnJvdyxsPWkudGFibGUsdT1bXSxwPVtdLGY9MDtmPG47ZisrKXUucHVzaChUKHMsbykpLHImJnAucHVzaChUKGEsbykpO2Zvcih2YXIgZD1bXSxoPTA7aDxlO2grKylkLnB1c2goYy5jcmVhdGVDaGVja2VkKG51bGwsciYmMD09PWg/cDp1KSk7cmV0dXJuIGwuY3JlYXRlQ2hlY2tlZChudWxsLGQpfSxQdD1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlLnNwZWMudGFibGVSb2xlJiYvY2VsbC9pLnRlc3QodC50eXBlLnNwZWMudGFibGVSb2xlKX07cmV0dXJuIFYodCxlKX0senQ9ZnVuY3Rpb24odCl7dmFyIGU9UHQodCk7aWYoZSl7dmFyIG49Tih0KSxyPWkuVGFibGVNYXAuZ2V0KG4ubm9kZSksbz1lLnBvcy1uLnN0YXJ0O3JldHVybiByLnJlY3RCZXR3ZWVuKG8sbyl9fSxJdD1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgcj1bXSxvPXB0KHQpKG4uc2VsZWN0aW9uKTtpZihvKWZvcih2YXIgaT1vLmxlbmd0aC0xO2k+PTA7aS0tKWUob1tpXSxuKSYmci5wdXNoKG9baV0pO3JldHVybiByfX0sQnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Zvcih2YXIgbj10LHI9dCxvPWZ1bmN0aW9uKHQpe3ZhciBvPXV0KHQpKGUuc2VsZWN0aW9uKTtvJiZvLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBvPWUubm9kZS5hdHRycy5jb2xzcGFuK3QtMTtvPj1uJiYobj10KSxvPnImJihyPW8pfSkpfSxpPXQ7aT49MDtpLS0pbyhpKTt2YXIgcz1mdW5jdGlvbih0KXt2YXIgbj11dCh0KShlLnNlbGVjdGlvbik7biYmbi5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLm5vZGUuYXR0cnMuY29sc3Bhbit0LTE7ZS5ub2RlLmF0dHJzLmNvbHNwYW4+MSYmbj5yJiYocj1uKX0pKX07Zm9yKGk9dDtpPD1yO2krKylzKGkpO3ZhciBhPVtdO2ZvcihpPW47aTw9cjtpKyspe3ZhciBjPXV0KGkpKGUuc2VsZWN0aW9uKTtjJiZjLmxlbmd0aCYmYS5wdXNoKGkpfW49YVswXSxyPWFbYS5sZW5ndGgtMV07Zm9yKHZhciBsPXV0KG4pKGUuc2VsZWN0aW9uKSx1PXB0KDApKGUuc2VsZWN0aW9uKSxwPWUuZG9jLnJlc29sdmUobFtsLmxlbmd0aC0xXS5wb3MpLGY9dm9pZCAwLGQ9cjtkPj1uO2QtLSl7dmFyIGg9dXQoZCkoZS5zZWxlY3Rpb24pO2lmKGgmJmgubGVuZ3RoKXtmb3IodmFyIHY9dS5sZW5ndGgtMTt2Pj0wO3YtLSlpZih1W3ZdLnBvcz09PWhbMF0ucG9zKXtmPWhbMF07YnJlYWt9aWYoZilicmVha319dmFyIG09ZS5kb2MucmVzb2x2ZShmLnBvcyk7cmV0dXJueyRhbmNob3I6cCwkaGVhZDptLGluZGV4ZXM6YX19fSxWdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciBuPXQscj10LG89ZnVuY3Rpb24odCl7dmFyIG89cHQodCkoZS5zZWxlY3Rpb24pO28uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG89ZS5ub2RlLmF0dHJzLnJvd3NwYW4rdC0xO28+PW4mJihuPXQpLG8+ciYmKHI9byl9KSl9LGk9dDtpPj0wO2ktLSlvKGkpO3ZhciBzPWZ1bmN0aW9uKHQpe3ZhciBuPXB0KHQpKGUuc2VsZWN0aW9uKTtuLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUubm9kZS5hdHRycy5yb3dzcGFuK3QtMTtlLm5vZGUuYXR0cnMucm93c3Bhbj4xJiZuPnImJihyPW4pfSkpfTtmb3IoaT10O2k8PXI7aSsrKXMoaSk7dmFyIGE9W107Zm9yKGk9bjtpPD1yO2krKyl7dmFyIGM9cHQoaSkoZS5zZWxlY3Rpb24pO2MmJmMubGVuZ3RoJiZhLnB1c2goaSl9bj1hWzBdLHI9YVthLmxlbmd0aC0xXTtmb3IodmFyIGw9cHQobikoZS5zZWxlY3Rpb24pLHU9dXQoMCkoZS5zZWxlY3Rpb24pLHA9ZS5kb2MucmVzb2x2ZShsW2wubGVuZ3RoLTFdLnBvcyksZj12b2lkIDAsZD1yO2Q+PW47ZC0tKXt2YXIgaD1wdChkKShlLnNlbGVjdGlvbik7aWYoaCYmaC5sZW5ndGgpe2Zvcih2YXIgdj11Lmxlbmd0aC0xO3Y+PTA7di0tKWlmKHVbdl0ucG9zPT09aFswXS5wb3Mpe2Y9aFswXTticmVha31pZihmKWJyZWFrfX12YXIgbT1lLmRvYy5yZXNvbHZlKGYucG9zKTtyZXR1cm57JGFuY2hvcjpwLCRoZWFkOm0saW5kZXhlczphfX19O2UuaXNOb2RlU2VsZWN0aW9uPXksZS5jYW5JbnNlcnQ9TyxlLmNvbnZlcnRUYWJsZU5vZGVUb0FycmF5T2ZSb3dzPUUsZS5jb252ZXJ0QXJyYXlPZlJvd3NUb1RhYmxlTm9kZT1SLGUuZmluZFBhcmVudE5vZGU9QixlLmZpbmRQYXJlbnROb2RlQ2xvc2VzdFRvUG9zPVYsZS5maW5kUGFyZW50RG9tUmVmPUYsZS5oYXNQYXJlbnROb2RlPWosZS5maW5kUGFyZW50Tm9kZU9mVHlwZT0kLGUuZmluZFBhcmVudE5vZGVPZlR5cGVDbG9zZXN0VG9Qb3M9TCxlLmhhc1BhcmVudE5vZGVPZlR5cGU9SCxlLmZpbmRQYXJlbnREb21SZWZPZlR5cGU9VyxlLmZpbmRTZWxlY3RlZE5vZGVPZlR5cGU9cSxlLmZpbmRQb3NpdGlvbk9mTm9kZUJlZm9yZT1KLGUuZmluZERvbVJlZkF0UG9zPUssZS5mbGF0dGVuPVUsZS5maW5kQ2hpbGRyZW49RyxlLmZpbmRUZXh0Tm9kZXM9WCxlLmZpbmRJbmxpbmVOb2Rlcz1ZLGUuZmluZEJsb2NrTm9kZXM9WixlLmZpbmRDaGlsZHJlbkJ5QXR0cj1RLGUuZmluZENoaWxkcmVuQnlUeXBlPXR0LGUuZmluZENoaWxkcmVuQnlNYXJrPWV0LGUuY29udGFpbnM9bnQsZS5maW5kVGFibGU9b3QsZS5pc0NlbGxTZWxlY3Rpb249aXQsZS5nZXRTZWxlY3Rpb25SZWN0PXN0LGUuaXNDb2x1bW5TZWxlY3RlZD1hdCxlLmlzUm93U2VsZWN0ZWQ9Y3QsZS5pc1RhYmxlU2VsZWN0ZWQ9bHQsZS5nZXRDZWxsc0luQ29sdW1uPXV0LGUuZ2V0Q2VsbHNJblJvdz1wdCxlLmdldENlbGxzSW5UYWJsZT1mdCxlLnNlbGVjdENvbHVtbj1odCxlLnNlbGVjdFJvdz12dCxlLnNlbGVjdFRhYmxlPW10LGUuZW1wdHlDZWxsPWd0LGUuYWRkQ29sdW1uQXQ9eXQsZS5tb3ZlUm93PXd0LGUubW92ZUNvbHVtbj1idCxlLmFkZFJvd0F0PVN0LGUuY2xvbmVSb3dBdD1rdCxlLnJlbW92ZUNvbHVtbkF0PXh0LGUucmVtb3ZlUm93QXQ9Q3QsZS5yZW1vdmVUYWJsZT1PdCxlLnJlbW92ZVNlbGVjdGVkQ29sdW1ucz1NdCxlLnJlbW92ZVNlbGVjdGVkUm93cz1OdCxlLnJlbW92ZUNvbHVtbkNsb3Nlc3RUb1Bvcz1UdCxlLnJlbW92ZVJvd0Nsb3Nlc3RUb1Bvcz1EdCxlLmZvckVhY2hDZWxsSW5Db2x1bW49QXQsZS5mb3JFYWNoQ2VsbEluUm93PUV0LGUuc2V0Q2VsbEF0dHJzPVJ0LGUuY3JlYXRlVGFibGU9X3QsZS5maW5kQ2VsbENsb3Nlc3RUb1Bvcz1QdCxlLmZpbmRDZWxsUmVjdENsb3Nlc3RUb1Bvcz16dCxlLmdldFNlbGVjdGlvblJhbmdlSW5Db2x1bW49QnQsZS5nZXRTZWxlY3Rpb25SYW5nZUluUm93PVZ0LGUucmVtb3ZlUGFyZW50Tm9kZU9mVHlwZT1zLGUucmVwbGFjZVBhcmVudE5vZGVPZlR5cGU9YSxlLnJlbW92ZVNlbGVjdGVkTm9kZT1jLGUucmVwbGFjZVNlbGVjdGVkTm9kZT1sLGUuc2V0VGV4dFNlbGVjdGlvbj11LGUuc2FmZUluc2VydD1oLGUuc2V0UGFyZW50Tm9kZU1hcmt1cD12LGUuc2VsZWN0UGFyZW50Tm9kZU9mVHlwZT1tLGUucmVtb3ZlTm9kZUJlZm9yZT1nfSwiOWJmMiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjgzYWIiKSxvPW4oIjBjZmIiKSxpPW4oIjgyNWEiKSxzPW4oImMwNGUiKSxhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtlLmY9cj9hOmZ1bmN0aW9uKHQsZSxuKXtpZihpKHQpLGU9cyhlLCEwKSxpKG4pLG8pdHJ5e3JldHVybiBhKHQsZSxuKX1jYXRjaChyKXt9aWYoImdldCJpbiBufHwic2V0ImluIG4pdGhyb3cgVHlwZUVycm9yKCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCIpO3JldHVybiJ2YWx1ZSJpbiBuJiYodFtlXT1uLnZhbHVlKSx0fX0sIjllZDMiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiYWU5MyIpLkl0ZXJhdG9yUHJvdG90eXBlLG89bigiN2M3MyIpLGk9bigiNWM2YyIpLHM9bigiZDQ0ZSIpLGE9bigiM2Y4YyIpLGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbD1lKyIgSXRlcmF0b3IiO3JldHVybiB0LnByb3RvdHlwZT1vKHIse25leHQ6aSgxLG4pfSkscyh0LGwsITEsITApLGFbbF09Yyx0fX0sYTRkMzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjIzZTciKSxvPW4oImRhODQiKSxpPW4oImQwNjYiKSxzPW4oImM0MzAiKSxhPW4oIjgzYWIiKSxjPW4oIjQ5MzAiKSxsPW4oImZkYmYiKSx1PW4oImQwMzkiKSxwPW4oIjUxMzUiKSxmPW4oImU4YjUiKSxkPW4oIjg2MWQiKSxoPW4oIjgyNWEiKSx2PW4oIjdiMGIiKSxtPW4oImZjNmEiKSxnPW4oImMwNGUiKSx5PW4oIjVjNmMiKSx3PW4oIjdjNzMiKSxiPW4oImRmNzUiKSxTPW4oIjI0MWMiKSxrPW4oIjA1N2YiKSx4PW4oIjc0MTgiKSxDPW4oIjA2Y2YiKSxPPW4oIjliZjIiKSxNPW4oImQxZTciKSxOPW4oIjkxMTIiKSxUPW4oIjZlZWIiKSxEPW4oIjU2OTIiKSxBPW4oImY3NzIiKSxFPW4oImQwMTIiKSxSPW4oIjkwZTMiKSxfPW4oImI2MjIiKSxQPW4oImMwMzIiKSx6PW4oIjc0NmYiKSxJPW4oImQ0NGUiKSxCPW4oIjY5ZjMiKSxWPW4oImI3MjciKS5mb3JFYWNoLEY9QSgiaGlkZGVuIiksaj0iU3ltYm9sIiwkPSJwcm90b3R5cGUiLEw9XygidG9QcmltaXRpdmUiKSxIPUIuc2V0LFc9Qi5nZXR0ZXJGb3IoaikscT1PYmplY3RbJF0sSj1vLlN5bWJvbCxLPWkoIkpTT04iLCJzdHJpbmdpZnkiKSxVPUMuZixHPU8uZixYPWsuZixZPU0uZixaPUQoInN5bWJvbHMiKSxRPUQoIm9wLXN5bWJvbHMiKSx0dD1EKCJzdHJpbmctdG8tc3ltYm9sLXJlZ2lzdHJ5IiksZXQ9RCgic3ltYm9sLXRvLXN0cmluZy1yZWdpc3RyeSIpLG50PUQoIndrcyIpLHJ0PW8uUU9iamVjdCxvdD0hcnR8fCFydFskXXx8IXJ0WyRdLmZpbmRDaGlsZCxpdD1hJiZ1KChmdW5jdGlvbigpe3JldHVybiA3IT13KEcoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRyh0aGlzLCJhIix7dmFsdWU6N30pLmF9fSkpLmF9KSk/ZnVuY3Rpb24odCxlLG4pe3ZhciByPVUocSxlKTtyJiZkZWxldGUgcVtlXSxHKHQsZSxuKSxyJiZ0IT09cSYmRyhxLGUscil9Okcsc3Q9ZnVuY3Rpb24odCxlKXt2YXIgbj1aW3RdPXcoSlskXSk7cmV0dXJuIEgobix7dHlwZTpqLHRhZzp0LGRlc2NyaXB0aW9uOmV9KSxhfHwobi5kZXNjcmlwdGlvbj1lKSxufSxhdD1jJiYic3ltYm9sIj09dHlwZW9mIEouaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KHQpaW5zdGFuY2VvZiBKfSxjdD1mdW5jdGlvbih0LGUsbil7dD09PXEmJmN0KFEsZSxuKSxoKHQpO3ZhciByPWcoZSwhMCk7cmV0dXJuIGgobikscChaLHIpPyhuLmVudW1lcmFibGU/KHAodCxGKSYmdFtGXVtyXSYmKHRbRl1bcl09ITEpLG49dyhuLHtlbnVtZXJhYmxlOnkoMCwhMSl9KSk6KHAodCxGKXx8Ryh0LEYseSgxLHt9KSksdFtGXVtyXT0hMCksaXQodCxyLG4pKTpHKHQscixuKX0sbHQ9ZnVuY3Rpb24odCxlKXtoKHQpO3ZhciBuPW0oZSkscj1iKG4pLmNvbmNhdChodChuKSk7cmV0dXJuIFYociwoZnVuY3Rpb24oZSl7YSYmIXB0LmNhbGwobixlKXx8Y3QodCxlLG5bZV0pfSkpLHR9LHV0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWU/dyh0KTpsdCh3KHQpLGUpfSxwdD1mdW5jdGlvbih0KXt2YXIgZT1nKHQsITApLG49WS5jYWxsKHRoaXMsZSk7cmV0dXJuISh0aGlzPT09cSYmcChaLGUpJiYhcChRLGUpKSYmKCEobnx8IXAodGhpcyxlKXx8IXAoWixlKXx8cCh0aGlzLEYpJiZ0aGlzW0ZdW2VdKXx8bil9LGZ0PWZ1bmN0aW9uKHQsZSl7dmFyIG49bSh0KSxyPWcoZSwhMCk7aWYobiE9PXF8fCFwKFoscil8fHAoUSxyKSl7dmFyIG89VShuLHIpO3JldHVybiFvfHwhcChaLHIpfHxwKG4sRikmJm5bRl1bcl18fChvLmVudW1lcmFibGU9ITApLG99fSxkdD1mdW5jdGlvbih0KXt2YXIgZT1YKG0odCkpLG49W107cmV0dXJuIFYoZSwoZnVuY3Rpb24odCl7cChaLHQpfHxwKEUsdCl8fG4ucHVzaCh0KX0pKSxufSxodD1mdW5jdGlvbih0KXt2YXIgZT10PT09cSxuPVgoZT9ROm0odCkpLHI9W107cmV0dXJuIFYobiwoZnVuY3Rpb24odCl7IXAoWix0KXx8ZSYmIXAocSx0KXx8ci5wdXNoKFpbdF0pfSkpLHJ9O2lmKGN8fChKPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIEopdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IiKTt2YXIgdD1hcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/U3RyaW5nKGFyZ3VtZW50c1swXSk6dm9pZCAwLGU9Uih0KSxuPWZ1bmN0aW9uKHQpe3RoaXM9PT1xJiZuLmNhbGwoUSx0KSxwKHRoaXMsRikmJnAodGhpc1tGXSxlKSYmKHRoaXNbRl1bZV09ITEpLGl0KHRoaXMsZSx5KDEsdCkpfTtyZXR1cm4gYSYmb3QmJml0KHEsZSx7Y29uZmlndXJhYmxlOiEwLHNldDpufSksc3QoZSx0KX0sVChKWyRdLCJ0b1N0cmluZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFcodGhpcykudGFnfSkpLE0uZj1wdCxPLmY9Y3QsQy5mPWZ0LFMuZj1rLmY9ZHQseC5mPWh0LGEmJihHKEpbJF0sImRlc2NyaXB0aW9uIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBXKHRoaXMpLmRlc2NyaXB0aW9ufX0pLHN8fFQocSwicHJvcGVydHlJc0VudW1lcmFibGUiLHB0LHt1bnNhZmU6ITB9KSkpLGx8fChQLmY9ZnVuY3Rpb24odCl7cmV0dXJuIHN0KF8odCksdCl9KSxyKHtnbG9iYWw6ITAsd3JhcDohMCxmb3JjZWQ6IWMsc2hhbTohY30se1N5bWJvbDpKfSksVihiKG50KSwoZnVuY3Rpb24odCl7eih0KX0pKSxyKHt0YXJnZXQ6aixzdGF0OiEwLGZvcmNlZDohY30se2ZvcjpmdW5jdGlvbih0KXt2YXIgZT1TdHJpbmcodCk7aWYocCh0dCxlKSlyZXR1cm4gdHRbZV07dmFyIG49SihlKTtyZXR1cm4gdHRbZV09bixldFtuXT1lLG59LGtleUZvcjpmdW5jdGlvbih0KXtpZighYXQodCkpdGhyb3cgVHlwZUVycm9yKHQrIiBpcyBub3QgYSBzeW1ib2wiKTtpZihwKGV0LHQpKXJldHVybiBldFt0XX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7b3Q9ITB9LHVzZVNpbXBsZTpmdW5jdGlvbigpe290PSExfX0pLHIoe3RhcmdldDoiT2JqZWN0IixzdGF0OiEwLGZvcmNlZDohYyxzaGFtOiFhfSx7Y3JlYXRlOnV0LGRlZmluZVByb3BlcnR5OmN0LGRlZmluZVByb3BlcnRpZXM6bHQsZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOmZ0fSkscih7dGFyZ2V0OiJPYmplY3QiLHN0YXQ6ITAsZm9yY2VkOiFjfSx7Z2V0T3duUHJvcGVydHlOYW1lczpkdCxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6aHR9KSxyKHt0YXJnZXQ6Ik9iamVjdCIsc3RhdDohMCxmb3JjZWQ6dSgoZnVuY3Rpb24oKXt4LmYoMSl9KSl9LHtnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ZnVuY3Rpb24odCl7cmV0dXJuIHguZih2KHQpKX19KSxLKXt2YXIgdnQ9IWN8fHUoKGZ1bmN0aW9uKCl7dmFyIHQ9SigpO3JldHVybiJbbnVsbF0iIT1LKFt0XSl8fCJ7fSIhPUsoe2E6dH0pfHwie30iIT1LKE9iamVjdCh0KSl9KSk7cih7dGFyZ2V0OiJKU09OIixzdGF0OiEwLGZvcmNlZDp2dH0se3N0cmluZ2lmeTpmdW5jdGlvbih0LGUsbil7dmFyIHIsbz1bdF0saT0xO3doaWxlKGFyZ3VtZW50cy5sZW5ndGg+aSlvLnB1c2goYXJndW1lbnRzW2krK10pO2lmKHI9ZSwoZChlKXx8dm9pZCAwIT09dCkmJiFhdCh0KSlyZXR1cm4gZihlKXx8KGU9ZnVuY3Rpb24odCxlKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgciYmKGU9ci5jYWxsKHRoaXMsdCxlKSksIWF0KGUpKXJldHVybiBlfSksb1sxXT1lLEsuYXBwbHkobnVsbCxvKX19KX1KWyRdW0xdfHxOKEpbJF0sTCxKWyRdLnZhbHVlT2YpLEkoSixqKSxFW0ZdPSEwfSxhNjkxOmZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5jZWlsLHI9TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlzTmFOKHQ9K3QpPzA6KHQ+MD9yOm4pKHQpfX0sYWQ2ZDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjgyNWEiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgdD1yKHRoaXMpLGU9IiI7cmV0dXJuIHQuZ2xvYmFsJiYoZSs9ImciKSx0Lmlnbm9yZUNhc2UmJihlKz0iaSIpLHQubXVsdGlsaW5lJiYoZSs9Im0iKSx0LmRvdEFsbCYmKGUrPSJzIiksdC51bmljb2RlJiYoZSs9InUiKSx0LnN0aWNreSYmKGUrPSJ5IiksZX19LGFlOTM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcixvLGkscz1uKCJlMTYzIiksYT1uKCI5MTEyIiksYz1uKCI1MTM1IiksbD1uKCJiNjIyIiksdT1uKCJjNDMwIikscD1sKCJpdGVyYXRvciIpLGY9ITEsZD1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtbXS5rZXlzJiYoaT1bXS5rZXlzKCksIm5leHQiaW4gaT8obz1zKHMoaSkpLG8hPT1PYmplY3QucHJvdG90eXBlJiYocj1vKSk6Zj0hMCksdm9pZCAwPT1yJiYocj17fSksdXx8YyhyLHApfHxhKHIscCxkKSx0LmV4cG9ydHM9e0l0ZXJhdG9yUHJvdG90eXBlOnIsQlVHR1lfU0FGQVJJX0lURVJBVE9SUzpmfX0sYjA0MTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjAwZWUiKSxvPW4oImY1ZGYiKTt0LmV4cG9ydHM9cj97fS50b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJbb2JqZWN0ICIrbyh0aGlzKSsiXSJ9fSxiMGMwOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI4M2FiIiksbz1uKCI5YmYyIikuZixpPUZ1bmN0aW9uLnByb3RvdHlwZSxzPWkudG9TdHJpbmcsYT0vXlxzKmZ1bmN0aW9uIChbXiAoXSopLyxjPSJuYW1lIjshcnx8YyBpbiBpfHxvKGksYyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3RyeXtyZXR1cm4gcy5jYWxsKHRoaXMpLm1hdGNoKGEpWzFdfWNhdGNoKHQpe3JldHVybiIifX19KX0sYjYyMjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZGE4NCIpLG89bigiNTY5MiIpLGk9bigiNTEzNSIpLHM9bigiOTBlMyIpLGE9bigiNDkzMCIpLGM9bigiZmRiZiIpLGw9bygid2tzIiksdT1yLlN5bWJvbCxwPWM/dTpzO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaShsLHQpfHwoYSYmaSh1LHQpP2xbdF09dVt0XTpsW3RdPXAoIlN5bWJvbC4iK3QpKSxsW3RdfX0sYjcyNzpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZjhjMiIpLG89bigiNDRhZCIpLGk9bigiN2IwYiIpLHM9bigiNTBjNCIpLGE9bigiNjVmMCIpLGM9W10ucHVzaCxsPWZ1bmN0aW9uKHQpe3ZhciBlPTE9PXQsbj0yPT10LGw9Mz09dCx1PTQ9PXQscD02PT10LGY9NT09dHx8cDtyZXR1cm4gZnVuY3Rpb24oZCxoLHYsbSl7Zm9yKHZhciBnLHksdz1pKGQpLGI9byh3KSxTPXIoaCx2LDMpLGs9cyhiLmxlbmd0aCkseD0wLEM9bXx8YSxPPWU/QyhkLGspOm4/QyhkLDApOnZvaWQgMDtrPng7eCsrKWlmKChmfHx4IGluIGIpJiYoZz1iW3hdLHk9UyhnLHgsdyksdCkpaWYoZSlPW3hdPXk7ZWxzZSBpZih5KXN3aXRjaCh0KXtjYXNlIDM6cmV0dXJuITA7Y2FzZSA1OnJldHVybiBnO2Nhc2UgNjpyZXR1cm4geDtjYXNlIDI6Yy5jYWxsKE8sZyl9ZWxzZSBpZih1KXJldHVybiExO3JldHVybiBwPy0xOmx8fHU/dTpPfX07dC5leHBvcnRzPXtmb3JFYWNoOmwoMCksbWFwOmwoMSksZmlsdGVyOmwoMiksc29tZTpsKDMpLGV2ZXJ5OmwoNCksZmluZDpsKDUpLGZpbmRJbmRleDpsKDYpfX0sYzAzMjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiYjYyMiIpO2UuZj1yfSxjMDRlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI4NjFkIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoIXIodCkpcmV0dXJuIHQ7dmFyIG4sbztpZihlJiYiZnVuY3Rpb24iPT10eXBlb2Yobj10LnRvU3RyaW5nKSYmIXIobz1uLmNhbGwodCkpKXJldHVybiBvO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihuPXQudmFsdWVPZikmJiFyKG89bi5jYWxsKHQpKSlyZXR1cm4gbztpZighZSYmImZ1bmN0aW9uIj09dHlwZW9mKG49dC50b1N0cmluZykmJiFyKG89bi5jYWxsKHQpKSlyZXR1cm4gbzt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0sYzQzMDpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0hMX0sYzZiNjpmdW5jdGlvbih0LGUpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbi5jYWxsKHQpLnNsaWNlKDgsLTEpfX0sYzZjZDpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZGE4NCIpLG89bigiY2U0ZSIpLGk9Il9fY29yZS1qc19zaGFyZWRfXyIscz1yW2ldfHxvKGkse30pO3QuZXhwb3J0cz1zfSxjOGJhOmZ1bmN0aW9uKHQsZSl7dmFyIG47bj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtuPW58fG5ldyBGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfWNhdGNoKHIpeyJvYmplY3QiPT09dHlwZW9mIHdpbmRvdyYmKG49d2luZG93KX10LmV4cG9ydHM9bn0sY2E4NDpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiNTEzNSIpLG89bigiZmM2YSIpLGk9bigiNGQ2NCIpLmluZGV4T2Yscz1uKCJkMDEyIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG4sYT1vKHQpLGM9MCxsPVtdO2ZvcihuIGluIGEpIXIocyxuKSYmcihhLG4pJiZsLnB1c2gobik7d2hpbGUoZS5sZW5ndGg+YylyKGEsbj1lW2MrK10pJiYofmkobCxuKXx8bC5wdXNoKG4pKTtyZXR1cm4gbH19LGNjMTI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImRhODQiKSxvPW4oIjg2MWQiKSxpPXIuZG9jdW1lbnQscz1vKGkpJiZvKGkuY3JlYXRlRWxlbWVudCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBzP2kuY3JlYXRlRWxlbWVudCh0KTp7fX19LGNlNGU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImRhODQiKSxvPW4oIjkxMTIiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt0cnl7byhyLHQsZSl9Y2F0Y2gobil7clt0XT1lfXJldHVybiBlfX0sZDAxMjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17fX0sZDAzOTpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuISF0KCl9Y2F0Y2goZSl7cmV0dXJuITB9fX0sZDA2NjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiNDI4ZiIpLG89bigiZGE4NCIpLGk9ZnVuY3Rpb24odCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDp2b2lkIDB9O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDI/aShyW3RdKXx8aShvW3RdKTpyW3RdJiZyW3RdW2VdfHxvW3RdJiZvW3RdW2VdfX0sZDFlNzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixpPW8mJiFyLmNhbGwoezE6Mn0sMSk7ZS5mPWk/ZnVuY3Rpb24odCl7dmFyIGU9byh0aGlzLHQpO3JldHVybiEhZSYmZS5lbnVtZXJhYmxlfTpyfSxkMjhiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI3NDZmIik7cigiaXRlcmF0b3IiKX0sZDJhMjpmdW5jdGlvbih0LGUsbil7dmFyIHIsbzsoZnVuY3Rpb24obil7dmFyIGk9Im9iamVjdCI9PT10eXBlb2Ygd2luZG93JiZ3aW5kb3d8fCJvYmplY3QiPT09dHlwZW9mIHNlbGYmJnNlbGY7ZS5ub2RlVHlwZT9pJiYoaS5obGpzPW4oe30pLHI9W10sbz1mdW5jdGlvbigpe3JldHVybiBpLmhsanN9LmFwcGx5KGUsciksdm9pZCAwPT09b3x8KHQuZXhwb3J0cz1vKSk6bihlKX0pKChmdW5jdGlvbih0KXt2YXIgZSxuPVtdLHI9T2JqZWN0LmtleXMsbz17fSxpPXt9LHM9L14obm8tP2hpZ2hsaWdodHxwbGFpbnx0ZXh0KSQvaSxhPS9cYmxhbmcoPzp1YWdlKT8tKFtcdy1dKylcYi9pLGM9LygoXig8W14+XSs+fFx0fCkrfCg/OlxuKSkpL2dtLGw9Ijwvc3Bhbj4iLHU9e2NsYXNzUHJlZml4OiJobGpzLSIsdGFiUmVwbGFjZTpudWxsLHVzZUJSOiExLGxhbmd1YWdlczp2b2lkIDB9LHA9Im9mIGFuZCBmb3IgaW4gbm90IG9yIGlmIHRoZW4iLnNwbGl0KCIgIik7ZnVuY3Rpb24gZih0KXtyZXR1cm4gdC5yZXBsYWNlKC8mL2csIiZhbXA7IikucmVwbGFjZSgvPC9nLCImbHQ7IikucmVwbGFjZSgvPi9nLCImZ3Q7Iil9ZnVuY3Rpb24gZCh0KXtyZXR1cm4gdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGgodCxlKXt2YXIgbj10JiZ0LmV4ZWMoZSk7cmV0dXJuIG4mJjA9PT1uLmluZGV4fWZ1bmN0aW9uIHYodCl7cmV0dXJuIHMudGVzdCh0KX1mdW5jdGlvbiBtKHQpe3ZhciBlLG4scixvLGk9dC5jbGFzc05hbWUrIiAiO2lmKGkrPXQucGFyZW50Tm9kZT90LnBhcmVudE5vZGUuY2xhc3NOYW1lOiIiLG49YS5leGVjKGkpLG4pcmV0dXJuIEIoblsxXSk/blsxXToibm8taGlnaGxpZ2h0Ijtmb3IoaT1pLnNwbGl0KC9ccysvKSxlPTAscj1pLmxlbmd0aDtlPHI7ZSsrKWlmKG89aVtlXSx2KG8pfHxCKG8pKXJldHVybiBvfWZ1bmN0aW9uIGcodCl7dmFyIGUsbj17fSxyPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtmb3IoZSBpbiB0KW5bZV09dFtlXTtyZXR1cm4gci5mb3JFYWNoKChmdW5jdGlvbih0KXtmb3IoZSBpbiB0KW5bZV09dFtlXX0pKSxufWZ1bmN0aW9uIHkodCl7dmFyIGU9W107cmV0dXJuIGZ1bmN0aW9uIHQobixyKXtmb3IodmFyIG89bi5maXJzdENoaWxkO287bz1vLm5leHRTaWJsaW5nKTM9PT1vLm5vZGVUeXBlP3IrPW8ubm9kZVZhbHVlLmxlbmd0aDoxPT09by5ub2RlVHlwZSYmKGUucHVzaCh7ZXZlbnQ6InN0YXJ0IixvZmZzZXQ6cixub2RlOm99KSxyPXQobyxyKSxkKG8pLm1hdGNoKC9icnxocnxpbWd8aW5wdXQvKXx8ZS5wdXNoKHtldmVudDoic3RvcCIsb2Zmc2V0OnIsbm9kZTpvfSkpO3JldHVybiByfSh0LDApLGV9ZnVuY3Rpb24gdyh0LGUscil7dmFyIG89MCxpPSIiLHM9W107ZnVuY3Rpb24gYSgpe3JldHVybiB0Lmxlbmd0aCYmZS5sZW5ndGg/dFswXS5vZmZzZXQhPT1lWzBdLm9mZnNldD90WzBdLm9mZnNldDxlWzBdLm9mZnNldD90OmU6InN0YXJ0Ij09PWVbMF0uZXZlbnQ/dDplOnQubGVuZ3RoP3Q6ZX1mdW5jdGlvbiBjKHQpe2Z1bmN0aW9uIGUodCl7cmV0dXJuIiAiK3Qubm9kZU5hbWUrJz0iJytmKHQudmFsdWUpLnJlcGxhY2UoJyInLCImcXVvdDsiKSsnIid9aSs9IjwiK2QodCkrbi5tYXAuY2FsbCh0LmF0dHJpYnV0ZXMsZSkuam9pbigiIikrIj4ifWZ1bmN0aW9uIGwodCl7aSs9IjwvIitkKHQpKyI+In1mdW5jdGlvbiB1KHQpeygic3RhcnQiPT09dC5ldmVudD9jOmwpKHQubm9kZSl9d2hpbGUodC5sZW5ndGh8fGUubGVuZ3RoKXt2YXIgcD1hKCk7aWYoaSs9ZihyLnN1YnN0cmluZyhvLHBbMF0ub2Zmc2V0KSksbz1wWzBdLm9mZnNldCxwPT09dCl7cy5yZXZlcnNlKCkuZm9yRWFjaChsKTtkb3t1KHAuc3BsaWNlKDAsMSlbMF0pLHA9YSgpfXdoaWxlKHA9PT10JiZwLmxlbmd0aCYmcFswXS5vZmZzZXQ9PT1vKTtzLnJldmVyc2UoKS5mb3JFYWNoKGMpfWVsc2Uic3RhcnQiPT09cFswXS5ldmVudD9zLnB1c2gocFswXS5ub2RlKTpzLnBvcCgpLHUocC5zcGxpY2UoMCwxKVswXSl9cmV0dXJuIGkrZihyLnN1YnN0cihvKSl9ZnVuY3Rpb24gYih0KXtyZXR1cm4hIXQmJih0LmVuZHNXaXRoUGFyZW50fHxiKHQuc3RhcnRzKSl9ZnVuY3Rpb24gUyh0KXtyZXR1cm4gdC52YXJpYW50cyYmIXQuY2FjaGVkX3ZhcmlhbnRzJiYodC5jYWNoZWRfdmFyaWFudHM9dC52YXJpYW50cy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBnKHQse3ZhcmlhbnRzOm51bGx9LGUpfSkpKSx0LmNhY2hlZF92YXJpYW50cz90LmNhY2hlZF92YXJpYW50czpiKHQpP1tnKHQse3N0YXJ0czp0LnN0YXJ0cz9nKHQuc3RhcnRzKTpudWxsfSldOlt0XX1mdW5jdGlvbiBrKHQpe2lmKGUmJiF0LmxhbmdBcGlSZXN0b3JlZCl7Zm9yKHZhciBuIGluIHQubGFuZ0FwaVJlc3RvcmVkPSEwLGUpdFtuXSYmKHRbZVtuXV09dFtuXSk7KHQuY29udGFpbnN8fFtdKS5jb25jYXQodC52YXJpYW50c3x8W10pLmZvckVhY2goayl9fWZ1bmN0aW9uIHgodCxlKXt2YXIgbj17fTtyZXR1cm4ic3RyaW5nIj09PXR5cGVvZiB0P28oImtleXdvcmQiLHQpOnIodCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7byhlLHRbZV0pfSkpLG47ZnVuY3Rpb24gbyh0LHIpe2UmJihyPXIudG9Mb3dlckNhc2UoKSksci5zcGxpdCgiICIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPWUuc3BsaXQoInwiKTtuW3JbMF1dPVt0LEMoclswXSxyWzFdKV19KSl9fWZ1bmN0aW9uIEModCxlKXtyZXR1cm4gZT9OdW1iZXIoZSk6Tyh0KT8wOjF9ZnVuY3Rpb24gTyh0KXtyZXR1cm4tMSE9cC5pbmRleE9mKHQudG9Mb3dlckNhc2UoKSl9ZnVuY3Rpb24gTSh0KXtmdW5jdGlvbiBlKHQpe3JldHVybiB0JiZ0LnNvdXJjZXx8dH1mdW5jdGlvbiBuKG4scil7cmV0dXJuIG5ldyBSZWdFeHAoZShuKSwibSIrKHQuY2FzZV9pbnNlbnNpdGl2ZT8iaSI6IiIpKyhyPyJnIjoiIikpfWZ1bmN0aW9uIHIodCl7cmV0dXJuIG5ldyBSZWdFeHAodC50b1N0cmluZygpKyJ8IikuZXhlYygiIikubGVuZ3RoLTF9ZnVuY3Rpb24gbyh0LG4pe2Zvcih2YXIgcj0vXFsoPzpbXlxcXF1dfFxcLikqXF18XChcPz98XFwoWzEtOV1bMC05XSopfFxcLi8sbz0wLGk9IiIscz0wO3M8dC5sZW5ndGg7cysrKXtvKz0xO3ZhciBhPW8sYz1lKHRbc10pO3M+MCYmKGkrPW4pLGkrPSIoIjt3aGlsZShjLmxlbmd0aD4wKXt2YXIgbD1yLmV4ZWMoYyk7aWYobnVsbD09bCl7aSs9YzticmVha31pKz1jLnN1YnN0cmluZygwLGwuaW5kZXgpLGM9Yy5zdWJzdHJpbmcobC5pbmRleCtsWzBdLmxlbmd0aCksIlxcIj09bFswXVswXSYmbFsxXT9pKz0iXFwiK1N0cmluZyhOdW1iZXIobFsxXSkrYSk6KGkrPWxbMF0sIigiPT1sWzBdJiZvKyspfWkrPSIpIn1yZXR1cm4gaX1mdW5jdGlvbiBpKHQpe3ZhciBlLGkscz17fSxhPVtdLGM9e30sbD0xO2Z1bmN0aW9uIHUodCxlKXtzW2xdPXQsYS5wdXNoKFt0LGVdKSxsKz1yKGUpKzF9Zm9yKHZhciBwPTA7cDx0LmNvbnRhaW5zLmxlbmd0aDtwKyspe3ZhciBmO2k9dC5jb250YWluc1twXSxmPWkuYmVnaW5LZXl3b3Jkcz8iXFwuPyg/OiIraS5iZWdpbisiKVxcLj8iOmkuYmVnaW4sdShpLGYpfXQudGVybWluYXRvcl9lbmQmJnUoImVuZCIsdC50ZXJtaW5hdG9yX2VuZCksdC5pbGxlZ2FsJiZ1KCJpbGxlZ2FsIix0LmlsbGVnYWwpO3ZhciBkPWEubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFsxXX0pKTtyZXR1cm4gZT1uKG8oZCwifCIpLCEwKSxjLmxhc3RJbmRleD0wLGMuZXhlYz1mdW5jdGlvbihuKXt2YXIgcjtpZigwPT09YS5sZW5ndGgpcmV0dXJuIG51bGw7ZS5sYXN0SW5kZXg9Yy5sYXN0SW5kZXg7dmFyIG89ZS5leGVjKG4pO2lmKCFvKXJldHVybiBudWxsO2Zvcih2YXIgaT0wO2k8by5sZW5ndGg7aSsrKWlmKHZvaWQgMCE9b1tpXSYmdm9pZCAwIT1zWyIiK2ldKXtyPXNbIiIraV07YnJlYWt9cmV0dXJuInN0cmluZyI9PT10eXBlb2Ygcj8oby50eXBlPXIsby5leHRyYT1bdC5pbGxlZ2FsLHQudGVybWluYXRvcl9lbmRdKTooby50eXBlPSJiZWdpbiIsby5ydWxlPXIpLG99LGN9ZnVuY3Rpb24gcyhyLG8pe3IuY29tcGlsZWR8fChyLmNvbXBpbGVkPSEwLHIua2V5d29yZHM9ci5rZXl3b3Jkc3x8ci5iZWdpbktleXdvcmRzLHIua2V5d29yZHMmJihyLmtleXdvcmRzPXgoci5rZXl3b3Jkcyx0LmNhc2VfaW5zZW5zaXRpdmUpKSxyLmxleGVtZXNSZT1uKHIubGV4ZW1lc3x8L1x3Ky8sITApLG8mJihyLmJlZ2luS2V5d29yZHMmJihyLmJlZ2luPSJcXGIoIityLmJlZ2luS2V5d29yZHMuc3BsaXQoIiAiKS5qb2luKCJ8IikrIilcXGIiKSxyLmJlZ2lufHwoci5iZWdpbj0vXEJ8XGIvKSxyLmJlZ2luUmU9bihyLmJlZ2luKSxyLmVuZFNhbWVBc0JlZ2luJiYoci5lbmQ9ci5iZWdpbiksci5lbmR8fHIuZW5kc1dpdGhQYXJlbnR8fChyLmVuZD0vXEJ8XGIvKSxyLmVuZCYmKHIuZW5kUmU9bihyLmVuZCkpLHIudGVybWluYXRvcl9lbmQ9ZShyLmVuZCl8fCIiLHIuZW5kc1dpdGhQYXJlbnQmJm8udGVybWluYXRvcl9lbmQmJihyLnRlcm1pbmF0b3JfZW5kKz0oci5lbmQ/InwiOiIiKStvLnRlcm1pbmF0b3JfZW5kKSksci5pbGxlZ2FsJiYoci5pbGxlZ2FsUmU9bihyLmlsbGVnYWwpKSxudWxsPT1yLnJlbGV2YW5jZSYmKHIucmVsZXZhbmNlPTEpLHIuY29udGFpbnN8fChyLmNvbnRhaW5zPVtdKSxyLmNvbnRhaW5zPUFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sci5jb250YWlucy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBTKCJzZWxmIj09PXQ/cjp0KX0pKSksci5jb250YWlucy5mb3JFYWNoKChmdW5jdGlvbih0KXtzKHQscil9KSksci5zdGFydHMmJnMoci5zdGFydHMsbyksci50ZXJtaW5hdG9ycz1pKHIpKX1zKHQpfWZ1bmN0aW9uIE4odCxlLG4scil7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gbmV3IFJlZ0V4cCh0LnJlcGxhY2UoL1stXC9cXF4kKis/LigpfFtcXXt9XS9nLCJcXCQmIiksIm0iKX1mdW5jdGlvbiBzKHQsZSl7aWYoaCh0LmVuZFJlLGUpKXt3aGlsZSh0LmVuZHNQYXJlbnQmJnQucGFyZW50KXQ9dC5wYXJlbnQ7cmV0dXJuIHR9aWYodC5lbmRzV2l0aFBhcmVudClyZXR1cm4gcyh0LnBhcmVudCxlKX1mdW5jdGlvbiBhKHQsZSl7dmFyIG49Uy5jYXNlX2luc2Vuc2l0aXZlP2VbMF0udG9Mb3dlckNhc2UoKTplWzBdO3JldHVybiB0LmtleXdvcmRzLmhhc093blByb3BlcnR5KG4pJiZ0LmtleXdvcmRzW25dfWZ1bmN0aW9uIGModCxlLG4scil7aWYoIW4mJiIiPT09ZSlyZXR1cm4iIjtpZighdClyZXR1cm4gZTt2YXIgbz1yPyIiOnUuY2xhc3NQcmVmaXgsaT0nPHNwYW4gY2xhc3M9IicrbyxzPW4/IiI6bDtyZXR1cm4gaSs9dCsnIj4nLGkrZStzfWZ1bmN0aW9uIHAoKXt2YXIgdCxlLG4scjtpZigheC5rZXl3b3JkcylyZXR1cm4gZihEKTtyPSIiLGU9MCx4LmxleGVtZXNSZS5sYXN0SW5kZXg9MCxuPXgubGV4ZW1lc1JlLmV4ZWMoRCk7d2hpbGUobilyKz1mKEQuc3Vic3RyaW5nKGUsbi5pbmRleCkpLHQ9YSh4LG4pLHQ/KEErPXRbMV0scis9Yyh0WzBdLGYoblswXSkpKTpyKz1mKG5bMF0pLGU9eC5sZXhlbWVzUmUubGFzdEluZGV4LG49eC5sZXhlbWVzUmUuZXhlYyhEKTtyZXR1cm4gcitmKEQuc3Vic3RyKGUpKX1mdW5jdGlvbiBkKCl7dmFyIHQ9InN0cmluZyI9PT10eXBlb2YgeC5zdWJMYW5ndWFnZTtpZih0JiYhb1t4LnN1Ykxhbmd1YWdlXSlyZXR1cm4gZihEKTt2YXIgZT10P04oeC5zdWJMYW5ndWFnZSxELCEwLENbeC5zdWJMYW5ndWFnZV0pOlQoRCx4LnN1Ykxhbmd1YWdlLmxlbmd0aD94LnN1Ykxhbmd1YWdlOnZvaWQgMCk7cmV0dXJuIHgucmVsZXZhbmNlPjAmJihBKz1lLnJlbGV2YW5jZSksdCYmKENbeC5zdWJMYW5ndWFnZV09ZS50b3ApLGMoZS5sYW5ndWFnZSxlLnZhbHVlLCExLCEwKX1mdW5jdGlvbiB2KCl7Tys9bnVsbCE9eC5zdWJMYW5ndWFnZT9kKCk6cCgpLEQ9IiJ9ZnVuY3Rpb24gbSh0KXtPKz10LmNsYXNzTmFtZT9jKHQuY2xhc3NOYW1lLCIiLCEwKToiIix4PU9iamVjdC5jcmVhdGUodCx7cGFyZW50Ont2YWx1ZTp4fX0pfWZ1bmN0aW9uIGcodCl7dmFyIGU9dFswXSxuPXQucnVsZTtyZXR1cm4gbiYmbi5lbmRTYW1lQXNCZWdpbiYmKG4uZW5kUmU9aShlKSksbi5za2lwP0QrPWU6KG4uZXhjbHVkZUJlZ2luJiYoRCs9ZSksdigpLG4ucmV0dXJuQmVnaW58fG4uZXhjbHVkZUJlZ2lufHwoRD1lKSksbShuLGUpLG4ucmV0dXJuQmVnaW4/MDplLmxlbmd0aH1mdW5jdGlvbiB5KHQpe3ZhciBlPXRbMF0sbj1zKHgsZSk7aWYobil7dmFyIHI9eDtyLnNraXA/RCs9ZTooci5yZXR1cm5FbmR8fHIuZXhjbHVkZUVuZHx8KEQrPWUpLHYoKSxyLmV4Y2x1ZGVFbmQmJihEPWUpKTtkb3t4LmNsYXNzTmFtZSYmKE8rPWwpLHguc2tpcHx8eC5zdWJMYW5ndWFnZXx8KEErPXgucmVsZXZhbmNlKSx4PXgucGFyZW50fXdoaWxlKHghPT1uLnBhcmVudCk7cmV0dXJuIG4uc3RhcnRzJiYobi5lbmRTYW1lQXNCZWdpbiYmKG4uc3RhcnRzLmVuZFJlPW4uZW5kUmUpLG0obi5zdGFydHMsIiIpKSxyLnJldHVybkVuZD8wOmUubGVuZ3RofX12YXIgdz17fTtmdW5jdGlvbiBiKHQscil7dmFyIG89ciYmclswXTtpZihEKz10LG51bGw9PW8pcmV0dXJuIHYoKSwwO2lmKCJiZWdpbiI9PXcudHlwZSYmImVuZCI9PXIudHlwZSYmdy5pbmRleD09ci5pbmRleCYmIiI9PT1vKXJldHVybiBEKz1lLnNsaWNlKHIuaW5kZXgsci5pbmRleCsxKSwxO2lmKHc9ciwiYmVnaW4iPT09ci50eXBlKXJldHVybiBnKHIpO2lmKCJpbGxlZ2FsIj09PXIudHlwZSYmIW4pdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIGxleGVtZSAiJytvKyciIGZvciBtb2RlICInKyh4LmNsYXNzTmFtZXx8Ijx1bm5hbWVkPiIpKyciJyk7aWYoImVuZCI9PT1yLnR5cGUpe3ZhciBpPXkocik7aWYodm9pZCAwIT1pKXJldHVybiBpfXJldHVybiBEKz1vLG8ubGVuZ3RofXZhciBTPUIodCk7aWYoIVMpdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGxhbmd1YWdlOiAiJyt0KyciJyk7TShTKTt2YXIgayx4PXJ8fFMsQz17fSxPPSIiO2ZvcihrPXg7ayE9PVM7az1rLnBhcmVudClrLmNsYXNzTmFtZSYmKE89YyhrLmNsYXNzTmFtZSwiIiwhMCkrTyk7dmFyIEQ9IiIsQT0wO3RyeXt2YXIgRSxSLF89MDt3aGlsZSgxKXtpZih4LnRlcm1pbmF0b3JzLmxhc3RJbmRleD1fLEU9eC50ZXJtaW5hdG9ycy5leGVjKGUpLCFFKWJyZWFrO1I9YihlLnN1YnN0cmluZyhfLEUuaW5kZXgpLEUpLF89RS5pbmRleCtSfWZvcihiKGUuc3Vic3RyKF8pKSxrPXg7ay5wYXJlbnQ7az1rLnBhcmVudClrLmNsYXNzTmFtZSYmKE8rPWwpO3JldHVybntyZWxldmFuY2U6QSx2YWx1ZTpPLGlsbGVnYWw6ITEsbGFuZ3VhZ2U6dCx0b3A6eH19Y2F0Y2goUCl7aWYoUC5tZXNzYWdlJiYtMSE9PVAubWVzc2FnZS5pbmRleE9mKCJJbGxlZ2FsIikpcmV0dXJue2lsbGVnYWw6ITAscmVsZXZhbmNlOjAsdmFsdWU6ZihlKX07dGhyb3cgUH19ZnVuY3Rpb24gVCh0LGUpe2U9ZXx8dS5sYW5ndWFnZXN8fHIobyk7dmFyIG49e3JlbGV2YW5jZTowLHZhbHVlOmYodCl9LGk9bjtyZXR1cm4gZS5maWx0ZXIoQikuZmlsdGVyKFYpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPU4oZSx0LCExKTtyLmxhbmd1YWdlPWUsci5yZWxldmFuY2U+aS5yZWxldmFuY2UmJihpPXIpLHIucmVsZXZhbmNlPm4ucmVsZXZhbmNlJiYoaT1uLG49cil9KSksaS5sYW5ndWFnZSYmKG4uc2Vjb25kX2Jlc3Q9aSksbn1mdW5jdGlvbiBEKHQpe3JldHVybiB1LnRhYlJlcGxhY2V8fHUudXNlQlI/dC5yZXBsYWNlKGMsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHUudXNlQlImJiJcbiI9PT10PyI8YnI+Ijp1LnRhYlJlcGxhY2U/ZS5yZXBsYWNlKC9cdC9nLHUudGFiUmVwbGFjZSk6IiJ9KSk6dH1mdW5jdGlvbiBBKHQsZSxuKXt2YXIgcj1lP2lbZV06bixvPVt0LnRyaW0oKV07cmV0dXJuIHQubWF0Y2goL1xiaGxqc1xiLyl8fG8ucHVzaCgiaGxqcyIpLC0xPT09dC5pbmRleE9mKHIpJiZvLnB1c2gociksby5qb2luKCIgIikudHJpbSgpfWZ1bmN0aW9uIEUodCl7dmFyIGUsbixyLG8saSxzPW0odCk7dihzKXx8KHUudXNlQlI/KGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwiZGl2IiksZS5pbm5lckhUTUw9dC5pbm5lckhUTUwucmVwbGFjZSgvXG4vZywiIikucmVwbGFjZSgvPGJyWyBcL10qPi9nLCJcbiIpKTplPXQsaT1lLnRleHRDb250ZW50LHI9cz9OKHMsaSwhMCk6VChpKSxuPXkoZSksbi5sZW5ndGgmJihvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIsImRpdiIpLG8uaW5uZXJIVE1MPXIudmFsdWUsci52YWx1ZT13KG4seShvKSxpKSksci52YWx1ZT1EKHIudmFsdWUpLHQuaW5uZXJIVE1MPXIudmFsdWUsdC5jbGFzc05hbWU9QSh0LmNsYXNzTmFtZSxzLHIubGFuZ3VhZ2UpLHQucmVzdWx0PXtsYW5ndWFnZTpyLmxhbmd1YWdlLHJlOnIucmVsZXZhbmNlfSxyLnNlY29uZF9iZXN0JiYodC5zZWNvbmRfYmVzdD17bGFuZ3VhZ2U6ci5zZWNvbmRfYmVzdC5sYW5ndWFnZSxyZTpyLnNlY29uZF9iZXN0LnJlbGV2YW5jZX0pKX1mdW5jdGlvbiBSKHQpe3U9Zyh1LHQpfWZ1bmN0aW9uIF8oKXtpZighXy5jYWxsZWQpe18uY2FsbGVkPSEwO3ZhciB0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInByZSBjb2RlIik7bi5mb3JFYWNoLmNhbGwodCxFKX19ZnVuY3Rpb24gUCgpe2FkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLF8sITEpLGFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLF8sITEpfWZ1bmN0aW9uIHooZSxuKXt2YXIgcj1vW2VdPW4odCk7ayhyKSxyLnJhd0RlZmluaXRpb249bi5iaW5kKG51bGwsdCksci5hbGlhc2VzJiZyLmFsaWFzZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7aVt0XT1lfSkpfWZ1bmN0aW9uIEkoKXtyZXR1cm4gcihvKX1mdW5jdGlvbiBCKHQpe3JldHVybiB0PSh0fHwiIikudG9Mb3dlckNhc2UoKSxvW3RdfHxvW2lbdF1dfWZ1bmN0aW9uIFYodCl7dmFyIGU9Qih0KTtyZXR1cm4gZSYmIWUuZGlzYWJsZUF1dG9kZXRlY3R9cmV0dXJuIHQuaGlnaGxpZ2h0PU4sdC5oaWdobGlnaHRBdXRvPVQsdC5maXhNYXJrdXA9RCx0LmhpZ2hsaWdodEJsb2NrPUUsdC5jb25maWd1cmU9Uix0LmluaXRIaWdobGlnaHRpbmc9Xyx0LmluaXRIaWdobGlnaHRpbmdPbkxvYWQ9UCx0LnJlZ2lzdGVyTGFuZ3VhZ2U9eix0Lmxpc3RMYW5ndWFnZXM9SSx0LmdldExhbmd1YWdlPUIsdC5hdXRvRGV0ZWN0aW9uPVYsdC5pbmhlcml0PWcsdC5JREVOVF9SRT0iW2EtekEtWl1cXHcqIix0LlVOREVSU0NPUkVfSURFTlRfUkU9IlthLXpBLVpfXVxcdyoiLHQuTlVNQkVSX1JFPSJcXGJcXGQrKFxcLlxcZCspPyIsdC5DX05VTUJFUl9SRT0iKC0/KShcXGIwW3hYXVthLWZBLUYwLTldK3woXFxiXFxkKyhcXC5cXGQqKT98XFwuXFxkKykoW2VFXVstK10/XFxkKyk/KSIsdC5CSU5BUllfTlVNQkVSX1JFPSJcXGIoMGJbMDFdKykiLHQuUkVfU1RBUlRFUlNfUkU9IiF8IT18IT09fCV8JT18JnwmJnwmPXxcXCp8XFwqPXxcXCt8XFwrPXwsfC18LT18Lz18L3w6fDt8PDx8PDw9fDw9fDx8PT09fD09fD18Pj4+PXw+Pj18Pj18Pj4+fD4+fD58XFw/fFxcW3xcXHt8XFwofFxcXnxcXF49fFxcfHxcXHw9fFxcfFxcfHx+Iix0LkJBQ0tTTEFTSF9FU0NBUEU9e2JlZ2luOiJcXFxcW1xcc1xcU10iLHJlbGV2YW5jZTowfSx0LkFQT1NfU1RSSU5HX01PREU9e2NsYXNzTmFtZToic3RyaW5nIixiZWdpbjoiJyIsZW5kOiInIixpbGxlZ2FsOiJcXG4iLGNvbnRhaW5zOlt0LkJBQ0tTTEFTSF9FU0NBUEVdfSx0LlFVT1RFX1NUUklOR19NT0RFPXtjbGFzc05hbWU6InN0cmluZyIsYmVnaW46JyInLGVuZDonIicsaWxsZWdhbDoiXFxuIixjb250YWluczpbdC5CQUNLU0xBU0hfRVNDQVBFXX0sdC5QSFJBU0FMX1dPUkRTX01PREU9e2JlZ2luOi9cYihhfGFufHRoZXxhcmV8SSdtfGlzbid0fGRvbid0fGRvZXNuJ3R8d29uJ3R8YnV0fGp1c3R8c2hvdWxkfHByZXR0eXxzaW1wbHl8ZW5vdWdofGdvbm5hfGdvaW5nfHd0Znxzb3xzdWNofHdpbGx8eW91fHlvdXJ8dGhleXxsaWtlfG1vcmUpXGIvfSx0LkNPTU1FTlQ9ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPXQuaW5oZXJpdCh7Y2xhc3NOYW1lOiJjb21tZW50IixiZWdpbjplLGVuZDpuLGNvbnRhaW5zOltdfSxyfHx7fSk7cmV0dXJuIG8uY29udGFpbnMucHVzaCh0LlBIUkFTQUxfV09SRFNfTU9ERSksby5jb250YWlucy5wdXNoKHtjbGFzc05hbWU6ImRvY3RhZyIsYmVnaW46Iig/OlRPRE98RklYTUV8Tk9URXxCVUd8WFhYKToiLHJlbGV2YW5jZTowfSksb30sdC5DX0xJTkVfQ09NTUVOVF9NT0RFPXQuQ09NTUVOVCgiLy8iLCIkIiksdC5DX0JMT0NLX0NPTU1FTlRfTU9ERT10LkNPTU1FTlQoIi9cXCoiLCJcXCovIiksdC5IQVNIX0NPTU1FTlRfTU9ERT10LkNPTU1FTlQoIiMiLCIkIiksdC5OVU1CRVJfTU9ERT17Y2xhc3NOYW1lOiJudW1iZXIiLGJlZ2luOnQuTlVNQkVSX1JFLHJlbGV2YW5jZTowfSx0LkNfTlVNQkVSX01PREU9e2NsYXNzTmFtZToibnVtYmVyIixiZWdpbjp0LkNfTlVNQkVSX1JFLHJlbGV2YW5jZTowfSx0LkJJTkFSWV9OVU1CRVJfTU9ERT17Y2xhc3NOYW1lOiJudW1iZXIiLGJlZ2luOnQuQklOQVJZX05VTUJFUl9SRSxyZWxldmFuY2U6MH0sdC5DU1NfTlVNQkVSX01PREU9e2NsYXNzTmFtZToibnVtYmVyIixiZWdpbjp0Lk5VTUJFUl9SRSsiKCV8ZW18ZXh8Y2h8cmVtfHZ3fHZofHZtaW58dm1heHxjbXxtbXxpbnxwdHxwY3xweHxkZWd8Z3JhZHxyYWR8dHVybnxzfG1zfEh6fGtIenxkcGl8ZHBjbXxkcHB4KT8iLHJlbGV2YW5jZTowfSx0LlJFR0VYUF9NT0RFPXtjbGFzc05hbWU6InJlZ2V4cCIsYmVnaW46L1wvLyxlbmQ6L1wvW2dpbXV5XSovLGlsbGVnYWw6L1xuLyxjb250YWluczpbdC5CQUNLU0xBU0hfRVNDQVBFLHtiZWdpbjovXFsvLGVuZDovXF0vLHJlbGV2YW5jZTowLGNvbnRhaW5zOlt0LkJBQ0tTTEFTSF9FU0NBUEVdfV19LHQuVElUTEVfTU9ERT17Y2xhc3NOYW1lOiJ0aXRsZSIsYmVnaW46dC5JREVOVF9SRSxyZWxldmFuY2U6MH0sdC5VTkRFUlNDT1JFX1RJVExFX01PREU9e2NsYXNzTmFtZToidGl0bGUiLGJlZ2luOnQuVU5ERVJTQ09SRV9JREVOVF9SRSxyZWxldmFuY2U6MH0sdC5NRVRIT0RfR1VBUkQ9e2JlZ2luOiJcXC5cXHMqIit0LlVOREVSU0NPUkVfSURFTlRfUkUscmVsZXZhbmNlOjB9LHR9KSl9LGQyYmI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjgyNWEiKSxvPW4oIjNiYmUiKTt0LmV4cG9ydHM9T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKCl7dmFyIHQsZT0hMSxuPXt9O3RyeXt0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LHQuY2FsbChuLFtdKSxlPW4gaW5zdGFuY2VvZiBBcnJheX1jYXRjaChpKXt9cmV0dXJuIGZ1bmN0aW9uKG4saSl7cmV0dXJuIHIobiksbyhpKSxlP3QuY2FsbChuLGkpOm4uX19wcm90b19fPWksbn19KCk6dm9pZCAwKX0sZDNiNzpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiMDBlZSIpLG89bigiNmVlYiIpLGk9bigiYjA0MSIpO3J8fG8oT2JqZWN0LnByb3RvdHlwZSwidG9TdHJpbmciLGkse3Vuc2FmZTohMH0pfSxkNDRlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI5YmYyIikuZixvPW4oIjUxMzUiKSxpPW4oImI2MjIiKSxzPWkoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt0JiYhbyh0PW4/dDp0LnByb3RvdHlwZSxzKSYmcih0LHMse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTplfSl9fSxkYTg0OmZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24oZSl7dmFyIG49ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuTWF0aD09TWF0aCYmdH07dC5leHBvcnRzPW4oIm9iamVjdCI9PXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzKXx8bigib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93KXx8bigib2JqZWN0Ij09dHlwZW9mIHNlbGYmJnNlbGYpfHxuKCJvYmplY3QiPT10eXBlb2YgZSYmZSl8fEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl9KS5jYWxsKHRoaXMsbigiYzhiYSIpKX0sZGM0NDpmdW5jdGlvbih0LGUsbil7fSxkZGIwOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJkYTg0Iiksbz1uKCJmZGJjIiksaT1uKCJlMjYwIikscz1uKCI5MTEyIiksYT1uKCJiNjIyIiksYz1hKCJpdGVyYXRvciIpLGw9YSgidG9TdHJpbmdUYWciKSx1PWkudmFsdWVzO2Zvcih2YXIgcCBpbiBvKXt2YXIgZj1yW3BdLGQ9ZiYmZi5wcm90b3R5cGU7aWYoZCl7aWYoZFtjXSE9PXUpdHJ5e3MoZCxjLHUpfWNhdGNoKHYpe2RbY109dX1pZihkW2xdfHxzKGQsbCxwKSxvW3BdKWZvcih2YXIgaCBpbiBpKWlmKGRbaF0hPT1pW2hdKXRyeXtzKGQsaCxpW2hdKX1jYXRjaCh2KXtkW2hdPWlbaF19fX19LGRmNzU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImNhODQiKSxvPW4oIjc4MzkiKTt0LmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKHQpe3JldHVybiByKHQsbyl9fSxlMDFhOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiMjNlNyIpLG89bigiODNhYiIpLGk9bigiZGE4NCIpLHM9bigiNTEzNSIpLGE9bigiODYxZCIpLGM9bigiOWJmMiIpLmYsbD1uKCJlODkzIiksdT1pLlN5bWJvbDtpZihvJiYiZnVuY3Rpb24iPT10eXBlb2YgdSYmKCEoImRlc2NyaXB0aW9uImluIHUucHJvdG90eXBlKXx8dm9pZCAwIT09dSgpLmRlc2NyaXB0aW9uKSl7dmFyIHA9e30sZj1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8MXx8dm9pZCAwPT09YXJndW1lbnRzWzBdP3ZvaWQgMDpTdHJpbmcoYXJndW1lbnRzWzBdKSxlPXRoaXMgaW5zdGFuY2VvZiBmP25ldyB1KHQpOnZvaWQgMD09PXQ/dSgpOnUodCk7cmV0dXJuIiI9PT10JiYocFtlXT0hMCksZX07bChmLHUpO3ZhciBkPWYucHJvdG90eXBlPXUucHJvdG90eXBlO2QuY29uc3RydWN0b3I9Zjt2YXIgaD1kLnRvU3RyaW5nLHY9IlN5bWJvbCh0ZXN0KSI9PVN0cmluZyh1KCJ0ZXN0IikpLG09L15TeW1ib2xcKCguKilcKVteKV0rJC87YyhkLCJkZXNjcmlwdGlvbiIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXt2YXIgdD1hKHRoaXMpP3RoaXMudmFsdWVPZigpOnRoaXMsZT1oLmNhbGwodCk7aWYocyhwLHQpKXJldHVybiIiO3ZhciBuPXY/ZS5zbGljZSg3LC0xKTplLnJlcGxhY2UobSwiJDEiKTtyZXR1cm4iIj09PW4/dm9pZCAwOm59fSkscih7Z2xvYmFsOiEwLGZvcmNlZDohMH0se1N5bWJvbDpmfSl9fSxlMTYzOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI1MTM1Iiksbz1uKCI3YjBiIiksaT1uKCJmNzcyIikscz1uKCJlMTc3IiksYT1pKCJJRV9QUk9UTyIpLGM9T2JqZWN0LnByb3RvdHlwZTt0LmV4cG9ydHM9cz9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9byh0KSxyKHQsYSk/dFthXToiZnVuY3Rpb24iPT10eXBlb2YgdC5jb25zdHJ1Y3RvciYmdCBpbnN0YW5jZW9mIHQuY29uc3RydWN0b3I/dC5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6dCBpbnN0YW5jZW9mIE9iamVjdD9jOm51bGx9fSxlMTc3OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJkMDM5Iik7dC5leHBvcnRzPSFyKChmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPW51bGwsT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyB0KSE9PXQucHJvdG90eXBlfSkpfSxlMjYwOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiZmM2YSIpLG89bigiNDRkMiIpLGk9bigiM2Y4YyIpLHM9bigiNjlmMyIpLGE9bigiN2RkMCIpLGM9IkFycmF5IEl0ZXJhdG9yIixsPXMuc2V0LHU9cy5nZXR0ZXJGb3IoYyk7dC5leHBvcnRzPWEoQXJyYXksIkFycmF5IiwoZnVuY3Rpb24odCxlKXtsKHRoaXMse3R5cGU6Yyx0YXJnZXQ6cih0KSxpbmRleDowLGtpbmQ6ZX0pfSksKGZ1bmN0aW9uKCl7dmFyIHQ9dSh0aGlzKSxlPXQudGFyZ2V0LG49dC5raW5kLHI9dC5pbmRleCsrO3JldHVybiFlfHxyPj1lLmxlbmd0aD8odC50YXJnZXQ9dm9pZCAwLHt2YWx1ZTp2b2lkIDAsZG9uZTohMH0pOiJrZXlzIj09bj97dmFsdWU6cixkb25lOiExfToidmFsdWVzIj09bj97dmFsdWU6ZVtyXSxkb25lOiExfTp7dmFsdWU6W3IsZVtyXV0sZG9uZTohMX19KSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxvKCJrZXlzIiksbygidmFsdWVzIiksbygiZW50cmllcyIpfSxlNzZjOmZ1bmN0aW9uKHQsZSxuKXt9LGU4OTM6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjUxMzUiKSxvPW4oIjU2ZWYiKSxpPW4oIjA2Y2YiKSxzPW4oIjliZjIiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49byhlKSxhPXMuZixjPWkuZixsPTA7bDxuLmxlbmd0aDtsKyspe3ZhciB1PW5bbF07cih0LHUpfHxhKHQsdSxjKGUsdSkpfX19LGU4YjU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImM2YjYiKTt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24odCl7cmV0dXJuIkFycmF5Ij09cih0KX19LGY1ZGY6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjAwZWUiKSxvPW4oImM2YjYiKSxpPW4oImI2MjIiKSxzPWkoInRvU3RyaW5nVGFnIiksYT0iQXJndW1lbnRzIj09byhmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLGM9ZnVuY3Rpb24odCxlKXt0cnl7cmV0dXJuIHRbZV19Y2F0Y2gobil7fX07dC5leHBvcnRzPXI/bzpmdW5jdGlvbih0KXt2YXIgZSxuLHI7cmV0dXJuIHZvaWQgMD09PXQ/IlVuZGVmaW5lZCI6bnVsbD09PXQ/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yobj1jKGU9T2JqZWN0KHQpLHMpKT9uOmE/byhlKToiT2JqZWN0Ij09KHI9byhlKSkmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNhbGxlZT8iQXJndW1lbnRzIjpyfX0sZjZmZDpmdW5jdGlvbih0LGUpeyhmdW5jdGlvbih0KXt2YXIgZT0iY3VycmVudFNjcmlwdCIsbj10LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKTtlIGluIHR8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2dldDpmdW5jdGlvbigpe3RyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2gocil7dmFyIHQsZT0oLy4qYXQgW15cKF0qXCgoLiopOi4rOi4rXCkkL2dpLmV4ZWMoci5zdGFjayl8fFshMV0pWzFdO2Zvcih0IGluIG4paWYoblt0XS5zcmM9PWV8fCJpbnRlcmFjdGl2ZSI9PW5bdF0ucmVhZHlTdGF0ZSlyZXR1cm4gblt0XTtyZXR1cm4gbnVsbH19fSl9KShkb2N1bWVudCl9LGY3NzI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjU2OTIiKSxvPW4oIjkwZTMiKSxpPXIoImtleXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlbdF18fChpW3RdPW8odCkpfX0sZjhjMjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiMWMwYiIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7aWYocih0KSx2b2lkIDA9PT1lKXJldHVybiB0O3N3aXRjaChuKXtjYXNlIDA6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuY2FsbChlKX07Y2FzZSAxOnJldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdC5jYWxsKGUsbil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gdC5jYWxsKGUsbixyKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihuLHIsbyl7cmV0dXJuIHQuY2FsbChlLG4scixvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX19LGZhZTM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcjsobi5yKGUpLCJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdykmJihuKCJmNmZkIiksKHI9d2luZG93LmRvY3VtZW50LmN1cnJlbnRTY3JpcHQpJiYocj1yLnNyYy5tYXRjaCgvKC4rXC8pW14vXStcLmpzKFw/LiopPyQvKSkmJihuLnA9clsxXSkpO3ZhciBvPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuJGNyZWF0ZUVsZW1lbnQsbj10Ll9zZWxmLl9jfHxlO3JldHVybiBuKCJkaXYiLHtzdGF0aWNDbGFzczoidGlwdGFwLWVkaXRvciJ9LFtuKCJlZGl0b3ItbWVudS1iYXIiLHthdHRyczp7ZWRpdG9yOnQuZWRpdG9yfSxzY29wZWRTbG90czp0Ll91KFt7a2V5OiJkZWZhdWx0IixmbjpmdW5jdGlvbihlKXt2YXIgcj1lLmNvbW1hbmRzLG89ZS5pc0FjdGl2ZTtyZXR1cm5bbigiZGl2Iix7c3RhdGljQ2xhc3M6Im1lbnViYXIifSxbbigiZGl2Iix7c3RhdGljQ2xhc3M6InRvb2xiYXIifSxbbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8uaGVhZGluZyh7bGV2ZWw6MX0pfSxvbjp7Y2xpY2s6ZnVuY3Rpb24odCl7cmV0dXJuIHIuaGVhZGluZyh7bGV2ZWw6MX0pfX19LFt0Ll92KCIgSDEgIildKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5oZWFkaW5nKHtsZXZlbDoyfSl9LG9uOntjbGljazpmdW5jdGlvbih0KXtyZXR1cm4gci5oZWFkaW5nKHtsZXZlbDoyfSl9fX0sW3QuX3YoIiBIMiAiKV0pLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLmhlYWRpbmcoe2xldmVsOjN9KX0sb246e2NsaWNrOmZ1bmN0aW9uKHQpe3JldHVybiByLmhlYWRpbmcoe2xldmVsOjN9KX19fSxbdC5fdigiIEgzICIpXSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8uYnVsbGV0X2xpc3QoKX0sb246e2NsaWNrOnIuYnVsbGV0X2xpc3R9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJ1bCJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLm9yZGVyZWRfbGlzdCgpfSxvbjp7Y2xpY2s6ci5vcmRlcmVkX2xpc3R9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJvbCJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLmJvbGQoKX0sb246e2NsaWNrOnIuYm9sZH19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImJvbGQifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5pdGFsaWMoKX0sb246e2NsaWNrOnIuaXRhbGljfX0sW24oImljb24iLHthdHRyczp7bmFtZToiaXRhbGljIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8uc3RyaWtlKCl9LG9uOntjbGljazpyLnN0cmlrZX19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6InN0cmlrZSJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLnVuZGVybGluZSgpfSxvbjp7Y2xpY2s6ci51bmRlcmxpbmV9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJ1bmRlcmxpbmUifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5jb2RlKCl9LG9uOntjbGljazpyLmNvZGV9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJjb2RlIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8ucGFyYWdyYXBoKCl9LG9uOntjbGljazpyLnBhcmFncmFwaH19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6InBhcmFncmFwaCJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLmJsb2NrcXVvdGUoKX0sb246e2NsaWNrOnIuYmxvY2txdW90ZX19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6InF1b3RlIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8uY29kZV9ibG9jaygpfSxvbjp7Y2xpY2s6ci5jb2RlX2Jsb2NrfX0sW24oImljb24iLHthdHRyczp7bmFtZToiY29kZV9ibG9jayJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLG9uOntjbGljazpmdW5jdGlvbih0KXtyZXR1cm4gci5jcmVhdGVUYWJsZSh7cm93c0NvdW50OjMsY29sc0NvdW50OjMsd2l0aEhlYWRlclJvdzohMX0pfX19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6InRhYmxlIn19KV0sMSksby50YWJsZSgpP24oInNwYW4iLFtuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixvbjp7Y2xpY2s6ci5kZWxldGVUYWJsZX19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImRlbGV0ZV90YWJsZSJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLG9uOntjbGljazpyLmFkZENvbHVtbkJlZm9yZX19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImFkZF9jb2xfYmVmb3JlIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsb246e2NsaWNrOnIuYWRkQ29sdW1uQWZ0ZXJ9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJhZGRfY29sX2FmdGVyIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsb246e2NsaWNrOnIuZGVsZXRlQ29sdW1ufX0sW24oImljb24iLHthdHRyczp7bmFtZToiZGVsZXRlX2NvbCJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLG9uOntjbGljazpyLmFkZFJvd0JlZm9yZX19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImFkZF9yb3dfYmVmb3JlIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsb246e2NsaWNrOnIuYWRkUm93QWZ0ZXJ9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJhZGRfcm93X2FmdGVyIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsb246e2NsaWNrOnIuZGVsZXRlUm93fX0sW24oImljb24iLHthdHRyczp7bmFtZToiZGVsZXRlX3JvdyJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLG9uOntjbGljazpyLnRvZ2dsZUNlbGxNZXJnZX19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImNvbWJpbmVfY2VsbHMifX0pXSwxKV0pOnQuX2UoKV0pXSldfX1dKX0pLG4oImVkaXRvci1jb250ZW50Iix7c3RhdGljQ2xhc3M6InRpcHRhcC1lZGl0b3JfX2NvbnRlbnQiLGF0dHJzOntlZGl0b3I6dC5lZGl0b3J9fSldLDEpfSxpPVtdLHM9KG4oImRjNDQiKSxuKCI1MzEzIikpLGE9bigiMzA0YSIpLGM9bigiMGFjMCIpLGw9e307aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQpe3ZhciB1PS9FZGdlXC8oXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KSxwPS9NU0lFIFxkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGY9L1RyaWRlbnRcLyg/Ols3LTldfFxkezIsfSlcLi4qcnY6KFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7bC5tYWM9L01hYy8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO3ZhciBkPWwuaWU9ISEocHx8Znx8dSk7bC5pZV92ZXJzaW9uPXA/ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw2OmY/K2ZbMV06dT8rdVsxXTpudWxsLGwuZ2Vja289IWQmJi9nZWNrb1wvKFxkKykvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGwuZ2Vja29fdmVyc2lvbj1sLmdlY2tvJiYrKC9GaXJlZm94XC8oXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KXx8WzAsMF0pWzFdO3ZhciBoPSFkJiYvQ2hyb21lXC8oXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KTtsLmNocm9tZT0hIWgsbC5jaHJvbWVfdmVyc2lvbj1oJiYraFsxXSxsLmlvcz0hZCYmL0FwcGxlV2ViS2l0Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpJiYvTW9iaWxlXC9cdysvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksbC5hbmRyb2lkPS9BbmRyb2lkIFxkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGwud2Via2l0PSFkJiYiV2Via2l0QXBwZWFyYW5jZSJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUsbC5zYWZhcmk9L0FwcGxlIENvbXB1dGVyLy50ZXN0KG5hdmlnYXRvci52ZW5kb3IpLGwud2Via2l0X3ZlcnNpb249bC53ZWJraXQmJisoL1xiQXBwbGVXZWJLaXRcLyhcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpfHxbMCwwXSlbMV19dmFyIHY9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7O2UrKylpZih0PXQucHJldmlvdXNTaWJsaW5nLCF0KXJldHVybiBlfSxtPWZ1bmN0aW9uKHQpe3ZhciBlPXQucGFyZW50Tm9kZTtyZXR1cm4gZSYmMTE9PWUubm9kZVR5cGU/ZS5ob3N0OmV9LGc9ZnVuY3Rpb24odCxlLG4pe3ZhciByPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7cmV0dXJuIHIuc2V0RW5kKHQsbnVsbD09bj90Lm5vZGVWYWx1ZS5sZW5ndGg6biksci5zZXRTdGFydCh0LGV8fDApLHJ9LHk9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIG4mJihiKHQsZSxuLHIsLTEpfHxiKHQsZSxuLHIsMSkpfSx3PS9eKGltZ3xicnxpbnB1dHx0ZXh0YXJlYXxocikkL2k7ZnVuY3Rpb24gYih0LGUsbixyLG8pe2Zvcig7Oyl7aWYodD09biYmZT09cilyZXR1cm4hMDtpZihlPT0obzwwPzA6Uyh0KSkpe3ZhciBpPXQucGFyZW50Tm9kZTtpZigxIT1pLm5vZGVUeXBlfHxrKHQpfHx3LnRlc3QodC5ub2RlTmFtZSl8fCJmYWxzZSI9PXQuY29udGVudEVkaXRhYmxlKXJldHVybiExO2U9dih0KSsobzwwPzA6MSksdD1pfWVsc2V7aWYoMSE9dC5ub2RlVHlwZSlyZXR1cm4hMTt0PXQuY2hpbGROb2Rlc1tlKyhvPDA/LTE6MCldLGU9bzwwP1ModCk6MH19fWZ1bmN0aW9uIFModCl7cmV0dXJuIDM9PXQubm9kZVR5cGU/dC5ub2RlVmFsdWUubGVuZ3RoOnQuY2hpbGROb2Rlcy5sZW5ndGh9ZnVuY3Rpb24gayh0KXtmb3IodmFyIGUsbj10O247bj1uLnBhcmVudE5vZGUpaWYoZT1uLnBtVmlld0Rlc2MpYnJlYWs7cmV0dXJuIGUmJmUubm9kZSYmZS5ub2RlLmlzQmxvY2smJihlLmRvbT09dHx8ZS5jb250ZW50RE9NPT10KX12YXIgeD1mdW5jdGlvbih0KXt2YXIgZT10LmlzQ29sbGFwc2VkO3JldHVybiBlJiZsLmNocm9tZSYmdC5yYW5nZUNvdW50JiYhdC5nZXRSYW5nZUF0KDApLmNvbGxhcHNlZCYmKGU9ITEpLGV9O2Z1bmN0aW9uIEModCxlKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKTtyZXR1cm4gbi5pbml0RXZlbnQoImtleWRvd24iLCEwLCEwKSxuLmtleUNvZGU9dCxuLmtleT1uLmNvZGU9ZSxufWZ1bmN0aW9uIE8odCl7cmV0dXJue2xlZnQ6MCxyaWdodDp0LmlubmVyV2lkdGgsdG9wOjAsYm90dG9tOnQuaW5uZXJIZWlnaHR9fWZ1bmN0aW9uIE0odCxlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIHQ/dDp0W2VdfWZ1bmN0aW9uIE4odCxlLG4pe2Zvcih2YXIgcj10LnNvbWVQcm9wKCJzY3JvbGxUaHJlc2hvbGQiKXx8MCxvPXQuc29tZVByb3AoInNjcm9sbE1hcmdpbiIpfHw1LGk9dC5kb20ub3duZXJEb2N1bWVudCxzPWkuZGVmYXVsdFZpZXcsYT1ufHx0LmRvbTs7YT1tKGEpKXtpZighYSlicmVhaztpZigxPT1hLm5vZGVUeXBlKXt2YXIgYz1hPT1pLmJvZHl8fDEhPWEubm9kZVR5cGUsbD1jP08ocyk6YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx1PTAscD0wO2lmKGUudG9wPGwudG9wK00ociwidG9wIik/cD0tKGwudG9wLWUudG9wK00obywidG9wIikpOmUuYm90dG9tPmwuYm90dG9tLU0ociwiYm90dG9tIikmJihwPWUuYm90dG9tLWwuYm90dG9tK00obywiYm90dG9tIikpLGUubGVmdDxsLmxlZnQrTShyLCJsZWZ0Iik/dT0tKGwubGVmdC1lLmxlZnQrTShvLCJsZWZ0IikpOmUucmlnaHQ+bC5yaWdodC1NKHIsInJpZ2h0IikmJih1PWUucmlnaHQtbC5yaWdodCtNKG8sInJpZ2h0IikpLCh1fHxwKSYmKGM/cy5zY3JvbGxCeSh1LHApOihwJiYoYS5zY3JvbGxUb3ArPXApLHUmJihhLnNjcm9sbExlZnQrPXUpKSksYylicmVha319fWZ1bmN0aW9uIFQodCl7Zm9yKHZhciBlLG4scj10LmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPU1hdGgubWF4KDAsci50b3ApLGk9KHIubGVmdCtyLnJpZ2h0KS8yLHM9bysxO3M8TWF0aC5taW4oaW5uZXJIZWlnaHQsci5ib3R0b20pO3MrPTUpe3ZhciBhPXQucm9vdC5lbGVtZW50RnJvbVBvaW50KGkscyk7aWYoYSE9dC5kb20mJnQuZG9tLmNvbnRhaW5zKGEpKXt2YXIgYz1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKGMudG9wPj1vLTIwKXtlPWEsbj1jLnRvcDticmVha319fXJldHVybntyZWZET006ZSxyZWZUb3A6bixzdGFjazpEKHQuZG9tKX19ZnVuY3Rpb24gRCh0KXtmb3IodmFyIGU9W10sbj10Lm93bmVyRG9jdW1lbnQ7dDt0PW0odCkpaWYoZS5wdXNoKHtkb206dCx0b3A6dC5zY3JvbGxUb3AsbGVmdDp0LnNjcm9sbExlZnR9KSx0PT1uKWJyZWFrO3JldHVybiBlfWZ1bmN0aW9uIEEodCl7dmFyIGU9dC5yZWZET00sbj10LnJlZlRvcCxyPXQuc3RhY2ssbz1lP2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wOjA7RShyLDA9PW8/MDpvLW4pfWZ1bmN0aW9uIEUodCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXSxvPXIuZG9tLGk9ci50b3Ascz1yLmxlZnQ7by5zY3JvbGxUb3AhPWkrZSYmKG8uc2Nyb2xsVG9wPWkrZSksby5zY3JvbGxMZWZ0IT1zJiYoby5zY3JvbGxMZWZ0PXMpfX12YXIgUj1udWxsO2Z1bmN0aW9uIF8odCl7aWYodC5zZXRBY3RpdmUpcmV0dXJuIHQuc2V0QWN0aXZlKCk7aWYoUilyZXR1cm4gdC5mb2N1cyhSKTt2YXIgZT1EKHQpO3QuZm9jdXMobnVsbD09Uj97Z2V0IHByZXZlbnRTY3JvbGwoKXtyZXR1cm4gUj17cHJldmVudFNjcm9sbDohMH0sITB9fTp2b2lkIDApLFJ8fChSPSExLEUoZSwwKSl9ZnVuY3Rpb24gUCh0LGUpe2Zvcih2YXIgbixyLG89MmU4LGk9MCxzPWUudG9wLGE9ZS50b3AsYz10LmZpcnN0Q2hpbGQsbD0wO2M7Yz1jLm5leHRTaWJsaW5nLGwrKyl7dmFyIHU9dm9pZCAwO2lmKDE9PWMubm9kZVR5cGUpdT1jLmdldENsaWVudFJlY3RzKCk7ZWxzZXtpZigzIT1jLm5vZGVUeXBlKWNvbnRpbnVlO3U9ZyhjKS5nZXRDbGllbnRSZWN0cygpfWZvcih2YXIgcD0wO3A8dS5sZW5ndGg7cCsrKXt2YXIgZj11W3BdO2lmKGYudG9wPD1zJiZmLmJvdHRvbT49YSl7cz1NYXRoLm1heChmLmJvdHRvbSxzKSxhPU1hdGgubWluKGYudG9wLGEpO3ZhciBkPWYubGVmdD5lLmxlZnQ/Zi5sZWZ0LWUubGVmdDpmLnJpZ2h0PGUubGVmdD9lLmxlZnQtZi5yaWdodDowO2lmKGQ8byl7bj1jLG89ZCxyPWQmJjM9PW4ubm9kZVR5cGU/e2xlZnQ6Zi5yaWdodDxlLmxlZnQ/Zi5yaWdodDpmLmxlZnQsdG9wOmUudG9wfTplLDE9PWMubm9kZVR5cGUmJmQmJihpPWwrKGUubGVmdD49KGYubGVmdCtmLnJpZ2h0KS8yPzE6MCkpO2NvbnRpbnVlfX0hbiYmKGUubGVmdD49Zi5yaWdodCYmZS50b3A+PWYudG9wfHxlLmxlZnQ+PWYubGVmdCYmZS50b3A+PWYuYm90dG9tKSYmKGk9bCsxKX19cmV0dXJuIG4mJjM9PW4ubm9kZVR5cGU/eihuLHIpOiFufHxvJiYxPT1uLm5vZGVUeXBlP3tub2RlOnQsb2Zmc2V0Oml9OlAobixyKX1mdW5jdGlvbiB6KHQsZSl7Zm9yKHZhciBuPXQubm9kZVZhbHVlLmxlbmd0aCxyPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCksbz0wO288bjtvKyspe3Iuc2V0RW5kKHQsbysxKSxyLnNldFN0YXJ0KHQsbyk7dmFyIGk9TChyLDEpO2lmKGkudG9wIT1pLmJvdHRvbSYmSShlLGkpKXJldHVybntub2RlOnQsb2Zmc2V0Om8rKGUubGVmdD49KGkubGVmdCtpLnJpZ2h0KS8yPzE6MCl9fXJldHVybntub2RlOnQsb2Zmc2V0OjB9fWZ1bmN0aW9uIEkodCxlKXtyZXR1cm4gdC5sZWZ0Pj1lLmxlZnQtMSYmdC5sZWZ0PD1lLnJpZ2h0KzEmJnQudG9wPj1lLnRvcC0xJiZ0LnRvcDw9ZS5ib3R0b20rMX1mdW5jdGlvbiBCKHQsZSl7dmFyIG49dC5wYXJlbnROb2RlO3JldHVybiBuJiYvXmxpJC9pLnRlc3Qobi5ub2RlTmFtZSkmJmUubGVmdDx0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ/bjp0fWZ1bmN0aW9uIFYodCxlLG4pe3ZhciByPVAoZSxuKSxvPXIubm9kZSxpPXIub2Zmc2V0LHM9LTE7aWYoMT09by5ub2RlVHlwZSYmIW8uZmlyc3RDaGlsZCl7dmFyIGE9by5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtzPWEubGVmdCE9YS5yaWdodCYmbi5sZWZ0PihhLmxlZnQrYS5yaWdodCkvMj8xOi0xfXJldHVybiB0LmRvY1ZpZXcucG9zRnJvbURPTShvLGkscyl9ZnVuY3Rpb24gRih0LGUsbixyKXtmb3IodmFyIG89LTEsaT1lOzspe2lmKGk9PXQuZG9tKWJyZWFrO3ZhciBzPXQuZG9jVmlldy5uZWFyZXN0RGVzYyhpLCEwKTtpZighcylyZXR1cm4gbnVsbDtpZihzLm5vZGUuaXNCbG9jayYmcy5wYXJlbnQpe3ZhciBhPXMuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKGEubGVmdD5yLmxlZnR8fGEudG9wPnIudG9wKW89cy5wb3NCZWZvcmU7ZWxzZXtpZighKGEucmlnaHQ8ci5sZWZ0fHxhLmJvdHRvbTxyLnRvcCkpYnJlYWs7bz1zLnBvc0FmdGVyfX1pPXMuZG9tLnBhcmVudE5vZGV9cmV0dXJuIG8+LTE/bzp0LmRvY1ZpZXcucG9zRnJvbURPTShlLG4pfWZ1bmN0aW9uIGoodCxlLG4pe3ZhciByPXQuY2hpbGROb2Rlcy5sZW5ndGg7aWYociYmbi50b3A8bi5ib3R0b20pZm9yKHZhciBvPU1hdGgubWF4KDAsTWF0aC5taW4oci0xLE1hdGguZmxvb3IociooZS50b3Atbi50b3ApLyhuLmJvdHRvbS1uLnRvcCkpLTIpKSxpPW87Oyl7dmFyIHM9dC5jaGlsZE5vZGVzW2ldO2lmKDE9PXMubm9kZVR5cGUpZm9yKHZhciBhPXMuZ2V0Q2xpZW50UmVjdHMoKSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBsPWFbY107aWYoSShlLGwpKXJldHVybiBqKHMsZSxsKX1pZigoaT0oaSsxKSVyKT09bylicmVha31yZXR1cm4gdH1mdW5jdGlvbiAkKHQsZSl7dmFyIG4scixvLGkscz10LnJvb3Q7aWYocy5jYXJldFBvc2l0aW9uRnJvbVBvaW50KXRyeXt2YXIgYT1zLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQoZS5sZWZ0LGUudG9wKTthJiYobj1hLG89bi5vZmZzZXROb2RlLGk9bi5vZmZzZXQpfWNhdGNoKG0pe31pZighbyYmcy5jYXJldFJhbmdlRnJvbVBvaW50KXt2YXIgYz1zLmNhcmV0UmFuZ2VGcm9tUG9pbnQoZS5sZWZ0LGUudG9wKTtjJiYocj1jLG89ci5zdGFydENvbnRhaW5lcixpPXIuc3RhcnRPZmZzZXQpfXZhciB1LHA9cy5lbGVtZW50RnJvbVBvaW50KGUubGVmdCxlLnRvcCsxKTtpZighcHx8IXQuZG9tLmNvbnRhaW5zKDEhPXAubm9kZVR5cGU/cC5wYXJlbnROb2RlOnApKXt2YXIgZj10LmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZighSShlLGYpKXJldHVybiBudWxsO2lmKHA9aih0LmRvbSxlLGYpLCFwKXJldHVybiBudWxsfWlmKHA9QihwLGUpLG8pe2lmKGwuZ2Vja28mJjE9PW8ubm9kZVR5cGUmJihpPU1hdGgubWluKGksby5jaGlsZE5vZGVzLmxlbmd0aCksaTxvLmNoaWxkTm9kZXMubGVuZ3RoKSl7dmFyIGQsaD1vLmNoaWxkTm9kZXNbaV07IklNRyI9PWgubm9kZU5hbWUmJihkPWguZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLnJpZ2h0PD1lLmxlZnQmJmQuYm90dG9tPmUudG9wJiZpKyt9bz09dC5kb20mJmk9PW8uY2hpbGROb2Rlcy5sZW5ndGgtMSYmMT09by5sYXN0Q2hpbGQubm9kZVR5cGUmJmUudG9wPm8ubGFzdENoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbT91PXQuc3RhdGUuZG9jLmNvbnRlbnQuc2l6ZTowIT1pJiYxPT1vLm5vZGVUeXBlJiYiQlIiPT1vLmNoaWxkTm9kZXNbaS0xXS5ub2RlTmFtZXx8KHU9Rih0LG8saSxlKSl9bnVsbD09dSYmKHU9Vih0LHAsZSkpO3ZhciB2PXQuZG9jVmlldy5uZWFyZXN0RGVzYyhwLCEwKTtyZXR1cm57cG9zOnUsaW5zaWRlOnY/di5wb3NBdFN0YXJ0LXYuYm9yZGVyOi0xfX1mdW5jdGlvbiBMKHQsZSl7dmFyIG49dC5nZXRDbGllbnRSZWN0cygpO3JldHVybiBuLmxlbmd0aD9uW2U8MD8wOm4ubGVuZ3RoLTFdOnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9ZnVuY3Rpb24gSCh0LGUpe3ZhciBuPXQuZG9jVmlldy5kb21Gcm9tUG9zKGUpLHI9bi5ub2RlLG89bi5vZmZzZXQ7aWYoMz09ci5ub2RlVHlwZSYmKGwuY2hyb21lfHxsLmdlY2tvKSl7dmFyIGk9TChnKHIsbyxvKSwwKTtpZihsLmdlY2tvJiZvJiYvXHMvLnRlc3Qoci5ub2RlVmFsdWVbby0xXSkmJm88ci5ub2RlVmFsdWUubGVuZ3RoKXt2YXIgcz1MKGcocixvLTEsby0xKSwtMSk7aWYoTWF0aC5hYnMocy5sZWZ0LWkubGVmdCk8MSYmcy50b3A9PWkudG9wKXt2YXIgYT1MKGcocixvLG8rMSksLTEpO3JldHVybiBXKGEsYS5sZWZ0PHMubGVmdCl9fXJldHVybiBpfWlmKDE9PXIubm9kZVR5cGUmJiF0LnN0YXRlLmRvYy5yZXNvbHZlKGUpLnBhcmVudC5pbmxpbmVDb250ZW50KXt2YXIgYyx1PSEwO2lmKG88ci5jaGlsZE5vZGVzLmxlbmd0aCl7dmFyIHA9ci5jaGlsZE5vZGVzW29dOzE9PXAubm9kZVR5cGUmJihjPXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpfWlmKCFjJiZvKXt2YXIgZj1yLmNoaWxkTm9kZXNbby0xXTsxPT1mLm5vZGVUeXBlJiYoYz1mLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHU9ITEpfXJldHVybiBxKGN8fHIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdSl9Zm9yKHZhciBkPS0xO2Q8MjtkKz0yKWlmKGQ8MCYmbyl7dmFyIGg9dm9pZCAwLHY9Mz09ci5ub2RlVHlwZT9nKHIsby0xLG8pOjM9PShoPXIuY2hpbGROb2Rlc1tvLTFdKS5ub2RlVHlwZT9nKGgpOjE9PWgubm9kZVR5cGUmJiJCUiIhPWgubm9kZU5hbWU/aDpudWxsO2lmKHYpe3ZhciBtPUwodiwxKTtpZihtLnRvcDxtLmJvdHRvbSlyZXR1cm4gVyhtLCExKX19ZWxzZSBpZihkPjAmJm88UyhyKSl7dmFyIHk9dm9pZCAwLHc9Mz09ci5ub2RlVHlwZT9nKHIsbyxvKzEpOjM9PSh5PXIuY2hpbGROb2Rlc1tvXSkubm9kZVR5cGU/Zyh5KToxPT15Lm5vZGVUeXBlP3k6bnVsbDtpZih3KXt2YXIgYj1MKHcsLTEpO2lmKGIudG9wPGIuYm90dG9tKXJldHVybiBXKGIsITApfX1yZXR1cm4gVyhMKDM9PXIubm9kZVR5cGU/ZyhyKTpyLDApLCExKX1mdW5jdGlvbiBXKHQsZSl7aWYoMD09dC53aWR0aClyZXR1cm4gdDt2YXIgbj1lP3QubGVmdDp0LnJpZ2h0O3JldHVybnt0b3A6dC50b3AsYm90dG9tOnQuYm90dG9tLGxlZnQ6bixyaWdodDpufX1mdW5jdGlvbiBxKHQsZSl7aWYoMD09dC5oZWlnaHQpcmV0dXJuIHQ7dmFyIG49ZT90LnRvcDp0LmJvdHRvbTtyZXR1cm57dG9wOm4sYm90dG9tOm4sbGVmdDp0LmxlZnQscmlnaHQ6dC5yaWdodH19ZnVuY3Rpb24gSih0LGUsbil7dmFyIHI9dC5zdGF0ZSxvPXQucm9vdC5hY3RpdmVFbGVtZW50O3IhPWUmJnQudXBkYXRlU3RhdGUoZSksbyE9dC5kb20mJnQuZm9jdXMoKTt0cnl7cmV0dXJuIG4oKX1maW5hbGx5e3IhPWUmJnQudXBkYXRlU3RhdGUociksbyE9dC5kb20mJm8uZm9jdXMoKX19ZnVuY3Rpb24gSyh0LGUsbil7dmFyIHI9ZS5zZWxlY3Rpb24sbz0idXAiPT1uP3IuJGFuY2hvci5taW4oci4kaGVhZCk6ci4kYW5jaG9yLm1heChyLiRoZWFkKTtyZXR1cm4gSih0LGUsKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPXQuZG9jVmlldy5kb21Gcm9tUG9zKG8ucG9zKSxyPWUubm9kZTs7KXt2YXIgaT10LmRvY1ZpZXcubmVhcmVzdERlc2MociwhMCk7aWYoIWkpYnJlYWs7aWYoaS5ub2RlLmlzQmxvY2spe3I9aS5kb207YnJlYWt9cj1pLmRvbS5wYXJlbnROb2RlfWZvcih2YXIgcz1IKHQsby5wb3MpLGE9ci5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKXt2YXIgYz12b2lkIDA7aWYoMT09YS5ub2RlVHlwZSljPWEuZ2V0Q2xpZW50UmVjdHMoKTtlbHNle2lmKDMhPWEubm9kZVR5cGUpY29udGludWU7Yz1nKGEsMCxhLm5vZGVWYWx1ZS5sZW5ndGgpLmdldENsaWVudFJlY3RzKCl9Zm9yKHZhciBsPTA7bDxjLmxlbmd0aDtsKyspe3ZhciB1PWNbbF07aWYodS5ib3R0b20+dS50b3AmJigidXAiPT1uP3UuYm90dG9tPHMudG9wKzE6dS50b3A+cy5ib3R0b20tMSkpcmV0dXJuITF9fXJldHVybiEwfSkpfXZhciBVPS9bXHUwNTkwLVx1MDhhY10vO2Z1bmN0aW9uIEcodCxlLG4pe3ZhciByPWUuc2VsZWN0aW9uLG89ci4kaGVhZDtpZighby5wYXJlbnQuaXNUZXh0YmxvY2spcmV0dXJuITE7dmFyIGk9by5wYXJlbnRPZmZzZXQscz0haSxhPWk9PW8ucGFyZW50LmNvbnRlbnQuc2l6ZSxjPWdldFNlbGVjdGlvbigpO3JldHVybiBVLnRlc3Qoby5wYXJlbnQudGV4dENvbnRlbnQpJiZjLm1vZGlmeT9KKHQsZSwoZnVuY3Rpb24oKXt2YXIgZT1jLmdldFJhbmdlQXQoMCkscj1jLmZvY3VzTm9kZSxpPWMuZm9jdXNPZmZzZXQscz1jLmNhcmV0QmlkaUxldmVsO2MubW9kaWZ5KCJtb3ZlIixuLCJjaGFyYWN0ZXIiKTt2YXIgYT1vLmRlcHRoP3QuZG9jVmlldy5kb21BZnRlclBvcyhvLmJlZm9yZSgpKTp0LmRvbSxsPSFhLmNvbnRhaW5zKDE9PWMuZm9jdXNOb2RlLm5vZGVUeXBlP2MuZm9jdXNOb2RlOmMuZm9jdXNOb2RlLnBhcmVudE5vZGUpfHxyPT1jLmZvY3VzTm9kZSYmaT09Yy5mb2N1c09mZnNldDtyZXR1cm4gYy5yZW1vdmVBbGxSYW5nZXMoKSxjLmFkZFJhbmdlKGUpLG51bGwhPXMmJihjLmNhcmV0QmlkaUxldmVsPXMpLGx9KSk6ImxlZnQiPT1ufHwiYmFja3dhcmQiPT1uP3M6YX12YXIgWD1udWxsLFk9bnVsbCxaPSExO2Z1bmN0aW9uIFEodCxlLG4pe3JldHVybiBYPT1lJiZZPT1uP1o6KFg9ZSxZPW4sWj0idXAiPT1ufHwiZG93biI9PW4/Syh0LGUsbik6Ryh0LGUsbikpfXZhciB0dD0wLGV0PTEsbnQ9MixydD0zLG90PWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMucGFyZW50PXQsdGhpcy5jaGlsZHJlbj1lLHRoaXMuZG9tPW4sbi5wbVZpZXdEZXNjPXRoaXMsdGhpcy5jb250ZW50RE9NPXIsdGhpcy5kaXJ0eT10dH0saXQ9e2JlZm9yZVBvc2l0aW9uOntjb25maWd1cmFibGU6ITB9LHNpemU6e2NvbmZpZ3VyYWJsZTohMH0sYm9yZGVyOntjb25maWd1cmFibGU6ITB9LHBvc0JlZm9yZTp7Y29uZmlndXJhYmxlOiEwfSxwb3NBdFN0YXJ0Ontjb25maWd1cmFibGU6ITB9LHBvc0FmdGVyOntjb25maWd1cmFibGU6ITB9LHBvc0F0RW5kOntjb25maWd1cmFibGU6ITB9LGNvbnRlbnRMb3N0Ontjb25maWd1cmFibGU6ITB9fTtvdC5wcm90b3R5cGUubWF0Y2hlc1dpZGdldD1mdW5jdGlvbigpe3JldHVybiExfSxvdC5wcm90b3R5cGUubWF0Y2hlc01hcms9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sb3QucHJvdG90eXBlLm1hdGNoZXNOb2RlPWZ1bmN0aW9uKCl7cmV0dXJuITF9LG90LnByb3RvdHlwZS5tYXRjaGVzSGFjaz1mdW5jdGlvbigpe3JldHVybiExfSxpdC5iZWZvcmVQb3NpdGlvbi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sb3QucHJvdG90eXBlLnBhcnNlUnVsZT1mdW5jdGlvbigpe3JldHVybiBudWxsfSxvdC5wcm90b3R5cGUuc3RvcEV2ZW50PWZ1bmN0aW9uKCl7cmV0dXJuITF9LGl0LnNpemUuZ2V0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT0wO2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKXQrPXRoaXMuY2hpbGRyZW5bZV0uc2l6ZTtyZXR1cm4gdH0saXQuYm9yZGVyLmdldD1mdW5jdGlvbigpe3JldHVybiAwfSxvdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMucGFyZW50PW51bGwsdGhpcy5kb20ucG1WaWV3RGVzYz09dGhpcyYmKHRoaXMuZG9tLnBtVmlld0Rlc2M9bnVsbCk7Zm9yKHZhciB0PTA7dDx0aGlzLmNoaWxkcmVuLmxlbmd0aDt0KyspdGhpcy5jaGlsZHJlblt0XS5kZXN0cm95KCl9LG90LnByb3RvdHlwZS5wb3NCZWZvcmVDaGlsZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMucG9zQXRTdGFydDtlPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2UrKyl7dmFyIHI9dGhpcy5jaGlsZHJlbltlXTtpZihyPT10KXJldHVybiBuO24rPXIuc2l6ZX19LGl0LnBvc0JlZm9yZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQucG9zQmVmb3JlQ2hpbGQodGhpcyl9LGl0LnBvc0F0U3RhcnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50LnBvc0JlZm9yZUNoaWxkKHRoaXMpK3RoaXMuYm9yZGVyOjB9LGl0LnBvc0FmdGVyLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc0JlZm9yZSt0aGlzLnNpemV9LGl0LnBvc0F0RW5kLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc0F0U3RhcnQrdGhpcy5zaXplLTIqdGhpcy5ib3JkZXJ9LG90LnByb3RvdHlwZS5sb2NhbFBvc0Zyb21ET009ZnVuY3Rpb24odCxlLG4pe2lmKHRoaXMuY29udGVudERPTSYmdGhpcy5jb250ZW50RE9NLmNvbnRhaW5zKDE9PXQubm9kZVR5cGU/dDp0LnBhcmVudE5vZGUpKXtpZihuPDApe3ZhciByLG87aWYodD09dGhpcy5jb250ZW50RE9NKXI9dC5jaGlsZE5vZGVzW2UtMV07ZWxzZXt3aGlsZSh0LnBhcmVudE5vZGUhPXRoaXMuY29udGVudERPTSl0PXQucGFyZW50Tm9kZTtyPXQucHJldmlvdXNTaWJsaW5nfXdoaWxlKHImJighKG89ci5wbVZpZXdEZXNjKXx8by5wYXJlbnQhPXRoaXMpKXI9ci5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIHI/dGhpcy5wb3NCZWZvcmVDaGlsZChvKStvLnNpemU6dGhpcy5wb3NBdFN0YXJ0fXZhciBpLHM7aWYodD09dGhpcy5jb250ZW50RE9NKWk9dC5jaGlsZE5vZGVzW2VdO2Vsc2V7d2hpbGUodC5wYXJlbnROb2RlIT10aGlzLmNvbnRlbnRET00pdD10LnBhcmVudE5vZGU7aT10Lm5leHRTaWJsaW5nfXdoaWxlKGkmJighKHM9aS5wbVZpZXdEZXNjKXx8cy5wYXJlbnQhPXRoaXMpKWk9aS5uZXh0U2libGluZztyZXR1cm4gaT90aGlzLnBvc0JlZm9yZUNoaWxkKHMpOnRoaXMucG9zQXRFbmR9dmFyIGE7aWYodGhpcy5jb250ZW50RE9NJiZ0aGlzLmNvbnRlbnRET00hPXRoaXMuZG9tJiZ0aGlzLmRvbS5jb250YWlucyh0aGlzLmNvbnRlbnRET00pKWE9MiZ0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHRoaXMuY29udGVudERPTSk7ZWxzZSBpZih0aGlzLmRvbS5maXJzdENoaWxkKXtpZigwPT1lKWZvcih2YXIgYz10OztjPWMucGFyZW50Tm9kZSl7aWYoYz09dGhpcy5kb20pe2E9ITE7YnJlYWt9aWYoYy5wYXJlbnROb2RlLmZpcnN0Q2hpbGQhPWMpYnJlYWt9aWYobnVsbD09YSYmZT09dC5jaGlsZE5vZGVzLmxlbmd0aClmb3IodmFyIGw9dDs7bD1sLnBhcmVudE5vZGUpe2lmKGw9PXRoaXMuZG9tKXthPSEwO2JyZWFrfWlmKGwucGFyZW50Tm9kZS5sYXN0Q2hpbGQhPWwpYnJlYWt9fXJldHVybihudWxsPT1hP24+MDphKT90aGlzLnBvc0F0RW5kOnRoaXMucG9zQXRTdGFydH0sb3QucHJvdG90eXBlLm5lYXJlc3REZXNjPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPSEwLHI9dDtyO3I9ci5wYXJlbnROb2RlKXt2YXIgbz10aGlzLmdldERlc2Mocik7aWYobyYmKCFlfHxvLm5vZGUpKXtpZighbnx8IW8ubm9kZURPTXx8KDE9PW8ubm9kZURPTS5ub2RlVHlwZT9vLm5vZGVET00uY29udGFpbnModCk6by5ub2RlRE9NPT10KSlyZXR1cm4gbztuPSExfX19LG90LnByb3RvdHlwZS5nZXREZXNjPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnBtVmlld0Rlc2Msbj1lO247bj1uLnBhcmVudClpZihuPT10aGlzKXJldHVybiBlfSxvdC5wcm90b3R5cGUucG9zRnJvbURPTT1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPXQ7O3I9ci5wYXJlbnROb2RlKXt2YXIgbz10aGlzLmdldERlc2Mocik7aWYobylyZXR1cm4gby5sb2NhbFBvc0Zyb21ET00odCxlLG4pfX0sb3QucHJvdG90eXBlLmRlc2NBdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPTA7ZTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtlKyspe3ZhciByPXRoaXMuY2hpbGRyZW5bZV0sbz1uK3Iuc2l6ZTtpZihuPT10JiZvIT1uKXt3aGlsZSghci5ib3JkZXImJnIuY2hpbGRyZW4ubGVuZ3RoKXI9ci5jaGlsZHJlblswXTtyZXR1cm4gcn1pZih0PG8pcmV0dXJuIHIuZGVzY0F0KHQtbi1yLmJvcmRlcik7bj1vfX0sb3QucHJvdG90eXBlLmRvbUZyb21Qb3M9ZnVuY3Rpb24odCl7aWYoIXRoaXMuY29udGVudERPTSlyZXR1cm57bm9kZTp0aGlzLmRvbSxvZmZzZXQ6MH07Zm9yKHZhciBlPTAsbj0wOztuKyspe2lmKGU9PXQpe3doaWxlKG48dGhpcy5jaGlsZHJlbi5sZW5ndGgmJih0aGlzLmNoaWxkcmVuW25dLmJlZm9yZVBvc2l0aW9ufHx0aGlzLmNoaWxkcmVuW25dLmRvbS5wYXJlbnROb2RlIT10aGlzLmNvbnRlbnRET00pKW4rKztyZXR1cm57bm9kZTp0aGlzLmNvbnRlbnRET00sb2Zmc2V0Om49PXRoaXMuY2hpbGRyZW4ubGVuZ3RoP3RoaXMuY29udGVudERPTS5jaGlsZE5vZGVzLmxlbmd0aDp2KHRoaXMuY2hpbGRyZW5bbl0uZG9tKX19aWYobj09dGhpcy5jaGlsZHJlbi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBvc2l0aW9uICIrdCk7dmFyIHI9dGhpcy5jaGlsZHJlbltuXSxvPWUrci5zaXplO2lmKHQ8bylyZXR1cm4gci5kb21Gcm9tUG9zKHQtZS1yLmJvcmRlcik7ZT1vfX0sb3QucHJvdG90eXBlLnBhcnNlUmFuZ2U9ZnVuY3Rpb24odCxlLG4pe2lmKHZvaWQgMD09PW4mJihuPTApLDA9PXRoaXMuY2hpbGRyZW4ubGVuZ3RoKXJldHVybntub2RlOnRoaXMuY29udGVudERPTSxmcm9tOnQsdG86ZSxmcm9tT2Zmc2V0OjAsdG9PZmZzZXQ6dGhpcy5jb250ZW50RE9NLmNoaWxkTm9kZXMubGVuZ3RofTtmb3IodmFyIHI9LTEsbz0tMSxpPW4scz0wOztzKyspe3ZhciBhPXRoaXMuY2hpbGRyZW5bc10sYz1pK2Euc2l6ZTtpZigtMT09ciYmdDw9Yyl7dmFyIGw9aSthLmJvcmRlcjtpZih0Pj1sJiZlPD1jLWEuYm9yZGVyJiZhLm5vZGUmJmEuY29udGVudERPTSYmdGhpcy5jb250ZW50RE9NLmNvbnRhaW5zKGEuY29udGVudERPTSkpcmV0dXJuIGEucGFyc2VSYW5nZSh0LGUsbCk7dD1pO2Zvcih2YXIgdT1zO3U+MDt1LS0pe3ZhciBwPXRoaXMuY2hpbGRyZW5bdS0xXTtpZihwLnNpemUmJnAuZG9tLnBhcmVudE5vZGU9PXRoaXMuY29udGVudERPTSYmIXAuZW1wdHlDaGlsZEF0KDEpKXtyPXYocC5kb20pKzE7YnJlYWt9dC09cC5zaXplfS0xPT1yJiYocj0wKX1pZihyPi0xJiZlPD1jKXtlPWM7Zm9yKHZhciBmPXMrMTtmPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2YrKyl7dmFyIGQ9dGhpcy5jaGlsZHJlbltmXTtpZihkLnNpemUmJmQuZG9tLnBhcmVudE5vZGU9PXRoaXMuY29udGVudERPTSYmIWQuZW1wdHlDaGlsZEF0KC0xKSl7bz12KGQuZG9tKTticmVha31lKz1kLnNpemV9LTE9PW8mJihvPXRoaXMuY29udGVudERPTS5jaGlsZE5vZGVzLmxlbmd0aCk7YnJlYWt9aT1jfXJldHVybntub2RlOnRoaXMuY29udGVudERPTSxmcm9tOnQsdG86ZSxmcm9tT2Zmc2V0OnIsdG9PZmZzZXQ6b319LG90LnByb3RvdHlwZS5lbXB0eUNoaWxkQXQ9ZnVuY3Rpb24odCl7aWYodGhpcy5ib3JkZXJ8fCF0aGlzLmNvbnRlbnRET018fCF0aGlzLmNoaWxkcmVuLmxlbmd0aClyZXR1cm4hMTt2YXIgZT10aGlzLmNoaWxkcmVuW3Q8MD8wOnRoaXMuY2hpbGRyZW4ubGVuZ3RoLTFdO3JldHVybiAwPT1lLnNpemV8fGUuZW1wdHlDaGlsZEF0KHQpfSxvdC5wcm90b3R5cGUuZG9tQWZ0ZXJQb3M9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kb21Gcm9tUG9zKHQpLG49ZS5ub2RlLHI9ZS5vZmZzZXQ7aWYoMSE9bi5ub2RlVHlwZXx8cj09bi5jaGlsZE5vZGVzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiTm8gbm9kZSBhZnRlciBwb3MgIit0KTtyZXR1cm4gbi5jaGlsZE5vZGVzW3JdfSxvdC5wcm90b3R5cGUuc2V0U2VsZWN0aW9uPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgbz1NYXRoLm1pbih0LGUpLGk9TWF0aC5tYXgodCxlKSxzPTAsYT0wO3M8dGhpcy5jaGlsZHJlbi5sZW5ndGg7cysrKXt2YXIgYz10aGlzLmNoaWxkcmVuW3NdLGw9YStjLnNpemU7aWYobz5hJiZpPGwpcmV0dXJuIGMuc2V0U2VsZWN0aW9uKHQtYS1jLmJvcmRlcixlLWEtYy5ib3JkZXIsbixyKTthPWx9dmFyIHU9dGhpcy5kb21Gcm9tUG9zKHQpLHA9dGhpcy5kb21Gcm9tUG9zKGUpLGY9bi5nZXRTZWxlY3Rpb24oKSxkPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7aWYocnx8IXkodS5ub2RlLHUub2Zmc2V0LGYuYW5jaG9yTm9kZSxmLmFuY2hvck9mZnNldCl8fCF5KHAubm9kZSxwLm9mZnNldCxmLmZvY3VzTm9kZSxmLmZvY3VzT2Zmc2V0KSl7aWYoZi5leHRlbmQpZC5zZXRFbmQodS5ub2RlLHUub2Zmc2V0KSxkLmNvbGxhcHNlKCExKTtlbHNle2lmKHQ+ZSl7dmFyIGg9dTt1PXAscD1ofWQuc2V0RW5kKHAubm9kZSxwLm9mZnNldCksZC5zZXRTdGFydCh1Lm5vZGUsdS5vZmZzZXQpfWYucmVtb3ZlQWxsUmFuZ2VzKCksZi5hZGRSYW5nZShkKSxmLmV4dGVuZCYmZi5leHRlbmQocC5ub2RlLHAub2Zmc2V0KX19LG90LnByb3RvdHlwZS5pZ25vcmVNdXRhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4hdGhpcy5jb250ZW50RE9NfSxpdC5jb250ZW50TG9zdC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50RE9NJiZ0aGlzLmNvbnRlbnRET00hPXRoaXMuZG9tJiYhdGhpcy5kb20uY29udGFpbnModGhpcy5jb250ZW50RE9NKX0sb3QucHJvdG90eXBlLm1hcmtEaXJ0eT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wLHI9MDtyPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3IrKyl7dmFyIG89dGhpcy5jaGlsZHJlbltyXSxpPW4rby5zaXplO2lmKG49PWk/dDw9aSYmZT49bjp0PGkmJmU+bil7dmFyIHM9bitvLmJvcmRlcixhPWktby5ib3JkZXI7aWYodD49cyYmZTw9YSlyZXR1cm4gdGhpcy5kaXJ0eT10PT1ufHxlPT1pP250OmV0LHZvaWQodCE9c3x8ZSE9YXx8IW8uY29udGVudExvc3QmJm8uZG9tLnBhcmVudE5vZGU9PXRoaXMuY29udGVudERPTT9vLm1hcmtEaXJ0eSh0LXMsZS1zKTpvLmRpcnR5PXJ0KTtvLmRpcnR5PXJ0fW49aX10aGlzLmRpcnR5PW50fSxvdC5wcm90b3R5cGUubWFya1BhcmVudHNEaXJ0eT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnBhcmVudDt0O3Q9dC5wYXJlbnQpe3ZhciBlPW50O3QuZGlydHk8ZSYmKHQuZGlydHk9ZSl9fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvdC5wcm90b3R5cGUsaXQpO3ZhciBzdD1bXSxhdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8pe3ZhciBpLHM9bi50eXBlLnRvRE9NO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBzJiYocz1zKHIsKGZ1bmN0aW9uKCl7cmV0dXJuIGk/aS5wYXJlbnQ/aS5wYXJlbnQucG9zQmVmb3JlQ2hpbGQoaSk6dm9pZCAwOm99KSkpLCFuLnR5cGUuc3BlYy5yYXcpe2lmKDEhPXMubm9kZVR5cGUpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTthLmFwcGVuZENoaWxkKHMpLHM9YX1zLmNvbnRlbnRFZGl0YWJsZT0hMSxzLmNsYXNzTGlzdC5hZGQoIlByb3NlTWlycm9yLXdpZGdldCIpfXQuY2FsbCh0aGlzLGUsc3QscyxudWxsKSx0aGlzLndpZGdldD1uLGk9dGhpc310JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17YmVmb3JlUG9zaXRpb246e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBuLmJlZm9yZVBvc2l0aW9uLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLndpZGdldC50eXBlLnNpZGU8MH0sZS5wcm90b3R5cGUubWF0Y2hlc1dpZGdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kaXJ0eT09dHQmJnQudHlwZS5lcSh0aGlzLndpZGdldC50eXBlKX0sZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7cmV0dXJue2lnbm9yZTohMH19LGUucHJvdG90eXBlLnN0b3BFdmVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLndpZGdldC5zcGVjLnN0b3BFdmVudDtyZXR1cm4hIWUmJmUodCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLG4pLGV9KG90KSxjdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8pe3QuY2FsbCh0aGlzLGUsc3QsbixudWxsKSx0aGlzLnRleHRET009cix0aGlzLnRleHQ9b310JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17c2l6ZTp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIG4uc2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0Lmxlbmd0aH0sZS5wcm90b3R5cGUubG9jYWxQb3NGcm9tRE9NPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQhPXRoaXMudGV4dERPTT90aGlzLnBvc0F0U3RhcnQrKGU/dGhpcy5zaXplOjApOnRoaXMucG9zQXRTdGFydCtlfSxlLnByb3RvdHlwZS5kb21Gcm9tUG9zPWZ1bmN0aW9uKHQpe3JldHVybntub2RlOnRoaXMudGV4dERPTSxvZmZzZXQ6dH19LGUucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiJjaGFyYWN0ZXJEYXRhIj09PXQudHlwZSYmdC50YXJnZXQubm9kZVZhbHVlPT10Lm9sZFZhbHVlfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfShvdCksbHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvKXt0LmNhbGwodGhpcyxlLFtdLHIsbyksdGhpcy5tYXJrPW59cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUuY3JlYXRlPWZ1bmN0aW9uKHQsbixyLG8pe3ZhciBpPW8ubm9kZVZpZXdzW24udHlwZS5uYW1lXSxzPWkmJmkobixvLHIpO3JldHVybiBzJiZzLmRvbXx8KHM9YVsiRE9NU2VyaWFsaXplciJdLnJlbmRlclNwZWMoZG9jdW1lbnQsbi50eXBlLnNwZWMudG9ET00obixyKSkpLG5ldyBlKHQsbixzLmRvbSxzLmNvbnRlbnRET018fHMuZG9tKX0sZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7cmV0dXJue21hcms6dGhpcy5tYXJrLnR5cGUubmFtZSxhdHRyczp0aGlzLm1hcmsuYXR0cnMsY29udGVudEVsZW1lbnQ6dGhpcy5jb250ZW50RE9NfX0sZS5wcm90b3R5cGUubWF0Y2hlc01hcms9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGlydHkhPXJ0JiZ0aGlzLm1hcmsuZXEodCl9LGUucHJvdG90eXBlLm1hcmtEaXJ0eT1mdW5jdGlvbihlLG4pe2lmKHQucHJvdG90eXBlLm1hcmtEaXJ0eS5jYWxsKHRoaXMsZSxuKSx0aGlzLmRpcnR5IT10dCl7dmFyIHI9dGhpcy5wYXJlbnQ7d2hpbGUoIXIubm9kZSlyPXIucGFyZW50O3IuZGlydHk8dGhpcy5kaXJ0eSYmKHIuZGlydHk9dGhpcy5kaXJ0eSksdGhpcy5kaXJ0eT10dH19LGUucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsbixyKXt2YXIgbz1lLmNyZWF0ZSh0aGlzLnBhcmVudCx0aGlzLm1hcmssITAsciksaT10aGlzLmNoaWxkcmVuLHM9dGhpcy5zaXplO248cyYmKGk9RXQoaSxuLHMscikpLHQ+MCYmKGk9RXQoaSwwLHQscikpO2Zvcih2YXIgYT0wO2E8aS5sZW5ndGg7YSsrKWlbYV0ucGFyZW50PW87cmV0dXJuIG8uY2hpbGRyZW49aSxvfSxlfShvdCksdXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvLGkscyxhLGMsbCl7dC5jYWxsKHRoaXMsZSxuLmlzTGVhZj9zdDpbXSxpLHMpLHRoaXMubm9kZURPTT1hLHRoaXMubm9kZT1uLHRoaXMub3V0ZXJEZWNvPXIsdGhpcy5pbm5lckRlY289byxzJiZ0aGlzLnVwZGF0ZUNoaWxkcmVuKGMsbCl9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e3NpemU6e2NvbmZpZ3VyYWJsZTohMH0sYm9yZGVyOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gZS5jcmVhdGU9ZnVuY3Rpb24odCxuLHIsbyxpLHMpe3ZhciBjLGwsdT1pLm5vZGVWaWV3c1tuLnR5cGUubmFtZV0scD11JiZ1KG4saSwoZnVuY3Rpb24oKXtyZXR1cm4gbD9sLnBhcmVudD9sLnBhcmVudC5wb3NCZWZvcmVDaGlsZChsKTp2b2lkIDA6c30pLHIpLGY9cCYmcC5kb20sZD1wJiZwLmNvbnRlbnRET007aWYobi5pc1RleHQpaWYoZil7aWYoMyE9Zi5ub2RlVHlwZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGV4dCBtdXN0IGJlIHJlbmRlcmVkIGFzIGEgRE9NIHRleHQgbm9kZSIpfWVsc2UgZj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuLnRleHQpO2Vsc2UgZnx8KGM9YVsiRE9NU2VyaWFsaXplciJdLnJlbmRlclNwZWMoZG9jdW1lbnQsbi50eXBlLnNwZWMudG9ET00obikpLGY9Yy5kb20sZD1jLmNvbnRlbnRET00pO2R8fG4uaXNUZXh0fHwiQlIiPT1mLm5vZGVOYW1lfHwoZi5oYXNBdHRyaWJ1dGUoImNvbnRlbnRlZGl0YWJsZSIpfHwoZi5jb250ZW50RWRpdGFibGU9ITEpLG4udHlwZS5zcGVjLmRyYWdnYWJsZSYmKGYuZHJhZ2dhYmxlPSEwKSk7dmFyIGg9ZjtyZXR1cm4gZj1TdChmLHIsbikscD9sPW5ldyBodCh0LG4scixvLGYsZCxoLHAsaSxzKzEpOm4uaXNUZXh0P25ldyBmdCh0LG4scixvLGYsaCxpKTpuZXcgZSh0LG4scixvLGYsZCxoLGkscysxKX0sZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLm5vZGUudHlwZS5zcGVjLnJlcGFyc2VJblZpZXcpcmV0dXJuIG51bGw7dmFyIGU9e25vZGU6dGhpcy5ub2RlLnR5cGUubmFtZSxhdHRyczp0aGlzLm5vZGUuYXR0cnN9O3JldHVybiB0aGlzLm5vZGUudHlwZS5zcGVjLmNvZGUmJihlLnByZXNlcnZlV2hpdGVzcGFjZT0iZnVsbCIpLHRoaXMuY29udGVudERPTSYmIXRoaXMuY29udGVudExvc3Q/ZS5jb250ZW50RWxlbWVudD10aGlzLmNvbnRlbnRET006ZS5nZXRDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29udGVudERPTT9hWyJGcmFnbWVudCJdLmVtcHR5OnQubm9kZS5jb250ZW50fSxlfSxlLnByb3RvdHlwZS5tYXRjaGVzTm9kZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuZGlydHk9PXR0JiZ0LmVxKHRoaXMubm9kZSkmJmt0KGUsdGhpcy5vdXRlckRlY28pJiZuLmVxKHRoaXMuaW5uZXJEZWNvKX0sbi5zaXplLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUubm9kZVNpemV9LG4uYm9yZGVyLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuaXNMZWFmPzA6MX0sZS5wcm90b3R5cGUudXBkYXRlQ2hpbGRyZW49ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9dGhpcy5ub2RlLmlubGluZUNvbnRlbnQsbz1lLGk9ciYmdC5jb21wb3NpbmcmJnRoaXMubG9jYWxDb21wb3NpdGlvbk5vZGUodCxlKSxzPW5ldyBDdCh0aGlzLGkmJmkubm9kZSk7TnQodGhpcy5ub2RlLHRoaXMuaW5uZXJEZWNvLChmdW5jdGlvbihlLGkpe2Uuc3BlYy5tYXJrcz9zLnN5bmNUb01hcmtzKGUuc3BlYy5tYXJrcyxyLHQpOmUudHlwZS5zaWRlPj0wJiZzLnN5bmNUb01hcmtzKGk9PW4ubm9kZS5jaGlsZENvdW50P2FbIk1hcmsiXS5ub25lOm4ubm9kZS5jaGlsZChpKS5tYXJrcyxyLHQpLHMucGxhY2VXaWRnZXQoZSx0LG8pfSksKGZ1bmN0aW9uKGUsbixpLGEpe3Muc3luY1RvTWFya3MoZS5tYXJrcyxyLHQpLHMuZmluZE5vZGVNYXRjaChlLG4saSxhKXx8cy51cGRhdGVOZXh0Tm9kZShlLG4saSx0LGEpfHxzLmFkZE5vZGUoZSxuLGksdCxvKSxvKz1lLm5vZGVTaXplfSkpLHMuc3luY1RvTWFya3Moc3Qscix0KSx0aGlzLm5vZGUuaXNUZXh0YmxvY2smJnMuYWRkVGV4dGJsb2NrSGFja3MoKSxzLmRlc3Ryb3lSZXN0KCksKHMuY2hhbmdlZHx8dGhpcy5kaXJ0eT09bnQpJiYoaSYmdGhpcy5wcm90ZWN0TG9jYWxDb21wb3NpdGlvbih0LGkpLHRoaXMucmVuZGVyQ2hpbGRyZW4oKSl9LGUucHJvdG90eXBlLnJlbmRlckNoaWxkcmVuPWZ1bmN0aW9uKCl7dnQodGhpcy5jb250ZW50RE9NLHRoaXMuY2hpbGRyZW4pLGwuaW9zJiZUdCh0aGlzLmRvbSl9LGUucHJvdG90eXBlLmxvY2FsQ29tcG9zaXRpb25Ob2RlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5zdGF0ZS5zZWxlY3Rpb24scj1uLmZyb20sbz1uLnRvO2lmKCEoISh0LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIHNbIlRleHRTZWxlY3Rpb24iXSl8fHI8ZXx8bz5lK3RoaXMubm9kZS5jb250ZW50LnNpemUpKXt2YXIgaT10LnJvb3QuZ2V0U2VsZWN0aW9uKCksYT1EdChpLmZvY3VzTm9kZSxpLmZvY3VzT2Zmc2V0KTtpZihhJiZ0aGlzLmRvbS5jb250YWlucyhhLnBhcmVudE5vZGUpKXt2YXIgYz1hLm5vZGVWYWx1ZSxsPUF0KHRoaXMubm9kZS5jb250ZW50LGMsci1lLG8tZSk7cmV0dXJuIGw8MD9udWxsOntub2RlOmEscG9zOmwsdGV4dDpjfX19fSxlLnByb3RvdHlwZS5wcm90ZWN0TG9jYWxDb21wb3NpdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPWUubm9kZSxyPWUucG9zLG89ZS50ZXh0O2lmKCF0aGlzLmdldERlc2Mobikpe2Zvcih2YXIgaT1uOztpPWkucGFyZW50Tm9kZSl7aWYoaS5wYXJlbnROb2RlPT10aGlzLmNvbnRlbnRET00pYnJlYWs7d2hpbGUoaS5wcmV2aW91c1NpYmxpbmcpaS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkucHJldmlvdXNTaWJsaW5nKTt3aGlsZShpLm5leHRTaWJsaW5nKWkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpLm5leHRTaWJsaW5nKTtpLnBtVmlld0Rlc2MmJihpLnBtVmlld0Rlc2M9bnVsbCl9dmFyIHM9bmV3IGN0KHRoaXMsaSxuLG8pO3QuY29tcG9zaXRpb25Ob2Rlcy5wdXNoKHMpLHRoaXMuY2hpbGRyZW49RXQodGhpcy5jaGlsZHJlbixyLHIrby5sZW5ndGgsdCxzKX19LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4hKHRoaXMuZGlydHk9PXJ0fHwhdC5zYW1lTWFya3VwKHRoaXMubm9kZSkpJiYodGhpcy51cGRhdGVJbm5lcih0LGUsbixyKSwhMCl9LGUucHJvdG90eXBlLnVwZGF0ZUlubmVyPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMudXBkYXRlT3V0ZXJEZWNvKGUpLHRoaXMubm9kZT10LHRoaXMuaW5uZXJEZWNvPW4sdGhpcy5jb250ZW50RE9NJiZ0aGlzLnVwZGF0ZUNoaWxkcmVuKHIsdGhpcy5wb3NBdFN0YXJ0KSx0aGlzLmRpcnR5PXR0fSxlLnByb3RvdHlwZS51cGRhdGVPdXRlckRlY289ZnVuY3Rpb24odCl7aWYoIWt0KHQsdGhpcy5vdXRlckRlY28pKXt2YXIgZT0xIT10aGlzLm5vZGVET00ubm9kZVR5cGUsbj10aGlzLmRvbTt0aGlzLmRvbT13dCh0aGlzLmRvbSx0aGlzLm5vZGVET00seXQodGhpcy5vdXRlckRlY28sdGhpcy5ub2RlLGUpLHl0KHQsdGhpcy5ub2RlLGUpKSx0aGlzLmRvbSE9biYmKG4ucG1WaWV3RGVzYz1udWxsLHRoaXMuZG9tLnBtVmlld0Rlc2M9dGhpcyksdGhpcy5vdXRlckRlY289dH19LGUucHJvdG90eXBlLnNlbGVjdE5vZGU9ZnVuY3Rpb24oKXt0aGlzLm5vZGVET00uY2xhc3NMaXN0LmFkZCgiUHJvc2VNaXJyb3Itc2VsZWN0ZWRub2RlIiksIXRoaXMuY29udGVudERPTSYmdGhpcy5ub2RlLnR5cGUuc3BlYy5kcmFnZ2FibGV8fCh0aGlzLmRvbS5kcmFnZ2FibGU9ITApfSxlLnByb3RvdHlwZS5kZXNlbGVjdE5vZGU9ZnVuY3Rpb24oKXt0aGlzLm5vZGVET00uY2xhc3NMaXN0LnJlbW92ZSgiUHJvc2VNaXJyb3Itc2VsZWN0ZWRub2RlIiksIXRoaXMuY29udGVudERPTSYmdGhpcy5ub2RlLnR5cGUuc3BlYy5kcmFnZ2FibGV8fCh0aGlzLmRvbS5kcmFnZ2FibGU9ITEpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfShvdCk7ZnVuY3Rpb24gcHQodCxlLG4scixvKXtyZXR1cm4gU3QocixlLHQpLG5ldyB1dChudWxsLHQsZSxuLHIscixyLG8sMCl9dmFyIGZ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyxpLHMsYSl7dC5jYWxsKHRoaXMsZSxuLHIsbyxpLG51bGwscyxhKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7cmV0dXJue3NraXA6dGhpcy5ub2RlRE9NLnBhcmVudE5vZGV8fCEwfX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuISh0aGlzLmRpcnR5PT1ydHx8dGhpcy5kaXJ0eSE9dHQmJiF0aGlzLmluUGFyZW50KCl8fCF0LnNhbWVNYXJrdXAodGhpcy5ub2RlKSkmJih0aGlzLnVwZGF0ZU91dGVyRGVjbyhlKSx0aGlzLmRpcnR5PT10dCYmdC50ZXh0PT10aGlzLm5vZGUudGV4dHx8dC50ZXh0PT10aGlzLm5vZGVET00ubm9kZVZhbHVlfHwodGhpcy5ub2RlRE9NLm5vZGVWYWx1ZT10LnRleHQpLHRoaXMubm9kZT10LHRoaXMuZGlydHk9dHQsITApfSxlLnByb3RvdHlwZS5pblBhcmVudD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnBhcmVudC5jb250ZW50RE9NLGU9dGhpcy5ub2RlRE9NO2U7ZT1lLnBhcmVudE5vZGUpaWYoZT09dClyZXR1cm4hMDtyZXR1cm4hMX0sZS5wcm90b3R5cGUuZG9tRnJvbVBvcz1mdW5jdGlvbih0KXtyZXR1cm57bm9kZTp0aGlzLm5vZGVET00sb2Zmc2V0OnR9fSxlLnByb3RvdHlwZS5sb2NhbFBvc0Zyb21ET009ZnVuY3Rpb24oZSxuLHIpe3JldHVybiBlPT10aGlzLm5vZGVET00/dGhpcy5wb3NBdFN0YXJ0K01hdGgubWluKG4sdGhpcy5ub2RlLnRleHQubGVuZ3RoKTp0LnByb3RvdHlwZS5sb2NhbFBvc0Zyb21ET00uY2FsbCh0aGlzLGUsbixyKX0sZS5wcm90b3R5cGUuaWdub3JlTXV0YXRpb249ZnVuY3Rpb24odCl7cmV0dXJuImNoYXJhY3RlckRhdGEiIT10LnR5cGUmJiJzZWxlY3Rpb24iIT10LnR5cGV9LGUucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsbixyKXt2YXIgbz10aGlzLm5vZGUuY3V0KHQsbiksaT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShvLnRleHQpO3JldHVybiBuZXcgZSh0aGlzLnBhcmVudCxvLHRoaXMub3V0ZXJEZWNvLHRoaXMuaW5uZXJEZWNvLGksaSxyKX0sZX0odXQpLGR0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7cmV0dXJue2lnbm9yZTohMH19LGUucHJvdG90eXBlLm1hdGNoZXNIYWNrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlydHk9PXR0fSxlfShvdCksaHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvLGkscyxhLGMsbCx1KXt0LmNhbGwodGhpcyxlLG4scixvLGkscyxhLGwsdSksdGhpcy5zcGVjPWN9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlLG4scixvKXtpZih0aGlzLmRpcnR5PT1ydClyZXR1cm4hMTtpZih0aGlzLnNwZWMudXBkYXRlKXt2YXIgaT10aGlzLnNwZWMudXBkYXRlKGUsbik7cmV0dXJuIGkmJnRoaXMudXBkYXRlSW5uZXIoZSxuLHIsbyksaX1yZXR1cm4hKCF0aGlzLmNvbnRlbnRET00mJiFlLmlzTGVhZikmJnQucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMsZSxuLHIsbyl9LGUucHJvdG90eXBlLnNlbGVjdE5vZGU9ZnVuY3Rpb24oKXt0aGlzLnNwZWMuc2VsZWN0Tm9kZT90aGlzLnNwZWMuc2VsZWN0Tm9kZSgpOnQucHJvdG90eXBlLnNlbGVjdE5vZGUuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuZGVzZWxlY3ROb2RlPWZ1bmN0aW9uKCl7dGhpcy5zcGVjLmRlc2VsZWN0Tm9kZT90aGlzLnNwZWMuZGVzZWxlY3ROb2RlKCk6dC5wcm90b3R5cGUuZGVzZWxlY3ROb2RlLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnNldFNlbGVjdGlvbj1mdW5jdGlvbihlLG4scixvKXt0aGlzLnNwZWMuc2V0U2VsZWN0aW9uP3RoaXMuc3BlYy5zZXRTZWxlY3Rpb24oZSxuLHIpOnQucHJvdG90eXBlLnNldFNlbGVjdGlvbi5jYWxsKHRoaXMsZSxuLHIsbyl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnNwZWMuZGVzdHJveSYmdGhpcy5zcGVjLmRlc3Ryb3koKSx0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnN0b3BFdmVudD1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuc3BlYy5zdG9wRXZlbnQmJnRoaXMuc3BlYy5zdG9wRXZlbnQodCl9LGUucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNwZWMuaWdub3JlTXV0YXRpb24/dGhpcy5zcGVjLmlnbm9yZU11dGF0aW9uKGUpOnQucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uLmNhbGwodGhpcyxlKX0sZX0odXQpO2Z1bmN0aW9uIHZ0KHQsZSl7Zm9yKHZhciBuPXQuZmlyc3RDaGlsZCxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBvPWVbcl0saT1vLmRvbTtpZihpLnBhcmVudE5vZGU9PXQpe3doaWxlKGkhPW4pbj14dChuKTtuPW4ubmV4dFNpYmxpbmd9ZWxzZSB0Lmluc2VydEJlZm9yZShpLG4pO2lmKG8gaW5zdGFuY2VvZiBsdCl7dmFyIHM9bj9uLnByZXZpb3VzU2libGluZzp0Lmxhc3RDaGlsZDt2dChvLmNvbnRlbnRET00sby5jaGlsZHJlbiksbj1zP3MubmV4dFNpYmxpbmc6dC5maXJzdENoaWxkfX13aGlsZShuKW49eHQobil9ZnVuY3Rpb24gbXQodCl7dCYmKHRoaXMubm9kZU5hbWU9dCl9bXQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobnVsbCk7dmFyIGd0PVtuZXcgbXRdO2Z1bmN0aW9uIHl0KHQsZSxuKXtpZigwPT10Lmxlbmd0aClyZXR1cm4gZ3Q7Zm9yKHZhciByPW4/Z3RbMF06bmV3IG10LG89W3JdLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIHM9dFtpXS50eXBlLmF0dHJzLGE9cjtpZihzKWZvcih2YXIgYyBpbiBzLm5vZGVOYW1lJiZvLnB1c2goYT1uZXcgbXQocy5ub2RlTmFtZSkpLHMpe3ZhciBsPXNbY107bnVsbCE9bCYmKG4mJjE9PW8ubGVuZ3RoJiZvLnB1c2goYT1yPW5ldyBtdChlLmlzSW5saW5lPyJzcGFuIjoiZGl2IikpLCJjbGFzcyI9PWM/YS5jbGFzcz0oYS5jbGFzcz9hLmNsYXNzKyIgIjoiIikrbDoic3R5bGUiPT1jP2Euc3R5bGU9KGEuc3R5bGU/YS5zdHlsZSsiOyI6IiIpK2w6Im5vZGVOYW1lIiE9YyYmKGFbY109bCkpfX1yZXR1cm4gb31mdW5jdGlvbiB3dCh0LGUsbixyKXtpZihuPT1ndCYmcj09Z3QpcmV0dXJuIGU7Zm9yKHZhciBvPWUsaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgcz1yW2ldLGE9bltpXTtpZihpKXt2YXIgYz12b2lkIDA7YSYmYS5ub2RlTmFtZT09cy5ub2RlTmFtZSYmbyE9dCYmKGM9ZS5wYXJlbnROb2RlKSYmYy50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PXMubm9kZU5hbWU/bz1jOihjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQocy5ub2RlTmFtZSksYy5hcHBlbmRDaGlsZChvKSxvPWMpfWJ0KG8sYXx8Z3RbMF0scyl9cmV0dXJuIG99ZnVuY3Rpb24gYnQodCxlLG4pe2Zvcih2YXIgciBpbiBlKSJjbGFzcyI9PXJ8fCJzdHlsZSI9PXJ8fCJub2RlTmFtZSI9PXJ8fHIgaW4gbnx8dC5yZW1vdmVBdHRyaWJ1dGUocik7Zm9yKHZhciBvIGluIG4pImNsYXNzIiE9byYmInN0eWxlIiE9byYmIm5vZGVOYW1lIiE9byYmbltvXSE9ZVtvXSYmdC5zZXRBdHRyaWJ1dGUobyxuW29dKTtpZihlLmNsYXNzIT1uLmNsYXNzKXtmb3IodmFyIGk9ZS5jbGFzcz9lLmNsYXNzLnNwbGl0KCIgIik6c3Qscz1uLmNsYXNzP24uY2xhc3Muc3BsaXQoIiAiKTpzdCxhPTA7YTxpLmxlbmd0aDthKyspLTE9PXMuaW5kZXhPZihpW2FdKSYmdC5jbGFzc0xpc3QucmVtb3ZlKGlbYV0pO2Zvcih2YXIgYz0wO2M8cy5sZW5ndGg7YysrKS0xPT1pLmluZGV4T2Yoc1tjXSkmJnQuY2xhc3NMaXN0LmFkZChzW2NdKX1pZihlLnN0eWxlIT1uLnN0eWxlKXtpZihlLnN0eWxlKXt2YXIgbCx1PS9ccyooW1x3XC1ceGExLVx1ZmZmZl0rKVxzKjooPzoiKD86XFwufFteIl0pKiJ8Jyg/OlxcLnxbXiddKSonfFwoLio/XCl8W147XSkqL2c7d2hpbGUobD11LmV4ZWMoZS5zdHlsZSkpdC5zdHlsZVtsWzFdLnRvTG93ZXJDYXNlKCldPSIifW4uc3R5bGUmJih0LnN0eWxlLmNzc1RleHQrPW4uc3R5bGUpfX1mdW5jdGlvbiBTdCh0LGUsbil7cmV0dXJuIHd0KHQsdCxndCx5dChlLG4sMSE9dC5ub2RlVHlwZSkpfWZ1bmN0aW9uIGt0KHQsZSl7aWYodC5sZW5ndGghPWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKCF0W25dLnR5cGUuZXEoZVtuXS50eXBlKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB4dCh0KXt2YXIgZT10Lm5leHRTaWJsaW5nO3JldHVybiB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksZX12YXIgQ3Q9ZnVuY3Rpb24odCxlKXt0aGlzLnRvcD10LHRoaXMubG9jaz1lLHRoaXMuaW5kZXg9MCx0aGlzLnN0YWNrPVtdLHRoaXMuY2hhbmdlZD0hMTt2YXIgbj1PdCh0Lm5vZGUuY29udGVudCx0LmNoaWxkcmVuKTt0aGlzLnByZU1hdGNoZWQ9bi5ub2Rlcyx0aGlzLnByZU1hdGNoT2Zmc2V0PW4ub2Zmc2V0fTtmdW5jdGlvbiBPdCh0LGUpe2Zvcih2YXIgbj1bXSxyPXQuY2hpbGRDb3VudCxvPWUubGVuZ3RoLTE7cj4wJiZvPj0wO28tLSl7dmFyIGk9ZVtvXSxzPWkubm9kZTtpZihzKXtpZihzIT10LmNoaWxkKHItMSkpYnJlYWs7bi5wdXNoKGkpLC0tcn19cmV0dXJue25vZGVzOm4ucmV2ZXJzZSgpLG9mZnNldDpyfX1mdW5jdGlvbiBNdCh0LGUpe3JldHVybiB0LnR5cGUuc2lkZS1lLnR5cGUuc2lkZX1mdW5jdGlvbiBOdCh0LGUsbixyKXt2YXIgbz1lLmxvY2Fscyh0KSxpPTA7aWYoMCE9by5sZW5ndGgpZm9yKHZhciBzPTAsYT1bXSxjPW51bGwsbD0wOzspe2lmKHM8by5sZW5ndGgmJm9bc10udG89PWkpe3ZhciB1PW9bcysrXSxwPXZvaWQgMDt3aGlsZShzPG8ubGVuZ3RoJiZvW3NdLnRvPT1pKShwfHwocD1bdV0pKS5wdXNoKG9bcysrXSk7aWYocCl7cC5zb3J0KE10KTtmb3IodmFyIGY9MDtmPHAubGVuZ3RoO2YrKyluKHBbZl0sbCl9ZWxzZSBuKHUsbCl9dmFyIGQ9dm9pZCAwLGg9dm9pZCAwO2lmKGMpaD0tMSxkPWMsYz1udWxsO2Vsc2V7aWYoIShsPHQuY2hpbGRDb3VudCkpYnJlYWs7aD1sLGQ9dC5jaGlsZChsKyspfWZvcih2YXIgdj0wO3Y8YS5sZW5ndGg7disrKWFbdl0udG88PWkmJmEuc3BsaWNlKHYtLSwxKTt3aGlsZShzPG8ubGVuZ3RoJiZvW3NdLmZyb209PWkpYS5wdXNoKG9bcysrXSk7dmFyIG09aStkLm5vZGVTaXplO2lmKGQuaXNUZXh0KXt2YXIgZz1tO3M8by5sZW5ndGgmJm9bc10uZnJvbTxnJiYoZz1vW3NdLmZyb20pO2Zvcih2YXIgeT0wO3k8YS5sZW5ndGg7eSsrKWFbeV0udG88ZyYmKGc9YVt5XS50byk7ZzxtJiYoYz1kLmN1dChnLWkpLGQ9ZC5jdXQoMCxnLWkpLG09ZyxoPS0xKX1yKGQsYS5sZW5ndGg/YS5zbGljZSgpOnN0LGUuZm9yQ2hpbGQoaSxkKSxoKSxpPW19ZWxzZSBmb3IodmFyIHc9MDt3PHQuY2hpbGRDb3VudDt3Kyspe3ZhciBiPXQuY2hpbGQodyk7cihiLG8sZS5mb3JDaGlsZChpLGIpLHcpLGkrPWIubm9kZVNpemV9fWZ1bmN0aW9uIFR0KHQpe2lmKCJVTCI9PXQubm9kZU5hbWV8fCJPTCI9PXQubm9kZU5hbWUpe3ZhciBlPXQuc3R5bGUuY3NzVGV4dDt0LnN0eWxlLmNzc1RleHQ9ZSsiOyBsaXN0LXN0eWxlOiBzcXVhcmUgIWltcG9ydGFudCIsd2luZG93LmdldENvbXB1dGVkU3R5bGUodCkubGlzdFN0eWxlLHQuc3R5bGUuY3NzVGV4dD1lfX1mdW5jdGlvbiBEdCh0LGUpe2Zvcig7Oyl7aWYoMz09dC5ub2RlVHlwZSlyZXR1cm4gdDtpZigxPT10Lm5vZGVUeXBlJiZlPjApe2lmKHQuY2hpbGROb2Rlcy5sZW5ndGg+ZSYmMz09dC5jaGlsZE5vZGVzW2VdLm5vZGVUeXBlKXJldHVybiB0LmNoaWxkTm9kZXNbZV07dD10LmNoaWxkTm9kZXNbZS0xXSxlPVModCl9ZWxzZXtpZighKDE9PXQubm9kZVR5cGUmJmU8dC5jaGlsZE5vZGVzLmxlbmd0aCkpcmV0dXJuIG51bGw7dD10LmNoaWxkTm9kZXNbZV0sZT0wfX19ZnVuY3Rpb24gQXQodCxlLG4scil7Zm9yKHZhciBvPSIiLGk9MCxzPTA7aTx0LmNoaWxkQ291bnQ7aSsrKXt2YXIgYT10LmNoaWxkKGkpLGM9cythLm5vZGVTaXplO2lmKGEuaXNUZXh0KXtpZihvKz1hLnRleHQsYz49cil7dmFyIGw9Yy1vLmxlbmd0aCx1PW8ubGFzdEluZGV4T2YoZSk7d2hpbGUodT4tMSYmbCt1Pm4pdT1vLmxhc3RJbmRleE9mKGUsdS0xKTtpZih1Pi0xJiZsK3UrZS5sZW5ndGg+PXIpcmV0dXJuIGwrdTtpZihjPnIpYnJlYWt9fWVsc2Ugbz0iIjtzPWN9cmV0dXJuLTF9ZnVuY3Rpb24gRXQodCxlLG4scixvKXtmb3IodmFyIGk9W10scz0wLGE9MDtzPHQubGVuZ3RoO3MrKyl7dmFyIGM9dFtzXSxsPWEsdT1hKz1jLnNpemU7bD49bnx8dTw9ZT9pLnB1c2goYyk6KGw8ZSYmaS5wdXNoKGMuc2xpY2UoMCxlLWwscikpLG8mJihpLnB1c2gobyksbz1udWxsKSx1Pm4mJmkucHVzaChjLnNsaWNlKG4tbCxjLnNpemUscikpKX1yZXR1cm4gaX1mdW5jdGlvbiBSdCh0LGUpe3ZhciBuPXQuc2VsZWN0aW9uLHI9bi4kYW5jaG9yLG89bi4kaGVhZCxpPWU+MD9yLm1heChvKTpyLm1pbihvKSxhPWkucGFyZW50LmlubGluZUNvbnRlbnQ/aS5kZXB0aD90LmRvYy5yZXNvbHZlKGU+MD9pLmFmdGVyKCk6aS5iZWZvcmUoKSk6bnVsbDppO3JldHVybiBhJiZzWyJTZWxlY3Rpb24iXS5maW5kRnJvbShhLGUpfWZ1bmN0aW9uIF90KHQsZSl7cmV0dXJuIHQuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oZSkuc2Nyb2xsSW50b1ZpZXcoKSksITB9ZnVuY3Rpb24gUHQodCxlLG4pe3ZhciByPXQuc3RhdGUuc2VsZWN0aW9uO2lmKHIgaW5zdGFuY2VvZiBzWyJUZXh0U2VsZWN0aW9uIl0pe2lmKCFyLmVtcHR5fHxuLmluZGV4T2YoInMiKT4tMSlyZXR1cm4hMTtpZih0LmVuZE9mVGV4dGJsb2NrKGU+MD8icmlnaHQiOiJsZWZ0Iikpe3ZhciBvPVJ0KHQuc3RhdGUsZSk7cmV0dXJuISEobyYmbyBpbnN0YW5jZW9mIHNbIk5vZGVTZWxlY3Rpb24iXSkmJl90KHQsbyl9dmFyIGksYT1yLiRoZWFkLGM9YS50ZXh0T2Zmc2V0P251bGw6ZTwwP2Eubm9kZUJlZm9yZTphLm5vZGVBZnRlcjtpZighY3x8Yy5pc1RleHQpcmV0dXJuITE7dmFyIHU9ZTwwP2EucG9zLWMubm9kZVNpemU6YS5wb3M7cmV0dXJuISEoYy5pc0F0b218fChpPXQuZG9jVmlldy5kZXNjQXQodSkpJiYhaS5jb250ZW50RE9NKSYmKHNbIk5vZGVTZWxlY3Rpb24iXS5pc1NlbGVjdGFibGUoYyk/X3QodCxuZXcgc1siTm9kZVNlbGVjdGlvbiJdKGU8MD90LnN0YXRlLmRvYy5yZXNvbHZlKGEucG9zLWMubm9kZVNpemUpOmEpKTohIWwud2Via2l0JiZfdCh0LG5ldyBzWyJUZXh0U2VsZWN0aW9uIl0odC5zdGF0ZS5kb2MucmVzb2x2ZShlPDA/dTp1K2Mubm9kZVNpemUpKSkpfWlmKHIgaW5zdGFuY2VvZiBzWyJOb2RlU2VsZWN0aW9uIl0mJnIubm9kZS5pc0lubGluZSlyZXR1cm4gX3QodCxuZXcgc1siVGV4dFNlbGVjdGlvbiJdKGU+MD9yLiR0bzpyLiRmcm9tKSk7dmFyIHA9UnQodC5zdGF0ZSxlKTtyZXR1cm4hIXAmJl90KHQscCl9ZnVuY3Rpb24genQodCl7cmV0dXJuIDM9PXQubm9kZVR5cGU/dC5ub2RlVmFsdWUubGVuZ3RoOnQuY2hpbGROb2Rlcy5sZW5ndGh9ZnVuY3Rpb24gSXQodCl7dmFyIGU9dC5wbVZpZXdEZXNjO3JldHVybiBlJiYwPT1lLnNpemUmJih0Lm5leHRTaWJsaW5nfHwiQlIiIT10Lm5vZGVOYW1lKX1mdW5jdGlvbiBCdCh0KXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj1lLmZvY3VzTm9kZSxyPWUuZm9jdXNPZmZzZXQ7aWYobil7dmFyIG8saSxzPSExO2ZvcihsLmdlY2tvJiYxPT1uLm5vZGVUeXBlJiZyPHp0KG4pJiZJdChuLmNoaWxkTm9kZXNbcl0pJiYocz0hMCk7OylpZihyPjApe2lmKDEhPW4ubm9kZVR5cGUpYnJlYWs7dmFyIGE9bi5jaGlsZE5vZGVzW3ItMV07aWYoSXQoYSkpbz1uLGk9LS1yO2Vsc2V7aWYoMyE9YS5ub2RlVHlwZSlicmVhaztuPWEscj1uLm5vZGVWYWx1ZS5sZW5ndGh9fWVsc2V7aWYoRnQobikpYnJlYWs7dmFyIGM9bi5wcmV2aW91c1NpYmxpbmc7d2hpbGUoYyYmSXQoYykpbz1uLnBhcmVudE5vZGUsaT12KGMpLGM9Yy5wcmV2aW91c1NpYmxpbmc7aWYoYyluPWMscj16dChuKTtlbHNle2lmKG49bi5wYXJlbnROb2RlLG49PXQuZG9tKWJyZWFrO3I9MH19cz9qdCh0LGUsbixyKTpvJiZqdCh0LGUsbyxpKX19ZnVuY3Rpb24gVnQodCl7dmFyIGU9dC5yb290LmdldFNlbGVjdGlvbigpLG49ZS5mb2N1c05vZGUscj1lLmZvY3VzT2Zmc2V0O2lmKG4pe2Zvcih2YXIgbyxpLHM9enQobik7OylpZihyPHMpe2lmKDEhPW4ubm9kZVR5cGUpYnJlYWs7dmFyIGE9bi5jaGlsZE5vZGVzW3JdO2lmKCFJdChhKSlicmVhaztvPW4saT0rK3J9ZWxzZXtpZihGdChuKSlicmVhazt2YXIgYz1uLm5leHRTaWJsaW5nO3doaWxlKGMmJkl0KGMpKW89Yy5wYXJlbnROb2RlLGk9dihjKSsxLGM9Yy5uZXh0U2libGluZztpZihjKW49YyxyPTAscz16dChuKTtlbHNle2lmKG49bi5wYXJlbnROb2RlLG49PXQuZG9tKWJyZWFrO3I9cz0wfX1vJiZqdCh0LGUsbyxpKX19ZnVuY3Rpb24gRnQodCl7dmFyIGU9dC5wbVZpZXdEZXNjO3JldHVybiBlJiZlLm5vZGUmJmUubm9kZS5pc0Jsb2NrfWZ1bmN0aW9uIGp0KHQsZSxuLHIpe2lmKHgoZSkpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7by5zZXRFbmQobixyKSxvLnNldFN0YXJ0KG4sciksZS5yZW1vdmVBbGxSYW5nZXMoKSxlLmFkZFJhbmdlKG8pfWVsc2UgZS5leHRlbmQmJmUuZXh0ZW5kKG4scik7dC5kb21PYnNlcnZlci5zZXRDdXJTZWxlY3Rpb24oKX1mdW5jdGlvbiAkdCh0LGUsbil7dmFyIHI9dC5zdGF0ZS5zZWxlY3Rpb247aWYociBpbnN0YW5jZW9mIHNbIlRleHRTZWxlY3Rpb24iXSYmIXIuZW1wdHl8fG4uaW5kZXhPZigicyIpPi0xKXJldHVybiExO3ZhciBvPXIuJGZyb20saT1yLiR0bztpZighby5wYXJlbnQuaW5saW5lQ29udGVudHx8dC5lbmRPZlRleHRibG9jayhlPDA/InVwIjoiZG93biIpKXt2YXIgYT1SdCh0LnN0YXRlLGUpO2lmKGEmJmEgaW5zdGFuY2VvZiBzWyJOb2RlU2VsZWN0aW9uIl0pcmV0dXJuIF90KHQsYSl9aWYoIW8ucGFyZW50LmlubGluZUNvbnRlbnQpe3ZhciBjPXNbIlNlbGVjdGlvbiJdLmZpbmRGcm9tKGU8MD9vOmksZSk7cmV0dXJuIWN8fF90KHQsYyl9cmV0dXJuITF9ZnVuY3Rpb24gTHQodCxlKXtpZighKHQuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2Ygc1siVGV4dFNlbGVjdGlvbiJdKSlyZXR1cm4hMDt2YXIgbj10LnN0YXRlLnNlbGVjdGlvbixyPW4uJGhlYWQsbz1uLiRhbmNob3IsaT1uLmVtcHR5O2lmKCFyLnNhbWVQYXJlbnQobykpcmV0dXJuITA7aWYoIWkpcmV0dXJuITE7aWYodC5lbmRPZlRleHRibG9jayhlPjA/ImZvcndhcmQiOiJiYWNrd2FyZCIpKXJldHVybiEwO3ZhciBhPSFyLnRleHRPZmZzZXQmJihlPDA/ci5ub2RlQmVmb3JlOnIubm9kZUFmdGVyKTtpZihhJiYhYS5pc1RleHQpe3ZhciBjPXQuc3RhdGUudHI7cmV0dXJuIGU8MD9jLmRlbGV0ZShyLnBvcy1hLm5vZGVTaXplLHIucG9zKTpjLmRlbGV0ZShyLnBvcyxyLnBvcythLm5vZGVTaXplKSx0LmRpc3BhdGNoKGMpLCEwfXJldHVybiExfWZ1bmN0aW9uIEh0KHQsZSxuKXt0LmRvbU9ic2VydmVyLnN0b3AoKSxlLmNvbnRlbnRFZGl0YWJsZT1uLHQuZG9tT2JzZXJ2ZXIuc3RhcnQoKX1mdW5jdGlvbiBXdCh0KXtpZihsLmNocm9tZSYmISh0LnN0YXRlLnNlbGVjdGlvbi4kaGVhZC5wYXJlbnRPZmZzZXQ+MCkpe3ZhciBlPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxuPWUuZm9jdXNOb2RlLHI9ZS5mb2N1c09mZnNldDtpZihuJiYxPT1uLm5vZGVUeXBlJiYwPT1yJiZuLmZpcnN0Q2hpbGQmJiJmYWxzZSI9PW4uZmlyc3RDaGlsZC5jb250ZW50RWRpdGFibGUpe3ZhciBvPW4uZmlyc3RDaGlsZDtIdCh0LG8sITApLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIEh0KHQsbywhMSl9KSwyMCl9fX1mdW5jdGlvbiBxdCh0KXt2YXIgZT0iIjtyZXR1cm4gdC5jdHJsS2V5JiYoZSs9ImMiKSx0Lm1ldGFLZXkmJihlKz0ibSIpLHQuYWx0S2V5JiYoZSs9ImEiKSx0LnNoaWZ0S2V5JiYoZSs9InMiKSxlfWZ1bmN0aW9uIEp0KHQsZSl7dmFyIG49ZS5rZXlDb2RlLHI9cXQoZSk7cmV0dXJuIDg9PW58fGwubWFjJiY3Mj09biYmImMiPT1yP0x0KHQsLTEpfHxCdCh0KTo0Nj09bnx8bC5tYWMmJjY4PT1uJiYiYyI9PXI/THQodCwxKXx8VnQodCk6MTM9PW58fDI3PT1ufHwoMzc9PW4/UHQodCwtMSxyKXx8QnQodCk6Mzk9PW4/UHQodCwxLHIpfHxWdCh0KTozOD09bj8kdCh0LC0xLHIpfHxCdCh0KTo0MD09bj9XdCh0KXx8JHQodCwxLHIpfHxWdCh0KTpyPT0obC5tYWM/Im0iOiJjIikmJig2Nj09bnx8NzM9PW58fDg5PT1ufHw5MD09bikpfWZ1bmN0aW9uIEt0KHQsZSl7dmFyIG4scixvPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxpPXQuc3RhdGUuZG9jLGE9dC5kb2NWaWV3Lm5lYXJlc3REZXNjKG8uZm9jdXNOb2RlKSxjPWEmJjA9PWEuc2l6ZSxsPXQuZG9jVmlldy5wb3NGcm9tRE9NKG8uZm9jdXNOb2RlLG8uZm9jdXNPZmZzZXQpLHU9aS5yZXNvbHZlKGwpO2lmKHgobykpe249dTt3aGlsZShhJiYhYS5ub2RlKWE9YS5wYXJlbnQ7aWYoYSYmYS5ub2RlLmlzQXRvbSYmc1siTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZShhLm5vZGUpJiZhLnBhcmVudCl7dmFyIHA9YS5wb3NCZWZvcmU7cj1uZXcgc1siTm9kZVNlbGVjdGlvbiJdKGw9PXA/dTppLnJlc29sdmUocCkpfX1lbHNlIG49aS5yZXNvbHZlKHQuZG9jVmlldy5wb3NGcm9tRE9NKG8uYW5jaG9yTm9kZSxvLmFuY2hvck9mZnNldCkpO2lmKCFyKXt2YXIgZj0icG9pbnRlciI9PWV8fHQuc3RhdGUuc2VsZWN0aW9uLmhlYWQ8dS5wb3MmJiFjPzE6LTE7cj1lZSh0LG4sdSxmKX1yZXR1cm4gcn1mdW5jdGlvbiBVdCh0LGUpe3ZhciBuPXQuc3RhdGUuc2VsZWN0aW9uO2lmKFF0KHQsbiksdC5lZGl0YWJsZT90Lmhhc0ZvY3VzKCk6cmUodCkmJmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuY29udGFpbnModC5kb20pKXtpZih0LmRvbU9ic2VydmVyLmRpc2Nvbm5lY3RTZWxlY3Rpb24oKSx0LmN1cnNvcldyYXBwZXIpWnQodCk7ZWxzZXt2YXIgcixvLGk9bi5hbmNob3IsYT1uLmhlYWQ7IUd0fHxuIGluc3RhbmNlb2Ygc1siVGV4dFNlbGVjdGlvbiJdfHwobi4kZnJvbS5wYXJlbnQuaW5saW5lQ29udGVudHx8KHI9WHQodCxuLmZyb20pKSxuLmVtcHR5fHxuLiRmcm9tLnBhcmVudC5pbmxpbmVDb250ZW50fHwobz1YdCh0LG4udG8pKSksdC5kb2NWaWV3LnNldFNlbGVjdGlvbihpLGEsdC5yb290LGUpLEd0JiYociYmKHIuY29udGVudEVkaXRhYmxlPSJmYWxzZSIpLG8mJihvLmNvbnRlbnRFZGl0YWJsZT0iZmFsc2UiKSksbi52aXNpYmxlP3QuZG9tLmNsYXNzTGlzdC5yZW1vdmUoIlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb24iKTppIT1hJiYodC5kb20uY2xhc3NMaXN0LmFkZCgiUHJvc2VNaXJyb3ItaGlkZXNlbGVjdGlvbiIpLCJvbnNlbGVjdGlvbmNoYW5nZSJpbiBkb2N1bWVudCYmWXQodCkpfXQuZG9tT2JzZXJ2ZXIuc2V0Q3VyU2VsZWN0aW9uKCksdC5kb21PYnNlcnZlci5jb25uZWN0U2VsZWN0aW9uKCl9fUN0LnByb3RvdHlwZS5nZXRQcmVNYXRjaD1mdW5jdGlvbih0KXtyZXR1cm4gdD49dGhpcy5wcmVNYXRjaE9mZnNldD90aGlzLnByZU1hdGNoZWRbdC10aGlzLnByZU1hdGNoT2Zmc2V0XTpudWxsfSxDdC5wcm90b3R5cGUuZGVzdHJveUJldHdlZW49ZnVuY3Rpb24odCxlKXtpZih0IT1lKXtmb3IodmFyIG49dDtuPGU7bisrKXRoaXMudG9wLmNoaWxkcmVuW25dLmRlc3Ryb3koKTt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodCxlLXQpLHRoaXMuY2hhbmdlZD0hMH19LEN0LnByb3RvdHlwZS5kZXN0cm95UmVzdD1mdW5jdGlvbigpe3RoaXMuZGVzdHJveUJldHdlZW4odGhpcy5pbmRleCx0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGgpfSxDdC5wcm90b3R5cGUuc3luY1RvTWFya3M9ZnVuY3Rpb24odCxlLG4pe3ZhciByPTAsbz10aGlzLnN0YWNrLmxlbmd0aD4+MSxpPU1hdGgubWluKG8sdC5sZW5ndGgpO3doaWxlKHI8aSYmKHI9PW8tMT90aGlzLnRvcDp0aGlzLnN0YWNrW3IrMTw8MV0pLm1hdGNoZXNNYXJrKHRbcl0pJiYhMSE9PXRbcl0udHlwZS5zcGVjLnNwYW5uaW5nKXIrKzt3aGlsZShyPG8pdGhpcy5kZXN0cm95UmVzdCgpLHRoaXMudG9wLmRpcnR5PXR0LHRoaXMuaW5kZXg9dGhpcy5zdGFjay5wb3AoKSx0aGlzLnRvcD10aGlzLnN0YWNrLnBvcCgpLG8tLTt3aGlsZShvPHQubGVuZ3RoKXt0aGlzLnN0YWNrLnB1c2godGhpcy50b3AsdGhpcy5pbmRleCsxKTtmb3IodmFyIHM9LTEsYT10aGlzLmluZGV4O2E8TWF0aC5taW4odGhpcy5pbmRleCszLHRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aCk7YSsrKWlmKHRoaXMudG9wLmNoaWxkcmVuW2FdLm1hdGNoZXNNYXJrKHRbb10pKXtzPWE7YnJlYWt9aWYocz4tMSlzPnRoaXMuaW5kZXgmJih0aGlzLmNoYW5nZWQ9ITAsdGhpcy5kZXN0cm95QmV0d2Vlbih0aGlzLmluZGV4LHMpKSx0aGlzLnRvcD10aGlzLnRvcC5jaGlsZHJlblt0aGlzLmluZGV4XTtlbHNle3ZhciBjPWx0LmNyZWF0ZSh0aGlzLnRvcCx0W29dLGUsbik7dGhpcy50b3AuY2hpbGRyZW4uc3BsaWNlKHRoaXMuaW5kZXgsMCxjKSx0aGlzLnRvcD1jLHRoaXMuY2hhbmdlZD0hMH10aGlzLmluZGV4PTAsbysrfX0sQ3QucHJvdG90eXBlLmZpbmROb2RlTWF0Y2g9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89LTEsaT1yPDA/dm9pZCAwOnRoaXMuZ2V0UHJlTWF0Y2gocikscz10aGlzLnRvcC5jaGlsZHJlbjtpZihpJiZpLm1hdGNoZXNOb2RlKHQsZSxuKSlvPXMuaW5kZXhPZihpKTtlbHNlIGZvcih2YXIgYT10aGlzLmluZGV4LGM9TWF0aC5taW4ocy5sZW5ndGgsYSs1KTthPGM7YSsrKXt2YXIgbD1zW2FdO2lmKGwubWF0Y2hlc05vZGUodCxlLG4pJiZ0aGlzLnByZU1hdGNoZWQuaW5kZXhPZihsKTwwKXtvPWE7YnJlYWt9fXJldHVybiEobzwwKSYmKHRoaXMuZGVzdHJveUJldHdlZW4odGhpcy5pbmRleCxvKSx0aGlzLmluZGV4KyssITApfSxDdC5wcm90b3R5cGUudXBkYXRlTmV4dE5vZGU9ZnVuY3Rpb24odCxlLG4scixvKXtpZih0aGlzLmluZGV4PT10aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGgpcmV0dXJuITE7dmFyIGk9dGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleF07aWYoaSBpbnN0YW5jZW9mIHV0KXt2YXIgcz10aGlzLnByZU1hdGNoZWQuaW5kZXhPZihpKTtpZihzPi0xJiZzK3RoaXMucHJlTWF0Y2hPZmZzZXQhPW8pcmV0dXJuITE7dmFyIGE9aS5kb20sYz10aGlzLmxvY2smJihhPT10aGlzLmxvY2t8fDE9PWEubm9kZVR5cGUmJmEuY29udGFpbnModGhpcy5sb2NrLnBhcmVudE5vZGUpKSYmISh0LmlzVGV4dCYmaS5ub2RlJiZpLm5vZGUuaXNUZXh0JiZpLm5vZGVET00ubm9kZVZhbHVlPT10LnRleHQmJmkuZGlydHkhPXJ0JiZrdChlLGkub3V0ZXJEZWNvKSk7aWYoIWMmJmkudXBkYXRlKHQsZSxuLHIpKXJldHVybiBpLmRvbSE9YSYmKHRoaXMuY2hhbmdlZD0hMCksdGhpcy5pbmRleCsrLCEwfXJldHVybiExfSxDdC5wcm90b3R5cGUuYWRkTm9kZT1mdW5jdGlvbih0LGUsbixyLG8pe3RoaXMudG9wLmNoaWxkcmVuLnNwbGljZSh0aGlzLmluZGV4KyssMCx1dC5jcmVhdGUodGhpcy50b3AsdCxlLG4scixvKSksdGhpcy5jaGFuZ2VkPSEwfSxDdC5wcm90b3R5cGUucGxhY2VXaWRnZXQ9ZnVuY3Rpb24odCxlLG4pe2lmKHRoaXMuaW5kZXg8dGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoJiZ0aGlzLnRvcC5jaGlsZHJlblt0aGlzLmluZGV4XS5tYXRjaGVzV2lkZ2V0KHQpKXRoaXMuaW5kZXgrKztlbHNle3ZhciByPW5ldyBhdCh0aGlzLnRvcCx0LGUsbik7dGhpcy50b3AuY2hpbGRyZW4uc3BsaWNlKHRoaXMuaW5kZXgrKywwLHIpLHRoaXMuY2hhbmdlZD0hMH19LEN0LnByb3RvdHlwZS5hZGRUZXh0YmxvY2tIYWNrcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXgtMV07d2hpbGUodCBpbnN0YW5jZW9mIGx0KXQ9dC5jaGlsZHJlblt0LmNoaWxkcmVuLmxlbmd0aC0xXTtpZighdHx8ISh0IGluc3RhbmNlb2YgZnQpfHwvXG4kLy50ZXN0KHQubm9kZS50ZXh0KSlpZih0aGlzLmluZGV4PHRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aCYmdGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleF0ubWF0Y2hlc0hhY2soKSl0aGlzLmluZGV4Kys7ZWxzZXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiciIpO3RoaXMudG9wLmNoaWxkcmVuLnNwbGljZSh0aGlzLmluZGV4KyssMCxuZXcgZHQodGhpcy50b3Asc3QsZSxudWxsKSksdGhpcy5jaGFuZ2VkPSEwfX07dmFyIEd0PWwuc2FmYXJpfHxsLmNocm9tZSYmbC5jaHJvbWVfdmVyc2lvbjw2MztmdW5jdGlvbiBYdCh0LGUpe3ZhciBuPXQuZG9jVmlldy5kb21Gcm9tUG9zKGUpLHI9bi5ub2RlLG89bi5vZmZzZXQsaT1vPHIuY2hpbGROb2Rlcy5sZW5ndGg/ci5jaGlsZE5vZGVzW29dOm51bGwscz1vP3IuY2hpbGROb2Rlc1tvLTFdOm51bGw7aWYoKCFpfHwiZmFsc2UiPT1pLmNvbnRlbnRFZGl0YWJsZSkmJighc3x8ImZhbHNlIj09cy5jb250ZW50RWRpdGFibGUpKXtpZihpKXJldHVybiBpLmNvbnRlbnRFZGl0YWJsZT0idHJ1ZSIsaTtpZihzKXJldHVybiBzLmNvbnRlbnRFZGl0YWJsZT0idHJ1ZSIsc319ZnVuY3Rpb24gWXQodCl7dmFyIGU9dC5kb20ub3duZXJEb2N1bWVudDtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsdC5oaWRlU2VsZWN0aW9uR3VhcmQpO3ZhciBuPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxyPW4uYW5jaG9yTm9kZSxvPW4uYW5jaG9yT2Zmc2V0O2UuYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIix0LmhpZGVTZWxlY3Rpb25HdWFyZD1mdW5jdGlvbigpe24uYW5jaG9yTm9kZT09ciYmbi5hbmNob3JPZmZzZXQ9PW98fChlLnJlbW92ZUV2ZW50TGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsdC5oaWRlU2VsZWN0aW9uR3VhcmQpLHQuZG9tLmNsYXNzTGlzdC5yZW1vdmUoIlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb24iKSl9KX1mdW5jdGlvbiBadCh0KXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpLHI9dC5jdXJzb3JXcmFwcGVyLmRvbSxvPSJJTUciPT1yLm5vZGVOYW1lO28/bi5zZXRFbmQoci5wYXJlbnROb2RlLHYocikrMSk6bi5zZXRFbmQociwwKSxuLmNvbGxhcHNlKCExKSxlLnJlbW92ZUFsbFJhbmdlcygpLGUuYWRkUmFuZ2UobiksIW8mJiF0LnN0YXRlLnNlbGVjdGlvbi52aXNpYmxlJiZsLmllJiZsLmllX3ZlcnNpb248PTExJiYoci5kaXNhYmxlZD0hMCxyLmRpc2FibGVkPSExKX1mdW5jdGlvbiBRdCh0LGUpe2lmKGUgaW5zdGFuY2VvZiBzWyJOb2RlU2VsZWN0aW9uIl0pe3ZhciBuPXQuZG9jVmlldy5kZXNjQXQoZS5mcm9tKTtuIT10Lmxhc3RTZWxlY3RlZFZpZXdEZXNjJiYodGUodCksbiYmbi5zZWxlY3ROb2RlKCksdC5sYXN0U2VsZWN0ZWRWaWV3RGVzYz1uKX1lbHNlIHRlKHQpfWZ1bmN0aW9uIHRlKHQpe3QubGFzdFNlbGVjdGVkVmlld0Rlc2MmJih0Lmxhc3RTZWxlY3RlZFZpZXdEZXNjLnBhcmVudCYmdC5sYXN0U2VsZWN0ZWRWaWV3RGVzYy5kZXNlbGVjdE5vZGUoKSx0Lmxhc3RTZWxlY3RlZFZpZXdEZXNjPW51bGwpfWZ1bmN0aW9uIGVlKHQsZSxuLHIpe3JldHVybiB0LnNvbWVQcm9wKCJjcmVhdGVTZWxlY3Rpb25CZXR3ZWVuIiwoZnVuY3Rpb24ocil7cmV0dXJuIHIodCxlLG4pfSkpfHxzWyJUZXh0U2VsZWN0aW9uIl0uYmV0d2VlbihlLG4scil9ZnVuY3Rpb24gbmUodCl7cmV0dXJuKCF0LmVkaXRhYmxlfHx0LnJvb3QuYWN0aXZlRWxlbWVudD09dC5kb20pJiZyZSh0KX1mdW5jdGlvbiByZSh0KXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCk7aWYoIWUuYW5jaG9yTm9kZSlyZXR1cm4hMTt0cnl7cmV0dXJuIHQuZG9tLmNvbnRhaW5zKDM9PWUuYW5jaG9yTm9kZS5ub2RlVHlwZT9lLmFuY2hvck5vZGUucGFyZW50Tm9kZTplLmFuY2hvck5vZGUpJiYodC5lZGl0YWJsZXx8dC5kb20uY29udGFpbnMoMz09ZS5mb2N1c05vZGUubm9kZVR5cGU/ZS5mb2N1c05vZGUucGFyZW50Tm9kZTplLmZvY3VzTm9kZSkpfWNhdGNoKG4pe3JldHVybiExfX1mdW5jdGlvbiBvZSh0KXt2YXIgZT10LmRvY1ZpZXcuZG9tRnJvbVBvcyh0LnN0YXRlLnNlbGVjdGlvbi5hbmNob3IpLG49dC5yb290LmdldFNlbGVjdGlvbigpO3JldHVybiB5KGUubm9kZSxlLm9mZnNldCxuLmFuY2hvck5vZGUsbi5hbmNob3JPZmZzZXQpfWZ1bmN0aW9uIGllKHQsZSxuKXt2YXIgcj10LmRvY1ZpZXcucGFyc2VSYW5nZShlLG4pLG89ci5ub2RlLGk9ci5mcm9tT2Zmc2V0LHM9ci50b09mZnNldCxjPXIuZnJvbSx1PXIudG8scD10LnJvb3QuZ2V0U2VsZWN0aW9uKCksZj1udWxsLGQ9cC5hbmNob3JOb2RlO2lmKGQmJnQuZG9tLmNvbnRhaW5zKDE9PWQubm9kZVR5cGU/ZDpkLnBhcmVudE5vZGUpJiYoZj1be25vZGU6ZCxvZmZzZXQ6cC5hbmNob3JPZmZzZXR9XSx4KHApfHxmLnB1c2goe25vZGU6cC5mb2N1c05vZGUsb2Zmc2V0OnAuZm9jdXNPZmZzZXR9KSksbC5jaHJvbWUmJjg9PT10Lmxhc3RLZXlDb2RlKWZvcih2YXIgaD1zO2g+aTtoLS0pe3ZhciB2PW8uY2hpbGROb2Rlc1toLTFdLG09di5wbVZpZXdEZXNjO2lmKCJCUiI9PXYubm9kZVR5cGUmJiFtKXtzPWg7YnJlYWt9aWYoIW18fG0uc2l6ZSlicmVha312YXIgZz10LnN0YXRlLmRvYyx5PXQuc29tZVByb3AoImRvbVBhcnNlciIpfHxhWyJET01QYXJzZXIiXS5mcm9tU2NoZW1hKHQuc3RhdGUuc2NoZW1hKSx3PWcucmVzb2x2ZShjKSxiPW51bGwsUz15LnBhcnNlKG8se3RvcE5vZGU6dy5wYXJlbnQsdG9wTWF0Y2g6dy5wYXJlbnQuY29udGVudE1hdGNoQXQody5pbmRleCgpKSx0b3BPcGVuOiEwLGZyb206aSx0bzpzLHByZXNlcnZlV2hpdGVzcGFjZTohdy5wYXJlbnQudHlwZS5zcGVjLmNvZGV8fCJmdWxsIixlZGl0YWJsZUNvbnRlbnQ6ITAsZmluZFBvc2l0aW9uczpmLHJ1bGVGcm9tTm9kZTpzZSh5LHcpLGNvbnRleHQ6d30pO2lmKGYmJm51bGwhPWZbMF0ucG9zKXt2YXIgaz1mWzBdLnBvcyxDPWZbMV0mJmZbMV0ucG9zO251bGw9PUMmJihDPWspLGI9e2FuY2hvcjprK2MsaGVhZDpDK2N9fXJldHVybntkb2M6UyxzZWw6Yixmcm9tOmMsdG86dX19ZnVuY3Rpb24gc2UodCxlKXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHI9bi5wbVZpZXdEZXNjO2lmKHIpcmV0dXJuIHIucGFyc2VSdWxlKCk7aWYoIkJSIj09bi5ub2RlTmFtZSYmbi5wYXJlbnROb2RlKXtpZihsLnNhZmFyaSYmL14odWx8b2wpJC9pLnRlc3Qobi5wYXJlbnROb2RlLm5vZGVOYW1lKSlyZXR1cm4gdC5tYXRjaFRhZyhkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaSIpLGUpO2lmKG4ucGFyZW50Tm9kZS5sYXN0Q2hpbGQ9PW58fGwuc2FmYXJpJiYvXih0cnx0YWJsZSkkL2kudGVzdChuLnBhcmVudE5vZGUubm9kZU5hbWUpKXJldHVybntpZ25vcmU6ITB9fWVsc2UgaWYoIklNRyI9PW4ubm9kZU5hbWUmJm4uZ2V0QXR0cmlidXRlKCJtYXJrLXBsYWNlaG9sZGVyIikpcmV0dXJue2lnbm9yZTohMH19fWZ1bmN0aW9uIGFlKHQsZSxuLHIpe2lmKGU8MCl7dmFyIG89dC5sYXN0U2VsZWN0aW9uVGltZT5EYXRlLm5vdygpLTUwP3QubGFzdFNlbGVjdGlvbk9yaWdpbjpudWxsLGk9S3QodCxvKTtpZighdC5zdGF0ZS5zZWxlY3Rpb24uZXEoaSkpe3ZhciBhPXQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKGkpOyJwb2ludGVyIj09bz9hLnNldE1ldGEoInBvaW50ZXIiLCEwKToia2V5Ij09byYmYS5zY3JvbGxJbnRvVmlldygpLHQuZGlzcGF0Y2goYSl9fWVsc2V7dmFyIGM9dC5zdGF0ZS5kb2MucmVzb2x2ZShlKSx1PWMuc2hhcmVkRGVwdGgobik7ZT1jLmJlZm9yZSh1KzEpLG49dC5zdGF0ZS5kb2MucmVzb2x2ZShuKS5hZnRlcih1KzEpO3ZhciBwLGYsZD10LnN0YXRlLnNlbGVjdGlvbixoPWllKHQsZSxuKSx2PXQuc3RhdGUuZG9jLG09di5zbGljZShoLmZyb20saC50byk7OD09PXQubGFzdEtleUNvZGUmJkRhdGUubm93KCktMTAwPHQubGFzdEtleUNvZGVUaW1lPyhwPXQuc3RhdGUuc2VsZWN0aW9uLnRvLGY9ImVuZCIpOihwPXQuc3RhdGUuc2VsZWN0aW9uLmZyb20sZj0ic3RhcnQiKSx0Lmxhc3RLZXlDb2RlPW51bGw7dmFyIGc9ZmUobS5jb250ZW50LGguZG9jLmNvbnRlbnQsaC5mcm9tLHAsZik7aWYoIWcpe2lmKCEociYmZCBpbnN0YW5jZW9mIHNbIlRleHRTZWxlY3Rpb24iXSYmIWQuZW1wdHkmJmQuJGhlYWQuc2FtZVBhcmVudChkLiRhbmNob3IpKXx8dC5jb21wb3Npbmd8fGguc2VsJiZoLnNlbC5hbmNob3IhPWguc2VsLmhlYWQpe2lmKGguc2VsKXt2YXIgeT1jZSh0LHQuc3RhdGUuZG9jLGguc2VsKTt5JiYheS5lcSh0LnN0YXRlLnNlbGVjdGlvbikmJnQuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oeSkpfXJldHVybn1nPXtzdGFydDpkLmZyb20sZW5kQTpkLnRvLGVuZEI6ZC50b319dC5kb21DaGFuZ2VDb3VudCsrLHQuc3RhdGUuc2VsZWN0aW9uLmZyb208dC5zdGF0ZS5zZWxlY3Rpb24udG8mJmcuc3RhcnQ9PWcuZW5kQiYmdC5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBzWyJUZXh0U2VsZWN0aW9uIl0mJihnLnN0YXJ0PnQuc3RhdGUuc2VsZWN0aW9uLmZyb20mJmcuc3RhcnQ8PXQuc3RhdGUuc2VsZWN0aW9uLmZyb20rMj9nLnN0YXJ0PXQuc3RhdGUuc2VsZWN0aW9uLmZyb206Zy5lbmRBPHQuc3RhdGUuc2VsZWN0aW9uLnRvJiZnLmVuZEE+PXQuc3RhdGUuc2VsZWN0aW9uLnRvLTImJihnLmVuZEIrPXQuc3RhdGUuc2VsZWN0aW9uLnRvLWcuZW5kQSxnLmVuZEE9dC5zdGF0ZS5zZWxlY3Rpb24udG8pKSxsLmllJiZsLmllX3ZlcnNpb248PTExJiZnLmVuZEI9PWcuc3RhcnQrMSYmZy5lbmRBPT1nLnN0YXJ0JiZnLnN0YXJ0PmguZnJvbSYmIiDCoCI9PWguZG9jLnRleHRCZXR3ZWVuKGcuc3RhcnQtaC5mcm9tLTEsZy5zdGFydC1oLmZyb20rMSkmJihnLnN0YXJ0LS0sZy5lbmRBLS0sZy5lbmRCLS0pO3ZhciB3LGI9aC5kb2MucmVzb2x2ZU5vQ2FjaGUoZy5zdGFydC1oLmZyb20pLFM9aC5kb2MucmVzb2x2ZU5vQ2FjaGUoZy5lbmRCLWguZnJvbSk7aWYoISghYi5zYW1lUGFyZW50KFMpJiZiLnBvczxoLmRvYy5jb250ZW50LnNpemUmJih3PXNbIlNlbGVjdGlvbiJdLmZpbmRGcm9tKGguZG9jLnJlc29sdmUoYi5wb3MrMSksMSwhMCkpJiZ3LmhlYWQ9PVMucG9zJiZ0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCxDKDEzLCJFbnRlciIpKX0pKSkpaWYodC5zdGF0ZS5zZWxlY3Rpb24uYW5jaG9yPmcuc3RhcnQmJnVlKHYsZy5zdGFydCxnLmVuZEEsYixTKSYmdC5zb21lUHJvcCgiaGFuZGxlS2V5RG93biIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQsQyg4LCJCYWNrc3BhY2UiKSl9KSkpbC5hbmRyb2lkJiZsLmNocm9tZSYmdC5kb21PYnNlcnZlci5zdXBwcmVzc1NlbGVjdGlvblVwZGF0ZXMoKTtlbHNle3ZhciBrLHgsTyxNLE49Zy5zdGFydCxUPWcuZW5kQTtpZihiLnNhbWVQYXJlbnQoUykmJmIucGFyZW50LmlubGluZUNvbnRlbnQpaWYoYi5wb3M9PVMucG9zKWwuaWUmJmwuaWVfdmVyc2lvbjw9MTEmJjA9PWIucGFyZW50T2Zmc2V0JiYodC5kb21PYnNlcnZlci5zdXBwcmVzc1NlbGVjdGlvblVwZGF0ZXMoKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBVdCh0KX0pLDIwKSksaz10LnN0YXRlLnRyLmRlbGV0ZShOLFQpLHg9di5yZXNvbHZlKGcuc3RhcnQpLm1hcmtzQWNyb3NzKHYucmVzb2x2ZShnLmVuZEEpKTtlbHNlIGlmKGcuZW5kQT09Zy5lbmRCJiYoTT12LnJlc29sdmUoZy5zdGFydCkpJiYoTz1sZShiLnBhcmVudC5jb250ZW50LmN1dChiLnBhcmVudE9mZnNldCxTLnBhcmVudE9mZnNldCksTS5wYXJlbnQuY29udGVudC5jdXQoTS5wYXJlbnRPZmZzZXQsZy5lbmRBLU0uc3RhcnQoKSkpKSlrPXQuc3RhdGUudHIsImFkZCI9PU8udHlwZT9rLmFkZE1hcmsoTixULE8ubWFyayk6ay5yZW1vdmVNYXJrKE4sVCxPLm1hcmspO2Vsc2UgaWYoYi5wYXJlbnQuY2hpbGQoYi5pbmRleCgpKS5pc1RleHQmJmIuaW5kZXgoKT09Uy5pbmRleCgpLShTLnRleHRPZmZzZXQ/MDoxKSl7dmFyIEQ9Yi5wYXJlbnQudGV4dEJldHdlZW4oYi5wYXJlbnRPZmZzZXQsUy5wYXJlbnRPZmZzZXQpO2lmKHQuc29tZVByb3AoImhhbmRsZVRleHRJbnB1dCIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQsTixULEQpfSkpKXJldHVybjtrPXQuc3RhdGUudHIuaW5zZXJ0VGV4dChELE4sVCl9aWYoa3x8KGs9dC5zdGF0ZS50ci5yZXBsYWNlKE4sVCxoLmRvYy5zbGljZShnLnN0YXJ0LWguZnJvbSxnLmVuZEItaC5mcm9tKSkpLGguc2VsKXt2YXIgQT1jZSh0LGsuZG9jLGguc2VsKTtBJiYhKGwuY2hyb21lJiZsLmFuZHJvaWQmJnQuY29tcG9zaW5nJiZBLmVtcHR5JiZBLmhlYWQ9PU58fGwuaWUmJkEuZW1wdHkmJkEuaGVhZD09TikmJmsuc2V0U2VsZWN0aW9uKEEpfXgmJmsuZW5zdXJlTWFya3MoeCksdC5kaXNwYXRjaChrLnNjcm9sbEludG9WaWV3KCkpfX19ZnVuY3Rpb24gY2UodCxlLG4pe3JldHVybiBNYXRoLm1heChuLmFuY2hvcixuLmhlYWQpPmUuY29udGVudC5zaXplP251bGw6ZWUodCxlLnJlc29sdmUobi5hbmNob3IpLGUucmVzb2x2ZShuLmhlYWQpKX1mdW5jdGlvbiBsZSh0LGUpe2Zvcih2YXIgbixyLG8saT10LmZpcnN0Q2hpbGQubWFya3Mscz1lLmZpcnN0Q2hpbGQubWFya3MsYz1pLGw9cyx1PTA7dTxzLmxlbmd0aDt1KyspYz1zW3VdLnJlbW92ZUZyb21TZXQoYyk7Zm9yKHZhciBwPTA7cDxpLmxlbmd0aDtwKyspbD1pW3BdLnJlbW92ZUZyb21TZXQobCk7aWYoMT09Yy5sZW5ndGgmJjA9PWwubGVuZ3RoKXI9Y1swXSxuPSJhZGQiLG89ZnVuY3Rpb24odCl7cmV0dXJuIHQubWFyayhyLmFkZFRvU2V0KHQubWFya3MpKX07ZWxzZXtpZigwIT1jLmxlbmd0aHx8MSE9bC5sZW5ndGgpcmV0dXJuIG51bGw7cj1sWzBdLG49InJlbW92ZSIsbz1mdW5jdGlvbih0KXtyZXR1cm4gdC5tYXJrKHIucmVtb3ZlRnJvbVNldCh0Lm1hcmtzKSl9fWZvcih2YXIgZj1bXSxkPTA7ZDxlLmNoaWxkQ291bnQ7ZCsrKWYucHVzaChvKGUuY2hpbGQoZCkpKTtpZihhWyJGcmFnbWVudCJdLmZyb20oZikuZXEodCkpcmV0dXJue21hcms6cix0eXBlOm59fWZ1bmN0aW9uIHVlKHQsZSxuLHIsbyl7aWYoIXIucGFyZW50LmlzVGV4dGJsb2NrfHxuLWU8PW8ucG9zLXIucG9zfHxwZShyLCEwLCExKTxvLnBvcylyZXR1cm4hMTt2YXIgaT10LnJlc29sdmUoZSk7aWYoaS5wYXJlbnRPZmZzZXQ8aS5wYXJlbnQuY29udGVudC5zaXplfHwhaS5wYXJlbnQuaXNUZXh0YmxvY2spcmV0dXJuITE7dmFyIHM9dC5yZXNvbHZlKHBlKGksITAsITApKTtyZXR1cm4hKCFzLnBhcmVudC5pc1RleHRibG9ja3x8cy5wb3M+bnx8cGUocywhMCwhMSk8bikmJnIucGFyZW50LmNvbnRlbnQuY3V0KHIucGFyZW50T2Zmc2V0KS5lcShzLnBhcmVudC5jb250ZW50KX1mdW5jdGlvbiBwZSh0LGUsbil7dmFyIHI9dC5kZXB0aCxvPWU/dC5lbmQoKTp0LnBvczt3aGlsZShyPjAmJihlfHx0LmluZGV4QWZ0ZXIocik9PXQubm9kZShyKS5jaGlsZENvdW50KSlyLS0sbysrLGU9ITE7aWYobil7dmFyIGk9dC5ub2RlKHIpLm1heWJlQ2hpbGQodC5pbmRleEFmdGVyKHIpKTt3aGlsZShpJiYhaS5pc0xlYWYpaT1pLmZpcnN0Q2hpbGQsbysrfXJldHVybiBvfWZ1bmN0aW9uIGZlKHQsZSxuLHIsbyl7dmFyIGk9dC5maW5kRGlmZlN0YXJ0KGUsbik7aWYobnVsbD09aSlyZXR1cm4gbnVsbDt2YXIgcz10LmZpbmREaWZmRW5kKGUsbit0LnNpemUsbitlLnNpemUpLGE9cy5hLGM9cy5iO2lmKCJlbmQiPT1vKXt2YXIgbD1NYXRoLm1heCgwLGktTWF0aC5taW4oYSxjKSk7ci09YStsLWl9aWYoYTxpJiZ0LnNpemU8ZS5zaXplKXt2YXIgdT1yPD1pJiZyPj1hP2ktcjowO2ktPXUsYz1pKyhjLWEpLGE9aX1lbHNlIGlmKGM8aSl7dmFyIHA9cjw9aSYmcj49Yz9pLXI6MDtpLT1wLGE9aSsoYS1jKSxjPWl9cmV0dXJue3N0YXJ0OmksZW5kQTphLGVuZEI6Y319ZnVuY3Rpb24gZGUodCxlKXt2YXIgbj1bXSxyPWUuY29udGVudCxvPWUub3BlblN0YXJ0LGk9ZS5vcGVuRW5kO3doaWxlKG8+MSYmaT4xJiYxPT1yLmNoaWxkQ291bnQmJjE9PXIuZmlyc3RDaGlsZC5jaGlsZENvdW50KXtvLS0saS0tO3ZhciBzPXIuZmlyc3RDaGlsZDtuLnB1c2gocy50eXBlLm5hbWUscy50eXBlLmhhc1JlcXVpcmVkQXR0cnMoKT9zLmF0dHJzOm51bGwpLHI9cy5jb250ZW50fXZhciBjPXQuc29tZVByb3AoImNsaXBib2FyZFNlcmlhbGl6ZXIiKXx8YVsiRE9NU2VyaWFsaXplciJdLmZyb21TY2hlbWEodC5zdGF0ZS5zY2hlbWEpLGw9eGUoKSx1PWwuY3JlYXRlRWxlbWVudCgiZGl2Iik7dS5hcHBlbmRDaGlsZChjLnNlcmlhbGl6ZUZyYWdtZW50KHIse2RvY3VtZW50Omx9KSk7dmFyIHAsZj11LmZpcnN0Q2hpbGQ7d2hpbGUoZiYmMT09Zi5ub2RlVHlwZSYmKHA9U2VbZi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkpe2Zvcih2YXIgZD1wLmxlbmd0aC0xO2Q+PTA7ZC0tKXt2YXIgaD1sLmNyZWF0ZUVsZW1lbnQocFtkXSk7d2hpbGUodS5maXJzdENoaWxkKWguYXBwZW5kQ2hpbGQodS5maXJzdENoaWxkKTt1LmFwcGVuZENoaWxkKGgpfWY9dS5maXJzdENoaWxkfWYmJjE9PWYubm9kZVR5cGUmJmYuc2V0QXR0cmlidXRlKCJkYXRhLXBtLXNsaWNlIixvKyIgIitpKyIgIitKU09OLnN0cmluZ2lmeShuKSk7dmFyIHY9dC5zb21lUHJvcCgiY2xpcGJvYXJkVGV4dFNlcmlhbGl6ZXIiLChmdW5jdGlvbih0KXtyZXR1cm4gdChlKX0pKXx8ZS5jb250ZW50LnRleHRCZXR3ZWVuKDAsZS5jb250ZW50LnNpemUsIlxuXG4iKTtyZXR1cm57ZG9tOnUsdGV4dDp2fX1mdW5jdGlvbiBoZSh0LGUsbixyLG8pe3ZhciBpLHMsYz1vLnBhcmVudC50eXBlLnNwZWMuY29kZTtpZighbiYmIWUpcmV0dXJuIG51bGw7dmFyIGw9ZSYmKHJ8fGN8fCFuKTtpZihsKXtpZih0LnNvbWVQcm9wKCJ0cmFuc2Zvcm1QYXN0ZWRUZXh0IiwoZnVuY3Rpb24odCl7ZT10KGUpfSkpLGMpcmV0dXJuIG5ldyBhWyJTbGljZSJdKGFbIkZyYWdtZW50Il0uZnJvbSh0LnN0YXRlLnNjaGVtYS50ZXh0KGUpKSwwLDApO3ZhciB1PXQuc29tZVByb3AoImNsaXBib2FyZFRleHRQYXJzZXIiLChmdW5jdGlvbih0KXtyZXR1cm4gdChlLG8pfSkpO3U/cz11OihpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGUudHJpbSgpLnNwbGl0KC8oPzpcclxuP3xcbikrLykuZm9yRWFjaCgoZnVuY3Rpb24odCl7aS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIikpLnRleHRDb250ZW50PXR9KSkpfWVsc2UgdC5zb21lUHJvcCgidHJhbnNmb3JtUGFzdGVkSFRNTCIsKGZ1bmN0aW9uKHQpe249dChuKX0pKSxpPUNlKG4pO3ZhciBwPWkmJmkucXVlcnlTZWxlY3RvcigiW2RhdGEtcG0tc2xpY2VdIiksZj1wJiYvXihcZCspIChcZCspICguKikvLmV4ZWMocC5nZXRBdHRyaWJ1dGUoImRhdGEtcG0tc2xpY2UiKSk7aWYoIXMpe3ZhciBkPXQuc29tZVByb3AoImNsaXBib2FyZFBhcnNlciIpfHx0LnNvbWVQcm9wKCJkb21QYXJzZXIiKXx8YVsiRE9NUGFyc2VyIl0uZnJvbVNjaGVtYSh0LnN0YXRlLnNjaGVtYSk7cz1kLnBhcnNlU2xpY2UoaSx7cHJlc2VydmVXaGl0ZXNwYWNlOiEoIWwmJiFmKSxjb250ZXh0Om99KX1yZXR1cm4gcz1mP09lKGJlKHMsK2ZbMV0sK2ZbMl0pLGZbM10pOmFbIlNsaWNlIl0ubWF4T3Blbih2ZShzLmNvbnRlbnQsbyksITEpLHQuc29tZVByb3AoInRyYW5zZm9ybVBhc3RlZCIsKGZ1bmN0aW9uKHQpe3M9dChzKX0pKSxzfWZ1bmN0aW9uIHZlKHQsZSl7aWYodC5jaGlsZENvdW50PDIpcmV0dXJuIHQ7Zm9yKHZhciBuPWZ1bmN0aW9uKG4pe3ZhciByPWUubm9kZShuKSxvPXIuY29udGVudE1hdGNoQXQoZS5pbmRleChuKSksaT12b2lkIDAscz1bXTtpZih0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKHMpe3ZhciBlLG49by5maW5kV3JhcHBpbmcodC50eXBlKTtpZighbilyZXR1cm4gcz1udWxsO2lmKGU9cy5sZW5ndGgmJmkubGVuZ3RoJiZnZShuLGksdCxzW3MubGVuZ3RoLTFdLDApKXNbcy5sZW5ndGgtMV09ZTtlbHNle3MubGVuZ3RoJiYoc1tzLmxlbmd0aC0xXT15ZShzW3MubGVuZ3RoLTFdLGkubGVuZ3RoKSk7dmFyIHI9bWUodCxuKTtzLnB1c2gociksbz1vLm1hdGNoVHlwZShyLnR5cGUsci5hdHRycyksaT1ufX19KSkscylyZXR1cm57djphWyJGcmFnbWVudCJdLmZyb20ocyl9fSxyPWUuZGVwdGg7cj49MDtyLS0pe3ZhciBvPW4ocik7aWYobylyZXR1cm4gby52fXJldHVybiB0fWZ1bmN0aW9uIG1lKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0wKTtmb3IodmFyIHI9ZS5sZW5ndGgtMTtyPj1uO3ItLSl0PWVbcl0uY3JlYXRlKG51bGwsYVsiRnJhZ21lbnQiXS5mcm9tKHQpKTtyZXR1cm4gdH1mdW5jdGlvbiBnZSh0LGUsbixyLG8pe2lmKG88dC5sZW5ndGgmJm88ZS5sZW5ndGgmJnRbb109PWVbb10pe3ZhciBpPWdlKHQsZSxuLHIubGFzdENoaWxkLG8rMSk7aWYoaSlyZXR1cm4gci5jb3B5KHIuY29udGVudC5yZXBsYWNlQ2hpbGQoci5jaGlsZENvdW50LTEsaSkpO3ZhciBzPXIuY29udGVudE1hdGNoQXQoci5jaGlsZENvdW50KTtpZihzLm1hdGNoVHlwZShvPT10Lmxlbmd0aC0xP24udHlwZTp0W28rMV0pKXJldHVybiByLmNvcHkoci5jb250ZW50LmFwcGVuZChhWyJGcmFnbWVudCJdLmZyb20obWUobix0LG8rMSkpKSl9fWZ1bmN0aW9uIHllKHQsZSl7aWYoMD09ZSlyZXR1cm4gdDt2YXIgbj10LmNvbnRlbnQucmVwbGFjZUNoaWxkKHQuY2hpbGRDb3VudC0xLHllKHQubGFzdENoaWxkLGUtMSkpLHI9dC5jb250ZW50TWF0Y2hBdCh0LmNoaWxkQ291bnQpLmZpbGxCZWZvcmUoYVsiRnJhZ21lbnQiXS5lbXB0eSwhMCk7cmV0dXJuIHQuY29weShuLmFwcGVuZChyKSl9ZnVuY3Rpb24gd2UodCxlLG4scixvLGkpe3ZhciBzPWU8MD90LmZpcnN0Q2hpbGQ6dC5sYXN0Q2hpbGQsYz1zLmNvbnRlbnQ7cmV0dXJuIG88ci0xJiYoYz13ZShjLGUsbixyLG8rMSxpKSksbz49biYmKGM9ZTwwP3MuY29udGVudE1hdGNoQXQoMCkuZmlsbEJlZm9yZShjLHQuY2hpbGRDb3VudD4xfHxpPD1vKS5hcHBlbmQoYyk6Yy5hcHBlbmQocy5jb250ZW50TWF0Y2hBdChzLmNoaWxkQ291bnQpLmZpbGxCZWZvcmUoYVsiRnJhZ21lbnQiXS5lbXB0eSwhMCkpKSx0LnJlcGxhY2VDaGlsZChlPDA/MDp0LmNoaWxkQ291bnQtMSxzLmNvcHkoYykpfWZ1bmN0aW9uIGJlKHQsZSxuKXtyZXR1cm4gZTx0Lm9wZW5TdGFydCYmKHQ9bmV3IGFbIlNsaWNlIl0od2UodC5jb250ZW50LC0xLGUsdC5vcGVuU3RhcnQsMCx0Lm9wZW5FbmQpLGUsdC5vcGVuRW5kKSksbjx0Lm9wZW5FbmQmJih0PW5ldyBhWyJTbGljZSJdKHdlKHQuY29udGVudCwxLG4sdC5vcGVuRW5kLDAsMCksdC5vcGVuU3RhcnQsbikpLHR9dmFyIFNlPXt0aGVhZDpbInRhYmxlIl0sY29sZ3JvdXA6WyJ0YWJsZSJdLGNvbDpbInRhYmxlIiwiY29sZ3JvdXAiXSx0cjpbInRhYmxlIiwidGJvZHkiXSx0ZDpbInRhYmxlIiwidGJvZHkiLCJ0ciJdLHRoOlsidGFibGUiLCJ0Ym9keSIsInRyIl19LGtlPW51bGw7ZnVuY3Rpb24geGUoKXtyZXR1cm4ga2V8fChrZT1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoInRpdGxlIikpfWZ1bmN0aW9uIENlKHQpe3ZhciBlPS8oXHMqPG1ldGEgW14+XSo+KSovLmV4ZWModCk7ZSYmKHQ9dC5zbGljZShlWzBdLmxlbmd0aCkpO3ZhciBuLHI9eGUoKS5jcmVhdGVFbGVtZW50KCJkaXYiKSxvPS8oPzo8bWV0YSBbXj5dKj4pKjwoW2Etel1bXj5cc10rKS9pLmV4ZWModCksaT0wOyhuPW8mJlNlW29bMV0udG9Mb3dlckNhc2UoKV0pJiYodD1uLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIjwiK3QrIj4ifSkpLmpvaW4oIiIpK3Qrbi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiI8LyIrdCsiPiJ9KSkucmV2ZXJzZSgpLmpvaW4oIiIpLGk9bi5sZW5ndGgpLHIuaW5uZXJIVE1MPXQ7Zm9yKHZhciBzPTA7czxpO3MrKylyPXIuZmlyc3RDaGlsZDtyZXR1cm4gcn1mdW5jdGlvbiBPZSh0LGUpe2lmKCF0LnNpemUpcmV0dXJuIHQ7dmFyIG4scj10LmNvbnRlbnQuZmlyc3RDaGlsZC50eXBlLnNjaGVtYTt0cnl7bj1KU09OLnBhcnNlKGUpfWNhdGNoKHUpe3JldHVybiB0fWZvcih2YXIgbz10LmNvbnRlbnQsaT10Lm9wZW5TdGFydCxzPXQub3BlbkVuZCxjPW4ubGVuZ3RoLTI7Yz49MDtjLT0yKXt2YXIgbD1yLm5vZGVzW25bY11dO2lmKCFsfHxsLmhhc1JlcXVpcmVkQXR0cnMoKSlicmVhaztvPWFbIkZyYWdtZW50Il0uZnJvbShsLmNyZWF0ZShuW2MrMV0sbykpLGkrKyxzKyt9cmV0dXJuIG5ldyBhWyJTbGljZSJdKG8saSxzKX12YXIgTWU9e2NoaWxkTGlzdDohMCxjaGFyYWN0ZXJEYXRhOiEwLGNoYXJhY3RlckRhdGFPbGRWYWx1ZTohMCxhdHRyaWJ1dGVzOiEwLGF0dHJpYnV0ZU9sZFZhbHVlOiEwLHN1YnRyZWU6ITB9LE5lPWwuaWUmJmwuaWVfdmVyc2lvbjw9MTEsVGU9ZnVuY3Rpb24oKXt0aGlzLmFuY2hvck5vZGU9dGhpcy5hbmNob3JPZmZzZXQ9dGhpcy5mb2N1c05vZGU9dGhpcy5mb2N1c09mZnNldD1udWxsfTtUZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuYW5jaG9yTm9kZT10LmFuY2hvck5vZGUsdGhpcy5hbmNob3JPZmZzZXQ9dC5hbmNob3JPZmZzZXQsdGhpcy5mb2N1c05vZGU9dC5mb2N1c05vZGUsdGhpcy5mb2N1c09mZnNldD10LmZvY3VzT2Zmc2V0fSxUZS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHQuYW5jaG9yTm9kZT09dGhpcy5hbmNob3JOb2RlJiZ0LmFuY2hvck9mZnNldD09dGhpcy5hbmNob3JPZmZzZXQmJnQuZm9jdXNOb2RlPT10aGlzLmZvY3VzTm9kZSYmdC5mb2N1c09mZnNldD09dGhpcy5mb2N1c09mZnNldH07dmFyIERlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0aGlzLnZpZXc9dCx0aGlzLmhhbmRsZURPTUNoYW5nZT1lLHRoaXMucXVldWU9W10sdGhpcy5mbHVzaGluZ1Nvb249ITEsdGhpcy5vYnNlcnZlcj13aW5kb3cuTXV0YXRpb25PYnNlcnZlciYmbmV3IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyKChmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyluLnF1ZXVlLnB1c2godFtlXSk7bC5pZSYmbC5pZV92ZXJzaW9uPD0xMSYmdC5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4iY2hpbGRMaXN0Ij09dC50eXBlJiZ0LnJlbW92ZWROb2Rlcy5sZW5ndGh8fCJjaGFyYWN0ZXJEYXRhIj09dC50eXBlJiZ0Lm9sZFZhbHVlLmxlbmd0aD50LnRhcmdldC5ub2RlVmFsdWUubGVuZ3RofSkpP24uZmx1c2hTb29uKCk6bi5mbHVzaCgpfSkpLHRoaXMuY3VycmVudFNlbGVjdGlvbj1uZXcgVGUsTmUmJih0aGlzLm9uQ2hhckRhdGE9ZnVuY3Rpb24odCl7bi5xdWV1ZS5wdXNoKHt0YXJnZXQ6dC50YXJnZXQsdHlwZToiY2hhcmFjdGVyRGF0YSIsb2xkVmFsdWU6dC5wcmV2VmFsdWV9KSxuLmZsdXNoU29vbigpfSksdGhpcy5vblNlbGVjdGlvbkNoYW5nZT10aGlzLm9uU2VsZWN0aW9uQ2hhbmdlLmJpbmQodGhpcyksdGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXM9ITF9O0RlLnByb3RvdHlwZS5mbHVzaFNvb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZmx1c2hpbmdTb29ufHwodGhpcy5mbHVzaGluZ1Nvb249ITAsd2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5mbHVzaGluZ1Nvb249ITEsdC5mbHVzaCgpfSksMjApKX0sRGUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5vYnNlcnZlciYmdGhpcy5vYnNlcnZlci5vYnNlcnZlKHRoaXMudmlldy5kb20sTWUpLE5lJiZ0aGlzLnZpZXcuZG9tLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcy5vbkNoYXJEYXRhKSx0aGlzLmNvbm5lY3RTZWxlY3Rpb24oKX0sRGUucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMub2JzZXJ2ZXIpe3ZhciBlPXRoaXMub2JzZXJ2ZXIudGFrZVJlY29yZHMoKTtpZihlLmxlbmd0aCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdGhpcy5xdWV1ZS5wdXNoKGVbbl0pO3dpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0LmZsdXNoKCl9KSwyMCl9dGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCl9TmUmJnRoaXMudmlldy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIix0aGlzLm9uQ2hhckRhdGEpLHRoaXMuZGlzY29ubmVjdFNlbGVjdGlvbigpfSxEZS5wcm90b3R5cGUuY29ubmVjdFNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMudmlldy5kb20ub3duZXJEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLHRoaXMub25TZWxlY3Rpb25DaGFuZ2UpfSxEZS5wcm90b3R5cGUuZGlzY29ubmVjdFNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMudmlldy5kb20ub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLHRoaXMub25TZWxlY3Rpb25DaGFuZ2UpfSxEZS5wcm90b3R5cGUuc3VwcHJlc3NTZWxlY3Rpb25VcGRhdGVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcz0hMCxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0LnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcz0hMX0pLDUwKX0sRGUucHJvdG90eXBlLm9uU2VsZWN0aW9uQ2hhbmdlPWZ1bmN0aW9uKCl7aWYobmUodGhpcy52aWV3KSl7aWYodGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMpcmV0dXJuIFV0KHRoaXMudmlldyk7aWYobC5pZSYmbC5pZV92ZXJzaW9uPD0xMSYmIXRoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24uZW1wdHkpe3ZhciB0PXRoaXMudmlldy5yb290LmdldFNlbGVjdGlvbigpO2lmKHQuZm9jdXNOb2RlJiZ5KHQuZm9jdXNOb2RlLHQuZm9jdXNPZmZzZXQsdC5hbmNob3JOb2RlLHQuYW5jaG9yT2Zmc2V0KSlyZXR1cm4gdGhpcy5mbHVzaFNvb24oKX10aGlzLmZsdXNoKCl9fSxEZS5wcm90b3R5cGUuc2V0Q3VyU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50U2VsZWN0aW9uLnNldCh0aGlzLnZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKSl9LERlLnByb3RvdHlwZS5pZ25vcmVTZWxlY3Rpb25DaGFuZ2U9ZnVuY3Rpb24odCl7aWYoMD09dC5yYW5nZUNvdW50KXJldHVybiEwO3ZhciBlPXQuZ2V0UmFuZ2VBdCgwKS5jb21tb25BbmNlc3RvckNvbnRhaW5lcixuPXRoaXMudmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKGUpO3JldHVybiBuJiZuLmlnbm9yZU11dGF0aW9uKHt0eXBlOiJzZWxlY3Rpb24iLHRhcmdldDozPT1lLm5vZGVUeXBlP2UucGFyZW50Tm9kZTplfSl9LERlLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe2lmKHRoaXMudmlldy5kb2NWaWV3JiYhdGhpcy5mbHVzaGluZ1Nvb24pe3ZhciB0PXRoaXMub2JzZXJ2ZXI/dGhpcy5vYnNlcnZlci50YWtlUmVjb3JkcygpOltdO3RoaXMucXVldWUubGVuZ3RoJiYodD10aGlzLnF1ZXVlLmNvbmNhdCh0KSx0aGlzLnF1ZXVlLmxlbmd0aD0wKTt2YXIgZT10aGlzLnZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKSxuPSF0aGlzLnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcyYmIXRoaXMuY3VycmVudFNlbGVjdGlvbi5lcShlKSYmcmUodGhpcy52aWV3KSYmIXRoaXMuaWdub3JlU2VsZWN0aW9uQ2hhbmdlKGUpLHI9LTEsbz0tMSxpPSExLHM9W107aWYodGhpcy52aWV3LmVkaXRhYmxlKWZvcih2YXIgYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgYz10aGlzLnJlZ2lzdGVyTXV0YXRpb24odFthXSxzKTtjJiYocj1yPDA/Yy5mcm9tOk1hdGgubWluKGMuZnJvbSxyKSxvPW88MD9jLnRvOk1hdGgubWF4KGMudG8sbyksYy50eXBlT3ZlciYmIXRoaXMudmlldy5jb21wb3NpbmcmJihpPSEwKSl9KHI+LTF8fG4pJiYocj4tMSYmKHRoaXMudmlldy5kb2NWaWV3Lm1hcmtEaXJ0eShyLG8pLEVlKHRoaXMudmlldykpLHRoaXMuaGFuZGxlRE9NQ2hhbmdlKHIsbyxpKSx0aGlzLnZpZXcuZG9jVmlldy5kaXJ0eT90aGlzLnZpZXcudXBkYXRlU3RhdGUodGhpcy52aWV3LnN0YXRlKTp0aGlzLmN1cnJlbnRTZWxlY3Rpb24uZXEoZSl8fFV0KHRoaXMudmlldykpfX0sRGUucHJvdG90eXBlLnJlZ2lzdGVyTXV0YXRpb249ZnVuY3Rpb24odCxlKXtpZihlLmluZGV4T2YodC50YXJnZXQpPi0xKXJldHVybiBudWxsO3ZhciBuPXRoaXMudmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKHQudGFyZ2V0KTtpZigiYXR0cmlidXRlcyI9PXQudHlwZSYmKG49PXRoaXMudmlldy5kb2NWaWV3fHwiY29udGVudGVkaXRhYmxlIj09dC5hdHRyaWJ1dGVOYW1lfHwic3R5bGUiPT10LmF0dHJpYnV0ZU5hbWUmJiF0Lm9sZFZhbHVlJiYhdC50YXJnZXQuZ2V0QXR0cmlidXRlKCJzdHlsZSIpKSlyZXR1cm4gbnVsbDtpZighbnx8bi5pZ25vcmVNdXRhdGlvbih0KSlyZXR1cm4gbnVsbDtpZigiY2hpbGRMaXN0Ij09dC50eXBlKXt2YXIgcj10LnByZXZpb3VzU2libGluZyxvPXQubmV4dFNpYmxpbmc7aWYobC5pZSYmbC5pZV92ZXJzaW9uPD0xMSYmdC5hZGRlZE5vZGVzLmxlbmd0aClmb3IodmFyIGk9MDtpPHQuYWRkZWROb2Rlcy5sZW5ndGg7aSsrKXt2YXIgcz10LmFkZGVkTm9kZXNbaV0sYT1zLnByZXZpb3VzU2libGluZyxjPXMubmV4dFNpYmxpbmc7KCFhfHxBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHQuYWRkZWROb2RlcyxhKTwwKSYmKHI9YSksKCFjfHxBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHQuYWRkZWROb2RlcyxjKTwwKSYmKG89Yyl9Zm9yKHZhciB1PXImJnIucGFyZW50Tm9kZT09dC50YXJnZXQ/dihyKSsxOjAscD1uLmxvY2FsUG9zRnJvbURPTSh0LnRhcmdldCx1LC0xKSxmPW8mJm8ucGFyZW50Tm9kZT09dC50YXJnZXQ/dihvKTp0LnRhcmdldC5jaGlsZE5vZGVzLmxlbmd0aCxkPTA7ZDx0LmFkZGVkTm9kZXMubGVuZ3RoO2QrKyllLnB1c2godC5hZGRlZE5vZGVzW2RdKTt2YXIgaD1uLmxvY2FsUG9zRnJvbURPTSh0LnRhcmdldCxmLDEpO3JldHVybntmcm9tOnAsdG86aH19cmV0dXJuImF0dHJpYnV0ZXMiPT10LnR5cGU/e2Zyb206bi5wb3NBdFN0YXJ0LW4uYm9yZGVyLHRvOm4ucG9zQXRFbmQrbi5ib3JkZXJ9Ontmcm9tOm4ucG9zQXRTdGFydCx0bzpuLnBvc0F0RW5kLHR5cGVPdmVyOnQudGFyZ2V0Lm5vZGVWYWx1ZT09dC5vbGRWYWx1ZX19O3ZhciBBZT0hMTtmdW5jdGlvbiBFZSh0KXtBZXx8KEFlPSEwLCJub3JtYWwiPT1nZXRDb21wdXRlZFN0eWxlKHQuZG9tKS53aGl0ZVNwYWNlJiZjb25zb2xlWyJ3YXJuIl0oIlByb3NlTWlycm9yIGV4cGVjdHMgdGhlIENTUyB3aGl0ZS1zcGFjZSBwcm9wZXJ0eSB0byBiZSBzZXQsIHByZWZlcmFibHkgdG8gJ3ByZS13cmFwJy4gSXQgaXMgcmVjb21tZW5kZWQgdG8gbG9hZCBzdHlsZS9wcm9zZW1pcnJvci5jc3MgZnJvbSB0aGUgcHJvc2VtaXJyb3ItdmlldyBwYWNrYWdlLiIpKX12YXIgUmU9e30sX2U9e307ZnVuY3Rpb24gUGUodCl7dC5zaGlmdEtleT0hMSx0Lm1vdXNlRG93bj1udWxsLHQubGFzdEtleUNvZGU9bnVsbCx0Lmxhc3RLZXlDb2RlVGltZT0wLHQubGFzdENsaWNrPXt0aW1lOjAseDowLHk6MCx0eXBlOiIifSx0Lmxhc3RTZWxlY3Rpb25PcmlnaW49bnVsbCx0Lmxhc3RTZWxlY3Rpb25UaW1lPTAsdC5jb21wb3Npbmc9ITEsdC5jb21wb3NpbmdUaW1lb3V0PW51bGwsdC5jb21wb3NpdGlvbk5vZGVzPVtdLHQuY29tcG9zaXRpb25FbmRlZEF0PS0yZTgsdC5kb21PYnNlcnZlcj1uZXcgRGUodCwoZnVuY3Rpb24oZSxuLHIpe3JldHVybiBhZSh0LGUsbixyKX0pKSx0LmRvbU9ic2VydmVyLnN0YXJ0KCksdC5kb21DaGFuZ2VDb3VudD0wLHQuZXZlbnRIYW5kbGVycz1PYmplY3QuY3JlYXRlKG51bGwpO3ZhciBlPWZ1bmN0aW9uKGUpe3ZhciBuPVJlW2VdO3QuZG9tLmFkZEV2ZW50TGlzdGVuZXIoZSx0LmV2ZW50SGFuZGxlcnNbZV09ZnVuY3Rpb24oZSl7IUZlKHQsZSl8fFZlKHQsZSl8fCF0LmVkaXRhYmxlJiZlLnR5cGUgaW4gX2V8fG4odCxlKX0pfTtmb3IodmFyIG4gaW4gUmUpZShuKTtsLnNhZmFyaSYmdC5kb20uYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLChmdW5jdGlvbigpe3JldHVybiBudWxsfSkpLEJlKHQpfWZ1bmN0aW9uIHplKHQsZSl7dC5sYXN0U2VsZWN0aW9uT3JpZ2luPWUsdC5sYXN0U2VsZWN0aW9uVGltZT1EYXRlLm5vdygpfWZ1bmN0aW9uIEllKHQpe2Zvcih2YXIgZSBpbiB0LmRvbU9ic2VydmVyLnN0b3AoKSx0LmV2ZW50SGFuZGxlcnMpdC5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQuZXZlbnRIYW5kbGVyc1tlXSk7Y2xlYXJUaW1lb3V0KHQuY29tcG9zaW5nVGltZW91dCl9ZnVuY3Rpb24gQmUodCl7dC5zb21lUHJvcCgiaGFuZGxlRE9NRXZlbnRzIiwoZnVuY3Rpb24oZSl7Zm9yKHZhciBuIGluIGUpdC5ldmVudEhhbmRsZXJzW25dfHx0LmRvbS5hZGRFdmVudExpc3RlbmVyKG4sdC5ldmVudEhhbmRsZXJzW25dPWZ1bmN0aW9uKGUpe3JldHVybiBWZSh0LGUpfSl9KSl9ZnVuY3Rpb24gVmUodCxlKXtyZXR1cm4gdC5zb21lUHJvcCgiaGFuZGxlRE9NRXZlbnRzIiwoZnVuY3Rpb24obil7dmFyIHI9bltlLnR5cGVdO3JldHVybiEhciYmKHIodCxlKXx8ZS5kZWZhdWx0UHJldmVudGVkKX0pKX1mdW5jdGlvbiBGZSh0LGUpe2lmKCFlLmJ1YmJsZXMpcmV0dXJuITA7aWYoZS5kZWZhdWx0UHJldmVudGVkKXJldHVybiExO2Zvcih2YXIgbj1lLnRhcmdldDtuIT10LmRvbTtuPW4ucGFyZW50Tm9kZSlpZighbnx8MTE9PW4ubm9kZVR5cGV8fG4ucG1WaWV3RGVzYyYmbi5wbVZpZXdEZXNjLnN0b3BFdmVudChlKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBqZSh0LGUpe1ZlKHQsZSl8fCFSZVtlLnR5cGVdfHwhdC5lZGl0YWJsZSYmZS50eXBlIGluIF9lfHxSZVtlLnR5cGVdKHQsZSl9ZnVuY3Rpb24gJGUodCl7cmV0dXJue2xlZnQ6dC5jbGllbnRYLHRvcDp0LmNsaWVudFl9fWZ1bmN0aW9uIExlKHQsZSl7dmFyIG49ZS54LXQuY2xpZW50WCxyPWUueS10LmNsaWVudFk7cmV0dXJuIG4qbityKnI8MTAwfWZ1bmN0aW9uIEhlKHQsZSxuLHIsbyl7aWYoLTE9PXIpcmV0dXJuITE7Zm9yKHZhciBpPXQuc3RhdGUuZG9jLnJlc29sdmUocikscz1mdW5jdGlvbihyKXtpZih0LnNvbWVQcm9wKGUsKGZ1bmN0aW9uKGUpe3JldHVybiByPmkuZGVwdGg/ZSh0LG4saS5ub2RlQWZ0ZXIsaS5iZWZvcmUociksbywhMCk6ZSh0LG4saS5ub2RlKHIpLGkuYmVmb3JlKHIpLG8sITEpfSkpKXJldHVybnt2OiEwfX0sYT1pLmRlcHRoKzE7YT4wO2EtLSl7dmFyIGM9cyhhKTtpZihjKXJldHVybiBjLnZ9cmV0dXJuITF9ZnVuY3Rpb24gV2UodCxlLG4pe3QuZm9jdXNlZHx8dC5mb2N1cygpO3ZhciByPXQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKGUpOyJwb2ludGVyIj09biYmci5zZXRNZXRhKCJwb2ludGVyIiwhMCksdC5kaXNwYXRjaChyKX1mdW5jdGlvbiBxZSh0LGUpe2lmKC0xPT1lKXJldHVybiExO3ZhciBuPXQuc3RhdGUuZG9jLnJlc29sdmUoZSkscj1uLm5vZGVBZnRlcjtyZXR1cm4hIShyJiZyLmlzQXRvbSYmc1siTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZShyKSkmJihXZSh0LG5ldyBzWyJOb2RlU2VsZWN0aW9uIl0obiksInBvaW50ZXIiKSwhMCl9ZnVuY3Rpb24gSmUodCxlKXtpZigtMT09ZSlyZXR1cm4hMTt2YXIgbixyLG89dC5zdGF0ZS5zZWxlY3Rpb247byBpbnN0YW5jZW9mIHNbIk5vZGVTZWxlY3Rpb24iXSYmKG49by5ub2RlKTtmb3IodmFyIGk9dC5zdGF0ZS5kb2MucmVzb2x2ZShlKSxhPWkuZGVwdGgrMTthPjA7YS0tKXt2YXIgYz1hPmkuZGVwdGg/aS5ub2RlQWZ0ZXI6aS5ub2RlKGEpO2lmKHNbIk5vZGVTZWxlY3Rpb24iXS5pc1NlbGVjdGFibGUoYykpe3I9biYmby4kZnJvbS5kZXB0aD4wJiZhPj1vLiRmcm9tLmRlcHRoJiZpLmJlZm9yZShvLiRmcm9tLmRlcHRoKzEpPT1vLiRmcm9tLnBvcz9pLmJlZm9yZShvLiRmcm9tLmRlcHRoKTppLmJlZm9yZShhKTticmVha319cmV0dXJuIG51bGwhPXImJihXZSh0LHNbIk5vZGVTZWxlY3Rpb24iXS5jcmVhdGUodC5zdGF0ZS5kb2MsciksInBvaW50ZXIiKSwhMCl9ZnVuY3Rpb24gS2UodCxlLG4scixvKXtyZXR1cm4gSGUodCwiaGFuZGxlQ2xpY2tPbiIsZSxuLHIpfHx0LnNvbWVQcm9wKCJoYW5kbGVDbGljayIsKGZ1bmN0aW9uKG4pe3JldHVybiBuKHQsZSxyKX0pKXx8KG8/SmUodCxuKTpxZSh0LG4pKX1mdW5jdGlvbiBVZSh0LGUsbixyKXtyZXR1cm4gSGUodCwiaGFuZGxlRG91YmxlQ2xpY2tPbiIsZSxuLHIpfHx0LnNvbWVQcm9wKCJoYW5kbGVEb3VibGVDbGljayIsKGZ1bmN0aW9uKG4pe3JldHVybiBuKHQsZSxyKX0pKX1mdW5jdGlvbiBHZSh0LGUsbixyKXtyZXR1cm4gSGUodCwiaGFuZGxlVHJpcGxlQ2xpY2tPbiIsZSxuLHIpfHx0LnNvbWVQcm9wKCJoYW5kbGVUcmlwbGVDbGljayIsKGZ1bmN0aW9uKG4pe3JldHVybiBuKHQsZSxyKX0pKXx8WGUodCxuKX1mdW5jdGlvbiBYZSh0LGUpe3ZhciBuPXQuc3RhdGUuZG9jO2lmKC0xPT1lKXJldHVybiEhbi5pbmxpbmVDb250ZW50JiYoV2UodCxzWyJUZXh0U2VsZWN0aW9uIl0uY3JlYXRlKG4sMCxuLmNvbnRlbnQuc2l6ZSksInBvaW50ZXIiKSwhMCk7Zm9yKHZhciByPW4ucmVzb2x2ZShlKSxvPXIuZGVwdGgrMTtvPjA7by0tKXt2YXIgaT1vPnIuZGVwdGg/ci5ub2RlQWZ0ZXI6ci5ub2RlKG8pLGE9ci5iZWZvcmUobyk7aWYoaS5pbmxpbmVDb250ZW50KVdlKHQsc1siVGV4dFNlbGVjdGlvbiJdLmNyZWF0ZShuLGErMSxhKzEraS5jb250ZW50LnNpemUpLCJwb2ludGVyIik7ZWxzZXtpZighc1siTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZShpKSljb250aW51ZTtXZSh0LHNbIk5vZGVTZWxlY3Rpb24iXS5jcmVhdGUobixhKSwicG9pbnRlciIpfXJldHVybiEwfX1mdW5jdGlvbiBZZSh0KXtyZXR1cm4gcm4odCl9X2Uua2V5ZG93bj1mdW5jdGlvbih0LGUpe3Quc2hpZnRLZXk9MTY9PWUua2V5Q29kZXx8ZS5zaGlmdEtleSx0bih0LGUpfHwodC5sYXN0S2V5Q29kZT1lLmtleUNvZGUsdC5sYXN0S2V5Q29kZVRpbWU9RGF0ZS5ub3coKSx0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlKX0pKXx8SnQodCxlKT9lLnByZXZlbnREZWZhdWx0KCk6emUodCwia2V5IikpfSxfZS5rZXl1cD1mdW5jdGlvbih0LGUpezE2PT1lLmtleUNvZGUmJih0LnNoaWZ0S2V5PSExKX0sX2Uua2V5cHJlc3M9ZnVuY3Rpb24odCxlKXtpZighKHRuKHQsZSl8fCFlLmNoYXJDb2RlfHxlLmN0cmxLZXkmJiFlLmFsdEtleXx8bC5tYWMmJmUubWV0YUtleSkpaWYodC5zb21lUHJvcCgiaGFuZGxlS2V5UHJlc3MiLChmdW5jdGlvbihuKXtyZXR1cm4gbih0LGUpfSkpKWUucHJldmVudERlZmF1bHQoKTtlbHNle3ZhciBuPXQuc3RhdGUuc2VsZWN0aW9uO2lmKCEobiBpbnN0YW5jZW9mIHNbIlRleHRTZWxlY3Rpb24iXSl8fCFuLiRmcm9tLnNhbWVQYXJlbnQobi4kdG8pKXt2YXIgcj1TdHJpbmcuZnJvbUNoYXJDb2RlKGUuY2hhckNvZGUpO3Quc29tZVByb3AoImhhbmRsZVRleHRJbnB1dCIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQsbi4kZnJvbS5wb3Msbi4kdG8ucG9zLHIpfSkpfHx0LmRpc3BhdGNoKHQuc3RhdGUudHIuaW5zZXJ0VGV4dChyKS5zY3JvbGxJbnRvVmlldygpKSxlLnByZXZlbnREZWZhdWx0KCl9fX07dmFyIFplPWwubWFjPyJtZXRhS2V5IjoiY3RybEtleSI7UmUubW91c2Vkb3duPWZ1bmN0aW9uKHQsZSl7dC5zaGlmdEtleT1lLnNoaWZ0S2V5O3ZhciBuPVllKHQpLHI9RGF0ZS5ub3coKSxvPSJzaW5nbGVDbGljayI7ci10Lmxhc3RDbGljay50aW1lPDUwMCYmTGUoZSx0Lmxhc3RDbGljaykmJiFlW1plXSYmKCJzaW5nbGVDbGljayI9PXQubGFzdENsaWNrLnR5cGU/bz0iZG91YmxlQ2xpY2siOiJkb3VibGVDbGljayI9PXQubGFzdENsaWNrLnR5cGUmJihvPSJ0cmlwbGVDbGljayIpKSx0Lmxhc3RDbGljaz17dGltZTpyLHg6ZS5jbGllbnRYLHk6ZS5jbGllbnRZLHR5cGU6b307dmFyIGk9dC5wb3NBdENvb3JkcygkZShlKSk7aSYmKCJzaW5nbGVDbGljayI9PW8/dC5tb3VzZURvd249bmV3IFFlKHQsaSxlLG4pOigiZG91YmxlQ2xpY2siPT1vP1VlOkdlKSh0LGkucG9zLGkuaW5zaWRlLGUpP2UucHJldmVudERlZmF1bHQoKTp6ZSh0LCJwb2ludGVyIikpfTt2YXIgUWU9ZnVuY3Rpb24odCxlLG4scil7dmFyIG8saSxhPXRoaXM7aWYodGhpcy52aWV3PXQsdGhpcy5zdGFydERvYz10LnN0YXRlLmRvYyx0aGlzLnBvcz1lLHRoaXMuZXZlbnQ9bix0aGlzLmZsdXNoZWQ9cix0aGlzLnNlbGVjdE5vZGU9bltaZV0sdGhpcy5hbGxvd0RlZmF1bHQ9bi5zaGlmdEtleSxlLmluc2lkZT4tMSlvPXQuc3RhdGUuZG9jLm5vZGVBdChlLmluc2lkZSksaT1lLmluc2lkZTtlbHNle3ZhciBjPXQuc3RhdGUuZG9jLnJlc29sdmUoZS5wb3MpO289Yy5wYXJlbnQsaT1jLmRlcHRoP2MuYmVmb3JlKCk6MH10aGlzLm1pZ2h0RHJhZz1udWxsO3ZhciB1PXI/bnVsbDpuLnRhcmdldCxwPXU/dC5kb2NWaWV3Lm5lYXJlc3REZXNjKHUsITApOm51bGw7dGhpcy50YXJnZXQ9cD9wLmRvbTpudWxsLChvLnR5cGUuc3BlYy5kcmFnZ2FibGUmJiExIT09by50eXBlLnNwZWMuc2VsZWN0YWJsZXx8dC5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBzWyJOb2RlU2VsZWN0aW9uIl0mJmk9PXQuc3RhdGUuc2VsZWN0aW9uLmZyb20pJiYodGhpcy5taWdodERyYWc9e25vZGU6byxwb3M6aSxhZGRBdHRyOnRoaXMudGFyZ2V0JiYhdGhpcy50YXJnZXQuZHJhZ2dhYmxlLHNldFVuZWRpdGFibGU6dGhpcy50YXJnZXQmJmwuZ2Vja28mJiF0aGlzLnRhcmdldC5oYXNBdHRyaWJ1dGUoImNvbnRlbnRFZGl0YWJsZSIpfSksdGhpcy50YXJnZXQmJnRoaXMubWlnaHREcmFnJiYodGhpcy5taWdodERyYWcuYWRkQXR0cnx8dGhpcy5taWdodERyYWcuc2V0VW5lZGl0YWJsZSkmJih0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RvcCgpLHRoaXMubWlnaHREcmFnLmFkZEF0dHImJih0aGlzLnRhcmdldC5kcmFnZ2FibGU9ITApLHRoaXMubWlnaHREcmFnLnNldFVuZWRpdGFibGUmJnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGEudGFyZ2V0LnNldEF0dHJpYnV0ZSgiY29udGVudEVkaXRhYmxlIiwiZmFsc2UiKX0pLDIwKSx0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RhcnQoKSksdC5yb290LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLHRoaXMudXA9dGhpcy51cC5iaW5kKHRoaXMpKSx0LnJvb3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIix0aGlzLm1vdmU9dGhpcy5tb3ZlLmJpbmQodGhpcykpLHplKHQsInBvaW50ZXIiKX07ZnVuY3Rpb24gdG4odCxlKXtyZXR1cm4hIXQuY29tcG9zaW5nfHwhIShsLnNhZmFyaSYmTWF0aC5hYnMoZS50aW1lU3RhbXAtdC5jb21wb3NpdGlvbkVuZGVkQXQpPDUwMCkmJih0LmNvbXBvc2l0aW9uRW5kZWRBdD0tMmU4LCEwKX1RZS5wcm90b3R5cGUuZG9uZT1mdW5jdGlvbigpe3RoaXMudmlldy5yb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLHRoaXMudXApLHRoaXMudmlldy5yb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsdGhpcy5tb3ZlKSx0aGlzLm1pZ2h0RHJhZyYmdGhpcy50YXJnZXQmJih0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RvcCgpLHRoaXMubWlnaHREcmFnLmFkZEF0dHImJih0aGlzLnRhcmdldC5kcmFnZ2FibGU9ITEpLHRoaXMubWlnaHREcmFnLnNldFVuZWRpdGFibGUmJnRoaXMudGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZSgiY29udGVudEVkaXRhYmxlIiksdGhpcy52aWV3LmRvbU9ic2VydmVyLnN0YXJ0KCkpLHRoaXMudmlldy5tb3VzZURvd249bnVsbH0sUWUucHJvdG90eXBlLnVwPWZ1bmN0aW9uKHQpe2lmKHRoaXMuZG9uZSgpLHRoaXMudmlldy5kb20uY29udGFpbnMoMz09dC50YXJnZXQubm9kZVR5cGU/dC50YXJnZXQucGFyZW50Tm9kZTp0LnRhcmdldCkpe3ZhciBlPXRoaXMucG9zO3RoaXMudmlldy5zdGF0ZS5kb2MhPXRoaXMuc3RhcnREb2MmJihlPXRoaXMudmlldy5wb3NBdENvb3JkcygkZSh0KSkpLHRoaXMuYWxsb3dEZWZhdWx0fHwhZT96ZSh0aGlzLnZpZXcsInBvaW50ZXIiKTpLZSh0aGlzLnZpZXcsZS5wb3MsZS5pbnNpZGUsdCx0aGlzLnNlbGVjdE5vZGUpP3QucHJldmVudERlZmF1bHQoKTohdGhpcy5mbHVzaGVkJiYoIWwuY2hyb21lfHx0aGlzLnZpZXcuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2Ygc1siVGV4dFNlbGVjdGlvbiJdfHxlLnBvcyE9dGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbi5mcm9tJiZlLnBvcyE9dGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbi50byk/emUodGhpcy52aWV3LCJwb2ludGVyIik6KFdlKHRoaXMudmlldyxzWyJTZWxlY3Rpb24iXS5uZWFyKHRoaXMudmlldy5zdGF0ZS5kb2MucmVzb2x2ZShlLnBvcykpLCJwb2ludGVyIiksdC5wcmV2ZW50RGVmYXVsdCgpKX19LFFlLnByb3RvdHlwZS5tb3ZlPWZ1bmN0aW9uKHQpeyF0aGlzLmFsbG93RGVmYXVsdCYmKE1hdGguYWJzKHRoaXMuZXZlbnQueC10LmNsaWVudFgpPjR8fE1hdGguYWJzKHRoaXMuZXZlbnQueS10LmNsaWVudFkpPjQpJiYodGhpcy5hbGxvd0RlZmF1bHQ9ITApLHplKHRoaXMudmlldywicG9pbnRlciIpfSxSZS50b3VjaGRvd249ZnVuY3Rpb24odCl7WWUodCksemUodCwicG9pbnRlciIpfSxSZS5jb250ZXh0bWVudT1mdW5jdGlvbih0KXtyZXR1cm4gWWUodCl9O3ZhciBlbj1sLmFuZHJvaWQ/NWUzOi0xO2Z1bmN0aW9uIG5uKHQsZSl7Y2xlYXJUaW1lb3V0KHQuY29tcG9zaW5nVGltZW91dCksZT4tMSYmKHQuY29tcG9zaW5nVGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBybih0KX0pLGUpKX1mdW5jdGlvbiBybih0LGUpe3QuY29tcG9zaW5nPSExO3doaWxlKHQuY29tcG9zaXRpb25Ob2Rlcy5sZW5ndGg+MCl0LmNvbXBvc2l0aW9uTm9kZXMucG9wKCkubWFya1BhcmVudHNEaXJ0eSgpO3JldHVybiEoIWUmJiF0LmRvY1ZpZXcuZGlydHkpJiYodC51cGRhdGVTdGF0ZSh0LnN0YXRlKSwhMCl9ZnVuY3Rpb24gb24odCxlKXt2YXIgbj10LmRvbS5vd25lckRvY3VtZW50LHI9bi5ib2R5LmFwcGVuZENoaWxkKG4uY3JlYXRlRWxlbWVudCgiZGl2IikpO3IuYXBwZW5kQ2hpbGQoZSksci5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6IC0xMDAwMHB4OyB0b3A6IDEwcHgiO3ZhciBvPWdldFNlbGVjdGlvbigpLGk9bi5jcmVhdGVSYW5nZSgpO2kuc2VsZWN0Tm9kZUNvbnRlbnRzKGUpLHQuZG9tLmJsdXIoKSxvLnJlbW92ZUFsbFJhbmdlcygpLG8uYWRkUmFuZ2UoaSksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtuLmJvZHkucmVtb3ZlQ2hpbGQociksdC5mb2N1cygpfSksNTApfV9lLmNvbXBvc2l0aW9uc3RhcnQ9X2UuY29tcG9zaXRpb251cGRhdGU9ZnVuY3Rpb24odCl7aWYoIXQuY29tcG9zaW5nKXt0LmRvbU9ic2VydmVyLmZsdXNoKCk7dmFyIGU9dC5zdGF0ZSxuPWUuc2VsZWN0aW9uLiRmcm9tO2lmKGUuc2VsZWN0aW9uLmVtcHR5JiYoZS5zdG9yZWRNYXJrc3x8IW4udGV4dE9mZnNldCYmbi5wYXJlbnRPZmZzZXQmJm4ubm9kZUJlZm9yZS5tYXJrcy5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4hMT09PXQudHlwZS5zcGVjLmluY2x1c2l2ZX0pKSkpdC5tYXJrQ3Vyc29yPXQuc3RhdGUuc3RvcmVkTWFya3N8fG4ubWFya3MoKSxybih0LCEwKSx0Lm1hcmtDdXJzb3I9bnVsbDtlbHNlIGlmKHJuKHQpLGwuZ2Vja28mJmUuc2VsZWN0aW9uLmVtcHR5JiZuLnBhcmVudE9mZnNldCYmIW4udGV4dE9mZnNldCYmbi5ub2RlQmVmb3JlLm1hcmtzLmxlbmd0aClmb3IodmFyIHI9dC5yb290LmdldFNlbGVjdGlvbigpLG89ci5mb2N1c05vZGUsaT1yLmZvY3VzT2Zmc2V0O28mJjE9PW8ubm9kZVR5cGUmJjAhPWk7KXt2YXIgcz1pPDA/by5sYXN0Q2hpbGQ6by5jaGlsZE5vZGVzW2ktMV07aWYoMz09cy5ub2RlVHlwZSl7ci5jb2xsYXBzZShzLHMubm9kZVZhbHVlLmxlbmd0aCk7YnJlYWt9bz1zLGk9LTF9dC5jb21wb3Npbmc9ITB9bm4odCxlbil9LF9lLmNvbXBvc2l0aW9uZW5kPWZ1bmN0aW9uKHQsZSl7dC5jb21wb3NpbmcmJih0LmNvbXBvc2luZz0hMSx0LmNvbXBvc2l0aW9uRW5kZWRBdD1lLnRpbWVTdGFtcCxubih0LDIwKSl9O3ZhciBzbj1sLmllJiZsLmllX3ZlcnNpb248MTV8fGwuaW9zJiZsLndlYmtpdF92ZXJzaW9uPDYwNDtmdW5jdGlvbiBhbih0KXtyZXR1cm4gMD09dC5vcGVuU3RhcnQmJjA9PXQub3BlbkVuZCYmMT09dC5jb250ZW50LmNoaWxkQ291bnQ/dC5jb250ZW50LmZpcnN0Q2hpbGQ6bnVsbH1mdW5jdGlvbiBjbih0LGUpe3ZhciBuPXQuZG9tLm93bmVyRG9jdW1lbnQscj10LnNoaWZ0S2V5fHx0LnN0YXRlLnNlbGVjdGlvbi4kZnJvbS5wYXJlbnQudHlwZS5zcGVjLmNvZGUsbz1uLmJvZHkuYXBwZW5kQ2hpbGQobi5jcmVhdGVFbGVtZW50KHI/InRleHRhcmVhIjoiZGl2IikpO3J8fChvLmNvbnRlbnRFZGl0YWJsZT0idHJ1ZSIpLG8uc3R5bGUuY3NzVGV4dD0icG9zaXRpb246IGZpeGVkOyBsZWZ0OiAtMTAwMDBweDsgdG9wOiAxMHB4IixvLmZvY3VzKCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmZvY3VzKCksbi5ib2R5LnJlbW92ZUNoaWxkKG8pLHI/bG4odCxvLnZhbHVlLG51bGwsZSk6bG4odCxvLnRleHRDb250ZW50LG8uaW5uZXJIVE1MLGUpfSksNTApfWZ1bmN0aW9uIGxuKHQsZSxuLHIpe3ZhciBvPWhlKHQsZSxuLHQuc2hpZnRLZXksdC5zdGF0ZS5zZWxlY3Rpb24uJGZyb20pO2lmKCF0LnNvbWVQcm9wKCJoYW5kbGVQYXN0ZSIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQscixvfHxhWyJTbGljZSJdLmVtcHR5KX0pKSYmbyl7dmFyIGk9YW4obykscz1pP3Quc3RhdGUudHIucmVwbGFjZVNlbGVjdGlvbldpdGgoaSx0LnNoaWZ0S2V5KTp0LnN0YXRlLnRyLnJlcGxhY2VTZWxlY3Rpb24obyk7dC5kaXNwYXRjaChzLnNjcm9sbEludG9WaWV3KCkuc2V0TWV0YSgicGFzdGUiLCEwKS5zZXRNZXRhKCJ1aUV2ZW50IiwicGFzdGUiKSl9fVJlLmNvcHk9X2UuY3V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5zdGF0ZS5zZWxlY3Rpb24scj0iY3V0Ij09ZS50eXBlO2lmKCFuLmVtcHR5KXt2YXIgbz1zbj9udWxsOmUuY2xpcGJvYXJkRGF0YSxpPW4uY29udGVudCgpLHM9ZGUodCxpKSxhPXMuZG9tLGM9cy50ZXh0O28/KGUucHJldmVudERlZmF1bHQoKSxvLmNsZWFyRGF0YSgpLG8uc2V0RGF0YSgidGV4dC9odG1sIixhLmlubmVySFRNTCksby5zZXREYXRhKCJ0ZXh0L3BsYWluIixjKSk6b24odCxhKSxyJiZ0LmRpc3BhdGNoKHQuc3RhdGUudHIuZGVsZXRlU2VsZWN0aW9uKCkuc2Nyb2xsSW50b1ZpZXcoKS5zZXRNZXRhKCJ1aUV2ZW50IiwiY3V0IikpfX0sX2UucGFzdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj1zbj9udWxsOmUuY2xpcGJvYXJkRGF0YSxyPW4mJm4uZ2V0RGF0YSgidGV4dC9odG1sIiksbz1uJiZuLmdldERhdGEoInRleHQvcGxhaW4iKTtuJiYocnx8b3x8bi5maWxlcy5sZW5ndGgpPyhsbih0LG8scixlKSxlLnByZXZlbnREZWZhdWx0KCkpOmNuKHQsZSl9O3ZhciB1bj1mdW5jdGlvbih0LGUpe3RoaXMuc2xpY2U9dCx0aGlzLm1vdmU9ZX0scG49bC5tYWM/ImFsdEtleSI6ImN0cmxLZXkiO2Zvcih2YXIgZm4gaW4gUmUuZHJhZ3N0YXJ0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5tb3VzZURvd247aWYobiYmbi5kb25lKCksZS5kYXRhVHJhbnNmZXIpe3ZhciByPXQuc3RhdGUuc2VsZWN0aW9uLG89ci5lbXB0eT9udWxsOnQucG9zQXRDb29yZHMoJGUoZSkpO2lmKG8mJm8ucG9zPj1yLmZyb20mJm8ucG9zPD0ociBpbnN0YW5jZW9mIHNbIk5vZGVTZWxlY3Rpb24iXT9yLnRvLTE6ci50bykpO2Vsc2UgaWYobiYmbi5taWdodERyYWcpdC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldFNlbGVjdGlvbihzWyJOb2RlU2VsZWN0aW9uIl0uY3JlYXRlKHQuc3RhdGUuZG9jLG4ubWlnaHREcmFnLnBvcykpKTtlbHNlIGlmKGUudGFyZ2V0JiYxPT1lLnRhcmdldC5ub2RlVHlwZSl7dmFyIGk9dC5kb2NWaWV3Lm5lYXJlc3REZXNjKGUudGFyZ2V0LCEwKTtpZighaXx8IWkubm9kZS50eXBlLnNwZWMuZHJhZ2dhYmxlfHxpPT10LmRvY1ZpZXcpcmV0dXJuO3QuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oc1siTm9kZVNlbGVjdGlvbiJdLmNyZWF0ZSh0LnN0YXRlLmRvYyxpLnBvc0JlZm9yZSkpKX12YXIgYT10LnN0YXRlLnNlbGVjdGlvbi5jb250ZW50KCksYz1kZSh0LGEpLGw9Yy5kb20sdT1jLnRleHQ7ZS5kYXRhVHJhbnNmZXIuY2xlYXJEYXRhKCksZS5kYXRhVHJhbnNmZXIuc2V0RGF0YShzbj8iVGV4dCI6InRleHQvaHRtbCIsbC5pbm5lckhUTUwpLHNufHxlLmRhdGFUcmFuc2Zlci5zZXREYXRhKCJ0ZXh0L3BsYWluIix1KSx0LmRyYWdnaW5nPW5ldyB1bihhLCFlW3BuXSl9fSxSZS5kcmFnZW5kPWZ1bmN0aW9uKHQpe3dpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0LmRyYWdnaW5nPW51bGx9KSw1MCl9LF9lLmRyYWdvdmVyPV9lLmRyYWdlbnRlcj1mdW5jdGlvbih0LGUpe3JldHVybiBlLnByZXZlbnREZWZhdWx0KCl9LF9lLmRyb3A9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmRyYWdnaW5nO2lmKHQuZHJhZ2dpbmc9bnVsbCxlLmRhdGFUcmFuc2Zlcil7dmFyIHI9dC5wb3NBdENvb3JkcygkZShlKSk7aWYocil7dmFyIG89dC5zdGF0ZS5kb2MucmVzb2x2ZShyLnBvcyk7aWYobyl7dmFyIGk9biYmbi5zbGljZXx8aGUodCxlLmRhdGFUcmFuc2Zlci5nZXREYXRhKHNuPyJUZXh0IjoidGV4dC9wbGFpbiIpLHNuP251bGw6ZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgidGV4dC9odG1sIiksITEsbyk7aWYoaSYmKGUucHJldmVudERlZmF1bHQoKSwhdC5zb21lUHJvcCgiaGFuZGxlRHJvcCIsKGZ1bmN0aW9uKHIpe3JldHVybiByKHQsZSxpLG4mJm4ubW92ZSl9KSkpKXt2YXIgYT1pP09iamVjdChjWyJnIl0pKHQuc3RhdGUuZG9jLG8ucG9zLGkpOm8ucG9zO251bGw9PWEmJihhPW8ucG9zKTt2YXIgbD10LnN0YXRlLnRyO24mJm4ubW92ZSYmbC5kZWxldGVTZWxlY3Rpb24oKTt2YXIgdT1sLm1hcHBpbmcubWFwKGEpLHA9MD09aS5vcGVuU3RhcnQmJjA9PWkub3BlbkVuZCYmMT09aS5jb250ZW50LmNoaWxkQ291bnQsZj1sLmRvYztpZihwP2wucmVwbGFjZVJhbmdlV2l0aCh1LHUsaS5jb250ZW50LmZpcnN0Q2hpbGQpOmwucmVwbGFjZVJhbmdlKHUsdSxpKSwhbC5kb2MuZXEoZikpe3ZhciBkPWwuZG9jLnJlc29sdmUodSk7cCYmc1siTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZShpLmNvbnRlbnQuZmlyc3RDaGlsZCkmJmQubm9kZUFmdGVyJiZkLm5vZGVBZnRlci5zYW1lTWFya3VwKGkuY29udGVudC5maXJzdENoaWxkKT9sLnNldFNlbGVjdGlvbihuZXcgc1siTm9kZVNlbGVjdGlvbiJdKGQpKTpsLnNldFNlbGVjdGlvbihlZSh0LGQsbC5kb2MucmVzb2x2ZShsLm1hcHBpbmcubWFwKGEpKSkpLHQuZm9jdXMoKSx0LmRpc3BhdGNoKGwuc2V0TWV0YSgidWlFdmVudCIsImRyb3AiKSl9fX19fX0sUmUuZm9jdXM9ZnVuY3Rpb24odCl7dC5mb2N1c2VkfHwodC5kb21PYnNlcnZlci5zdG9wKCksdC5kb20uY2xhc3NMaXN0LmFkZCgiUHJvc2VNaXJyb3ItZm9jdXNlZCIpLHQuZG9tT2JzZXJ2ZXIuc3RhcnQoKSx0LmZvY3VzZWQ9ITApfSxSZS5ibHVyPWZ1bmN0aW9uKHQpe3QuZm9jdXNlZCYmKHQuZG9tT2JzZXJ2ZXIuc3RvcCgpLHQuZG9tLmNsYXNzTGlzdC5yZW1vdmUoIlByb3NlTWlycm9yLWZvY3VzZWQiKSx0LmRvbU9ic2VydmVyLnN0YXJ0KCksdC5kb21PYnNlcnZlci5jdXJyZW50U2VsZWN0aW9uLnNldCh7fSksdC5mb2N1c2VkPSExKX0sUmUuYmVmb3JlaW5wdXQ9ZnVuY3Rpb24odCxlKXtpZihsLmNocm9tZSYmbC5hbmRyb2lkJiYiZGVsZXRlQ29udGVudEJhY2t3YXJkIj09ZS5pbnB1dFR5cGUpe3ZhciBuPXQuZG9tQ2hhbmdlQ291bnQ7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtpZih0LmRvbUNoYW5nZUNvdW50PT1uJiYodC5kb20uYmx1cigpLHQuZm9jdXMoKSwhdC5zb21lUHJvcCgiaGFuZGxlS2V5RG93biIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQsQyg4LCJCYWNrc3BhY2UiKSl9KSkpKXt2YXIgZT10LnN0YXRlLnNlbGVjdGlvbixyPWUuJGN1cnNvcjtyJiZyLnBvcz4wJiZ0LmRpc3BhdGNoKHQuc3RhdGUudHIuZGVsZXRlKHIucG9zLTEsci5wb3MpLnNjcm9sbEludG9WaWV3KCkpfX0pLDUwKX19LF9lKVJlW2ZuXT1fZVtmbl07ZnVuY3Rpb24gZG4odCxlKXtpZih0PT1lKXJldHVybiEwO2Zvcih2YXIgbiBpbiB0KWlmKHRbbl0hPT1lW25dKXJldHVybiExO2Zvcih2YXIgciBpbiBlKWlmKCEociBpbiB0KSlyZXR1cm4hMTtyZXR1cm4hMH12YXIgaG49ZnVuY3Rpb24odCxlKXt0aGlzLnNwZWM9ZXx8Ym4sdGhpcy5zaWRlPXRoaXMuc3BlYy5zaWRlfHwwLHRoaXMudG9ET009dH07aG4ucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10Lm1hcFJlc3VsdChlLmZyb20rcix0aGlzLnNpZGU8MD8tMToxKSxpPW8ucG9zLHM9by5kZWxldGVkO3JldHVybiBzP251bGw6bmV3IGduKGktbixpLW4sdGhpcyl9LGhuLnByb3RvdHlwZS52YWxpZD1mdW5jdGlvbigpe3JldHVybiEwfSxobi5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PXR8fHQgaW5zdGFuY2VvZiBobiYmKHRoaXMuc3BlYy5rZXkmJnRoaXMuc3BlYy5rZXk9PXQuc3BlYy5rZXl8fHRoaXMudG9ET009PXQudG9ET00mJmRuKHRoaXMuc3BlYyx0LnNwZWMpKX07dmFyIHZuPWZ1bmN0aW9uKHQsZSl7dGhpcy5zcGVjPWV8fGJuLHRoaXMuYXR0cnM9dH07dm4ucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10Lm1hcChlLmZyb20rcix0aGlzLnNwZWMuaW5jbHVzaXZlU3RhcnQ/LTE6MSktbixpPXQubWFwKGUudG8rcix0aGlzLnNwZWMuaW5jbHVzaXZlRW5kPzE6LTEpLW47cmV0dXJuIG8+PWk/bnVsbDpuZXcgZ24obyxpLHRoaXMpfSx2bi5wcm90b3R5cGUudmFsaWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5mcm9tPGUudG99LHZuLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09dHx8dCBpbnN0YW5jZW9mIHZuJiZkbih0aGlzLmF0dHJzLHQuYXR0cnMpJiZkbih0aGlzLnNwZWMsdC5zcGVjKX0sdm4uaXM9ZnVuY3Rpb24odCl7cmV0dXJuIHQudHlwZSBpbnN0YW5jZW9mIHZufTt2YXIgbW49ZnVuY3Rpb24odCxlKXt0aGlzLnNwZWM9ZXx8Ym4sdGhpcy5hdHRycz10fTttbi5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQubWFwUmVzdWx0KGUuZnJvbStyLDEpO2lmKG8uZGVsZXRlZClyZXR1cm4gbnVsbDt2YXIgaT10Lm1hcFJlc3VsdChlLnRvK3IsLTEpO3JldHVybiBpLmRlbGV0ZWR8fGkucG9zPD1vLnBvcz9udWxsOm5ldyBnbihvLnBvcy1uLGkucG9zLW4sdGhpcyl9LG1uLnByb3RvdHlwZS52YWxpZD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuY29udGVudC5maW5kSW5kZXgoZS5mcm9tKSxyPW4uaW5kZXgsbz1uLm9mZnNldDtyZXR1cm4gbz09ZS5mcm9tJiZvK3QuY2hpbGQocikubm9kZVNpemU9PWUudG99LG1uLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09dHx8dCBpbnN0YW5jZW9mIG1uJiZkbih0aGlzLmF0dHJzLHQuYXR0cnMpJiZkbih0aGlzLnNwZWMsdC5zcGVjKX07dmFyIGduPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmZyb209dCx0aGlzLnRvPWUsdGhpcy50eXBlPW59LHluPXtzcGVjOntjb25maWd1cmFibGU6ITB9fTtnbi5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgZ24odCxlLHRoaXMudHlwZSl9LGduLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50eXBlLmVxKHQudHlwZSkmJnRoaXMuZnJvbT09dC5mcm9tJiZ0aGlzLnRvPT10LnRvfSxnbi5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy50eXBlLm1hcCh0LHRoaXMsZSxuKX0sZ24ud2lkZ2V0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IGduKHQsdCxuZXcgaG4oZSxuKSl9LGduLmlubGluZT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gbmV3IGduKHQsZSxuZXcgdm4obixyKSl9LGduLm5vZGU9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIG5ldyBnbih0LGUsbmV3IG1uKG4scikpfSx5bi5zcGVjLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUuc3BlY30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZ24ucHJvdG90eXBlLHluKTt2YXIgd249W10sYm49e30sU249ZnVuY3Rpb24odCxlKXt0aGlzLmxvY2FsPXQmJnQubGVuZ3RoP3Q6d24sdGhpcy5jaGlsZHJlbj1lJiZlLmxlbmd0aD9lOndufTtTbi5jcmVhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5sZW5ndGg/RG4oZSx0LDAsYm4pOmtufSxTbi5wcm90b3R5cGUuZmluZD1mdW5jdGlvbih0LGUsbil7dmFyIHI9W107cmV0dXJuIHRoaXMuZmluZElubmVyKG51bGw9PXQ/MDp0LG51bGw9PWU/MWU5OmUsciwwLG4pLHJ9LFNuLnByb3RvdHlwZS5maW5kSW5uZXI9ZnVuY3Rpb24odCxlLG4scixvKXtmb3IodmFyIGk9MDtpPHRoaXMubG9jYWwubGVuZ3RoO2krKyl7dmFyIHM9dGhpcy5sb2NhbFtpXTtzLmZyb208PWUmJnMudG8+PXQmJighb3x8byhzLnNwZWMpKSYmbi5wdXNoKHMuY29weShzLmZyb20rcixzLnRvK3IpKX1mb3IodmFyIGE9MDthPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2ErPTMpaWYodGhpcy5jaGlsZHJlblthXTxlJiZ0aGlzLmNoaWxkcmVuW2ErMV0+dCl7dmFyIGM9dGhpcy5jaGlsZHJlblthXSsxO3RoaXMuY2hpbGRyZW5bYSsyXS5maW5kSW5uZXIodC1jLGUtYyxuLHIrYyxvKX19LFNuLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzPT1rbnx8MD09dC5tYXBzLmxlbmd0aD90aGlzOnRoaXMubWFwSW5uZXIodCxlLDAsMCxufHxibil9LFNuLnByb3RvdHlwZS5tYXBJbm5lcj1mdW5jdGlvbih0LGUsbixyLG8pe2Zvcih2YXIgaSxzPTA7czx0aGlzLmxvY2FsLmxlbmd0aDtzKyspe3ZhciBhPXRoaXMubG9jYWxbc10ubWFwKHQsbixyKTthJiZhLnR5cGUudmFsaWQoZSxhKT8oaXx8KGk9W10pKS5wdXNoKGEpOm8ub25SZW1vdmUmJm8ub25SZW1vdmUodGhpcy5sb2NhbFtzXS5zcGVjKX1yZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGg/Q24odGhpcy5jaGlsZHJlbixpLHQsZSxuLHIsbyk6aT9uZXcgU24oaS5zb3J0KEFuKSk6a259LFNuLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5sZW5ndGg/dGhpcz09a24/U24uY3JlYXRlKHQsZSk6dGhpcy5hZGRJbm5lcih0LGUsMCk6dGhpc30sU24ucHJvdG90eXBlLmFkZElubmVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixvPXRoaXMsaT0wO3QuZm9yRWFjaCgoZnVuY3Rpb24odCxzKXt2YXIgYSxjPXMrbjtpZihhPU5uKGUsdCxjKSl7cnx8KHI9by5jaGlsZHJlbi5zbGljZSgpKTt3aGlsZShpPHIubGVuZ3RoJiZyW2ldPHMpaSs9MztyW2ldPT1zP3JbaSsyXT1yW2krMl0uYWRkSW5uZXIodCxhLGMrMSk6ci5zcGxpY2UoaSwwLHMscyt0Lm5vZGVTaXplLERuKGEsdCxjKzEsYm4pKSxpKz0zfX0pKTt2YXIgcz1PbihpP1RuKGUpOmUsLW4pO3JldHVybiBuZXcgU24ocy5sZW5ndGg/dGhpcy5sb2NhbC5jb25jYXQocykuc29ydChBbik6dGhpcy5sb2NhbCxyfHx0aGlzLmNoaWxkcmVuKX0sU24ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXtyZXR1cm4gMD09dC5sZW5ndGh8fHRoaXM9PWtuP3RoaXM6dGhpcy5yZW1vdmVJbm5lcih0LDApfSxTbi5wcm90b3R5cGUucmVtb3ZlSW5uZXI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5jaGlsZHJlbixyPXRoaXMubG9jYWwsbz0wO288bi5sZW5ndGg7bys9Myl7Zm9yKHZhciBpPXZvaWQgMCxzPW5bb10rZSxhPW5bbysxXStlLGM9MCxsPXZvaWQgMDtjPHQubGVuZ3RoO2MrKykobD10W2NdKSYmbC5mcm9tPnMmJmwudG88YSYmKHRbY109bnVsbCwoaXx8KGk9W10pKS5wdXNoKGwpKTtpZihpKXtuPT10aGlzLmNoaWxkcmVuJiYobj10aGlzLmNoaWxkcmVuLnNsaWNlKCkpO3ZhciB1PW5bbysyXS5yZW1vdmVJbm5lcihpLHMrMSk7dSE9a24/bltvKzJdPXU6KG4uc3BsaWNlKG8sMyksby09Myl9fWlmKHIubGVuZ3RoKWZvcih2YXIgcD0wLGY9dm9pZCAwO3A8dC5sZW5ndGg7cCsrKWlmKGY9dFtwXSlmb3IodmFyIGQ9MDtkPHIubGVuZ3RoO2QrKylyW2RdLnR5cGUuZXEoZi50eXBlKSYmKHI9PXRoaXMubG9jYWwmJihyPXRoaXMubG9jYWwuc2xpY2UoKSksci5zcGxpY2UoZC0tLDEpKTtyZXR1cm4gbj09dGhpcy5jaGlsZHJlbiYmcj09dGhpcy5sb2NhbD90aGlzOnIubGVuZ3RofHxuLmxlbmd0aD9uZXcgU24ocixuKTprbn0sU24ucHJvdG90eXBlLmZvckNoaWxkPWZ1bmN0aW9uKHQsZSl7aWYodGhpcz09a24pcmV0dXJuIHRoaXM7aWYoZS5pc0xlYWYpcmV0dXJuIFNuLmVtcHR5O2Zvcih2YXIgbixyLG89MDtvPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO28rPTMpaWYodGhpcy5jaGlsZHJlbltvXT49dCl7dGhpcy5jaGlsZHJlbltvXT09dCYmKG49dGhpcy5jaGlsZHJlbltvKzJdKTticmVha31mb3IodmFyIGk9dCsxLHM9aStlLmNvbnRlbnQuc2l6ZSxhPTA7YTx0aGlzLmxvY2FsLmxlbmd0aDthKyspe3ZhciBjPXRoaXMubG9jYWxbYV07aWYoYy5mcm9tPHMmJmMudG8+aSYmYy50eXBlIGluc3RhbmNlb2Ygdm4pe3ZhciBsPU1hdGgubWF4KGksYy5mcm9tKS1pLHU9TWF0aC5taW4ocyxjLnRvKS1pO2w8dSYmKHJ8fChyPVtdKSkucHVzaChjLmNvcHkobCx1KSl9fWlmKHIpe3ZhciBwPW5ldyBTbihyLnNvcnQoQW4pKTtyZXR1cm4gbj9uZXcgeG4oW3Asbl0pOnB9cmV0dXJuIG58fGtufSxTbi5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7aWYodGhpcz09dClyZXR1cm4hMDtpZighKHQgaW5zdGFuY2VvZiBTbil8fHRoaXMubG9jYWwubGVuZ3RoIT10LmxvY2FsLmxlbmd0aHx8dGhpcy5jaGlsZHJlbi5sZW5ndGghPXQuY2hpbGRyZW4ubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZT0wO2U8dGhpcy5sb2NhbC5sZW5ndGg7ZSsrKWlmKCF0aGlzLmxvY2FsW2VdLmVxKHQubG9jYWxbZV0pKXJldHVybiExO2Zvcih2YXIgbj0wO248dGhpcy5jaGlsZHJlbi5sZW5ndGg7bis9MylpZih0aGlzLmNoaWxkcmVuW25dIT10LmNoaWxkcmVuW25dfHx0aGlzLmNoaWxkcmVuW24rMV0hPXQuY2hpbGRyZW5bbisxXXx8IXRoaXMuY2hpbGRyZW5bbisyXS5lcSh0LmNoaWxkcmVuW24rMl0pKXJldHVybiExO3JldHVybiEwfSxTbi5wcm90b3R5cGUubG9jYWxzPWZ1bmN0aW9uKHQpe3JldHVybiBFbih0aGlzLmxvY2Fsc0lubmVyKHQpKX0sU24ucHJvdG90eXBlLmxvY2Fsc0lubmVyPWZ1bmN0aW9uKHQpe2lmKHRoaXM9PWtuKXJldHVybiB3bjtpZih0LmlubGluZUNvbnRlbnR8fCF0aGlzLmxvY2FsLnNvbWUodm4uaXMpKXJldHVybiB0aGlzLmxvY2FsO2Zvcih2YXIgZT1bXSxuPTA7bjx0aGlzLmxvY2FsLmxlbmd0aDtuKyspdGhpcy5sb2NhbFtuXS50eXBlIGluc3RhbmNlb2Ygdm58fGUucHVzaCh0aGlzLmxvY2FsW25dKTtyZXR1cm4gZX07dmFyIGtuPW5ldyBTbjtTbi5lbXB0eT1rbixTbi5yZW1vdmVPdmVybGFwPUVuO3ZhciB4bj1mdW5jdGlvbih0KXt0aGlzLm1lbWJlcnM9dH07ZnVuY3Rpb24gQ24odCxlLG4scixvLGkscyl7Zm9yKHZhciBhPXQuc2xpY2UoKSxjPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgcz0wO3M8YS5sZW5ndGg7cys9Myl7dmFyIGM9YVtzKzFdLGw9dm9pZCAwOy0xPT1jfHx0PmMraXx8KGU+PWFbc10raT9hW3MrMV09LTE6KGw9ci1uLShlLXQpKyhpLW8pKSYmKGFbc10rPWwsYVtzKzFdKz1sKSl9fSxsPTA7bDxuLm1hcHMubGVuZ3RoO2wrKyluLm1hcHNbbF0uZm9yRWFjaChjKTtmb3IodmFyIHU9ITEscD0wO3A8YS5sZW5ndGg7cCs9MylpZigtMT09YVtwKzFdKXt2YXIgZj1uLm1hcChhW3BdK2kpLGQ9Zi1vO2lmKGQ8MHx8ZD49ci5jb250ZW50LnNpemUpe3U9ITA7Y29udGludWV9dmFyIGg9bi5tYXAodFtwKzFdK2ksLTEpLHY9aC1vLG09ci5jb250ZW50LmZpbmRJbmRleChkKSxnPW0uaW5kZXgseT1tLm9mZnNldCx3PXIubWF5YmVDaGlsZChnKTtpZih3JiZ5PT1kJiZ5K3cubm9kZVNpemU9PXYpe3ZhciBiPWFbcCsyXS5tYXBJbm5lcihuLHcsZisxLGFbcF0raSsxLHMpO2IhPWtuPyhhW3BdPWQsYVtwKzFdPXYsYVtwKzJdPWIpOihhW3ArMV09LTIsdT0hMCl9ZWxzZSB1PSEwfWlmKHUpe3ZhciBTPU1uKGEsdCxlfHxbXSxuLG8saSxzKSxrPURuKFMsciwwLHMpO2U9ay5sb2NhbDtmb3IodmFyIHg9MDt4PGEubGVuZ3RoO3grPTMpYVt4KzFdPDAmJihhLnNwbGljZSh4LDMpLHgtPTMpO2Zvcih2YXIgQz0wLE89MDtDPGsuY2hpbGRyZW4ubGVuZ3RoO0MrPTMpe3ZhciBNPWsuY2hpbGRyZW5bQ107d2hpbGUoTzxhLmxlbmd0aCYmYVtPXTxNKU8rPTM7YS5zcGxpY2UoTywwLGsuY2hpbGRyZW5bQ10say5jaGlsZHJlbltDKzFdLGsuY2hpbGRyZW5bQysyXSl9fXJldHVybiBuZXcgU24oZSYmZS5zb3J0KEFuKSxhKX1mdW5jdGlvbiBPbih0LGUpe2lmKCFlfHwhdC5sZW5ndGgpcmV0dXJuIHQ7Zm9yKHZhciBuPVtdLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtuLnB1c2gobmV3IGduKG8uZnJvbStlLG8udG8rZSxvLnR5cGUpKX1yZXR1cm4gbn1mdW5jdGlvbiBNbih0LGUsbixyLG8saSxzKXtmdW5jdGlvbiBhKHQsZSl7Zm9yKHZhciBpPTA7aTx0LmxvY2FsLmxlbmd0aDtpKyspe3ZhciBjPXQubG9jYWxbaV0ubWFwKHIsbyxlKTtjP24ucHVzaChjKTpzLm9uUmVtb3ZlJiZzLm9uUmVtb3ZlKHQubG9jYWxbaV0uc3BlYyl9Zm9yKHZhciBsPTA7bDx0LmNoaWxkcmVuLmxlbmd0aDtsKz0zKWEodC5jaGlsZHJlbltsKzJdLHQuY2hpbGRyZW5bbF0rZSsxKX1mb3IodmFyIGM9MDtjPHQubGVuZ3RoO2MrPTMpLTE9PXRbYysxXSYmYSh0W2MrMl0sZVtjXStpKzEpO3JldHVybiBufWZ1bmN0aW9uIE5uKHQsZSxuKXtpZihlLmlzTGVhZilyZXR1cm4gbnVsbDtmb3IodmFyIHI9bitlLm5vZGVTaXplLG89bnVsbCxpPTAscz12b2lkIDA7aTx0Lmxlbmd0aDtpKyspKHM9dFtpXSkmJnMuZnJvbT5uJiZzLnRvPHImJigob3x8KG89W10pKS5wdXNoKHMpLHRbaV09bnVsbCk7cmV0dXJuIG99ZnVuY3Rpb24gVG4odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQubGVuZ3RoO24rKyludWxsIT10W25dJiZlLnB1c2godFtuXSk7cmV0dXJuIGV9ZnVuY3Rpb24gRG4odCxlLG4scil7dmFyIG89W10saT0hMTtlLmZvckVhY2goKGZ1bmN0aW9uKGUscyl7dmFyIGE9Tm4odCxlLHMrbik7aWYoYSl7aT0hMDt2YXIgYz1EbihhLGUsbitzKzEscik7YyE9a24mJm8ucHVzaChzLHMrZS5ub2RlU2l6ZSxjKX19KSk7Zm9yKHZhciBzPU9uKGk/VG4odCk6dCwtbikuc29ydChBbiksYT0wO2E8cy5sZW5ndGg7YSsrKXNbYV0udHlwZS52YWxpZChlLHNbYV0pfHwoci5vblJlbW92ZSYmci5vblJlbW92ZShzW2FdLnNwZWMpLHMuc3BsaWNlKGEtLSwxKSk7cmV0dXJuIHMubGVuZ3RofHxvLmxlbmd0aD9uZXcgU24ocyxvKTprbn1mdW5jdGlvbiBBbih0LGUpe3JldHVybiB0LmZyb20tZS5mcm9tfHx0LnRvLWUudG99ZnVuY3Rpb24gRW4odCl7Zm9yKHZhciBlPXQsbj0wO248ZS5sZW5ndGgtMTtuKyspe3ZhciByPWVbbl07aWYoci5mcm9tIT1yLnRvKWZvcih2YXIgbz1uKzE7bzxlLmxlbmd0aDtvKyspe3ZhciBpPWVbb107aWYoaS5mcm9tIT1yLmZyb20pe2kuZnJvbTxyLnRvJiYoZT09dCYmKGU9dC5zbGljZSgpKSxlW25dPXIuY29weShyLmZyb20saS5mcm9tKSxSbihlLG8sci5jb3B5KGkuZnJvbSxyLnRvKSkpO2JyZWFrfWkudG8hPXIudG8mJihlPT10JiYoZT10LnNsaWNlKCkpLGVbb109aS5jb3B5KGkuZnJvbSxyLnRvKSxSbihlLG8rMSxpLmNvcHkoci50byxpLnRvKSkpfX1yZXR1cm4gZX1mdW5jdGlvbiBSbih0LGUsbil7d2hpbGUoZTx0Lmxlbmd0aCYmQW4obix0W2VdKT4wKWUrKzt0LnNwbGljZShlLDAsbil9ZnVuY3Rpb24gX24odCl7dmFyIGU9W107cmV0dXJuIHQuc29tZVByb3AoImRlY29yYXRpb25zIiwoZnVuY3Rpb24obil7dmFyIHI9bih0LnN0YXRlKTtyJiZyIT1rbiYmZS5wdXNoKHIpfSkpLHQuY3Vyc29yV3JhcHBlciYmZS5wdXNoKFNuLmNyZWF0ZSh0LnN0YXRlLmRvYyxbdC5jdXJzb3JXcmFwcGVyLmRlY29dKSkseG4uZnJvbShlKX14bi5wcm90b3R5cGUuZm9yQ2hpbGQ9ZnVuY3Rpb24odCxlKXtpZihlLmlzTGVhZilyZXR1cm4gU24uZW1wdHk7Zm9yKHZhciBuPVtdLHI9MDtyPHRoaXMubWVtYmVycy5sZW5ndGg7cisrKXt2YXIgbz10aGlzLm1lbWJlcnNbcl0uZm9yQ2hpbGQodCxlKTtvIT1rbiYmKG8gaW5zdGFuY2VvZiB4bj9uPW4uY29uY2F0KG8ubWVtYmVycyk6bi5wdXNoKG8pKX1yZXR1cm4geG4uZnJvbShuKX0seG4ucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIHhuKXx8dC5tZW1iZXJzLmxlbmd0aCE9dGhpcy5tZW1iZXJzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGU9MDtlPHRoaXMubWVtYmVycy5sZW5ndGg7ZSsrKWlmKCF0aGlzLm1lbWJlcnNbZV0uZXEodC5tZW1iZXJzW2VdKSlyZXR1cm4hMTtyZXR1cm4hMH0seG4ucHJvdG90eXBlLmxvY2Fscz1mdW5jdGlvbih0KXtmb3IodmFyIGUsbj0hMCxyPTA7cjx0aGlzLm1lbWJlcnMubGVuZ3RoO3IrKyl7dmFyIG89dGhpcy5tZW1iZXJzW3JdLmxvY2Fsc0lubmVyKHQpO2lmKG8ubGVuZ3RoKWlmKGUpe24mJihlPWUuc2xpY2UoKSxuPSExKTtmb3IodmFyIGk9MDtpPG8ubGVuZ3RoO2krKyllLnB1c2gob1tpXSl9ZWxzZSBlPW99cmV0dXJuIGU/RW4obj9lOmUuc29ydChBbikpOndufSx4bi5mcm9tPWZ1bmN0aW9uKHQpe3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBrbjtjYXNlIDE6cmV0dXJuIHRbMF07ZGVmYXVsdDpyZXR1cm4gbmV3IHhuKHQpfX07dmFyIFBuPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcHJvcHM9ZSx0aGlzLnN0YXRlPWUuc3RhdGUsdGhpcy5kaXNwYXRjaD10aGlzLmRpc3BhdGNoLmJpbmQodGhpcyksdGhpcy5fcm9vdD1udWxsLHRoaXMuZm9jdXNlZD0hMSx0aGlzLmRvbT10JiZ0Lm1vdW50fHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0JiYodC5hcHBlbmRDaGlsZD90LmFwcGVuZENoaWxkKHRoaXMuZG9tKTp0LmFwcGx5P3QodGhpcy5kb20pOnQubW91bnQmJih0aGlzLm1vdW50ZWQ9ITApKSx0aGlzLmVkaXRhYmxlPVZuKHRoaXMpLHRoaXMubWFya0N1cnNvcj1udWxsLHRoaXMuY3Vyc29yV3JhcHBlcj1udWxsLEJuKHRoaXMpLHRoaXMubm9kZVZpZXdzPSRuKHRoaXMpLHRoaXMuZG9jVmlldz1wdCh0aGlzLnN0YXRlLmRvYyxJbih0aGlzKSxfbih0aGlzKSx0aGlzLmRvbSx0aGlzKSx0aGlzLmxhc3RTZWxlY3RlZFZpZXdEZXNjPW51bGwsdGhpcy5kcmFnZ2luZz1udWxsLFBlKHRoaXMpLHRoaXMucGx1Z2luVmlld3M9W10sdGhpcy51cGRhdGVQbHVnaW5WaWV3cygpfSx6bj17cHJvcHM6e2NvbmZpZ3VyYWJsZTohMH0scm9vdDp7Y29uZmlndXJhYmxlOiEwfX07ZnVuY3Rpb24gSW4odCl7dmFyIGU9T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gZS5jbGFzcz0iUHJvc2VNaXJyb3IiLGUuY29udGVudGVkaXRhYmxlPVN0cmluZyh0LmVkaXRhYmxlKSx0LnNvbWVQcm9wKCJhdHRyaWJ1dGVzIiwoZnVuY3Rpb24obil7aWYoImZ1bmN0aW9uIj09dHlwZW9mIG4mJihuPW4odC5zdGF0ZSkpLG4pZm9yKHZhciByIGluIG4pImNsYXNzIj09cj9lLmNsYXNzKz0iICIrbltyXTplW3JdfHwiY29udGVudGVkaXRhYmxlIj09cnx8Im5vZGVOYW1lIj09cnx8KGVbcl09U3RyaW5nKG5bcl0pKX0pKSxbZ24ubm9kZSgwLHQuc3RhdGUuZG9jLmNvbnRlbnQuc2l6ZSxlKV19ZnVuY3Rpb24gQm4odCl7dmFyIGU9dC5zdGF0ZS5zZWxlY3Rpb24sbj1lLiRoZWFkLHI9ZS4kYW5jaG9yLG89ZS52aXNpYmxlO2lmKHQubWFya0N1cnNvcil7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7aS5zZXRBdHRyaWJ1dGUoIm1hcmstcGxhY2Vob2xkZXIiLCJ0cnVlIiksdC5jdXJzb3JXcmFwcGVyPXtkb206aSxkZWNvOmduLndpZGdldChuLnBvcyxpLHtyYXc6ITAsbWFya3M6dC5tYXJrQ3Vyc29yfSl9fWVsc2UgaWYob3x8bi5wb3MhPXIucG9zKXQuY3Vyc29yV3JhcHBlcj1udWxsO2Vsc2V7dmFyIHM7IXQuY3Vyc29yV3JhcHBlcnx8dC5jdXJzb3JXcmFwcGVyLmRvbS5jaGlsZE5vZGVzLmxlbmd0aD8ocz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxzLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIscy5zdHlsZS5sZWZ0PSItMTAwMDAwcHgiKTp0LmN1cnNvcldyYXBwZXIuZGVjby5wb3MhPW4ucG9zJiYocz10LmN1cnNvcldyYXBwZXIuZG9tKSxzJiYodC5jdXJzb3JXcmFwcGVyPXtkb206cyxkZWNvOmduLndpZGdldChuLnBvcyxzLHtyYXc6ITB9KX0pfX1mdW5jdGlvbiBWbih0KXtyZXR1cm4hdC5zb21lUHJvcCgiZWRpdGFibGUiLChmdW5jdGlvbihlKXtyZXR1cm4hMT09PWUodC5zdGF0ZSl9KSl9ZnVuY3Rpb24gRm4odCl7dmFyIGU9dC5nZXRTZWxlY3Rpb24oKSxuPWUuZm9jdXNPZmZzZXQscj1lLmZvY3VzTm9kZTtyZXR1cm4gciYmMyE9ci5ub2RlVHlwZT9bcixuLDE9PXIubm9kZVR5cGU/ci5jaGlsZE5vZGVzW24tMV06bnVsbCwxPT1yLm5vZGVUeXBlP3IuY2hpbGROb2Rlc1tuXTpudWxsXTpudWxsfWZ1bmN0aW9uIGpuKHQsZSl7dmFyIG49Rm4oZSk7aWYoIW58fDM9PW5bMF0ubm9kZVR5cGUpcmV0dXJuITE7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspaWYobltyXSE9dFtyXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiAkbih0KXt2YXIgZT17fTtyZXR1cm4gdC5zb21lUHJvcCgibm9kZVZpZXdzIiwoZnVuY3Rpb24odCl7Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbil8fChlW25dPXRbbl0pfSkpLGV9ZnVuY3Rpb24gTG4odCxlKXt2YXIgbj0wLHI9MDtmb3IodmFyIG8gaW4gdCl7aWYodFtvXSE9ZVtvXSlyZXR1cm4hMDtuKyt9Zm9yKHZhciBpIGluIGUpcisrO3JldHVybiBuIT1yfWZ1bmN0aW9uIEhuKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD17fSksbmV3IHNbIlBsdWdpbiJdKHt2aWV3OmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgV24oZSx0KX19KX16bi5wcm9wcy5nZXQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9wcm9wcy5zdGF0ZSE9dGhpcy5zdGF0ZSl7dmFyIHQ9dGhpcy5fcHJvcHM7Zm9yKHZhciBlIGluIHRoaXMuX3Byb3BzPXt9LHQpdGhpcy5fcHJvcHNbZV09dFtlXTt0aGlzLl9wcm9wcy5zdGF0ZT10aGlzLnN0YXRlfXJldHVybiB0aGlzLl9wcm9wc30sUG4ucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0LmhhbmRsZURPTUV2ZW50cyE9dGhpcy5fcHJvcHMuaGFuZGxlRE9NRXZlbnRzJiZCZSh0aGlzKSx0aGlzLl9wcm9wcz10LHRoaXMudXBkYXRlU3RhdGVJbm5lcih0LnN0YXRlLCEwKX0sUG4ucHJvdG90eXBlLnNldFByb3BzPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Zvcih2YXIgbiBpbiB0aGlzLl9wcm9wcyllW25dPXRoaXMuX3Byb3BzW25dO2Zvcih2YXIgciBpbiBlLnN0YXRlPXRoaXMuc3RhdGUsdCllW3JdPXRbcl07dGhpcy51cGRhdGUoZSl9LFBuLnByb3RvdHlwZS51cGRhdGVTdGF0ZT1mdW5jdGlvbih0KXt0aGlzLnVwZGF0ZVN0YXRlSW5uZXIodCx0aGlzLnN0YXRlLnBsdWdpbnMhPXQucGx1Z2lucyl9LFBuLnByb3RvdHlwZS51cGRhdGVTdGF0ZUlubmVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXRoaXMuc3RhdGUsbz0hMTtpZih0aGlzLnN0YXRlPXQsZSl7dmFyIGk9JG4odGhpcyk7TG4oaSx0aGlzLm5vZGVWaWV3cykmJih0aGlzLm5vZGVWaWV3cz1pLG89ITApLEJlKHRoaXMpfXRoaXMuZWRpdGFibGU9Vm4odGhpcyksQm4odGhpcyk7dmFyIGE9X24odGhpcyksYz1Jbih0aGlzKSx1PWU/InJlc2V0Ijp0LnNjcm9sbFRvU2VsZWN0aW9uPnIuc2Nyb2xsVG9TZWxlY3Rpb24/InRvIHNlbGVjdGlvbiI6InByZXNlcnZlIixwPW98fCF0aGlzLmRvY1ZpZXcubWF0Y2hlc05vZGUodC5kb2MsYyxhKSxmPXB8fCF0LnNlbGVjdGlvbi5lcShyLnNlbGVjdGlvbiksZD0icHJlc2VydmUiPT11JiZmJiZudWxsPT10aGlzLmRvbS5zdHlsZS5vdmVyZmxvd0FuY2hvciYmVCh0aGlzKTtpZihmKXt0aGlzLmRvbU9ic2VydmVyLnN0b3AoKTt2YXIgaD0hMTtpZihwKXt2YXIgdj1sLmNocm9tZSYmRm4odGhpcy5yb290KTshbyYmdGhpcy5kb2NWaWV3LnVwZGF0ZSh0LmRvYyxjLGEsdGhpcyl8fCh0aGlzLmRvY1ZpZXcuZGVzdHJveSgpLHRoaXMuZG9jVmlldz1wdCh0LmRvYyxjLGEsdGhpcy5kb20sdGhpcykpLHYmJihoPSF0aGlzLmNvbXBvc2luZyYmam4odix0aGlzLnJvb3QpKSxsLmllJiZsLmllX3ZlcnNpb248PTExJiYhci5zZWxlY3Rpb24uZW1wdHkmJnQuc2VsZWN0aW9uLmVtcHR5JiZ0LmRvYy5jb250ZW50LnNpemU8ci5kb2MuY29udGVudC5zaXplJiYoaD0hMCl9aHx8ISh0aGlzLm1vdXNlRG93biYmdGhpcy5kb21PYnNlcnZlci5jdXJyZW50U2VsZWN0aW9uLmVxKHRoaXMucm9vdC5nZXRTZWxlY3Rpb24oKSkmJm9lKHRoaXMpKT9VdCh0aGlzLGgpOihRdCh0aGlzLHQuc2VsZWN0aW9uKSx0aGlzLmRvbU9ic2VydmVyLnNldEN1clNlbGVjdGlvbigpKSx0aGlzLmRvbU9ic2VydmVyLnN0YXJ0KCl9aWYodGhpcy51cGRhdGVQbHVnaW5WaWV3cyhyKSwicmVzZXQiPT11KXRoaXMuZG9tLnNjcm9sbFRvcD0wO2Vsc2UgaWYoInRvIHNlbGVjdGlvbiI9PXUpe3ZhciBtPXRoaXMucm9vdC5nZXRTZWxlY3Rpb24oKS5mb2N1c05vZGU7dGhpcy5zb21lUHJvcCgiaGFuZGxlU2Nyb2xsVG9TZWxlY3Rpb24iLChmdW5jdGlvbih0KXtyZXR1cm4gdChuKX0pKXx8KHQuc2VsZWN0aW9uIGluc3RhbmNlb2Ygc1siTm9kZVNlbGVjdGlvbiJdP04odGhpcyx0aGlzLmRvY1ZpZXcuZG9tQWZ0ZXJQb3ModC5zZWxlY3Rpb24uZnJvbSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbSk6Tih0aGlzLHRoaXMuY29vcmRzQXRQb3ModC5zZWxlY3Rpb24uaGVhZCksbSkpfWVsc2UgZCYmQShkKX0sUG4ucHJvdG90eXBlLmRlc3Ryb3lQbHVnaW5WaWV3cz1mdW5jdGlvbigpe3ZhciB0O3doaWxlKHQ9dGhpcy5wbHVnaW5WaWV3cy5wb3AoKSl0LmRlc3Ryb3kmJnQuZGVzdHJveSgpfSxQbi5wcm90b3R5cGUudXBkYXRlUGx1Z2luVmlld3M9ZnVuY3Rpb24odCl7aWYodCYmdC5wbHVnaW5zPT10aGlzLnN0YXRlLnBsdWdpbnMpZm9yKHZhciBlPTA7ZTx0aGlzLnBsdWdpblZpZXdzLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMucGx1Z2luVmlld3NbZV07bi51cGRhdGUmJm4udXBkYXRlKHRoaXMsdCl9ZWxzZXt0aGlzLmRlc3Ryb3lQbHVnaW5WaWV3cygpO2Zvcih2YXIgcj0wO3I8dGhpcy5zdGF0ZS5wbHVnaW5zLmxlbmd0aDtyKyspe3ZhciBvPXRoaXMuc3RhdGUucGx1Z2luc1tyXTtvLnNwZWMudmlldyYmdGhpcy5wbHVnaW5WaWV3cy5wdXNoKG8uc3BlYy52aWV3KHRoaXMpKX19fSxQbi5wcm90b3R5cGUuc29tZVByb3A9ZnVuY3Rpb24odCxlKXt2YXIgbixyPXRoaXMuX3Byb3BzJiZ0aGlzLl9wcm9wc1t0XTtpZihudWxsIT1yJiYobj1lP2Uocik6cikpcmV0dXJuIG47dmFyIG89dGhpcy5zdGF0ZS5wbHVnaW5zO2lmKG8pZm9yKHZhciBpPTA7aTxvLmxlbmd0aDtpKyspe3ZhciBzPW9baV0ucHJvcHNbdF07aWYobnVsbCE9cyYmKG49ZT9lKHMpOnMpKXJldHVybiBufX0sUG4ucHJvdG90eXBlLmhhc0ZvY3VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdC5hY3RpdmVFbGVtZW50PT10aGlzLmRvbX0sUG4ucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKCl7dGhpcy5kb21PYnNlcnZlci5zdG9wKCksdGhpcy5lZGl0YWJsZSYmXyh0aGlzLmRvbSksVXQodGhpcyksdGhpcy5kb21PYnNlcnZlci5zdGFydCgpfSx6bi5yb290LmdldD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3Jvb3Q7aWYobnVsbD09dClmb3IodmFyIGU9dGhpcy5kb20ucGFyZW50Tm9kZTtlO2U9ZS5wYXJlbnROb2RlKWlmKDk9PWUubm9kZVR5cGV8fDExPT1lLm5vZGVUeXBlJiZlLmhvc3QpcmV0dXJuIHRoaXMuX3Jvb3Q9ZTtyZXR1cm4gdHx8ZG9jdW1lbnR9LFBuLnByb3RvdHlwZS5wb3NBdENvb3Jkcz1mdW5jdGlvbih0KXtyZXR1cm4gJCh0aGlzLHQpfSxQbi5wcm90b3R5cGUuY29vcmRzQXRQb3M9ZnVuY3Rpb24odCl7cmV0dXJuIEgodGhpcyx0KX0sUG4ucHJvdG90eXBlLmRvbUF0UG9zPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRvY1ZpZXcuZG9tRnJvbVBvcyh0KX0sUG4ucHJvdG90eXBlLm5vZGVET009ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kb2NWaWV3LmRlc2NBdCh0KTtyZXR1cm4gZT9lLm5vZGVET006bnVsbH0sUG4ucHJvdG90eXBlLnBvc0F0RE9NPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0tMSk7dmFyIHI9dGhpcy5kb2NWaWV3LnBvc0Zyb21ET00odCxlLG4pO2lmKG51bGw9PXIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRPTSBwb3NpdGlvbiBub3QgaW5zaWRlIHRoZSBlZGl0b3IiKTtyZXR1cm4gcn0sUG4ucHJvdG90eXBlLmVuZE9mVGV4dGJsb2NrPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFEodGhpcyxlfHx0aGlzLnN0YXRlLHQpfSxQbi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZG9jVmlldyYmKEllKHRoaXMpLHRoaXMuZGVzdHJveVBsdWdpblZpZXdzKCksdGhpcy5tb3VudGVkPyh0aGlzLmRvY1ZpZXcudXBkYXRlKHRoaXMuc3RhdGUuZG9jLFtdLF9uKHRoaXMpLHRoaXMpLHRoaXMuZG9tLnRleHRDb250ZW50PSIiKTp0aGlzLmRvbS5wYXJlbnROb2RlJiZ0aGlzLmRvbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tKSx0aGlzLmRvY1ZpZXcuZGVzdHJveSgpLHRoaXMuZG9jVmlldz1udWxsKX0sUG4ucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGplKHRoaXMsdCl9LFBuLnByb3RvdHlwZS5kaXNwYXRjaD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wcm9wcy5kaXNwYXRjaFRyYW5zYWN0aW9uO2U/ZS5jYWxsKHRoaXMsdCk6dGhpcy51cGRhdGVTdGF0ZSh0aGlzLnN0YXRlLmFwcGx5KHQpKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUG4ucHJvdG90eXBlLHpuKTt2YXIgV249ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3RoaXMuZWRpdG9yVmlldz10LHRoaXMud2lkdGg9ZS53aWR0aHx8MSx0aGlzLmNvbG9yPWUuY29sb3J8fCJibGFjayIsdGhpcy5jbGFzcz1lLmNsYXNzLHRoaXMuY3Vyc29yUG9zPW51bGwsdGhpcy5lbGVtZW50PW51bGwsdGhpcy50aW1lb3V0PW51bGwsdGhpcy5oYW5kbGVycz1bImRyYWdvdmVyIiwiZHJhZ2VuZCIsImRyb3AiLCJkcmFnbGVhdmUiXS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPWZ1bmN0aW9uKHQpe3JldHVybiBuW2VdKHQpfTtyZXR1cm4gdC5kb20uYWRkRXZlbnRMaXN0ZW5lcihlLHIpLHtuYW1lOmUsaGFuZGxlcjpyfX0pKX07V24ucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuaGFuZGxlcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZS5uYW1lLHI9ZS5oYW5kbGVyO3JldHVybiB0LmVkaXRvclZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIobixyKX0pKX0sV24ucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe251bGwhPXRoaXMuY3Vyc29yUG9zJiZlLmRvYyE9dC5zdGF0ZS5kb2MmJnRoaXMudXBkYXRlT3ZlcmxheSgpfSxXbi5wcm90b3R5cGUuc2V0Q3Vyc29yPWZ1bmN0aW9uKHQpe3QhPXRoaXMuY3Vyc29yUG9zJiYodGhpcy5jdXJzb3JQb3M9dCxudWxsPT10Pyh0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpLHRoaXMuZWxlbWVudD1udWxsKTp0aGlzLnVwZGF0ZU92ZXJsYXkoKSl9LFduLnByb3RvdHlwZS51cGRhdGVPdmVybGF5PWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmVkaXRvclZpZXcuc3RhdGUuZG9jLnJlc29sdmUodGhpcy5jdXJzb3JQb3MpO2lmKCFlLnBhcmVudC5pbmxpbmVDb250ZW50KXt2YXIgbj1lLm5vZGVCZWZvcmUscj1lLm5vZGVBZnRlcjtpZihufHxyKXt2YXIgbz10aGlzLmVkaXRvclZpZXcubm9kZURPTSh0aGlzLmN1cnNvclBvcy0obj9uLm5vZGVTaXplOjApKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxpPW4/by5ib3R0b206by50b3A7biYmciYmKGk9KGkrdGhpcy5lZGl0b3JWaWV3Lm5vZGVET00odGhpcy5jdXJzb3JQb3MpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCkvMiksdD17bGVmdDpvLmxlZnQscmlnaHQ6by5yaWdodCx0b3A6aS10aGlzLndpZHRoLzIsYm90dG9tOmkrdGhpcy53aWR0aC8yfX19aWYoIXQpe3ZhciBzPXRoaXMuZWRpdG9yVmlldy5jb29yZHNBdFBvcyh0aGlzLmN1cnNvclBvcyk7dD17bGVmdDpzLmxlZnQtdGhpcy53aWR0aC8yLHJpZ2h0OnMubGVmdCt0aGlzLndpZHRoLzIsdG9wOnMudG9wLGJvdHRvbTpzLmJvdHRvbX19dmFyIGE9dGhpcy5lZGl0b3JWaWV3LmRvbS5vZmZzZXRQYXJlbnQ7dGhpcy5lbGVtZW50fHwodGhpcy5lbGVtZW50PWEuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHRoaXMuY2xhc3MmJih0aGlzLmVsZW1lbnQuY2xhc3NOYW1lPXRoaXMuY2xhc3MpLHRoaXMuZWxlbWVudC5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjogYWJzb2x1dGU7IHotaW5kZXg6IDUwOyBwb2ludGVyLWV2ZW50czogbm9uZTsgYmFja2dyb3VuZC1jb2xvcjogIit0aGlzLmNvbG9yKTt2YXIgYz0hYXx8YT09ZG9jdW1lbnQuYm9keSYmInN0YXRpYyI9PWdldENvbXB1dGVkU3R5bGUoYSkucG9zaXRpb24/e2xlZnQ6LXBhZ2VYT2Zmc2V0LHRvcDotcGFnZVlPZmZzZXR9OmEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dGhpcy5lbGVtZW50LnN0eWxlLmxlZnQ9dC5sZWZ0LWMubGVmdCsicHgiLHRoaXMuZWxlbWVudC5zdHlsZS50b3A9dC50b3AtYy50b3ArInB4Iix0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGg9dC5yaWdodC10LmxlZnQrInB4Iix0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0PXQuYm90dG9tLXQudG9wKyJweCJ9LFduLnByb3RvdHlwZS5zY2hlZHVsZVJlbW92YWw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KSx0aGlzLnRpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gZS5zZXRDdXJzb3IobnVsbCl9KSx0KX0sV24ucHJvdG90eXBlLmRyYWdvdmVyPWZ1bmN0aW9uKHQpe2lmKHRoaXMuZWRpdG9yVmlldy5lZGl0YWJsZSl7dmFyIGU9dGhpcy5lZGl0b3JWaWV3LnBvc0F0Q29vcmRzKHtsZWZ0OnQuY2xpZW50WCx0b3A6dC5jbGllbnRZfSk7aWYoZSl7dmFyIG49ZS5wb3M7dGhpcy5lZGl0b3JWaWV3LmRyYWdnaW5nJiZ0aGlzLmVkaXRvclZpZXcuZHJhZ2dpbmcuc2xpY2UmJihuPU9iamVjdChjWyJnIl0pKHRoaXMuZWRpdG9yVmlldy5zdGF0ZS5kb2Msbix0aGlzLmVkaXRvclZpZXcuZHJhZ2dpbmcuc2xpY2UpLG51bGw9PW4mJihuPWUucG9zKSksdGhpcy5zZXRDdXJzb3IobiksdGhpcy5zY2hlZHVsZVJlbW92YWwoNWUzKX19fSxXbi5wcm90b3R5cGUuZHJhZ2VuZD1mdW5jdGlvbigpe3RoaXMuc2NoZWR1bGVSZW1vdmFsKDIwKX0sV24ucHJvdG90eXBlLmRyb3A9ZnVuY3Rpb24oKXt0aGlzLnNjaGVkdWxlUmVtb3ZhbCgyMCl9LFduLnByb3RvdHlwZS5kcmFnbGVhdmU9ZnVuY3Rpb24odCl7dC50YXJnZXQhPXRoaXMuZWRpdG9yVmlldy5kb20mJnRoaXMuZWRpdG9yVmlldy5kb20uY29udGFpbnModC5yZWxhdGVkVGFyZ2V0KXx8dGhpcy5zZXRDdXJzb3IobnVsbCl9O3ZhciBxbj1uKCI3ZjA2IiksSm49bigiNTc2YSIpLEtuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSxlKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKG4scil7dmFyIG89bi5yZXNvbHZlKHIubWFwKHRoaXMuaGVhZCkpO3JldHVybiBlLnZhbGlkKG8pP25ldyBlKG8pOnQubmVhcihvKX0sZS5wcm90b3R5cGUuY29udGVudD1mdW5jdGlvbigpe3JldHVybiBhWyJTbGljZSJdLmVtcHR5fSxlLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGUmJnQuaGVhZD09dGhpcy5oZWFkfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZToiZ2FwY3Vyc29yIixwb3M6dGhpcy5oZWFkfX0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbi5wb3MpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIEdhcEN1cnNvci5mcm9tSlNPTiIpO3JldHVybiBuZXcgZSh0LnJlc29sdmUobi5wb3MpKX0sZS5wcm90b3R5cGUuZ2V0Qm9va21hcms9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFVuKHRoaXMuYW5jaG9yKX0sZS52YWxpZD1mdW5jdGlvbih0KXt2YXIgZT10LnBhcmVudDtpZihlLmlzVGV4dGJsb2NrfHwhR24odCl8fCFYbih0KSlyZXR1cm4hMTt2YXIgbj1lLnR5cGUuc3BlYy5hbGxvd0dhcEN1cnNvcjtpZihudWxsIT1uKXJldHVybiBuO3ZhciByPWUuY29udGVudE1hdGNoQXQodC5pbmRleCgpKS5kZWZhdWx0VHlwZTtyZXR1cm4gciYmci5pc1RleHRibG9ja30sZS5maW5kRnJvbT1mdW5jdGlvbih0LG4scil7aWYoIXImJmUudmFsaWQodCkpcmV0dXJuIHQ7Zm9yKHZhciBvPXQucG9zLGk9bnVsbCxzPXQuZGVwdGg7O3MtLSl7dmFyIGE9dC5ub2RlKHMpO2lmKG4+MD90LmluZGV4QWZ0ZXIocyk8YS5jaGlsZENvdW50OnQuaW5kZXgocyk+MCl7aT1hLm1heWJlQ2hpbGQobj4wP3QuaW5kZXhBZnRlcihzKTp0LmluZGV4KHMpLTEpO2JyZWFrfWlmKDA9PXMpcmV0dXJuIG51bGw7bys9bjt2YXIgYz10LmRvYy5yZXNvbHZlKG8pO2lmKGUudmFsaWQoYykpcmV0dXJuIGN9Zm9yKDs7KXtpZihpPW4+MD9pLmZpcnN0Q2hpbGQ6aS5sYXN0Q2hpbGQsIWkpYnJlYWs7bys9bjt2YXIgbD10LmRvYy5yZXNvbHZlKG8pO2lmKGUudmFsaWQobCkpcmV0dXJuIGx9cmV0dXJuIG51bGx9LGV9KHNbIlNlbGVjdGlvbiJdKTtLbi5wcm90b3R5cGUudmlzaWJsZT0hMSxzWyJTZWxlY3Rpb24iXS5qc29uSUQoImdhcGN1cnNvciIsS24pO3ZhciBVbj1mdW5jdGlvbih0KXt0aGlzLnBvcz10fTtmdW5jdGlvbiBHbih0KXtmb3IodmFyIGU9dC5kZXB0aDtlPj0wO2UtLSl7dmFyIG49dC5pbmRleChlKTtpZigwIT1uKWZvcih2YXIgcj10Lm5vZGUoZSkuY2hpbGQobi0xKTs7cj1yLmxhc3RDaGlsZCl7aWYoMD09ci5jaGlsZENvdW50JiYhci5pbmxpbmVDb250ZW50fHxyLmlzQXRvbXx8ci50eXBlLnNwZWMuaXNvbGF0aW5nKXJldHVybiEwO2lmKHIuaW5saW5lQ29udGVudClyZXR1cm4hMX19cmV0dXJuITB9ZnVuY3Rpb24gWG4odCl7Zm9yKHZhciBlPXQuZGVwdGg7ZT49MDtlLS0pe3ZhciBuPXQuaW5kZXhBZnRlcihlKSxyPXQubm9kZShlKTtpZihuIT1yLmNoaWxkQ291bnQpZm9yKHZhciBvPXIuY2hpbGQobik7O289by5maXJzdENoaWxkKXtpZigwPT1vLmNoaWxkQ291bnQmJiFvLmlubGluZUNvbnRlbnR8fG8uaXNBdG9tfHxvLnR5cGUuc3BlYy5pc29sYXRpbmcpcmV0dXJuITA7aWYoby5pbmxpbmVDb250ZW50KXJldHVybiExfX1yZXR1cm4hMH1Vbi5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgVW4odC5tYXAodGhpcy5wb3MpKX0sVW4ucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24odCl7dmFyIGU9dC5yZXNvbHZlKHRoaXMucG9zKTtyZXR1cm4gS24udmFsaWQoZSk/bmV3IEtuKGUpOnNbIlNlbGVjdGlvbiJdLm5lYXIoZSl9O3ZhciBZbj1mdW5jdGlvbigpe3JldHVybiBuZXcgc1siUGx1Z2luIl0oe3Byb3BzOntkZWNvcmF0aW9uczplcixjcmVhdGVTZWxlY3Rpb25CZXR3ZWVuOmZ1bmN0aW9uKHQsZSxuKXtpZihlLnBvcz09bi5wb3MmJktuLnZhbGlkKG4pKXJldHVybiBuZXcgS24obil9LGhhbmRsZUNsaWNrOnRyLGhhbmRsZUtleURvd246Wm59fSl9LFpuPU9iamVjdChxblsiYSJdKSh7QXJyb3dMZWZ0OlFuKCJob3JpeiIsLTEpLEFycm93UmlnaHQ6UW4oImhvcml6IiwxKSxBcnJvd1VwOlFuKCJ2ZXJ0IiwtMSksQXJyb3dEb3duOlFuKCJ2ZXJ0IiwxKX0pO2Z1bmN0aW9uIFFuKHQsZSl7dmFyIG49InZlcnQiPT10P2U+MD8iZG93biI6InVwIjplPjA/InJpZ2h0IjoibGVmdCI7cmV0dXJuIGZ1bmN0aW9uKHQscixvKXt2YXIgaT10LnNlbGVjdGlvbixhPWU+MD9pLiR0bzppLiRmcm9tLGM9aS5lbXB0eTtpZihpIGluc3RhbmNlb2Ygc1siVGV4dFNlbGVjdGlvbiJdKXtpZighby5lbmRPZlRleHRibG9jayhuKSlyZXR1cm4hMTtjPSExLGE9dC5kb2MucmVzb2x2ZShlPjA/YS5hZnRlcigpOmEuYmVmb3JlKCkpfXZhciBsPUtuLmZpbmRGcm9tKGEsZSxjKTtyZXR1cm4hIWwmJihyJiZyKHQudHIuc2V0U2VsZWN0aW9uKG5ldyBLbihsKSkpLCEwKX19ZnVuY3Rpb24gdHIodCxlLG4pe2lmKCF0LmVkaXRhYmxlKXJldHVybiExO3ZhciByPXQuc3RhdGUuZG9jLnJlc29sdmUoZSk7aWYoIUtuLnZhbGlkKHIpKXJldHVybiExO3ZhciBvPXQucG9zQXRDb29yZHMoe2xlZnQ6bi5jbGllbnRYLHRvcDpuLmNsaWVudFl9KSxpPW8uaW5zaWRlO3JldHVybiEoaT4tMSYmc1siTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZSh0LnN0YXRlLmRvYy5ub2RlQXQoaSkpKSYmKHQuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24obmV3IEtuKHIpKSksITApfWZ1bmN0aW9uIGVyKHQpe2lmKCEodC5zZWxlY3Rpb24gaW5zdGFuY2VvZiBLbikpcmV0dXJuIG51bGw7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGUuY2xhc3NOYW1lPSJQcm9zZU1pcnJvci1nYXBjdXJzb3IiLEpuWyJiIl0uY3JlYXRlKHQuZG9jLFtKblsiYSJdLndpZGdldCh0LnNlbGVjdGlvbi5oZWFkLGUse2tleToiZ2FwY3Vyc29yIn0pXSl9ZnVuY3Rpb24gbnIodCxlKXtyZXR1cm4hdC5zZWxlY3Rpb24uZW1wdHkmJihlJiZlKHQudHIuZGVsZXRlU2VsZWN0aW9uKCkuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIHJyKHQsZSxuKXt2YXIgcj10LnNlbGVjdGlvbixvPXIuJGN1cnNvcjtpZighb3x8KG4/IW4uZW5kT2ZUZXh0YmxvY2soImJhY2t3YXJkIix0KTpvLnBhcmVudE9mZnNldD4wKSlyZXR1cm4hMTt2YXIgaT1zcihvKTtpZighaSl7dmFyIGE9by5ibG9ja1JhbmdlKCksbD1hJiZPYmplY3QoY1siaiJdKShhKTtyZXR1cm4gbnVsbCE9bCYmKGUmJmUodC50ci5saWZ0KGEsbCkuc2Nyb2xsSW50b1ZpZXcoKSksITApfXZhciB1PWkubm9kZUJlZm9yZTtpZighdS50eXBlLnNwZWMuaXNvbGF0aW5nJiZ5cih0LGksZSkpcmV0dXJuITA7aWYoMD09by5wYXJlbnQuY29udGVudC5zaXplJiYob3IodSwiZW5kIil8fHNbIk5vZGVTZWxlY3Rpb24iXS5pc1NlbGVjdGFibGUodSkpKXtpZihlKXt2YXIgcD10LnRyLmRlbGV0ZVJhbmdlKG8uYmVmb3JlKCksby5hZnRlcigpKTtwLnNldFNlbGVjdGlvbihvcih1LCJlbmQiKT9zWyJTZWxlY3Rpb24iXS5maW5kRnJvbShwLmRvYy5yZXNvbHZlKHAubWFwcGluZy5tYXAoaS5wb3MsLTEpKSwtMSk6c1siTm9kZVNlbGVjdGlvbiJdLmNyZWF0ZShwLmRvYyxpLnBvcy11Lm5vZGVTaXplKSksZShwLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfXJldHVybiEoIXUuaXNBdG9tfHxpLmRlcHRoIT1vLmRlcHRoLTEpJiYoZSYmZSh0LnRyLmRlbGV0ZShpLnBvcy11Lm5vZGVTaXplLGkucG9zKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9ZnVuY3Rpb24gb3IodCxlKXtmb3IoO3Q7dD0ic3RhcnQiPT1lP3QuZmlyc3RDaGlsZDp0Lmxhc3RDaGlsZClpZih0LmlzVGV4dGJsb2NrKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGlyKHQsZSxuKXt2YXIgcj10LnNlbGVjdGlvbixvPXIuJGN1cnNvcjtpZighb3x8KG4/IW4uZW5kT2ZUZXh0YmxvY2soImJhY2t3YXJkIix0KTpvLnBhcmVudE9mZnNldD4wKSlyZXR1cm4hMTt2YXIgaT1zcihvKSxhPWkmJmkubm9kZUJlZm9yZTtyZXR1cm4hKCFhfHwhc1siTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZShhKSkmJihlJiZlKHQudHIuc2V0U2VsZWN0aW9uKHNbIk5vZGVTZWxlY3Rpb24iXS5jcmVhdGUodC5kb2MsaS5wb3MtYS5ub2RlU2l6ZSkpLnNjcm9sbEludG9WaWV3KCkpLCEwKX1mdW5jdGlvbiBzcih0KXtpZighdC5wYXJlbnQudHlwZS5zcGVjLmlzb2xhdGluZylmb3IodmFyIGU9dC5kZXB0aC0xO2U+PTA7ZS0tKXtpZih0LmluZGV4KGUpPjApcmV0dXJuIHQuZG9jLnJlc29sdmUodC5iZWZvcmUoZSsxKSk7aWYodC5ub2RlKGUpLnR5cGUuc3BlYy5pc29sYXRpbmcpYnJlYWt9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYXIodCxlLG4pe3ZhciByPXQuc2VsZWN0aW9uLG89ci4kY3Vyc29yO2lmKCFvfHwobj8hbi5lbmRPZlRleHRibG9jaygiZm9yd2FyZCIsdCk6by5wYXJlbnRPZmZzZXQ8by5wYXJlbnQuY29udGVudC5zaXplKSlyZXR1cm4hMTt2YXIgaT1scihvKTtpZighaSlyZXR1cm4hMTt2YXIgYT1pLm5vZGVBZnRlcjtpZih5cih0LGksZSkpcmV0dXJuITA7aWYoMD09by5wYXJlbnQuY29udGVudC5zaXplJiYob3IoYSwic3RhcnQiKXx8c1siTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZShhKSkpe2lmKGUpe3ZhciBjPXQudHIuZGVsZXRlUmFuZ2Uoby5iZWZvcmUoKSxvLmFmdGVyKCkpO2Muc2V0U2VsZWN0aW9uKG9yKGEsInN0YXJ0Iik/c1siU2VsZWN0aW9uIl0uZmluZEZyb20oYy5kb2MucmVzb2x2ZShjLm1hcHBpbmcubWFwKGkucG9zKSksMSk6c1siTm9kZVNlbGVjdGlvbiJdLmNyZWF0ZShjLmRvYyxjLm1hcHBpbmcubWFwKGkucG9zKSkpLGUoYy5zY3JvbGxJbnRvVmlldygpKX1yZXR1cm4hMH1yZXR1cm4hKCFhLmlzQXRvbXx8aS5kZXB0aCE9by5kZXB0aC0xKSYmKGUmJmUodC50ci5kZWxldGUoaS5wb3MsaS5wb3MrYS5ub2RlU2l6ZSkuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIGNyKHQsZSxuKXt2YXIgcj10LnNlbGVjdGlvbixvPXIuJGN1cnNvcjtpZighb3x8KG4/IW4uZW5kT2ZUZXh0YmxvY2soImZvcndhcmQiLHQpOm8ucGFyZW50T2Zmc2V0PG8ucGFyZW50LmNvbnRlbnQuc2l6ZSkpcmV0dXJuITE7dmFyIGk9bHIobyksYT1pJiZpLm5vZGVBZnRlcjtyZXR1cm4hKCFhfHwhc1siTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZShhKSkmJihlJiZlKHQudHIuc2V0U2VsZWN0aW9uKHNbIk5vZGVTZWxlY3Rpb24iXS5jcmVhdGUodC5kb2MsaS5wb3MpKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9ZnVuY3Rpb24gbHIodCl7aWYoIXQucGFyZW50LnR5cGUuc3BlYy5pc29sYXRpbmcpZm9yKHZhciBlPXQuZGVwdGgtMTtlPj0wO2UtLSl7dmFyIG49dC5ub2RlKGUpO2lmKHQuaW5kZXgoZSkrMTxuLmNoaWxkQ291bnQpcmV0dXJuIHQuZG9jLnJlc29sdmUodC5hZnRlcihlKzEpKTtpZihuLnR5cGUuc3BlYy5pc29sYXRpbmcpYnJlYWt9cmV0dXJuIG51bGx9ZnVuY3Rpb24gdXIodCxlKXt2YXIgbj10LnNlbGVjdGlvbixyPW4uJGZyb20sbz1uLiR0byxpPXIuYmxvY2tSYW5nZShvKSxzPWkmJk9iamVjdChjWyJqIl0pKGkpO3JldHVybiBudWxsIT1zJiYoZSYmZSh0LnRyLmxpZnQoaSxzKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9ZnVuY3Rpb24gcHIodCxlKXt2YXIgbj10LnNlbGVjdGlvbixyPW4uJGhlYWQsbz1uLiRhbmNob3I7cmV0dXJuISghci5wYXJlbnQudHlwZS5zcGVjLmNvZGV8fCFyLnNhbWVQYXJlbnQobykpJiYoZSYmZSh0LnRyLmluc2VydFRleHQoIlxuIikuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIGZyKHQsZSl7dmFyIG49dC5zZWxlY3Rpb24scj1uLiRoZWFkLG89bi4kYW5jaG9yO2lmKCFyLnBhcmVudC50eXBlLnNwZWMuY29kZXx8IXIuc2FtZVBhcmVudChvKSlyZXR1cm4hMTt2YXIgaT1yLm5vZGUoLTEpLGE9ci5pbmRleEFmdGVyKC0xKSxjPWkuY29udGVudE1hdGNoQXQoYSkuZGVmYXVsdFR5cGU7aWYoIWkuY2FuUmVwbGFjZVdpdGgoYSxhLGMpKXJldHVybiExO2lmKGUpe3ZhciBsPXIuYWZ0ZXIoKSx1PXQudHIucmVwbGFjZVdpdGgobCxsLGMuY3JlYXRlQW5kRmlsbCgpKTt1LnNldFNlbGVjdGlvbihzWyJTZWxlY3Rpb24iXS5uZWFyKHUuZG9jLnJlc29sdmUobCksMSkpLGUodS5zY3JvbGxJbnRvVmlldygpKX1yZXR1cm4hMH1mdW5jdGlvbiBkcih0LGUpe3ZhciBuPXQuc2VsZWN0aW9uLHI9bi4kZnJvbSxvPW4uJHRvO2lmKHIucGFyZW50LmlubGluZUNvbnRlbnR8fG8ucGFyZW50LmlubGluZUNvbnRlbnQpcmV0dXJuITE7dmFyIGk9ci5wYXJlbnQuY29udGVudE1hdGNoQXQoby5pbmRleEFmdGVyKCkpLmRlZmF1bHRUeXBlO2lmKCFpfHwhaS5pc1RleHRibG9jaylyZXR1cm4hMTtpZihlKXt2YXIgYT0oIXIucGFyZW50T2Zmc2V0JiZvLmluZGV4KCk8by5wYXJlbnQuY2hpbGRDb3VudD9yOm8pLnBvcyxjPXQudHIuaW5zZXJ0KGEsaS5jcmVhdGVBbmRGaWxsKCkpO2Muc2V0U2VsZWN0aW9uKHNbIlRleHRTZWxlY3Rpb24iXS5jcmVhdGUoYy5kb2MsYSsxKSksZShjLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfWZ1bmN0aW9uIGhyKHQsZSl7dmFyIG49dC5zZWxlY3Rpb24scj1uLiRjdXJzb3I7aWYoIXJ8fHIucGFyZW50LmNvbnRlbnQuc2l6ZSlyZXR1cm4hMTtpZihyLmRlcHRoPjEmJnIuYWZ0ZXIoKSE9ci5lbmQoLTEpKXt2YXIgbz1yLmJlZm9yZSgpO2lmKE9iamVjdChjWyJmIl0pKHQuZG9jLG8pKXJldHVybiBlJiZlKHQudHIuc3BsaXQobykuc2Nyb2xsSW50b1ZpZXcoKSksITB9dmFyIGk9ci5ibG9ja1JhbmdlKCkscz1pJiZPYmplY3QoY1siaiJdKShpKTtyZXR1cm4gbnVsbCE9cyYmKGUmJmUodC50ci5saWZ0KGkscykuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIHZyKHQsZSl7dmFyIG49dC5zZWxlY3Rpb24scj1uLiRmcm9tLG89bi4kdG87aWYodC5zZWxlY3Rpb24gaW5zdGFuY2VvZiBzWyJOb2RlU2VsZWN0aW9uIl0mJnQuc2VsZWN0aW9uLm5vZGUuaXNCbG9jaylyZXR1cm4hKCFyLnBhcmVudE9mZnNldHx8IU9iamVjdChjWyJmIl0pKHQuZG9jLHIucG9zKSkmJihlJiZlKHQudHIuc3BsaXQoci5wb3MpLnNjcm9sbEludG9WaWV3KCkpLCEwKTtpZighci5wYXJlbnQuaXNCbG9jaylyZXR1cm4hMTtpZihlKXt2YXIgaT1vLnBhcmVudE9mZnNldD09by5wYXJlbnQuY29udGVudC5zaXplLGw9dC50cjt0LnNlbGVjdGlvbiBpbnN0YW5jZW9mIHNbIlRleHRTZWxlY3Rpb24iXSYmbC5kZWxldGVTZWxlY3Rpb24oKTt2YXIgdT0wPT1yLmRlcHRoP251bGw6ci5ub2RlKC0xKS5jb250ZW50TWF0Y2hBdChyLmluZGV4QWZ0ZXIoLTEpKS5kZWZhdWx0VHlwZSxwPWkmJnU/W3t0eXBlOnV9XTpudWxsLGY9T2JqZWN0KGNbImYiXSkobC5kb2MsbC5tYXBwaW5nLm1hcChyLnBvcyksMSxwKTtwfHxmfHwhT2JqZWN0KGNbImYiXSkobC5kb2MsbC5tYXBwaW5nLm1hcChyLnBvcyksMSx1JiZbe3R5cGU6dX1dKXx8KHA9W3t0eXBlOnV9XSxmPSEwKSxmJiYobC5zcGxpdChsLm1hcHBpbmcubWFwKHIucG9zKSwxLHApLGl8fHIucGFyZW50T2Zmc2V0fHxyLnBhcmVudC50eXBlPT11fHwhci5ub2RlKC0xKS5jYW5SZXBsYWNlKHIuaW5kZXgoLTEpLHIuaW5kZXhBZnRlcigtMSksYVsiRnJhZ21lbnQiXS5mcm9tKHUuY3JlYXRlKCksci5wYXJlbnQpKXx8bC5zZXROb2RlTWFya3VwKGwubWFwcGluZy5tYXAoci5iZWZvcmUoKSksdSkpLGUobC5zY3JvbGxJbnRvVmlldygpKX1yZXR1cm4hMH1mdW5jdGlvbiBtcih0LGUpe3JldHVybiBlJiZlKHQudHIuc2V0U2VsZWN0aW9uKG5ldyBzWyJBbGxTZWxlY3Rpb24iXSh0LmRvYykpKSwhMH1mdW5jdGlvbiBncih0LGUsbil7dmFyIHI9ZS5ub2RlQmVmb3JlLG89ZS5ub2RlQWZ0ZXIsaT1lLmluZGV4KCk7cmV0dXJuISEociYmbyYmci50eXBlLmNvbXBhdGlibGVDb250ZW50KG8udHlwZSkpJiYoIXIuY29udGVudC5zaXplJiZlLnBhcmVudC5jYW5SZXBsYWNlKGktMSxpKT8obiYmbih0LnRyLmRlbGV0ZShlLnBvcy1yLm5vZGVTaXplLGUucG9zKS5zY3JvbGxJbnRvVmlldygpKSwhMCk6ISghZS5wYXJlbnQuY2FuUmVwbGFjZShpLGkrMSl8fCFvLmlzVGV4dGJsb2NrJiYhT2JqZWN0KGNbImUiXSkodC5kb2MsZS5wb3MpKSYmKG4mJm4odC50ci5jbGVhckluY29tcGF0aWJsZShlLnBvcyxyLnR5cGUsci5jb250ZW50TWF0Y2hBdChyLmNoaWxkQ291bnQpKS5qb2luKGUucG9zKS5zY3JvbGxJbnRvVmlldygpKSwhMCkpfWZ1bmN0aW9uIHlyKHQsZSxuKXt2YXIgcixvLGk9ZS5ub2RlQmVmb3JlLGw9ZS5ub2RlQWZ0ZXI7aWYoaS50eXBlLnNwZWMuaXNvbGF0aW5nfHxsLnR5cGUuc3BlYy5pc29sYXRpbmcpcmV0dXJuITE7aWYoZ3IodCxlLG4pKXJldHVybiEwO2lmKGUucGFyZW50LmNhblJlcGxhY2UoZS5pbmRleCgpLGUuaW5kZXgoKSsxKSYmKHI9KG89aS5jb250ZW50TWF0Y2hBdChpLmNoaWxkQ291bnQpKS5maW5kV3JhcHBpbmcobC50eXBlKSkmJm8ubWF0Y2hUeXBlKHJbMF18fGwudHlwZSkudmFsaWRFbmQpe2lmKG4pe2Zvcih2YXIgdT1lLnBvcytsLm5vZGVTaXplLHA9YVsiRnJhZ21lbnQiXS5lbXB0eSxmPXIubGVuZ3RoLTE7Zj49MDtmLS0pcD1hWyJGcmFnbWVudCJdLmZyb20ocltmXS5jcmVhdGUobnVsbCxwKSk7cD1hWyJGcmFnbWVudCJdLmZyb20oaS5jb3B5KHApKTt2YXIgZD10LnRyLnN0ZXAobmV3IGNbImIiXShlLnBvcy0xLHUsZS5wb3MsdSxuZXcgYVsiU2xpY2UiXShwLDEsMCksci5sZW5ndGgsITApKSxoPXUrMipyLmxlbmd0aDtPYmplY3QoY1siZSJdKShkLmRvYyxoKSYmZC5qb2luKGgpLG4oZC5zY3JvbGxJbnRvVmlldygpKX1yZXR1cm4hMH12YXIgdj1zWyJTZWxlY3Rpb24iXS5maW5kRnJvbShlLDEpLG09diYmdi4kZnJvbS5ibG9ja1JhbmdlKHYuJHRvKSxnPW0mJk9iamVjdChjWyJqIl0pKG0pO3JldHVybiBudWxsIT1nJiZnPj1lLmRlcHRoJiYobiYmbih0LnRyLmxpZnQobSxnKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9ZnVuY3Rpb24gd3IodCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXt2YXIgbz1uLnNlbGVjdGlvbixpPW8uJGZyb20scz1vLiR0byxhPWkuYmxvY2tSYW5nZShzKSxsPWEmJk9iamVjdChjWyJoIl0pKGEsdCxlKTtyZXR1cm4hIWwmJihyJiZyKG4udHIud3JhcChhLGwpLnNjcm9sbEludG9WaWV3KCkpLCEwKX19ZnVuY3Rpb24gYnIodCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXt2YXIgbz1uLnNlbGVjdGlvbixpPW8uZnJvbSxzPW8udG8sYT0hMTtyZXR1cm4gbi5kb2Mubm9kZXNCZXR3ZWVuKGkscywoZnVuY3Rpb24ocixvKXtpZihhKXJldHVybiExO2lmKHIuaXNUZXh0YmxvY2smJiFyLmhhc01hcmt1cCh0LGUpKWlmKHIudHlwZT09dClhPSEwO2Vsc2V7dmFyIGk9bi5kb2MucmVzb2x2ZShvKSxzPWkuaW5kZXgoKTthPWkucGFyZW50LmNhblJlcGxhY2VXaXRoKHMscysxLHQpfX0pKSwhIWEmJihyJiZyKG4udHIuc2V0QmxvY2tUeXBlKGkscyx0LGUpLnNjcm9sbEludG9WaWV3KCkpLCEwKX19ZnVuY3Rpb24gU3IodCxlLG4pe2Zvcih2YXIgcj1mdW5jdGlvbihyKXt2YXIgbz1lW3JdLGk9by4kZnJvbSxzPW8uJHRvLGE9MD09aS5kZXB0aCYmdC50eXBlLmFsbG93c01hcmtUeXBlKG4pO2lmKHQubm9kZXNCZXR3ZWVuKGkucG9zLHMucG9zLChmdW5jdGlvbih0KXtpZihhKXJldHVybiExO2E9dC5pbmxpbmVDb250ZW50JiZ0LnR5cGUuYWxsb3dzTWFya1R5cGUobil9KSksYSlyZXR1cm57djohMH19LG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIGk9cihvKTtpZihpKXJldHVybiBpLnZ9cmV0dXJuITF9ZnVuY3Rpb24ga3IodCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXt2YXIgbz1uLnNlbGVjdGlvbixpPW8uZW1wdHkscz1vLiRjdXJzb3IsYT1vLnJhbmdlcztpZihpJiYhc3x8IVNyKG4uZG9jLGEsdCkpcmV0dXJuITE7aWYocilpZihzKXQuaXNJblNldChuLnN0b3JlZE1hcmtzfHxzLm1hcmtzKCkpP3Iobi50ci5yZW1vdmVTdG9yZWRNYXJrKHQpKTpyKG4udHIuYWRkU3RvcmVkTWFyayh0LmNyZWF0ZShlKSkpO2Vsc2V7Zm9yKHZhciBjPSExLGw9bi50cix1PTA7IWMmJnU8YS5sZW5ndGg7dSsrKXt2YXIgcD1hW3VdLGY9cC4kZnJvbSxkPXAuJHRvO2M9bi5kb2MucmFuZ2VIYXNNYXJrKGYucG9zLGQucG9zLHQpfWZvcih2YXIgaD0wO2g8YS5sZW5ndGg7aCsrKXt2YXIgdj1hW2hdLG09di4kZnJvbSxnPXYuJHRvO2M/bC5yZW1vdmVNYXJrKG0ucG9zLGcucG9zLHQpOmwuYWRkTWFyayhtLnBvcyxnLnBvcyx0LmNyZWF0ZShlKSl9cihsLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfX1mdW5jdGlvbiB4cigpe3ZhciB0PVtdLGU9YXJndW1lbnRzLmxlbmd0aDt3aGlsZShlLS0pdFtlXT1hcmd1bWVudHNbZV07cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtmb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKylpZih0W29dKGUsbixyKSlyZXR1cm4hMDtyZXR1cm4hMX19dmFyIENyPXhyKG5yLHJyLGlyKSxPcj14cihucixhcixjciksTXI9e0VudGVyOnhyKHByLGRyLGhyLHZyKSwiTW9kLUVudGVyIjpmcixCYWNrc3BhY2U6Q3IsIk1vZC1CYWNrc3BhY2UiOkNyLERlbGV0ZTpPciwiTW9kLURlbGV0ZSI6T3IsIk1vZC1hIjptcn0sTnI9eyJDdHJsLWgiOk1yWyJCYWNrc3BhY2UiXSwiQWx0LUJhY2tzcGFjZSI6TXJbIk1vZC1CYWNrc3BhY2UiXSwiQ3RybC1kIjpNclsiRGVsZXRlIl0sIkN0cmwtQWx0LUJhY2tzcGFjZSI6TXJbIk1vZC1EZWxldGUiXSwiQWx0LURlbGV0ZSI6TXJbIk1vZC1EZWxldGUiXSwiQWx0LWQiOk1yWyJNb2QtRGVsZXRlIl19O2Zvcih2YXIgVHIgaW4gTXIpTnJbVHJdPU1yW1RyXTt2YXIgRHI9InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3I/L01hYy8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pOiJ1bmRlZmluZWQiIT10eXBlb2Ygb3MmJiJkYXJ3aW4iPT1vcy5wbGF0Zm9ybSgpLEFyPURyP05yOk1yLEVyPWZ1bmN0aW9uKHQsZSl7dGhpcy5tYXRjaD10LHRoaXMuaGFuZGxlcj0ic3RyaW5nIj09dHlwZW9mIGU/UnIoZSk6ZX07ZnVuY3Rpb24gUnIodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixyLG8pe3ZhciBpPXQ7aWYoblsxXSl7dmFyIHM9blswXS5sYXN0SW5kZXhPZihuWzFdKTtpKz1uWzBdLnNsaWNlKHMrblsxXS5sZW5ndGgpLHIrPXM7dmFyIGE9ci1vO2E+MCYmKGk9blswXS5zbGljZShzLWEscykraSxyPW8pfXJldHVybiBlLnRyLmluc2VydFRleHQoaSxyLG8pfX12YXIgX3I9NTAwO2Z1bmN0aW9uIFByKHQpe3ZhciBlPXQucnVsZXMsbj1uZXcgc1siUGx1Z2luIl0oe3N0YXRlOntpbml0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGFwcGx5OmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRNZXRhKHRoaXMpO3JldHVybiBufHwodC5zZWxlY3Rpb25TZXR8fHQuZG9jQ2hhbmdlZD9udWxsOmUpfX0scHJvcHM6e2hhbmRsZVRleHRJbnB1dDpmdW5jdGlvbih0LHIsbyxpKXtyZXR1cm4genIodCxyLG8saSxlLG4pfSxoYW5kbGVET01FdmVudHM6e2NvbXBvc2l0aW9uZW5kOmZ1bmN0aW9uKHQpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dmFyIHI9dC5zdGF0ZS5zZWxlY3Rpb24sbz1yLiRjdXJzb3I7byYmenIodCxvLnBvcyxvLnBvcywiIixlLG4pfSkpfX19LGlzSW5wdXRSdWxlczohMH0pO3JldHVybiBufWZ1bmN0aW9uIHpyKHQsZSxuLHIsbyxpKXtpZih0LmNvbXBvc2luZylyZXR1cm4hMTt2YXIgcz10LnN0YXRlLGE9cy5kb2MucmVzb2x2ZShlKTtpZihhLnBhcmVudC50eXBlLnNwZWMuY29kZSlyZXR1cm4hMTtmb3IodmFyIGM9YS5wYXJlbnQudGV4dEJldHdlZW4oTWF0aC5tYXgoMCxhLnBhcmVudE9mZnNldC1fciksYS5wYXJlbnRPZmZzZXQsbnVsbCwi77+8IikrcixsPTA7bDxvLmxlbmd0aDtsKyspe3ZhciB1PW9bbF0ubWF0Y2guZXhlYyhjKSxwPXUmJm9bbF0uaGFuZGxlcihzLHUsZS0odVswXS5sZW5ndGgtci5sZW5ndGgpLG4pO2lmKHApcmV0dXJuIHQuZGlzcGF0Y2gocC5zZXRNZXRhKGkse3RyYW5zZm9ybTpwLGZyb206ZSx0bzpuLHRleHQ6cn0pKSwhMH1yZXR1cm4hMX1mdW5jdGlvbiBJcih0LGUpe2Zvcih2YXIgbj10LnBsdWdpbnMscj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgbz1uW3JdLGk9dm9pZCAwO2lmKG8uc3BlYy5pc0lucHV0UnVsZXMmJihpPW8uZ2V0U3RhdGUodCkpKXtpZihlKXtmb3IodmFyIHM9dC50cixhPWkudHJhbnNmb3JtLGM9YS5zdGVwcy5sZW5ndGgtMTtjPj0wO2MtLSlzLnN0ZXAoYS5zdGVwc1tjXS5pbnZlcnQoYS5kb2NzW2NdKSk7dmFyIGw9cy5kb2MucmVzb2x2ZShpLmZyb20pLm1hcmtzKCk7ZShzLnJlcGxhY2VXaXRoKGkuZnJvbSxpLnRvLHQuc2NoZW1hLnRleHQoaS50ZXh0LGwpKSl9cmV0dXJuITB9fXJldHVybiExfW5ldyBFcigvLS0kLywi4oCUIiksbmV3IEVyKC9cLlwuXC4kLywi4oCmIiksbmV3IEVyKC8oPzpefFtcc1x7XFtcKFw8JyJcdTIwMThcdTIwMUNdKSgiKSQvLCLigJwiKSxuZXcgRXIoLyIkLywi4oCdIiksbmV3IEVyKC8oPzpefFtcc1x7XFtcKFw8JyJcdTIwMThcdTIwMUNdKSgnKSQvLCLigJgiKSxuZXcgRXIoLyckLywi4oCZIik7ZnVuY3Rpb24gQnIodCxlLG4scil7cmV0dXJuIG5ldyBFcih0LChmdW5jdGlvbih0LG8saSxzKXt2YXIgYT1uIGluc3RhbmNlb2YgRnVuY3Rpb24/bihvKTpuLGw9dC50ci5kZWxldGUoaSxzKSx1PWwuZG9jLnJlc29sdmUoaSkscD11LmJsb2NrUmFuZ2UoKSxmPXAmJk9iamVjdChjWyJoIl0pKHAsZSxhKTtpZighZilyZXR1cm4gbnVsbDtsLndyYXAocCxmKTt2YXIgZD1sLmRvYy5yZXNvbHZlKGktMSkubm9kZUJlZm9yZTtyZXR1cm4gZCYmZC50eXBlPT1lJiZPYmplY3QoY1siZSJdKShsLmRvYyxpLTEpJiYoIXJ8fHIobyxkKSkmJmwuam9pbihpLTEpLGx9KSl9ZnVuY3Rpb24gVnIodCxlLG4pe3JldHVybiBuZXcgRXIodCwoZnVuY3Rpb24odCxyLG8saSl7dmFyIHM9dC5kb2MucmVzb2x2ZShvKSxhPW4gaW5zdGFuY2VvZiBGdW5jdGlvbj9uKHIpOm47cmV0dXJuIHMubm9kZSgtMSkuY2FuUmVwbGFjZVdpdGgocy5pbmRleCgtMSkscy5pbmRleEFmdGVyKC0xKSxlKT90LnRyLmRlbGV0ZShvLGkpLnNldEJsb2NrVHlwZShvLG8sZSxhKTpudWxsfSkpfXZhciBGcj1uKCI5ODZkIik7Ci8qIQogICAgKiB0aXB0YXAtdXRpbHMgdjEuOC4yCiAgICAqIChjKSAyMDE5IFNjcnVtcHkgVUcgKGxpbWl0ZWQgbGlhYmlsaXR5KQogICAgKiBAbGljZW5zZSBNSVQKICAgICovZnVuY3Rpb24ganIodCl7cmV0dXJuICRyKHQpfHxMcih0KXx8SHIoKX1mdW5jdGlvbiAkcih0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxuPW5ldyBBcnJheSh0Lmxlbmd0aCk7ZTx0Lmxlbmd0aDtlKyspbltlXT10W2VdO3JldHVybiBufX1mdW5jdGlvbiBMcih0KXtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSlyZXR1cm4gQXJyYXkuZnJvbSh0KX1mdW5jdGlvbiBIcigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9ZnVuY3Rpb24gV3IodCxlKXt2YXIgbj10LnNlbGVjdGlvbixyPW4uZnJvbSxvPW4udG8saT1bXTt0LmRvYy5ub2Rlc0JldHdlZW4ocixvLChmdW5jdGlvbih0KXtpPVtdLmNvbmNhdChqcihpKSxqcih0Lm1hcmtzKSl9KSk7dmFyIHM9aS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlLm5hbWU9PT1lLm5hbWV9KSk7cmV0dXJuIHM/cy5hdHRyczp7fX1mdW5jdGlvbiBxcigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGw7aWYoIXR8fCFlKXJldHVybiExO3ZhciBuPXQucGFyZW50LmNoaWxkQWZ0ZXIodC5wYXJlbnRPZmZzZXQpO2lmKCFuLm5vZGUpcmV0dXJuITE7dmFyIHI9bi5ub2RlLm1hcmtzLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PT1lfSkpO2lmKCFyKXJldHVybiExO3ZhciBvPXQuaW5kZXgoKSxpPXQuc3RhcnQoKStuLm9mZnNldCxzPW8rMSxhPWkrbi5ub2RlLm5vZGVTaXplO3doaWxlKG8+MCYmci5pc0luU2V0KHQucGFyZW50LmNoaWxkKG8tMSkubWFya3MpKW8tPTEsaS09dC5wYXJlbnQuY2hpbGQobykubm9kZVNpemU7d2hpbGUoczx0LnBhcmVudC5jaGlsZENvdW50JiZyLmlzSW5TZXQodC5wYXJlbnQuY2hpbGQocykubWFya3MpKWErPXQucGFyZW50LmNoaWxkKHMpLm5vZGVTaXplLHMrPTE7cmV0dXJue2Zyb206aSx0bzphfX1mdW5jdGlvbiBKcih0LGUpe3ZhciBuPXQuc2VsZWN0aW9uLHI9bi5mcm9tLG89bi4kZnJvbSxpPW4udG8scz1uLmVtcHR5O3JldHVybiBzPyEhZS5pc0luU2V0KHQuc3RvcmVkTWFya3N8fG8ubWFya3MoKSk6ISF0LmRvYy5yYW5nZUhhc01hcmsocixpLGUpfWZ1bmN0aW9uIEtyKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LHI9ZnVuY3Rpb24odCl7cmV0dXJuIHQudHlwZT09PWV9LG89T2JqZWN0KEZyWyJmaW5kU2VsZWN0ZWROb2RlT2ZUeXBlIl0pKGUpKHQuc2VsZWN0aW9uKXx8T2JqZWN0KEZyWyJmaW5kUGFyZW50Tm9kZSJdKShyKSh0LnNlbGVjdGlvbik7cmV0dXJuIE9iamVjdC5rZXlzKG4pLmxlbmd0aCYmbz9vLm5vZGUuaGFzTWFya3VwKGUsbik6ISFvfXZhciBVcj1uKCI4YmJmIiksR3I9bi5uKFVyKTtmdW5jdGlvbiBYcih0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciBvPW4uc2VsZWN0aW9uLGk9by4kZnJvbSxzPW8uJHRvLGw9aS5ibG9ja1JhbmdlKHMpLHU9ITEscD1sO2lmKCFsKXJldHVybiExO2lmKGwuZGVwdGg+PTImJmkubm9kZShsLmRlcHRoLTEpLnR5cGUuY29tcGF0aWJsZUNvbnRlbnQodCkmJjA9PWwuc3RhcnRJbmRleCl7aWYoMD09aS5pbmRleChsLmRlcHRoLTEpKXJldHVybiExO3ZhciBmPW4uZG9jLnJlc29sdmUobC5zdGFydC0yKTtwPW5ldyBhWyJOb2RlUmFuZ2UiXShmLGYsbC5kZXB0aCksbC5lbmRJbmRleDxsLnBhcmVudC5jaGlsZENvdW50JiYobD1uZXcgYVsiTm9kZVJhbmdlIl0oaSxuLmRvYy5yZXNvbHZlKHMuZW5kKGwuZGVwdGgpKSxsLmRlcHRoKSksdT0hMH12YXIgZD1PYmplY3QoY1siaCJdKShwLHQsZSxsKTtyZXR1cm4hIWQmJihyJiZyKFlyKG4udHIsbCxkLHUsdCkuc2Nyb2xsSW50b1ZpZXcoKSksITApfX1mdW5jdGlvbiBZcih0LGUsbixyLG8pe2Zvcih2YXIgaT1hWyJGcmFnbWVudCJdLmVtcHR5LHM9bi5sZW5ndGgtMTtzPj0wO3MtLSlpPWFbIkZyYWdtZW50Il0uZnJvbShuW3NdLnR5cGUuY3JlYXRlKG5bc10uYXR0cnMsaSkpO3Quc3RlcChuZXcgY1siYiJdKGUuc3RhcnQtKHI/MjowKSxlLmVuZCxlLnN0YXJ0LGUuZW5kLG5ldyBhWyJTbGljZSJdKGksMCwwKSxuLmxlbmd0aCwhMCkpO2Zvcih2YXIgbD0wLHU9MDt1PG4ubGVuZ3RoO3UrKyluW3VdLnR5cGU9PW8mJihsPXUrMSk7Zm9yKHZhciBwPW4ubGVuZ3RoLWwsZj1lLnN0YXJ0K24ubGVuZ3RoLShyPzI6MCksZD1lLnBhcmVudCxoPWUuc3RhcnRJbmRleCx2PWUuZW5kSW5kZXgsbT0hMDtoPHY7aCsrLG09ITEpIW0mJk9iamVjdChjWyJmIl0pKHQuZG9jLGYscCkmJih0LnNwbGl0KGYscCksZis9MipwKSxmKz1kLmNoaWxkKGgpLm5vZGVTaXplO3JldHVybiB0fWZ1bmN0aW9uIFpyKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciByPWUuc2VsZWN0aW9uLG89ci4kZnJvbSxpPXIuJHRvLHM9ci5ub2RlO2lmKHMmJnMuaXNCbG9ja3x8by5kZXB0aDwyfHwhby5zYW1lUGFyZW50KGkpKXJldHVybiExO3ZhciBsPW8ubm9kZSgtMSk7aWYobC50eXBlIT10KXJldHVybiExO2lmKDA9PW8ucGFyZW50LmNvbnRlbnQuc2l6ZSl7aWYoMj09by5kZXB0aHx8by5ub2RlKC0zKS50eXBlIT10fHxvLmluZGV4KC0yKSE9by5ub2RlKC0yKS5jaGlsZENvdW50LTEpcmV0dXJuITE7aWYobil7Zm9yKHZhciB1PWFbIkZyYWdtZW50Il0uZW1wdHkscD1vLmluZGV4KC0xKT4wLGY9by5kZXB0aC0ocD8xOjIpO2Y+PW8uZGVwdGgtMztmLS0pdT1hWyJGcmFnbWVudCJdLmZyb20oby5ub2RlKGYpLmNvcHkodSkpO3U9dS5hcHBlbmQoYVsiRnJhZ21lbnQiXS5mcm9tKHQuY3JlYXRlQW5kRmlsbCgpKSk7dmFyIGQ9ZS50ci5yZXBsYWNlKG8uYmVmb3JlKHA/bnVsbDotMSksby5hZnRlcigtMyksbmV3IGFbIlNsaWNlIl0odSxwPzM6MiwyKSk7ZC5zZXRTZWxlY3Rpb24oZS5zZWxlY3Rpb24uY29uc3RydWN0b3IubmVhcihkLmRvYy5yZXNvbHZlKG8ucG9zKyhwPzM6MikpKSksbihkLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfXZhciBoPWkucG9zPT1vLmVuZCgpP2wuY29udGVudE1hdGNoQXQoMCkuZGVmYXVsdFR5cGU6bnVsbCx2PWUudHIuZGVsZXRlKG8ucG9zLGkucG9zKSxtPWgmJltudWxsLHt0eXBlOmh9XTtyZXR1cm4hIU9iamVjdChjWyJmIl0pKHYuZG9jLG8ucG9zLDIsbSkmJihuJiZuKHYuc3BsaXQoby5wb3MsMixtKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9fWZ1bmN0aW9uIFFyKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciByPWUuc2VsZWN0aW9uLG89ci4kZnJvbSxpPXIuJHRvLHM9by5ibG9ja1JhbmdlKGksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoaWxkQ291bnQmJmUuZmlyc3RDaGlsZC50eXBlPT10fSkpO3JldHVybiEhcyYmKCFufHwoby5ub2RlKHMuZGVwdGgtMSkudHlwZT09dD90byhlLG4sdCxzKTplbyhlLG4scykpKX19ZnVuY3Rpb24gdG8odCxlLG4scil7dmFyIG89dC50cixpPXIuZW5kLHM9ci4kdG8uZW5kKHIuZGVwdGgpO3JldHVybiBpPHMmJihvLnN0ZXAobmV3IGNbImIiXShpLTEscyxpLHMsbmV3IGFbIlNsaWNlIl0oYVsiRnJhZ21lbnQiXS5mcm9tKG4uY3JlYXRlKG51bGwsci5wYXJlbnQuY29weSgpKSksMSwwKSwxLCEwKSkscj1uZXcgYVsiTm9kZVJhbmdlIl0oby5kb2MucmVzb2x2ZShyLiRmcm9tLnBvcyksby5kb2MucmVzb2x2ZShzKSxyLmRlcHRoKSksZShvLmxpZnQocixPYmplY3QoY1siaiJdKShyKSkuc2Nyb2xsSW50b1ZpZXcoKSksITB9ZnVuY3Rpb24gZW8odCxlLG4pe2Zvcih2YXIgcj10LnRyLG89bi5wYXJlbnQsaT1uLmVuZCxzPW4uZW5kSW5kZXgtMSxsPW4uc3RhcnRJbmRleDtzPmw7cy0tKWktPW8uY2hpbGQocykubm9kZVNpemUsci5kZWxldGUoaS0xLGkrMSk7dmFyIHU9ci5kb2MucmVzb2x2ZShuLnN0YXJ0KSxwPXUubm9kZUFmdGVyLGY9MD09bi5zdGFydEluZGV4LGQ9bi5lbmRJbmRleD09by5jaGlsZENvdW50LGg9dS5ub2RlKC0xKSx2PXUuaW5kZXgoLTEpO2lmKCFoLmNhblJlcGxhY2UodisoZj8wOjEpLHYrMSxwLmNvbnRlbnQuYXBwZW5kKGQ/YVsiRnJhZ21lbnQiXS5lbXB0eTphWyJGcmFnbWVudCJdLmZyb20obykpKSlyZXR1cm4hMTt2YXIgbT11LnBvcyxnPW0rcC5ub2RlU2l6ZTtyZXR1cm4gci5zdGVwKG5ldyBjWyJiIl0obS0oZj8xOjApLGcrKGQ/MTowKSxtKzEsZy0xLG5ldyBhWyJTbGljZSJdKChmP2FbIkZyYWdtZW50Il0uZW1wdHk6YVsiRnJhZ21lbnQiXS5mcm9tKG8uY29weShhWyJGcmFnbWVudCJdLmVtcHR5KSkpLmFwcGVuZChkP2FbIkZyYWdtZW50Il0uZW1wdHk6YVsiRnJhZ21lbnQiXS5mcm9tKG8uY29weShhWyJGcmFnbWVudCJdLmVtcHR5KSkpLGY/MDoxLGQ/MDoxKSxmPzA6MSkpLGUoci5zY3JvbGxJbnRvVmlldygpKSwhMH1mdW5jdGlvbiBubyh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgcj1lLnNlbGVjdGlvbixvPXIuJGZyb20saT1yLiR0byxzPW8uYmxvY2tSYW5nZShpLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGlsZENvdW50JiZlLmZpcnN0Q2hpbGQudHlwZT09dH0pKTtpZighcylyZXR1cm4hMTt2YXIgbD1zLnN0YXJ0SW5kZXg7aWYoMD09bClyZXR1cm4hMTt2YXIgdT1zLnBhcmVudCxwPXUuY2hpbGQobC0xKTtpZihwLnR5cGUhPXQpcmV0dXJuITE7aWYobil7dmFyIGY9cC5sYXN0Q2hpbGQmJnAubGFzdENoaWxkLnR5cGU9PXUudHlwZSxkPWFbIkZyYWdtZW50Il0uZnJvbShmP3QuY3JlYXRlKCk6bnVsbCksaD1uZXcgYVsiU2xpY2UiXShhWyJGcmFnbWVudCJdLmZyb20odC5jcmVhdGUobnVsbCxhWyJGcmFnbWVudCJdLmZyb20odS50eXBlLmNyZWF0ZShudWxsLGQpKSkpLGY/MzoxLDApLHY9cy5zdGFydCxtPXMuZW5kO24oZS50ci5zdGVwKG5ldyBjWyJiIl0odi0oZj8zOjEpLG0sdixtLGgsMSwhMCkpLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfX0KLyohCiAgICAqIHRpcHRhcC1jb21tYW5kcyB2MS4xMi40CiAgICAqIChjKSAyMDE5IFNjcnVtcHkgVUcgKGxpbWl0ZWQgbGlhYmlsaXR5KQogICAgKiBAbGljZW5zZSBNSVQKICAgICovZnVuY3Rpb24gcm8odCl7cmV0dXJuIG9vKHQpfHxpbyh0KXx8c28oKX1mdW5jdGlvbiBvbyh0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxuPW5ldyBBcnJheSh0Lmxlbmd0aCk7ZTx0Lmxlbmd0aDtlKyspbltlXT10W2VdO3JldHVybiBufX1mdW5jdGlvbiBpbyh0KXtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSlyZXR1cm4gQXJyYXkuZnJvbSh0KX1mdW5jdGlvbiBzbygpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9ZnVuY3Rpb24gYW8odCxlLG4pe3ZhciByPVtdO3JldHVybiBuLmRvYy5ub2Rlc0JldHdlZW4odCxlLChmdW5jdGlvbih0LGUpe3I9W10uY29uY2F0KHJvKHIpLHJvKHQubWFya3MubWFwKChmdW5jdGlvbihuKXtyZXR1cm57c3RhcnQ6ZSxlbmQ6ZSt0Lm5vZGVTaXplLG1hcms6bn19KSkpKX0pKSxyfWZ1bmN0aW9uIGNvKHQsZSxuKXtyZXR1cm4gbmV3IEVyKHQsKGZ1bmN0aW9uKHQscixvLGkpe3ZhciBzPW4gaW5zdGFuY2VvZiBGdW5jdGlvbj9uKHIpOm4sYT10LnRyLGM9ci5sZW5ndGgtMSxsPWksdT1vO2lmKHJbY10pe3ZhciBwPW8rclswXS5pbmRleE9mKHJbYy0xXSksZj1wK3JbYy0xXS5sZW5ndGgtMSxkPXArcltjLTFdLmxhc3RJbmRleE9mKHJbY10pLGg9ZCtyW2NdLmxlbmd0aCx2PWFvKG8saSx0KS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3ZhciBuPXQubWFyay50eXBlLmV4Y2x1ZGVkO3JldHVybiBuLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lLm5hbWV9KSl9KSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lbmQ+cH0pKTtpZih2Lmxlbmd0aClyZXR1cm4hMTtoPGYmJmEuZGVsZXRlKGgsZiksZD5wJiZhLmRlbGV0ZShwLGQpLHU9cCxsPXUrcltjXS5sZW5ndGh9cmV0dXJuIGEuYWRkTWFyayh1LGwsZS5jcmVhdGUocykpLGEucmVtb3ZlU3RvcmVkTWFyayhlKSxhfSkpfWZ1bmN0aW9uIGxvKHQsZSxuKXt2YXIgcj1mdW5jdGlvbiByKG8pe3ZhciBpPVtdO3JldHVybiBvLmZvckVhY2goKGZ1bmN0aW9uKG8pe2lmKG8uaXNUZXh0KXt2YXIgcyxhPW8udGV4dCxjPTA7ZG97aWYocz10LmV4ZWMoYSkscyl7dmFyIGw9cy5pbmRleCx1PWwrc1swXS5sZW5ndGgscD1uIGluc3RhbmNlb2YgRnVuY3Rpb24/bihzWzBdKTpuO2w+MCYmaS5wdXNoKG8uY3V0KGMsbCkpLGkucHVzaChvLmN1dChsLHUpLm1hcmsoZS5jcmVhdGUocCkuYWRkVG9TZXQoby5tYXJrcykpKSxjPXV9fXdoaWxlKHMpO2M8YS5sZW5ndGgmJmkucHVzaChvLmN1dChjKSl9ZWxzZSBpLnB1c2goby5jb3B5KHIoby5jb250ZW50KSkpfSkpLGFbIkZyYWdtZW50Il0uZnJvbUFycmF5KGkpfTtyZXR1cm4gbmV3IHNbIlBsdWdpbiJdKHtwcm9wczp7dHJhbnNmb3JtUGFzdGVkOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgYVsiU2xpY2UiXShyKHQuY29udGVudCksdC5vcGVuU3RhcnQsdC5vcGVuRW5kKX19fSl9ZnVuY3Rpb24gdW8odCxlLG4pe3ZhciByPWZ1bmN0aW9uIHIobyl7dmFyIGk9W107cmV0dXJuIG8uZm9yRWFjaCgoZnVuY3Rpb24obyl7aWYoby5pc1RleHQpe3ZhciBzLGE9by50ZXh0LGM9by5tYXJrcyxsPTAsdT0hIWMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4ibGluayI9PT10LnR5cGUubmFtZX0pKVswXTt3aGlsZSghdSYmbnVsbCE9PShzPXQuZXhlYyhhKSkpaWYoc1sxXSl7dmFyIHA9cy5pbmRleCxmPXArc1swXS5sZW5ndGgsZD1wK3NbMF0uaW5kZXhPZihzWzFdKSxoPWQrc1sxXS5sZW5ndGgsdj1uIGluc3RhbmNlb2YgRnVuY3Rpb24/bihzKTpuO3A+MCYmaS5wdXNoKG8uY3V0KGwscCkpLGkucHVzaChvLmN1dChkLGgpLm1hcmsoZS5jcmVhdGUodikuYWRkVG9TZXQoby5tYXJrcykpKSxsPWZ9bDxhLmxlbmd0aCYmaS5wdXNoKG8uY3V0KGwpKX1lbHNlIGkucHVzaChvLmNvcHkocihvLmNvbnRlbnQpKSl9KSksYVsiRnJhZ21lbnQiXS5mcm9tQXJyYXkoaSl9O3JldHVybiBuZXcgc1siUGx1Z2luIl0oe3Byb3BzOnt0cmFuc2Zvcm1QYXN0ZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBhWyJTbGljZSJdKHIodC5jb250ZW50KSx0Lm9wZW5TdGFydCx0Lm9wZW5FbmQpfX19KX1mdW5jdGlvbiBwbyh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgcj1lLnRyLG89ZS5zZWxlY3Rpb24saT1vLmZyb20scz1vLnRvLGE9by4kZnJvbSxjPW8uZW1wdHk7aWYoYyl7dmFyIGw9cXIoYSx0KTtpPWwuZnJvbSxzPWwudG99cmV0dXJuIHIucmVtb3ZlTWFyayhpLHMsdCksbihyKX19ZnVuY3Rpb24gZm8odCxlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MSxyPWFyZ3VtZW50cy5sZW5ndGg+Mz9hcmd1bWVudHNbM106dm9pZCAwLG89dC5yZXNvbHZlKGUpLGk9by5kZXB0aC1uLHM9ciYmcltyLmxlbmd0aC0xXXx8by5wYXJlbnQ7aWYoaTwwfHxvLnBhcmVudC50eXBlLnNwZWMuaXNvbGF0aW5nfHwhby5wYXJlbnQuY2FuUmVwbGFjZShvLmluZGV4KCksby5wYXJlbnQuY2hpbGRDb3VudCl8fCFzLnR5cGUudmFsaWRDb250ZW50KG8ucGFyZW50LmNvbnRlbnQuY3V0QnlJbmRleChvLmluZGV4KCksby5wYXJlbnQuY2hpbGRDb3VudCkpKXJldHVybiExO2Zvcih2YXIgYT1vLmRlcHRoLTEsYz1uLTI7YT5pO2EtLSxjLS0pe3ZhciBsPW8ubm9kZShhKSx1PW8uaW5kZXgoYSk7aWYobC50eXBlLnNwZWMuaXNvbGF0aW5nKXJldHVybiExO3ZhciBwPWwuY29udGVudC5jdXRCeUluZGV4KHUsbC5jaGlsZENvdW50KSxmPXImJnJbY118fGw7aWYoZiE9bCYmKHA9cC5yZXBsYWNlQ2hpbGQoMCxmLnR5cGUuY3JlYXRlKGYuYXR0cnMpKSksIWwuY2FuUmVwbGFjZSh1KzEsbC5jaGlsZENvdW50KSlyZXR1cm4hMX12YXIgZD1vLmluZGV4QWZ0ZXIoaSksaD1yJiZyWzBdO3JldHVybiBvLm5vZGUoaSkuY2FuUmVwbGFjZVdpdGgoZCxkLGg/aC50eXBlOm8ubm9kZShpKzEpLnR5cGUpfWZ1bmN0aW9uIGhvKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciByPWUuc2VsZWN0aW9uLG89ci4kZnJvbSxpPXIuJHRvLHM9ci5ub2RlO2lmKHMmJnMuaXNCbG9ja3x8by5kZXB0aDwyfHwhby5zYW1lUGFyZW50KGkpKXJldHVybiExO3ZhciBjPW8ubm9kZSgtMSk7aWYoYy50eXBlIT10KXJldHVybiExO2lmKDA9PW8ucGFyZW50LmNvbnRlbnQuc2l6ZSl7aWYoMj09by5kZXB0aHx8by5ub2RlKC0zKS50eXBlIT10fHxvLmluZGV4KC0yKSE9by5ub2RlKC0yKS5jaGlsZENvdW50LTEpcmV0dXJuITE7aWYobil7Zm9yKHZhciBsPWFbIkZyYWdtZW50Il0uZW1wdHksdT1vLmluZGV4KC0xKT4wLHA9by5kZXB0aC0odT8xOjIpO3A+PW8uZGVwdGgtMztwLS0pbD1hWyJGcmFnbWVudCJdLmZyb20oby5ub2RlKHApLmNvcHkobCkpO2w9bC5hcHBlbmQoYVsiRnJhZ21lbnQiXS5mcm9tKHQuY3JlYXRlQW5kRmlsbCgpKSk7dmFyIGY9ZS50ci5yZXBsYWNlKG8uYmVmb3JlKHU/bnVsbDotMSksby5hZnRlcigtMyksbmV3IGFbIlNsaWNlIl0obCx1PzM6MiwyKSk7Zi5zZXRTZWxlY3Rpb24oZS5zZWxlY3Rpb24uY29uc3RydWN0b3IubmVhcihmLmRvYy5yZXNvbHZlKG8ucG9zKyh1PzM6MikpKSksbihmLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfXZhciBkPWkucG9zPT1vLmVuZCgpP2MuY29udGVudE1hdGNoQXQoby5pbmRleEFmdGVyKC0xKSkuZGVmYXVsdFR5cGU6bnVsbCxoPWUudHIuZGVsZXRlKG8ucG9zLGkucG9zKSx2PWQmJlt7dHlwZTp0fSx7dHlwZTpkfV07cmV0dXJuIHZ8fCh2PVt7dHlwZTp0fSxudWxsXSksISFmbyhoLmRvYyxvLnBvcywyLHYpJiYobiYmbihoLnNwbGl0KG8ucG9zLDIsdikuc2Nyb2xsSW50b1ZpZXcoKSksITApfX1mdW5jdGlvbiB2byh0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtyZXR1cm4gZnVuY3Rpb24ocixvLGkpe3ZhciBzPUtyKHIsdCxuKTtyZXR1cm4gcz9icihlKShyLG8saSk6YnIodCxuKShyLG8saSl9fWZ1bmN0aW9uIG1vKHQsZSl7cmV0dXJuIHQudHlwZT09PWUubm9kZXMuYnVsbGV0X2xpc3R8fHQudHlwZT09PWUubm9kZXMub3JkZXJlZF9saXN0fHx0LnR5cGU9PT1lLm5vZGVzLnRvZG9fbGlzdH1mdW5jdGlvbiBnbyh0LGUpe3JldHVybiBmdW5jdGlvbihuLHIsbyl7dmFyIGk9bi5zY2hlbWEscz1uLnNlbGVjdGlvbixhPXMuJGZyb20sYz1zLiR0byxsPWEuYmxvY2tSYW5nZShjKTtpZighbClyZXR1cm4hMTt2YXIgdT1PYmplY3QoRnJbImZpbmRQYXJlbnROb2RlIl0pKChmdW5jdGlvbih0KXtyZXR1cm4gbW8odCxpKX0pKShzKTtpZihsLmRlcHRoPj0xJiZ1JiZsLmRlcHRoLXUuZGVwdGg8PTEpe2lmKHUubm9kZS50eXBlPT09dClyZXR1cm4gUXIoZSkobixyLG8pO2lmKG1vKHUubm9kZSxpKSYmdC52YWxpZENvbnRlbnQodS5ub2RlLmNvbnRlbnQpKXt2YXIgcD1uLnRyO3JldHVybiBwLnNldE5vZGVNYXJrdXAodS5wb3MsdCksciYmcihwKSwhMX19cmV0dXJuIFhyKHQpKG4scixvKX19ZnVuY3Rpb24geW8odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXt2YXIgbz1LcihlLHQpO3JldHVybiBvP3VyKGUsbik6d3IodCkoZSxuLHIpfX1mdW5jdGlvbiB3byh0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciBvPW4udHIsaT1uLnNlbGVjdGlvbixzPW4uZG9jLGE9aS5mcm9tLGM9aS50byxsPWkuJGZyb20sdT1pLmVtcHR5O2lmKHUpe3ZhciBwPXFyKGwsdCk7YT1wLmZyb20sYz1wLnRvfXZhciBmPXMucmFuZ2VIYXNNYXJrKGEsYyx0KTtyZXR1cm4gZiYmby5yZW1vdmVNYXJrKGEsYyx0KSxvLmFkZE1hcmsoYSxjLHQuY3JlYXRlKGUpKSxyKG8pfX0KLyohCiAgICAqIHRpcHRhcCB2MS4yNi41CiAgICAqIChjKSAyMDE5IFNjcnVtcHkgVUcgKGxpbWl0ZWQgbGlhYmlsaXR5KQogICAgKiBAbGljZW5zZSBNSVQKICAgICovZnVuY3Rpb24gYm8odCl7cmV0dXJuIGJvPSJmdW5jdGlvbiI9PT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiB0fSxibyh0KX1mdW5jdGlvbiBTbyh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIGtvKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsInZhbHVlImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19ZnVuY3Rpb24geG8odCxlLG4pe3JldHVybiBlJiZrbyh0LnByb3RvdHlwZSxlKSxuJiZrbyh0LG4pLHR9ZnVuY3Rpb24gQ28odCxlLG4pe3JldHVybiBlIGluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbZV09bix0fWZ1bmN0aW9uIE9vKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBNbyh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9PbyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe0NvKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpPbyhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH1mdW5jdGlvbiBObyh0LGUpe2lmKCJmdW5jdGlvbiIhPT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmRG8odCxlKX1mdW5jdGlvbiBUbyh0KXtyZXR1cm4gVG89T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sVG8odCl9ZnVuY3Rpb24gRG8odCxlKXtyZXR1cm4gRG89T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LERvKHQsZSl9ZnVuY3Rpb24gQW8odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiB0fWZ1bmN0aW9uIEVvKHQsZSl7cmV0dXJuIWV8fCJvYmplY3QiIT09dHlwZW9mIGUmJiJmdW5jdGlvbiIhPT10eXBlb2YgZT9Bbyh0KTplfWZ1bmN0aW9uIFJvKHQsZSl7cmV0dXJuIHpvKHQpfHxCbyh0LGUpfHxGbygpfWZ1bmN0aW9uIF9vKHQpe3JldHVybiBQbyh0KXx8SW8odCl8fFZvKCl9ZnVuY3Rpb24gUG8odCl7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBlPTAsbj1uZXcgQXJyYXkodC5sZW5ndGgpO2U8dC5sZW5ndGg7ZSsrKW5bZV09dFtlXTtyZXR1cm4gbn19ZnVuY3Rpb24gem8odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH1mdW5jdGlvbiBJbyh0KXtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSlyZXR1cm4gQXJyYXkuZnJvbSh0KX1mdW5jdGlvbiBCbyh0LGUpe2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QodCl8fCJbb2JqZWN0IEFyZ3VtZW50c10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXt2YXIgbj1bXSxyPSEwLG89ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgcyxhPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0ocz1hLm5leHQoKSkuZG9uZSk7cj0hMClpZihuLnB1c2gocy52YWx1ZSksZSYmbi5sZW5ndGg9PT1lKWJyZWFrfWNhdGNoKGMpe289ITAsaT1jfWZpbmFsbHl7dHJ5e3J8fG51bGw9PWFbInJldHVybiJdfHxhWyJyZXR1cm4iXSgpfWZpbmFsbHl7aWYobyl0aHJvdyBpfX1yZXR1cm4gbn19ZnVuY3Rpb24gVm8oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfWZ1bmN0aW9uIEZvKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfWZ1bmN0aW9uIGpvKHQpe3JldHVybiB0LnJlcGxhY2UoLyg/Ol5cd3xbQS1aXXxcYlx3KS9nLChmdW5jdGlvbih0LGUpe3JldHVybiAwPT09ZT90LnRvTG93ZXJDYXNlKCk6dC50b1VwcGVyQ2FzZSgpfSkpLnJlcGxhY2UoL1xzKy9nLCIiKX12YXIgJG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7dmFyIHI9bi5lZGl0b3Isbz1uLmV4dGVuc2lvbixpPW4ucGFyZW50LHM9bi5ub2RlLGE9bi52aWV3LGM9bi5kZWNvcmF0aW9ucyxsPW4uZ2V0UG9zO1NvKHRoaXMsdCksdGhpcy5jb21wb25lbnQ9ZSx0aGlzLmVkaXRvcj1yLHRoaXMuZXh0ZW5zaW9uPW8sdGhpcy5wYXJlbnQ9aSx0aGlzLm5vZGU9cyx0aGlzLnZpZXc9YSx0aGlzLmRlY29yYXRpb25zPWMsdGhpcy5pc05vZGU9ISF0aGlzLm5vZGUubWFya3MsdGhpcy5pc01hcms9IXRoaXMuaXNOb2RlLHRoaXMuZ2V0UG9zPXRoaXMuaXNNYXJrP3RoaXMuZ2V0TWFya1BvczpsLHRoaXMuY2FwdHVyZUV2ZW50cz0hMCx0aGlzLmRvbT10aGlzLmNyZWF0ZURPTSgpLHRoaXMuY29udGVudERPTT10aGlzLnZtLiRyZWZzLmNvbnRlbnR9cmV0dXJuIHhvKHQsW3trZXk6ImNyZWF0ZURPTSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9R3IuYS5leHRlbmQodGhpcy5jb21wb25lbnQpLG49e2VkaXRvcjp0aGlzLmVkaXRvcixub2RlOnRoaXMubm9kZSx2aWV3OnRoaXMudmlldyxnZXRQb3M6ZnVuY3Rpb24oKXtyZXR1cm4gdC5nZXRQb3MoKX0sZGVjb3JhdGlvbnM6dGhpcy5kZWNvcmF0aW9ucyxzZWxlY3RlZDohMSxvcHRpb25zOnRoaXMuZXh0ZW5zaW9uLm9wdGlvbnMsdXBkYXRlQXR0cnM6ZnVuY3Rpb24oZSl7cmV0dXJuIHQudXBkYXRlQXR0cnMoZSl9fTtyZXR1cm4iZnVuY3Rpb24iPT09dHlwZW9mIHRoaXMuZXh0ZW5zaW9uLnNldFNlbGVjdGlvbiYmKHRoaXMuc2V0U2VsZWN0aW9uPXRoaXMuZXh0ZW5zaW9uLnNldFNlbGVjdGlvbiksdGhpcy52bT1uZXcgZSh7cGFyZW50OnRoaXMucGFyZW50LHByb3BzRGF0YTpufSkuJG1vdW50KCksdGhpcy52bS4kZWx9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudHlwZT09PXRoaXMubm9kZS50eXBlJiYodD09PXRoaXMubm9kZSYmdGhpcy5kZWNvcmF0aW9ucz09PWV8fCh0aGlzLm5vZGU9dCx0aGlzLmRlY29yYXRpb25zPWUsdGhpcy51cGRhdGVDb21wb25lbnRQcm9wcyh7bm9kZTp0LGRlY29yYXRpb25zOmV9KSwhMCkpfX0se2tleToidXBkYXRlQ29tcG9uZW50UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodGhpcy52bS5fcHJvcHMpe3ZhciBuPUdyLmEuY29uZmlnLnNpbGVudDtHci5hLmNvbmZpZy5zaWxlbnQ9ITAsT2JqZWN0LmVudHJpZXModCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIG49Um8odCwyKSxyPW5bMF0sbz1uWzFdO2Uudm0uX3Byb3BzW3JdPW99KSksR3IuYS5jb25maWcuc2lsZW50PW59fX0se2tleToidXBkYXRlQXR0cnMiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMudmlldy5lZGl0YWJsZSl7dmFyIGU9dGhpcy52aWV3LnN0YXRlLG49dGhpcy5ub2RlLnR5cGUscj10aGlzLmdldFBvcygpLG89TW8oe30sdGhpcy5ub2RlLmF0dHJzLHt9LHQpLGk9dGhpcy5pc01hcms/ZS50ci5yZW1vdmVNYXJrKHIuZnJvbSxyLnRvLG4pLmFkZE1hcmsoci5mcm9tLHIudG8sbi5jcmVhdGUobykpOmUudHIuc2V0Tm9kZU1hcmt1cChyLG51bGwsbyk7dGhpcy52aWV3LmRpc3BhdGNoKGkpfX19LHtrZXk6Imlnbm9yZU11dGF0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4ic2VsZWN0aW9uIiE9PXQudHlwZSYmKCF0aGlzLmNvbnRlbnRET018fCF0aGlzLmNvbnRlbnRET00uY29udGFpbnModC50YXJnZXQpKX19LHtrZXk6InN0b3BFdmVudCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZigiZnVuY3Rpb24iPT09dHlwZW9mIHRoaXMuZXh0ZW5zaW9uLnN0b3BFdmVudClyZXR1cm4gdGhpcy5leHRlbnNpb24uc3RvcEV2ZW50KHQpO3ZhciBuPSEhdGhpcy5leHRlbnNpb24uc2NoZW1hLmRyYWdnYWJsZTtpZihuJiYibW91c2Vkb3duIj09PXQudHlwZSl7dmFyIHI9dC50YXJnZXQuY2xvc2VzdCYmdC50YXJnZXQuY2xvc2VzdCgiW2RhdGEtZHJhZy1oYW5kbGVdIiksbz1yJiYodGhpcy5kb209PT1yfHx0aGlzLmRvbS5jb250YWlucyhyKSk7byYmKHRoaXMuY2FwdHVyZUV2ZW50cz0hMSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJkcmFnZW5kIiwoZnVuY3Rpb24oKXtlLmNhcHR1cmVFdmVudHM9ITB9KSx7b25jZTohMH0pKX12YXIgaT0iY29weSI9PT10LnR5cGUscz0icGFzdGUiPT09dC50eXBlLGE9ImN1dCI9PT10LnR5cGUsYz10LnR5cGUuc3RhcnRzV2l0aCgiZHJhZyIpfHwiZHJvcCI9PT10LnR5cGU7cmV0dXJuIShuJiZjfHxpfHxzfHxhKSYmdGhpcy5jYXB0dXJlRXZlbnRzfX0se2tleToic2VsZWN0Tm9kZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUNvbXBvbmVudFByb3BzKHtzZWxlY3RlZDohMH0pfX0se2tleToiZGVzZWxlY3ROb2RlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudXBkYXRlQ29tcG9uZW50UHJvcHMoe3NlbGVjdGVkOiExfSl9fSx7a2V5OiJnZXRNYXJrUG9zIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMudmlldy5wb3NBdERPTSh0aGlzLmRvbSksZT10aGlzLnZpZXcuc3RhdGUuZG9jLnJlc29sdmUodCksbj1xcihlLHRoaXMubm9kZS50eXBlKTtyZXR1cm4gbn19LHtrZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy52bS4kZGVzdHJveSgpfX1dKSx0fSgpLExvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe1NvKHRoaXMsdCl9cmV0dXJuIHhvKHQsW3trZXk6Im9uIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fSx0aGlzLl9jYWxsYmFja3NbdF18fCh0aGlzLl9jYWxsYmFja3NbdF09W10pLHRoaXMuX2NhbGxiYWNrc1t0XS5wdXNoKGUpLHRoaXN9fSx7a2V5OiJlbWl0Iix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxuPWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkobj4xP24tMTowKSxvPTE7bzxuO28rKylyW28tMV09YXJndW1lbnRzW29dO3RoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9O3ZhciBpPXRoaXMuX2NhbGxiYWNrc1t0XTtyZXR1cm4gaSYmaS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hcHBseShlLHIpfSkpLHRoaXN9fSx7a2V5OiJvZmYiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoYXJndW1lbnRzLmxlbmd0aCl7dmFyIG49dGhpcy5fY2FsbGJhY2tzP3RoaXMuX2NhbGxiYWNrc1t0XTpudWxsO24mJihlP3RoaXMuX2NhbGxiYWNrc1t0XT1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1lfSkpOmRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbdF0pfWVsc2UgdGhpcy5fY2FsbGJhY2tzPXt9O3JldHVybiB0aGlzfX1dKSx0fSgpLEhvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtTbyh0aGlzLHQpLHRoaXMub3B0aW9ucz1Nbyh7fSx0aGlzLmRlZmF1bHRPcHRpb25zLHt9LGUpfXJldHVybiB4byh0LFt7a2V5OiJpbml0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsfX0se2tleToiYmluZEVkaXRvciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbDt0aGlzLmVkaXRvcj10fX0se2tleToiaW5wdXRSdWxlcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5bXX19LHtrZXk6InBhc3RlUnVsZXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuW119fSx7a2V5OiJrZXlzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybnt9fX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fSx7a2V5OiJ0eXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iZXh0ZW5zaW9uIn19LHtrZXk6InVwZGF0ZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7fX19LHtrZXk6ImRlZmF1bHRPcHRpb25zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57fX19LHtrZXk6InBsdWdpbnMiLGdldDpmdW5jdGlvbigpe3JldHVybltdfX1dKSx0fSgpLFdvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXSxuPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO1NvKHRoaXMsdCksZS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmJpbmRFZGl0b3IobiksdC5pbml0KCl9KSksdGhpcy5leHRlbnNpb25zPWV9cmV0dXJuIHhvKHQsW3trZXk6ImtleW1hcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc2NoZW1hLG49dGhpcy5leHRlbnNpb25zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuWyJleHRlbnNpb24iXS5pbmNsdWRlcyh0LnR5cGUpfSkpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5c30pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmtleXMoe3NjaGVtYTplfSl9KSkscj10aGlzLmV4dGVuc2lvbnMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm5bIm5vZGUiLCJtYXJrIl0uaW5jbHVkZXModC50eXBlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmtleXN9KSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5rZXlzKHt0eXBlOmVbIiIuY29uY2F0KHQudHlwZSwicyIpXVt0Lm5hbWVdLHNjaGVtYTplfSl9KSk7cmV0dXJuW10uY29uY2F0KF9vKG4pLF9vKHIpKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QocW5bImIiXSkodCl9KSl9fSx7a2V5OiJpbnB1dFJ1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnNjaGVtYSxuPXQuZXhjbHVkZWRFeHRlbnNpb25zO2lmKCEobiBpbnN0YW5jZW9mIEFycmF5KSYmbilyZXR1cm5bXTt2YXIgcj1uIGluc3RhbmNlb2YgQXJyYXk/dGhpcy5leHRlbnNpb25zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIW4uaW5jbHVkZXModC5uYW1lKX0pKTp0aGlzLmV4dGVuc2lvbnMsbz1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuWyJleHRlbnNpb24iXS5pbmNsdWRlcyh0LnR5cGUpfSkpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuaW5wdXRSdWxlc30pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlucHV0UnVsZXMoe3NjaGVtYTplfSl9KSksaT1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuWyJub2RlIiwibWFyayJdLmluY2x1ZGVzKHQudHlwZSl9KSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pbnB1dFJ1bGVzfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaW5wdXRSdWxlcyh7dHlwZTplWyIiLmNvbmNhdCh0LnR5cGUsInMiKV1bdC5uYW1lXSxzY2hlbWE6ZX0pfSkpO3JldHVybltdLmNvbmNhdChfbyhvKSxfbyhpKSkucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybltdLmNvbmNhdChfbyh0KSxfbyhlKSl9KSxbXSl9fSx7a2V5OiJwYXN0ZVJ1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnNjaGVtYSxuPXQuZXhjbHVkZWRFeHRlbnNpb25zO2lmKCEobiBpbnN0YW5jZW9mIEFycmF5KSYmbilyZXR1cm5bXTt2YXIgcj1uIGluc3RhbmNlb2YgQXJyYXk/dGhpcy5leHRlbnNpb25zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIW4uaW5jbHVkZXModC5uYW1lKX0pKTp0aGlzLmV4dGVuc2lvbnMsbz1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuWyJleHRlbnNpb24iXS5pbmNsdWRlcyh0LnR5cGUpfSkpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQucGFzdGVSdWxlc30pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBhc3RlUnVsZXMoe3NjaGVtYTplfSl9KSksaT1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuWyJub2RlIiwibWFyayJdLmluY2x1ZGVzKHQudHlwZSl9KSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXN0ZVJ1bGVzfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQucGFzdGVSdWxlcyh7dHlwZTplWyIiLmNvbmNhdCh0LnR5cGUsInMiKV1bdC5uYW1lXSxzY2hlbWE6ZX0pfSkpO3JldHVybltdLmNvbmNhdChfbyhvKSxfbyhpKSkucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybltdLmNvbmNhdChfbyh0KSxfbyhlKSl9KSxbXSl9fSx7a2V5OiJjb21tYW5kcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5zY2hlbWEsbj10LnZpZXc7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbW1hbmRzfSkpLnJlZHVjZSgoZnVuY3Rpb24odCxyKXt2YXIgbz1yLm5hbWUsaT1yLnR5cGUscz17fSxhPXIuY29tbWFuZHMoTW8oe3NjaGVtYTplfSxbIm5vZGUiLCJtYXJrIl0uaW5jbHVkZXMoaSk/e3R5cGU6ZVsiIi5jb25jYXQoaSwicyIpXVtvXX06e30pKSxjPWZ1bmN0aW9uKHQsZSl7cmV0dXJuISFuLmVkaXRhYmxlJiYobi5mb2N1cygpLHQoZSkobi5zdGF0ZSxuLmRpc3BhdGNoLG4pKX0sbD1mdW5jdGlvbih0LGUpe0FycmF5LmlzQXJyYXkoZSk/c1t0XT1mdW5jdGlvbih0KXtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gYyhlLHQpfSkpfToiZnVuY3Rpb24iPT09dHlwZW9mIGUmJihzW3RdPWZ1bmN0aW9uKHQpe3JldHVybiBjKGUsdCl9KX07cmV0dXJuIm9iamVjdCI9PT1ibyhhKT9PYmplY3QuZW50cmllcyhhKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1Sbyh0LDIpLG49ZVswXSxyPWVbMV07bChuLHIpfSkpOmwobyxhKSxNbyh7fSx0LHt9LHMpfSkse30pfX0se2tleToibm9kZXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmV4dGVuc2lvbnMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4ibm9kZSI9PT10LnR5cGV9KSkucmVkdWNlKChmdW5jdGlvbih0LGUpe3ZhciBuPWUubmFtZSxyPWUuc2NoZW1hO3JldHVybiBNbyh7fSx0LENvKHt9LG4scikpfSkse30pfX0se2tleToib3B0aW9ucyIsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy52aWV3O3JldHVybiB0aGlzLmV4dGVuc2lvbnMucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybiBNbyh7fSxlLENvKHt9LG4ubmFtZSxuZXcgUHJveHkobi5vcHRpb25zLHtzZXQ6ZnVuY3Rpb24oZSxyLG8pe3ZhciBpPWVbcl0hPT1vO3JldHVybiBPYmplY3QuYXNzaWduKGUsQ28oe30scixvKSksaSYmbi51cGRhdGUodCksITB9fSkpKX0pLHt9KX19LHtrZXk6Im1hcmtzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIm1hcmsiPT09dC50eXBlfSkpLnJlZHVjZSgoZnVuY3Rpb24odCxlKXt2YXIgbj1lLm5hbWUscj1lLnNjaGVtYTtyZXR1cm4gTW8oe30sdCxDbyh7fSxuLHIpKX0pLHt9KX19LHtrZXk6InBsdWdpbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmV4dGVuc2lvbnMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5wbHVnaW5zfSkpLnJlZHVjZSgoZnVuY3Rpb24odCxlKXt2YXIgbj1lLnBsdWdpbnM7cmV0dXJuW10uY29uY2F0KF9vKHQpLF9vKG4pKX0pLFtdKX19XSksdH0oKTtmdW5jdGlvbiBxbyh0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2UudHlwZT0idGV4dC9jc3MiLGUudGV4dENvbnRlbnQ9dDt2YXIgbj1kb2N1bWVudCxyPW4uaGVhZCxvPXIuZmlyc3RDaGlsZDtvP3IuaW5zZXJ0QmVmb3JlKGUsbyk6ci5hcHBlbmRDaGlsZChlKX12YXIgSm89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gU28odGhpcyxlKSxFbyh0aGlzLFRvKGUpLmNhbGwodGhpcyx0KSl9cmV0dXJuIE5vKGUsdCkseG8oZSxbe2tleToiY29tbWFuZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt9fX0se2tleToidHlwZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIm1hcmsifX0se2tleToidmlldyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiBudWxsfX1dKSxlfShIbyk7ZnVuY3Rpb24gS28oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjA7cmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHBhcnNlSW50KHQsMTApLGUpLG4pfXZhciBVbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiBTbyh0aGlzLGUpLEVvKHRoaXMsVG8oZSkuY2FsbCh0aGlzLHQpKX1yZXR1cm4gTm8oZSx0KSx4byhlLFt7a2V5OiJjb21tYW5kIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe319fSx7a2V5OiJ0eXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4ibm9kZSJ9fSx7a2V5OiJ2aWV3IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fV0pLGV9KEhvKSxHbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIFNvKHRoaXMsZSksRW8odGhpcyxUbyhlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBObyhlLHQpLHhvKGUsW3trZXk6Im5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiJkb2MifX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57Y29udGVudDoiYmxvY2srIn19fV0pLGV9KFVvKSxYbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIFNvKHRoaXMsZSksRW8odGhpcyxUbyhlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBObyhlLHQpLHhvKGUsW3trZXk6ImNvbW1hbmRzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGJyKGUpfX19LHtrZXk6Im5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiJwYXJhZ3JhcGgifX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57Y29udGVudDoiaW5saW5lKiIsZ3JvdXA6ImJsb2NrIixkcmFnZ2FibGU6ITEscGFyc2VET006W3t0YWc6InAifV0sdG9ET006ZnVuY3Rpb24oKXtyZXR1cm5bInAiLDBdfX19fV0pLGV9KFVvKSxZbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIFNvKHRoaXMsZSksRW8odGhpcyxUbyhlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBObyhlLHQpLHhvKGUsW3trZXk6Im5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiJ0ZXh0In19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue2dyb3VwOiJpbmxpbmUifX19XSksZX0oVW8pLFpvPScuUHJvc2VNaXJyb3Ige1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5Qcm9zZU1pcnJvciB7XG4gIHdvcmQtd3JhcDogYnJlYWstd29yZDtcbiAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xuICAtd2Via2l0LWZvbnQtdmFyaWFudC1saWdhdHVyZXM6IG5vbmU7XG4gIGZvbnQtdmFyaWFudC1saWdhdHVyZXM6IG5vbmU7XG59XG5cbi5Qcm9zZU1pcnJvciBwcmUge1xuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XG59XG5cbi5Qcm9zZU1pcnJvci1nYXBjdXJzb3Ige1xuICBkaXNwbGF5OiBub25lO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xufVxuXG4uUHJvc2VNaXJyb3ItZ2FwY3Vyc29yOmFmdGVyIHtcbiAgY29udGVudDogIiI7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogLTJweDtcbiAgd2lkdGg6IDIwcHg7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCBibGFjaztcbiAgYW5pbWF0aW9uOiBQcm9zZU1pcnJvci1jdXJzb3ItYmxpbmsgMS4xcyBzdGVwcygyLCBzdGFydCkgaW5maW5pdGU7XG59XG5cbkBrZXlmcmFtZXMgUHJvc2VNaXJyb3ItY3Vyc29yLWJsaW5rIHtcbiAgdG8ge1xuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgfVxufVxuXG4uUHJvc2VNaXJyb3ItaGlkZXNlbGVjdGlvbiAqOjpzZWxlY3Rpb24ge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cblxuLlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb24gKjo6LW1vei1zZWxlY3Rpb24ge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cblxuLlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb24gKiB7XG4gIGNhcmV0LWNvbG9yOiB0cmFuc3BhcmVudDtcbn1cblxuLlByb3NlTWlycm9yLWZvY3VzZWQgLlByb3NlTWlycm9yLWdhcGN1cnNvciB7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuJyxRbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIFNvKHRoaXMsZSksdD1Fbyh0aGlzLFRvKGUpLmNhbGwodGhpcykpLHQuZGVmYXVsdE9wdGlvbnM9e2VkaXRvclByb3BzOnt9LGVkaXRhYmxlOiEwLGF1dG9Gb2N1czpudWxsLGV4dGVuc2lvbnM6W10sY29udGVudDoiIix0b3BOb2RlOiJkb2MiLGVtcHR5RG9jdW1lbnQ6e3R5cGU6ImRvYyIsY29udGVudDpbe3R5cGU6InBhcmFncmFwaCJ9XX0sdXNlQnVpbHRJbkV4dGVuc2lvbnM6ITAsZGlzYWJsZUlucHV0UnVsZXM6ITEsZGlzYWJsZVBhc3RlUnVsZXM6ITEsZHJvcEN1cnNvcjp7fSxwYXJzZU9wdGlvbnM6e30saW5qZWN0Q1NTOiEwLG9uSW5pdDpmdW5jdGlvbigpe30sb25UcmFuc2FjdGlvbjpmdW5jdGlvbigpe30sb25VcGRhdGU6ZnVuY3Rpb24oKXt9LG9uRm9jdXM6ZnVuY3Rpb24oKXt9LG9uQmx1cjpmdW5jdGlvbigpe30sb25QYXN0ZTpmdW5jdGlvbigpe30sb25Ecm9wOmZ1bmN0aW9uKCl7fX0sdC5ldmVudHM9WyJpbml0IiwidHJhbnNhY3Rpb24iLCJ1cGRhdGUiLCJmb2N1cyIsImJsdXIiLCJwYXN0ZSIsImRyb3AiXSx0LmluaXQobiksdH1yZXR1cm4gTm8oZSx0KSx4byhlLFt7a2V5OiJpbml0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307dGhpcy5zZXRPcHRpb25zKE1vKHt9LHRoaXMuZGVmYXVsdE9wdGlvbnMse30sZSkpLHRoaXMuZm9jdXNlZD0hMSx0aGlzLnNlbGVjdGlvbj17ZnJvbTowLHRvOjB9LHRoaXMuZWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLmV4dGVuc2lvbnM9dGhpcy5jcmVhdGVFeHRlbnNpb25zKCksdGhpcy5ub2Rlcz10aGlzLmNyZWF0ZU5vZGVzKCksdGhpcy5tYXJrcz10aGlzLmNyZWF0ZU1hcmtzKCksdGhpcy5zY2hlbWE9dGhpcy5jcmVhdGVTY2hlbWEoKSx0aGlzLnBsdWdpbnM9dGhpcy5jcmVhdGVQbHVnaW5zKCksdGhpcy5rZXltYXBzPXRoaXMuY3JlYXRlS2V5bWFwcygpLHRoaXMuaW5wdXRSdWxlcz10aGlzLmNyZWF0ZUlucHV0UnVsZXMoKSx0aGlzLnBhc3RlUnVsZXM9dGhpcy5jcmVhdGVQYXN0ZVJ1bGVzKCksdGhpcy52aWV3PXRoaXMuY3JlYXRlVmlldygpLHRoaXMuY29tbWFuZHM9dGhpcy5jcmVhdGVDb21tYW5kcygpLHRoaXMuc2V0QWN0aXZlTm9kZXNBbmRNYXJrcygpLHRoaXMub3B0aW9ucy5pbmplY3RDU1MmJnFvKFpvKSxudWxsIT09dGhpcy5vcHRpb25zLmF1dG9Gb2N1cyYmdGhpcy5mb2N1cyh0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzKSx0aGlzLmV2ZW50cy5mb3JFYWNoKChmdW5jdGlvbihlKXt0Lm9uKGUsdC5vcHRpb25zW2pvKCJvbiAiLmNvbmNhdChlKSldfHxmdW5jdGlvbigpe30pfSkpLHRoaXMuZW1pdCgiaW5pdCIse3ZpZXc6dGhpcy52aWV3LHN0YXRlOnRoaXMuc3RhdGV9KSx0aGlzLmV4dGVuc2lvbnMudmlldz10aGlzLnZpZXd9fSx7a2V5OiJzZXRPcHRpb25zIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbnM9TW8oe30sdGhpcy5vcHRpb25zLHt9LHQpLHRoaXMudmlldyYmdGhpcy5zdGF0ZSYmdGhpcy52aWV3LnVwZGF0ZVN0YXRlKHRoaXMuc3RhdGUpfX0se2tleToiY3JlYXRlRXh0ZW5zaW9ucyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFdvKFtdLmNvbmNhdChfbyh0aGlzLmJ1aWx0SW5FeHRlbnNpb25zKSxfbyh0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucykpLHRoaXMpfX0se2tleToiY3JlYXRlUGx1Z2lucyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLnBsdWdpbnN9fSx7a2V5OiJjcmVhdGVLZXltYXBzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmV4dGVuc2lvbnMua2V5bWFwcyh7c2NoZW1hOnRoaXMuc2NoZW1hfSl9fSx7a2V5OiJjcmVhdGVJbnB1dFJ1bGVzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmV4dGVuc2lvbnMuaW5wdXRSdWxlcyh7c2NoZW1hOnRoaXMuc2NoZW1hLGV4Y2x1ZGVkRXh0ZW5zaW9uczp0aGlzLm9wdGlvbnMuZGlzYWJsZUlucHV0UnVsZXN9KX19LHtrZXk6ImNyZWF0ZVBhc3RlUnVsZXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5wYXN0ZVJ1bGVzKHtzY2hlbWE6dGhpcy5zY2hlbWEsZXhjbHVkZWRFeHRlbnNpb25zOnRoaXMub3B0aW9ucy5kaXNhYmxlUGFzdGVSdWxlc30pfX0se2tleToiY3JlYXRlQ29tbWFuZHMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5jb21tYW5kcyh7c2NoZW1hOnRoaXMuc2NoZW1hLHZpZXc6dGhpcy52aWV3fSl9fSx7a2V5OiJjcmVhdGVOb2RlcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLm5vZGVzfX0se2tleToiY3JlYXRlTWFya3MiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5tYXJrc319LHtrZXk6ImNyZWF0ZVNjaGVtYSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGFbIlNjaGVtYSJdKHt0b3BOb2RlOnRoaXMub3B0aW9ucy50b3BOb2RlLG5vZGVzOnRoaXMubm9kZXMsbWFya3M6dGhpcy5tYXJrc30pfX0se2tleToiY3JlYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gc1siRWRpdG9yU3RhdGUiXS5jcmVhdGUoe3NjaGVtYTp0aGlzLnNjaGVtYSxkb2M6dGhpcy5jcmVhdGVEb2N1bWVudCh0aGlzLm9wdGlvbnMuY29udGVudCkscGx1Z2luczpbXS5jb25jYXQoX28odGhpcy5wbHVnaW5zKSxbUHIoe3J1bGVzOnRoaXMuaW5wdXRSdWxlc30pXSxfbyh0aGlzLnBhc3RlUnVsZXMpLF9vKHRoaXMua2V5bWFwcyksW09iamVjdChxblsiYiJdKSh7QmFja3NwYWNlOklyfSksT2JqZWN0KHFuWyJiIl0pKEFyKSxIbih0aGlzLm9wdGlvbnMuZHJvcEN1cnNvciksWW4oKSxuZXcgc1siUGx1Z2luIl0oe2tleTpuZXcgc1siUGx1Z2luS2V5Il0oImVkaXRhYmxlIikscHJvcHM6e2VkaXRhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHQub3B0aW9ucy5lZGl0YWJsZX19fSksbmV3IHNbIlBsdWdpbiJdKHtwcm9wczp7YXR0cmlidXRlczp7dGFiaW5kZXg6MH0saGFuZGxlRE9NRXZlbnRzOntmb2N1czpmdW5jdGlvbihlLG4pe3QuZm9jdXNlZD0hMCx0LmVtaXQoImZvY3VzIix7ZXZlbnQ6bixzdGF0ZTplLnN0YXRlLHZpZXc6ZX0pO3ZhciByPXQuc3RhdGUudHIuc2V0TWV0YSgiZm9jdXNlZCIsITApO3Qudmlldy5kaXNwYXRjaChyKX0sYmx1cjpmdW5jdGlvbihlLG4pe3QuZm9jdXNlZD0hMSx0LmVtaXQoImJsdXIiLHtldmVudDpuLHN0YXRlOmUuc3RhdGUsdmlldzplfSk7dmFyIHI9dC5zdGF0ZS50ci5zZXRNZXRhKCJmb2N1c2VkIiwhMSk7dC52aWV3LmRpc3BhdGNoKHIpfX19fSksbmV3IHNbIlBsdWdpbiJdKHtwcm9wczp0aGlzLm9wdGlvbnMuZWRpdG9yUHJvcHN9KV0pfSl9fSx7a2V5OiJjcmVhdGVEb2N1bWVudCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMub3B0aW9ucy5wYXJzZU9wdGlvbnM7aWYobnVsbD09PXQpcmV0dXJuIHRoaXMuc2NoZW1hLm5vZGVGcm9tSlNPTih0aGlzLm9wdGlvbnMuZW1wdHlEb2N1bWVudCk7aWYoIm9iamVjdCI9PT1ibyh0KSl0cnl7cmV0dXJuIHRoaXMuc2NoZW1hLm5vZGVGcm9tSlNPTih0KX1jYXRjaChyKXtyZXR1cm4gY29uc29sZS53YXJuKCJbdGlwdGFwIHdhcm5dOiBJbnZhbGlkIGNvbnRlbnQuIiwiUGFzc2VkIHZhbHVlOiIsdCwiRXJyb3I6IixyKSx0aGlzLnNjaGVtYS5ub2RlRnJvbUpTT04odGhpcy5vcHRpb25zLmVtcHR5RG9jdW1lbnQpfWlmKCJzdHJpbmciPT09dHlwZW9mIHQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBuLmlubmVySFRNTD10LnRyaW0oKSxhWyJET01QYXJzZXIiXS5mcm9tU2NoZW1hKHRoaXMuc2NoZW1hKS5wYXJzZShuLGUpfXJldHVybiExfX0se2tleToiY3JlYXRlVmlldyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBuZXcgUG4odGhpcy5lbGVtZW50LHtzdGF0ZTp0aGlzLmNyZWF0ZVN0YXRlKCksaGFuZGxlUGFzdGU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKyluW3JdPWFyZ3VtZW50c1tyXTt0LmVtaXQuYXBwbHkodCxbInBhc3RlIl0uY29uY2F0KG4pKX0saGFuZGxlRHJvcDpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKW5bcl09YXJndW1lbnRzW3JdO3QuZW1pdC5hcHBseSh0LFsiZHJvcCJdLmNvbmNhdChuKSl9LGRpc3BhdGNoVHJhbnNhY3Rpb246dGhpcy5kaXNwYXRjaFRyYW5zYWN0aW9uLmJpbmQodGhpcyl9KX19LHtrZXk6InNldFBhcmVudENvbXBvbmVudCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbDt0JiZ0aGlzLnZpZXcuc2V0UHJvcHMoe25vZGVWaWV3czp0aGlzLmluaXROb2RlVmlld3Moe3BhcmVudDp0LGV4dGVuc2lvbnM6W10uY29uY2F0KF9vKHRoaXMuYnVpbHRJbkV4dGVuc2lvbnMpLF9vKHRoaXMub3B0aW9ucy5leHRlbnNpb25zKSl9KX0pfX0se2tleToiaW5pdE5vZGVWaWV3cyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQucGFyZW50LHI9dC5leHRlbnNpb25zO3JldHVybiByLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuWyJub2RlIiwibWFyayJdLmluY2x1ZGVzKHQudHlwZSl9KSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC52aWV3fSkpLnJlZHVjZSgoZnVuY3Rpb24odCxyKXt2YXIgbz1mdW5jdGlvbih0LG8saSxzKXt2YXIgYT1yLnZpZXc7cmV0dXJuIG5ldyAkbyhhLHtlZGl0b3I6ZSxleHRlbnNpb246cixwYXJlbnQ6bixub2RlOnQsdmlldzpvLGdldFBvczppLGRlY29yYXRpb25zOnN9KX07cmV0dXJuIE1vKHt9LHQsQ28oe30sci5uYW1lLG8pKX0pLHt9KX19LHtrZXk6ImRpc3BhdGNoVHJhbnNhY3Rpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGUuYXBwbHkodCk7dGhpcy52aWV3LnVwZGF0ZVN0YXRlKGUpLHRoaXMuc2VsZWN0aW9uPXtmcm9tOnRoaXMuc3RhdGUuc2VsZWN0aW9uLmZyb20sdG86dGhpcy5zdGF0ZS5zZWxlY3Rpb24udG99LHRoaXMuc2V0QWN0aXZlTm9kZXNBbmRNYXJrcygpLHRoaXMuZW1pdCgidHJhbnNhY3Rpb24iLHtnZXRIVE1MOnRoaXMuZ2V0SFRNTC5iaW5kKHRoaXMpLGdldEpTT046dGhpcy5nZXRKU09OLmJpbmQodGhpcyksc3RhdGU6dGhpcy5zdGF0ZSx0cmFuc2FjdGlvbjp0fSksdC5kb2NDaGFuZ2VkJiYhdC5nZXRNZXRhKCJwcmV2ZW50VXBkYXRlIikmJnRoaXMuZW1pdFVwZGF0ZSh0KX19LHtrZXk6ImVtaXRVcGRhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZW1pdCgidXBkYXRlIix7Z2V0SFRNTDp0aGlzLmdldEhUTUwuYmluZCh0aGlzKSxnZXRKU09OOnRoaXMuZ2V0SlNPTi5iaW5kKHRoaXMpLHN0YXRlOnRoaXMuc3RhdGUsdHJhbnNhY3Rpb246dH0pfX0se2tleToicmVzb2x2ZVNlbGVjdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbDtpZih0aGlzLnNlbGVjdGlvbiYmbnVsbD09PXQpcmV0dXJuIHRoaXMuc2VsZWN0aW9uO2lmKCJzdGFydCI9PT10fHwhMD09PXQpcmV0dXJue2Zyb206MCx0bzowfTtpZigiZW5kIj09PXQpe3ZhciBlPXRoaXMuc3RhdGUuZG9jO3JldHVybntmcm9tOmUuY29udGVudC5zaXplLHRvOmUuY29udGVudC5zaXplfX1yZXR1cm57ZnJvbTp0LHRvOnR9fX0se2tleToiZm9jdXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsO2lmKCEodGhpcy52aWV3LmZvY3VzZWQmJm51bGw9PT1lfHwhMT09PWUpKXt2YXIgbj10aGlzLnJlc29sdmVTZWxlY3Rpb24oZSkscj1uLmZyb20sbz1uLnRvO3RoaXMuc2V0U2VsZWN0aW9uKHIsbyksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC52aWV3LmZvY3VzKCl9KSwxMCl9fX0se2tleToic2V0U2VsZWN0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsbj10aGlzLnN0YXRlLHI9bi5kb2Msbz1uLnRyLGk9S28odCwwLHIuY29udGVudC5zaXplKSxhPUtvKGUsMCxyLmNvbnRlbnQuc2l6ZSksYz1zWyJUZXh0U2VsZWN0aW9uIl0uY3JlYXRlKHIsaSxhKSxsPW8uc2V0U2VsZWN0aW9uKGMpO3RoaXMudmlldy5kaXNwYXRjaChsKX19LHtrZXk6ImJsdXIiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy52aWV3LmRvbS5ibHVyKCl9fSx7a2V5OiJnZXRTY2hlbWFKU09OIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHtub2Rlczp0aGlzLmV4dGVuc2lvbnMubm9kZXMsbWFya3M6dGhpcy5leHRlbnNpb25zLm1hcmtzfSkpfX0se2tleToiZ2V0SFRNTCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxlPWFbIkRPTVNlcmlhbGl6ZXIiXS5mcm9tU2NoZW1hKHRoaXMuc2NoZW1hKS5zZXJpYWxpemVGcmFnbWVudCh0aGlzLnN0YXRlLmRvYy5jb250ZW50KTtyZXR1cm4gdC5hcHBlbmRDaGlsZChlKSx0LmlubmVySFRNTH19LHtrZXk6ImdldEpTT04iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUuZG9jLnRvSlNPTigpfX0se2tleToic2V0Q29udGVudCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLG49YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDAscj10aGlzLnN0YXRlLG89ci5kb2MsaT1yLnRyLGE9dGhpcy5jcmVhdGVEb2N1bWVudCh0LG4pLGM9c1siVGV4dFNlbGVjdGlvbiJdLmNyZWF0ZShvLDAsby5jb250ZW50LnNpemUpLGw9aS5zZXRTZWxlY3Rpb24oYykucmVwbGFjZVNlbGVjdGlvbldpdGgoYSwhMSkuc2V0TWV0YSgicHJldmVudFVwZGF0ZSIsIWUpO3RoaXMudmlldy5kaXNwYXRjaChsKX19LHtrZXk6ImNsZWFyQ29udGVudCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3RoaXMuc2V0Q29udGVudCh0aGlzLm9wdGlvbnMuZW1wdHlEb2N1bWVudCx0KX19LHtrZXk6InNldEFjdGl2ZU5vZGVzQW5kTWFya3MiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmFjdGl2ZU1hcmtzPU9iamVjdC5lbnRyaWVzKHRoaXMuc2NoZW1hLm1hcmtzKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7dmFyIHI9Um8obiwyKSxvPXJbMF0saT1yWzFdO3JldHVybiBNbyh7fSxlLENvKHt9LG8sKGZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiBKcih0LnN0YXRlLGksZSl9KSkpfSkse30pLHRoaXMuYWN0aXZlTWFya0F0dHJzPU9iamVjdC5lbnRyaWVzKHRoaXMuc2NoZW1hLm1hcmtzKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7dmFyIHI9Um8obiwyKSxvPXJbMF0saT1yWzFdO3JldHVybiBNbyh7fSxlLENvKHt9LG8sV3IodC5zdGF0ZSxpKSkpfSkse30pLHRoaXMuYWN0aXZlTm9kZXM9T2JqZWN0LmVudHJpZXModGhpcy5zY2hlbWEubm9kZXMpLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXt2YXIgcj1SbyhuLDIpLG89clswXSxpPXJbMV07cmV0dXJuIE1vKHt9LGUsQ28oe30sbywoZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIEtyKHQuc3RhdGUsaSxlKX0pKSl9KSx7fSl9fSx7a2V5OiJnZXRNYXJrQXR0cnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7cmV0dXJuIHRoaXMuYWN0aXZlTWFya0F0dHJzW3RdfX0se2tleToicmVnaXN0ZXJQbHVnaW4iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7aWYodCl7dmFyIGU9dGhpcy5zdGF0ZS5yZWNvbmZpZ3VyZSh7cGx1Z2luczp0aGlzLnN0YXRlLnBsdWdpbnMuY29uY2F0KFt0XSl9KTt0aGlzLnZpZXcudXBkYXRlU3RhdGUoZSl9fX0se2tleToidW5yZWdpc3RlclBsdWdpbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbDtpZih0JiZ0aGlzLnZpZXcuZG9jVmlldyl7dmFyIGU9dGhpcy5zdGF0ZS5yZWNvbmZpZ3VyZSh7cGx1Z2luczp0aGlzLnN0YXRlLnBsdWdpbnMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZS5rZXkuc3RhcnRzV2l0aCgiIi5jb25jYXQodCwiJCIpKX0pKX0pO3RoaXMudmlldy51cGRhdGVTdGF0ZShlKX19fSx7a2V5OiJkZXN0cm95Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudmlldyYmdGhpcy52aWV3LmRlc3Ryb3koKX19LHtrZXk6ImJ1aWx0SW5FeHRlbnNpb25zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLnVzZUJ1aWx0SW5FeHRlbnNpb25zP1tuZXcgR28sbmV3IFlvLG5ldyBYb106W119fSx7a2V5OiJzdGF0ZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldz90aGlzLnZpZXcuc3RhdGU6bnVsbH19LHtrZXk6ImlzQWN0aXZlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmVudHJpZXMoTW8oe30sdGhpcy5hY3RpdmVNYXJrcyx7fSx0aGlzLmFjdGl2ZU5vZGVzKSkucmVkdWNlKChmdW5jdGlvbih0LGUpe3ZhciBuPVJvKGUsMikscj1uWzBdLG89blsxXTtyZXR1cm4gTW8oe30sdCxDbyh7fSxyLChmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gbyh0KX0pKSl9KSx7fSl9fV0pLGV9KExvKSx0aT17cHJvcHM6e2VkaXRvcjp7ZGVmYXVsdDpudWxsLHR5cGU6T2JqZWN0fX0sd2F0Y2g6e2VkaXRvcjp7aW1tZWRpYXRlOiEwLGhhbmRsZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0JiZ0LmVsZW1lbnQmJnRoaXMuJG5leHRUaWNrKChmdW5jdGlvbigpe2UuJGVsLmFwcGVuZENoaWxkKHQuZWxlbWVudC5maXJzdENoaWxkKSx0LnNldFBhcmVudENvbXBvbmVudChlKX0pKX19fSxyZW5kZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQoImRpdiIpfSxiZWZvcmVEZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lZGl0b3IuZWxlbWVudD10aGlzLiRlbH19LGVpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj10aGlzLHI9ZS5vcHRpb25zO1NvKHRoaXMsdCksdGhpcy5vcHRpb25zPXIsdGhpcy5wcmV2ZW50SGlkZT0hMSx0aGlzLm1vdXNlZG93bkhhbmRsZXI9dGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpLHRoaXMub3B0aW9ucy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsdGhpcy5tb3VzZWRvd25IYW5kbGVyKSx0aGlzLm9wdGlvbnMuZWRpdG9yLm9uKCJibHVyIiwoZnVuY3Rpb24oKXtuLnByZXZlbnRIaWRlP24ucHJldmVudEhpZGU9ITE6bi5vcHRpb25zLmVkaXRvci5lbWl0KCJtZW51YmFyOmZvY3VzVXBkYXRlIiwhMSl9KSl9cmV0dXJuIHhvKHQsW3trZXk6ImhhbmRsZUNsaWNrIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucHJldmVudEhpZGU9ITB9fSx7a2V5OiJkZXN0cm95Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsdGhpcy5tb3VzZWRvd25IYW5kbGVyKX19XSksdH0oKTtmdW5jdGlvbiBuaSh0KXtyZXR1cm4gbmV3IHNbIlBsdWdpbiJdKHtrZXk6bmV3IHNbIlBsdWdpbktleSJdKCJtZW51X2JhciIpLHZpZXc6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBlaSh7ZWRpdG9yVmlldzplLG9wdGlvbnM6dH0pfX0pfXZhciByaT17cHJvcHM6e2VkaXRvcjp7ZGVmYXVsdDpudWxsLHR5cGU6T2JqZWN0fX0sZGF0YTpmdW5jdGlvbigpe3JldHVybntmb2N1c2VkOiExfX0sd2F0Y2g6e2VkaXRvcjp7aW1tZWRpYXRlOiEwLGhhbmRsZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0JiZ0aGlzLiRuZXh0VGljaygoZnVuY3Rpb24oKXt0LnJlZ2lzdGVyUGx1Z2luKG5pKHtlZGl0b3I6dCxlbGVtZW50OmUuJGVsfSkpLGUuZm9jdXNlZD10LmZvY3VzZWQsdC5vbigiZm9jdXMiLChmdW5jdGlvbigpe2UuZm9jdXNlZD0hMH0pKSx0Lm9uKCJtZW51YmFyOmZvY3VzVXBkYXRlIiwoZnVuY3Rpb24odCl7ZS5mb2N1c2VkPXR9KSl9KSl9fX0scmVuZGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yP3RoaXMuJHNjb3BlZFNsb3RzLmRlZmF1bHQoe2ZvY3VzZWQ6dGhpcy5mb2N1c2VkLGZvY3VzOnRoaXMuZWRpdG9yLmZvY3VzLGNvbW1hbmRzOnRoaXMuZWRpdG9yLmNvbW1hbmRzLGlzQWN0aXZlOnRoaXMuZWRpdG9yLmlzQWN0aXZlLGdldE1hcmtBdHRyczp0aGlzLmVkaXRvci5nZXRNYXJrQXR0cnMuYmluZCh0aGlzLmVkaXRvcil9KTpudWxsfX07ZnVuY3Rpb24gb2kodCxlLG4pe3ZhciByPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7cmV0dXJuIHIuc2V0RW5kKHQsbnVsbD09bj90Lm5vZGVWYWx1ZS5sZW5ndGg6biksci5zZXRTdGFydCh0LGV8fDApLHJ9ZnVuY3Rpb24gaWkodCxlKXt2YXIgbj10LmdldENsaWVudFJlY3RzKCk7cmV0dXJuIG4ubGVuZ3RoP25bZTwwPzA6bi5sZW5ndGgtMV06dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1mdW5jdGlvbiBzaSh0LGUpe3ZhciBuLHIsbz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdLGk9dC5kb2NWaWV3LmRvbUZyb21Qb3MoZSkscz1pLm5vZGUsYT1pLm9mZnNldDtpZigzPT09cy5ub2RlVHlwZSlvJiZhPHMubm9kZVZhbHVlLmxlbmd0aD8ocj1paShvaShzLGEtMSxhKSwtMSksbj0icmlnaHQiKTphPHMubm9kZVZhbHVlLmxlbmd0aCYmKHI9aWkob2kocyxhLGErMSksLTEpLG49ImxlZnQiKTtlbHNlIGlmKHMuZmlyc3RDaGlsZCl7aWYoYTxzLmNoaWxkTm9kZXMubGVuZ3RoKXt2YXIgYz1zLmNoaWxkTm9kZXNbYV07cj1paSgzPT09Yy5ub2RlVHlwZT9vaShjKTpjLC0xKSxuPSJsZWZ0In1pZigoIXJ8fHIudG9wPT09ci5ib3R0b20pJiZhKXt2YXIgbD1zLmNoaWxkTm9kZXNbYS0xXTtyPWlpKDM9PT1sLm5vZGVUeXBlP29pKGwpOmwsMSksbj0icmlnaHQifX1lbHNlIHI9cy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPSJsZWZ0Ijt2YXIgdT1yW25dO3JldHVybnt0b3A6ci50b3AsYm90dG9tOnIuYm90dG9tLGxlZnQ6dSxyaWdodDp1fX12YXIgYWk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPXRoaXMscj1lLm9wdGlvbnMsbz1lLmVkaXRvclZpZXc7U28odGhpcyx0KSx0aGlzLm9wdGlvbnM9TW8oe30se2VsZW1lbnQ6bnVsbCxrZWVwSW5Cb3VuZHM6ITAsb25VcGRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4hMX19LHt9LHIpLHRoaXMuZWRpdG9yVmlldz1vLHRoaXMuaXNBY3RpdmU9ITEsdGhpcy5sZWZ0PTAsdGhpcy5ib3R0b209MCx0aGlzLnRvcD0wLHRoaXMucHJldmVudEhpZGU9ITEsdGhpcy5tb3VzZWRvd25IYW5kbGVyPXRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKSx0aGlzLm9wdGlvbnMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLHRoaXMubW91c2Vkb3duSGFuZGxlciksdGhpcy5vcHRpb25zLmVkaXRvci5vbigiZm9jdXMiLChmdW5jdGlvbih0KXt2YXIgZT10LnZpZXc7bi51cGRhdGUoZSl9KSksdGhpcy5vcHRpb25zLmVkaXRvci5vbigiYmx1ciIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZXZlbnQ7bi5wcmV2ZW50SGlkZT9uLnByZXZlbnRIaWRlPSExOm4uaGlkZShlKX0pKX1yZXR1cm4geG8odCxbe2tleToiaGFuZGxlQ2xpY2siLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50SGlkZT0hMH19LHtrZXk6InVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10LnN0YXRlO2lmKCF0LmNvbXBvc2luZyYmIShlJiZlLmRvYy5lcShuLmRvYykmJmUuc2VsZWN0aW9uLmVxKG4uc2VsZWN0aW9uKSkpaWYobi5zZWxlY3Rpb24uZW1wdHkpdGhpcy5oaWRlKCk7ZWxzZXt2YXIgcj1uLnNlbGVjdGlvbixvPXIuZnJvbSxpPXIudG8scz1zaSh0LG8pLGE9c2kodCxpLCEwKSxjPXRoaXMub3B0aW9ucy5lbGVtZW50Lm9mZnNldFBhcmVudDtpZihjKXt2YXIgbD1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHU9dGhpcy5vcHRpb25zLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscD0ocy5sZWZ0K2EubGVmdCkvMi1sLmxlZnQ7dGhpcy5sZWZ0PU1hdGgucm91bmQodGhpcy5vcHRpb25zLmtlZXBJbkJvdW5kcz9NYXRoLm1pbihsLndpZHRoLXUud2lkdGgvMixNYXRoLm1heChwLHUud2lkdGgvMikpOnApLHRoaXMuYm90dG9tPU1hdGgucm91bmQobC5ib3R0b20tcy50b3ApLHRoaXMudG9wPU1hdGgucm91bmQoYS5ib3R0b20tbC50b3ApLHRoaXMuaXNBY3RpdmU9ITAsdGhpcy5zZW5kVXBkYXRlKCl9ZWxzZSB0aGlzLmhpZGUoKX19fSx7a2V5OiJzZW5kVXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5vblVwZGF0ZSh7aXNBY3RpdmU6dGhpcy5pc0FjdGl2ZSxsZWZ0OnRoaXMubGVmdCxib3R0b206dGhpcy5ib3R0b20sdG9wOnRoaXMudG9wfSl9fSx7a2V5OiJoaWRlIix2YWx1ZTpmdW5jdGlvbih0KXt0JiZ0LnJlbGF0ZWRUYXJnZXQmJnRoaXMub3B0aW9ucy5lbGVtZW50LnBhcmVudE5vZGUuY29udGFpbnModC5yZWxhdGVkVGFyZ2V0KXx8KHRoaXMuaXNBY3RpdmU9ITEsdGhpcy5zZW5kVXBkYXRlKCkpfX0se2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLHRoaXMubW91c2Vkb3duSGFuZGxlcil9fV0pLHR9KCk7ZnVuY3Rpb24gY2kodCl7cmV0dXJuIG5ldyBzWyJQbHVnaW4iXSh7a2V5Om5ldyBzWyJQbHVnaW5LZXkiXSgibWVudV9idWJibGUiKSx2aWV3OmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgYWkoe2VkaXRvclZpZXc6ZSxvcHRpb25zOnR9KX19KX1Cb29sZWFuO3ZhciBsaT1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10LiRjcmVhdGVFbGVtZW50LG49dC5fc2VsZi5fY3x8ZTtyZXR1cm4gbigiZGl2Iix7c3RhdGljQ2xhc3M6Imljb24iLGNsYXNzOlsiaWNvbi0tIit0Lm5hbWUsImljb24tLSIrdC5zaXplXX0sW24odC5pY29uLHt0YWc6ImNvbXBvbmVudCJ9KV0sMSl9LHVpPVtdO24oImIwYzAiKSxuKCI0ZmFkIik7ZnVuY3Rpb24gcGkodCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH1uKCJhNGQzIiksbigiZTAxYSIpLG4oImQyOGIiKSxuKCJlMjYwIiksbigiZDNiNyIpLG4oIjI1ZjAiKSxuKCIzY2EzIiksbigiZGRiMCIpO2Z1bmN0aW9uIGZpKHQsZSl7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KXx8IltvYmplY3QgQXJndW1lbnRzXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpe3ZhciBuPVtdLHI9ITAsbz0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBzLGE9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShzPWEubmV4dCgpKS5kb25lKTtyPSEwKWlmKG4ucHVzaChzLnZhbHVlKSxlJiZuLmxlbmd0aD09PWUpYnJlYWt9Y2F0Y2goYyl7bz0hMCxpPWN9ZmluYWxseXt0cnl7cnx8bnVsbD09YVsicmV0dXJuIl18fGFbInJldHVybiJdKCl9ZmluYWxseXtpZihvKXRocm93IGl9fXJldHVybiBufX1mdW5jdGlvbiBkaSgpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKX1mdW5jdGlvbiBoaSh0LGUpe3JldHVybiBwaSh0KXx8ZmkodCxlKXx8ZGkoKX1mb3IodmFyIHZpPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTUgMTRhNSA1IDAgMTEwIDEwIDUgNSAwIDAxMC0xMHptMi41IDUuOTM4YS45MzcuOTM3IDAgMTAwLTEuODc1SDYuMjVhLjMxMi4zMTIgMCAwMS0uMzEzLS4zMTNWMTYuNWEuOTM3LjkzNyAwIDEwLTEuODc1IDB2MS4yNWMwIC4xNzMtLjE0LjMxMy0uMzEyLjMxM0gyLjVhLjkzNy45MzcgMCAxMDAgMS44NzVoMS4yNWMuMTczIDAgLjMxMy4xNC4zMTMuMzEydjEuMjVhLjkzNy45MzcgMCAxMDEuODc1IDB2LTEuMjVjMC0uMTczLjE0LS4zMTMuMzEyLS4zMTNINy41ek0xNiAxOWEzIDMgMCAwMDYgMFY1YTMgMyAwIDAwLTYgMHYxNHptLTIgMFY1YTUgNSAwIDAxMTAgMHYxNGE1IDUgMCAwMS0xMCAweiJ9fSldKSl9fSxtaT17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xOSAxNGE1IDUgMCAxMTAgMTAgNSA1IDAgMDEwLTEwem0yLjUgNS45MzhhLjkzNy45MzcgMCAxMDAtMS44NzVoLTEuMjVhLjMxMi4zMTIgMCAwMS0uMzEzLS4zMTNWMTYuNWEuOTM3LjkzNyAwIDEwLTEuODc1IDB2MS4yNWMwIC4xNzMtLjE0LjMxMy0uMzEyLjMxM0gxNi41YS45MzcuOTM3IDAgMTAwIDEuODc1aDEuMjVjLjE3MyAwIC4zMTMuMTQuMzEzLjMxMnYxLjI1YS45MzcuOTM3IDAgMTAxLjg3NSAwdi0xLjI1YzAtLjE3My4xNC0uMzEzLjMxMi0uMzEzaDEuMjV6TTIgMTlhMyAzIDAgMDA2IDBWNWEzIDMgMCAxMC02IDB2MTR6bS0yIDBWNWE1IDUgMCAxMTEwIDB2MTRhNSA1IDAgMDEtMTAgMHoifX0pXSkpfX0sZ2k9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMTkgMGE1IDUgMCAxMTAgMTAgNSA1IDAgMDEwLTEwem0yLjUgNS45MzhhLjkzNy45MzcgMCAxMDAtMS44NzVoLTEuMjVhLjMxMi4zMTIgMCAwMS0uMzEzLS4zMTNWMi41YS45MzcuOTM3IDAgMTAtMS44NzUgMHYxLjI1YzAgLjE3My0uMTQuMzEzLS4zMTIuMzEzSDE2LjVhLjkzNy45MzcgMCAxMDAgMS44NzVoMS4yNWMuMTczIDAgLjMxMy4xNC4zMTMuMzEyVjcuNWEuOTM3LjkzNyAwIDEwMS44NzUgMFY2LjI1YzAtLjE3My4xNC0uMzEzLjMxMi0uMzEzaDEuMjV6TTUgMTZhMyAzIDAgMDAwIDZoMTRhMyAzIDAgMDAwLTZINXptMC0yaDE0YTUgNSAwIDAxMCAxMEg1YTUgNSAwIDAxMC0xMHoifX0pXSkpfX0seWk9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMTkgMTRhNSA1IDAgMTEwIDEwIDUgNSAwIDAxMC0xMHptMi41IDUuOTM4YS45MzcuOTM3IDAgMTAwLTEuODc1aC0xLjI1YS4zMTIuMzEyIDAgMDEtLjMxMy0uMzEzVjE2LjVhLjkzNy45MzcgMCAxMC0xLjg3NSAwdjEuMjVjMCAuMTczLS4xNC4zMTMtLjMxMi4zMTNIMTYuNWEuOTM3LjkzNyAwIDEwMCAxLjg3NWgxLjI1Yy4xNzMgMCAuMzEzLjE0LjMxMy4zMTJ2MS4yNWEuOTM3LjkzNyAwIDEwMS44NzUgMHYtMS4yNWMwLS4xNzMuMTQtLjMxMy4zMTItLjMxM2gxLjI1ek01IDJhMyAzIDAgMTAwIDZoMTRhMyAzIDAgMDAwLTZINXptMC0yaDE0YTUgNSAwIDAxMCAxMEg1QTUgNSAwIDExNSAweiJ9fSldKSl9fSx3aT17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xNy4xOTQgMTAuOTYyQTYuMjcxIDYuMjcxIDAgMDAxMi44NDQuMjQ4SDQuM2ExLjI1IDEuMjUgMCAwMDAgMi41aDEuMDEzYS4yNS4yNSAwIDAxLjI1LjI1VjIxYS4yNS4yNSAwIDAxLS4yNS4yNUg0LjNhMS4yNSAxLjI1IDAgMTAwIDIuNWg5Ljk2M2E2Ljc0MiA2Ljc0MiAwIDAwMi45My0xMi43ODZ6bS00LjM1LTguMjE0YTMuNzYyIDMuNzYyIDAgMDEwIDcuNTIzSDguMzEzYS4yNS4yNSAwIDAxLS4yNS0uMjVWM2EuMjUuMjUgMCAwMS4yNS0uMjV6bTEuNDIgMTguNUg4LjMxM2EuMjUuMjUgMCAwMS0uMjUtLjI1di03Ljk3N2EuMjUuMjUgMCAwMS4yNS0uMjVIMTQuMjY0YTQuMjM5IDQuMjM5IDAgMDEwIDguNDc3eiJ9fSldKSl9fSxiaT17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMSAwSDNhMyAzIDAgMDAtMyAzdjE4YTMgMyAwIDAwMyAzaDE4YTMgMyAwIDAwMy0zVjNhMyAzIDAgMDAtMy0zem0xIDIxYTEgMSAwIDAxLTEgMUgzYTEgMSAwIDAxLTEtMVYzYTEgMSAwIDAxMS0xaDE4YTEgMSAwIDAxMSAxeiJ9fSksbigicGF0aCIse2F0dHJzOntkOiJNMTEuMjQ5IDQuNWExLjI1MSAxLjI1MSAwIDAwLTEuNzUuMjVMNy4zNjUgNy42bC0uNDgyLS40ODFhMS4yNSAxLjI1IDAgMDAtMS43NjcgMS43NjRsMS41IDEuNWExLjI2MiAxLjI2MiAwIDAwMS44ODQtLjEzNGwzLTRhMS4yNSAxLjI1IDAgMDAtLjI1MS0xLjc0OXpNMTEuMjQ5IDEzLjVhMS4yNTEgMS4yNTEgMCAwMC0xLjc1LjI1TDcuMzY1IDE2LjZsLS40ODItLjQ4MWExLjI1IDEuMjUgMCAxMC0xLjc2NyAxLjc2OGwxLjUgMS41YTEuMjY1IDEuMjY1IDAgMDAxLjg4NC0uMTM4bDMtNGExLjI1IDEuMjUgMCAwMC0uMjUxLTEuNzQ5ek0xOC41IDcuNzQ5SDE0YTEuMjUgMS4yNSAwIDAwMCAyLjVoNC41YTEuMjUgMS4yNSAwIDAwMC0yLjV6TTE4LjUgMTUuNzQ5SDE0YTEuMjUgMS4yNSAwIDAwMCAyLjVoNC41YTEuMjUgMS4yNSAwIDEwMC0yLjV6In19KV0pKX19LFNpPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTkuMTQ3IDIxLjU1MmExLjI0NCAxLjI0NCAwIDAxLS44OTUtLjM3OEwuODQgMTMuNTYxYTIuMjU3IDIuMjU3IDAgMDEwLTMuMTI1bDcuNDEyLTcuNjEzYTEuMjUgMS4yNSAwIDAxMS43OTEgMS43NDRsLTYuOSA3LjA4M2EuNS41IDAgMDAwIC43bDYuOSA3LjA4MmExLjI1IDEuMjUgMCAwMS0uOSAyLjEyMnpNMTQuODU0IDIxLjU1MmExLjI1IDEuMjUgMCAwMS0uOS0yLjEyMmw2LjktNy4wODNhLjUuNSAwIDAwMC0uN2wtNi45LTcuMDgyYTEuMjUgMS4yNSAwIDAxMS43OTEtMS43NDRsNy40MTEgNy42MTJhMi4yNTcgMi4yNTcgMCAwMTAgMy4xMjVsLTcuNDEyIDcuNjE0YTEuMjQ0IDEuMjQ0IDAgMDEtLjg5LjM4em02LjUxNC05LjM3M3oifX0pXSkpfX0sa2k9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgNDc0LjU1NyA0NzQuNTU3Iix3aWR0aDoiMjQiLGhlaWdodDoiMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMCAyLjAyOFY0NzIuNTNoNDc0LjU1N1YyLjAyOEgwem00MzUuNDcxIDQzMS40MzdIMzkuMTA4VjQxLjEzNmgzOTYuMzYzdjM5Mi4zMjl6In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xMjQuOTE2IDI3My42MjVjMS4yOTQgNC41MyAyLjAwNiAxNC40MDkgMi4wMDYgMjkuNTc0IDAgMTMuMDA3LjY2OSAyMi41NjMgMi4wNzEgMjguNjI0IDEuNDAyIDYuMDE4IDQuMTQyIDExLjE3NCA4LjI0IDE1LjI3MiA0LjA3NyA0LjA5OCA5LjA4MSA3LjA3NSAxNS4wMTMgOC44NjYgNS45NTQgMS43NjkgMTQuNDk2IDIuNjUzIDI1LjYwNSAyLjY1M2g2LjU3OXYtMjkuNjZjLTguODY2IDAtMTQuNjI1LS41NjEtMTcuMy0xLjY4Mi0yLjY1My0xLjE0My00LjYzOC0yLjcxOC01Ljk1NC00Ljg5Ny0xLjI5NC0yLjE1Ny0xLjk0MS01LjkxLTEuOTQxLTExLjMyNSAwLTMuODQtLjM0NS0xMi41NzYtLjk5Mi0yNi4yOTUtLjQ5Ni04Ljk3My0xLjU3NS0xNi4xMzUtMy4yMzYtMjEuNDg0LTEuNjM5LTUuMzkzLTQuMDEyLTkuOTQ0LTcuMTE4LTEzLjY5Ny0zLjA4NS0zLjc3NS03LjA1NC03LjAzMi0xMS45MDctOS44MTUgNS41MDEtMy41ODEgOS41NzctNi45NjcgMTIuMjc0LTEwLjMxMSAyLjY3NS0zLjI1NyA0Ljg3NS03LjQ0MiA2LjYwMS0xMi41MTEgMS43MDQtNS4wNjkgMi43ODMtMTEuNjkxIDMuMjE0LTE5Ljg0NS43MzMtMTQuNDUyIDEuMTQzLTI0LjI4OSAxLjE0My0yOS40ODcgMC01LjA5MS42MjYtOC43MTUgMS44NTUtMTAuODA3IDEuMjUxLTIuMDcxIDMuMTQ5LTMuNjQ1IDUuNzM4LTQuNzAyIDIuNTg4LTEuMDE0IDguNDc3LTEuNTMyIDE3LjYyMy0xLjUzMnYtMjkuNTA5aC02LjU3OWMtMTAuODA3IDAtMTguNzIzLjc1NS0yMy43MjggMi4yNDMtNy40MiAyLjIyMi0xMy4wNzIgNS4yNDItMTYuOTc2IDkuMDYtMy44ODMgMy44NC02LjU1OCA4LjkwOS04LjA0NiAxNS4yMjktMS40NjcgNi4yNzctMi4xNzkgMTcuNDI5LTIuMTc5IDMzLjM0OCAwIDkuODU4LS4zNjcgMTYuNjc0LTEuMDM1IDIwLjY0My0uODIgNS4yNjMtMi4zNTEgOS42NDItNC41NTEgMTMuMTU4LTIuMjQzIDMuNTE2LTQuODMyIDUuOTk3LTcuOTE2IDcuNDg1LTMuMDIgMS40NDUtNy41MjggMi4zNzMtMTMuNTY4IDIuNzM5djI5LjY4MWM3LjU5My4zODggMTMuMjAxIDIuMDI4IDE2Ljg5IDQuODk3IDMuNjQ1IDIuODA2IDYuMzg0IDcuNDg3IDguMTc0IDE0LjA4N3pNMjEyLjA4NCAzMzEuMzkybDYuNzMgMTQuMzY2YzcuNDItMi42NTMgMTMuNTY4LTYuMzIgMTguNC0xMC45MTUgNC44MzItNC41OTUgOC4wODktOS44MTUgOS44MTUtMTUuNjE3IDEuNzQ3LTUuODQ2IDIuNjEtMTMuODA1IDIuNjEtMjMuODE0di0yNC43ODVoLTM0Ljc1MXYzNC43MjloMTYuNzYxYy0uMTI5IDYuODM4LTEuNzI2IDEyLjI5NS00LjY1OSAxNi40OC0yLjk1NiA0LjAzNC03LjkzOSA3LjI2OS0xNC45MDYgOS41NTZ6TTIxNC44ODggMTc0LjAxMmgzNC43NTF2MzQuNzcyaC0zNC43NTF6TTMxMS4xOCAzNTYuMzQ5YzcuNDY0LTIuMjQzIDEzLjIwMS01LjIyIDE3LjEwNi05LjA4MSAzLjg4My0zLjgxOCA2LjUzNi04LjkzIDcuOTM4LTE1LjI3MiAxLjQwMi02LjM2MyAyLjE3OS0xNy41MTUgMi4xNzktMzMuNDk5IDAtOS43NS4zNjctMTYuNjA5IDEuMDE0LTIwLjU1Ny44ODQtNS4yNjMgMi40MzgtOS42NDIgNC42NTktMTMuMTM3IDIuMTc5LTMuNDk0IDQuNzY3LTYuMDE4IDcuODA5LTcuNDg1IDMuMDQyLTEuNDY3IDcuNTUtMi4zNzMgMTMuNTY4LTIuNjk2aC0uMDQzdi0yOS42NmMtNy42MTUtLjQ1My0xMy4xOC0yLjA3MS0xNi45MzMtNC45MTgtMy42NjctMi44MjYtNi40MDctNy41NzEtOC4yNjItMTQuMTA3LTEuMjUxLTQuNjE2LTEuODU1LTE0LjQ1Mi0xLjg1NS0yOS41MDkgMC0xMy4wMjktLjcxMi0yMi41NDEtMi4xNTctMjguNTYtMS40MjQtNi4xMDUtNC4xNjMtMTEuMTk1LTguMTk3LTE1LjM1OC00LjA1NS00LjE0Mi05LjAzOC03LjA1NC0xNC45Ny04LjgwMS01Ljk3NS0xLjcyNi0xNC41MTctMi42MS0yNS42MjYtMi42MWgtNi41NTd2MjkuNDY2YzkuMzQgMCAxNS4zMzcuNTYxIDE3Ljk5IDEuNjgzIDIuNjk2IDEuMSA0LjU1MSAyLjY3NSA1LjU2NSA0LjcyNCAxLjA1NyAyLjA0OSAxLjU1MyA2LjE2OSAxLjYzOSAxMi4zNi40NTMgMTkuNjA4IDEuMTg2IDMyLjI5MSAyLjA3MSAzOC4wNzIgMS4zODEgOC4zNjkgNC4wNTUgMTUuMjk0IDcuODczIDIwLjY4NiAyLjgyNiAzLjg0IDcuMjQ4IDcuNjU4IDEzLjM1MiAxMS42MjctNC43MDIgMi42OTYtOC41MiA1Ljg0Ni0xMS41NCA5LjQ0OC0zLjA0MSAzLjU1OS01LjQzNiA3Ljk2LTcuMjA1IDEzLjA3Mi0xLjgxMiA1LjE3Ny0yLjk1NSAxMi4wOC0zLjMyMiAyMC42LS42NjkgMTQuMTcyLTEuMSAyMy44MTQtMS4xIDI4LjgxOS0uMDg2IDUuMDI2LS42NjkgOC41ODUtMS45ODQgMTAuNjk5LTEuMzE2IDIuMTM2LTMuMjc5IDMuNzEtNS45NzUgNC44NTMtMi43MTggMS4xMjItOC41MiAxLjYzOS0xNy4zNjQgMS42Mzl2MjkuNjZoNi42MjJjMTAuNzQxLjA2NCAxOC42NzktLjcxMiAyMy43MDUtMi4xNTh6In19KV0pKX19LHhpPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTIgMTlhMyAzIDAgMDAzIDNoMTRhMyAzIDAgMDAzLTNWNWEzIDMgMCAwMC0zLTNINWEzIDMgMCAwMC0zIDN2MTR6bS0yIDBWNWE1IDUgMCAwMTUtNWgxNGE1IDUgMCAwMTUgNXYxNGE1IDUgMCAwMS01IDVINWE1IDUgMCAwMS01LTV6bTEyLTlhMSAxIDAgMDExIDF2MmExIDEgMCAwMS0yIDB2LTJhMSAxIDAgMDExLTF6bTAgNmExIDEgMCAwMTEgMXYzYTEgMSAwIDAxLTIgMHYtM2ExIDEgMCAwMTEtMXptMC0xM2ExIDEgMCAwMTEgMXYzYTEgMSAwIDAxLTIgMFY0YTEgMSAwIDAxMS0xeiJ9fSldKSl9fSxDaT17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xMi42NDEgMjEuOTMxYTcuMDEgNy4wMSAwIDAwMS4xNDYgMS43NEE1IDUgMCAwMTcgMTlWNWE1IDUgMCAxMTEwIDB2Ny4yOWE2Ljk3MiA2Ljk3MiAwIDAwLTIgLjk2NVY1YTMgMyAwIDAwLTYgMHYxNGEzIDMgMCAwMDMuNjQxIDIuOTMxek0xOSAxNGE1IDUgMCAxMTAgMTAgNSA1IDAgMDEwLTEwem0tMi41IDUuOTM4aDVhLjkzNy45MzcgMCAxMDAtMS44NzVoLTVhLjkzNy45MzcgMCAxMDAgMS44NzV6In19KV0pKX19LE9pPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTEzLjI1NSAxNWE2Ljk3MiA2Ljk3MiAwIDAwLS45NjUgMkg1QTUgNSAwIDAxNSA3aDE0YTUgNSAwIDAxNC42NzEgNi43ODcgNy4wMSA3LjAxIDAgMDAtMS43NC0xLjE0NkEzIDMgMCAwMDE5IDlINWEzIDMgMCAwMDAgNmg4LjI1NXpNMTkgMTRhNSA1IDAgMTEwIDEwIDUgNSAwIDAxMC0xMHptLTIuNSA1LjkzOGg1YS45MzcuOTM3IDAgMTAwLTEuODc1aC01YS45MzcuOTM3IDAgMTAwIDEuODc1eiJ9fSldKSl9fSxNaT17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xOSAxNGE1IDUgMCAxMTAgMTAgNSA1IDAgMDEwLTEwem0tMi41IDUuOTM4aDVhLjkzNy45MzcgMCAxMDAtMS44NzVoLTVhLjkzNy45MzcgMCAxMDAgMS44NzV6TTEyLjI5IDE3SDl2NWgzLjY3NGMuMzU2Ljc1Ljg0MSAxLjQyNiAxLjQyNyAySDVhNSA1IDAgMDEtNS01VjVhNSA1IDAgMDE1LTVoMTRhNSA1IDAgMDE1IDV2Mi44MjNhLjg0My44NDMgMCAwMTAgLjM1NFYxNC4xYTcuMDE4IDcuMDE4IDAgMDAtMi0xLjQyN1Y5aC01djMuMjlhNi45NzIgNi45NzIgMCAwMC0yIC45NjVWOUg5djZoNC4yNTVhNi45NzIgNi45NzIgMCAwMC0uOTY1IDJ6TTE3IDdoNVY1YTMgMyAwIDAwLTMtM2gtMnY1em0tMiAwVjJIOXY1aDZ6TTcgMkg1YTMgMyAwIDAwLTMgM3YyaDVWMnpNMiA5djZoNVY5SDJ6bTAgOHYyYTMgMyAwIDAwMyAzaDJ2LTVIMnoifX0pXSkpfX0sTmk9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMTEuOTk5LjVDNS42NDkuNS41IDUuNjQ4LjUgMTJjMCA1LjA4MiAzLjI5NCA5LjM5MiA3Ljg2NSAxMC45MTQuNTc0LjEwMy43NTYtLjIzNi43NTYtLjU0MSAwLS4yNzQuMDA2LTEuMDM3IDAtMS45OTctMy4xOTguNjk0LTMuODYxLTEuNTE1LTMuODYxLTEuNTE1LS41MjMtMS4zMjktMS4yNzUtMS42ODItMS4yNzUtMS42ODItMS4wNDUtLjcxNC4wNzctLjY5OS4wNzctLjY5OSAxLjE1My4wOCAxLjc2MiAxLjE4NCAxLjc2MiAxLjE4NCAxLjAyNiAxLjc1OCAyLjY5MSAxLjI1IDMuMzQ2Ljk1Ni4xMDYtLjc0Mi40MDItMS4yNTEuNzMxLTEuNTM2LTIuNTU0LS4yOTItNS4yMzgtMS4yNzctNS4yMzgtNS42ODYgMC0xLjI1NS40NDgtMi4yODEgMS4xODQtMy4wODYtLjExOC0uMjg5LS41MTQtMS40Ni4xMTItMy4wNDMgMCAwIC45NjctLjMwOSAzLjE2MiAxLjE4YTExLjAxMSAxMS4wMTEgMCAwMTIuODgtLjM4OGMuOTc2LjAwNSAxLjk2LjEzMiAyLjg4LjM4OCAyLjE5NS0xLjQ4OCAzLjE1OS0xLjE4IDMuMTU5LTEuMTguNjI3IDEuNTgzLjIzMiAyLjc1NC4xMTQgMy4wNDMuNzM2LjgwNSAxLjE4MyAxLjgzMSAxLjE4MyAzLjA4NiAwIDQuNDItMi42ODkgNS4zOTEtNS4yNTEgNS42NzQuNDEyLjM1Ny43ODcgMS4wNDcuNzg3IDIuMTJ2My4xODRjMCAuMzA4LjE4Ni42NDcuNzcuNTM2QzIwLjIwOSAyMS4zODkgMjMuNSAxNy4wOCAyMy41IDEyIDIzLjUgNS42NDggMTguMzUyLjUgMTEuOTk5LjV6In19KV0pKX19LFRpPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTUgMTNhMSAxIDAgMDEwLTJoMTRhMSAxIDAgMDEwIDJINXoifX0pXSkpfX0sRGk9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigiY2lyY2xlIix7YXR0cnM6e2N4OiI5Ljc1IixjeToiNi4yNDciLHI6IjIuMjUifX0pLG4oInBhdGgiLHthdHRyczp7ZDoiTTE2LjkxNiA4LjcxQTEuMDI3IDEuMDI3IDAgMDAxNiA4LjE1OGExLjAwNyAxLjAwNyAwIDAwLS44OTIuNTg2bC0xLjU1OCAzLjQzNGEuMjQ5LjI0OSAwIDAxLS40MjIuMDUzbC0uODItMS4wMjRhMSAxIDAgMDAtLjgxMy0uMzc2IDEuMDA3IDEuMDA3IDAgMDAtLjc4Ny40MjZMNy41OSAxNS43MWEuNS41IDAgMDAuNDEuNzloMTJhLjUuNSAwIDAwLjQyNS0uMjM3LjUuNSAwIDAwLjAyMi0uNDg2eiJ9fSksbigicGF0aCIse2F0dHJzOntkOiJNMjIgMEg1LjVhMiAyIDAgMDAtMiAydjE2LjVhMiAyIDAgMDAyIDJIMjJhMiAyIDAgMDAyLTJWMmEyIDIgMCAwMC0yLTJ6bS0uMTQ1IDE4LjM1NGEuNS41IDAgMDEtLjM1NC4xNDZINmEuNS41IDAgMDEtLjUtLjVWMi41QS41LjUgMCAwMTYgMmgxNS41YS41LjUgMCAwMS41LjVWMThhLjUuNSAwIDAxLS4xNDUuMzUxeiJ9fSksbigicGF0aCIse2F0dHJzOntkOiJNMTkuNSAyMmgtMTdhLjUuNSAwIDAxLS41LS41di0xN2ExIDEgMCAwMC0yIDBWMjJhMiAyIDAgMDAyIDJoMTcuNWExIDEgMCAwMDAtMnoifX0pXSkpfX0sQWk9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMjIuNS4yNDhoLTcuNjM3YTEuMjUgMS4yNSAwIDAwMCAyLjVoMS4wODZhLjI1LjI1IDAgMDEuMjExLjM4NEw0Ljc4IDIxLjAxN2EuNS41IDAgMDEtLjQyMi4yMzFIMS41YTEuMjUgMS4yNSAwIDAwMCAyLjVoNy42MzdhMS4yNSAxLjI1IDAgMDAwLTIuNUg4LjA1MWEuMjUuMjUgMCAwMS0uMjExLS4zODRMMTkuMjIgMi45OGEuNS41IDAgMDEuNDIyLS4yMzJIMjIuNWExLjI1IDEuMjUgMCAwMDAtMi41eiJ9fSldKSl9fSxFaT17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xMi40MDYgMTQuOTA1YTEgMSAwIDAwLS41NDMgMS4zMDcgMSAxIDAgMDEtLjIxNyAxLjA5bC0yLjgyOCAyLjgyOWEyIDIgMCAwMS0yLjgyOCAwTDMuODY4IDE4LjAxYTIgMiAwIDAxMC0yLjgyOUw2LjcgMTIuMzUzYTEuMDEzIDEuMDEzIDAgMDExLjA5MS0uMjE3IDEgMSAwIDAwLjc2My0xLjg0OSAzLjAzNCAzLjAzNCAwIDAwLTMuMjY4LjY1MmwtMi44MzIgMi44MjhhNC4wMDYgNC4wMDYgMCAwMDAgNS42NTdsMi4xMjIgMi4xMjFhNCA0IDAgMDA1LjY1NiAwbDIuODI5LTIuODI4YTMuMDA4IDMuMDA4IDAgMDAuNjUxLTMuMjcgMSAxIDAgMDAtMS4zMDYtLjU0MnoifX0pLG4oInBhdGgiLHthdHRyczp7ZDoiTTcuNzU3IDE2LjI0MWExLjAxMSAxLjAxMSAwIDAwMS40MTQgMGw3Ljc3OS03Ljc3OGExIDEgMCAwMC0xLjQxNC0xLjQxNGwtNy43NzkgNy43NzhhMSAxIDAgMDAwIDEuNDE0eiJ9fSksbigicGF0aCIse2F0dHJzOntkOiJNMjEuNTQ2IDQuNTc0bC0yLjEyMS0yLjEyMWE0LjAwNiA0LjAwNiAwIDAwLTUuNjU3IDBsLTIuODI5IDIuODI4YTMuMDA2IDMuMDA2IDAgMDAtLjY1MSAzLjI2OSAxIDEgMCAxMDEuODQ5LS43NjQgMSAxIDAgMDEuMjE3LTEuMDg2bDIuODI4LTIuODI4YTIgMiAwIDAxMi44MjkgMGwyLjEyMSAyLjEyMWEyIDIgMCAwMTAgMi44MjlMMTcuMyAxMS42NDVhMS4wMTUgMS4wMTUgMCAwMS0xLjA5MS4yMTcgMSAxIDAgMDAtLjc2NSAxLjg0OSAzLjAyNiAzLjAyNiAwIDAwMy4yNy0uNjUxbDIuODI4LTIuODI4YTQuMDA3IDQuMDA3IDAgMDAuMDA0LTUuNjU4eiJ9fSldKSl9fSxSaT17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xMiAuNUExMS42MzQgMTEuNjM0IDAgMDAuMjYyIDEyIDExLjYzNCAxMS42MzQgMCAwMDEyIDIzLjVhMTEuODM2IDExLjgzNiAwIDAwNi42MjQtMiAxLjI1IDEuMjUgMCAxMC0xLjM5My0yLjA3NkE5LjM0IDkuMzQgMCAwMTEyIDIxYTkuMTMyIDkuMTMyIDAgMDEtOS4yMzgtOUE5LjEzMiA5LjEzMiAwIDAxMTIgM2E5LjEzMiA5LjEzMiAwIDAxOS4yMzggOXYuODkxYTEuOTQzIDEuOTQzIDAgMDEtMy44ODQgMFYxMkE1LjM1NSA1LjM1NSAwIDEwMTIgMTcuMjYxYTUuMzc2IDUuMzc2IDAgMDAzLjg2MS0xLjYzNCA0LjQzOCA0LjQzOCAwIDAwNy44NzctMi43MzZWMTJBMTEuNjM0IDExLjYzNCAwIDAwMTIgLjV6bTAgMTQuMjYxQTIuNzYzIDIuNzYzIDAgMTExNC44NTQgMTIgMi44MTIgMi44MTIgMCAwMTEyIDE0Ljc2MXoifX0pXSkpfX0sX2k9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNNy43NSA0LjVoMTVhMSAxIDAgMDAwLTJoLTE1YTEgMSAwIDAwMCAyek0yMi43NSAxMWgtMTVhMSAxIDAgMTAwIDJoMTVhMSAxIDAgMDAwLTJ6TTIyLjc1IDE5LjVoLTE1YTEgMSAwIDAwMCAyaDE1YTEgMSAwIDAwMC0yek0yLjIxMiAxNy4yNDhhMiAyIDAgMDAtMS45MzMgMS40ODQuNzUuNzUgMCAxMDEuNDUuMzg2LjUuNSAwIDExLjQ4My42My43NS43NSAwIDEwMCAxLjUuNS41IDAgMTEtLjQ4Mi42MzUuNzUuNzUgMCAxMC0xLjQ0NS40IDIgMiAwIDEwMy41ODktMS42NDguMjUxLjI1MSAwIDAxMC0uMjc4IDIgMiAwIDAwLTEuNjYyLTMuMTExek00LjI1IDEwLjc0OGEyIDIgMCAwMC00IDAgLjc1Ljc1IDAgMDAxLjUgMCAuNS41IDAgMDExIDAgMS4wMzEgMS4wMzEgMCAwMS0uMjI3LjY0NUwuNDE0IDE0LjAyOUEuNzUuNzUgMCAwMDEgMTUuMjQ4aDIuNWEuNzUuNzUgMCAwMDAtMS41aC0uNDE5YS4yNDkuMjQ5IDAgMDEtLjE5NS0uNDA2TDMuNyAxMi4zM2EyLjU0NCAyLjU0NCAwIDAwLjU1LTEuNTgyek00IDUuMjQ4aC0uMjVBLjI1LjI1IDAgMDEzLjUgNVYxLjYyM0ExLjM3NyAxLjM3NyAwIDAwMi4xMjUuMjQ4SDEuNWEuNzUuNzUgMCAwMDAgMS41aC4yNUEuMjUuMjUgMCAwMTIgMnYzYS4yNS4yNSAwIDAxLS4yNS4yNUgxLjVhLjc1Ljc1IDAgMDAwIDEuNUg0YS43NS43NSAwIDAwMC0xLjV6In19KV0pKX19LFBpPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTIyLjUuMjQ4SDcuMjI4YTYuOTc3IDYuOTc3IDAgMTAwIDEzLjk1NGgyLjMxOGEuMjUuMjUgMCAwMS4yNS4yNVYyMi41YTEuMjUgMS4yNSAwIDAwMi41IDBWM2EuMjUuMjUgMCAwMS4yNS0uMjVoMy42ODJhLjI1LjI1IDAgMDEuMjUuMjV2MTkuNWExLjI1IDEuMjUgMCAwMDIuNSAwVjNhLjI0OS4yNDkgMCAwMS4yNS0uMjVIMjIuNWExLjI1IDEuMjUgMCAwMDAtMi41ek05LjggMTEuNDUyYS4yNS4yNSAwIDAxLS4yNS4yNUg3LjIyOGE0LjQ3NyA0LjQ3NyAwIDExMC04Ljk1NGgyLjMxOEEuMjUuMjUgMCAwMTkuOCAzeiJ9fSldKSl9fSx6aT17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xOC41NTkgMy45MzJhNC45NDIgNC45NDIgMCAxMDAgOS44ODMgNC42MDkgNC42MDkgMCAwMDEuMTE1LS4xNDEuMjUuMjUgMCAwMS4yNzYuMzY4IDYuODMgNi44MyAwIDAxLTUuODc4IDMuNTIzIDEuMjUgMS4yNSAwIDAwMCAyLjUgOS43MSA5LjcxIDAgMDA5LjQyOC05Ljk1VjguODczYTQuOTQ3IDQuOTQ3IDAgMDAtNC45NDEtNC45NDF6TTYuMjM2IDMuOTMyYTQuOTQyIDQuOTQyIDAgMDAwIDkuODgzIDQuNiA0LjYgMCAwMDEuMTE1LS4xNDEuMjUuMjUgMCAwMS4yNzcuMzY4IDYuODMgNi44MyAwIDAxLTUuODc4IDMuNTIzIDEuMjUgMS4yNSAwIDAwMCAyLjUgOS43MTEgOS43MTEgMCAwMDkuNDI4LTkuOTVWOC44NzNhNC45NDcgNC45NDcgMCAwMC00Ljk0Mi00Ljk0MXoifX0pXSkpfX0sSWk9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMjIuNjA4LjE2MWEuNS41IDAgMDAtLjU0NS4xMDhMMTkuNDcyIDIuODZhLjI1LjI1IDAgMDEtLjI5Mi4wNDUgMTIuNTM3IDEyLjUzNyAwIDAwLTEyLjk2Ni44NjVBMTIuMjU5IDEyLjI1OSAwIDAwNi4xIDIzLjYzMmExLjI1IDEuMjUgMCAwMDEuNDc2LTIuMDE4IDkuNzU5IDkuNzU5IDAgMDEuMDkxLTE1LjgwOSAxMCAxMCAwIDAxOS40NjYtMS4xLjI1LjI1IDAgMDEuMDg0LjQwOWwtMS44NSAxLjg1YS41LjUgMCAwMC4zNTQuODUzaDYuN2EuNS41IDAgMDAuNS0uNVYuNjIzYS41LjUgMCAwMC0uMzEzLS40NjJ6In19KV0pKX19LEJpPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTIwLjQ4NSAzLjUxMUExMi4wMSAxMi4wMSAwIDEwMjQgMTJhMTIuMDA5IDEyLjAwOSAwIDAwLTMuNTE1LTguNDg5em0tMS43NjcgMTUuMjFBOS41MSA5LjUxIDAgMTEyMS41IDEyYTkuNTA4IDkuNTA4IDAgMDEtMi43ODIgNi43MjF6In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xNi45ODcgNy4wMWExLjI3NSAxLjI3NSAwIDAwLTEuOCAwbC0zLjE3NyAzLjE3N0w4LjgyOSA3LjAxYTEuMjc3IDEuMjc3IDAgMDAtMS44MDUgMS44MDZsMy4xNzYgMy4xNzctMy4xNzYgMy4xNzhhMS4yNzcgMS4yNzcgMCAwMDEuODA1IDEuODA2bDMuMTc2LTMuMTc3IDMuMTc3IDMuMTc4YTEuMjc3IDEuMjc3IDAgMDAxLjgtMS44MDZsLTMuMTc2LTMuMTc4IDMuMTc2LTMuMTc3YTEuMjc4IDEuMjc4IDAgMDAuMDA1LTEuODA3eiJ9fSldKSl9fSxWaT17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMy43NSAxMi45NTJBMS4yNSAxLjI1IDAgMDAyMi41IDExLjdoLTguOTM2YS40OTIuNDkyIDAgMDEtLjI4Mi0uMDljLS43MjItLjUxMy0xLjQ4Mi0uOTgxLTIuMjE4LTEuNDMyLTIuOC0xLjcxNS00LjUtMi45LTQuNS00Ljg2MyAwLTIuMjM1IDIuMjA3LTIuNTY5IDMuNTIzLTIuNTY5YTQuNTQgNC41NCAwIDAxMy4wODEuNzY0IDIuNjYyIDIuNjYyIDAgMDEuNDQ3IDEuOTl2LjNhMS4yNSAxLjI1IDAgMTAyLjUgMHYtLjI2OGE0Ljg4NyA0Ljg4NyAwIDAwLTEuMTY1LTMuNzc3QzEzLjk0OS43NDEgMTIuMzU5LjI0OCAxMC4wOTEuMjQ4Yy0zLjY1OCAwLTYuMDIzIDEuOTg5LTYuMDIzIDUuMDY5IDAgMi43NzMgMS44OTIgNC41MTIgNCA1LjkyN2EuMjUuMjUgMCAwMS0uMTM5LjQ1OEgxLjVhMS4yNSAxLjI1IDAgMDAwIDIuNWgxMC45NzdhLjI1MS4yNTEgMCAwMS4xNTkuMDU4IDQuMzM5IDQuMzM5IDAgMDExLjkzMiAzLjQ2NmMwIDMuMjY4LTMuNDI2IDMuNTIyLTQuNDc3IDMuNTIyLTEuODE0IDAtMy4xMzktLjQwNS0zLjgzNC0xLjE3M2EzLjM5NCAzLjM5NCAwIDAxLS42NS0yLjcgMS4yNSAxLjI1IDAgMDAtMi40ODgtLjI0NkE1Ljc2IDUuNzYgMCAwMDQuNCAyMS43NTNjMS4yIDEuMzI0IDMuMTE0IDIgNS42ODggMiA0LjE3NCAwIDYuOTc3LTIuNDIgNi45NzctNi4wMjJhNi4wNTkgNi4wNTkgMCAwMC0uODQ5LTMuMTQ3LjI1LjI1IDAgMDEuMjE2LS4zNzdIMjIuNWExLjI1IDEuMjUgMCAwMDEuMjUtMS4yNTV6In19KV0pKX19LEZpPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ImZpbGwtcnVsZSI6ImV2ZW5vZGQiLGQ6Ik0xNyAxN3Y1aDJhMyAzIDAgMDAzLTN2LTJoLTV6bS0yIDBIOXY1aDZ2LTV6bTItMmg1VjloLTV2NnptLTIgMFY5SDl2Nmg2em0yLThoNVY1YTMgMyAwIDAwLTMtM2gtMnY1em0tMiAwVjJIOXY1aDZ6bTkgOS4xNzdWMTlhNSA1IDAgMDEtNSA1SDVhNSA1IDAgMDEtNS01VjVhNSA1IDAgMDE1LTVoMTRhNSA1IDAgMDE1IDV2Mi44MjNhLjg0My44NDMgMCAwMTAgLjM1NHY3LjY0NmEuODQzLjg0MyAwIDAxMCAuMzU0ek03IDJINWEzIDMgMCAwMC0zIDN2Mmg1VjJ6TTIgOXY2aDVWOUgyem0wIDh2MmEzIDMgMCAwMDMgM2gydi01SDJ6In19KV0pKX19LGppPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oImNpcmNsZSIse2F0dHJzOntjeDoiMi41IixjeToiMy45OTgiLHI6IjIuNSJ9fSksbigicGF0aCIse2F0dHJzOntkOiJNOC41IDVIMjNhMSAxIDAgMDAwLTJIOC41YTEgMSAwIDAwMCAyeiJ9fSksbigiY2lyY2xlIix7YXR0cnM6e2N4OiIyLjUiLGN5OiIxMS45OTgiLHI6IjIuNSJ9fSksbigicGF0aCIse2F0dHJzOntkOiJNMjMgMTFIOC41YTEgMSAwIDAwMCAySDIzYTEgMSAwIDAwMC0yeiJ9fSksbigiY2lyY2xlIix7YXR0cnM6e2N4OiIyLjUiLGN5OiIxOS45OTgiLHI6IjIuNSJ9fSksbigicGF0aCIse2F0dHJzOntkOiJNMjMgMTlIOC41YTEgMSAwIDAwMCAySDIzYTEgMSAwIDAwMC0yeiJ9fSldKSl9fSwkaT17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMi41IDIxLjI0OGgtMjFhMS4yNSAxLjI1IDAgMDAwIDIuNWgyMWExLjI1IDEuMjUgMCAwMDAtMi41ek0xLjk3OCAyLjc0OGgxLjM2M2EuMjUuMjUgMCAwMS4yNS4yNXY4LjUyM2E4LjQwOSA4LjQwOSAwIDAwMTYuODE4IDBWM2EuMjUuMjUgMCAwMS4yNS0uMjVoMS4zNjNhMS4yNSAxLjI1IDAgMDAwLTIuNUgxNi4zYTEuMjUgMS4yNSAwIDAwMCAyLjVoMS4zNjNhLjI1LjI1IDAgMDEuMjUuMjV2OC41MjNhNS45MDkgNS45MDkgMCAwMS0xMS44MTggMFYzYS4yNS4yNSAwIDAxLjI1LS4yNUg3LjdhMS4yNSAxLjI1IDAgMTAwLTIuNUgxLjk3OGExLjI1IDEuMjUgMCAwMDAgMi41eiJ9fSldKSl9fSxMaT17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xNy43ODYgMy43N2ExMi41NDIgMTIuNTQyIDAgMDAtMTIuOTY1LS44NjUuMjQ5LjI0OSAwIDAxLS4yOTItLjA0NUwxLjkzNy4yNjlBLjUwNy41MDcgMCAwMDEuMzkyLjE2YS41LjUgMCAwMC0uMzA4LjQ2MnY2LjdhLjUuNSAwIDAwLjUuNWg2LjdhLjUuNSAwIDAwLjM1NC0uODU0TDYuNzgzIDUuMTE1YS4yNTMuMjUzIDAgMDEtLjA2OC0uMjI4LjI0OS4yNDkgMCAwMS4xNTItLjE4MSAxMCAxMCAwIDAxOS40NjYgMS4xIDkuNzU5IDkuNzU5IDAgMDEuMDk0IDE1LjgwOSAxLjI1IDEuMjUgMCAwMDEuNDczIDIuMDE2IDEyLjEyMiAxMi4xMjIgMCAwMDUuMDEzLTkuOTYxIDEyLjEyNSAxMi4xMjUgMCAwMC01LjEyNy05Ljl6In19KV0pKX19LEhpPXthZGRfY29sX2FmdGVyOnZpLGFkZF9jb2xfYmVmb3JlOm1pLGFkZF9yb3dfYWZ0ZXI6Z2ksYWRkX3Jvd19iZWZvcmU6eWksYm9sZDp3aSxjaGVja2xpc3Q6YmksY29kZTpTaSxjb2RlX2Jsb2NrOmtpLGNvbWJpbmVfY2VsbHM6eGksZGVsZXRlX2NvbDpDaSxkZWxldGVfcm93Ok9pLGRlbGV0ZV90YWJsZTpNaSxnaXRodWI6TmksaHI6VGksaW1hZ2U6RGksaXRhbGljOkFpLGxpbms6RWksbWVudGlvbjpSaSxvbDpfaSxwYXJhZ3JhcGg6UGkscXVvdGU6emkscmVkbzpJaSxyZW1vdmU6Qmksc3RyaWtlOlZpLHRhYmxlOkZpLHVsOmppLHVuZGVybGluZTokaSx1bmRvOkxpfSxXaT17fSxxaT0wLEppPU9iamVjdC5lbnRyaWVzKEhpKTtxaTxKaS5sZW5ndGg7cWkrKyl7dmFyIEtpPWhpKEppW3FpXSwyKSxVaT1LaVswXSxHaT1LaVsxXTtXaVsiaWNvbl8iK1VpXT1HaX12YXIgWGk9e2NvbXBvbmVudHM6V2kscHJvcHM6e25hbWU6e30sc2l6ZTp7ZGVmYXVsdDoibm9ybWFsIn0sbW9kaWZpZXI6e2RlZmF1bHQ6bnVsbH0sZml4QWxpZ246e2RlZmF1bHQ6ITB9fSxjb21wdXRlZDp7aWNvbjpmdW5jdGlvbigpe3JldHVybiJpY29uXyIrdGhpcy5uYW1lfX19LFlpPVhpO24oIjFhZmEiKTtmdW5jdGlvbiBaaSh0LGUsbixyLG8saSxzLGEpe3ZhciBjLGw9ImZ1bmN0aW9uIj09PXR5cGVvZiB0P3Qub3B0aW9uczp0O2lmKGUmJihsLnJlbmRlcj1lLGwuc3RhdGljUmVuZGVyRm5zPW4sbC5fY29tcGlsZWQ9ITApLHImJihsLmZ1bmN0aW9uYWw9ITApLGkmJihsLl9zY29wZUlkPSJkYXRhLXYtIitpKSxzPyhjPWZ1bmN0aW9uKHQpe3Q9dHx8dGhpcy4kdm5vZGUmJnRoaXMuJHZub2RlLnNzckNvbnRleHR8fHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC4kdm5vZGUmJnRoaXMucGFyZW50LiR2bm9kZS5zc3JDb250ZXh0LHR8fCJ1bmRlZmluZWQiPT09dHlwZW9mIF9fVlVFX1NTUl9DT05URVhUX198fCh0PV9fVlVFX1NTUl9DT05URVhUX18pLG8mJm8uY2FsbCh0aGlzLHQpLHQmJnQuX3JlZ2lzdGVyZWRDb21wb25lbnRzJiZ0Ll9yZWdpc3RlcmVkQ29tcG9uZW50cy5hZGQocyl9LGwuX3NzclJlZ2lzdGVyPWMpOm8mJihjPWE/ZnVuY3Rpb24oKXtvLmNhbGwodGhpcyx0aGlzLiRyb290LiRvcHRpb25zLnNoYWRvd1Jvb3QpfTpvKSxjKWlmKGwuZnVuY3Rpb25hbCl7bC5faW5qZWN0U3R5bGVzPWM7dmFyIHU9bC5yZW5kZXI7bC5yZW5kZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYy5jYWxsKGUpLHUodCxlKX19ZWxzZXt2YXIgcD1sLmJlZm9yZUNyZWF0ZTtsLmJlZm9yZUNyZWF0ZT1wP1tdLmNvbmNhdChwLGMpOltjXX1yZXR1cm57ZXhwb3J0czp0LG9wdGlvbnM6bH19dmFyIFFpPVppKFlpLGxpLHVpLCExLG51bGwsImU1OWY3ODMyIixudWxsKSx0cz1RaS5leHBvcnRzLGVzPShuKCIzY2U0IiksNjU1MzUpLG5zPU1hdGgucG93KDIsMTYpO2Z1bmN0aW9uIHJzKHQsZSl7cmV0dXJuIHQrZSpuc31mdW5jdGlvbiBpcyh0KXtyZXR1cm4gdCZlc31mdW5jdGlvbiBzcyh0KXtyZXR1cm4odC0odCZlcykpL25zfXZhciBhcz1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9ITEpLHZvaWQgMD09PW4mJihuPW51bGwpLHRoaXMucG9zPXQsdGhpcy5kZWxldGVkPWUsdGhpcy5yZWNvdmVyPW59LGNzPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMucmFuZ2VzPXQsdGhpcy5pbnZlcnRlZD1lfTtjcy5wcm90b3R5cGUucmVjb3Zlcj1mdW5jdGlvbih0KXt2YXIgZT0wLG49aXModCk7aWYoIXRoaXMuaW52ZXJ0ZWQpZm9yKHZhciByPTA7cjxuO3IrKyllKz10aGlzLnJhbmdlc1szKnIrMl0tdGhpcy5yYW5nZXNbMypyKzFdO3JldHVybiB0aGlzLnJhbmdlc1szKm5dK2Urc3ModCl9LGNzLnByb3RvdHlwZS5tYXBSZXN1bHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MSksdGhpcy5fbWFwKHQsZSwhMSl9LGNzLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MSksdGhpcy5fbWFwKHQsZSwhMCl9LGNzLnByb3RvdHlwZS5fbWFwPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9MCxvPXRoaXMuaW52ZXJ0ZWQ/MjoxLGk9dGhpcy5pbnZlcnRlZD8xOjIscz0wO3M8dGhpcy5yYW5nZXMubGVuZ3RoO3MrPTMpe3ZhciBhPXRoaXMucmFuZ2VzW3NdLSh0aGlzLmludmVydGVkP3I6MCk7aWYoYT50KWJyZWFrO3ZhciBjPXRoaXMucmFuZ2VzW3Mrb10sbD10aGlzLnJhbmdlc1tzK2ldLHU9YStjO2lmKHQ8PXUpe3ZhciBwPWM/dD09YT8tMTp0PT11PzE6ZTplLGY9YStyKyhwPDA/MDpsKTtpZihuKXJldHVybiBmO3ZhciBkPXJzKHMvMyx0LWEpO3JldHVybiBuZXcgYXMoZixlPDA/dCE9YTp0IT11LGQpfXIrPWwtY31yZXR1cm4gbj90K3I6bmV3IGFzKHQrcil9LGNzLnByb3RvdHlwZS50b3VjaGVzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAscj1pcyhlKSxvPXRoaXMuaW52ZXJ0ZWQ/MjoxLGk9dGhpcy5pbnZlcnRlZD8xOjIscz0wO3M8dGhpcy5yYW5nZXMubGVuZ3RoO3MrPTMpe3ZhciBhPXRoaXMucmFuZ2VzW3NdLSh0aGlzLmludmVydGVkP246MCk7aWYoYT50KWJyZWFrO3ZhciBjPXRoaXMucmFuZ2VzW3Mrb10sbD1hK2M7aWYodDw9bCYmcz09MypyKXJldHVybiEwO24rPXRoaXMucmFuZ2VzW3MraV0tY31yZXR1cm4hMX0sY3MucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuaW52ZXJ0ZWQ/MjoxLG49dGhpcy5pbnZlcnRlZD8xOjIscj0wLG89MDtyPHRoaXMucmFuZ2VzLmxlbmd0aDtyKz0zKXt2YXIgaT10aGlzLnJhbmdlc1tyXSxzPWktKHRoaXMuaW52ZXJ0ZWQ/bzowKSxhPWkrKHRoaXMuaW52ZXJ0ZWQ/MDpvKSxjPXRoaXMucmFuZ2VzW3IrZV0sbD10aGlzLnJhbmdlc1tyK25dO3QocyxzK2MsYSxhK2wpLG8rPWwtY319LGNzLnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGNzKHRoaXMucmFuZ2VzLCF0aGlzLmludmVydGVkKX0sY3MucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuaW52ZXJ0ZWQ/Ii0iOiIiKStKU09OLnN0cmluZ2lmeSh0aGlzLnJhbmdlcyl9LGNzLm9mZnNldD1mdW5jdGlvbih0KXtyZXR1cm4gMD09dD9jcy5lbXB0eTpuZXcgY3ModDwwP1swLC10LDBdOlswLDAsdF0pfSxjcy5lbXB0eT1uZXcgY3MoW10pO3ZhciBscz1mdW5jdGlvbih0LGUsbixyKXt0aGlzLm1hcHM9dHx8W10sdGhpcy5mcm9tPW58fDAsdGhpcy50bz1udWxsPT1yP3RoaXMubWFwcy5sZW5ndGg6cix0aGlzLm1pcnJvcj1lfTtmdW5jdGlvbiB1cyh0KXt2YXIgZT1FcnJvci5jYWxsKHRoaXMsdCk7cmV0dXJuIGUuX19wcm90b19fPXVzLnByb3RvdHlwZSxlfWxzLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT10aGlzLm1hcHMubGVuZ3RoKSxuZXcgbHModGhpcy5tYXBzLHRoaXMubWlycm9yLHQsZSl9LGxzLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBscyh0aGlzLm1hcHMuc2xpY2UoKSx0aGlzLm1pcnJvciYmdGhpcy5taXJyb3Iuc2xpY2UoKSx0aGlzLmZyb20sdGhpcy50byl9LGxzLnByb3RvdHlwZS5hcHBlbmRNYXA9ZnVuY3Rpb24odCxlKXt0aGlzLnRvPXRoaXMubWFwcy5wdXNoKHQpLG51bGwhPWUmJnRoaXMuc2V0TWlycm9yKHRoaXMubWFwcy5sZW5ndGgtMSxlKX0sbHMucHJvdG90eXBlLmFwcGVuZE1hcHBpbmc9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLm1hcHMubGVuZ3RoO2U8dC5tYXBzLmxlbmd0aDtlKyspe3ZhciByPXQuZ2V0TWlycm9yKGUpO3RoaXMuYXBwZW5kTWFwKHQubWFwc1tlXSxudWxsIT1yJiZyPGU/bityOm51bGwpfX0sbHMucHJvdG90eXBlLmdldE1pcnJvcj1mdW5jdGlvbih0KXtpZih0aGlzLm1pcnJvcilmb3IodmFyIGU9MDtlPHRoaXMubWlycm9yLmxlbmd0aDtlKyspaWYodGhpcy5taXJyb3JbZV09PXQpcmV0dXJuIHRoaXMubWlycm9yW2UrKGUlMj8tMToxKV19LGxzLnByb3RvdHlwZS5zZXRNaXJyb3I9ZnVuY3Rpb24odCxlKXt0aGlzLm1pcnJvcnx8KHRoaXMubWlycm9yPVtdKSx0aGlzLm1pcnJvci5wdXNoKHQsZSl9LGxzLnByb3RvdHlwZS5hcHBlbmRNYXBwaW5nSW52ZXJ0ZWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQubWFwcy5sZW5ndGgtMSxuPXRoaXMubWFwcy5sZW5ndGgrdC5tYXBzLmxlbmd0aDtlPj0wO2UtLSl7dmFyIHI9dC5nZXRNaXJyb3IoZSk7dGhpcy5hcHBlbmRNYXAodC5tYXBzW2VdLmludmVydCgpLG51bGwhPXImJnI+ZT9uLXItMTpudWxsKX19LGxzLnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgbHM7cmV0dXJuIHQuYXBwZW5kTWFwcGluZ0ludmVydGVkKHRoaXMpLHR9LGxzLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT0xKSx0aGlzLm1pcnJvcilyZXR1cm4gdGhpcy5fbWFwKHQsZSwhMCk7Zm9yKHZhciBuPXRoaXMuZnJvbTtuPHRoaXMudG87bisrKXQ9dGhpcy5tYXBzW25dLm1hcCh0LGUpO3JldHVybiB0fSxscy5wcm90b3R5cGUubWFwUmVzdWx0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTEpLHRoaXMuX21hcCh0LGUsITEpfSxscy5wcm90b3R5cGUuX21hcD1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPSExLG89bnVsbCxpPXRoaXMuZnJvbTtpPHRoaXMudG87aSsrKXt2YXIgcz10aGlzLm1hcHNbaV0sYT1vJiZvW2ldO2lmKG51bGwhPWEmJnMudG91Y2hlcyh0LGEpKXQ9cy5yZWNvdmVyKGEpO2Vsc2V7dmFyIGM9cy5tYXBSZXN1bHQodCxlKTtpZihudWxsIT1jLnJlY292ZXIpe3ZhciBsPXRoaXMuZ2V0TWlycm9yKGkpO2lmKG51bGwhPWwmJmw+aSYmbDx0aGlzLnRvKXtpZihjLmRlbGV0ZWQpe2k9bCx0PXRoaXMubWFwc1tsXS5yZWNvdmVyKGMucmVjb3Zlcik7Y29udGludWV9KG98fChvPU9iamVjdC5jcmVhdGUobnVsbCkpKVtsXT1jLnJlY292ZXJ9fWMuZGVsZXRlZCYmKHI9ITApLHQ9Yy5wb3N9fXJldHVybiBuP3Q6bmV3IGFzKHQscil9LHVzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksdXMucHJvdG90eXBlLmNvbnN0cnVjdG9yPXVzLHVzLnByb3RvdHlwZS5uYW1lPSJUcmFuc2Zvcm1FcnJvciI7dmFyIHBzPWZ1bmN0aW9uKHQpe3RoaXMuZG9jPXQsdGhpcy5zdGVwcz1bXSx0aGlzLmRvY3M9W10sdGhpcy5tYXBwaW5nPW5ldyBsc30sZnM9e2JlZm9yZTp7Y29uZmlndXJhYmxlOiEwfSxkb2NDaGFuZ2VkOntjb25maWd1cmFibGU6ITB9fTtmdW5jdGlvbiBkcygpe3Rocm93IG5ldyBFcnJvcigiT3ZlcnJpZGUgbWUiKX1mcy5iZWZvcmUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jcy5sZW5ndGg/dGhpcy5kb2NzWzBdOnRoaXMuZG9jfSxwcy5wcm90b3R5cGUuc3RlcD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm1heWJlU3RlcCh0KTtpZihlLmZhaWxlZCl0aHJvdyBuZXcgdXMoZS5mYWlsZWQpO3JldHVybiB0aGlzfSxwcy5wcm90b3R5cGUubWF5YmVTdGVwPWZ1bmN0aW9uKHQpe3ZhciBlPXQuYXBwbHkodGhpcy5kb2MpO3JldHVybiBlLmZhaWxlZHx8dGhpcy5hZGRTdGVwKHQsZS5kb2MpLGV9LGZzLmRvY0NoYW5nZWQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RlcHMubGVuZ3RoPjB9LHBzLnByb3RvdHlwZS5hZGRTdGVwPWZ1bmN0aW9uKHQsZSl7dGhpcy5kb2NzLnB1c2godGhpcy5kb2MpLHRoaXMuc3RlcHMucHVzaCh0KSx0aGlzLm1hcHBpbmcuYXBwZW5kTWFwKHQuZ2V0TWFwKCkpLHRoaXMuZG9jPWV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHBzLnByb3RvdHlwZSxmcyk7dmFyIGhzPU9iamVjdC5jcmVhdGUobnVsbCksdnM9ZnVuY3Rpb24oKXt9O3ZzLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0KXtyZXR1cm4gZHMoKX0sdnMucHJvdG90eXBlLmdldE1hcD1mdW5jdGlvbigpe3JldHVybiBjcy5lbXB0eX0sdnMucHJvdG90eXBlLmludmVydD1mdW5jdGlvbih0KXtyZXR1cm4gZHMoKX0sdnMucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXtyZXR1cm4gZHMoKX0sdnMucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsfSx2cy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIGRzKCl9LHZzLmZyb21KU09OPWZ1bmN0aW9uKHQsZSl7aWYoIWV8fCFlLnN0ZXBUeXBlKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBTdGVwLmZyb21KU09OIik7dmFyIG49aHNbZS5zdGVwVHlwZV07aWYoIW4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vIHN0ZXAgdHlwZSAiK2Uuc3RlcFR5cGUrIiBkZWZpbmVkIik7cmV0dXJuIG4uZnJvbUpTT04odCxlKX0sdnMuanNvbklEPWZ1bmN0aW9uKHQsZSl7aWYodCBpbiBocyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRHVwbGljYXRlIHVzZSBvZiBzdGVwIEpTT04gSUQgIit0KTtyZXR1cm4gaHNbdF09ZSxlLnByb3RvdHlwZS5qc29uSUQ9dCxlfTt2YXIgbXM9ZnVuY3Rpb24odCxlKXt0aGlzLmRvYz10LHRoaXMuZmFpbGVkPWV9O21zLm9rPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbXModCxudWxsKX0sbXMuZmFpbD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IG1zKG51bGwsdCl9LG1zLmZyb21SZXBsYWNlPWZ1bmN0aW9uKHQsZSxuLHIpe3RyeXtyZXR1cm4gbXMub2sodC5yZXBsYWNlKGUsbixyKSl9Y2F0Y2gobyl7aWYobyBpbnN0YW5jZW9mIGFbIlJlcGxhY2VFcnJvciJdKXJldHVybiBtcy5mYWlsKG8ubWVzc2FnZSk7dGhyb3cgb319O3ZhciBncz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8pe3QuY2FsbCh0aGlzKSx0aGlzLmZyb209ZSx0aGlzLnRvPW4sdGhpcy5zbGljZT1yLHRoaXMuc3RydWN0dXJlPSEhb31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RydWN0dXJlJiZ3cyh0LHRoaXMuZnJvbSx0aGlzLnRvKT9tcy5mYWlsKCJTdHJ1Y3R1cmUgcmVwbGFjZSB3b3VsZCBvdmVyd3JpdGUgY29udGVudCIpOm1zLmZyb21SZXBsYWNlKHQsdGhpcy5mcm9tLHRoaXMudG8sdGhpcy5zbGljZSl9LGUucHJvdG90eXBlLmdldE1hcD1mdW5jdGlvbigpe3JldHVybiBuZXcgY3MoW3RoaXMuZnJvbSx0aGlzLnRvLXRoaXMuZnJvbSx0aGlzLnNsaWNlLnNpemVdKX0sZS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0aGlzLmZyb20sdGhpcy5mcm9tK3RoaXMuc2xpY2Uuc2l6ZSx0LnNsaWNlKHRoaXMuZnJvbSx0aGlzLnRvKSl9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXt2YXIgbj10Lm1hcFJlc3VsdCh0aGlzLmZyb20sMSkscj10Lm1hcFJlc3VsdCh0aGlzLnRvLC0xKTtyZXR1cm4gbi5kZWxldGVkJiZyLmRlbGV0ZWQ/bnVsbDpuZXcgZShuLnBvcyxNYXRoLm1heChuLnBvcyxyLnBvcyksdGhpcy5zbGljZSl9LGUucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIGUpfHx0LnN0cnVjdHVyZSE9dGhpcy5zdHJ1Y3R1cmUpcmV0dXJuIG51bGw7aWYodGhpcy5mcm9tK3RoaXMuc2xpY2Uuc2l6ZSE9dC5mcm9tfHx0aGlzLnNsaWNlLm9wZW5FbmR8fHQuc2xpY2Uub3BlblN0YXJ0KXtpZih0LnRvIT10aGlzLmZyb218fHRoaXMuc2xpY2Uub3BlblN0YXJ0fHx0LnNsaWNlLm9wZW5FbmQpcmV0dXJuIG51bGw7dmFyIG49dGhpcy5zbGljZS5zaXplK3Quc2xpY2Uuc2l6ZT09MD9hWyJTbGljZSJdLmVtcHR5Om5ldyBhWyJTbGljZSJdKHQuc2xpY2UuY29udGVudC5hcHBlbmQodGhpcy5zbGljZS5jb250ZW50KSx0LnNsaWNlLm9wZW5TdGFydCx0aGlzLnNsaWNlLm9wZW5FbmQpO3JldHVybiBuZXcgZSh0LmZyb20sdGhpcy50byxuLHRoaXMuc3RydWN0dXJlKX12YXIgcj10aGlzLnNsaWNlLnNpemUrdC5zbGljZS5zaXplPT0wP2FbIlNsaWNlIl0uZW1wdHk6bmV3IGFbIlNsaWNlIl0odGhpcy5zbGljZS5jb250ZW50LmFwcGVuZCh0LnNsaWNlLmNvbnRlbnQpLHRoaXMuc2xpY2Uub3BlblN0YXJ0LHQuc2xpY2Uub3BlbkVuZCk7cmV0dXJuIG5ldyBlKHRoaXMuZnJvbSx0aGlzLnRvKyh0LnRvLXQuZnJvbSkscix0aGlzLnN0cnVjdHVyZSl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciB0PXtzdGVwVHlwZToicmVwbGFjZSIsZnJvbTp0aGlzLmZyb20sdG86dGhpcy50b307cmV0dXJuIHRoaXMuc2xpY2Uuc2l6ZSYmKHQuc2xpY2U9dGhpcy5zbGljZS50b0pTT04oKSksdGhpcy5zdHJ1Y3R1cmUmJih0LnN0cnVjdHVyZT0hMCksdH0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbi5mcm9tfHwibnVtYmVyIiE9dHlwZW9mIG4udG8pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIFJlcGxhY2VTdGVwLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKG4uZnJvbSxuLnRvLGFbIlNsaWNlIl0uZnJvbUpTT04odCxuLnNsaWNlKSwhIW4uc3RydWN0dXJlKX0sZX0odnMpO3ZzLmpzb25JRCgicmVwbGFjZSIsZ3MpO3ZhciB5cz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8saSxzLGEpe3QuY2FsbCh0aGlzKSx0aGlzLmZyb209ZSx0aGlzLnRvPW4sdGhpcy5nYXBGcm9tPXIsdGhpcy5nYXBUbz1vLHRoaXMuc2xpY2U9aSx0aGlzLmluc2VydD1zLHRoaXMuc3RydWN0dXJlPSEhYX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7aWYodGhpcy5zdHJ1Y3R1cmUmJih3cyh0LHRoaXMuZnJvbSx0aGlzLmdhcEZyb20pfHx3cyh0LHRoaXMuZ2FwVG8sdGhpcy50bykpKXJldHVybiBtcy5mYWlsKCJTdHJ1Y3R1cmUgZ2FwLXJlcGxhY2Ugd291bGQgb3ZlcndyaXRlIGNvbnRlbnQiKTt2YXIgZT10LnNsaWNlKHRoaXMuZ2FwRnJvbSx0aGlzLmdhcFRvKTtpZihlLm9wZW5TdGFydHx8ZS5vcGVuRW5kKXJldHVybiBtcy5mYWlsKCJHYXAgaXMgbm90IGEgZmxhdCByYW5nZSIpO3ZhciBuPXRoaXMuc2xpY2UuaW5zZXJ0QXQodGhpcy5pbnNlcnQsZS5jb250ZW50KTtyZXR1cm4gbj9tcy5mcm9tUmVwbGFjZSh0LHRoaXMuZnJvbSx0aGlzLnRvLG4pOm1zLmZhaWwoIkNvbnRlbnQgZG9lcyBub3QgZml0IGluIGdhcCIpfSxlLnByb3RvdHlwZS5nZXRNYXA9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGNzKFt0aGlzLmZyb20sdGhpcy5nYXBGcm9tLXRoaXMuZnJvbSx0aGlzLmluc2VydCx0aGlzLmdhcFRvLHRoaXMudG8tdGhpcy5nYXBUbyx0aGlzLnNsaWNlLnNpemUtdGhpcy5pbnNlcnRdKX0sZS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuZ2FwVG8tdGhpcy5nYXBGcm9tO3JldHVybiBuZXcgZSh0aGlzLmZyb20sdGhpcy5mcm9tK3RoaXMuc2xpY2Uuc2l6ZStuLHRoaXMuZnJvbSt0aGlzLmluc2VydCx0aGlzLmZyb20rdGhpcy5pbnNlcnQrbix0LnNsaWNlKHRoaXMuZnJvbSx0aGlzLnRvKS5yZW1vdmVCZXR3ZWVuKHRoaXMuZ2FwRnJvbS10aGlzLmZyb20sdGhpcy5nYXBUby10aGlzLmZyb20pLHRoaXMuZ2FwRnJvbS10aGlzLmZyb20sdGhpcy5zdHJ1Y3R1cmUpfSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7dmFyIG49dC5tYXBSZXN1bHQodGhpcy5mcm9tLDEpLHI9dC5tYXBSZXN1bHQodGhpcy50bywtMSksbz10Lm1hcCh0aGlzLmdhcEZyb20sLTEpLGk9dC5tYXAodGhpcy5nYXBUbywxKTtyZXR1cm4gbi5kZWxldGVkJiZyLmRlbGV0ZWR8fG88bi5wb3N8fGk+ci5wb3M/bnVsbDpuZXcgZShuLnBvcyxyLnBvcyxvLGksdGhpcy5zbGljZSx0aGlzLmluc2VydCx0aGlzLnN0cnVjdHVyZSl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciB0PXtzdGVwVHlwZToicmVwbGFjZUFyb3VuZCIsZnJvbTp0aGlzLmZyb20sdG86dGhpcy50byxnYXBGcm9tOnRoaXMuZ2FwRnJvbSxnYXBUbzp0aGlzLmdhcFRvLGluc2VydDp0aGlzLmluc2VydH07cmV0dXJuIHRoaXMuc2xpY2Uuc2l6ZSYmKHQuc2xpY2U9dGhpcy5zbGljZS50b0pTT04oKSksdGhpcy5zdHJ1Y3R1cmUmJih0LnN0cnVjdHVyZT0hMCksdH0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbi5mcm9tfHwibnVtYmVyIiE9dHlwZW9mIG4udG98fCJudW1iZXIiIT10eXBlb2Ygbi5nYXBGcm9tfHwibnVtYmVyIiE9dHlwZW9mIG4uZ2FwVG98fCJudW1iZXIiIT10eXBlb2Ygbi5pbnNlcnQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIFJlcGxhY2VBcm91bmRTdGVwLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKG4uZnJvbSxuLnRvLG4uZ2FwRnJvbSxuLmdhcFRvLGFbIlNsaWNlIl0uZnJvbUpTT04odCxuLnNsaWNlKSxuLmluc2VydCwhIW4uc3RydWN0dXJlKX0sZX0odnMpO2Z1bmN0aW9uIHdzKHQsZSxuKXt2YXIgcj10LnJlc29sdmUoZSksbz1uLWUsaT1yLmRlcHRoO3doaWxlKG8+MCYmaT4wJiZyLmluZGV4QWZ0ZXIoaSk9PXIubm9kZShpKS5jaGlsZENvdW50KWktLSxvLS07aWYobz4wKXt2YXIgcz1yLm5vZGUoaSkubWF5YmVDaGlsZChyLmluZGV4QWZ0ZXIoaSkpO3doaWxlKG8+MCl7aWYoIXN8fHMuaXNMZWFmKXJldHVybiEwO3M9cy5maXJzdENoaWxkLG8tLX19cmV0dXJuITF9ZnVuY3Rpb24gYnModCxlLG4pe3ZhciByPXQucmVzb2x2ZShlKSxvPXIuaW5kZXgoKTtyZXR1cm4gci5wYXJlbnQuY2FuUmVwbGFjZVdpdGgobyxvKzEsbil9ZnVuY3Rpb24gU3ModCxlLG4pe3ZhciByPXQucmVzb2x2ZShlKTtpZihyLnBhcmVudC5jYW5SZXBsYWNlV2l0aChyLmluZGV4KCksci5pbmRleCgpLG4pKXJldHVybiBlO2lmKDA9PXIucGFyZW50T2Zmc2V0KWZvcih2YXIgbz1yLmRlcHRoLTE7bz49MDtvLS0pe3ZhciBpPXIuaW5kZXgobyk7aWYoci5ub2RlKG8pLmNhblJlcGxhY2VXaXRoKGksaSxuKSlyZXR1cm4gci5iZWZvcmUobysxKTtpZihpPjApcmV0dXJuIG51bGx9aWYoci5wYXJlbnRPZmZzZXQ9PXIucGFyZW50LmNvbnRlbnQuc2l6ZSlmb3IodmFyIHM9ci5kZXB0aC0xO3M+PTA7cy0tKXt2YXIgYT1yLmluZGV4QWZ0ZXIocyk7aWYoci5ub2RlKHMpLmNhblJlcGxhY2VXaXRoKGEsYSxuKSlyZXR1cm4gci5hZnRlcihzKzEpO2lmKGE8ci5ub2RlKHMpLmNoaWxkQ291bnQpcmV0dXJuIG51bGx9fWZ1bmN0aW9uIGtzKHQsZSxuKXt2YXIgcj10LnJlc29sdmUoZSk7aWYoIW4uY29udGVudC5zaXplKXJldHVybiBlO2Zvcih2YXIgbz1uLmNvbnRlbnQsaT0wO2k8bi5vcGVuU3RhcnQ7aSsrKW89by5maXJzdENoaWxkLmNvbnRlbnQ7Zm9yKHZhciBzPTE7czw9KDA9PW4ub3BlblN0YXJ0JiZuLnNpemU/MjoxKTtzKyspZm9yKHZhciBhPXIuZGVwdGg7YT49MDthLS0pe3ZhciBjPWE9PXIuZGVwdGg/MDpyLnBvczw9KHIuc3RhcnQoYSsxKStyLmVuZChhKzEpKS8yPy0xOjEsbD1yLmluZGV4KGEpKyhjPjA/MTowKTtpZigxPT1zP3Iubm9kZShhKS5jYW5SZXBsYWNlKGwsbCxvKTpyLm5vZGUoYSkuY29udGVudE1hdGNoQXQobCkuZmluZFdyYXBwaW5nKG8uZmlyc3RDaGlsZC50eXBlKSlyZXR1cm4gMD09Yz9yLnBvczpjPDA/ci5iZWZvcmUoYSsxKTpyLmFmdGVyKGErMSl9cmV0dXJuIG51bGx9ZnVuY3Rpb24geHModCxlLG4pe2Zvcih2YXIgcj1bXSxvPTA7bzx0LmNoaWxkQ291bnQ7bysrKXt2YXIgaT10LmNoaWxkKG8pO2kuY29udGVudC5zaXplJiYoaT1pLmNvcHkoeHMoaS5jb250ZW50LGUsaSkpKSxpLmlzSW5saW5lJiYoaT1lKGksbixvKSksci5wdXNoKGkpfXJldHVybiBhWyJGcmFnbWVudCJdLmZyb21BcnJheShyKX12cy5qc29uSUQoInJlcGxhY2VBcm91bmQiLHlzKSxwcy5wcm90b3R5cGUubGlmdD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LiRmcm9tLHI9dC4kdG8sbz10LmRlcHRoLGk9bi5iZWZvcmUobysxKSxzPXIuYWZ0ZXIobysxKSxjPWksbD1zLHU9YVsiRnJhZ21lbnQiXS5lbXB0eSxwPTAsZj1vLGQ9ITE7Zj5lO2YtLSlkfHxuLmluZGV4KGYpPjA/KGQ9ITAsdT1hWyJGcmFnbWVudCJdLmZyb20obi5ub2RlKGYpLmNvcHkodSkpLHArKyk6Yy0tO2Zvcih2YXIgaD1hWyJGcmFnbWVudCJdLmVtcHR5LHY9MCxtPW8sZz0hMTttPmU7bS0tKWd8fHIuYWZ0ZXIobSsxKTxyLmVuZChtKT8oZz0hMCxoPWFbIkZyYWdtZW50Il0uZnJvbShyLm5vZGUobSkuY29weShoKSksdisrKTpsKys7cmV0dXJuIHRoaXMuc3RlcChuZXcgeXMoYyxsLGkscyxuZXcgYVsiU2xpY2UiXSh1LmFwcGVuZChoKSxwLHYpLHUuc2l6ZS1wLCEwKSl9LHBzLnByb3RvdHlwZS53cmFwPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWFbIkZyYWdtZW50Il0uZW1wdHkscj1lLmxlbmd0aC0xO3I+PTA7ci0tKW49YVsiRnJhZ21lbnQiXS5mcm9tKGVbcl0udHlwZS5jcmVhdGUoZVtyXS5hdHRycyxuKSk7dmFyIG89dC5zdGFydCxpPXQuZW5kO3JldHVybiB0aGlzLnN0ZXAobmV3IHlzKG8saSxvLGksbmV3IGFbIlNsaWNlIl0obiwwLDApLGUubGVuZ3RoLCEwKSl9LHBzLnByb3RvdHlwZS5zZXRCbG9ja1R5cGU9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89dGhpcztpZih2b2lkIDA9PT1lJiYoZT10KSwhbi5pc1RleHRibG9jayl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVHlwZSBnaXZlbiB0byBzZXRCbG9ja1R5cGUgc2hvdWxkIGJlIGEgdGV4dGJsb2NrIik7dmFyIGk9dGhpcy5zdGVwcy5sZW5ndGg7cmV0dXJuIHRoaXMuZG9jLm5vZGVzQmV0d2Vlbih0LGUsKGZ1bmN0aW9uKHQsZSl7aWYodC5pc1RleHRibG9jayYmIXQuaGFzTWFya3VwKG4scikmJmJzKG8uZG9jLG8ubWFwcGluZy5zbGljZShpKS5tYXAoZSksbikpe28uY2xlYXJJbmNvbXBhdGlibGUoby5tYXBwaW5nLnNsaWNlKGkpLm1hcChlLDEpLG4pO3ZhciBzPW8ubWFwcGluZy5zbGljZShpKSxjPXMubWFwKGUsMSksbD1zLm1hcChlK3Qubm9kZVNpemUsMSk7cmV0dXJuIG8uc3RlcChuZXcgeXMoYyxsLGMrMSxsLTEsbmV3IGFbIlNsaWNlIl0oYVsiRnJhZ21lbnQiXS5mcm9tKG4uY3JlYXRlKHIsbnVsbCx0Lm1hcmtzKSksMCwwKSwxLCEwKSksITF9fSkpLHRoaXN9LHBzLnByb3RvdHlwZS5zZXROb2RlTWFya3VwPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXRoaXMuZG9jLm5vZGVBdCh0KTtpZighbyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiTm8gbm9kZSBhdCBnaXZlbiBwb3NpdGlvbiIpO2V8fChlPW8udHlwZSk7dmFyIGk9ZS5jcmVhdGUobixudWxsLHJ8fG8ubWFya3MpO2lmKG8uaXNMZWFmKXJldHVybiB0aGlzLnJlcGxhY2VXaXRoKHQsdCtvLm5vZGVTaXplLGkpO2lmKCFlLnZhbGlkQ29udGVudChvLmNvbnRlbnQpKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGNvbnRlbnQgZm9yIG5vZGUgdHlwZSAiK2UubmFtZSk7cmV0dXJuIHRoaXMuc3RlcChuZXcgeXModCx0K28ubm9kZVNpemUsdCsxLHQrby5ub2RlU2l6ZS0xLG5ldyBhWyJTbGljZSJdKGFbIkZyYWdtZW50Il0uZnJvbShpKSwwLDApLDEsITApKX0scHMucHJvdG90eXBlLnNwbGl0PWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT0xKTtmb3IodmFyIHI9dGhpcy5kb2MucmVzb2x2ZSh0KSxvPWFbIkZyYWdtZW50Il0uZW1wdHksaT1hWyJGcmFnbWVudCJdLmVtcHR5LHM9ci5kZXB0aCxjPXIuZGVwdGgtZSxsPWUtMTtzPmM7cy0tLGwtLSl7bz1hWyJGcmFnbWVudCJdLmZyb20oci5ub2RlKHMpLmNvcHkobykpO3ZhciB1PW4mJm5bbF07aT1hWyJGcmFnbWVudCJdLmZyb20odT91LnR5cGUuY3JlYXRlKHUuYXR0cnMsaSk6ci5ub2RlKHMpLmNvcHkoaSkpfXJldHVybiB0aGlzLnN0ZXAobmV3IGdzKHQsdCxuZXcgYVsiU2xpY2UiXShvLmFwcGVuZChpKSxlLGUpLCEwKSl9LHBzLnByb3RvdHlwZS5qb2luPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9MSk7dmFyIG49bmV3IGdzKHQtZSx0K2UsYVsiU2xpY2UiXS5lbXB0eSwhMCk7cmV0dXJuIHRoaXMuc3RlcChuKX07dmFyIENzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIpe3QuY2FsbCh0aGlzKSx0aGlzLmZyb209ZSx0aGlzLnRvPW4sdGhpcy5tYXJrPXJ9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LnNsaWNlKHRoaXMuZnJvbSx0aGlzLnRvKSxyPXQucmVzb2x2ZSh0aGlzLmZyb20pLG89ci5ub2RlKHIuc2hhcmVkRGVwdGgodGhpcy50bykpLGk9bmV3IGFbIlNsaWNlIl0oeHMobi5jb250ZW50LChmdW5jdGlvbih0LG4pe3JldHVybiBuLnR5cGUuYWxsb3dzTWFya1R5cGUoZS5tYXJrLnR5cGUpP3QubWFyayhlLm1hcmsuYWRkVG9TZXQodC5tYXJrcykpOnR9KSxvKSxuLm9wZW5TdGFydCxuLm9wZW5FbmQpO3JldHVybiBtcy5mcm9tUmVwbGFjZSh0LHRoaXMuZnJvbSx0aGlzLnRvLGkpfSxlLnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE9zKHRoaXMuZnJvbSx0aGlzLnRvLHRoaXMubWFyayl9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXt2YXIgbj10Lm1hcFJlc3VsdCh0aGlzLmZyb20sMSkscj10Lm1hcFJlc3VsdCh0aGlzLnRvLC0xKTtyZXR1cm4gbi5kZWxldGVkJiZyLmRlbGV0ZWR8fG4ucG9zPj1yLnBvcz9udWxsOm5ldyBlKG4ucG9zLHIucG9zLHRoaXMubWFyayl9LGUucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBlJiZ0Lm1hcmsuZXEodGhpcy5tYXJrKSYmdGhpcy5mcm9tPD10LnRvJiZ0aGlzLnRvPj10LmZyb20pcmV0dXJuIG5ldyBlKE1hdGgubWluKHRoaXMuZnJvbSx0LmZyb20pLE1hdGgubWF4KHRoaXMudG8sdC50byksdGhpcy5tYXJrKX0sZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3N0ZXBUeXBlOiJhZGRNYXJrIixtYXJrOnRoaXMubWFyay50b0pTT04oKSxmcm9tOnRoaXMuZnJvbSx0bzp0aGlzLnRvfX0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbi5mcm9tfHwibnVtYmVyIiE9dHlwZW9mIG4udG8pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIEFkZE1hcmtTdGVwLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKG4uZnJvbSxuLnRvLHQubWFya0Zyb21KU09OKG4ubWFyaykpfSxlfSh2cyk7dnMuanNvbklEKCJhZGRNYXJrIixDcyk7dmFyIE9zPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIpe3QuY2FsbCh0aGlzKSx0aGlzLmZyb209ZSx0aGlzLnRvPW4sdGhpcy5tYXJrPXJ9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LnNsaWNlKHRoaXMuZnJvbSx0aGlzLnRvKSxyPW5ldyBhWyJTbGljZSJdKHhzKG4uY29udGVudCwoZnVuY3Rpb24odCl7cmV0dXJuIHQubWFyayhlLm1hcmsucmVtb3ZlRnJvbVNldCh0Lm1hcmtzKSl9KSksbi5vcGVuU3RhcnQsbi5vcGVuRW5kKTtyZXR1cm4gbXMuZnJvbVJlcGxhY2UodCx0aGlzLmZyb20sdGhpcy50byxyKX0sZS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDcyh0aGlzLmZyb20sdGhpcy50byx0aGlzLm1hcmspfSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7dmFyIG49dC5tYXBSZXN1bHQodGhpcy5mcm9tLDEpLHI9dC5tYXBSZXN1bHQodGhpcy50bywtMSk7cmV0dXJuIG4uZGVsZXRlZCYmci5kZWxldGVkfHxuLnBvcz49ci5wb3M/bnVsbDpuZXcgZShuLnBvcyxyLnBvcyx0aGlzLm1hcmspfSxlLnByb3RvdHlwZS5tZXJnZT1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgZSYmdC5tYXJrLmVxKHRoaXMubWFyaykmJnRoaXMuZnJvbTw9dC50byYmdGhpcy50bz49dC5mcm9tKXJldHVybiBuZXcgZShNYXRoLm1pbih0aGlzLmZyb20sdC5mcm9tKSxNYXRoLm1heCh0aGlzLnRvLHQudG8pLHRoaXMubWFyayl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybntzdGVwVHlwZToicmVtb3ZlTWFyayIsbWFyazp0aGlzLm1hcmsudG9KU09OKCksZnJvbTp0aGlzLmZyb20sdG86dGhpcy50b319LGUuZnJvbUpTT049ZnVuY3Rpb24odCxuKXtpZigibnVtYmVyIiE9dHlwZW9mIG4uZnJvbXx8Im51bWJlciIhPXR5cGVvZiBuLnRvKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBSZW1vdmVNYXJrU3RlcC5mcm9tSlNPTiIpO3JldHVybiBuZXcgZShuLmZyb20sbi50byx0Lm1hcmtGcm9tSlNPTihuLm1hcmspKX0sZX0odnMpO2Z1bmN0aW9uIE1zKHQsZSxuLHIpe2lmKHZvaWQgMD09PW4mJihuPWUpLHZvaWQgMD09PXImJihyPWFbIlNsaWNlIl0uZW1wdHkpLGU9PW4mJiFyLnNpemUpcmV0dXJuIG51bGw7dmFyIG89dC5yZXNvbHZlKGUpLGk9dC5yZXNvbHZlKG4pO2lmKFBzKG8saSxyKSlyZXR1cm4gbmV3IGdzKGUsbixyKTt2YXIgcz1CcyhvLHIpLGM9VHMobyxzKSxsPV9zKG8saSxjKTtpZighbClyZXR1cm4gbnVsbDtpZihjLnNpemUhPWwuc2l6ZSYmenMobyxpLGMpKXt2YXIgdT1pLmRlcHRoLHA9aS5hZnRlcih1KTt3aGlsZSh1PjEmJnA9PWkuZW5kKC0tdSkpKytwO3ZhciBmPV9zKG8sdC5yZXNvbHZlKHApLGMpO2lmKGYpcmV0dXJuIG5ldyB5cyhlLHAsbixpLmVuZCgpLGYsYy5zaXplKX1yZXR1cm4gbC5zaXplfHxlIT1uP25ldyBncyhlLG4sbCk6bnVsbH1mdW5jdGlvbiBOcyh0LGUsbixyKXt2YXIgbz1hWyJGcmFnbWVudCJdLmVtcHR5LGk9MCxzPW5bZV07aWYodC5kZXB0aD5lKXt2YXIgYz1Ocyh0LGUrMSxuLHJ8fHMpO2k9Yy5vcGVuRW5kKzEsbz1hWyJGcmFnbWVudCJdLmZyb20odC5ub2RlKGUrMSkuY29weShjLmNvbnRlbnQpKX1yZXR1cm4gcyYmKG89by5hcHBlbmQocy5jb250ZW50KSxpPXMub3BlbkVuZCksciYmKG89by5hcHBlbmQodC5ub2RlKGUpLmNvbnRlbnRNYXRjaEF0KHQuaW5kZXhBZnRlcihlKSkuZmlsbEJlZm9yZShhWyJGcmFnbWVudCJdLmVtcHR5LCEwKSksaT0wKSx7Y29udGVudDpvLG9wZW5FbmQ6aX19ZnVuY3Rpb24gVHModCxlKXt2YXIgbj1Ocyh0LDAsZSwhMSkscj1uLmNvbnRlbnQsbz1uLm9wZW5FbmQ7cmV0dXJuIG5ldyBhWyJTbGljZSJdKHIsdC5kZXB0aCxvfHwwKX1mdW5jdGlvbiBEcyh0LGUsbixyLG8saSxzKXt2YXIgYSxjPXQuY2hpbGRDb3VudCxsPWMtKHM+MD8xOjApLHU9aTwwP2U6bi5ub2RlKG8pO2E9aTwwP3UuY29udGVudE1hdGNoQXQobCk6MT09YyYmcz4wP3UuY29udGVudE1hdGNoQXQoaT9uLmluZGV4KG8pOm4uaW5kZXhBZnRlcihvKSk6dS5jb250ZW50TWF0Y2hBdChuLmluZGV4QWZ0ZXIobykpLm1hdGNoRnJhZ21lbnQodCxjPjAmJmk/MTowLGwpO3ZhciBwPXIubm9kZShvKTtpZihzPjAmJm88ci5kZXB0aCl7dmFyIGY9cC5jb250ZW50LmN1dEJ5SW5kZXgoci5pbmRleEFmdGVyKG8pKS5hZGRUb1N0YXJ0KHQubGFzdENoaWxkKSxkPWEuZmlsbEJlZm9yZShmLCEwKTtpZihkJiZkLnNpemUmJmk+MCYmMT09YyYmKGQ9bnVsbCksZCl7dmFyIGg9RHModC5sYXN0Q2hpbGQuY29udGVudCx0Lmxhc3RDaGlsZCxuLHIsbysxLDE9PWM/aS0xOi0xLHMtMSk7aWYoaCl7dmFyIHY9dC5sYXN0Q2hpbGQuY29weShoKTtyZXR1cm4gZC5zaXplP3QuY3V0QnlJbmRleCgwLGMtMSkuYXBwZW5kKGQpLmFkZFRvRW5kKHYpOnQucmVwbGFjZUNoaWxkKGMtMSx2KX19fXM+MCYmKGE9YS5tYXRjaFR5cGUoKDE9PWMmJmk+MD9uLm5vZGUobysxKTp0Lmxhc3RDaGlsZCkudHlwZSkpO3ZhciBtPXIuaW5kZXgobyk7aWYobT09cC5jaGlsZENvdW50JiYhcC50eXBlLmNvbXBhdGlibGVDb250ZW50KGUudHlwZSkpcmV0dXJuIG51bGw7Zm9yKHZhciBnPWEuZmlsbEJlZm9yZShwLmNvbnRlbnQsITAsbSkseT1tO2cmJnk8cC5jb250ZW50LmNoaWxkQ291bnQ7eSsrKXUudHlwZS5hbGxvd3NNYXJrcyhwLmNvbnRlbnQuY2hpbGQoeSkubWFya3MpfHwoZz1udWxsKTtpZighZylyZXR1cm4gbnVsbDtpZihzPjApe3ZhciB3PUFzKHQubGFzdENoaWxkLHMtMSxuLG8rMSwxPT1jP2ktMTotMSk7dD10LnJlcGxhY2VDaGlsZChjLTEsdyl9cmV0dXJuIHQ9dC5hcHBlbmQoZyksci5kZXB0aD5vJiYodD10LmFkZFRvRW5kKEVzKHIsbysxKSkpLHR9ZnVuY3Rpb24gQXModCxlLG4scixvKXt2YXIgaSxzPXQuY29udGVudCxjPXMuY2hpbGRDb3VudDtpZihpPW8+PTA/bi5ub2RlKHIpLmNvbnRlbnRNYXRjaEF0KG4uaW5kZXhBZnRlcihyKSkubWF0Y2hGcmFnbWVudChzLG8+MD8xOjAsYyk6dC5jb250ZW50TWF0Y2hBdChjKSxlPjApe3ZhciBsPUFzKHMubGFzdENoaWxkLGUtMSxuLHIrMSwxPT1jP28tMTotMSk7cz1zLnJlcGxhY2VDaGlsZChjLTEsbCl9cmV0dXJuIHQuY29weShzLmFwcGVuZChpLmZpbGxCZWZvcmUoYVsiRnJhZ21lbnQiXS5lbXB0eSwhMCkpKX1mdW5jdGlvbiBFcyh0LGUpe3ZhciBuPXQubm9kZShlKSxyPW4uY29udGVudE1hdGNoQXQoMCkuZmlsbEJlZm9yZShuLmNvbnRlbnQsITAsdC5pbmRleChlKSk7cmV0dXJuIHQuZGVwdGg+ZSYmKHI9ci5hZGRUb0VuZChFcyh0LGUrMSkpKSxuLmNvcHkocil9ZnVuY3Rpb24gUnModCxlLG4pe3doaWxlKGU+MCYmbj4wJiYxPT10LmNoaWxkQ291bnQpdD10LmZpcnN0Q2hpbGQuY29udGVudCxlLS0sbi0tO3JldHVybiBuZXcgYVsiU2xpY2UiXSh0LGUsbil9ZnVuY3Rpb24gX3ModCxlLG4pe3ZhciByPURzKG4uY29udGVudCx0Lm5vZGUoMCksdCxlLDAsbi5vcGVuU3RhcnQsbi5vcGVuRW5kKTtyZXR1cm4gcj9ScyhyLG4ub3BlblN0YXJ0LGUuZGVwdGgpOm51bGx9ZnVuY3Rpb24gUHModCxlLG4pe3JldHVybiFuLm9wZW5TdGFydCYmIW4ub3BlbkVuZCYmdC5zdGFydCgpPT1lLnN0YXJ0KCkmJnQucGFyZW50LmNhblJlcGxhY2UodC5pbmRleCgpLGUuaW5kZXgoKSxuLmNvbnRlbnQpfWZ1bmN0aW9uIHpzKHQsZSxuKXtpZighZS5wYXJlbnQuaXNUZXh0YmxvY2spcmV0dXJuITE7dmFyIHIsbz1uLm9wZW5FbmQ/SXMobi5jb250ZW50LG4ub3BlbkVuZCk6dC5ub2RlKHQuZGVwdGgtKG4ub3BlblN0YXJ0LW4ub3BlbkVuZCkpO2lmKCFvLmlzVGV4dGJsb2NrKXJldHVybiExO2Zvcih2YXIgaT1lLmluZGV4KCk7aTxlLnBhcmVudC5jaGlsZENvdW50O2krKylpZighby50eXBlLmFsbG93c01hcmtzKGUucGFyZW50LmNoaWxkKGkpLm1hcmtzKSlyZXR1cm4hMTtyZXR1cm4gbi5vcGVuRW5kP3I9by5jb250ZW50TWF0Y2hBdChvLmNoaWxkQ291bnQpOihyPW8uY29udGVudE1hdGNoQXQoby5jaGlsZENvdW50KSxuLnNpemUmJihyPXIubWF0Y2hGcmFnbWVudChuLmNvbnRlbnQsbi5vcGVuU3RhcnQ/MTowKSkpLHI9ci5tYXRjaEZyYWdtZW50KGUucGFyZW50LmNvbnRlbnQsZS5pbmRleCgpKSxyJiZyLnZhbGlkRW5kfWZ1bmN0aW9uIElzKHQsZSl7Zm9yKHZhciBuPTE7bjxlO24rKyl0PXQubGFzdENoaWxkLmNvbnRlbnQ7cmV0dXJuIHQubGFzdENoaWxkfWZ1bmN0aW9uIEJzKHQsZSl7Zm9yKHZhciBuPW5ldyBWcyh0KSxyPTE7ZS5zaXplJiZyPD0zO3IrKyl7dmFyIG89bi5wbGFjZVNsaWNlKGUuY29udGVudCxlLm9wZW5TdGFydCxlLm9wZW5FbmQscik7Mz09ciYmbyE9ZSYmby5zaXplJiYocj0wKSxlPW99d2hpbGUobi5vcGVuLmxlbmd0aCluLmNsb3NlTm9kZSgpO3JldHVybiBuLnBsYWNlZH12cy5qc29uSUQoInJlbW92ZU1hcmsiLE9zKSxwcy5wcm90b3R5cGUuYWRkTWFyaz1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcyxvPVtdLGk9W10scz1udWxsLGE9bnVsbDtyZXR1cm4gdGhpcy5kb2Mubm9kZXNCZXR3ZWVuKHQsZSwoZnVuY3Rpb24ocixjLGwpe2lmKHIuaXNJbmxpbmUpe3ZhciB1PXIubWFya3M7aWYoIW4uaXNJblNldCh1KSYmbC50eXBlLmFsbG93c01hcmtUeXBlKG4udHlwZSkpe2Zvcih2YXIgcD1NYXRoLm1heChjLHQpLGY9TWF0aC5taW4oYytyLm5vZGVTaXplLGUpLGQ9bi5hZGRUb1NldCh1KSxoPTA7aDx1Lmxlbmd0aDtoKyspdVtoXS5pc0luU2V0KGQpfHwocyYmcy50bz09cCYmcy5tYXJrLmVxKHVbaF0pP3MudG89ZjpvLnB1c2gocz1uZXcgT3MocCxmLHVbaF0pKSk7YSYmYS50bz09cD9hLnRvPWY6aS5wdXNoKGE9bmV3IENzKHAsZixuKSl9fX0pKSxvLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiByLnN0ZXAodCl9KSksaS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gci5zdGVwKHQpfSkpLHRoaXN9LHBzLnByb3RvdHlwZS5yZW1vdmVNYXJrPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzO3ZvaWQgMD09PW4mJihuPW51bGwpO3ZhciBvPVtdLGk9MDtyZXR1cm4gdGhpcy5kb2Mubm9kZXNCZXR3ZWVuKHQsZSwoZnVuY3Rpb24ocixzKXtpZihyLmlzSW5saW5lKXtpKys7dmFyIGM9bnVsbDtpZihuIGluc3RhbmNlb2YgYVsiTWFya1R5cGUiXSl7dmFyIGw9bi5pc0luU2V0KHIubWFya3MpO2wmJihjPVtsXSl9ZWxzZSBuP24uaXNJblNldChyLm1hcmtzKSYmKGM9W25dKTpjPXIubWFya3M7aWYoYyYmYy5sZW5ndGgpZm9yKHZhciB1PU1hdGgubWluKHMrci5ub2RlU2l6ZSxlKSxwPTA7cDxjLmxlbmd0aDtwKyspe2Zvcih2YXIgZj1jW3BdLGQ9dm9pZCAwLGg9MDtoPG8ubGVuZ3RoO2grKyl7dmFyIHY9b1toXTt2LnN0ZXA9PWktMSYmZi5lcShvW2hdLnN0eWxlKSYmKGQ9dil9ZD8oZC50bz11LGQuc3RlcD1pKTpvLnB1c2goe3N0eWxlOmYsZnJvbTpNYXRoLm1heChzLHQpLHRvOnUsc3RlcDppfSl9fX0pKSxvLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiByLnN0ZXAobmV3IE9zKHQuZnJvbSx0LnRvLHQuc3R5bGUpKX0pKSx0aGlzfSxwcy5wcm90b3R5cGUuY2xlYXJJbmNvbXBhdGlibGU9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPWUuY29udGVudE1hdGNoKTtmb3IodmFyIHI9dGhpcy5kb2Mubm9kZUF0KHQpLG89W10saT10KzEscz0wO3M8ci5jaGlsZENvdW50O3MrKyl7dmFyIGM9ci5jaGlsZChzKSxsPWkrYy5ub2RlU2l6ZSx1PW4ubWF0Y2hUeXBlKGMudHlwZSxjLmF0dHJzKTtpZih1KXtuPXU7Zm9yKHZhciBwPTA7cDxjLm1hcmtzLmxlbmd0aDtwKyspZS5hbGxvd3NNYXJrVHlwZShjLm1hcmtzW3BdLnR5cGUpfHx0aGlzLnN0ZXAobmV3IE9zKGksbCxjLm1hcmtzW3BdKSl9ZWxzZSBvLnB1c2gobmV3IGdzKGksbCxhWyJTbGljZSJdLmVtcHR5KSk7aT1sfWlmKCFuLnZhbGlkRW5kKXt2YXIgZj1uLmZpbGxCZWZvcmUoYVsiRnJhZ21lbnQiXS5lbXB0eSwhMCk7dGhpcy5yZXBsYWNlKGksaSxuZXcgYVsiU2xpY2UiXShmLDAsMCkpfWZvcih2YXIgZD1vLmxlbmd0aC0xO2Q+PTA7ZC0tKXRoaXMuc3RlcChvW2RdKTtyZXR1cm4gdGhpc30scHMucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPXQpLHZvaWQgMD09PW4mJihuPWFbIlNsaWNlIl0uZW1wdHkpO3ZhciByPU1zKHRoaXMuZG9jLHQsZSxuKTtyZXR1cm4gciYmdGhpcy5zdGVwKHIpLHRoaXN9LHBzLnByb3RvdHlwZS5yZXBsYWNlV2l0aD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMucmVwbGFjZSh0LGUsbmV3IGFbIlNsaWNlIl0oYVsiRnJhZ21lbnQiXS5mcm9tKG4pLDAsMCkpfSxwcy5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVwbGFjZSh0LGUsYVsiU2xpY2UiXS5lbXB0eSl9LHBzLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5yZXBsYWNlV2l0aCh0LHQsZSl9O3ZhciBWcz1mdW5jdGlvbih0KXt0aGlzLm9wZW49W107Zm9yKHZhciBlPTA7ZTw9dC5kZXB0aDtlKyspe3ZhciBuPXQubm9kZShlKSxyPW4uY29udGVudE1hdGNoQXQodC5pbmRleEFmdGVyKGUpKTt0aGlzLm9wZW4ucHVzaCh7cGFyZW50Om4sbWF0Y2g6cixjb250ZW50OmFbIkZyYWdtZW50Il0uZW1wdHksd3JhcHBlcjohMSxvcGVuRW5kOjAsZGVwdGg6ZX0pfXRoaXMucGxhY2VkPVtdfTtmdW5jdGlvbiBGcyh0LGUsbil7dmFyIHI9dC5jb250ZW50O2lmKGU+MSl7dmFyIG89RnModC5maXJzdENoaWxkLGUtMSwxPT10LmNoaWxkQ291bnQ/bi0xOjApO3I9dC5jb250ZW50LnJlcGxhY2VDaGlsZCgwLG8pfXZhciBpPXQudHlwZS5jb250ZW50TWF0Y2guZmlsbEJlZm9yZShyLDA9PW4pO3JldHVybiB0LmNvcHkoaS5hcHBlbmQocikpfWZ1bmN0aW9uIGpzKHQsZSl7dmFyIG49dC5jb250ZW50O2lmKGU+MSl7dmFyIHI9anModC5sYXN0Q2hpbGQsZS0xKTtuPXQuY29udGVudC5yZXBsYWNlQ2hpbGQodC5jaGlsZENvdW50LTEscil9dmFyIG89dC5jb250ZW50TWF0Y2hBdCh0LmNoaWxkQ291bnQpLmZpbGxCZWZvcmUoYVsiRnJhZ21lbnQiXS5lbXB0eSwhMCk7cmV0dXJuIHQuY29weShuLmFwcGVuZChvKSl9ZnVuY3Rpb24gJHModCxlKXtyZXR1cm4gZT90LnJlcGxhY2VDaGlsZCh0LmNoaWxkQ291bnQtMSxqcyh0Lmxhc3RDaGlsZCxlKSk6dH1mdW5jdGlvbiBMcyh0LGUsbixyLG8pe2lmKGU8bil7dmFyIGk9dC5maXJzdENoaWxkO3Q9dC5yZXBsYWNlQ2hpbGQoMCxpLmNvcHkoTHMoaS5jb250ZW50LGUrMSxuLHIsaSkpKX1pZihlPnIpe3ZhciBzPW8uY29udGVudE1hdGNoQXQoMCksYz1zLmZpbGxCZWZvcmUodCkuYXBwZW5kKHQpO3Q9Yy5hcHBlbmQocy5tYXRjaEZyYWdtZW50KGMpLmZpbGxCZWZvcmUoYVsiRnJhZ21lbnQiXS5lbXB0eSwhMCkpfXJldHVybiB0fWZ1bmN0aW9uIEhzKHQsZSl7Zm9yKHZhciBuPVtdLHI9TWF0aC5taW4odC5kZXB0aCxlLmRlcHRoKSxvPXI7bz49MDtvLS0pe3ZhciBpPXQuc3RhcnQobyk7aWYoaTx0LnBvcy0odC5kZXB0aC1vKXx8ZS5lbmQobyk+ZS5wb3MrKGUuZGVwdGgtbyl8fHQubm9kZShvKS50eXBlLnNwZWMuaXNvbGF0aW5nfHxlLm5vZGUobykudHlwZS5zcGVjLmlzb2xhdGluZylicmVhaztpPT1lLnN0YXJ0KG8pJiZuLnB1c2gobyl9cmV0dXJuIG59VnMucHJvdG90eXBlLnBsYWNlU2xpY2U9ZnVuY3Rpb24odCxlLG4scixvKXtpZihlPjApe3ZhciBpPXQuZmlyc3RDaGlsZCxzPXRoaXMucGxhY2VTbGljZShpLmNvbnRlbnQsTWF0aC5tYXgoMCxlLTEpLG4mJjE9PXQuY2hpbGRDb3VudD9uLTE6MCxyLGkpO3MuY29udGVudCE9aS5jb250ZW50JiYocy5jb250ZW50LnNpemU/KHQ9dC5yZXBsYWNlQ2hpbGQoMCxpLmNvcHkocy5jb250ZW50KSksZT1zLm9wZW5TdGFydCsxKTooMT09dC5jaGlsZENvdW50JiYobj0wKSx0PXQuY3V0QnlJbmRleCgxKSxlPTApKX12YXIgYz10aGlzLnBsYWNlQ29udGVudCh0LGUsbixyLG8pO2lmKHI+MiYmYy5zaXplJiYwPT1lKXt2YXIgbD1jLmNvbnRlbnQuZmlyc3RDaGlsZCx1PTE9PWMuY29udGVudC5jaGlsZENvdW50O3RoaXMucGxhY2VDb250ZW50KGwuY29udGVudCwwLG4mJnU/bi0xOjAscixsKSxjPXU/YVsiRnJhZ21lbnQiXS5lbXB0eTpuZXcgYVsiU2xpY2UiXShjLmNvbnRlbnQuY3V0QnlJbmRleCgxKSwwLG4pfXJldHVybiBjfSxWcy5wcm90b3R5cGUucGxhY2VDb250ZW50PWZ1bmN0aW9uKHQsZSxuLHIsbyl7Zm9yKHZhciBpPTA7aTx0LmNoaWxkQ291bnQ7aSsrKXtmb3IodmFyIHM9dC5jaGlsZChpKSxjPSExLGw9aT09dC5jaGlsZENvdW50LTEsdT10aGlzLm9wZW4ubGVuZ3RoLTE7dT49MDt1LS0pe3ZhciBwPXRoaXMub3Blblt1XSxmPXZvaWQgMDtpZihyPjEmJihmPXAubWF0Y2guZmluZFdyYXBwaW5nKHMudHlwZSkpJiYoIW98fCFmLmxlbmd0aHx8ZltmLmxlbmd0aC0xXSE9by50eXBlKSl7d2hpbGUodGhpcy5vcGVuLmxlbmd0aC0xPnUpdGhpcy5jbG9zZU5vZGUoKTtmb3IodmFyIGQ9MDtkPGYubGVuZ3RoO2QrKylwLm1hdGNoPXAubWF0Y2gubWF0Y2hUeXBlKGZbZF0pLHUrKyxwPXtwYXJlbnQ6ZltkXS5jcmVhdGUoKSxtYXRjaDpmW2RdLmNvbnRlbnRNYXRjaCxjb250ZW50OmFbIkZyYWdtZW50Il0uZW1wdHksd3JhcHBlcjohMCxvcGVuRW5kOjAsZGVwdGg6dStkfSx0aGlzLm9wZW4ucHVzaChwKX12YXIgaD1wLm1hdGNoLm1hdGNoVHlwZShzLnR5cGUpO2lmKCFoKXt2YXIgdj1wLm1hdGNoLmZpbGxCZWZvcmUoYVsiRnJhZ21lbnQiXS5mcm9tKHMpKTtpZighdil7aWYobyYmcC5tYXRjaC5tYXRjaFR5cGUoby50eXBlKSlicmVhaztjb250aW51ZX1mb3IodmFyIG09MDttPHYuY2hpbGRDb3VudDttKyspe3ZhciBnPXYuY2hpbGQobSk7dGhpcy5hZGROb2RlKHAsZywwKSxoPXAubWF0Y2gubWF0Y2hGcmFnbWVudChnKX19d2hpbGUodGhpcy5vcGVuLmxlbmd0aC0xPnUpdGhpcy5jbG9zZU5vZGUoKTtzPXMubWFyayhwLnBhcmVudC50eXBlLmFsbG93ZWRNYXJrcyhzLm1hcmtzKSksZSYmKHM9RnMocyxlLGw/bjowKSxlPTApLHRoaXMuYWRkTm9kZShwLHMsbD9uOjApLHAubWF0Y2g9aCxsJiYobj0wKSxjPSEwO2JyZWFrfWlmKCFjKWJyZWFrfXJldHVybiB0aGlzLm9wZW4ubGVuZ3RoPjEmJihpPjAmJmk9PXQuY2hpbGRDb3VudHx8byYmdGhpcy5vcGVuW3RoaXMub3Blbi5sZW5ndGgtMV0ucGFyZW50LnR5cGU9PW8udHlwZSkmJnRoaXMuY2xvc2VOb2RlKCksbmV3IGFbIlNsaWNlIl0odC5jdXRCeUluZGV4KGkpLGUsbil9LFZzLnByb3RvdHlwZS5hZGROb2RlPWZ1bmN0aW9uKHQsZSxuKXt0LmNvbnRlbnQ9JHModC5jb250ZW50LHQub3BlbkVuZCkuYWRkVG9FbmQoZSksdC5vcGVuRW5kPW59LFZzLnByb3RvdHlwZS5jbG9zZU5vZGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wZW4ucG9wKCk7MD09dC5jb250ZW50LnNpemV8fCh0LndyYXBwZXI/dGhpcy5hZGROb2RlKHRoaXMub3Blblt0aGlzLm9wZW4ubGVuZ3RoLTFdLHQucGFyZW50LmNvcHkodC5jb250ZW50KSx0Lm9wZW5FbmQrMSk6dGhpcy5wbGFjZWRbdC5kZXB0aF09e2RlcHRoOnQuZGVwdGgsY29udGVudDp0LmNvbnRlbnQsb3BlbkVuZDp0Lm9wZW5FbmR9KX0scHMucHJvdG90eXBlLnJlcGxhY2VSYW5nZT1mdW5jdGlvbih0LGUsbil7aWYoIW4uc2l6ZSlyZXR1cm4gdGhpcy5kZWxldGVSYW5nZSh0LGUpO3ZhciByPXRoaXMuZG9jLnJlc29sdmUodCksbz10aGlzLmRvYy5yZXNvbHZlKGUpO2lmKFBzKHIsbyxuKSlyZXR1cm4gdGhpcy5zdGVwKG5ldyBncyh0LGUsbikpO3ZhciBpPUhzKHIsdGhpcy5kb2MucmVzb2x2ZShlKSk7MD09aVtpLmxlbmd0aC0xXSYmaS5wb3AoKTt2YXIgcz0tKHIuZGVwdGgrMSk7aS51bnNoaWZ0KHMpO2Zvcih2YXIgYz1yLmRlcHRoLGw9ci5wb3MtMTtjPjA7Yy0tLGwtLSl7dmFyIHU9ci5ub2RlKGMpLnR5cGUuc3BlYztpZih1LmRlZmluaW5nfHx1Lmlzb2xhdGluZylicmVhaztpLmluZGV4T2YoYyk+LTE/cz1jOnIuYmVmb3JlKGMpPT1sJiZpLnNwbGljZSgxLDAsLWMpfWZvcih2YXIgcD1pLmluZGV4T2YocyksZj1bXSxkPW4ub3BlblN0YXJ0LGg9bi5jb250ZW50LHY9MDs7disrKXt2YXIgbT1oLmZpcnN0Q2hpbGQ7aWYoZi5wdXNoKG0pLHY9PW4ub3BlblN0YXJ0KWJyZWFrO2g9bS5jb250ZW50fWQ+MCYmZltkLTFdLnR5cGUuc3BlYy5kZWZpbmluZyYmci5ub2RlKHApLnR5cGUhPWZbZC0xXS50eXBlP2QtPTE6ZD49MiYmZltkLTFdLmlzVGV4dGJsb2NrJiZmW2QtMl0udHlwZS5zcGVjLmRlZmluaW5nJiZyLm5vZGUocCkudHlwZSE9ZltkLTJdLnR5cGUmJihkLT0yKTtmb3IodmFyIGc9bi5vcGVuU3RhcnQ7Zz49MDtnLS0pe3ZhciB5PShnK2QrMSklKG4ub3BlblN0YXJ0KzEpLHc9Zlt5XTtpZih3KWZvcih2YXIgYj0wO2I8aS5sZW5ndGg7YisrKXt2YXIgUz1pWyhiK3ApJWkubGVuZ3RoXSxrPSEwO1M8MCYmKGs9ITEsUz0tUyk7dmFyIHg9ci5ub2RlKFMtMSksQz1yLmluZGV4KFMtMSk7aWYoeC5jYW5SZXBsYWNlV2l0aChDLEMsdy50eXBlLHcubWFya3MpKXJldHVybiB0aGlzLnJlcGxhY2Uoci5iZWZvcmUoUyksaz9vLmFmdGVyKFMpOmUsbmV3IGFbIlNsaWNlIl0oTHMobi5jb250ZW50LDAsbi5vcGVuU3RhcnQseSkseSxuLm9wZW5FbmQpKX19Zm9yKHZhciBPPXRoaXMuc3RlcHMubGVuZ3RoLE09aS5sZW5ndGgtMTtNPj0wO00tLSl7aWYodGhpcy5yZXBsYWNlKHQsZSxuKSx0aGlzLnN0ZXBzLmxlbmd0aD5PKWJyZWFrO3ZhciBOPWlbTV07TTwwfHwodD1yLmJlZm9yZShOKSxlPW8uYWZ0ZXIoTikpfXJldHVybiB0aGlzfSxwcy5wcm90b3R5cGUucmVwbGFjZVJhbmdlV2l0aD1mdW5jdGlvbih0LGUsbil7aWYoIW4uaXNJbmxpbmUmJnQ9PWUmJnRoaXMuZG9jLnJlc29sdmUodCkucGFyZW50LmNvbnRlbnQuc2l6ZSl7dmFyIHI9U3ModGhpcy5kb2MsdCxuLnR5cGUpO251bGwhPXImJih0PWU9cil9cmV0dXJuIHRoaXMucmVwbGFjZVJhbmdlKHQsZSxuZXcgYVsiU2xpY2UiXShhWyJGcmFnbWVudCJdLmZyb20obiksMCwwKSl9LHBzLnByb3RvdHlwZS5kZWxldGVSYW5nZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLmRvYy5yZXNvbHZlKHQpLHI9dGhpcy5kb2MucmVzb2x2ZShlKSxvPUhzKG4sciksaT0wO2k8by5sZW5ndGg7aSsrKXt2YXIgcz1vW2ldLGE9aT09by5sZW5ndGgtMTtpZihhJiYwPT1zfHxuLm5vZGUocykudHlwZS5jb250ZW50TWF0Y2gudmFsaWRFbmQpcmV0dXJuIHRoaXMuZGVsZXRlKG4uc3RhcnQocyksci5lbmQocykpO2lmKHM+MCYmKGF8fG4ubm9kZShzLTEpLmNhblJlcGxhY2Uobi5pbmRleChzLTEpLHIuaW5kZXhBZnRlcihzLTEpKSkpcmV0dXJuIHRoaXMuZGVsZXRlKG4uYmVmb3JlKHMpLHIuYWZ0ZXIocykpfWZvcih2YXIgYz0xO2M8PW4uZGVwdGgmJmM8PXIuZGVwdGg7YysrKWlmKHQtbi5zdGFydChjKT09bi5kZXB0aC1jJiZlPm4uZW5kKGMpJiZyLmVuZChjKS1lIT1yLmRlcHRoLWMpcmV0dXJuIHRoaXMuZGVsZXRlKG4uYmVmb3JlKGMpLGUpO3JldHVybiB0aGlzLmRlbGV0ZSh0LGUpfTt2YXIgV3M9e307aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQpe3ZhciBxcz0vRWRnZVwvKFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCksSnM9L01TSUUgXGQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksS3M9L1RyaWRlbnRcLyg/Ols3LTldfFxkezIsfSlcLi4qcnY6KFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7V3MubWFjPS9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTt2YXIgVXM9V3MuaWU9ISEoSnN8fEtzfHxxcyk7V3MuaWVfdmVyc2lvbj1Kcz9kb2N1bWVudC5kb2N1bWVudE1vZGV8fDY6S3M/K0tzWzFdOnFzPytxc1sxXTpudWxsLFdzLmdlY2tvPSFVcyYmL2dlY2tvXC8oXGQrKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksV3MuZ2Vja29fdmVyc2lvbj1Xcy5nZWNrbyYmKygvRmlyZWZveFwvKFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCl8fFswLDBdKVsxXTt2YXIgR3M9IVVzJiYvQ2hyb21lXC8oXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KTtXcy5jaHJvbWU9ISFHcyxXcy5jaHJvbWVfdmVyc2lvbj1HcyYmK0dzWzFdLFdzLmlvcz0hVXMmJi9BcHBsZVdlYktpdC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmL01vYmlsZVwvXHcrLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLFdzLmFuZHJvaWQ9L0FuZHJvaWQgXGQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksV3Mud2Via2l0PSFVcyYmIldlYmtpdEFwcGVhcmFuY2UiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLFdzLnNhZmFyaT0vQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2aWdhdG9yLnZlbmRvciksV3Mud2Via2l0X3ZlcnNpb249V3Mud2Via2l0JiYrKC9cYkFwcGxlV2ViS2l0XC8oXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KXx8WzAsMF0pWzFdfXZhciBYcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDs7ZSsrKWlmKHQ9dC5wcmV2aW91c1NpYmxpbmcsIXQpcmV0dXJuIGV9LFlzPWZ1bmN0aW9uKHQpe3ZhciBlPXQucGFyZW50Tm9kZTtyZXR1cm4gZSYmMTE9PWUubm9kZVR5cGU/ZS5ob3N0OmV9LFpzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO3JldHVybiByLnNldEVuZCh0LG51bGw9PW4/dC5ub2RlVmFsdWUubGVuZ3RoOm4pLHIuc2V0U3RhcnQodCxlfHwwKSxyfSxRcz1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gbiYmKGVhKHQsZSxuLHIsLTEpfHxlYSh0LGUsbixyLDEpKX0sdGE9L14oaW1nfGJyfGlucHV0fHRleHRhcmVhfGhyKSQvaTtmdW5jdGlvbiBlYSh0LGUsbixyLG8pe2Zvcig7Oyl7aWYodD09biYmZT09cilyZXR1cm4hMDtpZihlPT0obzwwPzA6bmEodCkpKXt2YXIgaT10LnBhcmVudE5vZGU7aWYoMSE9aS5ub2RlVHlwZXx8cmEodCl8fHRhLnRlc3QodC5ub2RlTmFtZSl8fCJmYWxzZSI9PXQuY29udGVudEVkaXRhYmxlKXJldHVybiExO2U9WHModCkrKG88MD8wOjEpLHQ9aX1lbHNle2lmKDEhPXQubm9kZVR5cGUpcmV0dXJuITE7dD10LmNoaWxkTm9kZXNbZSsobzwwPy0xOjApXSxlPW88MD9uYSh0KTowfX19ZnVuY3Rpb24gbmEodCl7cmV0dXJuIDM9PXQubm9kZVR5cGU/dC5ub2RlVmFsdWUubGVuZ3RoOnQuY2hpbGROb2Rlcy5sZW5ndGh9ZnVuY3Rpb24gcmEodCl7Zm9yKHZhciBlLG49dDtuO249bi5wYXJlbnROb2RlKWlmKGU9bi5wbVZpZXdEZXNjKWJyZWFrO3JldHVybiBlJiZlLm5vZGUmJmUubm9kZS5pc0Jsb2NrJiYoZS5kb209PXR8fGUuY29udGVudERPTT09dCl9dmFyIG9hPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaXNDb2xsYXBzZWQ7cmV0dXJuIGUmJldzLmNocm9tZSYmdC5yYW5nZUNvdW50JiYhdC5nZXRSYW5nZUF0KDApLmNvbGxhcHNlZCYmKGU9ITEpLGV9O2Z1bmN0aW9uIGlhKHQsZSl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50Iik7cmV0dXJuIG4uaW5pdEV2ZW50KCJrZXlkb3duIiwhMCwhMCksbi5rZXlDb2RlPXQsbi5rZXk9bi5jb2RlPWUsbn1mdW5jdGlvbiBzYSh0KXtyZXR1cm57bGVmdDowLHJpZ2h0OnQuaW5uZXJXaWR0aCx0b3A6MCxib3R0b206dC5pbm5lckhlaWdodH19ZnVuY3Rpb24gYWEodCxlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIHQ/dDp0W2VdfWZ1bmN0aW9uIGNhKHQsZSxuKXtmb3IodmFyIHI9dC5zb21lUHJvcCgic2Nyb2xsVGhyZXNob2xkIil8fDAsbz10LnNvbWVQcm9wKCJzY3JvbGxNYXJnaW4iKXx8NSxpPXQuZG9tLm93bmVyRG9jdW1lbnQscz1pLmRlZmF1bHRWaWV3LGE9bnx8dC5kb207O2E9WXMoYSkpe2lmKCFhKWJyZWFrO2lmKDE9PWEubm9kZVR5cGUpe3ZhciBjPWE9PWkuYm9keXx8MSE9YS5ub2RlVHlwZSxsPWM/c2Eocyk6YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx1PTAscD0wO2lmKGUudG9wPGwudG9wK2FhKHIsInRvcCIpP3A9LShsLnRvcC1lLnRvcCthYShvLCJ0b3AiKSk6ZS5ib3R0b20+bC5ib3R0b20tYWEociwiYm90dG9tIikmJihwPWUuYm90dG9tLWwuYm90dG9tK2FhKG8sImJvdHRvbSIpKSxlLmxlZnQ8bC5sZWZ0K2FhKHIsImxlZnQiKT91PS0obC5sZWZ0LWUubGVmdCthYShvLCJsZWZ0IikpOmUucmlnaHQ+bC5yaWdodC1hYShyLCJyaWdodCIpJiYodT1lLnJpZ2h0LWwucmlnaHQrYWEobywicmlnaHQiKSksKHV8fHApJiYoYz9zLnNjcm9sbEJ5KHUscCk6KHAmJihhLnNjcm9sbFRvcCs9cCksdSYmKGEuc2Nyb2xsTGVmdCs9dSkpKSxjKWJyZWFrfX19ZnVuY3Rpb24gbGEodCl7Zm9yKHZhciBlLG4scj10LmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPU1hdGgubWF4KDAsci50b3ApLGk9KHIubGVmdCtyLnJpZ2h0KS8yLHM9bysxO3M8TWF0aC5taW4oaW5uZXJIZWlnaHQsci5ib3R0b20pO3MrPTUpe3ZhciBhPXQucm9vdC5lbGVtZW50RnJvbVBvaW50KGkscyk7aWYoYSE9dC5kb20mJnQuZG9tLmNvbnRhaW5zKGEpKXt2YXIgYz1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKGMudG9wPj1vLTIwKXtlPWEsbj1jLnRvcDticmVha319fXJldHVybntyZWZET006ZSxyZWZUb3A6bixzdGFjazp1YSh0LmRvbSl9fWZ1bmN0aW9uIHVhKHQpe2Zvcih2YXIgZT1bXSxuPXQub3duZXJEb2N1bWVudDt0O3Q9WXModCkpaWYoZS5wdXNoKHtkb206dCx0b3A6dC5zY3JvbGxUb3AsbGVmdDp0LnNjcm9sbExlZnR9KSx0PT1uKWJyZWFrO3JldHVybiBlfWZ1bmN0aW9uIHBhKHQpe3ZhciBlPXQucmVmRE9NLG49dC5yZWZUb3Ascj10LnN0YWNrLG89ZT9lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDowO2ZhKHIsMD09bz8wOm8tbil9ZnVuY3Rpb24gZmEodCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXSxvPXIuZG9tLGk9ci50b3Ascz1yLmxlZnQ7by5zY3JvbGxUb3AhPWkrZSYmKG8uc2Nyb2xsVG9wPWkrZSksby5zY3JvbGxMZWZ0IT1zJiYoby5zY3JvbGxMZWZ0PXMpfX12YXIgZGE9bnVsbDtmdW5jdGlvbiBoYSh0KXtpZih0LnNldEFjdGl2ZSlyZXR1cm4gdC5zZXRBY3RpdmUoKTtpZihkYSlyZXR1cm4gdC5mb2N1cyhkYSk7dmFyIGU9dWEodCk7dC5mb2N1cyhudWxsPT1kYT97Z2V0IHByZXZlbnRTY3JvbGwoKXtyZXR1cm4gZGE9e3ByZXZlbnRTY3JvbGw6ITB9LCEwfX06dm9pZCAwKSxkYXx8KGRhPSExLGZhKGUsMCkpfWZ1bmN0aW9uIHZhKHQsZSl7Zm9yKHZhciBuLHIsbz0yZTgsaT0wLHM9ZS50b3AsYT1lLnRvcCxjPXQuZmlyc3RDaGlsZCxsPTA7YztjPWMubmV4dFNpYmxpbmcsbCsrKXt2YXIgdT12b2lkIDA7aWYoMT09Yy5ub2RlVHlwZSl1PWMuZ2V0Q2xpZW50UmVjdHMoKTtlbHNle2lmKDMhPWMubm9kZVR5cGUpY29udGludWU7dT1acyhjKS5nZXRDbGllbnRSZWN0cygpfWZvcih2YXIgcD0wO3A8dS5sZW5ndGg7cCsrKXt2YXIgZj11W3BdO2lmKGYudG9wPD1zJiZmLmJvdHRvbT49YSl7cz1NYXRoLm1heChmLmJvdHRvbSxzKSxhPU1hdGgubWluKGYudG9wLGEpO3ZhciBkPWYubGVmdD5lLmxlZnQ/Zi5sZWZ0LWUubGVmdDpmLnJpZ2h0PGUubGVmdD9lLmxlZnQtZi5yaWdodDowO2lmKGQ8byl7bj1jLG89ZCxyPWQmJjM9PW4ubm9kZVR5cGU/e2xlZnQ6Zi5yaWdodDxlLmxlZnQ/Zi5yaWdodDpmLmxlZnQsdG9wOmUudG9wfTplLDE9PWMubm9kZVR5cGUmJmQmJihpPWwrKGUubGVmdD49KGYubGVmdCtmLnJpZ2h0KS8yPzE6MCkpO2NvbnRpbnVlfX0hbiYmKGUubGVmdD49Zi5yaWdodCYmZS50b3A+PWYudG9wfHxlLmxlZnQ+PWYubGVmdCYmZS50b3A+PWYuYm90dG9tKSYmKGk9bCsxKX19cmV0dXJuIG4mJjM9PW4ubm9kZVR5cGU/bWEobixyKTohbnx8byYmMT09bi5ub2RlVHlwZT97bm9kZTp0LG9mZnNldDppfTp2YShuLHIpfWZ1bmN0aW9uIG1hKHQsZSl7Zm9yKHZhciBuPXQubm9kZVZhbHVlLmxlbmd0aCxyPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCksbz0wO288bjtvKyspe3Iuc2V0RW5kKHQsbysxKSxyLnNldFN0YXJ0KHQsbyk7dmFyIGk9eGEociwxKTtpZihpLnRvcCE9aS5ib3R0b20mJmdhKGUsaSkpcmV0dXJue25vZGU6dCxvZmZzZXQ6bysoZS5sZWZ0Pj0oaS5sZWZ0K2kucmlnaHQpLzI/MTowKX19cmV0dXJue25vZGU6dCxvZmZzZXQ6MH19ZnVuY3Rpb24gZ2EodCxlKXtyZXR1cm4gdC5sZWZ0Pj1lLmxlZnQtMSYmdC5sZWZ0PD1lLnJpZ2h0KzEmJnQudG9wPj1lLnRvcC0xJiZ0LnRvcDw9ZS5ib3R0b20rMX1mdW5jdGlvbiB5YSh0LGUpe3ZhciBuPXQucGFyZW50Tm9kZTtyZXR1cm4gbiYmL15saSQvaS50ZXN0KG4ubm9kZU5hbWUpJiZlLmxlZnQ8dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0P246dH1mdW5jdGlvbiB3YSh0LGUsbil7dmFyIHI9dmEoZSxuKSxvPXIubm9kZSxpPXIub2Zmc2V0LHM9LTE7aWYoMT09by5ub2RlVHlwZSYmIW8uZmlyc3RDaGlsZCl7dmFyIGE9by5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtzPWEubGVmdCE9YS5yaWdodCYmbi5sZWZ0PihhLmxlZnQrYS5yaWdodCkvMj8xOi0xfXJldHVybiB0LmRvY1ZpZXcucG9zRnJvbURPTShvLGkscyl9ZnVuY3Rpb24gYmEodCxlLG4scil7Zm9yKHZhciBvPS0xLGk9ZTs7KXtpZihpPT10LmRvbSlicmVhazt2YXIgcz10LmRvY1ZpZXcubmVhcmVzdERlc2MoaSwhMCk7aWYoIXMpcmV0dXJuIG51bGw7aWYocy5ub2RlLmlzQmxvY2smJnMucGFyZW50KXt2YXIgYT1zLmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZihhLmxlZnQ+ci5sZWZ0fHxhLnRvcD5yLnRvcClvPXMucG9zQmVmb3JlO2Vsc2V7aWYoIShhLnJpZ2h0PHIubGVmdHx8YS5ib3R0b208ci50b3ApKWJyZWFrO289cy5wb3NBZnRlcn19aT1zLmRvbS5wYXJlbnROb2RlfXJldHVybiBvPi0xP286dC5kb2NWaWV3LnBvc0Zyb21ET00oZSxuKX1mdW5jdGlvbiBTYSh0LGUsbil7dmFyIHI9dC5jaGlsZE5vZGVzLmxlbmd0aDtpZihyJiZuLnRvcDxuLmJvdHRvbSlmb3IodmFyIG89TWF0aC5tYXgoMCxNYXRoLm1pbihyLTEsTWF0aC5mbG9vcihyKihlLnRvcC1uLnRvcCkvKG4uYm90dG9tLW4udG9wKSktMikpLGk9bzs7KXt2YXIgcz10LmNoaWxkTm9kZXNbaV07aWYoMT09cy5ub2RlVHlwZSlmb3IodmFyIGE9cy5nZXRDbGllbnRSZWN0cygpLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGw9YVtjXTtpZihnYShlLGwpKXJldHVybiBTYShzLGUsbCl9aWYoKGk9KGkrMSklcik9PW8pYnJlYWt9cmV0dXJuIHR9ZnVuY3Rpb24ga2EodCxlKXt2YXIgbixyLG8saSxzPXQucm9vdDtpZihzLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQpdHJ5e3ZhciBhPXMuY2FyZXRQb3NpdGlvbkZyb21Qb2ludChlLmxlZnQsZS50b3ApO2EmJihuPWEsbz1uLm9mZnNldE5vZGUsaT1uLm9mZnNldCl9Y2F0Y2godil7fWlmKCFvJiZzLmNhcmV0UmFuZ2VGcm9tUG9pbnQpe3ZhciBjPXMuY2FyZXRSYW5nZUZyb21Qb2ludChlLmxlZnQsZS50b3ApO2MmJihyPWMsbz1yLnN0YXJ0Q29udGFpbmVyLGk9ci5zdGFydE9mZnNldCl9dmFyIGwsdT1zLmVsZW1lbnRGcm9tUG9pbnQoZS5sZWZ0LGUudG9wKzEpO2lmKCF1fHwhdC5kb20uY29udGFpbnMoMSE9dS5ub2RlVHlwZT91LnBhcmVudE5vZGU6dSkpe3ZhciBwPXQuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKCFnYShlLHApKXJldHVybiBudWxsO2lmKHU9U2EodC5kb20sZSxwKSwhdSlyZXR1cm4gbnVsbH1pZih1PXlhKHUsZSksbyl7aWYoV3MuZ2Vja28mJjE9PW8ubm9kZVR5cGUmJihpPU1hdGgubWluKGksby5jaGlsZE5vZGVzLmxlbmd0aCksaTxvLmNoaWxkTm9kZXMubGVuZ3RoKSl7dmFyIGYsZD1vLmNoaWxkTm9kZXNbaV07IklNRyI9PWQubm9kZU5hbWUmJihmPWQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLnJpZ2h0PD1lLmxlZnQmJmYuYm90dG9tPmUudG9wJiZpKyt9bz09dC5kb20mJmk9PW8uY2hpbGROb2Rlcy5sZW5ndGgtMSYmMT09by5sYXN0Q2hpbGQubm9kZVR5cGUmJmUudG9wPm8ubGFzdENoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbT9sPXQuc3RhdGUuZG9jLmNvbnRlbnQuc2l6ZTowIT1pJiYxPT1vLm5vZGVUeXBlJiYiQlIiPT1vLmNoaWxkTm9kZXNbaS0xXS5ub2RlTmFtZXx8KGw9YmEodCxvLGksZSkpfW51bGw9PWwmJihsPXdhKHQsdSxlKSk7dmFyIGg9dC5kb2NWaWV3Lm5lYXJlc3REZXNjKHUsITApO3JldHVybntwb3M6bCxpbnNpZGU6aD9oLnBvc0F0U3RhcnQtaC5ib3JkZXI6LTF9fWZ1bmN0aW9uIHhhKHQsZSl7dmFyIG49dC5nZXRDbGllbnRSZWN0cygpO3JldHVybiBuLmxlbmd0aD9uW2U8MD8wOm4ubGVuZ3RoLTFdOnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9ZnVuY3Rpb24gQ2EodCxlKXt2YXIgbj10LmRvY1ZpZXcuZG9tRnJvbVBvcyhlKSxyPW4ubm9kZSxvPW4ub2Zmc2V0O2lmKDM9PXIubm9kZVR5cGUmJihXcy5jaHJvbWV8fFdzLmdlY2tvKSl7dmFyIGk9eGEoWnMocixvLG8pLDApO2lmKFdzLmdlY2tvJiZvJiYvXHMvLnRlc3Qoci5ub2RlVmFsdWVbby0xXSkmJm88ci5ub2RlVmFsdWUubGVuZ3RoKXt2YXIgcz14YShacyhyLG8tMSxvLTEpLC0xKTtpZihNYXRoLmFicyhzLmxlZnQtaS5sZWZ0KTwxJiZzLnRvcD09aS50b3Ape3ZhciBhPXhhKFpzKHIsbyxvKzEpLC0xKTtyZXR1cm4gT2EoYSxhLmxlZnQ8cy5sZWZ0KX19cmV0dXJuIGl9aWYoMT09ci5ub2RlVHlwZSYmIXQuc3RhdGUuZG9jLnJlc29sdmUoZSkucGFyZW50LmlubGluZUNvbnRlbnQpe3ZhciBjLGw9ITA7aWYobzxyLmNoaWxkTm9kZXMubGVuZ3RoKXt2YXIgdT1yLmNoaWxkTm9kZXNbb107MT09dS5ub2RlVHlwZSYmKGM9dS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSl9aWYoIWMmJm8pe3ZhciBwPXIuY2hpbGROb2Rlc1tvLTFdOzE9PXAubm9kZVR5cGUmJihjPXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbD0hMSl9cmV0dXJuIE1hKGN8fHIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbCl9Zm9yKHZhciBmPS0xO2Y8MjtmKz0yKWlmKGY8MCYmbyl7dmFyIGQ9dm9pZCAwLGg9Mz09ci5ub2RlVHlwZT9acyhyLG8tMSxvKTozPT0oZD1yLmNoaWxkTm9kZXNbby0xXSkubm9kZVR5cGU/WnMoZCk6MT09ZC5ub2RlVHlwZSYmIkJSIiE9ZC5ub2RlTmFtZT9kOm51bGw7aWYoaCl7dmFyIHY9eGEoaCwxKTtpZih2LnRvcDx2LmJvdHRvbSlyZXR1cm4gT2EodiwhMSl9fWVsc2UgaWYoZj4wJiZvPG5hKHIpKXt2YXIgbT12b2lkIDAsZz0zPT1yLm5vZGVUeXBlP1pzKHIsbyxvKzEpOjM9PShtPXIuY2hpbGROb2Rlc1tvXSkubm9kZVR5cGU/WnMobSk6MT09bS5ub2RlVHlwZT9tOm51bGw7aWYoZyl7dmFyIHk9eGEoZywtMSk7aWYoeS50b3A8eS5ib3R0b20pcmV0dXJuIE9hKHksITApfX1yZXR1cm4gT2EoeGEoMz09ci5ub2RlVHlwZT9acyhyKTpyLDApLCExKX1mdW5jdGlvbiBPYSh0LGUpe2lmKDA9PXQud2lkdGgpcmV0dXJuIHQ7dmFyIG49ZT90LmxlZnQ6dC5yaWdodDtyZXR1cm57dG9wOnQudG9wLGJvdHRvbTp0LmJvdHRvbSxsZWZ0Om4scmlnaHQ6bn19ZnVuY3Rpb24gTWEodCxlKXtpZigwPT10LmhlaWdodClyZXR1cm4gdDt2YXIgbj1lP3QudG9wOnQuYm90dG9tO3JldHVybnt0b3A6bixib3R0b206bixsZWZ0OnQubGVmdCxyaWdodDp0LnJpZ2h0fX1mdW5jdGlvbiBOYSh0LGUsbil7dmFyIHI9dC5zdGF0ZSxvPXQucm9vdC5hY3RpdmVFbGVtZW50O3IhPWUmJnQudXBkYXRlU3RhdGUoZSksbyE9dC5kb20mJnQuZm9jdXMoKTt0cnl7cmV0dXJuIG4oKX1maW5hbGx5e3IhPWUmJnQudXBkYXRlU3RhdGUociksbyE9dC5kb20mJm8uZm9jdXMoKX19ZnVuY3Rpb24gVGEodCxlLG4pe3ZhciByPWUuc2VsZWN0aW9uLG89InVwIj09bj9yLiRhbmNob3IubWluKHIuJGhlYWQpOnIuJGFuY2hvci5tYXgoci4kaGVhZCk7cmV0dXJuIE5hKHQsZSwoZnVuY3Rpb24oKXtmb3IodmFyIGU9dC5kb2NWaWV3LmRvbUZyb21Qb3Moby5wb3MpLHI9ZS5ub2RlOzspe3ZhciBpPXQuZG9jVmlldy5uZWFyZXN0RGVzYyhyLCEwKTtpZighaSlicmVhaztpZihpLm5vZGUuaXNCbG9jayl7cj1pLmRvbTticmVha31yPWkuZG9tLnBhcmVudE5vZGV9Zm9yKHZhciBzPUNhKHQsby5wb3MpLGE9ci5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKXt2YXIgYz12b2lkIDA7aWYoMT09YS5ub2RlVHlwZSljPWEuZ2V0Q2xpZW50UmVjdHMoKTtlbHNle2lmKDMhPWEubm9kZVR5cGUpY29udGludWU7Yz1acyhhLDAsYS5ub2RlVmFsdWUubGVuZ3RoKS5nZXRDbGllbnRSZWN0cygpfWZvcih2YXIgbD0wO2w8Yy5sZW5ndGg7bCsrKXt2YXIgdT1jW2xdO2lmKHUuYm90dG9tPnUudG9wJiYoInVwIj09bj91LmJvdHRvbTxzLnRvcCsxOnUudG9wPnMuYm90dG9tLTEpKXJldHVybiExfX1yZXR1cm4hMH0pKX12YXIgRGE9L1tcdTA1OTAtXHUwOGFjXS87ZnVuY3Rpb24gQWEodCxlLG4pe3ZhciByPWUuc2VsZWN0aW9uLG89ci4kaGVhZDtpZighby5wYXJlbnQuaXNUZXh0YmxvY2spcmV0dXJuITE7dmFyIGk9by5wYXJlbnRPZmZzZXQscz0haSxhPWk9PW8ucGFyZW50LmNvbnRlbnQuc2l6ZSxjPWdldFNlbGVjdGlvbigpO3JldHVybiBEYS50ZXN0KG8ucGFyZW50LnRleHRDb250ZW50KSYmYy5tb2RpZnk/TmEodCxlLChmdW5jdGlvbigpe3ZhciBlPWMuZ2V0UmFuZ2VBdCgwKSxyPWMuZm9jdXNOb2RlLGk9Yy5mb2N1c09mZnNldCxzPWMuY2FyZXRCaWRpTGV2ZWw7Yy5tb2RpZnkoIm1vdmUiLG4sImNoYXJhY3RlciIpO3ZhciBhPW8uZGVwdGg/dC5kb2NWaWV3LmRvbUFmdGVyUG9zKG8uYmVmb3JlKCkpOnQuZG9tLGw9IWEuY29udGFpbnMoMT09Yy5mb2N1c05vZGUubm9kZVR5cGU/Yy5mb2N1c05vZGU6Yy5mb2N1c05vZGUucGFyZW50Tm9kZSl8fHI9PWMuZm9jdXNOb2RlJiZpPT1jLmZvY3VzT2Zmc2V0O3JldHVybiBjLnJlbW92ZUFsbFJhbmdlcygpLGMuYWRkUmFuZ2UoZSksbnVsbCE9cyYmKGMuY2FyZXRCaWRpTGV2ZWw9cyksbH0pKToibGVmdCI9PW58fCJiYWNrd2FyZCI9PW4/czphfXZhciBFYT1udWxsLFJhPW51bGwsX2E9ITE7ZnVuY3Rpb24gUGEodCxlLG4pe3JldHVybiBFYT09ZSYmUmE9PW4/X2E6KEVhPWUsUmE9bixfYT0idXAiPT1ufHwiZG93biI9PW4/VGEodCxlLG4pOkFhKHQsZSxuKSl9dmFyIHphPTAsSWE9MSxCYT0yLFZhPTMsRmE9ZnVuY3Rpb24odCxlLG4scil7dGhpcy5wYXJlbnQ9dCx0aGlzLmNoaWxkcmVuPWUsdGhpcy5kb209bixuLnBtVmlld0Rlc2M9dGhpcyx0aGlzLmNvbnRlbnRET009cix0aGlzLmRpcnR5PXphfSxqYT17YmVmb3JlUG9zaXRpb246e2NvbmZpZ3VyYWJsZTohMH0sc2l6ZTp7Y29uZmlndXJhYmxlOiEwfSxib3JkZXI6e2NvbmZpZ3VyYWJsZTohMH0scG9zQmVmb3JlOntjb25maWd1cmFibGU6ITB9LHBvc0F0U3RhcnQ6e2NvbmZpZ3VyYWJsZTohMH0scG9zQWZ0ZXI6e2NvbmZpZ3VyYWJsZTohMH0scG9zQXRFbmQ6e2NvbmZpZ3VyYWJsZTohMH0sY29udGVudExvc3Q6e2NvbmZpZ3VyYWJsZTohMH19O0ZhLnByb3RvdHlwZS5tYXRjaGVzV2lkZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuITF9LEZhLnByb3RvdHlwZS5tYXRjaGVzTWFyaz1mdW5jdGlvbigpe3JldHVybiExfSxGYS5wcm90b3R5cGUubWF0Y2hlc05vZGU9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sRmEucHJvdG90eXBlLm1hdGNoZXNIYWNrPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGphLmJlZm9yZVBvc2l0aW9uLmdldD1mdW5jdGlvbigpe3JldHVybiExfSxGYS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LEZhLnByb3RvdHlwZS5zdG9wRXZlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0samEuc2l6ZS5nZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTA7ZTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtlKyspdCs9dGhpcy5jaGlsZHJlbltlXS5zaXplO3JldHVybiB0fSxqYS5ib3JkZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LEZhLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5wYXJlbnQ9bnVsbCx0aGlzLmRvbS5wbVZpZXdEZXNjPT10aGlzJiYodGhpcy5kb20ucG1WaWV3RGVzYz1udWxsKTtmb3IodmFyIHQ9MDt0PHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3QrKyl0aGlzLmNoaWxkcmVuW3RdLmRlc3Ryb3koKX0sRmEucHJvdG90eXBlLnBvc0JlZm9yZUNoaWxkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5wb3NBdFN0YXJ0O2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKXt2YXIgcj10aGlzLmNoaWxkcmVuW2VdO2lmKHI9PXQpcmV0dXJuIG47bis9ci5zaXplfX0samEucG9zQmVmb3JlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudC5wb3NCZWZvcmVDaGlsZCh0aGlzKX0samEucG9zQXRTdGFydC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQucG9zQmVmb3JlQ2hpbGQodGhpcykrdGhpcy5ib3JkZXI6MH0samEucG9zQWZ0ZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zQmVmb3JlK3RoaXMuc2l6ZX0samEucG9zQXRFbmQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zQXRTdGFydCt0aGlzLnNpemUtMip0aGlzLmJvcmRlcn0sRmEucHJvdG90eXBlLmxvY2FsUG9zRnJvbURPTT1mdW5jdGlvbih0LGUsbil7aWYodGhpcy5jb250ZW50RE9NJiZ0aGlzLmNvbnRlbnRET00uY29udGFpbnMoMT09dC5ub2RlVHlwZT90OnQucGFyZW50Tm9kZSkpe2lmKG48MCl7dmFyIHIsbztpZih0PT10aGlzLmNvbnRlbnRET00pcj10LmNoaWxkTm9kZXNbZS0xXTtlbHNle3doaWxlKHQucGFyZW50Tm9kZSE9dGhpcy5jb250ZW50RE9NKXQ9dC5wYXJlbnROb2RlO3I9dC5wcmV2aW91c1NpYmxpbmd9d2hpbGUociYmKCEobz1yLnBtVmlld0Rlc2MpfHxvLnBhcmVudCE9dGhpcykpcj1yLnByZXZpb3VzU2libGluZztyZXR1cm4gcj90aGlzLnBvc0JlZm9yZUNoaWxkKG8pK28uc2l6ZTp0aGlzLnBvc0F0U3RhcnR9dmFyIGkscztpZih0PT10aGlzLmNvbnRlbnRET00paT10LmNoaWxkTm9kZXNbZV07ZWxzZXt3aGlsZSh0LnBhcmVudE5vZGUhPXRoaXMuY29udGVudERPTSl0PXQucGFyZW50Tm9kZTtpPXQubmV4dFNpYmxpbmd9d2hpbGUoaSYmKCEocz1pLnBtVmlld0Rlc2MpfHxzLnBhcmVudCE9dGhpcykpaT1pLm5leHRTaWJsaW5nO3JldHVybiBpP3RoaXMucG9zQmVmb3JlQ2hpbGQocyk6dGhpcy5wb3NBdEVuZH12YXIgYTtpZih0aGlzLmNvbnRlbnRET00mJnRoaXMuY29udGVudERPTSE9dGhpcy5kb20mJnRoaXMuZG9tLmNvbnRhaW5zKHRoaXMuY29udGVudERPTSkpYT0yJnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24odGhpcy5jb250ZW50RE9NKTtlbHNlIGlmKHRoaXMuZG9tLmZpcnN0Q2hpbGQpe2lmKDA9PWUpZm9yKHZhciBjPXQ7O2M9Yy5wYXJlbnROb2RlKXtpZihjPT10aGlzLmRvbSl7YT0hMTticmVha31pZihjLnBhcmVudE5vZGUuZmlyc3RDaGlsZCE9YylicmVha31pZihudWxsPT1hJiZlPT10LmNoaWxkTm9kZXMubGVuZ3RoKWZvcih2YXIgbD10OztsPWwucGFyZW50Tm9kZSl7aWYobD09dGhpcy5kb20pe2E9ITA7YnJlYWt9aWYobC5wYXJlbnROb2RlLmxhc3RDaGlsZCE9bClicmVha319cmV0dXJuKG51bGw9PWE/bj4wOmEpP3RoaXMucG9zQXRFbmQ6dGhpcy5wb3NBdFN0YXJ0fSxGYS5wcm90b3R5cGUubmVhcmVzdERlc2M9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ITAscj10O3I7cj1yLnBhcmVudE5vZGUpe3ZhciBvPXRoaXMuZ2V0RGVzYyhyKTtpZihvJiYoIWV8fG8ubm9kZSkpe2lmKCFufHwhby5ub2RlRE9NfHwoMT09by5ub2RlRE9NLm5vZGVUeXBlP28ubm9kZURPTS5jb250YWlucyh0KTpvLm5vZGVET009PXQpKXJldHVybiBvO249ITF9fX0sRmEucHJvdG90eXBlLmdldERlc2M9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQucG1WaWV3RGVzYyxuPWU7bjtuPW4ucGFyZW50KWlmKG49PXRoaXMpcmV0dXJuIGV9LEZhLnByb3RvdHlwZS5wb3NGcm9tRE9NPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9dDs7cj1yLnBhcmVudE5vZGUpe3ZhciBvPXRoaXMuZ2V0RGVzYyhyKTtpZihvKXJldHVybiBvLmxvY2FsUG9zRnJvbURPTSh0LGUsbil9fSxGYS5wcm90b3R5cGUuZGVzY0F0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49MDtlPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2UrKyl7dmFyIHI9dGhpcy5jaGlsZHJlbltlXSxvPW4rci5zaXplO2lmKG49PXQmJm8hPW4pe3doaWxlKCFyLmJvcmRlciYmci5jaGlsZHJlbi5sZW5ndGgpcj1yLmNoaWxkcmVuWzBdO3JldHVybiByfWlmKHQ8bylyZXR1cm4gci5kZXNjQXQodC1uLXIuYm9yZGVyKTtuPW99fSxGYS5wcm90b3R5cGUuZG9tRnJvbVBvcz1mdW5jdGlvbih0KXtpZighdGhpcy5jb250ZW50RE9NKXJldHVybntub2RlOnRoaXMuZG9tLG9mZnNldDowfTtmb3IodmFyIGU9MCxuPTA7O24rKyl7aWYoZT09dCl7d2hpbGUobjx0aGlzLmNoaWxkcmVuLmxlbmd0aCYmKHRoaXMuY2hpbGRyZW5bbl0uYmVmb3JlUG9zaXRpb258fHRoaXMuY2hpbGRyZW5bbl0uZG9tLnBhcmVudE5vZGUhPXRoaXMuY29udGVudERPTSkpbisrO3JldHVybntub2RlOnRoaXMuY29udGVudERPTSxvZmZzZXQ6bj09dGhpcy5jaGlsZHJlbi5sZW5ndGg/dGhpcy5jb250ZW50RE9NLmNoaWxkTm9kZXMubGVuZ3RoOlhzKHRoaXMuY2hpbGRyZW5bbl0uZG9tKX19aWYobj09dGhpcy5jaGlsZHJlbi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBvc2l0aW9uICIrdCk7dmFyIHI9dGhpcy5jaGlsZHJlbltuXSxvPWUrci5zaXplO2lmKHQ8bylyZXR1cm4gci5kb21Gcm9tUG9zKHQtZS1yLmJvcmRlcik7ZT1vfX0sRmEucHJvdG90eXBlLnBhcnNlUmFuZ2U9ZnVuY3Rpb24odCxlLG4pe2lmKHZvaWQgMD09PW4mJihuPTApLDA9PXRoaXMuY2hpbGRyZW4ubGVuZ3RoKXJldHVybntub2RlOnRoaXMuY29udGVudERPTSxmcm9tOnQsdG86ZSxmcm9tT2Zmc2V0OjAsdG9PZmZzZXQ6dGhpcy5jb250ZW50RE9NLmNoaWxkTm9kZXMubGVuZ3RofTtmb3IodmFyIHI9LTEsbz0tMSxpPW4scz0wOztzKyspe3ZhciBhPXRoaXMuY2hpbGRyZW5bc10sYz1pK2Euc2l6ZTtpZigtMT09ciYmdDw9Yyl7dmFyIGw9aSthLmJvcmRlcjtpZih0Pj1sJiZlPD1jLWEuYm9yZGVyJiZhLm5vZGUmJmEuY29udGVudERPTSYmdGhpcy5jb250ZW50RE9NLmNvbnRhaW5zKGEuY29udGVudERPTSkpcmV0dXJuIGEucGFyc2VSYW5nZSh0LGUsbCk7dD1pO2Zvcih2YXIgdT1zO3U+MDt1LS0pe3ZhciBwPXRoaXMuY2hpbGRyZW5bdS0xXTtpZihwLnNpemUmJnAuZG9tLnBhcmVudE5vZGU9PXRoaXMuY29udGVudERPTSYmIXAuZW1wdHlDaGlsZEF0KDEpKXtyPVhzKHAuZG9tKSsxO2JyZWFrfXQtPXAuc2l6ZX0tMT09ciYmKHI9MCl9aWYocj4tMSYmZTw9Yyl7ZT1jO2Zvcih2YXIgZj1zKzE7Zjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtmKyspe3ZhciBkPXRoaXMuY2hpbGRyZW5bZl07aWYoZC5zaXplJiZkLmRvbS5wYXJlbnROb2RlPT10aGlzLmNvbnRlbnRET00mJiFkLmVtcHR5Q2hpbGRBdCgtMSkpe289WHMoZC5kb20pO2JyZWFrfWUrPWQuc2l6ZX0tMT09byYmKG89dGhpcy5jb250ZW50RE9NLmNoaWxkTm9kZXMubGVuZ3RoKTticmVha31pPWN9cmV0dXJue25vZGU6dGhpcy5jb250ZW50RE9NLGZyb206dCx0bzplLGZyb21PZmZzZXQ6cix0b09mZnNldDpvfX0sRmEucHJvdG90eXBlLmVtcHR5Q2hpbGRBdD1mdW5jdGlvbih0KXtpZih0aGlzLmJvcmRlcnx8IXRoaXMuY29udGVudERPTXx8IXRoaXMuY2hpbGRyZW4ubGVuZ3RoKXJldHVybiExO3ZhciBlPXRoaXMuY2hpbGRyZW5bdDwwPzA6dGhpcy5jaGlsZHJlbi5sZW5ndGgtMV07cmV0dXJuIDA9PWUuc2l6ZXx8ZS5lbXB0eUNoaWxkQXQodCl9LEZhLnByb3RvdHlwZS5kb21BZnRlclBvcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRvbUZyb21Qb3ModCksbj1lLm5vZGUscj1lLm9mZnNldDtpZigxIT1uLm5vZGVUeXBlfHxyPT1uLmNoaWxkTm9kZXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJObyBub2RlIGFmdGVyIHBvcyAiK3QpO3JldHVybiBuLmNoaWxkTm9kZXNbcl19LEZhLnByb3RvdHlwZS5zZXRTZWxlY3Rpb249ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBvPU1hdGgubWluKHQsZSksaT1NYXRoLm1heCh0LGUpLHM9MCxhPTA7czx0aGlzLmNoaWxkcmVuLmxlbmd0aDtzKyspe3ZhciBjPXRoaXMuY2hpbGRyZW5bc10sbD1hK2Muc2l6ZTtpZihvPmEmJmk8bClyZXR1cm4gYy5zZXRTZWxlY3Rpb24odC1hLWMuYm9yZGVyLGUtYS1jLmJvcmRlcixuLHIpO2E9bH12YXIgdT10aGlzLmRvbUZyb21Qb3ModCkscD10aGlzLmRvbUZyb21Qb3MoZSksZj1uLmdldFNlbGVjdGlvbigpLGQ9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtpZihyfHwhUXModS5ub2RlLHUub2Zmc2V0LGYuYW5jaG9yTm9kZSxmLmFuY2hvck9mZnNldCl8fCFRcyhwLm5vZGUscC5vZmZzZXQsZi5mb2N1c05vZGUsZi5mb2N1c09mZnNldCkpe2lmKGYuZXh0ZW5kKWQuc2V0RW5kKHUubm9kZSx1Lm9mZnNldCksZC5jb2xsYXBzZSghMSk7ZWxzZXtpZih0PmUpe3ZhciBoPXU7dT1wLHA9aH1kLnNldEVuZChwLm5vZGUscC5vZmZzZXQpLGQuc2V0U3RhcnQodS5ub2RlLHUub2Zmc2V0KX1mLnJlbW92ZUFsbFJhbmdlcygpLGYuYWRkUmFuZ2UoZCksZi5leHRlbmQmJmYuZXh0ZW5kKHAubm9kZSxwLm9mZnNldCl9fSxGYS5wcm90b3R5cGUuaWdub3JlTXV0YXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIXRoaXMuY29udGVudERPTX0samEuY29udGVudExvc3QuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudERPTSYmdGhpcy5jb250ZW50RE9NIT10aGlzLmRvbSYmIXRoaXMuZG9tLmNvbnRhaW5zKHRoaXMuY29udGVudERPTSl9LEZhLnByb3RvdHlwZS5tYXJrRGlydHk9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxyPTA7cjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtyKyspe3ZhciBvPXRoaXMuY2hpbGRyZW5bcl0saT1uK28uc2l6ZTtpZihuPT1pP3Q8PWkmJmU+PW46dDxpJiZlPm4pe3ZhciBzPW4rby5ib3JkZXIsYT1pLW8uYm9yZGVyO2lmKHQ+PXMmJmU8PWEpcmV0dXJuIHRoaXMuZGlydHk9dD09bnx8ZT09aT9CYTpJYSx2b2lkKHQhPXN8fGUhPWF8fCFvLmNvbnRlbnRMb3N0JiZvLmRvbS5wYXJlbnROb2RlPT10aGlzLmNvbnRlbnRET00/by5tYXJrRGlydHkodC1zLGUtcyk6by5kaXJ0eT1WYSk7by5kaXJ0eT1WYX1uPWl9dGhpcy5kaXJ0eT1CYX0sRmEucHJvdG90eXBlLm1hcmtQYXJlbnRzRGlydHk9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5wYXJlbnQ7dDt0PXQucGFyZW50KXt2YXIgZT1CYTt0LmRpcnR5PGUmJih0LmRpcnR5PWUpfX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRmEucHJvdG90eXBlLGphKTt2YXIgJGE9W10sTGE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvKXt2YXIgaSxzPW4udHlwZS50b0RPTTtpZigiZnVuY3Rpb24iPT10eXBlb2YgcyYmKHM9cyhyLChmdW5jdGlvbigpe3JldHVybiBpP2kucGFyZW50P2kucGFyZW50LnBvc0JlZm9yZUNoaWxkKGkpOnZvaWQgMDpvfSkpKSwhbi50eXBlLnNwZWMucmF3KXtpZigxIT1zLm5vZGVUeXBlKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7YS5hcHBlbmRDaGlsZChzKSxzPWF9cy5jb250ZW50RWRpdGFibGU9ITEscy5jbGFzc0xpc3QuYWRkKCJQcm9zZU1pcnJvci13aWRnZXQiKX10LmNhbGwodGhpcyxlLCRhLHMsbnVsbCksdGhpcy53aWRnZXQ9bixpPXRoaXN9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e2JlZm9yZVBvc2l0aW9uOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gbi5iZWZvcmVQb3NpdGlvbi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aWRnZXQudHlwZS5zaWRlPDB9LGUucHJvdG90eXBlLm1hdGNoZXNXaWRnZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGlydHk9PXphJiZ0LnR5cGUuZXEodGhpcy53aWRnZXQudHlwZSl9LGUucHJvdG90eXBlLnBhcnNlUnVsZT1mdW5jdGlvbigpe3JldHVybntpZ25vcmU6ITB9fSxlLnByb3RvdHlwZS5zdG9wRXZlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy53aWRnZXQuc3BlYy5zdG9wRXZlbnQ7cmV0dXJuISFlJiZlKHQpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfShGYSksSGE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvKXt0LmNhbGwodGhpcyxlLCRhLG4sbnVsbCksdGhpcy50ZXh0RE9NPXIsdGhpcy50ZXh0PW99dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e3NpemU6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBuLnNpemUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dC5sZW5ndGh9LGUucHJvdG90eXBlLmxvY2FsUG9zRnJvbURPTT1mdW5jdGlvbih0LGUpe3JldHVybiB0IT10aGlzLnRleHRET00/dGhpcy5wb3NBdFN0YXJ0KyhlP3RoaXMuc2l6ZTowKTp0aGlzLnBvc0F0U3RhcnQrZX0sZS5wcm90b3R5cGUuZG9tRnJvbVBvcz1mdW5jdGlvbih0KXtyZXR1cm57bm9kZTp0aGlzLnRleHRET00sb2Zmc2V0OnR9fSxlLnByb3RvdHlwZS5pZ25vcmVNdXRhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4iY2hhcmFjdGVyRGF0YSI9PT10LnR5cGUmJnQudGFyZ2V0Lm5vZGVWYWx1ZT09dC5vbGRWYWx1ZX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsbiksZX0oRmEpLFdhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyl7dC5jYWxsKHRoaXMsZSxbXSxyLG8pLHRoaXMubWFyaz1ufXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLmNyZWF0ZT1mdW5jdGlvbih0LG4scixvKXt2YXIgaT1vLm5vZGVWaWV3c1tuLnR5cGUubmFtZV0scz1pJiZpKG4sbyxyKTtyZXR1cm4gcyYmcy5kb218fChzPWFbIkRPTVNlcmlhbGl6ZXIiXS5yZW5kZXJTcGVjKGRvY3VtZW50LG4udHlwZS5zcGVjLnRvRE9NKG4scikpKSxuZXcgZSh0LG4scy5kb20scy5jb250ZW50RE9NfHxzLmRvbSl9LGUucHJvdG90eXBlLnBhcnNlUnVsZT1mdW5jdGlvbigpe3JldHVybnttYXJrOnRoaXMubWFyay50eXBlLm5hbWUsYXR0cnM6dGhpcy5tYXJrLmF0dHJzLGNvbnRlbnRFbGVtZW50OnRoaXMuY29udGVudERPTX19LGUucHJvdG90eXBlLm1hdGNoZXNNYXJrPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRpcnR5IT1WYSYmdGhpcy5tYXJrLmVxKHQpfSxlLnByb3RvdHlwZS5tYXJrRGlydHk9ZnVuY3Rpb24oZSxuKXtpZih0LnByb3RvdHlwZS5tYXJrRGlydHkuY2FsbCh0aGlzLGUsbiksdGhpcy5kaXJ0eSE9emEpe3ZhciByPXRoaXMucGFyZW50O3doaWxlKCFyLm5vZGUpcj1yLnBhcmVudDtyLmRpcnR5PHRoaXMuZGlydHkmJihyLmRpcnR5PXRoaXMuZGlydHkpLHRoaXMuZGlydHk9emF9fSxlLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LG4scil7dmFyIG89ZS5jcmVhdGUodGhpcy5wYXJlbnQsdGhpcy5tYXJrLCEwLHIpLGk9dGhpcy5jaGlsZHJlbixzPXRoaXMuc2l6ZTtuPHMmJihpPWZjKGksbixzLHIpKSx0PjAmJihpPWZjKGksMCx0LHIpKTtmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKylpW2FdLnBhcmVudD1vO3JldHVybiBvLmNoaWxkcmVuPWksb30sZX0oRmEpLHFhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyxpLHMsYSxjLGwpe3QuY2FsbCh0aGlzLGUsbi5pc0xlYWY/JGE6W10saSxzKSx0aGlzLm5vZGVET009YSx0aGlzLm5vZGU9bix0aGlzLm91dGVyRGVjbz1yLHRoaXMuaW5uZXJEZWNvPW8scyYmdGhpcy51cGRhdGVDaGlsZHJlbihjLGwpfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXtzaXplOntjb25maWd1cmFibGU6ITB9LGJvcmRlcjp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIGUuY3JlYXRlPWZ1bmN0aW9uKHQsbixyLG8saSxzKXt2YXIgYyxsLHU9aS5ub2RlVmlld3Nbbi50eXBlLm5hbWVdLHA9dSYmdShuLGksKGZ1bmN0aW9uKCl7cmV0dXJuIGw/bC5wYXJlbnQ/bC5wYXJlbnQucG9zQmVmb3JlQ2hpbGQobCk6dm9pZCAwOnN9KSxyKSxmPXAmJnAuZG9tLGQ9cCYmcC5jb250ZW50RE9NO2lmKG4uaXNUZXh0KWlmKGYpe2lmKDMhPWYubm9kZVR5cGUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRleHQgbXVzdCBiZSByZW5kZXJlZCBhcyBhIERPTSB0ZXh0IG5vZGUiKX1lbHNlIGY9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobi50ZXh0KTtlbHNlIGZ8fChjPWFbIkRPTVNlcmlhbGl6ZXIiXS5yZW5kZXJTcGVjKGRvY3VtZW50LG4udHlwZS5zcGVjLnRvRE9NKG4pKSxmPWMuZG9tLGQ9Yy5jb250ZW50RE9NKTtkfHxuLmlzVGV4dHx8IkJSIj09Zi5ub2RlTmFtZXx8KGYuaGFzQXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKXx8KGYuY29udGVudEVkaXRhYmxlPSExKSxuLnR5cGUuc3BlYy5kcmFnZ2FibGUmJihmLmRyYWdnYWJsZT0hMCkpO3ZhciBoPWY7cmV0dXJuIGY9bmMoZixyLG4pLHA/bD1uZXcgR2EodCxuLHIsbyxmLGQsaCxwLGkscysxKTpuLmlzVGV4dD9uZXcgS2EodCxuLHIsbyxmLGgsaSk6bmV3IGUodCxuLHIsbyxmLGQsaCxpLHMrMSl9LGUucHJvdG90eXBlLnBhcnNlUnVsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodGhpcy5ub2RlLnR5cGUuc3BlYy5yZXBhcnNlSW5WaWV3KXJldHVybiBudWxsO3ZhciBlPXtub2RlOnRoaXMubm9kZS50eXBlLm5hbWUsYXR0cnM6dGhpcy5ub2RlLmF0dHJzfTtyZXR1cm4gdGhpcy5ub2RlLnR5cGUuc3BlYy5jb2RlJiYoZS5wcmVzZXJ2ZVdoaXRlc3BhY2U9ImZ1bGwiKSx0aGlzLmNvbnRlbnRET00mJiF0aGlzLmNvbnRlbnRMb3N0P2UuY29udGVudEVsZW1lbnQ9dGhpcy5jb250ZW50RE9NOmUuZ2V0Q29udGVudD1mdW5jdGlvbigpe3JldHVybiB0LmNvbnRlbnRET00/YVsiRnJhZ21lbnQiXS5lbXB0eTp0Lm5vZGUuY29udGVudH0sZX0sZS5wcm90b3R5cGUubWF0Y2hlc05vZGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLmRpcnR5PT16YSYmdC5lcSh0aGlzLm5vZGUpJiZyYyhlLHRoaXMub3V0ZXJEZWNvKSYmbi5lcSh0aGlzLmlubmVyRGVjbyl9LG4uc2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLm5vZGVTaXplfSxuLmJvcmRlci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLmlzTGVhZj8wOjF9LGUucHJvdG90eXBlLnVwZGF0ZUNoaWxkcmVuPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXRoaXMubm9kZS5pbmxpbmVDb250ZW50LG89ZSxpPXImJnQuY29tcG9zaW5nJiZ0aGlzLmxvY2FsQ29tcG9zaXRpb25Ob2RlKHQsZSkscz1uZXcgaWModGhpcyxpJiZpLm5vZGUpO2NjKHRoaXMubm9kZSx0aGlzLmlubmVyRGVjbywoZnVuY3Rpb24oZSxpKXtlLnNwZWMubWFya3M/cy5zeW5jVG9NYXJrcyhlLnNwZWMubWFya3Mscix0KTplLnR5cGUuc2lkZT49MCYmcy5zeW5jVG9NYXJrcyhpPT1uLm5vZGUuY2hpbGRDb3VudD9hWyJNYXJrIl0ubm9uZTpuLm5vZGUuY2hpbGQoaSkubWFya3Mscix0KSxzLnBsYWNlV2lkZ2V0KGUsdCxvKX0pLChmdW5jdGlvbihlLG4saSxhKXtzLnN5bmNUb01hcmtzKGUubWFya3Mscix0KSxzLmZpbmROb2RlTWF0Y2goZSxuLGksYSl8fHMudXBkYXRlTmV4dE5vZGUoZSxuLGksdCxhKXx8cy5hZGROb2RlKGUsbixpLHQsbyksbys9ZS5ub2RlU2l6ZX0pKSxzLnN5bmNUb01hcmtzKCRhLHIsdCksdGhpcy5ub2RlLmlzVGV4dGJsb2NrJiZzLmFkZFRleHRibG9ja0hhY2tzKCkscy5kZXN0cm95UmVzdCgpLChzLmNoYW5nZWR8fHRoaXMuZGlydHk9PUJhKSYmKGkmJnRoaXMucHJvdGVjdExvY2FsQ29tcG9zaXRpb24odCxpKSx0aGlzLnJlbmRlckNoaWxkcmVuKCkpfSxlLnByb3RvdHlwZS5yZW5kZXJDaGlsZHJlbj1mdW5jdGlvbigpe1hhKHRoaXMuY29udGVudERPTSx0aGlzLmNoaWxkcmVuKSxXcy5pb3MmJmxjKHRoaXMuZG9tKX0sZS5wcm90b3R5cGUubG9jYWxDb21wb3NpdGlvbk5vZGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LnN0YXRlLnNlbGVjdGlvbixyPW4uZnJvbSxvPW4udG87aWYoISghKHQuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2Ygc1siVGV4dFNlbGVjdGlvbiJdKXx8cjxlfHxvPmUrdGhpcy5ub2RlLmNvbnRlbnQuc2l6ZSkpe3ZhciBpPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxhPXVjKGkuZm9jdXNOb2RlLGkuZm9jdXNPZmZzZXQpO2lmKGEmJnRoaXMuZG9tLmNvbnRhaW5zKGEucGFyZW50Tm9kZSkpe3ZhciBjPWEubm9kZVZhbHVlLGw9cGModGhpcy5ub2RlLmNvbnRlbnQsYyxyLWUsby1lKTtyZXR1cm4gbDwwP251bGw6e25vZGU6YSxwb3M6bCx0ZXh0OmN9fX19LGUucHJvdG90eXBlLnByb3RlY3RMb2NhbENvbXBvc2l0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5ub2RlLHI9ZS5wb3Msbz1lLnRleHQ7aWYoIXRoaXMuZ2V0RGVzYyhuKSl7Zm9yKHZhciBpPW47O2k9aS5wYXJlbnROb2RlKXtpZihpLnBhcmVudE5vZGU9PXRoaXMuY29udGVudERPTSlicmVhazt3aGlsZShpLnByZXZpb3VzU2libGluZylpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaS5wcmV2aW91c1NpYmxpbmcpO3doaWxlKGkubmV4dFNpYmxpbmcpaS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkubmV4dFNpYmxpbmcpO2kucG1WaWV3RGVzYyYmKGkucG1WaWV3RGVzYz1udWxsKX12YXIgcz1uZXcgSGEodGhpcyxpLG4sbyk7dC5jb21wb3NpdGlvbk5vZGVzLnB1c2gocyksdGhpcy5jaGlsZHJlbj1mYyh0aGlzLmNoaWxkcmVuLHIscitvLmxlbmd0aCx0LHMpfX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiEodGhpcy5kaXJ0eT09VmF8fCF0LnNhbWVNYXJrdXAodGhpcy5ub2RlKSkmJih0aGlzLnVwZGF0ZUlubmVyKHQsZSxuLHIpLCEwKX0sZS5wcm90b3R5cGUudXBkYXRlSW5uZXI9ZnVuY3Rpb24odCxlLG4scil7dGhpcy51cGRhdGVPdXRlckRlY28oZSksdGhpcy5ub2RlPXQsdGhpcy5pbm5lckRlY289bix0aGlzLmNvbnRlbnRET00mJnRoaXMudXBkYXRlQ2hpbGRyZW4ocix0aGlzLnBvc0F0U3RhcnQpLHRoaXMuZGlydHk9emF9LGUucHJvdG90eXBlLnVwZGF0ZU91dGVyRGVjbz1mdW5jdGlvbih0KXtpZighcmModCx0aGlzLm91dGVyRGVjbykpe3ZhciBlPTEhPXRoaXMubm9kZURPTS5ub2RlVHlwZSxuPXRoaXMuZG9tO3RoaXMuZG9tPXRjKHRoaXMuZG9tLHRoaXMubm9kZURPTSxRYSh0aGlzLm91dGVyRGVjbyx0aGlzLm5vZGUsZSksUWEodCx0aGlzLm5vZGUsZSkpLHRoaXMuZG9tIT1uJiYobi5wbVZpZXdEZXNjPW51bGwsdGhpcy5kb20ucG1WaWV3RGVzYz10aGlzKSx0aGlzLm91dGVyRGVjbz10fX0sZS5wcm90b3R5cGUuc2VsZWN0Tm9kZT1mdW5jdGlvbigpe3RoaXMubm9kZURPTS5jbGFzc0xpc3QuYWRkKCJQcm9zZU1pcnJvci1zZWxlY3RlZG5vZGUiKSwhdGhpcy5jb250ZW50RE9NJiZ0aGlzLm5vZGUudHlwZS5zcGVjLmRyYWdnYWJsZXx8KHRoaXMuZG9tLmRyYWdnYWJsZT0hMCl9LGUucHJvdG90eXBlLmRlc2VsZWN0Tm9kZT1mdW5jdGlvbigpe3RoaXMubm9kZURPTS5jbGFzc0xpc3QucmVtb3ZlKCJQcm9zZU1pcnJvci1zZWxlY3RlZG5vZGUiKSwhdGhpcy5jb250ZW50RE9NJiZ0aGlzLm5vZGUudHlwZS5zcGVjLmRyYWdnYWJsZXx8KHRoaXMuZG9tLmRyYWdnYWJsZT0hMSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLG4pLGV9KEZhKTtmdW5jdGlvbiBKYSh0LGUsbixyLG8pe3JldHVybiBuYyhyLGUsdCksbmV3IHFhKG51bGwsdCxlLG4scixyLHIsbywwKX12YXIgS2E9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvLGkscyxhKXt0LmNhbGwodGhpcyxlLG4scixvLGksbnVsbCxzLGEpfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5wYXJzZVJ1bGU9ZnVuY3Rpb24oKXtyZXR1cm57c2tpcDp0aGlzLm5vZGVET00ucGFyZW50Tm9kZXx8ITB9fSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4hKHRoaXMuZGlydHk9PVZhfHx0aGlzLmRpcnR5IT16YSYmIXRoaXMuaW5QYXJlbnQoKXx8IXQuc2FtZU1hcmt1cCh0aGlzLm5vZGUpKSYmKHRoaXMudXBkYXRlT3V0ZXJEZWNvKGUpLHRoaXMuZGlydHk9PXphJiZ0LnRleHQ9PXRoaXMubm9kZS50ZXh0fHx0LnRleHQ9PXRoaXMubm9kZURPTS5ub2RlVmFsdWV8fCh0aGlzLm5vZGVET00ubm9kZVZhbHVlPXQudGV4dCksdGhpcy5ub2RlPXQsdGhpcy5kaXJ0eT16YSwhMCl9LGUucHJvdG90eXBlLmluUGFyZW50PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMucGFyZW50LmNvbnRlbnRET00sZT10aGlzLm5vZGVET007ZTtlPWUucGFyZW50Tm9kZSlpZihlPT10KXJldHVybiEwO3JldHVybiExfSxlLnByb3RvdHlwZS5kb21Gcm9tUG9zPWZ1bmN0aW9uKHQpe3JldHVybntub2RlOnRoaXMubm9kZURPTSxvZmZzZXQ6dH19LGUucHJvdG90eXBlLmxvY2FsUG9zRnJvbURPTT1mdW5jdGlvbihlLG4scil7cmV0dXJuIGU9PXRoaXMubm9kZURPTT90aGlzLnBvc0F0U3RhcnQrTWF0aC5taW4obix0aGlzLm5vZGUudGV4dC5sZW5ndGgpOnQucHJvdG90eXBlLmxvY2FsUG9zRnJvbURPTS5jYWxsKHRoaXMsZSxuLHIpfSxlLnByb3RvdHlwZS5pZ25vcmVNdXRhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4iY2hhcmFjdGVyRGF0YSIhPXQudHlwZSYmInNlbGVjdGlvbiIhPXQudHlwZX0sZS5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCxuLHIpe3ZhciBvPXRoaXMubm9kZS5jdXQodCxuKSxpPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG8udGV4dCk7cmV0dXJuIG5ldyBlKHRoaXMucGFyZW50LG8sdGhpcy5vdXRlckRlY28sdGhpcy5pbm5lckRlY28saSxpLHIpfSxlfShxYSksVWE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5wYXJzZVJ1bGU9ZnVuY3Rpb24oKXtyZXR1cm57aWdub3JlOiEwfX0sZS5wcm90b3R5cGUubWF0Y2hlc0hhY2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXJ0eT09emF9LGV9KEZhKSxHYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8saSxzLGEsYyxsLHUpe3QuY2FsbCh0aGlzLGUsbixyLG8saSxzLGEsbCx1KSx0aGlzLnNwZWM9Y31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUsbixyLG8pe2lmKHRoaXMuZGlydHk9PVZhKXJldHVybiExO2lmKHRoaXMuc3BlYy51cGRhdGUpe3ZhciBpPXRoaXMuc3BlYy51cGRhdGUoZSxuKTtyZXR1cm4gaSYmdGhpcy51cGRhdGVJbm5lcihlLG4scixvKSxpfXJldHVybiEoIXRoaXMuY29udGVudERPTSYmIWUuaXNMZWFmKSYmdC5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyxlLG4scixvKX0sZS5wcm90b3R5cGUuc2VsZWN0Tm9kZT1mdW5jdGlvbigpe3RoaXMuc3BlYy5zZWxlY3ROb2RlP3RoaXMuc3BlYy5zZWxlY3ROb2RlKCk6dC5wcm90b3R5cGUuc2VsZWN0Tm9kZS5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5kZXNlbGVjdE5vZGU9ZnVuY3Rpb24oKXt0aGlzLnNwZWMuZGVzZWxlY3ROb2RlP3RoaXMuc3BlYy5kZXNlbGVjdE5vZGUoKTp0LnByb3RvdHlwZS5kZXNlbGVjdE5vZGUuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuc2V0U2VsZWN0aW9uPWZ1bmN0aW9uKGUsbixyLG8pe3RoaXMuc3BlYy5zZXRTZWxlY3Rpb24/dGhpcy5zcGVjLnNldFNlbGVjdGlvbihlLG4scik6dC5wcm90b3R5cGUuc2V0U2VsZWN0aW9uLmNhbGwodGhpcyxlLG4scixvKX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuc3BlYy5kZXN0cm95JiZ0aGlzLnNwZWMuZGVzdHJveSgpLHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuc3RvcEV2ZW50PWZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5zcGVjLnN0b3BFdmVudCYmdGhpcy5zcGVjLnN0b3BFdmVudCh0KX0sZS5wcm90b3R5cGUuaWdub3JlTXV0YXRpb249ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3BlYy5pZ25vcmVNdXRhdGlvbj90aGlzLnNwZWMuaWdub3JlTXV0YXRpb24oZSk6dC5wcm90b3R5cGUuaWdub3JlTXV0YXRpb24uY2FsbCh0aGlzLGUpfSxlfShxYSk7ZnVuY3Rpb24gWGEodCxlKXtmb3IodmFyIG49dC5maXJzdENoaWxkLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89ZVtyXSxpPW8uZG9tO2lmKGkucGFyZW50Tm9kZT09dCl7d2hpbGUoaSE9biluPW9jKG4pO249bi5uZXh0U2libGluZ31lbHNlIHQuaW5zZXJ0QmVmb3JlKGksbik7aWYobyBpbnN0YW5jZW9mIFdhKXt2YXIgcz1uP24ucHJldmlvdXNTaWJsaW5nOnQubGFzdENoaWxkO1hhKG8uY29udGVudERPTSxvLmNoaWxkcmVuKSxuPXM/cy5uZXh0U2libGluZzp0LmZpcnN0Q2hpbGR9fXdoaWxlKG4pbj1vYyhuKX1mdW5jdGlvbiBZYSh0KXt0JiYodGhpcy5ub2RlTmFtZT10KX1ZYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShudWxsKTt2YXIgWmE9W25ldyBZYV07ZnVuY3Rpb24gUWEodCxlLG4pe2lmKDA9PXQubGVuZ3RoKXJldHVybiBaYTtmb3IodmFyIHI9bj9aYVswXTpuZXcgWWEsbz1bcl0saT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgcz10W2ldLnR5cGUuYXR0cnMsYT1yO2lmKHMpZm9yKHZhciBjIGluIHMubm9kZU5hbWUmJm8ucHVzaChhPW5ldyBZYShzLm5vZGVOYW1lKSkscyl7dmFyIGw9c1tjXTtudWxsIT1sJiYobiYmMT09by5sZW5ndGgmJm8ucHVzaChhPXI9bmV3IFlhKGUuaXNJbmxpbmU/InNwYW4iOiJkaXYiKSksImNsYXNzIj09Yz9hLmNsYXNzPShhLmNsYXNzP2EuY2xhc3MrIiAiOiIiKStsOiJzdHlsZSI9PWM/YS5zdHlsZT0oYS5zdHlsZT9hLnN0eWxlKyI7IjoiIikrbDoibm9kZU5hbWUiIT1jJiYoYVtjXT1sKSl9fXJldHVybiBvfWZ1bmN0aW9uIHRjKHQsZSxuLHIpe2lmKG49PVphJiZyPT1aYSlyZXR1cm4gZTtmb3IodmFyIG89ZSxpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBzPXJbaV0sYT1uW2ldO2lmKGkpe3ZhciBjPXZvaWQgMDthJiZhLm5vZGVOYW1lPT1zLm5vZGVOYW1lJiZvIT10JiYoYz1lLnBhcmVudE5vZGUpJiZjLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09cy5ub2RlTmFtZT9vPWM6KGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChzLm5vZGVOYW1lKSxjLmFwcGVuZENoaWxkKG8pLG89Yyl9ZWMobyxhfHxaYVswXSxzKX1yZXR1cm4gb31mdW5jdGlvbiBlYyh0LGUsbil7Zm9yKHZhciByIGluIGUpImNsYXNzIj09cnx8InN0eWxlIj09cnx8Im5vZGVOYW1lIj09cnx8ciBpbiBufHx0LnJlbW92ZUF0dHJpYnV0ZShyKTtmb3IodmFyIG8gaW4gbikiY2xhc3MiIT1vJiYic3R5bGUiIT1vJiYibm9kZU5hbWUiIT1vJiZuW29dIT1lW29dJiZ0LnNldEF0dHJpYnV0ZShvLG5bb10pO2lmKGUuY2xhc3MhPW4uY2xhc3Mpe2Zvcih2YXIgaT1lLmNsYXNzP2UuY2xhc3Muc3BsaXQoIiAiKTokYSxzPW4uY2xhc3M/bi5jbGFzcy5zcGxpdCgiICIpOiRhLGE9MDthPGkubGVuZ3RoO2ErKyktMT09cy5pbmRleE9mKGlbYV0pJiZ0LmNsYXNzTGlzdC5yZW1vdmUoaVthXSk7Zm9yKHZhciBjPTA7YzxzLmxlbmd0aDtjKyspLTE9PWkuaW5kZXhPZihzW2NdKSYmdC5jbGFzc0xpc3QuYWRkKHNbY10pfWlmKGUuc3R5bGUhPW4uc3R5bGUpe2lmKGUuc3R5bGUpe3ZhciBsLHU9L1xzKihbXHdcLVx4YTEtXHVmZmZmXSspXHMqOig/OiIoPzpcXC58W14iXSkqInwnKD86XFwufFteJ10pKid8XCguKj9cKXxbXjtdKSovZzt3aGlsZShsPXUuZXhlYyhlLnN0eWxlKSl0LnN0eWxlW2xbMV0udG9Mb3dlckNhc2UoKV09IiJ9bi5zdHlsZSYmKHQuc3R5bGUuY3NzVGV4dCs9bi5zdHlsZSl9fWZ1bmN0aW9uIG5jKHQsZSxuKXtyZXR1cm4gdGModCx0LFphLFFhKGUsbiwxIT10Lm5vZGVUeXBlKSl9ZnVuY3Rpb24gcmModCxlKXtpZih0Lmxlbmd0aCE9ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYoIXRbbl0udHlwZS5lcShlW25dLnR5cGUpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIG9jKHQpe3ZhciBlPXQubmV4dFNpYmxpbmc7cmV0dXJuIHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSxlfXZhciBpYz1mdW5jdGlvbih0LGUpe3RoaXMudG9wPXQsdGhpcy5sb2NrPWUsdGhpcy5pbmRleD0wLHRoaXMuc3RhY2s9W10sdGhpcy5jaGFuZ2VkPSExO3ZhciBuPXNjKHQubm9kZS5jb250ZW50LHQuY2hpbGRyZW4pO3RoaXMucHJlTWF0Y2hlZD1uLm5vZGVzLHRoaXMucHJlTWF0Y2hPZmZzZXQ9bi5vZmZzZXR9O2Z1bmN0aW9uIHNjKHQsZSl7Zm9yKHZhciBuPVtdLHI9dC5jaGlsZENvdW50LG89ZS5sZW5ndGgtMTtyPjAmJm8+PTA7by0tKXt2YXIgaT1lW29dLHM9aS5ub2RlO2lmKHMpe2lmKHMhPXQuY2hpbGQoci0xKSlicmVhaztuLnB1c2goaSksLS1yfX1yZXR1cm57bm9kZXM6bi5yZXZlcnNlKCksb2Zmc2V0OnJ9fWZ1bmN0aW9uIGFjKHQsZSl7cmV0dXJuIHQudHlwZS5zaWRlLWUudHlwZS5zaWRlfWZ1bmN0aW9uIGNjKHQsZSxuLHIpe3ZhciBvPWUubG9jYWxzKHQpLGk9MDtpZigwIT1vLmxlbmd0aClmb3IodmFyIHM9MCxhPVtdLGM9bnVsbCxsPTA7Oyl7aWYoczxvLmxlbmd0aCYmb1tzXS50bz09aSl7dmFyIHU9b1tzKytdLHA9dm9pZCAwO3doaWxlKHM8by5sZW5ndGgmJm9bc10udG89PWkpKHB8fChwPVt1XSkpLnB1c2gob1tzKytdKTtpZihwKXtwLnNvcnQoYWMpO2Zvcih2YXIgZj0wO2Y8cC5sZW5ndGg7ZisrKW4ocFtmXSxsKX1lbHNlIG4odSxsKX12YXIgZD12b2lkIDAsaD12b2lkIDA7aWYoYyloPS0xLGQ9YyxjPW51bGw7ZWxzZXtpZighKGw8dC5jaGlsZENvdW50KSlicmVhaztoPWwsZD10LmNoaWxkKGwrKyl9Zm9yKHZhciB2PTA7djxhLmxlbmd0aDt2KyspYVt2XS50bzw9aSYmYS5zcGxpY2Uodi0tLDEpO3doaWxlKHM8by5sZW5ndGgmJm9bc10uZnJvbT09aSlhLnB1c2gob1tzKytdKTt2YXIgbT1pK2Qubm9kZVNpemU7aWYoZC5pc1RleHQpe3ZhciBnPW07czxvLmxlbmd0aCYmb1tzXS5mcm9tPGcmJihnPW9bc10uZnJvbSk7Zm9yKHZhciB5PTA7eTxhLmxlbmd0aDt5KyspYVt5XS50bzxnJiYoZz1hW3ldLnRvKTtnPG0mJihjPWQuY3V0KGctaSksZD1kLmN1dCgwLGctaSksbT1nLGg9LTEpfXIoZCxhLmxlbmd0aD9hLnNsaWNlKCk6JGEsZS5mb3JDaGlsZChpLGQpLGgpLGk9bX1lbHNlIGZvcih2YXIgdz0wO3c8dC5jaGlsZENvdW50O3crKyl7dmFyIGI9dC5jaGlsZCh3KTtyKGIsbyxlLmZvckNoaWxkKGksYiksdyksaSs9Yi5ub2RlU2l6ZX19ZnVuY3Rpb24gbGModCl7aWYoIlVMIj09dC5ub2RlTmFtZXx8Ik9MIj09dC5ub2RlTmFtZSl7dmFyIGU9dC5zdHlsZS5jc3NUZXh0O3Quc3R5bGUuY3NzVGV4dD1lKyI7IGxpc3Qtc3R5bGU6IHNxdWFyZSAhaW1wb3J0YW50Iix3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0KS5saXN0U3R5bGUsdC5zdHlsZS5jc3NUZXh0PWV9fWZ1bmN0aW9uIHVjKHQsZSl7Zm9yKDs7KXtpZigzPT10Lm5vZGVUeXBlKXJldHVybiB0O2lmKDE9PXQubm9kZVR5cGUmJmU+MCl7aWYodC5jaGlsZE5vZGVzLmxlbmd0aD5lJiYzPT10LmNoaWxkTm9kZXNbZV0ubm9kZVR5cGUpcmV0dXJuIHQuY2hpbGROb2Rlc1tlXTt0PXQuY2hpbGROb2Rlc1tlLTFdLGU9bmEodCl9ZWxzZXtpZighKDE9PXQubm9kZVR5cGUmJmU8dC5jaGlsZE5vZGVzLmxlbmd0aCkpcmV0dXJuIG51bGw7dD10LmNoaWxkTm9kZXNbZV0sZT0wfX19ZnVuY3Rpb24gcGModCxlLG4scil7Zm9yKHZhciBvPSIiLGk9MCxzPTA7aTx0LmNoaWxkQ291bnQ7aSsrKXt2YXIgYT10LmNoaWxkKGkpLGM9cythLm5vZGVTaXplO2lmKGEuaXNUZXh0KXtpZihvKz1hLnRleHQsYz49cil7dmFyIGw9Yy1vLmxlbmd0aCx1PW8ubGFzdEluZGV4T2YoZSk7d2hpbGUodT4tMSYmbCt1Pm4pdT1vLmxhc3RJbmRleE9mKGUsdS0xKTtpZih1Pi0xJiZsK3UrZS5sZW5ndGg+PXIpcmV0dXJuIGwrdTtpZihjPnIpYnJlYWt9fWVsc2Ugbz0iIjtzPWN9cmV0dXJuLTF9ZnVuY3Rpb24gZmModCxlLG4scixvKXtmb3IodmFyIGk9W10scz0wLGE9MDtzPHQubGVuZ3RoO3MrKyl7dmFyIGM9dFtzXSxsPWEsdT1hKz1jLnNpemU7bD49bnx8dTw9ZT9pLnB1c2goYyk6KGw8ZSYmaS5wdXNoKGMuc2xpY2UoMCxlLWwscikpLG8mJihpLnB1c2gobyksbz1udWxsKSx1Pm4mJmkucHVzaChjLnNsaWNlKG4tbCxjLnNpemUscikpKX1yZXR1cm4gaX1mdW5jdGlvbiBkYyh0LGUpe3ZhciBuPXQuc2VsZWN0aW9uLHI9bi4kYW5jaG9yLG89bi4kaGVhZCxpPWU+MD9yLm1heChvKTpyLm1pbihvKSxhPWkucGFyZW50LmlubGluZUNvbnRlbnQ/aS5kZXB0aD90LmRvYy5yZXNvbHZlKGU+MD9pLmFmdGVyKCk6aS5iZWZvcmUoKSk6bnVsbDppO3JldHVybiBhJiZzWyJTZWxlY3Rpb24iXS5maW5kRnJvbShhLGUpfWZ1bmN0aW9uIGhjKHQsZSl7cmV0dXJuIHQuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oZSkuc2Nyb2xsSW50b1ZpZXcoKSksITB9ZnVuY3Rpb24gdmModCxlLG4pe3ZhciByPXQuc3RhdGUuc2VsZWN0aW9uO2lmKHIgaW5zdGFuY2VvZiBzWyJUZXh0U2VsZWN0aW9uIl0pe2lmKCFyLmVtcHR5fHxuLmluZGV4T2YoInMiKT4tMSlyZXR1cm4hMTtpZih0LmVuZE9mVGV4dGJsb2NrKGU+MD8icmlnaHQiOiJsZWZ0Iikpe3ZhciBvPWRjKHQuc3RhdGUsZSk7cmV0dXJuISEobyYmbyBpbnN0YW5jZW9mIHNbIk5vZGVTZWxlY3Rpb24iXSkmJmhjKHQsbyl9dmFyIGksYT1yLiRoZWFkLGM9YS50ZXh0T2Zmc2V0P251bGw6ZTwwP2Eubm9kZUJlZm9yZTphLm5vZGVBZnRlcjtpZighY3x8Yy5pc1RleHQpcmV0dXJuITE7dmFyIGw9ZTwwP2EucG9zLWMubm9kZVNpemU6YS5wb3M7cmV0dXJuISEoYy5pc0F0b218fChpPXQuZG9jVmlldy5kZXNjQXQobCkpJiYhaS5jb250ZW50RE9NKSYmKHNbIk5vZGVTZWxlY3Rpb24iXS5pc1NlbGVjdGFibGUoYyk/aGModCxuZXcgc1siTm9kZVNlbGVjdGlvbiJdKGU8MD90LnN0YXRlLmRvYy5yZXNvbHZlKGEucG9zLWMubm9kZVNpemUpOmEpKTohIVdzLndlYmtpdCYmaGModCxuZXcgc1siVGV4dFNlbGVjdGlvbiJdKHQuc3RhdGUuZG9jLnJlc29sdmUoZTwwP2w6bCtjLm5vZGVTaXplKSkpKX1pZihyIGluc3RhbmNlb2Ygc1siTm9kZVNlbGVjdGlvbiJdJiZyLm5vZGUuaXNJbmxpbmUpcmV0dXJuIGhjKHQsbmV3IHNbIlRleHRTZWxlY3Rpb24iXShlPjA/ci4kdG86ci4kZnJvbSkpO3ZhciB1PWRjKHQuc3RhdGUsZSk7cmV0dXJuISF1JiZoYyh0LHUpfWZ1bmN0aW9uIG1jKHQpe3JldHVybiAzPT10Lm5vZGVUeXBlP3Qubm9kZVZhbHVlLmxlbmd0aDp0LmNoaWxkTm9kZXMubGVuZ3RofWZ1bmN0aW9uIGdjKHQpe3ZhciBlPXQucG1WaWV3RGVzYztyZXR1cm4gZSYmMD09ZS5zaXplJiYodC5uZXh0U2libGluZ3x8IkJSIiE9dC5ub2RlTmFtZSl9ZnVuY3Rpb24geWModCl7dmFyIGU9dC5yb290LmdldFNlbGVjdGlvbigpLG49ZS5mb2N1c05vZGUscj1lLmZvY3VzT2Zmc2V0O2lmKG4pe3ZhciBvLGkscz0hMTtmb3IoV3MuZ2Vja28mJjE9PW4ubm9kZVR5cGUmJnI8bWMobikmJmdjKG4uY2hpbGROb2Rlc1tyXSkmJihzPSEwKTs7KWlmKHI+MCl7aWYoMSE9bi5ub2RlVHlwZSlicmVhazt2YXIgYT1uLmNoaWxkTm9kZXNbci0xXTtpZihnYyhhKSlvPW4saT0tLXI7ZWxzZXtpZigzIT1hLm5vZGVUeXBlKWJyZWFrO249YSxyPW4ubm9kZVZhbHVlLmxlbmd0aH19ZWxzZXtpZihiYyhuKSlicmVhazt2YXIgYz1uLnByZXZpb3VzU2libGluZzt3aGlsZShjJiZnYyhjKSlvPW4ucGFyZW50Tm9kZSxpPVhzKGMpLGM9Yy5wcmV2aW91c1NpYmxpbmc7aWYoYyluPWMscj1tYyhuKTtlbHNle2lmKG49bi5wYXJlbnROb2RlLG49PXQuZG9tKWJyZWFrO3I9MH19cz9TYyh0LGUsbixyKTpvJiZTYyh0LGUsbyxpKX19ZnVuY3Rpb24gd2ModCl7dmFyIGU9dC5yb290LmdldFNlbGVjdGlvbigpLG49ZS5mb2N1c05vZGUscj1lLmZvY3VzT2Zmc2V0O2lmKG4pe2Zvcih2YXIgbyxpLHM9bWMobik7OylpZihyPHMpe2lmKDEhPW4ubm9kZVR5cGUpYnJlYWs7dmFyIGE9bi5jaGlsZE5vZGVzW3JdO2lmKCFnYyhhKSlicmVhaztvPW4saT0rK3J9ZWxzZXtpZihiYyhuKSlicmVhazt2YXIgYz1uLm5leHRTaWJsaW5nO3doaWxlKGMmJmdjKGMpKW89Yy5wYXJlbnROb2RlLGk9WHMoYykrMSxjPWMubmV4dFNpYmxpbmc7aWYoYyluPWMscj0wLHM9bWMobik7ZWxzZXtpZihuPW4ucGFyZW50Tm9kZSxuPT10LmRvbSlicmVhaztyPXM9MH19byYmU2ModCxlLG8saSl9fWZ1bmN0aW9uIGJjKHQpe3ZhciBlPXQucG1WaWV3RGVzYztyZXR1cm4gZSYmZS5ub2RlJiZlLm5vZGUuaXNCbG9ja31mdW5jdGlvbiBTYyh0LGUsbixyKXtpZihvYShlKSl7dmFyIG89ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtvLnNldEVuZChuLHIpLG8uc2V0U3RhcnQobixyKSxlLnJlbW92ZUFsbFJhbmdlcygpLGUuYWRkUmFuZ2Uobyl9ZWxzZSBlLmV4dGVuZCYmZS5leHRlbmQobixyKTt0LmRvbU9ic2VydmVyLnNldEN1clNlbGVjdGlvbigpfWZ1bmN0aW9uIGtjKHQsZSxuKXt2YXIgcj10LnN0YXRlLnNlbGVjdGlvbjtpZihyIGluc3RhbmNlb2Ygc1siVGV4dFNlbGVjdGlvbiJdJiYhci5lbXB0eXx8bi5pbmRleE9mKCJzIik+LTEpcmV0dXJuITE7dmFyIG89ci4kZnJvbSxpPXIuJHRvO2lmKCFvLnBhcmVudC5pbmxpbmVDb250ZW50fHx0LmVuZE9mVGV4dGJsb2NrKGU8MD8idXAiOiJkb3duIikpe3ZhciBhPWRjKHQuc3RhdGUsZSk7aWYoYSYmYSBpbnN0YW5jZW9mIHNbIk5vZGVTZWxlY3Rpb24iXSlyZXR1cm4gaGModCxhKX1pZighby5wYXJlbnQuaW5saW5lQ29udGVudCl7dmFyIGM9c1siU2VsZWN0aW9uIl0uZmluZEZyb20oZTwwP286aSxlKTtyZXR1cm4hY3x8aGModCxjKX1yZXR1cm4hMX1mdW5jdGlvbiB4Yyh0LGUpe2lmKCEodC5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBzWyJUZXh0U2VsZWN0aW9uIl0pKXJldHVybiEwO3ZhciBuPXQuc3RhdGUuc2VsZWN0aW9uLHI9bi4kaGVhZCxvPW4uJGFuY2hvcixpPW4uZW1wdHk7aWYoIXIuc2FtZVBhcmVudChvKSlyZXR1cm4hMDtpZighaSlyZXR1cm4hMTtpZih0LmVuZE9mVGV4dGJsb2NrKGU+MD8iZm9yd2FyZCI6ImJhY2t3YXJkIikpcmV0dXJuITA7dmFyIGE9IXIudGV4dE9mZnNldCYmKGU8MD9yLm5vZGVCZWZvcmU6ci5ub2RlQWZ0ZXIpO2lmKGEmJiFhLmlzVGV4dCl7dmFyIGM9dC5zdGF0ZS50cjtyZXR1cm4gZTwwP2MuZGVsZXRlKHIucG9zLWEubm9kZVNpemUsci5wb3MpOmMuZGVsZXRlKHIucG9zLHIucG9zK2Eubm9kZVNpemUpLHQuZGlzcGF0Y2goYyksITB9cmV0dXJuITF9ZnVuY3Rpb24gQ2ModCxlLG4pe3QuZG9tT2JzZXJ2ZXIuc3RvcCgpLGUuY29udGVudEVkaXRhYmxlPW4sdC5kb21PYnNlcnZlci5zdGFydCgpfWZ1bmN0aW9uIE9jKHQpe2lmKFdzLmNocm9tZSYmISh0LnN0YXRlLnNlbGVjdGlvbi4kaGVhZC5wYXJlbnRPZmZzZXQ+MCkpe3ZhciBlPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxuPWUuZm9jdXNOb2RlLHI9ZS5mb2N1c09mZnNldDtpZihuJiYxPT1uLm5vZGVUeXBlJiYwPT1yJiZuLmZpcnN0Q2hpbGQmJiJmYWxzZSI9PW4uZmlyc3RDaGlsZC5jb250ZW50RWRpdGFibGUpe3ZhciBvPW4uZmlyc3RDaGlsZDtDYyh0LG8sITApLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIENjKHQsbywhMSl9KSwyMCl9fX1mdW5jdGlvbiBNYyh0KXt2YXIgZT0iIjtyZXR1cm4gdC5jdHJsS2V5JiYoZSs9ImMiKSx0Lm1ldGFLZXkmJihlKz0ibSIpLHQuYWx0S2V5JiYoZSs9ImEiKSx0LnNoaWZ0S2V5JiYoZSs9InMiKSxlfWZ1bmN0aW9uIE5jKHQsZSl7dmFyIG49ZS5rZXlDb2RlLHI9TWMoZSk7cmV0dXJuIDg9PW58fFdzLm1hYyYmNzI9PW4mJiJjIj09cj94Yyh0LC0xKXx8eWModCk6NDY9PW58fFdzLm1hYyYmNjg9PW4mJiJjIj09cj94Yyh0LDEpfHx3Yyh0KToxMz09bnx8Mjc9PW58fCgzNz09bj92Yyh0LC0xLHIpfHx5Yyh0KTozOT09bj92Yyh0LDEscil8fHdjKHQpOjM4PT1uP2tjKHQsLTEscil8fHljKHQpOjQwPT1uP09jKHQpfHxrYyh0LDEscil8fHdjKHQpOnI9PShXcy5tYWM/Im0iOiJjIikmJig2Nj09bnx8NzM9PW58fDg5PT1ufHw5MD09bikpfWZ1bmN0aW9uIFRjKHQsZSl7dmFyIG4scixvPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxpPXQuc3RhdGUuZG9jLGE9dC5kb2NWaWV3Lm5lYXJlc3REZXNjKG8uZm9jdXNOb2RlKSxjPWEmJjA9PWEuc2l6ZSxsPXQuZG9jVmlldy5wb3NGcm9tRE9NKG8uZm9jdXNOb2RlLG8uZm9jdXNPZmZzZXQpLHU9aS5yZXNvbHZlKGwpO2lmKG9hKG8pKXtuPXU7d2hpbGUoYSYmIWEubm9kZSlhPWEucGFyZW50O2lmKGEmJmEubm9kZS5pc0F0b20mJnNbIk5vZGVTZWxlY3Rpb24iXS5pc1NlbGVjdGFibGUoYS5ub2RlKSYmYS5wYXJlbnQpe3ZhciBwPWEucG9zQmVmb3JlO3I9bmV3IHNbIk5vZGVTZWxlY3Rpb24iXShsPT1wP3U6aS5yZXNvbHZlKHApKX19ZWxzZSBuPWkucmVzb2x2ZSh0LmRvY1ZpZXcucG9zRnJvbURPTShvLmFuY2hvck5vZGUsby5hbmNob3JPZmZzZXQpKTtpZighcil7dmFyIGY9InBvaW50ZXIiPT1lfHx0LnN0YXRlLnNlbGVjdGlvbi5oZWFkPHUucG9zJiYhYz8xOi0xO3I9SWModCxuLHUsZil9cmV0dXJuIHJ9ZnVuY3Rpb24gRGModCxlKXt2YXIgbj10LnN0YXRlLnNlbGVjdGlvbjtpZihQYyh0LG4pLHQuZWRpdGFibGU/dC5oYXNGb2N1cygpOlZjKHQpJiZkb2N1bWVudC5hY3RpdmVFbGVtZW50LmNvbnRhaW5zKHQuZG9tKSl7aWYodC5kb21PYnNlcnZlci5kaXNjb25uZWN0U2VsZWN0aW9uKCksdC5jdXJzb3JXcmFwcGVyKV9jKHQpO2Vsc2V7dmFyIHIsbyxpPW4uYW5jaG9yLGE9bi5oZWFkOyFBY3x8biBpbnN0YW5jZW9mIHNbIlRleHRTZWxlY3Rpb24iXXx8KG4uJGZyb20ucGFyZW50LmlubGluZUNvbnRlbnR8fChyPUVjKHQsbi5mcm9tKSksbi5lbXB0eXx8bi4kZnJvbS5wYXJlbnQuaW5saW5lQ29udGVudHx8KG89RWModCxuLnRvKSkpLHQuZG9jVmlldy5zZXRTZWxlY3Rpb24oaSxhLHQucm9vdCxlKSxBYyYmKHImJihyLmNvbnRlbnRFZGl0YWJsZT0iZmFsc2UiKSxvJiYoby5jb250ZW50RWRpdGFibGU9ImZhbHNlIikpLG4udmlzaWJsZT90LmRvbS5jbGFzc0xpc3QucmVtb3ZlKCJQcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uIik6aSE9YSYmKHQuZG9tLmNsYXNzTGlzdC5hZGQoIlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb24iKSwib25zZWxlY3Rpb25jaGFuZ2UiaW4gZG9jdW1lbnQmJlJjKHQpKX10LmRvbU9ic2VydmVyLnNldEN1clNlbGVjdGlvbigpLHQuZG9tT2JzZXJ2ZXIuY29ubmVjdFNlbGVjdGlvbigpfX1pYy5wcm90b3R5cGUuZ2V0UHJlTWF0Y2g9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PXRoaXMucHJlTWF0Y2hPZmZzZXQ/dGhpcy5wcmVNYXRjaGVkW3QtdGhpcy5wcmVNYXRjaE9mZnNldF06bnVsbH0saWMucHJvdG90eXBlLmRlc3Ryb3lCZXR3ZWVuPWZ1bmN0aW9uKHQsZSl7aWYodCE9ZSl7Zm9yKHZhciBuPXQ7bjxlO24rKyl0aGlzLnRvcC5jaGlsZHJlbltuXS5kZXN0cm95KCk7dGhpcy50b3AuY2hpbGRyZW4uc3BsaWNlKHQsZS10KSx0aGlzLmNoYW5nZWQ9ITB9fSxpYy5wcm90b3R5cGUuZGVzdHJveVJlc3Q9ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3lCZXR3ZWVuKHRoaXMuaW5kZXgsdGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoKX0saWMucHJvdG90eXBlLnN5bmNUb01hcmtzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0wLG89dGhpcy5zdGFjay5sZW5ndGg+PjEsaT1NYXRoLm1pbihvLHQubGVuZ3RoKTt3aGlsZShyPGkmJihyPT1vLTE/dGhpcy50b3A6dGhpcy5zdGFja1tyKzE8PDFdKS5tYXRjaGVzTWFyayh0W3JdKSYmITEhPT10W3JdLnR5cGUuc3BlYy5zcGFubmluZylyKys7d2hpbGUocjxvKXRoaXMuZGVzdHJveVJlc3QoKSx0aGlzLnRvcC5kaXJ0eT16YSx0aGlzLmluZGV4PXRoaXMuc3RhY2sucG9wKCksdGhpcy50b3A9dGhpcy5zdGFjay5wb3AoKSxvLS07d2hpbGUobzx0Lmxlbmd0aCl7dGhpcy5zdGFjay5wdXNoKHRoaXMudG9wLHRoaXMuaW5kZXgrMSk7Zm9yKHZhciBzPS0xLGE9dGhpcy5pbmRleDthPE1hdGgubWluKHRoaXMuaW5kZXgrMyx0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGgpO2ErKylpZih0aGlzLnRvcC5jaGlsZHJlblthXS5tYXRjaGVzTWFyayh0W29dKSl7cz1hO2JyZWFrfWlmKHM+LTEpcz50aGlzLmluZGV4JiYodGhpcy5jaGFuZ2VkPSEwLHRoaXMuZGVzdHJveUJldHdlZW4odGhpcy5pbmRleCxzKSksdGhpcy50b3A9dGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleF07ZWxzZXt2YXIgYz1XYS5jcmVhdGUodGhpcy50b3AsdFtvXSxlLG4pO3RoaXMudG9wLmNoaWxkcmVuLnNwbGljZSh0aGlzLmluZGV4LDAsYyksdGhpcy50b3A9Yyx0aGlzLmNoYW5nZWQ9ITB9dGhpcy5pbmRleD0wLG8rK319LGljLnByb3RvdHlwZS5maW5kTm9kZU1hdGNoPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPS0xLGk9cjwwP3ZvaWQgMDp0aGlzLmdldFByZU1hdGNoKHIpLHM9dGhpcy50b3AuY2hpbGRyZW47aWYoaSYmaS5tYXRjaGVzTm9kZSh0LGUsbikpbz1zLmluZGV4T2YoaSk7ZWxzZSBmb3IodmFyIGE9dGhpcy5pbmRleCxjPU1hdGgubWluKHMubGVuZ3RoLGErNSk7YTxjO2ErKyl7dmFyIGw9c1thXTtpZihsLm1hdGNoZXNOb2RlKHQsZSxuKSYmdGhpcy5wcmVNYXRjaGVkLmluZGV4T2YobCk8MCl7bz1hO2JyZWFrfX1yZXR1cm4hKG88MCkmJih0aGlzLmRlc3Ryb3lCZXR3ZWVuKHRoaXMuaW5kZXgsbyksdGhpcy5pbmRleCsrLCEwKX0saWMucHJvdG90eXBlLnVwZGF0ZU5leHROb2RlPWZ1bmN0aW9uKHQsZSxuLHIsbyl7aWYodGhpcy5pbmRleD09dGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoKXJldHVybiExO3ZhciBpPXRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXhdO2lmKGkgaW5zdGFuY2VvZiBxYSl7dmFyIHM9dGhpcy5wcmVNYXRjaGVkLmluZGV4T2YoaSk7aWYocz4tMSYmcyt0aGlzLnByZU1hdGNoT2Zmc2V0IT1vKXJldHVybiExO3ZhciBhPWkuZG9tLGM9dGhpcy5sb2NrJiYoYT09dGhpcy5sb2NrfHwxPT1hLm5vZGVUeXBlJiZhLmNvbnRhaW5zKHRoaXMubG9jay5wYXJlbnROb2RlKSkmJiEodC5pc1RleHQmJmkubm9kZSYmaS5ub2RlLmlzVGV4dCYmaS5ub2RlRE9NLm5vZGVWYWx1ZT09dC50ZXh0JiZpLmRpcnR5IT1WYSYmcmMoZSxpLm91dGVyRGVjbykpO2lmKCFjJiZpLnVwZGF0ZSh0LGUsbixyKSlyZXR1cm4gaS5kb20hPWEmJih0aGlzLmNoYW5nZWQ9ITApLHRoaXMuaW5kZXgrKywhMH1yZXR1cm4hMX0saWMucHJvdG90eXBlLmFkZE5vZGU9ZnVuY3Rpb24odCxlLG4scixvKXt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCsrLDAscWEuY3JlYXRlKHRoaXMudG9wLHQsZSxuLHIsbykpLHRoaXMuY2hhbmdlZD0hMH0saWMucHJvdG90eXBlLnBsYWNlV2lkZ2V0PWZ1bmN0aW9uKHQsZSxuKXtpZih0aGlzLmluZGV4PHRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aCYmdGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleF0ubWF0Y2hlc1dpZGdldCh0KSl0aGlzLmluZGV4Kys7ZWxzZXt2YXIgcj1uZXcgTGEodGhpcy50b3AsdCxlLG4pO3RoaXMudG9wLmNoaWxkcmVuLnNwbGljZSh0aGlzLmluZGV4KyssMCxyKSx0aGlzLmNoYW5nZWQ9ITB9fSxpYy5wcm90b3R5cGUuYWRkVGV4dGJsb2NrSGFja3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRvcC5jaGlsZHJlblt0aGlzLmluZGV4LTFdO3doaWxlKHQgaW5zdGFuY2VvZiBXYSl0PXQuY2hpbGRyZW5bdC5jaGlsZHJlbi5sZW5ndGgtMV07aWYoIXR8fCEodCBpbnN0YW5jZW9mIEthKXx8L1xuJC8udGVzdCh0Lm5vZGUudGV4dCkpaWYodGhpcy5pbmRleDx0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGgmJnRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXhdLm1hdGNoZXNIYWNrKCkpdGhpcy5pbmRleCsrO2Vsc2V7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKTt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCsrLDAsbmV3IFVhKHRoaXMudG9wLCRhLGUsbnVsbCkpLHRoaXMuY2hhbmdlZD0hMH19O3ZhciBBYz1Xcy5zYWZhcml8fFdzLmNocm9tZSYmV3MuY2hyb21lX3ZlcnNpb248NjM7ZnVuY3Rpb24gRWModCxlKXt2YXIgbj10LmRvY1ZpZXcuZG9tRnJvbVBvcyhlKSxyPW4ubm9kZSxvPW4ub2Zmc2V0LGk9bzxyLmNoaWxkTm9kZXMubGVuZ3RoP3IuY2hpbGROb2Rlc1tvXTpudWxsLHM9bz9yLmNoaWxkTm9kZXNbby0xXTpudWxsO2lmKCghaXx8ImZhbHNlIj09aS5jb250ZW50RWRpdGFibGUpJiYoIXN8fCJmYWxzZSI9PXMuY29udGVudEVkaXRhYmxlKSl7aWYoaSlyZXR1cm4gaS5jb250ZW50RWRpdGFibGU9InRydWUiLGk7aWYocylyZXR1cm4gcy5jb250ZW50RWRpdGFibGU9InRydWUiLHN9fWZ1bmN0aW9uIFJjKHQpe3ZhciBlPXQuZG9tLm93bmVyRG9jdW1lbnQ7ZS5yZW1vdmVFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLHQuaGlkZVNlbGVjdGlvbkd1YXJkKTt2YXIgbj10LnJvb3QuZ2V0U2VsZWN0aW9uKCkscj1uLmFuY2hvck5vZGUsbz1uLmFuY2hvck9mZnNldDtlLmFkZEV2ZW50TGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsdC5oaWRlU2VsZWN0aW9uR3VhcmQ9ZnVuY3Rpb24oKXtuLmFuY2hvck5vZGU9PXImJm4uYW5jaG9yT2Zmc2V0PT1vfHwoZS5yZW1vdmVFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLHQuaGlkZVNlbGVjdGlvbkd1YXJkKSx0LmRvbS5jbGFzc0xpc3QucmVtb3ZlKCJQcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uIikpfSl9ZnVuY3Rpb24gX2ModCl7dmFyIGU9dC5yb290LmdldFNlbGVjdGlvbigpLG49ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSxyPXQuY3Vyc29yV3JhcHBlci5kb20sbz0iSU1HIj09ci5ub2RlTmFtZTtvP24uc2V0RW5kKHIucGFyZW50Tm9kZSxYcyhyKSsxKTpuLnNldEVuZChyLDApLG4uY29sbGFwc2UoITEpLGUucmVtb3ZlQWxsUmFuZ2VzKCksZS5hZGRSYW5nZShuKSwhbyYmIXQuc3RhdGUuc2VsZWN0aW9uLnZpc2libGUmJldzLmllJiZXcy5pZV92ZXJzaW9uPD0xMSYmKHIuZGlzYWJsZWQ9ITAsci5kaXNhYmxlZD0hMSl9ZnVuY3Rpb24gUGModCxlKXtpZihlIGluc3RhbmNlb2Ygc1siTm9kZVNlbGVjdGlvbiJdKXt2YXIgbj10LmRvY1ZpZXcuZGVzY0F0KGUuZnJvbSk7biE9dC5sYXN0U2VsZWN0ZWRWaWV3RGVzYyYmKHpjKHQpLG4mJm4uc2VsZWN0Tm9kZSgpLHQubGFzdFNlbGVjdGVkVmlld0Rlc2M9bil9ZWxzZSB6Yyh0KX1mdW5jdGlvbiB6Yyh0KXt0Lmxhc3RTZWxlY3RlZFZpZXdEZXNjJiYodC5sYXN0U2VsZWN0ZWRWaWV3RGVzYy5wYXJlbnQmJnQubGFzdFNlbGVjdGVkVmlld0Rlc2MuZGVzZWxlY3ROb2RlKCksdC5sYXN0U2VsZWN0ZWRWaWV3RGVzYz1udWxsKX1mdW5jdGlvbiBJYyh0LGUsbixyKXtyZXR1cm4gdC5zb21lUHJvcCgiY3JlYXRlU2VsZWN0aW9uQmV0d2VlbiIsKGZ1bmN0aW9uKHIpe3JldHVybiByKHQsZSxuKX0pKXx8c1siVGV4dFNlbGVjdGlvbiJdLmJldHdlZW4oZSxuLHIpfWZ1bmN0aW9uIEJjKHQpe3JldHVybighdC5lZGl0YWJsZXx8dC5yb290LmFjdGl2ZUVsZW1lbnQ9PXQuZG9tKSYmVmModCl9ZnVuY3Rpb24gVmModCl7dmFyIGU9dC5yb290LmdldFNlbGVjdGlvbigpO2lmKCFlLmFuY2hvck5vZGUpcmV0dXJuITE7dHJ5e3JldHVybiB0LmRvbS5jb250YWlucygzPT1lLmFuY2hvck5vZGUubm9kZVR5cGU/ZS5hbmNob3JOb2RlLnBhcmVudE5vZGU6ZS5hbmNob3JOb2RlKSYmKHQuZWRpdGFibGV8fHQuZG9tLmNvbnRhaW5zKDM9PWUuZm9jdXNOb2RlLm5vZGVUeXBlP2UuZm9jdXNOb2RlLnBhcmVudE5vZGU6ZS5mb2N1c05vZGUpKX1jYXRjaChuKXtyZXR1cm4hMX19ZnVuY3Rpb24gRmModCl7dmFyIGU9dC5kb2NWaWV3LmRvbUZyb21Qb3ModC5zdGF0ZS5zZWxlY3Rpb24uYW5jaG9yKSxuPXQucm9vdC5nZXRTZWxlY3Rpb24oKTtyZXR1cm4gUXMoZS5ub2RlLGUub2Zmc2V0LG4uYW5jaG9yTm9kZSxuLmFuY2hvck9mZnNldCl9ZnVuY3Rpb24gamModCxlLG4pe3ZhciByPXQuZG9jVmlldy5wYXJzZVJhbmdlKGUsbiksbz1yLm5vZGUsaT1yLmZyb21PZmZzZXQscz1yLnRvT2Zmc2V0LGM9ci5mcm9tLGw9ci50byx1PXQucm9vdC5nZXRTZWxlY3Rpb24oKSxwPW51bGwsZj11LmFuY2hvck5vZGU7aWYoZiYmdC5kb20uY29udGFpbnMoMT09Zi5ub2RlVHlwZT9mOmYucGFyZW50Tm9kZSkmJihwPVt7bm9kZTpmLG9mZnNldDp1LmFuY2hvck9mZnNldH1dLG9hKHUpfHxwLnB1c2goe25vZGU6dS5mb2N1c05vZGUsb2Zmc2V0OnUuZm9jdXNPZmZzZXR9KSksV3MuY2hyb21lJiY4PT09dC5sYXN0S2V5Q29kZSlmb3IodmFyIGQ9cztkPmk7ZC0tKXt2YXIgaD1vLmNoaWxkTm9kZXNbZC0xXSx2PWgucG1WaWV3RGVzYztpZigiQlIiPT1oLm5vZGVUeXBlJiYhdil7cz1kO2JyZWFrfWlmKCF2fHx2LnNpemUpYnJlYWt9dmFyIG09dC5zdGF0ZS5kb2MsZz10LnNvbWVQcm9wKCJkb21QYXJzZXIiKXx8YVsiRE9NUGFyc2VyIl0uZnJvbVNjaGVtYSh0LnN0YXRlLnNjaGVtYSkseT1tLnJlc29sdmUoYyksdz1udWxsLGI9Zy5wYXJzZShvLHt0b3BOb2RlOnkucGFyZW50LHRvcE1hdGNoOnkucGFyZW50LmNvbnRlbnRNYXRjaEF0KHkuaW5kZXgoKSksdG9wT3BlbjohMCxmcm9tOmksdG86cyxwcmVzZXJ2ZVdoaXRlc3BhY2U6IXkucGFyZW50LnR5cGUuc3BlYy5jb2RlfHwiZnVsbCIsZWRpdGFibGVDb250ZW50OiEwLGZpbmRQb3NpdGlvbnM6cCxydWxlRnJvbU5vZGU6JGMoZyx5KSxjb250ZXh0Onl9KTtpZihwJiZudWxsIT1wWzBdLnBvcyl7dmFyIFM9cFswXS5wb3Msaz1wWzFdJiZwWzFdLnBvcztudWxsPT1rJiYoaz1TKSx3PXthbmNob3I6UytjLGhlYWQ6aytjfX1yZXR1cm57ZG9jOmIsc2VsOncsZnJvbTpjLHRvOmx9fWZ1bmN0aW9uICRjKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciByPW4ucG1WaWV3RGVzYztpZihyKXJldHVybiByLnBhcnNlUnVsZSgpO2lmKCJCUiI9PW4ubm9kZU5hbWUmJm4ucGFyZW50Tm9kZSl7aWYoV3Muc2FmYXJpJiYvXih1bHxvbCkkL2kudGVzdChuLnBhcmVudE5vZGUubm9kZU5hbWUpKXJldHVybiB0Lm1hdGNoVGFnKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIiksZSk7aWYobi5wYXJlbnROb2RlLmxhc3RDaGlsZD09bnx8V3Muc2FmYXJpJiYvXih0cnx0YWJsZSkkL2kudGVzdChuLnBhcmVudE5vZGUubm9kZU5hbWUpKXJldHVybntpZ25vcmU6ITB9fWVsc2UgaWYoIklNRyI9PW4ubm9kZU5hbWUmJm4uZ2V0QXR0cmlidXRlKCJtYXJrLXBsYWNlaG9sZGVyIikpcmV0dXJue2lnbm9yZTohMH19fWZ1bmN0aW9uIExjKHQsZSxuLHIpe2lmKGU8MCl7dmFyIG89dC5sYXN0U2VsZWN0aW9uVGltZT5EYXRlLm5vdygpLTUwP3QubGFzdFNlbGVjdGlvbk9yaWdpbjpudWxsLGk9VGModCxvKTtpZighdC5zdGF0ZS5zZWxlY3Rpb24uZXEoaSkpe3ZhciBhPXQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKGkpOyJwb2ludGVyIj09bz9hLnNldE1ldGEoInBvaW50ZXIiLCEwKToia2V5Ij09byYmYS5zY3JvbGxJbnRvVmlldygpLHQuZGlzcGF0Y2goYSl9fWVsc2V7dmFyIGM9dC5zdGF0ZS5kb2MucmVzb2x2ZShlKSxsPWMuc2hhcmVkRGVwdGgobik7ZT1jLmJlZm9yZShsKzEpLG49dC5zdGF0ZS5kb2MucmVzb2x2ZShuKS5hZnRlcihsKzEpO3ZhciB1LHAsZj10LnN0YXRlLnNlbGVjdGlvbixkPWpjKHQsZSxuKSxoPXQuc3RhdGUuZG9jLHY9aC5zbGljZShkLmZyb20sZC50byk7OD09PXQubGFzdEtleUNvZGUmJkRhdGUubm93KCktMTAwPHQubGFzdEtleUNvZGVUaW1lPyh1PXQuc3RhdGUuc2VsZWN0aW9uLnRvLHA9ImVuZCIpOih1PXQuc3RhdGUuc2VsZWN0aW9uLmZyb20scD0ic3RhcnQiKSx0Lmxhc3RLZXlDb2RlPW51bGw7dmFyIG09S2Modi5jb250ZW50LGQuZG9jLmNvbnRlbnQsZC5mcm9tLHUscCk7aWYoIW0pe2lmKCEociYmZiBpbnN0YW5jZW9mIHNbIlRleHRTZWxlY3Rpb24iXSYmIWYuZW1wdHkmJmYuJGhlYWQuc2FtZVBhcmVudChmLiRhbmNob3IpKXx8dC5jb21wb3Npbmd8fGQuc2VsJiZkLnNlbC5hbmNob3IhPWQuc2VsLmhlYWQpe2lmKGQuc2VsKXt2YXIgZz1IYyh0LHQuc3RhdGUuZG9jLGQuc2VsKTtnJiYhZy5lcSh0LnN0YXRlLnNlbGVjdGlvbikmJnQuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oZykpfXJldHVybn1tPXtzdGFydDpmLmZyb20sZW5kQTpmLnRvLGVuZEI6Zi50b319dC5kb21DaGFuZ2VDb3VudCsrLHQuc3RhdGUuc2VsZWN0aW9uLmZyb208dC5zdGF0ZS5zZWxlY3Rpb24udG8mJm0uc3RhcnQ9PW0uZW5kQiYmdC5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBzWyJUZXh0U2VsZWN0aW9uIl0mJihtLnN0YXJ0PnQuc3RhdGUuc2VsZWN0aW9uLmZyb20mJm0uc3RhcnQ8PXQuc3RhdGUuc2VsZWN0aW9uLmZyb20rMj9tLnN0YXJ0PXQuc3RhdGUuc2VsZWN0aW9uLmZyb206bS5lbmRBPHQuc3RhdGUuc2VsZWN0aW9uLnRvJiZtLmVuZEE+PXQuc3RhdGUuc2VsZWN0aW9uLnRvLTImJihtLmVuZEIrPXQuc3RhdGUuc2VsZWN0aW9uLnRvLW0uZW5kQSxtLmVuZEE9dC5zdGF0ZS5zZWxlY3Rpb24udG8pKSxXcy5pZSYmV3MuaWVfdmVyc2lvbjw9MTEmJm0uZW5kQj09bS5zdGFydCsxJiZtLmVuZEE9PW0uc3RhcnQmJm0uc3RhcnQ+ZC5mcm9tJiYiIMKgIj09ZC5kb2MudGV4dEJldHdlZW4obS5zdGFydC1kLmZyb20tMSxtLnN0YXJ0LWQuZnJvbSsxKSYmKG0uc3RhcnQtLSxtLmVuZEEtLSxtLmVuZEItLSk7dmFyIHksdz1kLmRvYy5yZXNvbHZlTm9DYWNoZShtLnN0YXJ0LWQuZnJvbSksYj1kLmRvYy5yZXNvbHZlTm9DYWNoZShtLmVuZEItZC5mcm9tKTtpZighKCF3LnNhbWVQYXJlbnQoYikmJncucG9zPGQuZG9jLmNvbnRlbnQuc2l6ZSYmKHk9c1siU2VsZWN0aW9uIl0uZmluZEZyb20oZC5kb2MucmVzb2x2ZSh3LnBvcysxKSwxLCEwKSkmJnkuaGVhZD09Yi5wb3MmJnQuc29tZVByb3AoImhhbmRsZUtleURvd24iLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0LGlhKDEzLCJFbnRlciIpKX0pKSkpaWYodC5zdGF0ZS5zZWxlY3Rpb24uYW5jaG9yPm0uc3RhcnQmJnFjKGgsbS5zdGFydCxtLmVuZEEsdyxiKSYmdC5zb21lUHJvcCgiaGFuZGxlS2V5RG93biIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQsaWEoOCwiQmFja3NwYWNlIikpfSkpKVdzLmFuZHJvaWQmJldzLmNocm9tZSYmdC5kb21PYnNlcnZlci5zdXBwcmVzc1NlbGVjdGlvblVwZGF0ZXMoKTtlbHNle3ZhciBTLGsseCxDLE89bS5zdGFydCxNPW0uZW5kQTtpZih3LnNhbWVQYXJlbnQoYikmJncucGFyZW50LmlubGluZUNvbnRlbnQpaWYody5wb3M9PWIucG9zKVdzLmllJiZXcy5pZV92ZXJzaW9uPD0xMSYmMD09dy5wYXJlbnRPZmZzZXQmJih0LmRvbU9ic2VydmVyLnN1cHByZXNzU2VsZWN0aW9uVXBkYXRlcygpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIERjKHQpfSksMjApKSxTPXQuc3RhdGUudHIuZGVsZXRlKE8sTSksaz1oLnJlc29sdmUobS5zdGFydCkubWFya3NBY3Jvc3MoaC5yZXNvbHZlKG0uZW5kQSkpO2Vsc2UgaWYobS5lbmRBPT1tLmVuZEImJihDPWgucmVzb2x2ZShtLnN0YXJ0KSkmJih4PVdjKHcucGFyZW50LmNvbnRlbnQuY3V0KHcucGFyZW50T2Zmc2V0LGIucGFyZW50T2Zmc2V0KSxDLnBhcmVudC5jb250ZW50LmN1dChDLnBhcmVudE9mZnNldCxtLmVuZEEtQy5zdGFydCgpKSkpKVM9dC5zdGF0ZS50ciwiYWRkIj09eC50eXBlP1MuYWRkTWFyayhPLE0seC5tYXJrKTpTLnJlbW92ZU1hcmsoTyxNLHgubWFyayk7ZWxzZSBpZih3LnBhcmVudC5jaGlsZCh3LmluZGV4KCkpLmlzVGV4dCYmdy5pbmRleCgpPT1iLmluZGV4KCktKGIudGV4dE9mZnNldD8wOjEpKXt2YXIgTj13LnBhcmVudC50ZXh0QmV0d2Vlbih3LnBhcmVudE9mZnNldCxiLnBhcmVudE9mZnNldCk7aWYodC5zb21lUHJvcCgiaGFuZGxlVGV4dElucHV0IiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCxPLE0sTil9KSkpcmV0dXJuO1M9dC5zdGF0ZS50ci5pbnNlcnRUZXh0KE4sTyxNKX1pZihTfHwoUz10LnN0YXRlLnRyLnJlcGxhY2UoTyxNLGQuZG9jLnNsaWNlKG0uc3RhcnQtZC5mcm9tLG0uZW5kQi1kLmZyb20pKSksZC5zZWwpe3ZhciBUPUhjKHQsUy5kb2MsZC5zZWwpO1QmJiEoV3MuY2hyb21lJiZXcy5hbmRyb2lkJiZ0LmNvbXBvc2luZyYmVC5lbXB0eSYmVC5oZWFkPT1PfHxXcy5pZSYmVC5lbXB0eSYmVC5oZWFkPT1PKSYmUy5zZXRTZWxlY3Rpb24oVCl9ayYmUy5lbnN1cmVNYXJrcyhrKSx0LmRpc3BhdGNoKFMuc2Nyb2xsSW50b1ZpZXcoKSl9fX1mdW5jdGlvbiBIYyh0LGUsbil7cmV0dXJuIE1hdGgubWF4KG4uYW5jaG9yLG4uaGVhZCk+ZS5jb250ZW50LnNpemU/bnVsbDpJYyh0LGUucmVzb2x2ZShuLmFuY2hvciksZS5yZXNvbHZlKG4uaGVhZCkpfWZ1bmN0aW9uIFdjKHQsZSl7Zm9yKHZhciBuLHIsbyxpPXQuZmlyc3RDaGlsZC5tYXJrcyxzPWUuZmlyc3RDaGlsZC5tYXJrcyxjPWksbD1zLHU9MDt1PHMubGVuZ3RoO3UrKyljPXNbdV0ucmVtb3ZlRnJvbVNldChjKTtmb3IodmFyIHA9MDtwPGkubGVuZ3RoO3ArKylsPWlbcF0ucmVtb3ZlRnJvbVNldChsKTtpZigxPT1jLmxlbmd0aCYmMD09bC5sZW5ndGgpcj1jWzBdLG49ImFkZCIsbz1mdW5jdGlvbih0KXtyZXR1cm4gdC5tYXJrKHIuYWRkVG9TZXQodC5tYXJrcykpfTtlbHNle2lmKDAhPWMubGVuZ3RofHwxIT1sLmxlbmd0aClyZXR1cm4gbnVsbDtyPWxbMF0sbj0icmVtb3ZlIixvPWZ1bmN0aW9uKHQpe3JldHVybiB0Lm1hcmsoci5yZW1vdmVGcm9tU2V0KHQubWFya3MpKX19Zm9yKHZhciBmPVtdLGQ9MDtkPGUuY2hpbGRDb3VudDtkKyspZi5wdXNoKG8oZS5jaGlsZChkKSkpO2lmKGFbIkZyYWdtZW50Il0uZnJvbShmKS5lcSh0KSlyZXR1cm57bWFyazpyLHR5cGU6bn19ZnVuY3Rpb24gcWModCxlLG4scixvKXtpZighci5wYXJlbnQuaXNUZXh0YmxvY2t8fG4tZTw9by5wb3Mtci5wb3N8fEpjKHIsITAsITEpPG8ucG9zKXJldHVybiExO3ZhciBpPXQucmVzb2x2ZShlKTtpZihpLnBhcmVudE9mZnNldDxpLnBhcmVudC5jb250ZW50LnNpemV8fCFpLnBhcmVudC5pc1RleHRibG9jaylyZXR1cm4hMTt2YXIgcz10LnJlc29sdmUoSmMoaSwhMCwhMCkpO3JldHVybiEoIXMucGFyZW50LmlzVGV4dGJsb2NrfHxzLnBvcz5ufHxKYyhzLCEwLCExKTxuKSYmci5wYXJlbnQuY29udGVudC5jdXQoci5wYXJlbnRPZmZzZXQpLmVxKHMucGFyZW50LmNvbnRlbnQpfWZ1bmN0aW9uIEpjKHQsZSxuKXt2YXIgcj10LmRlcHRoLG89ZT90LmVuZCgpOnQucG9zO3doaWxlKHI+MCYmKGV8fHQuaW5kZXhBZnRlcihyKT09dC5ub2RlKHIpLmNoaWxkQ291bnQpKXItLSxvKyssZT0hMTtpZihuKXt2YXIgaT10Lm5vZGUocikubWF5YmVDaGlsZCh0LmluZGV4QWZ0ZXIocikpO3doaWxlKGkmJiFpLmlzTGVhZilpPWkuZmlyc3RDaGlsZCxvKyt9cmV0dXJuIG99ZnVuY3Rpb24gS2ModCxlLG4scixvKXt2YXIgaT10LmZpbmREaWZmU3RhcnQoZSxuKTtpZihudWxsPT1pKXJldHVybiBudWxsO3ZhciBzPXQuZmluZERpZmZFbmQoZSxuK3Quc2l6ZSxuK2Uuc2l6ZSksYT1zLmEsYz1zLmI7aWYoImVuZCI9PW8pe3ZhciBsPU1hdGgubWF4KDAsaS1NYXRoLm1pbihhLGMpKTtyLT1hK2wtaX1pZihhPGkmJnQuc2l6ZTxlLnNpemUpe3ZhciB1PXI8PWkmJnI+PWE/aS1yOjA7aS09dSxjPWkrKGMtYSksYT1pfWVsc2UgaWYoYzxpKXt2YXIgcD1yPD1pJiZyPj1jP2ktcjowO2ktPXAsYT1pKyhhLWMpLGM9aX1yZXR1cm57c3RhcnQ6aSxlbmRBOmEsZW5kQjpjfX1mdW5jdGlvbiBVYyh0LGUpe3ZhciBuPVtdLHI9ZS5jb250ZW50LG89ZS5vcGVuU3RhcnQsaT1lLm9wZW5FbmQ7d2hpbGUobz4xJiZpPjEmJjE9PXIuY2hpbGRDb3VudCYmMT09ci5maXJzdENoaWxkLmNoaWxkQ291bnQpe28tLSxpLS07dmFyIHM9ci5maXJzdENoaWxkO24ucHVzaChzLnR5cGUubmFtZSxzLnR5cGUuaGFzUmVxdWlyZWRBdHRycygpP3MuYXR0cnM6bnVsbCkscj1zLmNvbnRlbnR9dmFyIGM9dC5zb21lUHJvcCgiY2xpcGJvYXJkU2VyaWFsaXplciIpfHxhWyJET01TZXJpYWxpemVyIl0uZnJvbVNjaGVtYSh0LnN0YXRlLnNjaGVtYSksbD1vbCgpLHU9bC5jcmVhdGVFbGVtZW50KCJkaXYiKTt1LmFwcGVuZENoaWxkKGMuc2VyaWFsaXplRnJhZ21lbnQocix7ZG9jdW1lbnQ6bH0pKTt2YXIgcCxmPXUuZmlyc3RDaGlsZDt3aGlsZShmJiYxPT1mLm5vZGVUeXBlJiYocD1ubFtmLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSl7Zm9yKHZhciBkPXAubGVuZ3RoLTE7ZD49MDtkLS0pe3ZhciBoPWwuY3JlYXRlRWxlbWVudChwW2RdKTt3aGlsZSh1LmZpcnN0Q2hpbGQpaC5hcHBlbmRDaGlsZCh1LmZpcnN0Q2hpbGQpO3UuYXBwZW5kQ2hpbGQoaCl9Zj11LmZpcnN0Q2hpbGR9ZiYmMT09Zi5ub2RlVHlwZSYmZi5zZXRBdHRyaWJ1dGUoImRhdGEtcG0tc2xpY2UiLG8rIiAiK2krIiAiK0pTT04uc3RyaW5naWZ5KG4pKTt2YXIgdj10LnNvbWVQcm9wKCJjbGlwYm9hcmRUZXh0U2VyaWFsaXplciIsKGZ1bmN0aW9uKHQpe3JldHVybiB0KGUpfSkpfHxlLmNvbnRlbnQudGV4dEJldHdlZW4oMCxlLmNvbnRlbnQuc2l6ZSwiXG5cbiIpO3JldHVybntkb206dSx0ZXh0OnZ9fWZ1bmN0aW9uIEdjKHQsZSxuLHIsbyl7dmFyIGkscyxjPW8ucGFyZW50LnR5cGUuc3BlYy5jb2RlO2lmKCFuJiYhZSlyZXR1cm4gbnVsbDt2YXIgbD1lJiYocnx8Y3x8IW4pO2lmKGwpe2lmKHQuc29tZVByb3AoInRyYW5zZm9ybVBhc3RlZFRleHQiLChmdW5jdGlvbih0KXtlPXQoZSl9KSksYylyZXR1cm4gbmV3IGFbIlNsaWNlIl0oYVsiRnJhZ21lbnQiXS5mcm9tKHQuc3RhdGUuc2NoZW1hLnRleHQoZSkpLDAsMCk7dmFyIHU9dC5zb21lUHJvcCgiY2xpcGJvYXJkVGV4dFBhcnNlciIsKGZ1bmN0aW9uKHQpe3JldHVybiB0KGUsbyl9KSk7dT9zPXU6KGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksZS50cmltKCkuc3BsaXQoLyg/OlxyXG4/fFxuKSsvKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKSkudGV4dENvbnRlbnQ9dH0pKSl9ZWxzZSB0LnNvbWVQcm9wKCJ0cmFuc2Zvcm1QYXN0ZWRIVE1MIiwoZnVuY3Rpb24odCl7bj10KG4pfSkpLGk9aWwobik7dmFyIHA9aSYmaS5xdWVyeVNlbGVjdG9yKCJbZGF0YS1wbS1zbGljZV0iKSxmPXAmJi9eKFxkKykgKFxkKykgKC4qKS8uZXhlYyhwLmdldEF0dHJpYnV0ZSgiZGF0YS1wbS1zbGljZSIpKTtpZighcyl7dmFyIGQ9dC5zb21lUHJvcCgiY2xpcGJvYXJkUGFyc2VyIil8fHQuc29tZVByb3AoImRvbVBhcnNlciIpfHxhWyJET01QYXJzZXIiXS5mcm9tU2NoZW1hKHQuc3RhdGUuc2NoZW1hKTtzPWQucGFyc2VTbGljZShpLHtwcmVzZXJ2ZVdoaXRlc3BhY2U6ISghbCYmIWYpLGNvbnRleHQ6b30pfXJldHVybiBzPWY/c2woZWwocywrZlsxXSwrZlsyXSksZlszXSk6YVsiU2xpY2UiXS5tYXhPcGVuKFhjKHMuY29udGVudCxvKSwhMSksdC5zb21lUHJvcCgidHJhbnNmb3JtUGFzdGVkIiwoZnVuY3Rpb24odCl7cz10KHMpfSkpLHN9ZnVuY3Rpb24gWGModCxlKXtpZih0LmNoaWxkQ291bnQ8MilyZXR1cm4gdDtmb3IodmFyIG49ZnVuY3Rpb24obil7dmFyIHI9ZS5ub2RlKG4pLG89ci5jb250ZW50TWF0Y2hBdChlLmluZGV4KG4pKSxpPXZvaWQgMCxzPVtdO2lmKHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYocyl7dmFyIGUsbj1vLmZpbmRXcmFwcGluZyh0LnR5cGUpO2lmKCFuKXJldHVybiBzPW51bGw7aWYoZT1zLmxlbmd0aCYmaS5sZW5ndGgmJlpjKG4saSx0LHNbcy5sZW5ndGgtMV0sMCkpc1tzLmxlbmd0aC0xXT1lO2Vsc2V7cy5sZW5ndGgmJihzW3MubGVuZ3RoLTFdPVFjKHNbcy5sZW5ndGgtMV0saS5sZW5ndGgpKTt2YXIgcj1ZYyh0LG4pO3MucHVzaChyKSxvPW8ubWF0Y2hUeXBlKHIudHlwZSxyLmF0dHJzKSxpPW59fX0pKSxzKXJldHVybnt2OmFbIkZyYWdtZW50Il0uZnJvbShzKX19LHI9ZS5kZXB0aDtyPj0wO3ItLSl7dmFyIG89bihyKTtpZihvKXJldHVybiBvLnZ9cmV0dXJuIHR9ZnVuY3Rpb24gWWModCxlLG4pe3ZvaWQgMD09PW4mJihuPTApO2Zvcih2YXIgcj1lLmxlbmd0aC0xO3I+PW47ci0tKXQ9ZVtyXS5jcmVhdGUobnVsbCxhWyJGcmFnbWVudCJdLmZyb20odCkpO3JldHVybiB0fWZ1bmN0aW9uIFpjKHQsZSxuLHIsbyl7aWYobzx0Lmxlbmd0aCYmbzxlLmxlbmd0aCYmdFtvXT09ZVtvXSl7dmFyIGk9WmModCxlLG4sci5sYXN0Q2hpbGQsbysxKTtpZihpKXJldHVybiByLmNvcHkoci5jb250ZW50LnJlcGxhY2VDaGlsZChyLmNoaWxkQ291bnQtMSxpKSk7dmFyIHM9ci5jb250ZW50TWF0Y2hBdChyLmNoaWxkQ291bnQpO2lmKHMubWF0Y2hUeXBlKG89PXQubGVuZ3RoLTE/bi50eXBlOnRbbysxXSkpcmV0dXJuIHIuY29weShyLmNvbnRlbnQuYXBwZW5kKGFbIkZyYWdtZW50Il0uZnJvbShZYyhuLHQsbysxKSkpKX19ZnVuY3Rpb24gUWModCxlKXtpZigwPT1lKXJldHVybiB0O3ZhciBuPXQuY29udGVudC5yZXBsYWNlQ2hpbGQodC5jaGlsZENvdW50LTEsUWModC5sYXN0Q2hpbGQsZS0xKSkscj10LmNvbnRlbnRNYXRjaEF0KHQuY2hpbGRDb3VudCkuZmlsbEJlZm9yZShhWyJGcmFnbWVudCJdLmVtcHR5LCEwKTtyZXR1cm4gdC5jb3B5KG4uYXBwZW5kKHIpKX1mdW5jdGlvbiB0bCh0LGUsbixyLG8saSl7dmFyIHM9ZTwwP3QuZmlyc3RDaGlsZDp0Lmxhc3RDaGlsZCxjPXMuY29udGVudDtyZXR1cm4gbzxyLTEmJihjPXRsKGMsZSxuLHIsbysxLGkpKSxvPj1uJiYoYz1lPDA/cy5jb250ZW50TWF0Y2hBdCgwKS5maWxsQmVmb3JlKGMsdC5jaGlsZENvdW50PjF8fGk8PW8pLmFwcGVuZChjKTpjLmFwcGVuZChzLmNvbnRlbnRNYXRjaEF0KHMuY2hpbGRDb3VudCkuZmlsbEJlZm9yZShhWyJGcmFnbWVudCJdLmVtcHR5LCEwKSkpLHQucmVwbGFjZUNoaWxkKGU8MD8wOnQuY2hpbGRDb3VudC0xLHMuY29weShjKSl9ZnVuY3Rpb24gZWwodCxlLG4pe3JldHVybiBlPHQub3BlblN0YXJ0JiYodD1uZXcgYVsiU2xpY2UiXSh0bCh0LmNvbnRlbnQsLTEsZSx0Lm9wZW5TdGFydCwwLHQub3BlbkVuZCksZSx0Lm9wZW5FbmQpKSxuPHQub3BlbkVuZCYmKHQ9bmV3IGFbIlNsaWNlIl0odGwodC5jb250ZW50LDEsbix0Lm9wZW5FbmQsMCwwKSx0Lm9wZW5TdGFydCxuKSksdH12YXIgbmw9e3RoZWFkOlsidGFibGUiXSxjb2xncm91cDpbInRhYmxlIl0sY29sOlsidGFibGUiLCJjb2xncm91cCJdLHRyOlsidGFibGUiLCJ0Ym9keSJdLHRkOlsidGFibGUiLCJ0Ym9keSIsInRyIl0sdGg6WyJ0YWJsZSIsInRib2R5IiwidHIiXX0scmw9bnVsbDtmdW5jdGlvbiBvbCgpe3JldHVybiBybHx8KHJsPWRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgidGl0bGUiKSl9ZnVuY3Rpb24gaWwodCl7dmFyIGU9Lyhccyo8bWV0YSBbXj5dKj4pKi8uZXhlYyh0KTtlJiYodD10LnNsaWNlKGVbMF0ubGVuZ3RoKSk7dmFyIG4scj1vbCgpLmNyZWF0ZUVsZW1lbnQoImRpdiIpLG89Lyg/OjxtZXRhIFtePl0qPikqPChbYS16XVtePlxzXSspL2kuZXhlYyh0KSxpPTA7KG49byYmbmxbb1sxXS50b0xvd2VyQ2FzZSgpXSkmJih0PW4ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4iPCIrdCsiPiJ9KSkuam9pbigiIikrdCtuLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIjwvIit0KyI+In0pKS5yZXZlcnNlKCkuam9pbigiIiksaT1uLmxlbmd0aCksci5pbm5lckhUTUw9dDtmb3IodmFyIHM9MDtzPGk7cysrKXI9ci5maXJzdENoaWxkO3JldHVybiByfWZ1bmN0aW9uIHNsKHQsZSl7aWYoIXQuc2l6ZSlyZXR1cm4gdDt2YXIgbixyPXQuY29udGVudC5maXJzdENoaWxkLnR5cGUuc2NoZW1hO3RyeXtuPUpTT04ucGFyc2UoZSl9Y2F0Y2godSl7cmV0dXJuIHR9Zm9yKHZhciBvPXQuY29udGVudCxpPXQub3BlblN0YXJ0LHM9dC5vcGVuRW5kLGM9bi5sZW5ndGgtMjtjPj0wO2MtPTIpe3ZhciBsPXIubm9kZXNbbltjXV07aWYoIWx8fGwuaGFzUmVxdWlyZWRBdHRycygpKWJyZWFrO289YVsiRnJhZ21lbnQiXS5mcm9tKGwuY3JlYXRlKG5bYysxXSxvKSksaSsrLHMrK31yZXR1cm4gbmV3IGFbIlNsaWNlIl0obyxpLHMpfXZhciBhbD17Y2hpbGRMaXN0OiEwLGNoYXJhY3RlckRhdGE6ITAsY2hhcmFjdGVyRGF0YU9sZFZhbHVlOiEwLGF0dHJpYnV0ZXM6ITAsYXR0cmlidXRlT2xkVmFsdWU6ITAsc3VidHJlZTohMH0sY2w9V3MuaWUmJldzLmllX3ZlcnNpb248PTExLGxsPWZ1bmN0aW9uKCl7dGhpcy5hbmNob3JOb2RlPXRoaXMuYW5jaG9yT2Zmc2V0PXRoaXMuZm9jdXNOb2RlPXRoaXMuZm9jdXNPZmZzZXQ9bnVsbH07bGwucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt0aGlzLmFuY2hvck5vZGU9dC5hbmNob3JOb2RlLHRoaXMuYW5jaG9yT2Zmc2V0PXQuYW5jaG9yT2Zmc2V0LHRoaXMuZm9jdXNOb2RlPXQuZm9jdXNOb2RlLHRoaXMuZm9jdXNPZmZzZXQ9dC5mb2N1c09mZnNldH0sbGwucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0LmFuY2hvck5vZGU9PXRoaXMuYW5jaG9yTm9kZSYmdC5hbmNob3JPZmZzZXQ9PXRoaXMuYW5jaG9yT2Zmc2V0JiZ0LmZvY3VzTm9kZT09dGhpcy5mb2N1c05vZGUmJnQuZm9jdXNPZmZzZXQ9PXRoaXMuZm9jdXNPZmZzZXR9O3ZhciB1bD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy52aWV3PXQsdGhpcy5oYW5kbGVET01DaGFuZ2U9ZSx0aGlzLnF1ZXVlPVtdLHRoaXMuZmx1c2hpbmdTb29uPSExLHRoaXMub2JzZXJ2ZXI9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXImJm5ldyB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcigoZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspbi5xdWV1ZS5wdXNoKHRbZV0pO1dzLmllJiZXcy5pZV92ZXJzaW9uPD0xMSYmdC5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4iY2hpbGRMaXN0Ij09dC50eXBlJiZ0LnJlbW92ZWROb2Rlcy5sZW5ndGh8fCJjaGFyYWN0ZXJEYXRhIj09dC50eXBlJiZ0Lm9sZFZhbHVlLmxlbmd0aD50LnRhcmdldC5ub2RlVmFsdWUubGVuZ3RofSkpP24uZmx1c2hTb29uKCk6bi5mbHVzaCgpfSkpLHRoaXMuY3VycmVudFNlbGVjdGlvbj1uZXcgbGwsY2wmJih0aGlzLm9uQ2hhckRhdGE9ZnVuY3Rpb24odCl7bi5xdWV1ZS5wdXNoKHt0YXJnZXQ6dC50YXJnZXQsdHlwZToiY2hhcmFjdGVyRGF0YSIsb2xkVmFsdWU6dC5wcmV2VmFsdWV9KSxuLmZsdXNoU29vbigpfSksdGhpcy5vblNlbGVjdGlvbkNoYW5nZT10aGlzLm9uU2VsZWN0aW9uQ2hhbmdlLmJpbmQodGhpcyksdGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXM9ITF9O3VsLnByb3RvdHlwZS5mbHVzaFNvb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZmx1c2hpbmdTb29ufHwodGhpcy5mbHVzaGluZ1Nvb249ITAsd2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5mbHVzaGluZ1Nvb249ITEsdC5mbHVzaCgpfSksMjApKX0sdWwucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5vYnNlcnZlciYmdGhpcy5vYnNlcnZlci5vYnNlcnZlKHRoaXMudmlldy5kb20sYWwpLGNsJiZ0aGlzLnZpZXcuZG9tLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcy5vbkNoYXJEYXRhKSx0aGlzLmNvbm5lY3RTZWxlY3Rpb24oKX0sdWwucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMub2JzZXJ2ZXIpe3ZhciBlPXRoaXMub2JzZXJ2ZXIudGFrZVJlY29yZHMoKTtpZihlLmxlbmd0aCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdGhpcy5xdWV1ZS5wdXNoKGVbbl0pO3dpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0LmZsdXNoKCl9KSwyMCl9dGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCl9Y2wmJnRoaXMudmlldy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIix0aGlzLm9uQ2hhckRhdGEpLHRoaXMuZGlzY29ubmVjdFNlbGVjdGlvbigpfSx1bC5wcm90b3R5cGUuY29ubmVjdFNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMudmlldy5kb20ub3duZXJEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLHRoaXMub25TZWxlY3Rpb25DaGFuZ2UpfSx1bC5wcm90b3R5cGUuZGlzY29ubmVjdFNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMudmlldy5kb20ub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLHRoaXMub25TZWxlY3Rpb25DaGFuZ2UpfSx1bC5wcm90b3R5cGUuc3VwcHJlc3NTZWxlY3Rpb25VcGRhdGVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcz0hMCxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0LnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcz0hMX0pLDUwKX0sdWwucHJvdG90eXBlLm9uU2VsZWN0aW9uQ2hhbmdlPWZ1bmN0aW9uKCl7aWYoQmModGhpcy52aWV3KSl7aWYodGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMpcmV0dXJuIERjKHRoaXMudmlldyk7aWYoV3MuaWUmJldzLmllX3ZlcnNpb248PTExJiYhdGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbi5lbXB0eSl7dmFyIHQ9dGhpcy52aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKCk7aWYodC5mb2N1c05vZGUmJlFzKHQuZm9jdXNOb2RlLHQuZm9jdXNPZmZzZXQsdC5hbmNob3JOb2RlLHQuYW5jaG9yT2Zmc2V0KSlyZXR1cm4gdGhpcy5mbHVzaFNvb24oKX10aGlzLmZsdXNoKCl9fSx1bC5wcm90b3R5cGUuc2V0Q3VyU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50U2VsZWN0aW9uLnNldCh0aGlzLnZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKSl9LHVsLnByb3RvdHlwZS5pZ25vcmVTZWxlY3Rpb25DaGFuZ2U9ZnVuY3Rpb24odCl7aWYoMD09dC5yYW5nZUNvdW50KXJldHVybiEwO3ZhciBlPXQuZ2V0UmFuZ2VBdCgwKS5jb21tb25BbmNlc3RvckNvbnRhaW5lcixuPXRoaXMudmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKGUpO3JldHVybiBuJiZuLmlnbm9yZU11dGF0aW9uKHt0eXBlOiJzZWxlY3Rpb24iLHRhcmdldDozPT1lLm5vZGVUeXBlP2UucGFyZW50Tm9kZTplfSl9LHVsLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe2lmKHRoaXMudmlldy5kb2NWaWV3JiYhdGhpcy5mbHVzaGluZ1Nvb24pe3ZhciB0PXRoaXMub2JzZXJ2ZXI/dGhpcy5vYnNlcnZlci50YWtlUmVjb3JkcygpOltdO3RoaXMucXVldWUubGVuZ3RoJiYodD10aGlzLnF1ZXVlLmNvbmNhdCh0KSx0aGlzLnF1ZXVlLmxlbmd0aD0wKTt2YXIgZT10aGlzLnZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKSxuPSF0aGlzLnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcyYmIXRoaXMuY3VycmVudFNlbGVjdGlvbi5lcShlKSYmVmModGhpcy52aWV3KSYmIXRoaXMuaWdub3JlU2VsZWN0aW9uQ2hhbmdlKGUpLHI9LTEsbz0tMSxpPSExLHM9W107aWYodGhpcy52aWV3LmVkaXRhYmxlKWZvcih2YXIgYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgYz10aGlzLnJlZ2lzdGVyTXV0YXRpb24odFthXSxzKTtjJiYocj1yPDA/Yy5mcm9tOk1hdGgubWluKGMuZnJvbSxyKSxvPW88MD9jLnRvOk1hdGgubWF4KGMudG8sbyksYy50eXBlT3ZlciYmIXRoaXMudmlldy5jb21wb3NpbmcmJihpPSEwKSl9KHI+LTF8fG4pJiYocj4tMSYmKHRoaXMudmlldy5kb2NWaWV3Lm1hcmtEaXJ0eShyLG8pLGZsKHRoaXMudmlldykpLHRoaXMuaGFuZGxlRE9NQ2hhbmdlKHIsbyxpKSx0aGlzLnZpZXcuZG9jVmlldy5kaXJ0eT90aGlzLnZpZXcudXBkYXRlU3RhdGUodGhpcy52aWV3LnN0YXRlKTp0aGlzLmN1cnJlbnRTZWxlY3Rpb24uZXEoZSl8fERjKHRoaXMudmlldykpfX0sdWwucHJvdG90eXBlLnJlZ2lzdGVyTXV0YXRpb249ZnVuY3Rpb24odCxlKXtpZihlLmluZGV4T2YodC50YXJnZXQpPi0xKXJldHVybiBudWxsO3ZhciBuPXRoaXMudmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKHQudGFyZ2V0KTtpZigiYXR0cmlidXRlcyI9PXQudHlwZSYmKG49PXRoaXMudmlldy5kb2NWaWV3fHwiY29udGVudGVkaXRhYmxlIj09dC5hdHRyaWJ1dGVOYW1lfHwic3R5bGUiPT10LmF0dHJpYnV0ZU5hbWUmJiF0Lm9sZFZhbHVlJiYhdC50YXJnZXQuZ2V0QXR0cmlidXRlKCJzdHlsZSIpKSlyZXR1cm4gbnVsbDtpZighbnx8bi5pZ25vcmVNdXRhdGlvbih0KSlyZXR1cm4gbnVsbDtpZigiY2hpbGRMaXN0Ij09dC50eXBlKXt2YXIgcj10LnByZXZpb3VzU2libGluZyxvPXQubmV4dFNpYmxpbmc7aWYoV3MuaWUmJldzLmllX3ZlcnNpb248PTExJiZ0LmFkZGVkTm9kZXMubGVuZ3RoKWZvcih2YXIgaT0wO2k8dC5hZGRlZE5vZGVzLmxlbmd0aDtpKyspe3ZhciBzPXQuYWRkZWROb2Rlc1tpXSxhPXMucHJldmlvdXNTaWJsaW5nLGM9cy5uZXh0U2libGluZzsoIWF8fEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodC5hZGRlZE5vZGVzLGEpPDApJiYocj1hKSwoIWN8fEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodC5hZGRlZE5vZGVzLGMpPDApJiYobz1jKX1mb3IodmFyIGw9ciYmci5wYXJlbnROb2RlPT10LnRhcmdldD9YcyhyKSsxOjAsdT1uLmxvY2FsUG9zRnJvbURPTSh0LnRhcmdldCxsLC0xKSxwPW8mJm8ucGFyZW50Tm9kZT09dC50YXJnZXQ/WHMobyk6dC50YXJnZXQuY2hpbGROb2Rlcy5sZW5ndGgsZj0wO2Y8dC5hZGRlZE5vZGVzLmxlbmd0aDtmKyspZS5wdXNoKHQuYWRkZWROb2Rlc1tmXSk7dmFyIGQ9bi5sb2NhbFBvc0Zyb21ET00odC50YXJnZXQscCwxKTtyZXR1cm57ZnJvbTp1LHRvOmR9fXJldHVybiJhdHRyaWJ1dGVzIj09dC50eXBlP3tmcm9tOm4ucG9zQXRTdGFydC1uLmJvcmRlcix0bzpuLnBvc0F0RW5kK24uYm9yZGVyfTp7ZnJvbTpuLnBvc0F0U3RhcnQsdG86bi5wb3NBdEVuZCx0eXBlT3Zlcjp0LnRhcmdldC5ub2RlVmFsdWU9PXQub2xkVmFsdWV9fTt2YXIgcGw9ITE7ZnVuY3Rpb24gZmwodCl7cGx8fChwbD0hMCwibm9ybWFsIj09Z2V0Q29tcHV0ZWRTdHlsZSh0LmRvbSkud2hpdGVTcGFjZSYmY29uc29sZVsid2FybiJdKCJQcm9zZU1pcnJvciBleHBlY3RzIHRoZSBDU1Mgd2hpdGUtc3BhY2UgcHJvcGVydHkgdG8gYmUgc2V0LCBwcmVmZXJhYmx5IHRvICdwcmUtd3JhcCcuIEl0IGlzIHJlY29tbWVuZGVkIHRvIGxvYWQgc3R5bGUvcHJvc2VtaXJyb3IuY3NzIGZyb20gdGhlIHByb3NlbWlycm9yLXZpZXcgcGFja2FnZS4iKSl9dmFyIGRsPXt9LGhsPXt9O2Z1bmN0aW9uIHZsKHQpe3Quc2hpZnRLZXk9ITEsdC5tb3VzZURvd249bnVsbCx0Lmxhc3RLZXlDb2RlPW51bGwsdC5sYXN0S2V5Q29kZVRpbWU9MCx0Lmxhc3RDbGljaz17dGltZTowLHg6MCx5OjAsdHlwZToiIn0sdC5sYXN0U2VsZWN0aW9uT3JpZ2luPW51bGwsdC5sYXN0U2VsZWN0aW9uVGltZT0wLHQuY29tcG9zaW5nPSExLHQuY29tcG9zaW5nVGltZW91dD1udWxsLHQuY29tcG9zaXRpb25Ob2Rlcz1bXSx0LmNvbXBvc2l0aW9uRW5kZWRBdD0tMmU4LHQuZG9tT2JzZXJ2ZXI9bmV3IHVsKHQsKGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gTGModCxlLG4scil9KSksdC5kb21PYnNlcnZlci5zdGFydCgpLHQuZG9tQ2hhbmdlQ291bnQ9MCx0LmV2ZW50SGFuZGxlcnM9T2JqZWN0LmNyZWF0ZShudWxsKTt2YXIgZT1mdW5jdGlvbihlKXt2YXIgbj1kbFtlXTt0LmRvbS5hZGRFdmVudExpc3RlbmVyKGUsdC5ldmVudEhhbmRsZXJzW2VdPWZ1bmN0aW9uKGUpeyFibCh0LGUpfHx3bCh0LGUpfHwhdC5lZGl0YWJsZSYmZS50eXBlIGluIGhsfHxuKHQsZSl9KX07Zm9yKHZhciBuIGluIGRsKWUobik7V3Muc2FmYXJpJiZ0LmRvbS5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9KSkseWwodCl9ZnVuY3Rpb24gbWwodCxlKXt0Lmxhc3RTZWxlY3Rpb25PcmlnaW49ZSx0Lmxhc3RTZWxlY3Rpb25UaW1lPURhdGUubm93KCl9ZnVuY3Rpb24gZ2wodCl7Zm9yKHZhciBlIGluIHQuZG9tT2JzZXJ2ZXIuc3RvcCgpLHQuZXZlbnRIYW5kbGVycyl0LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKGUsdC5ldmVudEhhbmRsZXJzW2VdKTtjbGVhclRpbWVvdXQodC5jb21wb3NpbmdUaW1lb3V0KX1mdW5jdGlvbiB5bCh0KXt0LnNvbWVQcm9wKCJoYW5kbGVET01FdmVudHMiLChmdW5jdGlvbihlKXtmb3IodmFyIG4gaW4gZSl0LmV2ZW50SGFuZGxlcnNbbl18fHQuZG9tLmFkZEV2ZW50TGlzdGVuZXIobix0LmV2ZW50SGFuZGxlcnNbbl09ZnVuY3Rpb24oZSl7cmV0dXJuIHdsKHQsZSl9KX0pKX1mdW5jdGlvbiB3bCh0LGUpe3JldHVybiB0LnNvbWVQcm9wKCJoYW5kbGVET01FdmVudHMiLChmdW5jdGlvbihuKXt2YXIgcj1uW2UudHlwZV07cmV0dXJuISFyJiYocih0LGUpfHxlLmRlZmF1bHRQcmV2ZW50ZWQpfSkpfWZ1bmN0aW9uIGJsKHQsZSl7aWYoIWUuYnViYmxlcylyZXR1cm4hMDtpZihlLmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuITE7Zm9yKHZhciBuPWUudGFyZ2V0O24hPXQuZG9tO249bi5wYXJlbnROb2RlKWlmKCFufHwxMT09bi5ub2RlVHlwZXx8bi5wbVZpZXdEZXNjJiZuLnBtVmlld0Rlc2Muc3RvcEV2ZW50KGUpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIFNsKHQsZSl7d2wodCxlKXx8IWRsW2UudHlwZV18fCF0LmVkaXRhYmxlJiZlLnR5cGUgaW4gaGx8fGRsW2UudHlwZV0odCxlKX1mdW5jdGlvbiBrbCh0KXtyZXR1cm57bGVmdDp0LmNsaWVudFgsdG9wOnQuY2xpZW50WX19ZnVuY3Rpb24geGwodCxlKXt2YXIgbj1lLngtdC5jbGllbnRYLHI9ZS55LXQuY2xpZW50WTtyZXR1cm4gbipuK3IqcjwxMDB9ZnVuY3Rpb24gQ2wodCxlLG4scixvKXtpZigtMT09cilyZXR1cm4hMTtmb3IodmFyIGk9dC5zdGF0ZS5kb2MucmVzb2x2ZShyKSxzPWZ1bmN0aW9uKHIpe2lmKHQuc29tZVByb3AoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIHI+aS5kZXB0aD9lKHQsbixpLm5vZGVBZnRlcixpLmJlZm9yZShyKSxvLCEwKTplKHQsbixpLm5vZGUociksaS5iZWZvcmUociksbywhMSl9KSkpcmV0dXJue3Y6ITB9fSxhPWkuZGVwdGgrMTthPjA7YS0tKXt2YXIgYz1zKGEpO2lmKGMpcmV0dXJuIGMudn1yZXR1cm4hMX1mdW5jdGlvbiBPbCh0LGUsbil7dC5mb2N1c2VkfHx0LmZvY3VzKCk7dmFyIHI9dC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oZSk7InBvaW50ZXIiPT1uJiZyLnNldE1ldGEoInBvaW50ZXIiLCEwKSx0LmRpc3BhdGNoKHIpfWZ1bmN0aW9uIE1sKHQsZSl7aWYoLTE9PWUpcmV0dXJuITE7dmFyIG49dC5zdGF0ZS5kb2MucmVzb2x2ZShlKSxyPW4ubm9kZUFmdGVyO3JldHVybiEhKHImJnIuaXNBdG9tJiZzWyJOb2RlU2VsZWN0aW9uIl0uaXNTZWxlY3RhYmxlKHIpKSYmKE9sKHQsbmV3IHNbIk5vZGVTZWxlY3Rpb24iXShuKSwicG9pbnRlciIpLCEwKX1mdW5jdGlvbiBObCh0LGUpe2lmKC0xPT1lKXJldHVybiExO3ZhciBuLHIsbz10LnN0YXRlLnNlbGVjdGlvbjtvIGluc3RhbmNlb2Ygc1siTm9kZVNlbGVjdGlvbiJdJiYobj1vLm5vZGUpO2Zvcih2YXIgaT10LnN0YXRlLmRvYy5yZXNvbHZlKGUpLGE9aS5kZXB0aCsxO2E+MDthLS0pe3ZhciBjPWE+aS5kZXB0aD9pLm5vZGVBZnRlcjppLm5vZGUoYSk7aWYoc1siTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZShjKSl7cj1uJiZvLiRmcm9tLmRlcHRoPjAmJmE+PW8uJGZyb20uZGVwdGgmJmkuYmVmb3JlKG8uJGZyb20uZGVwdGgrMSk9PW8uJGZyb20ucG9zP2kuYmVmb3JlKG8uJGZyb20uZGVwdGgpOmkuYmVmb3JlKGEpO2JyZWFrfX1yZXR1cm4gbnVsbCE9ciYmKE9sKHQsc1siTm9kZVNlbGVjdGlvbiJdLmNyZWF0ZSh0LnN0YXRlLmRvYyxyKSwicG9pbnRlciIpLCEwKX1mdW5jdGlvbiBUbCh0LGUsbixyLG8pe3JldHVybiBDbCh0LCJoYW5kbGVDbGlja09uIixlLG4scil8fHQuc29tZVByb3AoImhhbmRsZUNsaWNrIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlLHIpfSkpfHwobz9ObCh0LG4pOk1sKHQsbikpfWZ1bmN0aW9uIERsKHQsZSxuLHIpe3JldHVybiBDbCh0LCJoYW5kbGVEb3VibGVDbGlja09uIixlLG4scil8fHQuc29tZVByb3AoImhhbmRsZURvdWJsZUNsaWNrIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlLHIpfSkpfWZ1bmN0aW9uIEFsKHQsZSxuLHIpe3JldHVybiBDbCh0LCJoYW5kbGVUcmlwbGVDbGlja09uIixlLG4scil8fHQuc29tZVByb3AoImhhbmRsZVRyaXBsZUNsaWNrIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlLHIpfSkpfHxFbCh0LG4pfWZ1bmN0aW9uIEVsKHQsZSl7dmFyIG49dC5zdGF0ZS5kb2M7aWYoLTE9PWUpcmV0dXJuISFuLmlubGluZUNvbnRlbnQmJihPbCh0LHNbIlRleHRTZWxlY3Rpb24iXS5jcmVhdGUobiwwLG4uY29udGVudC5zaXplKSwicG9pbnRlciIpLCEwKTtmb3IodmFyIHI9bi5yZXNvbHZlKGUpLG89ci5kZXB0aCsxO28+MDtvLS0pe3ZhciBpPW8+ci5kZXB0aD9yLm5vZGVBZnRlcjpyLm5vZGUobyksYT1yLmJlZm9yZShvKTtpZihpLmlubGluZUNvbnRlbnQpT2wodCxzWyJUZXh0U2VsZWN0aW9uIl0uY3JlYXRlKG4sYSsxLGErMStpLmNvbnRlbnQuc2l6ZSksInBvaW50ZXIiKTtlbHNle2lmKCFzWyJOb2RlU2VsZWN0aW9uIl0uaXNTZWxlY3RhYmxlKGkpKWNvbnRpbnVlO09sKHQsc1siTm9kZVNlbGVjdGlvbiJdLmNyZWF0ZShuLGEpLCJwb2ludGVyIil9cmV0dXJuITB9fWZ1bmN0aW9uIFJsKHQpe3JldHVybiBWbCh0KX1obC5rZXlkb3duPWZ1bmN0aW9uKHQsZSl7dC5zaGlmdEtleT0xNj09ZS5rZXlDb2RlfHxlLnNoaWZ0S2V5LHpsKHQsZSl8fCh0Lmxhc3RLZXlDb2RlPWUua2V5Q29kZSx0Lmxhc3RLZXlDb2RlVGltZT1EYXRlLm5vdygpLHQuc29tZVByb3AoImhhbmRsZUtleURvd24iLChmdW5jdGlvbihuKXtyZXR1cm4gbih0LGUpfSkpfHxOYyh0LGUpP2UucHJldmVudERlZmF1bHQoKTptbCh0LCJrZXkiKSl9LGhsLmtleXVwPWZ1bmN0aW9uKHQsZSl7MTY9PWUua2V5Q29kZSYmKHQuc2hpZnRLZXk9ITEpfSxobC5rZXlwcmVzcz1mdW5jdGlvbih0LGUpe2lmKCEoemwodCxlKXx8IWUuY2hhckNvZGV8fGUuY3RybEtleSYmIWUuYWx0S2V5fHxXcy5tYWMmJmUubWV0YUtleSkpaWYodC5zb21lUHJvcCgiaGFuZGxlS2V5UHJlc3MiLChmdW5jdGlvbihuKXtyZXR1cm4gbih0LGUpfSkpKWUucHJldmVudERlZmF1bHQoKTtlbHNle3ZhciBuPXQuc3RhdGUuc2VsZWN0aW9uO2lmKCEobiBpbnN0YW5jZW9mIHNbIlRleHRTZWxlY3Rpb24iXSl8fCFuLiRmcm9tLnNhbWVQYXJlbnQobi4kdG8pKXt2YXIgcj1TdHJpbmcuZnJvbUNoYXJDb2RlKGUuY2hhckNvZGUpO3Quc29tZVByb3AoImhhbmRsZVRleHRJbnB1dCIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQsbi4kZnJvbS5wb3Msbi4kdG8ucG9zLHIpfSkpfHx0LmRpc3BhdGNoKHQuc3RhdGUudHIuaW5zZXJ0VGV4dChyKS5zY3JvbGxJbnRvVmlldygpKSxlLnByZXZlbnREZWZhdWx0KCl9fX07dmFyIF9sPVdzLm1hYz8ibWV0YUtleSI6ImN0cmxLZXkiO2RsLm1vdXNlZG93bj1mdW5jdGlvbih0LGUpe3Quc2hpZnRLZXk9ZS5zaGlmdEtleTt2YXIgbj1SbCh0KSxyPURhdGUubm93KCksbz0ic2luZ2xlQ2xpY2siO3ItdC5sYXN0Q2xpY2sudGltZTw1MDAmJnhsKGUsdC5sYXN0Q2xpY2spJiYhZVtfbF0mJigic2luZ2xlQ2xpY2siPT10Lmxhc3RDbGljay50eXBlP289ImRvdWJsZUNsaWNrIjoiZG91YmxlQ2xpY2siPT10Lmxhc3RDbGljay50eXBlJiYobz0idHJpcGxlQ2xpY2siKSksdC5sYXN0Q2xpY2s9e3RpbWU6cix4OmUuY2xpZW50WCx5OmUuY2xpZW50WSx0eXBlOm99O3ZhciBpPXQucG9zQXRDb29yZHMoa2woZSkpO2kmJigic2luZ2xlQ2xpY2siPT1vP3QubW91c2VEb3duPW5ldyBQbCh0LGksZSxuKTooImRvdWJsZUNsaWNrIj09bz9EbDpBbCkodCxpLnBvcyxpLmluc2lkZSxlKT9lLnByZXZlbnREZWZhdWx0KCk6bWwodCwicG9pbnRlciIpKX07dmFyIFBsPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvLGksYT10aGlzO2lmKHRoaXMudmlldz10LHRoaXMuc3RhcnREb2M9dC5zdGF0ZS5kb2MsdGhpcy5wb3M9ZSx0aGlzLmV2ZW50PW4sdGhpcy5mbHVzaGVkPXIsdGhpcy5zZWxlY3ROb2RlPW5bX2xdLHRoaXMuYWxsb3dEZWZhdWx0PW4uc2hpZnRLZXksZS5pbnNpZGU+LTEpbz10LnN0YXRlLmRvYy5ub2RlQXQoZS5pbnNpZGUpLGk9ZS5pbnNpZGU7ZWxzZXt2YXIgYz10LnN0YXRlLmRvYy5yZXNvbHZlKGUucG9zKTtvPWMucGFyZW50LGk9Yy5kZXB0aD9jLmJlZm9yZSgpOjB9dGhpcy5taWdodERyYWc9bnVsbDt2YXIgbD1yP251bGw6bi50YXJnZXQsdT1sP3QuZG9jVmlldy5uZWFyZXN0RGVzYyhsLCEwKTpudWxsO3RoaXMudGFyZ2V0PXU/dS5kb206bnVsbCwoby50eXBlLnNwZWMuZHJhZ2dhYmxlJiYhMSE9PW8udHlwZS5zcGVjLnNlbGVjdGFibGV8fHQuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2Ygc1siTm9kZVNlbGVjdGlvbiJdJiZpPT10LnN0YXRlLnNlbGVjdGlvbi5mcm9tKSYmKHRoaXMubWlnaHREcmFnPXtub2RlOm8scG9zOmksYWRkQXR0cjp0aGlzLnRhcmdldCYmIXRoaXMudGFyZ2V0LmRyYWdnYWJsZSxzZXRVbmVkaXRhYmxlOnRoaXMudGFyZ2V0JiZXcy5nZWNrbyYmIXRoaXMudGFyZ2V0Lmhhc0F0dHJpYnV0ZSgiY29udGVudEVkaXRhYmxlIil9KSx0aGlzLnRhcmdldCYmdGhpcy5taWdodERyYWcmJih0aGlzLm1pZ2h0RHJhZy5hZGRBdHRyfHx0aGlzLm1pZ2h0RHJhZy5zZXRVbmVkaXRhYmxlKSYmKHRoaXMudmlldy5kb21PYnNlcnZlci5zdG9wKCksdGhpcy5taWdodERyYWcuYWRkQXR0ciYmKHRoaXMudGFyZ2V0LmRyYWdnYWJsZT0hMCksdGhpcy5taWdodERyYWcuc2V0VW5lZGl0YWJsZSYmc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gYS50YXJnZXQuc2V0QXR0cmlidXRlKCJjb250ZW50RWRpdGFibGUiLCJmYWxzZSIpfSksMjApLHRoaXMudmlldy5kb21PYnNlcnZlci5zdGFydCgpKSx0LnJvb3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsdGhpcy51cD10aGlzLnVwLmJpbmQodGhpcykpLHQucm9vdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLHRoaXMubW92ZT10aGlzLm1vdmUuYmluZCh0aGlzKSksbWwodCwicG9pbnRlciIpfTtmdW5jdGlvbiB6bCh0LGUpe3JldHVybiEhdC5jb21wb3Npbmd8fCEhKFdzLnNhZmFyaSYmTWF0aC5hYnMoZS50aW1lU3RhbXAtdC5jb21wb3NpdGlvbkVuZGVkQXQpPDUwMCkmJih0LmNvbXBvc2l0aW9uRW5kZWRBdD0tMmU4LCEwKX1QbC5wcm90b3R5cGUuZG9uZT1mdW5jdGlvbigpe3RoaXMudmlldy5yb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLHRoaXMudXApLHRoaXMudmlldy5yb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsdGhpcy5tb3ZlKSx0aGlzLm1pZ2h0RHJhZyYmdGhpcy50YXJnZXQmJih0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RvcCgpLHRoaXMubWlnaHREcmFnLmFkZEF0dHImJih0aGlzLnRhcmdldC5kcmFnZ2FibGU9ITEpLHRoaXMubWlnaHREcmFnLnNldFVuZWRpdGFibGUmJnRoaXMudGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZSgiY29udGVudEVkaXRhYmxlIiksdGhpcy52aWV3LmRvbU9ic2VydmVyLnN0YXJ0KCkpLHRoaXMudmlldy5tb3VzZURvd249bnVsbH0sUGwucHJvdG90eXBlLnVwPWZ1bmN0aW9uKHQpe2lmKHRoaXMuZG9uZSgpLHRoaXMudmlldy5kb20uY29udGFpbnMoMz09dC50YXJnZXQubm9kZVR5cGU/dC50YXJnZXQucGFyZW50Tm9kZTp0LnRhcmdldCkpe3ZhciBlPXRoaXMucG9zO3RoaXMudmlldy5zdGF0ZS5kb2MhPXRoaXMuc3RhcnREb2MmJihlPXRoaXMudmlldy5wb3NBdENvb3JkcyhrbCh0KSkpLHRoaXMuYWxsb3dEZWZhdWx0fHwhZT9tbCh0aGlzLnZpZXcsInBvaW50ZXIiKTpUbCh0aGlzLnZpZXcsZS5wb3MsZS5pbnNpZGUsdCx0aGlzLnNlbGVjdE5vZGUpP3QucHJldmVudERlZmF1bHQoKTohdGhpcy5mbHVzaGVkJiYoIVdzLmNocm9tZXx8dGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIHNbIlRleHRTZWxlY3Rpb24iXXx8ZS5wb3MhPXRoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24uZnJvbSYmZS5wb3MhPXRoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24udG8pP21sKHRoaXMudmlldywicG9pbnRlciIpOihPbCh0aGlzLnZpZXcsc1siU2VsZWN0aW9uIl0ubmVhcih0aGlzLnZpZXcuc3RhdGUuZG9jLnJlc29sdmUoZS5wb3MpKSwicG9pbnRlciIpLHQucHJldmVudERlZmF1bHQoKSl9fSxQbC5wcm90b3R5cGUubW92ZT1mdW5jdGlvbih0KXshdGhpcy5hbGxvd0RlZmF1bHQmJihNYXRoLmFicyh0aGlzLmV2ZW50LngtdC5jbGllbnRYKT40fHxNYXRoLmFicyh0aGlzLmV2ZW50LnktdC5jbGllbnRZKT40KSYmKHRoaXMuYWxsb3dEZWZhdWx0PSEwKSxtbCh0aGlzLnZpZXcsInBvaW50ZXIiKX0sZGwudG91Y2hkb3duPWZ1bmN0aW9uKHQpe1JsKHQpLG1sKHQsInBvaW50ZXIiKX0sZGwuY29udGV4dG1lbnU9ZnVuY3Rpb24odCl7cmV0dXJuIFJsKHQpfTt2YXIgSWw9V3MuYW5kcm9pZD81ZTM6LTE7ZnVuY3Rpb24gQmwodCxlKXtjbGVhclRpbWVvdXQodC5jb21wb3NpbmdUaW1lb3V0KSxlPi0xJiYodC5jb21wb3NpbmdUaW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIFZsKHQpfSksZSkpfWZ1bmN0aW9uIFZsKHQsZSl7dC5jb21wb3Npbmc9ITE7d2hpbGUodC5jb21wb3NpdGlvbk5vZGVzLmxlbmd0aD4wKXQuY29tcG9zaXRpb25Ob2Rlcy5wb3AoKS5tYXJrUGFyZW50c0RpcnR5KCk7cmV0dXJuISghZSYmIXQuZG9jVmlldy5kaXJ0eSkmJih0LnVwZGF0ZVN0YXRlKHQuc3RhdGUpLCEwKX1mdW5jdGlvbiBGbCh0LGUpe3ZhciBuPXQuZG9tLm93bmVyRG9jdW1lbnQscj1uLmJvZHkuYXBwZW5kQ2hpbGQobi5jcmVhdGVFbGVtZW50KCJkaXYiKSk7ci5hcHBlbmRDaGlsZChlKSxyLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOiBmaXhlZDsgbGVmdDogLTEwMDAwcHg7IHRvcDogMTBweCI7dmFyIG89Z2V0U2VsZWN0aW9uKCksaT1uLmNyZWF0ZVJhbmdlKCk7aS5zZWxlY3ROb2RlQ29udGVudHMoZSksdC5kb20uYmx1cigpLG8ucmVtb3ZlQWxsUmFuZ2VzKCksby5hZGRSYW5nZShpKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe24uYm9keS5yZW1vdmVDaGlsZChyKSx0LmZvY3VzKCl9KSw1MCl9aGwuY29tcG9zaXRpb25zdGFydD1obC5jb21wb3NpdGlvbnVwZGF0ZT1mdW5jdGlvbih0KXtpZighdC5jb21wb3Npbmcpe3QuZG9tT2JzZXJ2ZXIuZmx1c2goKTt2YXIgZT10LnN0YXRlLG49ZS5zZWxlY3Rpb24uJGZyb207aWYoZS5zZWxlY3Rpb24uZW1wdHkmJihlLnN0b3JlZE1hcmtzfHwhbi50ZXh0T2Zmc2V0JiZuLnBhcmVudE9mZnNldCYmbi5ub2RlQmVmb3JlLm1hcmtzLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiExPT09dC50eXBlLnNwZWMuaW5jbHVzaXZlfSkpKSl0Lm1hcmtDdXJzb3I9dC5zdGF0ZS5zdG9yZWRNYXJrc3x8bi5tYXJrcygpLFZsKHQsITApLHQubWFya0N1cnNvcj1udWxsO2Vsc2UgaWYoVmwodCksV3MuZ2Vja28mJmUuc2VsZWN0aW9uLmVtcHR5JiZuLnBhcmVudE9mZnNldCYmIW4udGV4dE9mZnNldCYmbi5ub2RlQmVmb3JlLm1hcmtzLmxlbmd0aClmb3IodmFyIHI9dC5yb290LmdldFNlbGVjdGlvbigpLG89ci5mb2N1c05vZGUsaT1yLmZvY3VzT2Zmc2V0O28mJjE9PW8ubm9kZVR5cGUmJjAhPWk7KXt2YXIgcz1pPDA/by5sYXN0Q2hpbGQ6by5jaGlsZE5vZGVzW2ktMV07aWYoMz09cy5ub2RlVHlwZSl7ci5jb2xsYXBzZShzLHMubm9kZVZhbHVlLmxlbmd0aCk7YnJlYWt9bz1zLGk9LTF9dC5jb21wb3Npbmc9ITB9QmwodCxJbCl9LGhsLmNvbXBvc2l0aW9uZW5kPWZ1bmN0aW9uKHQsZSl7dC5jb21wb3NpbmcmJih0LmNvbXBvc2luZz0hMSx0LmNvbXBvc2l0aW9uRW5kZWRBdD1lLnRpbWVTdGFtcCxCbCh0LDIwKSl9O3ZhciBqbD1Xcy5pZSYmV3MuaWVfdmVyc2lvbjwxNXx8V3MuaW9zJiZXcy53ZWJraXRfdmVyc2lvbjw2MDQ7ZnVuY3Rpb24gJGwodCl7cmV0dXJuIDA9PXQub3BlblN0YXJ0JiYwPT10Lm9wZW5FbmQmJjE9PXQuY29udGVudC5jaGlsZENvdW50P3QuY29udGVudC5maXJzdENoaWxkOm51bGx9ZnVuY3Rpb24gTGwodCxlKXt2YXIgbj10LmRvbS5vd25lckRvY3VtZW50LHI9dC5zaGlmdEtleXx8dC5zdGF0ZS5zZWxlY3Rpb24uJGZyb20ucGFyZW50LnR5cGUuc3BlYy5jb2RlLG89bi5ib2R5LmFwcGVuZENoaWxkKG4uY3JlYXRlRWxlbWVudChyPyJ0ZXh0YXJlYSI6ImRpdiIpKTtyfHwoby5jb250ZW50RWRpdGFibGU9InRydWUiKSxvLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOiBmaXhlZDsgbGVmdDogLTEwMDAwcHg7IHRvcDogMTBweCIsby5mb2N1cygpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5mb2N1cygpLG4uYm9keS5yZW1vdmVDaGlsZChvKSxyP0hsKHQsby52YWx1ZSxudWxsLGUpOkhsKHQsby50ZXh0Q29udGVudCxvLmlubmVySFRNTCxlKX0pLDUwKX1mdW5jdGlvbiBIbCh0LGUsbixyKXt2YXIgbz1HYyh0LGUsbix0LnNoaWZ0S2V5LHQuc3RhdGUuc2VsZWN0aW9uLiRmcm9tKTtpZighdC5zb21lUHJvcCgiaGFuZGxlUGFzdGUiLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0LHIsb3x8YVsiU2xpY2UiXS5lbXB0eSl9KSkmJm8pe3ZhciBpPSRsKG8pLHM9aT90LnN0YXRlLnRyLnJlcGxhY2VTZWxlY3Rpb25XaXRoKGksdC5zaGlmdEtleSk6dC5zdGF0ZS50ci5yZXBsYWNlU2VsZWN0aW9uKG8pO3QuZGlzcGF0Y2gocy5zY3JvbGxJbnRvVmlldygpLnNldE1ldGEoInBhc3RlIiwhMCkuc2V0TWV0YSgidWlFdmVudCIsInBhc3RlIikpfX1kbC5jb3B5PWhsLmN1dD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuc3RhdGUuc2VsZWN0aW9uLHI9ImN1dCI9PWUudHlwZTtpZighbi5lbXB0eSl7dmFyIG89amw/bnVsbDplLmNsaXBib2FyZERhdGEsaT1uLmNvbnRlbnQoKSxzPVVjKHQsaSksYT1zLmRvbSxjPXMudGV4dDtvPyhlLnByZXZlbnREZWZhdWx0KCksby5jbGVhckRhdGEoKSxvLnNldERhdGEoInRleHQvaHRtbCIsYS5pbm5lckhUTUwpLG8uc2V0RGF0YSgidGV4dC9wbGFpbiIsYykpOkZsKHQsYSksciYmdC5kaXNwYXRjaCh0LnN0YXRlLnRyLmRlbGV0ZVNlbGVjdGlvbigpLnNjcm9sbEludG9WaWV3KCkuc2V0TWV0YSgidWlFdmVudCIsImN1dCIpKX19LGhsLnBhc3RlPWZ1bmN0aW9uKHQsZSl7dmFyIG49amw/bnVsbDplLmNsaXBib2FyZERhdGEscj1uJiZuLmdldERhdGEoInRleHQvaHRtbCIpLG89biYmbi5nZXREYXRhKCJ0ZXh0L3BsYWluIik7biYmKHJ8fG98fG4uZmlsZXMubGVuZ3RoKT8oSGwodCxvLHIsZSksZS5wcmV2ZW50RGVmYXVsdCgpKTpMbCh0LGUpfTt2YXIgV2w9ZnVuY3Rpb24odCxlKXt0aGlzLnNsaWNlPXQsdGhpcy5tb3ZlPWV9LHFsPVdzLm1hYz8iYWx0S2V5IjoiY3RybEtleSI7Zm9yKHZhciBKbCBpbiBkbC5kcmFnc3RhcnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10Lm1vdXNlRG93bjtpZihuJiZuLmRvbmUoKSxlLmRhdGFUcmFuc2Zlcil7dmFyIHI9dC5zdGF0ZS5zZWxlY3Rpb24sbz1yLmVtcHR5P251bGw6dC5wb3NBdENvb3JkcyhrbChlKSk7aWYobyYmby5wb3M+PXIuZnJvbSYmby5wb3M8PShyIGluc3RhbmNlb2Ygc1siTm9kZVNlbGVjdGlvbiJdP3IudG8tMTpyLnRvKSk7ZWxzZSBpZihuJiZuLm1pZ2h0RHJhZyl0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKHNbIk5vZGVTZWxlY3Rpb24iXS5jcmVhdGUodC5zdGF0ZS5kb2Msbi5taWdodERyYWcucG9zKSkpO2Vsc2UgaWYoZS50YXJnZXQmJjE9PWUudGFyZ2V0Lm5vZGVUeXBlKXt2YXIgaT10LmRvY1ZpZXcubmVhcmVzdERlc2MoZS50YXJnZXQsITApO2lmKCFpfHwhaS5ub2RlLnR5cGUuc3BlYy5kcmFnZ2FibGV8fGk9PXQuZG9jVmlldylyZXR1cm47dC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldFNlbGVjdGlvbihzWyJOb2RlU2VsZWN0aW9uIl0uY3JlYXRlKHQuc3RhdGUuZG9jLGkucG9zQmVmb3JlKSkpfXZhciBhPXQuc3RhdGUuc2VsZWN0aW9uLmNvbnRlbnQoKSxjPVVjKHQsYSksbD1jLmRvbSx1PWMudGV4dDtlLmRhdGFUcmFuc2Zlci5jbGVhckRhdGEoKSxlLmRhdGFUcmFuc2Zlci5zZXREYXRhKGpsPyJUZXh0IjoidGV4dC9odG1sIixsLmlubmVySFRNTCksamx8fGUuZGF0YVRyYW5zZmVyLnNldERhdGEoInRleHQvcGxhaW4iLHUpLHQuZHJhZ2dpbmc9bmV3IFdsKGEsIWVbcWxdKX19LGRsLmRyYWdlbmQ9ZnVuY3Rpb24odCl7d2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuZHJhZ2dpbmc9bnVsbH0pLDUwKX0saGwuZHJhZ292ZXI9aGwuZHJhZ2VudGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUucHJldmVudERlZmF1bHQoKX0saGwuZHJvcD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZHJhZ2dpbmc7aWYodC5kcmFnZ2luZz1udWxsLGUuZGF0YVRyYW5zZmVyKXt2YXIgcj10LnBvc0F0Q29vcmRzKGtsKGUpKTtpZihyKXt2YXIgbz10LnN0YXRlLmRvYy5yZXNvbHZlKHIucG9zKTtpZihvKXt2YXIgaT1uJiZuLnNsaWNlfHxHYyh0LGUuZGF0YVRyYW5zZmVyLmdldERhdGEoamw/IlRleHQiOiJ0ZXh0L3BsYWluIiksamw/bnVsbDplLmRhdGFUcmFuc2Zlci5nZXREYXRhKCJ0ZXh0L2h0bWwiKSwhMSxvKTtpZihpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLCF0LnNvbWVQcm9wKCJoYW5kbGVEcm9wIiwoZnVuY3Rpb24ocil7cmV0dXJuIHIodCxlLGksbiYmbi5tb3ZlKX0pKSkpe3ZhciBhPWk/a3ModC5zdGF0ZS5kb2Msby5wb3MsaSk6by5wb3M7bnVsbD09YSYmKGE9by5wb3MpO3ZhciBjPXQuc3RhdGUudHI7biYmbi5tb3ZlJiZjLmRlbGV0ZVNlbGVjdGlvbigpO3ZhciBsPWMubWFwcGluZy5tYXAoYSksdT0wPT1pLm9wZW5TdGFydCYmMD09aS5vcGVuRW5kJiYxPT1pLmNvbnRlbnQuY2hpbGRDb3VudCxwPWMuZG9jO2lmKHU/Yy5yZXBsYWNlUmFuZ2VXaXRoKGwsbCxpLmNvbnRlbnQuZmlyc3RDaGlsZCk6Yy5yZXBsYWNlUmFuZ2UobCxsLGkpLCFjLmRvYy5lcShwKSl7dmFyIGY9Yy5kb2MucmVzb2x2ZShsKTt1JiZzWyJOb2RlU2VsZWN0aW9uIl0uaXNTZWxlY3RhYmxlKGkuY29udGVudC5maXJzdENoaWxkKSYmZi5ub2RlQWZ0ZXImJmYubm9kZUFmdGVyLnNhbWVNYXJrdXAoaS5jb250ZW50LmZpcnN0Q2hpbGQpP2Muc2V0U2VsZWN0aW9uKG5ldyBzWyJOb2RlU2VsZWN0aW9uIl0oZikpOmMuc2V0U2VsZWN0aW9uKEljKHQsZixjLmRvYy5yZXNvbHZlKGMubWFwcGluZy5tYXAoYSkpKSksdC5mb2N1cygpLHQuZGlzcGF0Y2goYy5zZXRNZXRhKCJ1aUV2ZW50IiwiZHJvcCIpKX19fX19fSxkbC5mb2N1cz1mdW5jdGlvbih0KXt0LmZvY3VzZWR8fCh0LmRvbU9ic2VydmVyLnN0b3AoKSx0LmRvbS5jbGFzc0xpc3QuYWRkKCJQcm9zZU1pcnJvci1mb2N1c2VkIiksdC5kb21PYnNlcnZlci5zdGFydCgpLHQuZm9jdXNlZD0hMCl9LGRsLmJsdXI9ZnVuY3Rpb24odCl7dC5mb2N1c2VkJiYodC5kb21PYnNlcnZlci5zdG9wKCksdC5kb20uY2xhc3NMaXN0LnJlbW92ZSgiUHJvc2VNaXJyb3ItZm9jdXNlZCIpLHQuZG9tT2JzZXJ2ZXIuc3RhcnQoKSx0LmRvbU9ic2VydmVyLmN1cnJlbnRTZWxlY3Rpb24uc2V0KHt9KSx0LmZvY3VzZWQ9ITEpfSxkbC5iZWZvcmVpbnB1dD1mdW5jdGlvbih0LGUpe2lmKFdzLmNocm9tZSYmV3MuYW5kcm9pZCYmImRlbGV0ZUNvbnRlbnRCYWNrd2FyZCI9PWUuaW5wdXRUeXBlKXt2YXIgbj10LmRvbUNoYW5nZUNvdW50O3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aWYodC5kb21DaGFuZ2VDb3VudD09biYmKHQuZG9tLmJsdXIoKSx0LmZvY3VzKCksIXQuc29tZVByb3AoImhhbmRsZUtleURvd24iLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0LGlhKDgsIkJhY2tzcGFjZSIpKX0pKSkpe3ZhciBlPXQuc3RhdGUuc2VsZWN0aW9uLHI9ZS4kY3Vyc29yO3ImJnIucG9zPjAmJnQuZGlzcGF0Y2godC5zdGF0ZS50ci5kZWxldGUoci5wb3MtMSxyLnBvcykuc2Nyb2xsSW50b1ZpZXcoKSl9fSksNTApfX0saGwpZGxbSmxdPWhsW0psXTtmdW5jdGlvbiBLbCh0LGUpe2lmKHQ9PWUpcmV0dXJuITA7Zm9yKHZhciBuIGluIHQpaWYodFtuXSE9PWVbbl0pcmV0dXJuITE7Zm9yKHZhciByIGluIGUpaWYoIShyIGluIHQpKXJldHVybiExO3JldHVybiEwfXZhciBVbD1mdW5jdGlvbih0LGUpe3RoaXMuc3BlYz1lfHx0dSx0aGlzLnNpZGU9dGhpcy5zcGVjLnNpZGV8fDAsdGhpcy50b0RPTT10fTtVbC5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQubWFwUmVzdWx0KGUuZnJvbStyLHRoaXMuc2lkZTwwPy0xOjEpLGk9by5wb3Mscz1vLmRlbGV0ZWQ7cmV0dXJuIHM/bnVsbDpuZXcgWWwoaS1uLGktbix0aGlzKX0sVWwucHJvdG90eXBlLnZhbGlkPWZ1bmN0aW9uKCl7cmV0dXJuITB9LFVsLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09dHx8dCBpbnN0YW5jZW9mIFVsJiYodGhpcy5zcGVjLmtleSYmdGhpcy5zcGVjLmtleT09dC5zcGVjLmtleXx8dGhpcy50b0RPTT09dC50b0RPTSYmS2wodGhpcy5zcGVjLHQuc3BlYykpfTt2YXIgR2w9ZnVuY3Rpb24odCxlKXt0aGlzLnNwZWM9ZXx8dHUsdGhpcy5hdHRycz10fTtHbC5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQubWFwKGUuZnJvbStyLHRoaXMuc3BlYy5pbmNsdXNpdmVTdGFydD8tMToxKS1uLGk9dC5tYXAoZS50bytyLHRoaXMuc3BlYy5pbmNsdXNpdmVFbmQ/MTotMSktbjtyZXR1cm4gbz49aT9udWxsOm5ldyBZbChvLGksdGhpcyl9LEdsLnByb3RvdHlwZS52YWxpZD1mdW5jdGlvbih0LGUpe3JldHVybiBlLmZyb208ZS50b30sR2wucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT10fHx0IGluc3RhbmNlb2YgR2wmJktsKHRoaXMuYXR0cnMsdC5hdHRycykmJktsKHRoaXMuc3BlYyx0LnNwZWMpfSxHbC5pcz1mdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlIGluc3RhbmNlb2YgR2x9O3ZhciBYbD1mdW5jdGlvbih0LGUpe3RoaXMuc3BlYz1lfHx0dSx0aGlzLmF0dHJzPXR9O1hsLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89dC5tYXBSZXN1bHQoZS5mcm9tK3IsMSk7aWYoby5kZWxldGVkKXJldHVybiBudWxsO3ZhciBpPXQubWFwUmVzdWx0KGUudG8rciwtMSk7cmV0dXJuIGkuZGVsZXRlZHx8aS5wb3M8PW8ucG9zP251bGw6bmV3IFlsKG8ucG9zLW4saS5wb3Mtbix0aGlzKX0sWGwucHJvdG90eXBlLnZhbGlkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jb250ZW50LmZpbmRJbmRleChlLmZyb20pLHI9bi5pbmRleCxvPW4ub2Zmc2V0O3JldHVybiBvPT1lLmZyb20mJm8rdC5jaGlsZChyKS5ub2RlU2l6ZT09ZS50b30sWGwucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT10fHx0IGluc3RhbmNlb2YgWGwmJktsKHRoaXMuYXR0cnMsdC5hdHRycykmJktsKHRoaXMuc3BlYyx0LnNwZWMpfTt2YXIgWWw9ZnVuY3Rpb24odCxlLG4pe3RoaXMuZnJvbT10LHRoaXMudG89ZSx0aGlzLnR5cGU9bn0sWmw9e3NwZWM6e2NvbmZpZ3VyYWJsZTohMH19O1lsLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBZbCh0LGUsdGhpcy50eXBlKX0sWWwucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnR5cGUuZXEodC50eXBlKSYmdGhpcy5mcm9tPT10LmZyb20mJnRoaXMudG89PXQudG99LFlsLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLnR5cGUubWFwKHQsdGhpcyxlLG4pfSxZbC53aWRnZXQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcgWWwodCx0LG5ldyBVbChlLG4pKX0sWWwuaW5saW5lPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBuZXcgWWwodCxlLG5ldyBHbChuLHIpKX0sWWwubm9kZT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gbmV3IFlsKHQsZSxuZXcgWGwobixyKSl9LFpsLnNwZWMuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5zcGVjfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhZbC5wcm90b3R5cGUsWmwpO3ZhciBRbD1bXSx0dT17fSxldT1mdW5jdGlvbih0LGUpe3RoaXMubG9jYWw9dCYmdC5sZW5ndGg/dDpRbCx0aGlzLmNoaWxkcmVuPWUmJmUubGVuZ3RoP2U6UWx9O2V1LmNyZWF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBlLmxlbmd0aD9sdShlLHQsMCx0dSk6bnV9LGV1LnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1bXTtyZXR1cm4gdGhpcy5maW5kSW5uZXIobnVsbD09dD8wOnQsbnVsbD09ZT8xZTk6ZSxyLDAsbikscn0sZXUucHJvdG90eXBlLmZpbmRJbm5lcj1mdW5jdGlvbih0LGUsbixyLG8pe2Zvcih2YXIgaT0wO2k8dGhpcy5sb2NhbC5sZW5ndGg7aSsrKXt2YXIgcz10aGlzLmxvY2FsW2ldO3MuZnJvbTw9ZSYmcy50bz49dCYmKCFvfHxvKHMuc3BlYykpJiZuLnB1c2gocy5jb3B5KHMuZnJvbStyLHMudG8rcikpfWZvcih2YXIgYT0wO2E8dGhpcy5jaGlsZHJlbi5sZW5ndGg7YSs9MylpZih0aGlzLmNoaWxkcmVuW2FdPGUmJnRoaXMuY2hpbGRyZW5bYSsxXT50KXt2YXIgYz10aGlzLmNoaWxkcmVuW2FdKzE7dGhpcy5jaGlsZHJlblthKzJdLmZpbmRJbm5lcih0LWMsZS1jLG4scitjLG8pfX0sZXUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXM9PW51fHwwPT10Lm1hcHMubGVuZ3RoP3RoaXM6dGhpcy5tYXBJbm5lcih0LGUsMCwwLG58fHR1KX0sZXUucHJvdG90eXBlLm1hcElubmVyPWZ1bmN0aW9uKHQsZSxuLHIsbyl7Zm9yKHZhciBpLHM9MDtzPHRoaXMubG9jYWwubGVuZ3RoO3MrKyl7dmFyIGE9dGhpcy5sb2NhbFtzXS5tYXAodCxuLHIpO2EmJmEudHlwZS52YWxpZChlLGEpPyhpfHwoaT1bXSkpLnB1c2goYSk6by5vblJlbW92ZSYmby5vblJlbW92ZSh0aGlzLmxvY2FsW3NdLnNwZWMpfXJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aD9vdSh0aGlzLmNoaWxkcmVuLGksdCxlLG4scixvKTppP25ldyBldShpLnNvcnQodXUpKTpudX0sZXUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUpe3JldHVybiBlLmxlbmd0aD90aGlzPT1udT9ldS5jcmVhdGUodCxlKTp0aGlzLmFkZElubmVyKHQsZSwwKTp0aGlzfSxldS5wcm90b3R5cGUuYWRkSW5uZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciByLG89dGhpcyxpPTA7dC5mb3JFYWNoKChmdW5jdGlvbih0LHMpe3ZhciBhLGM9cytuO2lmKGE9YXUoZSx0LGMpKXtyfHwocj1vLmNoaWxkcmVuLnNsaWNlKCkpO3doaWxlKGk8ci5sZW5ndGgmJnJbaV08cylpKz0zO3JbaV09PXM/cltpKzJdPXJbaSsyXS5hZGRJbm5lcih0LGEsYysxKTpyLnNwbGljZShpLDAscyxzK3Qubm9kZVNpemUsbHUoYSx0LGMrMSx0dSkpLGkrPTN9fSkpO3ZhciBzPWl1KGk/Y3UoZSk6ZSwtbik7cmV0dXJuIG5ldyBldShzLmxlbmd0aD90aGlzLmxvY2FsLmNvbmNhdChzKS5zb3J0KHV1KTp0aGlzLmxvY2FsLHJ8fHRoaXMuY2hpbGRyZW4pfSxldS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3JldHVybiAwPT10Lmxlbmd0aHx8dGhpcz09bnU/dGhpczp0aGlzLnJlbW92ZUlubmVyKHQsMCl9LGV1LnByb3RvdHlwZS5yZW1vdmVJbm5lcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLmNoaWxkcmVuLHI9dGhpcy5sb2NhbCxvPTA7bzxuLmxlbmd0aDtvKz0zKXtmb3IodmFyIGk9dm9pZCAwLHM9bltvXStlLGE9bltvKzFdK2UsYz0wLGw9dm9pZCAwO2M8dC5sZW5ndGg7YysrKShsPXRbY10pJiZsLmZyb20+cyYmbC50bzxhJiYodFtjXT1udWxsLChpfHwoaT1bXSkpLnB1c2gobCkpO2lmKGkpe249PXRoaXMuY2hpbGRyZW4mJihuPXRoaXMuY2hpbGRyZW4uc2xpY2UoKSk7dmFyIHU9bltvKzJdLnJlbW92ZUlubmVyKGkscysxKTt1IT1udT9uW28rMl09dToobi5zcGxpY2UobywzKSxvLT0zKX19aWYoci5sZW5ndGgpZm9yKHZhciBwPTAsZj12b2lkIDA7cDx0Lmxlbmd0aDtwKyspaWYoZj10W3BdKWZvcih2YXIgZD0wO2Q8ci5sZW5ndGg7ZCsrKXJbZF0udHlwZS5lcShmLnR5cGUpJiYocj09dGhpcy5sb2NhbCYmKHI9dGhpcy5sb2NhbC5zbGljZSgpKSxyLnNwbGljZShkLS0sMSkpO3JldHVybiBuPT10aGlzLmNoaWxkcmVuJiZyPT10aGlzLmxvY2FsP3RoaXM6ci5sZW5ndGh8fG4ubGVuZ3RoP25ldyBldShyLG4pOm51fSxldS5wcm90b3R5cGUuZm9yQ2hpbGQ9ZnVuY3Rpb24odCxlKXtpZih0aGlzPT1udSlyZXR1cm4gdGhpcztpZihlLmlzTGVhZilyZXR1cm4gZXUuZW1wdHk7Zm9yKHZhciBuLHIsbz0wO288dGhpcy5jaGlsZHJlbi5sZW5ndGg7bys9MylpZih0aGlzLmNoaWxkcmVuW29dPj10KXt0aGlzLmNoaWxkcmVuW29dPT10JiYobj10aGlzLmNoaWxkcmVuW28rMl0pO2JyZWFrfWZvcih2YXIgaT10KzEscz1pK2UuY29udGVudC5zaXplLGE9MDthPHRoaXMubG9jYWwubGVuZ3RoO2ErKyl7dmFyIGM9dGhpcy5sb2NhbFthXTtpZihjLmZyb208cyYmYy50bz5pJiZjLnR5cGUgaW5zdGFuY2VvZiBHbCl7dmFyIGw9TWF0aC5tYXgoaSxjLmZyb20pLWksdT1NYXRoLm1pbihzLGMudG8pLWk7bDx1JiYocnx8KHI9W10pKS5wdXNoKGMuY29weShsLHUpKX19aWYocil7dmFyIHA9bmV3IGV1KHIuc29ydCh1dSkpO3JldHVybiBuP25ldyBydShbcCxuXSk6cH1yZXR1cm4gbnx8bnV9LGV1LnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtpZih0aGlzPT10KXJldHVybiEwO2lmKCEodCBpbnN0YW5jZW9mIGV1KXx8dGhpcy5sb2NhbC5sZW5ndGghPXQubG9jYWwubGVuZ3RofHx0aGlzLmNoaWxkcmVuLmxlbmd0aCE9dC5jaGlsZHJlbi5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBlPTA7ZTx0aGlzLmxvY2FsLmxlbmd0aDtlKyspaWYoIXRoaXMubG9jYWxbZV0uZXEodC5sb2NhbFtlXSkpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtuKz0zKWlmKHRoaXMuY2hpbGRyZW5bbl0hPXQuY2hpbGRyZW5bbl18fHRoaXMuY2hpbGRyZW5bbisxXSE9dC5jaGlsZHJlbltuKzFdfHwhdGhpcy5jaGlsZHJlbltuKzJdLmVxKHQuY2hpbGRyZW5bbisyXSkpcmV0dXJuITE7cmV0dXJuITB9LGV1LnByb3RvdHlwZS5sb2NhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHB1KHRoaXMubG9jYWxzSW5uZXIodCkpfSxldS5wcm90b3R5cGUubG9jYWxzSW5uZXI9ZnVuY3Rpb24odCl7aWYodGhpcz09bnUpcmV0dXJuIFFsO2lmKHQuaW5saW5lQ29udGVudHx8IXRoaXMubG9jYWwuc29tZShHbC5pcykpcmV0dXJuIHRoaXMubG9jYWw7Zm9yKHZhciBlPVtdLG49MDtuPHRoaXMubG9jYWwubGVuZ3RoO24rKyl0aGlzLmxvY2FsW25dLnR5cGUgaW5zdGFuY2VvZiBHbHx8ZS5wdXNoKHRoaXMubG9jYWxbbl0pO3JldHVybiBlfTt2YXIgbnU9bmV3IGV1O2V1LmVtcHR5PW51LGV1LnJlbW92ZU92ZXJsYXA9cHU7dmFyIHJ1PWZ1bmN0aW9uKHQpe3RoaXMubWVtYmVycz10fTtmdW5jdGlvbiBvdSh0LGUsbixyLG8saSxzKXtmb3IodmFyIGE9dC5zbGljZSgpLGM9ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBzPTA7czxhLmxlbmd0aDtzKz0zKXt2YXIgYz1hW3MrMV0sbD12b2lkIDA7LTE9PWN8fHQ+YytpfHwoZT49YVtzXStpP2FbcysxXT0tMToobD1yLW4tKGUtdCkrKGktbykpJiYoYVtzXSs9bCxhW3MrMV0rPWwpKX19LGw9MDtsPG4ubWFwcy5sZW5ndGg7bCsrKW4ubWFwc1tsXS5mb3JFYWNoKGMpO2Zvcih2YXIgdT0hMSxwPTA7cDxhLmxlbmd0aDtwKz0zKWlmKC0xPT1hW3ArMV0pe3ZhciBmPW4ubWFwKGFbcF0raSksZD1mLW87aWYoZDwwfHxkPj1yLmNvbnRlbnQuc2l6ZSl7dT0hMDtjb250aW51ZX12YXIgaD1uLm1hcCh0W3ArMV0raSwtMSksdj1oLW8sbT1yLmNvbnRlbnQuZmluZEluZGV4KGQpLGc9bS5pbmRleCx5PW0ub2Zmc2V0LHc9ci5tYXliZUNoaWxkKGcpO2lmKHcmJnk9PWQmJnkrdy5ub2RlU2l6ZT09dil7dmFyIGI9YVtwKzJdLm1hcElubmVyKG4sdyxmKzEsYVtwXStpKzEscyk7YiE9bnU/KGFbcF09ZCxhW3ArMV09dixhW3ArMl09Yik6KGFbcCsxXT0tMix1PSEwKX1lbHNlIHU9ITB9aWYodSl7dmFyIFM9c3UoYSx0LGV8fFtdLG4sbyxpLHMpLGs9bHUoUyxyLDAscyk7ZT1rLmxvY2FsO2Zvcih2YXIgeD0wO3g8YS5sZW5ndGg7eCs9MylhW3grMV08MCYmKGEuc3BsaWNlKHgsMykseC09Myk7Zm9yKHZhciBDPTAsTz0wO0M8ay5jaGlsZHJlbi5sZW5ndGg7Qys9Myl7dmFyIE09ay5jaGlsZHJlbltDXTt3aGlsZShPPGEubGVuZ3RoJiZhW09dPE0pTys9MzthLnNwbGljZShPLDAsay5jaGlsZHJlbltDXSxrLmNoaWxkcmVuW0MrMV0say5jaGlsZHJlbltDKzJdKX19cmV0dXJuIG5ldyBldShlJiZlLnNvcnQodXUpLGEpfWZ1bmN0aW9uIGl1KHQsZSl7aWYoIWV8fCF0Lmxlbmd0aClyZXR1cm4gdDtmb3IodmFyIG49W10scj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO24ucHVzaChuZXcgWWwoby5mcm9tK2Usby50bytlLG8udHlwZSkpfXJldHVybiBufWZ1bmN0aW9uIHN1KHQsZSxuLHIsbyxpLHMpe2Z1bmN0aW9uIGEodCxlKXtmb3IodmFyIGk9MDtpPHQubG9jYWwubGVuZ3RoO2krKyl7dmFyIGM9dC5sb2NhbFtpXS5tYXAocixvLGUpO2M/bi5wdXNoKGMpOnMub25SZW1vdmUmJnMub25SZW1vdmUodC5sb2NhbFtpXS5zcGVjKX1mb3IodmFyIGw9MDtsPHQuY2hpbGRyZW4ubGVuZ3RoO2wrPTMpYSh0LmNoaWxkcmVuW2wrMl0sdC5jaGlsZHJlbltsXStlKzEpfWZvcih2YXIgYz0wO2M8dC5sZW5ndGg7Yys9MyktMT09dFtjKzFdJiZhKHRbYysyXSxlW2NdK2krMSk7cmV0dXJuIG59ZnVuY3Rpb24gYXUodCxlLG4pe2lmKGUuaXNMZWFmKXJldHVybiBudWxsO2Zvcih2YXIgcj1uK2Uubm9kZVNpemUsbz1udWxsLGk9MCxzPXZvaWQgMDtpPHQubGVuZ3RoO2krKykocz10W2ldKSYmcy5mcm9tPm4mJnMudG88ciYmKChvfHwobz1bXSkpLnB1c2gocyksdFtpXT1udWxsKTtyZXR1cm4gb31mdW5jdGlvbiBjdSh0KXtmb3IodmFyIGU9W10sbj0wO248dC5sZW5ndGg7bisrKW51bGwhPXRbbl0mJmUucHVzaCh0W25dKTtyZXR1cm4gZX1mdW5jdGlvbiBsdSh0LGUsbixyKXt2YXIgbz1bXSxpPSExO2UuZm9yRWFjaCgoZnVuY3Rpb24oZSxzKXt2YXIgYT1hdSh0LGUscytuKTtpZihhKXtpPSEwO3ZhciBjPWx1KGEsZSxuK3MrMSxyKTtjIT1udSYmby5wdXNoKHMscytlLm5vZGVTaXplLGMpfX0pKTtmb3IodmFyIHM9aXUoaT9jdSh0KTp0LC1uKS5zb3J0KHV1KSxhPTA7YTxzLmxlbmd0aDthKyspc1thXS50eXBlLnZhbGlkKGUsc1thXSl8fChyLm9uUmVtb3ZlJiZyLm9uUmVtb3ZlKHNbYV0uc3BlYykscy5zcGxpY2UoYS0tLDEpKTtyZXR1cm4gcy5sZW5ndGh8fG8ubGVuZ3RoP25ldyBldShzLG8pOm51fWZ1bmN0aW9uIHV1KHQsZSl7cmV0dXJuIHQuZnJvbS1lLmZyb218fHQudG8tZS50b31mdW5jdGlvbiBwdSh0KXtmb3IodmFyIGU9dCxuPTA7bjxlLmxlbmd0aC0xO24rKyl7dmFyIHI9ZVtuXTtpZihyLmZyb20hPXIudG8pZm9yKHZhciBvPW4rMTtvPGUubGVuZ3RoO28rKyl7dmFyIGk9ZVtvXTtpZihpLmZyb20hPXIuZnJvbSl7aS5mcm9tPHIudG8mJihlPT10JiYoZT10LnNsaWNlKCkpLGVbbl09ci5jb3B5KHIuZnJvbSxpLmZyb20pLGZ1KGUsbyxyLmNvcHkoaS5mcm9tLHIudG8pKSk7YnJlYWt9aS50byE9ci50byYmKGU9PXQmJihlPXQuc2xpY2UoKSksZVtvXT1pLmNvcHkoaS5mcm9tLHIudG8pLGZ1KGUsbysxLGkuY29weShyLnRvLGkudG8pKSl9fXJldHVybiBlfWZ1bmN0aW9uIGZ1KHQsZSxuKXt3aGlsZShlPHQubGVuZ3RoJiZ1dShuLHRbZV0pPjApZSsrO3Quc3BsaWNlKGUsMCxuKX1mdW5jdGlvbiBkdSh0KXt2YXIgZT1bXTtyZXR1cm4gdC5zb21lUHJvcCgiZGVjb3JhdGlvbnMiLChmdW5jdGlvbihuKXt2YXIgcj1uKHQuc3RhdGUpO3ImJnIhPW51JiZlLnB1c2gocil9KSksdC5jdXJzb3JXcmFwcGVyJiZlLnB1c2goZXUuY3JlYXRlKHQuc3RhdGUuZG9jLFt0LmN1cnNvcldyYXBwZXIuZGVjb10pKSxydS5mcm9tKGUpfXJ1LnByb3RvdHlwZS5mb3JDaGlsZD1mdW5jdGlvbih0LGUpe2lmKGUuaXNMZWFmKXJldHVybiBldS5lbXB0eTtmb3IodmFyIG49W10scj0wO3I8dGhpcy5tZW1iZXJzLmxlbmd0aDtyKyspe3ZhciBvPXRoaXMubWVtYmVyc1tyXS5mb3JDaGlsZCh0LGUpO28hPW51JiYobyBpbnN0YW5jZW9mIHJ1P249bi5jb25jYXQoby5tZW1iZXJzKTpuLnB1c2gobykpfXJldHVybiBydS5mcm9tKG4pfSxydS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7aWYoISh0IGluc3RhbmNlb2YgcnUpfHx0Lm1lbWJlcnMubGVuZ3RoIT10aGlzLm1lbWJlcnMubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZT0wO2U8dGhpcy5tZW1iZXJzLmxlbmd0aDtlKyspaWYoIXRoaXMubWVtYmVyc1tlXS5lcSh0Lm1lbWJlcnNbZV0pKXJldHVybiExO3JldHVybiEwfSxydS5wcm90b3R5cGUubG9jYWxzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPSEwLHI9MDtyPHRoaXMubWVtYmVycy5sZW5ndGg7cisrKXt2YXIgbz10aGlzLm1lbWJlcnNbcl0ubG9jYWxzSW5uZXIodCk7aWYoby5sZW5ndGgpaWYoZSl7biYmKGU9ZS5zbGljZSgpLG49ITEpO2Zvcih2YXIgaT0wO2k8by5sZW5ndGg7aSsrKWUucHVzaChvW2ldKX1lbHNlIGU9b31yZXR1cm4gZT9wdShuP2U6ZS5zb3J0KHV1KSk6UWx9LHJ1LmZyb209ZnVuY3Rpb24odCl7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG51O2Nhc2UgMTpyZXR1cm4gdFswXTtkZWZhdWx0OnJldHVybiBuZXcgcnUodCl9fTt2YXIgaHU9ZnVuY3Rpb24odCxlKXt0aGlzLl9wcm9wcz1lLHRoaXMuc3RhdGU9ZS5zdGF0ZSx0aGlzLmRpc3BhdGNoPXRoaXMuZGlzcGF0Y2guYmluZCh0aGlzKSx0aGlzLl9yb290PW51bGwsdGhpcy5mb2N1c2VkPSExLHRoaXMuZG9tPXQmJnQubW91bnR8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHQmJih0LmFwcGVuZENoaWxkP3QuYXBwZW5kQ2hpbGQodGhpcy5kb20pOnQuYXBwbHk/dCh0aGlzLmRvbSk6dC5tb3VudCYmKHRoaXMubW91bnRlZD0hMCkpLHRoaXMuZWRpdGFibGU9eXUodGhpcyksdGhpcy5tYXJrQ3Vyc29yPW51bGwsdGhpcy5jdXJzb3JXcmFwcGVyPW51bGwsZ3UodGhpcyksdGhpcy5ub2RlVmlld3M9U3UodGhpcyksdGhpcy5kb2NWaWV3PUphKHRoaXMuc3RhdGUuZG9jLG11KHRoaXMpLGR1KHRoaXMpLHRoaXMuZG9tLHRoaXMpLHRoaXMubGFzdFNlbGVjdGVkVmlld0Rlc2M9bnVsbCx0aGlzLmRyYWdnaW5nPW51bGwsdmwodGhpcyksdGhpcy5wbHVnaW5WaWV3cz1bXSx0aGlzLnVwZGF0ZVBsdWdpblZpZXdzKCl9LHZ1PXtwcm9wczp7Y29uZmlndXJhYmxlOiEwfSxyb290Ontjb25maWd1cmFibGU6ITB9fTtmdW5jdGlvbiBtdSh0KXt2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybiBlLmNsYXNzPSJQcm9zZU1pcnJvciIsZS5jb250ZW50ZWRpdGFibGU9U3RyaW5nKHQuZWRpdGFibGUpLHQuc29tZVByb3AoImF0dHJpYnV0ZXMiLChmdW5jdGlvbihuKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgbiYmKG49bih0LnN0YXRlKSksbilmb3IodmFyIHIgaW4gbikiY2xhc3MiPT1yP2UuY2xhc3MrPSIgIituW3JdOmVbcl18fCJjb250ZW50ZWRpdGFibGUiPT1yfHwibm9kZU5hbWUiPT1yfHwoZVtyXT1TdHJpbmcobltyXSkpfSkpLFtZbC5ub2RlKDAsdC5zdGF0ZS5kb2MuY29udGVudC5zaXplLGUpXX1mdW5jdGlvbiBndSh0KXt2YXIgZT10LnN0YXRlLnNlbGVjdGlvbixuPWUuJGhlYWQscj1lLiRhbmNob3Isbz1lLnZpc2libGU7aWYodC5tYXJrQ3Vyc29yKXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtpLnNldEF0dHJpYnV0ZSgibWFyay1wbGFjZWhvbGRlciIsInRydWUiKSx0LmN1cnNvcldyYXBwZXI9e2RvbTppLGRlY286WWwud2lkZ2V0KG4ucG9zLGkse3JhdzohMCxtYXJrczp0Lm1hcmtDdXJzb3J9KX19ZWxzZSBpZihvfHxuLnBvcyE9ci5wb3MpdC5jdXJzb3JXcmFwcGVyPW51bGw7ZWxzZXt2YXIgczshdC5jdXJzb3JXcmFwcGVyfHx0LmN1cnNvcldyYXBwZXIuZG9tLmNoaWxkTm9kZXMubGVuZ3RoPyhzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHMuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixzLnN0eWxlLmxlZnQ9Ii0xMDAwMDBweCIpOnQuY3Vyc29yV3JhcHBlci5kZWNvLnBvcyE9bi5wb3MmJihzPXQuY3Vyc29yV3JhcHBlci5kb20pLHMmJih0LmN1cnNvcldyYXBwZXI9e2RvbTpzLGRlY286WWwud2lkZ2V0KG4ucG9zLHMse3JhdzohMH0pfSl9fWZ1bmN0aW9uIHl1KHQpe3JldHVybiF0LnNvbWVQcm9wKCJlZGl0YWJsZSIsKGZ1bmN0aW9uKGUpe3JldHVybiExPT09ZSh0LnN0YXRlKX0pKX1mdW5jdGlvbiB3dSh0KXt2YXIgZT10LmdldFNlbGVjdGlvbigpLG49ZS5mb2N1c09mZnNldCxyPWUuZm9jdXNOb2RlO3JldHVybiByJiYzIT1yLm5vZGVUeXBlP1tyLG4sMT09ci5ub2RlVHlwZT9yLmNoaWxkTm9kZXNbbi0xXTpudWxsLDE9PXIubm9kZVR5cGU/ci5jaGlsZE5vZGVzW25dOm51bGxdOm51bGx9ZnVuY3Rpb24gYnUodCxlKXt2YXIgbj13dShlKTtpZighbnx8Mz09blswXS5ub2RlVHlwZSlyZXR1cm4hMTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylpZihuW3JdIT10W3JdKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIFN1KHQpe3ZhciBlPXt9O3JldHVybiB0LnNvbWVQcm9wKCJub2RlVmlld3MiLChmdW5jdGlvbih0KXtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKXx8KGVbbl09dFtuXSl9KSksZX1mdW5jdGlvbiBrdSh0LGUpe3ZhciBuPTAscj0wO2Zvcih2YXIgbyBpbiB0KXtpZih0W29dIT1lW29dKXJldHVybiEwO24rK31mb3IodmFyIGkgaW4gZSlyKys7cmV0dXJuIG4hPXJ9dnUucHJvcHMuZ2V0PWZ1bmN0aW9uKCl7aWYodGhpcy5fcHJvcHMuc3RhdGUhPXRoaXMuc3RhdGUpe3ZhciB0PXRoaXMuX3Byb3BzO2Zvcih2YXIgZSBpbiB0aGlzLl9wcm9wcz17fSx0KXRoaXMuX3Byb3BzW2VdPXRbZV07dGhpcy5fcHJvcHMuc3RhdGU9dGhpcy5zdGF0ZX1yZXR1cm4gdGhpcy5fcHJvcHN9LGh1LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dC5oYW5kbGVET01FdmVudHMhPXRoaXMuX3Byb3BzLmhhbmRsZURPTUV2ZW50cyYmeWwodGhpcyksdGhpcy5fcHJvcHM9dCx0aGlzLnVwZGF0ZVN0YXRlSW5uZXIodC5zdGF0ZSwhMCl9LGh1LnByb3RvdHlwZS5zZXRQcm9wcz1mdW5jdGlvbih0KXt2YXIgZT17fTtmb3IodmFyIG4gaW4gdGhpcy5fcHJvcHMpZVtuXT10aGlzLl9wcm9wc1tuXTtmb3IodmFyIHIgaW4gZS5zdGF0ZT10aGlzLnN0YXRlLHQpZVtyXT10W3JdO3RoaXMudXBkYXRlKGUpfSxodS5wcm90b3R5cGUudXBkYXRlU3RhdGU9ZnVuY3Rpb24odCl7dGhpcy51cGRhdGVTdGF0ZUlubmVyKHQsdGhpcy5zdGF0ZS5wbHVnaW5zIT10LnBsdWdpbnMpfSxodS5wcm90b3R5cGUudXBkYXRlU3RhdGVJbm5lcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj10aGlzLnN0YXRlLG89ITE7aWYodGhpcy5zdGF0ZT10LGUpe3ZhciBpPVN1KHRoaXMpO2t1KGksdGhpcy5ub2RlVmlld3MpJiYodGhpcy5ub2RlVmlld3M9aSxvPSEwKSx5bCh0aGlzKX10aGlzLmVkaXRhYmxlPXl1KHRoaXMpLGd1KHRoaXMpO3ZhciBhPWR1KHRoaXMpLGM9bXUodGhpcyksbD1lPyJyZXNldCI6dC5zY3JvbGxUb1NlbGVjdGlvbj5yLnNjcm9sbFRvU2VsZWN0aW9uPyJ0byBzZWxlY3Rpb24iOiJwcmVzZXJ2ZSIsdT1vfHwhdGhpcy5kb2NWaWV3Lm1hdGNoZXNOb2RlKHQuZG9jLGMsYSkscD11fHwhdC5zZWxlY3Rpb24uZXEoci5zZWxlY3Rpb24pLGY9InByZXNlcnZlIj09bCYmcCYmbnVsbD09dGhpcy5kb20uc3R5bGUub3ZlcmZsb3dBbmNob3ImJmxhKHRoaXMpO2lmKHApe3RoaXMuZG9tT2JzZXJ2ZXIuc3RvcCgpO3ZhciBkPSExO2lmKHUpe3ZhciBoPVdzLmNocm9tZSYmd3UodGhpcy5yb290KTshbyYmdGhpcy5kb2NWaWV3LnVwZGF0ZSh0LmRvYyxjLGEsdGhpcyl8fCh0aGlzLmRvY1ZpZXcuZGVzdHJveSgpLHRoaXMuZG9jVmlldz1KYSh0LmRvYyxjLGEsdGhpcy5kb20sdGhpcykpLGgmJihkPSF0aGlzLmNvbXBvc2luZyYmYnUoaCx0aGlzLnJvb3QpKSxXcy5pZSYmV3MuaWVfdmVyc2lvbjw9MTEmJiFyLnNlbGVjdGlvbi5lbXB0eSYmdC5zZWxlY3Rpb24uZW1wdHkmJnQuZG9jLmNvbnRlbnQuc2l6ZTxyLmRvYy5jb250ZW50LnNpemUmJihkPSEwKX1kfHwhKHRoaXMubW91c2VEb3duJiZ0aGlzLmRvbU9ic2VydmVyLmN1cnJlbnRTZWxlY3Rpb24uZXEodGhpcy5yb290LmdldFNlbGVjdGlvbigpKSYmRmModGhpcykpP0RjKHRoaXMsZCk6KFBjKHRoaXMsdC5zZWxlY3Rpb24pLHRoaXMuZG9tT2JzZXJ2ZXIuc2V0Q3VyU2VsZWN0aW9uKCkpLHRoaXMuZG9tT2JzZXJ2ZXIuc3RhcnQoKX1pZih0aGlzLnVwZGF0ZVBsdWdpblZpZXdzKHIpLCJyZXNldCI9PWwpdGhpcy5kb20uc2Nyb2xsVG9wPTA7ZWxzZSBpZigidG8gc2VsZWN0aW9uIj09bCl7dmFyIHY9dGhpcy5yb290LmdldFNlbGVjdGlvbigpLmZvY3VzTm9kZTt0aGlzLnNvbWVQcm9wKCJoYW5kbGVTY3JvbGxUb1NlbGVjdGlvbiIsKGZ1bmN0aW9uKHQpe3JldHVybiB0KG4pfSkpfHwodC5zZWxlY3Rpb24gaW5zdGFuY2VvZiBzWyJOb2RlU2VsZWN0aW9uIl0/Y2EodGhpcyx0aGlzLmRvY1ZpZXcuZG9tQWZ0ZXJQb3ModC5zZWxlY3Rpb24uZnJvbSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdik6Y2EodGhpcyx0aGlzLmNvb3Jkc0F0UG9zKHQuc2VsZWN0aW9uLmhlYWQpLHYpKX1lbHNlIGYmJnBhKGYpfSxodS5wcm90b3R5cGUuZGVzdHJveVBsdWdpblZpZXdzPWZ1bmN0aW9uKCl7dmFyIHQ7d2hpbGUodD10aGlzLnBsdWdpblZpZXdzLnBvcCgpKXQuZGVzdHJveSYmdC5kZXN0cm95KCl9LGh1LnByb3RvdHlwZS51cGRhdGVQbHVnaW5WaWV3cz1mdW5jdGlvbih0KXtpZih0JiZ0LnBsdWdpbnM9PXRoaXMuc3RhdGUucGx1Z2lucylmb3IodmFyIGU9MDtlPHRoaXMucGx1Z2luVmlld3MubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5wbHVnaW5WaWV3c1tlXTtuLnVwZGF0ZSYmbi51cGRhdGUodGhpcyx0KX1lbHNle3RoaXMuZGVzdHJveVBsdWdpblZpZXdzKCk7Zm9yKHZhciByPTA7cjx0aGlzLnN0YXRlLnBsdWdpbnMubGVuZ3RoO3IrKyl7dmFyIG89dGhpcy5zdGF0ZS5wbHVnaW5zW3JdO28uc3BlYy52aWV3JiZ0aGlzLnBsdWdpblZpZXdzLnB1c2goby5zcGVjLnZpZXcodGhpcykpfX19LGh1LnByb3RvdHlwZS5zb21lUHJvcD1mdW5jdGlvbih0LGUpe3ZhciBuLHI9dGhpcy5fcHJvcHMmJnRoaXMuX3Byb3BzW3RdO2lmKG51bGwhPXImJihuPWU/ZShyKTpyKSlyZXR1cm4gbjt2YXIgbz10aGlzLnN0YXRlLnBsdWdpbnM7aWYobylmb3IodmFyIGk9MDtpPG8ubGVuZ3RoO2krKyl7dmFyIHM9b1tpXS5wcm9wc1t0XTtpZihudWxsIT1zJiYobj1lP2Uocyk6cykpcmV0dXJuIG59fSxodS5wcm90b3R5cGUuaGFzRm9jdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yb290LmFjdGl2ZUVsZW1lbnQ9PXRoaXMuZG9tfSxodS5wcm90b3R5cGUuZm9jdXM9ZnVuY3Rpb24oKXt0aGlzLmRvbU9ic2VydmVyLnN0b3AoKSx0aGlzLmVkaXRhYmxlJiZoYSh0aGlzLmRvbSksRGModGhpcyksdGhpcy5kb21PYnNlcnZlci5zdGFydCgpfSx2dS5yb290LmdldD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3Jvb3Q7aWYobnVsbD09dClmb3IodmFyIGU9dGhpcy5kb20ucGFyZW50Tm9kZTtlO2U9ZS5wYXJlbnROb2RlKWlmKDk9PWUubm9kZVR5cGV8fDExPT1lLm5vZGVUeXBlJiZlLmhvc3QpcmV0dXJuIHRoaXMuX3Jvb3Q9ZTtyZXR1cm4gdHx8ZG9jdW1lbnR9LGh1LnByb3RvdHlwZS5wb3NBdENvb3Jkcz1mdW5jdGlvbih0KXtyZXR1cm4ga2EodGhpcyx0KX0saHUucHJvdG90eXBlLmNvb3Jkc0F0UG9zPWZ1bmN0aW9uKHQpe3JldHVybiBDYSh0aGlzLHQpfSxodS5wcm90b3R5cGUuZG9tQXRQb3M9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZG9jVmlldy5kb21Gcm9tUG9zKHQpfSxodS5wcm90b3R5cGUubm9kZURPTT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRvY1ZpZXcuZGVzY0F0KHQpO3JldHVybiBlP2Uubm9kZURPTTpudWxsfSxodS5wcm90b3R5cGUucG9zQXRET009ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPS0xKTt2YXIgcj10aGlzLmRvY1ZpZXcucG9zRnJvbURPTSh0LGUsbik7aWYobnVsbD09cil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRE9NIHBvc2l0aW9uIG5vdCBpbnNpZGUgdGhlIGVkaXRvciIpO3JldHVybiByfSxodS5wcm90b3R5cGUuZW5kT2ZUZXh0YmxvY2s9ZnVuY3Rpb24odCxlKXtyZXR1cm4gUGEodGhpcyxlfHx0aGlzLnN0YXRlLHQpfSxodS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZG9jVmlldyYmKGdsKHRoaXMpLHRoaXMuZGVzdHJveVBsdWdpblZpZXdzKCksdGhpcy5tb3VudGVkPyh0aGlzLmRvY1ZpZXcudXBkYXRlKHRoaXMuc3RhdGUuZG9jLFtdLGR1KHRoaXMpLHRoaXMpLHRoaXMuZG9tLnRleHRDb250ZW50PSIiKTp0aGlzLmRvbS5wYXJlbnROb2RlJiZ0aGlzLmRvbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tKSx0aGlzLmRvY1ZpZXcuZGVzdHJveSgpLHRoaXMuZG9jVmlldz1udWxsKX0saHUucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIFNsKHRoaXMsdCl9LGh1LnByb3RvdHlwZS5kaXNwYXRjaD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wcm9wcy5kaXNwYXRjaFRyYW5zYWN0aW9uO2U/ZS5jYWxsKHRoaXMsdCk6dGhpcy51cGRhdGVTdGF0ZSh0aGlzLnN0YXRlLmFwcGx5KHQpKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaHUucHJvdG90eXBlLHZ1KTt2YXIgeHU9bigiNTViZSIpLEN1PTY1NTM1LE91PU1hdGgucG93KDIsMTYpO2Z1bmN0aW9uIE11KHQsZSl7cmV0dXJuIHQrZSpPdX1mdW5jdGlvbiBOdSh0KXtyZXR1cm4gdCZDdX1mdW5jdGlvbiBUdSh0KXtyZXR1cm4odC0odCZDdSkpL091fXZhciBEdT1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9ITEpLHZvaWQgMD09PW4mJihuPW51bGwpLHRoaXMucG9zPXQsdGhpcy5kZWxldGVkPWUsdGhpcy5yZWNvdmVyPW59LEF1PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMucmFuZ2VzPXQsdGhpcy5pbnZlcnRlZD1lfTtBdS5wcm90b3R5cGUucmVjb3Zlcj1mdW5jdGlvbih0KXt2YXIgZT0wLG49TnUodCk7aWYoIXRoaXMuaW52ZXJ0ZWQpZm9yKHZhciByPTA7cjxuO3IrKyllKz10aGlzLnJhbmdlc1szKnIrMl0tdGhpcy5yYW5nZXNbMypyKzFdO3JldHVybiB0aGlzLnJhbmdlc1szKm5dK2UrVHUodCl9LEF1LnByb3RvdHlwZS5tYXBSZXN1bHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MSksdGhpcy5fbWFwKHQsZSwhMSl9LEF1LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MSksdGhpcy5fbWFwKHQsZSwhMCl9LEF1LnByb3RvdHlwZS5fbWFwPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9MCxvPXRoaXMuaW52ZXJ0ZWQ/MjoxLGk9dGhpcy5pbnZlcnRlZD8xOjIscz0wO3M8dGhpcy5yYW5nZXMubGVuZ3RoO3MrPTMpe3ZhciBhPXRoaXMucmFuZ2VzW3NdLSh0aGlzLmludmVydGVkP3I6MCk7aWYoYT50KWJyZWFrO3ZhciBjPXRoaXMucmFuZ2VzW3Mrb10sbD10aGlzLnJhbmdlc1tzK2ldLHU9YStjO2lmKHQ8PXUpe3ZhciBwPWM/dD09YT8tMTp0PT11PzE6ZTplLGY9YStyKyhwPDA/MDpsKTtpZihuKXJldHVybiBmO3ZhciBkPU11KHMvMyx0LWEpO3JldHVybiBuZXcgRHUoZixlPDA/dCE9YTp0IT11LGQpfXIrPWwtY31yZXR1cm4gbj90K3I6bmV3IER1KHQrcil9LEF1LnByb3RvdHlwZS50b3VjaGVzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAscj1OdShlKSxvPXRoaXMuaW52ZXJ0ZWQ/MjoxLGk9dGhpcy5pbnZlcnRlZD8xOjIscz0wO3M8dGhpcy5yYW5nZXMubGVuZ3RoO3MrPTMpe3ZhciBhPXRoaXMucmFuZ2VzW3NdLSh0aGlzLmludmVydGVkP246MCk7aWYoYT50KWJyZWFrO3ZhciBjPXRoaXMucmFuZ2VzW3Mrb10sbD1hK2M7aWYodDw9bCYmcz09MypyKXJldHVybiEwO24rPXRoaXMucmFuZ2VzW3MraV0tY31yZXR1cm4hMX0sQXUucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuaW52ZXJ0ZWQ/MjoxLG49dGhpcy5pbnZlcnRlZD8xOjIscj0wLG89MDtyPHRoaXMucmFuZ2VzLmxlbmd0aDtyKz0zKXt2YXIgaT10aGlzLnJhbmdlc1tyXSxzPWktKHRoaXMuaW52ZXJ0ZWQ/bzowKSxhPWkrKHRoaXMuaW52ZXJ0ZWQ/MDpvKSxjPXRoaXMucmFuZ2VzW3IrZV0sbD10aGlzLnJhbmdlc1tyK25dO3QocyxzK2MsYSxhK2wpLG8rPWwtY319LEF1LnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEF1KHRoaXMucmFuZ2VzLCF0aGlzLmludmVydGVkKX0sQXUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuaW52ZXJ0ZWQ/Ii0iOiIiKStKU09OLnN0cmluZ2lmeSh0aGlzLnJhbmdlcyl9LEF1Lm9mZnNldD1mdW5jdGlvbih0KXtyZXR1cm4gMD09dD9BdS5lbXB0eTpuZXcgQXUodDwwP1swLC10LDBdOlswLDAsdF0pfSxBdS5lbXB0eT1uZXcgQXUoW10pO3ZhciBFdT1mdW5jdGlvbih0LGUsbixyKXt0aGlzLm1hcHM9dHx8W10sdGhpcy5mcm9tPW58fDAsdGhpcy50bz1udWxsPT1yP3RoaXMubWFwcy5sZW5ndGg6cix0aGlzLm1pcnJvcj1lfTtmdW5jdGlvbiBSdSh0KXt2YXIgZT1FcnJvci5jYWxsKHRoaXMsdCk7cmV0dXJuIGUuX19wcm90b19fPVJ1LnByb3RvdHlwZSxlfUV1LnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT10aGlzLm1hcHMubGVuZ3RoKSxuZXcgRXUodGhpcy5tYXBzLHRoaXMubWlycm9yLHQsZSl9LEV1LnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBFdSh0aGlzLm1hcHMuc2xpY2UoKSx0aGlzLm1pcnJvciYmdGhpcy5taXJyb3Iuc2xpY2UoKSx0aGlzLmZyb20sdGhpcy50byl9LEV1LnByb3RvdHlwZS5hcHBlbmRNYXA9ZnVuY3Rpb24odCxlKXt0aGlzLnRvPXRoaXMubWFwcy5wdXNoKHQpLG51bGwhPWUmJnRoaXMuc2V0TWlycm9yKHRoaXMubWFwcy5sZW5ndGgtMSxlKX0sRXUucHJvdG90eXBlLmFwcGVuZE1hcHBpbmc9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLm1hcHMubGVuZ3RoO2U8dC5tYXBzLmxlbmd0aDtlKyspe3ZhciByPXQuZ2V0TWlycm9yKGUpO3RoaXMuYXBwZW5kTWFwKHQubWFwc1tlXSxudWxsIT1yJiZyPGU/bityOm51bGwpfX0sRXUucHJvdG90eXBlLmdldE1pcnJvcj1mdW5jdGlvbih0KXtpZih0aGlzLm1pcnJvcilmb3IodmFyIGU9MDtlPHRoaXMubWlycm9yLmxlbmd0aDtlKyspaWYodGhpcy5taXJyb3JbZV09PXQpcmV0dXJuIHRoaXMubWlycm9yW2UrKGUlMj8tMToxKV19LEV1LnByb3RvdHlwZS5zZXRNaXJyb3I9ZnVuY3Rpb24odCxlKXt0aGlzLm1pcnJvcnx8KHRoaXMubWlycm9yPVtdKSx0aGlzLm1pcnJvci5wdXNoKHQsZSl9LEV1LnByb3RvdHlwZS5hcHBlbmRNYXBwaW5nSW52ZXJ0ZWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQubWFwcy5sZW5ndGgtMSxuPXRoaXMubWFwcy5sZW5ndGgrdC5tYXBzLmxlbmd0aDtlPj0wO2UtLSl7dmFyIHI9dC5nZXRNaXJyb3IoZSk7dGhpcy5hcHBlbmRNYXAodC5tYXBzW2VdLmludmVydCgpLG51bGwhPXImJnI+ZT9uLXItMTpudWxsKX19LEV1LnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgRXU7cmV0dXJuIHQuYXBwZW5kTWFwcGluZ0ludmVydGVkKHRoaXMpLHR9LEV1LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT0xKSx0aGlzLm1pcnJvcilyZXR1cm4gdGhpcy5fbWFwKHQsZSwhMCk7Zm9yKHZhciBuPXRoaXMuZnJvbTtuPHRoaXMudG87bisrKXQ9dGhpcy5tYXBzW25dLm1hcCh0LGUpO3JldHVybiB0fSxFdS5wcm90b3R5cGUubWFwUmVzdWx0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTEpLHRoaXMuX21hcCh0LGUsITEpfSxFdS5wcm90b3R5cGUuX21hcD1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPSExLG89bnVsbCxpPXRoaXMuZnJvbTtpPHRoaXMudG87aSsrKXt2YXIgcz10aGlzLm1hcHNbaV0sYT1vJiZvW2ldO2lmKG51bGwhPWEmJnMudG91Y2hlcyh0LGEpKXQ9cy5yZWNvdmVyKGEpO2Vsc2V7dmFyIGM9cy5tYXBSZXN1bHQodCxlKTtpZihudWxsIT1jLnJlY292ZXIpe3ZhciBsPXRoaXMuZ2V0TWlycm9yKGkpO2lmKG51bGwhPWwmJmw+aSYmbDx0aGlzLnRvKXtpZihjLmRlbGV0ZWQpe2k9bCx0PXRoaXMubWFwc1tsXS5yZWNvdmVyKGMucmVjb3Zlcik7Y29udGludWV9KG98fChvPU9iamVjdC5jcmVhdGUobnVsbCkpKVtsXT1jLnJlY292ZXJ9fWMuZGVsZXRlZCYmKHI9ITApLHQ9Yy5wb3N9fXJldHVybiBuP3Q6bmV3IER1KHQscil9LFJ1LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksUnUucHJvdG90eXBlLmNvbnN0cnVjdG9yPVJ1LFJ1LnByb3RvdHlwZS5uYW1lPSJUcmFuc2Zvcm1FcnJvciI7dmFyIF91PWZ1bmN0aW9uKHQpe3RoaXMuZG9jPXQsdGhpcy5zdGVwcz1bXSx0aGlzLmRvY3M9W10sdGhpcy5tYXBwaW5nPW5ldyBFdX0sUHU9e2JlZm9yZTp7Y29uZmlndXJhYmxlOiEwfSxkb2NDaGFuZ2VkOntjb25maWd1cmFibGU6ITB9fTtmdW5jdGlvbiB6dSgpe3Rocm93IG5ldyBFcnJvcigiT3ZlcnJpZGUgbWUiKX1QdS5iZWZvcmUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jcy5sZW5ndGg/dGhpcy5kb2NzWzBdOnRoaXMuZG9jfSxfdS5wcm90b3R5cGUuc3RlcD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm1heWJlU3RlcCh0KTtpZihlLmZhaWxlZCl0aHJvdyBuZXcgUnUoZS5mYWlsZWQpO3JldHVybiB0aGlzfSxfdS5wcm90b3R5cGUubWF5YmVTdGVwPWZ1bmN0aW9uKHQpe3ZhciBlPXQuYXBwbHkodGhpcy5kb2MpO3JldHVybiBlLmZhaWxlZHx8dGhpcy5hZGRTdGVwKHQsZS5kb2MpLGV9LFB1LmRvY0NoYW5nZWQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RlcHMubGVuZ3RoPjB9LF91LnByb3RvdHlwZS5hZGRTdGVwPWZ1bmN0aW9uKHQsZSl7dGhpcy5kb2NzLnB1c2godGhpcy5kb2MpLHRoaXMuc3RlcHMucHVzaCh0KSx0aGlzLm1hcHBpbmcuYXBwZW5kTWFwKHQuZ2V0TWFwKCkpLHRoaXMuZG9jPWV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF91LnByb3RvdHlwZSxQdSk7dmFyIEl1PU9iamVjdC5jcmVhdGUobnVsbCksQnU9ZnVuY3Rpb24oKXt9O0J1LnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0KXtyZXR1cm4genUoKX0sQnUucHJvdG90eXBlLmdldE1hcD1mdW5jdGlvbigpe3JldHVybiBBdS5lbXB0eX0sQnUucHJvdG90eXBlLmludmVydD1mdW5jdGlvbih0KXtyZXR1cm4genUoKX0sQnUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXtyZXR1cm4genUoKX0sQnUucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsfSxCdS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHp1KCl9LEJ1LmZyb21KU09OPWZ1bmN0aW9uKHQsZSl7aWYoIWV8fCFlLnN0ZXBUeXBlKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBTdGVwLmZyb21KU09OIik7dmFyIG49SXVbZS5zdGVwVHlwZV07aWYoIW4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vIHN0ZXAgdHlwZSAiK2Uuc3RlcFR5cGUrIiBkZWZpbmVkIik7cmV0dXJuIG4uZnJvbUpTT04odCxlKX0sQnUuanNvbklEPWZ1bmN0aW9uKHQsZSl7aWYodCBpbiBJdSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRHVwbGljYXRlIHVzZSBvZiBzdGVwIEpTT04gSUQgIit0KTtyZXR1cm4gSXVbdF09ZSxlLnByb3RvdHlwZS5qc29uSUQ9dCxlfTt2YXIgVnU9ZnVuY3Rpb24odCxlKXt0aGlzLmRvYz10LHRoaXMuZmFpbGVkPWV9O1Z1Lm9rPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgVnUodCxudWxsKX0sVnUuZmFpbD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFZ1KG51bGwsdCl9LFZ1LmZyb21SZXBsYWNlPWZ1bmN0aW9uKHQsZSxuLHIpe3RyeXtyZXR1cm4gVnUub2sodC5yZXBsYWNlKGUsbixyKSl9Y2F0Y2gobyl7aWYobyBpbnN0YW5jZW9mIGFbIlJlcGxhY2VFcnJvciJdKXJldHVybiBWdS5mYWlsKG8ubWVzc2FnZSk7dGhyb3cgb319O3ZhciBGdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8pe3QuY2FsbCh0aGlzKSx0aGlzLmZyb209ZSx0aGlzLnRvPW4sdGhpcy5zbGljZT1yLHRoaXMuc3RydWN0dXJlPSEhb31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RydWN0dXJlJiYkdSh0LHRoaXMuZnJvbSx0aGlzLnRvKT9WdS5mYWlsKCJTdHJ1Y3R1cmUgcmVwbGFjZSB3b3VsZCBvdmVyd3JpdGUgY29udGVudCIpOlZ1LmZyb21SZXBsYWNlKHQsdGhpcy5mcm9tLHRoaXMudG8sdGhpcy5zbGljZSl9LGUucHJvdG90eXBlLmdldE1hcD1mdW5jdGlvbigpe3JldHVybiBuZXcgQXUoW3RoaXMuZnJvbSx0aGlzLnRvLXRoaXMuZnJvbSx0aGlzLnNsaWNlLnNpemVdKX0sZS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0aGlzLmZyb20sdGhpcy5mcm9tK3RoaXMuc2xpY2Uuc2l6ZSx0LnNsaWNlKHRoaXMuZnJvbSx0aGlzLnRvKSl9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXt2YXIgbj10Lm1hcFJlc3VsdCh0aGlzLmZyb20sMSkscj10Lm1hcFJlc3VsdCh0aGlzLnRvLC0xKTtyZXR1cm4gbi5kZWxldGVkJiZyLmRlbGV0ZWQ/bnVsbDpuZXcgZShuLnBvcyxNYXRoLm1heChuLnBvcyxyLnBvcyksdGhpcy5zbGljZSl9LGUucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIGUpfHx0LnN0cnVjdHVyZSE9dGhpcy5zdHJ1Y3R1cmUpcmV0dXJuIG51bGw7aWYodGhpcy5mcm9tK3RoaXMuc2xpY2Uuc2l6ZSE9dC5mcm9tfHx0aGlzLnNsaWNlLm9wZW5FbmR8fHQuc2xpY2Uub3BlblN0YXJ0KXtpZih0LnRvIT10aGlzLmZyb218fHRoaXMuc2xpY2Uub3BlblN0YXJ0fHx0LnNsaWNlLm9wZW5FbmQpcmV0dXJuIG51bGw7dmFyIG49dGhpcy5zbGljZS5zaXplK3Quc2xpY2Uuc2l6ZT09MD9hWyJTbGljZSJdLmVtcHR5Om5ldyBhWyJTbGljZSJdKHQuc2xpY2UuY29udGVudC5hcHBlbmQodGhpcy5zbGljZS5jb250ZW50KSx0LnNsaWNlLm9wZW5TdGFydCx0aGlzLnNsaWNlLm9wZW5FbmQpO3JldHVybiBuZXcgZSh0LmZyb20sdGhpcy50byxuLHRoaXMuc3RydWN0dXJlKX12YXIgcj10aGlzLnNsaWNlLnNpemUrdC5zbGljZS5zaXplPT0wP2FbIlNsaWNlIl0uZW1wdHk6bmV3IGFbIlNsaWNlIl0odGhpcy5zbGljZS5jb250ZW50LmFwcGVuZCh0LnNsaWNlLmNvbnRlbnQpLHRoaXMuc2xpY2Uub3BlblN0YXJ0LHQuc2xpY2Uub3BlbkVuZCk7cmV0dXJuIG5ldyBlKHRoaXMuZnJvbSx0aGlzLnRvKyh0LnRvLXQuZnJvbSkscix0aGlzLnN0cnVjdHVyZSl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciB0PXtzdGVwVHlwZToicmVwbGFjZSIsZnJvbTp0aGlzLmZyb20sdG86dGhpcy50b307cmV0dXJuIHRoaXMuc2xpY2Uuc2l6ZSYmKHQuc2xpY2U9dGhpcy5zbGljZS50b0pTT04oKSksdGhpcy5zdHJ1Y3R1cmUmJih0LnN0cnVjdHVyZT0hMCksdH0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbi5mcm9tfHwibnVtYmVyIiE9dHlwZW9mIG4udG8pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIFJlcGxhY2VTdGVwLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKG4uZnJvbSxuLnRvLGFbIlNsaWNlIl0uZnJvbUpTT04odCxuLnNsaWNlKSwhIW4uc3RydWN0dXJlKX0sZX0oQnUpO0J1Lmpzb25JRCgicmVwbGFjZSIsRnUpO3ZhciBqdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8saSxzLGEpe3QuY2FsbCh0aGlzKSx0aGlzLmZyb209ZSx0aGlzLnRvPW4sdGhpcy5nYXBGcm9tPXIsdGhpcy5nYXBUbz1vLHRoaXMuc2xpY2U9aSx0aGlzLmluc2VydD1zLHRoaXMuc3RydWN0dXJlPSEhYX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7aWYodGhpcy5zdHJ1Y3R1cmUmJigkdSh0LHRoaXMuZnJvbSx0aGlzLmdhcEZyb20pfHwkdSh0LHRoaXMuZ2FwVG8sdGhpcy50bykpKXJldHVybiBWdS5mYWlsKCJTdHJ1Y3R1cmUgZ2FwLXJlcGxhY2Ugd291bGQgb3ZlcndyaXRlIGNvbnRlbnQiKTt2YXIgZT10LnNsaWNlKHRoaXMuZ2FwRnJvbSx0aGlzLmdhcFRvKTtpZihlLm9wZW5TdGFydHx8ZS5vcGVuRW5kKXJldHVybiBWdS5mYWlsKCJHYXAgaXMgbm90IGEgZmxhdCByYW5nZSIpO3ZhciBuPXRoaXMuc2xpY2UuaW5zZXJ0QXQodGhpcy5pbnNlcnQsZS5jb250ZW50KTtyZXR1cm4gbj9WdS5mcm9tUmVwbGFjZSh0LHRoaXMuZnJvbSx0aGlzLnRvLG4pOlZ1LmZhaWwoIkNvbnRlbnQgZG9lcyBub3QgZml0IGluIGdhcCIpfSxlLnByb3RvdHlwZS5nZXRNYXA9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEF1KFt0aGlzLmZyb20sdGhpcy5nYXBGcm9tLXRoaXMuZnJvbSx0aGlzLmluc2VydCx0aGlzLmdhcFRvLHRoaXMudG8tdGhpcy5nYXBUbyx0aGlzLnNsaWNlLnNpemUtdGhpcy5pbnNlcnRdKX0sZS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuZ2FwVG8tdGhpcy5nYXBGcm9tO3JldHVybiBuZXcgZSh0aGlzLmZyb20sdGhpcy5mcm9tK3RoaXMuc2xpY2Uuc2l6ZStuLHRoaXMuZnJvbSt0aGlzLmluc2VydCx0aGlzLmZyb20rdGhpcy5pbnNlcnQrbix0LnNsaWNlKHRoaXMuZnJvbSx0aGlzLnRvKS5yZW1vdmVCZXR3ZWVuKHRoaXMuZ2FwRnJvbS10aGlzLmZyb20sdGhpcy5nYXBUby10aGlzLmZyb20pLHRoaXMuZ2FwRnJvbS10aGlzLmZyb20sdGhpcy5zdHJ1Y3R1cmUpfSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7dmFyIG49dC5tYXBSZXN1bHQodGhpcy5mcm9tLDEpLHI9dC5tYXBSZXN1bHQodGhpcy50bywtMSksbz10Lm1hcCh0aGlzLmdhcEZyb20sLTEpLGk9dC5tYXAodGhpcy5nYXBUbywxKTtyZXR1cm4gbi5kZWxldGVkJiZyLmRlbGV0ZWR8fG88bi5wb3N8fGk+ci5wb3M/bnVsbDpuZXcgZShuLnBvcyxyLnBvcyxvLGksdGhpcy5zbGljZSx0aGlzLmluc2VydCx0aGlzLnN0cnVjdHVyZSl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciB0PXtzdGVwVHlwZToicmVwbGFjZUFyb3VuZCIsZnJvbTp0aGlzLmZyb20sdG86dGhpcy50byxnYXBGcm9tOnRoaXMuZ2FwRnJvbSxnYXBUbzp0aGlzLmdhcFRvLGluc2VydDp0aGlzLmluc2VydH07cmV0dXJuIHRoaXMuc2xpY2Uuc2l6ZSYmKHQuc2xpY2U9dGhpcy5zbGljZS50b0pTT04oKSksdGhpcy5zdHJ1Y3R1cmUmJih0LnN0cnVjdHVyZT0hMCksdH0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbi5mcm9tfHwibnVtYmVyIiE9dHlwZW9mIG4udG98fCJudW1iZXIiIT10eXBlb2Ygbi5nYXBGcm9tfHwibnVtYmVyIiE9dHlwZW9mIG4uZ2FwVG98fCJudW1iZXIiIT10eXBlb2Ygbi5pbnNlcnQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIFJlcGxhY2VBcm91bmRTdGVwLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKG4uZnJvbSxuLnRvLG4uZ2FwRnJvbSxuLmdhcFRvLGFbIlNsaWNlIl0uZnJvbUpTT04odCxuLnNsaWNlKSxuLmluc2VydCwhIW4uc3RydWN0dXJlKX0sZX0oQnUpO2Z1bmN0aW9uICR1KHQsZSxuKXt2YXIgcj10LnJlc29sdmUoZSksbz1uLWUsaT1yLmRlcHRoO3doaWxlKG8+MCYmaT4wJiZyLmluZGV4QWZ0ZXIoaSk9PXIubm9kZShpKS5jaGlsZENvdW50KWktLSxvLS07aWYobz4wKXt2YXIgcz1yLm5vZGUoaSkubWF5YmVDaGlsZChyLmluZGV4QWZ0ZXIoaSkpO3doaWxlKG8+MCl7aWYoIXN8fHMuaXNMZWFmKXJldHVybiEwO3M9cy5maXJzdENoaWxkLG8tLX19cmV0dXJuITF9ZnVuY3Rpb24gTHUodCxlLG4pe3ZhciByPXQucmVzb2x2ZShlKSxvPXIuaW5kZXgoKTtyZXR1cm4gci5wYXJlbnQuY2FuUmVwbGFjZVdpdGgobyxvKzEsbil9ZnVuY3Rpb24gSHUodCxlLG4pe3ZhciByPXQucmVzb2x2ZShlKTtpZihyLnBhcmVudC5jYW5SZXBsYWNlV2l0aChyLmluZGV4KCksci5pbmRleCgpLG4pKXJldHVybiBlO2lmKDA9PXIucGFyZW50T2Zmc2V0KWZvcih2YXIgbz1yLmRlcHRoLTE7bz49MDtvLS0pe3ZhciBpPXIuaW5kZXgobyk7aWYoci5ub2RlKG8pLmNhblJlcGxhY2VXaXRoKGksaSxuKSlyZXR1cm4gci5iZWZvcmUobysxKTtpZihpPjApcmV0dXJuIG51bGx9aWYoci5wYXJlbnRPZmZzZXQ9PXIucGFyZW50LmNvbnRlbnQuc2l6ZSlmb3IodmFyIHM9ci5kZXB0aC0xO3M+PTA7cy0tKXt2YXIgYT1yLmluZGV4QWZ0ZXIocyk7aWYoci5ub2RlKHMpLmNhblJlcGxhY2VXaXRoKGEsYSxuKSlyZXR1cm4gci5hZnRlcihzKzEpO2lmKGE8ci5ub2RlKHMpLmNoaWxkQ291bnQpcmV0dXJuIG51bGx9fWZ1bmN0aW9uIFd1KHQsZSxuKXtmb3IodmFyIHI9W10sbz0wO288dC5jaGlsZENvdW50O28rKyl7dmFyIGk9dC5jaGlsZChvKTtpLmNvbnRlbnQuc2l6ZSYmKGk9aS5jb3B5KFd1KGkuY29udGVudCxlLGkpKSksaS5pc0lubGluZSYmKGk9ZShpLG4sbykpLHIucHVzaChpKX1yZXR1cm4gYVsiRnJhZ21lbnQiXS5mcm9tQXJyYXkocil9QnUuanNvbklEKCJyZXBsYWNlQXJvdW5kIixqdSksX3UucHJvdG90eXBlLmxpZnQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC4kZnJvbSxyPXQuJHRvLG89dC5kZXB0aCxpPW4uYmVmb3JlKG8rMSkscz1yLmFmdGVyKG8rMSksYz1pLGw9cyx1PWFbIkZyYWdtZW50Il0uZW1wdHkscD0wLGY9byxkPSExO2Y+ZTtmLS0pZHx8bi5pbmRleChmKT4wPyhkPSEwLHU9YVsiRnJhZ21lbnQiXS5mcm9tKG4ubm9kZShmKS5jb3B5KHUpKSxwKyspOmMtLTtmb3IodmFyIGg9YVsiRnJhZ21lbnQiXS5lbXB0eSx2PTAsbT1vLGc9ITE7bT5lO20tLSlnfHxyLmFmdGVyKG0rMSk8ci5lbmQobSk/KGc9ITAsaD1hWyJGcmFnbWVudCJdLmZyb20oci5ub2RlKG0pLmNvcHkoaCkpLHYrKyk6bCsrO3JldHVybiB0aGlzLnN0ZXAobmV3IGp1KGMsbCxpLHMsbmV3IGFbIlNsaWNlIl0odS5hcHBlbmQoaCkscCx2KSx1LnNpemUtcCwhMCkpfSxfdS5wcm90b3R5cGUud3JhcD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1hWyJGcmFnbWVudCJdLmVtcHR5LHI9ZS5sZW5ndGgtMTtyPj0wO3ItLSluPWFbIkZyYWdtZW50Il0uZnJvbShlW3JdLnR5cGUuY3JlYXRlKGVbcl0uYXR0cnMsbikpO3ZhciBvPXQuc3RhcnQsaT10LmVuZDtyZXR1cm4gdGhpcy5zdGVwKG5ldyBqdShvLGksbyxpLG5ldyBhWyJTbGljZSJdKG4sMCwwKSxlLmxlbmd0aCwhMCkpfSxfdS5wcm90b3R5cGUuc2V0QmxvY2tUeXBlPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXRoaXM7aWYodm9pZCAwPT09ZSYmKGU9dCksIW4uaXNUZXh0YmxvY2spdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlR5cGUgZ2l2ZW4gdG8gc2V0QmxvY2tUeXBlIHNob3VsZCBiZSBhIHRleHRibG9jayIpO3ZhciBpPXRoaXMuc3RlcHMubGVuZ3RoO3JldHVybiB0aGlzLmRvYy5ub2Rlc0JldHdlZW4odCxlLChmdW5jdGlvbih0LGUpe2lmKHQuaXNUZXh0YmxvY2smJiF0Lmhhc01hcmt1cChuLHIpJiZMdShvLmRvYyxvLm1hcHBpbmcuc2xpY2UoaSkubWFwKGUpLG4pKXtvLmNsZWFySW5jb21wYXRpYmxlKG8ubWFwcGluZy5zbGljZShpKS5tYXAoZSwxKSxuKTt2YXIgcz1vLm1hcHBpbmcuc2xpY2UoaSksYz1zLm1hcChlLDEpLGw9cy5tYXAoZSt0Lm5vZGVTaXplLDEpO3JldHVybiBvLnN0ZXAobmV3IGp1KGMsbCxjKzEsbC0xLG5ldyBhWyJTbGljZSJdKGFbIkZyYWdtZW50Il0uZnJvbShuLmNyZWF0ZShyLG51bGwsdC5tYXJrcykpLDAsMCksMSwhMCkpLCExfX0pKSx0aGlzfSxfdS5wcm90b3R5cGUuc2V0Tm9kZU1hcmt1cD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10aGlzLmRvYy5ub2RlQXQodCk7aWYoIW8pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vIG5vZGUgYXQgZ2l2ZW4gcG9zaXRpb24iKTtlfHwoZT1vLnR5cGUpO3ZhciBpPWUuY3JlYXRlKG4sbnVsbCxyfHxvLm1hcmtzKTtpZihvLmlzTGVhZilyZXR1cm4gdGhpcy5yZXBsYWNlV2l0aCh0LHQrby5ub2RlU2l6ZSxpKTtpZighZS52YWxpZENvbnRlbnQoby5jb250ZW50KSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBjb250ZW50IGZvciBub2RlIHR5cGUgIitlLm5hbWUpO3JldHVybiB0aGlzLnN0ZXAobmV3IGp1KHQsdCtvLm5vZGVTaXplLHQrMSx0K28ubm9kZVNpemUtMSxuZXcgYVsiU2xpY2UiXShhWyJGcmFnbWVudCJdLmZyb20oaSksMCwwKSwxLCEwKSl9LF91LnByb3RvdHlwZS5zcGxpdD1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9MSk7Zm9yKHZhciByPXRoaXMuZG9jLnJlc29sdmUodCksbz1hWyJGcmFnbWVudCJdLmVtcHR5LGk9YVsiRnJhZ21lbnQiXS5lbXB0eSxzPXIuZGVwdGgsYz1yLmRlcHRoLWUsbD1lLTE7cz5jO3MtLSxsLS0pe289YVsiRnJhZ21lbnQiXS5mcm9tKHIubm9kZShzKS5jb3B5KG8pKTt2YXIgdT1uJiZuW2xdO2k9YVsiRnJhZ21lbnQiXS5mcm9tKHU/dS50eXBlLmNyZWF0ZSh1LmF0dHJzLGkpOnIubm9kZShzKS5jb3B5KGkpKX1yZXR1cm4gdGhpcy5zdGVwKG5ldyBGdSh0LHQsbmV3IGFbIlNsaWNlIl0oby5hcHBlbmQoaSksZSxlKSwhMCkpfSxfdS5wcm90b3R5cGUuam9pbj1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPTEpO3ZhciBuPW5ldyBGdSh0LWUsdCtlLGFbIlNsaWNlIl0uZW1wdHksITApO3JldHVybiB0aGlzLnN0ZXAobil9O3ZhciBxdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyKXt0LmNhbGwodGhpcyksdGhpcy5mcm9tPWUsdGhpcy50bz1uLHRoaXMubWFyaz1yfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5zbGljZSh0aGlzLmZyb20sdGhpcy50bykscj10LnJlc29sdmUodGhpcy5mcm9tKSxvPXIubm9kZShyLnNoYXJlZERlcHRoKHRoaXMudG8pKSxpPW5ldyBhWyJTbGljZSJdKFd1KG4uY29udGVudCwoZnVuY3Rpb24odCxuKXtyZXR1cm4gbi50eXBlLmFsbG93c01hcmtUeXBlKGUubWFyay50eXBlKT90Lm1hcmsoZS5tYXJrLmFkZFRvU2V0KHQubWFya3MpKTp0fSksbyksbi5vcGVuU3RhcnQsbi5vcGVuRW5kKTtyZXR1cm4gVnUuZnJvbVJlcGxhY2UodCx0aGlzLmZyb20sdGhpcy50byxpKX0sZS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBKdSh0aGlzLmZyb20sdGhpcy50byx0aGlzLm1hcmspfSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7dmFyIG49dC5tYXBSZXN1bHQodGhpcy5mcm9tLDEpLHI9dC5tYXBSZXN1bHQodGhpcy50bywtMSk7cmV0dXJuIG4uZGVsZXRlZCYmci5kZWxldGVkfHxuLnBvcz49ci5wb3M/bnVsbDpuZXcgZShuLnBvcyxyLnBvcyx0aGlzLm1hcmspfSxlLnByb3RvdHlwZS5tZXJnZT1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgZSYmdC5tYXJrLmVxKHRoaXMubWFyaykmJnRoaXMuZnJvbTw9dC50byYmdGhpcy50bz49dC5mcm9tKXJldHVybiBuZXcgZShNYXRoLm1pbih0aGlzLmZyb20sdC5mcm9tKSxNYXRoLm1heCh0aGlzLnRvLHQudG8pLHRoaXMubWFyayl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybntzdGVwVHlwZToiYWRkTWFyayIsbWFyazp0aGlzLm1hcmsudG9KU09OKCksZnJvbTp0aGlzLmZyb20sdG86dGhpcy50b319LGUuZnJvbUpTT049ZnVuY3Rpb24odCxuKXtpZigibnVtYmVyIiE9dHlwZW9mIG4uZnJvbXx8Im51bWJlciIhPXR5cGVvZiBuLnRvKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBBZGRNYXJrU3RlcC5mcm9tSlNPTiIpO3JldHVybiBuZXcgZShuLmZyb20sbi50byx0Lm1hcmtGcm9tSlNPTihuLm1hcmspKX0sZX0oQnUpO0J1Lmpzb25JRCgiYWRkTWFyayIscXUpO3ZhciBKdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyKXt0LmNhbGwodGhpcyksdGhpcy5mcm9tPWUsdGhpcy50bz1uLHRoaXMubWFyaz1yfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5zbGljZSh0aGlzLmZyb20sdGhpcy50bykscj1uZXcgYVsiU2xpY2UiXShXdShuLmNvbnRlbnQsKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1hcmsoZS5tYXJrLnJlbW92ZUZyb21TZXQodC5tYXJrcykpfSkpLG4ub3BlblN0YXJ0LG4ub3BlbkVuZCk7cmV0dXJuIFZ1LmZyb21SZXBsYWNlKHQsdGhpcy5mcm9tLHRoaXMudG8scil9LGUucHJvdG90eXBlLmludmVydD1mdW5jdGlvbigpe3JldHVybiBuZXcgcXUodGhpcy5mcm9tLHRoaXMudG8sdGhpcy5tYXJrKX0sZS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe3ZhciBuPXQubWFwUmVzdWx0KHRoaXMuZnJvbSwxKSxyPXQubWFwUmVzdWx0KHRoaXMudG8sLTEpO3JldHVybiBuLmRlbGV0ZWQmJnIuZGVsZXRlZHx8bi5wb3M+PXIucG9zP251bGw6bmV3IGUobi5wb3Msci5wb3MsdGhpcy5tYXJrKX0sZS5wcm90b3R5cGUubWVyZ2U9ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIGUmJnQubWFyay5lcSh0aGlzLm1hcmspJiZ0aGlzLmZyb208PXQudG8mJnRoaXMudG8+PXQuZnJvbSlyZXR1cm4gbmV3IGUoTWF0aC5taW4odGhpcy5mcm9tLHQuZnJvbSksTWF0aC5tYXgodGhpcy50byx0LnRvKSx0aGlzLm1hcmspfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57c3RlcFR5cGU6InJlbW92ZU1hcmsiLG1hcms6dGhpcy5tYXJrLnRvSlNPTigpLGZyb206dGhpcy5mcm9tLHRvOnRoaXMudG99fSxlLmZyb21KU09OPWZ1bmN0aW9uKHQsbil7aWYoIm51bWJlciIhPXR5cGVvZiBuLmZyb218fCJudW1iZXIiIT10eXBlb2Ygbi50byl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgUmVtb3ZlTWFya1N0ZXAuZnJvbUpTT04iKTtyZXR1cm4gbmV3IGUobi5mcm9tLG4udG8sdC5tYXJrRnJvbUpTT04obi5tYXJrKSl9LGV9KEJ1KTtmdW5jdGlvbiBLdSh0LGUsbixyKXtpZih2b2lkIDA9PT1uJiYobj1lKSx2b2lkIDA9PT1yJiYocj1hWyJTbGljZSJdLmVtcHR5KSxlPT1uJiYhci5zaXplKXJldHVybiBudWxsO3ZhciBvPXQucmVzb2x2ZShlKSxpPXQucmVzb2x2ZShuKTtpZihlcChvLGkscikpcmV0dXJuIG5ldyBGdShlLG4scik7dmFyIHM9b3AobyxyKSxjPUd1KG8scyksbD10cChvLGksYyk7aWYoIWwpcmV0dXJuIG51bGw7aWYoYy5zaXplIT1sLnNpemUmJm5wKG8saSxjKSl7dmFyIHU9aS5kZXB0aCxwPWkuYWZ0ZXIodSk7d2hpbGUodT4xJiZwPT1pLmVuZCgtLXUpKSsrcDt2YXIgZj10cChvLHQucmVzb2x2ZShwKSxjKTtpZihmKXJldHVybiBuZXcganUoZSxwLG4saS5lbmQoKSxmLGMuc2l6ZSl9cmV0dXJuIGwuc2l6ZXx8ZSE9bj9uZXcgRnUoZSxuLGwpOm51bGx9ZnVuY3Rpb24gVXUodCxlLG4scil7dmFyIG89YVsiRnJhZ21lbnQiXS5lbXB0eSxpPTAscz1uW2VdO2lmKHQuZGVwdGg+ZSl7dmFyIGM9VXUodCxlKzEsbixyfHxzKTtpPWMub3BlbkVuZCsxLG89YVsiRnJhZ21lbnQiXS5mcm9tKHQubm9kZShlKzEpLmNvcHkoYy5jb250ZW50KSl9cmV0dXJuIHMmJihvPW8uYXBwZW5kKHMuY29udGVudCksaT1zLm9wZW5FbmQpLHImJihvPW8uYXBwZW5kKHQubm9kZShlKS5jb250ZW50TWF0Y2hBdCh0LmluZGV4QWZ0ZXIoZSkpLmZpbGxCZWZvcmUoYVsiRnJhZ21lbnQiXS5lbXB0eSwhMCkpLGk9MCkse2NvbnRlbnQ6byxvcGVuRW5kOml9fWZ1bmN0aW9uIEd1KHQsZSl7dmFyIG49VXUodCwwLGUsITEpLHI9bi5jb250ZW50LG89bi5vcGVuRW5kO3JldHVybiBuZXcgYVsiU2xpY2UiXShyLHQuZGVwdGgsb3x8MCl9ZnVuY3Rpb24gWHUodCxlLG4scixvLGkscyl7dmFyIGEsYz10LmNoaWxkQ291bnQsbD1jLShzPjA/MTowKSx1PWk8MD9lOm4ubm9kZShvKTthPWk8MD91LmNvbnRlbnRNYXRjaEF0KGwpOjE9PWMmJnM+MD91LmNvbnRlbnRNYXRjaEF0KGk/bi5pbmRleChvKTpuLmluZGV4QWZ0ZXIobykpOnUuY29udGVudE1hdGNoQXQobi5pbmRleEFmdGVyKG8pKS5tYXRjaEZyYWdtZW50KHQsYz4wJiZpPzE6MCxsKTt2YXIgcD1yLm5vZGUobyk7aWYocz4wJiZvPHIuZGVwdGgpe3ZhciBmPXAuY29udGVudC5jdXRCeUluZGV4KHIuaW5kZXhBZnRlcihvKSkuYWRkVG9TdGFydCh0Lmxhc3RDaGlsZCksZD1hLmZpbGxCZWZvcmUoZiwhMCk7aWYoZCYmZC5zaXplJiZpPjAmJjE9PWMmJihkPW51bGwpLGQpe3ZhciBoPVh1KHQubGFzdENoaWxkLmNvbnRlbnQsdC5sYXN0Q2hpbGQsbixyLG8rMSwxPT1jP2ktMTotMSxzLTEpO2lmKGgpe3ZhciB2PXQubGFzdENoaWxkLmNvcHkoaCk7cmV0dXJuIGQuc2l6ZT90LmN1dEJ5SW5kZXgoMCxjLTEpLmFwcGVuZChkKS5hZGRUb0VuZCh2KTp0LnJlcGxhY2VDaGlsZChjLTEsdil9fX1zPjAmJihhPWEubWF0Y2hUeXBlKCgxPT1jJiZpPjA/bi5ub2RlKG8rMSk6dC5sYXN0Q2hpbGQpLnR5cGUpKTt2YXIgbT1yLmluZGV4KG8pO2lmKG09PXAuY2hpbGRDb3VudCYmIXAudHlwZS5jb21wYXRpYmxlQ29udGVudChlLnR5cGUpKXJldHVybiBudWxsO2Zvcih2YXIgZz1hLmZpbGxCZWZvcmUocC5jb250ZW50LCEwLG0pLHk9bTtnJiZ5PHAuY29udGVudC5jaGlsZENvdW50O3krKyl1LnR5cGUuYWxsb3dzTWFya3MocC5jb250ZW50LmNoaWxkKHkpLm1hcmtzKXx8KGc9bnVsbCk7aWYoIWcpcmV0dXJuIG51bGw7aWYocz4wKXt2YXIgdz1ZdSh0Lmxhc3RDaGlsZCxzLTEsbixvKzEsMT09Yz9pLTE6LTEpO3Q9dC5yZXBsYWNlQ2hpbGQoYy0xLHcpfXJldHVybiB0PXQuYXBwZW5kKGcpLHIuZGVwdGg+byYmKHQ9dC5hZGRUb0VuZChadShyLG8rMSkpKSx0fWZ1bmN0aW9uIFl1KHQsZSxuLHIsbyl7dmFyIGkscz10LmNvbnRlbnQsYz1zLmNoaWxkQ291bnQ7aWYoaT1vPj0wP24ubm9kZShyKS5jb250ZW50TWF0Y2hBdChuLmluZGV4QWZ0ZXIocikpLm1hdGNoRnJhZ21lbnQocyxvPjA/MTowLGMpOnQuY29udGVudE1hdGNoQXQoYyksZT4wKXt2YXIgbD1ZdShzLmxhc3RDaGlsZCxlLTEsbixyKzEsMT09Yz9vLTE6LTEpO3M9cy5yZXBsYWNlQ2hpbGQoYy0xLGwpfXJldHVybiB0LmNvcHkocy5hcHBlbmQoaS5maWxsQmVmb3JlKGFbIkZyYWdtZW50Il0uZW1wdHksITApKSl9ZnVuY3Rpb24gWnUodCxlKXt2YXIgbj10Lm5vZGUoZSkscj1uLmNvbnRlbnRNYXRjaEF0KDApLmZpbGxCZWZvcmUobi5jb250ZW50LCEwLHQuaW5kZXgoZSkpO3JldHVybiB0LmRlcHRoPmUmJihyPXIuYWRkVG9FbmQoWnUodCxlKzEpKSksbi5jb3B5KHIpfWZ1bmN0aW9uIFF1KHQsZSxuKXt3aGlsZShlPjAmJm4+MCYmMT09dC5jaGlsZENvdW50KXQ9dC5maXJzdENoaWxkLmNvbnRlbnQsZS0tLG4tLTtyZXR1cm4gbmV3IGFbIlNsaWNlIl0odCxlLG4pfWZ1bmN0aW9uIHRwKHQsZSxuKXt2YXIgcj1YdShuLmNvbnRlbnQsdC5ub2RlKDApLHQsZSwwLG4ub3BlblN0YXJ0LG4ub3BlbkVuZCk7cmV0dXJuIHI/UXUocixuLm9wZW5TdGFydCxlLmRlcHRoKTpudWxsfWZ1bmN0aW9uIGVwKHQsZSxuKXtyZXR1cm4hbi5vcGVuU3RhcnQmJiFuLm9wZW5FbmQmJnQuc3RhcnQoKT09ZS5zdGFydCgpJiZ0LnBhcmVudC5jYW5SZXBsYWNlKHQuaW5kZXgoKSxlLmluZGV4KCksbi5jb250ZW50KX1mdW5jdGlvbiBucCh0LGUsbil7aWYoIWUucGFyZW50LmlzVGV4dGJsb2NrKXJldHVybiExO3ZhciByLG89bi5vcGVuRW5kP3JwKG4uY29udGVudCxuLm9wZW5FbmQpOnQubm9kZSh0LmRlcHRoLShuLm9wZW5TdGFydC1uLm9wZW5FbmQpKTtpZighby5pc1RleHRibG9jaylyZXR1cm4hMTtmb3IodmFyIGk9ZS5pbmRleCgpO2k8ZS5wYXJlbnQuY2hpbGRDb3VudDtpKyspaWYoIW8udHlwZS5hbGxvd3NNYXJrcyhlLnBhcmVudC5jaGlsZChpKS5tYXJrcykpcmV0dXJuITE7cmV0dXJuIG4ub3BlbkVuZD9yPW8uY29udGVudE1hdGNoQXQoby5jaGlsZENvdW50KToocj1vLmNvbnRlbnRNYXRjaEF0KG8uY2hpbGRDb3VudCksbi5zaXplJiYocj1yLm1hdGNoRnJhZ21lbnQobi5jb250ZW50LG4ub3BlblN0YXJ0PzE6MCkpKSxyPXIubWF0Y2hGcmFnbWVudChlLnBhcmVudC5jb250ZW50LGUuaW5kZXgoKSksciYmci52YWxpZEVuZH1mdW5jdGlvbiBycCh0LGUpe2Zvcih2YXIgbj0xO248ZTtuKyspdD10Lmxhc3RDaGlsZC5jb250ZW50O3JldHVybiB0Lmxhc3RDaGlsZH1mdW5jdGlvbiBvcCh0LGUpe2Zvcih2YXIgbj1uZXcgaXAodCkscj0xO2Uuc2l6ZSYmcjw9MztyKyspe3ZhciBvPW4ucGxhY2VTbGljZShlLmNvbnRlbnQsZS5vcGVuU3RhcnQsZS5vcGVuRW5kLHIpOzM9PXImJm8hPWUmJm8uc2l6ZSYmKHI9MCksZT1vfXdoaWxlKG4ub3Blbi5sZW5ndGgpbi5jbG9zZU5vZGUoKTtyZXR1cm4gbi5wbGFjZWR9QnUuanNvbklEKCJyZW1vdmVNYXJrIixKdSksX3UucHJvdG90eXBlLmFkZE1hcms9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMsbz1bXSxpPVtdLHM9bnVsbCxhPW51bGw7cmV0dXJuIHRoaXMuZG9jLm5vZGVzQmV0d2Vlbih0LGUsKGZ1bmN0aW9uKHIsYyxsKXtpZihyLmlzSW5saW5lKXt2YXIgdT1yLm1hcmtzO2lmKCFuLmlzSW5TZXQodSkmJmwudHlwZS5hbGxvd3NNYXJrVHlwZShuLnR5cGUpKXtmb3IodmFyIHA9TWF0aC5tYXgoYyx0KSxmPU1hdGgubWluKGMrci5ub2RlU2l6ZSxlKSxkPW4uYWRkVG9TZXQodSksaD0wO2g8dS5sZW5ndGg7aCsrKXVbaF0uaXNJblNldChkKXx8KHMmJnMudG89PXAmJnMubWFyay5lcSh1W2hdKT9zLnRvPWY6by5wdXNoKHM9bmV3IEp1KHAsZix1W2hdKSkpO2EmJmEudG89PXA/YS50bz1mOmkucHVzaChhPW5ldyBxdShwLGYsbikpfX19KSksby5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gci5zdGVwKHQpfSkpLGkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHIuc3RlcCh0KX0pKSx0aGlzfSxfdS5wcm90b3R5cGUucmVtb3ZlTWFyaz1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpczt2b2lkIDA9PT1uJiYobj1udWxsKTt2YXIgbz1bXSxpPTA7cmV0dXJuIHRoaXMuZG9jLm5vZGVzQmV0d2Vlbih0LGUsKGZ1bmN0aW9uKHIscyl7aWYoci5pc0lubGluZSl7aSsrO3ZhciBjPW51bGw7aWYobiBpbnN0YW5jZW9mIGFbIk1hcmtUeXBlIl0pe3ZhciBsPW4uaXNJblNldChyLm1hcmtzKTtsJiYoYz1bbF0pfWVsc2Ugbj9uLmlzSW5TZXQoci5tYXJrcykmJihjPVtuXSk6Yz1yLm1hcmtzO2lmKGMmJmMubGVuZ3RoKWZvcih2YXIgdT1NYXRoLm1pbihzK3Iubm9kZVNpemUsZSkscD0wO3A8Yy5sZW5ndGg7cCsrKXtmb3IodmFyIGY9Y1twXSxkPXZvaWQgMCxoPTA7aDxvLmxlbmd0aDtoKyspe3ZhciB2PW9baF07di5zdGVwPT1pLTEmJmYuZXEob1toXS5zdHlsZSkmJihkPXYpfWQ/KGQudG89dSxkLnN0ZXA9aSk6by5wdXNoKHtzdHlsZTpmLGZyb206TWF0aC5tYXgocyx0KSx0bzp1LHN0ZXA6aX0pfX19KSksby5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gci5zdGVwKG5ldyBKdSh0LmZyb20sdC50byx0LnN0eWxlKSl9KSksdGhpc30sX3UucHJvdG90eXBlLmNsZWFySW5jb21wYXRpYmxlPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj1lLmNvbnRlbnRNYXRjaCk7Zm9yKHZhciByPXRoaXMuZG9jLm5vZGVBdCh0KSxvPVtdLGk9dCsxLHM9MDtzPHIuY2hpbGRDb3VudDtzKyspe3ZhciBjPXIuY2hpbGQocyksbD1pK2Mubm9kZVNpemUsdT1uLm1hdGNoVHlwZShjLnR5cGUsYy5hdHRycyk7aWYodSl7bj11O2Zvcih2YXIgcD0wO3A8Yy5tYXJrcy5sZW5ndGg7cCsrKWUuYWxsb3dzTWFya1R5cGUoYy5tYXJrc1twXS50eXBlKXx8dGhpcy5zdGVwKG5ldyBKdShpLGwsYy5tYXJrc1twXSkpfWVsc2Ugby5wdXNoKG5ldyBGdShpLGwsYVsiU2xpY2UiXS5lbXB0eSkpO2k9bH1pZighbi52YWxpZEVuZCl7dmFyIGY9bi5maWxsQmVmb3JlKGFbIkZyYWdtZW50Il0uZW1wdHksITApO3RoaXMucmVwbGFjZShpLGksbmV3IGFbIlNsaWNlIl0oZiwwLDApKX1mb3IodmFyIGQ9by5sZW5ndGgtMTtkPj0wO2QtLSl0aGlzLnN0ZXAob1tkXSk7cmV0dXJuIHRoaXN9LF91LnByb3RvdHlwZS5yZXBsYWNlPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT10KSx2b2lkIDA9PT1uJiYobj1hWyJTbGljZSJdLmVtcHR5KTt2YXIgcj1LdSh0aGlzLmRvYyx0LGUsbik7cmV0dXJuIHImJnRoaXMuc3RlcChyKSx0aGlzfSxfdS5wcm90b3R5cGUucmVwbGFjZVdpdGg9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLnJlcGxhY2UodCxlLG5ldyBhWyJTbGljZSJdKGFbIkZyYWdtZW50Il0uZnJvbShuKSwwLDApKX0sX3UucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJlcGxhY2UodCxlLGFbIlNsaWNlIl0uZW1wdHkpfSxfdS5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVwbGFjZVdpdGgodCx0LGUpfTt2YXIgaXA9ZnVuY3Rpb24odCl7dGhpcy5vcGVuPVtdO2Zvcih2YXIgZT0wO2U8PXQuZGVwdGg7ZSsrKXt2YXIgbj10Lm5vZGUoZSkscj1uLmNvbnRlbnRNYXRjaEF0KHQuaW5kZXhBZnRlcihlKSk7dGhpcy5vcGVuLnB1c2goe3BhcmVudDpuLG1hdGNoOnIsY29udGVudDphWyJGcmFnbWVudCJdLmVtcHR5LHdyYXBwZXI6ITEsb3BlbkVuZDowLGRlcHRoOmV9KX10aGlzLnBsYWNlZD1bXX07ZnVuY3Rpb24gc3AodCxlLG4pe3ZhciByPXQuY29udGVudDtpZihlPjEpe3ZhciBvPXNwKHQuZmlyc3RDaGlsZCxlLTEsMT09dC5jaGlsZENvdW50P24tMTowKTtyPXQuY29udGVudC5yZXBsYWNlQ2hpbGQoMCxvKX12YXIgaT10LnR5cGUuY29udGVudE1hdGNoLmZpbGxCZWZvcmUociwwPT1uKTtyZXR1cm4gdC5jb3B5KGkuYXBwZW5kKHIpKX1mdW5jdGlvbiBhcCh0LGUpe3ZhciBuPXQuY29udGVudDtpZihlPjEpe3ZhciByPWFwKHQubGFzdENoaWxkLGUtMSk7bj10LmNvbnRlbnQucmVwbGFjZUNoaWxkKHQuY2hpbGRDb3VudC0xLHIpfXZhciBvPXQuY29udGVudE1hdGNoQXQodC5jaGlsZENvdW50KS5maWxsQmVmb3JlKGFbIkZyYWdtZW50Il0uZW1wdHksITApO3JldHVybiB0LmNvcHkobi5hcHBlbmQobykpfWZ1bmN0aW9uIGNwKHQsZSl7cmV0dXJuIGU/dC5yZXBsYWNlQ2hpbGQodC5jaGlsZENvdW50LTEsYXAodC5sYXN0Q2hpbGQsZSkpOnR9ZnVuY3Rpb24gbHAodCxlLG4scixvKXtpZihlPG4pe3ZhciBpPXQuZmlyc3RDaGlsZDt0PXQucmVwbGFjZUNoaWxkKDAsaS5jb3B5KGxwKGkuY29udGVudCxlKzEsbixyLGkpKSl9aWYoZT5yKXt2YXIgcz1vLmNvbnRlbnRNYXRjaEF0KDApLGM9cy5maWxsQmVmb3JlKHQpLmFwcGVuZCh0KTt0PWMuYXBwZW5kKHMubWF0Y2hGcmFnbWVudChjKS5maWxsQmVmb3JlKGFbIkZyYWdtZW50Il0uZW1wdHksITApKX1yZXR1cm4gdH1mdW5jdGlvbiB1cCh0LGUpe2Zvcih2YXIgbj1bXSxyPU1hdGgubWluKHQuZGVwdGgsZS5kZXB0aCksbz1yO28+PTA7by0tKXt2YXIgaT10LnN0YXJ0KG8pO2lmKGk8dC5wb3MtKHQuZGVwdGgtbyl8fGUuZW5kKG8pPmUucG9zKyhlLmRlcHRoLW8pfHx0Lm5vZGUobykudHlwZS5zcGVjLmlzb2xhdGluZ3x8ZS5ub2RlKG8pLnR5cGUuc3BlYy5pc29sYXRpbmcpYnJlYWs7aT09ZS5zdGFydChvKSYmbi5wdXNoKG8pfXJldHVybiBufWlwLnByb3RvdHlwZS5wbGFjZVNsaWNlPWZ1bmN0aW9uKHQsZSxuLHIsbyl7aWYoZT4wKXt2YXIgaT10LmZpcnN0Q2hpbGQscz10aGlzLnBsYWNlU2xpY2UoaS5jb250ZW50LE1hdGgubWF4KDAsZS0xKSxuJiYxPT10LmNoaWxkQ291bnQ/bi0xOjAscixpKTtzLmNvbnRlbnQhPWkuY29udGVudCYmKHMuY29udGVudC5zaXplPyh0PXQucmVwbGFjZUNoaWxkKDAsaS5jb3B5KHMuY29udGVudCkpLGU9cy5vcGVuU3RhcnQrMSk6KDE9PXQuY2hpbGRDb3VudCYmKG49MCksdD10LmN1dEJ5SW5kZXgoMSksZT0wKSl9dmFyIGM9dGhpcy5wbGFjZUNvbnRlbnQodCxlLG4scixvKTtpZihyPjImJmMuc2l6ZSYmMD09ZSl7dmFyIGw9Yy5jb250ZW50LmZpcnN0Q2hpbGQsdT0xPT1jLmNvbnRlbnQuY2hpbGRDb3VudDt0aGlzLnBsYWNlQ29udGVudChsLmNvbnRlbnQsMCxuJiZ1P24tMTowLHIsbCksYz11P2FbIkZyYWdtZW50Il0uZW1wdHk6bmV3IGFbIlNsaWNlIl0oYy5jb250ZW50LmN1dEJ5SW5kZXgoMSksMCxuKX1yZXR1cm4gY30saXAucHJvdG90eXBlLnBsYWNlQ29udGVudD1mdW5jdGlvbih0LGUsbixyLG8pe2Zvcih2YXIgaT0wO2k8dC5jaGlsZENvdW50O2krKyl7Zm9yKHZhciBzPXQuY2hpbGQoaSksYz0hMSxsPWk9PXQuY2hpbGRDb3VudC0xLHU9dGhpcy5vcGVuLmxlbmd0aC0xO3U+PTA7dS0tKXt2YXIgcD10aGlzLm9wZW5bdV0sZj12b2lkIDA7aWYocj4xJiYoZj1wLm1hdGNoLmZpbmRXcmFwcGluZyhzLnR5cGUpKSYmKCFvfHwhZi5sZW5ndGh8fGZbZi5sZW5ndGgtMV0hPW8udHlwZSkpe3doaWxlKHRoaXMub3Blbi5sZW5ndGgtMT51KXRoaXMuY2xvc2VOb2RlKCk7Zm9yKHZhciBkPTA7ZDxmLmxlbmd0aDtkKyspcC5tYXRjaD1wLm1hdGNoLm1hdGNoVHlwZShmW2RdKSx1KysscD17cGFyZW50OmZbZF0uY3JlYXRlKCksbWF0Y2g6ZltkXS5jb250ZW50TWF0Y2gsY29udGVudDphWyJGcmFnbWVudCJdLmVtcHR5LHdyYXBwZXI6ITAsb3BlbkVuZDowLGRlcHRoOnUrZH0sdGhpcy5vcGVuLnB1c2gocCl9dmFyIGg9cC5tYXRjaC5tYXRjaFR5cGUocy50eXBlKTtpZighaCl7dmFyIHY9cC5tYXRjaC5maWxsQmVmb3JlKGFbIkZyYWdtZW50Il0uZnJvbShzKSk7aWYoIXYpe2lmKG8mJnAubWF0Y2gubWF0Y2hUeXBlKG8udHlwZSkpYnJlYWs7Y29udGludWV9Zm9yKHZhciBtPTA7bTx2LmNoaWxkQ291bnQ7bSsrKXt2YXIgZz12LmNoaWxkKG0pO3RoaXMuYWRkTm9kZShwLGcsMCksaD1wLm1hdGNoLm1hdGNoRnJhZ21lbnQoZyl9fXdoaWxlKHRoaXMub3Blbi5sZW5ndGgtMT51KXRoaXMuY2xvc2VOb2RlKCk7cz1zLm1hcmsocC5wYXJlbnQudHlwZS5hbGxvd2VkTWFya3Mocy5tYXJrcykpLGUmJihzPXNwKHMsZSxsP246MCksZT0wKSx0aGlzLmFkZE5vZGUocCxzLGw/bjowKSxwLm1hdGNoPWgsbCYmKG49MCksYz0hMDticmVha31pZighYylicmVha31yZXR1cm4gdGhpcy5vcGVuLmxlbmd0aD4xJiYoaT4wJiZpPT10LmNoaWxkQ291bnR8fG8mJnRoaXMub3Blblt0aGlzLm9wZW4ubGVuZ3RoLTFdLnBhcmVudC50eXBlPT1vLnR5cGUpJiZ0aGlzLmNsb3NlTm9kZSgpLG5ldyBhWyJTbGljZSJdKHQuY3V0QnlJbmRleChpKSxlLG4pfSxpcC5wcm90b3R5cGUuYWRkTm9kZT1mdW5jdGlvbih0LGUsbil7dC5jb250ZW50PWNwKHQuY29udGVudCx0Lm9wZW5FbmQpLmFkZFRvRW5kKGUpLHQub3BlbkVuZD1ufSxpcC5wcm90b3R5cGUuY2xvc2VOb2RlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcGVuLnBvcCgpOzA9PXQuY29udGVudC5zaXplfHwodC53cmFwcGVyP3RoaXMuYWRkTm9kZSh0aGlzLm9wZW5bdGhpcy5vcGVuLmxlbmd0aC0xXSx0LnBhcmVudC5jb3B5KHQuY29udGVudCksdC5vcGVuRW5kKzEpOnRoaXMucGxhY2VkW3QuZGVwdGhdPXtkZXB0aDp0LmRlcHRoLGNvbnRlbnQ6dC5jb250ZW50LG9wZW5FbmQ6dC5vcGVuRW5kfSl9LF91LnByb3RvdHlwZS5yZXBsYWNlUmFuZ2U9ZnVuY3Rpb24odCxlLG4pe2lmKCFuLnNpemUpcmV0dXJuIHRoaXMuZGVsZXRlUmFuZ2UodCxlKTt2YXIgcj10aGlzLmRvYy5yZXNvbHZlKHQpLG89dGhpcy5kb2MucmVzb2x2ZShlKTtpZihlcChyLG8sbikpcmV0dXJuIHRoaXMuc3RlcChuZXcgRnUodCxlLG4pKTt2YXIgaT11cChyLHRoaXMuZG9jLnJlc29sdmUoZSkpOzA9PWlbaS5sZW5ndGgtMV0mJmkucG9wKCk7dmFyIHM9LShyLmRlcHRoKzEpO2kudW5zaGlmdChzKTtmb3IodmFyIGM9ci5kZXB0aCxsPXIucG9zLTE7Yz4wO2MtLSxsLS0pe3ZhciB1PXIubm9kZShjKS50eXBlLnNwZWM7aWYodS5kZWZpbmluZ3x8dS5pc29sYXRpbmcpYnJlYWs7aS5pbmRleE9mKGMpPi0xP3M9YzpyLmJlZm9yZShjKT09bCYmaS5zcGxpY2UoMSwwLC1jKX1mb3IodmFyIHA9aS5pbmRleE9mKHMpLGY9W10sZD1uLm9wZW5TdGFydCxoPW4uY29udGVudCx2PTA7O3YrKyl7dmFyIG09aC5maXJzdENoaWxkO2lmKGYucHVzaChtKSx2PT1uLm9wZW5TdGFydClicmVhaztoPW0uY29udGVudH1kPjAmJmZbZC0xXS50eXBlLnNwZWMuZGVmaW5pbmcmJnIubm9kZShwKS50eXBlIT1mW2QtMV0udHlwZT9kLT0xOmQ+PTImJmZbZC0xXS5pc1RleHRibG9jayYmZltkLTJdLnR5cGUuc3BlYy5kZWZpbmluZyYmci5ub2RlKHApLnR5cGUhPWZbZC0yXS50eXBlJiYoZC09Mik7Zm9yKHZhciBnPW4ub3BlblN0YXJ0O2c+PTA7Zy0tKXt2YXIgeT0oZytkKzEpJShuLm9wZW5TdGFydCsxKSx3PWZbeV07aWYodylmb3IodmFyIGI9MDtiPGkubGVuZ3RoO2IrKyl7dmFyIFM9aVsoYitwKSVpLmxlbmd0aF0saz0hMDtTPDAmJihrPSExLFM9LVMpO3ZhciB4PXIubm9kZShTLTEpLEM9ci5pbmRleChTLTEpO2lmKHguY2FuUmVwbGFjZVdpdGgoQyxDLHcudHlwZSx3Lm1hcmtzKSlyZXR1cm4gdGhpcy5yZXBsYWNlKHIuYmVmb3JlKFMpLGs/by5hZnRlcihTKTplLG5ldyBhWyJTbGljZSJdKGxwKG4uY29udGVudCwwLG4ub3BlblN0YXJ0LHkpLHksbi5vcGVuRW5kKSl9fWZvcih2YXIgTz10aGlzLnN0ZXBzLmxlbmd0aCxNPWkubGVuZ3RoLTE7TT49MDtNLS0pe2lmKHRoaXMucmVwbGFjZSh0LGUsbiksdGhpcy5zdGVwcy5sZW5ndGg+TylicmVhazt2YXIgTj1pW01dO008MHx8KHQ9ci5iZWZvcmUoTiksZT1vLmFmdGVyKE4pKX1yZXR1cm4gdGhpc30sX3UucHJvdG90eXBlLnJlcGxhY2VSYW5nZVdpdGg9ZnVuY3Rpb24odCxlLG4pe2lmKCFuLmlzSW5saW5lJiZ0PT1lJiZ0aGlzLmRvYy5yZXNvbHZlKHQpLnBhcmVudC5jb250ZW50LnNpemUpe3ZhciByPUh1KHRoaXMuZG9jLHQsbi50eXBlKTtudWxsIT1yJiYodD1lPXIpfXJldHVybiB0aGlzLnJlcGxhY2VSYW5nZSh0LGUsbmV3IGFbIlNsaWNlIl0oYVsiRnJhZ21lbnQiXS5mcm9tKG4pLDAsMCkpfSxfdS5wcm90b3R5cGUuZGVsZXRlUmFuZ2U9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5kb2MucmVzb2x2ZSh0KSxyPXRoaXMuZG9jLnJlc29sdmUoZSksbz11cChuLHIpLGk9MDtpPG8ubGVuZ3RoO2krKyl7dmFyIHM9b1tpXSxhPWk9PW8ubGVuZ3RoLTE7aWYoYSYmMD09c3x8bi5ub2RlKHMpLnR5cGUuY29udGVudE1hdGNoLnZhbGlkRW5kKXJldHVybiB0aGlzLmRlbGV0ZShuLnN0YXJ0KHMpLHIuZW5kKHMpKTtpZihzPjAmJihhfHxuLm5vZGUocy0xKS5jYW5SZXBsYWNlKG4uaW5kZXgocy0xKSxyLmluZGV4QWZ0ZXIocy0xKSkpKXJldHVybiB0aGlzLmRlbGV0ZShuLmJlZm9yZShzKSxyLmFmdGVyKHMpKX1mb3IodmFyIGM9MTtjPD1uLmRlcHRoO2MrKylpZih0LW4uc3RhcnQoYyk9PW4uZGVwdGgtYyYmZT5uLmVuZChjKSYmci5lbmQoYyktZSE9ci5kZXB0aC1jKXJldHVybiB0aGlzLmRlbGV0ZShuLmJlZm9yZShjKSxlKTtyZXR1cm4gdGhpcy5kZWxldGUodCxlKX07bmV3IHNbIlBsdWdpbktleSJdKCJjb2xsYWIiKTt2YXIgcHA9MjAwLGZwPWZ1bmN0aW9uKCl7fTtmcC5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0Lmxlbmd0aD8odD1mcC5mcm9tKHQpLCF0aGlzLmxlbmd0aCYmdHx8dC5sZW5ndGg8cHAmJnRoaXMubGVhZkFwcGVuZCh0KXx8dGhpcy5sZW5ndGg8cHAmJnQubGVhZlByZXBlbmQodGhpcyl8fHRoaXMuYXBwZW5kSW5uZXIodCkpOnRoaXN9LGZwLnByb3RvdHlwZS5wcmVwZW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0Lmxlbmd0aD9mcC5mcm9tKHQpLmFwcGVuZCh0aGlzKTp0aGlzfSxmcC5wcm90b3R5cGUuYXBwZW5kSW5uZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBocCh0aGlzLHQpfSxmcC5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09ZSYmKGU9dGhpcy5sZW5ndGgpLHQ+PWU/ZnAuZW1wdHk6dGhpcy5zbGljZUlubmVyKE1hdGgubWF4KDAsdCksTWF0aC5taW4odGhpcy5sZW5ndGgsZSkpfSxmcC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe2lmKCEodDwwfHx0Pj10aGlzLmxlbmd0aCkpcmV0dXJuIHRoaXMuZ2V0SW5uZXIodCl9LGZwLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1uJiYobj10aGlzLmxlbmd0aCksZTw9bj90aGlzLmZvckVhY2hJbm5lcih0LGUsbiwwKTp0aGlzLmZvckVhY2hJbnZlcnRlZElubmVyKHQsZSxuLDApfSxmcC5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1uJiYobj10aGlzLmxlbmd0aCk7dmFyIHI9W107cmV0dXJuIHRoaXMuZm9yRWFjaCgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gci5wdXNoKHQoZSxuKSl9KSxlLG4pLHJ9LGZwLmZyb209ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBmcD90OnQmJnQubGVuZ3RoP25ldyBkcCh0KTpmcC5lbXB0eX07dmFyIGRwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMpLHRoaXMudmFsdWVzPWV9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e2xlbmd0aDp7Y29uZmlndXJhYmxlOiEwfSxkZXB0aDp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIGUucHJvdG90eXBlLmZsYXR0ZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXN9LGUucHJvdG90eXBlLnNsaWNlSW5uZXI9ZnVuY3Rpb24odCxuKXtyZXR1cm4gMD09dCYmbj09dGhpcy5sZW5ndGg/dGhpczpuZXcgZSh0aGlzLnZhbHVlcy5zbGljZSh0LG4pKX0sZS5wcm90b3R5cGUuZ2V0SW5uZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudmFsdWVzW3RdfSxlLnByb3RvdHlwZS5mb3JFYWNoSW5uZXI9ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBvPWU7bzxuO28rKylpZighMT09PXQodGhpcy52YWx1ZXNbb10scitvKSlyZXR1cm4hMX0sZS5wcm90b3R5cGUuZm9yRWFjaEludmVydGVkSW5uZXI9ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBvPWUtMTtvPj1uO28tLSlpZighMT09PXQodGhpcy52YWx1ZXNbb10scitvKSlyZXR1cm4hMX0sZS5wcm90b3R5cGUubGVhZkFwcGVuZD1mdW5jdGlvbih0KXtpZih0aGlzLmxlbmd0aCt0Lmxlbmd0aDw9cHApcmV0dXJuIG5ldyBlKHRoaXMudmFsdWVzLmNvbmNhdCh0LmZsYXR0ZW4oKSkpfSxlLnByb3RvdHlwZS5sZWFmUHJlcGVuZD1mdW5jdGlvbih0KXtpZih0aGlzLmxlbmd0aCt0Lmxlbmd0aDw9cHApcmV0dXJuIG5ldyBlKHQuZmxhdHRlbigpLmNvbmNhdCh0aGlzLnZhbHVlcykpfSxuLmxlbmd0aC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXMubGVuZ3RofSxuLmRlcHRoLmdldD1mdW5jdGlvbigpe3JldHVybiAwfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfShmcCk7ZnAuZW1wdHk9bmV3IGRwKFtdKTt2YXIgaHA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3QuY2FsbCh0aGlzKSx0aGlzLmxlZnQ9ZSx0aGlzLnJpZ2h0PW4sdGhpcy5sZW5ndGg9ZS5sZW5ndGgrbi5sZW5ndGgsdGhpcy5kZXB0aD1NYXRoLm1heChlLmRlcHRoLG4uZGVwdGgpKzF9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmZsYXR0ZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZWZ0LmZsYXR0ZW4oKS5jb25jYXQodGhpcy5yaWdodC5mbGF0dGVuKCkpfSxlLnByb3RvdHlwZS5nZXRJbm5lcj1mdW5jdGlvbih0KXtyZXR1cm4gdDx0aGlzLmxlZnQubGVuZ3RoP3RoaXMubGVmdC5nZXQodCk6dGhpcy5yaWdodC5nZXQodC10aGlzLmxlZnQubGVuZ3RoKX0sZS5wcm90b3R5cGUuZm9yRWFjaElubmVyPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXRoaXMubGVmdC5sZW5ndGg7cmV0dXJuIShlPG8mJiExPT09dGhpcy5sZWZ0LmZvckVhY2hJbm5lcih0LGUsTWF0aC5taW4obixvKSxyKSkmJighKG4+byYmITE9PT10aGlzLnJpZ2h0LmZvckVhY2hJbm5lcih0LE1hdGgubWF4KGUtbywwKSxNYXRoLm1pbih0aGlzLmxlbmd0aCxuKS1vLHIrbykpJiZ2b2lkIDApfSxlLnByb3RvdHlwZS5mb3JFYWNoSW52ZXJ0ZWRJbm5lcj1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10aGlzLmxlZnQubGVuZ3RoO3JldHVybiEoZT5vJiYhMT09PXRoaXMucmlnaHQuZm9yRWFjaEludmVydGVkSW5uZXIodCxlLW8sTWF0aC5tYXgobixvKS1vLHIrbykpJiYoIShuPG8mJiExPT09dGhpcy5sZWZ0LmZvckVhY2hJbnZlcnRlZElubmVyKHQsTWF0aC5taW4oZSxvKSxuLHIpKSYmdm9pZCAwKX0sZS5wcm90b3R5cGUuc2xpY2VJbm5lcj1mdW5jdGlvbih0LGUpe2lmKDA9PXQmJmU9PXRoaXMubGVuZ3RoKXJldHVybiB0aGlzO3ZhciBuPXRoaXMubGVmdC5sZW5ndGg7cmV0dXJuIGU8PW4/dGhpcy5sZWZ0LnNsaWNlKHQsZSk6dD49bj90aGlzLnJpZ2h0LnNsaWNlKHQtbixlLW4pOnRoaXMubGVmdC5zbGljZSh0LG4pLmFwcGVuZCh0aGlzLnJpZ2h0LnNsaWNlKDAsZS1uKSl9LGUucHJvdG90eXBlLmxlYWZBcHBlbmQ9ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5yaWdodC5sZWFmQXBwZW5kKHQpO2lmKG4pcmV0dXJuIG5ldyBlKHRoaXMubGVmdCxuKX0sZS5wcm90b3R5cGUubGVhZlByZXBlbmQ9ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5sZWZ0LmxlYWZQcmVwZW5kKHQpO2lmKG4pcmV0dXJuIG5ldyBlKG4sdGhpcy5yaWdodCl9LGUucHJvdG90eXBlLmFwcGVuZElubmVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxlZnQuZGVwdGg+PU1hdGgubWF4KHRoaXMucmlnaHQuZGVwdGgsdC5kZXB0aCkrMT9uZXcgZSh0aGlzLmxlZnQsbmV3IGUodGhpcy5yaWdodCx0KSk6bmV3IGUodGhpcyx0KX0sZX0oZnApLHZwPWZwLG1wPXZwLGdwPTUwMCx5cD1mdW5jdGlvbih0LGUpe3RoaXMuaXRlbXM9dCx0aGlzLmV2ZW50Q291bnQ9ZX07ZnVuY3Rpb24gd3AodCxlKXt2YXIgbjtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0LHIpe2lmKHQuc2VsZWN0aW9uJiYwPT1lLS0pcmV0dXJuIG49ciwhMX0pKSx0LnNsaWNlKG4pfXlwLnByb3RvdHlwZS5wb3BFdmVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7aWYoMD09dGhpcy5ldmVudENvdW50KXJldHVybiBudWxsO2Zvcih2YXIgcixvLGk9dGhpcy5pdGVtcy5sZW5ndGg7O2ktLSl7dmFyIHM9dGhpcy5pdGVtcy5nZXQoaS0xKTtpZihzLnNlbGVjdGlvbil7LS1pO2JyZWFrfX1lJiYocj10aGlzLnJlbWFwcGluZyhpLHRoaXMuaXRlbXMubGVuZ3RoKSxvPXIubWFwcy5sZW5ndGgpO3ZhciBhLGMsbD10LnRyLHU9W10scD1bXTtyZXR1cm4gdGhpcy5pdGVtcy5mb3JFYWNoKChmdW5jdGlvbih0LGUpe2lmKCF0LnN0ZXApcmV0dXJuIHJ8fChyPW4ucmVtYXBwaW5nKGksZSsxKSxvPXIubWFwcy5sZW5ndGgpLG8tLSx2b2lkIHAucHVzaCh0KTtpZihyKXtwLnB1c2gobmV3IGJwKHQubWFwKSk7dmFyIHMsZj10LnN0ZXAubWFwKHIuc2xpY2UobykpO2YmJmwubWF5YmVTdGVwKGYpLmRvYyYmKHM9bC5tYXBwaW5nLm1hcHNbbC5tYXBwaW5nLm1hcHMubGVuZ3RoLTFdLHUucHVzaChuZXcgYnAocyxudWxsLG51bGwsdS5sZW5ndGgrcC5sZW5ndGgpKSksby0tLHMmJnIuYXBwZW5kTWFwKHMsbyl9ZWxzZSBsLm1heWJlU3RlcCh0LnN0ZXApO3JldHVybiB0LnNlbGVjdGlvbj8oYT1yP3Quc2VsZWN0aW9uLm1hcChyLnNsaWNlKG8pKTp0LnNlbGVjdGlvbixjPW5ldyB5cChuLml0ZW1zLnNsaWNlKDAsaSkuYXBwZW5kKHAucmV2ZXJzZSgpLmNvbmNhdCh1KSksbi5ldmVudENvdW50LTEpLCExKTp2b2lkIDB9KSx0aGlzLml0ZW1zLmxlbmd0aCwwKSx7cmVtYWluaW5nOmMsdHJhbnNmb3JtOmwsc2VsZWN0aW9uOmF9fSx5cC5wcm90b3R5cGUuYWRkVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgbz1bXSxpPXRoaXMuZXZlbnRDb3VudCxzPXRoaXMuaXRlbXMsYT0hciYmcy5sZW5ndGg/cy5nZXQocy5sZW5ndGgtMSk6bnVsbCxjPTA7Yzx0LnN0ZXBzLmxlbmd0aDtjKyspe3ZhciBsPXQuc3RlcHNbY10uaW52ZXJ0KHQuZG9jc1tjXSksdT1uZXcgYnAodC5tYXBwaW5nLm1hcHNbY10sbCxlKSxwPXZvaWQgMDsocD1hJiZhLm1lcmdlKHUpKSYmKHU9cCxjP28ucG9wKCk6cz1zLnNsaWNlKDAscy5sZW5ndGgtMSkpLG8ucHVzaCh1KSxlJiYoaSsrLGU9bnVsbCkscnx8KGE9dSl9dmFyIGY9aS1uLmRlcHRoO3JldHVybiBmPmtwJiYocz13cChzLGYpLGktPWYpLG5ldyB5cChzLmFwcGVuZChvKSxpKX0seXAucHJvdG90eXBlLnJlbWFwcGluZz1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBjWyJhIl07cmV0dXJuIHRoaXMuaXRlbXMuZm9yRWFjaCgoZnVuY3Rpb24oZSxyKXt2YXIgbz1udWxsIT1lLm1pcnJvck9mZnNldCYmci1lLm1pcnJvck9mZnNldD49dD9vPW4ubWFwcy5sZW5ndGgtZS5taXJyb3JPZmZzZXQ6bnVsbDtuLmFwcGVuZE1hcChlLm1hcCxvKX0pLHQsZSksbn0seXAucHJvdG90eXBlLmFkZE1hcHM9ZnVuY3Rpb24odCl7cmV0dXJuIDA9PXRoaXMuZXZlbnRDb3VudD90aGlzOm5ldyB5cCh0aGlzLml0ZW1zLmFwcGVuZCh0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBicCh0KX0pKSksdGhpcy5ldmVudENvdW50KX0seXAucHJvdG90eXBlLnJlYmFzZWQ9ZnVuY3Rpb24odCxlKXtpZighdGhpcy5ldmVudENvdW50KXJldHVybiB0aGlzO3ZhciBuPVtdLHI9TWF0aC5tYXgoMCx0aGlzLml0ZW1zLmxlbmd0aC1lKSxvPXQubWFwcGluZyxpPXQuc3RlcHMubGVuZ3RoLHM9dGhpcy5ldmVudENvdW50O3RoaXMuaXRlbXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5zZWxlY3Rpb24mJnMtLX0pLHIpO3ZhciBhPWU7dGhpcy5pdGVtcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1vLmdldE1pcnJvcigtLWEpO2lmKG51bGwhPXIpe2k9TWF0aC5taW4oaSxyKTt2YXIgYz1vLm1hcHNbcl07aWYoZS5zdGVwKXt2YXIgbD10LnN0ZXBzW3JdLmludmVydCh0LmRvY3Nbcl0pLHU9ZS5zZWxlY3Rpb24mJmUuc2VsZWN0aW9uLm1hcChvLnNsaWNlKGErMSxyKSk7dSYmcysrLG4ucHVzaChuZXcgYnAoYyxsLHUpKX1lbHNlIG4ucHVzaChuZXcgYnAoYykpfX0pLHIpO2Zvcih2YXIgYz1bXSxsPWU7bDxpO2wrKyljLnB1c2gobmV3IGJwKG8ubWFwc1tsXSkpO3ZhciB1PXRoaXMuaXRlbXMuc2xpY2UoMCxyKS5hcHBlbmQoYykuYXBwZW5kKG4pLHA9bmV3IHlwKHUscyk7cmV0dXJuIHAuZW1wdHlJdGVtQ291bnQoKT5ncCYmKHA9cC5jb21wcmVzcyh0aGlzLml0ZW1zLmxlbmd0aC1uLmxlbmd0aCkpLHB9LHlwLnByb3RvdHlwZS5lbXB0eUl0ZW1Db3VudD1mdW5jdGlvbigpe3ZhciB0PTA7cmV0dXJuIHRoaXMuaXRlbXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5zdGVwfHx0Kyt9KSksdH0seXAucHJvdG90eXBlLmNvbXByZXNzPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PXRoaXMuaXRlbXMubGVuZ3RoKTt2YXIgZT10aGlzLnJlbWFwcGluZygwLHQpLG49ZS5tYXBzLmxlbmd0aCxyPVtdLG89MDtyZXR1cm4gdGhpcy5pdGVtcy5mb3JFYWNoKChmdW5jdGlvbihpLHMpe2lmKHM+PXQpci5wdXNoKGkpLGkuc2VsZWN0aW9uJiZvKys7ZWxzZSBpZihpLnN0ZXApe3ZhciBhPWkuc3RlcC5tYXAoZS5zbGljZShuKSksYz1hJiZhLmdldE1hcCgpO2lmKG4tLSxjJiZlLmFwcGVuZE1hcChjLG4pLGEpe3ZhciBsPWkuc2VsZWN0aW9uJiZpLnNlbGVjdGlvbi5tYXAoZS5zbGljZShuKSk7bCYmbysrO3ZhciB1LHA9bmV3IGJwKGMuaW52ZXJ0KCksYSxsKSxmPXIubGVuZ3RoLTE7KHU9ci5sZW5ndGgmJnJbZl0ubWVyZ2UocCkpP3JbZl09dTpyLnB1c2gocCl9fWVsc2UgaS5tYXAmJm4tLX0pLHRoaXMuaXRlbXMubGVuZ3RoLDApLG5ldyB5cChtcC5mcm9tKHIucmV2ZXJzZSgpKSxvKX0seXAuZW1wdHk9bmV3IHlwKG1wLmVtcHR5LDApO3ZhciBicD1mdW5jdGlvbih0LGUsbixyKXt0aGlzLm1hcD10LHRoaXMuc3RlcD1lLHRoaXMuc2VsZWN0aW9uPW4sdGhpcy5taXJyb3JPZmZzZXQ9cn07YnAucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuc3RlcCYmdC5zdGVwJiYhdC5zZWxlY3Rpb24pe3ZhciBlPXQuc3RlcC5tZXJnZSh0aGlzLnN0ZXApO2lmKGUpcmV0dXJuIG5ldyBicChlLmdldE1hcCgpLmludmVydCgpLGUsdGhpcy5zZWxlY3Rpb24pfX07dmFyIFNwPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMuZG9uZT10LHRoaXMudW5kb25lPWUsdGhpcy5wcmV2UmFuZ2VzPW4sdGhpcy5wcmV2VGltZT1yfSxrcD0yMDtmdW5jdGlvbiB4cCh0LGUsbixyKXt2YXIgbyxpPW4uZ2V0TWV0YShFcCk7aWYoaSlyZXR1cm4gaS5oaXN0b3J5U3RhdGU7bi5nZXRNZXRhKFJwKSYmKHQ9bmV3IFNwKHQuZG9uZSx0LnVuZG9uZSxudWxsLDApKTt2YXIgcz1uLmdldE1ldGEoImFwcGVuZGVkVHJhbnNhY3Rpb24iKTtpZigwPT1uLnN0ZXBzLmxlbmd0aClyZXR1cm4gdDtpZihzJiZzLmdldE1ldGEoRXApKXJldHVybiBzLmdldE1ldGEoRXApLnJlZG8/bmV3IFNwKHQuZG9uZS5hZGRUcmFuc2Zvcm0obixudWxsLHIsQXAoZSkpLHQudW5kb25lLE9wKG4ubWFwcGluZy5tYXBzW24uc3RlcHMubGVuZ3RoLTFdKSx0LnByZXZUaW1lKTpuZXcgU3AodC5kb25lLHQudW5kb25lLmFkZFRyYW5zZm9ybShuLG51bGwscixBcChlKSksbnVsbCx0LnByZXZUaW1lKTtpZighMT09PW4uZ2V0TWV0YSgiYWRkVG9IaXN0b3J5Iil8fHMmJiExPT09cy5nZXRNZXRhKCJhZGRUb0hpc3RvcnkiKSlyZXR1cm4obz1uLmdldE1ldGEoInJlYmFzZWQiKSk/bmV3IFNwKHQuZG9uZS5yZWJhc2VkKG4sbyksdC51bmRvbmUucmViYXNlZChuLG8pLE1wKHQucHJldlJhbmdlcyxuLm1hcHBpbmcpLHQucHJldlRpbWUpOm5ldyBTcCh0LmRvbmUuYWRkTWFwcyhuLm1hcHBpbmcubWFwcyksdC51bmRvbmUuYWRkTWFwcyhuLm1hcHBpbmcubWFwcyksTXAodC5wcmV2UmFuZ2VzLG4ubWFwcGluZyksdC5wcmV2VGltZSk7dmFyIGE9IXMmJih0LnByZXZUaW1lPChuLnRpbWV8fDApLXIubmV3R3JvdXBEZWxheXx8IUNwKG4sdC5wcmV2UmFuZ2VzKSksYz1zP01wKHQucHJldlJhbmdlcyxuLm1hcHBpbmcpOk9wKG4ubWFwcGluZy5tYXBzW24uc3RlcHMubGVuZ3RoLTFdKTtyZXR1cm4gbmV3IFNwKHQuZG9uZS5hZGRUcmFuc2Zvcm0obixhP2Uuc2VsZWN0aW9uLmdldEJvb2ttYXJrKCk6bnVsbCxyLEFwKGUpKSx5cC5lbXB0eSxjLG4udGltZSl9ZnVuY3Rpb24gQ3AodCxlKXtpZighZSlyZXR1cm4hMTtpZighdC5kb2NDaGFuZ2VkKXJldHVybiEwO3ZhciBuPSExO3JldHVybiB0Lm1hcHBpbmcubWFwc1swXS5mb3JFYWNoKChmdW5jdGlvbih0LHIpe2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bys9Mil0PD1lW28rMV0mJnI+PWVbb10mJihuPSEwKX0pKSxufWZ1bmN0aW9uIE9wKHQpe3ZhciBlPVtdO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQsbixyLG8pe3JldHVybiBlLnB1c2gocixvKX0pKSxlfWZ1bmN0aW9uIE1wKHQsZSl7aWYoIXQpcmV0dXJuIG51bGw7Zm9yKHZhciBuPVtdLHI9MDtyPHQubGVuZ3RoO3IrPTIpe3ZhciBvPWUubWFwKHRbcl0sMSksaT1lLm1hcCh0W3IrMV0sLTEpO288PWkmJm4ucHVzaChvLGkpfXJldHVybiBufWZ1bmN0aW9uIE5wKHQsZSxuLHIpe3ZhciBvPUFwKGUpLGk9RXAuZ2V0KGUpLnNwZWMuY29uZmlnLHM9KHI/dC51bmRvbmU6dC5kb25lKS5wb3BFdmVudChlLG8pO2lmKHMpe3ZhciBhPXMuc2VsZWN0aW9uLnJlc29sdmUocy50cmFuc2Zvcm0uZG9jKSxjPShyP3QuZG9uZTp0LnVuZG9uZSkuYWRkVHJhbnNmb3JtKHMudHJhbnNmb3JtLGUuc2VsZWN0aW9uLmdldEJvb2ttYXJrKCksaSxvKSxsPW5ldyBTcChyP2M6cy5yZW1haW5pbmcscj9zLnJlbWFpbmluZzpjLG51bGwsMCk7bihzLnRyYW5zZm9ybS5zZXRTZWxlY3Rpb24oYSkuc2V0TWV0YShFcCx7cmVkbzpyLGhpc3RvcnlTdGF0ZTpsfSkuc2Nyb2xsSW50b1ZpZXcoKSl9fXZhciBUcD0hMSxEcD1udWxsO2Z1bmN0aW9uIEFwKHQpe3ZhciBlPXQucGx1Z2lucztpZihEcCE9ZSl7VHA9ITEsRHA9ZTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZihlW25dLnNwZWMuaGlzdG9yeVByZXNlcnZlSXRlbXMpe1RwPSEwO2JyZWFrfX1yZXR1cm4gVHB9dmFyIEVwPW5ldyBzWyJQbHVnaW5LZXkiXSgiaGlzdG9yeSIpLFJwPW5ldyBzWyJQbHVnaW5LZXkiXSgiY2xvc2VIaXN0b3J5Iik7ZnVuY3Rpb24gX3AodCl7cmV0dXJuIHQ9e2RlcHRoOnQmJnQuZGVwdGh8fDEwMCxuZXdHcm91cERlbGF5OnQmJnQubmV3R3JvdXBEZWxheXx8NTAwfSxuZXcgc1siUGx1Z2luIl0oe2tleTpFcCxzdGF0ZTp7aW5pdDpmdW5jdGlvbigpe3JldHVybiBuZXcgU3AoeXAuZW1wdHkseXAuZW1wdHksbnVsbCwwKX0sYXBwbHk6ZnVuY3Rpb24oZSxuLHIpe3JldHVybiB4cChuLHIsZSx0KX19LGNvbmZpZzp0fSl9ZnVuY3Rpb24gUHAodCxlKXt2YXIgbj1FcC5nZXRTdGF0ZSh0KTtyZXR1cm4hKCFufHwwPT1uLmRvbmUuZXZlbnRDb3VudCkmJihlJiZOcChuLHQsZSwhMSksITApfWZ1bmN0aW9uIHpwKHQsZSl7dmFyIG49RXAuZ2V0U3RhdGUodCk7cmV0dXJuISghbnx8MD09bi51bmRvbmUuZXZlbnRDb3VudCkmJihlJiZOcChuLHQsZSwhMCksITApfWZ1bmN0aW9uIElwKHQpe3ZhciBlPUVwLmdldFN0YXRlKHQpO3JldHVybiBlP2UuZG9uZS5ldmVudENvdW50OjB9ZnVuY3Rpb24gQnAodCl7dmFyIGU9RXAuZ2V0U3RhdGUodCk7cmV0dXJuIGU/ZS51bmRvbmUuZXZlbnRDb3VudDowfQovKiEKICAgICogdGlwdGFwLWV4dGVuc2lvbnMgdjEuMjguNQogICAgKiAoYykgMjAxOSBTY3J1bXB5IFVHIChsaW1pdGVkIGxpYWJpbGl0eSkKICAgICogQGxpY2Vuc2UgTUlUCiAgICAqL2Z1bmN0aW9uIFZwKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gRnAodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1mdW5jdGlvbiBqcCh0LGUsbil7cmV0dXJuIGUmJkZwKHQucHJvdG90eXBlLGUpLG4mJkZwKHQsbiksdH1mdW5jdGlvbiAkcCh0LGUsbil7cmV0dXJuIGUgaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9ZnVuY3Rpb24gTHAodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIEhwKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP0xwKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7JHAodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOkxwKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fWZ1bmN0aW9uIFdwKHQsZSl7aWYoImZ1bmN0aW9uIiE9PXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiZKcCh0LGUpfWZ1bmN0aW9uIHFwKHQpe3JldHVybiBxcD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxxcCh0KX1mdW5jdGlvbiBKcCh0LGUpe3JldHVybiBKcD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sSnAodCxlKX1mdW5jdGlvbiBLcCh0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7cmV0dXJuIHR9ZnVuY3Rpb24gVXAodCxlKXtyZXR1cm4hZXx8Im9iamVjdCIhPT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9PXR5cGVvZiBlP0twKHQpOmV9ZnVuY3Rpb24gR3AodCl7cmV0dXJuIFhwKHQpfHxZcCh0KXx8WnAoKX1mdW5jdGlvbiBYcCh0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxuPW5ldyBBcnJheSh0Lmxlbmd0aCk7ZTx0Lmxlbmd0aDtlKyspbltlXT10W2VdO3JldHVybiBufX1mdW5jdGlvbiBZcCh0KXtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSlyZXR1cm4gQXJyYXkuZnJvbSh0KX1mdW5jdGlvbiBacCgpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9dmFyIFFwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gVnAodGhpcyxlKSxVcCh0aGlzLHFwKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIFdwKGUsdCksanAoZSxbe2tleToiY29tbWFuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZSxuPXQuc2NoZW1hO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB5byhlLG4ubm9kZXMucGFyYWdyYXBoKX19fSx7a2V5OiJrZXlzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJueyJDdHJsLT4iOnlvKGUpfX19LHtrZXk6ImlucHV0UnVsZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm5bQnIoL15ccyo+XHMkLyxlKV19fSx7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iYmxvY2txdW90ZSJ9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybntjb250ZW50OiJibG9jayoiLGdyb3VwOiJibG9jayIsZGVmaW5pbmc6ITAsZHJhZ2dhYmxlOiExLHBhcnNlRE9NOlt7dGFnOiJibG9ja3F1b3RlIn1dLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuWyJibG9ja3F1b3RlIiwwXX19fX1dKSxlfShVbyksdGY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBWcCh0aGlzLGUpLFVwKHRoaXMscXAoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gV3AoZSx0KSxqcChlLFt7a2V5OiJjb21tYW5kcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlLG49dC5zY2hlbWE7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGdvKGUsbi5ub2Rlcy5saXN0X2l0ZW0pfX19LHtrZXk6ImtleXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZSxuPXQuc2NoZW1hO3JldHVybnsiU2hpZnQtQ3RybC04IjpnbyhlLG4ubm9kZXMubGlzdF9pdGVtKX19fSx7a2V5OiJpbnB1dFJ1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuW0JyKC9eXHMqKFstKypdKVxzJC8sZSldfX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuImJ1bGxldF9saXN0In19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue2NvbnRlbnQ6Imxpc3RfaXRlbSsiLGdyb3VwOiJibG9jayIscGFyc2VET006W3t0YWc6InVsIn1dLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuWyJ1bCIsMF19fX19XSksZX0oVW8pLGVmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gVnAodGhpcyxlKSxVcCh0aGlzLHFwKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIFdwKGUsdCksanAoZSxbe2tleToiY29tbWFuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZSxuPXQuc2NoZW1hO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB2byhlLG4ubm9kZXMucGFyYWdyYXBoKX19fSx7a2V5OiJrZXlzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJueyJTaGlmdC1DdHJsLVxcIjpicihlKX19fSx7a2V5OiJpbnB1dFJ1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuW1ZyKC9eYGBgJC8sZSldfX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuImNvZGVfYmxvY2sifX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57Y29udGVudDoidGV4dCoiLG1hcmtzOiIiLGdyb3VwOiJibG9jayIsY29kZTohMCxkZWZpbmluZzohMCxkcmFnZ2FibGU6ITEscGFyc2VET006W3t0YWc6InByZSIscHJlc2VydmVXaGl0ZXNwYWNlOiJmdWxsIn1dLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuWyJwcmUiLFsiY29kZSIsMF1dfX19fV0pLGV9KFVvKTt2YXIgbmY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBWcCh0aGlzLGUpLFVwKHRoaXMscXAoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gV3AoZSx0KSxqcChlLFt7a2V5OiJrZXlzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGUsbj14cihmciwoZnVuY3Rpb24odCxuKXtyZXR1cm4gbih0LnRyLnJlcGxhY2VTZWxlY3Rpb25XaXRoKGUuY3JlYXRlKCkpLnNjcm9sbEludG9WaWV3KCkpLCEwfSkpO3JldHVybnsiTW9kLUVudGVyIjpuLCJTaGlmdC1FbnRlciI6bn19fSx7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iaGFyZF9icmVhayJ9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybntpbmxpbmU6ITAsZ3JvdXA6ImlubGluZSIsc2VsZWN0YWJsZTohMSxwYXJzZURPTTpbe3RhZzoiYnIifV0sdG9ET006ZnVuY3Rpb24oKXtyZXR1cm5bImJyIl19fX19XSksZX0oVW8pLHJmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gVnAodGhpcyxlKSxVcCh0aGlzLHFwKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIFdwKGUsdCksanAoZSxbe2tleToiY29tbWFuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZSxuPXQuc2NoZW1hO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdm8oZSxuLm5vZGVzLnBhcmFncmFwaCx0KX19fSx7a2V5OiJrZXlzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuIHRoaXMub3B0aW9ucy5sZXZlbHMucmVkdWNlKChmdW5jdGlvbih0LG4pe3JldHVybiBIcCh7fSx0LHt9LCRwKHt9LCJTaGlmdC1DdHJsLSIuY29uY2F0KG4pLGJyKGUse2xldmVsOm59KSkpfSkse30pfX0se2tleToiaW5wdXRSdWxlcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybiB0aGlzLm9wdGlvbnMubGV2ZWxzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIFZyKG5ldyBSZWdFeHAoIl4oI3sxLCIuY29uY2F0KHQsIn0pXFxzJCIpKSxlLChmdW5jdGlvbigpe3JldHVybntsZXZlbDp0fX0pKX0pKX19LHtrZXk6Im5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiJoZWFkaW5nIn19LHtrZXk6ImRlZmF1bHRPcHRpb25zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57bGV2ZWxzOlsxLDIsMyw0LDUsNl19fX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57YXR0cnM6e2xldmVsOntkZWZhdWx0OjF9fSxjb250ZW50OiJpbmxpbmUqIixncm91cDoiYmxvY2siLGRlZmluaW5nOiEwLGRyYWdnYWJsZTohMSxwYXJzZURPTTp0aGlzLm9wdGlvbnMubGV2ZWxzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue3RhZzoiaCIuY29uY2F0KHQpLGF0dHJzOntsZXZlbDp0fX19KSksdG9ET006ZnVuY3Rpb24odCl7cmV0dXJuWyJoIi5jb25jYXQodC5hdHRycy5sZXZlbCksMF19fX19XSksZX0oVW8pLG9mPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gVnAodGhpcyxlKSxVcCh0aGlzLHFwKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIFdwKGUsdCksanAoZSxbe2tleToia2V5cyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybntFbnRlcjpacihlKSxUYWI6bm8oZSksIlNoaWZ0LVRhYiI6UXIoZSl9fX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuImxpc3RfaXRlbSJ9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybntjb250ZW50OiJwYXJhZ3JhcGggYmxvY2sqIixkZWZpbmluZzohMCxkcmFnZ2FibGU6ITEscGFyc2VET006W3t0YWc6ImxpIn1dLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuWyJsaSIsMF19fX19XSksZX0oVW8pO3ZhciBzZj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIFZwKHRoaXMsZSksVXAodGhpcyxxcChlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBXcChlLHQpLGpwKGUsW3trZXk6ImNvbW1hbmRzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGUsbj10LnNjaGVtYTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZ28oZSxuLm5vZGVzLmxpc3RfaXRlbSl9fX0se2tleToia2V5cyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlLG49dC5zY2hlbWE7cmV0dXJueyJTaGlmdC1DdHJsLTkiOmdvKGUsbi5ub2Rlcy5saXN0X2l0ZW0pfX19LHtrZXk6ImlucHV0UnVsZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm5bQnIoL14oXGQrKVwuXHMkLyxlLChmdW5jdGlvbih0KXtyZXR1cm57b3JkZXI6K3RbMV19fSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuY2hpbGRDb3VudCtlLmF0dHJzLm9yZGVyPT09K3RbMV19KSldfX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIm9yZGVyZWRfbGlzdCJ9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybnthdHRyczp7b3JkZXI6e2RlZmF1bHQ6MX19LGNvbnRlbnQ6Imxpc3RfaXRlbSsiLGdyb3VwOiJibG9jayIscGFyc2VET006W3t0YWc6Im9sIixnZXRBdHRyczpmdW5jdGlvbih0KXtyZXR1cm57b3JkZXI6dC5oYXNBdHRyaWJ1dGUoInN0YXJ0Iik/K3QuZ2V0QXR0cmlidXRlKCJzdGFydCIpOjF9fX1dLHRvRE9NOmZ1bmN0aW9uKHQpe3JldHVybiAxPT09dC5hdHRycy5vcmRlcj9bIm9sIiwwXTpbIm9sIix7c3RhcnQ6dC5hdHRycy5vcmRlcn0sMF19fX19XSksZX0oVW8pLGFmPU9iamVjdCh4dVsidGFibGVOb2RlcyJdKSh7dGFibGVHcm91cDoiYmxvY2siLGNlbGxDb250ZW50OiJibG9jaysiLGNlbGxBdHRyaWJ1dGVzOntiYWNrZ3JvdW5kOntkZWZhdWx0Om51bGwsZ2V0RnJvbURPTTpmdW5jdGlvbih0KXtyZXR1cm4gdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3J8fG51bGx9LHNldERPTUF0dHI6ZnVuY3Rpb24odCxlKXtpZih0KXt2YXIgbj17c3R5bGU6IiIuY29uY2F0KGUuc3R5bGV8fCIiLCJiYWNrZ3JvdW5kLWNvbG9yOiAiKS5jb25jYXQodCwiOyIpfTtPYmplY3QuYXNzaWduKGUsbil9fX19fSksY2Y9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBWcCh0aGlzLGUpLFVwKHRoaXMscXAoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gV3AoZSx0KSxqcChlLFt7a2V5OiJjb21tYW5kcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5zY2hlbWE7cmV0dXJue2NyZWF0ZVRhYmxlOmZ1bmN0aW9uKHQpe3ZhciBuPXQucm93c0NvdW50LHI9dC5jb2xzQ291bnQsbz10LndpdGhIZWFkZXJSb3c7cmV0dXJuIGZ1bmN0aW9uKHQsaSl7dmFyIGE9dC50ci5zZWxlY3Rpb24uYW5jaG9yKzEsYz1PYmplY3QoRnJbImNyZWF0ZVRhYmxlIl0pKGUsbixyLG8pLGw9dC50ci5yZXBsYWNlU2VsZWN0aW9uV2l0aChjKS5zY3JvbGxJbnRvVmlldygpLHU9bC5kb2MucmVzb2x2ZShhKTtsLnNldFNlbGVjdGlvbihzWyJUZXh0U2VsZWN0aW9uIl0ubmVhcih1KSksaShsKX19LGFkZENvbHVtbkJlZm9yZTpmdW5jdGlvbigpe3JldHVybiB4dVsiYWRkQ29sdW1uQmVmb3JlIl19LGFkZENvbHVtbkFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHh1WyJhZGRDb2x1bW5BZnRlciJdfSxkZWxldGVDb2x1bW46ZnVuY3Rpb24oKXtyZXR1cm4geHVbImRlbGV0ZUNvbHVtbiJdfSxhZGRSb3dCZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4geHVbImFkZFJvd0JlZm9yZSJdfSxhZGRSb3dBZnRlcjpmdW5jdGlvbigpe3JldHVybiB4dVsiYWRkUm93QWZ0ZXIiXX0sZGVsZXRlUm93OmZ1bmN0aW9uKCl7cmV0dXJuIHh1WyJkZWxldGVSb3ciXX0sZGVsZXRlVGFibGU6ZnVuY3Rpb24oKXtyZXR1cm4geHVbImRlbGV0ZVRhYmxlIl19LHRvZ2dsZUNlbGxNZXJnZTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUpe09iamVjdCh4dVsibWVyZ2VDZWxscyJdKSh0LGUpfHxPYmplY3QoeHVbInNwbGl0Q2VsbCJdKSh0LGUpfX0sbWVyZ2VDZWxsczpmdW5jdGlvbigpe3JldHVybiB4dVsibWVyZ2VDZWxscyJdfSxzcGxpdENlbGw6ZnVuY3Rpb24oKXtyZXR1cm4geHVbInNwbGl0Q2VsbCJdfSx0b2dnbGVIZWFkZXJDb2x1bW46ZnVuY3Rpb24oKXtyZXR1cm4geHVbInRvZ2dsZUhlYWRlckNvbHVtbiJdfSx0b2dnbGVIZWFkZXJSb3c6ZnVuY3Rpb24oKXtyZXR1cm4geHVbInRvZ2dsZUhlYWRlclJvdyJdfSx0b2dnbGVIZWFkZXJDZWxsOmZ1bmN0aW9uKCl7cmV0dXJuIHh1WyJ0b2dnbGVIZWFkZXJDZWxsIl19LHNldENlbGxBdHRyOmZ1bmN0aW9uKCl7cmV0dXJuIHh1WyJzZXRDZWxsQXR0ciJdfSxmaXhUYWJsZXM6ZnVuY3Rpb24oKXtyZXR1cm4geHVbImZpeFRhYmxlcyJdfX19fSx7a2V5OiJrZXlzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybntUYWI6T2JqZWN0KHh1WyJnb1RvTmV4dENlbGwiXSkoMSksIlNoaWZ0LVRhYiI6T2JqZWN0KHh1WyJnb1RvTmV4dENlbGwiXSkoLTEpfX19LHtrZXk6Im5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiJ0YWJsZSJ9fSx7a2V5OiJkZWZhdWx0T3B0aW9ucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue3Jlc2l6YWJsZTohMX19fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiBhZi50YWJsZX19LHtrZXk6InBsdWdpbnMiLGdldDpmdW5jdGlvbigpe3JldHVybltdLmNvbmNhdChHcCh0aGlzLm9wdGlvbnMucmVzaXphYmxlP1tPYmplY3QoeHVbImNvbHVtblJlc2l6aW5nIl0pKCldOltdKSxbT2JqZWN0KHh1WyJ0YWJsZUVkaXRpbmciXSkoKV0pfX1dKSxlfShVbyksbGY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBWcCh0aGlzLGUpLFVwKHRoaXMscXAoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gV3AoZSx0KSxqcChlLFt7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4idGFibGVfaGVhZGVyIn19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGFmLnRhYmxlX2hlYWRlcn19XSksZX0oVW8pLHVmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gVnAodGhpcyxlKSxVcCh0aGlzLHFwKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIFdwKGUsdCksanAoZSxbe2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuInRhYmxlX2NlbGwifX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYWYudGFibGVfY2VsbH19XSksZX0oVW8pLHBmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gVnAodGhpcyxlKSxVcCh0aGlzLHFwKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIFdwKGUsdCksanAoZSxbe2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuInRhYmxlX3JvdyJ9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiBhZi50YWJsZV9yb3d9fV0pLGV9KFVvKSxmZj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIFZwKHRoaXMsZSksVXAodGhpcyxxcChlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBXcChlLHQpLGpwKGUsW3trZXk6ImtleXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm57RW50ZXI6aG8oZSksVGFiOnRoaXMub3B0aW9ucy5uZXN0ZWQ/bm8oZSk6ZnVuY3Rpb24oKXt9LCJTaGlmdC1UYWIiOlFyKGUpfX19LHtrZXk6Im5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiJ0b2RvX2l0ZW0ifX0se2tleToiZGVmYXVsdE9wdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybntuZXN0ZWQ6ITF9fX0se2tleToidmlldyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue3Byb3BzOlsibm9kZSIsInVwZGF0ZUF0dHJzIiwidmlldyJdLG1ldGhvZHM6e29uQ2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy51cGRhdGVBdHRycyh7ZG9uZTohdGhpcy5ub2RlLmF0dHJzLmRvbmV9KX19LHRlbXBsYXRlOidcbiAgICAgICAgPGxpIDpkYXRhLXR5cGU9Im5vZGUudHlwZS5uYW1lIiA6ZGF0YS1kb25lPSJub2RlLmF0dHJzLmRvbmUudG9TdHJpbmcoKSIgZGF0YS1kcmFnLWhhbmRsZT5cbiAgICAgICAgICA8c3BhbiBjbGFzcz0idG9kby1jaGVja2JveCIgY29udGVudGVkaXRhYmxlPSJmYWxzZSIgQGNsaWNrPSJvbkNoYW5nZSI+PC9zcGFuPlxuICAgICAgICAgIDxkaXYgY2xhc3M9InRvZG8tY29udGVudCIgcmVmPSJjb250ZW50IiA6Y29udGVudGVkaXRhYmxlPSJ2aWV3LmVkaXRhYmxlLnRvU3RyaW5nKCkiPjwvZGl2PlxuICAgICAgICA8L2xpPlxuICAgICAgJ319fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJue2F0dHJzOntkb25lOntkZWZhdWx0OiExfX0sZHJhZ2dhYmxlOiEwLGNvbnRlbnQ6dGhpcy5vcHRpb25zLm5lc3RlZD8iKHBhcmFncmFwaHx0b2RvX2xpc3QpKyI6InBhcmFncmFwaCsiLHRvRE9NOmZ1bmN0aW9uKGUpe3ZhciBuPWUuYXR0cnMuZG9uZTtyZXR1cm5bImxpIix7ImRhdGEtdHlwZSI6dC5uYW1lLCJkYXRhLWRvbmUiOm4udG9TdHJpbmcoKX0sWyJzcGFuIix7Y2xhc3M6InRvZG8tY2hlY2tib3giLGNvbnRlbnRlZGl0YWJsZToiZmFsc2UifV0sWyJkaXYiLHtjbGFzczoidG9kby1jb250ZW50In0sMF1dfSxwYXJzZURPTTpbe3ByaW9yaXR5OjUxLHRhZzonW2RhdGEtdHlwZT0iJy5jb25jYXQodGhpcy5uYW1lLCciXScpLGdldEF0dHJzOmZ1bmN0aW9uKHQpe3JldHVybntkb25lOiJ0cnVlIj09PXQuZ2V0QXR0cmlidXRlKCJkYXRhLWRvbmUiKX19fV19fX1dKSxlfShVbyksZGY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBWcCh0aGlzLGUpLFVwKHRoaXMscXAoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gV3AoZSx0KSxqcChlLFt7a2V5OiJjb21tYW5kcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlLG49dC5zY2hlbWE7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGdvKGUsbi5ub2Rlcy50b2RvX2l0ZW0pfX19LHtrZXk6ImlucHV0UnVsZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm5bQnIoL15ccyooXFsgXF0pXHMkLyxlKV19fSx7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4idG9kb19saXN0In19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm57Z3JvdXA6ImJsb2NrIixjb250ZW50OiJ0b2RvX2l0ZW0rIix0b0RPTTpmdW5jdGlvbigpe3JldHVyblsidWwiLHsiZGF0YS10eXBlIjp0Lm5hbWV9LDBdfSxwYXJzZURPTTpbe3ByaW9yaXR5OjUxLHRhZzonW2RhdGEtdHlwZT0iJy5jb25jYXQodGhpcy5uYW1lLCciXScpfV19fX1dKSxlfShVbyksaGY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBWcCh0aGlzLGUpLFVwKHRoaXMscXAoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gV3AoZSx0KSxqcChlLFt7a2V5OiJrZXlzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJueyJNb2QtYiI6a3IoZSl9fX0se2tleToiY29tbWFuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4ga3IoZSl9fX0se2tleToiaW5wdXRSdWxlcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybltjbygvKD86XCpcKnxfXykoW14qX10rKSg/OlwqXCp8X18pJC8sZSldfX0se2tleToicGFzdGVSdWxlcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVyblt1bygvKD86XCpcKnxfXykoW14qX10rKSg/OlwqXCp8X18pL2csZSldfX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuImJvbGQifX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57cGFyc2VET006W3t0YWc6InN0cm9uZyJ9LHt0YWc6ImIiLGdldEF0dHJzOmZ1bmN0aW9uKHQpe3JldHVybiJub3JtYWwiIT09dC5zdHlsZS5mb250V2VpZ2h0JiZudWxsfX0se3N0eWxlOiJmb250LXdlaWdodCIsZ2V0QXR0cnM6ZnVuY3Rpb24odCl7cmV0dXJuL14oYm9sZChlcik/fFs1LTldXGR7Mix9KSQvLnRlc3QodCkmJm51bGx9fV0sdG9ET006ZnVuY3Rpb24oKXtyZXR1cm5bInN0cm9uZyIsMF19fX19XSksZX0oSm8pLHZmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gVnAodGhpcyxlKSxVcCh0aGlzLHFwKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIFdwKGUsdCksanAoZSxbe2tleToia2V5cyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybnsiTW9kLWAiOmtyKGUpfX19LHtrZXk6ImNvbW1hbmRzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGtyKGUpfX19LHtrZXk6ImlucHV0UnVsZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm5bY28oLyg/OmApKFteYF0rKSg/OmApJC8sZSldfX0se2tleToicGFzdGVSdWxlcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVyblt1bygvKD86YCkoW15gXSspKD86YCkvZyxlKV19fSx7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iY29kZSJ9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybntleGNsdWRlczoiXyIscGFyc2VET006W3t0YWc6ImNvZGUifV0sdG9ET006ZnVuY3Rpb24oKXtyZXR1cm5bImNvZGUiLDBdfX19fV0pLGV9KEpvKSxtZj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIFZwKHRoaXMsZSksVXAodGhpcyxxcChlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBXcChlLHQpLGpwKGUsW3trZXk6ImtleXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm57Ik1vZC1pIjprcihlKX19fSx7a2V5OiJjb21tYW5kcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBrcihlKX19fSx7a2V5OiJpbnB1dFJ1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuW2NvKC8oPzpefFteX10pKF8oW15fXSspXykkLyxlKSxjbygvKD86XnxbXipdKShcKihbXipdKylcKikkLyxlKV19fSx7a2V5OiJwYXN0ZVJ1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuW3VvKC9fKFteX10rKV8vZyxlKSx1bygvXCooW14qXSspXCovZyxlKV19fSx7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iaXRhbGljIn19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue3BhcnNlRE9NOlt7dGFnOiJpIn0se3RhZzoiZW0ifSx7c3R5bGU6ImZvbnQtc3R5bGU9aXRhbGljIn1dLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuWyJlbSIsMF19fX19XSksZX0oSm8pLGdmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gVnAodGhpcyxlKSxVcCh0aGlzLHFwKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIFdwKGUsdCksanAoZSxbe2tleToiY29tbWFuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQuaHJlZj93byhlLHQpOnBvKGUpfX19LHtrZXk6InBhc3RlUnVsZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm5bbG8oL2h0dHBzPzpcL1wvKHd3d1wuKT9bLWEtekEtWjAtOUA6JS5fK34jPV17MiwyNTZ9XC5bYS16QS1aXXsyLH1cYihbLWEtekEtWjAtOUA6JV8rLn4jPyYvLz1dKikvZyxlLChmdW5jdGlvbih0KXtyZXR1cm57aHJlZjp0fX0pKV19fSx7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4ibGluayJ9fSx7a2V5OiJkZWZhdWx0T3B0aW9ucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue29wZW5PbkNsaWNrOiEwfX19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue2F0dHJzOntocmVmOntkZWZhdWx0Om51bGx9fSxpbmNsdXNpdmU6ITEscGFyc2VET006W3t0YWc6ImFbaHJlZl0iLGdldEF0dHJzOmZ1bmN0aW9uKHQpe3JldHVybntocmVmOnQuZ2V0QXR0cmlidXRlKCJocmVmIil9fX1dLHRvRE9NOmZ1bmN0aW9uKHQpe3JldHVyblsiYSIsSHAoe30sdC5hdHRycyx7cmVsOiJub29wZW5lciBub3JlZmVycmVyIG5vZm9sbG93In0pLDBdfX19fSx7a2V5OiJwbHVnaW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLm9wZW5PbkNsaWNrP1tuZXcgc1siUGx1Z2luIl0oe3Byb3BzOntoYW5kbGVDbGljazpmdW5jdGlvbih0LGUsbil7dmFyIHI9dC5zdGF0ZS5zY2hlbWEsbz1Xcih0LnN0YXRlLHIubWFya3MubGluayk7by5ocmVmJiZuLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxBbmNob3JFbGVtZW50JiYobi5zdG9wUHJvcGFnYXRpb24oKSx3aW5kb3cub3BlbihvLmhyZWYpKX19fSldOltdfX1dKSxlfShKbykseWY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBWcCh0aGlzLGUpLFVwKHRoaXMscXAoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gV3AoZSx0KSxqcChlLFt7a2V5OiJrZXlzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJueyJNb2QtZCI6a3IoZSl9fX0se2tleToiY29tbWFuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4ga3IoZSl9fX0se2tleToiaW5wdXRSdWxlcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybltjbygvfihbXn5dKyl+JC8sZSldfX0se2tleToicGFzdGVSdWxlcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVyblt1bygvfihbXn5dKyl+L2csZSldfX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuInN0cmlrZSJ9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybntwYXJzZURPTTpbe3RhZzoicyJ9LHt0YWc6ImRlbCJ9LHt0YWc6InN0cmlrZSJ9LHtzdHlsZToidGV4dC1kZWNvcmF0aW9uIixnZXRBdHRyczpmdW5jdGlvbih0KXtyZXR1cm4ibGluZS10aHJvdWdoIj09PXR9fV0sdG9ET006ZnVuY3Rpb24oKXtyZXR1cm5bInMiLDBdfX19fV0pLGV9KEpvKSx3Zj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIFZwKHRoaXMsZSksVXAodGhpcyxxcChlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBXcChlLHQpLGpwKGUsW3trZXk6ImtleXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm57Ik1vZC11IjprcihlKX19fSx7a2V5OiJjb21tYW5kcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBrcihlKX19fSx7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4idW5kZXJsaW5lIn19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue3BhcnNlRE9NOlt7dGFnOiJ1In0se3N0eWxlOiJ0ZXh0LWRlY29yYXRpb24iLGdldEF0dHJzOmZ1bmN0aW9uKHQpe3JldHVybiJ1bmRlcmxpbmUiPT09dH19XSx0b0RPTTpmdW5jdGlvbigpe3JldHVyblsidSIsMF19fX19XSksZX0oSm8pLGJmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gVnAodGhpcyxlKSxVcCh0aGlzLHFwKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIFdwKGUsdCksanAoZSxbe2tleToia2V5cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD17Ik1vZC16IjpQcCwiTW9kLXkiOnpwLCJTaGlmdC1Nb2QteiI6enB9O3JldHVybiB0fX0se2tleToiY29tbWFuZHMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue3VuZG86ZnVuY3Rpb24oKXtyZXR1cm4gUHB9LHJlZG86ZnVuY3Rpb24oKXtyZXR1cm4genB9LHVuZG9EZXB0aDpmdW5jdGlvbigpe3JldHVybiBJcH0scmVkb0RlcHRoOmZ1bmN0aW9uKCl7cmV0dXJuIEJwfX19fSx7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iaGlzdG9yeSJ9fSx7a2V5OiJkZWZhdWx0T3B0aW9ucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue2RlcHRoOiIiLG5ld0dyb3VwRGVsYXk6IiJ9fX0se2tleToicGx1Z2lucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuW19wKHtkZXB0aDp0aGlzLm9wdGlvbnMuZGVwdGgsbmV3R3JvdXBEZWxheTp0aGlzLm9wdGlvbnMubmV3R3JvdXBEZWxheX0pXX19XSksZX0oSG8pO2Z1bmN0aW9uIFNmKCl7cmV0dXJuW25ldyBRcCxuZXcgdGYsbmV3IGVmLG5ldyBuZixuZXcgcmYsbmV3IG9mLG5ldyBzZixuZXcgZmYsbmV3IGRmLG5ldyBnZixuZXcgY2Yoe3Jlc2l6YWJsZTohMH0pLG5ldyBsZixuZXcgdWYsbmV3IHBmLG5ldyBoZixuZXcgdmYsbmV3IG1mLG5ldyB5ZixuZXcgd2YsbmV3IGJmXX12YXIga2Y9e2luamVjdDpbImNvcmUiXSxjb21wb25lbnRzOntFZGl0b3JDb250ZW50OnRpLEVkaXRvck1lbnVCYXI6cmksSWNvbjp0c30scHJvcHM6e2ZpZWxkTmFtZTpTdHJpbmcsdmFsdWU6U3RyaW5nfSxtb3VudGVkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy4kcHJvcHMsZT10LnZhbHVlLG49dC5maWVsZE5hbWU7dGhpcy5jb3JlLnNldEZvcm1WYWx1ZShuLGUpfSxkYXRhOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuJHByb3BzLmZpZWxkTmFtZTtyZXR1cm57ZWRpdG9yOm5ldyBRbyh7Y29udGVudDp0aGlzLiRwcm9wcy52YWx1ZSxleHRlbnNpb25zOlNmKCksb25VcGRhdGU6ZnVuY3Rpb24obil7dmFyIHI9bi5nZXRIVE1MLG89cigpO2UmJjAhPWUubGVuZ3RoJiZ0LmNvcmUuc2V0Rm9ybVZhbHVlKGUsbyl9fSl9fSxiZWZvcmVEZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lZGl0b3IuZGVzdHJveSgpfX0seGY9a2YsQ2Y9WmkoeGYsbyxpLCExLG51bGwsbnVsbCxudWxsKSxPZj1DZi5leHBvcnRzOyh3aW5kb3cuX19nb3BsYWlkVnVlQ29tcG9uZW50UmVnaXN0ZXJzPXdpbmRvdy5fX2dvcGxhaWRWdWVDb21wb25lbnRSZWdpc3RlcnN8fFtdKS5wdXNoKChmdW5jdGlvbih0KXt0LmNvbXBvbmVudCgidGlwdGFwLWVkaXRvciIsT2YpfSkpfSxmYzZhOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI0NGFkIiksbz1uKCIxZDgwIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByKG8odCkpfX0sZmRiYzpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17Q1NTUnVsZUxpc3Q6MCxDU1NTdHlsZURlY2xhcmF0aW9uOjAsQ1NTVmFsdWVMaXN0OjAsQ2xpZW50UmVjdExpc3Q6MCxET01SZWN0TGlzdDowLERPTVN0cmluZ0xpc3Q6MCxET01Ub2tlbkxpc3Q6MSxEYXRhVHJhbnNmZXJJdGVtTGlzdDowLEZpbGVMaXN0OjAsSFRNTEFsbENvbGxlY3Rpb246MCxIVE1MQ29sbGVjdGlvbjowLEhUTUxGb3JtRWxlbWVudDowLEhUTUxTZWxlY3RFbGVtZW50OjAsTWVkaWFMaXN0OjAsTWltZVR5cGVBcnJheTowLE5hbWVkTm9kZU1hcDowLE5vZGVMaXN0OjEsUGFpbnRSZXF1ZXN0TGlzdDowLFBsdWdpbjowLFBsdWdpbkFycmF5OjAsU1ZHTGVuZ3RoTGlzdDowLFNWR051bWJlckxpc3Q6MCxTVkdQYXRoU2VnTGlzdDowLFNWR1BvaW50TGlzdDowLFNWR1N0cmluZ0xpc3Q6MCxTVkdUcmFuc2Zvcm1MaXN0OjAsU291cmNlQnVmZmVyTGlzdDowLFN0eWxlU2hlZXRMaXN0OjAsVGV4dFRyYWNrQ3VlTGlzdDowLFRleHRUcmFja0xpc3Q6MCxUb3VjaExpc3Q6MH19LGZkYmY6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjQ5MzAiKTt0LmV4cG9ydHM9ciYmIVN5bWJvbC5zaGFtJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbCgpfX0pWyJkZWZhdWx0Il19KSk7\"")
}
