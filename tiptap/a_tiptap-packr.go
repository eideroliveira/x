// Code generated by github.com/gobuffalo/packr. DO NOT EDIT.

package tiptap

import "github.com/gobuffalo/packr"

// You can use the "packr clean" command to clean up this,
// and any other packr generated files.
func init() {
	_ = packr.PackJSONBytes("./tiptapjs/dist/", "tiptap.css", "\"LnRpcHRhcC1lZGl0b3J7cG9zaXRpb246cmVsYXRpdmV9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnR7b3ZlcmZsb3ctd3JhcDpicmVhay13b3JkO3dvcmQtd3JhcDpicmVhay13b3JkO3dvcmQtYnJlYWs6YnJlYWstd29yZH0udGlwdGFwLWVkaXRvcl9fY29udGVudCAqe2NhcmV0LWNvbG9yOmN1cnJlbnRDb2xvcn0udGlwdGFwLWVkaXRvcl9fY29udGVudCBibG9ja3F1b3RlLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgxLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgyLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgzLC50aXB0YXAtZWRpdG9yX19jb250ZW50IG9sLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHAsLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgcHJlLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHVse21hcmdpbjoxcmVtIDB9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgYmxvY2txdW90ZTpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBoMTpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBoMjpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBoMzpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBvbDpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBwOmZpcnN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHByZTpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCB1bDpmaXJzdC1jaGlsZHttYXJnaW4tdG9wOjB9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgYmxvY2txdW90ZTpsYXN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgxOmxhc3QtY2hpbGQsLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgaDI6bGFzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBoMzpsYXN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IG9sOmxhc3QtY2hpbGQsLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgcDpsYXN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHByZTpsYXN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHVsOmxhc3QtY2hpbGR7bWFyZ2luLWJvdHRvbTowfS50aXB0YXAtZWRpdG9yX19jb250ZW50IGgxLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgyLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgze2xpbmUtaGVpZ2h0OjEuM30udGlwdGFwLWVkaXRvcl9fY29udGVudCBwcmV7cGFkZGluZzouN3JlbSAxcmVtO2JvcmRlci1yYWRpdXM6NXB4O2JhY2tncm91bmQ6IzAwMDtjb2xvcjojZmZmO2ZvbnQtc2l6ZTouOHJlbTtvdmVyZmxvdy14OmF1dG99LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgcHJlIGNvZGV7ZGlzcGxheTpibG9ja30udGlwdGFwLWVkaXRvcl9fY29udGVudCBwIGNvZGV7ZGlzcGxheTppbmxpbmUtYmxvY2s7cGFkZGluZzowIC40cmVtO2JvcmRlci1yYWRpdXM6NXB4O2ZvbnQtc2l6ZTouOHJlbTtmb250LXdlaWdodDo3MDA7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4xKTtjb2xvcjpyZ2JhKDAsMCwwLC44KX0udGlwdGFwLWVkaXRvcl9fY29udGVudCBvbCwudGlwdGFwLWVkaXRvcl9fY29udGVudCB1bHtwYWRkaW5nLWxlZnQ6MXJlbX0udGlwdGFwLWVkaXRvcl9fY29udGVudCBsaT5vbCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBsaT5wLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGxpPnVse21hcmdpbjowfS50aXB0YXAtZWRpdG9yX19jb250ZW50IGF7Y29sb3I6aW5oZXJpdH0udGlwdGFwLWVkaXRvcl9fY29udGVudCBibG9ja3F1b3Rle2JvcmRlci1sZWZ0OjNweCBzb2xpZCByZ2JhKDAsMCwwLC4xKTtjb2xvcjpyZ2JhKDAsMCwwLC44KTtwYWRkaW5nLWxlZnQ6LjhyZW07Zm9udC1zdHlsZTppdGFsaWN9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgYmxvY2txdW90ZSBwe21hcmdpbjowfS50aXB0YXAtZWRpdG9yX19jb250ZW50IGltZ3ttYXgtd2lkdGg6MTAwJTtib3JkZXItcmFkaXVzOjNweH0udGlwdGFwLWVkaXRvcl9fY29udGVudCB0YWJsZXtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7dGFibGUtbGF5b3V0OmZpeGVkO3dpZHRoOjEwMCU7bWFyZ2luOjA7b3ZlcmZsb3c6aGlkZGVufS50aXB0YXAtZWRpdG9yX19jb250ZW50IHRhYmxlIHRkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHRhYmxlIHRoe21pbi13aWR0aDoxZW07Ym9yZGVyOjJweCBzb2xpZCAjZGRkO3BhZGRpbmc6M3B4IDVweDt2ZXJ0aWNhbC1hbGlnbjp0b3A7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlfS50aXB0YXAtZWRpdG9yX19jb250ZW50IHRhYmxlIHRkPiosLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgdGFibGUgdGg+KnttYXJnaW4tYm90dG9tOjB9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgdGFibGUgdGh7Zm9udC13ZWlnaHQ6NzAwO3RleHQtYWxpZ246bGVmdH0udGlwdGFwLWVkaXRvcl9fY29udGVudCB0YWJsZSAuc2VsZWN0ZWRDZWxsOmFmdGVye3otaW5kZXg6Mjtwb3NpdGlvbjphYnNvbHV0ZTtjb250ZW50OiIiO2xlZnQ6MDtyaWdodDowO3RvcDowO2JvdHRvbTowO2JhY2tncm91bmQ6cmdiYSgyMDAsMjAwLDI1NSwuNCk7cG9pbnRlci1ldmVudHM6bm9uZX0udGlwdGFwLWVkaXRvcl9fY29udGVudCB0YWJsZSAuY29sdW1uLXJlc2l6ZS1oYW5kbGV7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6LTJweDt0b3A6MDtib3R0b206MDt3aWR0aDo0cHg7ei1pbmRleDoyMDtiYWNrZ3JvdW5kLWNvbG9yOiNhZGY7cG9pbnRlci1ldmVudHM6bm9uZX0udGlwdGFwLWVkaXRvcl9fY29udGVudCAudGFibGVXcmFwcGVye21hcmdpbjoxZW0gMDtvdmVyZmxvdy14OmF1dG99LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgLnJlc2l6ZS1jdXJzb3J7Y3Vyc29yOmV3LXJlc2l6ZTtjdXJzb3I6Y29sLXJlc2l6ZX0ubWVudWJhcnttYXJnaW4tYm90dG9tOjFyZW07LXdlYmtpdC10cmFuc2l0aW9uOnZpc2liaWxpdHkgLjJzIC40cyxvcGFjaXR5IC4ycyAuNHM7dHJhbnNpdGlvbjp2aXNpYmlsaXR5IC4ycyAuNHMsb3BhY2l0eSAuMnMgLjRzfS5tZW51YmFyLmlzLWhpZGRlbnt2aXNpYmlsaXR5OmhpZGRlbjtvcGFjaXR5OjB9Lm1lbnViYXIuaXMtZm9jdXNlZHt2aXNpYmlsaXR5OnZpc2libGU7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNpdGlvbjp2aXNpYmlsaXR5IC4ycyxvcGFjaXR5IC4yczt0cmFuc2l0aW9uOnZpc2liaWxpdHkgLjJzLG9wYWNpdHkgLjJzfS5tZW51YmFyX19idXR0b257Zm9udC13ZWlnaHQ6NzAwO2Rpc3BsYXk6LXdlYmtpdC1pbmxpbmUtYm94O2Rpc3BsYXk6LW1zLWlubGluZS1mbGV4Ym94O2Rpc3BsYXk6aW5saW5lLWZsZXg7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtib3JkZXI6MDtjb2xvcjojMDAwO3BhZGRpbmc6LjJyZW0gLjVyZW07bWFyZ2luLXJpZ2h0Oi4ycmVtO2JvcmRlci1yYWRpdXM6M3B4O2N1cnNvcjpwb2ludGVyfS5tZW51YmFyX19idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4wNSl9Lm1lbnViYXJfX2J1dHRvbi5pcy1hY3RpdmV7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4xKX0ubWVudWJhciBzcGFuLm1lbnViYXJfX2J1dHRvbntmb250LXNpemU6MTMuMzMzM3B4fS5tZW51YnViYmxle3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7ei1pbmRleDoyMDtiYWNrZ3JvdW5kOiMwMDA7Ym9yZGVyLXJhZGl1czo1cHg7cGFkZGluZzouM3JlbTttYXJnaW4tYm90dG9tOi41cmVtOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7dmlzaWJpbGl0eTpoaWRkZW47b3BhY2l0eTowOy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC4ycyx2aXNpYmlsaXR5IC4yczt0cmFuc2l0aW9uOm9wYWNpdHkgLjJzLHZpc2liaWxpdHkgLjJzfS5tZW51YnViYmxlLmlzLWFjdGl2ZXtvcGFjaXR5OjE7dmlzaWJpbGl0eTp2aXNpYmxlfS5tZW51YnViYmxlX19idXR0b257ZGlzcGxheTotd2Via2l0LWlubGluZS1ib3g7ZGlzcGxheTotbXMtaW5saW5lLWZsZXhib3g7ZGlzcGxheTppbmxpbmUtZmxleDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JvcmRlcjowO2NvbG9yOiNmZmY7cGFkZGluZzouMnJlbSAuNXJlbTttYXJnaW4tcmlnaHQ6LjJyZW07Ym9yZGVyLXJhZGl1czozcHg7Y3Vyc29yOnBvaW50ZXJ9Lm1lbnVidWJibGVfX2J1dHRvbjpsYXN0LWNoaWxke21hcmdpbi1yaWdodDowfS5tZW51YnViYmxlX19idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpoc2xhKDAsMCUsMTAwJSwuMSl9Lm1lbnVidWJibGVfX2J1dHRvbi5pcy1hY3RpdmV7YmFja2dyb3VuZC1jb2xvcjpoc2xhKDAsMCUsMTAwJSwuMil9Lm1lbnVidWJibGVfX2Zvcm17ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn0ubWVudWJ1YmJsZV9faW5wdXR7Zm9udDppbmhlcml0O2JvcmRlcjpub25lO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Y29sb3I6I2ZmZn0uaWNvbltkYXRhLXYtZTU5Zjc4MzJde3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTt3aWR0aDouOHJlbTtoZWlnaHQ6LjhyZW07bWFyZ2luOjAgLjNyZW07dG9wOi4wNXJlbTtmaWxsOmN1cnJlbnRDb2xvcn0uaWNvbiBzdmdbZGF0YS12LWU1OWY3ODMyXXtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjp0b3A7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0uaWNvbltkYXRhLXYtZTU5Zjc4MzJdOmZpcnN0LWNoaWxke21hcmdpbi1sZWZ0OjB9Lmljb25bZGF0YS12LWU1OWY3ODMyXTpsYXN0LWNoaWxke21hcmdpbi1yaWdodDowfQ==\"")
	_ = packr.PackJSONBytes("./tiptapjs/dist/", "tiptap.umd.min.js", "\"KGZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PT10eXBlb2YgZXhwb3J0cyYmIm9iamVjdCI9PT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUocmVxdWlyZSgiVnVlIikpOiJmdW5jdGlvbiI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbIlZ1ZSJdLGUpOiJvYmplY3QiPT09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0c1sidGlwdGFwIl09ZShyZXF1aXJlKCJWdWUiKSk6dFsidGlwdGFwIl09ZSh0WyJWdWUiXSl9KSgidW5kZWZpbmVkIiE9PXR5cGVvZiBzZWxmP3NlbGY6dGhpcywoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4ocil7aWYoZVtyXSlyZXR1cm4gZVtyXS5leHBvcnRzO3ZhciBvPWVbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W3JdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLG4pLG8ubD0hMCxvLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUscil7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5yPWZ1bmN0aW9uKHQpeyJ1bmRlZmluZWQiIT09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOiJNb2R1bGUifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24odCxlKXtpZigxJmUmJih0PW4odCkpLDgmZSlyZXR1cm4gdDtpZig0JmUmJiJvYmplY3QiPT09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkociwiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImZSYmInN0cmluZyIhPXR5cGVvZiB0KWZvcih2YXIgbyBpbiB0KW4uZChyLG8sZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19LmJpbmQobnVsbCxvKSk7cmV0dXJuIHJ9LG4ubj1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdFsiZGVmYXVsdCJdfTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gbi5kKGUsImEiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPSIiLG4obi5zPSJmYWUzIil9KHsiMDBlZSI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImI2MjIiKSxvPXIoInRvU3RyaW5nVGFnIiksaT17fTtpW29dPSJ6Iix0LmV4cG9ydHM9IltvYmplY3Qgel0iPT09U3RyaW5nKGkpfSwiMDEwOSI6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZn09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5mfSxpLmNvbmNhdChbbigiY2lyY2xlIix7YXR0cnM6e2N4OiIyLjUiLGN5OiIzLjk5OCIscjoiMi41In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik04LjUgNUgyM2ExIDEgMCAwMDAtMkg4LjVhMSAxIDAgMDAwIDJ6In19KSxuKCJjaXJjbGUiLHthdHRyczp7Y3g6IjIuNSIsY3k6IjExLjk5OCIscjoiMi41In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMyAxMUg4LjVhMSAxIDAgMDAwIDJIMjNhMSAxIDAgMDAwLTJ6In19KSxuKCJjaXJjbGUiLHthdHRyczp7Y3g6IjIuNSIsY3k6IjE5Ljk5OCIscjoiMi41In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMyAxOUg4LjVhMSAxIDAgMDAwIDJIMjNhMSAxIDAgMDAwLTJ6In19KV0pKX19fSwiMDM2NiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjFjMGIiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2lmKHIodCksdm9pZCAwPT09ZSlyZXR1cm4gdDtzd2l0Y2gobil7Y2FzZSAwOnJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmNhbGwoZSl9O2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQuY2FsbChlLG4pfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIHQuY2FsbChlLG4scil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24obixyLG8pe3JldHVybiB0LmNhbGwoZSxuLHIsbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19fSwiMDU3ZiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImZjNmEiKSxvPW4oIjI0MWMiKS5mLGk9e30udG9TdHJpbmcscz0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdLGE9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBvKHQpfWNhdGNoKGUpe3JldHVybiBzLnNsaWNlKCl9fTt0LmV4cG9ydHMuZj1mdW5jdGlvbih0KXtyZXR1cm4gcyYmIltvYmplY3QgV2luZG93XSI9PWkuY2FsbCh0KT9hKHQpOm8ocih0KSl9fSwiMDZjZiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjgzYWIiKSxvPW4oImQxZTciKSxpPW4oIjVjNmMiKSxzPW4oImZjNmEiKSxhPW4oImMwNGUiKSxjPW4oIjUxMzUiKSxsPW4oIjBjZmIiKSx1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7ZS5mPXI/dTpmdW5jdGlvbih0LGUpe2lmKHQ9cyh0KSxlPWEoZSwhMCksbCl0cnl7cmV0dXJuIHUodCxlKX1jYXRjaChuKXt9aWYoYyh0LGUpKXJldHVybiBpKCFvLmYuY2FsbCh0LGUpLHRbZV0pfX0sIjA3M2UiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiNWRiZSIpLG89aShFcnJvcik7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gZS5kaXNwbGF5TmFtZT10LmRpc3BsYXlOYW1lfHx0Lm5hbWUsZTtmdW5jdGlvbiBlKGUpe3JldHVybiBlJiYoZT1yLmFwcGx5KG51bGwsYXJndW1lbnRzKSksbmV3IHQoZSl9fXQuZXhwb3J0cz1vLG8uZXZhbD1pKEV2YWxFcnJvciksby5yYW5nZT1pKFJhbmdlRXJyb3IpLG8ucmVmZXJlbmNlPWkoUmVmZXJlbmNlRXJyb3IpLG8uc3ludGF4PWkoU3ludGF4RXJyb3IpLG8udHlwZT1pKFR5cGVFcnJvciksby51cmk9aShVUklFcnJvciksby5jcmVhdGU9aX0sIjBhYzAiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gd30pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBnfSkpLG4uZChlLCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxuLmQoZSwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIER9KSksbi5kKGUsImciLChmdW5jdGlvbigpe3JldHVybiBBfSkpLG4uZChlLCJoIiwoZnVuY3Rpb24oKXtyZXR1cm4gUH0pKSxuLmQoZSwiaSIsKGZ1bmN0aW9uKCl7cmV0dXJuIE99KSksbi5kKGUsImoiLChmdW5jdGlvbigpe3JldHVybiBSfSkpLG4uZChlLCJrIiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKTt2YXIgcj1uKCIzMDRhIiksbz02NTUzNSxpPU1hdGgucG93KDIsMTYpO2Z1bmN0aW9uIHModCxlKXtyZXR1cm4gdCtlKml9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gdCZvfWZ1bmN0aW9uIGModCl7cmV0dXJuKHQtKHQmbykpL2l9dmFyIGw9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPSExKSx2b2lkIDA9PT1uJiYobj1udWxsKSx0aGlzLnBvcz10LHRoaXMuZGVsZXRlZD1lLHRoaXMucmVjb3Zlcj1ufSx1PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMucmFuZ2VzPXQsdGhpcy5pbnZlcnRlZD1lfTt1LnByb3RvdHlwZS5yZWNvdmVyPWZ1bmN0aW9uKHQpe3ZhciBlPTAsbj1hKHQpO2lmKCF0aGlzLmludmVydGVkKWZvcih2YXIgcj0wO3I8bjtyKyspZSs9dGhpcy5yYW5nZXNbMypyKzJdLXRoaXMucmFuZ2VzWzMqcisxXTtyZXR1cm4gdGhpcy5yYW5nZXNbMypuXStlK2ModCl9LHUucHJvdG90eXBlLm1hcFJlc3VsdD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0xKSx0aGlzLl9tYXAodCxlLCExKX0sdS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTEpLHRoaXMuX21hcCh0LGUsITApfSx1LnByb3RvdHlwZS5fbWFwPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9MCxvPXRoaXMuaW52ZXJ0ZWQ/MjoxLGk9dGhpcy5pbnZlcnRlZD8xOjIsYT0wO2E8dGhpcy5yYW5nZXMubGVuZ3RoO2ErPTMpe3ZhciBjPXRoaXMucmFuZ2VzW2FdLSh0aGlzLmludmVydGVkP3I6MCk7aWYoYz50KWJyZWFrO3ZhciB1PXRoaXMucmFuZ2VzW2Erb10sZj10aGlzLnJhbmdlc1thK2ldLGQ9Yyt1O2lmKHQ8PWQpe3ZhciBwPXU/dD09Yz8tMTp0PT1kPzE6ZTplLGg9YytyKyhwPDA/MDpmKTtpZihuKXJldHVybiBoO3ZhciB2PXQ9PShlPDA/YzpkKT9udWxsOnMoYS8zLHQtYyk7cmV0dXJuIG5ldyBsKGgsZTwwP3QhPWM6dCE9ZCx2KX1yKz1mLXV9cmV0dXJuIG4/dCtyOm5ldyBsKHQrcil9LHUucHJvdG90eXBlLnRvdWNoZXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxyPWEoZSksbz10aGlzLmludmVydGVkPzI6MSxpPXRoaXMuaW52ZXJ0ZWQ/MToyLHM9MDtzPHRoaXMucmFuZ2VzLmxlbmd0aDtzKz0zKXt2YXIgYz10aGlzLnJhbmdlc1tzXS0odGhpcy5pbnZlcnRlZD9uOjApO2lmKGM+dClicmVhazt2YXIgbD10aGlzLnJhbmdlc1tzK29dLHU9YytsO2lmKHQ8PXUmJnM9PTMqcilyZXR1cm4hMDtuKz10aGlzLnJhbmdlc1tzK2ldLWx9cmV0dXJuITF9LHUucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuaW52ZXJ0ZWQ/MjoxLG49dGhpcy5pbnZlcnRlZD8xOjIscj0wLG89MDtyPHRoaXMucmFuZ2VzLmxlbmd0aDtyKz0zKXt2YXIgaT10aGlzLnJhbmdlc1tyXSxzPWktKHRoaXMuaW52ZXJ0ZWQ/bzowKSxhPWkrKHRoaXMuaW52ZXJ0ZWQ/MDpvKSxjPXRoaXMucmFuZ2VzW3IrZV0sbD10aGlzLnJhbmdlc1tyK25dO3QocyxzK2MsYSxhK2wpLG8rPWwtY319LHUucHJvdG90eXBlLmludmVydD1mdW5jdGlvbigpe3JldHVybiBuZXcgdSh0aGlzLnJhbmdlcywhdGhpcy5pbnZlcnRlZCl9LHUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuaW52ZXJ0ZWQ/Ii0iOiIiKStKU09OLnN0cmluZ2lmeSh0aGlzLnJhbmdlcyl9LHUub2Zmc2V0PWZ1bmN0aW9uKHQpe3JldHVybiAwPT10P3UuZW1wdHk6bmV3IHUodDwwP1swLC10LDBdOlswLDAsdF0pfSx1LmVtcHR5PW5ldyB1KFtdKTt2YXIgZj1mdW5jdGlvbih0LGUsbixyKXt0aGlzLm1hcHM9dHx8W10sdGhpcy5mcm9tPW58fDAsdGhpcy50bz1udWxsPT1yP3RoaXMubWFwcy5sZW5ndGg6cix0aGlzLm1pcnJvcj1lfTtmdW5jdGlvbiBkKHQpe3ZhciBlPUVycm9yLmNhbGwodGhpcyx0KTtyZXR1cm4gZS5fX3Byb3RvX189ZC5wcm90b3R5cGUsZX1mLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT10aGlzLm1hcHMubGVuZ3RoKSxuZXcgZih0aGlzLm1hcHMsdGhpcy5taXJyb3IsdCxlKX0sZi5wcm90b3R5cGUuY29weT1mdW5jdGlvbigpe3JldHVybiBuZXcgZih0aGlzLm1hcHMuc2xpY2UoKSx0aGlzLm1pcnJvciYmdGhpcy5taXJyb3Iuc2xpY2UoKSx0aGlzLmZyb20sdGhpcy50byl9LGYucHJvdG90eXBlLmFwcGVuZE1hcD1mdW5jdGlvbih0LGUpe3RoaXMudG89dGhpcy5tYXBzLnB1c2godCksbnVsbCE9ZSYmdGhpcy5zZXRNaXJyb3IodGhpcy5tYXBzLmxlbmd0aC0xLGUpfSxmLnByb3RvdHlwZS5hcHBlbmRNYXBwaW5nPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5tYXBzLmxlbmd0aDtlPHQubWFwcy5sZW5ndGg7ZSsrKXt2YXIgcj10LmdldE1pcnJvcihlKTt0aGlzLmFwcGVuZE1hcCh0Lm1hcHNbZV0sbnVsbCE9ciYmcjxlP24rcjpudWxsKX19LGYucHJvdG90eXBlLmdldE1pcnJvcj1mdW5jdGlvbih0KXtpZih0aGlzLm1pcnJvcilmb3IodmFyIGU9MDtlPHRoaXMubWlycm9yLmxlbmd0aDtlKyspaWYodGhpcy5taXJyb3JbZV09PXQpcmV0dXJuIHRoaXMubWlycm9yW2UrKGUlMj8tMToxKV19LGYucHJvdG90eXBlLnNldE1pcnJvcj1mdW5jdGlvbih0LGUpe3RoaXMubWlycm9yfHwodGhpcy5taXJyb3I9W10pLHRoaXMubWlycm9yLnB1c2godCxlKX0sZi5wcm90b3R5cGUuYXBwZW5kTWFwcGluZ0ludmVydGVkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lm1hcHMubGVuZ3RoLTEsbj10aGlzLm1hcHMubGVuZ3RoK3QubWFwcy5sZW5ndGg7ZT49MDtlLS0pe3ZhciByPXQuZ2V0TWlycm9yKGUpO3RoaXMuYXBwZW5kTWFwKHQubWFwc1tlXS5pbnZlcnQoKSxudWxsIT1yJiZyPmU/bi1yLTE6bnVsbCl9fSxmLnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZjtyZXR1cm4gdC5hcHBlbmRNYXBwaW5nSW52ZXJ0ZWQodGhpcyksdH0sZi5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9MSksdGhpcy5taXJyb3IpcmV0dXJuIHRoaXMuX21hcCh0LGUsITApO2Zvcih2YXIgbj10aGlzLmZyb207bjx0aGlzLnRvO24rKyl0PXRoaXMubWFwc1tuXS5tYXAodCxlKTtyZXR1cm4gdH0sZi5wcm90b3R5cGUubWFwUmVzdWx0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTEpLHRoaXMuX21hcCh0LGUsITEpfSxmLnByb3RvdHlwZS5fbWFwPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9ITEsbz10aGlzLmZyb207bzx0aGlzLnRvO28rKyl7dmFyIGk9dGhpcy5tYXBzW29dLHM9aS5tYXBSZXN1bHQodCxlKTtpZihudWxsIT1zLnJlY292ZXIpe3ZhciBhPXRoaXMuZ2V0TWlycm9yKG8pO2lmKG51bGwhPWEmJmE+byYmYTx0aGlzLnRvKXtvPWEsdD10aGlzLm1hcHNbYV0ucmVjb3ZlcihzLnJlY292ZXIpO2NvbnRpbnVlfX1zLmRlbGV0ZWQmJihyPSEwKSx0PXMucG9zfXJldHVybiBuP3Q6bmV3IGwodCxyKX0sZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLGQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWQsZC5wcm90b3R5cGUubmFtZT0iVHJhbnNmb3JtRXJyb3IiO3ZhciBwPWZ1bmN0aW9uKHQpe3RoaXMuZG9jPXQsdGhpcy5zdGVwcz1bXSx0aGlzLmRvY3M9W10sdGhpcy5tYXBwaW5nPW5ldyBmfSxoPXtiZWZvcmU6e2NvbmZpZ3VyYWJsZTohMH0sZG9jQ2hhbmdlZDp7Y29uZmlndXJhYmxlOiEwfX07ZnVuY3Rpb24gdigpe3Rocm93IG5ldyBFcnJvcigiT3ZlcnJpZGUgbWUiKX1oLmJlZm9yZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb2NzLmxlbmd0aD90aGlzLmRvY3NbMF06dGhpcy5kb2N9LHAucHJvdG90eXBlLnN0ZXA9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5tYXliZVN0ZXAodCk7aWYoZS5mYWlsZWQpdGhyb3cgbmV3IGQoZS5mYWlsZWQpO3JldHVybiB0aGlzfSxwLnByb3RvdHlwZS5tYXliZVN0ZXA9ZnVuY3Rpb24odCl7dmFyIGU9dC5hcHBseSh0aGlzLmRvYyk7cmV0dXJuIGUuZmFpbGVkfHx0aGlzLmFkZFN0ZXAodCxlLmRvYyksZX0saC5kb2NDaGFuZ2VkLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0ZXBzLmxlbmd0aD4wfSxwLnByb3RvdHlwZS5hZGRTdGVwPWZ1bmN0aW9uKHQsZSl7dGhpcy5kb2NzLnB1c2godGhpcy5kb2MpLHRoaXMuc3RlcHMucHVzaCh0KSx0aGlzLm1hcHBpbmcuYXBwZW5kTWFwKHQuZ2V0TWFwKCkpLHRoaXMuZG9jPWV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAucHJvdG90eXBlLGgpO3ZhciBtPU9iamVjdC5jcmVhdGUobnVsbCksZz1mdW5jdGlvbigpe307Zy5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7cmV0dXJuIHYoKX0sZy5wcm90b3R5cGUuZ2V0TWFwPWZ1bmN0aW9uKCl7cmV0dXJuIHUuZW1wdHl9LGcucHJvdG90eXBlLmludmVydD1mdW5jdGlvbih0KXtyZXR1cm4gdigpfSxnLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7cmV0dXJuIHYoKX0sZy5wcm90b3R5cGUubWVyZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9LGcucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB2KCl9LGcuZnJvbUpTT049ZnVuY3Rpb24odCxlKXtpZighZXx8IWUuc3RlcFR5cGUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIFN0ZXAuZnJvbUpTT04iKTt2YXIgbj1tW2Uuc3RlcFR5cGVdO2lmKCFuKXRocm93IG5ldyBSYW5nZUVycm9yKCJObyBzdGVwIHR5cGUgIitlLnN0ZXBUeXBlKyIgZGVmaW5lZCIpO3JldHVybiBuLmZyb21KU09OKHQsZSl9LGcuanNvbklEPWZ1bmN0aW9uKHQsZSl7aWYodCBpbiBtKXRocm93IG5ldyBSYW5nZUVycm9yKCJEdXBsaWNhdGUgdXNlIG9mIHN0ZXAgSlNPTiBJRCAiK3QpO3JldHVybiBtW3RdPWUsZS5wcm90b3R5cGUuanNvbklEPXQsZX07dmFyIHk9ZnVuY3Rpb24odCxlKXt0aGlzLmRvYz10LHRoaXMuZmFpbGVkPWV9O3kub2s9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB5KHQsbnVsbCl9LHkuZmFpbD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHkobnVsbCx0KX0seS5mcm9tUmVwbGFjZT1mdW5jdGlvbih0LGUsbixvKXt0cnl7cmV0dXJuIHkub2sodC5yZXBsYWNlKGUsbixvKSl9Y2F0Y2goaSl7aWYoaSBpbnN0YW5jZW9mIHJbIlJlcGxhY2VFcnJvciJdKXJldHVybiB5LmZhaWwoaS5tZXNzYWdlKTt0aHJvdyBpfX07dmFyIGI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvKXt0LmNhbGwodGhpcyksdGhpcy5mcm9tPWUsdGhpcy50bz1uLHRoaXMuc2xpY2U9cix0aGlzLnN0cnVjdHVyZT0hIW99cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0cnVjdHVyZSYmUyh0LHRoaXMuZnJvbSx0aGlzLnRvKT95LmZhaWwoIlN0cnVjdHVyZSByZXBsYWNlIHdvdWxkIG92ZXJ3cml0ZSBjb250ZW50Iik6eS5mcm9tUmVwbGFjZSh0LHRoaXMuZnJvbSx0aGlzLnRvLHRoaXMuc2xpY2UpfSxlLnByb3RvdHlwZS5nZXRNYXA9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHUoW3RoaXMuZnJvbSx0aGlzLnRvLXRoaXMuZnJvbSx0aGlzLnNsaWNlLnNpemVdKX0sZS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0aGlzLmZyb20sdGhpcy5mcm9tK3RoaXMuc2xpY2Uuc2l6ZSx0LnNsaWNlKHRoaXMuZnJvbSx0aGlzLnRvKSl9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXt2YXIgbj10Lm1hcFJlc3VsdCh0aGlzLmZyb20sMSkscj10Lm1hcFJlc3VsdCh0aGlzLnRvLC0xKTtyZXR1cm4gbi5kZWxldGVkJiZyLmRlbGV0ZWQ/bnVsbDpuZXcgZShuLnBvcyxNYXRoLm1heChuLnBvcyxyLnBvcyksdGhpcy5zbGljZSl9LGUucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIGUpfHx0LnN0cnVjdHVyZSE9dGhpcy5zdHJ1Y3R1cmUpcmV0dXJuIG51bGw7aWYodGhpcy5mcm9tK3RoaXMuc2xpY2Uuc2l6ZSE9dC5mcm9tfHx0aGlzLnNsaWNlLm9wZW5FbmR8fHQuc2xpY2Uub3BlblN0YXJ0KXtpZih0LnRvIT10aGlzLmZyb218fHRoaXMuc2xpY2Uub3BlblN0YXJ0fHx0LnNsaWNlLm9wZW5FbmQpcmV0dXJuIG51bGw7dmFyIG49dGhpcy5zbGljZS5zaXplK3Quc2xpY2Uuc2l6ZT09MD9yWyJTbGljZSJdLmVtcHR5Om5ldyByWyJTbGljZSJdKHQuc2xpY2UuY29udGVudC5hcHBlbmQodGhpcy5zbGljZS5jb250ZW50KSx0LnNsaWNlLm9wZW5TdGFydCx0aGlzLnNsaWNlLm9wZW5FbmQpO3JldHVybiBuZXcgZSh0LmZyb20sdGhpcy50byxuLHRoaXMuc3RydWN0dXJlKX12YXIgbz10aGlzLnNsaWNlLnNpemUrdC5zbGljZS5zaXplPT0wP3JbIlNsaWNlIl0uZW1wdHk6bmV3IHJbIlNsaWNlIl0odGhpcy5zbGljZS5jb250ZW50LmFwcGVuZCh0LnNsaWNlLmNvbnRlbnQpLHRoaXMuc2xpY2Uub3BlblN0YXJ0LHQuc2xpY2Uub3BlbkVuZCk7cmV0dXJuIG5ldyBlKHRoaXMuZnJvbSx0aGlzLnRvKyh0LnRvLXQuZnJvbSksbyx0aGlzLnN0cnVjdHVyZSl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciB0PXtzdGVwVHlwZToicmVwbGFjZSIsZnJvbTp0aGlzLmZyb20sdG86dGhpcy50b307cmV0dXJuIHRoaXMuc2xpY2Uuc2l6ZSYmKHQuc2xpY2U9dGhpcy5zbGljZS50b0pTT04oKSksdGhpcy5zdHJ1Y3R1cmUmJih0LnN0cnVjdHVyZT0hMCksdH0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbi5mcm9tfHwibnVtYmVyIiE9dHlwZW9mIG4udG8pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIFJlcGxhY2VTdGVwLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKG4uZnJvbSxuLnRvLHJbIlNsaWNlIl0uZnJvbUpTT04odCxuLnNsaWNlKSwhIW4uc3RydWN0dXJlKX0sZX0oZyk7Zy5qc29uSUQoInJlcGxhY2UiLGIpO3ZhciB3PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyxpLHMsYSl7dC5jYWxsKHRoaXMpLHRoaXMuZnJvbT1lLHRoaXMudG89bix0aGlzLmdhcEZyb209cix0aGlzLmdhcFRvPW8sdGhpcy5zbGljZT1pLHRoaXMuaW5zZXJ0PXMsdGhpcy5zdHJ1Y3R1cmU9ISFhfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0KXtpZih0aGlzLnN0cnVjdHVyZSYmKFModCx0aGlzLmZyb20sdGhpcy5nYXBGcm9tKXx8Uyh0LHRoaXMuZ2FwVG8sdGhpcy50bykpKXJldHVybiB5LmZhaWwoIlN0cnVjdHVyZSBnYXAtcmVwbGFjZSB3b3VsZCBvdmVyd3JpdGUgY29udGVudCIpO3ZhciBlPXQuc2xpY2UodGhpcy5nYXBGcm9tLHRoaXMuZ2FwVG8pO2lmKGUub3BlblN0YXJ0fHxlLm9wZW5FbmQpcmV0dXJuIHkuZmFpbCgiR2FwIGlzIG5vdCBhIGZsYXQgcmFuZ2UiKTt2YXIgbj10aGlzLnNsaWNlLmluc2VydEF0KHRoaXMuaW5zZXJ0LGUuY29udGVudCk7cmV0dXJuIG4/eS5mcm9tUmVwbGFjZSh0LHRoaXMuZnJvbSx0aGlzLnRvLG4pOnkuZmFpbCgiQ29udGVudCBkb2VzIG5vdCBmaXQgaW4gZ2FwIil9LGUucHJvdG90eXBlLmdldE1hcD1mdW5jdGlvbigpe3JldHVybiBuZXcgdShbdGhpcy5mcm9tLHRoaXMuZ2FwRnJvbS10aGlzLmZyb20sdGhpcy5pbnNlcnQsdGhpcy5nYXBUbyx0aGlzLnRvLXRoaXMuZ2FwVG8sdGhpcy5zbGljZS5zaXplLXRoaXMuaW5zZXJ0XSl9LGUucHJvdG90eXBlLmludmVydD1mdW5jdGlvbih0KXt2YXIgbj10aGlzLmdhcFRvLXRoaXMuZ2FwRnJvbTtyZXR1cm4gbmV3IGUodGhpcy5mcm9tLHRoaXMuZnJvbSt0aGlzLnNsaWNlLnNpemUrbix0aGlzLmZyb20rdGhpcy5pbnNlcnQsdGhpcy5mcm9tK3RoaXMuaW5zZXJ0K24sdC5zbGljZSh0aGlzLmZyb20sdGhpcy50bykucmVtb3ZlQmV0d2Vlbih0aGlzLmdhcEZyb20tdGhpcy5mcm9tLHRoaXMuZ2FwVG8tdGhpcy5mcm9tKSx0aGlzLmdhcEZyb20tdGhpcy5mcm9tLHRoaXMuc3RydWN0dXJlKX0sZS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe3ZhciBuPXQubWFwUmVzdWx0KHRoaXMuZnJvbSwxKSxyPXQubWFwUmVzdWx0KHRoaXMudG8sLTEpLG89dC5tYXAodGhpcy5nYXBGcm9tLC0xKSxpPXQubWFwKHRoaXMuZ2FwVG8sMSk7cmV0dXJuIG4uZGVsZXRlZCYmci5kZWxldGVkfHxvPG4ucG9zfHxpPnIucG9zP251bGw6bmV3IGUobi5wb3Msci5wb3MsbyxpLHRoaXMuc2xpY2UsdGhpcy5pbnNlcnQsdGhpcy5zdHJ1Y3R1cmUpfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgdD17c3RlcFR5cGU6InJlcGxhY2VBcm91bmQiLGZyb206dGhpcy5mcm9tLHRvOnRoaXMudG8sZ2FwRnJvbTp0aGlzLmdhcEZyb20sZ2FwVG86dGhpcy5nYXBUbyxpbnNlcnQ6dGhpcy5pbnNlcnR9O3JldHVybiB0aGlzLnNsaWNlLnNpemUmJih0LnNsaWNlPXRoaXMuc2xpY2UudG9KU09OKCkpLHRoaXMuc3RydWN0dXJlJiYodC5zdHJ1Y3R1cmU9ITApLHR9LGUuZnJvbUpTT049ZnVuY3Rpb24odCxuKXtpZigibnVtYmVyIiE9dHlwZW9mIG4uZnJvbXx8Im51bWJlciIhPXR5cGVvZiBuLnRvfHwibnVtYmVyIiE9dHlwZW9mIG4uZ2FwRnJvbXx8Im51bWJlciIhPXR5cGVvZiBuLmdhcFRvfHwibnVtYmVyIiE9dHlwZW9mIG4uaW5zZXJ0KXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBSZXBsYWNlQXJvdW5kU3RlcC5mcm9tSlNPTiIpO3JldHVybiBuZXcgZShuLmZyb20sbi50byxuLmdhcEZyb20sbi5nYXBUbyxyWyJTbGljZSJdLmZyb21KU09OKHQsbi5zbGljZSksbi5pbnNlcnQsISFuLnN0cnVjdHVyZSl9LGV9KGcpO2Z1bmN0aW9uIFModCxlLG4pe3ZhciByPXQucmVzb2x2ZShlKSxvPW4tZSxpPXIuZGVwdGg7d2hpbGUobz4wJiZpPjAmJnIuaW5kZXhBZnRlcihpKT09ci5ub2RlKGkpLmNoaWxkQ291bnQpaS0tLG8tLTtpZihvPjApe3ZhciBzPXIubm9kZShpKS5tYXliZUNoaWxkKHIuaW5kZXhBZnRlcihpKSk7d2hpbGUobz4wKXtpZighc3x8cy5pc0xlYWYpcmV0dXJuITA7cz1zLmZpcnN0Q2hpbGQsby0tfX1yZXR1cm4hMX1mdW5jdGlvbiB4KHQsZSxuKXtyZXR1cm4oMD09ZXx8dC5jYW5SZXBsYWNlKGUsdC5jaGlsZENvdW50KSkmJihuPT10LmNoaWxkQ291bnR8fHQuY2FuUmVwbGFjZSgwLG4pKX1mdW5jdGlvbiBrKHQpe2Zvcih2YXIgZT10LnBhcmVudCxuPWUuY29udGVudC5jdXRCeUluZGV4KHQuc3RhcnRJbmRleCx0LmVuZEluZGV4KSxyPXQuZGVwdGg7Oy0tcil7dmFyIG89dC4kZnJvbS5ub2RlKHIpLGk9dC4kZnJvbS5pbmRleChyKSxzPXQuJHRvLmluZGV4QWZ0ZXIocik7aWYocjx0LmRlcHRoJiZvLmNhblJlcGxhY2UoaSxzLG4pKXJldHVybiByO2lmKDA9PXJ8fG8udHlwZS5zcGVjLmlzb2xhdGluZ3x8IXgobyxpLHMpKWJyZWFrfX1mdW5jdGlvbiBPKHQsZSxuLHIpe3ZvaWQgMD09PXImJihyPXQpO3ZhciBvPU0odCxlKSxpPW8mJk4ocixlKTtyZXR1cm4gaT9vLm1hcChDKS5jb25jYXQoe3R5cGU6ZSxhdHRyczpufSkuY29uY2F0KGkubWFwKEMpKTpudWxsfWZ1bmN0aW9uIEModCl7cmV0dXJue3R5cGU6dCxhdHRyczpudWxsfX1mdW5jdGlvbiBNKHQsZSl7dmFyIG49dC5wYXJlbnQscj10LnN0YXJ0SW5kZXgsbz10LmVuZEluZGV4LGk9bi5jb250ZW50TWF0Y2hBdChyKS5maW5kV3JhcHBpbmcoZSk7aWYoIWkpcmV0dXJuIG51bGw7dmFyIHM9aS5sZW5ndGg/aVswXTplO3JldHVybiBuLmNhblJlcGxhY2VXaXRoKHIsbyxzKT9pOm51bGx9ZnVuY3Rpb24gTih0LGUpe3ZhciBuPXQucGFyZW50LHI9dC5zdGFydEluZGV4LG89dC5lbmRJbmRleCxpPW4uY2hpbGQocikscz1lLmNvbnRlbnRNYXRjaC5maW5kV3JhcHBpbmcoaS50eXBlKTtpZighcylyZXR1cm4gbnVsbDtmb3IodmFyIGE9cy5sZW5ndGg/c1tzLmxlbmd0aC0xXTplLGM9YS5jb250ZW50TWF0Y2gsbD1yO2MmJmw8bztsKyspYz1jLm1hdGNoVHlwZShuLmNoaWxkKGwpLnR5cGUpO3JldHVybiBjJiZjLnZhbGlkRW5kP3M6bnVsbH1mdW5jdGlvbiBUKHQsZSxuKXt2YXIgcj10LnJlc29sdmUoZSksbz1yLmluZGV4KCk7cmV0dXJuIHIucGFyZW50LmNhblJlcGxhY2VXaXRoKG8sbysxLG4pfWZ1bmN0aW9uIEEodCxlLG4scil7dm9pZCAwPT09biYmKG49MSk7dmFyIG89dC5yZXNvbHZlKGUpLGk9by5kZXB0aC1uLHM9ciYmcltyLmxlbmd0aC0xXXx8by5wYXJlbnQ7aWYoaTwwfHxvLnBhcmVudC50eXBlLnNwZWMuaXNvbGF0aW5nfHwhby5wYXJlbnQuY2FuUmVwbGFjZShvLmluZGV4KCksby5wYXJlbnQuY2hpbGRDb3VudCl8fCFzLnR5cGUudmFsaWRDb250ZW50KG8ucGFyZW50LmNvbnRlbnQuY3V0QnlJbmRleChvLmluZGV4KCksby5wYXJlbnQuY2hpbGRDb3VudCkpKXJldHVybiExO2Zvcih2YXIgYT1vLmRlcHRoLTEsYz1uLTI7YT5pO2EtLSxjLS0pe3ZhciBsPW8ubm9kZShhKSx1PW8uaW5kZXgoYSk7aWYobC50eXBlLnNwZWMuaXNvbGF0aW5nKXJldHVybiExO3ZhciBmPWwuY29udGVudC5jdXRCeUluZGV4KHUsbC5jaGlsZENvdW50KSxkPXImJnJbY118fGw7aWYoZCE9bCYmKGY9Zi5yZXBsYWNlQ2hpbGQoMCxkLnR5cGUuY3JlYXRlKGQuYXR0cnMpKSksIWwuY2FuUmVwbGFjZSh1KzEsbC5jaGlsZENvdW50KXx8IWQudHlwZS52YWxpZENvbnRlbnQoZikpcmV0dXJuITF9dmFyIHA9by5pbmRleEFmdGVyKGkpLGg9ciYmclswXTtyZXR1cm4gby5ub2RlKGkpLmNhblJlcGxhY2VXaXRoKHAscCxoP2gudHlwZTpvLm5vZGUoaSsxKS50eXBlKX1mdW5jdGlvbiBEKHQsZSl7dmFyIG49dC5yZXNvbHZlKGUpLHI9bi5pbmRleCgpO3JldHVybiBFKG4ubm9kZUJlZm9yZSxuLm5vZGVBZnRlcikmJm4ucGFyZW50LmNhblJlcGxhY2UocixyKzEpfWZ1bmN0aW9uIEUodCxlKXtyZXR1cm4gdCYmZSYmIXQuaXNMZWFmJiZ0LmNhbkFwcGVuZChlKX1mdW5jdGlvbiBSKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0tMSk7Zm9yKHZhciByPXQucmVzb2x2ZShlKSxvPXIuZGVwdGg7O28tLSl7dmFyIGk9dm9pZCAwLHM9dm9pZCAwLGE9ci5pbmRleChvKTtpZihvPT1yLmRlcHRoPyhpPXIubm9kZUJlZm9yZSxzPXIubm9kZUFmdGVyKTpuPjA/KGk9ci5ub2RlKG8rMSksYSsrLHM9ci5ub2RlKG8pLm1heWJlQ2hpbGQoYSkpOihpPXIubm9kZShvKS5tYXliZUNoaWxkKGEtMSkscz1yLm5vZGUobysxKSksaSYmIWkuaXNUZXh0YmxvY2smJkUoaSxzKSYmci5ub2RlKG8pLmNhblJlcGxhY2UoYSxhKzEpKXJldHVybiBlO2lmKDA9PW8pYnJlYWs7ZT1uPDA/ci5iZWZvcmUobyk6ci5hZnRlcihvKX19ZnVuY3Rpb24gXyh0LGUsbil7dmFyIHI9dC5yZXNvbHZlKGUpO2lmKHIucGFyZW50LmNhblJlcGxhY2VXaXRoKHIuaW5kZXgoKSxyLmluZGV4KCksbikpcmV0dXJuIGU7aWYoMD09ci5wYXJlbnRPZmZzZXQpZm9yKHZhciBvPXIuZGVwdGgtMTtvPj0wO28tLSl7dmFyIGk9ci5pbmRleChvKTtpZihyLm5vZGUobykuY2FuUmVwbGFjZVdpdGgoaSxpLG4pKXJldHVybiByLmJlZm9yZShvKzEpO2lmKGk+MClyZXR1cm4gbnVsbH1pZihyLnBhcmVudE9mZnNldD09ci5wYXJlbnQuY29udGVudC5zaXplKWZvcih2YXIgcz1yLmRlcHRoLTE7cz49MDtzLS0pe3ZhciBhPXIuaW5kZXhBZnRlcihzKTtpZihyLm5vZGUocykuY2FuUmVwbGFjZVdpdGgoYSxhLG4pKXJldHVybiByLmFmdGVyKHMrMSk7aWYoYTxyLm5vZGUocykuY2hpbGRDb3VudClyZXR1cm4gbnVsbH19ZnVuY3Rpb24gUCh0LGUsbil7dmFyIHI9dC5yZXNvbHZlKGUpO2lmKCFuLmNvbnRlbnQuc2l6ZSlyZXR1cm4gZTtmb3IodmFyIG89bi5jb250ZW50LGk9MDtpPG4ub3BlblN0YXJ0O2krKylvPW8uZmlyc3RDaGlsZC5jb250ZW50O2Zvcih2YXIgcz0xO3M8PSgwPT1uLm9wZW5TdGFydCYmbi5zaXplPzI6MSk7cysrKWZvcih2YXIgYT1yLmRlcHRoO2E+PTA7YS0tKXt2YXIgYz1hPT1yLmRlcHRoPzA6ci5wb3M8PShyLnN0YXJ0KGErMSkrci5lbmQoYSsxKSkvMj8tMToxLGw9ci5pbmRleChhKSsoYz4wPzE6MCk7aWYoMT09cz9yLm5vZGUoYSkuY2FuUmVwbGFjZShsLGwsbyk6ci5ub2RlKGEpLmNvbnRlbnRNYXRjaEF0KGwpLmZpbmRXcmFwcGluZyhvLmZpcnN0Q2hpbGQudHlwZSkpcmV0dXJuIDA9PWM/ci5wb3M6YzwwP3IuYmVmb3JlKGErMSk6ci5hZnRlcihhKzEpfXJldHVybiBudWxsfWZ1bmN0aW9uIHoodCxlLG4pe2Zvcih2YXIgbz1bXSxpPTA7aTx0LmNoaWxkQ291bnQ7aSsrKXt2YXIgcz10LmNoaWxkKGkpO3MuY29udGVudC5zaXplJiYocz1zLmNvcHkoeihzLmNvbnRlbnQsZSxzKSkpLHMuaXNJbmxpbmUmJihzPWUocyxuLGkpKSxvLnB1c2gocyl9cmV0dXJuIHJbIkZyYWdtZW50Il0uZnJvbUFycmF5KG8pfWcuanNvbklEKCJyZXBsYWNlQXJvdW5kIix3KSxwLnByb3RvdHlwZS5saWZ0PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuJGZyb20sbz10LiR0byxpPXQuZGVwdGgscz1uLmJlZm9yZShpKzEpLGE9by5hZnRlcihpKzEpLGM9cyxsPWEsdT1yWyJGcmFnbWVudCJdLmVtcHR5LGY9MCxkPWkscD0hMTtkPmU7ZC0tKXB8fG4uaW5kZXgoZCk+MD8ocD0hMCx1PXJbIkZyYWdtZW50Il0uZnJvbShuLm5vZGUoZCkuY29weSh1KSksZisrKTpjLS07Zm9yKHZhciBoPXJbIkZyYWdtZW50Il0uZW1wdHksdj0wLG09aSxnPSExO20+ZTttLS0pZ3x8by5hZnRlcihtKzEpPG8uZW5kKG0pPyhnPSEwLGg9clsiRnJhZ21lbnQiXS5mcm9tKG8ubm9kZShtKS5jb3B5KGgpKSx2KyspOmwrKztyZXR1cm4gdGhpcy5zdGVwKG5ldyB3KGMsbCxzLGEsbmV3IHJbIlNsaWNlIl0odS5hcHBlbmQoaCksZix2KSx1LnNpemUtZiwhMCkpfSxwLnByb3RvdHlwZS53cmFwPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXJbIkZyYWdtZW50Il0uZW1wdHksbz1lLmxlbmd0aC0xO28+PTA7by0tKW49clsiRnJhZ21lbnQiXS5mcm9tKGVbb10udHlwZS5jcmVhdGUoZVtvXS5hdHRycyxuKSk7dmFyIGk9dC5zdGFydCxzPXQuZW5kO3JldHVybiB0aGlzLnN0ZXAobmV3IHcoaSxzLGkscyxuZXcgclsiU2xpY2UiXShuLDAsMCksZS5sZW5ndGgsITApKX0scC5wcm90b3R5cGUuc2V0QmxvY2tUeXBlPWZ1bmN0aW9uKHQsZSxuLG8pe3ZhciBpPXRoaXM7aWYodm9pZCAwPT09ZSYmKGU9dCksIW4uaXNUZXh0YmxvY2spdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlR5cGUgZ2l2ZW4gdG8gc2V0QmxvY2tUeXBlIHNob3VsZCBiZSBhIHRleHRibG9jayIpO3ZhciBzPXRoaXMuc3RlcHMubGVuZ3RoO3JldHVybiB0aGlzLmRvYy5ub2Rlc0JldHdlZW4odCxlLChmdW5jdGlvbih0LGUpe2lmKHQuaXNUZXh0YmxvY2smJiF0Lmhhc01hcmt1cChuLG8pJiZUKGkuZG9jLGkubWFwcGluZy5zbGljZShzKS5tYXAoZSksbikpe2kuY2xlYXJJbmNvbXBhdGlibGUoaS5tYXBwaW5nLnNsaWNlKHMpLm1hcChlLDEpLG4pO3ZhciBhPWkubWFwcGluZy5zbGljZShzKSxjPWEubWFwKGUsMSksbD1hLm1hcChlK3Qubm9kZVNpemUsMSk7cmV0dXJuIGkuc3RlcChuZXcgdyhjLGwsYysxLGwtMSxuZXcgclsiU2xpY2UiXShyWyJGcmFnbWVudCJdLmZyb20obi5jcmVhdGUobyxudWxsLHQubWFya3MpKSwwLDApLDEsITApKSwhMX19KSksdGhpc30scC5wcm90b3R5cGUuc2V0Tm9kZU1hcmt1cD1mdW5jdGlvbih0LGUsbixvKXt2YXIgaT10aGlzLmRvYy5ub2RlQXQodCk7aWYoIWkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vIG5vZGUgYXQgZ2l2ZW4gcG9zaXRpb24iKTtlfHwoZT1pLnR5cGUpO3ZhciBzPWUuY3JlYXRlKG4sbnVsbCxvfHxpLm1hcmtzKTtpZihpLmlzTGVhZilyZXR1cm4gdGhpcy5yZXBsYWNlV2l0aCh0LHQraS5ub2RlU2l6ZSxzKTtpZighZS52YWxpZENvbnRlbnQoaS5jb250ZW50KSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBjb250ZW50IGZvciBub2RlIHR5cGUgIitlLm5hbWUpO3JldHVybiB0aGlzLnN0ZXAobmV3IHcodCx0K2kubm9kZVNpemUsdCsxLHQraS5ub2RlU2l6ZS0xLG5ldyByWyJTbGljZSJdKHJbIkZyYWdtZW50Il0uZnJvbShzKSwwLDApLDEsITApKX0scC5wcm90b3R5cGUuc3BsaXQ9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPTEpO2Zvcih2YXIgbz10aGlzLmRvYy5yZXNvbHZlKHQpLGk9clsiRnJhZ21lbnQiXS5lbXB0eSxzPXJbIkZyYWdtZW50Il0uZW1wdHksYT1vLmRlcHRoLGM9by5kZXB0aC1lLGw9ZS0xO2E+YzthLS0sbC0tKXtpPXJbIkZyYWdtZW50Il0uZnJvbShvLm5vZGUoYSkuY29weShpKSk7dmFyIHU9biYmbltsXTtzPXJbIkZyYWdtZW50Il0uZnJvbSh1P3UudHlwZS5jcmVhdGUodS5hdHRycyxzKTpvLm5vZGUoYSkuY29weShzKSl9cmV0dXJuIHRoaXMuc3RlcChuZXcgYih0LHQsbmV3IHJbIlNsaWNlIl0oaS5hcHBlbmQocyksZSxlKSwhMCkpfSxwLnByb3RvdHlwZS5qb2luPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9MSk7dmFyIG49bmV3IGIodC1lLHQrZSxyWyJTbGljZSJdLmVtcHR5LCEwKTtyZXR1cm4gdGhpcy5zdGVwKG4pfTt2YXIgST1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyKXt0LmNhbGwodGhpcyksdGhpcy5mcm9tPWUsdGhpcy50bz1uLHRoaXMubWFyaz1yfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5zbGljZSh0aGlzLmZyb20sdGhpcy50byksbz10LnJlc29sdmUodGhpcy5mcm9tKSxpPW8ubm9kZShvLnNoYXJlZERlcHRoKHRoaXMudG8pKSxzPW5ldyByWyJTbGljZSJdKHoobi5jb250ZW50LChmdW5jdGlvbih0LG4pe3JldHVybiBuLnR5cGUuYWxsb3dzTWFya1R5cGUoZS5tYXJrLnR5cGUpP3QubWFyayhlLm1hcmsuYWRkVG9TZXQodC5tYXJrcykpOnR9KSxpKSxuLm9wZW5TdGFydCxuLm9wZW5FbmQpO3JldHVybiB5LmZyb21SZXBsYWNlKHQsdGhpcy5mcm9tLHRoaXMudG8scyl9LGUucHJvdG90eXBlLmludmVydD1mdW5jdGlvbigpe3JldHVybiBuZXcgaih0aGlzLmZyb20sdGhpcy50byx0aGlzLm1hcmspfSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7dmFyIG49dC5tYXBSZXN1bHQodGhpcy5mcm9tLDEpLHI9dC5tYXBSZXN1bHQodGhpcy50bywtMSk7cmV0dXJuIG4uZGVsZXRlZCYmci5kZWxldGVkfHxuLnBvcz49ci5wb3M/bnVsbDpuZXcgZShuLnBvcyxyLnBvcyx0aGlzLm1hcmspfSxlLnByb3RvdHlwZS5tZXJnZT1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgZSYmdC5tYXJrLmVxKHRoaXMubWFyaykmJnRoaXMuZnJvbTw9dC50byYmdGhpcy50bz49dC5mcm9tKXJldHVybiBuZXcgZShNYXRoLm1pbih0aGlzLmZyb20sdC5mcm9tKSxNYXRoLm1heCh0aGlzLnRvLHQudG8pLHRoaXMubWFyayl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybntzdGVwVHlwZToiYWRkTWFyayIsbWFyazp0aGlzLm1hcmsudG9KU09OKCksZnJvbTp0aGlzLmZyb20sdG86dGhpcy50b319LGUuZnJvbUpTT049ZnVuY3Rpb24odCxuKXtpZigibnVtYmVyIiE9dHlwZW9mIG4uZnJvbXx8Im51bWJlciIhPXR5cGVvZiBuLnRvKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBBZGRNYXJrU3RlcC5mcm9tSlNPTiIpO3JldHVybiBuZXcgZShuLmZyb20sbi50byx0Lm1hcmtGcm9tSlNPTihuLm1hcmspKX0sZX0oZyk7Zy5qc29uSUQoImFkZE1hcmsiLEkpO3ZhciBqPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIpe3QuY2FsbCh0aGlzKSx0aGlzLmZyb209ZSx0aGlzLnRvPW4sdGhpcy5tYXJrPXJ9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LnNsaWNlKHRoaXMuZnJvbSx0aGlzLnRvKSxvPW5ldyByWyJTbGljZSJdKHoobi5jb250ZW50LChmdW5jdGlvbih0KXtyZXR1cm4gdC5tYXJrKGUubWFyay5yZW1vdmVGcm9tU2V0KHQubWFya3MpKX0pKSxuLm9wZW5TdGFydCxuLm9wZW5FbmQpO3JldHVybiB5LmZyb21SZXBsYWNlKHQsdGhpcy5mcm9tLHRoaXMudG8sbyl9LGUucHJvdG90eXBlLmludmVydD1mdW5jdGlvbigpe3JldHVybiBuZXcgSSh0aGlzLmZyb20sdGhpcy50byx0aGlzLm1hcmspfSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7dmFyIG49dC5tYXBSZXN1bHQodGhpcy5mcm9tLDEpLHI9dC5tYXBSZXN1bHQodGhpcy50bywtMSk7cmV0dXJuIG4uZGVsZXRlZCYmci5kZWxldGVkfHxuLnBvcz49ci5wb3M/bnVsbDpuZXcgZShuLnBvcyxyLnBvcyx0aGlzLm1hcmspfSxlLnByb3RvdHlwZS5tZXJnZT1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgZSYmdC5tYXJrLmVxKHRoaXMubWFyaykmJnRoaXMuZnJvbTw9dC50byYmdGhpcy50bz49dC5mcm9tKXJldHVybiBuZXcgZShNYXRoLm1pbih0aGlzLmZyb20sdC5mcm9tKSxNYXRoLm1heCh0aGlzLnRvLHQudG8pLHRoaXMubWFyayl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybntzdGVwVHlwZToicmVtb3ZlTWFyayIsbWFyazp0aGlzLm1hcmsudG9KU09OKCksZnJvbTp0aGlzLmZyb20sdG86dGhpcy50b319LGUuZnJvbUpTT049ZnVuY3Rpb24odCxuKXtpZigibnVtYmVyIiE9dHlwZW9mIG4uZnJvbXx8Im51bWJlciIhPXR5cGVvZiBuLnRvKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBSZW1vdmVNYXJrU3RlcC5mcm9tSlNPTiIpO3JldHVybiBuZXcgZShuLmZyb20sbi50byx0Lm1hcmtGcm9tSlNPTihuLm1hcmspKX0sZX0oZyk7ZnVuY3Rpb24gJCh0LGUsbixvKXtpZih2b2lkIDA9PT1uJiYobj1lKSx2b2lkIDA9PT1vJiYobz1yWyJTbGljZSJdLmVtcHR5KSxlPT1uJiYhby5zaXplKXJldHVybiBudWxsO3ZhciBpPXQucmVzb2x2ZShlKSxzPXQucmVzb2x2ZShuKTtyZXR1cm4gVihpLHMsbyk/bmV3IGIoZSxuLG8pOm5ldyBCKGkscyxvKS5maXQoKX1mdW5jdGlvbiBWKHQsZSxuKXtyZXR1cm4hbi5vcGVuU3RhcnQmJiFuLm9wZW5FbmQmJnQuc3RhcnQoKT09ZS5zdGFydCgpJiZ0LnBhcmVudC5jYW5SZXBsYWNlKHQuaW5kZXgoKSxlLmluZGV4KCksbi5jb250ZW50KX1nLmpzb25JRCgicmVtb3ZlTWFyayIsaikscC5wcm90b3R5cGUuYWRkTWFyaz1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcyxvPVtdLGk9W10scz1udWxsLGE9bnVsbDtyZXR1cm4gdGhpcy5kb2Mubm9kZXNCZXR3ZWVuKHQsZSwoZnVuY3Rpb24ocixjLGwpe2lmKHIuaXNJbmxpbmUpe3ZhciB1PXIubWFya3M7aWYoIW4uaXNJblNldCh1KSYmbC50eXBlLmFsbG93c01hcmtUeXBlKG4udHlwZSkpe2Zvcih2YXIgZj1NYXRoLm1heChjLHQpLGQ9TWF0aC5taW4oYytyLm5vZGVTaXplLGUpLHA9bi5hZGRUb1NldCh1KSxoPTA7aDx1Lmxlbmd0aDtoKyspdVtoXS5pc0luU2V0KHApfHwocyYmcy50bz09ZiYmcy5tYXJrLmVxKHVbaF0pP3MudG89ZDpvLnB1c2gocz1uZXcgaihmLGQsdVtoXSkpKTthJiZhLnRvPT1mP2EudG89ZDppLnB1c2goYT1uZXcgSShmLGQsbikpfX19KSksby5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gci5zdGVwKHQpfSkpLGkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHIuc3RlcCh0KX0pKSx0aGlzfSxwLnByb3RvdHlwZS5yZW1vdmVNYXJrPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzO3ZvaWQgMD09PW4mJihuPW51bGwpO3ZhciBpPVtdLHM9MDtyZXR1cm4gdGhpcy5kb2Mubm9kZXNCZXR3ZWVuKHQsZSwoZnVuY3Rpb24obyxhKXtpZihvLmlzSW5saW5lKXtzKys7dmFyIGM9bnVsbDtpZihuIGluc3RhbmNlb2YgclsiTWFya1R5cGUiXSl7dmFyIGw9bi5pc0luU2V0KG8ubWFya3MpO2wmJihjPVtsXSl9ZWxzZSBuP24uaXNJblNldChvLm1hcmtzKSYmKGM9W25dKTpjPW8ubWFya3M7aWYoYyYmYy5sZW5ndGgpZm9yKHZhciB1PU1hdGgubWluKGErby5ub2RlU2l6ZSxlKSxmPTA7ZjxjLmxlbmd0aDtmKyspe2Zvcih2YXIgZD1jW2ZdLHA9dm9pZCAwLGg9MDtoPGkubGVuZ3RoO2grKyl7dmFyIHY9aVtoXTt2LnN0ZXA9PXMtMSYmZC5lcShpW2hdLnN0eWxlKSYmKHA9dil9cD8ocC50bz11LHAuc3RlcD1zKTppLnB1c2goe3N0eWxlOmQsZnJvbTpNYXRoLm1heChhLHQpLHRvOnUsc3RlcDpzfSl9fX0pKSxpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBvLnN0ZXAobmV3IGoodC5mcm9tLHQudG8sdC5zdHlsZSkpfSkpLHRoaXN9LHAucHJvdG90eXBlLmNsZWFySW5jb21wYXRpYmxlPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj1lLmNvbnRlbnRNYXRjaCk7Zm9yKHZhciBvPXRoaXMuZG9jLm5vZGVBdCh0KSxpPVtdLHM9dCsxLGE9MDthPG8uY2hpbGRDb3VudDthKyspe3ZhciBjPW8uY2hpbGQoYSksbD1zK2Mubm9kZVNpemUsdT1uLm1hdGNoVHlwZShjLnR5cGUsYy5hdHRycyk7aWYodSl7bj11O2Zvcih2YXIgZj0wO2Y8Yy5tYXJrcy5sZW5ndGg7ZisrKWUuYWxsb3dzTWFya1R5cGUoYy5tYXJrc1tmXS50eXBlKXx8dGhpcy5zdGVwKG5ldyBqKHMsbCxjLm1hcmtzW2ZdKSl9ZWxzZSBpLnB1c2gobmV3IGIocyxsLHJbIlNsaWNlIl0uZW1wdHkpKTtzPWx9aWYoIW4udmFsaWRFbmQpe3ZhciBkPW4uZmlsbEJlZm9yZShyWyJGcmFnbWVudCJdLmVtcHR5LCEwKTt0aGlzLnJlcGxhY2UocyxzLG5ldyByWyJTbGljZSJdKGQsMCwwKSl9Zm9yKHZhciBwPWkubGVuZ3RoLTE7cD49MDtwLS0pdGhpcy5zdGVwKGlbcF0pO3JldHVybiB0aGlzfSxwLnByb3RvdHlwZS5yZXBsYWNlPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT10KSx2b2lkIDA9PT1uJiYobj1yWyJTbGljZSJdLmVtcHR5KTt2YXIgbz0kKHRoaXMuZG9jLHQsZSxuKTtyZXR1cm4gbyYmdGhpcy5zdGVwKG8pLHRoaXN9LHAucHJvdG90eXBlLnJlcGxhY2VXaXRoPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5yZXBsYWNlKHQsZSxuZXcgclsiU2xpY2UiXShyWyJGcmFnbWVudCJdLmZyb20obiksMCwwKSl9LHAucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJlcGxhY2UodCxlLHJbIlNsaWNlIl0uZW1wdHkpfSxwLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5yZXBsYWNlV2l0aCh0LHQsZSl9O3ZhciBCPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLiR0bz1lLHRoaXMuJGZyb209dCx0aGlzLnVucGxhY2VkPW4sdGhpcy5mcm9udGllcj1bXTtmb3IodmFyIG89MDtvPD10LmRlcHRoO28rKyl7dmFyIGk9dC5ub2RlKG8pO3RoaXMuZnJvbnRpZXIucHVzaCh7dHlwZTppLnR5cGUsbWF0Y2g6aS5jb250ZW50TWF0Y2hBdCh0LmluZGV4QWZ0ZXIobykpfSl9dGhpcy5wbGFjZWQ9clsiRnJhZ21lbnQiXS5lbXB0eTtmb3IodmFyIHM9dC5kZXB0aDtzPjA7cy0tKXRoaXMucGxhY2VkPXJbIkZyYWdtZW50Il0uZnJvbSh0Lm5vZGUocykuY29weSh0aGlzLnBsYWNlZCkpfSxGPXtkZXB0aDp7Y29uZmlndXJhYmxlOiEwfX07ZnVuY3Rpb24gTCh0LGUsbil7cmV0dXJuIDA9PWU/dC5jdXRCeUluZGV4KG4pOnQucmVwbGFjZUNoaWxkKDAsdC5maXJzdENoaWxkLmNvcHkoTCh0LmZpcnN0Q2hpbGQuY29udGVudCxlLTEsbikpKX1mdW5jdGlvbiBIKHQsZSxuKXtyZXR1cm4gMD09ZT90LmFwcGVuZChuKTp0LnJlcGxhY2VDaGlsZCh0LmNoaWxkQ291bnQtMSx0Lmxhc3RDaGlsZC5jb3B5KEgodC5sYXN0Q2hpbGQuY29udGVudCxlLTEsbikpKX1mdW5jdGlvbiBxKHQsZSl7Zm9yKHZhciBuPTA7bjxlO24rKyl0PXQuZmlyc3RDaGlsZC5jb250ZW50O3JldHVybiB0fWZ1bmN0aW9uIEsodCxlLG4pe2lmKGU8PTApcmV0dXJuIHQ7dmFyIG89dC5jb250ZW50O3JldHVybiBlPjEmJihvPW8ucmVwbGFjZUNoaWxkKDAsSyhvLmZpcnN0Q2hpbGQsZS0xLDE9PW8uY2hpbGRDb3VudD9uLTE6MCkpKSxlPjAmJihvPXQudHlwZS5jb250ZW50TWF0Y2guZmlsbEJlZm9yZShvKS5hcHBlbmQobyksbjw9MCYmKG89by5hcHBlbmQodC50eXBlLmNvbnRlbnRNYXRjaC5tYXRjaEZyYWdtZW50KG8pLmZpbGxCZWZvcmUoclsiRnJhZ21lbnQiXS5lbXB0eSwhMCkpKSksdC5jb3B5KG8pfWZ1bmN0aW9uIFcodCxlLG4scixvKXt2YXIgaT10Lm5vZGUoZSkscz1vP3QuaW5kZXhBZnRlcihlKTp0LmluZGV4KGUpO2lmKHM9PWkuY2hpbGRDb3VudCYmIW4uY29tcGF0aWJsZUNvbnRlbnQoaS50eXBlKSlyZXR1cm4gbnVsbDt2YXIgYT1yLmZpbGxCZWZvcmUoaS5jb250ZW50LCEwLHMpO3JldHVybiBhJiYhSihuLGkuY29udGVudCxzKT9hOm51bGx9ZnVuY3Rpb24gSih0LGUsbil7Zm9yKHZhciByPW47cjxlLmNoaWxkQ291bnQ7cisrKWlmKCF0LmFsbG93c01hcmtzKGUuY2hpbGQocikubWFya3MpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIFUodCxlLG4sbyxpKXtpZihlPG4pe3ZhciBzPXQuZmlyc3RDaGlsZDt0PXQucmVwbGFjZUNoaWxkKDAscy5jb3B5KFUocy5jb250ZW50LGUrMSxuLG8scykpKX1pZihlPm8pe3ZhciBhPWkuY29udGVudE1hdGNoQXQoMCksYz1hLmZpbGxCZWZvcmUodCkuYXBwZW5kKHQpO3Q9Yy5hcHBlbmQoYS5tYXRjaEZyYWdtZW50KGMpLmZpbGxCZWZvcmUoclsiRnJhZ21lbnQiXS5lbXB0eSwhMCkpfXJldHVybiB0fWZ1bmN0aW9uIEcodCxlKXtmb3IodmFyIG49W10scj1NYXRoLm1pbih0LmRlcHRoLGUuZGVwdGgpLG89cjtvPj0wO28tLSl7dmFyIGk9dC5zdGFydChvKTtpZihpPHQucG9zLSh0LmRlcHRoLW8pfHxlLmVuZChvKT5lLnBvcysoZS5kZXB0aC1vKXx8dC5ub2RlKG8pLnR5cGUuc3BlYy5pc29sYXRpbmd8fGUubm9kZShvKS50eXBlLnNwZWMuaXNvbGF0aW5nKWJyZWFrO2k9PWUuc3RhcnQobykmJm4ucHVzaChvKX1yZXR1cm4gbn1GLmRlcHRoLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZyb250aWVyLmxlbmd0aC0xfSxCLnByb3RvdHlwZS5maXQ9ZnVuY3Rpb24oKXt3aGlsZSh0aGlzLnVucGxhY2VkLnNpemUpe3ZhciB0PXRoaXMuZmluZEZpdHRhYmxlKCk7dD90aGlzLnBsYWNlTm9kZXModCk6dGhpcy5vcGVuTW9yZSgpfHx0aGlzLmRyb3BOb2RlKCl9dmFyIGU9dGhpcy5tdXN0TW92ZUlubGluZSgpLG49dGhpcy5wbGFjZWQuc2l6ZS10aGlzLmRlcHRoLXRoaXMuJGZyb20uZGVwdGgsbz10aGlzLiRmcm9tLGk9dGhpcy5jbG9zZShlPDA/dGhpcy4kdG86by5kb2MucmVzb2x2ZShlKSk7aWYoIWkpcmV0dXJuIG51bGw7dmFyIHM9dGhpcy5wbGFjZWQsYT1vLmRlcHRoLGM9aS5kZXB0aDt3aGlsZShhJiZjJiYxPT1zLmNoaWxkQ291bnQpcz1zLmZpcnN0Q2hpbGQuY29udGVudCxhLS0sYy0tO3ZhciBsPW5ldyByWyJTbGljZSJdKHMsYSxjKTtyZXR1cm4gZT4tMT9uZXcgdyhvLnBvcyxlLHRoaXMuJHRvLnBvcyx0aGlzLiR0by5lbmQoKSxsLG4pOmwuc2l6ZXx8by5wb3MhPXRoaXMuJHRvLnBvcz9uZXcgYihvLnBvcyxpLnBvcyxsKTp2b2lkIDB9LEIucHJvdG90eXBlLmZpbmRGaXR0YWJsZT1mdW5jdGlvbigpe2Zvcih2YXIgdD0xO3Q8PTI7dCsrKWZvcih2YXIgZT10aGlzLnVucGxhY2VkLm9wZW5TdGFydDtlPj0wO2UtLSl7dmFyIG49dm9pZCAwLG89dm9pZCAwO2U/KG89cSh0aGlzLnVucGxhY2VkLmNvbnRlbnQsZS0xKS5maXJzdENoaWxkLG49by5jb250ZW50KTpuPXRoaXMudW5wbGFjZWQuY29udGVudDtmb3IodmFyIGk9bi5maXJzdENoaWxkLHM9dGhpcy5kZXB0aDtzPj0wO3MtLSl7dmFyIGE9dGhpcy5mcm9udGllcltzXSxjPWEudHlwZSxsPWEubWF0Y2gsdT12b2lkIDAsZj12b2lkIDA7aWYoMT09dCYmKGk/bC5tYXRjaFR5cGUoaS50eXBlKXx8KGY9bC5maWxsQmVmb3JlKHJbIkZyYWdtZW50Il0uZnJvbShpKSwhMSkpOmMuY29tcGF0aWJsZUNvbnRlbnQoby50eXBlKSkpcmV0dXJue3NsaWNlRGVwdGg6ZSxmcm9udGllckRlcHRoOnMscGFyZW50Om8saW5qZWN0OmZ9O2lmKDI9PXQmJmkmJih1PWwuZmluZFdyYXBwaW5nKGkudHlwZSkpKXJldHVybntzbGljZURlcHRoOmUsZnJvbnRpZXJEZXB0aDpzLHBhcmVudDpvLHdyYXA6dX07aWYobyYmbC5tYXRjaFR5cGUoby50eXBlKSlicmVha319fSxCLnByb3RvdHlwZS5vcGVuTW9yZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMudW5wbGFjZWQsZT10LmNvbnRlbnQsbj10Lm9wZW5TdGFydCxvPXQub3BlbkVuZCxpPXEoZSxuKTtyZXR1cm4hKCFpLmNoaWxkQ291bnR8fGkuZmlyc3RDaGlsZC5pc0xlYWYpJiYodGhpcy51bnBsYWNlZD1uZXcgclsiU2xpY2UiXShlLG4rMSxNYXRoLm1heChvLGkuc2l6ZStuPj1lLnNpemUtbz9uKzE6MCkpLCEwKX0sQi5wcm90b3R5cGUuZHJvcE5vZGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnVucGxhY2VkLGU9dC5jb250ZW50LG49dC5vcGVuU3RhcnQsbz10Lm9wZW5FbmQsaT1xKGUsbik7aWYoaS5jaGlsZENvdW50PD0xJiZuPjApe3ZhciBzPWUuc2l6ZS1uPD1uK2kuc2l6ZTt0aGlzLnVucGxhY2VkPW5ldyByWyJTbGljZSJdKEwoZSxuLTEsMSksbi0xLHM/bi0xOm8pfWVsc2UgdGhpcy51bnBsYWNlZD1uZXcgclsiU2xpY2UiXShMKGUsbiwxKSxuLG8pfSxCLnByb3RvdHlwZS5wbGFjZU5vZGVzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc2xpY2VEZXB0aCxuPXQuZnJvbnRpZXJEZXB0aCxvPXQucGFyZW50LGk9dC5pbmplY3Qscz10LndyYXA7d2hpbGUodGhpcy5kZXB0aD5uKXRoaXMuY2xvc2VGcm9udGllck5vZGUoKTtpZihzKWZvcih2YXIgYT0wO2E8cy5sZW5ndGg7YSsrKXRoaXMub3BlbkZyb250aWVyTm9kZShzW2FdKTt2YXIgYz10aGlzLnVucGxhY2VkLGw9bz9vLmNvbnRlbnQ6Yy5jb250ZW50LHU9Yy5vcGVuU3RhcnQtZSxmPTAsZD1bXSxwPXRoaXMuZnJvbnRpZXJbbl0saD1wLm1hdGNoLHY9cC50eXBlO2lmKGkpe2Zvcih2YXIgbT0wO208aS5jaGlsZENvdW50O20rKylkLnB1c2goaS5jaGlsZChtKSk7aD1oLm1hdGNoRnJhZ21lbnQoaSl9dmFyIGc9bC5zaXplK2UtKGMuY29udGVudC5zaXplLWMub3BlbkVuZCk7d2hpbGUoZjxsLmNoaWxkQ291bnQpe3ZhciB5PWwuY2hpbGQoZiksYj1oLm1hdGNoVHlwZSh5LnR5cGUpO2lmKCFiKWJyZWFrO2YrKywoZj4xfHwwPT11fHx5LmNvbnRlbnQuc2l6ZSkmJihoPWIsZC5wdXNoKEsoeS5tYXJrKHYuYWxsb3dlZE1hcmtzKHkubWFya3MpKSwxPT1mP3U6MCxmPT1sLmNoaWxkQ291bnQ/ZzotMSkpKX12YXIgdz1mPT1sLmNoaWxkQ291bnQ7d3x8KGc9LTEpLHRoaXMucGxhY2VkPUgodGhpcy5wbGFjZWQsbixyWyJGcmFnbWVudCJdLmZyb20oZCkpLHRoaXMuZnJvbnRpZXJbbl0ubWF0Y2g9aCx3JiZnPDAmJm8mJm8udHlwZT09dGhpcy5mcm9udGllclt0aGlzLmRlcHRoXS50eXBlJiZ0aGlzLmNsb3NlRnJvbnRpZXJOb2RlKCk7Zm9yKHZhciBTPTAseD1sO1M8ZztTKyspe3ZhciBrPXgubGFzdENoaWxkO3RoaXMuZnJvbnRpZXIucHVzaCh7dHlwZTprLnR5cGUsbWF0Y2g6ay5jb250ZW50TWF0Y2hBdChrLmNoaWxkQ291bnQpfSkseD1rLmNvbnRlbnR9dGhpcy51bnBsYWNlZD13PzA9PWU/clsiU2xpY2UiXS5lbXB0eTpuZXcgclsiU2xpY2UiXShMKGMuY29udGVudCxlLTEsMSksZS0xLGc8MD9jLm9wZW5FbmQ6ZS0xKTpuZXcgclsiU2xpY2UiXShMKGMuY29udGVudCxlLGYpLGMub3BlblN0YXJ0LGMub3BlbkVuZCl9LEIucHJvdG90eXBlLm11c3RNb3ZlSW5saW5lPWZ1bmN0aW9uKCl7aWYoIXRoaXMuJHRvLnBhcmVudC5pc1RleHRibG9ja3x8dGhpcy4kdG8uZW5kKCk9PXRoaXMuJHRvLnBvcylyZXR1cm4tMTt2YXIgdCxlPXRoaXMuZnJvbnRpZXJbdGhpcy5kZXB0aF07aWYoIWUudHlwZS5pc1RleHRibG9ja3x8IVcodGhpcy4kdG8sdGhpcy4kdG8uZGVwdGgsZS50eXBlLGUubWF0Y2gsITEpfHx0aGlzLiR0by5kZXB0aD09dGhpcy5kZXB0aCYmKHQ9dGhpcy5maW5kQ2xvc2VMZXZlbCh0aGlzLiR0bykpJiZ0LmRlcHRoPT10aGlzLmRlcHRoKXJldHVybi0xO3ZhciBuPXRoaXMuJHRvLHI9bi5kZXB0aCxvPXRoaXMuJHRvLmFmdGVyKHIpO3doaWxlKHI+MSYmbz09dGhpcy4kdG8uZW5kKC0tcikpKytvO3JldHVybiBvfSxCLnByb3RvdHlwZS5maW5kQ2xvc2VMZXZlbD1mdW5jdGlvbih0KXt0OmZvcih2YXIgZT1NYXRoLm1pbih0aGlzLmRlcHRoLHQuZGVwdGgpO2U+PTA7ZS0tKXt2YXIgbj10aGlzLmZyb250aWVyW2VdLHI9bi5tYXRjaCxvPW4udHlwZSxpPWU8dC5kZXB0aCYmdC5lbmQoZSsxKT09dC5wb3MrKHQuZGVwdGgtKGUrMSkpLHM9Vyh0LGUsbyxyLGkpO2lmKHMpe2Zvcih2YXIgYT1lLTE7YT49MDthLS0pe3ZhciBjPXRoaXMuZnJvbnRpZXJbYV0sbD1jLm1hdGNoLHU9Yy50eXBlLGY9Vyh0LGEsdSxsLCEwKTtpZighZnx8Zi5jaGlsZENvdW50KWNvbnRpbnVlIHR9cmV0dXJue2RlcHRoOmUsZml0OnMsbW92ZTppP3QuZG9jLnJlc29sdmUodC5hZnRlcihlKzEpKTp0fX19fSxCLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmZpbmRDbG9zZUxldmVsKHQpO2lmKCFlKXJldHVybiBudWxsO3doaWxlKHRoaXMuZGVwdGg+ZS5kZXB0aCl0aGlzLmNsb3NlRnJvbnRpZXJOb2RlKCk7ZS5maXQuY2hpbGRDb3VudCYmKHRoaXMucGxhY2VkPUgodGhpcy5wbGFjZWQsZS5kZXB0aCxlLmZpdCkpLHQ9ZS5tb3ZlO2Zvcih2YXIgbj1lLmRlcHRoKzE7bjw9dC5kZXB0aDtuKyspe3ZhciByPXQubm9kZShuKSxvPXIudHlwZS5jb250ZW50TWF0Y2guZmlsbEJlZm9yZShyLmNvbnRlbnQsITAsdC5pbmRleChuKSk7dGhpcy5vcGVuRnJvbnRpZXJOb2RlKHIudHlwZSxyLmF0dHJzLG8pfXJldHVybiB0fSxCLnByb3RvdHlwZS5vcGVuRnJvbnRpZXJOb2RlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzLmZyb250aWVyW3RoaXMuZGVwdGhdO28ubWF0Y2g9by5tYXRjaC5tYXRjaFR5cGUodCksdGhpcy5wbGFjZWQ9SCh0aGlzLnBsYWNlZCx0aGlzLmRlcHRoLHJbIkZyYWdtZW50Il0uZnJvbSh0LmNyZWF0ZShlLG4pKSksdGhpcy5mcm9udGllci5wdXNoKHt0eXBlOnQsbWF0Y2g6dC5jb250ZW50TWF0Y2h9KX0sQi5wcm90b3R5cGUuY2xvc2VGcm9udGllck5vZGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmZyb250aWVyLnBvcCgpLGU9dC5tYXRjaC5maWxsQmVmb3JlKHJbIkZyYWdtZW50Il0uZW1wdHksITApO2UuY2hpbGRDb3VudCYmKHRoaXMucGxhY2VkPUgodGhpcy5wbGFjZWQsdGhpcy5mcm9udGllci5sZW5ndGgsZSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhCLnByb3RvdHlwZSxGKSxwLnByb3RvdHlwZS5yZXBsYWNlUmFuZ2U9ZnVuY3Rpb24odCxlLG4pe2lmKCFuLnNpemUpcmV0dXJuIHRoaXMuZGVsZXRlUmFuZ2UodCxlKTt2YXIgbz10aGlzLmRvYy5yZXNvbHZlKHQpLGk9dGhpcy5kb2MucmVzb2x2ZShlKTtpZihWKG8saSxuKSlyZXR1cm4gdGhpcy5zdGVwKG5ldyBiKHQsZSxuKSk7dmFyIHM9RyhvLHRoaXMuZG9jLnJlc29sdmUoZSkpOzA9PXNbcy5sZW5ndGgtMV0mJnMucG9wKCk7dmFyIGE9LShvLmRlcHRoKzEpO3MudW5zaGlmdChhKTtmb3IodmFyIGM9by5kZXB0aCxsPW8ucG9zLTE7Yz4wO2MtLSxsLS0pe3ZhciB1PW8ubm9kZShjKS50eXBlLnNwZWM7aWYodS5kZWZpbmluZ3x8dS5pc29sYXRpbmcpYnJlYWs7cy5pbmRleE9mKGMpPi0xP2E9YzpvLmJlZm9yZShjKT09bCYmcy5zcGxpY2UoMSwwLC1jKX1mb3IodmFyIGY9cy5pbmRleE9mKGEpLGQ9W10scD1uLm9wZW5TdGFydCxoPW4uY29udGVudCx2PTA7O3YrKyl7dmFyIG09aC5maXJzdENoaWxkO2lmKGQucHVzaChtKSx2PT1uLm9wZW5TdGFydClicmVhaztoPW0uY29udGVudH1wPjAmJmRbcC0xXS50eXBlLnNwZWMuZGVmaW5pbmcmJm8ubm9kZShmKS50eXBlIT1kW3AtMV0udHlwZT9wLT0xOnA+PTImJmRbcC0xXS5pc1RleHRibG9jayYmZFtwLTJdLnR5cGUuc3BlYy5kZWZpbmluZyYmby5ub2RlKGYpLnR5cGUhPWRbcC0yXS50eXBlJiYocC09Mik7Zm9yKHZhciBnPW4ub3BlblN0YXJ0O2c+PTA7Zy0tKXt2YXIgeT0oZytwKzEpJShuLm9wZW5TdGFydCsxKSx3PWRbeV07aWYodylmb3IodmFyIFM9MDtTPHMubGVuZ3RoO1MrKyl7dmFyIHg9c1soUytmKSVzLmxlbmd0aF0saz0hMDt4PDAmJihrPSExLHg9LXgpO3ZhciBPPW8ubm9kZSh4LTEpLEM9by5pbmRleCh4LTEpO2lmKE8uY2FuUmVwbGFjZVdpdGgoQyxDLHcudHlwZSx3Lm1hcmtzKSlyZXR1cm4gdGhpcy5yZXBsYWNlKG8uYmVmb3JlKHgpLGs/aS5hZnRlcih4KTplLG5ldyByWyJTbGljZSJdKFUobi5jb250ZW50LDAsbi5vcGVuU3RhcnQseSkseSxuLm9wZW5FbmQpKX19Zm9yKHZhciBNPXRoaXMuc3RlcHMubGVuZ3RoLE49cy5sZW5ndGgtMTtOPj0wO04tLSl7aWYodGhpcy5yZXBsYWNlKHQsZSxuKSx0aGlzLnN0ZXBzLmxlbmd0aD5NKWJyZWFrO3ZhciBUPXNbTl07TjwwfHwodD1vLmJlZm9yZShUKSxlPWkuYWZ0ZXIoVCkpfXJldHVybiB0aGlzfSxwLnByb3RvdHlwZS5yZXBsYWNlUmFuZ2VXaXRoPWZ1bmN0aW9uKHQsZSxuKXtpZighbi5pc0lubGluZSYmdD09ZSYmdGhpcy5kb2MucmVzb2x2ZSh0KS5wYXJlbnQuY29udGVudC5zaXplKXt2YXIgbz1fKHRoaXMuZG9jLHQsbi50eXBlKTtudWxsIT1vJiYodD1lPW8pfXJldHVybiB0aGlzLnJlcGxhY2VSYW5nZSh0LGUsbmV3IHJbIlNsaWNlIl0oclsiRnJhZ21lbnQiXS5mcm9tKG4pLDAsMCkpfSxwLnByb3RvdHlwZS5kZWxldGVSYW5nZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLmRvYy5yZXNvbHZlKHQpLHI9dGhpcy5kb2MucmVzb2x2ZShlKSxvPUcobixyKSxpPTA7aTxvLmxlbmd0aDtpKyspe3ZhciBzPW9baV0sYT1pPT1vLmxlbmd0aC0xO2lmKGEmJjA9PXN8fG4ubm9kZShzKS50eXBlLmNvbnRlbnRNYXRjaC52YWxpZEVuZClyZXR1cm4gdGhpcy5kZWxldGUobi5zdGFydChzKSxyLmVuZChzKSk7aWYocz4wJiYoYXx8bi5ub2RlKHMtMSkuY2FuUmVwbGFjZShuLmluZGV4KHMtMSksci5pbmRleEFmdGVyKHMtMSkpKSlyZXR1cm4gdGhpcy5kZWxldGUobi5iZWZvcmUocyksci5hZnRlcihzKSl9Zm9yKHZhciBjPTE7Yzw9bi5kZXB0aCYmYzw9ci5kZXB0aDtjKyspaWYodC1uLnN0YXJ0KGMpPT1uLmRlcHRoLWMmJmU+bi5lbmQoYykmJnIuZW5kKGMpLWUhPXIuZGVwdGgtYylyZXR1cm4gdGhpcy5kZWxldGUobi5iZWZvcmUoYyksZSk7cmV0dXJuIHRoaXMuZGVsZXRlKHQsZSl9fSwiMGNmYiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjgzYWIiKSxvPW4oImQwMzkiKSxpPW4oImNjMTIiKTt0LmV4cG9ydHM9IXImJiFvKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoaSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSkpfSwiMWFmYSI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJlNzZjIiksbz1uLm4ocik7by5hfSwiMWJlNCI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImQwNjYiKTt0LmV4cG9ydHM9cigiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiKX0sIjFjMGIiOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcihTdHJpbmcodCkrIiBpcyBub3QgYSBmdW5jdGlvbiIpO3JldHVybiB0fX0sIjFjN2UiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJiNjIyIiksbz1yKCJpdGVyYXRvciIpLGk9ITE7dHJ5e3ZhciBzPTAsYT17bmV4dDpmdW5jdGlvbigpe3JldHVybntkb25lOiEhcysrfX0scmV0dXJuOmZ1bmN0aW9uKCl7aT0hMH19O2Fbb109ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sQXJyYXkuZnJvbShhLChmdW5jdGlvbigpe3Rocm93IDJ9KSl9Y2F0Y2goYyl7fXQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFlJiYhaSlyZXR1cm4hMTt2YXIgbj0hMTt0cnl7dmFyIHI9e307cltvXT1mdW5jdGlvbigpe3JldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6bj0hMH19fX0sdChyKX1jYXRjaChjKXt9cmV0dXJuIG59fSwiMWQ4MCI6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT10KXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIit0KTtyZXR1cm4gdH19LCIxZGRlIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZDAzOSIpLG89bigiYjYyMiIpLGk9bigiMmQwMCIpLHM9bygic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaT49NTF8fCFyKChmdW5jdGlvbigpe3ZhciBlPVtdLG49ZS5jb25zdHJ1Y3Rvcj17fTtyZXR1cm4gbltzXT1mdW5jdGlvbigpe3JldHVybntmb286MX19LDEhPT1lW3RdKEJvb2xlYW4pLmZvb30pKX19LCIyM2NiIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiYTY5MSIpLG89TWF0aC5tYXgsaT1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj1yKHQpO3JldHVybiBuPDA/byhuK2UsMCk6aShuLGUpfX0sIjIzZTciOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJkYTg0Iiksbz1uKCIwNmNmIikuZixpPW4oIjkxMTIiKSxzPW4oIjZlZWIiKSxhPW4oImNlNGUiKSxjPW4oImU4OTMiKSxsPW4oIjk0Y2EiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbix1LGYsZCxwLGgsdj10LnRhcmdldCxtPXQuZ2xvYmFsLGc9dC5zdGF0O2lmKHU9bT9yOmc/clt2XXx8YSh2LHt9KTooclt2XXx8e30pLnByb3RvdHlwZSx1KWZvcihmIGluIGUpe2lmKHA9ZVtmXSx0Lm5vVGFyZ2V0R2V0PyhoPW8odSxmKSxkPWgmJmgudmFsdWUpOmQ9dVtmXSxuPWwobT9mOnYrKGc/Ii4iOiIjIikrZix0LmZvcmNlZCksIW4mJnZvaWQgMCE9PWQpe2lmKHR5cGVvZiBwPT09dHlwZW9mIGQpY29udGludWU7YyhwLGQpfSh0LnNoYW18fGQmJmQuc2hhbSkmJmkocCwic2hhbSIsITApLHModSxmLHAsdCl9fX0sIjI0MWMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJjYTg0Iiksbz1uKCI3ODM5IiksaT1vLmNvbmNhdCgibGVuZ3RoIiwicHJvdG90eXBlIik7ZS5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbih0KXtyZXR1cm4gcih0LGkpfX0sIjI1ZjAiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiNmVlYiIpLG89bigiODI1YSIpLGk9bigiZDAzOSIpLHM9bigiYWQ2ZCIpLGE9InRvU3RyaW5nIixjPVJlZ0V4cC5wcm90b3R5cGUsbD1jW2FdLHU9aSgoZnVuY3Rpb24oKXtyZXR1cm4iL2EvYiIhPWwuY2FsbCh7c291cmNlOiJhIixmbGFnczoiYiJ9KX0pKSxmPWwubmFtZSE9YTsodXx8ZikmJnIoUmVnRXhwLnByb3RvdHlwZSxhLChmdW5jdGlvbigpe3ZhciB0PW8odGhpcyksZT1TdHJpbmcodC5zb3VyY2UpLG49dC5mbGFncyxyPVN0cmluZyh2b2lkIDA9PT1uJiZ0IGluc3RhbmNlb2YgUmVnRXhwJiYhKCJmbGFncyJpbiBjKT9zLmNhbGwodCk6bik7cmV0dXJuIi8iK2UrIi8iK3J9KSx7dW5zYWZlOiEwfSl9LCIyZDAwIjpmdW5jdGlvbih0LGUsbil7dmFyIHIsbyxpPW4oImRhODQiKSxzPW4oIjM0MmYiKSxhPWkucHJvY2VzcyxjPWEmJmEudmVyc2lvbnMsbD1jJiZjLnY4O2w/KHI9bC5zcGxpdCgiLiIpLG89clswXStyWzFdKTpzJiYocj1zLm1hdGNoKC9FZGdlXC8oXGQrKS8pLCghcnx8clsxXT49NzQpJiYocj1zLm1hdGNoKC9DaHJvbWVcLyhcZCspLyksciYmKG89clsxXSkpKSx0LmV4cG9ydHM9byYmK299LCIyZDFiIjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5mfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmZ9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xOC41NTkgMy45MzJhNC45NDIgNC45NDIgMCAxMDAgOS44ODMgNC42MDkgNC42MDkgMCAwMDEuMTE1LS4xNDEuMjUuMjUgMCAwMS4yNzYuMzY4IDYuODMgNi44MyAwIDAxLTUuODc4IDMuNTIzIDEuMjUgMS4yNSAwIDAwMCAyLjUgOS43MSA5LjcxIDAgMDA5LjQyOC05Ljk1VjguODczYTQuOTQ3IDQuOTQ3IDAgMDAtNC45NDEtNC45NDF6TTYuMjM2IDMuOTMyYTQuOTQyIDQuOTQyIDAgMDAwIDkuODgzIDQuNiA0LjYgMCAwMDEuMTE1LS4xNDEuMjUuMjUgMCAwMS4yNzcuMzY4IDYuODMgNi44MyAwIDAxLTUuODc4IDMuNTIzIDEuMjUgMS4yNSAwIDAwMCAyLjUgOS43MTEgOS43MTEgMCAwMDkuNDI4LTkuOTVWOC44NzNhNC45NDcgNC45NDcgMCAwMC00Ljk0Mi00Ljk0MXoifX0pXSkpfX19LCIzMDRhIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7dGhpcy5jb250ZW50PXR9bi5yKGUpLG4uZChlLCJDb250ZW50TWF0Y2giLChmdW5jdGlvbigpe3JldHVybiBGfSkpLG4uZChlLCJET01QYXJzZXIiLChmdW5jdGlvbigpe3JldHVybiBwdH0pKSxuLmQoZSwiRE9NU2VyaWFsaXplciIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF0fSkpLG4uZChlLCJGcmFnbWVudCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKGUsIk1hcmsiLChmdW5jdGlvbigpe3JldHVybiBwfSkpLG4uZChlLCJNYXJrVHlwZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV0fSkpLG4uZChlLCJOb2RlIiwoZnVuY3Rpb24oKXtyZXR1cm4gan0pKSxuLmQoZSwiTm9kZVJhbmdlIiwoZnVuY3Rpb24oKXtyZXR1cm4gUH0pKSxuLmQoZSwiTm9kZVR5cGUiLChmdW5jdGlvbigpe3JldHVybiBzdH0pKSxuLmQoZSwiUmVwbGFjZUVycm9yIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKSxuLmQoZSwiUmVzb2x2ZWRQb3MiLChmdW5jdGlvbigpe3JldHVybiBBfSkpLG4uZChlLCJTY2hlbWEiLChmdW5jdGlvbigpe3JldHVybiBmdH0pKSxuLmQoZSwiU2xpY2UiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLHIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpyLGZpbmQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmNvbnRlbnQubGVuZ3RoO2UrPTIpaWYodGhpcy5jb250ZW50W2VdPT09dClyZXR1cm4gZTtyZXR1cm4tMX0sZ2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZmluZCh0KTtyZXR1cm4tMT09ZT92b2lkIDA6dGhpcy5jb250ZW50W2UrMV19LHVwZGF0ZTpmdW5jdGlvbih0LGUsbil7dmFyIG89biYmbiE9dD90aGlzLnJlbW92ZShuKTp0aGlzLGk9by5maW5kKHQpLHM9by5jb250ZW50LnNsaWNlKCk7cmV0dXJuLTE9PWk/cy5wdXNoKG58fHQsZSk6KHNbaSsxXT1lLG4mJihzW2ldPW4pKSxuZXcgcihzKX0scmVtb3ZlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZmluZCh0KTtpZigtMT09ZSlyZXR1cm4gdGhpczt2YXIgbj10aGlzLmNvbnRlbnQuc2xpY2UoKTtyZXR1cm4gbi5zcGxpY2UoZSwyKSxuZXcgcihuKX0sYWRkVG9TdGFydDpmdW5jdGlvbih0LGUpe3JldHVybiBuZXcgcihbdCxlXS5jb25jYXQodGhpcy5yZW1vdmUodCkuY29udGVudCkpfSxhZGRUb0VuZDpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMucmVtb3ZlKHQpLmNvbnRlbnQuc2xpY2UoKTtyZXR1cm4gbi5wdXNoKHQsZSksbmV3IHIobil9LGFkZEJlZm9yZTpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcy5yZW1vdmUoZSksaT1vLmNvbnRlbnQuc2xpY2UoKSxzPW8uZmluZCh0KTtyZXR1cm4gaS5zcGxpY2UoLTE9PXM/aS5sZW5ndGg6cywwLGUsbiksbmV3IHIoaSl9LGZvckVhY2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmNvbnRlbnQubGVuZ3RoO2UrPTIpdCh0aGlzLmNvbnRlbnRbZV0sdGhpcy5jb250ZW50W2UrMV0pfSxwcmVwZW5kOmZ1bmN0aW9uKHQpe3JldHVybiB0PXIuZnJvbSh0KSx0LnNpemU/bmV3IHIodC5jb250ZW50LmNvbmNhdCh0aGlzLnN1YnRyYWN0KHQpLmNvbnRlbnQpKTp0aGlzfSxhcHBlbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9ci5mcm9tKHQpLHQuc2l6ZT9uZXcgcih0aGlzLnN1YnRyYWN0KHQpLmNvbnRlbnQuY29uY2F0KHQuY29udGVudCkpOnRoaXN9LHN1YnRyYWN0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dD1yLmZyb20odCk7Zm9yKHZhciBuPTA7bjx0LmNvbnRlbnQubGVuZ3RoO24rPTIpZT1lLnJlbW92ZSh0LmNvbnRlbnRbbl0pO3JldHVybiBlfSxnZXQgc2l6ZSgpe3JldHVybiB0aGlzLmNvbnRlbnQubGVuZ3RoPj4xfX0sci5mcm9tPWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiByKXJldHVybiB0O3ZhciBlPVtdO2lmKHQpZm9yKHZhciBuIGluIHQpZS5wdXNoKG4sdFtuXSk7cmV0dXJuIG5ldyByKGUpfTt2YXIgbz1yLGk9bztmdW5jdGlvbiBzKHQsZSxuKXtmb3IodmFyIHI9MDs7cisrKXtpZihyPT10LmNoaWxkQ291bnR8fHI9PWUuY2hpbGRDb3VudClyZXR1cm4gdC5jaGlsZENvdW50PT1lLmNoaWxkQ291bnQ/bnVsbDpuO3ZhciBvPXQuY2hpbGQociksaT1lLmNoaWxkKHIpO2lmKG8hPWkpe2lmKCFvLnNhbWVNYXJrdXAoaSkpcmV0dXJuIG47aWYoby5pc1RleHQmJm8udGV4dCE9aS50ZXh0KXtmb3IodmFyIGE9MDtvLnRleHRbYV09PWkudGV4dFthXTthKyspbisrO3JldHVybiBufWlmKG8uY29udGVudC5zaXplfHxpLmNvbnRlbnQuc2l6ZSl7dmFyIGM9cyhvLmNvbnRlbnQsaS5jb250ZW50LG4rMSk7aWYobnVsbCE9YylyZXR1cm4gY31uKz1vLm5vZGVTaXplfWVsc2Ugbis9by5ub2RlU2l6ZX19ZnVuY3Rpb24gYSh0LGUsbixyKXtmb3IodmFyIG89dC5jaGlsZENvdW50LGk9ZS5jaGlsZENvdW50Ozspe2lmKDA9PW98fDA9PWkpcmV0dXJuIG89PWk/bnVsbDp7YTpuLGI6cn07dmFyIHM9dC5jaGlsZCgtLW8pLGM9ZS5jaGlsZCgtLWkpLGw9cy5ub2RlU2l6ZTtpZihzIT1jKXtpZighcy5zYW1lTWFya3VwKGMpKXJldHVybnthOm4sYjpyfTtpZihzLmlzVGV4dCYmcy50ZXh0IT1jLnRleHQpe3ZhciB1PTAsZj1NYXRoLm1pbihzLnRleHQubGVuZ3RoLGMudGV4dC5sZW5ndGgpO3doaWxlKHU8ZiYmcy50ZXh0W3MudGV4dC5sZW5ndGgtdS0xXT09Yy50ZXh0W2MudGV4dC5sZW5ndGgtdS0xXSl1Kyssbi0tLHItLTtyZXR1cm57YTpuLGI6cn19aWYocy5jb250ZW50LnNpemV8fGMuY29udGVudC5zaXplKXt2YXIgZD1hKHMuY29udGVudCxjLmNvbnRlbnQsbi0xLHItMSk7aWYoZClyZXR1cm4gZH1uLT1sLHItPWx9ZWxzZSBuLT1sLHItPWx9fXZhciBjPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5jb250ZW50PXQsdGhpcy5zaXplPWV8fDAsbnVsbD09ZSlmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl0aGlzLnNpemUrPXRbbl0ubm9kZVNpemV9LGw9e2ZpcnN0Q2hpbGQ6e2NvbmZpZ3VyYWJsZTohMH0sbGFzdENoaWxkOntjb25maWd1cmFibGU6ITB9LGNoaWxkQ291bnQ6e2NvbmZpZ3VyYWJsZTohMH19O2MucHJvdG90eXBlLm5vZGVzQmV0d2Vlbj1mdW5jdGlvbih0LGUsbixyLG8pe3ZvaWQgMD09PXImJihyPTApO2Zvcih2YXIgaT0wLHM9MDtzPGU7aSsrKXt2YXIgYT10aGlzLmNvbnRlbnRbaV0sYz1zK2Eubm9kZVNpemU7aWYoYz50JiYhMSE9PW4oYSxyK3MsbyxpKSYmYS5jb250ZW50LnNpemUpe3ZhciBsPXMrMTthLm5vZGVzQmV0d2VlbihNYXRoLm1heCgwLHQtbCksTWF0aC5taW4oYS5jb250ZW50LnNpemUsZS1sKSxuLHIrbCl9cz1jfX0sYy5wcm90b3R5cGUuZGVzY2VuZGFudHM9ZnVuY3Rpb24odCl7dGhpcy5ub2Rlc0JldHdlZW4oMCx0aGlzLnNpemUsdCl9LGMucHJvdG90eXBlLnRleHRCZXR3ZWVuPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPSIiLGk9ITA7cmV0dXJuIHRoaXMubm9kZXNCZXR3ZWVuKHQsZSwoZnVuY3Rpb24ocyxhKXtzLmlzVGV4dD8obys9cy50ZXh0LnNsaWNlKE1hdGgubWF4KHQsYSktYSxlLWEpLGk9IW4pOnMuaXNMZWFmJiZyPyhvKz1yLGk9IW4pOiFpJiZzLmlzQmxvY2smJihvKz1uLGk9ITApfSksMCksb30sYy5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKHQpe2lmKCF0LnNpemUpcmV0dXJuIHRoaXM7aWYoIXRoaXMuc2l6ZSlyZXR1cm4gdDt2YXIgZT10aGlzLmxhc3RDaGlsZCxuPXQuZmlyc3RDaGlsZCxyPXRoaXMuY29udGVudC5zbGljZSgpLG89MDtmb3IoZS5pc1RleHQmJmUuc2FtZU1hcmt1cChuKSYmKHJbci5sZW5ndGgtMV09ZS53aXRoVGV4dChlLnRleHQrbi50ZXh0KSxvPTEpO288dC5jb250ZW50Lmxlbmd0aDtvKyspci5wdXNoKHQuY29udGVudFtvXSk7cmV0dXJuIG5ldyBjKHIsdGhpcy5zaXplK3Quc2l6ZSl9LGMucHJvdG90eXBlLmN1dD1mdW5jdGlvbih0LGUpe2lmKG51bGw9PWUmJihlPXRoaXMuc2l6ZSksMD09dCYmZT09dGhpcy5zaXplKXJldHVybiB0aGlzO3ZhciBuPVtdLHI9MDtpZihlPnQpZm9yKHZhciBvPTAsaT0wO2k8ZTtvKyspe3ZhciBzPXRoaXMuY29udGVudFtvXSxhPWkrcy5ub2RlU2l6ZTthPnQmJigoaTx0fHxhPmUpJiYocz1zLmlzVGV4dD9zLmN1dChNYXRoLm1heCgwLHQtaSksTWF0aC5taW4ocy50ZXh0Lmxlbmd0aCxlLWkpKTpzLmN1dChNYXRoLm1heCgwLHQtaS0xKSxNYXRoLm1pbihzLmNvbnRlbnQuc2l6ZSxlLWktMSkpKSxuLnB1c2gocykscis9cy5ub2RlU2l6ZSksaT1hfXJldHVybiBuZXcgYyhuLHIpfSxjLnByb3RvdHlwZS5jdXRCeUluZGV4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9PWU/Yy5lbXB0eTowPT10JiZlPT10aGlzLmNvbnRlbnQubGVuZ3RoP3RoaXM6bmV3IGModGhpcy5jb250ZW50LnNsaWNlKHQsZSkpfSxjLnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmNvbnRlbnRbdF07aWYobj09ZSlyZXR1cm4gdGhpczt2YXIgcj10aGlzLmNvbnRlbnQuc2xpY2UoKSxvPXRoaXMuc2l6ZStlLm5vZGVTaXplLW4ubm9kZVNpemU7cmV0dXJuIHJbdF09ZSxuZXcgYyhyLG8pfSxjLnByb3RvdHlwZS5hZGRUb1N0YXJ0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgYyhbdF0uY29uY2F0KHRoaXMuY29udGVudCksdGhpcy5zaXplK3Qubm9kZVNpemUpfSxjLnByb3RvdHlwZS5hZGRUb0VuZD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGModGhpcy5jb250ZW50LmNvbmNhdCh0KSx0aGlzLnNpemUrdC5ub2RlU2l6ZSl9LGMucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe2lmKHRoaXMuY29udGVudC5sZW5ndGghPXQuY29udGVudC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBlPTA7ZTx0aGlzLmNvbnRlbnQubGVuZ3RoO2UrKylpZighdGhpcy5jb250ZW50W2VdLmVxKHQuY29udGVudFtlXSkpcmV0dXJuITE7cmV0dXJuITB9LGwuZmlyc3RDaGlsZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aD90aGlzLmNvbnRlbnRbMF06bnVsbH0sbC5sYXN0Q2hpbGQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGg/dGhpcy5jb250ZW50W3RoaXMuY29udGVudC5sZW5ndGgtMV06bnVsbH0sbC5jaGlsZENvdW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQubGVuZ3RofSxjLnByb3RvdHlwZS5jaGlsZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRlbnRbdF07aWYoIWUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4ICIrdCsiIG91dCBvZiByYW5nZSBmb3IgIit0aGlzKTtyZXR1cm4gZX0sYy5wcm90b3R5cGUubWF5YmVDaGlsZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250ZW50W3RdfSxjLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49MDtlPHRoaXMuY29udGVudC5sZW5ndGg7ZSsrKXt2YXIgcj10aGlzLmNvbnRlbnRbZV07dChyLG4sZSksbis9ci5ub2RlU2l6ZX19LGMucHJvdG90eXBlLmZpbmREaWZmU3RhcnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCkscyh0aGlzLHQsZSl9LGMucHJvdG90eXBlLmZpbmREaWZmRW5kPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9dGhpcy5zaXplKSx2b2lkIDA9PT1uJiYobj10LnNpemUpLGEodGhpcyx0LGUsbil9LGMucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PWUmJihlPS0xKSwwPT10KXJldHVybiBmKDAsdCk7aWYodD09dGhpcy5zaXplKXJldHVybiBmKHRoaXMuY29udGVudC5sZW5ndGgsdCk7aWYodD50aGlzLnNpemV8fHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiUG9zaXRpb24gIit0KyIgb3V0c2lkZSBvZiBmcmFnbWVudCAoIit0aGlzKyIpIik7Zm9yKHZhciBuPTAscj0wOztuKyspe3ZhciBvPXRoaXMuY2hpbGQobiksaT1yK28ubm9kZVNpemU7aWYoaT49dClyZXR1cm4gaT09dHx8ZT4wP2YobisxLGkpOmYobixyKTtyPWl9fSxjLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiI8Iit0aGlzLnRvU3RyaW5nSW5uZXIoKSsiPiJ9LGMucHJvdG90eXBlLnRvU3RyaW5nSW5uZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50LmpvaW4oIiwgIil9LGMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQubGVuZ3RoP3RoaXMuY29udGVudC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvSlNPTigpfSkpOm51bGx9LGMuZnJvbUpTT049ZnVuY3Rpb24odCxlKXtpZighZSlyZXR1cm4gYy5lbXB0eTtpZighQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgRnJhZ21lbnQuZnJvbUpTT04iKTtyZXR1cm4gbmV3IGMoZS5tYXAodC5ub2RlRnJvbUpTT04pKX0sYy5mcm9tQXJyYXk9ZnVuY3Rpb24odCl7aWYoIXQubGVuZ3RoKXJldHVybiBjLmVtcHR5O2Zvcih2YXIgZSxuPTAscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO24rPW8ubm9kZVNpemUsciYmby5pc1RleHQmJnRbci0xXS5zYW1lTWFya3VwKG8pPyhlfHwoZT10LnNsaWNlKDAscikpLGVbZS5sZW5ndGgtMV09by53aXRoVGV4dChlW2UubGVuZ3RoLTFdLnRleHQrby50ZXh0KSk6ZSYmZS5wdXNoKG8pfXJldHVybiBuZXcgYyhlfHx0LG4pfSxjLmZyb209ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIGMuZW1wdHk7aWYodCBpbnN0YW5jZW9mIGMpcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdGhpcy5mcm9tQXJyYXkodCk7aWYodC5hdHRycylyZXR1cm4gbmV3IGMoW3RdLHQubm9kZVNpemUpO3Rocm93IG5ldyBSYW5nZUVycm9yKCJDYW4gbm90IGNvbnZlcnQgIit0KyIgdG8gYSBGcmFnbWVudCIrKHQubm9kZXNCZXR3ZWVuPyIgKGxvb2tzIGxpa2UgbXVsdGlwbGUgdmVyc2lvbnMgb2YgcHJvc2VtaXJyb3ItbW9kZWwgd2VyZSBsb2FkZWQpIjoiIikpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjLnByb3RvdHlwZSxsKTt2YXIgdT17aW5kZXg6MCxvZmZzZXQ6MH07ZnVuY3Rpb24gZih0LGUpe3JldHVybiB1LmluZGV4PXQsdS5vZmZzZXQ9ZSx1fWZ1bmN0aW9uIGQodCxlKXtpZih0PT09ZSlyZXR1cm4hMDtpZighdHx8Im9iamVjdCIhPXR5cGVvZiB0fHwhZXx8Im9iamVjdCIhPXR5cGVvZiBlKXJldHVybiExO3ZhciBuPUFycmF5LmlzQXJyYXkodCk7aWYoQXJyYXkuaXNBcnJheShlKSE9bilyZXR1cm4hMTtpZihuKXtpZih0Lmxlbmd0aCE9ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspaWYoIWQodFtyXSxlW3JdKSlyZXR1cm4hMX1lbHNle2Zvcih2YXIgbyBpbiB0KWlmKCEobyBpbiBlKXx8IWQodFtvXSxlW29dKSlyZXR1cm4hMTtmb3IodmFyIGkgaW4gZSlpZighKGkgaW4gdCkpcmV0dXJuITF9cmV0dXJuITB9Yy5lbXB0eT1uZXcgYyhbXSwwKTt2YXIgcD1mdW5jdGlvbih0LGUpe3RoaXMudHlwZT10LHRoaXMuYXR0cnM9ZX07ZnVuY3Rpb24gaCh0KXt2YXIgZT1FcnJvci5jYWxsKHRoaXMsdCk7cmV0dXJuIGUuX19wcm90b19fPWgucHJvdG90eXBlLGV9cC5wcm90b3R5cGUuYWRkVG9TZXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49ITEscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO2lmKHRoaXMuZXEobykpcmV0dXJuIHQ7aWYodGhpcy50eXBlLmV4Y2x1ZGVzKG8udHlwZSkpZXx8KGU9dC5zbGljZSgwLHIpKTtlbHNle2lmKG8udHlwZS5leGNsdWRlcyh0aGlzLnR5cGUpKXJldHVybiB0OyFuJiZvLnR5cGUucmFuaz50aGlzLnR5cGUucmFuayYmKGV8fChlPXQuc2xpY2UoMCxyKSksZS5wdXNoKHRoaXMpLG49ITApLGUmJmUucHVzaChvKX19cmV0dXJuIGV8fChlPXQuc2xpY2UoKSksbnx8ZS5wdXNoKHRoaXMpLGV9LHAucHJvdG90eXBlLnJlbW92ZUZyb21TZXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodGhpcy5lcSh0W2VdKSlyZXR1cm4gdC5zbGljZSgwLGUpLmNvbmNhdCh0LnNsaWNlKGUrMSkpO3JldHVybiB0fSxwLnByb3RvdHlwZS5pc0luU2V0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRoaXMuZXEodFtlXSkpcmV0dXJuITA7cmV0dXJuITF9LHAucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT10fHx0aGlzLnR5cGU9PXQudHlwZSYmZCh0aGlzLmF0dHJzLHQuYXR0cnMpfSxwLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgdD17dHlwZTp0aGlzLnR5cGUubmFtZX07Zm9yKHZhciBlIGluIHRoaXMuYXR0cnMpe3QuYXR0cnM9dGhpcy5hdHRyczticmVha31yZXR1cm4gdH0scC5mcm9tSlNPTj1mdW5jdGlvbih0LGUpe2lmKCFlKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBNYXJrLmZyb21KU09OIik7dmFyIG49dC5tYXJrc1tlLnR5cGVdO2lmKCFuKXRocm93IG5ldyBSYW5nZUVycm9yKCJUaGVyZSBpcyBubyBtYXJrIHR5cGUgIitlLnR5cGUrIiBpbiB0aGlzIHNjaGVtYSIpO3JldHVybiBuLmNyZWF0ZShlLmF0dHJzKX0scC5zYW1lU2V0PWZ1bmN0aW9uKHQsZSl7aWYodD09ZSlyZXR1cm4hMDtpZih0Lmxlbmd0aCE9ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYoIXRbbl0uZXEoZVtuXSkpcmV0dXJuITE7cmV0dXJuITB9LHAuc2V0RnJvbT1mdW5jdGlvbih0KXtpZighdHx8MD09dC5sZW5ndGgpcmV0dXJuIHAubm9uZTtpZih0IGluc3RhbmNlb2YgcClyZXR1cm5bdF07dmFyIGU9dC5zbGljZSgpO3JldHVybiBlLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudHlwZS5yYW5rLWUudHlwZS5yYW5rfSkpLGV9LHAubm9uZT1bXSxoLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksaC5wcm90b3R5cGUuY29uc3RydWN0b3I9aCxoLnByb3RvdHlwZS5uYW1lPSJSZXBsYWNlRXJyb3IiO3ZhciB2PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmNvbnRlbnQ9dCx0aGlzLm9wZW5TdGFydD1lLHRoaXMub3BlbkVuZD1ufSxtPXtzaXplOntjb25maWd1cmFibGU6ITB9fTtmdW5jdGlvbiBnKHQsZSxuKXt2YXIgcj10LmZpbmRJbmRleChlKSxvPXIuaW5kZXgsaT1yLm9mZnNldCxzPXQubWF5YmVDaGlsZChvKSxhPXQuZmluZEluZGV4KG4pLGM9YS5pbmRleCxsPWEub2Zmc2V0O2lmKGk9PWV8fHMuaXNUZXh0KXtpZihsIT1uJiYhdC5jaGlsZChjKS5pc1RleHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlJlbW92aW5nIG5vbi1mbGF0IHJhbmdlIik7cmV0dXJuIHQuY3V0KDAsZSkuYXBwZW5kKHQuY3V0KG4pKX1pZihvIT1jKXRocm93IG5ldyBSYW5nZUVycm9yKCJSZW1vdmluZyBub24tZmxhdCByYW5nZSIpO3JldHVybiB0LnJlcGxhY2VDaGlsZChvLHMuY29weShnKHMuY29udGVudCxlLWktMSxuLWktMSkpKX1mdW5jdGlvbiB5KHQsZSxuLHIpe3ZhciBvPXQuZmluZEluZGV4KGUpLGk9by5pbmRleCxzPW8ub2Zmc2V0LGE9dC5tYXliZUNoaWxkKGkpO2lmKHM9PWV8fGEuaXNUZXh0KXJldHVybiByJiYhci5jYW5SZXBsYWNlKGksaSxuKT9udWxsOnQuY3V0KDAsZSkuYXBwZW5kKG4pLmFwcGVuZCh0LmN1dChlKSk7dmFyIGM9eShhLmNvbnRlbnQsZS1zLTEsbik7cmV0dXJuIGMmJnQucmVwbGFjZUNoaWxkKGksYS5jb3B5KGMpKX1mdW5jdGlvbiBiKHQsZSxuKXtpZihuLm9wZW5TdGFydD50LmRlcHRoKXRocm93IG5ldyBoKCJJbnNlcnRlZCBjb250ZW50IGRlZXBlciB0aGFuIGluc2VydGlvbiBwb3NpdGlvbiIpO2lmKHQuZGVwdGgtbi5vcGVuU3RhcnQhPWUuZGVwdGgtbi5vcGVuRW5kKXRocm93IG5ldyBoKCJJbmNvbnNpc3RlbnQgb3BlbiBkZXB0aHMiKTtyZXR1cm4gdyh0LGUsbiwwKX1mdW5jdGlvbiB3KHQsZSxuLHIpe3ZhciBvPXQuaW5kZXgociksaT10Lm5vZGUocik7aWYobz09ZS5pbmRleChyKSYmcjx0LmRlcHRoLW4ub3BlblN0YXJ0KXt2YXIgcz13KHQsZSxuLHIrMSk7cmV0dXJuIGkuY29weShpLmNvbnRlbnQucmVwbGFjZUNoaWxkKG8scykpfWlmKG4uY29udGVudC5zaXplKXtpZihuLm9wZW5TdGFydHx8bi5vcGVuRW5kfHx0LmRlcHRoIT1yfHxlLmRlcHRoIT1yKXt2YXIgYT1UKG4sdCksYz1hLnN0YXJ0LGw9YS5lbmQ7cmV0dXJuIEMoaSxNKHQsYyxsLGUscikpfXZhciB1PXQucGFyZW50LGY9dS5jb250ZW50O3JldHVybiBDKHUsZi5jdXQoMCx0LnBhcmVudE9mZnNldCkuYXBwZW5kKG4uY29udGVudCkuYXBwZW5kKGYuY3V0KGUucGFyZW50T2Zmc2V0KSkpfXJldHVybiBDKGksTih0LGUscikpfWZ1bmN0aW9uIFModCxlKXtpZighZS50eXBlLmNvbXBhdGlibGVDb250ZW50KHQudHlwZSkpdGhyb3cgbmV3IGgoIkNhbm5vdCBqb2luICIrZS50eXBlLm5hbWUrIiBvbnRvICIrdC50eXBlLm5hbWUpfWZ1bmN0aW9uIHgodCxlLG4pe3ZhciByPXQubm9kZShuKTtyZXR1cm4gUyhyLGUubm9kZShuKSkscn1mdW5jdGlvbiBrKHQsZSl7dmFyIG49ZS5sZW5ndGgtMTtuPj0wJiZ0LmlzVGV4dCYmdC5zYW1lTWFya3VwKGVbbl0pP2Vbbl09dC53aXRoVGV4dChlW25dLnRleHQrdC50ZXh0KTplLnB1c2godCl9ZnVuY3Rpb24gTyh0LGUsbixyKXt2YXIgbz0oZXx8dCkubm9kZShuKSxpPTAscz1lP2UuaW5kZXgobik6by5jaGlsZENvdW50O3QmJihpPXQuaW5kZXgobiksdC5kZXB0aD5uP2krKzp0LnRleHRPZmZzZXQmJihrKHQubm9kZUFmdGVyLHIpLGkrKykpO2Zvcih2YXIgYT1pO2E8czthKyspayhvLmNoaWxkKGEpLHIpO2UmJmUuZGVwdGg9PW4mJmUudGV4dE9mZnNldCYmayhlLm5vZGVCZWZvcmUscil9ZnVuY3Rpb24gQyh0LGUpe2lmKCF0LnR5cGUudmFsaWRDb250ZW50KGUpKXRocm93IG5ldyBoKCJJbnZhbGlkIGNvbnRlbnQgZm9yIG5vZGUgIit0LnR5cGUubmFtZSk7cmV0dXJuIHQuY29weShlKX1mdW5jdGlvbiBNKHQsZSxuLHIsbyl7dmFyIGk9dC5kZXB0aD5vJiZ4KHQsZSxvKzEpLHM9ci5kZXB0aD5vJiZ4KG4scixvKzEpLGE9W107cmV0dXJuIE8obnVsbCx0LG8sYSksaSYmcyYmZS5pbmRleChvKT09bi5pbmRleChvKT8oUyhpLHMpLGsoQyhpLE0odCxlLG4scixvKzEpKSxhKSk6KGkmJmsoQyhpLE4odCxlLG8rMSkpLGEpLE8oZSxuLG8sYSkscyYmayhDKHMsTihuLHIsbysxKSksYSkpLE8ocixudWxsLG8sYSksbmV3IGMoYSl9ZnVuY3Rpb24gTih0LGUsbil7dmFyIHI9W107aWYoTyhudWxsLHQsbixyKSx0LmRlcHRoPm4pe3ZhciBvPXgodCxlLG4rMSk7ayhDKG8sTih0LGUsbisxKSkscil9cmV0dXJuIE8oZSxudWxsLG4sciksbmV3IGMocil9ZnVuY3Rpb24gVCh0LGUpe2Zvcih2YXIgbj1lLmRlcHRoLXQub3BlblN0YXJ0LHI9ZS5ub2RlKG4pLG89ci5jb3B5KHQuY29udGVudCksaT1uLTE7aT49MDtpLS0pbz1lLm5vZGUoaSkuY29weShjLmZyb20obykpO3JldHVybntzdGFydDpvLnJlc29sdmVOb0NhY2hlKHQub3BlblN0YXJ0K24pLGVuZDpvLnJlc29sdmVOb0NhY2hlKG8uY29udGVudC5zaXplLXQub3BlbkVuZC1uKX19bS5zaXplLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQuc2l6ZS10aGlzLm9wZW5TdGFydC10aGlzLm9wZW5FbmR9LHYucHJvdG90eXBlLmluc2VydEF0PWZ1bmN0aW9uKHQsZSl7dmFyIG49eSh0aGlzLmNvbnRlbnQsdCt0aGlzLm9wZW5TdGFydCxlLG51bGwpO3JldHVybiBuJiZuZXcgdihuLHRoaXMub3BlblN0YXJ0LHRoaXMub3BlbkVuZCl9LHYucHJvdG90eXBlLnJlbW92ZUJldHdlZW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHYoZyh0aGlzLmNvbnRlbnQsdCt0aGlzLm9wZW5TdGFydCxlK3RoaXMub3BlblN0YXJ0KSx0aGlzLm9wZW5TdGFydCx0aGlzLm9wZW5FbmQpfSx2LnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250ZW50LmVxKHQuY29udGVudCkmJnRoaXMub3BlblN0YXJ0PT10Lm9wZW5TdGFydCYmdGhpcy5vcGVuRW5kPT10Lm9wZW5FbmR9LHYucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudCsiKCIrdGhpcy5vcGVuU3RhcnQrIiwiK3RoaXMub3BlbkVuZCsiKSJ9LHYucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe2lmKCF0aGlzLmNvbnRlbnQuc2l6ZSlyZXR1cm4gbnVsbDt2YXIgdD17Y29udGVudDp0aGlzLmNvbnRlbnQudG9KU09OKCl9O3JldHVybiB0aGlzLm9wZW5TdGFydD4wJiYodC5vcGVuU3RhcnQ9dGhpcy5vcGVuU3RhcnQpLHRoaXMub3BlbkVuZD4wJiYodC5vcGVuRW5kPXRoaXMub3BlbkVuZCksdH0sdi5mcm9tSlNPTj1mdW5jdGlvbih0LGUpe2lmKCFlKXJldHVybiB2LmVtcHR5O3ZhciBuPWUub3BlblN0YXJ0fHwwLHI9ZS5vcGVuRW5kfHwwO2lmKCJudW1iZXIiIT10eXBlb2Ygbnx8Im51bWJlciIhPXR5cGVvZiByKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBTbGljZS5mcm9tSlNPTiIpO3JldHVybiBuZXcgdihjLmZyb21KU09OKHQsZS5jb250ZW50KSxlLm9wZW5TdGFydHx8MCxlLm9wZW5FbmR8fDApfSx2Lm1heE9wZW49ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0hMCk7Zm9yKHZhciBuPTAscj0wLG89dC5maXJzdENoaWxkO28mJiFvLmlzTGVhZiYmKGV8fCFvLnR5cGUuc3BlYy5pc29sYXRpbmcpO289by5maXJzdENoaWxkKW4rKztmb3IodmFyIGk9dC5sYXN0Q2hpbGQ7aSYmIWkuaXNMZWFmJiYoZXx8IWkudHlwZS5zcGVjLmlzb2xhdGluZyk7aT1pLmxhc3RDaGlsZClyKys7cmV0dXJuIG5ldyB2KHQsbixyKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXModi5wcm90b3R5cGUsbSksdi5lbXB0eT1uZXcgdihjLmVtcHR5LDAsMCk7dmFyIEE9ZnVuY3Rpb24odCxlLG4pe3RoaXMucG9zPXQsdGhpcy5wYXRoPWUsdGhpcy5kZXB0aD1lLmxlbmd0aC8zLTEsdGhpcy5wYXJlbnRPZmZzZXQ9bn0sRD17cGFyZW50Ontjb25maWd1cmFibGU6ITB9LGRvYzp7Y29uZmlndXJhYmxlOiEwfSx0ZXh0T2Zmc2V0Ontjb25maWd1cmFibGU6ITB9LG5vZGVBZnRlcjp7Y29uZmlndXJhYmxlOiEwfSxub2RlQmVmb3JlOntjb25maWd1cmFibGU6ITB9fTtBLnByb3RvdHlwZS5yZXNvbHZlRGVwdGg9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/dGhpcy5kZXB0aDp0PDA/dGhpcy5kZXB0aCt0OnR9LEQucGFyZW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUodGhpcy5kZXB0aCl9LEQuZG9jLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUoMCl9LEEucHJvdG90eXBlLm5vZGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucGF0aFszKnRoaXMucmVzb2x2ZURlcHRoKHQpXX0sQS5wcm90b3R5cGUuaW5kZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucGF0aFszKnRoaXMucmVzb2x2ZURlcHRoKHQpKzFdfSxBLnByb3RvdHlwZS5pbmRleEFmdGVyPWZ1bmN0aW9uKHQpe3JldHVybiB0PXRoaXMucmVzb2x2ZURlcHRoKHQpLHRoaXMuaW5kZXgodCkrKHQhPXRoaXMuZGVwdGh8fHRoaXMudGV4dE9mZnNldD8xOjApfSxBLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLnJlc29sdmVEZXB0aCh0KSwwPT10PzA6dGhpcy5wYXRoWzMqdC0xXSsxfSxBLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dGhpcy5yZXNvbHZlRGVwdGgodCksdGhpcy5zdGFydCh0KSt0aGlzLm5vZGUodCkuY29udGVudC5zaXplfSxBLnByb3RvdHlwZS5iZWZvcmU9ZnVuY3Rpb24odCl7aWYodD10aGlzLnJlc29sdmVEZXB0aCh0KSwhdCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGhlcmUgaXMgbm8gcG9zaXRpb24gYmVmb3JlIHRoZSB0b3AtbGV2ZWwgbm9kZSIpO3JldHVybiB0PT10aGlzLmRlcHRoKzE/dGhpcy5wb3M6dGhpcy5wYXRoWzMqdC0xXX0sQS5wcm90b3R5cGUuYWZ0ZXI9ZnVuY3Rpb24odCl7aWYodD10aGlzLnJlc29sdmVEZXB0aCh0KSwhdCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGhlcmUgaXMgbm8gcG9zaXRpb24gYWZ0ZXIgdGhlIHRvcC1sZXZlbCBub2RlIik7cmV0dXJuIHQ9PXRoaXMuZGVwdGgrMT90aGlzLnBvczp0aGlzLnBhdGhbMyp0LTFdK3RoaXMucGF0aFszKnRdLm5vZGVTaXplfSxELnRleHRPZmZzZXQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zLXRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoLTFdfSxELm5vZGVBZnRlci5nZXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhcmVudCxlPXRoaXMuaW5kZXgodGhpcy5kZXB0aCk7aWYoZT09dC5jaGlsZENvdW50KXJldHVybiBudWxsO3ZhciBuPXRoaXMucG9zLXRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoLTFdLHI9dC5jaGlsZChlKTtyZXR1cm4gbj90LmNoaWxkKGUpLmN1dChuKTpyfSxELm5vZGVCZWZvcmUuZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5pbmRleCh0aGlzLmRlcHRoKSxlPXRoaXMucG9zLXRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoLTFdO3JldHVybiBlP3RoaXMucGFyZW50LmNoaWxkKHQpLmN1dCgwLGUpOjA9PXQ/bnVsbDp0aGlzLnBhcmVudC5jaGlsZCh0LTEpfSxBLnByb3RvdHlwZS5tYXJrcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMucGFyZW50LGU9dGhpcy5pbmRleCgpO2lmKDA9PXQuY29udGVudC5zaXplKXJldHVybiBwLm5vbmU7aWYodGhpcy50ZXh0T2Zmc2V0KXJldHVybiB0LmNoaWxkKGUpLm1hcmtzO3ZhciBuPXQubWF5YmVDaGlsZChlLTEpLHI9dC5tYXliZUNoaWxkKGUpO2lmKCFuKXt2YXIgbz1uO249cixyPW99Zm9yKHZhciBpPW4ubWFya3Mscz0wO3M8aS5sZW5ndGg7cysrKSExIT09aVtzXS50eXBlLnNwZWMuaW5jbHVzaXZlfHxyJiZpW3NdLmlzSW5TZXQoci5tYXJrcyl8fChpPWlbcy0tXS5yZW1vdmVGcm9tU2V0KGkpKTtyZXR1cm4gaX0sQS5wcm90b3R5cGUubWFya3NBY3Jvc3M9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wYXJlbnQubWF5YmVDaGlsZCh0aGlzLmluZGV4KCkpO2lmKCFlfHwhZS5pc0lubGluZSlyZXR1cm4gbnVsbDtmb3IodmFyIG49ZS5tYXJrcyxyPXQucGFyZW50Lm1heWJlQ2hpbGQodC5pbmRleCgpKSxvPTA7bzxuLmxlbmd0aDtvKyspITEhPT1uW29dLnR5cGUuc3BlYy5pbmNsdXNpdmV8fHImJm5bb10uaXNJblNldChyLm1hcmtzKXx8KG49bltvLS1dLnJlbW92ZUZyb21TZXQobikpO3JldHVybiBufSxBLnByb3RvdHlwZS5zaGFyZWREZXB0aD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5kZXB0aDtlPjA7ZS0tKWlmKHRoaXMuc3RhcnQoZSk8PXQmJnRoaXMuZW5kKGUpPj10KXJldHVybiBlO3JldHVybiAwfSxBLnByb3RvdHlwZS5ibG9ja1JhbmdlPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09dCYmKHQ9dGhpcyksdC5wb3M8dGhpcy5wb3MpcmV0dXJuIHQuYmxvY2tSYW5nZSh0aGlzKTtmb3IodmFyIG49dGhpcy5kZXB0aC0odGhpcy5wYXJlbnQuaW5saW5lQ29udGVudHx8dGhpcy5wb3M9PXQucG9zPzE6MCk7bj49MDtuLS0paWYodC5wb3M8PXRoaXMuZW5kKG4pJiYoIWV8fGUodGhpcy5ub2RlKG4pKSkpcmV0dXJuIG5ldyBQKHRoaXMsdCxuKX0sQS5wcm90b3R5cGUuc2FtZVBhcmVudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wb3MtdGhpcy5wYXJlbnRPZmZzZXQ9PXQucG9zLXQucGFyZW50T2Zmc2V0fSxBLnByb3RvdHlwZS5tYXg9ZnVuY3Rpb24odCl7cmV0dXJuIHQucG9zPnRoaXMucG9zP3Q6dGhpc30sQS5wcm90b3R5cGUubWluPWZ1bmN0aW9uKHQpe3JldHVybiB0LnBvczx0aGlzLnBvcz90OnRoaXN9LEEucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PSIiLGU9MTtlPD10aGlzLmRlcHRoO2UrKyl0Kz0odD8iLyI6IiIpK3RoaXMubm9kZShlKS50eXBlLm5hbWUrIl8iK3RoaXMuaW5kZXgoZS0xKTtyZXR1cm4gdCsiOiIrdGhpcy5wYXJlbnRPZmZzZXR9LEEucmVzb2x2ZT1mdW5jdGlvbih0LGUpe2lmKCEoZT49MCYmZTw9dC5jb250ZW50LnNpemUpKXRocm93IG5ldyBSYW5nZUVycm9yKCJQb3NpdGlvbiAiK2UrIiBvdXQgb2YgcmFuZ2UiKTtmb3IodmFyIG49W10scj0wLG89ZSxpPXQ7Oyl7dmFyIHM9aS5jb250ZW50LmZpbmRJbmRleChvKSxhPXMuaW5kZXgsYz1zLm9mZnNldCxsPW8tYztpZihuLnB1c2goaSxhLHIrYyksIWwpYnJlYWs7aWYoaT1pLmNoaWxkKGEpLGkuaXNUZXh0KWJyZWFrO289bC0xLHIrPWMrMX1yZXR1cm4gbmV3IEEoZSxuLG8pfSxBLnJlc29sdmVDYWNoZWQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPEUubGVuZ3RoO24rKyl7dmFyIHI9RVtuXTtpZihyLnBvcz09ZSYmci5kb2M9PXQpcmV0dXJuIHJ9dmFyIG89RVtSXT1BLnJlc29sdmUodCxlKTtyZXR1cm4gUj0oUisxKSVfLG99LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEEucHJvdG90eXBlLEQpO3ZhciBFPVtdLFI9MCxfPTEyLFA9ZnVuY3Rpb24odCxlLG4pe3RoaXMuJGZyb209dCx0aGlzLiR0bz1lLHRoaXMuZGVwdGg9bn0sej17c3RhcnQ6e2NvbmZpZ3VyYWJsZTohMH0sZW5kOntjb25maWd1cmFibGU6ITB9LHBhcmVudDp7Y29uZmlndXJhYmxlOiEwfSxzdGFydEluZGV4Ontjb25maWd1cmFibGU6ITB9LGVuZEluZGV4Ontjb25maWd1cmFibGU6ITB9fTt6LnN0YXJ0LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRmcm9tLmJlZm9yZSh0aGlzLmRlcHRoKzEpfSx6LmVuZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kdG8uYWZ0ZXIodGhpcy5kZXB0aCsxKX0sei5wYXJlbnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGZyb20ubm9kZSh0aGlzLmRlcHRoKX0sei5zdGFydEluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRmcm9tLmluZGV4KHRoaXMuZGVwdGgpfSx6LmVuZEluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiR0by5pbmRleEFmdGVyKHRoaXMuZGVwdGgpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQLnByb3RvdHlwZSx6KTt2YXIgST1PYmplY3QuY3JlYXRlKG51bGwpLGo9ZnVuY3Rpb24odCxlLG4scil7dGhpcy50eXBlPXQsdGhpcy5hdHRycz1lLHRoaXMuY29udGVudD1ufHxjLmVtcHR5LHRoaXMubWFya3M9cnx8cC5ub25lfSwkPXtub2RlU2l6ZTp7Y29uZmlndXJhYmxlOiEwfSxjaGlsZENvdW50Ontjb25maWd1cmFibGU6ITB9LHRleHRDb250ZW50Ontjb25maWd1cmFibGU6ITB9LGZpcnN0Q2hpbGQ6e2NvbmZpZ3VyYWJsZTohMH0sbGFzdENoaWxkOntjb25maWd1cmFibGU6ITB9LGlzQmxvY2s6e2NvbmZpZ3VyYWJsZTohMH0saXNUZXh0YmxvY2s6e2NvbmZpZ3VyYWJsZTohMH0saW5saW5lQ29udGVudDp7Y29uZmlndXJhYmxlOiEwfSxpc0lubGluZTp7Y29uZmlndXJhYmxlOiEwfSxpc1RleHQ6e2NvbmZpZ3VyYWJsZTohMH0saXNMZWFmOntjb25maWd1cmFibGU6ITB9LGlzQXRvbTp7Y29uZmlndXJhYmxlOiEwfX07JC5ub2RlU2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0xlYWY/MToyK3RoaXMuY29udGVudC5zaXplfSwkLmNoaWxkQ291bnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudC5jaGlsZENvdW50fSxqLnByb3RvdHlwZS5jaGlsZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250ZW50LmNoaWxkKHQpfSxqLnByb3RvdHlwZS5tYXliZUNoaWxkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbnRlbnQubWF5YmVDaGlsZCh0KX0sai5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0KXt0aGlzLmNvbnRlbnQuZm9yRWFjaCh0KX0sai5wcm90b3R5cGUubm9kZXNCZXR3ZWVuPWZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PXImJihyPTApLHRoaXMuY29udGVudC5ub2Rlc0JldHdlZW4odCxlLG4scix0aGlzKX0sai5wcm90b3R5cGUuZGVzY2VuZGFudHM9ZnVuY3Rpb24odCl7dGhpcy5ub2Rlc0JldHdlZW4oMCx0aGlzLmNvbnRlbnQuc2l6ZSx0KX0sJC50ZXh0Q29udGVudC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0QmV0d2VlbigwLHRoaXMuY29udGVudC5zaXplLCIiKX0sai5wcm90b3R5cGUudGV4dEJldHdlZW49ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHRoaXMuY29udGVudC50ZXh0QmV0d2Vlbih0LGUsbixyKX0sJC5maXJzdENoaWxkLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQuZmlyc3RDaGlsZH0sJC5sYXN0Q2hpbGQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudC5sYXN0Q2hpbGR9LGoucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT10fHx0aGlzLnNhbWVNYXJrdXAodCkmJnRoaXMuY29udGVudC5lcSh0LmNvbnRlbnQpfSxqLnByb3RvdHlwZS5zYW1lTWFya3VwPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhhc01hcmt1cCh0LnR5cGUsdC5hdHRycyx0Lm1hcmtzKX0sai5wcm90b3R5cGUuaGFzTWFya3VwPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy50eXBlPT10JiZkKHRoaXMuYXR0cnMsZXx8dC5kZWZhdWx0QXR0cnN8fEkpJiZwLnNhbWVTZXQodGhpcy5tYXJrcyxufHxwLm5vbmUpfSxqLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1udWxsKSx0PT10aGlzLmNvbnRlbnQ/dGhpczpuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLnR5cGUsdGhpcy5hdHRycyx0LHRoaXMubWFya3MpfSxqLnByb3RvdHlwZS5tYXJrPWZ1bmN0aW9uKHQpe3JldHVybiB0PT10aGlzLm1hcmtzP3RoaXM6bmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy50eXBlLHRoaXMuYXR0cnMsdGhpcy5jb250ZW50LHQpfSxqLnByb3RvdHlwZS5jdXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gMD09dCYmZT09dGhpcy5jb250ZW50LnNpemU/dGhpczp0aGlzLmNvcHkodGhpcy5jb250ZW50LmN1dCh0LGUpKX0sai5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCxlLG4pe2lmKHZvaWQgMD09PWUmJihlPXRoaXMuY29udGVudC5zaXplKSx2b2lkIDA9PT1uJiYobj0hMSksdD09ZSlyZXR1cm4gdi5lbXB0eTt2YXIgcj10aGlzLnJlc29sdmUodCksbz10aGlzLnJlc29sdmUoZSksaT1uPzA6ci5zaGFyZWREZXB0aChlKSxzPXIuc3RhcnQoaSksYT1yLm5vZGUoaSksYz1hLmNvbnRlbnQuY3V0KHIucG9zLXMsby5wb3Mtcyk7cmV0dXJuIG5ldyB2KGMsci5kZXB0aC1pLG8uZGVwdGgtaSl9LGoucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBiKHRoaXMucmVzb2x2ZSh0KSx0aGlzLnJlc29sdmUoZSksbil9LGoucHJvdG90eXBlLm5vZGVBdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpczs7KXt2YXIgbj1lLmNvbnRlbnQuZmluZEluZGV4KHQpLHI9bi5pbmRleCxvPW4ub2Zmc2V0O2lmKGU9ZS5tYXliZUNoaWxkKHIpLCFlKXJldHVybiBudWxsO2lmKG89PXR8fGUuaXNUZXh0KXJldHVybiBlO3QtPW8rMX19LGoucHJvdG90eXBlLmNoaWxkQWZ0ZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZW50LmZpbmRJbmRleCh0KSxuPWUuaW5kZXgscj1lLm9mZnNldDtyZXR1cm57bm9kZTp0aGlzLmNvbnRlbnQubWF5YmVDaGlsZChuKSxpbmRleDpuLG9mZnNldDpyfX0sai5wcm90b3R5cGUuY2hpbGRCZWZvcmU9ZnVuY3Rpb24odCl7aWYoMD09dClyZXR1cm57bm9kZTpudWxsLGluZGV4OjAsb2Zmc2V0OjB9O3ZhciBlPXRoaXMuY29udGVudC5maW5kSW5kZXgodCksbj1lLmluZGV4LHI9ZS5vZmZzZXQ7aWYocjx0KXJldHVybntub2RlOnRoaXMuY29udGVudC5jaGlsZChuKSxpbmRleDpuLG9mZnNldDpyfTt2YXIgbz10aGlzLmNvbnRlbnQuY2hpbGQobi0xKTtyZXR1cm57bm9kZTpvLGluZGV4Om4tMSxvZmZzZXQ6ci1vLm5vZGVTaXplfX0sai5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0KXtyZXR1cm4gQS5yZXNvbHZlQ2FjaGVkKHRoaXMsdCl9LGoucHJvdG90eXBlLnJlc29sdmVOb0NhY2hlPWZ1bmN0aW9uKHQpe3JldHVybiBBLnJlc29sdmUodGhpcyx0KX0sai5wcm90b3R5cGUucmFuZ2VIYXNNYXJrPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0hMTtyZXR1cm4gZT50JiZ0aGlzLm5vZGVzQmV0d2Vlbih0LGUsKGZ1bmN0aW9uKHQpe3JldHVybiBuLmlzSW5TZXQodC5tYXJrcykmJihyPSEwKSwhcn0pKSxyfSwkLmlzQmxvY2suZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5pc0Jsb2NrfSwkLmlzVGV4dGJsb2NrLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUuaXNUZXh0YmxvY2t9LCQuaW5saW5lQ29udGVudC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLmlubGluZUNvbnRlbnR9LCQuaXNJbmxpbmUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5pc0lubGluZX0sJC5pc1RleHQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5pc1RleHR9LCQuaXNMZWFmLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUuaXNMZWFmfSwkLmlzQXRvbS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLmlzQXRvbX0sai5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLnR5cGUuc3BlYy50b0RlYnVnU3RyaW5nKXJldHVybiB0aGlzLnR5cGUuc3BlYy50b0RlYnVnU3RyaW5nKHRoaXMpO3ZhciB0PXRoaXMudHlwZS5uYW1lO3JldHVybiB0aGlzLmNvbnRlbnQuc2l6ZSYmKHQrPSIoIit0aGlzLmNvbnRlbnQudG9TdHJpbmdJbm5lcigpKyIpIiksQih0aGlzLm1hcmtzLHQpfSxqLnByb3RvdHlwZS5jb250ZW50TWF0Y2hBdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnR5cGUuY29udGVudE1hdGNoLm1hdGNoRnJhZ21lbnQodGhpcy5jb250ZW50LDAsdCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJDYWxsZWQgY29udGVudE1hdGNoQXQgb24gYSBub2RlIHdpdGggaW52YWxpZCBjb250ZW50Iik7cmV0dXJuIGV9LGoucHJvdG90eXBlLmNhblJlcGxhY2U9ZnVuY3Rpb24odCxlLG4scixvKXt2b2lkIDA9PT1uJiYobj1jLmVtcHR5KSx2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT1vJiYobz1uLmNoaWxkQ291bnQpO3ZhciBpPXRoaXMuY29udGVudE1hdGNoQXQodCkubWF0Y2hGcmFnbWVudChuLHIsbykscz1pJiZpLm1hdGNoRnJhZ21lbnQodGhpcy5jb250ZW50LGUpO2lmKCFzfHwhcy52YWxpZEVuZClyZXR1cm4hMTtmb3IodmFyIGE9cjthPG87YSsrKWlmKCF0aGlzLnR5cGUuYWxsb3dzTWFya3Mobi5jaGlsZChhKS5tYXJrcykpcmV0dXJuITE7cmV0dXJuITB9LGoucHJvdG90eXBlLmNhblJlcGxhY2VXaXRoPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHImJiF0aGlzLnR5cGUuYWxsb3dzTWFya3MocikpcmV0dXJuITE7dmFyIG89dGhpcy5jb250ZW50TWF0Y2hBdCh0KS5tYXRjaFR5cGUobiksaT1vJiZvLm1hdGNoRnJhZ21lbnQodGhpcy5jb250ZW50LGUpO3JldHVybiEhaSYmaS52YWxpZEVuZH0sai5wcm90b3R5cGUuY2FuQXBwZW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbnRlbnQuc2l6ZT90aGlzLmNhblJlcGxhY2UodGhpcy5jaGlsZENvdW50LHRoaXMuY2hpbGRDb3VudCx0LmNvbnRlbnQpOnRoaXMudHlwZS5jb21wYXRpYmxlQ29udGVudCh0LnR5cGUpfSxqLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbigpe2lmKCF0aGlzLnR5cGUudmFsaWRDb250ZW50KHRoaXMuY29udGVudCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgY29udGVudCBmb3Igbm9kZSAiK3RoaXMudHlwZS5uYW1lKyI6ICIrdGhpcy5jb250ZW50LnRvU3RyaW5nKCkuc2xpY2UoMCw1MCkpO3RoaXMuY29udGVudC5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jaGVjaygpfSkpfSxqLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgdD17dHlwZTp0aGlzLnR5cGUubmFtZX07Zm9yKHZhciBlIGluIHRoaXMuYXR0cnMpe3QuYXR0cnM9dGhpcy5hdHRyczticmVha31yZXR1cm4gdGhpcy5jb250ZW50LnNpemUmJih0LmNvbnRlbnQ9dGhpcy5jb250ZW50LnRvSlNPTigpKSx0aGlzLm1hcmtzLmxlbmd0aCYmKHQubWFya3M9dGhpcy5tYXJrcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvSlNPTigpfSkpKSx0fSxqLmZyb21KU09OPWZ1bmN0aW9uKHQsZSl7aWYoIWUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIE5vZGUuZnJvbUpTT04iKTt2YXIgbj1udWxsO2lmKGUubWFya3Mpe2lmKCFBcnJheS5pc0FycmF5KGUubWFya3MpKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIG1hcmsgZGF0YSBmb3IgTm9kZS5mcm9tSlNPTiIpO249ZS5tYXJrcy5tYXAodC5tYXJrRnJvbUpTT04pfWlmKCJ0ZXh0Ij09ZS50eXBlKXtpZigic3RyaW5nIiE9dHlwZW9mIGUudGV4dCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCB0ZXh0IG5vZGUgaW4gSlNPTiIpO3JldHVybiB0LnRleHQoZS50ZXh0LG4pfXZhciByPWMuZnJvbUpTT04odCxlLmNvbnRlbnQpO3JldHVybiB0Lm5vZGVUeXBlKGUudHlwZSkuY3JlYXRlKGUuYXR0cnMscixuKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoai5wcm90b3R5cGUsJCk7dmFyIFY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvKXtpZih0LmNhbGwodGhpcyxlLG4sbnVsbCxvKSwhcil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRW1wdHkgdGV4dCBub2RlcyBhcmUgbm90IGFsbG93ZWQiKTt0aGlzLnRleHQ9cn10JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17dGV4dENvbnRlbnQ6e2NvbmZpZ3VyYWJsZTohMH0sbm9kZVNpemU6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUuc3BlYy50b0RlYnVnU3RyaW5nP3RoaXMudHlwZS5zcGVjLnRvRGVidWdTdHJpbmcodGhpcyk6Qih0aGlzLm1hcmtzLEpTT04uc3RyaW5naWZ5KHRoaXMudGV4dCkpfSxuLnRleHRDb250ZW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHR9LGUucHJvdG90eXBlLnRleHRCZXR3ZWVuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudGV4dC5zbGljZSh0LGUpfSxuLm5vZGVTaXplLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHQubGVuZ3RofSxlLnByb3RvdHlwZS5tYXJrPWZ1bmN0aW9uKHQpe3JldHVybiB0PT10aGlzLm1hcmtzP3RoaXM6bmV3IGUodGhpcy50eXBlLHRoaXMuYXR0cnMsdGhpcy50ZXh0LHQpfSxlLnByb3RvdHlwZS53aXRoVGV4dD1mdW5jdGlvbih0KXtyZXR1cm4gdD09dGhpcy50ZXh0P3RoaXM6bmV3IGUodGhpcy50eXBlLHRoaXMuYXR0cnMsdCx0aGlzLm1hcmtzKX0sZS5wcm90b3R5cGUuY3V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPXRoaXMudGV4dC5sZW5ndGgpLDA9PXQmJmU9PXRoaXMudGV4dC5sZW5ndGg/dGhpczp0aGlzLndpdGhUZXh0KHRoaXMudGV4dC5zbGljZSh0LGUpKX0sZS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2FtZU1hcmt1cCh0KSYmdGhpcy50ZXh0PT10LnRleHR9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPXQucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO3JldHVybiBlLnRleHQ9dGhpcy50ZXh0LGV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLG4pLGV9KGopO2Z1bmN0aW9uIEIodCxlKXtmb3IodmFyIG49dC5sZW5ndGgtMTtuPj0wO24tLSllPXRbbl0udHlwZS5uYW1lKyIoIitlKyIpIjtyZXR1cm4gZX12YXIgRj1mdW5jdGlvbih0KXt0aGlzLnZhbGlkRW5kPXQsdGhpcy5uZXh0PVtdLHRoaXMud3JhcENhY2hlPVtdfSxMPXtpbmxpbmVDb250ZW50Ontjb25maWd1cmFibGU6ITB9LGRlZmF1bHRUeXBlOntjb25maWd1cmFibGU6ITB9LGVkZ2VDb3VudDp7Y29uZmlndXJhYmxlOiEwfX07Ri5wYXJzZT1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBIKHQsZSk7aWYobnVsbD09bi5uZXh0KXJldHVybiBGLmVtcHR5O3ZhciByPUsobik7bi5uZXh0JiZuLmVycigiVW5leHBlY3RlZCB0cmFpbGluZyB0ZXh0Iik7dmFyIG89ZXQoWihyKSk7cmV0dXJuIG50KG8sbiksb30sRi5wcm90b3R5cGUubWF0Y2hUeXBlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5uZXh0Lmxlbmd0aDtlKz0yKWlmKHRoaXMubmV4dFtlXT09dClyZXR1cm4gdGhpcy5uZXh0W2UrMV07cmV0dXJuIG51bGx9LEYucHJvdG90eXBlLm1hdGNoRnJhZ21lbnQ9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PW4mJihuPXQuY2hpbGRDb3VudCk7Zm9yKHZhciByPXRoaXMsbz1lO3ImJm88bjtvKyspcj1yLm1hdGNoVHlwZSh0LmNoaWxkKG8pLnR5cGUpO3JldHVybiByfSxMLmlubGluZUNvbnRlbnQuZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5uZXh0WzBdO3JldHVybiEhdCYmdC5pc0lubGluZX0sTC5kZWZhdWx0VHlwZS5nZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMubmV4dC5sZW5ndGg7dCs9Mil7dmFyIGU9dGhpcy5uZXh0W3RdO2lmKCFlLmlzVGV4dCYmIWUuaGFzUmVxdWlyZWRBdHRycygpKXJldHVybiBlfX0sRi5wcm90b3R5cGUuY29tcGF0aWJsZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMubmV4dC5sZW5ndGg7ZSs9Milmb3IodmFyIG49MDtuPHQubmV4dC5sZW5ndGg7bis9MilpZih0aGlzLm5leHRbZV09PXQubmV4dFtuXSlyZXR1cm4hMDtyZXR1cm4hMX0sRi5wcm90b3R5cGUuZmlsbEJlZm9yZT1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9ITEpLHZvaWQgMD09PW4mJihuPTApO3ZhciByPVt0aGlzXTtmdW5jdGlvbiBvKGkscyl7dmFyIGE9aS5tYXRjaEZyYWdtZW50KHQsbik7aWYoYSYmKCFlfHxhLnZhbGlkRW5kKSlyZXR1cm4gYy5mcm9tKHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jcmVhdGVBbmRGaWxsKCl9KSkpO2Zvcih2YXIgbD0wO2w8aS5uZXh0Lmxlbmd0aDtsKz0yKXt2YXIgdT1pLm5leHRbbF0sZj1pLm5leHRbbCsxXTtpZighdS5pc1RleHQmJiF1Lmhhc1JlcXVpcmVkQXR0cnMoKSYmLTE9PXIuaW5kZXhPZihmKSl7ci5wdXNoKGYpO3ZhciBkPW8oZixzLmNvbmNhdCh1KSk7aWYoZClyZXR1cm4gZH19fXJldHVybiBvKHRoaXMsW10pfSxGLnByb3RvdHlwZS5maW5kV3JhcHBpbmc9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLndyYXBDYWNoZS5sZW5ndGg7ZSs9MilpZih0aGlzLndyYXBDYWNoZVtlXT09dClyZXR1cm4gdGhpcy53cmFwQ2FjaGVbZSsxXTt2YXIgbj10aGlzLmNvbXB1dGVXcmFwcGluZyh0KTtyZXR1cm4gdGhpcy53cmFwQ2FjaGUucHVzaCh0LG4pLG59LEYucHJvdG90eXBlLmNvbXB1dGVXcmFwcGluZz1mdW5jdGlvbih0KXt2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpLG49W3ttYXRjaDp0aGlzLHR5cGU6bnVsbCx2aWE6bnVsbH1dO3doaWxlKG4ubGVuZ3RoKXt2YXIgcj1uLnNoaWZ0KCksbz1yLm1hdGNoO2lmKG8ubWF0Y2hUeXBlKHQpKXtmb3IodmFyIGk9W10scz1yO3MudHlwZTtzPXMudmlhKWkucHVzaChzLnR5cGUpO3JldHVybiBpLnJldmVyc2UoKX1mb3IodmFyIGE9MDthPG8ubmV4dC5sZW5ndGg7YSs9Mil7dmFyIGM9by5uZXh0W2FdO2MuaXNMZWFmfHxjLmhhc1JlcXVpcmVkQXR0cnMoKXx8Yy5uYW1lIGluIGV8fHIudHlwZSYmIW8ubmV4dFthKzFdLnZhbGlkRW5kfHwobi5wdXNoKHttYXRjaDpjLmNvbnRlbnRNYXRjaCx0eXBlOmMsdmlhOnJ9KSxlW2MubmFtZV09ITApfX19LEwuZWRnZUNvdW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5leHQubGVuZ3RoPj4xfSxGLnByb3RvdHlwZS5lZGdlPWZ1bmN0aW9uKHQpe3ZhciBlPXQ8PDE7aWYoZT49dGhpcy5uZXh0Lmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGhlcmUncyBubyAiK3QrInRoIGVkZ2UgaW4gdGhpcyBjb250ZW50IG1hdGNoIik7cmV0dXJue3R5cGU6dGhpcy5uZXh0W2VdLG5leHQ6dGhpcy5uZXh0W2UrMV19fSxGLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PVtdO2Z1bmN0aW9uIGUobil7dC5wdXNoKG4pO2Zvcih2YXIgcj0xO3I8bi5uZXh0Lmxlbmd0aDtyKz0yKS0xPT10LmluZGV4T2Yobi5uZXh0W3JdKSYmZShuLm5leHRbcl0pfXJldHVybiBlKHRoaXMpLHQubWFwKChmdW5jdGlvbihlLG4pe2Zvcih2YXIgcj1uKyhlLnZhbGlkRW5kPyIqIjoiICIpKyIgIixvPTA7bzxlLm5leHQubGVuZ3RoO28rPTIpcis9KG8/IiwgIjoiIikrZS5uZXh0W29dLm5hbWUrIi0+Iit0LmluZGV4T2YoZS5uZXh0W28rMV0pO3JldHVybiByfSkpLmpvaW4oIlxuIil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEYucHJvdG90eXBlLEwpLEYuZW1wdHk9bmV3IEYoITApO3ZhciBIPWZ1bmN0aW9uKHQsZSl7dGhpcy5zdHJpbmc9dCx0aGlzLm5vZGVUeXBlcz1lLHRoaXMuaW5saW5lPW51bGwsdGhpcy5wb3M9MCx0aGlzLnRva2Vucz10LnNwbGl0KC9ccyooPz1cYnxcV3wkKS8pLCIiPT10aGlzLnRva2Vuc1t0aGlzLnRva2Vucy5sZW5ndGgtMV0mJnRoaXMudG9rZW5zLnBvcCgpLCIiPT10aGlzLnRva2Vuc1swXSYmdGhpcy50b2tlbnMudW5zaGlmdCgpfSxxPXtuZXh0Ontjb25maWd1cmFibGU6ITB9fTtmdW5jdGlvbiBLKHQpe3ZhciBlPVtdO2Rve2UucHVzaChXKHQpKX13aGlsZSh0LmVhdCgifCIpKTtyZXR1cm4gMT09ZS5sZW5ndGg/ZVswXTp7dHlwZToiY2hvaWNlIixleHByczplfX1mdW5jdGlvbiBXKHQpe3ZhciBlPVtdO2Rve2UucHVzaChKKHQpKX13aGlsZSh0Lm5leHQmJiIpIiE9dC5uZXh0JiYifCIhPXQubmV4dCk7cmV0dXJuIDE9PWUubGVuZ3RoP2VbMF06e3R5cGU6InNlcSIsZXhwcnM6ZX19ZnVuY3Rpb24gSih0KXtmb3IodmFyIGU9WSh0KTs7KWlmKHQuZWF0KCIrIikpZT17dHlwZToicGx1cyIsZXhwcjplfTtlbHNlIGlmKHQuZWF0KCIqIikpZT17dHlwZToic3RhciIsZXhwcjplfTtlbHNlIGlmKHQuZWF0KCI/IikpZT17dHlwZToib3B0IixleHByOmV9O2Vsc2V7aWYoIXQuZWF0KCJ7IikpYnJlYWs7ZT1HKHQsZSl9cmV0dXJuIGV9ZnVuY3Rpb24gVSh0KXsvXEQvLnRlc3QodC5uZXh0KSYmdC5lcnIoIkV4cGVjdGVkIG51bWJlciwgZ290ICciK3QubmV4dCsiJyIpO3ZhciBlPU51bWJlcih0Lm5leHQpO3JldHVybiB0LnBvcysrLGV9ZnVuY3Rpb24gRyh0LGUpe3ZhciBuPVUodCkscj1uO3JldHVybiB0LmVhdCgiLCIpJiYocj0ifSIhPXQubmV4dD9VKHQpOi0xKSx0LmVhdCgifSIpfHx0LmVycigiVW5jbG9zZWQgYnJhY2VkIHJhbmdlIikse3R5cGU6InJhbmdlIixtaW46bixtYXg6cixleHByOmV9fWZ1bmN0aW9uIFgodCxlKXt2YXIgbj10Lm5vZGVUeXBlcyxyPW5bZV07aWYocilyZXR1cm5bcl07dmFyIG89W107Zm9yKHZhciBpIGluIG4pe3ZhciBzPW5baV07cy5ncm91cHMuaW5kZXhPZihlKT4tMSYmby5wdXNoKHMpfXJldHVybiAwPT1vLmxlbmd0aCYmdC5lcnIoIk5vIG5vZGUgdHlwZSBvciBncm91cCAnIitlKyInIGZvdW5kIiksb31mdW5jdGlvbiBZKHQpe2lmKHQuZWF0KCIoIikpe3ZhciBlPUsodCk7cmV0dXJuIHQuZWF0KCIpIil8fHQuZXJyKCJNaXNzaW5nIGNsb3NpbmcgcGFyZW4iKSxlfWlmKCEvXFcvLnRlc3QodC5uZXh0KSl7dmFyIG49WCh0LHQubmV4dCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09dC5pbmxpbmU/dC5pbmxpbmU9ZS5pc0lubGluZTp0LmlubGluZSE9ZS5pc0lubGluZSYmdC5lcnIoIk1peGluZyBpbmxpbmUgYW5kIGJsb2NrIGNvbnRlbnQiKSx7dHlwZToibmFtZSIsdmFsdWU6ZX19KSk7cmV0dXJuIHQucG9zKyssMT09bi5sZW5ndGg/blswXTp7dHlwZToiY2hvaWNlIixleHByczpufX10LmVycigiVW5leHBlY3RlZCB0b2tlbiAnIit0Lm5leHQrIiciKX1mdW5jdGlvbiBaKHQpe3ZhciBlPVtbXV07cmV0dXJuIG8oaSh0LDApLG4oKSksZTtmdW5jdGlvbiBuKCl7cmV0dXJuIGUucHVzaChbXSktMX1mdW5jdGlvbiByKHQsbixyKXt2YXIgbz17dGVybTpyLHRvOm59O3JldHVybiBlW3RdLnB1c2gobyksb31mdW5jdGlvbiBvKHQsZSl7dC5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC50bz1lfSkpfWZ1bmN0aW9uIGkodCxlKXtpZigiY2hvaWNlIj09dC50eXBlKXJldHVybiB0LmV4cHJzLnJlZHVjZSgoZnVuY3Rpb24odCxuKXtyZXR1cm4gdC5jb25jYXQoaShuLGUpKX0pLFtdKTtpZigic2VxIj09dC50eXBlKWZvcih2YXIgcz0wOztzKyspe3ZhciBhPWkodC5leHByc1tzXSxlKTtpZihzPT10LmV4cHJzLmxlbmd0aC0xKXJldHVybiBhO28oYSxlPW4oKSl9ZWxzZXtpZigic3RhciI9PXQudHlwZSl7dmFyIGM9bigpO3JldHVybiByKGUsYyksbyhpKHQuZXhwcixjKSxjKSxbcihjKV19aWYoInBsdXMiPT10LnR5cGUpe3ZhciBsPW4oKTtyZXR1cm4gbyhpKHQuZXhwcixlKSxsKSxvKGkodC5leHByLGwpLGwpLFtyKGwpXX1pZigib3B0Ij09dC50eXBlKXJldHVybltyKGUpXS5jb25jYXQoaSh0LmV4cHIsZSkpO2lmKCJyYW5nZSI9PXQudHlwZSl7Zm9yKHZhciB1PWUsZj0wO2Y8dC5taW47ZisrKXt2YXIgZD1uKCk7byhpKHQuZXhwcix1KSxkKSx1PWR9aWYoLTE9PXQubWF4KW8oaSh0LmV4cHIsdSksdSk7ZWxzZSBmb3IodmFyIHA9dC5taW47cDx0Lm1heDtwKyspe3ZhciBoPW4oKTtyKHUsaCksbyhpKHQuZXhwcix1KSxoKSx1PWh9cmV0dXJuW3IodSldfWlmKCJuYW1lIj09dC50eXBlKXJldHVybltyKGUsbnVsbCx0LnZhbHVlKV19fX1mdW5jdGlvbiBRKHQsZSl7cmV0dXJuIGUtdH1mdW5jdGlvbiB0dCh0LGUpe3ZhciBuPVtdO3JldHVybiByKGUpLG4uc29ydChRKTtmdW5jdGlvbiByKGUpe3ZhciBvPXRbZV07aWYoMT09by5sZW5ndGgmJiFvWzBdLnRlcm0pcmV0dXJuIHIob1swXS50byk7bi5wdXNoKGUpO2Zvcih2YXIgaT0wO2k8by5sZW5ndGg7aSsrKXt2YXIgcz1vW2ldLGE9cy50ZXJtLGM9cy50bzthfHwtMSE9bi5pbmRleE9mKGMpfHxyKGMpfX19ZnVuY3Rpb24gZXQodCl7dmFyIGU9T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gbih0dCh0LDApKTtmdW5jdGlvbiBuKHIpe3ZhciBvPVtdO3IuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLnRlcm0scj1lLnRvO2lmKG4pe3ZhciBpPW8uaW5kZXhPZihuKSxzPWk+LTEmJm9baSsxXTt0dCh0LHIpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3N8fG8ucHVzaChuLHM9W10pLC0xPT1zLmluZGV4T2YodCkmJnMucHVzaCh0KX0pKX19KSl9KSk7Zm9yKHZhciBpPWVbci5qb2luKCIsIildPW5ldyBGKHIuaW5kZXhPZih0Lmxlbmd0aC0xKT4tMSkscz0wO3M8by5sZW5ndGg7cys9Mil7dmFyIGE9b1tzKzFdLnNvcnQoUSk7aS5uZXh0LnB1c2gob1tzXSxlW2Euam9pbigiLCIpXXx8bihhKSl9cmV0dXJuIGl9fWZ1bmN0aW9uIG50KHQsZSl7Zm9yKHZhciBuPTAscj1bdF07bjxyLmxlbmd0aDtuKyspe2Zvcih2YXIgbz1yW25dLGk9IW8udmFsaWRFbmQscz1bXSxhPTA7YTxvLm5leHQubGVuZ3RoO2ErPTIpe3ZhciBjPW8ubmV4dFthXSxsPW8ubmV4dFthKzFdO3MucHVzaChjLm5hbWUpLCFpfHxjLmlzVGV4dHx8Yy5oYXNSZXF1aXJlZEF0dHJzKCl8fChpPSExKSwtMT09ci5pbmRleE9mKGwpJiZyLnB1c2gobCl9aSYmZS5lcnIoIk9ubHkgbm9uLWdlbmVyYXRhYmxlIG5vZGVzICgiK3Muam9pbigiLCAiKSsiKSBpbiBhIHJlcXVpcmVkIHBvc2l0aW9uIil9fWZ1bmN0aW9uIHJ0KHQpe3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKHZhciBuIGluIHQpe3ZhciByPXRbbl07aWYoIXIuaGFzRGVmYXVsdClyZXR1cm4gbnVsbDtlW25dPXIuZGVmYXVsdH1yZXR1cm4gZX1mdW5jdGlvbiBvdCh0LGUpe3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKHZhciByIGluIHQpe3ZhciBvPWUmJmVbcl07aWYodm9pZCAwPT09byl7dmFyIGk9dFtyXTtpZighaS5oYXNEZWZhdWx0KXRocm93IG5ldyBSYW5nZUVycm9yKCJObyB2YWx1ZSBzdXBwbGllZCBmb3IgYXR0cmlidXRlICIrcik7bz1pLmRlZmF1bHR9bltyXT1vfXJldHVybiBufWZ1bmN0aW9uIGl0KHQpe3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCk7aWYodClmb3IodmFyIG4gaW4gdCllW25dPW5ldyBjdCh0W25dKTtyZXR1cm4gZX1xLm5leHQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9rZW5zW3RoaXMucG9zXX0sSC5wcm90b3R5cGUuZWF0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5leHQ9PXQmJih0aGlzLnBvcysrfHwhMCl9LEgucHJvdG90eXBlLmVycj1mdW5jdGlvbih0KXt0aHJvdyBuZXcgU3ludGF4RXJyb3IodCsiIChpbiBjb250ZW50IGV4cHJlc3Npb24gJyIrdGhpcy5zdHJpbmcrIicpIil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEgucHJvdG90eXBlLHEpO3ZhciBzdD1mdW5jdGlvbih0LGUsbil7dGhpcy5uYW1lPXQsdGhpcy5zY2hlbWE9ZSx0aGlzLnNwZWM9bix0aGlzLmdyb3Vwcz1uLmdyb3VwP24uZ3JvdXAuc3BsaXQoIiAiKTpbXSx0aGlzLmF0dHJzPWl0KG4uYXR0cnMpLHRoaXMuZGVmYXVsdEF0dHJzPXJ0KHRoaXMuYXR0cnMpLHRoaXMuY29udGVudE1hdGNoPW51bGwsdGhpcy5tYXJrU2V0PW51bGwsdGhpcy5pbmxpbmVDb250ZW50PW51bGwsdGhpcy5pc0Jsb2NrPSEobi5pbmxpbmV8fCJ0ZXh0Ij09dCksdGhpcy5pc1RleHQ9InRleHQiPT10fSxhdD17aXNJbmxpbmU6e2NvbmZpZ3VyYWJsZTohMH0saXNUZXh0YmxvY2s6e2NvbmZpZ3VyYWJsZTohMH0saXNMZWFmOntjb25maWd1cmFibGU6ITB9LGlzQXRvbTp7Y29uZmlndXJhYmxlOiEwfX07YXQuaXNJbmxpbmUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNCbG9ja30sYXQuaXNUZXh0YmxvY2suZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNCbG9jayYmdGhpcy5pbmxpbmVDb250ZW50fSxhdC5pc0xlYWYuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudE1hdGNoPT1GLmVtcHR5fSxhdC5pc0F0b20uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNMZWFmfHx0aGlzLnNwZWMuYXRvbX0sc3QucHJvdG90eXBlLmhhc1JlcXVpcmVkQXR0cnM9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5hdHRycylpZih0aGlzLmF0dHJzW3RdLmlzUmVxdWlyZWQpcmV0dXJuITA7cmV0dXJuITF9LHN0LnByb3RvdHlwZS5jb21wYXRpYmxlQ29udGVudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09dHx8dGhpcy5jb250ZW50TWF0Y2guY29tcGF0aWJsZSh0LmNvbnRlbnRNYXRjaCl9LHN0LnByb3RvdHlwZS5jb21wdXRlQXR0cnM9ZnVuY3Rpb24odCl7cmV0dXJuIXQmJnRoaXMuZGVmYXVsdEF0dHJzP3RoaXMuZGVmYXVsdEF0dHJzOm90KHRoaXMuYXR0cnMsdCl9LHN0LnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCxlLG4pe2lmKHRoaXMuaXNUZXh0KXRocm93IG5ldyBFcnJvcigiTm9kZVR5cGUuY3JlYXRlIGNhbid0IGNvbnN0cnVjdCB0ZXh0IG5vZGVzIik7cmV0dXJuIG5ldyBqKHRoaXMsdGhpcy5jb21wdXRlQXR0cnModCksYy5mcm9tKGUpLHAuc2V0RnJvbShuKSl9LHN0LnByb3RvdHlwZS5jcmVhdGVDaGVja2VkPWZ1bmN0aW9uKHQsZSxuKXtpZihlPWMuZnJvbShlKSwhdGhpcy52YWxpZENvbnRlbnQoZSkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgY29udGVudCBmb3Igbm9kZSAiK3RoaXMubmFtZSk7cmV0dXJuIG5ldyBqKHRoaXMsdGhpcy5jb21wdXRlQXR0cnModCksZSxwLnNldEZyb20obikpfSxzdC5wcm90b3R5cGUuY3JlYXRlQW5kRmlsbD1mdW5jdGlvbih0LGUsbil7aWYodD10aGlzLmNvbXB1dGVBdHRycyh0KSxlPWMuZnJvbShlKSxlLnNpemUpe3ZhciByPXRoaXMuY29udGVudE1hdGNoLmZpbGxCZWZvcmUoZSk7aWYoIXIpcmV0dXJuIG51bGw7ZT1yLmFwcGVuZChlKX12YXIgbz10aGlzLmNvbnRlbnRNYXRjaC5tYXRjaEZyYWdtZW50KGUpLmZpbGxCZWZvcmUoYy5lbXB0eSwhMCk7cmV0dXJuIG8/bmV3IGoodGhpcyx0LGUuYXBwZW5kKG8pLHAuc2V0RnJvbShuKSk6bnVsbH0sc3QucHJvdG90eXBlLnZhbGlkQ29udGVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRlbnRNYXRjaC5tYXRjaEZyYWdtZW50KHQpO2lmKCFlfHwhZS52YWxpZEVuZClyZXR1cm4hMTtmb3IodmFyIG49MDtuPHQuY2hpbGRDb3VudDtuKyspaWYoIXRoaXMuYWxsb3dzTWFya3ModC5jaGlsZChuKS5tYXJrcykpcmV0dXJuITE7cmV0dXJuITB9LHN0LnByb3RvdHlwZS5hbGxvd3NNYXJrVHlwZT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dGhpcy5tYXJrU2V0fHx0aGlzLm1hcmtTZXQuaW5kZXhPZih0KT4tMX0sc3QucHJvdG90eXBlLmFsbG93c01hcmtzPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXRoaXMubWFya1NldClyZXR1cm4hMDtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpZighdGhpcy5hbGxvd3NNYXJrVHlwZSh0W2VdLnR5cGUpKXJldHVybiExO3JldHVybiEwfSxzdC5wcm90b3R5cGUuYWxsb3dlZE1hcmtzPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXRoaXMubWFya1NldClyZXR1cm4gdDtmb3IodmFyIGUsbj0wO248dC5sZW5ndGg7bisrKXRoaXMuYWxsb3dzTWFya1R5cGUodFtuXS50eXBlKT9lJiZlLnB1c2godFtuXSk6ZXx8KGU9dC5zbGljZSgwLG4pKTtyZXR1cm4gZT9lLmxlbmd0aD9lOnAuZW1wdHk6dH0sc3QuY29tcGlsZT1mdW5jdGlvbih0LGUpe3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7dC5mb3JFYWNoKChmdW5jdGlvbih0LHIpe3JldHVybiBuW3RdPW5ldyBzdCh0LGUscil9KSk7dmFyIHI9ZS5zcGVjLnRvcE5vZGV8fCJkb2MiO2lmKCFuW3JdKXRocm93IG5ldyBSYW5nZUVycm9yKCJTY2hlbWEgaXMgbWlzc2luZyBpdHMgdG9wIG5vZGUgdHlwZSAoJyIrcisiJykiKTtpZighbi50ZXh0KXRocm93IG5ldyBSYW5nZUVycm9yKCJFdmVyeSBzY2hlbWEgbmVlZHMgYSAndGV4dCcgdHlwZSIpO2Zvcih2YXIgbyBpbiBuLnRleHQuYXR0cnMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRoZSB0ZXh0IG5vZGUgdHlwZSBzaG91bGQgbm90IGhhdmUgYXR0cmlidXRlcyIpO3JldHVybiBufSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzdC5wcm90b3R5cGUsYXQpO3ZhciBjdD1mdW5jdGlvbih0KXt0aGlzLmhhc0RlZmF1bHQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsImRlZmF1bHQiKSx0aGlzLmRlZmF1bHQ9dC5kZWZhdWx0fSxsdD17aXNSZXF1aXJlZDp7Y29uZmlndXJhYmxlOiEwfX07bHQuaXNSZXF1aXJlZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5oYXNEZWZhdWx0fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjdC5wcm90b3R5cGUsbHQpO3ZhciB1dD1mdW5jdGlvbih0LGUsbixyKXt0aGlzLm5hbWU9dCx0aGlzLnNjaGVtYT1uLHRoaXMuc3BlYz1yLHRoaXMuYXR0cnM9aXQoci5hdHRycyksdGhpcy5yYW5rPWUsdGhpcy5leGNsdWRlZD1udWxsO3ZhciBvPXJ0KHRoaXMuYXR0cnMpO3RoaXMuaW5zdGFuY2U9byYmbmV3IHAodGhpcyxvKX07dXQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4hdCYmdGhpcy5pbnN0YW5jZT90aGlzLmluc3RhbmNlOm5ldyBwKHRoaXMsb3QodGhpcy5hdHRycyx0KSl9LHV0LmNvbXBpbGU9ZnVuY3Rpb24odCxlKXt2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpLHI9MDtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0LG8pe3JldHVybiBuW3RdPW5ldyB1dCh0LHIrKyxlLG8pfSkpLG59LHV0LnByb3RvdHlwZS5yZW1vdmVGcm9tU2V0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRbZV0udHlwZT09dGhpcylyZXR1cm4gdC5zbGljZSgwLGUpLmNvbmNhdCh0LnNsaWNlKGUrMSkpO3JldHVybiB0fSx1dC5wcm90b3R5cGUuaXNJblNldD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpZih0W2VdLnR5cGU9PXRoaXMpcmV0dXJuIHRbZV19LHV0LnByb3RvdHlwZS5leGNsdWRlcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5leGNsdWRlZC5pbmRleE9mKHQpPi0xfTt2YXIgZnQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuc3BlYz17fSx0KXRoaXMuc3BlY1tlXT10W2VdO3RoaXMuc3BlYy5ub2Rlcz1pLmZyb20odC5ub2RlcyksdGhpcy5zcGVjLm1hcmtzPWkuZnJvbSh0Lm1hcmtzKSx0aGlzLm5vZGVzPXN0LmNvbXBpbGUodGhpcy5zcGVjLm5vZGVzLHRoaXMpLHRoaXMubWFya3M9dXQuY29tcGlsZSh0aGlzLnNwZWMubWFya3MsdGhpcyk7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIHIgaW4gdGhpcy5ub2Rlcyl7aWYociBpbiB0aGlzLm1hcmtzKXRocm93IG5ldyBSYW5nZUVycm9yKHIrIiBjYW4gbm90IGJlIGJvdGggYSBub2RlIGFuZCBhIG1hcmsiKTt2YXIgbz10aGlzLm5vZGVzW3JdLHM9by5zcGVjLmNvbnRlbnR8fCIiLGE9by5zcGVjLm1hcmtzO28uY29udGVudE1hdGNoPW5bc118fChuW3NdPUYucGFyc2Uocyx0aGlzLm5vZGVzKSksby5pbmxpbmVDb250ZW50PW8uY29udGVudE1hdGNoLmlubGluZUNvbnRlbnQsby5tYXJrU2V0PSJfIj09YT9udWxsOmE/ZHQodGhpcyxhLnNwbGl0KCIgIikpOiIiIT1hJiZvLmlubGluZUNvbnRlbnQ/bnVsbDpbXX1mb3IodmFyIGMgaW4gdGhpcy5tYXJrcyl7dmFyIGw9dGhpcy5tYXJrc1tjXSx1PWwuc3BlYy5leGNsdWRlcztsLmV4Y2x1ZGVkPW51bGw9PXU/W2xdOiIiPT11P1tdOmR0KHRoaXMsdS5zcGxpdCgiICIpKX10aGlzLm5vZGVGcm9tSlNPTj10aGlzLm5vZGVGcm9tSlNPTi5iaW5kKHRoaXMpLHRoaXMubWFya0Zyb21KU09OPXRoaXMubWFya0Zyb21KU09OLmJpbmQodGhpcyksdGhpcy50b3BOb2RlVHlwZT10aGlzLm5vZGVzW3RoaXMuc3BlYy50b3BOb2RlfHwiZG9jIl0sdGhpcy5jYWNoZWQ9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLmNhY2hlZC53cmFwcGluZ3M9T2JqZWN0LmNyZWF0ZShudWxsKX07ZnVuY3Rpb24gZHQodCxlKXtmb3IodmFyIG49W10scj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdLGk9dC5tYXJrc1tvXSxzPWk7aWYoaSluLnB1c2goaSk7ZWxzZSBmb3IodmFyIGEgaW4gdC5tYXJrcyl7dmFyIGM9dC5tYXJrc1thXTsoIl8iPT1vfHxjLnNwZWMuZ3JvdXAmJmMuc3BlYy5ncm91cC5zcGxpdCgiICIpLmluZGV4T2Yobyk+LTEpJiZuLnB1c2gocz1jKX1pZighcyl0aHJvdyBuZXcgU3ludGF4RXJyb3IoIlVua25vd24gbWFyayB0eXBlOiAnIitlW3JdKyInIil9cmV0dXJuIG59ZnQucHJvdG90eXBlLm5vZGU9ZnVuY3Rpb24odCxlLG4scil7aWYoInN0cmluZyI9PXR5cGVvZiB0KXQ9dGhpcy5ub2RlVHlwZSh0KTtlbHNle2lmKCEodCBpbnN0YW5jZW9mIHN0KSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBub2RlIHR5cGU6ICIrdCk7aWYodC5zY2hlbWEhPXRoaXMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vZGUgdHlwZSBmcm9tIGRpZmZlcmVudCBzY2hlbWEgdXNlZCAoIit0Lm5hbWUrIikiKX1yZXR1cm4gdC5jcmVhdGVDaGVja2VkKGUsbixyKX0sZnQucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm5vZGVzLnRleHQ7cmV0dXJuIG5ldyBWKG4sbi5kZWZhdWx0QXR0cnMsdCxwLnNldEZyb20oZSkpfSxmdC5wcm90b3R5cGUubWFyaz1mdW5jdGlvbih0LGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdCYmKHQ9dGhpcy5tYXJrc1t0XSksdC5jcmVhdGUoZSl9LGZ0LnByb3RvdHlwZS5ub2RlRnJvbUpTT049ZnVuY3Rpb24odCl7cmV0dXJuIGouZnJvbUpTT04odGhpcyx0KX0sZnQucHJvdG90eXBlLm1hcmtGcm9tSlNPTj1mdW5jdGlvbih0KXtyZXR1cm4gcC5mcm9tSlNPTih0aGlzLHQpfSxmdC5wcm90b3R5cGUubm9kZVR5cGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ub2Rlc1t0XTtpZighZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVW5rbm93biBub2RlIHR5cGU6ICIrdCk7cmV0dXJuIGV9O3ZhciBwdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy5zY2hlbWE9dCx0aGlzLnJ1bGVzPWUsdGhpcy50YWdzPVtdLHRoaXMuc3R5bGVzPVtdLGUuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC50YWc/bi50YWdzLnB1c2godCk6dC5zdHlsZSYmbi5zdHlsZXMucHVzaCh0KX0pKX07cHQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuPW5ldyB4dCh0aGlzLGUsITEpO3JldHVybiBuLmFkZEFsbCh0LG51bGwsZS5mcm9tLGUudG8pLG4uZmluaXNoKCl9LHB0LnByb3RvdHlwZS5wYXJzZVNsaWNlPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuPW5ldyB4dCh0aGlzLGUsITApO3JldHVybiBuLmFkZEFsbCh0LG51bGwsZS5mcm9tLGUudG8pLHYubWF4T3BlbihuLmZpbmlzaCgpKX0scHQucHJvdG90eXBlLm1hdGNoVGFnPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjx0aGlzLnRhZ3MubGVuZ3RoO24rKyl7dmFyIHI9dGhpcy50YWdzW25dO2lmKEN0KHQsci50YWcpJiYodm9pZCAwPT09ci5uYW1lc3BhY2V8fHQubmFtZXNwYWNlVVJJPT1yLm5hbWVzcGFjZSkmJighci5jb250ZXh0fHxlLm1hdGNoZXNDb250ZXh0KHIuY29udGV4dCkpKXtpZihyLmdldEF0dHJzKXt2YXIgbz1yLmdldEF0dHJzKHQpO2lmKCExPT09byljb250aW51ZTtyLmF0dHJzPW99cmV0dXJuIHJ9fX0scHQucHJvdG90eXBlLm1hdGNoU3R5bGU9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj0wO3I8dGhpcy5zdHlsZXMubGVuZ3RoO3IrKyl7dmFyIG89dGhpcy5zdHlsZXNbcl07aWYoISgwIT1vLnN0eWxlLmluZGV4T2YodCl8fG8uY29udGV4dCYmIW4ubWF0Y2hlc0NvbnRleHQoby5jb250ZXh0KXx8by5zdHlsZS5sZW5ndGg+dC5sZW5ndGgmJig2MSE9by5zdHlsZS5jaGFyQ29kZUF0KHQubGVuZ3RoKXx8by5zdHlsZS5zbGljZSh0Lmxlbmd0aCsxKSE9ZSkpKXtpZihvLmdldEF0dHJzKXt2YXIgaT1vLmdldEF0dHJzKGUpO2lmKCExPT09aSljb250aW51ZTtvLmF0dHJzPWl9cmV0dXJuIG99fX0scHQuc2NoZW1hUnVsZXM9ZnVuY3Rpb24odCl7dmFyIGU9W107ZnVuY3Rpb24gbih0KXtmb3IodmFyIG49bnVsbD09dC5wcmlvcml0eT81MDp0LnByaW9yaXR5LHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89ZVtyXSxpPW51bGw9PW8ucHJpb3JpdHk/NTA6by5wcmlvcml0eTtpZihpPG4pYnJlYWt9ZS5zcGxpY2UociwwLHQpfXZhciByPWZ1bmN0aW9uKGUpe3ZhciByPXQubWFya3NbZV0uc3BlYy5wYXJzZURPTTtyJiZyLmZvckVhY2goKGZ1bmN0aW9uKHQpe24odD1OdCh0KSksdC5tYXJrPWV9KSl9O2Zvcih2YXIgbyBpbiB0Lm1hcmtzKXIobyk7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHI9dC5ub2Rlc1tzXS5zcGVjLnBhcnNlRE9NO3ImJnIuZm9yRWFjaCgoZnVuY3Rpb24odCl7bih0PU50KHQpKSx0Lm5vZGU9c30pKX07Zm9yKHZhciBzIGluIHQubm9kZXMpaSgpO3JldHVybiBlfSxwdC5mcm9tU2NoZW1hPWZ1bmN0aW9uKHQpe3JldHVybiB0LmNhY2hlZC5kb21QYXJzZXJ8fCh0LmNhY2hlZC5kb21QYXJzZXI9bmV3IHB0KHQscHQuc2NoZW1hUnVsZXModCkpKX07dmFyIGh0PXthZGRyZXNzOiEwLGFydGljbGU6ITAsYXNpZGU6ITAsYmxvY2txdW90ZTohMCxjYW52YXM6ITAsZGQ6ITAsZGl2OiEwLGRsOiEwLGZpZWxkc2V0OiEwLGZpZ2NhcHRpb246ITAsZmlndXJlOiEwLGZvb3RlcjohMCxmb3JtOiEwLGgxOiEwLGgyOiEwLGgzOiEwLGg0OiEwLGg1OiEwLGg2OiEwLGhlYWRlcjohMCxoZ3JvdXA6ITAsaHI6ITAsbGk6ITAsbm9zY3JpcHQ6ITAsb2w6ITAsb3V0cHV0OiEwLHA6ITAscHJlOiEwLHNlY3Rpb246ITAsdGFibGU6ITAsdGZvb3Q6ITAsdWw6ITB9LHZ0PXtoZWFkOiEwLG5vc2NyaXB0OiEwLG9iamVjdDohMCxzY3JpcHQ6ITAsc3R5bGU6ITAsdGl0bGU6ITB9LG10PXtvbDohMCx1bDohMH0sZ3Q9MSx5dD0yLGJ0PTQ7ZnVuY3Rpb24gd3QodCl7cmV0dXJuKHQ/Z3Q6MCl8KCJmdWxsIj09PXQ/eXQ6MCl9dmFyIFN0PWZ1bmN0aW9uKHQsZSxuLHIsbyxpLHMpe3RoaXMudHlwZT10LHRoaXMuYXR0cnM9ZSx0aGlzLnNvbGlkPW8sdGhpcy5tYXRjaD1pfHwocyZidD9udWxsOnQuY29udGVudE1hdGNoKSx0aGlzLm9wdGlvbnM9cyx0aGlzLmNvbnRlbnQ9W10sdGhpcy5tYXJrcz1uLHRoaXMuYWN0aXZlTWFya3M9cC5ub25lLHRoaXMucGVuZGluZ01hcmtzPXJ9O1N0LnByb3RvdHlwZS5maW5kV3JhcHBpbmc9ZnVuY3Rpb24odCl7aWYoIXRoaXMubWF0Y2gpe2lmKCF0aGlzLnR5cGUpcmV0dXJuW107dmFyIGU9dGhpcy50eXBlLmNvbnRlbnRNYXRjaC5maWxsQmVmb3JlKGMuZnJvbSh0KSk7aWYoIWUpe3ZhciBuLHI9dGhpcy50eXBlLmNvbnRlbnRNYXRjaDtyZXR1cm4obj1yLmZpbmRXcmFwcGluZyh0LnR5cGUpKT8odGhpcy5tYXRjaD1yLG4pOm51bGx9dGhpcy5tYXRjaD10aGlzLnR5cGUuY29udGVudE1hdGNoLm1hdGNoRnJhZ21lbnQoZSl9cmV0dXJuIHRoaXMubWF0Y2guZmluZFdyYXBwaW5nKHQudHlwZSl9LFN0LnByb3RvdHlwZS5maW5pc2g9ZnVuY3Rpb24odCl7aWYoISh0aGlzLm9wdGlvbnMmZ3QpKXt2YXIgZSxuPXRoaXMuY29udGVudFt0aGlzLmNvbnRlbnQubGVuZ3RoLTFdO24mJm4uaXNUZXh0JiYoZT0vWyBcdFxyXG5cdTAwMGNdKyQvLmV4ZWMobi50ZXh0KSkmJihuLnRleHQubGVuZ3RoPT1lWzBdLmxlbmd0aD90aGlzLmNvbnRlbnQucG9wKCk6dGhpcy5jb250ZW50W3RoaXMuY29udGVudC5sZW5ndGgtMV09bi53aXRoVGV4dChuLnRleHQuc2xpY2UoMCxuLnRleHQubGVuZ3RoLWVbMF0ubGVuZ3RoKSkpfXZhciByPWMuZnJvbSh0aGlzLmNvbnRlbnQpO3JldHVybiF0JiZ0aGlzLm1hdGNoJiYocj1yLmFwcGVuZCh0aGlzLm1hdGNoLmZpbGxCZWZvcmUoYy5lbXB0eSwhMCkpKSx0aGlzLnR5cGU/dGhpcy50eXBlLmNyZWF0ZSh0aGlzLmF0dHJzLHIsdGhpcy5tYXJrcyk6cn0sU3QucHJvdG90eXBlLmFwcGx5UGVuZGluZz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMucGVuZGluZ01hcmtzO2U8bi5sZW5ndGg7ZSsrKXt2YXIgcj1uW2VdOyh0aGlzLnR5cGU/dGhpcy50eXBlLmFsbG93c01hcmtUeXBlKHIudHlwZSk6VHQoci50eXBlLHQpKSYmIXIuaXNJblNldCh0aGlzLmFjdGl2ZU1hcmtzKSYmKHRoaXMuYWN0aXZlTWFya3M9ci5hZGRUb1NldCh0aGlzLmFjdGl2ZU1hcmtzKSx0aGlzLnBlbmRpbmdNYXJrcz1yLnJlbW92ZUZyb21TZXQodGhpcy5wZW5kaW5nTWFya3MpKX19O3ZhciB4dD1mdW5jdGlvbih0LGUsbil7dGhpcy5wYXJzZXI9dCx0aGlzLm9wdGlvbnM9ZSx0aGlzLmlzT3Blbj1uO3ZhciByLG89ZS50b3BOb2RlLGk9d3QoZS5wcmVzZXJ2ZVdoaXRlc3BhY2UpfChuP2J0OjApO3I9bz9uZXcgU3Qoby50eXBlLG8uYXR0cnMscC5ub25lLHAubm9uZSwhMCxlLnRvcE1hdGNofHxvLnR5cGUuY29udGVudE1hdGNoLGkpOm5ldyBTdChuP251bGw6dC5zY2hlbWEudG9wTm9kZVR5cGUsbnVsbCxwLm5vbmUscC5ub25lLCEwLG51bGwsaSksdGhpcy5ub2Rlcz1bcl0sdGhpcy5vcGVuPTAsdGhpcy5maW5kPWUuZmluZFBvc2l0aW9ucyx0aGlzLm5lZWRzQmxvY2s9ITF9LGt0PXt0b3A6e2NvbmZpZ3VyYWJsZTohMH0sY3VycmVudFBvczp7Y29uZmlndXJhYmxlOiEwfX07ZnVuY3Rpb24gT3QodCl7Zm9yKHZhciBlPXQuZmlyc3RDaGlsZCxuPW51bGw7ZTtlPWUubmV4dFNpYmxpbmcpe3ZhciByPTE9PWUubm9kZVR5cGU/ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOm51bGw7ciYmbXQuaGFzT3duUHJvcGVydHkocikmJm4/KG4uYXBwZW5kQ2hpbGQoZSksZT1uKToibGkiPT1yP249ZTpyJiYobj1udWxsKX19ZnVuY3Rpb24gQ3QodCxlKXtyZXR1cm4odC5tYXRjaGVzfHx0Lm1zTWF0Y2hlc1NlbGVjdG9yfHx0LndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8dC5tb3pNYXRjaGVzU2VsZWN0b3IpLmNhbGwodCxlKX1mdW5jdGlvbiBNdCh0KXt2YXIgZSxuPS9ccyooW1x3LV0rKVxzKjpccyooW147XSspL2cscj1bXTt3aGlsZShlPW4uZXhlYyh0KSlyLnB1c2goZVsxXSxlWzJdLnRyaW0oKSk7cmV0dXJuIHJ9ZnVuY3Rpb24gTnQodCl7dmFyIGU9e307Zm9yKHZhciBuIGluIHQpZVtuXT10W25dO3JldHVybiBlfWZ1bmN0aW9uIFR0KHQsZSl7dmFyIG49ZS5zY2hlbWEubm9kZXMscj1mdW5jdGlvbihyKXt2YXIgbz1uW3JdO2lmKG8uYWxsb3dzTWFya1R5cGUodCkpe3ZhciBpPVtdLHM9ZnVuY3Rpb24odCl7aS5wdXNoKHQpO2Zvcih2YXIgbj0wO248dC5lZGdlQ291bnQ7bisrKXt2YXIgcj10LmVkZ2Uobiksbz1yLnR5cGUsYT1yLm5leHQ7aWYobz09ZSlyZXR1cm4hMDtpZihpLmluZGV4T2YoYSk8MCYmcyhhKSlyZXR1cm4hMH19O3JldHVybiBzKG8uY29udGVudE1hdGNoKT97djohMH06dm9pZCAwfX07Zm9yKHZhciBvIGluIG4pe3ZhciBpPXIobyk7aWYoaSlyZXR1cm4gaS52fX1rdC50b3AuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZXNbdGhpcy5vcGVuXX0seHQucHJvdG90eXBlLmFkZERPTT1mdW5jdGlvbih0KXtpZigzPT10Lm5vZGVUeXBlKXRoaXMuYWRkVGV4dE5vZGUodCk7ZWxzZSBpZigxPT10Lm5vZGVUeXBlKXt2YXIgZT10LmdldEF0dHJpYnV0ZSgic3R5bGUiKSxuPWU/dGhpcy5yZWFkU3R5bGVzKE10KGUpKTpudWxsLHI9dGhpcy50b3A7aWYobnVsbCE9bilmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKyl0aGlzLmFkZFBlbmRpbmdNYXJrKG5bb10pO2lmKHRoaXMuYWRkRWxlbWVudCh0KSxudWxsIT1uKWZvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXRoaXMucmVtb3ZlUGVuZGluZ01hcmsobltpXSxyKX19LHh0LnByb3RvdHlwZS5hZGRUZXh0Tm9kZT1mdW5jdGlvbih0KXt2YXIgZT10Lm5vZGVWYWx1ZSxuPXRoaXMudG9wO2lmKChuLnR5cGU/bi50eXBlLmlubGluZUNvbnRlbnQ6bi5jb250ZW50Lmxlbmd0aCYmbi5jb250ZW50WzBdLmlzSW5saW5lKXx8L1teIFx0XHJcblx1MDAwY10vLnRlc3QoZSkpe2lmKG4ub3B0aW9ucyZndCluLm9wdGlvbnMmeXR8fChlPWUucmVwbGFjZSgvXHI/XG58XHIvZywiICIpKTtlbHNlIGlmKGU9ZS5yZXBsYWNlKC9bIFx0XHJcblx1MDAwY10rL2csIiAiKSwvXlsgXHRcclxuXHUwMDBjXS8udGVzdChlKSYmdGhpcy5vcGVuPT10aGlzLm5vZGVzLmxlbmd0aC0xKXt2YXIgcj1uLmNvbnRlbnRbbi5jb250ZW50Lmxlbmd0aC0xXSxvPXQucHJldmlvdXNTaWJsaW5nOyghcnx8byYmIkJSIj09by5ub2RlTmFtZXx8ci5pc1RleHQmJi9bIFx0XHJcblx1MDAwY10kLy50ZXN0KHIudGV4dCkpJiYoZT1lLnNsaWNlKDEpKX1lJiZ0aGlzLmluc2VydE5vZGUodGhpcy5wYXJzZXIuc2NoZW1hLnRleHQoZSkpLHRoaXMuZmluZEluVGV4dCh0KX1lbHNlIHRoaXMuZmluZEluc2lkZSh0KX0seHQucHJvdG90eXBlLmFkZEVsZW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO210Lmhhc093blByb3BlcnR5KGUpJiZPdCh0KTt2YXIgbj10aGlzLm9wdGlvbnMucnVsZUZyb21Ob2RlJiZ0aGlzLm9wdGlvbnMucnVsZUZyb21Ob2RlKHQpfHx0aGlzLnBhcnNlci5tYXRjaFRhZyh0LHRoaXMpO2lmKG4/bi5pZ25vcmU6dnQuaGFzT3duUHJvcGVydHkoZSkpdGhpcy5maW5kSW5zaWRlKHQpO2Vsc2UgaWYoIW58fG4uc2tpcCl7biYmbi5za2lwLm5vZGVUeXBlJiYodD1uLnNraXApO3ZhciByLG89dGhpcy50b3AsaT10aGlzLm5lZWRzQmxvY2s7aWYoaHQuaGFzT3duUHJvcGVydHkoZSkpcj0hMCxvLnR5cGV8fCh0aGlzLm5lZWRzQmxvY2s9ITApO2Vsc2UgaWYoIXQuZmlyc3RDaGlsZClyZXR1cm4gdm9pZCB0aGlzLmxlYWZGYWxsYmFjayh0KTt0aGlzLmFkZEFsbCh0KSxyJiZ0aGlzLnN5bmMobyksdGhpcy5uZWVkc0Jsb2NrPWl9ZWxzZSB0aGlzLmFkZEVsZW1lbnRCeVJ1bGUodCxuKX0seHQucHJvdG90eXBlLmxlYWZGYWxsYmFjaz1mdW5jdGlvbih0KXsiQlIiPT10Lm5vZGVOYW1lJiZ0aGlzLnRvcC50eXBlJiZ0aGlzLnRvcC50eXBlLmlubGluZUNvbnRlbnQmJnRoaXMuYWRkVGV4dE5vZGUodC5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCJcbiIpKX0seHQucHJvdG90eXBlLnJlYWRTdHlsZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXAubm9uZSxuPTA7bjx0Lmxlbmd0aDtuKz0yKXt2YXIgcj10aGlzLnBhcnNlci5tYXRjaFN0eWxlKHRbbl0sdFtuKzFdLHRoaXMpO2lmKHIpe2lmKHIuaWdub3JlKXJldHVybiBudWxsO2U9dGhpcy5wYXJzZXIuc2NoZW1hLm1hcmtzW3IubWFya10uY3JlYXRlKHIuYXR0cnMpLmFkZFRvU2V0KGUpfX1yZXR1cm4gZX0seHQucHJvdG90eXBlLmFkZEVsZW1lbnRCeVJ1bGU9ZnVuY3Rpb24odCxlKXt2YXIgbixyLG8saSxzPXRoaXM7ZS5ub2RlPyhyPXRoaXMucGFyc2VyLnNjaGVtYS5ub2Rlc1tlLm5vZGVdLHIuaXNMZWFmP3RoaXMuaW5zZXJ0Tm9kZShyLmNyZWF0ZShlLmF0dHJzKSl8fHRoaXMubGVhZkZhbGxiYWNrKHQpOm49dGhpcy5lbnRlcihyLGUuYXR0cnMsZS5wcmVzZXJ2ZVdoaXRlc3BhY2UpKToobz10aGlzLnBhcnNlci5zY2hlbWEubWFya3NbZS5tYXJrXSxpPW8uY3JlYXRlKGUuYXR0cnMpLHRoaXMuYWRkUGVuZGluZ01hcmsoaSkpO3ZhciBhPXRoaXMudG9wO2lmKHImJnIuaXNMZWFmKXRoaXMuZmluZEluc2lkZSh0KTtlbHNlIGlmKGUuZ2V0Q29udGVudCl0aGlzLmZpbmRJbnNpZGUodCksZS5nZXRDb250ZW50KHQsdGhpcy5wYXJzZXIuc2NoZW1hKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gcy5pbnNlcnROb2RlKHQpfSkpO2Vsc2V7dmFyIGM9ZS5jb250ZW50RWxlbWVudDsic3RyaW5nIj09dHlwZW9mIGM/Yz10LnF1ZXJ5U2VsZWN0b3IoYyk6ImZ1bmN0aW9uIj09dHlwZW9mIGMmJihjPWModCkpLGN8fChjPXQpLHRoaXMuZmluZEFyb3VuZCh0LGMsITApLHRoaXMuYWRkQWxsKGMsbil9biYmKHRoaXMuc3luYyhhKSx0aGlzLm9wZW4tLSksaSYmdGhpcy5yZW1vdmVQZW5kaW5nTWFyayhpLGEpfSx4dC5wcm90b3R5cGUuYWRkQWxsPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgbz1ufHwwLGk9bj90LmNoaWxkTm9kZXNbbl06dC5maXJzdENoaWxkLHM9bnVsbD09cj9udWxsOnQuY2hpbGROb2Rlc1tyXTtpIT1zO2k9aS5uZXh0U2libGluZywrK28pdGhpcy5maW5kQXRQb2ludCh0LG8pLHRoaXMuYWRkRE9NKGkpLGUmJmh0Lmhhc093blByb3BlcnR5KGkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkmJnRoaXMuc3luYyhlKTt0aGlzLmZpbmRBdFBvaW50KHQsbyl9LHh0LnByb3RvdHlwZS5maW5kUGxhY2U9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG4scj10aGlzLm9wZW47cj49MDtyLS0pe3ZhciBvPXRoaXMubm9kZXNbcl0saT1vLmZpbmRXcmFwcGluZyh0KTtpZihpJiYoIWV8fGUubGVuZ3RoPmkubGVuZ3RoKSYmKGU9aSxuPW8sIWkubGVuZ3RoKSlicmVhaztpZihvLnNvbGlkKWJyZWFrfWlmKCFlKXJldHVybiExO3RoaXMuc3luYyhuKTtmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKyl0aGlzLmVudGVySW5uZXIoZVtzXSxudWxsLCExKTtyZXR1cm4hMH0seHQucHJvdG90eXBlLmluc2VydE5vZGU9ZnVuY3Rpb24odCl7aWYodC5pc0lubGluZSYmdGhpcy5uZWVkc0Jsb2NrJiYhdGhpcy50b3AudHlwZSl7dmFyIGU9dGhpcy50ZXh0YmxvY2tGcm9tQ29udGV4dCgpO2UmJnRoaXMuZW50ZXJJbm5lcihlKX1pZih0aGlzLmZpbmRQbGFjZSh0KSl7dGhpcy5jbG9zZUV4dHJhKCk7dmFyIG49dGhpcy50b3A7bi5hcHBseVBlbmRpbmcodC50eXBlKSxuLm1hdGNoJiYobi5tYXRjaD1uLm1hdGNoLm1hdGNoVHlwZSh0LnR5cGUpKTtmb3IodmFyIHI9bi5hY3RpdmVNYXJrcyxvPTA7bzx0Lm1hcmtzLmxlbmd0aDtvKyspbi50eXBlJiYhbi50eXBlLmFsbG93c01hcmtUeXBlKHQubWFya3Nbb10udHlwZSl8fChyPXQubWFya3Nbb10uYWRkVG9TZXQocikpO3JldHVybiBuLmNvbnRlbnQucHVzaCh0Lm1hcmsocikpLCEwfXJldHVybiExfSx4dC5wcm90b3R5cGUuZW50ZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuZmluZFBsYWNlKHQuY3JlYXRlKGUpKTtyZXR1cm4gciYmdGhpcy5lbnRlcklubmVyKHQsZSwhMCxuKSxyfSx4dC5wcm90b3R5cGUuZW50ZXJJbm5lcj1mdW5jdGlvbih0LGUsbixyKXt0aGlzLmNsb3NlRXh0cmEoKTt2YXIgbz10aGlzLnRvcDtvLmFwcGx5UGVuZGluZyh0KSxvLm1hdGNoPW8ubWF0Y2gmJm8ubWF0Y2gubWF0Y2hUeXBlKHQsZSk7dmFyIGk9bnVsbD09cj9vLm9wdGlvbnMmfmJ0Ond0KHIpO28ub3B0aW9ucyZidCYmMD09by5jb250ZW50Lmxlbmd0aCYmKGl8PWJ0KSx0aGlzLm5vZGVzLnB1c2gobmV3IFN0KHQsZSxvLmFjdGl2ZU1hcmtzLG8ucGVuZGluZ01hcmtzLG4sbnVsbCxpKSksdGhpcy5vcGVuKyt9LHh0LnByb3RvdHlwZS5jbG9zZUV4dHJhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubm9kZXMubGVuZ3RoLTE7aWYoZT50aGlzLm9wZW4pe2Zvcig7ZT50aGlzLm9wZW47ZS0tKXRoaXMubm9kZXNbZS0xXS5jb250ZW50LnB1c2godGhpcy5ub2Rlc1tlXS5maW5pc2godCkpO3RoaXMubm9kZXMubGVuZ3RoPXRoaXMub3BlbisxfX0seHQucHJvdG90eXBlLmZpbmlzaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wZW49MCx0aGlzLmNsb3NlRXh0cmEodGhpcy5pc09wZW4pLHRoaXMubm9kZXNbMF0uZmluaXNoKHRoaXMuaXNPcGVufHx0aGlzLm9wdGlvbnMudG9wT3Blbil9LHh0LnByb3RvdHlwZS5zeW5jPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLm9wZW47ZT49MDtlLS0paWYodGhpcy5ub2Rlc1tlXT09dClyZXR1cm4gdm9pZCh0aGlzLm9wZW49ZSl9LGt0LmN1cnJlbnRQb3MuZ2V0PWZ1bmN0aW9uKCl7dGhpcy5jbG9zZUV4dHJhKCk7Zm9yKHZhciB0PTAsZT10aGlzLm9wZW47ZT49MDtlLS0pe2Zvcih2YXIgbj10aGlzLm5vZGVzW2VdLmNvbnRlbnQscj1uLmxlbmd0aC0xO3I+PTA7ci0tKXQrPW5bcl0ubm9kZVNpemU7ZSYmdCsrfXJldHVybiB0fSx4dC5wcm90b3R5cGUuZmluZEF0UG9pbnQ9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmZpbmQpZm9yKHZhciBuPTA7bjx0aGlzLmZpbmQubGVuZ3RoO24rKyl0aGlzLmZpbmRbbl0ubm9kZT09dCYmdGhpcy5maW5kW25dLm9mZnNldD09ZSYmKHRoaXMuZmluZFtuXS5wb3M9dGhpcy5jdXJyZW50UG9zKX0seHQucHJvdG90eXBlLmZpbmRJbnNpZGU9ZnVuY3Rpb24odCl7aWYodGhpcy5maW5kKWZvcih2YXIgZT0wO2U8dGhpcy5maW5kLmxlbmd0aDtlKyspbnVsbD09dGhpcy5maW5kW2VdLnBvcyYmMT09dC5ub2RlVHlwZSYmdC5jb250YWlucyh0aGlzLmZpbmRbZV0ubm9kZSkmJih0aGlzLmZpbmRbZV0ucG9zPXRoaXMuY3VycmVudFBvcyl9LHh0LnByb3RvdHlwZS5maW5kQXJvdW5kPWZ1bmN0aW9uKHQsZSxuKXtpZih0IT1lJiZ0aGlzLmZpbmQpZm9yKHZhciByPTA7cjx0aGlzLmZpbmQubGVuZ3RoO3IrKylpZihudWxsPT10aGlzLmZpbmRbcl0ucG9zJiYxPT10Lm5vZGVUeXBlJiZ0LmNvbnRhaW5zKHRoaXMuZmluZFtyXS5ub2RlKSl7dmFyIG89ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0aGlzLmZpbmRbcl0ubm9kZSk7byYobj8yOjQpJiYodGhpcy5maW5kW3JdLnBvcz10aGlzLmN1cnJlbnRQb3MpfX0seHQucHJvdG90eXBlLmZpbmRJblRleHQ9ZnVuY3Rpb24odCl7aWYodGhpcy5maW5kKWZvcih2YXIgZT0wO2U8dGhpcy5maW5kLmxlbmd0aDtlKyspdGhpcy5maW5kW2VdLm5vZGU9PXQmJih0aGlzLmZpbmRbZV0ucG9zPXRoaXMuY3VycmVudFBvcy0odC5ub2RlVmFsdWUubGVuZ3RoLXRoaXMuZmluZFtlXS5vZmZzZXQpKX0seHQucHJvdG90eXBlLm1hdGNoZXNDb250ZXh0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodC5pbmRleE9mKCJ8Iik+LTEpcmV0dXJuIHQuc3BsaXQoL1xzKlx8XHMqLykuc29tZSh0aGlzLm1hdGNoZXNDb250ZXh0LHRoaXMpO3ZhciBuPXQuc3BsaXQoIi8iKSxyPXRoaXMub3B0aW9ucy5jb250ZXh0LG89IXRoaXMuaXNPcGVuJiYoIXJ8fHIucGFyZW50LnR5cGU9PXRoaXMubm9kZXNbMF0udHlwZSksaT0tKHI/ci5kZXB0aCsxOjApKyhvPzA6MSkscz1mdW5jdGlvbih0LGEpe2Zvcig7dD49MDt0LS0pe3ZhciBjPW5bdF07aWYoIiI9PWMpe2lmKHQ9PW4ubGVuZ3RoLTF8fDA9PXQpY29udGludWU7Zm9yKDthPj1pO2EtLSlpZihzKHQtMSxhKSlyZXR1cm4hMDtyZXR1cm4hMX12YXIgbD1hPjB8fDA9PWEmJm8/ZS5ub2Rlc1thXS50eXBlOnImJmE+PWk/ci5ub2RlKGEtaSkudHlwZTpudWxsO2lmKCFsfHxsLm5hbWUhPWMmJi0xPT1sLmdyb3Vwcy5pbmRleE9mKGMpKXJldHVybiExO2EtLX1yZXR1cm4hMH07cmV0dXJuIHMobi5sZW5ndGgtMSx0aGlzLm9wZW4pfSx4dC5wcm90b3R5cGUudGV4dGJsb2NrRnJvbUNvbnRleHQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuY29udGV4dDtpZih0KWZvcih2YXIgZT10LmRlcHRoO2U+PTA7ZS0tKXt2YXIgbj10Lm5vZGUoZSkuY29udGVudE1hdGNoQXQodC5pbmRleEFmdGVyKGUpKS5kZWZhdWx0VHlwZTtpZihuJiZuLmlzVGV4dGJsb2NrJiZuLmRlZmF1bHRBdHRycylyZXR1cm4gbn1mb3IodmFyIHIgaW4gdGhpcy5wYXJzZXIuc2NoZW1hLm5vZGVzKXt2YXIgbz10aGlzLnBhcnNlci5zY2hlbWEubm9kZXNbcl07aWYoby5pc1RleHRibG9jayYmby5kZWZhdWx0QXR0cnMpcmV0dXJuIG99fSx4dC5wcm90b3R5cGUuYWRkUGVuZGluZ01hcms9ZnVuY3Rpb24odCl7dGhpcy50b3AucGVuZGluZ01hcmtzPXQuYWRkVG9TZXQodGhpcy50b3AucGVuZGluZ01hcmtzKX0seHQucHJvdG90eXBlLnJlbW92ZVBlbmRpbmdNYXJrPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMub3BlbjtuPj0wO24tLSl7dmFyIHI9dGhpcy5ub2Rlc1tuXSxvPXIucGVuZGluZ01hcmtzLmxhc3RJbmRleE9mKHQpO2lmKG8+LTE/ci5wZW5kaW5nTWFya3M9dC5yZW1vdmVGcm9tU2V0KHIucGVuZGluZ01hcmtzKTpyLmFjdGl2ZU1hcmtzPXQucmVtb3ZlRnJvbVNldChyLmFjdGl2ZU1hcmtzKSxyPT1lKWJyZWFrfX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoeHQucHJvdG90eXBlLGt0KTt2YXIgQXQ9ZnVuY3Rpb24odCxlKXt0aGlzLm5vZGVzPXR8fHt9LHRoaXMubWFya3M9ZXx8e319O2Z1bmN0aW9uIER0KHQpe3ZhciBlPXt9O2Zvcih2YXIgbiBpbiB0KXt2YXIgcj10W25dLnNwZWMudG9ET007ciYmKGVbbl09cil9cmV0dXJuIGV9ZnVuY3Rpb24gRXQodCl7cmV0dXJuIHQuZG9jdW1lbnR8fHdpbmRvdy5kb2N1bWVudH1BdC5wcm90b3R5cGUuc2VyaWFsaXplRnJhZ21lbnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7dm9pZCAwPT09ZSYmKGU9e30pLG58fChuPUV0KGUpLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7dmFyIG89bixpPW51bGw7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoaXx8dC5tYXJrcy5sZW5ndGgpe2l8fChpPVtdKTt2YXIgbj0wLHM9MDt3aGlsZShuPGkubGVuZ3RoJiZzPHQubWFya3MubGVuZ3RoKXt2YXIgYT10Lm1hcmtzW3NdO2lmKHIubWFya3NbYS50eXBlLm5hbWVdKXtpZighYS5lcShpW25dKXx8ITE9PT1hLnR5cGUuc3BlYy5zcGFubmluZylicmVhaztuKz0yLHMrK31lbHNlIHMrK313aGlsZShuPGkubGVuZ3RoKW89aS5wb3AoKSxpLnBvcCgpO3doaWxlKHM8dC5tYXJrcy5sZW5ndGgpe3ZhciBjPXQubWFya3NbcysrXSxsPXIuc2VyaWFsaXplTWFyayhjLHQuaXNJbmxpbmUsZSk7bCYmKGkucHVzaChjLG8pLG8uYXBwZW5kQ2hpbGQobC5kb20pLG89bC5jb250ZW50RE9NfHxsLmRvbSl9fW8uYXBwZW5kQ2hpbGQoci5zZXJpYWxpemVOb2RlKHQsZSkpfSkpLG59LEF0LnByb3RvdHlwZS5zZXJpYWxpemVOb2RlPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuPUF0LnJlbmRlclNwZWMoRXQoZSksdGhpcy5ub2Rlc1t0LnR5cGUubmFtZV0odCkpLHI9bi5kb20sbz1uLmNvbnRlbnRET007aWYobyl7aWYodC5pc0xlYWYpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkNvbnRlbnQgaG9sZSBub3QgYWxsb3dlZCBpbiBhIGxlYWYgbm9kZSBzcGVjIik7ZS5vbkNvbnRlbnQ/ZS5vbkNvbnRlbnQodCxvLGUpOnRoaXMuc2VyaWFsaXplRnJhZ21lbnQodC5jb250ZW50LGUsbyl9cmV0dXJuIHJ9LEF0LnByb3RvdHlwZS5zZXJpYWxpemVOb2RlQW5kTWFya3M9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7Zm9yKHZhciBuPXRoaXMuc2VyaWFsaXplTm9kZSh0LGUpLHI9dC5tYXJrcy5sZW5ndGgtMTtyPj0wO3ItLSl7dmFyIG89dGhpcy5zZXJpYWxpemVNYXJrKHQubWFya3Nbcl0sdC5pc0lubGluZSxlKTtvJiYoKG8uY29udGVudERPTXx8by5kb20pLmFwcGVuZENoaWxkKG4pLG49by5kb20pfXJldHVybiBufSxBdC5wcm90b3R5cGUuc2VyaWFsaXplTWFyaz1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49e30pO3ZhciByPXRoaXMubWFya3NbdC50eXBlLm5hbWVdO3JldHVybiByJiZBdC5yZW5kZXJTcGVjKEV0KG4pLHIodCxlKSl9LEF0LnJlbmRlclNwZWM9ZnVuY3Rpb24odCxlLG4pe2lmKHZvaWQgMD09PW4mJihuPW51bGwpLCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm57ZG9tOnQuY3JlYXRlVGV4dE5vZGUoZSl9O2lmKG51bGwhPWUubm9kZVR5cGUpcmV0dXJue2RvbTplfTt2YXIgcj1lWzBdLG89ci5pbmRleE9mKCIgIik7bz4wJiYobj1yLnNsaWNlKDAsbykscj1yLnNsaWNlKG8rMSkpO3ZhciBpPW51bGwscz1uP3QuY3JlYXRlRWxlbWVudE5TKG4scik6dC5jcmVhdGVFbGVtZW50KHIpLGE9ZVsxXSxjPTE7aWYoYSYmIm9iamVjdCI9PXR5cGVvZiBhJiZudWxsPT1hLm5vZGVUeXBlJiYhQXJyYXkuaXNBcnJheShhKSlmb3IodmFyIGwgaW4gYz0yLGEpaWYobnVsbCE9YVtsXSl7dmFyIHU9bC5pbmRleE9mKCIgIik7dT4wP3Muc2V0QXR0cmlidXRlTlMobC5zbGljZSgwLHUpLGwuc2xpY2UodSsxKSxhW2xdKTpzLnNldEF0dHJpYnV0ZShsLGFbbF0pfWZvcih2YXIgZj1jO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZD1lW2ZdO2lmKDA9PT1kKXtpZihmPGUubGVuZ3RoLTF8fGY+Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQ29udGVudCBob2xlIG11c3QgYmUgdGhlIG9ubHkgY2hpbGQgb2YgaXRzIHBhcmVudCBub2RlIik7cmV0dXJue2RvbTpzLGNvbnRlbnRET006c319dmFyIHA9QXQucmVuZGVyU3BlYyh0LGQsbiksaD1wLmRvbSx2PXAuY29udGVudERPTTtpZihzLmFwcGVuZENoaWxkKGgpLHYpe2lmKGkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk11bHRpcGxlIGNvbnRlbnQgaG9sZXMiKTtpPXZ9fXJldHVybntkb206cyxjb250ZW50RE9NOml9fSxBdC5mcm9tU2NoZW1hPWZ1bmN0aW9uKHQpe3JldHVybiB0LmNhY2hlZC5kb21TZXJpYWxpemVyfHwodC5jYWNoZWQuZG9tU2VyaWFsaXplcj1uZXcgQXQodGhpcy5ub2Rlc0Zyb21TY2hlbWEodCksdGhpcy5tYXJrc0Zyb21TY2hlbWEodCkpKX0sQXQubm9kZXNGcm9tU2NoZW1hPWZ1bmN0aW9uKHQpe3ZhciBlPUR0KHQubm9kZXMpO3JldHVybiBlLnRleHR8fChlLnRleHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQudGV4dH0pLGV9LEF0Lm1hcmtzRnJvbVNjaGVtYT1mdW5jdGlvbih0KXtyZXR1cm4gRHQodC5tYXJrcyl9fSwiMzQyZiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImQwNjYiKTt0LmV4cG9ydHM9cigibmF2aWdhdG9yIiwidXNlckFnZW50Iil8fCIifSwiMzVhMSI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImY1ZGYiKSxvPW4oIjNmOGMiKSxpPW4oImI2MjIiKSxzPWkoIml0ZXJhdG9yIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9dClyZXR1cm4gdFtzXXx8dFsiQEBpdGVyYXRvciJdfHxvW3IodCldfX0sIjM3ZTgiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI4M2FiIiksbz1uKCI5YmYyIiksaT1uKCI4MjVhIikscz1uKCJkZjc1Iik7dC5leHBvcnRzPXI/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24odCxlKXtpKHQpO3ZhciBuLHI9cyhlKSxhPXIubGVuZ3RoLGM9MDt3aGlsZShhPmMpby5mKHQsbj1yW2MrK10sZVtuXSk7cmV0dXJuIHR9fSwzOTIyOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTIxIDBIM2EzIDMgMCAwMC0zIDN2MThhMyAzIDAgMDAzIDNoMThhMyAzIDAgMDAzLTNWM2EzIDMgMCAwMC0zLTN6bTEgMjFhMSAxIDAgMDEtMSAxSDNhMSAxIDAgMDEtMS0xVjNhMSAxIDAgMDExLTFoMThhMSAxIDAgMDExIDF6In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xMS4yNDkgNC41YTEuMjUxIDEuMjUxIDAgMDAtMS43NS4yNUw3LjM2NSA3LjZsLS40ODItLjQ4MWExLjI1IDEuMjUgMCAwMC0xLjc2NyAxLjc2NGwxLjUgMS41YTEuMjYyIDEuMjYyIDAgMDAxLjg4NC0uMTM0bDMtNGExLjI1IDEuMjUgMCAwMC0uMjUxLTEuNzQ5ek0xMS4yNDkgMTMuNWExLjI1MSAxLjI1MSAwIDAwLTEuNzUuMjVMNy4zNjUgMTYuNmwtLjQ4Mi0uNDgxYTEuMjUgMS4yNSAwIDEwLTEuNzY3IDEuNzY4bDEuNSAxLjVhMS4yNjUgMS4yNjUgMCAwMDEuODg0LS4xMzhsMy00YTEuMjUgMS4yNSAwIDAwLS4yNTEtMS43NDl6TTE4LjUgNy43NDlIMTRhMS4yNSAxLjI1IDAgMDAwIDIuNWg0LjVhMS4yNSAxLjI1IDAgMDAwLTIuNXpNMTguNSAxNS43NDlIMTRhMS4yNSAxLjI1IDAgMDAwIDIuNWg0LjVhMS4yNSAxLjI1IDAgMTAwLTIuNXoifX0pXSkpfX19LCIzYmJlIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiODYxZCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighcih0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBzZXQgIitTdHJpbmcodCkrIiBhcyBhIHByb3RvdHlwZSIpO3JldHVybiB0fX0sIjNjYTMiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiNjU0NyIpLmNoYXJBdCxvPW4oIjY5ZjMiKSxpPW4oIjdkZDAiKSxzPSJTdHJpbmcgSXRlcmF0b3IiLGE9by5zZXQsYz1vLmdldHRlckZvcihzKTtpKFN0cmluZywiU3RyaW5nIiwoZnVuY3Rpb24odCl7YSh0aGlzLHt0eXBlOnMsc3RyaW5nOlN0cmluZyh0KSxpbmRleDowfSl9KSwoZnVuY3Rpb24oKXt2YXIgdCxlPWModGhpcyksbj1lLnN0cmluZyxvPWUuaW5kZXg7cmV0dXJuIG8+PW4ubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KHQ9cihuLG8pLGUuaW5kZXgrPXQubGVuZ3RoLHt2YWx1ZTp0LGRvbmU6ITF9KX0pKX0sIjNjZTQiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiZTJiZSIpLG89bigiMDczZSIpO2UuaGlnaGxpZ2h0PXMsZS5oaWdobGlnaHRBdXRvPWEsZS5yZWdpc3Rlckxhbmd1YWdlPWMsZS5saXN0TGFuZ3VhZ2VzPWwsZS5yZWdpc3RlckFsaWFzPXUsZi5wcm90b3R5cGUuYWRkVGV4dD1oLGYucHJvdG90eXBlLmFkZEtleXdvcmQ9ZCxmLnByb3RvdHlwZS5hZGRTdWJsYW5ndWFnZT1wLGYucHJvdG90eXBlLm9wZW5Ob2RlPXYsZi5wcm90b3R5cGUuY2xvc2VOb2RlPW0sZi5wcm90b3R5cGUuY2xvc2VBbGxOb2Rlcz15LGYucHJvdG90eXBlLmZpbmFsaXplPXksZi5wcm90b3R5cGUudG9IVE1MPWc7dmFyIGk9ImhsanMtIjtmdW5jdGlvbiBzKHQsZSxuKXt2YXIgcyxhPXIuY29uZmlndXJlKHt9KSxjPW58fHt9LGw9Yy5wcmVmaXg7aWYoInN0cmluZyIhPT10eXBlb2YgdCl0aHJvdyBvKCJFeHBlY3RlZCBgc3RyaW5nYCBmb3IgbmFtZSwgZ290IGAlc2AiLHQpO2lmKCFyLmdldExhbmd1YWdlKHQpKXRocm93IG8oIlVua25vd24gbGFuZ3VhZ2U6IGAlc2AgaXMgbm90IHJlZ2lzdGVyZWQiLHQpO2lmKCJzdHJpbmciIT09dHlwZW9mIGUpdGhyb3cgbygiRXhwZWN0ZWQgYHN0cmluZ2AgZm9yIHZhbHVlLCBnb3QgYCVzYCIsZSk7aWYobnVsbCE9PWwmJnZvaWQgMCE9PWx8fChsPWkpLHIuY29uZmlndXJlKHtfX2VtaXR0ZXI6ZixjbGFzc1ByZWZpeDpsfSkscz1yLmhpZ2hsaWdodCh0LGUsITApLHIuY29uZmlndXJlKGEpLHMuZXJyb3JSYWlzZWQpdGhyb3cgcy5lcnJvclJhaXNlZDtyZXR1cm57cmVsZXZhbmNlOnMucmVsZXZhbmNlLGxhbmd1YWdlOnMubGFuZ3VhZ2UsdmFsdWU6cy5lbWl0dGVyLnJvb3ROb2RlLmNoaWxkcmVufX1mdW5jdGlvbiBhKHQsZSl7dmFyIG4sYSxjLGwsdT1lfHx7fSxmPXUuc3Vic2V0fHxyLmxpc3RMYW5ndWFnZXMoKSxkPXUucHJlZml4LHA9Zi5sZW5ndGgsaD0tMTtpZihudWxsIT09ZCYmdm9pZCAwIT09ZHx8KGQ9aSksInN0cmluZyIhPT10eXBlb2YgdCl0aHJvdyBvKCJFeHBlY3RlZCBgc3RyaW5nYCBmb3IgdmFsdWUsIGdvdCBgJXNgIix0KTthPXtyZWxldmFuY2U6MCxsYW5ndWFnZTpudWxsLHZhbHVlOltdfSxuPXtyZWxldmFuY2U6MCxsYW5ndWFnZTpudWxsLHZhbHVlOltdfTt3aGlsZSgrK2g8cClsPWZbaF0sci5nZXRMYW5ndWFnZShsKSYmKGM9cyhsLHQsZSksYy5sYW5ndWFnZT1sLGMucmVsZXZhbmNlPmEucmVsZXZhbmNlJiYoYT1jKSxjLnJlbGV2YW5jZT5uLnJlbGV2YW5jZSYmKGE9bixuPWMpKTtyZXR1cm4gYS5sYW5ndWFnZSYmKG4uc2Vjb25kQmVzdD1hKSxufWZ1bmN0aW9uIGModCxlKXtyLnJlZ2lzdGVyTGFuZ3VhZ2UodCxlKX1mdW5jdGlvbiBsKCl7cmV0dXJuIHIubGlzdExhbmd1YWdlcygpfWZ1bmN0aW9uIHUodCxlKXt2YXIgbixvPXQ7Zm9yKG4gaW4gZSYmKG89e30sb1t0XT1lKSxvKXIucmVnaXN0ZXJBbGlhc2VzKG9bbl0se2xhbmd1YWdlTmFtZTpufSl9ZnVuY3Rpb24gZih0KXt0aGlzLm9wdGlvbnM9dCx0aGlzLnJvb3ROb2RlPXtjaGlsZHJlbjpbXX0sdGhpcy5zdGFjaz1bdGhpcy5yb290Tm9kZV19ZnVuY3Rpb24gZCh0LGUpe3RoaXMub3Blbk5vZGUoZSksdGhpcy5hZGRUZXh0KHQpLHRoaXMuY2xvc2VOb2RlKCl9ZnVuY3Rpb24gcCh0LGUpe3ZhciBuPXRoaXMuc3RhY2sscj1uW24ubGVuZ3RoLTFdLG89dC5yb290Tm9kZS5jaGlsZHJlbixpPWU/e3R5cGU6ImVsZW1lbnQiLHRhZ05hbWU6InNwYW4iLHByb3BlcnRpZXM6e2NsYXNzTmFtZTpbZV19LGNoaWxkcmVuOm99Om87ci5jaGlsZHJlbj1yLmNoaWxkcmVuLmNvbmNhdChpKX1mdW5jdGlvbiBoKHQpe3ZhciBlLG4scj10aGlzLnN0YWNrOyIiIT09dCYmKGU9cltyLmxlbmd0aC0xXSxuPWUuY2hpbGRyZW5bZS5jaGlsZHJlbi5sZW5ndGgtMV0sbiYmInRleHQiPT09bi50eXBlP24udmFsdWUrPXQ6ZS5jaGlsZHJlbi5wdXNoKHt0eXBlOiJ0ZXh0Iix2YWx1ZTp0fSkpfWZ1bmN0aW9uIHYodCl7dmFyIGU9dGhpcy5zdGFjayxuPXRoaXMub3B0aW9ucy5jbGFzc1ByZWZpeCt0LHI9ZVtlLmxlbmd0aC0xXSxvPXt0eXBlOiJlbGVtZW50Iix0YWdOYW1lOiJzcGFuIixwcm9wZXJ0aWVzOntjbGFzc05hbWU6W25dfSxjaGlsZHJlbjpbXX07ci5jaGlsZHJlbi5wdXNoKG8pLGUucHVzaChvKX1mdW5jdGlvbiBtKCl7dGhpcy5zdGFjay5wb3AoKX1mdW5jdGlvbiBnKCl7cmV0dXJuIiJ9ZnVuY3Rpb24geSgpe319LCIzZWIzIjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5mfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmZ9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xNy4xOTQgMTAuOTYyQTYuMjcxIDYuMjcxIDAgMDAxMi44NDQuMjQ4SDQuM2ExLjI1IDEuMjUgMCAwMDAgMi41aDEuMDEzYS4yNS4yNSAwIDAxLjI1LjI1VjIxYS4yNS4yNSAwIDAxLS4yNS4yNUg0LjNhMS4yNSAxLjI1IDAgMTAwIDIuNWg5Ljk2M2E2Ljc0MiA2Ljc0MiAwIDAwMi45My0xMi43ODZ6bS00LjM1LTguMjE0YTMuNzYyIDMuNzYyIDAgMDEwIDcuNTIzSDguMzEzYS4yNS4yNSAwIDAxLS4yNS0uMjVWM2EuMjUuMjUgMCAwMS4yNS0uMjV6bTEuNDIgMTguNUg4LjMxM2EuMjUuMjUgMCAwMS0uMjUtLjI1di03Ljk3N2EuMjUuMjUgMCAwMS4yNS0uMjVIMTQuMjY0YTQuMjM5IDQuMjM5IDAgMDEwIDguNDc3eiJ9fSldKSl9fX0sIjNmOGMiOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXt9fSwiNDI4ZiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImRhODQiKTt0LmV4cG9ydHM9cn0sIjQzY2EiOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTkuMTQ3IDIxLjU1MmExLjI0NCAxLjI0NCAwIDAxLS44OTUtLjM3OEwuODQgMTMuNTYxYTIuMjU3IDIuMjU3IDAgMDEwLTMuMTI1bDcuNDEyLTcuNjEzYTEuMjUgMS4yNSAwIDAxMS43OTEgMS43NDRsLTYuOSA3LjA4M2EuNS41IDAgMDAwIC43bDYuOSA3LjA4MmExLjI1IDEuMjUgMCAwMS0uOSAyLjEyMnpNMTQuODU0IDIxLjU1MmExLjI1IDEuMjUgMCAwMS0uOS0yLjEyMmw2LjktNy4wODNhLjUuNSAwIDAwMC0uN2wtNi45LTcuMDgyYTEuMjUgMS4yNSAwIDAxMS43OTEtMS43NDRsNy40MTEgNy42MTJhMi4yNTcgMi4yNTcgMCAwMTAgMy4xMjVsLTcuNDEyIDcuNjE0YTEuMjQ0IDEuMjQ0IDAgMDEtLjg5LjM4em02LjUxNC05LjM3M3oifX0pXSkpfX19LCI0NGFkIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZDAzOSIpLG89bigiYzZiNiIpLGk9IiIuc3BsaXQ7dC5leHBvcnRzPXIoKGZ1bmN0aW9uKCl7cmV0dXJuIU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApfSkpP2Z1bmN0aW9uKHQpe3JldHVybiJTdHJpbmciPT1vKHQpP2kuY2FsbCh0LCIiKTpPYmplY3QodCl9Ok9iamVjdH0sIjQ0ZDIiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJiNjIyIiksbz1uKCI3YzczIiksaT1uKCI5YmYyIikscz1yKCJ1bnNjb3BhYmxlcyIpLGE9QXJyYXkucHJvdG90eXBlO3ZvaWQgMD09YVtzXSYmaS5mKGEscyx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOm8obnVsbCl9KSx0LmV4cG9ydHM9ZnVuY3Rpb24odCl7YVtzXVt0XT0hMH19LDQ5MzA6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImQwMzkiKTt0LmV4cG9ydHM9ISFPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzJiYhcigoZnVuY3Rpb24oKXtyZXR1cm4hU3RyaW5nKFN5bWJvbCgpKX0pKX0sIjQ5OGMiOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTcuNzUgNC41aDE1YTEgMSAwIDAwMC0yaC0xNWExIDEgMCAwMDAgMnpNMjIuNzUgMTFoLTE1YTEgMSAwIDEwMCAyaDE1YTEgMSAwIDAwMC0yek0yMi43NSAxOS41aC0xNWExIDEgMCAwMDAgMmgxNWExIDEgMCAwMDAtMnpNMi4yMTIgMTcuMjQ4YTIgMiAwIDAwLTEuOTMzIDEuNDg0Ljc1Ljc1IDAgMTAxLjQ1LjM4Ni41LjUgMCAxMS40ODMuNjMuNzUuNzUgMCAxMDAgMS41LjUuNSAwIDExLS40ODIuNjM1Ljc1Ljc1IDAgMTAtMS40NDUuNCAyIDIgMCAxMDMuNTg5LTEuNjQ4LjI1MS4yNTEgMCAwMTAtLjI3OCAyIDIgMCAwMC0xLjY2Mi0zLjExMXpNNC4yNSAxMC43NDhhMiAyIDAgMDAtNCAwIC43NS43NSAwIDAwMS41IDAgLjUuNSAwIDAxMSAwIDEuMDMxIDEuMDMxIDAgMDEtLjIyNy42NDVMLjQxNCAxNC4wMjlBLjc1Ljc1IDAgMDAxIDE1LjI0OGgyLjVhLjc1Ljc1IDAgMDAwLTEuNWgtLjQxOWEuMjQ5LjI0OSAwIDAxLS4xOTUtLjQwNkwzLjcgMTIuMzNhMi41NDQgMi41NDQgMCAwMC41NS0xLjU4MnpNNCA1LjI0OGgtLjI1QS4yNS4yNSAwIDAxMy41IDVWMS42MjNBMS4zNzcgMS4zNzcgMCAwMDIuMTI1LjI0OEgxLjVhLjc1Ljc1IDAgMDAwIDEuNWguMjVBLjI1LjI1IDAgMDEyIDJ2M2EuMjUuMjUgMCAwMS0uMjUuMjVIMS41YS43NS43NSAwIDAwMCAxLjVINGEuNzUuNzUgMCAwMDAtMS41eiJ9fSldKSl9fX0sIjRkNjQiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJmYzZhIiksbz1uKCI1MGM0IiksaT1uKCIyM2NiIikscz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLHMpe3ZhciBhLGM9cihlKSxsPW8oYy5sZW5ndGgpLHU9aShzLGwpO2lmKHQmJm4hPW4pe3doaWxlKGw+dSlpZihhPWNbdSsrXSxhIT1hKXJldHVybiEwfWVsc2UgZm9yKDtsPnU7dSsrKWlmKCh0fHx1IGluIGMpJiZjW3VdPT09bilyZXR1cm4gdHx8dXx8MDtyZXR1cm4hdCYmLTF9fTt0LmV4cG9ydHM9e2luY2x1ZGVzOnMoITApLGluZGV4T2Y6cyghMSl9fSwiNGRmNCI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCIwMzY2Iiksbz1uKCI3YjBiIiksaT1uKCI5YmRkIikscz1uKCJlOTVhIiksYT1uKCI1MGM0IiksYz1uKCI4NDE4IiksbD1uKCIzNWExIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlLG4sdSxmLGQscCxoPW8odCksdj0iZnVuY3Rpb24iPT10eXBlb2YgdGhpcz90aGlzOkFycmF5LG09YXJndW1lbnRzLmxlbmd0aCxnPW0+MT9hcmd1bWVudHNbMV06dm9pZCAwLHk9dm9pZCAwIT09ZyxiPWwoaCksdz0wO2lmKHkmJihnPXIoZyxtPjI/YXJndW1lbnRzWzJdOnZvaWQgMCwyKSksdm9pZCAwPT1ifHx2PT1BcnJheSYmcyhiKSlmb3IoZT1hKGgubGVuZ3RoKSxuPW5ldyB2KGUpO2U+dzt3KyspcD15P2coaFt3XSx3KTpoW3ddLGMobix3LHApO2Vsc2UgZm9yKGY9Yi5jYWxsKGgpLGQ9Zi5uZXh0LG49bmV3IHY7ISh1PWQuY2FsbChmKSkuZG9uZTt3KyspcD15P2koZixnLFt1LnZhbHVlLHddLCEwKTp1LnZhbHVlLGMobix3LHApO3JldHVybiBuLmxlbmd0aD13LG59fSwiNGYzNSI6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZn09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5mfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNNSAxM2ExIDEgMCAwMTAtMmgxNGExIDEgMCAwMTAgMkg1eiJ9fSldKSl9fX0sIjRmNjYiOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTEyIC41QTExLjYzNCAxMS42MzQgMCAwMC4yNjIgMTIgMTEuNjM0IDExLjYzNCAwIDAwMTIgMjMuNWExMS44MzYgMTEuODM2IDAgMDA2LjYyNC0yIDEuMjUgMS4yNSAwIDEwLTEuMzkzLTIuMDc2QTkuMzQgOS4zNCAwIDAxMTIgMjFhOS4xMzIgOS4xMzIgMCAwMS05LjIzOC05QTkuMTMyIDkuMTMyIDAgMDExMiAzYTkuMTMyIDkuMTMyIDAgMDE5LjIzOCA5di44OTFhMS45NDMgMS45NDMgMCAwMS0zLjg4NCAwVjEyQTUuMzU1IDUuMzU1IDAgMTAxMiAxNy4yNjFhNS4zNzYgNS4zNzYgMCAwMDMuODYxLTEuNjM0IDQuNDM4IDQuNDM4IDAgMDA3Ljg3Ny0yLjczNlYxMkExMS42MzQgMTEuNjM0IDAgMDAxMiAuNXptMCAxNC4yNjFBMi43NjMgMi43NjMgMCAxMTE0Ljg1NCAxMiAyLjgxMiAyLjgxMiAwIDAxMTIgMTQuNzYxeiJ9fSldKSl9fX0sIjRmYWQiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCIyM2U3Iiksbz1uKCI2ZjUzIikuZW50cmllcztyKHt0YXJnZXQ6Ik9iamVjdCIsc3RhdDohMH0se2VudHJpZXM6ZnVuY3Rpb24odCl7cmV0dXJuIG8odCl9fSl9LCI1MGM0IjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiYTY5MSIpLG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0PjA/byhyKHQpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSw1MTM1OmZ1bmN0aW9uKHQsZSl7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uY2FsbCh0LGUpfX0sNTMxMzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24ucihlKSxuLmQoZSwiQWxsU2VsZWN0aW9uIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxuLmQoZSwiRWRpdG9yU3RhdGUiLChmdW5jdGlvbigpe3JldHVybiBDfSkpLG4uZChlLCJOb2RlU2VsZWN0aW9uIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQoZSwiUGx1Z2luIiwoZnVuY3Rpb24oKXtyZXR1cm4gQX0pKSxuLmQoZSwiUGx1Z2luS2V5IiwoZnVuY3Rpb24oKXtyZXR1cm4gUn0pKSxuLmQoZSwiU2VsZWN0aW9uIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQoZSwiU2VsZWN0aW9uUmFuZ2UiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLG4uZChlLCJUZXh0U2VsZWN0aW9uIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQoZSwiVHJhbnNhY3Rpb24iLChmdW5jdGlvbigpe3JldHVybiB3fSkpO3ZhciByPW4oIjMwNGEiKSxvPW4oIjBhYzAiKSxpPU9iamVjdC5jcmVhdGUobnVsbCkscz1mdW5jdGlvbih0LGUsbil7dGhpcy5yYW5nZXM9bnx8W25ldyBjKHQubWluKGUpLHQubWF4KGUpKV0sdGhpcy4kYW5jaG9yPXQsdGhpcy4kaGVhZD1lfSxhPXthbmNob3I6e2NvbmZpZ3VyYWJsZTohMH0saGVhZDp7Y29uZmlndXJhYmxlOiEwfSxmcm9tOntjb25maWd1cmFibGU6ITB9LHRvOntjb25maWd1cmFibGU6ITB9LCRmcm9tOntjb25maWd1cmFibGU6ITB9LCR0bzp7Y29uZmlndXJhYmxlOiEwfSxlbXB0eTp7Y29uZmlndXJhYmxlOiEwfX07YS5hbmNob3IuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGFuY2hvci5wb3N9LGEuaGVhZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kaGVhZC5wb3N9LGEuZnJvbS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZnJvbS5wb3N9LGEudG8uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHRvLnBvc30sYS4kZnJvbS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYW5nZXNbMF0uJGZyb219LGEuJHRvLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJhbmdlc1swXS4kdG99LGEuZW1wdHkuZ2V0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMucmFuZ2VzLGU9MDtlPHQubGVuZ3RoO2UrKylpZih0W2VdLiRmcm9tLnBvcyE9dFtlXS4kdG8ucG9zKXJldHVybiExO3JldHVybiEwfSxzLnByb3RvdHlwZS5jb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGZyb20ubm9kZSgwKS5zbGljZSh0aGlzLmZyb20sdGhpcy50bywhMCl9LHMucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1yWyJTbGljZSJdLmVtcHR5KTtmb3IodmFyIG49ZS5jb250ZW50Lmxhc3RDaGlsZCxvPW51bGwsaT0wO2k8ZS5vcGVuRW5kO2krKylvPW4sbj1uLmxhc3RDaGlsZDtmb3IodmFyIHM9dC5zdGVwcy5sZW5ndGgsYT10aGlzLnJhbmdlcyxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBsPWFbY10sdT1sLiRmcm9tLGY9bC4kdG8sZD10Lm1hcHBpbmcuc2xpY2Uocyk7dC5yZXBsYWNlUmFuZ2UoZC5tYXAodS5wb3MpLGQubWFwKGYucG9zKSxjP3JbIlNsaWNlIl0uZW1wdHk6ZSksMD09YyYmbSh0LHMsKG4/bi5pc0lubGluZTpvJiZvLmlzVGV4dGJsb2NrKT8tMToxKX19LHMucHJvdG90eXBlLnJlcGxhY2VXaXRoPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuc3RlcHMubGVuZ3RoLHI9dGhpcy5yYW5nZXMsbz0wO288ci5sZW5ndGg7bysrKXt2YXIgaT1yW29dLHM9aS4kZnJvbSxhPWkuJHRvLGM9dC5tYXBwaW5nLnNsaWNlKG4pLGw9Yy5tYXAocy5wb3MpLHU9Yy5tYXAoYS5wb3MpO28/dC5kZWxldGVSYW5nZShsLHUpOih0LnJlcGxhY2VSYW5nZVdpdGgobCx1LGUpLG0odCxuLGUuaXNJbmxpbmU/LTE6MSkpfX0scy5maW5kRnJvbT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dC5wYXJlbnQuaW5saW5lQ29udGVudD9uZXcgbCh0KTp2KHQubm9kZSgwKSx0LnBhcmVudCx0LnBvcyx0LmluZGV4KCksZSxuKTtpZihyKXJldHVybiByO2Zvcih2YXIgbz10LmRlcHRoLTE7bz49MDtvLS0pe3ZhciBpPWU8MD92KHQubm9kZSgwKSx0Lm5vZGUobyksdC5iZWZvcmUobysxKSx0LmluZGV4KG8pLGUsbik6dih0Lm5vZGUoMCksdC5ub2RlKG8pLHQuYWZ0ZXIobysxKSx0LmluZGV4KG8pKzEsZSxuKTtpZihpKXJldHVybiBpfX0scy5uZWFyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTEpLHRoaXMuZmluZEZyb20odCxlKXx8dGhpcy5maW5kRnJvbSh0LC1lKXx8bmV3IHAodC5ub2RlKDApKX0scy5hdFN0YXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB2KHQsdCwwLDAsMSl8fG5ldyBwKHQpfSxzLmF0RW5kPWZ1bmN0aW9uKHQpe3JldHVybiB2KHQsdCx0LmNvbnRlbnQuc2l6ZSx0LmNoaWxkQ291bnQsLTEpfHxuZXcgcCh0KX0scy5mcm9tSlNPTj1mdW5jdGlvbih0LGUpe2lmKCFlfHwhZS50eXBlKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBTZWxlY3Rpb24uZnJvbUpTT04iKTt2YXIgbj1pW2UudHlwZV07aWYoIW4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vIHNlbGVjdGlvbiB0eXBlICIrZS50eXBlKyIgZGVmaW5lZCIpO3JldHVybiBuLmZyb21KU09OKHQsZSl9LHMuanNvbklEPWZ1bmN0aW9uKHQsZSl7aWYodCBpbiBpKXRocm93IG5ldyBSYW5nZUVycm9yKCJEdXBsaWNhdGUgdXNlIG9mIHNlbGVjdGlvbiBKU09OIElEICIrdCk7cmV0dXJuIGlbdF09ZSxlLnByb3RvdHlwZS5qc29uSUQ9dCxlfSxzLnByb3RvdHlwZS5nZXRCb29rbWFyaz1mdW5jdGlvbigpe3JldHVybiBsLmJldHdlZW4odGhpcy4kYW5jaG9yLHRoaXMuJGhlYWQpLmdldEJvb2ttYXJrKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHMucHJvdG90eXBlLGEpLHMucHJvdG90eXBlLnZpc2libGU9ITA7dmFyIGM9ZnVuY3Rpb24odCxlKXt0aGlzLiRmcm9tPXQsdGhpcy4kdG89ZX0sbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dm9pZCAwPT09biYmKG49ZSksdC5jYWxsKHRoaXMsZSxuKX10JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17JGN1cnNvcjp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIG4uJGN1cnNvci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kYW5jaG9yLnBvcz09dGhpcy4kaGVhZC5wb3M/dGhpcy4kaGVhZDpudWxsfSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24obixyKXt2YXIgbz1uLnJlc29sdmUoci5tYXAodGhpcy5oZWFkKSk7aWYoIW8ucGFyZW50LmlubGluZUNvbnRlbnQpcmV0dXJuIHQubmVhcihvKTt2YXIgaT1uLnJlc29sdmUoci5tYXAodGhpcy5hbmNob3IpKTtyZXR1cm4gbmV3IGUoaS5wYXJlbnQuaW5saW5lQ29udGVudD9pOm8sbyl9LGUucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24oZSxuKXtpZih2b2lkIDA9PT1uJiYobj1yWyJTbGljZSJdLmVtcHR5KSx0LnByb3RvdHlwZS5yZXBsYWNlLmNhbGwodGhpcyxlLG4pLG49PXJbIlNsaWNlIl0uZW1wdHkpe3ZhciBvPXRoaXMuJGZyb20ubWFya3NBY3Jvc3ModGhpcy4kdG8pO28mJmUuZW5zdXJlTWFya3Mobyl9fSxlLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGUmJnQuYW5jaG9yPT10aGlzLmFuY2hvciYmdC5oZWFkPT10aGlzLmhlYWR9LGUucHJvdG90eXBlLmdldEJvb2ttYXJrPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1KHRoaXMuYW5jaG9yLHRoaXMuaGVhZCl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJ0ZXh0IixhbmNob3I6dGhpcy5hbmNob3IsaGVhZDp0aGlzLmhlYWR9fSxlLmZyb21KU09OPWZ1bmN0aW9uKHQsbil7aWYoIm51bWJlciIhPXR5cGVvZiBuLmFuY2hvcnx8Im51bWJlciIhPXR5cGVvZiBuLmhlYWQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIFRleHRTZWxlY3Rpb24uZnJvbUpTT04iKTtyZXR1cm4gbmV3IGUodC5yZXNvbHZlKG4uYW5jaG9yKSx0LnJlc29sdmUobi5oZWFkKSl9LGUuY3JlYXRlPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj1lKTt2YXIgcj10LnJlc29sdmUoZSk7cmV0dXJuIG5ldyB0aGlzKHIsbj09ZT9yOnQucmVzb2x2ZShuKSl9LGUuYmV0d2Vlbj1mdW5jdGlvbihuLHIsbyl7dmFyIGk9bi5wb3Mtci5wb3M7aWYobyYmIWl8fChvPWk+PTA/MTotMSksIXIucGFyZW50LmlubGluZUNvbnRlbnQpe3ZhciBzPXQuZmluZEZyb20ocixvLCEwKXx8dC5maW5kRnJvbShyLC1vLCEwKTtpZighcylyZXR1cm4gdC5uZWFyKHIsbyk7cj1zLiRoZWFkfXJldHVybiBuLnBhcmVudC5pbmxpbmVDb250ZW50fHwoMD09aT9uPXI6KG49KHQuZmluZEZyb20obiwtbywhMCl8fHQuZmluZEZyb20obixvLCEwKSkuJGFuY2hvcixuLnBvczxyLnBvcyE9aTwwJiYobj1yKSkpLG5ldyBlKG4scil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLG4pLGV9KHMpO3MuanNvbklEKCJ0ZXh0IixsKTt2YXIgdT1mdW5jdGlvbih0LGUpe3RoaXMuYW5jaG9yPXQsdGhpcy5oZWFkPWV9O3UucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHUodC5tYXAodGhpcy5hbmNob3IpLHQubWFwKHRoaXMuaGVhZCkpfSx1LnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKHQpe3JldHVybiBsLmJldHdlZW4odC5yZXNvbHZlKHRoaXMuYW5jaG9yKSx0LnJlc29sdmUodGhpcy5oZWFkKSl9O3ZhciBmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49ZS5ub2RlQWZ0ZXIscj1lLm5vZGUoMCkucmVzb2x2ZShlLnBvcytuLm5vZGVTaXplKTt0LmNhbGwodGhpcyxlLHIpLHRoaXMubm9kZT1ufXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24obixyKXt2YXIgbz1yLm1hcFJlc3VsdCh0aGlzLmFuY2hvciksaT1vLmRlbGV0ZWQscz1vLnBvcyxhPW4ucmVzb2x2ZShzKTtyZXR1cm4gaT90Lm5lYXIoYSk6bmV3IGUoYSl9LGUucHJvdG90eXBlLmNvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHJbIlNsaWNlIl0oclsiRnJhZ21lbnQiXS5mcm9tKHRoaXMubm9kZSksMCwwKX0sZS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlJiZ0LmFuY2hvcj09dGhpcy5hbmNob3J9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJub2RlIixhbmNob3I6dGhpcy5hbmNob3J9fSxlLnByb3RvdHlwZS5nZXRCb29rbWFyaz1mdW5jdGlvbigpe3JldHVybiBuZXcgZCh0aGlzLmFuY2hvcil9LGUuZnJvbUpTT049ZnVuY3Rpb24odCxuKXtpZigibnVtYmVyIiE9dHlwZW9mIG4uYW5jaG9yKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBOb2RlU2VsZWN0aW9uLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKHQucmVzb2x2ZShuLmFuY2hvcikpfSxlLmNyZWF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgdGhpcyh0LnJlc29sdmUoZSkpfSxlLmlzU2VsZWN0YWJsZT1mdW5jdGlvbih0KXtyZXR1cm4hdC5pc1RleHQmJiExIT09dC50eXBlLnNwZWMuc2VsZWN0YWJsZX0sZX0ocyk7Zi5wcm90b3R5cGUudmlzaWJsZT0hMSxzLmpzb25JRCgibm9kZSIsZik7dmFyIGQ9ZnVuY3Rpb24odCl7dGhpcy5hbmNob3I9dH07ZC5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe3ZhciBlPXQubWFwUmVzdWx0KHRoaXMuYW5jaG9yKSxuPWUuZGVsZXRlZCxyPWUucG9zO3JldHVybiBuP25ldyB1KHIscik6bmV3IGQocil9LGQucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24odCl7dmFyIGU9dC5yZXNvbHZlKHRoaXMuYW5jaG9yKSxuPWUubm9kZUFmdGVyO3JldHVybiBuJiZmLmlzU2VsZWN0YWJsZShuKT9uZXcgZihlKTpzLm5lYXIoZSl9O3ZhciBwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZS5yZXNvbHZlKDApLGUucmVzb2x2ZShlLmNvbnRlbnQuc2l6ZSkpfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5yZXBsYWNlPWZ1bmN0aW9uKGUsbil7aWYodm9pZCAwPT09biYmKG49clsiU2xpY2UiXS5lbXB0eSksbj09clsiU2xpY2UiXS5lbXB0eSl7ZS5kZWxldGUoMCxlLmRvYy5jb250ZW50LnNpemUpO3ZhciBvPXQuYXRTdGFydChlLmRvYyk7by5lcShlLnNlbGVjdGlvbil8fGUuc2V0U2VsZWN0aW9uKG8pfWVsc2UgdC5wcm90b3R5cGUucmVwbGFjZS5jYWxsKHRoaXMsZSxuKX0sZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6ImFsbCJ9fSxlLmZyb21KU09OPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0KX0sZS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0KX0sZS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlfSxlLnByb3RvdHlwZS5nZXRCb29rbWFyaz1mdW5jdGlvbigpe3JldHVybiBofSxlfShzKTtzLmpzb25JRCgiYWxsIixwKTt2YXIgaD17bWFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHJlc29sdmU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBwKHQpfX07ZnVuY3Rpb24gdih0LGUsbixyLG8saSl7aWYoZS5pbmxpbmVDb250ZW50KXJldHVybiBsLmNyZWF0ZSh0LG4pO2Zvcih2YXIgcz1yLShvPjA/MDoxKTtvPjA/czxlLmNoaWxkQ291bnQ6cz49MDtzKz1vKXt2YXIgYT1lLmNoaWxkKHMpO2lmKGEuaXNBdG9tKXtpZighaSYmZi5pc1NlbGVjdGFibGUoYSkpcmV0dXJuIGYuY3JlYXRlKHQsbi0obzwwP2Eubm9kZVNpemU6MCkpfWVsc2V7dmFyIGM9dih0LGEsbitvLG88MD9hLmNoaWxkQ291bnQ6MCxvLGkpO2lmKGMpcmV0dXJuIGN9bis9YS5ub2RlU2l6ZSpvfX1mdW5jdGlvbiBtKHQsZSxuKXt2YXIgcj10LnN0ZXBzLmxlbmd0aC0xO2lmKCEocjxlKSl7dmFyIGk9dC5zdGVwc1tyXTtpZihpIGluc3RhbmNlb2Ygb1siYyJdfHxpIGluc3RhbmNlb2Ygb1siYiJdKXt2YXIgYSxjPXQubWFwcGluZy5tYXBzW3JdO2MuZm9yRWFjaCgoZnVuY3Rpb24odCxlLG4scil7bnVsbD09YSYmKGE9cil9KSksdC5zZXRTZWxlY3Rpb24ocy5uZWFyKHQuZG9jLnJlc29sdmUoYSksbikpfX19dmFyIGc9MSx5PTIsYj00LHc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyxlLmRvYyksdGhpcy50aW1lPURhdGUubm93KCksdGhpcy5jdXJTZWxlY3Rpb249ZS5zZWxlY3Rpb24sdGhpcy5jdXJTZWxlY3Rpb25Gb3I9MCx0aGlzLnN0b3JlZE1hcmtzPWUuc3RvcmVkTWFya3MsdGhpcy51cGRhdGVkPTAsdGhpcy5tZXRhPU9iamVjdC5jcmVhdGUobnVsbCl9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e3NlbGVjdGlvbjp7Y29uZmlndXJhYmxlOiEwfSxzZWxlY3Rpb25TZXQ6e2NvbmZpZ3VyYWJsZTohMH0sc3RvcmVkTWFya3NTZXQ6e2NvbmZpZ3VyYWJsZTohMH0saXNHZW5lcmljOntjb25maWd1cmFibGU6ITB9LHNjcm9sbGVkSW50b1ZpZXc6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBuLnNlbGVjdGlvbi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJTZWxlY3Rpb25Gb3I8dGhpcy5zdGVwcy5sZW5ndGgmJih0aGlzLmN1clNlbGVjdGlvbj10aGlzLmN1clNlbGVjdGlvbi5tYXAodGhpcy5kb2MsdGhpcy5tYXBwaW5nLnNsaWNlKHRoaXMuY3VyU2VsZWN0aW9uRm9yKSksdGhpcy5jdXJTZWxlY3Rpb25Gb3I9dGhpcy5zdGVwcy5sZW5ndGgpLHRoaXMuY3VyU2VsZWN0aW9ufSxlLnByb3RvdHlwZS5zZXRTZWxlY3Rpb249ZnVuY3Rpb24odCl7aWYodC4kZnJvbS5kb2MhPXRoaXMuZG9jKXRocm93IG5ldyBSYW5nZUVycm9yKCJTZWxlY3Rpb24gcGFzc2VkIHRvIHNldFNlbGVjdGlvbiBtdXN0IHBvaW50IGF0IHRoZSBjdXJyZW50IGRvY3VtZW50Iik7cmV0dXJuIHRoaXMuY3VyU2VsZWN0aW9uPXQsdGhpcy5jdXJTZWxlY3Rpb25Gb3I9dGhpcy5zdGVwcy5sZW5ndGgsdGhpcy51cGRhdGVkPSh0aGlzLnVwZGF0ZWR8ZykmfnksdGhpcy5zdG9yZWRNYXJrcz1udWxsLHRoaXN9LG4uc2VsZWN0aW9uU2V0LmdldD1mdW5jdGlvbigpe3JldHVybih0aGlzLnVwZGF0ZWQmZyk+MH0sZS5wcm90b3R5cGUuc2V0U3RvcmVkTWFya3M9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RvcmVkTWFya3M9dCx0aGlzLnVwZGF0ZWR8PXksdGhpc30sZS5wcm90b3R5cGUuZW5zdXJlTWFya3M9ZnVuY3Rpb24odCl7cmV0dXJuIHJbIk1hcmsiXS5zYW1lU2V0KHRoaXMuc3RvcmVkTWFya3N8fHRoaXMuc2VsZWN0aW9uLiRmcm9tLm1hcmtzKCksdCl8fHRoaXMuc2V0U3RvcmVkTWFya3ModCksdGhpc30sZS5wcm90b3R5cGUuYWRkU3RvcmVkTWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lbnN1cmVNYXJrcyh0LmFkZFRvU2V0KHRoaXMuc3RvcmVkTWFya3N8fHRoaXMuc2VsZWN0aW9uLiRoZWFkLm1hcmtzKCkpKX0sZS5wcm90b3R5cGUucmVtb3ZlU3RvcmVkTWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lbnN1cmVNYXJrcyh0LnJlbW92ZUZyb21TZXQodGhpcy5zdG9yZWRNYXJrc3x8dGhpcy5zZWxlY3Rpb24uJGhlYWQubWFya3MoKSkpfSxuLnN0b3JlZE1hcmtzU2V0LmdldD1mdW5jdGlvbigpe3JldHVybih0aGlzLnVwZGF0ZWQmeSk+MH0sZS5wcm90b3R5cGUuYWRkU3RlcD1mdW5jdGlvbihlLG4pe3QucHJvdG90eXBlLmFkZFN0ZXAuY2FsbCh0aGlzLGUsbiksdGhpcy51cGRhdGVkPXRoaXMudXBkYXRlZCZ+eSx0aGlzLnN0b3JlZE1hcmtzPW51bGx9LGUucHJvdG90eXBlLnNldFRpbWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGltZT10LHRoaXN9LGUucHJvdG90eXBlLnJlcGxhY2VTZWxlY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uLnJlcGxhY2UodGhpcyx0KSx0aGlzfSxlLnByb3RvdHlwZS5yZXBsYWNlU2VsZWN0aW9uV2l0aD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuc2VsZWN0aW9uO3JldHVybiExIT09ZSYmKHQ9dC5tYXJrKHRoaXMuc3RvcmVkTWFya3N8fChuLmVtcHR5P24uJGZyb20ubWFya3MoKTpuLiRmcm9tLm1hcmtzQWNyb3NzKG4uJHRvKXx8clsiTWFyayJdLm5vbmUpKSksbi5yZXBsYWNlV2l0aCh0aGlzLHQpLHRoaXN9LGUucHJvdG90eXBlLmRlbGV0ZVNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdGlvbi5yZXBsYWNlKHRoaXMpLHRoaXN9LGUucHJvdG90eXBlLmluc2VydFRleHQ9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPWUpO3ZhciByPXRoaXMuZG9jLnR5cGUuc2NoZW1hO2lmKG51bGw9PWUpcmV0dXJuIHQ/dGhpcy5yZXBsYWNlU2VsZWN0aW9uV2l0aChyLnRleHQodCksITApOnRoaXMuZGVsZXRlU2VsZWN0aW9uKCk7aWYoIXQpcmV0dXJuIHRoaXMuZGVsZXRlUmFuZ2UoZSxuKTt2YXIgbz10aGlzLnN0b3JlZE1hcmtzO2lmKCFvKXt2YXIgaT10aGlzLmRvYy5yZXNvbHZlKGUpO289bj09ZT9pLm1hcmtzKCk6aS5tYXJrc0Fjcm9zcyh0aGlzLmRvYy5yZXNvbHZlKG4pKX1yZXR1cm4gdGhpcy5yZXBsYWNlUmFuZ2VXaXRoKGUsbixyLnRleHQodCxvKSksdGhpcy5zZWxlY3Rpb24uZW1wdHl8fHRoaXMuc2V0U2VsZWN0aW9uKHMubmVhcih0aGlzLnNlbGVjdGlvbi4kdG8pKSx0aGlzfSxlLnByb3RvdHlwZS5zZXRNZXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubWV0YVsic3RyaW5nIj09dHlwZW9mIHQ/dDp0LmtleV09ZSx0aGlzfSxlLnByb3RvdHlwZS5nZXRNZXRhPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm1ldGFbInN0cmluZyI9PXR5cGVvZiB0P3Q6dC5rZXldfSxuLmlzR2VuZXJpYy5nZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5tZXRhKXJldHVybiExO3JldHVybiEwfSxlLnByb3RvdHlwZS5zY3JvbGxJbnRvVmlldz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVwZGF0ZWR8PWIsdGhpc30sbi5zY3JvbGxlZEludG9WaWV3LmdldD1mdW5jdGlvbigpe3JldHVybih0aGlzLnVwZGF0ZWQmYik+MH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsbiksZX0ob1siZSJdKTtmdW5jdGlvbiBTKHQsZSl7cmV0dXJuIGUmJnQ/dC5iaW5kKGUpOnR9dmFyIHg9ZnVuY3Rpb24odCxlLG4pe3RoaXMubmFtZT10LHRoaXMuaW5pdD1TKGUuaW5pdCxuKSx0aGlzLmFwcGx5PVMoZS5hcHBseSxuKX0saz1bbmV3IHgoImRvYyIse2luaXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZG9jfHx0LnNjaGVtYS50b3BOb2RlVHlwZS5jcmVhdGVBbmRGaWxsKCl9LGFwcGx5OmZ1bmN0aW9uKHQpe3JldHVybiB0LmRvY319KSxuZXcgeCgic2VsZWN0aW9uIix7aW5pdDpmdW5jdGlvbih0LGUpe3JldHVybiB0LnNlbGVjdGlvbnx8cy5hdFN0YXJ0KGUuZG9jKX0sYXBwbHk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuc2VsZWN0aW9ufX0pLG5ldyB4KCJzdG9yZWRNYXJrcyIse2luaXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RvcmVkTWFya3N8fG51bGx9LGFwcGx5OmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiByLnNlbGVjdGlvbi4kY3Vyc29yP3Quc3RvcmVkTWFya3M6bnVsbH19KSxuZXcgeCgic2Nyb2xsVG9TZWxlY3Rpb24iLHtpbml0OmZ1bmN0aW9uKCl7cmV0dXJuIDB9LGFwcGx5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc2Nyb2xsZWRJbnRvVmlldz9lKzE6ZX19KV0sTz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy5zY2hlbWE9dCx0aGlzLmZpZWxkcz1rLmNvbmNhdCgpLHRoaXMucGx1Z2lucz1bXSx0aGlzLnBsdWdpbnNCeUtleT1PYmplY3QuY3JlYXRlKG51bGwpLGUmJmUuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYobi5wbHVnaW5zQnlLZXlbdC5rZXldKXRocm93IG5ldyBSYW5nZUVycm9yKCJBZGRpbmcgZGlmZmVyZW50IGluc3RhbmNlcyBvZiBhIGtleWVkIHBsdWdpbiAoIit0LmtleSsiKSIpO24ucGx1Z2lucy5wdXNoKHQpLG4ucGx1Z2luc0J5S2V5W3Qua2V5XT10LHQuc3BlYy5zdGF0ZSYmbi5maWVsZHMucHVzaChuZXcgeCh0LmtleSx0LnNwZWMuc3RhdGUsdCkpfSkpfSxDPWZ1bmN0aW9uKHQpe3RoaXMuY29uZmlnPXR9LE09e3NjaGVtYTp7Y29uZmlndXJhYmxlOiEwfSxwbHVnaW5zOntjb25maWd1cmFibGU6ITB9LHRyOntjb25maWd1cmFibGU6ITB9fTtNLnNjaGVtYS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25maWcuc2NoZW1hfSxNLnBsdWdpbnMuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnLnBsdWdpbnN9LEMucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFwcGx5VHJhbnNhY3Rpb24odCkuc3RhdGV9LEMucHJvdG90eXBlLmZpbHRlclRyYW5zYWN0aW9uPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9LTEpO2Zvcih2YXIgbj0wO248dGhpcy5jb25maWcucGx1Z2lucy5sZW5ndGg7bisrKWlmKG4hPWUpe3ZhciByPXRoaXMuY29uZmlnLnBsdWdpbnNbbl07aWYoci5zcGVjLmZpbHRlclRyYW5zYWN0aW9uJiYhci5zcGVjLmZpbHRlclRyYW5zYWN0aW9uLmNhbGwocix0LHRoaXMpKXJldHVybiExfXJldHVybiEwfSxDLnByb3RvdHlwZS5hcHBseVRyYW5zYWN0aW9uPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmZpbHRlclRyYW5zYWN0aW9uKHQpKXJldHVybntzdGF0ZTp0aGlzLHRyYW5zYWN0aW9uczpbXX07Zm9yKHZhciBlPVt0XSxuPXRoaXMuYXBwbHlJbm5lcih0KSxyPW51bGw7Oyl7Zm9yKHZhciBvPSExLGk9MDtpPHRoaXMuY29uZmlnLnBsdWdpbnMubGVuZ3RoO2krKyl7dmFyIHM9dGhpcy5jb25maWcucGx1Z2luc1tpXTtpZihzLnNwZWMuYXBwZW5kVHJhbnNhY3Rpb24pe3ZhciBhPXI/cltpXS5uOjAsYz1yP3JbaV0uc3RhdGU6dGhpcyxsPWE8ZS5sZW5ndGgmJnMuc3BlYy5hcHBlbmRUcmFuc2FjdGlvbi5jYWxsKHMsYT9lLnNsaWNlKGEpOmUsYyxuKTtpZihsJiZuLmZpbHRlclRyYW5zYWN0aW9uKGwsaSkpe2lmKGwuc2V0TWV0YSgiYXBwZW5kZWRUcmFuc2FjdGlvbiIsdCksIXIpe3I9W107Zm9yKHZhciB1PTA7dTx0aGlzLmNvbmZpZy5wbHVnaW5zLmxlbmd0aDt1Kyspci5wdXNoKHU8aT97c3RhdGU6bixuOmUubGVuZ3RofTp7c3RhdGU6dGhpcyxuOjB9KX1lLnB1c2gobCksbj1uLmFwcGx5SW5uZXIobCksbz0hMH1yJiYocltpXT17c3RhdGU6bixuOmUubGVuZ3RofSl9fWlmKCFvKXJldHVybntzdGF0ZTpuLHRyYW5zYWN0aW9uczplfX19LEMucHJvdG90eXBlLmFwcGx5SW5uZXI9ZnVuY3Rpb24odCl7aWYoIXQuYmVmb3JlLmVxKHRoaXMuZG9jKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQXBwbHlpbmcgYSBtaXNtYXRjaGVkIHRyYW5zYWN0aW9uIik7Zm9yKHZhciBlPW5ldyBDKHRoaXMuY29uZmlnKSxuPXRoaXMuY29uZmlnLmZpZWxkcyxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl07ZVtvLm5hbWVdPW8uYXBwbHkodCx0aGlzW28ubmFtZV0sdGhpcyxlKX1mb3IodmFyIGk9MDtpPE4ubGVuZ3RoO2krKylOW2ldKHRoaXMsdCxlKTtyZXR1cm4gZX0sTS50ci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHcodGhpcyl9LEMuY3JlYXRlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgTyh0LnNjaGVtYXx8dC5kb2MudHlwZS5zY2hlbWEsdC5wbHVnaW5zKSxuPW5ldyBDKGUpLHI9MDtyPGUuZmllbGRzLmxlbmd0aDtyKyspbltlLmZpZWxkc1tyXS5uYW1lXT1lLmZpZWxkc1tyXS5pbml0KHQsbik7cmV0dXJuIG59LEMucHJvdG90eXBlLnJlY29uZmlndXJlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgTyh0LnNjaGVtYXx8dGhpcy5zY2hlbWEsdC5wbHVnaW5zKSxuPWUuZmllbGRzLHI9bmV3IEMoZSksbz0wO288bi5sZW5ndGg7bysrKXt2YXIgaT1uW29dLm5hbWU7cltpXT10aGlzLmhhc093blByb3BlcnR5KGkpP3RoaXNbaV06bltvXS5pbml0KHQscil9cmV0dXJuIHJ9LEMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbih0KXt2YXIgZT17ZG9jOnRoaXMuZG9jLnRvSlNPTigpLHNlbGVjdGlvbjp0aGlzLnNlbGVjdGlvbi50b0pTT04oKX07aWYodGhpcy5zdG9yZWRNYXJrcyYmKGUuc3RvcmVkTWFya3M9dGhpcy5zdG9yZWRNYXJrcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvSlNPTigpfSkpKSx0JiYib2JqZWN0Ij09dHlwZW9mIHQpZm9yKHZhciBuIGluIHQpe2lmKCJkb2MiPT1ufHwic2VsZWN0aW9uIj09bil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGhlIEpTT04gZmllbGRzIGBkb2NgIGFuZCBgc2VsZWN0aW9uYCBhcmUgcmVzZXJ2ZWQiKTt2YXIgcj10W25dLG89ci5zcGVjLnN0YXRlO28mJm8udG9KU09OJiYoZVtuXT1vLnRvSlNPTi5jYWxsKHIsdGhpc1tyLmtleV0pKX1yZXR1cm4gZX0sQy5mcm9tSlNPTj1mdW5jdGlvbih0LGUsbil7aWYoIWUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIEVkaXRvclN0YXRlLmZyb21KU09OIik7aWYoIXQuc2NoZW1hKXRocm93IG5ldyBSYW5nZUVycm9yKCJSZXF1aXJlZCBjb25maWcgZmllbGQgJ3NjaGVtYScgbWlzc2luZyIpO3ZhciBvPW5ldyBPKHQuc2NoZW1hLHQucGx1Z2lucyksaT1uZXcgQyhvKTtyZXR1cm4gby5maWVsZHMuZm9yRWFjaCgoZnVuY3Rpb24obyl7aWYoImRvYyI9PW8ubmFtZSlpLmRvYz1yWyJOb2RlIl0uZnJvbUpTT04odC5zY2hlbWEsZS5kb2MpO2Vsc2UgaWYoInNlbGVjdGlvbiI9PW8ubmFtZSlpLnNlbGVjdGlvbj1zLmZyb21KU09OKGkuZG9jLGUuc2VsZWN0aW9uKTtlbHNlIGlmKCJzdG9yZWRNYXJrcyI9PW8ubmFtZSllLnN0b3JlZE1hcmtzJiYoaS5zdG9yZWRNYXJrcz1lLnN0b3JlZE1hcmtzLm1hcCh0LnNjaGVtYS5tYXJrRnJvbUpTT04pKTtlbHNle2lmKG4pZm9yKHZhciBhIGluIG4pe3ZhciBjPW5bYV0sbD1jLnNwZWMuc3RhdGU7aWYoYy5rZXk9PW8ubmFtZSYmbCYmbC5mcm9tSlNPTiYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsYSkpcmV0dXJuIHZvaWQoaVtvLm5hbWVdPWwuZnJvbUpTT04uY2FsbChjLHQsZVthXSxpKSl9aVtvLm5hbWVdPW8uaW5pdCh0LGkpfX0pKSxpfSxDLmFkZEFwcGx5TGlzdGVuZXI9ZnVuY3Rpb24odCl7Ti5wdXNoKHQpfSxDLnJlbW92ZUFwcGx5TGlzdGVuZXI9ZnVuY3Rpb24odCl7dmFyIGU9Ti5pbmRleE9mKHQpO2U+LTEmJk4uc3BsaWNlKGUsMSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEMucHJvdG90eXBlLE0pO3ZhciBOPVtdO2Z1bmN0aW9uIFQodCxlLG4pe2Zvcih2YXIgciBpbiB0KXt2YXIgbz10W3JdO28gaW5zdGFuY2VvZiBGdW5jdGlvbj9vPW8uYmluZChlKToiaGFuZGxlRE9NRXZlbnRzIj09ciYmKG89VChvLGUse30pKSxuW3JdPW99cmV0dXJuIG59dmFyIEE9ZnVuY3Rpb24odCl7dGhpcy5wcm9wcz17fSx0LnByb3BzJiZUKHQucHJvcHMsdGhpcyx0aGlzLnByb3BzKSx0aGlzLnNwZWM9dCx0aGlzLmtleT10LmtleT90LmtleS5rZXk6RSgicGx1Z2luIil9O0EucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0W3RoaXMua2V5XX07dmFyIEQ9T2JqZWN0LmNyZWF0ZShudWxsKTtmdW5jdGlvbiBFKHQpe3JldHVybiB0IGluIEQ/dCsiJCIrICsrRFt0XTooRFt0XT0wLHQrIiQiKX12YXIgUj1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0ia2V5IiksdGhpcy5rZXk9RSh0KX07Ui5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbmZpZy5wbHVnaW5zQnlLZXlbdGhpcy5rZXldfSxSLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0aGlzLmtleV19fSw1NTA0OmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTIzLjc1IDEyLjk1MkExLjI1IDEuMjUgMCAwMDIyLjUgMTEuN2gtOC45MzZhLjQ5Mi40OTIgMCAwMS0uMjgyLS4wOWMtLjcyMi0uNTEzLTEuNDgyLS45ODEtMi4yMTgtMS40MzItMi44LTEuNzE1LTQuNS0yLjktNC41LTQuODYzIDAtMi4yMzUgMi4yMDctMi41NjkgMy41MjMtMi41NjlhNC41NCA0LjU0IDAgMDEzLjA4MS43NjQgMi42NjIgMi42NjIgMCAwMS40NDcgMS45OXYuM2ExLjI1IDEuMjUgMCAxMDIuNSAwdi0uMjY4YTQuODg3IDQuODg3IDAgMDAtMS4xNjUtMy43NzdDMTMuOTQ5Ljc0MSAxMi4zNTkuMjQ4IDEwLjA5MS4yNDhjLTMuNjU4IDAtNi4wMjMgMS45ODktNi4wMjMgNS4wNjkgMCAyLjc3MyAxLjg5MiA0LjUxMiA0IDUuOTI3YS4yNS4yNSAwIDAxLS4xMzkuNDU4SDEuNWExLjI1IDEuMjUgMCAwMDAgMi41aDEwLjk3N2EuMjUxLjI1MSAwIDAxLjE1OS4wNTggNC4zMzkgNC4zMzkgMCAwMTEuOTMyIDMuNDY2YzAgMy4yNjgtMy40MjYgMy41MjItNC40NzcgMy41MjItMS44MTQgMC0zLjEzOS0uNDA1LTMuODM0LTEuMTczYTMuMzk0IDMuMzk0IDAgMDEtLjY1LTIuNyAxLjI1IDEuMjUgMCAwMC0yLjQ4OC0uMjQ2QTUuNzYgNS43NiAwIDAwNC40IDIxLjc1M2MxLjIgMS4zMjQgMy4xMTQgMiA1LjY4OCAyIDQuMTc0IDAgNi45NzctMi40MiA2Ljk3Ny02LjAyMmE2LjA1OSA2LjA1OSAwIDAwLS44NDktMy4xNDcuMjUuMjUgMCAwMS4yMTYtLjM3N0gyMi41YTEuMjUgMS4yNSAwIDAwMS4yNS0xLjI1NXoifX0pXSkpfX19LCI1NWJlIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24ucihlKSxuLmQoZSwiQ2VsbFNlbGVjdGlvbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJ9KSksbi5kKGUsIlRhYmxlTWFwIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxuLmQoZSwiVGFibGVWaWV3IiwoZnVuY3Rpb24oKXtyZXR1cm4gTHR9KSksbi5kKGUsIl9fY2xpcENlbGxzIiwoZnVuY3Rpb24oKXtyZXR1cm4gR30pKSxuLmQoZSwiX19pbnNlcnRDZWxscyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFF9KSksbi5kKGUsIl9fcGFzdGVkQ2VsbHMiLChmdW5jdGlvbigpe3JldHVybiBXfSkpLG4uZChlLCJhZGRDb2xTcGFuIiwoZnVuY3Rpb24oKXtyZXR1cm4gJH0pKSxuLmQoZSwiYWRkQ29sdW1uIiwoZnVuY3Rpb24oKXtyZXR1cm4gbXR9KSksbi5kKGUsImFkZENvbHVtbkFmdGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4geXR9KSksbi5kKGUsImFkZENvbHVtbkJlZm9yZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd0fSkpLG4uZChlLCJhZGRSb3ciLChmdW5jdGlvbigpe3JldHVybiB4dH0pKSxuLmQoZSwiYWRkUm93QWZ0ZXIiLChmdW5jdGlvbigpe3JldHVybiBPdH0pKSxuLmQoZSwiYWRkUm93QmVmb3JlIiwoZnVuY3Rpb24oKXtyZXR1cm4ga3R9KSksbi5kKGUsImNlbGxBcm91bmQiLChmdW5jdGlvbigpe3JldHVybiBDfSkpLG4uZChlLCJjb2xDb3VudCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFB9KSksbi5kKGUsImNvbHVtbklzSGVhZGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gVn0pKSxuLmQoZSwiY29sdW1uUmVzaXppbmciLChmdW5jdGlvbigpe3JldHVybiBLdH0pKSxuLmQoZSwiY29sdW1uUmVzaXppbmdQbHVnaW5LZXkiLChmdW5jdGlvbigpe3JldHVybiBxdH0pKSxuLmQoZSwiZGVsZXRlQ29sdW1uIiwoZnVuY3Rpb24oKXtyZXR1cm4gd3R9KSksbi5kKGUsImRlbGV0ZVJvdyIsKGZ1bmN0aW9uKCl7cmV0dXJuIE10fSkpLG4uZChlLCJkZWxldGVUYWJsZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEZ0fSkpLG4uZChlLCJmaW5kQ2VsbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIF99KSksbi5kKGUsImZpeFRhYmxlcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB0fSkpLG4uZChlLCJmaXhUYWJsZXNLZXkiLChmdW5jdGlvbigpe3JldHVybiBmdH0pKSxuLmQoZSwiZ29Ub05leHRDZWxsIiwoZnVuY3Rpb24oKXtyZXR1cm4gQnR9KSksbi5kKGUsImhhbmRsZVBhc3RlIiwoZnVuY3Rpb24oKXtyZXR1cm4gc3R9KSksbi5kKGUsImluU2FtZVRhYmxlIiwoZnVuY3Rpb24oKXtyZXR1cm4gUn0pKSxuLmQoZSwiaXNJblRhYmxlIiwoZnVuY3Rpb24oKXtyZXR1cm4gTn0pKSxuLmQoZSwibWVyZ2VDZWxscyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF0fSkpLG4uZChlLCJtb3ZlQ2VsbEZvcndhcmQiLChmdW5jdGlvbigpe3JldHVybiBFfSkpLG4uZChlLCJuZXh0Q2VsbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHp9KSksbi5kKGUsInBvaW50c0F0Q2VsbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIER9KSksbi5kKGUsInJlbW92ZUNvbFNwYW4iLChmdW5jdGlvbigpe3JldHVybiBqfSkpLG4uZChlLCJyZW1vdmVDb2x1bW4iLChmdW5jdGlvbigpe3JldHVybiBidH0pKSxuLmQoZSwicmVtb3ZlUm93IiwoZnVuY3Rpb24oKXtyZXR1cm4gQ3R9KSksbi5kKGUsInJvd0lzSGVhZGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gU3R9KSksbi5kKGUsInNlbGVjdGVkUmVjdCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ0fSkpLG4uZChlLCJzZWxlY3Rpb25DZWxsIiwoZnVuY3Rpb24oKXtyZXR1cm4gVH0pKSxuLmQoZSwic2V0QXR0ciIsKGZ1bmN0aW9uKCl7cmV0dXJuIEl9KSksbi5kKGUsInNldENlbGxBdHRyIiwoZnVuY3Rpb24oKXtyZXR1cm4gUnR9KSksbi5kKGUsInNwbGl0Q2VsbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIER0fSkpLG4uZChlLCJzcGxpdENlbGxXaXRoVHlwZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEV0fSkpLG4uZChlLCJ0YWJsZUVkaXRpbmciLChmdW5jdGlvbigpe3JldHVybiBpZX0pKSxuLmQoZSwidGFibGVFZGl0aW5nS2V5IiwoZnVuY3Rpb24oKXtyZXR1cm4gT30pKSxuLmQoZSwidGFibGVOb2RlVHlwZXMiLChmdW5jdGlvbigpe3JldHVybiBrfSkpLG4uZChlLCJ0YWJsZU5vZGVzIiwoZnVuY3Rpb24oKXtyZXR1cm4geH0pKSxuLmQoZSwidG9nZ2xlSGVhZGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4genR9KSksbi5kKGUsInRvZ2dsZUhlYWRlckNlbGwiLChmdW5jdGlvbigpe3JldHVybiAkdH0pKSxuLmQoZSwidG9nZ2xlSGVhZGVyQ29sdW1uIiwoZnVuY3Rpb24oKXtyZXR1cm4ganR9KSksbi5kKGUsInRvZ2dsZUhlYWRlclJvdyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEl0fSkpLG4uZChlLCJ1cGRhdGVDb2x1bW5zT25SZXNpemUiLChmdW5jdGlvbigpe3JldHVybiBIdH0pKTt2YXIgcixvLGk9bigiNTMxMyIpLHM9bigiMzA0YSIpLGE9bigiN2YwNiIpLGM9bigiNTc2YSIpLGw9bigiMGFjMCIpO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgV2Vha01hcCl7dmFyIHU9bmV3IFdlYWtNYXA7cj1mdW5jdGlvbih0KXtyZXR1cm4gdS5nZXQodCl9LG89ZnVuY3Rpb24odCxlKXtyZXR1cm4gdS5zZXQodCxlKSxlfX1lbHNle3ZhciBmPVtdLGQ9MTAscD0wO3I9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTxmLmxlbmd0aDtlKz0yKWlmKGZbZV09PXQpcmV0dXJuIGZbZSsxXX0sbz1mdW5jdGlvbih0LGUpe3JldHVybiBwPT1kJiYocD0wKSxmW3ArK109dCxmW3ArK109ZX19dmFyIGg9ZnVuY3Rpb24odCxlLG4scil7dGhpcy5sZWZ0PXQsdGhpcy50b3A9ZSx0aGlzLnJpZ2h0PW4sdGhpcy5ib3R0b209cn0sdj1mdW5jdGlvbih0LGUsbixyKXt0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLm1hcD1uLHRoaXMucHJvYmxlbXM9cn07ZnVuY3Rpb24gbSh0KXtpZigidGFibGUiIT10LnR5cGUuc3BlYy50YWJsZVJvbGUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vdCBhIHRhYmxlIG5vZGU6ICIrdC50eXBlLm5hbWUpO2Zvcih2YXIgZT1nKHQpLG49dC5jaGlsZENvdW50LHI9W10sbz0wLGk9bnVsbCxzPVtdLGE9MCxjPWUqbjthPGM7YSsrKXJbYV09MDtmb3IodmFyIGw9MCx1PTA7bDxuO2wrKyl7dmFyIGY9dC5jaGlsZChsKTt1Kys7Zm9yKHZhciBkPTA7O2QrKyl7d2hpbGUobzxyLmxlbmd0aCYmMCE9cltvXSlvKys7aWYoZD09Zi5jaGlsZENvdW50KWJyZWFrO2Zvcih2YXIgcD1mLmNoaWxkKGQpLGg9cC5hdHRycyxtPWguY29sc3BhbixiPWgucm93c3Bhbix3PWguY29sd2lkdGgsUz0wO1M8YjtTKyspe2lmKFMrbD49bil7KGl8fChpPVtdKSkucHVzaCh7dHlwZToib3Zlcmxvbmdfcm93c3BhbiIscG9zOnUsbjpiLVN9KTticmVha31mb3IodmFyIHg9bytTKmUsaz0wO2s8bTtrKyspezA9PXJbeCtrXT9yW3gra109dTooaXx8KGk9W10pKS5wdXNoKHt0eXBlOiJjb2xsaXNpb24iLHJvdzpsLHBvczp1LG46bS1rfSk7dmFyIE89dyYmd1trXTtpZihPKXt2YXIgQz0oeCtrKSVlKjIsTT1zW0NdO251bGw9PU18fE0hPU8mJjE9PXNbQysxXT8oc1tDXT1PLHNbQysxXT0xKTpNPT1PJiZzW0MrMV0rK319fW8rPW0sdSs9cC5ub2RlU2l6ZX12YXIgTj0obCsxKSplLFQ9MDt3aGlsZShvPE4pMD09cltvKytdJiZUKys7VCYmKGl8fChpPVtdKSkucHVzaCh7dHlwZToibWlzc2luZyIscm93OmwsbjpUfSksdSsrfWZvcih2YXIgQT1uZXcgdihlLG4scixpKSxEPSExLEU9MDshRCYmRTxzLmxlbmd0aDtFKz0yKW51bGwhPXNbRV0mJnNbRSsxXTxuJiYoRD0hMCk7cmV0dXJuIEQmJnkoQSxzLHQpLEF9ZnVuY3Rpb24gZyh0KXtmb3IodmFyIGU9LTEsbj0hMSxyPTA7cjx0LmNoaWxkQ291bnQ7cisrKXt2YXIgbz10LmNoaWxkKHIpLGk9MDtpZihuKWZvcih2YXIgcz0wO3M8cjtzKyspZm9yKHZhciBhPXQuY2hpbGQocyksYz0wO2M8YS5jaGlsZENvdW50O2MrKyl7dmFyIGw9YS5jaGlsZChjKTtzK2wuYXR0cnMucm93c3Bhbj5yJiYoaSs9bC5hdHRycy5jb2xzcGFuKX1mb3IodmFyIHU9MDt1PG8uY2hpbGRDb3VudDt1Kyspe3ZhciBmPW8uY2hpbGQodSk7aSs9Zi5hdHRycy5jb2xzcGFuLGYuYXR0cnMucm93c3Bhbj4xJiYobj0hMCl9LTE9PWU/ZT1pOmUhPWkmJihlPU1hdGgubWF4KGUsaSkpfXJldHVybiBlfWZ1bmN0aW9uIHkodCxlLG4pe3QucHJvYmxlbXN8fCh0LnByb2JsZW1zPVtdKTtmb3IodmFyIHI9MCxvPXt9O3I8dC5tYXAubGVuZ3RoO3IrKyl7dmFyIGk9dC5tYXBbcl07aWYoIW9baV0pe29baV09ITA7Zm9yKHZhciBzPW4ubm9kZUF0KGkpLGE9bnVsbCxjPTA7YzxzLmF0dHJzLmNvbHNwYW47YysrKXt2YXIgbD0ocitjKSV0LndpZHRoLHU9ZVsyKmxdO251bGw9PXV8fHMuYXR0cnMuY29sd2lkdGgmJnMuYXR0cnMuY29sd2lkdGhbY109PXV8fCgoYXx8KGE9YihzLmF0dHJzKSkpW2NdPXUpfWEmJnQucHJvYmxlbXMudW5zaGlmdCh7dHlwZToiY29sd2lkdGggbWlzbWF0Y2giLHBvczppLGNvbHdpZHRoOmF9KX19fWZ1bmN0aW9uIGIodCl7aWYodC5jb2x3aWR0aClyZXR1cm4gdC5jb2x3aWR0aC5zbGljZSgpO2Zvcih2YXIgZT1bXSxuPTA7bjx0LmNvbHNwYW47bisrKWUucHVzaCgwKTtyZXR1cm4gZX1mdW5jdGlvbiB3KHQsZSl7dmFyIG49dC5nZXRBdHRyaWJ1dGUoImRhdGEtY29sd2lkdGgiKSxyPW4mJi9eXGQrKCxcZCspKiQvLnRlc3Qobik/bi5zcGxpdCgiLCIpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIE51bWJlcih0KX0pKTpudWxsLG89TnVtYmVyKHQuZ2V0QXR0cmlidXRlKCJjb2xzcGFuIil8fDEpLGk9e2NvbHNwYW46byxyb3dzcGFuOk51bWJlcih0LmdldEF0dHJpYnV0ZSgicm93c3BhbiIpfHwxKSxjb2x3aWR0aDpyJiZyLmxlbmd0aD09bz9yOm51bGx9O2Zvcih2YXIgcyBpbiBlKXt2YXIgYT1lW3NdLmdldEZyb21ET00sYz1hJiZhKHQpO251bGwhPWMmJihpW3NdPWMpfXJldHVybiBpfWZ1bmN0aW9uIFModCxlKXt2YXIgbj17fTtmb3IodmFyIHIgaW4gMSE9dC5hdHRycy5jb2xzcGFuJiYobi5jb2xzcGFuPXQuYXR0cnMuY29sc3BhbiksMSE9dC5hdHRycy5yb3dzcGFuJiYobi5yb3dzcGFuPXQuYXR0cnMucm93c3BhbiksdC5hdHRycy5jb2x3aWR0aCYmKG5bImRhdGEtY29sd2lkdGgiXT10LmF0dHJzLmNvbHdpZHRoLmpvaW4oIiwiKSksZSl7dmFyIG89ZVtyXS5zZXRET01BdHRyO28mJm8odC5hdHRyc1tyXSxuKX1yZXR1cm4gbn1mdW5jdGlvbiB4KHQpe3ZhciBlPXQuY2VsbEF0dHJpYnV0ZXN8fHt9LG49e2NvbHNwYW46e2RlZmF1bHQ6MX0scm93c3Bhbjp7ZGVmYXVsdDoxfSxjb2x3aWR0aDp7ZGVmYXVsdDpudWxsfX07Zm9yKHZhciByIGluIGUpbltyXT17ZGVmYXVsdDplW3JdLmRlZmF1bHR9O3JldHVybnt0YWJsZTp7Y29udGVudDoidGFibGVfcm93KyIsdGFibGVSb2xlOiJ0YWJsZSIsaXNvbGF0aW5nOiEwLGdyb3VwOnQudGFibGVHcm91cCxwYXJzZURPTTpbe3RhZzoidGFibGUifV0sdG9ET006ZnVuY3Rpb24oKXtyZXR1cm5bInRhYmxlIixbInRib2R5IiwwXV19fSx0YWJsZV9yb3c6e2NvbnRlbnQ6Iih0YWJsZV9jZWxsIHwgdGFibGVfaGVhZGVyKSoiLHRhYmxlUm9sZToicm93IixwYXJzZURPTTpbe3RhZzoidHIifV0sdG9ET006ZnVuY3Rpb24oKXtyZXR1cm5bInRyIiwwXX19LHRhYmxlX2NlbGw6e2NvbnRlbnQ6dC5jZWxsQ29udGVudCxhdHRyczpuLHRhYmxlUm9sZToiY2VsbCIsaXNvbGF0aW5nOiEwLHBhcnNlRE9NOlt7dGFnOiJ0ZCIsZ2V0QXR0cnM6ZnVuY3Rpb24odCl7cmV0dXJuIHcodCxlKX19XSx0b0RPTTpmdW5jdGlvbih0KXtyZXR1cm5bInRkIixTKHQsZSksMF19fSx0YWJsZV9oZWFkZXI6e2NvbnRlbnQ6dC5jZWxsQ29udGVudCxhdHRyczpuLHRhYmxlUm9sZToiaGVhZGVyX2NlbGwiLGlzb2xhdGluZzohMCxwYXJzZURPTTpbe3RhZzoidGgiLGdldEF0dHJzOmZ1bmN0aW9uKHQpe3JldHVybiB3KHQsZSl9fV0sdG9ET006ZnVuY3Rpb24odCl7cmV0dXJuWyJ0aCIsUyh0LGUpLDBdfX19fWZ1bmN0aW9uIGsodCl7dmFyIGU9dC5jYWNoZWQudGFibGVOb2RlVHlwZXM7aWYoIWUpZm9yKHZhciBuIGluIGU9dC5jYWNoZWQudGFibGVOb2RlVHlwZXM9e30sdC5ub2Rlcyl7dmFyIHI9dC5ub2Rlc1tuXSxvPXIuc3BlYy50YWJsZVJvbGU7byYmKGVbb109cil9cmV0dXJuIGV9di5wcm90b3R5cGUuZmluZENlbGw9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLm1hcC5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLm1hcFtlXTtpZihuPT10KXtmb3IodmFyIHI9ZSV0aGlzLndpZHRoLG89ZS90aGlzLndpZHRofDAsaT1yKzEscz1vKzEsYT0xO2k8dGhpcy53aWR0aCYmdGhpcy5tYXBbZSthXT09bjthKyspaSsrO2Zvcih2YXIgYz0xO3M8dGhpcy5oZWlnaHQmJnRoaXMubWFwW2UrdGhpcy53aWR0aCpjXT09bjtjKyspcysrO3JldHVybiBuZXcgaChyLG8saSxzKX19dGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vIGNlbGwgd2l0aCBvZmZzZXQgIit0KyIgZm91bmQiKX0sdi5wcm90b3R5cGUuY29sQ291bnQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLm1hcC5sZW5ndGg7ZSsrKWlmKHRoaXMubWFwW2VdPT10KXJldHVybiBlJXRoaXMud2lkdGg7dGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vIGNlbGwgd2l0aCBvZmZzZXQgIit0KyIgZm91bmQiKX0sdi5wcm90b3R5cGUubmV4dENlbGw9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuZmluZENlbGwodCksbz1yLmxlZnQsaT1yLnJpZ2h0LHM9ci50b3AsYT1yLmJvdHRvbTtyZXR1cm4iaG9yaXoiPT1lPyhuPDA/MD09bzppPT10aGlzLndpZHRoKT9udWxsOnRoaXMubWFwW3MqdGhpcy53aWR0aCsobjwwP28tMTppKV06KG48MD8wPT1zOmE9PXRoaXMuaGVpZ2h0KT9udWxsOnRoaXMubWFwW28rdGhpcy53aWR0aCoobjwwP3MtMTphKV19LHYucHJvdG90eXBlLnJlY3RCZXR3ZWVuPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5maW5kQ2VsbCh0KSxyPW4ubGVmdCxvPW4ucmlnaHQsaT1uLnRvcCxzPW4uYm90dG9tLGE9dGhpcy5maW5kQ2VsbChlKSxjPWEubGVmdCxsPWEucmlnaHQsdT1hLnRvcCxmPWEuYm90dG9tO3JldHVybiBuZXcgaChNYXRoLm1pbihyLGMpLE1hdGgubWluKGksdSksTWF0aC5tYXgobyxsKSxNYXRoLm1heChzLGYpKX0sdi5wcm90b3R5cGUuY2VsbHNJblJlY3Q9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49e30scj10LnRvcDtyPHQuYm90dG9tO3IrKylmb3IodmFyIG89dC5sZWZ0O288dC5yaWdodDtvKyspe3ZhciBpPXIqdGhpcy53aWR0aCtvLHM9dGhpcy5tYXBbaV07bltzXXx8KG5bc109ITAsbz09dC5sZWZ0JiZvJiZ0aGlzLm1hcFtpLTFdPT1zfHxyPT10LnRvcCYmciYmdGhpcy5tYXBbaS10aGlzLndpZHRoXT09c3x8ZS5wdXNoKHMpKX1yZXR1cm4gZX0sdi5wcm90b3R5cGUucG9zaXRpb25BdD1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPTAsbz0wOztyKyspe3ZhciBpPW8rbi5jaGlsZChyKS5ub2RlU2l6ZTtpZihyPT10KXt2YXIgcz1lK3QqdGhpcy53aWR0aCxhPSh0KzEpKnRoaXMud2lkdGg7d2hpbGUoczxhJiZ0aGlzLm1hcFtzXTxvKXMrKztyZXR1cm4gcz09YT9pLTE6dGhpcy5tYXBbc119bz1pfX0sdi5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHIodCl8fG8odCxtKHQpKX07dmFyIE89bmV3IGlbIlBsdWdpbktleSJdKCJzZWxlY3RpbmdDZWxscyIpO2Z1bmN0aW9uIEModCl7Zm9yKHZhciBlPXQuZGVwdGgtMTtlPjA7ZS0tKWlmKCJyb3ciPT10Lm5vZGUoZSkudHlwZS5zcGVjLnRhYmxlUm9sZSlyZXR1cm4gdC5ub2RlKDApLnJlc29sdmUodC5iZWZvcmUoZSsxKSk7cmV0dXJuIG51bGx9ZnVuY3Rpb24gTSh0KXtmb3IodmFyIGU9dC5kZXB0aDtlPjA7ZS0tKXt2YXIgbj10Lm5vZGUoZSkudHlwZS5zcGVjLnRhYmxlUm9sZTtpZigiY2VsbCI9PT1ufHwiaGVhZGVyX2NlbGwiPT09bilyZXR1cm4gdC5ub2RlKGUpfXJldHVybiBudWxsfWZ1bmN0aW9uIE4odCl7Zm9yKHZhciBlPXQuc2VsZWN0aW9uLiRoZWFkLG49ZS5kZXB0aDtuPjA7bi0tKWlmKCJyb3ciPT1lLm5vZGUobikudHlwZS5zcGVjLnRhYmxlUm9sZSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBUKHQpe3ZhciBlPXQuc2VsZWN0aW9uO3JldHVybiBlLiRhbmNob3JDZWxsP2UuJGFuY2hvckNlbGwucG9zPmUuJGhlYWRDZWxsLnBvcz9lLiRhbmNob3JDZWxsOmUuJGhlYWRDZWxsOmUubm9kZSYmImNlbGwiPT1lLm5vZGUudHlwZS5zcGVjLnRhYmxlUm9sZT9lLiRhbmNob3I6QyhlLiRoZWFkKXx8QShlLiRoZWFkKX1mdW5jdGlvbiBBKHQpe2Zvcih2YXIgZT10Lm5vZGVBZnRlcixuPXQucG9zO2U7ZT1lLmZpcnN0Q2hpbGQsbisrKXt2YXIgcj1lLnR5cGUuc3BlYy50YWJsZVJvbGU7aWYoImNlbGwiPT1yfHwiaGVhZGVyX2NlbGwiPT1yKXJldHVybiB0LmRvYy5yZXNvbHZlKG4pfWZvcih2YXIgbz10Lm5vZGVCZWZvcmUsaT10LnBvcztvO289by5sYXN0Q2hpbGQsaS0tKXt2YXIgcz1vLnR5cGUuc3BlYy50YWJsZVJvbGU7aWYoImNlbGwiPT1zfHwiaGVhZGVyX2NlbGwiPT1zKXJldHVybiB0LmRvYy5yZXNvbHZlKGktby5ub2RlU2l6ZSl9fWZ1bmN0aW9uIEQodCl7cmV0dXJuInJvdyI9PXQucGFyZW50LnR5cGUuc3BlYy50YWJsZVJvbGUmJnQubm9kZUFmdGVyfWZ1bmN0aW9uIEUodCl7cmV0dXJuIHQubm9kZSgwKS5yZXNvbHZlKHQucG9zK3Qubm9kZUFmdGVyLm5vZGVTaXplKX1mdW5jdGlvbiBSKHQsZSl7cmV0dXJuIHQuZGVwdGg9PWUuZGVwdGgmJnQucG9zPj1lLnN0YXJ0KC0xKSYmdC5wb3M8PWUuZW5kKC0xKX1mdW5jdGlvbiBfKHQpe3JldHVybiB2LmdldCh0Lm5vZGUoLTEpKS5maW5kQ2VsbCh0LnBvcy10LnN0YXJ0KC0xKSl9ZnVuY3Rpb24gUCh0KXtyZXR1cm4gdi5nZXQodC5ub2RlKC0xKSkuY29sQ291bnQodC5wb3MtdC5zdGFydCgtMSkpfWZ1bmN0aW9uIHoodCxlLG4pe3ZhciByPXQuc3RhcnQoLTEpLG89di5nZXQodC5ub2RlKC0xKSksaT1vLm5leHRDZWxsKHQucG9zLXIsZSxuKTtyZXR1cm4gbnVsbD09aT9udWxsOnQubm9kZSgwKS5yZXNvbHZlKHIraSl9ZnVuY3Rpb24gSSh0LGUsbil7dmFyIHI9e307Zm9yKHZhciBvIGluIHQpcltvXT10W29dO3JldHVybiByW2VdPW4scn1mdW5jdGlvbiBqKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0xKTt2YXIgcj1JKHQsImNvbHNwYW4iLHQuY29sc3Bhbi1uKTtyZXR1cm4gci5jb2x3aWR0aCYmKHIuY29sd2lkdGg9ci5jb2x3aWR0aC5zbGljZSgpLHIuY29sd2lkdGguc3BsaWNlKGUsbiksci5jb2x3aWR0aC5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gdD4wfSkpfHwoci5jb2x3aWR0aD1udWxsKSkscn1mdW5jdGlvbiAkKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0xKTt2YXIgcj1JKHQsImNvbHNwYW4iLHQuY29sc3BhbituKTtpZihyLmNvbHdpZHRoKXtyLmNvbHdpZHRoPXIuY29sd2lkdGguc2xpY2UoKTtmb3IodmFyIG89MDtvPG47bysrKXIuY29sd2lkdGguc3BsaWNlKGUsMCwwKX1yZXR1cm4gcn1mdW5jdGlvbiBWKHQsZSxuKXtmb3IodmFyIHI9ayhlLnR5cGUuc2NoZW1hKS5oZWFkZXJfY2VsbCxvPTA7bzx0LmhlaWdodDtvKyspaWYoZS5ub2RlQXQodC5tYXBbbitvKnQud2lkdGhdKS50eXBlIT1yKXJldHVybiExO3JldHVybiEwfXZhciBCPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2b2lkIDA9PT1uJiYobj1lKTt2YXIgcj1lLm5vZGUoLTEpLG89di5nZXQocikscz1lLnN0YXJ0KC0xKSxhPW8ucmVjdEJldHdlZW4oZS5wb3MtcyxuLnBvcy1zKSxjPWUubm9kZSgwKSxsPW8uY2VsbHNJblJlY3QoYSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdCE9bi5wb3Mtc30pKTtsLnVuc2hpZnQobi5wb3Mtcyk7dmFyIHU9bC5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBlPXIubm9kZUF0KHQpLG49dCtzKzE7cmV0dXJuIG5ldyBpWyJTZWxlY3Rpb25SYW5nZSJdKGMucmVzb2x2ZShuKSxjLnJlc29sdmUobitlLmNvbnRlbnQuc2l6ZSkpfSkpO3QuY2FsbCh0aGlzLHVbMF0uJGZyb20sdVswXS4kdG8sdSksdGhpcy4kYW5jaG9yQ2VsbD1lLHRoaXMuJGhlYWRDZWxsPW59cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LG4pe3ZhciByPXQucmVzb2x2ZShuLm1hcCh0aGlzLiRhbmNob3JDZWxsLnBvcykpLG89dC5yZXNvbHZlKG4ubWFwKHRoaXMuJGhlYWRDZWxsLnBvcykpO2lmKEQocikmJkQobykmJlIocixvKSl7dmFyIHM9dGhpcy4kYW5jaG9yQ2VsbC5ub2RlKC0xKSE9ci5ub2RlKC0xKTtyZXR1cm4gcyYmdGhpcy5pc1Jvd1NlbGVjdGlvbigpP2Uucm93U2VsZWN0aW9uKHIsbyk6cyYmdGhpcy5pc0NvbFNlbGVjdGlvbigpP2UuY29sU2VsZWN0aW9uKHIsbyk6bmV3IGUocixvKX1yZXR1cm4gaVsiVGV4dFNlbGVjdGlvbiJdLmJldHdlZW4ocixvKX0sZS5wcm90b3R5cGUuY29udGVudD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLiRhbmNob3JDZWxsLm5vZGUoLTEpLGU9di5nZXQodCksbj10aGlzLiRhbmNob3JDZWxsLnN0YXJ0KC0xKSxyPWUucmVjdEJldHdlZW4odGhpcy4kYW5jaG9yQ2VsbC5wb3Mtbix0aGlzLiRoZWFkQ2VsbC5wb3Mtbiksbz17fSxpPVtdLGE9ci50b3A7YTxyLmJvdHRvbTthKyspe2Zvcih2YXIgYz1bXSxsPWEqZS53aWR0aCtyLmxlZnQsdT1yLmxlZnQ7dTxyLnJpZ2h0O3UrKyxsKyspe3ZhciBmPWUubWFwW2xdO2lmKCFvW2ZdKXtvW2ZdPSEwO3ZhciBkPWUuZmluZENlbGwoZikscD10Lm5vZGVBdChmKSxoPXIubGVmdC1kLmxlZnQsbT1kLnJpZ2h0LXIucmlnaHQ7aWYoaD4wfHxtPjApe3ZhciBnPXAuYXR0cnM7aD4wJiYoZz1qKGcsMCxoKSksbT4wJiYoZz1qKGcsZy5jb2xzcGFuLW0sbSkpLHA9ZC5sZWZ0PHIubGVmdD9wLnR5cGUuY3JlYXRlQW5kRmlsbChnKTpwLnR5cGUuY3JlYXRlKGcscC5jb250ZW50KX1pZihkLnRvcDxyLnRvcHx8ZC5ib3R0b20+ci5ib3R0b20pe3ZhciB5PUkocC5hdHRycywicm93c3BhbiIsTWF0aC5taW4oZC5ib3R0b20sci5ib3R0b20pLU1hdGgubWF4KGQudG9wLHIudG9wKSk7cD1kLnRvcDxyLnRvcD9wLnR5cGUuY3JlYXRlQW5kRmlsbCh5KTpwLnR5cGUuY3JlYXRlKHkscC5jb250ZW50KX1jLnB1c2gocCl9fWkucHVzaCh0LmNoaWxkKGEpLmNvcHkoc1siRnJhZ21lbnQiXS5mcm9tKGMpKSl9dmFyIGI9dGhpcy5pc0NvbFNlbGVjdGlvbigpJiZ0aGlzLmlzUm93U2VsZWN0aW9uKCk/dDppO3JldHVybiBuZXcgc1siU2xpY2UiXShzWyJGcmFnbWVudCJdLmZyb20oYiksMSwxKX0sZS5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbihlLG4pe3ZvaWQgMD09PW4mJihuPXNbIlNsaWNlIl0uZW1wdHkpO2Zvcih2YXIgcj1lLnN0ZXBzLmxlbmd0aCxvPXRoaXMucmFuZ2VzLGk9MDtpPG8ubGVuZ3RoO2krKyl7dmFyIGE9b1tpXSxjPWEuJGZyb20sbD1hLiR0byx1PWUubWFwcGluZy5zbGljZShyKTtlLnJlcGxhY2UodS5tYXAoYy5wb3MpLHUubWFwKGwucG9zKSxpP3NbIlNsaWNlIl0uZW1wdHk6bil9dmFyIGY9dC5maW5kRnJvbShlLmRvYy5yZXNvbHZlKGUubWFwcGluZy5zbGljZShyKS5tYXAodGhpcy50bykpLC0xKTtmJiZlLnNldFNlbGVjdGlvbihmKX0sZS5wcm90b3R5cGUucmVwbGFjZVdpdGg9ZnVuY3Rpb24odCxlKXt0aGlzLnJlcGxhY2UodCxuZXcgc1siU2xpY2UiXShzWyJGcmFnbWVudCJdLmZyb20oZSksMCwwKSl9LGUucHJvdG90eXBlLmZvckVhY2hDZWxsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLiRhbmNob3JDZWxsLm5vZGUoLTEpLG49di5nZXQoZSkscj10aGlzLiRhbmNob3JDZWxsLnN0YXJ0KC0xKSxvPW4uY2VsbHNJblJlY3Qobi5yZWN0QmV0d2Vlbih0aGlzLiRhbmNob3JDZWxsLnBvcy1yLHRoaXMuJGhlYWRDZWxsLnBvcy1yKSksaT0wO2k8by5sZW5ndGg7aSsrKXQoZS5ub2RlQXQob1tpXSkscitvW2ldKX0sZS5wcm90b3R5cGUuaXNDb2xTZWxlY3Rpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLiRhbmNob3JDZWxsLmluZGV4KC0xKSxlPXRoaXMuJGhlYWRDZWxsLmluZGV4KC0xKTtpZihNYXRoLm1pbih0LGUpPjApcmV0dXJuITE7dmFyIG49dCt0aGlzLiRhbmNob3JDZWxsLm5vZGVBZnRlci5hdHRycy5yb3dzcGFuLHI9ZSt0aGlzLiRoZWFkQ2VsbC5ub2RlQWZ0ZXIuYXR0cnMucm93c3BhbjtyZXR1cm4gTWF0aC5tYXgobixyKT09dGhpcy4kaGVhZENlbGwubm9kZSgtMSkuY2hpbGRDb3VudH0sZS5jb2xTZWxlY3Rpb249ZnVuY3Rpb24odCxuKXt2b2lkIDA9PT1uJiYobj10KTt2YXIgcj12LmdldCh0Lm5vZGUoLTEpKSxvPXQuc3RhcnQoLTEpLGk9ci5maW5kQ2VsbCh0LnBvcy1vKSxzPXIuZmluZENlbGwobi5wb3MtbyksYT10Lm5vZGUoMCk7cmV0dXJuIGkudG9wPD1zLnRvcD8oaS50b3A+MCYmKHQ9YS5yZXNvbHZlKG8rci5tYXBbaS5sZWZ0XSkpLHMuYm90dG9tPHIuaGVpZ2h0JiYobj1hLnJlc29sdmUobytyLm1hcFtyLndpZHRoKihyLmhlaWdodC0xKStzLnJpZ2h0LTFdKSkpOihzLnRvcD4wJiYobj1hLnJlc29sdmUobytyLm1hcFtzLmxlZnRdKSksaS5ib3R0b208ci5oZWlnaHQmJih0PWEucmVzb2x2ZShvK3IubWFwW3Iud2lkdGgqKHIuaGVpZ2h0LTEpK2kucmlnaHQtMV0pKSksbmV3IGUodCxuKX0sZS5wcm90b3R5cGUuaXNSb3dTZWxlY3Rpb249ZnVuY3Rpb24oKXt2YXIgdD12LmdldCh0aGlzLiRhbmNob3JDZWxsLm5vZGUoLTEpKSxlPXRoaXMuJGFuY2hvckNlbGwuc3RhcnQoLTEpLG49dC5jb2xDb3VudCh0aGlzLiRhbmNob3JDZWxsLnBvcy1lKSxyPXQuY29sQ291bnQodGhpcy4kaGVhZENlbGwucG9zLWUpO2lmKE1hdGgubWluKG4scik+MClyZXR1cm4hMTt2YXIgbz1uK3RoaXMuJGFuY2hvckNlbGwubm9kZUFmdGVyLmF0dHJzLmNvbHNwYW4saT1yK3RoaXMuJGhlYWRDZWxsLm5vZGVBZnRlci5hdHRycy5jb2xzcGFuO3JldHVybiBNYXRoLm1heChvLGkpPT10LndpZHRofSxlLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGUmJnQuJGFuY2hvckNlbGwucG9zPT10aGlzLiRhbmNob3JDZWxsLnBvcyYmdC4kaGVhZENlbGwucG9zPT10aGlzLiRoZWFkQ2VsbC5wb3N9LGUucm93U2VsZWN0aW9uPWZ1bmN0aW9uKHQsbil7dm9pZCAwPT09biYmKG49dCk7dmFyIHI9di5nZXQodC5ub2RlKC0xKSksbz10LnN0YXJ0KC0xKSxpPXIuZmluZENlbGwodC5wb3Mtbykscz1yLmZpbmRDZWxsKG4ucG9zLW8pLGE9dC5ub2RlKDApO3JldHVybiBpLmxlZnQ8PXMubGVmdD8oaS5sZWZ0PjAmJih0PWEucmVzb2x2ZShvK3IubWFwW2kudG9wKnIud2lkdGhdKSkscy5yaWdodDxyLndpZHRoJiYobj1hLnJlc29sdmUobytyLm1hcFtyLndpZHRoKihzLnRvcCsxKS0xXSkpKToocy5sZWZ0PjAmJihuPWEucmVzb2x2ZShvK3IubWFwW3MudG9wKnIud2lkdGhdKSksaS5yaWdodDxyLndpZHRoJiYodD1hLnJlc29sdmUobytyLm1hcFtyLndpZHRoKihpLnRvcCsxKS0xXSkpKSxuZXcgZSh0LG4pfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZToiY2VsbCIsYW5jaG9yOnRoaXMuJGFuY2hvckNlbGwucG9zLGhlYWQ6dGhpcy4kaGVhZENlbGwucG9zfX0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe3JldHVybiBuZXcgZSh0LnJlc29sdmUobi5hbmNob3IpLHQucmVzb2x2ZShuLmhlYWQpKX0sZS5jcmVhdGU9ZnVuY3Rpb24odCxuLHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj1uKSxuZXcgZSh0LnJlc29sdmUobiksdC5yZXNvbHZlKHIpKX0sZS5wcm90b3R5cGUuZ2V0Qm9va21hcms9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEYodGhpcy4kYW5jaG9yQ2VsbC5wb3MsdGhpcy4kaGVhZENlbGwucG9zKX0sZX0oaVsiU2VsZWN0aW9uIl0pO0IucHJvdG90eXBlLnZpc2libGU9ITEsaVsiU2VsZWN0aW9uIl0uanNvbklEKCJjZWxsIixCKTt2YXIgRj1mdW5jdGlvbih0LGUpe3RoaXMuYW5jaG9yPXQsdGhpcy5oZWFkPWV9O2Z1bmN0aW9uIEwodCl7aWYoISh0LnNlbGVjdGlvbiBpbnN0YW5jZW9mIEIpKXJldHVybiBudWxsO3ZhciBlPVtdO3JldHVybiB0LnNlbGVjdGlvbi5mb3JFYWNoQ2VsbCgoZnVuY3Rpb24odCxuKXtlLnB1c2goY1siYSJdLm5vZGUobixuK3Qubm9kZVNpemUse2NsYXNzOiJzZWxlY3RlZENlbGwifSkpfSkpLGNbImIiXS5jcmVhdGUodC5kb2MsZSl9ZnVuY3Rpb24gSCh0KXt2YXIgZT10LiRmcm9tLG49dC4kdG87aWYoZS5wb3M9PW4ucG9zfHxlLnBvczxlLnBvcy02KXJldHVybiExO2Zvcih2YXIgcj1lLnBvcyxvPW4ucG9zLGk9ZS5kZXB0aDtpPj0wO2ktLSxyKyspaWYoZS5hZnRlcihpKzEpPGUuZW5kKGkpKWJyZWFrO2Zvcih2YXIgcz1uLmRlcHRoO3M+PTA7cy0tLG8tLSlpZihuLmJlZm9yZShzKzEpPm4uc3RhcnQocykpYnJlYWs7cmV0dXJuIHI9PW8mJi9yb3d8dGFibGUvLnRlc3QoZS5ub2RlKGkpLnR5cGUuc3BlYy50YWJsZVJvbGUpfWZ1bmN0aW9uIHEodCl7Zm9yKHZhciBlLG4scj10LiRmcm9tLG89dC4kdG8saT1yLmRlcHRoO2k+MDtpLS0pe3ZhciBzPXIubm9kZShpKTtpZigiY2VsbCI9PT1zLnR5cGUuc3BlYy50YWJsZVJvbGV8fCJoZWFkZXJfY2VsbCI9PT1zLnR5cGUuc3BlYy50YWJsZVJvbGUpe2U9czticmVha319Zm9yKHZhciBhPW8uZGVwdGg7YT4wO2EtLSl7dmFyIGM9by5ub2RlKGEpO2lmKCJjZWxsIj09PWMudHlwZS5zcGVjLnRhYmxlUm9sZXx8ImhlYWRlcl9jZWxsIj09PWMudHlwZS5zcGVjLnRhYmxlUm9sZSl7bj1jO2JyZWFrfX1yZXR1cm4gZSE9PW4mJjA9PT1vLnBhcmVudE9mZnNldH1mdW5jdGlvbiBLKHQsZSxuKXt2YXIgcixvLHM9KGV8fHQpLnNlbGVjdGlvbixhPShlfHx0KS5kb2M7aWYocyBpbnN0YW5jZW9mIGlbIk5vZGVTZWxlY3Rpb24iXSYmKG89cy5ub2RlLnR5cGUuc3BlYy50YWJsZVJvbGUpKXtpZigiY2VsbCI9PW98fCJoZWFkZXJfY2VsbCI9PW8pcj1CLmNyZWF0ZShhLHMuZnJvbSk7ZWxzZSBpZigicm93Ij09byl7dmFyIGM9YS5yZXNvbHZlKHMuZnJvbSsxKTtyPUIucm93U2VsZWN0aW9uKGMsYyl9ZWxzZSBpZighbil7dmFyIGw9di5nZXQocy5ub2RlKSx1PXMuZnJvbSsxLGY9dStsLm1hcFtsLndpZHRoKmwuaGVpZ2h0LTFdO3I9Qi5jcmVhdGUoYSx1KzEsZil9fWVsc2UgcyBpbnN0YW5jZW9mIGlbIlRleHRTZWxlY3Rpb24iXSYmSChzKT9yPWlbIlRleHRTZWxlY3Rpb24iXS5jcmVhdGUoYSxzLmZyb20pOnMgaW5zdGFuY2VvZiBpWyJUZXh0U2VsZWN0aW9uIl0mJnEocykmJihyPWlbIlRleHRTZWxlY3Rpb24iXS5jcmVhdGUoYSxzLiRmcm9tLnN0YXJ0KCkscy4kZnJvbS5lbmQoKSkpO3JldHVybiByJiYoZXx8KGU9dC50cikpLnNldFNlbGVjdGlvbihyKSxlfWZ1bmN0aW9uIFcodCl7aWYoIXQuc2l6ZSlyZXR1cm4gbnVsbDt2YXIgZT10LmNvbnRlbnQsbj10Lm9wZW5TdGFydCxyPXQub3BlbkVuZDt3aGlsZSgxPT1lLmNoaWxkQ291bnQmJihuPjAmJnI+MHx8InRhYmxlIj09ZS5maXJzdENoaWxkLnR5cGUuc3BlYy50YWJsZVJvbGUpKW4tLSxyLS0sZT1lLmZpcnN0Q2hpbGQuY29udGVudDt2YXIgbz1lLmZpcnN0Q2hpbGQsaT1vLnR5cGUuc3BlYy50YWJsZVJvbGUsYT1vLnR5cGUuc2NoZW1hLGM9W107aWYoInJvdyI9PWkpZm9yKHZhciBsPTA7bDxlLmNoaWxkQ291bnQ7bCsrKXt2YXIgdT1lLmNoaWxkKGwpLmNvbnRlbnQsZj1sPzA6TWF0aC5tYXgoMCxuLTEpLGQ9bDxlLmNoaWxkQ291bnQtMT8wOk1hdGgubWF4KDAsci0xKTsoZnx8ZCkmJih1PVUoayhhKS5yb3csbmV3IHNbIlNsaWNlIl0odSxmLGQpKS5jb250ZW50KSxjLnB1c2godSl9ZWxzZXtpZigiY2VsbCIhPWkmJiJoZWFkZXJfY2VsbCIhPWkpcmV0dXJuIG51bGw7Yy5wdXNoKG58fHI/VShrKGEpLnJvdyxuZXcgc1siU2xpY2UiXShlLG4scikpLmNvbnRlbnQ6ZSl9cmV0dXJuIEooYSxjKX1mdW5jdGlvbiBKKHQsZSl7Zm9yKHZhciBuPVtdLHI9MDtyPGUubGVuZ3RoO3IrKylmb3IodmFyIG89ZVtyXSxpPW8uY2hpbGRDb3VudC0xO2k+PTA7aS0tKWZvcih2YXIgYT1vLmNoaWxkKGkpLmF0dHJzLGM9YS5yb3dzcGFuLGw9YS5jb2xzcGFuLHU9cjt1PHIrYzt1Kyspblt1XT0oblt1XXx8MCkrbDtmb3IodmFyIGY9MCxkPTA7ZDxuLmxlbmd0aDtkKyspZj1NYXRoLm1heChmLG5bZF0pO2Zvcih2YXIgcD0wO3A8bi5sZW5ndGg7cCsrKWlmKHA+PWUubGVuZ3RoJiZlLnB1c2goc1siRnJhZ21lbnQiXS5lbXB0eSksbltwXTxmKXtmb3IodmFyIGg9ayh0KS5jZWxsLmNyZWF0ZUFuZEZpbGwoKSx2PVtdLG09bltwXTttPGY7bSsrKXYucHVzaChoKTtlW3BdPWVbcF0uYXBwZW5kKHNbIkZyYWdtZW50Il0uZnJvbSh2KSl9cmV0dXJue2hlaWdodDplLmxlbmd0aCx3aWR0aDpmLHJvd3M6ZX19ZnVuY3Rpb24gVSh0LGUpe3ZhciBuPXQuY3JlYXRlQW5kRmlsbCgpLHI9bmV3IGxbImUiXShuKS5yZXBsYWNlKDAsbi5jb250ZW50LnNpemUsZSk7cmV0dXJuIHIuZG9jfWZ1bmN0aW9uIEcodCxlLG4pe3ZhciByPXQud2lkdGgsbz10LmhlaWdodCxpPXQucm93cztpZihyIT1lKXtmb3IodmFyIGE9W10sYz1bXSxsPTA7bDxpLmxlbmd0aDtsKyspe2Zvcih2YXIgdT1pW2xdLGY9W10sZD1hW2xdfHwwLHA9MDtkPGU7cCsrKXt2YXIgaD11LmNoaWxkKHAldS5jaGlsZENvdW50KTtkK2guYXR0cnMuY29sc3Bhbj5lJiYoaD1oLnR5cGUuY3JlYXRlKGooaC5hdHRycyxoLmF0dHJzLmNvbHNwYW4sZCtoLmF0dHJzLmNvbHNwYW4tZSksaC5jb250ZW50KSksZi5wdXNoKGgpLGQrPWguYXR0cnMuY29sc3Bhbjtmb3IodmFyIHY9MTt2PGguYXR0cnMucm93c3Bhbjt2KyspYVtsK3ZdPShhW2wrdl18fDApK2guYXR0cnMuY29sc3Bhbn1jLnB1c2goc1siRnJhZ21lbnQiXS5mcm9tKGYpKX1pPWMscj1lfWlmKG8hPW4pe2Zvcih2YXIgbT1bXSxnPTAseT0wO2c8bjtnKysseSsrKXtmb3IodmFyIGI9W10sdz1pW3klb10sUz0wO1M8dy5jaGlsZENvdW50O1MrKyl7dmFyIHg9dy5jaGlsZChTKTtnK3guYXR0cnMucm93c3Bhbj5uJiYoeD14LnR5cGUuY3JlYXRlKEkoeC5hdHRycywicm93c3BhbiIsbi14LmF0dHJzLnJvd3NwYW4pLHguY29udGVudCkpLGIucHVzaCh4KX1tLnB1c2goc1siRnJhZ21lbnQiXS5mcm9tKGIpKX1pPW0sbz1ufXJldHVybnt3aWR0aDpyLGhlaWdodDpvLHJvd3M6aX19ZnVuY3Rpb24gWCh0LGUsbixyLG8saSxhKXt2YXIgYyxsLHU9dC5kb2MudHlwZS5zY2hlbWEsZj1rKHUpO2lmKG8+ZS53aWR0aClmb3IodmFyIGQ9MCxwPTA7ZDxlLmhlaWdodDtkKyspe3ZhciBoPW4uY2hpbGQoZCk7cCs9aC5ub2RlU2l6ZTt2YXIgdj1bXSxtPXZvaWQgMDttPW51bGw9PWgubGFzdENoaWxkfHxoLmxhc3RDaGlsZC50eXBlPT1mLmNlbGw/Y3x8KGM9Zi5jZWxsLmNyZWF0ZUFuZEZpbGwoKSk6bHx8KGw9Zi5oZWFkZXJfY2VsbC5jcmVhdGVBbmRGaWxsKCkpO2Zvcih2YXIgZz1lLndpZHRoO2c8bztnKyspdi5wdXNoKG0pO3QuaW5zZXJ0KHQubWFwcGluZy5zbGljZShhKS5tYXAocC0xK3IpLHYpfWlmKGk+ZS5oZWlnaHQpe2Zvcih2YXIgeT1bXSxiPTAsdz0oZS5oZWlnaHQtMSkqZS53aWR0aDtiPE1hdGgubWF4KGUud2lkdGgsbyk7YisrKXt2YXIgUz0hKGI+PWUud2lkdGgpJiZuLm5vZGVBdChlLm1hcFt3K2JdKS50eXBlPT1mLmhlYWRlcl9jZWxsO3kucHVzaChTP2x8fChsPWYuaGVhZGVyX2NlbGwuY3JlYXRlQW5kRmlsbCgpKTpjfHwoYz1mLmNlbGwuY3JlYXRlQW5kRmlsbCgpKSl9Zm9yKHZhciB4PWYucm93LmNyZWF0ZShudWxsLHNbIkZyYWdtZW50Il0uZnJvbSh5KSksTz1bXSxDPWUuaGVpZ2h0O0M8aTtDKyspTy5wdXNoKHgpO3QuaW5zZXJ0KHQubWFwcGluZy5zbGljZShhKS5tYXAocituLm5vZGVTaXplLTIpLE8pfXJldHVybiEoIWMmJiFsKX1mdW5jdGlvbiBZKHQsZSxuLHIsbyxpLHMsYSl7aWYoMD09c3x8cz09ZS5oZWlnaHQpcmV0dXJuITE7Zm9yKHZhciBjPSExLGw9bztsPGk7bCsrKXt2YXIgdT1zKmUud2lkdGgrbCxmPWUubWFwW3VdO2lmKGUubWFwW3UtZS53aWR0aF09PWYpe2M9ITA7dmFyIGQ9bi5ub2RlQXQoZikscD1lLmZpbmRDZWxsKGYpLGg9cC50b3Asdj1wLmxlZnQ7dC5zZXROb2RlTWFya3VwKHQubWFwcGluZy5zbGljZShhKS5tYXAoZityKSxudWxsLEkoZC5hdHRycywicm93c3BhbiIscy1oKSksdC5pbnNlcnQodC5tYXBwaW5nLnNsaWNlKGEpLm1hcChlLnBvc2l0aW9uQXQocyx2LG4pKSxkLnR5cGUuY3JlYXRlQW5kRmlsbChJKGQuYXR0cnMsInJvd3NwYW4iLGgrZC5hdHRycy5yb3dzcGFuLXMpKSksbCs9ZC5hdHRycy5jb2xzcGFuLTF9fXJldHVybiBjfWZ1bmN0aW9uIFoodCxlLG4scixvLGkscyxhKXtpZigwPT1zfHxzPT1lLndpZHRoKXJldHVybiExO2Zvcih2YXIgYz0hMSxsPW87bDxpO2wrKyl7dmFyIHU9bCplLndpZHRoK3MsZj1lLm1hcFt1XTtpZihlLm1hcFt1LTFdPT1mKXtjPSEwO3ZhciBkPW4ubm9kZUF0KGYpLHA9ZS5jb2xDb3VudChmKSxoPXQubWFwcGluZy5zbGljZShhKS5tYXAoZityKTt0LnNldE5vZGVNYXJrdXAoaCxudWxsLGooZC5hdHRycyxzLXAsZC5hdHRycy5jb2xzcGFuLShzLXApKSksdC5pbnNlcnQoaCtkLm5vZGVTaXplLGQudHlwZS5jcmVhdGVBbmRGaWxsKGooZC5hdHRycywwLHMtcCkpKSxsKz1kLmF0dHJzLnJvd3NwYW4tMX19cmV0dXJuIGN9ZnVuY3Rpb24gUSh0LGUsbixyLG8pe3ZhciBpPW4/dC5kb2Mubm9kZUF0KG4tMSk6dC5kb2MsYT12LmdldChpKSxjPXIudG9wLGw9ci5sZWZ0LHU9bCtvLndpZHRoLGY9YytvLmhlaWdodCxkPXQudHIscD0wO2Z1bmN0aW9uIGgoKXtpPW4/ZC5kb2Mubm9kZUF0KG4tMSk6ZC5kb2MsYT12LmdldChpKSxwPWQubWFwcGluZy5tYXBzLmxlbmd0aH1YKGQsYSxpLG4sdSxmLHApJiZoKCksWShkLGEsaSxuLGwsdSxjLHApJiZoKCksWShkLGEsaSxuLGwsdSxmLHApJiZoKCksWihkLGEsaSxuLGMsZixsLHApJiZoKCksWihkLGEsaSxuLGMsZix1LHApJiZoKCk7Zm9yKHZhciBtPWM7bTxmO20rKyl7dmFyIGc9YS5wb3NpdGlvbkF0KG0sbCxpKSx5PWEucG9zaXRpb25BdChtLHUsaSk7ZC5yZXBsYWNlKGQubWFwcGluZy5zbGljZShwKS5tYXAoZytuKSxkLm1hcHBpbmcuc2xpY2UocCkubWFwKHkrbiksbmV3IHNbIlNsaWNlIl0oby5yb3dzW20tY10sMCwwKSl9aCgpLGQuc2V0U2VsZWN0aW9uKG5ldyBCKGQuZG9jLnJlc29sdmUobithLnBvc2l0aW9uQXQoYyxsLGkpKSxkLmRvYy5yZXNvbHZlKG4rYS5wb3NpdGlvbkF0KGYtMSx1LTEsaSkpKSksZShkKX1GLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBGKHQubWFwKHRoaXMuYW5jaG9yKSx0Lm1hcCh0aGlzLmhlYWQpKX0sRi5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0KXt2YXIgZT10LnJlc29sdmUodGhpcy5hbmNob3IpLG49dC5yZXNvbHZlKHRoaXMuaGVhZCk7cmV0dXJuInJvdyI9PWUucGFyZW50LnR5cGUuc3BlYy50YWJsZVJvbGUmJiJyb3ciPT1uLnBhcmVudC50eXBlLnNwZWMudGFibGVSb2xlJiZlLmluZGV4KCk8ZS5wYXJlbnQuY2hpbGRDb3VudCYmbi5pbmRleCgpPG4ucGFyZW50LmNoaWxkQ291bnQmJlIoZSxuKT9uZXcgQihlLG4pOmlbIlNlbGVjdGlvbiJdLm5lYXIobiwxKX07dmFyIHR0PU9iamVjdChhWyJhIl0pKHtBcnJvd0xlZnQ6bnQoImhvcml6IiwtMSksQXJyb3dSaWdodDpudCgiaG9yaXoiLDEpLEFycm93VXA6bnQoInZlcnQiLC0xKSxBcnJvd0Rvd246bnQoInZlcnQiLDEpLCJTaGlmdC1BcnJvd0xlZnQiOnJ0KCJob3JpeiIsLTEpLCJTaGlmdC1BcnJvd1JpZ2h0IjpydCgiaG9yaXoiLDEpLCJTaGlmdC1BcnJvd1VwIjpydCgidmVydCIsLTEpLCJTaGlmdC1BcnJvd0Rvd24iOnJ0KCJ2ZXJ0IiwxKSxCYWNrc3BhY2U6b3QsIk1vZC1CYWNrc3BhY2UiOm90LERlbGV0ZTpvdCwiTW9kLURlbGV0ZSI6b3R9KTtmdW5jdGlvbiBldCh0LGUsbil7cmV0dXJuIW4uZXEodC5zZWxlY3Rpb24pJiYoZSYmZSh0LnRyLnNldFNlbGVjdGlvbihuKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9ZnVuY3Rpb24gbnQodCxlKXtyZXR1cm4gZnVuY3Rpb24obixyLG8pe3ZhciBzPW4uc2VsZWN0aW9uO2lmKHMgaW5zdGFuY2VvZiBCKXJldHVybiBldChuLHIsaVsiU2VsZWN0aW9uIl0ubmVhcihzLiRoZWFkQ2VsbCxlKSk7aWYoImhvcml6IiE9dCYmIXMuZW1wdHkpcmV0dXJuITE7dmFyIGE9Y3Qobyx0LGUpO2lmKG51bGw9PWEpcmV0dXJuITE7aWYoImhvcml6Ij09dClyZXR1cm4gZXQobixyLGlbIlNlbGVjdGlvbiJdLm5lYXIobi5kb2MucmVzb2x2ZShzLmhlYWQrZSksZSkpO3ZhciBjLGw9bi5kb2MucmVzb2x2ZShhKSx1PXoobCx0LGUpO3JldHVybiBjPXU/aVsiU2VsZWN0aW9uIl0ubmVhcih1LDEpOmU8MD9pWyJTZWxlY3Rpb24iXS5uZWFyKG4uZG9jLnJlc29sdmUobC5iZWZvcmUoLTEpKSwtMSk6aVsiU2VsZWN0aW9uIl0ubmVhcihuLmRvYy5yZXNvbHZlKGwuYWZ0ZXIoLTEpKSwxKSxldChuLHIsYyl9fWZ1bmN0aW9uIHJ0KHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scixvKXt2YXIgaT1uLnNlbGVjdGlvbjtpZighKGkgaW5zdGFuY2VvZiBCKSl7dmFyIHM9Y3Qobyx0LGUpO2lmKG51bGw9PXMpcmV0dXJuITE7aT1uZXcgQihuLmRvYy5yZXNvbHZlKHMpKX12YXIgYT16KGkuJGhlYWRDZWxsLHQsZSk7cmV0dXJuISFhJiZldChuLHIsbmV3IEIoaS4kYW5jaG9yQ2VsbCxhKSl9fWZ1bmN0aW9uIG90KHQsZSl7dmFyIG49dC5zZWxlY3Rpb247aWYoIShuIGluc3RhbmNlb2YgQikpcmV0dXJuITE7aWYoZSl7dmFyIHI9dC50cixvPWsodC5zY2hlbWEpLmNlbGwuY3JlYXRlQW5kRmlsbCgpLmNvbnRlbnQ7bi5mb3JFYWNoQ2VsbCgoZnVuY3Rpb24odCxlKXt0LmNvbnRlbnQuZXEobyl8fHIucmVwbGFjZShyLm1hcHBpbmcubWFwKGUrMSksci5tYXBwaW5nLm1hcChlK3Qubm9kZVNpemUtMSksbmV3IHNbIlNsaWNlIl0obywwLDApKX0pKSxyLmRvY0NoYW5nZWQmJmUocil9cmV0dXJuITB9ZnVuY3Rpb24gaXQodCxlKXt2YXIgbj10LnN0YXRlLmRvYyxyPUMobi5yZXNvbHZlKGUpKTtyZXR1cm4hIXImJih0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKG5ldyBCKHIpKSksITApfWZ1bmN0aW9uIHN0KHQsZSxuKXtpZighTih0LnN0YXRlKSlyZXR1cm4hMTt2YXIgcj1XKG4pLG89dC5zdGF0ZS5zZWxlY3Rpb247aWYobyBpbnN0YW5jZW9mIEIpe3J8fChyPXt3aWR0aDoxLGhlaWdodDoxLHJvd3M6W3NbIkZyYWdtZW50Il0uZnJvbShVKGsodC5zdGF0ZS5zY2hlbWEpLmNlbGwsbikpXX0pO3ZhciBpPW8uJGFuY2hvckNlbGwubm9kZSgtMSksYT1vLiRhbmNob3JDZWxsLnN0YXJ0KC0xKSxjPXYuZ2V0KGkpLnJlY3RCZXR3ZWVuKG8uJGFuY2hvckNlbGwucG9zLWEsby4kaGVhZENlbGwucG9zLWEpO3JldHVybiByPUcocixjLnJpZ2h0LWMubGVmdCxjLmJvdHRvbS1jLnRvcCksUSh0LnN0YXRlLHQuZGlzcGF0Y2gsYSxjLHIpLCEwfWlmKHIpe3ZhciBsPVQodC5zdGF0ZSksdT1sLnN0YXJ0KC0xKTtyZXR1cm4gUSh0LnN0YXRlLHQuZGlzcGF0Y2gsdSx2LmdldChsLm5vZGUoLTEpKS5maW5kQ2VsbChsLnBvcy11KSxyKSwhMH1yZXR1cm4hMX1mdW5jdGlvbiBhdCh0LGUpe2lmKCFlLmN0cmxLZXkmJiFlLm1ldGFLZXkpe3ZhciBuLHI9bHQodCxlLnRhcmdldCk7aWYoZS5zaGlmdEtleSYmdC5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBCKW8odC5zdGF0ZS5zZWxlY3Rpb24uJGFuY2hvckNlbGwsZSksZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgaWYoZS5zaGlmdEtleSYmciYmbnVsbCE9KG49Qyh0LnN0YXRlLnNlbGVjdGlvbi4kYW5jaG9yKSkmJnV0KHQsZSkucG9zIT1uLnBvcylvKG4sZSksZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgaWYoIXIpcmV0dXJuO3Qucm9vdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZXVwIixpKSx0LnJvb3QuYWRkRXZlbnRMaXN0ZW5lcigiZHJhZ3N0YXJ0IixpKSx0LnJvb3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIixzKX1mdW5jdGlvbiBvKGUsbil7dmFyIHI9dXQodCxuKSxvPW51bGw9PU8uZ2V0U3RhdGUodC5zdGF0ZSk7aWYoIXJ8fCFSKGUscikpe2lmKCFvKXJldHVybjtyPWV9dmFyIGk9bmV3IEIoZSxyKTtpZihvfHwhdC5zdGF0ZS5zZWxlY3Rpb24uZXEoaSkpe3ZhciBzPXQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKGkpO28mJnMuc2V0TWV0YShPLGUucG9zKSx0LmRpc3BhdGNoKHMpfX1mdW5jdGlvbiBpKCl7dC5yb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLGkpLHQucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKCJkcmFnc3RhcnQiLGkpLHQucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLHMpLG51bGwhPU8uZ2V0U3RhdGUodC5zdGF0ZSkmJnQuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRNZXRhKE8sLTEpKX1mdW5jdGlvbiBzKG4pe3ZhciBzLGE9Ty5nZXRTdGF0ZSh0LnN0YXRlKTtpZihudWxsIT1hKXM9dC5zdGF0ZS5kb2MucmVzb2x2ZShhKTtlbHNlIGlmKGx0KHQsbi50YXJnZXQpIT1yJiYocz11dCh0LGUpLCFzKSlyZXR1cm4gaSgpO3MmJm8ocyxuKX19ZnVuY3Rpb24gY3QodCxlLG4pe2lmKCEodC5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBpWyJUZXh0U2VsZWN0aW9uIl0pKXJldHVybiBudWxsO2Zvcih2YXIgcj10LnN0YXRlLnNlbGVjdGlvbixvPXIuJGhlYWQscz1vLmRlcHRoLTE7cz49MDtzLS0pe3ZhciBhPW8ubm9kZShzKSxjPW48MD9vLmluZGV4KHMpOm8uaW5kZXhBZnRlcihzKTtpZihjIT0objwwPzA6YS5jaGlsZENvdW50KSlyZXR1cm4gbnVsbDtpZigiY2VsbCI9PWEudHlwZS5zcGVjLnRhYmxlUm9sZXx8ImhlYWRlcl9jZWxsIj09YS50eXBlLnNwZWMudGFibGVSb2xlKXt2YXIgbD1vLmJlZm9yZShzKSx1PSJ2ZXJ0Ij09ZT9uPjA/ImRvd24iOiJ1cCI6bj4wPyJyaWdodCI6ImxlZnQiO3JldHVybiB0LmVuZE9mVGV4dGJsb2NrKHUpP2w6bnVsbH19cmV0dXJuIG51bGx9ZnVuY3Rpb24gbHQodCxlKXtmb3IoO2UmJmUhPXQuZG9tO2U9ZS5wYXJlbnROb2RlKWlmKCJURCI9PWUubm9kZU5hbWV8fCJUSCI9PWUubm9kZU5hbWUpcmV0dXJuIGV9ZnVuY3Rpb24gdXQodCxlKXt2YXIgbj10LnBvc0F0Q29vcmRzKHtsZWZ0OmUuY2xpZW50WCx0b3A6ZS5jbGllbnRZfSk7cmV0dXJuIG4mJm4/Qyh0LnN0YXRlLmRvYy5yZXNvbHZlKG4ucG9zKSk6bnVsbH12YXIgZnQ9bmV3IGlbIlBsdWdpbktleSJdKCJmaXgtdGFibGVzIik7ZnVuY3Rpb24gZHQodCxlLG4scil7dmFyIG89dC5jaGlsZENvdW50LGk9ZS5jaGlsZENvdW50O3Q6Zm9yKHZhciBzPTAsYT0wO3M8aTtzKyspe2Zvcih2YXIgYz1lLmNoaWxkKHMpLGw9YSx1PU1hdGgubWluKG8scyszKTtsPHU7bCsrKWlmKHQuY2hpbGQobCk9PWMpe2E9bCsxLG4rPWMubm9kZVNpemU7Y29udGludWUgdH1yKGMsbiksYTxvJiZ0LmNoaWxkKGEpLnNhbWVNYXJrdXAoYyk/ZHQodC5jaGlsZChhKSxjLG4rMSxyKTpjLm5vZGVzQmV0d2VlbigwLGMuY29udGVudC5zaXplLHIsbisxKSxuKz1jLm5vZGVTaXplfX1mdW5jdGlvbiBwdCh0LGUpe3ZhciBuLHI9ZnVuY3Rpb24oZSxyKXsidGFibGUiPT1lLnR5cGUuc3BlYy50YWJsZVJvbGUmJihuPWh0KHQsZSxyLG4pKX07cmV0dXJuIGU/ZS5kb2MhPXQuZG9jJiZkdChlLmRvYyx0LmRvYywwLHIpOnQuZG9jLmRlc2NlbmRhbnRzKHIpLG59ZnVuY3Rpb24gaHQodCxlLG4scil7dmFyIG89di5nZXQoZSk7aWYoIW8ucHJvYmxlbXMpcmV0dXJuIHI7cnx8KHI9dC50cik7Zm9yKHZhciBpLHMsYT1bXSxjPTA7YzxvLmhlaWdodDtjKyspYS5wdXNoKDApO2Zvcih2YXIgbD0wO2w8by5wcm9ibGVtcy5sZW5ndGg7bCsrKXt2YXIgdT1vLnByb2JsZW1zW2xdO2lmKCJjb2xsaXNpb24iPT11LnR5cGUpe2Zvcih2YXIgZj1lLm5vZGVBdCh1LnBvcyksZD0wO2Q8Zi5hdHRycy5yb3dzcGFuO2QrKylhW3Uucm93K2RdKz11Lm47ci5zZXROb2RlTWFya3VwKHIubWFwcGluZy5tYXAobisxK3UucG9zKSxudWxsLGooZi5hdHRycyxmLmF0dHJzLmNvbHNwYW4tdS5uLHUubikpfWVsc2UgaWYoIm1pc3NpbmciPT11LnR5cGUpYVt1LnJvd10rPXUubjtlbHNlIGlmKCJvdmVybG9uZ19yb3dzcGFuIj09dS50eXBlKXt2YXIgcD1lLm5vZGVBdCh1LnBvcyk7ci5zZXROb2RlTWFya3VwKHIubWFwcGluZy5tYXAobisxK3UucG9zKSxudWxsLEkocC5hdHRycywicm93c3BhbiIscC5hdHRycy5yb3dzcGFuLXUubikpfWVsc2UgaWYoImNvbHdpZHRoIG1pc21hdGNoIj09dS50eXBlKXt2YXIgaD1lLm5vZGVBdCh1LnBvcyk7ci5zZXROb2RlTWFya3VwKHIubWFwcGluZy5tYXAobisxK3UucG9zKSxudWxsLEkoaC5hdHRycywiY29sd2lkdGgiLHUuY29sd2lkdGgpKX19Zm9yKHZhciBtPTA7bTxhLmxlbmd0aDttKyspYVttXSYmKG51bGw9PWkmJihpPW0pLHM9bSk7Zm9yKHZhciBnPTAseT1uKzE7ZzxvLmhlaWdodDtnKyspe3ZhciBiPWUuY2hpbGQoZyksdz15K2Iubm9kZVNpemUsUz1hW2ddO2lmKFM+MCl7dmFyIHg9ImNlbGwiO2IuZmlyc3RDaGlsZCYmKHg9Yi5maXJzdENoaWxkLnR5cGUuc3BlYy50YWJsZVJvbGUpO2Zvcih2YXIgTz1bXSxDPTA7QzxTO0MrKylPLnB1c2goayh0LnNjaGVtYSlbeF0uY3JlYXRlQW5kRmlsbCgpKTt2YXIgTT0wIT1nJiZpIT1nLTF8fHMhPWc/dy0xOnkrMTtyLmluc2VydChyLm1hcHBpbmcubWFwKE0pLE8pfXk9d31yZXR1cm4gci5zZXRNZXRhKGZ0LHtmaXhUYWJsZXM6ITB9KX1mdW5jdGlvbiB2dCh0KXt2YXIgZSxuPXQuc2VsZWN0aW9uLHI9VCh0KSxvPXIubm9kZSgtMSksaT1yLnN0YXJ0KC0xKSxzPXYuZ2V0KG8pO3JldHVybiBlPW4gaW5zdGFuY2VvZiBCP3MucmVjdEJldHdlZW4obi4kYW5jaG9yQ2VsbC5wb3MtaSxuLiRoZWFkQ2VsbC5wb3MtaSk6cy5maW5kQ2VsbChyLnBvcy1pKSxlLnRhYmxlU3RhcnQ9aSxlLm1hcD1zLGUudGFibGU9byxlfWZ1bmN0aW9uIG10KHQsZSxuKXt2YXIgcj1lLm1hcCxvPWUudGFibGVTdGFydCxpPWUudGFibGUscz1uPjA/LTE6MDtWKHIsaSxuK3MpJiYocz0wPT1ufHxuPT1yLndpZHRoP251bGw6MCk7Zm9yKHZhciBhPTA7YTxyLmhlaWdodDthKyspe3ZhciBjPWEqci53aWR0aCtuO2lmKG4+MCYmbjxyLndpZHRoJiZyLm1hcFtjLTFdPT1yLm1hcFtjXSl7dmFyIGw9ci5tYXBbY10sdT1pLm5vZGVBdChsKTt0LnNldE5vZGVNYXJrdXAodC5tYXBwaW5nLm1hcChvK2wpLG51bGwsJCh1LmF0dHJzLG4tci5jb2xDb3VudChsKSkpLGErPXUuYXR0cnMucm93c3Bhbi0xfWVsc2V7dmFyIGY9bnVsbD09cz9rKGkudHlwZS5zY2hlbWEpLmNlbGw6aS5ub2RlQXQoci5tYXBbYytzXSkudHlwZSxkPXIucG9zaXRpb25BdChhLG4saSk7dC5pbnNlcnQodC5tYXBwaW5nLm1hcChvK2QpLGYuY3JlYXRlQW5kRmlsbCgpKX19cmV0dXJuIHR9ZnVuY3Rpb24gZ3QodCxlKXtpZighTih0KSlyZXR1cm4hMTtpZihlKXt2YXIgbj12dCh0KTtlKG10KHQudHIsbixuLmxlZnQpKX1yZXR1cm4hMH1mdW5jdGlvbiB5dCh0LGUpe2lmKCFOKHQpKXJldHVybiExO2lmKGUpe3ZhciBuPXZ0KHQpO2UobXQodC50cixuLG4ucmlnaHQpKX1yZXR1cm4hMH1mdW5jdGlvbiBidCh0LGUsbil7Zm9yKHZhciByPWUubWFwLG89ZS50YWJsZSxpPWUudGFibGVTdGFydCxzPXQubWFwcGluZy5tYXBzLmxlbmd0aCxhPTA7YTxyLmhlaWdodDspe3ZhciBjPWEqci53aWR0aCtuLGw9ci5tYXBbY10sdT1vLm5vZGVBdChsKTtpZihuPjAmJnIubWFwW2MtMV09PWx8fG48ci53aWR0aC0xJiZyLm1hcFtjKzFdPT1sKXQuc2V0Tm9kZU1hcmt1cCh0Lm1hcHBpbmcuc2xpY2UocykubWFwKGkrbCksbnVsbCxqKHUuYXR0cnMsbi1yLmNvbENvdW50KGwpKSk7ZWxzZXt2YXIgZj10Lm1hcHBpbmcuc2xpY2UocykubWFwKGkrbCk7dC5kZWxldGUoZixmK3Uubm9kZVNpemUpfWErPXUuYXR0cnMucm93c3Bhbn19ZnVuY3Rpb24gd3QodCxlKXtpZighTih0KSlyZXR1cm4hMTtpZihlKXt2YXIgbj12dCh0KSxyPXQudHI7aWYoMD09bi5sZWZ0JiZuLnJpZ2h0PT1uLm1hcC53aWR0aClyZXR1cm4hMTtmb3IodmFyIG89bi5yaWdodC0xOztvLS0pe2lmKGJ0KHIsbixvKSxvPT1uLmxlZnQpYnJlYWs7bi50YWJsZT1uLnRhYmxlU3RhcnQ/ci5kb2Mubm9kZUF0KG4udGFibGVTdGFydC0xKTpyLmRvYyxuLm1hcD12LmdldChuLnRhYmxlKX1lKHIpfXJldHVybiEwfWZ1bmN0aW9uIFN0KHQsZSxuKXtmb3IodmFyIHI9ayhlLnR5cGUuc2NoZW1hKS5oZWFkZXJfY2VsbCxvPTA7bzx0LndpZHRoO28rKylpZihlLm5vZGVBdCh0Lm1hcFtvK24qdC53aWR0aF0pLnR5cGUhPXIpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24geHQodCxlLG4pe2Zvcih2YXIgcj1lLm1hcCxvPWUudGFibGVTdGFydCxpPWUudGFibGUscz1vLGE9MDthPG47YSsrKXMrPWkuY2hpbGQoYSkubm9kZVNpemU7dmFyIGM9W10sbD1uPjA/LTE6MDtTdChyLGksbitsKSYmKGw9MD09bnx8bj09ci5oZWlnaHQ/bnVsbDowKTtmb3IodmFyIHU9MCxmPXIud2lkdGgqbjt1PHIud2lkdGg7dSsrLGYrKylpZihuPjAmJm48ci5oZWlnaHQmJnIubWFwW2ZdPT1yLm1hcFtmLXIud2lkdGhdKXt2YXIgZD1yLm1hcFtmXSxwPWkubm9kZUF0KGQpLmF0dHJzO3Quc2V0Tm9kZU1hcmt1cChvK2QsbnVsbCxJKHAsInJvd3NwYW4iLHAucm93c3BhbisxKSksdSs9cC5jb2xzcGFuLTF9ZWxzZXt2YXIgaD1udWxsPT1sP2soaS50eXBlLnNjaGVtYSkuY2VsbDppLm5vZGVBdChyLm1hcFtmK2wqci53aWR0aF0pLnR5cGU7Yy5wdXNoKGguY3JlYXRlQW5kRmlsbCgpKX1yZXR1cm4gdC5pbnNlcnQocyxrKGkudHlwZS5zY2hlbWEpLnJvdy5jcmVhdGUobnVsbCxjKSksdH1mdW5jdGlvbiBrdCh0LGUpe2lmKCFOKHQpKXJldHVybiExO2lmKGUpe3ZhciBuPXZ0KHQpO2UoeHQodC50cixuLG4udG9wKSl9cmV0dXJuITB9ZnVuY3Rpb24gT3QodCxlKXtpZighTih0KSlyZXR1cm4hMTtpZihlKXt2YXIgbj12dCh0KTtlKHh0KHQudHIsbixuLmJvdHRvbSkpfXJldHVybiEwfWZ1bmN0aW9uIEN0KHQsZSxuKXtmb3IodmFyIHI9ZS5tYXAsbz1lLnRhYmxlLGk9ZS50YWJsZVN0YXJ0LHM9MCxhPTA7YTxuO2ErKylzKz1vLmNoaWxkKGEpLm5vZGVTaXplO3ZhciBjPXMrby5jaGlsZChuKS5ub2RlU2l6ZSxsPXQubWFwcGluZy5tYXBzLmxlbmd0aDt0LmRlbGV0ZShzK2ksYytpKTtmb3IodmFyIHU9MCxmPW4qci53aWR0aDt1PHIud2lkdGg7dSsrLGYrKyl7dmFyIGQ9ci5tYXBbZl07aWYobj4wJiZkPT1yLm1hcFtmLXIud2lkdGhdKXt2YXIgcD1vLm5vZGVBdChkKS5hdHRyczt0LnNldE5vZGVNYXJrdXAodC5tYXBwaW5nLnNsaWNlKGwpLm1hcChkK2kpLG51bGwsSShwLCJyb3dzcGFuIixwLnJvd3NwYW4tMSkpLHUrPXAuY29sc3Bhbi0xfWVsc2UgaWYobjxyLndpZHRoJiZkPT1yLm1hcFtmK3Iud2lkdGhdKXt2YXIgaD1vLm5vZGVBdChkKSx2PWgudHlwZS5jcmVhdGUoSShoLmF0dHJzLCJyb3dzcGFuIixoLmF0dHJzLnJvd3NwYW4tMSksaC5jb250ZW50KSxtPXIucG9zaXRpb25BdChuKzEsdSxvKTt0Lmluc2VydCh0Lm1hcHBpbmcuc2xpY2UobCkubWFwKGkrbSksdiksdSs9aC5hdHRycy5jb2xzcGFuLTF9fX1mdW5jdGlvbiBNdCh0LGUpe2lmKCFOKHQpKXJldHVybiExO2lmKGUpe3ZhciBuPXZ0KHQpLHI9dC50cjtpZigwPT1uLnRvcCYmbi5ib3R0b209PW4ubWFwLmhlaWdodClyZXR1cm4hMTtmb3IodmFyIG89bi5ib3R0b20tMTs7by0tKXtpZihDdChyLG4sbyksbz09bi50b3ApYnJlYWs7bi50YWJsZT1uLnRhYmxlU3RhcnQ/ci5kb2Mubm9kZUF0KG4udGFibGVTdGFydC0xKTpyLmRvYyxuLm1hcD12LmdldChuLnRhYmxlKX1lKHIpfXJldHVybiEwfWZ1bmN0aW9uIE50KHQpe3ZhciBlPXQuY29udGVudDtyZXR1cm4gMT09ZS5jaGlsZENvdW50JiZlLmZpcnN0Q2hpbGQuaXNUZXh0YmxvY2smJjA9PWUuZmlyc3RDaGlsZC5jaGlsZENvdW50fWZ1bmN0aW9uIFR0KHQsZSl7Zm9yKHZhciBuPXQud2lkdGgscj10LmhlaWdodCxvPXQubWFwLGk9ZS50b3AqbitlLmxlZnQscz1pLGE9KGUuYm90dG9tLTEpKm4rZS5sZWZ0LGM9aSsoZS5yaWdodC1lLmxlZnQtMSksbD1lLnRvcDtsPGUuYm90dG9tO2wrKyl7aWYoZS5sZWZ0PjAmJm9bc109PW9bcy0xXXx8ZS5yaWdodDxuJiZvW2NdPT1vW2MrMV0pcmV0dXJuITA7cys9bixjKz1ufWZvcih2YXIgdT1lLmxlZnQ7dTxlLnJpZ2h0O3UrKyl7aWYoZS50b3A+MCYmb1tpXT09b1tpLW5dfHxlLmJvdHRvbTxyJiZvW2FdPT1vW2Erbl0pcmV0dXJuITA7aSsrLGErK31yZXR1cm4hMX1mdW5jdGlvbiBBdCh0LGUpe3ZhciBuPXQuc2VsZWN0aW9uO2lmKCEobiBpbnN0YW5jZW9mIEIpfHxuLiRhbmNob3JDZWxsLnBvcz09bi4kaGVhZENlbGwucG9zKXJldHVybiExO3ZhciByPXZ0KHQpLG89ci5tYXA7aWYoVHQobyxyKSlyZXR1cm4hMTtpZihlKXtmb3IodmFyIGksYSxjPXQudHIsbD17fSx1PXNbIkZyYWdtZW50Il0uZW1wdHksZj1yLnRvcDtmPHIuYm90dG9tO2YrKylmb3IodmFyIGQ9ci5sZWZ0O2Q8ci5yaWdodDtkKyspe3ZhciBwPW8ubWFwW2Yqby53aWR0aCtkXSxoPXIudGFibGUubm9kZUF0KHApO2lmKCFsW3BdKWlmKGxbcF09ITAsbnVsbD09aSlpPXAsYT1oO2Vsc2V7TnQoaCl8fCh1PXUuYXBwZW5kKGguY29udGVudCkpO3ZhciB2PWMubWFwcGluZy5tYXAocCtyLnRhYmxlU3RhcnQpO2MuZGVsZXRlKHYsditoLm5vZGVTaXplKX19aWYoYy5zZXROb2RlTWFya3VwKGkrci50YWJsZVN0YXJ0LG51bGwsSSgkKGEuYXR0cnMsYS5hdHRycy5jb2xzcGFuLHIucmlnaHQtci5sZWZ0LWEuYXR0cnMuY29sc3BhbiksInJvd3NwYW4iLHIuYm90dG9tLXIudG9wKSksdS5zaXplKXt2YXIgbT1pKzErYS5jb250ZW50LnNpemUsZz1OdChhKT9pKzE6bTtjLnJlcGxhY2VXaXRoKGcrci50YWJsZVN0YXJ0LG0rci50YWJsZVN0YXJ0LHUpfWMuc2V0U2VsZWN0aW9uKG5ldyBCKGMuZG9jLnJlc29sdmUoaStyLnRhYmxlU3RhcnQpKSksZShjKX1yZXR1cm4hMH1mdW5jdGlvbiBEdCh0LGUpe3ZhciBuPWsodC5zY2hlbWEpO3JldHVybiBFdCgoZnVuY3Rpb24odCl7dmFyIGU9dC5ub2RlO3JldHVybiBuW2UudHlwZS5zcGVjLnRhYmxlUm9sZV19KSkodCxlKX1mdW5jdGlvbiBFdCh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgcixvLGk9ZS5zZWxlY3Rpb247aWYoaSBpbnN0YW5jZW9mIEIpe2lmKGkuJGFuY2hvckNlbGwucG9zIT1pLiRoZWFkQ2VsbC5wb3MpcmV0dXJuITE7cj1pLiRhbmNob3JDZWxsLm5vZGVBZnRlcixvPWkuJGFuY2hvckNlbGwucG9zfWVsc2V7aWYocj1NKGkuJGZyb20pLCFyKXJldHVybiExO289QyhpLiRmcm9tKS5wb3N9aWYoMT09ci5hdHRycy5jb2xzcGFuJiYxPT1yLmF0dHJzLnJvd3NwYW4pcmV0dXJuITE7aWYobil7dmFyIHM9ci5hdHRycyxhPVtdLGM9cy5jb2x3aWR0aDtzLnJvd3NwYW4+MSYmKHM9SShzLCJyb3dzcGFuIiwxKSkscy5jb2xzcGFuPjEmJihzPUkocywiY29sc3BhbiIsMSkpO2Zvcih2YXIgbCx1PXZ0KGUpLGY9ZS50cixkPTA7ZDx1LnJpZ2h0LXUubGVmdDtkKyspYS5wdXNoKGM/SShzLCJjb2x3aWR0aCIsYyYmY1tkXT9bY1tkXV06bnVsbCk6cyk7Zm9yKHZhciBwPXUudG9wO3A8dS5ib3R0b207cCsrKXt2YXIgaD11Lm1hcC5wb3NpdGlvbkF0KHAsdS5sZWZ0LHUudGFibGUpO3A9PXUudG9wJiYoaCs9ci5ub2RlU2l6ZSk7Zm9yKHZhciB2PXUubGVmdCxtPTA7djx1LnJpZ2h0O3YrKyxtKyspdj09dS5sZWZ0JiZwPT11LnRvcHx8Zi5pbnNlcnQobD1mLm1hcHBpbmcubWFwKGgrdS50YWJsZVN0YXJ0LDEpLHQoe25vZGU6cixyb3c6cCxjb2w6dn0pLmNyZWF0ZUFuZEZpbGwoYVttXSkpfWYuc2V0Tm9kZU1hcmt1cChvLHQoe25vZGU6cixyb3c6dS50b3AsY29sOnUubGVmdH0pLGFbMF0pLGkgaW5zdGFuY2VvZiBCJiZmLnNldFNlbGVjdGlvbihuZXcgQihmLmRvYy5yZXNvbHZlKGkuJGFuY2hvckNlbGwucG9zKSxsJiZmLmRvYy5yZXNvbHZlKGwpKSksbihmKX1yZXR1cm4hMH19ZnVuY3Rpb24gUnQodCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXtpZighTihuKSlyZXR1cm4hMTt2YXIgbz1UKG4pO2lmKG8ubm9kZUFmdGVyLmF0dHJzW3RdPT09ZSlyZXR1cm4hMTtpZihyKXt2YXIgaT1uLnRyO24uc2VsZWN0aW9uIGluc3RhbmNlb2YgQj9uLnNlbGVjdGlvbi5mb3JFYWNoQ2VsbCgoZnVuY3Rpb24obixyKXtuLmF0dHJzW3RdIT09ZSYmaS5zZXROb2RlTWFya3VwKHIsbnVsbCxJKG4uYXR0cnMsdCxlKSl9KSk6aS5zZXROb2RlTWFya3VwKG8ucG9zLG51bGwsSShvLm5vZGVBZnRlci5hdHRycyx0LGUpKSxyKGkpfXJldHVybiEwfX1mdW5jdGlvbiBfdCh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtpZighTihlKSlyZXR1cm4hMTtpZihuKXtmb3IodmFyIHI9ayhlLnNjaGVtYSksbz12dChlKSxpPWUudHIscz1vLm1hcC5jZWxsc0luUmVjdCgiY29sdW1uIj09dD9uZXcgaChvLmxlZnQsMCxvLnJpZ2h0LG8ubWFwLmhlaWdodCk6InJvdyI9PXQ/bmV3IGgoMCxvLnRvcCxvLm1hcC53aWR0aCxvLmJvdHRvbSk6byksYT1zLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG8udGFibGUubm9kZUF0KHQpfSkpLGM9MDtjPHMubGVuZ3RoO2MrKylhW2NdLnR5cGU9PXIuaGVhZGVyX2NlbGwmJmkuc2V0Tm9kZU1hcmt1cChvLnRhYmxlU3RhcnQrc1tjXSxyLmNlbGwsYVtjXS5hdHRycyk7aWYoMD09aS5zdGVwcy5sZW5ndGgpZm9yKHZhciBsPTA7bDxzLmxlbmd0aDtsKyspaS5zZXROb2RlTWFya3VwKG8udGFibGVTdGFydCtzW2xdLHIuaGVhZGVyX2NlbGwsYVtsXS5hdHRycyk7bihpKX1yZXR1cm4hMH19ZnVuY3Rpb24gUHQodCxlLG4pe2Zvcih2YXIgcj1lLm1hcC5jZWxsc0luUmVjdCh7bGVmdDowLHRvcDowLHJpZ2h0OiJyb3ciPT10P2UubWFwLndpZHRoOjEsYm90dG9tOiJjb2x1bW4iPT10P2UubWFwLmhlaWdodDoxfSksbz0wO288ci5sZW5ndGg7bysrKXt2YXIgaT1lLnRhYmxlLm5vZGVBdChyW29dKTtpZihpJiZpLnR5cGUhPT1uLmhlYWRlcl9jZWxsKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIHp0KHQsZSl7cmV0dXJuIGU9ZXx8e3VzZURlcHJlY2F0ZWRMb2dpYzohMX0sZS51c2VEZXByZWNhdGVkTG9naWM/X3QodCk6ZnVuY3Rpb24oZSxuKXtpZighTihlKSlyZXR1cm4hMTtpZihuKXt2YXIgcj1rKGUuc2NoZW1hKSxvPXZ0KGUpLGk9ZS50cixzPVB0KCJyb3ciLG8sciksYT1QdCgiY29sdW1uIixvLHIpLGM9ImNvbHVtbiI9PT10P3M6InJvdyI9PT10JiZhLGw9Yz8xOjAsdT0iY29sdW1uIj09dD9uZXcgaCgwLGwsMSxvLm1hcC5oZWlnaHQpOiJyb3ciPT10P25ldyBoKGwsMCxvLm1hcC53aWR0aCwxKTpvLGY9ImNvbHVtbiI9PXQ/YT9yLmNlbGw6ci5oZWFkZXJfY2VsbDoicm93Ij09dD9zP3IuY2VsbDpyLmhlYWRlcl9jZWxsOnIuY2VsbDtvLm1hcC5jZWxsc0luUmVjdCh1KS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT10K28udGFibGVTdGFydCxuPWkuZG9jLm5vZGVBdChlKTtuJiZpLnNldE5vZGVNYXJrdXAoZSxmLG4uYXR0cnMpfSkpLG4oaSl9cmV0dXJuITB9fXZhciBJdD16dCgicm93Iix7dXNlRGVwcmVjYXRlZExvZ2ljOiEwfSksanQ9enQoImNvbHVtbiIse3VzZURlcHJlY2F0ZWRMb2dpYzohMH0pLCR0PXp0KCJjZWxsIix7dXNlRGVwcmVjYXRlZExvZ2ljOiEwfSk7ZnVuY3Rpb24gVnQodCxlKXtpZihlPDApe3ZhciBuPXQubm9kZUJlZm9yZTtpZihuKXJldHVybiB0LnBvcy1uLm5vZGVTaXplO2Zvcih2YXIgcj10LmluZGV4KC0xKS0xLG89dC5iZWZvcmUoKTtyPj0wO3ItLSl7dmFyIGk9dC5ub2RlKC0xKS5jaGlsZChyKTtpZihpLmNoaWxkQ291bnQpcmV0dXJuIG8tMS1pLmxhc3RDaGlsZC5ub2RlU2l6ZTtvLT1pLm5vZGVTaXplfX1lbHNle2lmKHQuaW5kZXgoKTx0LnBhcmVudC5jaGlsZENvdW50LTEpcmV0dXJuIHQucG9zK3Qubm9kZUFmdGVyLm5vZGVTaXplO2Zvcih2YXIgcz10Lm5vZGUoLTEpLGE9dC5pbmRleEFmdGVyKC0xKSxjPXQuYWZ0ZXIoKTthPHMuY2hpbGRDb3VudDthKyspe3ZhciBsPXMuY2hpbGQoYSk7aWYobC5jaGlsZENvdW50KXJldHVybiBjKzE7Yys9bC5ub2RlU2l6ZX19fWZ1bmN0aW9uIEJ0KHQpe3JldHVybiBmdW5jdGlvbihlLG4pe2lmKCFOKGUpKXJldHVybiExO3ZhciByPVZ0KFQoZSksdCk7aWYobnVsbCE9cil7aWYobil7dmFyIG89ZS5kb2MucmVzb2x2ZShyKTtuKGUudHIuc2V0U2VsZWN0aW9uKGlbIlRleHRTZWxlY3Rpb24iXS5iZXR3ZWVuKG8sRShvKSkpLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfX19ZnVuY3Rpb24gRnQodCxlKXtmb3IodmFyIG49dC5zZWxlY3Rpb24uJGFuY2hvcixyPW4uZGVwdGg7cj4wO3ItLSl7dmFyIG89bi5ub2RlKHIpO2lmKCJ0YWJsZSI9PW8udHlwZS5zcGVjLnRhYmxlUm9sZSlyZXR1cm4gZSYmZSh0LnRyLmRlbGV0ZShuLmJlZm9yZShyKSxuLmFmdGVyKHIpKS5zY3JvbGxJbnRvVmlldygpKSwhMH1yZXR1cm4hMX12YXIgTHQ9ZnVuY3Rpb24odCxlKXt0aGlzLm5vZGU9dCx0aGlzLmNlbGxNaW5XaWR0aD1lLHRoaXMuZG9tPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuZG9tLmNsYXNzTmFtZT0idGFibGVXcmFwcGVyIix0aGlzLnRhYmxlPXRoaXMuZG9tLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIikpLHRoaXMuY29sZ3JvdXA9dGhpcy50YWJsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjb2xncm91cCIpKSxIdCh0LHRoaXMuY29sZ3JvdXAsdGhpcy50YWJsZSxlKSx0aGlzLmNvbnRlbnRET009dGhpcy50YWJsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpKX07ZnVuY3Rpb24gSHQodCxlLG4scixvLGkpe2Zvcih2YXIgcz0wLGE9ITAsYz1lLmZpcnN0Q2hpbGQsbD10LmZpcnN0Q2hpbGQsdT0wLGY9MDt1PGwuY2hpbGRDb3VudDt1KyspZm9yKHZhciBkPWwuY2hpbGQodSkuYXR0cnMscD1kLmNvbHNwYW4saD1kLmNvbHdpZHRoLHY9MDt2PHA7disrLGYrKyl7dmFyIG09bz09Zj9pOmgmJmhbdl0sZz1tP20rInB4IjoiIjtzKz1tfHxyLG18fChhPSExKSxjPyhjLnN0eWxlLndpZHRoIT1nJiYoYy5zdHlsZS53aWR0aD1nKSxjPWMubmV4dFNpYmxpbmcpOmUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY29sIikpLnN0eWxlLndpZHRoPWd9d2hpbGUoYyl7dmFyIHk9Yy5uZXh0U2libGluZztjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyksYz15fWE/KG4uc3R5bGUud2lkdGg9cysicHgiLG4uc3R5bGUubWluV2lkdGg9IiIpOihuLnN0eWxlLndpZHRoPSIiLG4uc3R5bGUubWluV2lkdGg9cysicHgiKX1MdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PXRoaXMubm9kZS50eXBlJiYodGhpcy5ub2RlPXQsSHQodCx0aGlzLmNvbGdyb3VwLHRoaXMudGFibGUsdGhpcy5jZWxsTWluV2lkdGgpLCEwKX0sTHQucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiJhdHRyaWJ1dGVzIj09dC50eXBlJiYodC50YXJnZXQ9PXRoaXMudGFibGV8fHRoaXMuY29sZ3JvdXAuY29udGFpbnModC50YXJnZXQpKX07dmFyIHF0PW5ldyBpWyJQbHVnaW5LZXkiXSgidGFibGVDb2x1bW5SZXNpemluZyIpO2Z1bmN0aW9uIEt0KHQpe3ZvaWQgMD09PXQmJih0PXt9KTt2YXIgZT10LmhhbmRsZVdpZHRoO3ZvaWQgMD09PWUmJihlPTUpO3ZhciBuPXQuY2VsbE1pbldpZHRoO3ZvaWQgMD09PW4mJihuPTI1KTt2YXIgcj10LlZpZXc7dm9pZCAwPT09ciYmKHI9THQpO3ZhciBvPXQubGFzdENvbHVtblJlc2l6YWJsZTt2b2lkIDA9PT1vJiYobz0hMCk7dmFyIHM9bmV3IGlbIlBsdWdpbiJdKHtrZXk6cXQsc3RhdGU6e2luaXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zcGVjLnByb3BzLm5vZGVWaWV3c1trKGUuc2NoZW1hKS50YWJsZS5uYW1lXT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgcih0LG4sZSl9LG5ldyBXdCgtMSwhMSl9LGFwcGx5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuYXBwbHkodCl9fSxwcm9wczp7YXR0cmlidXRlczpmdW5jdGlvbih0KXt2YXIgZT1xdC5nZXRTdGF0ZSh0KTtyZXR1cm4gZS5hY3RpdmVIYW5kbGU+LTE/e2NsYXNzOiJyZXNpemUtY3Vyc29yIn06bnVsbH0saGFuZGxlRE9NRXZlbnRzOnttb3VzZW1vdmU6ZnVuY3Rpb24odCxyKXtKdCh0LHIsZSxuLG8pfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKHQpe1V0KHQpfSxtb3VzZWRvd246ZnVuY3Rpb24odCxlKXtHdCh0LGUsbil9fSxkZWNvcmF0aW9uczpmdW5jdGlvbih0KXt2YXIgZT1xdC5nZXRTdGF0ZSh0KTtpZihlLmFjdGl2ZUhhbmRsZT4tMSlyZXR1cm4gb2UodCxlLmFjdGl2ZUhhbmRsZSl9LG5vZGVWaWV3czp7fX19KTtyZXR1cm4gc312YXIgV3Q9ZnVuY3Rpb24odCxlKXt0aGlzLmFjdGl2ZUhhbmRsZT10LHRoaXMuZHJhZ2dpbmc9ZX07ZnVuY3Rpb24gSnQodCxlLG4scixvKXt2YXIgaT1xdC5nZXRTdGF0ZSh0LnN0YXRlKTtpZighaS5kcmFnZ2luZyl7dmFyIHM9WXQoZS50YXJnZXQpLGE9LTE7aWYocyl7dmFyIGM9cy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxsPWMubGVmdCx1PWMucmlnaHQ7ZS5jbGllbnRYLWw8PW4/YT1adCh0LGUsImxlZnQiKTp1LWUuY2xpZW50WDw9biYmKGE9WnQodCxlLCJyaWdodCIpKX1pZihhIT1pLmFjdGl2ZUhhbmRsZSl7aWYoIW8mJi0xIT09YSl7dmFyIGY9dC5zdGF0ZS5kb2MucmVzb2x2ZShhKSxkPWYubm9kZSgtMSkscD12LmdldChkKSxoPWYuc3RhcnQoLTEpLG09cC5jb2xDb3VudChmLnBvcy1oKStmLm5vZGVBZnRlci5hdHRycy5jb2xzcGFuLTE7aWYobT09cC53aWR0aC0xKXJldHVybn10ZSh0LGEpfX19ZnVuY3Rpb24gVXQodCl7dmFyIGU9cXQuZ2V0U3RhdGUodC5zdGF0ZSk7ZS5hY3RpdmVIYW5kbGU+LTEmJiFlLmRyYWdnaW5nJiZ0ZSh0LC0xKX1mdW5jdGlvbiBHdCh0LGUsbil7dmFyIHI9cXQuZ2V0U3RhdGUodC5zdGF0ZSk7aWYoLTE9PXIuYWN0aXZlSGFuZGxlfHxyLmRyYWdnaW5nKXJldHVybiExO3ZhciBvPXQuc3RhdGUuZG9jLm5vZGVBdChyLmFjdGl2ZUhhbmRsZSksaT1YdCh0LHIuYWN0aXZlSGFuZGxlLG8uYXR0cnMpO2Z1bmN0aW9uIHMoZSl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLHMpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLGEpO3ZhciByPXF0LmdldFN0YXRlKHQuc3RhdGUpO3IuZHJhZ2dpbmcmJihlZSh0LHIuYWN0aXZlSGFuZGxlLFF0KHIuZHJhZ2dpbmcsZSxuKSksdC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldE1ldGEocXQse3NldERyYWdnaW5nOm51bGx9KSkpfWZ1bmN0aW9uIGEoZSl7aWYoIWUud2hpY2gpcmV0dXJuIHMoZSk7dmFyIHI9cXQuZ2V0U3RhdGUodC5zdGF0ZSksbz1RdChyLmRyYWdnaW5nLGUsbik7bmUodCxyLmFjdGl2ZUhhbmRsZSxvLG4pfXJldHVybiB0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0TWV0YShxdCx7c2V0RHJhZ2dpbmc6e3N0YXJ0WDplLmNsaWVudFgsc3RhcnRXaWR0aDppfX0pKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIscyksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsYSksZS5wcmV2ZW50RGVmYXVsdCgpLCEwfWZ1bmN0aW9uIFh0KHQsZSxuKXt2YXIgcj1uLmNvbHNwYW4sbz1uLmNvbHdpZHRoLGk9byYmb1tvLmxlbmd0aC0xXTtpZihpKXJldHVybiBpO3ZhciBzPXQuZG9tQXRQb3MoZSksYT1zLm5vZGUuY2hpbGROb2Rlc1tzLm9mZnNldF0sYz1hLm9mZnNldFdpZHRoLGw9cjtpZihvKWZvcih2YXIgdT0wO3U8cjt1Kyspb1t1XSYmKGMtPW9bdV0sbC0tKTtyZXR1cm4gYy9sfWZ1bmN0aW9uIFl0KHQpe3doaWxlKHQmJiJURCIhPXQubm9kZU5hbWUmJiJUSCIhPXQubm9kZU5hbWUpdD10LmNsYXNzTGlzdC5jb250YWlucygiUHJvc2VNaXJyb3IiKT9udWxsOnQucGFyZW50Tm9kZTtyZXR1cm4gdH1mdW5jdGlvbiBadCh0LGUsbil7dmFyIHI9dC5wb3NBdENvb3Jkcyh7bGVmdDplLmNsaWVudFgsdG9wOmUuY2xpZW50WX0pLG89ci5wb3MsaT1DKHQuc3RhdGUuZG9jLnJlc29sdmUobykpO2lmKCFpKXJldHVybi0xO2lmKCJyaWdodCI9PW4pcmV0dXJuIGkucG9zO3ZhciBzPXYuZ2V0KGkubm9kZSgtMSkpLGE9aS5zdGFydCgtMSksYz1zLm1hcC5pbmRleE9mKGkucG9zLWEpO3JldHVybiBjJXMud2lkdGg9PTA/LTE6YStzLm1hcFtjLTFdfWZ1bmN0aW9uIFF0KHQsZSxuKXt2YXIgcj1lLmNsaWVudFgtdC5zdGFydFg7cmV0dXJuIE1hdGgubWF4KG4sdC5zdGFydFdpZHRoK3IpfWZ1bmN0aW9uIHRlKHQsZSl7dC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldE1ldGEocXQse3NldEhhbmRsZTplfSkpfWZ1bmN0aW9uIGVlKHQsZSxuKXtmb3IodmFyIHI9dC5zdGF0ZS5kb2MucmVzb2x2ZShlKSxvPXIubm9kZSgtMSksaT12LmdldChvKSxzPXIuc3RhcnQoLTEpLGE9aS5jb2xDb3VudChyLnBvcy1zKStyLm5vZGVBZnRlci5hdHRycy5jb2xzcGFuLTEsYz10LnN0YXRlLnRyLGw9MDtsPGkuaGVpZ2h0O2wrKyl7dmFyIHU9bCppLndpZHRoK2E7aWYoIWx8fGkubWFwW3VdIT1pLm1hcFt1LWkud2lkdGhdKXt2YXIgZj1pLm1hcFt1XSxkPW8ubm9kZUF0KGYpLHA9ZC5hdHRycyxoPTE9PXAuY29sc3Bhbj8wOmEtaS5jb2xDb3VudChmKTtpZighcC5jb2x3aWR0aHx8cC5jb2x3aWR0aFtoXSE9bil7dmFyIG09cC5jb2x3aWR0aD9wLmNvbHdpZHRoLnNsaWNlKCk6cmUocC5jb2xzcGFuKTttW2hdPW4sYy5zZXROb2RlTWFya3VwKHMrZixudWxsLEkocCwiY29sd2lkdGgiLG0pKX19fWMuZG9jQ2hhbmdlZCYmdC5kaXNwYXRjaChjKX1mdW5jdGlvbiBuZSh0LGUsbixyKXt2YXIgbz10LnN0YXRlLmRvYy5yZXNvbHZlKGUpLGk9by5ub2RlKC0xKSxzPW8uc3RhcnQoLTEpLGE9di5nZXQoaSkuY29sQ291bnQoby5wb3Mtcykrby5ub2RlQWZ0ZXIuYXR0cnMuY29sc3Bhbi0xLGM9dC5kb21BdFBvcyhvLnN0YXJ0KC0xKSkubm9kZTt3aGlsZSgiVEFCTEUiIT1jLm5vZGVOYW1lKWM9Yy5wYXJlbnROb2RlO0h0KGksYy5maXJzdENoaWxkLGMscixhLG4pfWZ1bmN0aW9uIHJlKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0O24rKyllLnB1c2goMCk7cmV0dXJuIGV9ZnVuY3Rpb24gb2UodCxlKXtmb3IodmFyIG49W10scj10LmRvYy5yZXNvbHZlKGUpLG89ci5ub2RlKC0xKSxpPXYuZ2V0KG8pLHM9ci5zdGFydCgtMSksYT1pLmNvbENvdW50KHIucG9zLXMpK3Iubm9kZUFmdGVyLmF0dHJzLmNvbHNwYW4sbD0wO2w8aS5oZWlnaHQ7bCsrKXt2YXIgdT1hK2wqaS53aWR0aC0xO2lmKChhPT1pLndpZHRofHxpLm1hcFt1XSE9aS5tYXBbdSsxXSkmJigwPT1sfHxpLm1hcFt1LTFdIT1pLm1hcFt1LTEtaS53aWR0aF0pKXt2YXIgZj1pLm1hcFt1XSxkPXMrZitvLm5vZGVBdChmKS5ub2RlU2l6ZS0xLHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cC5jbGFzc05hbWU9ImNvbHVtbi1yZXNpemUtaGFuZGxlIixuLnB1c2goY1siYSJdLndpZGdldChkLHApKX19cmV0dXJuIGNbImIiXS5jcmVhdGUodC5kb2Msbil9ZnVuY3Rpb24gaWUodCl7dm9pZCAwPT09dCYmKHQ9e30pO3ZhciBlPXQuYWxsb3dUYWJsZU5vZGVTZWxlY3Rpb247cmV0dXJuIHZvaWQgMD09PWUmJihlPSExKSxuZXcgaVsiUGx1Z2luIl0oe2tleTpPLHN0YXRlOntpbml0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGFwcGx5OmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRNZXRhKE8pO2lmKG51bGwhPW4pcmV0dXJuLTE9PW4/bnVsbDpuO2lmKG51bGw9PWV8fCF0LmRvY0NoYW5nZWQpcmV0dXJuIGU7dmFyIHI9dC5tYXBwaW5nLm1hcFJlc3VsdChlKSxvPXIuZGVsZXRlZCxpPXIucG9zO3JldHVybiBvP251bGw6aX19LHByb3BzOntkZWNvcmF0aW9uczpMLGhhbmRsZURPTUV2ZW50czp7bW91c2Vkb3duOmF0fSxjcmVhdGVTZWxlY3Rpb25CZXR3ZWVuOmZ1bmN0aW9uKHQpe2lmKG51bGwhPU8uZ2V0U3RhdGUodC5zdGF0ZSkpcmV0dXJuIHQuc3RhdGUuc2VsZWN0aW9ufSxoYW5kbGVUcmlwbGVDbGljazppdCxoYW5kbGVLZXlEb3duOnR0LGhhbmRsZVBhc3RlOnN0fSxhcHBlbmRUcmFuc2FjdGlvbjpmdW5jdGlvbih0LG4scil7cmV0dXJuIEsocixwdChyLG4pLGUpfX0pfVd0LnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5nZXRNZXRhKHF0KTtpZihuJiZudWxsIT1uLnNldEhhbmRsZSlyZXR1cm4gbmV3IFd0KG4uc2V0SGFuZGxlLG51bGwpO2lmKG4mJnZvaWQgMCE9PW4uc2V0RHJhZ2dpbmcpcmV0dXJuIG5ldyBXdChlLmFjdGl2ZUhhbmRsZSxuLnNldERyYWdnaW5nKTtpZihlLmFjdGl2ZUhhbmRsZT4tMSYmdC5kb2NDaGFuZ2VkKXt2YXIgcj10Lm1hcHBpbmcubWFwKGUuYWN0aXZlSGFuZGxlLC0xKTtEKHQuZG9jLnJlc29sdmUocikpfHwocj1udWxsKSxlPW5ldyBXdChyLGUuZHJhZ2dpbmcpfXJldHVybiBlfX0sNTY5MjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiYzQzMCIpLG89bigiYzZjZCIpOyh0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gb1t0XXx8KG9bdF09dm9pZCAwIT09ZT9lOnt9KX0pKCJ2ZXJzaW9ucyIsW10pLnB1c2goe3ZlcnNpb246IjMuNi41Iixtb2RlOnI/InB1cmUiOiJnbG9iYWwiLGNvcHlyaWdodDoiwqkgMjAyMCBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSJ9KX0sIjU2ZWYiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJkMDY2Iiksbz1uKCIyNDFjIiksaT1uKCI3NDE4Iikscz1uKCI4MjVhIik7dC5leHBvcnRzPXIoIlJlZmxlY3QiLCJvd25LZXlzIil8fGZ1bmN0aW9uKHQpe3ZhciBlPW8uZihzKHQpKSxuPWkuZjtyZXR1cm4gbj9lLmNvbmNhdChuKHQpKTplfX0sIjU3NmEiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiB5bn0pKSxuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHhufSkpO3ZhciByPW4oIjUzMTMiKSxvPW4oIjMwNGEiKSxpPW4oIjBhYzAiKSxzPXt9O2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiYidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50KXt2YXIgYT0vRWRnZVwvKFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCksYz0vTVNJRSBcZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxsPS9UcmlkZW50XC8oPzpbNy05XXxcZHsyLH0pXC4uKnJ2OihcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpO3MubWFjPS9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTt2YXIgdT1zLmllPSEhKGN8fGx8fGEpO3MuaWVfdmVyc2lvbj1jP2RvY3VtZW50LmRvY3VtZW50TW9kZXx8NjpsPytsWzFdOmE/K2FbMV06bnVsbCxzLmdlY2tvPSF1JiYvZ2Vja29cLyhcZCspL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxzLmdlY2tvX3ZlcnNpb249cy5nZWNrbyYmKygvRmlyZWZveFwvKFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCl8fFswLDBdKVsxXTt2YXIgZj0hdSYmL0Nocm9tZVwvKFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7cy5jaHJvbWU9ISFmLHMuY2hyb21lX3ZlcnNpb249ZiYmK2ZbMV0scy5pb3M9IXUmJi9BcHBsZVdlYktpdC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmL01vYmlsZVwvXHcrLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHMuYW5kcm9pZD0vQW5kcm9pZCBcZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxzLndlYmtpdD0id2Via2l0Rm9udFNtb290aGluZyJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUscy5zYWZhcmk9L0FwcGxlIENvbXB1dGVyLy50ZXN0KG5hdmlnYXRvci52ZW5kb3IpLHMud2Via2l0X3ZlcnNpb249cy53ZWJraXQmJisoL1xiQXBwbGVXZWJLaXRcLyhcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpfHxbMCwwXSlbMV19dmFyIGQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7O2UrKylpZih0PXQucHJldmlvdXNTaWJsaW5nLCF0KXJldHVybiBlfSxwPWZ1bmN0aW9uKHQpe3ZhciBlPXQucGFyZW50Tm9kZTtyZXR1cm4gZSYmMTE9PWUubm9kZVR5cGU/ZS5ob3N0OmV9LGg9ZnVuY3Rpb24odCxlLG4pe3ZhciByPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7cmV0dXJuIHIuc2V0RW5kKHQsbnVsbD09bj90Lm5vZGVWYWx1ZS5sZW5ndGg6biksci5zZXRTdGFydCh0LGV8fDApLHJ9LHY9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIG4mJihnKHQsZSxuLHIsLTEpfHxnKHQsZSxuLHIsMSkpfSxtPS9eKGltZ3xicnxpbnB1dHx0ZXh0YXJlYXxocikkL2k7ZnVuY3Rpb24gZyh0LGUsbixyLG8pe2Zvcig7Oyl7aWYodD09biYmZT09cilyZXR1cm4hMDtpZihlPT0obzwwPzA6eSh0KSkpe3ZhciBpPXQucGFyZW50Tm9kZTtpZigxIT1pLm5vZGVUeXBlfHx3KHQpfHxtLnRlc3QodC5ub2RlTmFtZSl8fCJmYWxzZSI9PXQuY29udGVudEVkaXRhYmxlKXJldHVybiExO2U9ZCh0KSsobzwwPzA6MSksdD1pfWVsc2V7aWYoMSE9dC5ub2RlVHlwZSlyZXR1cm4hMTtpZih0PXQuY2hpbGROb2Rlc1tlKyhvPDA/LTE6MCldLCJmYWxzZSI9PXQuY29udGVudEVkaXRhYmxlKXJldHVybiExO2U9bzwwP3kodCk6MH19fWZ1bmN0aW9uIHkodCl7cmV0dXJuIDM9PXQubm9kZVR5cGU/dC5ub2RlVmFsdWUubGVuZ3RoOnQuY2hpbGROb2Rlcy5sZW5ndGh9ZnVuY3Rpb24gYih0LGUsbil7Zm9yKHZhciByPTA9PWUsbz1lPT15KHQpO3J8fG87KXtpZih0PT1uKXJldHVybiEwO3ZhciBpPWQodCk7aWYodD10LnBhcmVudE5vZGUsIXQpcmV0dXJuITE7cj1yJiYwPT1pLG89byYmaT09eSh0KX19ZnVuY3Rpb24gdyh0KXtmb3IodmFyIGUsbj10O247bj1uLnBhcmVudE5vZGUpaWYoZT1uLnBtVmlld0Rlc2MpYnJlYWs7cmV0dXJuIGUmJmUubm9kZSYmZS5ub2RlLmlzQmxvY2smJihlLmRvbT09dHx8ZS5jb250ZW50RE9NPT10KX12YXIgUz1mdW5jdGlvbih0KXt2YXIgZT10LmlzQ29sbGFwc2VkO3JldHVybiBlJiZzLmNocm9tZSYmdC5yYW5nZUNvdW50JiYhdC5nZXRSYW5nZUF0KDApLmNvbGxhcHNlZCYmKGU9ITEpLGV9O2Z1bmN0aW9uIHgodCxlKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKTtyZXR1cm4gbi5pbml0RXZlbnQoImtleWRvd24iLCEwLCEwKSxuLmtleUNvZGU9dCxuLmtleT1uLmNvZGU9ZSxufWZ1bmN0aW9uIGsodCl7cmV0dXJue2xlZnQ6MCxyaWdodDp0LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCx0b3A6MCxib3R0b206dC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0fX1mdW5jdGlvbiBPKHQsZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0P3Q6dFtlXX1mdW5jdGlvbiBDKHQpe3ZhciBlPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue2xlZnQ6ZS5sZWZ0LHJpZ2h0OmUubGVmdCt0LmNsaWVudFdpZHRoLHRvcDplLnRvcCxib3R0b206ZS50b3ArdC5jbGllbnRIZWlnaHR9fWZ1bmN0aW9uIE0odCxlLG4pe2Zvcih2YXIgcj10LnNvbWVQcm9wKCJzY3JvbGxUaHJlc2hvbGQiKXx8MCxvPXQuc29tZVByb3AoInNjcm9sbE1hcmdpbiIpfHw1LGk9dC5kb20ub3duZXJEb2N1bWVudCxzPW58fHQuZG9tOztzPXAocykpe2lmKCFzKWJyZWFrO2lmKDE9PXMubm9kZVR5cGUpe3ZhciBhPXM9PWkuYm9keXx8MSE9cy5ub2RlVHlwZSxjPWE/ayhpKTpDKHMpLGw9MCx1PTA7aWYoZS50b3A8Yy50b3ArTyhyLCJ0b3AiKT91PS0oYy50b3AtZS50b3ArTyhvLCJ0b3AiKSk6ZS5ib3R0b20+Yy5ib3R0b20tTyhyLCJib3R0b20iKSYmKHU9ZS5ib3R0b20tYy5ib3R0b20rTyhvLCJib3R0b20iKSksZS5sZWZ0PGMubGVmdCtPKHIsImxlZnQiKT9sPS0oYy5sZWZ0LWUubGVmdCtPKG8sImxlZnQiKSk6ZS5yaWdodD5jLnJpZ2h0LU8ociwicmlnaHQiKSYmKGw9ZS5yaWdodC1jLnJpZ2h0K08obywicmlnaHQiKSksbHx8dSlpZihhKWkuZGVmYXVsdFZpZXcuc2Nyb2xsQnkobCx1KTtlbHNle3ZhciBmPXMuc2Nyb2xsTGVmdCxkPXMuc2Nyb2xsVG9wO3UmJihzLnNjcm9sbFRvcCs9dSksbCYmKHMuc2Nyb2xsTGVmdCs9bCk7dmFyIGg9cy5zY3JvbGxMZWZ0LWYsdj1zLnNjcm9sbFRvcC1kO2U9e2xlZnQ6ZS5sZWZ0LWgsdG9wOmUudG9wLXYscmlnaHQ6ZS5yaWdodC1oLGJvdHRvbTplLmJvdHRvbS12fX1pZihhKWJyZWFrfX19ZnVuY3Rpb24gTih0KXtmb3IodmFyIGUsbixyPXQuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG89TWF0aC5tYXgoMCxyLnRvcCksaT0oci5sZWZ0K3IucmlnaHQpLzIscz1vKzE7czxNYXRoLm1pbihpbm5lckhlaWdodCxyLmJvdHRvbSk7cys9NSl7dmFyIGE9dC5yb290LmVsZW1lbnRGcm9tUG9pbnQoaSxzKTtpZihhIT10LmRvbSYmdC5kb20uY29udGFpbnMoYSkpe3ZhciBjPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYoYy50b3A+PW8tMjApe2U9YSxuPWMudG9wO2JyZWFrfX19cmV0dXJue3JlZkRPTTplLHJlZlRvcDpuLHN0YWNrOlQodC5kb20pfX1mdW5jdGlvbiBUKHQpe2Zvcih2YXIgZT1bXSxuPXQub3duZXJEb2N1bWVudDt0O3Q9cCh0KSlpZihlLnB1c2goe2RvbTp0LHRvcDp0LnNjcm9sbFRvcCxsZWZ0OnQuc2Nyb2xsTGVmdH0pLHQ9PW4pYnJlYWs7cmV0dXJuIGV9ZnVuY3Rpb24gQSh0KXt2YXIgZT10LnJlZkRPTSxuPXQucmVmVG9wLHI9dC5zdGFjayxvPWU/ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A6MDtEKHIsMD09bz8wOm8tbil9ZnVuY3Rpb24gRCh0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dLG89ci5kb20saT1yLnRvcCxzPXIubGVmdDtvLnNjcm9sbFRvcCE9aStlJiYoby5zY3JvbGxUb3A9aStlKSxvLnNjcm9sbExlZnQhPXMmJihvLnNjcm9sbExlZnQ9cyl9fXZhciBFPW51bGw7ZnVuY3Rpb24gUih0KXtpZih0LnNldEFjdGl2ZSlyZXR1cm4gdC5zZXRBY3RpdmUoKTtpZihFKXJldHVybiB0LmZvY3VzKEUpO3ZhciBlPVQodCk7dC5mb2N1cyhudWxsPT1FP3tnZXQgcHJldmVudFNjcm9sbCgpe3JldHVybiBFPXtwcmV2ZW50U2Nyb2xsOiEwfSwhMH19OnZvaWQgMCksRXx8KEU9ITEsRChlLDApKX1mdW5jdGlvbiBfKHQsZSl7Zm9yKHZhciBuLHIsbz0yZTgsaT0wLHM9ZS50b3AsYT1lLnRvcCxjPXQuZmlyc3RDaGlsZCxsPTA7YztjPWMubmV4dFNpYmxpbmcsbCsrKXt2YXIgdT12b2lkIDA7aWYoMT09Yy5ub2RlVHlwZSl1PWMuZ2V0Q2xpZW50UmVjdHMoKTtlbHNle2lmKDMhPWMubm9kZVR5cGUpY29udGludWU7dT1oKGMpLmdldENsaWVudFJlY3RzKCl9Zm9yKHZhciBmPTA7Zjx1Lmxlbmd0aDtmKyspe3ZhciBkPXVbZl07aWYoZC50b3A8PXMmJmQuYm90dG9tPj1hKXtzPU1hdGgubWF4KGQuYm90dG9tLHMpLGE9TWF0aC5taW4oZC50b3AsYSk7dmFyIHA9ZC5sZWZ0PmUubGVmdD9kLmxlZnQtZS5sZWZ0OmQucmlnaHQ8ZS5sZWZ0P2UubGVmdC1kLnJpZ2h0OjA7aWYocDxvKXtuPWMsbz1wLHI9cCYmMz09bi5ub2RlVHlwZT97bGVmdDpkLnJpZ2h0PGUubGVmdD9kLnJpZ2h0OmQubGVmdCx0b3A6ZS50b3B9OmUsMT09Yy5ub2RlVHlwZSYmcCYmKGk9bCsoZS5sZWZ0Pj0oZC5sZWZ0K2QucmlnaHQpLzI/MTowKSk7Y29udGludWV9fSFuJiYoZS5sZWZ0Pj1kLnJpZ2h0JiZlLnRvcD49ZC50b3B8fGUubGVmdD49ZC5sZWZ0JiZlLnRvcD49ZC5ib3R0b20pJiYoaT1sKzEpfX1yZXR1cm4gbiYmMz09bi5ub2RlVHlwZT9QKG4scik6IW58fG8mJjE9PW4ubm9kZVR5cGU/e25vZGU6dCxvZmZzZXQ6aX06XyhuLHIpfWZ1bmN0aW9uIFAodCxlKXtmb3IodmFyIG49dC5ub2RlVmFsdWUubGVuZ3RoLHI9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSxvPTA7bzxuO28rKyl7ci5zZXRFbmQodCxvKzEpLHIuc2V0U3RhcnQodCxvKTt2YXIgaT1GKHIsMSk7aWYoaS50b3AhPWkuYm90dG9tJiZ6KGUsaSkpcmV0dXJue25vZGU6dCxvZmZzZXQ6bysoZS5sZWZ0Pj0oaS5sZWZ0K2kucmlnaHQpLzI/MTowKX19cmV0dXJue25vZGU6dCxvZmZzZXQ6MH19ZnVuY3Rpb24geih0LGUpe3JldHVybiB0LmxlZnQ+PWUubGVmdC0xJiZ0LmxlZnQ8PWUucmlnaHQrMSYmdC50b3A+PWUudG9wLTEmJnQudG9wPD1lLmJvdHRvbSsxfWZ1bmN0aW9uIEkodCxlKXt2YXIgbj10LnBhcmVudE5vZGU7cmV0dXJuIG4mJi9ebGkkL2kudGVzdChuLm5vZGVOYW1lKSYmZS5sZWZ0PHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdD9uOnR9ZnVuY3Rpb24gaih0LGUsbil7dmFyIHI9XyhlLG4pLG89ci5ub2RlLGk9ci5vZmZzZXQscz0tMTtpZigxPT1vLm5vZGVUeXBlJiYhby5maXJzdENoaWxkKXt2YXIgYT1vLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3M9YS5sZWZ0IT1hLnJpZ2h0JiZuLmxlZnQ+KGEubGVmdCthLnJpZ2h0KS8yPzE6LTF9cmV0dXJuIHQuZG9jVmlldy5wb3NGcm9tRE9NKG8saSxzKX1mdW5jdGlvbiAkKHQsZSxuLHIpe2Zvcih2YXIgbz0tMSxpPWU7Oyl7aWYoaT09dC5kb20pYnJlYWs7dmFyIHM9dC5kb2NWaWV3Lm5lYXJlc3REZXNjKGksITApO2lmKCFzKXJldHVybiBudWxsO2lmKHMubm9kZS5pc0Jsb2NrJiZzLnBhcmVudCl7dmFyIGE9cy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYoYS5sZWZ0PnIubGVmdHx8YS50b3A+ci50b3Apbz1zLnBvc0JlZm9yZTtlbHNle2lmKCEoYS5yaWdodDxyLmxlZnR8fGEuYm90dG9tPHIudG9wKSlicmVhaztvPXMucG9zQWZ0ZXJ9fWk9cy5kb20ucGFyZW50Tm9kZX1yZXR1cm4gbz4tMT9vOnQuZG9jVmlldy5wb3NGcm9tRE9NKGUsbil9ZnVuY3Rpb24gVih0LGUsbil7dmFyIHI9dC5jaGlsZE5vZGVzLmxlbmd0aDtpZihyJiZuLnRvcDxuLmJvdHRvbSlmb3IodmFyIG89TWF0aC5tYXgoMCxNYXRoLm1pbihyLTEsTWF0aC5mbG9vcihyKihlLnRvcC1uLnRvcCkvKG4uYm90dG9tLW4udG9wKSktMikpLGk9bzs7KXt2YXIgcz10LmNoaWxkTm9kZXNbaV07aWYoMT09cy5ub2RlVHlwZSlmb3IodmFyIGE9cy5nZXRDbGllbnRSZWN0cygpLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGw9YVtjXTtpZih6KGUsbCkpcmV0dXJuIFYocyxlLGwpfWlmKChpPShpKzEpJXIpPT1vKWJyZWFrfXJldHVybiB0fWZ1bmN0aW9uIEIodCxlKXt2YXIgbixyLG8saSxhPXQucm9vdDtpZihhLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQpdHJ5e3ZhciBjPWEuY2FyZXRQb3NpdGlvbkZyb21Qb2ludChlLmxlZnQsZS50b3ApO2MmJihuPWMsbz1uLm9mZnNldE5vZGUsaT1uLm9mZnNldCl9Y2F0Y2gobSl7fWlmKCFvJiZhLmNhcmV0UmFuZ2VGcm9tUG9pbnQpe3ZhciBsPWEuY2FyZXRSYW5nZUZyb21Qb2ludChlLmxlZnQsZS50b3ApO2wmJihyPWwsbz1yLnN0YXJ0Q29udGFpbmVyLGk9ci5zdGFydE9mZnNldCl9dmFyIHUsZj1hLmVsZW1lbnRGcm9tUG9pbnQoZS5sZWZ0LGUudG9wKzEpO2lmKCFmfHwhdC5kb20uY29udGFpbnMoMSE9Zi5ub2RlVHlwZT9mLnBhcmVudE5vZGU6Zikpe3ZhciBkPXQuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKCF6KGUsZCkpcmV0dXJuIG51bGw7aWYoZj1WKHQuZG9tLGUsZCksIWYpcmV0dXJuIG51bGx9aWYocy5zYWZhcmkmJmYuZHJhZ2dhYmxlJiYobz1pPW51bGwpLGY9SShmLGUpLG8pe2lmKHMuZ2Vja28mJjE9PW8ubm9kZVR5cGUmJihpPU1hdGgubWluKGksby5jaGlsZE5vZGVzLmxlbmd0aCksaTxvLmNoaWxkTm9kZXMubGVuZ3RoKSl7dmFyIHAsaD1vLmNoaWxkTm9kZXNbaV07IklNRyI9PWgubm9kZU5hbWUmJihwPWguZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLnJpZ2h0PD1lLmxlZnQmJnAuYm90dG9tPmUudG9wJiZpKyt9bz09dC5kb20mJmk9PW8uY2hpbGROb2Rlcy5sZW5ndGgtMSYmMT09by5sYXN0Q2hpbGQubm9kZVR5cGUmJmUudG9wPm8ubGFzdENoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbT91PXQuc3RhdGUuZG9jLmNvbnRlbnQuc2l6ZTowIT1pJiYxPT1vLm5vZGVUeXBlJiYiQlIiPT1vLmNoaWxkTm9kZXNbaS0xXS5ub2RlTmFtZXx8KHU9JCh0LG8saSxlKSl9bnVsbD09dSYmKHU9aih0LGYsZSkpO3ZhciB2PXQuZG9jVmlldy5uZWFyZXN0RGVzYyhmLCEwKTtyZXR1cm57cG9zOnUsaW5zaWRlOnY/di5wb3NBdFN0YXJ0LXYuYm9yZGVyOi0xfX1mdW5jdGlvbiBGKHQsZSl7dmFyIG49dC5nZXRDbGllbnRSZWN0cygpO3JldHVybiBuLmxlbmd0aD9uW2U8MD8wOm4ubGVuZ3RoLTFdOnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9ZnVuY3Rpb24gTCh0LGUpe3ZhciBuPXQuZG9jVmlldy5kb21Gcm9tUG9zKGUpLHI9bi5ub2RlLG89bi5vZmZzZXQ7aWYoMz09ci5ub2RlVHlwZSYmKHMud2Via2l0fHxzLmdlY2tvKSl7dmFyIGk9RihoKHIsbyxvKSwwKTtpZihzLmdlY2tvJiZvJiYvXHMvLnRlc3Qoci5ub2RlVmFsdWVbby0xXSkmJm88ci5ub2RlVmFsdWUubGVuZ3RoKXt2YXIgYT1GKGgocixvLTEsby0xKSwtMSk7aWYoYS50b3A9PWkudG9wKXt2YXIgYz1GKGgocixvLG8rMSksLTEpO2lmKGMudG9wIT1pLnRvcClyZXR1cm4gSChjLGMubGVmdDxhLmxlZnQpfX1yZXR1cm4gaX1pZigxPT1yLm5vZGVUeXBlJiYhdC5zdGF0ZS5kb2MucmVzb2x2ZShlKS5wYXJlbnQuaW5saW5lQ29udGVudCl7dmFyIGwsdT0hMDtpZihvPHIuY2hpbGROb2Rlcy5sZW5ndGgpe3ZhciBmPXIuY2hpbGROb2Rlc1tvXTsxPT1mLm5vZGVUeXBlJiYobD1mLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKX1pZighbCYmbyl7dmFyIGQ9ci5jaGlsZE5vZGVzW28tMV07MT09ZC5ub2RlVHlwZSYmKGw9ZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx1PSExKX1yZXR1cm4gcShsfHxyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHUpfWZvcih2YXIgcD0tMTtwPDI7cCs9MilpZihwPDAmJm8pe3ZhciB2PXZvaWQgMCxtPTM9PXIubm9kZVR5cGU/aChyLG8tMSxvKTozPT0odj1yLmNoaWxkTm9kZXNbby0xXSkubm9kZVR5cGU/aCh2KToxPT12Lm5vZGVUeXBlJiYiQlIiIT12Lm5vZGVOYW1lP3Y6bnVsbDtpZihtKXt2YXIgZz1GKG0sMSk7aWYoZy50b3A8Zy5ib3R0b20pcmV0dXJuIEgoZywhMSl9fWVsc2UgaWYocD4wJiZvPHkocikpe3ZhciBiPXZvaWQgMCx3PTM9PXIubm9kZVR5cGU/aChyLG8sbysxKTozPT0oYj1yLmNoaWxkTm9kZXNbb10pLm5vZGVUeXBlP2goYik6MT09Yi5ub2RlVHlwZT9iOm51bGw7aWYodyl7dmFyIFM9Rih3LC0xKTtpZihTLnRvcDxTLmJvdHRvbSlyZXR1cm4gSChTLCEwKX19cmV0dXJuIEgoRigzPT1yLm5vZGVUeXBlP2gocik6ciwwKSwhMSl9ZnVuY3Rpb24gSCh0LGUpe2lmKDA9PXQud2lkdGgpcmV0dXJuIHQ7dmFyIG49ZT90LmxlZnQ6dC5yaWdodDtyZXR1cm57dG9wOnQudG9wLGJvdHRvbTp0LmJvdHRvbSxsZWZ0Om4scmlnaHQ6bn19ZnVuY3Rpb24gcSh0LGUpe2lmKDA9PXQuaGVpZ2h0KXJldHVybiB0O3ZhciBuPWU/dC50b3A6dC5ib3R0b207cmV0dXJue3RvcDpuLGJvdHRvbTpuLGxlZnQ6dC5sZWZ0LHJpZ2h0OnQucmlnaHR9fWZ1bmN0aW9uIEsodCxlLG4pe3ZhciByPXQuc3RhdGUsbz10LnJvb3QuYWN0aXZlRWxlbWVudDtyIT1lJiZ0LnVwZGF0ZVN0YXRlKGUpLG8hPXQuZG9tJiZ0LmZvY3VzKCk7dHJ5e3JldHVybiBuKCl9ZmluYWxseXtyIT1lJiZ0LnVwZGF0ZVN0YXRlKHIpLG8hPXQuZG9tJiZvJiZvLmZvY3VzKCl9fWZ1bmN0aW9uIFcodCxlLG4pe3ZhciByPWUuc2VsZWN0aW9uLG89InVwIj09bj9yLiRhbmNob3IubWluKHIuJGhlYWQpOnIuJGFuY2hvci5tYXgoci4kaGVhZCk7cmV0dXJuIEsodCxlLChmdW5jdGlvbigpe2Zvcih2YXIgZT10LmRvY1ZpZXcuZG9tRnJvbVBvcyhvLnBvcykscj1lLm5vZGU7Oyl7dmFyIGk9dC5kb2NWaWV3Lm5lYXJlc3REZXNjKHIsITApO2lmKCFpKWJyZWFrO2lmKGkubm9kZS5pc0Jsb2NrKXtyPWkuZG9tO2JyZWFrfXI9aS5kb20ucGFyZW50Tm9kZX1mb3IodmFyIHM9TCh0LG8ucG9zKSxhPXIuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyl7dmFyIGM9dm9pZCAwO2lmKDE9PWEubm9kZVR5cGUpYz1hLmdldENsaWVudFJlY3RzKCk7ZWxzZXtpZigzIT1hLm5vZGVUeXBlKWNvbnRpbnVlO2M9aChhLDAsYS5ub2RlVmFsdWUubGVuZ3RoKS5nZXRDbGllbnRSZWN0cygpfWZvcih2YXIgbD0wO2w8Yy5sZW5ndGg7bCsrKXt2YXIgdT1jW2xdO2lmKHUuYm90dG9tPnUudG9wJiYoInVwIj09bj91LmJvdHRvbTxzLnRvcCsxOnUudG9wPnMuYm90dG9tLTEpKXJldHVybiExfX1yZXR1cm4hMH0pKX12YXIgSj0vW1x1MDU5MC1cdTA4YWNdLztmdW5jdGlvbiBVKHQsZSxuKXt2YXIgcj1lLnNlbGVjdGlvbixvPXIuJGhlYWQ7aWYoIW8ucGFyZW50LmlzVGV4dGJsb2NrKXJldHVybiExO3ZhciBpPW8ucGFyZW50T2Zmc2V0LHM9IWksYT1pPT1vLnBhcmVudC5jb250ZW50LnNpemUsYz1nZXRTZWxlY3Rpb24oKTtyZXR1cm4gSi50ZXN0KG8ucGFyZW50LnRleHRDb250ZW50KSYmYy5tb2RpZnk/Syh0LGUsKGZ1bmN0aW9uKCl7dmFyIGU9Yy5nZXRSYW5nZUF0KDApLHI9Yy5mb2N1c05vZGUsaT1jLmZvY3VzT2Zmc2V0LHM9Yy5jYXJldEJpZGlMZXZlbDtjLm1vZGlmeSgibW92ZSIsbiwiY2hhcmFjdGVyIik7dmFyIGE9by5kZXB0aD90LmRvY1ZpZXcuZG9tQWZ0ZXJQb3Moby5iZWZvcmUoKSk6dC5kb20sbD0hYS5jb250YWlucygxPT1jLmZvY3VzTm9kZS5ub2RlVHlwZT9jLmZvY3VzTm9kZTpjLmZvY3VzTm9kZS5wYXJlbnROb2RlKXx8cj09Yy5mb2N1c05vZGUmJmk9PWMuZm9jdXNPZmZzZXQ7cmV0dXJuIGMucmVtb3ZlQWxsUmFuZ2VzKCksYy5hZGRSYW5nZShlKSxudWxsIT1zJiYoYy5jYXJldEJpZGlMZXZlbD1zKSxsfSkpOiJsZWZ0Ij09bnx8ImJhY2t3YXJkIj09bj9zOmF9dmFyIEc9bnVsbCxYPW51bGwsWT0hMTtmdW5jdGlvbiBaKHQsZSxuKXtyZXR1cm4gRz09ZSYmWD09bj9ZOihHPWUsWD1uLFk9InVwIj09bnx8ImRvd24iPT1uP1codCxlLG4pOlUodCxlLG4pKX12YXIgUT0wLHR0PTEsZXQ9MixudD0zLHJ0PWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMucGFyZW50PXQsdGhpcy5jaGlsZHJlbj1lLHRoaXMuZG9tPW4sbi5wbVZpZXdEZXNjPXRoaXMsdGhpcy5jb250ZW50RE9NPXIsdGhpcy5kaXJ0eT1RfSxvdD17YmVmb3JlUG9zaXRpb246e2NvbmZpZ3VyYWJsZTohMH0sc2l6ZTp7Y29uZmlndXJhYmxlOiEwfSxib3JkZXI6e2NvbmZpZ3VyYWJsZTohMH0scG9zQmVmb3JlOntjb25maWd1cmFibGU6ITB9LHBvc0F0U3RhcnQ6e2NvbmZpZ3VyYWJsZTohMH0scG9zQWZ0ZXI6e2NvbmZpZ3VyYWJsZTohMH0scG9zQXRFbmQ6e2NvbmZpZ3VyYWJsZTohMH0sY29udGVudExvc3Q6e2NvbmZpZ3VyYWJsZTohMH19O3J0LnByb3RvdHlwZS5tYXRjaGVzV2lkZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuITF9LHJ0LnByb3RvdHlwZS5tYXRjaGVzTWFyaz1mdW5jdGlvbigpe3JldHVybiExfSxydC5wcm90b3R5cGUubWF0Y2hlc05vZGU9ZnVuY3Rpb24oKXtyZXR1cm4hMX0scnQucHJvdG90eXBlLm1hdGNoZXNIYWNrPWZ1bmN0aW9uKCl7cmV0dXJuITF9LG90LmJlZm9yZVBvc2l0aW9uLmdldD1mdW5jdGlvbigpe3JldHVybiExfSxydC5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHJ0LnByb3RvdHlwZS5zdG9wRXZlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sb3Quc2l6ZS5nZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTA7ZTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtlKyspdCs9dGhpcy5jaGlsZHJlbltlXS5zaXplO3JldHVybiB0fSxvdC5ib3JkZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LHJ0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5wYXJlbnQ9bnVsbCx0aGlzLmRvbS5wbVZpZXdEZXNjPT10aGlzJiYodGhpcy5kb20ucG1WaWV3RGVzYz1udWxsKTtmb3IodmFyIHQ9MDt0PHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3QrKyl0aGlzLmNoaWxkcmVuW3RdLmRlc3Ryb3koKX0scnQucHJvdG90eXBlLnBvc0JlZm9yZUNoaWxkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5wb3NBdFN0YXJ0O2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKXt2YXIgcj10aGlzLmNoaWxkcmVuW2VdO2lmKHI9PXQpcmV0dXJuIG47bis9ci5zaXplfX0sb3QucG9zQmVmb3JlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudC5wb3NCZWZvcmVDaGlsZCh0aGlzKX0sb3QucG9zQXRTdGFydC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQucG9zQmVmb3JlQ2hpbGQodGhpcykrdGhpcy5ib3JkZXI6MH0sb3QucG9zQWZ0ZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zQmVmb3JlK3RoaXMuc2l6ZX0sb3QucG9zQXRFbmQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zQXRTdGFydCt0aGlzLnNpemUtMip0aGlzLmJvcmRlcn0scnQucHJvdG90eXBlLmxvY2FsUG9zRnJvbURPTT1mdW5jdGlvbih0LGUsbil7aWYodGhpcy5jb250ZW50RE9NJiZ0aGlzLmNvbnRlbnRET00uY29udGFpbnMoMT09dC5ub2RlVHlwZT90OnQucGFyZW50Tm9kZSkpe2lmKG48MCl7dmFyIHIsbztpZih0PT10aGlzLmNvbnRlbnRET00pcj10LmNoaWxkTm9kZXNbZS0xXTtlbHNle3doaWxlKHQucGFyZW50Tm9kZSE9dGhpcy5jb250ZW50RE9NKXQ9dC5wYXJlbnROb2RlO3I9dC5wcmV2aW91c1NpYmxpbmd9d2hpbGUociYmKCEobz1yLnBtVmlld0Rlc2MpfHxvLnBhcmVudCE9dGhpcykpcj1yLnByZXZpb3VzU2libGluZztyZXR1cm4gcj90aGlzLnBvc0JlZm9yZUNoaWxkKG8pK28uc2l6ZTp0aGlzLnBvc0F0U3RhcnR9dmFyIGkscztpZih0PT10aGlzLmNvbnRlbnRET00paT10LmNoaWxkTm9kZXNbZV07ZWxzZXt3aGlsZSh0LnBhcmVudE5vZGUhPXRoaXMuY29udGVudERPTSl0PXQucGFyZW50Tm9kZTtpPXQubmV4dFNpYmxpbmd9d2hpbGUoaSYmKCEocz1pLnBtVmlld0Rlc2MpfHxzLnBhcmVudCE9dGhpcykpaT1pLm5leHRTaWJsaW5nO3JldHVybiBpP3RoaXMucG9zQmVmb3JlQ2hpbGQocyk6dGhpcy5wb3NBdEVuZH12YXIgYTtpZih0aGlzLmNvbnRlbnRET00mJnRoaXMuY29udGVudERPTSE9dGhpcy5kb20mJnRoaXMuZG9tLmNvbnRhaW5zKHRoaXMuY29udGVudERPTSkpYT0yJnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24odGhpcy5jb250ZW50RE9NKTtlbHNlIGlmKHRoaXMuZG9tLmZpcnN0Q2hpbGQpe2lmKDA9PWUpZm9yKHZhciBjPXQ7O2M9Yy5wYXJlbnROb2RlKXtpZihjPT10aGlzLmRvbSl7YT0hMTticmVha31pZihjLnBhcmVudE5vZGUuZmlyc3RDaGlsZCE9YylicmVha31pZihudWxsPT1hJiZlPT10LmNoaWxkTm9kZXMubGVuZ3RoKWZvcih2YXIgbD10OztsPWwucGFyZW50Tm9kZSl7aWYobD09dGhpcy5kb20pe2E9ITA7YnJlYWt9aWYobC5wYXJlbnROb2RlLmxhc3RDaGlsZCE9bClicmVha319cmV0dXJuKG51bGw9PWE/bj4wOmEpP3RoaXMucG9zQXRFbmQ6dGhpcy5wb3NBdFN0YXJ0fSxydC5wcm90b3R5cGUubmVhcmVzdERlc2M9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ITAscj10O3I7cj1yLnBhcmVudE5vZGUpe3ZhciBvPXRoaXMuZ2V0RGVzYyhyKTtpZihvJiYoIWV8fG8ubm9kZSkpe2lmKCFufHwhby5ub2RlRE9NfHwoMT09by5ub2RlRE9NLm5vZGVUeXBlP28ubm9kZURPTS5jb250YWlucygxPT10Lm5vZGVUeXBlP3Q6dC5wYXJlbnROb2RlKTpvLm5vZGVET009PXQpKXJldHVybiBvO249ITF9fX0scnQucHJvdG90eXBlLmdldERlc2M9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQucG1WaWV3RGVzYyxuPWU7bjtuPW4ucGFyZW50KWlmKG49PXRoaXMpcmV0dXJuIGV9LHJ0LnByb3RvdHlwZS5wb3NGcm9tRE9NPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9dDtyO3I9ci5wYXJlbnROb2RlKXt2YXIgbz10aGlzLmdldERlc2Mocik7aWYobylyZXR1cm4gby5sb2NhbFBvc0Zyb21ET00odCxlLG4pfXJldHVybi0xfSxydC5wcm90b3R5cGUuZGVzY0F0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49MDtlPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2UrKyl7dmFyIHI9dGhpcy5jaGlsZHJlbltlXSxvPW4rci5zaXplO2lmKG49PXQmJm8hPW4pe3doaWxlKCFyLmJvcmRlciYmci5jaGlsZHJlbi5sZW5ndGgpcj1yLmNoaWxkcmVuWzBdO3JldHVybiByfWlmKHQ8bylyZXR1cm4gci5kZXNjQXQodC1uLXIuYm9yZGVyKTtuPW99fSxydC5wcm90b3R5cGUuZG9tRnJvbVBvcz1mdW5jdGlvbih0KXtpZighdGhpcy5jb250ZW50RE9NKXJldHVybntub2RlOnRoaXMuZG9tLG9mZnNldDowfTtmb3IodmFyIGU9MCxuPTA7O24rKyl7aWYoZT09dCl7d2hpbGUobjx0aGlzLmNoaWxkcmVuLmxlbmd0aCYmKHRoaXMuY2hpbGRyZW5bbl0uYmVmb3JlUG9zaXRpb258fHRoaXMuY2hpbGRyZW5bbl0uZG9tLnBhcmVudE5vZGUhPXRoaXMuY29udGVudERPTSkpbisrO3JldHVybntub2RlOnRoaXMuY29udGVudERPTSxvZmZzZXQ6bj09dGhpcy5jaGlsZHJlbi5sZW5ndGg/dGhpcy5jb250ZW50RE9NLmNoaWxkTm9kZXMubGVuZ3RoOmQodGhpcy5jaGlsZHJlbltuXS5kb20pfX1pZihuPT10aGlzLmNoaWxkcmVuLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcG9zaXRpb24gIit0KTt2YXIgcj10aGlzLmNoaWxkcmVuW25dLG89ZStyLnNpemU7aWYodDxvKXJldHVybiByLmRvbUZyb21Qb3ModC1lLXIuYm9yZGVyKTtlPW99fSxydC5wcm90b3R5cGUucGFyc2VSYW5nZT1mdW5jdGlvbih0LGUsbil7aWYodm9pZCAwPT09biYmKG49MCksMD09dGhpcy5jaGlsZHJlbi5sZW5ndGgpcmV0dXJue25vZGU6dGhpcy5jb250ZW50RE9NLGZyb206dCx0bzplLGZyb21PZmZzZXQ6MCx0b09mZnNldDp0aGlzLmNvbnRlbnRET00uY2hpbGROb2Rlcy5sZW5ndGh9O2Zvcih2YXIgcj0tMSxvPS0xLGk9bixzPTA7O3MrKyl7dmFyIGE9dGhpcy5jaGlsZHJlbltzXSxjPWkrYS5zaXplO2lmKC0xPT1yJiZ0PD1jKXt2YXIgbD1pK2EuYm9yZGVyO2lmKHQ+PWwmJmU8PWMtYS5ib3JkZXImJmEubm9kZSYmYS5jb250ZW50RE9NJiZ0aGlzLmNvbnRlbnRET00uY29udGFpbnMoYS5jb250ZW50RE9NKSlyZXR1cm4gYS5wYXJzZVJhbmdlKHQsZSxsKTt0PWk7Zm9yKHZhciB1PXM7dT4wO3UtLSl7dmFyIGY9dGhpcy5jaGlsZHJlblt1LTFdO2lmKGYuc2l6ZSYmZi5kb20ucGFyZW50Tm9kZT09dGhpcy5jb250ZW50RE9NJiYhZi5lbXB0eUNoaWxkQXQoMSkpe3I9ZChmLmRvbSkrMTticmVha310LT1mLnNpemV9LTE9PXImJihyPTApfWlmKHI+LTEmJihjPmV8fHM9PXRoaXMuY2hpbGRyZW4ubGVuZ3RoLTEpKXtlPWM7Zm9yKHZhciBwPXMrMTtwPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3ArKyl7dmFyIGg9dGhpcy5jaGlsZHJlbltwXTtpZihoLnNpemUmJmguZG9tLnBhcmVudE5vZGU9PXRoaXMuY29udGVudERPTSYmIWguZW1wdHlDaGlsZEF0KC0xKSl7bz1kKGguZG9tKTticmVha31lKz1oLnNpemV9LTE9PW8mJihvPXRoaXMuY29udGVudERPTS5jaGlsZE5vZGVzLmxlbmd0aCk7YnJlYWt9aT1jfXJldHVybntub2RlOnRoaXMuY29udGVudERPTSxmcm9tOnQsdG86ZSxmcm9tT2Zmc2V0OnIsdG9PZmZzZXQ6b319LHJ0LnByb3RvdHlwZS5lbXB0eUNoaWxkQXQ9ZnVuY3Rpb24odCl7aWYodGhpcy5ib3JkZXJ8fCF0aGlzLmNvbnRlbnRET018fCF0aGlzLmNoaWxkcmVuLmxlbmd0aClyZXR1cm4hMTt2YXIgZT10aGlzLmNoaWxkcmVuW3Q8MD8wOnRoaXMuY2hpbGRyZW4ubGVuZ3RoLTFdO3JldHVybiAwPT1lLnNpemV8fGUuZW1wdHlDaGlsZEF0KHQpfSxydC5wcm90b3R5cGUuZG9tQWZ0ZXJQb3M9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kb21Gcm9tUG9zKHQpLG49ZS5ub2RlLHI9ZS5vZmZzZXQ7aWYoMSE9bi5ub2RlVHlwZXx8cj09bi5jaGlsZE5vZGVzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiTm8gbm9kZSBhZnRlciBwb3MgIit0KTtyZXR1cm4gbi5jaGlsZE5vZGVzW3JdfSxydC5wcm90b3R5cGUuc2V0U2VsZWN0aW9uPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgbz1NYXRoLm1pbih0LGUpLGk9TWF0aC5tYXgodCxlKSxzPTAsYT0wO3M8dGhpcy5jaGlsZHJlbi5sZW5ndGg7cysrKXt2YXIgYz10aGlzLmNoaWxkcmVuW3NdLGw9YStjLnNpemU7aWYobz5hJiZpPGwpcmV0dXJuIGMuc2V0U2VsZWN0aW9uKHQtYS1jLmJvcmRlcixlLWEtYy5ib3JkZXIsbixyKTthPWx9dmFyIHU9dGhpcy5kb21Gcm9tUG9zKHQpLGY9dGhpcy5kb21Gcm9tUG9zKGUpLGQ9bi5nZXRTZWxlY3Rpb24oKTtpZihyfHwhdih1Lm5vZGUsdS5vZmZzZXQsZC5hbmNob3JOb2RlLGQuYW5jaG9yT2Zmc2V0KXx8IXYoZi5ub2RlLGYub2Zmc2V0LGQuZm9jdXNOb2RlLGQuZm9jdXNPZmZzZXQpKXt2YXIgcD0hMTtpZihkLmV4dGVuZHx8dD09ZSl7ZC5jb2xsYXBzZSh1Lm5vZGUsdS5vZmZzZXQpO3RyeXt0IT1lJiZkLmV4dGVuZChmLm5vZGUsZi5vZmZzZXQpLHA9ITB9Y2F0Y2goZyl7aWYoIShnIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uKSl0aHJvdyBnfX1pZighcCl7aWYodD5lKXt2YXIgaD11O3U9ZixmPWh9dmFyIG09ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTttLnNldEVuZChmLm5vZGUsZi5vZmZzZXQpLG0uc2V0U3RhcnQodS5ub2RlLHUub2Zmc2V0KSxkLnJlbW92ZUFsbFJhbmdlcygpLGQuYWRkUmFuZ2UobSl9fX0scnQucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiF0aGlzLmNvbnRlbnRET00mJiJzZWxlY3Rpb24iIT10LnR5cGV9LG90LmNvbnRlbnRMb3N0LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRET00mJnRoaXMuY29udGVudERPTSE9dGhpcy5kb20mJiF0aGlzLmRvbS5jb250YWlucyh0aGlzLmNvbnRlbnRET00pfSxydC5wcm90b3R5cGUubWFya0RpcnR5PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAscj0wO3I8dGhpcy5jaGlsZHJlbi5sZW5ndGg7cisrKXt2YXIgbz10aGlzLmNoaWxkcmVuW3JdLGk9bitvLnNpemU7aWYobj09aT90PD1pJiZlPj1uOnQ8aSYmZT5uKXt2YXIgcz1uK28uYm9yZGVyLGE9aS1vLmJvcmRlcjtpZih0Pj1zJiZlPD1hKXJldHVybiB0aGlzLmRpcnR5PXQ9PW58fGU9PWk/ZXQ6dHQsdm9pZCh0IT1zfHxlIT1hfHwhby5jb250ZW50TG9zdCYmby5kb20ucGFyZW50Tm9kZT09dGhpcy5jb250ZW50RE9NP28ubWFya0RpcnR5KHQtcyxlLXMpOm8uZGlydHk9bnQpO28uZGlydHk9bnR9bj1pfXRoaXMuZGlydHk9ZXR9LHJ0LnByb3RvdHlwZS5tYXJrUGFyZW50c0RpcnR5PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTEsZT10aGlzLnBhcmVudDtlO2U9ZS5wYXJlbnQsdCsrKXt2YXIgbj0xPT10P2V0OnR0O2UuZGlydHk8biYmKGUuZGlydHk9bil9fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhydC5wcm90b3R5cGUsb3QpO3ZhciBpdD1bXSxzdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8pe3ZhciBpLHM9bi50eXBlLnRvRE9NO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBzJiYocz1zKHIsKGZ1bmN0aW9uKCl7cmV0dXJuIGk/aS5wYXJlbnQ/aS5wYXJlbnQucG9zQmVmb3JlQ2hpbGQoaSk6dm9pZCAwOm99KSkpLCFuLnR5cGUuc3BlYy5yYXcpe2lmKDEhPXMubm9kZVR5cGUpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTthLmFwcGVuZENoaWxkKHMpLHM9YX1zLmNvbnRlbnRFZGl0YWJsZT0hMSxzLmNsYXNzTGlzdC5hZGQoIlByb3NlTWlycm9yLXdpZGdldCIpfXQuY2FsbCh0aGlzLGUsaXQscyxudWxsKSx0aGlzLndpZGdldD1uLGk9dGhpc310JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17YmVmb3JlUG9zaXRpb246e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBuLmJlZm9yZVBvc2l0aW9uLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLndpZGdldC50eXBlLnNpZGU8MH0sZS5wcm90b3R5cGUubWF0Y2hlc1dpZGdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kaXJ0eT09USYmdC50eXBlLmVxKHRoaXMud2lkZ2V0LnR5cGUpfSxlLnByb3RvdHlwZS5wYXJzZVJ1bGU9ZnVuY3Rpb24oKXtyZXR1cm57aWdub3JlOiEwfX0sZS5wcm90b3R5cGUuc3RvcEV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMud2lkZ2V0LnNwZWMuc3RvcEV2ZW50O3JldHVybiEhZSYmZSh0KX0sZS5wcm90b3R5cGUuaWdub3JlTXV0YXRpb249ZnVuY3Rpb24odCl7cmV0dXJuInNlbGVjdGlvbiIhPXQudHlwZXx8dGhpcy53aWRnZXQuc3BlYy5pZ25vcmVTZWxlY3Rpb259LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLG4pLGV9KHJ0KSxhdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8pe3QuY2FsbCh0aGlzLGUsaXQsbixudWxsKSx0aGlzLnRleHRET009cix0aGlzLnRleHQ9b310JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17c2l6ZTp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIG4uc2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0Lmxlbmd0aH0sZS5wcm90b3R5cGUubG9jYWxQb3NGcm9tRE9NPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQhPXRoaXMudGV4dERPTT90aGlzLnBvc0F0U3RhcnQrKGU/dGhpcy5zaXplOjApOnRoaXMucG9zQXRTdGFydCtlfSxlLnByb3RvdHlwZS5kb21Gcm9tUG9zPWZ1bmN0aW9uKHQpe3JldHVybntub2RlOnRoaXMudGV4dERPTSxvZmZzZXQ6dH19LGUucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiJjaGFyYWN0ZXJEYXRhIj09PXQudHlwZSYmdC50YXJnZXQubm9kZVZhbHVlPT10Lm9sZFZhbHVlfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfShydCksY3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvKXt0LmNhbGwodGhpcyxlLFtdLHIsbyksdGhpcy5tYXJrPW59cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUuY3JlYXRlPWZ1bmN0aW9uKHQsbixyLGkpe3ZhciBzPWkubm9kZVZpZXdzW24udHlwZS5uYW1lXSxhPXMmJnMobixpLHIpO3JldHVybiBhJiZhLmRvbXx8KGE9b1siRE9NU2VyaWFsaXplciJdLnJlbmRlclNwZWMoZG9jdW1lbnQsbi50eXBlLnNwZWMudG9ET00obixyKSkpLG5ldyBlKHQsbixhLmRvbSxhLmNvbnRlbnRET018fGEuZG9tKX0sZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7cmV0dXJue21hcms6dGhpcy5tYXJrLnR5cGUubmFtZSxhdHRyczp0aGlzLm1hcmsuYXR0cnMsY29udGVudEVsZW1lbnQ6dGhpcy5jb250ZW50RE9NfX0sZS5wcm90b3R5cGUubWF0Y2hlc01hcms9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGlydHkhPW50JiZ0aGlzLm1hcmsuZXEodCl9LGUucHJvdG90eXBlLm1hcmtEaXJ0eT1mdW5jdGlvbihlLG4pe2lmKHQucHJvdG90eXBlLm1hcmtEaXJ0eS5jYWxsKHRoaXMsZSxuKSx0aGlzLmRpcnR5IT1RKXt2YXIgcj10aGlzLnBhcmVudDt3aGlsZSghci5ub2RlKXI9ci5wYXJlbnQ7ci5kaXJ0eTx0aGlzLmRpcnR5JiYoci5kaXJ0eT10aGlzLmRpcnR5KSx0aGlzLmRpcnR5PVF9fSxlLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LG4scil7dmFyIG89ZS5jcmVhdGUodGhpcy5wYXJlbnQsdGhpcy5tYXJrLCEwLHIpLGk9dGhpcy5jaGlsZHJlbixzPXRoaXMuc2l6ZTtuPHMmJihpPUR0KGksbixzLHIpKSx0PjAmJihpPUR0KGksMCx0LHIpKTtmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKylpW2FdLnBhcmVudD1vO3JldHVybiBvLmNoaWxkcmVuPWksb30sZX0ocnQpLGx0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyxpLHMsYSxjLGwpe3QuY2FsbCh0aGlzLGUsbi5pc0xlYWY/aXQ6W10saSxzKSx0aGlzLm5vZGVET009YSx0aGlzLm5vZGU9bix0aGlzLm91dGVyRGVjbz1yLHRoaXMuaW5uZXJEZWNvPW8scyYmdGhpcy51cGRhdGVDaGlsZHJlbihjLGwpfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXtzaXplOntjb25maWd1cmFibGU6ITB9LGJvcmRlcjp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIGUuY3JlYXRlPWZ1bmN0aW9uKHQsbixyLGkscyxhKXt2YXIgYyxsLHU9cy5ub2RlVmlld3Nbbi50eXBlLm5hbWVdLGY9dSYmdShuLHMsKGZ1bmN0aW9uKCl7cmV0dXJuIGw/bC5wYXJlbnQ/bC5wYXJlbnQucG9zQmVmb3JlQ2hpbGQobCk6dm9pZCAwOmF9KSxyKSxkPWYmJmYuZG9tLHA9ZiYmZi5jb250ZW50RE9NO2lmKG4uaXNUZXh0KWlmKGQpe2lmKDMhPWQubm9kZVR5cGUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRleHQgbXVzdCBiZSByZW5kZXJlZCBhcyBhIERPTSB0ZXh0IG5vZGUiKX1lbHNlIGQ9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobi50ZXh0KTtlbHNlIGR8fChjPW9bIkRPTVNlcmlhbGl6ZXIiXS5yZW5kZXJTcGVjKGRvY3VtZW50LG4udHlwZS5zcGVjLnRvRE9NKG4pKSxkPWMuZG9tLHA9Yy5jb250ZW50RE9NKTtwfHxuLmlzVGV4dHx8IkJSIj09ZC5ub2RlTmFtZXx8KGQuaGFzQXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKXx8KGQuY29udGVudEVkaXRhYmxlPSExKSxuLnR5cGUuc3BlYy5kcmFnZ2FibGUmJihkLmRyYWdnYWJsZT0hMCkpO3ZhciBoPWQ7cmV0dXJuIGQ9d3QoZCxyLG4pLGY/bD1uZXcgcHQodCxuLHIsaSxkLHAsaCxmLHMsYSsxKTpuLmlzVGV4dD9uZXcgZnQodCxuLHIsaSxkLGgscyk6bmV3IGUodCxuLHIsaSxkLHAsaCxzLGErMSl9LGUucHJvdG90eXBlLnBhcnNlUnVsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodGhpcy5ub2RlLnR5cGUuc3BlYy5yZXBhcnNlSW5WaWV3KXJldHVybiBudWxsO3ZhciBlPXtub2RlOnRoaXMubm9kZS50eXBlLm5hbWUsYXR0cnM6dGhpcy5ub2RlLmF0dHJzfTtyZXR1cm4gdGhpcy5ub2RlLnR5cGUuc3BlYy5jb2RlJiYoZS5wcmVzZXJ2ZVdoaXRlc3BhY2U9ImZ1bGwiKSx0aGlzLmNvbnRlbnRET00mJiF0aGlzLmNvbnRlbnRMb3N0P2UuY29udGVudEVsZW1lbnQ9dGhpcy5jb250ZW50RE9NOmUuZ2V0Q29udGVudD1mdW5jdGlvbigpe3JldHVybiB0LmNvbnRlbnRET00/b1siRnJhZ21lbnQiXS5lbXB0eTp0Lm5vZGUuY29udGVudH0sZX0sZS5wcm90b3R5cGUubWF0Y2hlc05vZGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLmRpcnR5PT1RJiZ0LmVxKHRoaXMubm9kZSkmJlN0KGUsdGhpcy5vdXRlckRlY28pJiZuLmVxKHRoaXMuaW5uZXJEZWNvKX0sbi5zaXplLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUubm9kZVNpemV9LG4uYm9yZGVyLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuaXNMZWFmPzA6MX0sZS5wcm90b3R5cGUudXBkYXRlQ2hpbGRyZW49ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9dGhpcy5ub2RlLmlubGluZUNvbnRlbnQsaT1lLGE9ciYmdC5jb21wb3NpbmcmJnRoaXMubG9jYWxDb21wb3NpdGlvbk5vZGUodCxlKSxjPW5ldyBrdCh0aGlzLGEmJmEubm9kZSk7TXQodGhpcy5ub2RlLHRoaXMuaW5uZXJEZWNvLChmdW5jdGlvbihlLHMsYSl7ZS5zcGVjLm1hcmtzP2Muc3luY1RvTWFya3MoZS5zcGVjLm1hcmtzLHIsdCk6ZS50eXBlLnNpZGU+PTAmJiFhJiZjLnN5bmNUb01hcmtzKHM9PW4ubm9kZS5jaGlsZENvdW50P29bIk1hcmsiXS5ub25lOm4ubm9kZS5jaGlsZChzKS5tYXJrcyxyLHQpLGMucGxhY2VXaWRnZXQoZSx0LGkpfSksKGZ1bmN0aW9uKGUsbixvLHMpe2Muc3luY1RvTWFya3MoZS5tYXJrcyxyLHQpLGMuZmluZE5vZGVNYXRjaChlLG4sbyxzKXx8Yy51cGRhdGVOZXh0Tm9kZShlLG4sbyx0LHMpfHxjLmFkZE5vZGUoZSxuLG8sdCxpKSxpKz1lLm5vZGVTaXplfSkpLGMuc3luY1RvTWFya3MoaXQscix0KSx0aGlzLm5vZGUuaXNUZXh0YmxvY2smJmMuYWRkVGV4dGJsb2NrSGFja3MoKSxjLmRlc3Ryb3lSZXN0KCksKGMuY2hhbmdlZHx8dGhpcy5kaXJ0eT09ZXQpJiYoYSYmdGhpcy5wcm90ZWN0TG9jYWxDb21wb3NpdGlvbih0LGEpLGh0KHRoaXMuY29udGVudERPTSx0aGlzLmNoaWxkcmVuLHQpLHMuaW9zJiZOdCh0aGlzLmRvbSkpfSxlLnByb3RvdHlwZS5sb2NhbENvbXBvc2l0aW9uTm9kZT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuc3RhdGUuc2VsZWN0aW9uLG89bi5mcm9tLGk9bi50bztpZighKCEodC5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiByWyJUZXh0U2VsZWN0aW9uIl0pfHxvPGV8fGk+ZSt0aGlzLm5vZGUuY29udGVudC5zaXplKSl7dmFyIHM9dC5yb290LmdldFNlbGVjdGlvbigpLGE9VHQocy5mb2N1c05vZGUscy5mb2N1c09mZnNldCk7aWYoYSYmdGhpcy5kb20uY29udGFpbnMoYS5wYXJlbnROb2RlKSl7dmFyIGM9YS5ub2RlVmFsdWUsbD1BdCh0aGlzLm5vZGUuY29udGVudCxjLG8tZSxpLWUpO3JldHVybiBsPDA/bnVsbDp7bm9kZTphLHBvczpsLHRleHQ6Y319fX0sZS5wcm90b3R5cGUucHJvdGVjdExvY2FsQ29tcG9zaXRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj1lLm5vZGUscj1lLnBvcyxvPWUudGV4dDtpZighdGhpcy5nZXREZXNjKG4pKXtmb3IodmFyIGk9bjs7aT1pLnBhcmVudE5vZGUpe2lmKGkucGFyZW50Tm9kZT09dGhpcy5jb250ZW50RE9NKWJyZWFrO3doaWxlKGkucHJldmlvdXNTaWJsaW5nKWkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpLnByZXZpb3VzU2libGluZyk7d2hpbGUoaS5uZXh0U2libGluZylpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaS5uZXh0U2libGluZyk7aS5wbVZpZXdEZXNjJiYoaS5wbVZpZXdEZXNjPW51bGwpfXZhciBzPW5ldyBhdCh0aGlzLGksbixvKTt0LmNvbXBvc2l0aW9uTm9kZXMucHVzaChzKSx0aGlzLmNoaWxkcmVuPUR0KHRoaXMuY2hpbGRyZW4scixyK28ubGVuZ3RoLHQscyl9fSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuISh0aGlzLmRpcnR5PT1udHx8IXQuc2FtZU1hcmt1cCh0aGlzLm5vZGUpKSYmKHRoaXMudXBkYXRlSW5uZXIodCxlLG4sciksITApfSxlLnByb3RvdHlwZS51cGRhdGVJbm5lcj1mdW5jdGlvbih0LGUsbixyKXt0aGlzLnVwZGF0ZU91dGVyRGVjbyhlKSx0aGlzLm5vZGU9dCx0aGlzLmlubmVyRGVjbz1uLHRoaXMuY29udGVudERPTSYmdGhpcy51cGRhdGVDaGlsZHJlbihyLHRoaXMucG9zQXRTdGFydCksdGhpcy5kaXJ0eT1RfSxlLnByb3RvdHlwZS51cGRhdGVPdXRlckRlY289ZnVuY3Rpb24odCl7aWYoIVN0KHQsdGhpcy5vdXRlckRlY28pKXt2YXIgZT0xIT10aGlzLm5vZGVET00ubm9kZVR5cGUsbj10aGlzLmRvbTt0aGlzLmRvbT15dCh0aGlzLmRvbSx0aGlzLm5vZGVET00sZ3QodGhpcy5vdXRlckRlY28sdGhpcy5ub2RlLGUpLGd0KHQsdGhpcy5ub2RlLGUpKSx0aGlzLmRvbSE9biYmKG4ucG1WaWV3RGVzYz1udWxsLHRoaXMuZG9tLnBtVmlld0Rlc2M9dGhpcyksdGhpcy5vdXRlckRlY289dH19LGUucHJvdG90eXBlLnNlbGVjdE5vZGU9ZnVuY3Rpb24oKXt0aGlzLm5vZGVET00uY2xhc3NMaXN0LmFkZCgiUHJvc2VNaXJyb3Itc2VsZWN0ZWRub2RlIiksIXRoaXMuY29udGVudERPTSYmdGhpcy5ub2RlLnR5cGUuc3BlYy5kcmFnZ2FibGV8fCh0aGlzLmRvbS5kcmFnZ2FibGU9ITApfSxlLnByb3RvdHlwZS5kZXNlbGVjdE5vZGU9ZnVuY3Rpb24oKXt0aGlzLm5vZGVET00uY2xhc3NMaXN0LnJlbW92ZSgiUHJvc2VNaXJyb3Itc2VsZWN0ZWRub2RlIiksIXRoaXMuY29udGVudERPTSYmdGhpcy5ub2RlLnR5cGUuc3BlYy5kcmFnZ2FibGV8fHRoaXMuZG9tLnJlbW92ZUF0dHJpYnV0ZSgiZHJhZ2dhYmxlIil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLG4pLGV9KHJ0KTtmdW5jdGlvbiB1dCh0LGUsbixyLG8pe3JldHVybiB3dChyLGUsdCksbmV3IGx0KG51bGwsdCxlLG4scixyLHIsbywwKX12YXIgZnQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvLGkscyxhKXt0LmNhbGwodGhpcyxlLG4scixvLGksbnVsbCxzLGEpfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5wYXJzZVJ1bGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm5vZGVET00ucGFyZW50Tm9kZTt3aGlsZSh0JiZ0IT10aGlzLmRvbSYmIXQucG1Jc0RlY28pdD10LnBhcmVudE5vZGU7cmV0dXJue3NraXA6dHx8ITB9fSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuISh0aGlzLmRpcnR5PT1udHx8dGhpcy5kaXJ0eSE9USYmIXRoaXMuaW5QYXJlbnQoKXx8IXQuc2FtZU1hcmt1cCh0aGlzLm5vZGUpKSYmKHRoaXMudXBkYXRlT3V0ZXJEZWNvKGUpLHRoaXMuZGlydHk9PVEmJnQudGV4dD09dGhpcy5ub2RlLnRleHR8fHQudGV4dD09dGhpcy5ub2RlRE9NLm5vZGVWYWx1ZXx8KHRoaXMubm9kZURPTS5ub2RlVmFsdWU9dC50ZXh0LHIudHJhY2tXcml0ZXM9PXRoaXMubm9kZURPTSYmKHIudHJhY2tXcml0ZXM9bnVsbCkpLHRoaXMubm9kZT10LHRoaXMuZGlydHk9USwhMCl9LGUucHJvdG90eXBlLmluUGFyZW50PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMucGFyZW50LmNvbnRlbnRET00sZT10aGlzLm5vZGVET007ZTtlPWUucGFyZW50Tm9kZSlpZihlPT10KXJldHVybiEwO3JldHVybiExfSxlLnByb3RvdHlwZS5kb21Gcm9tUG9zPWZ1bmN0aW9uKHQpe3JldHVybntub2RlOnRoaXMubm9kZURPTSxvZmZzZXQ6dH19LGUucHJvdG90eXBlLmxvY2FsUG9zRnJvbURPTT1mdW5jdGlvbihlLG4scil7cmV0dXJuIGU9PXRoaXMubm9kZURPTT90aGlzLnBvc0F0U3RhcnQrTWF0aC5taW4obix0aGlzLm5vZGUudGV4dC5sZW5ndGgpOnQucHJvdG90eXBlLmxvY2FsUG9zRnJvbURPTS5jYWxsKHRoaXMsZSxuLHIpfSxlLnByb3RvdHlwZS5pZ25vcmVNdXRhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4iY2hhcmFjdGVyRGF0YSIhPXQudHlwZSYmInNlbGVjdGlvbiIhPXQudHlwZX0sZS5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCxuLHIpe3ZhciBvPXRoaXMubm9kZS5jdXQodCxuKSxpPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG8udGV4dCk7cmV0dXJuIG5ldyBlKHRoaXMucGFyZW50LG8sdGhpcy5vdXRlckRlY28sdGhpcy5pbm5lckRlY28saSxpLHIpfSxlfShsdCksZHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5wYXJzZVJ1bGU9ZnVuY3Rpb24oKXtyZXR1cm57aWdub3JlOiEwfX0sZS5wcm90b3R5cGUubWF0Y2hlc0hhY2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXJ0eT09UX0sZX0ocnQpLHB0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyxpLHMsYSxjLGwsdSl7dC5jYWxsKHRoaXMsZSxuLHIsbyxpLHMsYSxsLHUpLHRoaXMuc3BlYz1jfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSxuLHIsbyl7aWYodGhpcy5kaXJ0eT09bnQpcmV0dXJuITE7aWYodGhpcy5zcGVjLnVwZGF0ZSl7dmFyIGk9dGhpcy5zcGVjLnVwZGF0ZShlLG4pO3JldHVybiBpJiZ0aGlzLnVwZGF0ZUlubmVyKGUsbixyLG8pLGl9cmV0dXJuISghdGhpcy5jb250ZW50RE9NJiYhZS5pc0xlYWYpJiZ0LnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzLGUsbixyLG8pfSxlLnByb3RvdHlwZS5zZWxlY3ROb2RlPWZ1bmN0aW9uKCl7dGhpcy5zcGVjLnNlbGVjdE5vZGU/dGhpcy5zcGVjLnNlbGVjdE5vZGUoKTp0LnByb3RvdHlwZS5zZWxlY3ROb2RlLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLmRlc2VsZWN0Tm9kZT1mdW5jdGlvbigpe3RoaXMuc3BlYy5kZXNlbGVjdE5vZGU/dGhpcy5zcGVjLmRlc2VsZWN0Tm9kZSgpOnQucHJvdG90eXBlLmRlc2VsZWN0Tm9kZS5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5zZXRTZWxlY3Rpb249ZnVuY3Rpb24oZSxuLHIsbyl7dGhpcy5zcGVjLnNldFNlbGVjdGlvbj90aGlzLnNwZWMuc2V0U2VsZWN0aW9uKGUsbixyKTp0LnByb3RvdHlwZS5zZXRTZWxlY3Rpb24uY2FsbCh0aGlzLGUsbixyLG8pfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5zcGVjLmRlc3Ryb3kmJnRoaXMuc3BlYy5kZXN0cm95KCksdC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5zdG9wRXZlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLnNwZWMuc3RvcEV2ZW50JiZ0aGlzLnNwZWMuc3RvcEV2ZW50KHQpfSxlLnByb3RvdHlwZS5pZ25vcmVNdXRhdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zcGVjLmlnbm9yZU11dGF0aW9uP3RoaXMuc3BlYy5pZ25vcmVNdXRhdGlvbihlKTp0LnByb3RvdHlwZS5pZ25vcmVNdXRhdGlvbi5jYWxsKHRoaXMsZSl9LGV9KGx0KTtmdW5jdGlvbiBodCh0LGUsbil7Zm9yKHZhciByPXQuZmlyc3RDaGlsZCxvPSExLGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIHM9ZVtpXSxhPXMuZG9tO2lmKGEucGFyZW50Tm9kZT09dCl7d2hpbGUoYSE9cilyPXh0KHIpLG89ITA7cj1yLm5leHRTaWJsaW5nfWVsc2Ugbz0hMCx0Lmluc2VydEJlZm9yZShhLHIpO2lmKHMgaW5zdGFuY2VvZiBjdCl7dmFyIGM9cj9yLnByZXZpb3VzU2libGluZzp0Lmxhc3RDaGlsZDtodChzLmNvbnRlbnRET00scy5jaGlsZHJlbixuKSxyPWM/Yy5uZXh0U2libGluZzp0LmZpcnN0Q2hpbGR9fXdoaWxlKHIpcj14dChyKSxvPSEwO28mJm4udHJhY2tXcml0ZXM9PXQmJihuLnRyYWNrV3JpdGVzPW51bGwpfWZ1bmN0aW9uIHZ0KHQpe3QmJih0aGlzLm5vZGVOYW1lPXQpfXZ0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG51bGwpO3ZhciBtdD1bbmV3IHZ0XTtmdW5jdGlvbiBndCh0LGUsbil7aWYoMD09dC5sZW5ndGgpcmV0dXJuIG10O2Zvcih2YXIgcj1uP210WzBdOm5ldyB2dCxvPVtyXSxpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBzPXRbaV0udHlwZS5hdHRycyxhPXI7aWYocylmb3IodmFyIGMgaW4gcy5ub2RlTmFtZSYmby5wdXNoKGE9bmV3IHZ0KHMubm9kZU5hbWUpKSxzKXt2YXIgbD1zW2NdO251bGwhPWwmJihuJiYxPT1vLmxlbmd0aCYmby5wdXNoKGE9cj1uZXcgdnQoZS5pc0lubGluZT8ic3BhbiI6ImRpdiIpKSwiY2xhc3MiPT1jP2EuY2xhc3M9KGEuY2xhc3M/YS5jbGFzcysiICI6IiIpK2w6InN0eWxlIj09Yz9hLnN0eWxlPShhLnN0eWxlP2Euc3R5bGUrIjsiOiIiKStsOiJub2RlTmFtZSIhPWMmJihhW2NdPWwpKX19cmV0dXJuIG99ZnVuY3Rpb24geXQodCxlLG4scil7aWYobj09bXQmJnI9PW10KXJldHVybiBlO2Zvcih2YXIgbz1lLGk9MDtpPHIubGVuZ3RoO2krKyl7dmFyIHM9cltpXSxhPW5baV07aWYoaSl7dmFyIGM9dm9pZCAwO2EmJmEubm9kZU5hbWU9PXMubm9kZU5hbWUmJm8hPXQmJihjPW8ucGFyZW50Tm9kZSkmJmMudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT1zLm5vZGVOYW1lfHwoYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KHMubm9kZU5hbWUpLGMucG1Jc0RlY289ITAsYy5hcHBlbmRDaGlsZChvKSxhPW10WzBdKSxvPWN9YnQobyxhfHxtdFswXSxzKX1yZXR1cm4gb31mdW5jdGlvbiBidCh0LGUsbil7Zm9yKHZhciByIGluIGUpImNsYXNzIj09cnx8InN0eWxlIj09cnx8Im5vZGVOYW1lIj09cnx8ciBpbiBufHx0LnJlbW92ZUF0dHJpYnV0ZShyKTtmb3IodmFyIG8gaW4gbikiY2xhc3MiIT1vJiYic3R5bGUiIT1vJiYibm9kZU5hbWUiIT1vJiZuW29dIT1lW29dJiZ0LnNldEF0dHJpYnV0ZShvLG5bb10pO2lmKGUuY2xhc3MhPW4uY2xhc3Mpe2Zvcih2YXIgaT1lLmNsYXNzP2UuY2xhc3Muc3BsaXQoIiAiKTppdCxzPW4uY2xhc3M/bi5jbGFzcy5zcGxpdCgiICIpOml0LGE9MDthPGkubGVuZ3RoO2ErKyktMT09cy5pbmRleE9mKGlbYV0pJiZ0LmNsYXNzTGlzdC5yZW1vdmUoaVthXSk7Zm9yKHZhciBjPTA7YzxzLmxlbmd0aDtjKyspLTE9PWkuaW5kZXhPZihzW2NdKSYmdC5jbGFzc0xpc3QuYWRkKHNbY10pfWlmKGUuc3R5bGUhPW4uc3R5bGUpe2lmKGUuc3R5bGUpe3ZhciBsLHU9L1xzKihbXHdcLVx4YTEtXHVmZmZmXSspXHMqOig/OiIoPzpcXC58W14iXSkqInwnKD86XFwufFteJ10pKid8XCguKj9cKXxbXjtdKSovZzt3aGlsZShsPXUuZXhlYyhlLnN0eWxlKSl0LnN0eWxlLnJlbW92ZVByb3BlcnR5KGxbMV0pfW4uc3R5bGUmJih0LnN0eWxlLmNzc1RleHQrPW4uc3R5bGUpfX1mdW5jdGlvbiB3dCh0LGUsbil7cmV0dXJuIHl0KHQsdCxtdCxndChlLG4sMSE9dC5ub2RlVHlwZSkpfWZ1bmN0aW9uIFN0KHQsZSl7aWYodC5sZW5ndGghPWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKCF0W25dLnR5cGUuZXEoZVtuXS50eXBlKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB4dCh0KXt2YXIgZT10Lm5leHRTaWJsaW5nO3JldHVybiB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksZX12YXIga3Q9ZnVuY3Rpb24odCxlKXt0aGlzLnRvcD10LHRoaXMubG9jaz1lLHRoaXMuaW5kZXg9MCx0aGlzLnN0YWNrPVtdLHRoaXMuY2hhbmdlZD0hMTt2YXIgbj1PdCh0Lm5vZGUuY29udGVudCx0LmNoaWxkcmVuKTt0aGlzLnByZU1hdGNoZWQ9bi5ub2Rlcyx0aGlzLnByZU1hdGNoT2Zmc2V0PW4ub2Zmc2V0fTtmdW5jdGlvbiBPdCh0LGUpe2Zvcih2YXIgbj1bXSxyPXQuY2hpbGRDb3VudCxvPWUubGVuZ3RoLTE7cj4wJiZvPj0wO28tLSl7dmFyIGk9ZVtvXSxzPWkubm9kZTtpZihzKXtpZihzIT10LmNoaWxkKHItMSkpYnJlYWs7bi5wdXNoKGkpLC0tcn19cmV0dXJue25vZGVzOm4ucmV2ZXJzZSgpLG9mZnNldDpyfX1mdW5jdGlvbiBDdCh0LGUpe3JldHVybiB0LnR5cGUuc2lkZS1lLnR5cGUuc2lkZX1mdW5jdGlvbiBNdCh0LGUsbixyKXt2YXIgbz1lLmxvY2Fscyh0KSxpPTA7aWYoMCE9by5sZW5ndGgpZm9yKHZhciBzPTAsYT1bXSxjPW51bGwsbD0wOzspe2lmKHM8by5sZW5ndGgmJm9bc10udG89PWkpe3ZhciB1PW9bcysrXSxmPXZvaWQgMDt3aGlsZShzPG8ubGVuZ3RoJiZvW3NdLnRvPT1pKShmfHwoZj1bdV0pKS5wdXNoKG9bcysrXSk7aWYoZil7Zi5zb3J0KEN0KTtmb3IodmFyIGQ9MDtkPGYubGVuZ3RoO2QrKyluKGZbZF0sbCwhIWMpfWVsc2Ugbih1LGwsISFjKX12YXIgcD12b2lkIDAsaD12b2lkIDA7aWYoYyloPS0xLHA9YyxjPW51bGw7ZWxzZXtpZighKGw8dC5jaGlsZENvdW50KSlicmVhaztoPWwscD10LmNoaWxkKGwrKyl9Zm9yKHZhciB2PTA7djxhLmxlbmd0aDt2KyspYVt2XS50bzw9aSYmYS5zcGxpY2Uodi0tLDEpO3doaWxlKHM8by5sZW5ndGgmJm9bc10uZnJvbTw9aSYmb1tzXS50bz5pKWEucHVzaChvW3MrK10pO3ZhciBtPWkrcC5ub2RlU2l6ZTtpZihwLmlzVGV4dCl7dmFyIGc9bTtzPG8ubGVuZ3RoJiZvW3NdLmZyb208ZyYmKGc9b1tzXS5mcm9tKTtmb3IodmFyIHk9MDt5PGEubGVuZ3RoO3krKylhW3ldLnRvPGcmJihnPWFbeV0udG8pO2c8bSYmKGM9cC5jdXQoZy1pKSxwPXAuY3V0KDAsZy1pKSxtPWcsaD0tMSl9cihwLGEubGVuZ3RoP2Euc2xpY2UoKTppdCxlLmZvckNoaWxkKGkscCksaCksaT1tfWVsc2UgZm9yKHZhciBiPTA7Yjx0LmNoaWxkQ291bnQ7YisrKXt2YXIgdz10LmNoaWxkKGIpO3IodyxvLGUuZm9yQ2hpbGQoaSx3KSxiKSxpKz13Lm5vZGVTaXplfX1mdW5jdGlvbiBOdCh0KXtpZigiVUwiPT10Lm5vZGVOYW1lfHwiT0wiPT10Lm5vZGVOYW1lKXt2YXIgZT10LnN0eWxlLmNzc1RleHQ7dC5zdHlsZS5jc3NUZXh0PWUrIjsgbGlzdC1zdHlsZTogc3F1YXJlICFpbXBvcnRhbnQiLHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHQpLmxpc3RTdHlsZSx0LnN0eWxlLmNzc1RleHQ9ZX19ZnVuY3Rpb24gVHQodCxlKXtmb3IoOzspe2lmKDM9PXQubm9kZVR5cGUpcmV0dXJuIHQ7aWYoMT09dC5ub2RlVHlwZSYmZT4wKXtpZih0LmNoaWxkTm9kZXMubGVuZ3RoPmUmJjM9PXQuY2hpbGROb2Rlc1tlXS5ub2RlVHlwZSlyZXR1cm4gdC5jaGlsZE5vZGVzW2VdO3Q9dC5jaGlsZE5vZGVzW2UtMV0sZT15KHQpfWVsc2V7aWYoISgxPT10Lm5vZGVUeXBlJiZlPHQuY2hpbGROb2Rlcy5sZW5ndGgpKXJldHVybiBudWxsO3Q9dC5jaGlsZE5vZGVzW2VdLGU9MH19fWZ1bmN0aW9uIEF0KHQsZSxuLHIpe2Zvcih2YXIgbz0wLGk9MDtvPHQuY2hpbGRDb3VudCYmaTw9cjspe3ZhciBzPXQuY2hpbGQobysrKSxhPWk7aWYoaSs9cy5ub2RlU2l6ZSxzLmlzVGV4dCl7dmFyIGM9cy50ZXh0O3doaWxlKG88dC5jaGlsZENvdW50KXt2YXIgbD10LmNoaWxkKG8rKyk7aWYoaSs9bC5ub2RlU2l6ZSwhbC5pc1RleHQpYnJlYWs7Yys9bC50ZXh0fWlmKGk+PW4pe3ZhciB1PWMubGFzdEluZGV4T2YoZSxyLWEpO2lmKHU+PTAmJnUrZS5sZW5ndGgrYT49bilyZXR1cm4gYSt1fX19cmV0dXJuLTF9ZnVuY3Rpb24gRHQodCxlLG4scixvKXtmb3IodmFyIGk9W10scz0wLGE9MDtzPHQubGVuZ3RoO3MrKyl7dmFyIGM9dFtzXSxsPWEsdT1hKz1jLnNpemU7bD49bnx8dTw9ZT9pLnB1c2goYyk6KGw8ZSYmaS5wdXNoKGMuc2xpY2UoMCxlLWwscikpLG8mJihpLnB1c2gobyksbz1udWxsKSx1Pm4mJmkucHVzaChjLnNsaWNlKG4tbCxjLnNpemUscikpKX1yZXR1cm4gaX1mdW5jdGlvbiBFdCh0LGUpe3ZhciBuPXQuc2VsZWN0aW9uLG89bi4kYW5jaG9yLGk9bi4kaGVhZCxzPWU+MD9vLm1heChpKTpvLm1pbihpKSxhPXMucGFyZW50LmlubGluZUNvbnRlbnQ/cy5kZXB0aD90LmRvYy5yZXNvbHZlKGU+MD9zLmFmdGVyKCk6cy5iZWZvcmUoKSk6bnVsbDpzO3JldHVybiBhJiZyWyJTZWxlY3Rpb24iXS5maW5kRnJvbShhLGUpfWZ1bmN0aW9uIFJ0KHQsZSl7cmV0dXJuIHQuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oZSkuc2Nyb2xsSW50b1ZpZXcoKSksITB9ZnVuY3Rpb24gX3QodCxlLG4pe3ZhciBvPXQuc3RhdGUuc2VsZWN0aW9uO2lmKCEobyBpbnN0YW5jZW9mIHJbIlRleHRTZWxlY3Rpb24iXSkpe2lmKG8gaW5zdGFuY2VvZiByWyJOb2RlU2VsZWN0aW9uIl0mJm8ubm9kZS5pc0lubGluZSlyZXR1cm4gUnQodCxuZXcgclsiVGV4dFNlbGVjdGlvbiJdKGU+MD9vLiR0bzpvLiRmcm9tKSk7dmFyIGk9RXQodC5zdGF0ZSxlKTtyZXR1cm4hIWkmJlJ0KHQsaSl9aWYoIW8uZW1wdHl8fG4uaW5kZXhPZigicyIpPi0xKXJldHVybiExO2lmKHQuZW5kT2ZUZXh0YmxvY2soZT4wPyJyaWdodCI6ImxlZnQiKSl7dmFyIGE9RXQodC5zdGF0ZSxlKTtyZXR1cm4hIShhJiZhIGluc3RhbmNlb2YgclsiTm9kZVNlbGVjdGlvbiJdKSYmUnQodCxhKX1pZighKHMubWFjJiZuLmluZGV4T2YoIm0iKT4tMSkpe3ZhciBjLGw9by4kaGVhZCx1PWwudGV4dE9mZnNldD9udWxsOmU8MD9sLm5vZGVCZWZvcmU6bC5ub2RlQWZ0ZXI7aWYoIXV8fHUuaXNUZXh0KXJldHVybiExO3ZhciBmPWU8MD9sLnBvcy11Lm5vZGVTaXplOmwucG9zO3JldHVybiEhKHUuaXNBdG9tfHwoYz10LmRvY1ZpZXcuZGVzY0F0KGYpKSYmIWMuY29udGVudERPTSkmJihyWyJOb2RlU2VsZWN0aW9uIl0uaXNTZWxlY3RhYmxlKHUpP1J0KHQsbmV3IHJbIk5vZGVTZWxlY3Rpb24iXShlPDA/dC5zdGF0ZS5kb2MucmVzb2x2ZShsLnBvcy11Lm5vZGVTaXplKTpsKSk6ISFzLndlYmtpdCYmUnQodCxuZXcgclsiVGV4dFNlbGVjdGlvbiJdKHQuc3RhdGUuZG9jLnJlc29sdmUoZTwwP2Y6Zit1Lm5vZGVTaXplKSkpKX19ZnVuY3Rpb24gUHQodCl7cmV0dXJuIDM9PXQubm9kZVR5cGU/dC5ub2RlVmFsdWUubGVuZ3RoOnQuY2hpbGROb2Rlcy5sZW5ndGh9ZnVuY3Rpb24genQodCl7dmFyIGU9dC5wbVZpZXdEZXNjO3JldHVybiBlJiYwPT1lLnNpemUmJih0Lm5leHRTaWJsaW5nfHwiQlIiIT10Lm5vZGVOYW1lKX1mdW5jdGlvbiBJdCh0KXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj1lLmZvY3VzTm9kZSxyPWUuZm9jdXNPZmZzZXQ7aWYobil7dmFyIG8saSxhPSExO2ZvcihzLmdlY2tvJiYxPT1uLm5vZGVUeXBlJiZyPFB0KG4pJiZ6dChuLmNoaWxkTm9kZXNbcl0pJiYoYT0hMCk7OylpZihyPjApe2lmKDEhPW4ubm9kZVR5cGUpYnJlYWs7dmFyIGM9bi5jaGlsZE5vZGVzW3ItMV07aWYoenQoYykpbz1uLGk9LS1yO2Vsc2V7aWYoMyE9Yy5ub2RlVHlwZSlicmVhaztuPWMscj1uLm5vZGVWYWx1ZS5sZW5ndGh9fWVsc2V7aWYoJHQobikpYnJlYWs7dmFyIGw9bi5wcmV2aW91c1NpYmxpbmc7d2hpbGUobCYmenQobCkpbz1uLnBhcmVudE5vZGUsaT1kKGwpLGw9bC5wcmV2aW91c1NpYmxpbmc7aWYobCluPWwscj1QdChuKTtlbHNle2lmKG49bi5wYXJlbnROb2RlLG49PXQuZG9tKWJyZWFrO3I9MH19YT9WdCh0LGUsbixyKTpvJiZWdCh0LGUsbyxpKX19ZnVuY3Rpb24ganQodCl7dmFyIGU9dC5yb290LmdldFNlbGVjdGlvbigpLG49ZS5mb2N1c05vZGUscj1lLmZvY3VzT2Zmc2V0O2lmKG4pe2Zvcih2YXIgbyxpLHM9UHQobik7OylpZihyPHMpe2lmKDEhPW4ubm9kZVR5cGUpYnJlYWs7dmFyIGE9bi5jaGlsZE5vZGVzW3JdO2lmKCF6dChhKSlicmVhaztvPW4saT0rK3J9ZWxzZXtpZigkdChuKSlicmVhazt2YXIgYz1uLm5leHRTaWJsaW5nO3doaWxlKGMmJnp0KGMpKW89Yy5wYXJlbnROb2RlLGk9ZChjKSsxLGM9Yy5uZXh0U2libGluZztpZihjKW49YyxyPTAscz1QdChuKTtlbHNle2lmKG49bi5wYXJlbnROb2RlLG49PXQuZG9tKWJyZWFrO3I9cz0wfX1vJiZWdCh0LGUsbyxpKX19ZnVuY3Rpb24gJHQodCl7dmFyIGU9dC5wbVZpZXdEZXNjO3JldHVybiBlJiZlLm5vZGUmJmUubm9kZS5pc0Jsb2NrfWZ1bmN0aW9uIFZ0KHQsZSxuLHIpe2lmKFMoZSkpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7by5zZXRFbmQobixyKSxvLnNldFN0YXJ0KG4sciksZS5yZW1vdmVBbGxSYW5nZXMoKSxlLmFkZFJhbmdlKG8pfWVsc2UgZS5leHRlbmQmJmUuZXh0ZW5kKG4scik7dC5kb21PYnNlcnZlci5zZXRDdXJTZWxlY3Rpb24oKX1mdW5jdGlvbiBCdCh0LGUsbil7dmFyIG89dC5zdGF0ZS5zZWxlY3Rpb247aWYobyBpbnN0YW5jZW9mIHJbIlRleHRTZWxlY3Rpb24iXSYmIW8uZW1wdHl8fG4uaW5kZXhPZigicyIpPi0xKXJldHVybiExO2lmKHMubWFjJiZuLmluZGV4T2YoIm0iKT4tMSlyZXR1cm4hMTt2YXIgaT1vLiRmcm9tLGE9by4kdG87aWYoIWkucGFyZW50LmlubGluZUNvbnRlbnR8fHQuZW5kT2ZUZXh0YmxvY2soZTwwPyJ1cCI6ImRvd24iKSl7dmFyIGM9RXQodC5zdGF0ZSxlKTtpZihjJiZjIGluc3RhbmNlb2YgclsiTm9kZVNlbGVjdGlvbiJdKXJldHVybiBSdCh0LGMpfWlmKCFpLnBhcmVudC5pbmxpbmVDb250ZW50KXt2YXIgbD1yWyJTZWxlY3Rpb24iXS5maW5kRnJvbShlPDA/aTphLGUpO3JldHVybiFsfHxSdCh0LGwpfXJldHVybiExfWZ1bmN0aW9uIEZ0KHQsZSl7aWYoISh0LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIHJbIlRleHRTZWxlY3Rpb24iXSkpcmV0dXJuITA7dmFyIG49dC5zdGF0ZS5zZWxlY3Rpb24sbz1uLiRoZWFkLGk9bi4kYW5jaG9yLHM9bi5lbXB0eTtpZighby5zYW1lUGFyZW50KGkpKXJldHVybiEwO2lmKCFzKXJldHVybiExO2lmKHQuZW5kT2ZUZXh0YmxvY2soZT4wPyJmb3J3YXJkIjoiYmFja3dhcmQiKSlyZXR1cm4hMDt2YXIgYT0hby50ZXh0T2Zmc2V0JiYoZTwwP28ubm9kZUJlZm9yZTpvLm5vZGVBZnRlcik7aWYoYSYmIWEuaXNUZXh0KXt2YXIgYz10LnN0YXRlLnRyO3JldHVybiBlPDA/Yy5kZWxldGUoby5wb3MtYS5ub2RlU2l6ZSxvLnBvcyk6Yy5kZWxldGUoby5wb3Msby5wb3MrYS5ub2RlU2l6ZSksdC5kaXNwYXRjaChjKSwhMH1yZXR1cm4hMX1mdW5jdGlvbiBMdCh0LGUsbil7dC5kb21PYnNlcnZlci5zdG9wKCksZS5jb250ZW50RWRpdGFibGU9bix0LmRvbU9ic2VydmVyLnN0YXJ0KCl9ZnVuY3Rpb24gSHQodCl7aWYocy5jaHJvbWUmJiEodC5zdGF0ZS5zZWxlY3Rpb24uJGhlYWQucGFyZW50T2Zmc2V0PjApKXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj1lLmZvY3VzTm9kZSxyPWUuZm9jdXNPZmZzZXQ7aWYobiYmMT09bi5ub2RlVHlwZSYmMD09ciYmbi5maXJzdENoaWxkJiYiZmFsc2UiPT1uLmZpcnN0Q2hpbGQuY29udGVudEVkaXRhYmxlKXt2YXIgbz1uLmZpcnN0Q2hpbGQ7THQodCxvLCEwKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBMdCh0LG8sITEpfSksMjApfX19ZnVuY3Rpb24gcXQodCl7dmFyIGU9IiI7cmV0dXJuIHQuY3RybEtleSYmKGUrPSJjIiksdC5tZXRhS2V5JiYoZSs9Im0iKSx0LmFsdEtleSYmKGUrPSJhIiksdC5zaGlmdEtleSYmKGUrPSJzIiksZX1mdW5jdGlvbiBLdCh0LGUpe3ZhciBuPWUua2V5Q29kZSxyPXF0KGUpO3JldHVybiA4PT1ufHxzLm1hYyYmNzI9PW4mJiJjIj09cj9GdCh0LC0xKXx8SXQodCk6NDY9PW58fHMubWFjJiY2OD09biYmImMiPT1yP0Z0KHQsMSl8fGp0KHQpOjEzPT1ufHwyNz09bnx8KDM3PT1uP190KHQsLTEscil8fEl0KHQpOjM5PT1uP190KHQsMSxyKXx8anQodCk6Mzg9PW4/QnQodCwtMSxyKXx8SXQodCk6NDA9PW4/SHQodCl8fEJ0KHQsMSxyKXx8anQodCk6cj09KHMubWFjPyJtIjoiYyIpJiYoNjY9PW58fDczPT1ufHw4OT09bnx8OTA9PW4pKX1mdW5jdGlvbiBXdCh0LGUpe3ZhciBuPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxvPXQuc3RhdGUuZG9jO2lmKCFuLmZvY3VzTm9kZSlyZXR1cm4gbnVsbDt2YXIgaT10LmRvY1ZpZXcubmVhcmVzdERlc2Mobi5mb2N1c05vZGUpLHM9aSYmMD09aS5zaXplLGE9dC5kb2NWaWV3LnBvc0Zyb21ET00obi5mb2N1c05vZGUsbi5mb2N1c09mZnNldCk7aWYoYTwwKXJldHVybiBudWxsO3ZhciBjLGwsdT1vLnJlc29sdmUoYSk7aWYoUyhuKSl7Yz11O3doaWxlKGkmJiFpLm5vZGUpaT1pLnBhcmVudDtpZihpJiZpLm5vZGUuaXNBdG9tJiZyWyJOb2RlU2VsZWN0aW9uIl0uaXNTZWxlY3RhYmxlKGkubm9kZSkmJmkucGFyZW50JiYoIWkubm9kZS5pc0lubGluZXx8IWIobi5mb2N1c05vZGUsbi5mb2N1c09mZnNldCxpLmRvbSkpKXt2YXIgZj1pLnBvc0JlZm9yZTtsPW5ldyByWyJOb2RlU2VsZWN0aW9uIl0oYT09Zj91Om8ucmVzb2x2ZShmKSl9fWVsc2V7dmFyIGQ9dC5kb2NWaWV3LnBvc0Zyb21ET00obi5hbmNob3JOb2RlLG4uYW5jaG9yT2Zmc2V0KTtpZihkPDApcmV0dXJuIG51bGw7Yz1vLnJlc29sdmUoZCl9aWYoIWwpe3ZhciBwPSJwb2ludGVyIj09ZXx8dC5zdGF0ZS5zZWxlY3Rpb24uaGVhZDx1LnBvcyYmIXM/MTotMTtsPW5lKHQsYyx1LHApfXJldHVybiBsfWZ1bmN0aW9uIEp0KHQsZSl7dmFyIG49dC5zdGF0ZS5zZWxlY3Rpb247aWYodGUodCxuKSx0LmVkaXRhYmxlP3QuaGFzRm9jdXMoKTpvZSh0KSYmZG9jdW1lbnQuYWN0aXZlRWxlbWVudCYmZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5jb250YWlucyh0LmRvbSkpe2lmKHQuZG9tT2JzZXJ2ZXIuZGlzY29ubmVjdFNlbGVjdGlvbigpLHQuY3Vyc29yV3JhcHBlcilRdCh0KTtlbHNle3ZhciBvLGkscz1uLmFuY2hvcixhPW4uaGVhZDshVXR8fG4gaW5zdGFuY2VvZiByWyJUZXh0U2VsZWN0aW9uIl18fChuLiRmcm9tLnBhcmVudC5pbmxpbmVDb250ZW50fHwobz1HdCh0LG4uZnJvbSkpLG4uZW1wdHl8fG4uJGZyb20ucGFyZW50LmlubGluZUNvbnRlbnR8fChpPUd0KHQsbi50bykpKSx0LmRvY1ZpZXcuc2V0U2VsZWN0aW9uKHMsYSx0LnJvb3QsZSksVXQmJihvJiZZdChvKSxpJiZZdChpKSksbi52aXNpYmxlP3QuZG9tLmNsYXNzTGlzdC5yZW1vdmUoIlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb24iKToodC5kb20uY2xhc3NMaXN0LmFkZCgiUHJvc2VNaXJyb3ItaGlkZXNlbGVjdGlvbiIpLCJvbnNlbGVjdGlvbmNoYW5nZSJpbiBkb2N1bWVudCYmWnQodCkpfXQuZG9tT2JzZXJ2ZXIuc2V0Q3VyU2VsZWN0aW9uKCksdC5kb21PYnNlcnZlci5jb25uZWN0U2VsZWN0aW9uKCl9fWt0LnByb3RvdHlwZS5nZXRQcmVNYXRjaD1mdW5jdGlvbih0KXtyZXR1cm4gdD49dGhpcy5wcmVNYXRjaE9mZnNldD90aGlzLnByZU1hdGNoZWRbdC10aGlzLnByZU1hdGNoT2Zmc2V0XTpudWxsfSxrdC5wcm90b3R5cGUuZGVzdHJveUJldHdlZW49ZnVuY3Rpb24odCxlKXtpZih0IT1lKXtmb3IodmFyIG49dDtuPGU7bisrKXRoaXMudG9wLmNoaWxkcmVuW25dLmRlc3Ryb3koKTt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodCxlLXQpLHRoaXMuY2hhbmdlZD0hMH19LGt0LnByb3RvdHlwZS5kZXN0cm95UmVzdD1mdW5jdGlvbigpe3RoaXMuZGVzdHJveUJldHdlZW4odGhpcy5pbmRleCx0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGgpfSxrdC5wcm90b3R5cGUuc3luY1RvTWFya3M9ZnVuY3Rpb24odCxlLG4pe3ZhciByPTAsbz10aGlzLnN0YWNrLmxlbmd0aD4+MSxpPU1hdGgubWluKG8sdC5sZW5ndGgpO3doaWxlKHI8aSYmKHI9PW8tMT90aGlzLnRvcDp0aGlzLnN0YWNrW3IrMTw8MV0pLm1hdGNoZXNNYXJrKHRbcl0pJiYhMSE9PXRbcl0udHlwZS5zcGVjLnNwYW5uaW5nKXIrKzt3aGlsZShyPG8pdGhpcy5kZXN0cm95UmVzdCgpLHRoaXMudG9wLmRpcnR5PVEsdGhpcy5pbmRleD10aGlzLnN0YWNrLnBvcCgpLHRoaXMudG9wPXRoaXMuc3RhY2sucG9wKCksby0tO3doaWxlKG88dC5sZW5ndGgpe3RoaXMuc3RhY2sucHVzaCh0aGlzLnRvcCx0aGlzLmluZGV4KzEpO2Zvcih2YXIgcz0tMSxhPXRoaXMuaW5kZXg7YTxNYXRoLm1pbih0aGlzLmluZGV4KzMsdGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoKTthKyspaWYodGhpcy50b3AuY2hpbGRyZW5bYV0ubWF0Y2hlc01hcmsodFtvXSkpe3M9YTticmVha31pZihzPi0xKXM+dGhpcy5pbmRleCYmKHRoaXMuY2hhbmdlZD0hMCx0aGlzLmRlc3Ryb3lCZXR3ZWVuKHRoaXMuaW5kZXgscykpLHRoaXMudG9wPXRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXhdO2Vsc2V7dmFyIGM9Y3QuY3JlYXRlKHRoaXMudG9wLHRbb10sZSxuKTt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCwwLGMpLHRoaXMudG9wPWMsdGhpcy5jaGFuZ2VkPSEwfXRoaXMuaW5kZXg9MCxvKyt9fSxrdC5wcm90b3R5cGUuZmluZE5vZGVNYXRjaD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz0tMSxpPXI8MD92b2lkIDA6dGhpcy5nZXRQcmVNYXRjaChyKSxzPXRoaXMudG9wLmNoaWxkcmVuO2lmKGkmJmkubWF0Y2hlc05vZGUodCxlLG4pKW89cy5pbmRleE9mKGkpO2Vsc2UgZm9yKHZhciBhPXRoaXMuaW5kZXgsYz1NYXRoLm1pbihzLmxlbmd0aCxhKzUpO2E8YzthKyspe3ZhciBsPXNbYV07aWYobC5tYXRjaGVzTm9kZSh0LGUsbikmJnRoaXMucHJlTWF0Y2hlZC5pbmRleE9mKGwpPDApe289YTticmVha319cmV0dXJuIShvPDApJiYodGhpcy5kZXN0cm95QmV0d2Vlbih0aGlzLmluZGV4LG8pLHRoaXMuaW5kZXgrKywhMCl9LGt0LnByb3RvdHlwZS51cGRhdGVOZXh0Tm9kZT1mdW5jdGlvbih0LGUsbixyLG8pe2Zvcih2YXIgaT10aGlzLmluZGV4O2k8dGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoO2krKyl7dmFyIHM9dGhpcy50b3AuY2hpbGRyZW5baV07aWYocyBpbnN0YW5jZW9mIGx0KXt2YXIgYT10aGlzLnByZU1hdGNoZWQuaW5kZXhPZihzKTtpZihhPi0xJiZhK3RoaXMucHJlTWF0Y2hPZmZzZXQhPW8pcmV0dXJuITE7dmFyIGM9cy5kb20sbD10aGlzLmxvY2smJihjPT10aGlzLmxvY2t8fDE9PWMubm9kZVR5cGUmJmMuY29udGFpbnModGhpcy5sb2NrLnBhcmVudE5vZGUpKSYmISh0LmlzVGV4dCYmcy5ub2RlJiZzLm5vZGUuaXNUZXh0JiZzLm5vZGVET00ubm9kZVZhbHVlPT10LnRleHQmJnMuZGlydHkhPW50JiZTdChlLHMub3V0ZXJEZWNvKSk7aWYoIWwmJnMudXBkYXRlKHQsZSxuLHIpKXJldHVybiB0aGlzLmRlc3Ryb3lCZXR3ZWVuKHRoaXMuaW5kZXgsaSkscy5kb20hPWMmJih0aGlzLmNoYW5nZWQ9ITApLHRoaXMuaW5kZXgrKywhMDticmVha319cmV0dXJuITF9LGt0LnByb3RvdHlwZS5hZGROb2RlPWZ1bmN0aW9uKHQsZSxuLHIsbyl7dGhpcy50b3AuY2hpbGRyZW4uc3BsaWNlKHRoaXMuaW5kZXgrKywwLGx0LmNyZWF0ZSh0aGlzLnRvcCx0LGUsbixyLG8pKSx0aGlzLmNoYW5nZWQ9ITB9LGt0LnByb3RvdHlwZS5wbGFjZVdpZGdldD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5pbmRleDx0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGg/dGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleF06bnVsbDtpZighcnx8IXIubWF0Y2hlc1dpZGdldCh0KXx8dCE9ci53aWRnZXQmJnIud2lkZ2V0LnR5cGUudG9ET00ucGFyZW50Tm9kZSl7dmFyIG89bmV3IHN0KHRoaXMudG9wLHQsZSxuKTt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCsrLDAsbyksdGhpcy5jaGFuZ2VkPSEwfWVsc2UgdGhpcy5pbmRleCsrfSxrdC5wcm90b3R5cGUuYWRkVGV4dGJsb2NrSGFja3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRvcC5jaGlsZHJlblt0aGlzLmluZGV4LTFdO3doaWxlKHQgaW5zdGFuY2VvZiBjdCl0PXQuY2hpbGRyZW5bdC5jaGlsZHJlbi5sZW5ndGgtMV07aWYoIXR8fCEodCBpbnN0YW5jZW9mIGZ0KXx8L1xuJC8udGVzdCh0Lm5vZGUudGV4dCkpaWYodGhpcy5pbmRleDx0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGgmJnRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXhdLm1hdGNoZXNIYWNrKCkpdGhpcy5pbmRleCsrO2Vsc2V7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKTt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCsrLDAsbmV3IGR0KHRoaXMudG9wLGl0LGUsbnVsbCkpLHRoaXMuY2hhbmdlZD0hMH19O3ZhciBVdD1zLnNhZmFyaXx8cy5jaHJvbWUmJnMuY2hyb21lX3ZlcnNpb248NjM7ZnVuY3Rpb24gR3QodCxlKXt2YXIgbj10LmRvY1ZpZXcuZG9tRnJvbVBvcyhlKSxyPW4ubm9kZSxvPW4ub2Zmc2V0LGk9bzxyLmNoaWxkTm9kZXMubGVuZ3RoP3IuY2hpbGROb2Rlc1tvXTpudWxsLGE9bz9yLmNoaWxkTm9kZXNbby0xXTpudWxsO2lmKHMuc2FmYXJpJiZpJiYiZmFsc2UiPT1pLmNvbnRlbnRFZGl0YWJsZSlyZXR1cm4gWHQoaSk7aWYoKCFpfHwiZmFsc2UiPT1pLmNvbnRlbnRFZGl0YWJsZSkmJighYXx8ImZhbHNlIj09YS5jb250ZW50RWRpdGFibGUpKXtpZihpKXJldHVybiBYdChpKTtpZihhKXJldHVybiBYdChhKX19ZnVuY3Rpb24gWHQodCl7cmV0dXJuIHQuY29udGVudEVkaXRhYmxlPSJ0cnVlIixzLnNhZmFyaSYmdC5kcmFnZ2FibGUmJih0LmRyYWdnYWJsZT0hMSx0Lndhc0RyYWdnYWJsZT0hMCksdH1mdW5jdGlvbiBZdCh0KXt0LmNvbnRlbnRFZGl0YWJsZT0iZmFsc2UiLHQud2FzRHJhZ2dhYmxlJiYodC5kcmFnZ2FibGU9ITAsdC53YXNEcmFnZ2FibGU9bnVsbCl9ZnVuY3Rpb24gWnQodCl7dmFyIGU9dC5kb20ub3duZXJEb2N1bWVudDtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsdC5oaWRlU2VsZWN0aW9uR3VhcmQpO3ZhciBuPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxyPW4uYW5jaG9yTm9kZSxvPW4uYW5jaG9yT2Zmc2V0O2UuYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIix0LmhpZGVTZWxlY3Rpb25HdWFyZD1mdW5jdGlvbigpe24uYW5jaG9yTm9kZT09ciYmbi5hbmNob3JPZmZzZXQ9PW98fChlLnJlbW92ZUV2ZW50TGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsdC5oaWRlU2VsZWN0aW9uR3VhcmQpLHQuZG9tLmNsYXNzTGlzdC5yZW1vdmUoIlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb24iKSl9KX1mdW5jdGlvbiBRdCh0KXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpLHI9dC5jdXJzb3JXcmFwcGVyLmRvbSxvPSJJTUciPT1yLm5vZGVOYW1lO28/bi5zZXRFbmQoci5wYXJlbnROb2RlLGQocikrMSk6bi5zZXRFbmQociwwKSxuLmNvbGxhcHNlKCExKSxlLnJlbW92ZUFsbFJhbmdlcygpLGUuYWRkUmFuZ2UobiksIW8mJiF0LnN0YXRlLnNlbGVjdGlvbi52aXNpYmxlJiZzLmllJiZzLmllX3ZlcnNpb248PTExJiYoci5kaXNhYmxlZD0hMCxyLmRpc2FibGVkPSExKX1mdW5jdGlvbiB0ZSh0LGUpe2lmKGUgaW5zdGFuY2VvZiByWyJOb2RlU2VsZWN0aW9uIl0pe3ZhciBuPXQuZG9jVmlldy5kZXNjQXQoZS5mcm9tKTtuIT10Lmxhc3RTZWxlY3RlZFZpZXdEZXNjJiYoZWUodCksbiYmbi5zZWxlY3ROb2RlKCksdC5sYXN0U2VsZWN0ZWRWaWV3RGVzYz1uKX1lbHNlIGVlKHQpfWZ1bmN0aW9uIGVlKHQpe3QubGFzdFNlbGVjdGVkVmlld0Rlc2MmJih0Lmxhc3RTZWxlY3RlZFZpZXdEZXNjLnBhcmVudCYmdC5sYXN0U2VsZWN0ZWRWaWV3RGVzYy5kZXNlbGVjdE5vZGUoKSx0Lmxhc3RTZWxlY3RlZFZpZXdEZXNjPW51bGwpfWZ1bmN0aW9uIG5lKHQsZSxuLG8pe3JldHVybiB0LnNvbWVQcm9wKCJjcmVhdGVTZWxlY3Rpb25CZXR3ZWVuIiwoZnVuY3Rpb24ocil7cmV0dXJuIHIodCxlLG4pfSkpfHxyWyJUZXh0U2VsZWN0aW9uIl0uYmV0d2VlbihlLG4sbyl9ZnVuY3Rpb24gcmUodCl7cmV0dXJuKCF0LmVkaXRhYmxlfHx0LnJvb3QuYWN0aXZlRWxlbWVudD09dC5kb20pJiZvZSh0KX1mdW5jdGlvbiBvZSh0KXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCk7aWYoIWUuYW5jaG9yTm9kZSlyZXR1cm4hMTt0cnl7cmV0dXJuIHQuZG9tLmNvbnRhaW5zKDM9PWUuYW5jaG9yTm9kZS5ub2RlVHlwZT9lLmFuY2hvck5vZGUucGFyZW50Tm9kZTplLmFuY2hvck5vZGUpJiYodC5lZGl0YWJsZXx8dC5kb20uY29udGFpbnMoMz09ZS5mb2N1c05vZGUubm9kZVR5cGU/ZS5mb2N1c05vZGUucGFyZW50Tm9kZTplLmZvY3VzTm9kZSkpfWNhdGNoKG4pe3JldHVybiExfX1mdW5jdGlvbiBpZSh0KXt2YXIgZT10LmRvY1ZpZXcuZG9tRnJvbVBvcyh0LnN0YXRlLnNlbGVjdGlvbi5hbmNob3IpLG49dC5yb290LmdldFNlbGVjdGlvbigpO3JldHVybiB2KGUubm9kZSxlLm9mZnNldCxuLmFuY2hvck5vZGUsbi5hbmNob3JPZmZzZXQpfWZ1bmN0aW9uIHNlKHQsZSxuKXt2YXIgcj10LmRvY1ZpZXcucGFyc2VSYW5nZShlLG4pLGk9ci5ub2RlLGE9ci5mcm9tT2Zmc2V0LGM9ci50b09mZnNldCxsPXIuZnJvbSx1PXIudG8sZj10LnJvb3QuZ2V0U2VsZWN0aW9uKCksZD1udWxsLHA9Zi5hbmNob3JOb2RlO2lmKHAmJnQuZG9tLmNvbnRhaW5zKDE9PXAubm9kZVR5cGU/cDpwLnBhcmVudE5vZGUpJiYoZD1be25vZGU6cCxvZmZzZXQ6Zi5hbmNob3JPZmZzZXR9XSxTKGYpfHxkLnB1c2goe25vZGU6Zi5mb2N1c05vZGUsb2Zmc2V0OmYuZm9jdXNPZmZzZXR9KSkscy5jaHJvbWUmJjg9PT10Lmxhc3RLZXlDb2RlKWZvcih2YXIgaD1jO2g+YTtoLS0pe3ZhciB2PWkuY2hpbGROb2Rlc1toLTFdLG09di5wbVZpZXdEZXNjO2lmKCJCUiI9PXYubm9kZVR5cGUmJiFtKXtjPWg7YnJlYWt9aWYoIW18fG0uc2l6ZSlicmVha312YXIgZz10LnN0YXRlLmRvYyx5PXQuc29tZVByb3AoImRvbVBhcnNlciIpfHxvWyJET01QYXJzZXIiXS5mcm9tU2NoZW1hKHQuc3RhdGUuc2NoZW1hKSxiPWcucmVzb2x2ZShsKSx3PW51bGwseD15LnBhcnNlKGkse3RvcE5vZGU6Yi5wYXJlbnQsdG9wTWF0Y2g6Yi5wYXJlbnQuY29udGVudE1hdGNoQXQoYi5pbmRleCgpKSx0b3BPcGVuOiEwLGZyb206YSx0bzpjLHByZXNlcnZlV2hpdGVzcGFjZTohYi5wYXJlbnQudHlwZS5zcGVjLmNvZGV8fCJmdWxsIixlZGl0YWJsZUNvbnRlbnQ6ITAsZmluZFBvc2l0aW9uczpkLHJ1bGVGcm9tTm9kZTphZSxjb250ZXh0OmJ9KTtpZihkJiZudWxsIT1kWzBdLnBvcyl7dmFyIGs9ZFswXS5wb3MsTz1kWzFdJiZkWzFdLnBvcztudWxsPT1PJiYoTz1rKSx3PXthbmNob3I6aytsLGhlYWQ6TytsfX1yZXR1cm57ZG9jOngsc2VsOncsZnJvbTpsLHRvOnV9fWZ1bmN0aW9uIGFlKHQpe3ZhciBlPXQucG1WaWV3RGVzYztpZihlKXJldHVybiBlLnBhcnNlUnVsZSgpO2lmKCJCUiI9PXQubm9kZU5hbWUmJnQucGFyZW50Tm9kZSl7aWYocy5zYWZhcmkmJi9eKHVsfG9sKSQvaS50ZXN0KHQucGFyZW50Tm9kZS5ub2RlTmFtZSkpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBuLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIikpLHtza2lwOm59fWlmKHQucGFyZW50Tm9kZS5sYXN0Q2hpbGQ9PXR8fHMuc2FmYXJpJiYvXih0cnx0YWJsZSkkL2kudGVzdCh0LnBhcmVudE5vZGUubm9kZU5hbWUpKXJldHVybntpZ25vcmU6ITB9fWVsc2UgaWYoIklNRyI9PXQubm9kZU5hbWUmJnQuZ2V0QXR0cmlidXRlKCJtYXJrLXBsYWNlaG9sZGVyIikpcmV0dXJue2lnbm9yZTohMH19ZnVuY3Rpb24gY2UodCxlLG4sbyxpKXtpZihlPDApe3ZhciBhPXQubGFzdFNlbGVjdGlvblRpbWU+RGF0ZS5ub3coKS01MD90Lmxhc3RTZWxlY3Rpb25PcmlnaW46bnVsbCxjPVd0KHQsYSk7aWYoYyYmIXQuc3RhdGUuc2VsZWN0aW9uLmVxKGMpKXt2YXIgbD10LnN0YXRlLnRyLnNldFNlbGVjdGlvbihjKTsicG9pbnRlciI9PWE/bC5zZXRNZXRhKCJwb2ludGVyIiwhMCk6ImtleSI9PWEmJmwuc2Nyb2xsSW50b1ZpZXcoKSx0LmRpc3BhdGNoKGwpfX1lbHNle3ZhciB1PXQuc3RhdGUuZG9jLnJlc29sdmUoZSksZj11LnNoYXJlZERlcHRoKG4pO2U9dS5iZWZvcmUoZisxKSxuPXQuc3RhdGUuZG9jLnJlc29sdmUobikuYWZ0ZXIoZisxKTt2YXIgZCxwLGg9dC5zdGF0ZS5zZWxlY3Rpb24sdj1zZSh0LGUsbiksbT10LnN0YXRlLmRvYyxnPW0uc2xpY2Uodi5mcm9tLHYudG8pOzg9PT10Lmxhc3RLZXlDb2RlJiZEYXRlLm5vdygpLTEwMDx0Lmxhc3RLZXlDb2RlVGltZT8oZD10LnN0YXRlLnNlbGVjdGlvbi50byxwPSJlbmQiKTooZD10LnN0YXRlLnNlbGVjdGlvbi5mcm9tLHA9InN0YXJ0IiksdC5sYXN0S2V5Q29kZT1udWxsO3ZhciB5PXBlKGcuY29udGVudCx2LmRvYy5jb250ZW50LHYuZnJvbSxkLHApO2lmKCF5KXtpZighKG8mJmggaW5zdGFuY2VvZiByWyJUZXh0U2VsZWN0aW9uIl0mJiFoLmVtcHR5JiZoLiRoZWFkLnNhbWVQYXJlbnQoaC4kYW5jaG9yKSl8fHQuY29tcG9zaW5nfHx2LnNlbCYmdi5zZWwuYW5jaG9yIT12LnNlbC5oZWFkKXtpZih2LnNlbCl7dmFyIGI9bGUodCx0LnN0YXRlLmRvYyx2LnNlbCk7YiYmIWIuZXEodC5zdGF0ZS5zZWxlY3Rpb24pJiZ0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKGIpKX1yZXR1cm59eT17c3RhcnQ6aC5mcm9tLGVuZEE6aC50byxlbmRCOmgudG99fXQuZG9tQ2hhbmdlQ291bnQrKyx0LnN0YXRlLnNlbGVjdGlvbi5mcm9tPHQuc3RhdGUuc2VsZWN0aW9uLnRvJiZ5LnN0YXJ0PT15LmVuZEImJnQuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgclsiVGV4dFNlbGVjdGlvbiJdJiYoeS5zdGFydD50LnN0YXRlLnNlbGVjdGlvbi5mcm9tJiZ5LnN0YXJ0PD10LnN0YXRlLnNlbGVjdGlvbi5mcm9tKzI/eS5zdGFydD10LnN0YXRlLnNlbGVjdGlvbi5mcm9tOnkuZW5kQTx0LnN0YXRlLnNlbGVjdGlvbi50byYmeS5lbmRBPj10LnN0YXRlLnNlbGVjdGlvbi50by0yJiYoeS5lbmRCKz10LnN0YXRlLnNlbGVjdGlvbi50by15LmVuZEEseS5lbmRBPXQuc3RhdGUuc2VsZWN0aW9uLnRvKSkscy5pZSYmcy5pZV92ZXJzaW9uPD0xMSYmeS5lbmRCPT15LnN0YXJ0KzEmJnkuZW5kQT09eS5zdGFydCYmeS5zdGFydD52LmZyb20mJiIgwqAiPT12LmRvYy50ZXh0QmV0d2Vlbih5LnN0YXJ0LXYuZnJvbS0xLHkuc3RhcnQtdi5mcm9tKzEpJiYoeS5zdGFydC0tLHkuZW5kQS0tLHkuZW5kQi0tKTt2YXIgdyxTPXYuZG9jLnJlc29sdmVOb0NhY2hlKHkuc3RhcnQtdi5mcm9tKSxrPXYuZG9jLnJlc29sdmVOb0NhY2hlKHkuZW5kQi12LmZyb20pLE89Uy5zYW1lUGFyZW50KGspJiZTLnBhcmVudC5pbmxpbmVDb250ZW50O2lmKChzLmlvcyYmdC5sYXN0SU9TRW50ZXI+RGF0ZS5ub3coKS0yMjUmJighT3x8aS5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4iRElWIj09dC5ub2RlTmFtZXx8IlAiPT10Lm5vZGVOYW1lfSkpKXx8IU8mJlMucG9zPHYuZG9jLmNvbnRlbnQuc2l6ZSYmKHc9clsiU2VsZWN0aW9uIl0uZmluZEZyb20odi5kb2MucmVzb2x2ZShTLnBvcysxKSwxLCEwKSkmJncuaGVhZD09ay5wb3MpJiZ0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCx4KDEzLCJFbnRlciIpKX0pKSl0Lmxhc3RJT1NFbnRlcj0wO2Vsc2UgaWYodC5zdGF0ZS5zZWxlY3Rpb24uYW5jaG9yPnkuc3RhcnQmJmZlKG0seS5zdGFydCx5LmVuZEEsUyxrKSYmdC5zb21lUHJvcCgiaGFuZGxlS2V5RG93biIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQseCg4LCJCYWNrc3BhY2UiKSl9KSkpcy5hbmRyb2lkJiZzLmNocm9tZSYmdC5kb21PYnNlcnZlci5zdXBwcmVzc1NlbGVjdGlvblVwZGF0ZXMoKTtlbHNle3MuYW5kcm9pZCYmIU8mJlMuc3RhcnQoKSE9ay5zdGFydCgpJiYwPT1rLnBhcmVudE9mZnNldCYmUy5kZXB0aD09ay5kZXB0aCYmdi5zZWwmJnYuc2VsLmFuY2hvcj09di5zZWwuaGVhZCYmdi5zZWwuaGVhZD09eS5lbmRBJiYoeS5lbmRCLT0yLGs9di5kb2MucmVzb2x2ZU5vQ2FjaGUoeS5lbmRCLXYuZnJvbSksc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCx4KDEzLCJFbnRlciIpKX0pKX0pLDIwKSk7dmFyIEMsTSxOLFQsQT15LnN0YXJ0LEQ9eS5lbmRBO2lmKE8paWYoUy5wb3M9PWsucG9zKXMuaWUmJnMuaWVfdmVyc2lvbjw9MTEmJjA9PVMucGFyZW50T2Zmc2V0JiYodC5kb21PYnNlcnZlci5zdXBwcmVzc1NlbGVjdGlvblVwZGF0ZXMoKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBKdCh0KX0pLDIwKSksQz10LnN0YXRlLnRyLmRlbGV0ZShBLEQpLE09bS5yZXNvbHZlKHkuc3RhcnQpLm1hcmtzQWNyb3NzKG0ucmVzb2x2ZSh5LmVuZEEpKTtlbHNlIGlmKHkuZW5kQT09eS5lbmRCJiYoVD1tLnJlc29sdmUoeS5zdGFydCkpJiYoTj11ZShTLnBhcmVudC5jb250ZW50LmN1dChTLnBhcmVudE9mZnNldCxrLnBhcmVudE9mZnNldCksVC5wYXJlbnQuY29udGVudC5jdXQoVC5wYXJlbnRPZmZzZXQseS5lbmRBLVQuc3RhcnQoKSkpKSlDPXQuc3RhdGUudHIsImFkZCI9PU4udHlwZT9DLmFkZE1hcmsoQSxELE4ubWFyayk6Qy5yZW1vdmVNYXJrKEEsRCxOLm1hcmspO2Vsc2UgaWYoUy5wYXJlbnQuY2hpbGQoUy5pbmRleCgpKS5pc1RleHQmJlMuaW5kZXgoKT09ay5pbmRleCgpLShrLnRleHRPZmZzZXQ/MDoxKSl7dmFyIEU9Uy5wYXJlbnQudGV4dEJldHdlZW4oUy5wYXJlbnRPZmZzZXQsay5wYXJlbnRPZmZzZXQpO2lmKHQuc29tZVByb3AoImhhbmRsZVRleHRJbnB1dCIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQsQSxELEUpfSkpKXJldHVybjtDPXQuc3RhdGUudHIuaW5zZXJ0VGV4dChFLEEsRCl9aWYoQ3x8KEM9dC5zdGF0ZS50ci5yZXBsYWNlKEEsRCx2LmRvYy5zbGljZSh5LnN0YXJ0LXYuZnJvbSx5LmVuZEItdi5mcm9tKSkpLHYuc2VsKXt2YXIgUj1sZSh0LEMuZG9jLHYuc2VsKTtSJiYhKHMuY2hyb21lJiZzLmFuZHJvaWQmJnQuY29tcG9zaW5nJiZSLmVtcHR5JiYoUi5oZWFkPT1BfHxSLmhlYWQ9PUMubWFwcGluZy5tYXAoRCktMSl8fHMuaWUmJlIuZW1wdHkmJlIuaGVhZD09QSkmJkMuc2V0U2VsZWN0aW9uKFIpfU0mJkMuZW5zdXJlTWFya3MoTSksdC5kaXNwYXRjaChDLnNjcm9sbEludG9WaWV3KCkpfX19ZnVuY3Rpb24gbGUodCxlLG4pe3JldHVybiBNYXRoLm1heChuLmFuY2hvcixuLmhlYWQpPmUuY29udGVudC5zaXplP251bGw6bmUodCxlLnJlc29sdmUobi5hbmNob3IpLGUucmVzb2x2ZShuLmhlYWQpKX1mdW5jdGlvbiB1ZSh0LGUpe2Zvcih2YXIgbixyLGkscz10LmZpcnN0Q2hpbGQubWFya3MsYT1lLmZpcnN0Q2hpbGQubWFya3MsYz1zLGw9YSx1PTA7dTxhLmxlbmd0aDt1KyspYz1hW3VdLnJlbW92ZUZyb21TZXQoYyk7Zm9yKHZhciBmPTA7ZjxzLmxlbmd0aDtmKyspbD1zW2ZdLnJlbW92ZUZyb21TZXQobCk7aWYoMT09Yy5sZW5ndGgmJjA9PWwubGVuZ3RoKXI9Y1swXSxuPSJhZGQiLGk9ZnVuY3Rpb24odCl7cmV0dXJuIHQubWFyayhyLmFkZFRvU2V0KHQubWFya3MpKX07ZWxzZXtpZigwIT1jLmxlbmd0aHx8MSE9bC5sZW5ndGgpcmV0dXJuIG51bGw7cj1sWzBdLG49InJlbW92ZSIsaT1mdW5jdGlvbih0KXtyZXR1cm4gdC5tYXJrKHIucmVtb3ZlRnJvbVNldCh0Lm1hcmtzKSl9fWZvcih2YXIgZD1bXSxwPTA7cDxlLmNoaWxkQ291bnQ7cCsrKWQucHVzaChpKGUuY2hpbGQocCkpKTtpZihvWyJGcmFnbWVudCJdLmZyb20oZCkuZXEodCkpcmV0dXJue21hcms6cix0eXBlOm59fWZ1bmN0aW9uIGZlKHQsZSxuLHIsbyl7aWYoIXIucGFyZW50LmlzVGV4dGJsb2NrfHxuLWU8PW8ucG9zLXIucG9zfHxkZShyLCEwLCExKTxvLnBvcylyZXR1cm4hMTt2YXIgaT10LnJlc29sdmUoZSk7aWYoaS5wYXJlbnRPZmZzZXQ8aS5wYXJlbnQuY29udGVudC5zaXplfHwhaS5wYXJlbnQuaXNUZXh0YmxvY2spcmV0dXJuITE7dmFyIHM9dC5yZXNvbHZlKGRlKGksITAsITApKTtyZXR1cm4hKCFzLnBhcmVudC5pc1RleHRibG9ja3x8cy5wb3M+bnx8ZGUocywhMCwhMSk8bikmJnIucGFyZW50LmNvbnRlbnQuY3V0KHIucGFyZW50T2Zmc2V0KS5lcShzLnBhcmVudC5jb250ZW50KX1mdW5jdGlvbiBkZSh0LGUsbil7dmFyIHI9dC5kZXB0aCxvPWU/dC5lbmQoKTp0LnBvczt3aGlsZShyPjAmJihlfHx0LmluZGV4QWZ0ZXIocik9PXQubm9kZShyKS5jaGlsZENvdW50KSlyLS0sbysrLGU9ITE7aWYobil7dmFyIGk9dC5ub2RlKHIpLm1heWJlQ2hpbGQodC5pbmRleEFmdGVyKHIpKTt3aGlsZShpJiYhaS5pc0xlYWYpaT1pLmZpcnN0Q2hpbGQsbysrfXJldHVybiBvfWZ1bmN0aW9uIHBlKHQsZSxuLHIsbyl7dmFyIGk9dC5maW5kRGlmZlN0YXJ0KGUsbik7aWYobnVsbD09aSlyZXR1cm4gbnVsbDt2YXIgcz10LmZpbmREaWZmRW5kKGUsbit0LnNpemUsbitlLnNpemUpLGE9cy5hLGM9cy5iO2lmKCJlbmQiPT1vKXt2YXIgbD1NYXRoLm1heCgwLGktTWF0aC5taW4oYSxjKSk7ci09YStsLWl9aWYoYTxpJiZ0LnNpemU8ZS5zaXplKXt2YXIgdT1yPD1pJiZyPj1hP2ktcjowO2ktPXUsYz1pKyhjLWEpLGE9aX1lbHNlIGlmKGM8aSl7dmFyIGY9cjw9aSYmcj49Yz9pLXI6MDtpLT1mLGE9aSsoYS1jKSxjPWl9cmV0dXJue3N0YXJ0OmksZW5kQTphLGVuZEI6Y319ZnVuY3Rpb24gaGUodCxlKXt2YXIgbj1bXSxyPWUuY29udGVudCxpPWUub3BlblN0YXJ0LHM9ZS5vcGVuRW5kO3doaWxlKGk+MSYmcz4xJiYxPT1yLmNoaWxkQ291bnQmJjE9PXIuZmlyc3RDaGlsZC5jaGlsZENvdW50KXtpLS0scy0tO3ZhciBhPXIuZmlyc3RDaGlsZDtuLnB1c2goYS50eXBlLm5hbWUsYS50eXBlLmhhc1JlcXVpcmVkQXR0cnMoKT9hLmF0dHJzOm51bGwpLHI9YS5jb250ZW50fXZhciBjPXQuc29tZVByb3AoImNsaXBib2FyZFNlcmlhbGl6ZXIiKXx8b1siRE9NU2VyaWFsaXplciJdLmZyb21TY2hlbWEodC5zdGF0ZS5zY2hlbWEpLGw9T2UoKSx1PWwuY3JlYXRlRWxlbWVudCgiZGl2Iik7dS5hcHBlbmRDaGlsZChjLnNlcmlhbGl6ZUZyYWdtZW50KHIse2RvY3VtZW50Omx9KSk7dmFyIGYsZD11LmZpcnN0Q2hpbGQ7d2hpbGUoZCYmMT09ZC5ub2RlVHlwZSYmKGY9eGVbZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkpe2Zvcih2YXIgcD1mLmxlbmd0aC0xO3A+PTA7cC0tKXt2YXIgaD1sLmNyZWF0ZUVsZW1lbnQoZltwXSk7d2hpbGUodS5maXJzdENoaWxkKWguYXBwZW5kQ2hpbGQodS5maXJzdENoaWxkKTt1LmFwcGVuZENoaWxkKGgpfWQ9dS5maXJzdENoaWxkfWQmJjE9PWQubm9kZVR5cGUmJmQuc2V0QXR0cmlidXRlKCJkYXRhLXBtLXNsaWNlIixpKyIgIitzKyIgIitKU09OLnN0cmluZ2lmeShuKSk7dmFyIHY9dC5zb21lUHJvcCgiY2xpcGJvYXJkVGV4dFNlcmlhbGl6ZXIiLChmdW5jdGlvbih0KXtyZXR1cm4gdChlKX0pKXx8ZS5jb250ZW50LnRleHRCZXR3ZWVuKDAsZS5jb250ZW50LnNpemUsIlxuXG4iKTtyZXR1cm57ZG9tOnUsdGV4dDp2fX1mdW5jdGlvbiB2ZSh0LGUsbixyLGkpe3ZhciBzLGEsYz1pLnBhcmVudC50eXBlLnNwZWMuY29kZTtpZighbiYmIWUpcmV0dXJuIG51bGw7dmFyIGw9ZSYmKHJ8fGN8fCFuKTtpZihsKXtpZih0LnNvbWVQcm9wKCJ0cmFuc2Zvcm1QYXN0ZWRUZXh0IiwoZnVuY3Rpb24odCl7ZT10KGUsY3x8cil9KSksYylyZXR1cm4gbmV3IG9bIlNsaWNlIl0ob1siRnJhZ21lbnQiXS5mcm9tKHQuc3RhdGUuc2NoZW1hLnRleHQoZSkpLDAsMCk7dmFyIHU9dC5zb21lUHJvcCgiY2xpcGJvYXJkVGV4dFBhcnNlciIsKGZ1bmN0aW9uKHQpe3JldHVybiB0KGUsaSxyKX0pKTt1P2E9dToocz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxlLnRyaW0oKS5zcGxpdCgvKD86XHJcbj98XG4pKy8pLmZvckVhY2goKGZ1bmN0aW9uKHQpe3MuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpKS50ZXh0Q29udGVudD10fSkpKX1lbHNlIHQuc29tZVByb3AoInRyYW5zZm9ybVBhc3RlZEhUTUwiLChmdW5jdGlvbih0KXtuPXQobil9KSkscz1DZShuKTt2YXIgZj1zJiZzLnF1ZXJ5U2VsZWN0b3IoIltkYXRhLXBtLXNsaWNlXSIpLGQ9ZiYmL14oXGQrKSAoXGQrKSAoLiopLy5leGVjKGYuZ2V0QXR0cmlidXRlKCJkYXRhLXBtLXNsaWNlIikpO2lmKCFhKXt2YXIgcD10LnNvbWVQcm9wKCJjbGlwYm9hcmRQYXJzZXIiKXx8dC5zb21lUHJvcCgiZG9tUGFyc2VyIil8fG9bIkRPTVBhcnNlciJdLmZyb21TY2hlbWEodC5zdGF0ZS5zY2hlbWEpO2E9cC5wYXJzZVNsaWNlKHMse3ByZXNlcnZlV2hpdGVzcGFjZTohKCFsJiYhZCksY29udGV4dDppfSl9cmV0dXJuIGE9ZD9NZShTZShhLCtkWzFdLCtkWzJdKSxkWzNdKTpvWyJTbGljZSJdLm1heE9wZW4obWUoYS5jb250ZW50LGkpLCExKSx0LnNvbWVQcm9wKCJ0cmFuc2Zvcm1QYXN0ZWQiLChmdW5jdGlvbih0KXthPXQoYSl9KSksYX1mdW5jdGlvbiBtZSh0LGUpe2lmKHQuY2hpbGRDb3VudDwyKXJldHVybiB0O2Zvcih2YXIgbj1mdW5jdGlvbihuKXt2YXIgcj1lLm5vZGUobiksaT1yLmNvbnRlbnRNYXRjaEF0KGUuaW5kZXgobikpLHM9dm9pZCAwLGE9W107aWYodC5mb3JFYWNoKChmdW5jdGlvbih0KXtpZihhKXt2YXIgZSxuPWkuZmluZFdyYXBwaW5nKHQudHlwZSk7aWYoIW4pcmV0dXJuIGE9bnVsbDtpZihlPWEubGVuZ3RoJiZzLmxlbmd0aCYmeWUobixzLHQsYVthLmxlbmd0aC0xXSwwKSlhW2EubGVuZ3RoLTFdPWU7ZWxzZXthLmxlbmd0aCYmKGFbYS5sZW5ndGgtMV09YmUoYVthLmxlbmd0aC0xXSxzLmxlbmd0aCkpO3ZhciByPWdlKHQsbik7YS5wdXNoKHIpLGk9aS5tYXRjaFR5cGUoci50eXBlLHIuYXR0cnMpLHM9bn19fSkpLGEpcmV0dXJue3Y6b1siRnJhZ21lbnQiXS5mcm9tKGEpfX0scj1lLmRlcHRoO3I+PTA7ci0tKXt2YXIgaT1uKHIpO2lmKGkpcmV0dXJuIGkudn1yZXR1cm4gdH1mdW5jdGlvbiBnZSh0LGUsbil7dm9pZCAwPT09biYmKG49MCk7Zm9yKHZhciByPWUubGVuZ3RoLTE7cj49bjtyLS0pdD1lW3JdLmNyZWF0ZShudWxsLG9bIkZyYWdtZW50Il0uZnJvbSh0KSk7cmV0dXJuIHR9ZnVuY3Rpb24geWUodCxlLG4scixpKXtpZihpPHQubGVuZ3RoJiZpPGUubGVuZ3RoJiZ0W2ldPT1lW2ldKXt2YXIgcz15ZSh0LGUsbixyLmxhc3RDaGlsZCxpKzEpO2lmKHMpcmV0dXJuIHIuY29weShyLmNvbnRlbnQucmVwbGFjZUNoaWxkKHIuY2hpbGRDb3VudC0xLHMpKTt2YXIgYT1yLmNvbnRlbnRNYXRjaEF0KHIuY2hpbGRDb3VudCk7aWYoYS5tYXRjaFR5cGUoaT09dC5sZW5ndGgtMT9uLnR5cGU6dFtpKzFdKSlyZXR1cm4gci5jb3B5KHIuY29udGVudC5hcHBlbmQob1siRnJhZ21lbnQiXS5mcm9tKGdlKG4sdCxpKzEpKSkpfX1mdW5jdGlvbiBiZSh0LGUpe2lmKDA9PWUpcmV0dXJuIHQ7dmFyIG49dC5jb250ZW50LnJlcGxhY2VDaGlsZCh0LmNoaWxkQ291bnQtMSxiZSh0Lmxhc3RDaGlsZCxlLTEpKSxyPXQuY29udGVudE1hdGNoQXQodC5jaGlsZENvdW50KS5maWxsQmVmb3JlKG9bIkZyYWdtZW50Il0uZW1wdHksITApO3JldHVybiB0LmNvcHkobi5hcHBlbmQocikpfWZ1bmN0aW9uIHdlKHQsZSxuLHIsaSxzKXt2YXIgYT1lPDA/dC5maXJzdENoaWxkOnQubGFzdENoaWxkLGM9YS5jb250ZW50O3JldHVybiBpPHItMSYmKGM9d2UoYyxlLG4scixpKzEscykpLGk+PW4mJihjPWU8MD9hLmNvbnRlbnRNYXRjaEF0KDApLmZpbGxCZWZvcmUoYyx0LmNoaWxkQ291bnQ+MXx8czw9aSkuYXBwZW5kKGMpOmMuYXBwZW5kKGEuY29udGVudE1hdGNoQXQoYS5jaGlsZENvdW50KS5maWxsQmVmb3JlKG9bIkZyYWdtZW50Il0uZW1wdHksITApKSksdC5yZXBsYWNlQ2hpbGQoZTwwPzA6dC5jaGlsZENvdW50LTEsYS5jb3B5KGMpKX1mdW5jdGlvbiBTZSh0LGUsbil7cmV0dXJuIGU8dC5vcGVuU3RhcnQmJih0PW5ldyBvWyJTbGljZSJdKHdlKHQuY29udGVudCwtMSxlLHQub3BlblN0YXJ0LDAsdC5vcGVuRW5kKSxlLHQub3BlbkVuZCkpLG48dC5vcGVuRW5kJiYodD1uZXcgb1siU2xpY2UiXSh3ZSh0LmNvbnRlbnQsMSxuLHQub3BlbkVuZCwwLDApLHQub3BlblN0YXJ0LG4pKSx0fXZhciB4ZT17dGhlYWQ6WyJ0YWJsZSJdLHRib2R5OlsidGFibGUiXSx0Zm9vdDpbInRhYmxlIl0sY2FwdGlvbjpbInRhYmxlIl0sY29sZ3JvdXA6WyJ0YWJsZSJdLGNvbDpbInRhYmxlIiwiY29sZ3JvdXAiXSx0cjpbInRhYmxlIiwidGJvZHkiXSx0ZDpbInRhYmxlIiwidGJvZHkiLCJ0ciJdLHRoOlsidGFibGUiLCJ0Ym9keSIsInRyIl19LGtlPW51bGw7ZnVuY3Rpb24gT2UoKXtyZXR1cm4ga2V8fChrZT1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoInRpdGxlIikpfWZ1bmN0aW9uIENlKHQpe3ZhciBlPS8oXHMqPG1ldGEgW14+XSo+KSovLmV4ZWModCk7ZSYmKHQ9dC5zbGljZShlWzBdLmxlbmd0aCkpO3ZhciBuLHI9T2UoKS5jcmVhdGVFbGVtZW50KCJkaXYiKSxvPS8oPzo8bWV0YSBbXj5dKj4pKjwoW2Etel1bXj5cc10rKS9pLmV4ZWModCksaT0wOyhuPW8mJnhlW29bMV0udG9Mb3dlckNhc2UoKV0pJiYodD1uLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIjwiK3QrIj4ifSkpLmpvaW4oIiIpK3Qrbi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiI8LyIrdCsiPiJ9KSkucmV2ZXJzZSgpLmpvaW4oIiIpLGk9bi5sZW5ndGgpLHIuaW5uZXJIVE1MPXQ7Zm9yKHZhciBzPTA7czxpO3MrKylyPXIuZmlyc3RDaGlsZDtyZXR1cm4gcn1mdW5jdGlvbiBNZSh0LGUpe2lmKCF0LnNpemUpcmV0dXJuIHQ7dmFyIG4scj10LmNvbnRlbnQuZmlyc3RDaGlsZC50eXBlLnNjaGVtYTt0cnl7bj1KU09OLnBhcnNlKGUpfWNhdGNoKHUpe3JldHVybiB0fWZvcih2YXIgaT10LmNvbnRlbnQscz10Lm9wZW5TdGFydCxhPXQub3BlbkVuZCxjPW4ubGVuZ3RoLTI7Yz49MDtjLT0yKXt2YXIgbD1yLm5vZGVzW25bY11dO2lmKCFsfHxsLmhhc1JlcXVpcmVkQXR0cnMoKSlicmVhaztpPW9bIkZyYWdtZW50Il0uZnJvbShsLmNyZWF0ZShuW2MrMV0saSkpLHMrKyxhKyt9cmV0dXJuIG5ldyBvWyJTbGljZSJdKGkscyxhKX12YXIgTmU9e2NoaWxkTGlzdDohMCxjaGFyYWN0ZXJEYXRhOiEwLGNoYXJhY3RlckRhdGFPbGRWYWx1ZTohMCxhdHRyaWJ1dGVzOiEwLGF0dHJpYnV0ZU9sZFZhbHVlOiEwLHN1YnRyZWU6ITB9LFRlPXMuaWUmJnMuaWVfdmVyc2lvbjw9MTEsQWU9ZnVuY3Rpb24oKXt0aGlzLmFuY2hvck5vZGU9dGhpcy5hbmNob3JPZmZzZXQ9dGhpcy5mb2N1c05vZGU9dGhpcy5mb2N1c09mZnNldD1udWxsfTtBZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuYW5jaG9yTm9kZT10LmFuY2hvck5vZGUsdGhpcy5hbmNob3JPZmZzZXQ9dC5hbmNob3JPZmZzZXQsdGhpcy5mb2N1c05vZGU9dC5mb2N1c05vZGUsdGhpcy5mb2N1c09mZnNldD10LmZvY3VzT2Zmc2V0fSxBZS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHQuYW5jaG9yTm9kZT09dGhpcy5hbmNob3JOb2RlJiZ0LmFuY2hvck9mZnNldD09dGhpcy5hbmNob3JPZmZzZXQmJnQuZm9jdXNOb2RlPT10aGlzLmZvY3VzTm9kZSYmdC5mb2N1c09mZnNldD09dGhpcy5mb2N1c09mZnNldH07dmFyIERlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0aGlzLnZpZXc9dCx0aGlzLmhhbmRsZURPTUNoYW5nZT1lLHRoaXMucXVldWU9W10sdGhpcy5mbHVzaGluZ1Nvb249LTEsdGhpcy5vYnNlcnZlcj13aW5kb3cuTXV0YXRpb25PYnNlcnZlciYmbmV3IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyKChmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyluLnF1ZXVlLnB1c2godFtlXSk7cy5pZSYmcy5pZV92ZXJzaW9uPD0xMSYmdC5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4iY2hpbGRMaXN0Ij09dC50eXBlJiZ0LnJlbW92ZWROb2Rlcy5sZW5ndGh8fCJjaGFyYWN0ZXJEYXRhIj09dC50eXBlJiZ0Lm9sZFZhbHVlLmxlbmd0aD50LnRhcmdldC5ub2RlVmFsdWUubGVuZ3RofSkpP24uZmx1c2hTb29uKCk6bi5mbHVzaCgpfSkpLHRoaXMuY3VycmVudFNlbGVjdGlvbj1uZXcgQWUsVGUmJih0aGlzLm9uQ2hhckRhdGE9ZnVuY3Rpb24odCl7bi5xdWV1ZS5wdXNoKHt0YXJnZXQ6dC50YXJnZXQsdHlwZToiY2hhcmFjdGVyRGF0YSIsb2xkVmFsdWU6dC5wcmV2VmFsdWV9KSxuLmZsdXNoU29vbigpfSksdGhpcy5vblNlbGVjdGlvbkNoYW5nZT10aGlzLm9uU2VsZWN0aW9uQ2hhbmdlLmJpbmQodGhpcyksdGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXM9ITF9O0RlLnByb3RvdHlwZS5mbHVzaFNvb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZmx1c2hpbmdTb29uPDAmJih0aGlzLmZsdXNoaW5nU29vbj13aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmZsdXNoaW5nU29vbj0tMSx0LmZsdXNoKCl9KSwyMCkpfSxEZS5wcm90b3R5cGUuZm9yY2VGbHVzaD1mdW5jdGlvbigpe3RoaXMuZmx1c2hpbmdTb29uPi0xJiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLmZsdXNoaW5nU29vbiksdGhpcy5mbHVzaGluZ1Nvb249LTEsdGhpcy5mbHVzaCgpKX0sRGUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5vYnNlcnZlciYmdGhpcy5vYnNlcnZlci5vYnNlcnZlKHRoaXMudmlldy5kb20sTmUpLFRlJiZ0aGlzLnZpZXcuZG9tLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcy5vbkNoYXJEYXRhKSx0aGlzLmNvbm5lY3RTZWxlY3Rpb24oKX0sRGUucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMub2JzZXJ2ZXIpe3ZhciBlPXRoaXMub2JzZXJ2ZXIudGFrZVJlY29yZHMoKTtpZihlLmxlbmd0aCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdGhpcy5xdWV1ZS5wdXNoKGVbbl0pO3dpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0LmZsdXNoKCl9KSwyMCl9dGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCl9VGUmJnRoaXMudmlldy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIix0aGlzLm9uQ2hhckRhdGEpLHRoaXMuZGlzY29ubmVjdFNlbGVjdGlvbigpfSxEZS5wcm90b3R5cGUuY29ubmVjdFNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMudmlldy5kb20ub3duZXJEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLHRoaXMub25TZWxlY3Rpb25DaGFuZ2UpfSxEZS5wcm90b3R5cGUuZGlzY29ubmVjdFNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMudmlldy5kb20ub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLHRoaXMub25TZWxlY3Rpb25DaGFuZ2UpfSxEZS5wcm90b3R5cGUuc3VwcHJlc3NTZWxlY3Rpb25VcGRhdGVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcz0hMCxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0LnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcz0hMX0pLDUwKX0sRGUucHJvdG90eXBlLm9uU2VsZWN0aW9uQ2hhbmdlPWZ1bmN0aW9uKCl7aWYocmUodGhpcy52aWV3KSl7aWYodGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMpcmV0dXJuIEp0KHRoaXMudmlldyk7aWYocy5pZSYmcy5pZV92ZXJzaW9uPD0xMSYmIXRoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24uZW1wdHkpe3ZhciB0PXRoaXMudmlldy5yb290LmdldFNlbGVjdGlvbigpO2lmKHQuZm9jdXNOb2RlJiZ2KHQuZm9jdXNOb2RlLHQuZm9jdXNPZmZzZXQsdC5hbmNob3JOb2RlLHQuYW5jaG9yT2Zmc2V0KSlyZXR1cm4gdGhpcy5mbHVzaFNvb24oKX10aGlzLmZsdXNoKCl9fSxEZS5wcm90b3R5cGUuc2V0Q3VyU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50U2VsZWN0aW9uLnNldCh0aGlzLnZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKSl9LERlLnByb3RvdHlwZS5pZ25vcmVTZWxlY3Rpb25DaGFuZ2U9ZnVuY3Rpb24odCl7aWYoMD09dC5yYW5nZUNvdW50KXJldHVybiEwO3ZhciBlPXQuZ2V0UmFuZ2VBdCgwKS5jb21tb25BbmNlc3RvckNvbnRhaW5lcixuPXRoaXMudmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKGUpO3JldHVybiBuJiZuLmlnbm9yZU11dGF0aW9uKHt0eXBlOiJzZWxlY3Rpb24iLHRhcmdldDozPT1lLm5vZGVUeXBlP2UucGFyZW50Tm9kZTplfSk/KHRoaXMuc2V0Q3VyU2VsZWN0aW9uKCksITApOnZvaWQgMH0sRGUucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7aWYodGhpcy52aWV3LmRvY1ZpZXcmJiEodGhpcy5mbHVzaGluZ1Nvb24+LTEpKXt2YXIgdD10aGlzLm9ic2VydmVyP3RoaXMub2JzZXJ2ZXIudGFrZVJlY29yZHMoKTpbXTt0aGlzLnF1ZXVlLmxlbmd0aCYmKHQ9dGhpcy5xdWV1ZS5jb25jYXQodCksdGhpcy5xdWV1ZS5sZW5ndGg9MCk7dmFyIGU9dGhpcy52aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj0hdGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMmJiF0aGlzLmN1cnJlbnRTZWxlY3Rpb24uZXEoZSkmJm9lKHRoaXMudmlldykmJiF0aGlzLmlnbm9yZVNlbGVjdGlvbkNoYW5nZShlKSxyPS0xLG89LTEsaT0hMSxhPVtdO2lmKHRoaXMudmlldy5lZGl0YWJsZSlmb3IodmFyIGM9MDtjPHQubGVuZ3RoO2MrKyl7dmFyIGw9dGhpcy5yZWdpc3Rlck11dGF0aW9uKHRbY10sYSk7bCYmKHI9cjwwP2wuZnJvbTpNYXRoLm1pbihsLmZyb20sciksbz1vPDA/bC50bzpNYXRoLm1heChsLnRvLG8pLGwudHlwZU92ZXImJihpPSEwKSl9aWYocy5nZWNrbyYmYS5sZW5ndGg+MSl7dmFyIHU9YS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiJCUiI9PXQubm9kZU5hbWV9KSk7aWYoMj09dS5sZW5ndGgpe3ZhciBmPXVbMF0sZD11WzFdO2YucGFyZW50Tm9kZSYmZi5wYXJlbnROb2RlLnBhcmVudE5vZGU9PWQucGFyZW50Tm9kZT9kLnJlbW92ZSgpOmYucmVtb3ZlKCl9fShyPi0xfHxuKSYmKHI+LTEmJih0aGlzLnZpZXcuZG9jVmlldy5tYXJrRGlydHkocixvKSxSZSh0aGlzLnZpZXcpKSx0aGlzLmhhbmRsZURPTUNoYW5nZShyLG8saSxhKSx0aGlzLnZpZXcuZG9jVmlldy5kaXJ0eT90aGlzLnZpZXcudXBkYXRlU3RhdGUodGhpcy52aWV3LnN0YXRlKTp0aGlzLmN1cnJlbnRTZWxlY3Rpb24uZXEoZSl8fEp0KHRoaXMudmlldykpfX0sRGUucHJvdG90eXBlLnJlZ2lzdGVyTXV0YXRpb249ZnVuY3Rpb24odCxlKXtpZihlLmluZGV4T2YodC50YXJnZXQpPi0xKXJldHVybiBudWxsO3ZhciBuPXRoaXMudmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKHQudGFyZ2V0KTtpZigiYXR0cmlidXRlcyI9PXQudHlwZSYmKG49PXRoaXMudmlldy5kb2NWaWV3fHwiY29udGVudGVkaXRhYmxlIj09dC5hdHRyaWJ1dGVOYW1lfHwic3R5bGUiPT10LmF0dHJpYnV0ZU5hbWUmJiF0Lm9sZFZhbHVlJiYhdC50YXJnZXQuZ2V0QXR0cmlidXRlKCJzdHlsZSIpKSlyZXR1cm4gbnVsbDtpZighbnx8bi5pZ25vcmVNdXRhdGlvbih0KSlyZXR1cm4gbnVsbDtpZigiY2hpbGRMaXN0Ij09dC50eXBlKXt2YXIgcj10LnByZXZpb3VzU2libGluZyxvPXQubmV4dFNpYmxpbmc7aWYocy5pZSYmcy5pZV92ZXJzaW9uPD0xMSYmdC5hZGRlZE5vZGVzLmxlbmd0aClmb3IodmFyIGk9MDtpPHQuYWRkZWROb2Rlcy5sZW5ndGg7aSsrKXt2YXIgYT10LmFkZGVkTm9kZXNbaV0sYz1hLnByZXZpb3VzU2libGluZyxsPWEubmV4dFNpYmxpbmc7KCFjfHxBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHQuYWRkZWROb2RlcyxjKTwwKSYmKHI9YyksKCFsfHxBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHQuYWRkZWROb2RlcyxsKTwwKSYmKG89bCl9Zm9yKHZhciB1PXImJnIucGFyZW50Tm9kZT09dC50YXJnZXQ/ZChyKSsxOjAsZj1uLmxvY2FsUG9zRnJvbURPTSh0LnRhcmdldCx1LC0xKSxwPW8mJm8ucGFyZW50Tm9kZT09dC50YXJnZXQ/ZChvKTp0LnRhcmdldC5jaGlsZE5vZGVzLmxlbmd0aCxoPTA7aDx0LmFkZGVkTm9kZXMubGVuZ3RoO2grKyllLnB1c2godC5hZGRlZE5vZGVzW2hdKTt2YXIgdj1uLmxvY2FsUG9zRnJvbURPTSh0LnRhcmdldCxwLDEpO3JldHVybntmcm9tOmYsdG86dn19cmV0dXJuImF0dHJpYnV0ZXMiPT10LnR5cGU/e2Zyb206bi5wb3NBdFN0YXJ0LW4uYm9yZGVyLHRvOm4ucG9zQXRFbmQrbi5ib3JkZXJ9Ontmcm9tOm4ucG9zQXRTdGFydCx0bzpuLnBvc0F0RW5kLHR5cGVPdmVyOnQudGFyZ2V0Lm5vZGVWYWx1ZT09dC5vbGRWYWx1ZX19O3ZhciBFZT0hMTtmdW5jdGlvbiBSZSh0KXtFZXx8KEVlPSEwLCJub3JtYWwiPT1nZXRDb21wdXRlZFN0eWxlKHQuZG9tKS53aGl0ZVNwYWNlJiZjb25zb2xlWyJ3YXJuIl0oIlByb3NlTWlycm9yIGV4cGVjdHMgdGhlIENTUyB3aGl0ZS1zcGFjZSBwcm9wZXJ0eSB0byBiZSBzZXQsIHByZWZlcmFibHkgdG8gJ3ByZS13cmFwJy4gSXQgaXMgcmVjb21tZW5kZWQgdG8gbG9hZCBzdHlsZS9wcm9zZW1pcnJvci5jc3MgZnJvbSB0aGUgcHJvc2VtaXJyb3ItdmlldyBwYWNrYWdlLiIpKX12YXIgX2U9e30sUGU9e307ZnVuY3Rpb24gemUodCl7dC5zaGlmdEtleT0hMSx0Lm1vdXNlRG93bj1udWxsLHQubGFzdEtleUNvZGU9bnVsbCx0Lmxhc3RLZXlDb2RlVGltZT0wLHQubGFzdENsaWNrPXt0aW1lOjAseDowLHk6MCx0eXBlOiIifSx0Lmxhc3RTZWxlY3Rpb25PcmlnaW49bnVsbCx0Lmxhc3RTZWxlY3Rpb25UaW1lPTAsdC5sYXN0SU9TRW50ZXI9MCx0Lmxhc3RJT1NFbnRlckZhbGxiYWNrVGltZW91dD1udWxsLHQuY29tcG9zaW5nPSExLHQuY29tcG9zaW5nVGltZW91dD1udWxsLHQuY29tcG9zaXRpb25Ob2Rlcz1bXSx0LmNvbXBvc2l0aW9uRW5kZWRBdD0tMmU4LHQuZG9tT2JzZXJ2ZXI9bmV3IERlKHQsKGZ1bmN0aW9uKGUsbixyLG8pe3JldHVybiBjZSh0LGUsbixyLG8pfSkpLHQuZG9tT2JzZXJ2ZXIuc3RhcnQoKSx0LmRvbUNoYW5nZUNvdW50PTAsdC5ldmVudEhhbmRsZXJzPU9iamVjdC5jcmVhdGUobnVsbCk7dmFyIGU9ZnVuY3Rpb24oZSl7dmFyIG49X2VbZV07dC5kb20uYWRkRXZlbnRMaXN0ZW5lcihlLHQuZXZlbnRIYW5kbGVyc1tlXT1mdW5jdGlvbihlKXshQmUodCxlKXx8VmUodCxlKXx8IXQuZWRpdGFibGUmJmUudHlwZSBpbiBQZXx8bih0LGUpfSl9O2Zvcih2YXIgbiBpbiBfZSllKG4pO3Muc2FmYXJpJiZ0LmRvbS5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9KSksJGUodCl9ZnVuY3Rpb24gSWUodCxlKXt0Lmxhc3RTZWxlY3Rpb25PcmlnaW49ZSx0Lmxhc3RTZWxlY3Rpb25UaW1lPURhdGUubm93KCl9ZnVuY3Rpb24gamUodCl7Zm9yKHZhciBlIGluIHQuZG9tT2JzZXJ2ZXIuc3RvcCgpLHQuZXZlbnRIYW5kbGVycyl0LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKGUsdC5ldmVudEhhbmRsZXJzW2VdKTtjbGVhclRpbWVvdXQodC5jb21wb3NpbmdUaW1lb3V0KSxjbGVhclRpbWVvdXQodC5sYXN0SU9TRW50ZXJGYWxsYmFja1RpbWVvdXQpfWZ1bmN0aW9uICRlKHQpe3Quc29tZVByb3AoImhhbmRsZURPTUV2ZW50cyIsKGZ1bmN0aW9uKGUpe2Zvcih2YXIgbiBpbiBlKXQuZXZlbnRIYW5kbGVyc1tuXXx8dC5kb20uYWRkRXZlbnRMaXN0ZW5lcihuLHQuZXZlbnRIYW5kbGVyc1tuXT1mdW5jdGlvbihlKXtyZXR1cm4gVmUodCxlKX0pfSkpfWZ1bmN0aW9uIFZlKHQsZSl7cmV0dXJuIHQuc29tZVByb3AoImhhbmRsZURPTUV2ZW50cyIsKGZ1bmN0aW9uKG4pe3ZhciByPW5bZS50eXBlXTtyZXR1cm4hIXImJihyKHQsZSl8fGUuZGVmYXVsdFByZXZlbnRlZCl9KSl9ZnVuY3Rpb24gQmUodCxlKXtpZighZS5idWJibGVzKXJldHVybiEwO2lmKGUuZGVmYXVsdFByZXZlbnRlZClyZXR1cm4hMTtmb3IodmFyIG49ZS50YXJnZXQ7biE9dC5kb207bj1uLnBhcmVudE5vZGUpaWYoIW58fDExPT1uLm5vZGVUeXBlfHxuLnBtVmlld0Rlc2MmJm4ucG1WaWV3RGVzYy5zdG9wRXZlbnQoZSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gRmUodCxlKXtWZSh0LGUpfHwhX2VbZS50eXBlXXx8IXQuZWRpdGFibGUmJmUudHlwZSBpbiBQZXx8X2VbZS50eXBlXSh0LGUpfWZ1bmN0aW9uIExlKHQpe3JldHVybntsZWZ0OnQuY2xpZW50WCx0b3A6dC5jbGllbnRZfX1mdW5jdGlvbiBIZSh0LGUpe3ZhciBuPWUueC10LmNsaWVudFgscj1lLnktdC5jbGllbnRZO3JldHVybiBuKm4rcipyPDEwMH1mdW5jdGlvbiBxZSh0LGUsbixyLG8pe2lmKC0xPT1yKXJldHVybiExO2Zvcih2YXIgaT10LnN0YXRlLmRvYy5yZXNvbHZlKHIpLHM9ZnVuY3Rpb24ocil7aWYodC5zb21lUHJvcChlLChmdW5jdGlvbihlKXtyZXR1cm4gcj5pLmRlcHRoP2UodCxuLGkubm9kZUFmdGVyLGkuYmVmb3JlKHIpLG8sITApOmUodCxuLGkubm9kZShyKSxpLmJlZm9yZShyKSxvLCExKX0pKSlyZXR1cm57djohMH19LGE9aS5kZXB0aCsxO2E+MDthLS0pe3ZhciBjPXMoYSk7aWYoYylyZXR1cm4gYy52fXJldHVybiExfWZ1bmN0aW9uIEtlKHQsZSxuKXt0LmZvY3VzZWR8fHQuZm9jdXMoKTt2YXIgcj10LnN0YXRlLnRyLnNldFNlbGVjdGlvbihlKTsicG9pbnRlciI9PW4mJnIuc2V0TWV0YSgicG9pbnRlciIsITApLHQuZGlzcGF0Y2gocil9ZnVuY3Rpb24gV2UodCxlKXtpZigtMT09ZSlyZXR1cm4hMTt2YXIgbj10LnN0YXRlLmRvYy5yZXNvbHZlKGUpLG89bi5ub2RlQWZ0ZXI7cmV0dXJuISEobyYmby5pc0F0b20mJnJbIk5vZGVTZWxlY3Rpb24iXS5pc1NlbGVjdGFibGUobykpJiYoS2UodCxuZXcgclsiTm9kZVNlbGVjdGlvbiJdKG4pLCJwb2ludGVyIiksITApfWZ1bmN0aW9uIEplKHQsZSl7aWYoLTE9PWUpcmV0dXJuITE7dmFyIG4sbyxpPXQuc3RhdGUuc2VsZWN0aW9uO2kgaW5zdGFuY2VvZiByWyJOb2RlU2VsZWN0aW9uIl0mJihuPWkubm9kZSk7Zm9yKHZhciBzPXQuc3RhdGUuZG9jLnJlc29sdmUoZSksYT1zLmRlcHRoKzE7YT4wO2EtLSl7dmFyIGM9YT5zLmRlcHRoP3Mubm9kZUFmdGVyOnMubm9kZShhKTtpZihyWyJOb2RlU2VsZWN0aW9uIl0uaXNTZWxlY3RhYmxlKGMpKXtvPW4mJmkuJGZyb20uZGVwdGg+MCYmYT49aS4kZnJvbS5kZXB0aCYmcy5iZWZvcmUoaS4kZnJvbS5kZXB0aCsxKT09aS4kZnJvbS5wb3M/cy5iZWZvcmUoaS4kZnJvbS5kZXB0aCk6cy5iZWZvcmUoYSk7YnJlYWt9fXJldHVybiBudWxsIT1vJiYoS2UodCxyWyJOb2RlU2VsZWN0aW9uIl0uY3JlYXRlKHQuc3RhdGUuZG9jLG8pLCJwb2ludGVyIiksITApfWZ1bmN0aW9uIFVlKHQsZSxuLHIsbyl7cmV0dXJuIHFlKHQsImhhbmRsZUNsaWNrT24iLGUsbixyKXx8dC5zb21lUHJvcCgiaGFuZGxlQ2xpY2siLChmdW5jdGlvbihuKXtyZXR1cm4gbih0LGUscil9KSl8fChvP0plKHQsbik6V2UodCxuKSl9ZnVuY3Rpb24gR2UodCxlLG4scil7cmV0dXJuIHFlKHQsImhhbmRsZURvdWJsZUNsaWNrT24iLGUsbixyKXx8dC5zb21lUHJvcCgiaGFuZGxlRG91YmxlQ2xpY2siLChmdW5jdGlvbihuKXtyZXR1cm4gbih0LGUscil9KSl9ZnVuY3Rpb24gWGUodCxlLG4scil7cmV0dXJuIHFlKHQsImhhbmRsZVRyaXBsZUNsaWNrT24iLGUsbixyKXx8dC5zb21lUHJvcCgiaGFuZGxlVHJpcGxlQ2xpY2siLChmdW5jdGlvbihuKXtyZXR1cm4gbih0LGUscil9KSl8fFllKHQsbil9ZnVuY3Rpb24gWWUodCxlKXt2YXIgbj10LnN0YXRlLmRvYztpZigtMT09ZSlyZXR1cm4hIW4uaW5saW5lQ29udGVudCYmKEtlKHQsclsiVGV4dFNlbGVjdGlvbiJdLmNyZWF0ZShuLDAsbi5jb250ZW50LnNpemUpLCJwb2ludGVyIiksITApO2Zvcih2YXIgbz1uLnJlc29sdmUoZSksaT1vLmRlcHRoKzE7aT4wO2ktLSl7dmFyIHM9aT5vLmRlcHRoP28ubm9kZUFmdGVyOm8ubm9kZShpKSxhPW8uYmVmb3JlKGkpO2lmKHMuaW5saW5lQ29udGVudClLZSh0LHJbIlRleHRTZWxlY3Rpb24iXS5jcmVhdGUobixhKzEsYSsxK3MuY29udGVudC5zaXplKSwicG9pbnRlciIpO2Vsc2V7aWYoIXJbIk5vZGVTZWxlY3Rpb24iXS5pc1NlbGVjdGFibGUocykpY29udGludWU7S2UodCxyWyJOb2RlU2VsZWN0aW9uIl0uY3JlYXRlKG4sYSksInBvaW50ZXIiKX1yZXR1cm4hMH19ZnVuY3Rpb24gWmUodCl7cmV0dXJuIG9uKHQpfVBlLmtleWRvd249ZnVuY3Rpb24odCxlKXtpZih0LnNoaWZ0S2V5PTE2PT1lLmtleUNvZGV8fGUuc2hpZnRLZXksIWVuKHQsZSkpaWYodC5kb21PYnNlcnZlci5mb3JjZUZsdXNoKCksdC5sYXN0S2V5Q29kZT1lLmtleUNvZGUsdC5sYXN0S2V5Q29kZVRpbWU9RGF0ZS5ub3coKSwhcy5pb3N8fDEzIT1lLmtleUNvZGV8fGUuY3RybEtleXx8ZS5hbHRLZXl8fGUubWV0YUtleSl0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlKX0pKXx8S3QodCxlKT9lLnByZXZlbnREZWZhdWx0KCk6SWUodCwia2V5Iik7ZWxzZXt2YXIgbj1EYXRlLm5vdygpO3QubGFzdElPU0VudGVyPW4sdC5sYXN0SU9TRW50ZXJGYWxsYmFja1RpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0Lmxhc3RJT1NFbnRlcj09biYmKHQuc29tZVByb3AoImhhbmRsZUtleURvd24iLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0LHgoMTMsIkVudGVyIikpfSkpLHQubGFzdElPU0VudGVyPTApfSksMjAwKX19LFBlLmtleXVwPWZ1bmN0aW9uKHQsZSl7MTY9PWUua2V5Q29kZSYmKHQuc2hpZnRLZXk9ITEpfSxQZS5rZXlwcmVzcz1mdW5jdGlvbih0LGUpe2lmKCEoZW4odCxlKXx8IWUuY2hhckNvZGV8fGUuY3RybEtleSYmIWUuYWx0S2V5fHxzLm1hYyYmZS5tZXRhS2V5KSlpZih0LnNvbWVQcm9wKCJoYW5kbGVLZXlQcmVzcyIsKGZ1bmN0aW9uKG4pe3JldHVybiBuKHQsZSl9KSkpZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2V7dmFyIG49dC5zdGF0ZS5zZWxlY3Rpb247aWYoIShuIGluc3RhbmNlb2YgclsiVGV4dFNlbGVjdGlvbiJdKXx8IW4uJGZyb20uc2FtZVBhcmVudChuLiR0bykpe3ZhciBvPVN0cmluZy5mcm9tQ2hhckNvZGUoZS5jaGFyQ29kZSk7dC5zb21lUHJvcCgiaGFuZGxlVGV4dElucHV0IiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCxuLiRmcm9tLnBvcyxuLiR0by5wb3Msbyl9KSl8fHQuZGlzcGF0Y2godC5zdGF0ZS50ci5pbnNlcnRUZXh0KG8pLnNjcm9sbEludG9WaWV3KCkpLGUucHJldmVudERlZmF1bHQoKX19fTt2YXIgUWU9cy5tYWM/Im1ldGFLZXkiOiJjdHJsS2V5IjtfZS5tb3VzZWRvd249ZnVuY3Rpb24odCxlKXt0LnNoaWZ0S2V5PWUuc2hpZnRLZXk7dmFyIG49WmUodCkscj1EYXRlLm5vdygpLG89InNpbmdsZUNsaWNrIjtyLXQubGFzdENsaWNrLnRpbWU8NTAwJiZIZShlLHQubGFzdENsaWNrKSYmIWVbUWVdJiYoInNpbmdsZUNsaWNrIj09dC5sYXN0Q2xpY2sudHlwZT9vPSJkb3VibGVDbGljayI6ImRvdWJsZUNsaWNrIj09dC5sYXN0Q2xpY2sudHlwZSYmKG89InRyaXBsZUNsaWNrIikpLHQubGFzdENsaWNrPXt0aW1lOnIseDplLmNsaWVudFgseTplLmNsaWVudFksdHlwZTpvfTt2YXIgaT10LnBvc0F0Q29vcmRzKExlKGUpKTtpJiYoInNpbmdsZUNsaWNrIj09bz90Lm1vdXNlRG93bj1uZXcgdG4odCxpLGUsbik6KCJkb3VibGVDbGljayI9PW8/R2U6WGUpKHQsaS5wb3MsaS5pbnNpZGUsZSk/ZS5wcmV2ZW50RGVmYXVsdCgpOkllKHQsInBvaW50ZXIiKSl9O3ZhciB0bj1mdW5jdGlvbih0LGUsbixvKXt2YXIgaSxhLGM9dGhpcztpZih0aGlzLnZpZXc9dCx0aGlzLnN0YXJ0RG9jPXQuc3RhdGUuZG9jLHRoaXMucG9zPWUsdGhpcy5ldmVudD1uLHRoaXMuZmx1c2hlZD1vLHRoaXMuc2VsZWN0Tm9kZT1uW1FlXSx0aGlzLmFsbG93RGVmYXVsdD1uLnNoaWZ0S2V5LGUuaW5zaWRlPi0xKWk9dC5zdGF0ZS5kb2Mubm9kZUF0KGUuaW5zaWRlKSxhPWUuaW5zaWRlO2Vsc2V7dmFyIGw9dC5zdGF0ZS5kb2MucmVzb2x2ZShlLnBvcyk7aT1sLnBhcmVudCxhPWwuZGVwdGg/bC5iZWZvcmUoKTowfXRoaXMubWlnaHREcmFnPW51bGw7dmFyIHU9bz9udWxsOm4udGFyZ2V0LGY9dT90LmRvY1ZpZXcubmVhcmVzdERlc2ModSwhMCk6bnVsbDt0aGlzLnRhcmdldD1mP2YuZG9tOm51bGwsKGkudHlwZS5zcGVjLmRyYWdnYWJsZSYmITEhPT1pLnR5cGUuc3BlYy5zZWxlY3RhYmxlfHx0LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIHJbIk5vZGVTZWxlY3Rpb24iXSYmYT09dC5zdGF0ZS5zZWxlY3Rpb24uZnJvbSkmJih0aGlzLm1pZ2h0RHJhZz17bm9kZTppLHBvczphLGFkZEF0dHI6dGhpcy50YXJnZXQmJiF0aGlzLnRhcmdldC5kcmFnZ2FibGUsc2V0VW5lZGl0YWJsZTp0aGlzLnRhcmdldCYmcy5nZWNrbyYmIXRoaXMudGFyZ2V0Lmhhc0F0dHJpYnV0ZSgiY29udGVudEVkaXRhYmxlIil9KSx0aGlzLnRhcmdldCYmdGhpcy5taWdodERyYWcmJih0aGlzLm1pZ2h0RHJhZy5hZGRBdHRyfHx0aGlzLm1pZ2h0RHJhZy5zZXRVbmVkaXRhYmxlKSYmKHRoaXMudmlldy5kb21PYnNlcnZlci5zdG9wKCksdGhpcy5taWdodERyYWcuYWRkQXR0ciYmKHRoaXMudGFyZ2V0LmRyYWdnYWJsZT0hMCksdGhpcy5taWdodERyYWcuc2V0VW5lZGl0YWJsZSYmc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gYy50YXJnZXQuc2V0QXR0cmlidXRlKCJjb250ZW50RWRpdGFibGUiLCJmYWxzZSIpfSksMjApLHRoaXMudmlldy5kb21PYnNlcnZlci5zdGFydCgpKSx0LnJvb3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsdGhpcy51cD10aGlzLnVwLmJpbmQodGhpcykpLHQucm9vdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLHRoaXMubW92ZT10aGlzLm1vdmUuYmluZCh0aGlzKSksSWUodCwicG9pbnRlciIpfTtmdW5jdGlvbiBlbih0LGUpe3JldHVybiEhdC5jb21wb3Npbmd8fCEhKHMuc2FmYXJpJiZNYXRoLmFicyhlLnRpbWVTdGFtcC10LmNvbXBvc2l0aW9uRW5kZWRBdCk8NTAwKSYmKHQuY29tcG9zaXRpb25FbmRlZEF0PS0yZTgsITApfXRuLnByb3RvdHlwZS5kb25lPWZ1bmN0aW9uKCl7dGhpcy52aWV3LnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsdGhpcy51cCksdGhpcy52aWV3LnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIix0aGlzLm1vdmUpLHRoaXMubWlnaHREcmFnJiZ0aGlzLnRhcmdldCYmKHRoaXMudmlldy5kb21PYnNlcnZlci5zdG9wKCksdGhpcy5taWdodERyYWcuYWRkQXR0ciYmdGhpcy50YXJnZXQucmVtb3ZlQXR0cmlidXRlKCJkcmFnZ2FibGUiKSx0aGlzLm1pZ2h0RHJhZy5zZXRVbmVkaXRhYmxlJiZ0aGlzLnRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoImNvbnRlbnRFZGl0YWJsZSIpLHRoaXMudmlldy5kb21PYnNlcnZlci5zdGFydCgpKSx0aGlzLnZpZXcubW91c2VEb3duPW51bGx9LHRuLnByb3RvdHlwZS51cD1mdW5jdGlvbih0KXtpZih0aGlzLmRvbmUoKSx0aGlzLnZpZXcuZG9tLmNvbnRhaW5zKDM9PXQudGFyZ2V0Lm5vZGVUeXBlP3QudGFyZ2V0LnBhcmVudE5vZGU6dC50YXJnZXQpKXt2YXIgZT10aGlzLnBvczt0aGlzLnZpZXcuc3RhdGUuZG9jIT10aGlzLnN0YXJ0RG9jJiYoZT10aGlzLnZpZXcucG9zQXRDb29yZHMoTGUodCkpKSx0aGlzLmFsbG93RGVmYXVsdHx8IWU/SWUodGhpcy52aWV3LCJwb2ludGVyIik6VWUodGhpcy52aWV3LGUucG9zLGUuaW5zaWRlLHQsdGhpcy5zZWxlY3ROb2RlKT90LnByZXZlbnREZWZhdWx0KCk6dGhpcy5mbHVzaGVkfHxzLnNhZmFyaSYmdGhpcy5taWdodERyYWcmJiF0aGlzLm1pZ2h0RHJhZy5ub2RlLmlzQXRvbXx8cy5jaHJvbWUmJiEodGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIHJbIlRleHRTZWxlY3Rpb24iXSkmJihlLnBvcz09dGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbi5mcm9tfHxlLnBvcz09dGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbi50byk/KEtlKHRoaXMudmlldyxyWyJTZWxlY3Rpb24iXS5uZWFyKHRoaXMudmlldy5zdGF0ZS5kb2MucmVzb2x2ZShlLnBvcykpLCJwb2ludGVyIiksdC5wcmV2ZW50RGVmYXVsdCgpKTpJZSh0aGlzLnZpZXcsInBvaW50ZXIiKX19LHRuLnByb3RvdHlwZS5tb3ZlPWZ1bmN0aW9uKHQpeyF0aGlzLmFsbG93RGVmYXVsdCYmKE1hdGguYWJzKHRoaXMuZXZlbnQueC10LmNsaWVudFgpPjR8fE1hdGguYWJzKHRoaXMuZXZlbnQueS10LmNsaWVudFkpPjQpJiYodGhpcy5hbGxvd0RlZmF1bHQ9ITApLEllKHRoaXMudmlldywicG9pbnRlciIpfSxfZS50b3VjaGRvd249ZnVuY3Rpb24odCl7WmUodCksSWUodCwicG9pbnRlciIpfSxfZS5jb250ZXh0bWVudT1mdW5jdGlvbih0KXtyZXR1cm4gWmUodCl9O3ZhciBubj1zLmFuZHJvaWQ/NWUzOi0xO2Z1bmN0aW9uIHJuKHQsZSl7Y2xlYXJUaW1lb3V0KHQuY29tcG9zaW5nVGltZW91dCksZT4tMSYmKHQuY29tcG9zaW5nVGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBvbih0KX0pLGUpKX1mdW5jdGlvbiBvbih0LGUpe3QuZG9tT2JzZXJ2ZXIuZm9yY2VGbHVzaCgpLHQuY29tcG9zaW5nPSExO3doaWxlKHQuY29tcG9zaXRpb25Ob2Rlcy5sZW5ndGg+MCl0LmNvbXBvc2l0aW9uTm9kZXMucG9wKCkubWFya1BhcmVudHNEaXJ0eSgpO2lmKGV8fHQuZG9jVmlldy5kaXJ0eSl7dmFyIG49V3QodCk7cmV0dXJuIG4mJiFuLmVxKHQuc3RhdGUuc2VsZWN0aW9uKT90LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKG4pKTp0LnVwZGF0ZVN0YXRlKHQuc3RhdGUpLCEwfXJldHVybiExfWZ1bmN0aW9uIHNuKHQsZSl7aWYodC5kb20ucGFyZW50Tm9kZSl7dmFyIG49dC5kb20ucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSk7bi5hcHBlbmRDaGlsZChlKSxuLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOiBmaXhlZDsgbGVmdDogLTEwMDAwcHg7IHRvcDogMTBweCI7dmFyIHI9Z2V0U2VsZWN0aW9uKCksbz1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO28uc2VsZWN0Tm9kZUNvbnRlbnRzKGUpLHQuZG9tLmJsdXIoKSxyLnJlbW92ZUFsbFJhbmdlcygpLHIuYWRkUmFuZ2Uobyksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtuLnBhcmVudE5vZGUmJm4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSx0LmZvY3VzKCl9KSw1MCl9fVBlLmNvbXBvc2l0aW9uc3RhcnQ9UGUuY29tcG9zaXRpb251cGRhdGU9ZnVuY3Rpb24odCl7aWYoIXQuY29tcG9zaW5nKXt0LmRvbU9ic2VydmVyLmZsdXNoKCk7dmFyIGU9dC5zdGF0ZSxuPWUuc2VsZWN0aW9uLiRmcm9tO2lmKGUuc2VsZWN0aW9uLmVtcHR5JiYoZS5zdG9yZWRNYXJrc3x8IW4udGV4dE9mZnNldCYmbi5wYXJlbnRPZmZzZXQmJm4ubm9kZUJlZm9yZS5tYXJrcy5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4hMT09PXQudHlwZS5zcGVjLmluY2x1c2l2ZX0pKSkpdC5tYXJrQ3Vyc29yPXQuc3RhdGUuc3RvcmVkTWFya3N8fG4ubWFya3MoKSxvbih0LCEwKSx0Lm1hcmtDdXJzb3I9bnVsbDtlbHNlIGlmKG9uKHQpLHMuZ2Vja28mJmUuc2VsZWN0aW9uLmVtcHR5JiZuLnBhcmVudE9mZnNldCYmIW4udGV4dE9mZnNldCYmbi5ub2RlQmVmb3JlLm1hcmtzLmxlbmd0aClmb3IodmFyIHI9dC5yb290LmdldFNlbGVjdGlvbigpLG89ci5mb2N1c05vZGUsaT1yLmZvY3VzT2Zmc2V0O28mJjE9PW8ubm9kZVR5cGUmJjAhPWk7KXt2YXIgYT1pPDA/by5sYXN0Q2hpbGQ6by5jaGlsZE5vZGVzW2ktMV07aWYoIWEpYnJlYWs7aWYoMz09YS5ub2RlVHlwZSl7ci5jb2xsYXBzZShhLGEubm9kZVZhbHVlLmxlbmd0aCk7YnJlYWt9bz1hLGk9LTF9dC5jb21wb3Npbmc9ITB9cm4odCxubil9LFBlLmNvbXBvc2l0aW9uZW5kPWZ1bmN0aW9uKHQsZSl7dC5jb21wb3NpbmcmJih0LmNvbXBvc2luZz0hMSx0LmNvbXBvc2l0aW9uRW5kZWRBdD1lLnRpbWVTdGFtcCxybih0LDIwKSl9O3ZhciBhbj1zLmllJiZzLmllX3ZlcnNpb248MTV8fHMuaW9zJiZzLndlYmtpdF92ZXJzaW9uPDYwNDtmdW5jdGlvbiBjbih0KXtyZXR1cm4gMD09dC5vcGVuU3RhcnQmJjA9PXQub3BlbkVuZCYmMT09dC5jb250ZW50LmNoaWxkQ291bnQ/dC5jb250ZW50LmZpcnN0Q2hpbGQ6bnVsbH1mdW5jdGlvbiBsbih0LGUpe2lmKHQuZG9tLnBhcmVudE5vZGUpe3ZhciBuPXQuc2hpZnRLZXl8fHQuc3RhdGUuc2VsZWN0aW9uLiRmcm9tLnBhcmVudC50eXBlLnNwZWMuY29kZSxyPXQuZG9tLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuPyJ0ZXh0YXJlYSI6ImRpdiIpKTtufHwoci5jb250ZW50RWRpdGFibGU9InRydWUiKSxyLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOiBmaXhlZDsgbGVmdDogLTEwMDAwcHg7IHRvcDogMTBweCIsci5mb2N1cygpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5mb2N1cygpLHIucGFyZW50Tm9kZSYmci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHIpLG4/dW4odCxyLnZhbHVlLG51bGwsZSk6dW4odCxyLnRleHRDb250ZW50LHIuaW5uZXJIVE1MLGUpfSksNTApfX1mdW5jdGlvbiB1bih0LGUsbixyKXt2YXIgaT12ZSh0LGUsbix0LnNoaWZ0S2V5LHQuc3RhdGUuc2VsZWN0aW9uLiRmcm9tKTtpZighdC5zb21lUHJvcCgiaGFuZGxlUGFzdGUiLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0LHIsaXx8b1siU2xpY2UiXS5lbXB0eSl9KSkmJmkpe3ZhciBzPWNuKGkpLGE9cz90LnN0YXRlLnRyLnJlcGxhY2VTZWxlY3Rpb25XaXRoKHMsdC5zaGlmdEtleSk6dC5zdGF0ZS50ci5yZXBsYWNlU2VsZWN0aW9uKGkpO3QuZGlzcGF0Y2goYS5zY3JvbGxJbnRvVmlldygpLnNldE1ldGEoInBhc3RlIiwhMCkuc2V0TWV0YSgidWlFdmVudCIsInBhc3RlIikpfX1fZS5jb3B5PVBlLmN1dD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuc3RhdGUuc2VsZWN0aW9uLHI9ImN1dCI9PWUudHlwZTtpZighbi5lbXB0eSl7dmFyIG89YW4/bnVsbDplLmNsaXBib2FyZERhdGEsaT1uLmNvbnRlbnQoKSxzPWhlKHQsaSksYT1zLmRvbSxjPXMudGV4dDtvPyhlLnByZXZlbnREZWZhdWx0KCksby5jbGVhckRhdGEoKSxvLnNldERhdGEoInRleHQvaHRtbCIsYS5pbm5lckhUTUwpLG8uc2V0RGF0YSgidGV4dC9wbGFpbiIsYykpOnNuKHQsYSksciYmdC5kaXNwYXRjaCh0LnN0YXRlLnRyLmRlbGV0ZVNlbGVjdGlvbigpLnNjcm9sbEludG9WaWV3KCkuc2V0TWV0YSgidWlFdmVudCIsImN1dCIpKX19LFBlLnBhc3RlPWZ1bmN0aW9uKHQsZSl7dmFyIG49YW4/bnVsbDplLmNsaXBib2FyZERhdGEscj1uJiZuLmdldERhdGEoInRleHQvaHRtbCIpLG89biYmbi5nZXREYXRhKCJ0ZXh0L3BsYWluIik7biYmKHJ8fG98fG4uZmlsZXMubGVuZ3RoKT8odW4odCxvLHIsZSksZS5wcmV2ZW50RGVmYXVsdCgpKTpsbih0LGUpfTt2YXIgZm49ZnVuY3Rpb24odCxlKXt0aGlzLnNsaWNlPXQsdGhpcy5tb3ZlPWV9LGRuPXMubWFjPyJhbHRLZXkiOiJjdHJsS2V5Ijtmb3IodmFyIHBuIGluIF9lLmRyYWdzdGFydD1mdW5jdGlvbih0LGUpe3ZhciBuPXQubW91c2VEb3duO2lmKG4mJm4uZG9uZSgpLGUuZGF0YVRyYW5zZmVyKXt2YXIgbz10LnN0YXRlLnNlbGVjdGlvbixpPW8uZW1wdHk/bnVsbDp0LnBvc0F0Q29vcmRzKExlKGUpKTtpZihpJiZpLnBvcz49by5mcm9tJiZpLnBvczw9KG8gaW5zdGFuY2VvZiByWyJOb2RlU2VsZWN0aW9uIl0/by50by0xOm8udG8pKTtlbHNlIGlmKG4mJm4ubWlnaHREcmFnKXQuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oclsiTm9kZVNlbGVjdGlvbiJdLmNyZWF0ZSh0LnN0YXRlLmRvYyxuLm1pZ2h0RHJhZy5wb3MpKSk7ZWxzZSBpZihlLnRhcmdldCYmMT09ZS50YXJnZXQubm9kZVR5cGUpe3ZhciBzPXQuZG9jVmlldy5uZWFyZXN0RGVzYyhlLnRhcmdldCwhMCk7aWYoIXN8fCFzLm5vZGUudHlwZS5zcGVjLmRyYWdnYWJsZXx8cz09dC5kb2NWaWV3KXJldHVybjt0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKHJbIk5vZGVTZWxlY3Rpb24iXS5jcmVhdGUodC5zdGF0ZS5kb2Mscy5wb3NCZWZvcmUpKSl9dmFyIGE9dC5zdGF0ZS5zZWxlY3Rpb24uY29udGVudCgpLGM9aGUodCxhKSxsPWMuZG9tLHU9Yy50ZXh0O2UuZGF0YVRyYW5zZmVyLmNsZWFyRGF0YSgpLGUuZGF0YVRyYW5zZmVyLnNldERhdGEoYW4/IlRleHQiOiJ0ZXh0L2h0bWwiLGwuaW5uZXJIVE1MKSxhbnx8ZS5kYXRhVHJhbnNmZXIuc2V0RGF0YSgidGV4dC9wbGFpbiIsdSksdC5kcmFnZ2luZz1uZXcgZm4oYSwhZVtkbl0pfX0sX2UuZHJhZ2VuZD1mdW5jdGlvbih0KXt3aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5kcmFnZ2luZz1udWxsfSksNTApfSxQZS5kcmFnb3Zlcj1QZS5kcmFnZW50ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpfSxQZS5kcm9wPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5kcmFnZ2luZztpZih0LmRyYWdnaW5nPW51bGwsZS5kYXRhVHJhbnNmZXIpe3ZhciBzPXQucG9zQXRDb29yZHMoTGUoZSkpO2lmKHMpe3ZhciBhPXQuc3RhdGUuZG9jLnJlc29sdmUocy5wb3MpO2lmKGEpe3ZhciBjPW4mJm4uc2xpY2V8fHZlKHQsZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShhbj8iVGV4dCI6InRleHQvcGxhaW4iKSxhbj9udWxsOmUuZGF0YVRyYW5zZmVyLmdldERhdGEoInRleHQvaHRtbCIpLCExLGEpO2lmKHQuc29tZVByb3AoImhhbmRsZURyb3AiLChmdW5jdGlvbihyKXtyZXR1cm4gcih0LGUsY3x8b1siU2xpY2UiXS5lbXB0eSxuJiZuLm1vdmUpfSkpKWUucHJldmVudERlZmF1bHQoKTtlbHNlIGlmKGMpe2UucHJldmVudERlZmF1bHQoKTt2YXIgbD1jP09iamVjdChpWyJoIl0pKHQuc3RhdGUuZG9jLGEucG9zLGMpOmEucG9zO251bGw9PWwmJihsPWEucG9zKTt2YXIgdT10LnN0YXRlLnRyO24mJm4ubW92ZSYmdS5kZWxldGVTZWxlY3Rpb24oKTt2YXIgZj11Lm1hcHBpbmcubWFwKGwpLGQ9MD09Yy5vcGVuU3RhcnQmJjA9PWMub3BlbkVuZCYmMT09Yy5jb250ZW50LmNoaWxkQ291bnQscD11LmRvYztpZihkP3UucmVwbGFjZVJhbmdlV2l0aChmLGYsYy5jb250ZW50LmZpcnN0Q2hpbGQpOnUucmVwbGFjZVJhbmdlKGYsZixjKSwhdS5kb2MuZXEocCkpe3ZhciBoPXUuZG9jLnJlc29sdmUoZik7ZCYmclsiTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZShjLmNvbnRlbnQuZmlyc3RDaGlsZCkmJmgubm9kZUFmdGVyJiZoLm5vZGVBZnRlci5zYW1lTWFya3VwKGMuY29udGVudC5maXJzdENoaWxkKT91LnNldFNlbGVjdGlvbihuZXcgclsiTm9kZVNlbGVjdGlvbiJdKGgpKTp1LnNldFNlbGVjdGlvbihuZSh0LGgsdS5kb2MucmVzb2x2ZSh1Lm1hcHBpbmcubWFwKGwpKSkpLHQuZm9jdXMoKSx0LmRpc3BhdGNoKHUuc2V0TWV0YSgidWlFdmVudCIsImRyb3AiKSl9fX19fX0sX2UuZm9jdXM9ZnVuY3Rpb24odCl7dC5mb2N1c2VkfHwodC5kb21PYnNlcnZlci5zdG9wKCksdC5kb20uY2xhc3NMaXN0LmFkZCgiUHJvc2VNaXJyb3ItZm9jdXNlZCIpLHQuZG9tT2JzZXJ2ZXIuc3RhcnQoKSx0LmZvY3VzZWQ9ITAsc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmRvY1ZpZXcmJnQuaGFzRm9jdXMoKSYmIXQuZG9tT2JzZXJ2ZXIuY3VycmVudFNlbGVjdGlvbi5lcSh0LnJvb3QuZ2V0U2VsZWN0aW9uKCkpJiZKdCh0KX0pLDIwKSl9LF9lLmJsdXI9ZnVuY3Rpb24odCl7dC5mb2N1c2VkJiYodC5kb21PYnNlcnZlci5zdG9wKCksdC5kb20uY2xhc3NMaXN0LnJlbW92ZSgiUHJvc2VNaXJyb3ItZm9jdXNlZCIpLHQuZG9tT2JzZXJ2ZXIuc3RhcnQoKSx0LmRvbU9ic2VydmVyLmN1cnJlbnRTZWxlY3Rpb24uc2V0KHt9KSx0LmZvY3VzZWQ9ITEpfSxfZS5iZWZvcmVpbnB1dD1mdW5jdGlvbih0LGUpe2lmKHMuY2hyb21lJiZzLmFuZHJvaWQmJiJkZWxldGVDb250ZW50QmFja3dhcmQiPT1lLmlucHV0VHlwZSl7dmFyIG49dC5kb21DaGFuZ2VDb3VudDtzZXRUaW1lb3V0KChmdW5jdGlvbigpe2lmKHQuZG9tQ2hhbmdlQ291bnQ9PW4mJih0LmRvbS5ibHVyKCksdC5mb2N1cygpLCF0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCx4KDgsIkJhY2tzcGFjZSIpKX0pKSkpe3ZhciBlPXQuc3RhdGUuc2VsZWN0aW9uLHI9ZS4kY3Vyc29yO3ImJnIucG9zPjAmJnQuZGlzcGF0Y2godC5zdGF0ZS50ci5kZWxldGUoci5wb3MtMSxyLnBvcykuc2Nyb2xsSW50b1ZpZXcoKSl9fSksNTApfX0sUGUpX2VbcG5dPVBlW3BuXTtmdW5jdGlvbiBobih0LGUpe2lmKHQ9PWUpcmV0dXJuITA7Zm9yKHZhciBuIGluIHQpaWYodFtuXSE9PWVbbl0pcmV0dXJuITE7Zm9yKHZhciByIGluIGUpaWYoIShyIGluIHQpKXJldHVybiExO3JldHVybiEwfXZhciB2bj1mdW5jdGlvbih0LGUpe3RoaXMuc3BlYz1lfHxTbix0aGlzLnNpZGU9dGhpcy5zcGVjLnNpZGV8fDAsdGhpcy50b0RPTT10fTt2bi5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQubWFwUmVzdWx0KGUuZnJvbStyLHRoaXMuc2lkZTwwPy0xOjEpLGk9by5wb3Mscz1vLmRlbGV0ZWQ7cmV0dXJuIHM/bnVsbDpuZXcgeW4oaS1uLGktbix0aGlzKX0sdm4ucHJvdG90eXBlLnZhbGlkPWZ1bmN0aW9uKCl7cmV0dXJuITB9LHZuLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09dHx8dCBpbnN0YW5jZW9mIHZuJiYodGhpcy5zcGVjLmtleSYmdGhpcy5zcGVjLmtleT09dC5zcGVjLmtleXx8dGhpcy50b0RPTT09dC50b0RPTSYmaG4odGhpcy5zcGVjLHQuc3BlYykpfTt2YXIgbW49ZnVuY3Rpb24odCxlKXt0aGlzLnNwZWM9ZXx8U24sdGhpcy5hdHRycz10fTttbi5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQubWFwKGUuZnJvbStyLHRoaXMuc3BlYy5pbmNsdXNpdmVTdGFydD8tMToxKS1uLGk9dC5tYXAoZS50bytyLHRoaXMuc3BlYy5pbmNsdXNpdmVFbmQ/MTotMSktbjtyZXR1cm4gbz49aT9udWxsOm5ldyB5bihvLGksdGhpcyl9LG1uLnByb3RvdHlwZS52YWxpZD1mdW5jdGlvbih0LGUpe3JldHVybiBlLmZyb208ZS50b30sbW4ucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT10fHx0IGluc3RhbmNlb2YgbW4mJmhuKHRoaXMuYXR0cnMsdC5hdHRycykmJmhuKHRoaXMuc3BlYyx0LnNwZWMpfSxtbi5pcz1mdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlIGluc3RhbmNlb2YgbW59O3ZhciBnbj1mdW5jdGlvbih0LGUpe3RoaXMuc3BlYz1lfHxTbix0aGlzLmF0dHJzPXR9O2duLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89dC5tYXBSZXN1bHQoZS5mcm9tK3IsMSk7aWYoby5kZWxldGVkKXJldHVybiBudWxsO3ZhciBpPXQubWFwUmVzdWx0KGUudG8rciwtMSk7cmV0dXJuIGkuZGVsZXRlZHx8aS5wb3M8PW8ucG9zP251bGw6bmV3IHluKG8ucG9zLW4saS5wb3Mtbix0aGlzKX0sZ24ucHJvdG90eXBlLnZhbGlkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jb250ZW50LmZpbmRJbmRleChlLmZyb20pLHI9bi5pbmRleCxvPW4ub2Zmc2V0O3JldHVybiBvPT1lLmZyb20mJm8rdC5jaGlsZChyKS5ub2RlU2l6ZT09ZS50b30sZ24ucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT10fHx0IGluc3RhbmNlb2YgZ24mJmhuKHRoaXMuYXR0cnMsdC5hdHRycykmJmhuKHRoaXMuc3BlYyx0LnNwZWMpfTt2YXIgeW49ZnVuY3Rpb24odCxlLG4pe3RoaXMuZnJvbT10LHRoaXMudG89ZSx0aGlzLnR5cGU9bn0sYm49e3NwZWM6e2NvbmZpZ3VyYWJsZTohMH19O3luLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB5bih0LGUsdGhpcy50eXBlKX0seW4ucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLHRoaXMudHlwZS5lcSh0LnR5cGUpJiZ0aGlzLmZyb20rZT09dC5mcm9tJiZ0aGlzLnRvK2U9PXQudG99LHluLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLnR5cGUubWFwKHQsdGhpcyxlLG4pfSx5bi53aWRnZXQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcgeW4odCx0LG5ldyB2bihlLG4pKX0seW4uaW5saW5lPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBuZXcgeW4odCxlLG5ldyBtbihuLHIpKX0seW4ubm9kZT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gbmV3IHluKHQsZSxuZXcgZ24obixyKSl9LGJuLnNwZWMuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5zcGVjfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh5bi5wcm90b3R5cGUsYm4pO3ZhciB3bj1bXSxTbj17fSx4bj1mdW5jdGlvbih0LGUpe3RoaXMubG9jYWw9dCYmdC5sZW5ndGg/dDp3bix0aGlzLmNoaWxkcmVuPWUmJmUubGVuZ3RoP2U6d259O3huLmNyZWF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBlLmxlbmd0aD9EbihlLHQsMCxTbik6a259LHhuLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1bXTtyZXR1cm4gdGhpcy5maW5kSW5uZXIobnVsbD09dD8wOnQsbnVsbD09ZT8xZTk6ZSxyLDAsbikscn0seG4ucHJvdG90eXBlLmZpbmRJbm5lcj1mdW5jdGlvbih0LGUsbixyLG8pe2Zvcih2YXIgaT0wO2k8dGhpcy5sb2NhbC5sZW5ndGg7aSsrKXt2YXIgcz10aGlzLmxvY2FsW2ldO3MuZnJvbTw9ZSYmcy50bz49dCYmKCFvfHxvKHMuc3BlYykpJiZuLnB1c2gocy5jb3B5KHMuZnJvbStyLHMudG8rcikpfWZvcih2YXIgYT0wO2E8dGhpcy5jaGlsZHJlbi5sZW5ndGg7YSs9MylpZih0aGlzLmNoaWxkcmVuW2FdPGUmJnRoaXMuY2hpbGRyZW5bYSsxXT50KXt2YXIgYz10aGlzLmNoaWxkcmVuW2FdKzE7dGhpcy5jaGlsZHJlblthKzJdLmZpbmRJbm5lcih0LWMsZS1jLG4scitjLG8pfX0seG4ucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXM9PWtufHwwPT10Lm1hcHMubGVuZ3RoP3RoaXM6dGhpcy5tYXBJbm5lcih0LGUsMCwwLG58fFNuKX0seG4ucHJvdG90eXBlLm1hcElubmVyPWZ1bmN0aW9uKHQsZSxuLHIsbyl7Zm9yKHZhciBpLHM9MDtzPHRoaXMubG9jYWwubGVuZ3RoO3MrKyl7dmFyIGE9dGhpcy5sb2NhbFtzXS5tYXAodCxuLHIpO2EmJmEudHlwZS52YWxpZChlLGEpPyhpfHwoaT1bXSkpLnB1c2goYSk6by5vblJlbW92ZSYmby5vblJlbW92ZSh0aGlzLmxvY2FsW3NdLnNwZWMpfXJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aD9Dbih0aGlzLmNoaWxkcmVuLGksdCxlLG4scixvKTppP25ldyB4bihpLnNvcnQoRW4pKTprbn0seG4ucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUpe3JldHVybiBlLmxlbmd0aD90aGlzPT1rbj94bi5jcmVhdGUodCxlKTp0aGlzLmFkZElubmVyKHQsZSwwKTp0aGlzfSx4bi5wcm90b3R5cGUuYWRkSW5uZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciByLG89dGhpcyxpPTA7dC5mb3JFYWNoKChmdW5jdGlvbih0LHMpe3ZhciBhLGM9cytuO2lmKGE9VG4oZSx0LGMpKXtyfHwocj1vLmNoaWxkcmVuLnNsaWNlKCkpO3doaWxlKGk8ci5sZW5ndGgmJnJbaV08cylpKz0zO3JbaV09PXM/cltpKzJdPXJbaSsyXS5hZGRJbm5lcih0LGEsYysxKTpyLnNwbGljZShpLDAscyxzK3Qubm9kZVNpemUsRG4oYSx0LGMrMSxTbikpLGkrPTN9fSkpO3ZhciBzPU1uKGk/QW4oZSk6ZSwtbik7cmV0dXJuIG5ldyB4bihzLmxlbmd0aD90aGlzLmxvY2FsLmNvbmNhdChzKS5zb3J0KEVuKTp0aGlzLmxvY2FsLHJ8fHRoaXMuY2hpbGRyZW4pfSx4bi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3JldHVybiAwPT10Lmxlbmd0aHx8dGhpcz09a24/dGhpczp0aGlzLnJlbW92ZUlubmVyKHQsMCl9LHhuLnByb3RvdHlwZS5yZW1vdmVJbm5lcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLmNoaWxkcmVuLHI9dGhpcy5sb2NhbCxvPTA7bzxuLmxlbmd0aDtvKz0zKXtmb3IodmFyIGk9dm9pZCAwLHM9bltvXStlLGE9bltvKzFdK2UsYz0wLGw9dm9pZCAwO2M8dC5sZW5ndGg7YysrKShsPXRbY10pJiZsLmZyb20+cyYmbC50bzxhJiYodFtjXT1udWxsLChpfHwoaT1bXSkpLnB1c2gobCkpO2lmKGkpe249PXRoaXMuY2hpbGRyZW4mJihuPXRoaXMuY2hpbGRyZW4uc2xpY2UoKSk7dmFyIHU9bltvKzJdLnJlbW92ZUlubmVyKGkscysxKTt1IT1rbj9uW28rMl09dToobi5zcGxpY2UobywzKSxvLT0zKX19aWYoci5sZW5ndGgpZm9yKHZhciBmPTAsZD12b2lkIDA7Zjx0Lmxlbmd0aDtmKyspaWYoZD10W2ZdKWZvcih2YXIgcD0wO3A8ci5sZW5ndGg7cCsrKXJbcF0uZXEoZCxlKSYmKHI9PXRoaXMubG9jYWwmJihyPXRoaXMubG9jYWwuc2xpY2UoKSksci5zcGxpY2UocC0tLDEpKTtyZXR1cm4gbj09dGhpcy5jaGlsZHJlbiYmcj09dGhpcy5sb2NhbD90aGlzOnIubGVuZ3RofHxuLmxlbmd0aD9uZXcgeG4ocixuKTprbn0seG4ucHJvdG90eXBlLmZvckNoaWxkPWZ1bmN0aW9uKHQsZSl7aWYodGhpcz09a24pcmV0dXJuIHRoaXM7aWYoZS5pc0xlYWYpcmV0dXJuIHhuLmVtcHR5O2Zvcih2YXIgbixyLG89MDtvPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO28rPTMpaWYodGhpcy5jaGlsZHJlbltvXT49dCl7dGhpcy5jaGlsZHJlbltvXT09dCYmKG49dGhpcy5jaGlsZHJlbltvKzJdKTticmVha31mb3IodmFyIGk9dCsxLHM9aStlLmNvbnRlbnQuc2l6ZSxhPTA7YTx0aGlzLmxvY2FsLmxlbmd0aDthKyspe3ZhciBjPXRoaXMubG9jYWxbYV07aWYoYy5mcm9tPHMmJmMudG8+aSYmYy50eXBlIGluc3RhbmNlb2YgbW4pe3ZhciBsPU1hdGgubWF4KGksYy5mcm9tKS1pLHU9TWF0aC5taW4ocyxjLnRvKS1pO2w8dSYmKHJ8fChyPVtdKSkucHVzaChjLmNvcHkobCx1KSl9fWlmKHIpe3ZhciBmPW5ldyB4bihyLnNvcnQoRW4pKTtyZXR1cm4gbj9uZXcgT24oW2Ysbl0pOmZ9cmV0dXJuIG58fGtufSx4bi5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7aWYodGhpcz09dClyZXR1cm4hMDtpZighKHQgaW5zdGFuY2VvZiB4bil8fHRoaXMubG9jYWwubGVuZ3RoIT10LmxvY2FsLmxlbmd0aHx8dGhpcy5jaGlsZHJlbi5sZW5ndGghPXQuY2hpbGRyZW4ubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZT0wO2U8dGhpcy5sb2NhbC5sZW5ndGg7ZSsrKWlmKCF0aGlzLmxvY2FsW2VdLmVxKHQubG9jYWxbZV0pKXJldHVybiExO2Zvcih2YXIgbj0wO248dGhpcy5jaGlsZHJlbi5sZW5ndGg7bis9MylpZih0aGlzLmNoaWxkcmVuW25dIT10LmNoaWxkcmVuW25dfHx0aGlzLmNoaWxkcmVuW24rMV0hPXQuY2hpbGRyZW5bbisxXXx8IXRoaXMuY2hpbGRyZW5bbisyXS5lcSh0LmNoaWxkcmVuW24rMl0pKXJldHVybiExO3JldHVybiEwfSx4bi5wcm90b3R5cGUubG9jYWxzPWZ1bmN0aW9uKHQpe3JldHVybiBSbih0aGlzLmxvY2Fsc0lubmVyKHQpKX0seG4ucHJvdG90eXBlLmxvY2Fsc0lubmVyPWZ1bmN0aW9uKHQpe2lmKHRoaXM9PWtuKXJldHVybiB3bjtpZih0LmlubGluZUNvbnRlbnR8fCF0aGlzLmxvY2FsLnNvbWUobW4uaXMpKXJldHVybiB0aGlzLmxvY2FsO2Zvcih2YXIgZT1bXSxuPTA7bjx0aGlzLmxvY2FsLmxlbmd0aDtuKyspdGhpcy5sb2NhbFtuXS50eXBlIGluc3RhbmNlb2YgbW58fGUucHVzaCh0aGlzLmxvY2FsW25dKTtyZXR1cm4gZX07dmFyIGtuPW5ldyB4bjt4bi5lbXB0eT1rbix4bi5yZW1vdmVPdmVybGFwPVJuO3ZhciBPbj1mdW5jdGlvbih0KXt0aGlzLm1lbWJlcnM9dH07ZnVuY3Rpb24gQ24odCxlLG4scixvLGkscyl7Zm9yKHZhciBhPXQuc2xpY2UoKSxjPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgcz0wO3M8YS5sZW5ndGg7cys9Myl7dmFyIGM9YVtzKzFdLGw9dm9pZCAwOy0xPT1jfHx0PmMraXx8KGU+PWFbc10raT9hW3MrMV09LTE6bj49byYmKGw9ci1uLShlLXQpKSYmKGFbc10rPWwsYVtzKzFdKz1sKSl9fSxsPTA7bDxuLm1hcHMubGVuZ3RoO2wrKyluLm1hcHNbbF0uZm9yRWFjaChjKTtmb3IodmFyIHU9ITEsZj0wO2Y8YS5sZW5ndGg7Zis9MylpZigtMT09YVtmKzFdKXt2YXIgZD1uLm1hcChhW2ZdK2kpLHA9ZC1vO2lmKHA8MHx8cD49ci5jb250ZW50LnNpemUpe3U9ITA7Y29udGludWV9dmFyIGg9bi5tYXAodFtmKzFdK2ksLTEpLHY9aC1vLG09ci5jb250ZW50LmZpbmRJbmRleChwKSxnPW0uaW5kZXgseT1tLm9mZnNldCxiPXIubWF5YmVDaGlsZChnKTtpZihiJiZ5PT1wJiZ5K2Iubm9kZVNpemU9PXYpe3ZhciB3PWFbZisyXS5tYXBJbm5lcihuLGIsZCsxLGFbZl0raSsxLHMpO3chPWtuPyhhW2ZdPXAsYVtmKzFdPXYsYVtmKzJdPXcpOihhW2YrMV09LTIsdT0hMCl9ZWxzZSB1PSEwfWlmKHUpe3ZhciBTPU5uKGEsdCxlfHxbXSxuLG8saSxzKSx4PURuKFMsciwwLHMpO2U9eC5sb2NhbDtmb3IodmFyIGs9MDtrPGEubGVuZ3RoO2srPTMpYVtrKzFdPDAmJihhLnNwbGljZShrLDMpLGstPTMpO2Zvcih2YXIgTz0wLEM9MDtPPHguY2hpbGRyZW4ubGVuZ3RoO08rPTMpe3ZhciBNPXguY2hpbGRyZW5bT107d2hpbGUoQzxhLmxlbmd0aCYmYVtDXTxNKUMrPTM7YS5zcGxpY2UoQywwLHguY2hpbGRyZW5bT10seC5jaGlsZHJlbltPKzFdLHguY2hpbGRyZW5bTysyXSl9fXJldHVybiBuZXcgeG4oZSYmZS5zb3J0KEVuKSxhKX1mdW5jdGlvbiBNbih0LGUpe2lmKCFlfHwhdC5sZW5ndGgpcmV0dXJuIHQ7Zm9yKHZhciBuPVtdLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtuLnB1c2gobmV3IHluKG8uZnJvbStlLG8udG8rZSxvLnR5cGUpKX1yZXR1cm4gbn1mdW5jdGlvbiBObih0LGUsbixyLG8saSxzKXtmdW5jdGlvbiBhKHQsZSl7Zm9yKHZhciBpPTA7aTx0LmxvY2FsLmxlbmd0aDtpKyspe3ZhciBjPXQubG9jYWxbaV0ubWFwKHIsbyxlKTtjP24ucHVzaChjKTpzLm9uUmVtb3ZlJiZzLm9uUmVtb3ZlKHQubG9jYWxbaV0uc3BlYyl9Zm9yKHZhciBsPTA7bDx0LmNoaWxkcmVuLmxlbmd0aDtsKz0zKWEodC5jaGlsZHJlbltsKzJdLHQuY2hpbGRyZW5bbF0rZSsxKX1mb3IodmFyIGM9MDtjPHQubGVuZ3RoO2MrPTMpLTE9PXRbYysxXSYmYSh0W2MrMl0sZVtjXStpKzEpO3JldHVybiBufWZ1bmN0aW9uIFRuKHQsZSxuKXtpZihlLmlzTGVhZilyZXR1cm4gbnVsbDtmb3IodmFyIHI9bitlLm5vZGVTaXplLG89bnVsbCxpPTAscz12b2lkIDA7aTx0Lmxlbmd0aDtpKyspKHM9dFtpXSkmJnMuZnJvbT5uJiZzLnRvPHImJigob3x8KG89W10pKS5wdXNoKHMpLHRbaV09bnVsbCk7cmV0dXJuIG99ZnVuY3Rpb24gQW4odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQubGVuZ3RoO24rKyludWxsIT10W25dJiZlLnB1c2godFtuXSk7cmV0dXJuIGV9ZnVuY3Rpb24gRG4odCxlLG4scil7dmFyIG89W10saT0hMTtlLmZvckVhY2goKGZ1bmN0aW9uKGUscyl7dmFyIGE9VG4odCxlLHMrbik7aWYoYSl7aT0hMDt2YXIgYz1EbihhLGUsbitzKzEscik7YyE9a24mJm8ucHVzaChzLHMrZS5ub2RlU2l6ZSxjKX19KSk7Zm9yKHZhciBzPU1uKGk/QW4odCk6dCwtbikuc29ydChFbiksYT0wO2E8cy5sZW5ndGg7YSsrKXNbYV0udHlwZS52YWxpZChlLHNbYV0pfHwoci5vblJlbW92ZSYmci5vblJlbW92ZShzW2FdLnNwZWMpLHMuc3BsaWNlKGEtLSwxKSk7cmV0dXJuIHMubGVuZ3RofHxvLmxlbmd0aD9uZXcgeG4ocyxvKTprbn1mdW5jdGlvbiBFbih0LGUpe3JldHVybiB0LmZyb20tZS5mcm9tfHx0LnRvLWUudG99ZnVuY3Rpb24gUm4odCl7Zm9yKHZhciBlPXQsbj0wO248ZS5sZW5ndGgtMTtuKyspe3ZhciByPWVbbl07aWYoci5mcm9tIT1yLnRvKWZvcih2YXIgbz1uKzE7bzxlLmxlbmd0aDtvKyspe3ZhciBpPWVbb107aWYoaS5mcm9tIT1yLmZyb20pe2kuZnJvbTxyLnRvJiYoZT09dCYmKGU9dC5zbGljZSgpKSxlW25dPXIuY29weShyLmZyb20saS5mcm9tKSxfbihlLG8sci5jb3B5KGkuZnJvbSxyLnRvKSkpO2JyZWFrfWkudG8hPXIudG8mJihlPT10JiYoZT10LnNsaWNlKCkpLGVbb109aS5jb3B5KGkuZnJvbSxyLnRvKSxfbihlLG8rMSxpLmNvcHkoci50byxpLnRvKSkpfX1yZXR1cm4gZX1mdW5jdGlvbiBfbih0LGUsbil7d2hpbGUoZTx0Lmxlbmd0aCYmRW4obix0W2VdKT4wKWUrKzt0LnNwbGljZShlLDAsbil9ZnVuY3Rpb24gUG4odCl7dmFyIGU9W107cmV0dXJuIHQuc29tZVByb3AoImRlY29yYXRpb25zIiwoZnVuY3Rpb24obil7dmFyIHI9bih0LnN0YXRlKTtyJiZyIT1rbiYmZS5wdXNoKHIpfSkpLHQuY3Vyc29yV3JhcHBlciYmZS5wdXNoKHhuLmNyZWF0ZSh0LnN0YXRlLmRvYyxbdC5jdXJzb3JXcmFwcGVyLmRlY29dKSksT24uZnJvbShlKX1Pbi5wcm90b3R5cGUuZm9yQ2hpbGQ9ZnVuY3Rpb24odCxlKXtpZihlLmlzTGVhZilyZXR1cm4geG4uZW1wdHk7Zm9yKHZhciBuPVtdLHI9MDtyPHRoaXMubWVtYmVycy5sZW5ndGg7cisrKXt2YXIgbz10aGlzLm1lbWJlcnNbcl0uZm9yQ2hpbGQodCxlKTtvIT1rbiYmKG8gaW5zdGFuY2VvZiBPbj9uPW4uY29uY2F0KG8ubWVtYmVycyk6bi5wdXNoKG8pKX1yZXR1cm4gT24uZnJvbShuKX0sT24ucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIE9uKXx8dC5tZW1iZXJzLmxlbmd0aCE9dGhpcy5tZW1iZXJzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGU9MDtlPHRoaXMubWVtYmVycy5sZW5ndGg7ZSsrKWlmKCF0aGlzLm1lbWJlcnNbZV0uZXEodC5tZW1iZXJzW2VdKSlyZXR1cm4hMTtyZXR1cm4hMH0sT24ucHJvdG90eXBlLmxvY2Fscz1mdW5jdGlvbih0KXtmb3IodmFyIGUsbj0hMCxyPTA7cjx0aGlzLm1lbWJlcnMubGVuZ3RoO3IrKyl7dmFyIG89dGhpcy5tZW1iZXJzW3JdLmxvY2Fsc0lubmVyKHQpO2lmKG8ubGVuZ3RoKWlmKGUpe24mJihlPWUuc2xpY2UoKSxuPSExKTtmb3IodmFyIGk9MDtpPG8ubGVuZ3RoO2krKyllLnB1c2gob1tpXSl9ZWxzZSBlPW99cmV0dXJuIGU/Um4obj9lOmUuc29ydChFbikpOndufSxPbi5mcm9tPWZ1bmN0aW9uKHQpe3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBrbjtjYXNlIDE6cmV0dXJuIHRbMF07ZGVmYXVsdDpyZXR1cm4gbmV3IE9uKHQpfX07dmFyIHpuPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcHJvcHM9ZSx0aGlzLnN0YXRlPWUuc3RhdGUsdGhpcy5kaXNwYXRjaD10aGlzLmRpc3BhdGNoLmJpbmQodGhpcyksdGhpcy5fcm9vdD1udWxsLHRoaXMuZm9jdXNlZD0hMSx0aGlzLnRyYWNrV3JpdGVzPW51bGwsdGhpcy5kb209dCYmdC5tb3VudHx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdCYmKHQuYXBwZW5kQ2hpbGQ/dC5hcHBlbmRDaGlsZCh0aGlzLmRvbSk6dC5hcHBseT90KHRoaXMuZG9tKTp0Lm1vdW50JiYodGhpcy5tb3VudGVkPSEwKSksdGhpcy5lZGl0YWJsZT1Wbih0aGlzKSx0aGlzLm1hcmtDdXJzb3I9bnVsbCx0aGlzLmN1cnNvcldyYXBwZXI9bnVsbCwkbih0aGlzKSx0aGlzLm5vZGVWaWV3cz1Gbih0aGlzKSx0aGlzLmRvY1ZpZXc9dXQodGhpcy5zdGF0ZS5kb2Msam4odGhpcyksUG4odGhpcyksdGhpcy5kb20sdGhpcyksdGhpcy5sYXN0U2VsZWN0ZWRWaWV3RGVzYz1udWxsLHRoaXMuZHJhZ2dpbmc9bnVsbCx6ZSh0aGlzKSx0aGlzLnBsdWdpblZpZXdzPVtdLHRoaXMudXBkYXRlUGx1Z2luVmlld3MoKX0sSW49e3Byb3BzOntjb25maWd1cmFibGU6ITB9LHJvb3Q6e2NvbmZpZ3VyYWJsZTohMH19O2Z1bmN0aW9uIGpuKHQpe3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIGUuY2xhc3M9IlByb3NlTWlycm9yIixlLmNvbnRlbnRlZGl0YWJsZT1TdHJpbmcodC5lZGl0YWJsZSksdC5zb21lUHJvcCgiYXR0cmlidXRlcyIsKGZ1bmN0aW9uKG4pe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBuJiYobj1uKHQuc3RhdGUpKSxuKWZvcih2YXIgciBpbiBuKSJjbGFzcyI9PXI/ZS5jbGFzcys9IiAiK25bcl06ZVtyXXx8ImNvbnRlbnRlZGl0YWJsZSI9PXJ8fCJub2RlTmFtZSI9PXJ8fChlW3JdPVN0cmluZyhuW3JdKSl9KSksW3luLm5vZGUoMCx0LnN0YXRlLmRvYy5jb250ZW50LnNpemUsZSldfWZ1bmN0aW9uICRuKHQpe2lmKHQubWFya0N1cnNvcil7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7ZS5zZXRBdHRyaWJ1dGUoIm1hcmstcGxhY2Vob2xkZXIiLCJ0cnVlIiksdC5jdXJzb3JXcmFwcGVyPXtkb206ZSxkZWNvOnluLndpZGdldCh0LnN0YXRlLnNlbGVjdGlvbi5oZWFkLGUse3JhdzohMCxtYXJrczp0Lm1hcmtDdXJzb3J9KX19ZWxzZSB0LmN1cnNvcldyYXBwZXI9bnVsbH1mdW5jdGlvbiBWbih0KXtyZXR1cm4hdC5zb21lUHJvcCgiZWRpdGFibGUiLChmdW5jdGlvbihlKXtyZXR1cm4hMT09PWUodC5zdGF0ZSl9KSl9ZnVuY3Rpb24gQm4odCxlKXt2YXIgbj1NYXRoLm1pbih0LiRhbmNob3Iuc2hhcmVkRGVwdGgodC5oZWFkKSxlLiRhbmNob3Iuc2hhcmVkRGVwdGgoZS5oZWFkKSk7cmV0dXJuIHQuJGFuY2hvci5zdGFydChuKSE9ZS4kYW5jaG9yLnN0YXJ0KG4pfWZ1bmN0aW9uIEZuKHQpe3ZhciBlPXt9O3JldHVybiB0LnNvbWVQcm9wKCJub2RlVmlld3MiLChmdW5jdGlvbih0KXtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKXx8KGVbbl09dFtuXSl9KSksZX1mdW5jdGlvbiBMbih0LGUpe3ZhciBuPTAscj0wO2Zvcih2YXIgbyBpbiB0KXtpZih0W29dIT1lW29dKXJldHVybiEwO24rK31mb3IodmFyIGkgaW4gZSlyKys7cmV0dXJuIG4hPXJ9SW4ucHJvcHMuZ2V0PWZ1bmN0aW9uKCl7aWYodGhpcy5fcHJvcHMuc3RhdGUhPXRoaXMuc3RhdGUpe3ZhciB0PXRoaXMuX3Byb3BzO2Zvcih2YXIgZSBpbiB0aGlzLl9wcm9wcz17fSx0KXRoaXMuX3Byb3BzW2VdPXRbZV07dGhpcy5fcHJvcHMuc3RhdGU9dGhpcy5zdGF0ZX1yZXR1cm4gdGhpcy5fcHJvcHN9LHpuLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dC5oYW5kbGVET01FdmVudHMhPXRoaXMuX3Byb3BzLmhhbmRsZURPTUV2ZW50cyYmJGUodGhpcyksdGhpcy5fcHJvcHM9dCx0aGlzLnVwZGF0ZVN0YXRlSW5uZXIodC5zdGF0ZSwhMCl9LHpuLnByb3RvdHlwZS5zZXRQcm9wcz1mdW5jdGlvbih0KXt2YXIgZT17fTtmb3IodmFyIG4gaW4gdGhpcy5fcHJvcHMpZVtuXT10aGlzLl9wcm9wc1tuXTtmb3IodmFyIHIgaW4gZS5zdGF0ZT10aGlzLnN0YXRlLHQpZVtyXT10W3JdO3RoaXMudXBkYXRlKGUpfSx6bi5wcm90b3R5cGUudXBkYXRlU3RhdGU9ZnVuY3Rpb24odCl7dGhpcy51cGRhdGVTdGF0ZUlubmVyKHQsdGhpcy5zdGF0ZS5wbHVnaW5zIT10LnBsdWdpbnMpfSx6bi5wcm90b3R5cGUudXBkYXRlU3RhdGVJbm5lcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMsbz10aGlzLnN0YXRlLGk9ITE7aWYodGhpcy5zdGF0ZT10LGUpe3ZhciBhPUZuKHRoaXMpO0xuKGEsdGhpcy5ub2RlVmlld3MpJiYodGhpcy5ub2RlVmlld3M9YSxpPSEwKSwkZSh0aGlzKX10aGlzLmVkaXRhYmxlPVZuKHRoaXMpLCRuKHRoaXMpO3ZhciBjPVBuKHRoaXMpLGw9am4odGhpcyksdT1lPyJyZXNldCI6dC5zY3JvbGxUb1NlbGVjdGlvbj5vLnNjcm9sbFRvU2VsZWN0aW9uPyJ0byBzZWxlY3Rpb24iOiJwcmVzZXJ2ZSIsZj1pfHwhdGhpcy5kb2NWaWV3Lm1hdGNoZXNOb2RlKHQuZG9jLGwsYyksZD1mfHwhdC5zZWxlY3Rpb24uZXEoby5zZWxlY3Rpb24pLHA9InByZXNlcnZlIj09dSYmZCYmbnVsbD09dGhpcy5kb20uc3R5bGUub3ZlcmZsb3dBbmNob3ImJk4odGhpcyk7aWYoZCl7dGhpcy5kb21PYnNlcnZlci5zdG9wKCk7dmFyIGg9ZiYmKHMuaWV8fHMuY2hyb21lKSYmIXRoaXMuY29tcG9zaW5nJiYhby5zZWxlY3Rpb24uZW1wdHkmJiF0LnNlbGVjdGlvbi5lbXB0eSYmQm4oby5zZWxlY3Rpb24sdC5zZWxlY3Rpb24pO2lmKGYpe3ZhciB2PXMuY2hyb21lP3RoaXMudHJhY2tXcml0ZXM9dGhpcy5yb290LmdldFNlbGVjdGlvbigpLmZvY3VzTm9kZTpudWxsOyFpJiZ0aGlzLmRvY1ZpZXcudXBkYXRlKHQuZG9jLGwsYyx0aGlzKXx8KHRoaXMuZG9jVmlldy51cGRhdGVPdXRlckRlY28oW10pLHRoaXMuZG9jVmlldy5kZXN0cm95KCksdGhpcy5kb2NWaWV3PXV0KHQuZG9jLGwsYyx0aGlzLmRvbSx0aGlzKSksdiYmIXRoaXMudHJhY2tXcml0ZXMmJihoPSEwKX1ofHwhKHRoaXMubW91c2VEb3duJiZ0aGlzLmRvbU9ic2VydmVyLmN1cnJlbnRTZWxlY3Rpb24uZXEodGhpcy5yb290LmdldFNlbGVjdGlvbigpKSYmaWUodGhpcykpP0p0KHRoaXMsaCk6KHRlKHRoaXMsdC5zZWxlY3Rpb24pLHRoaXMuZG9tT2JzZXJ2ZXIuc2V0Q3VyU2VsZWN0aW9uKCkpLHRoaXMuZG9tT2JzZXJ2ZXIuc3RhcnQoKX1pZih0aGlzLnVwZGF0ZVBsdWdpblZpZXdzKG8pLCJyZXNldCI9PXUpdGhpcy5kb20uc2Nyb2xsVG9wPTA7ZWxzZSBpZigidG8gc2VsZWN0aW9uIj09dSl7dmFyIG09dGhpcy5yb290LmdldFNlbGVjdGlvbigpLmZvY3VzTm9kZTt0aGlzLnNvbWVQcm9wKCJoYW5kbGVTY3JvbGxUb1NlbGVjdGlvbiIsKGZ1bmN0aW9uKHQpe3JldHVybiB0KG4pfSkpfHwodC5zZWxlY3Rpb24gaW5zdGFuY2VvZiByWyJOb2RlU2VsZWN0aW9uIl0/TSh0aGlzLHRoaXMuZG9jVmlldy5kb21BZnRlclBvcyh0LnNlbGVjdGlvbi5mcm9tKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxtKTpNKHRoaXMsdGhpcy5jb29yZHNBdFBvcyh0LnNlbGVjdGlvbi5oZWFkKSxtKSl9ZWxzZSBwJiZBKHApfSx6bi5wcm90b3R5cGUuZGVzdHJveVBsdWdpblZpZXdzPWZ1bmN0aW9uKCl7dmFyIHQ7d2hpbGUodD10aGlzLnBsdWdpblZpZXdzLnBvcCgpKXQuZGVzdHJveSYmdC5kZXN0cm95KCl9LHpuLnByb3RvdHlwZS51cGRhdGVQbHVnaW5WaWV3cz1mdW5jdGlvbih0KXtpZih0JiZ0LnBsdWdpbnM9PXRoaXMuc3RhdGUucGx1Z2lucylmb3IodmFyIGU9MDtlPHRoaXMucGx1Z2luVmlld3MubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5wbHVnaW5WaWV3c1tlXTtuLnVwZGF0ZSYmbi51cGRhdGUodGhpcyx0KX1lbHNle3RoaXMuZGVzdHJveVBsdWdpblZpZXdzKCk7Zm9yKHZhciByPTA7cjx0aGlzLnN0YXRlLnBsdWdpbnMubGVuZ3RoO3IrKyl7dmFyIG89dGhpcy5zdGF0ZS5wbHVnaW5zW3JdO28uc3BlYy52aWV3JiZ0aGlzLnBsdWdpblZpZXdzLnB1c2goby5zcGVjLnZpZXcodGhpcykpfX19LHpuLnByb3RvdHlwZS5zb21lUHJvcD1mdW5jdGlvbih0LGUpe3ZhciBuLHI9dGhpcy5fcHJvcHMmJnRoaXMuX3Byb3BzW3RdO2lmKG51bGwhPXImJihuPWU/ZShyKTpyKSlyZXR1cm4gbjt2YXIgbz10aGlzLnN0YXRlLnBsdWdpbnM7aWYobylmb3IodmFyIGk9MDtpPG8ubGVuZ3RoO2krKyl7dmFyIHM9b1tpXS5wcm9wc1t0XTtpZihudWxsIT1zJiYobj1lP2Uocyk6cykpcmV0dXJuIG59fSx6bi5wcm90b3R5cGUuaGFzRm9jdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yb290LmFjdGl2ZUVsZW1lbnQ9PXRoaXMuZG9tfSx6bi5wcm90b3R5cGUuZm9jdXM9ZnVuY3Rpb24oKXt0aGlzLmRvbU9ic2VydmVyLnN0b3AoKSx0aGlzLmVkaXRhYmxlJiZSKHRoaXMuZG9tKSxKdCh0aGlzKSx0aGlzLmRvbU9ic2VydmVyLnN0YXJ0KCl9LEluLnJvb3QuZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcm9vdDtpZihudWxsPT10KWZvcih2YXIgZT10aGlzLmRvbS5wYXJlbnROb2RlO2U7ZT1lLnBhcmVudE5vZGUpaWYoOT09ZS5ub2RlVHlwZXx8MTE9PWUubm9kZVR5cGUmJmUuaG9zdClyZXR1cm4gZS5nZXRTZWxlY3Rpb258fChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmdldFNlbGVjdGlvbigpfSksdGhpcy5fcm9vdD1lO3JldHVybiB0fHxkb2N1bWVudH0sem4ucHJvdG90eXBlLnBvc0F0Q29vcmRzPWZ1bmN0aW9uKHQpe3JldHVybiBCKHRoaXMsdCl9LHpuLnByb3RvdHlwZS5jb29yZHNBdFBvcz1mdW5jdGlvbih0KXtyZXR1cm4gTCh0aGlzLHQpfSx6bi5wcm90b3R5cGUuZG9tQXRQb3M9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZG9jVmlldy5kb21Gcm9tUG9zKHQpfSx6bi5wcm90b3R5cGUubm9kZURPTT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRvY1ZpZXcuZGVzY0F0KHQpO3JldHVybiBlP2Uubm9kZURPTTpudWxsfSx6bi5wcm90b3R5cGUucG9zQXRET009ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPS0xKTt2YXIgcj10aGlzLmRvY1ZpZXcucG9zRnJvbURPTSh0LGUsbik7aWYobnVsbD09cil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRE9NIHBvc2l0aW9uIG5vdCBpbnNpZGUgdGhlIGVkaXRvciIpO3JldHVybiByfSx6bi5wcm90b3R5cGUuZW5kT2ZUZXh0YmxvY2s9ZnVuY3Rpb24odCxlKXtyZXR1cm4gWih0aGlzLGV8fHRoaXMuc3RhdGUsdCl9LHpuLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5kb2NWaWV3JiYoamUodGhpcyksdGhpcy5kZXN0cm95UGx1Z2luVmlld3MoKSx0aGlzLm1vdW50ZWQ/KHRoaXMuZG9jVmlldy51cGRhdGUodGhpcy5zdGF0ZS5kb2MsW10sUG4odGhpcyksdGhpcyksdGhpcy5kb20udGV4dENvbnRlbnQ9IiIpOnRoaXMuZG9tLnBhcmVudE5vZGUmJnRoaXMuZG9tLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kb20pLHRoaXMuZG9jVmlldy5kZXN0cm95KCksdGhpcy5kb2NWaWV3PW51bGwpfSx6bi5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbih0KXtyZXR1cm4gRmUodGhpcyx0KX0sem4ucHJvdG90eXBlLmRpc3BhdGNoPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3Byb3BzLmRpc3BhdGNoVHJhbnNhY3Rpb247ZT9lLmNhbGwodGhpcyx0KTp0aGlzLnVwZGF0ZVN0YXRlKHRoaXMuc3RhdGUuYXBwbHkodCkpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh6bi5wcm90b3R5cGUsSW4pfSwiNWJiMSI6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZn09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5mfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMTMuMjU1IDE1YTYuOTcyIDYuOTcyIDAgMDAtLjk2NSAySDVBNSA1IDAgMDE1IDdoMTRhNSA1IDAgMDE0LjY3MSA2Ljc4NyA3LjAxIDcuMDEgMCAwMC0xLjc0LTEuMTQ2QTMgMyAwIDAwMTkgOUg1YTMgMyAwIDAwMCA2aDguMjU1ek0xOSAxNGE1IDUgMCAxMTAgMTAgNSA1IDAgMDEwLTEwem0tMi41IDUuOTM4aDVhLjkzNy45MzcgMCAxMDAtMS44NzVoLTVhLjkzNy45MzcgMCAxMDAgMS44NzV6In19KV0pKX19fSwiNWM2YyI6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19fSwiNWQ3NSI6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZn09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5mfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMTIuNDA2IDE0LjkwNWExIDEgMCAwMC0uNTQzIDEuMzA3IDEgMSAwIDAxLS4yMTcgMS4wOWwtMi44MjggMi44MjlhMiAyIDAgMDEtMi44MjggMEwzLjg2OCAxOC4wMWEyIDIgMCAwMTAtMi44MjlMNi43IDEyLjM1M2ExLjAxMyAxLjAxMyAwIDAxMS4wOTEtLjIxNyAxIDEgMCAwMC43NjMtMS44NDkgMy4wMzQgMy4wMzQgMCAwMC0zLjI2OC42NTJsLTIuODMyIDIuODI4YTQuMDA2IDQuMDA2IDAgMDAwIDUuNjU3bDIuMTIyIDIuMTIxYTQgNCAwIDAwNS42NTYgMGwyLjgyOS0yLjgyOGEzLjAwOCAzLjAwOCAwIDAwLjY1MS0zLjI3IDEgMSAwIDAwLTEuMzA2LS41NDJ6In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik03Ljc1NyAxNi4yNDFhMS4wMTEgMS4wMTEgMCAwMDEuNDE0IDBsNy43NzktNy43NzhhMSAxIDAgMDAtMS40MTQtMS40MTRsLTcuNzc5IDcuNzc4YTEgMSAwIDAwMCAxLjQxNHoifX0pLG4oInBhdGgiLHthdHRyczp7ZDoiTTIxLjU0NiA0LjU3NGwtMi4xMjEtMi4xMjFhNC4wMDYgNC4wMDYgMCAwMC01LjY1NyAwbC0yLjgyOSAyLjgyOGEzLjAwNiAzLjAwNiAwIDAwLS42NTEgMy4yNjkgMSAxIDAgMTAxLjg0OS0uNzY0IDEgMSAwIDAxLjIxNy0xLjA4NmwyLjgyOC0yLjgyOGEyIDIgMCAwMTIuODI5IDBsMi4xMjEgMi4xMjFhMiAyIDAgMDEwIDIuODI5TDE3LjMgMTEuNjQ1YTEuMDE1IDEuMDE1IDAgMDEtMS4wOTEuMjE3IDEgMSAwIDAwLS43NjUgMS44NDkgMy4wMjYgMy4wMjYgMCAwMDMuMjctLjY1MWwyLjgyOC0yLjgyOGE0LjAwNyA0LjAwNyAwIDAwLjAwNC01LjY1OHoifX0pXSkpfX19LCI1ZGJlIjpmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKCl7dmFyIGU7ZnVuY3Rpb24gbigpe2NvbnNvbGUubG9nKG8uYXBwbHkobnVsbCxhcmd1bWVudHMpKX1mdW5jdGlvbiByKHQsZSl7cmV0dXJuIG8uYXBwbHkobnVsbCxbdF0uY29uY2F0KGUpKX1mdW5jdGlvbiBvKHQpe2Zvcih2YXIgZSxuLHIsbyxpPTEscz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyksYT0wLGM9dC5sZW5ndGgsbD0iIix1PSExLGY9ITEsZD1mdW5jdGlvbigpe3JldHVybiBzW2krK119LHA9ZnVuY3Rpb24oKXt2YXIgbj0iIjt3aGlsZSgvXGQvLnRlc3QodFthXSkpbis9dFthKytdLGU9dFthXTtyZXR1cm4gbi5sZW5ndGg+MD9wYXJzZUludChuKTpudWxsfTthPGM7KythKWlmKGU9dFthXSx1KXN3aXRjaCh1PSExLCIuIj09ZT8oZj0hMSxlPXRbKythXSk6IjAiPT1lJiYiLiI9PXRbYSsxXT8oZj0hMCxhKz0yLGU9dFthXSk6Zj0hMCxvPXAoKSxlKXtjYXNlImIiOmwrPXBhcnNlSW50KGQoKSwxMCkudG9TdHJpbmcoMik7YnJlYWs7Y2FzZSJjIjpuPWQoKSxsKz0ic3RyaW5nIj09PXR5cGVvZiBufHxuIGluc3RhbmNlb2YgU3RyaW5nP246U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChuLDEwKSk7YnJlYWs7Y2FzZSJkIjpsKz1wYXJzZUludChkKCksMTApO2JyZWFrO2Nhc2UiZiI6cj1TdHJpbmcocGFyc2VGbG9hdChkKCkpLnRvRml4ZWQob3x8NikpLGwrPWY/cjpyLnJlcGxhY2UoL14wLywiIik7YnJlYWs7Y2FzZSJqIjpsKz1KU09OLnN0cmluZ2lmeShkKCkpO2JyZWFrO2Nhc2UibyI6bCs9IjAiK3BhcnNlSW50KGQoKSwxMCkudG9TdHJpbmcoOCk7YnJlYWs7Y2FzZSJzIjpsKz1kKCk7YnJlYWs7Y2FzZSJ4IjpsKz0iMHgiK3BhcnNlSW50KGQoKSwxMCkudG9TdHJpbmcoMTYpO2JyZWFrO2Nhc2UiWCI6bCs9IjB4IitwYXJzZUludChkKCksMTApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO2JyZWFrO2RlZmF1bHQ6bCs9ZTticmVha31lbHNlIiUiPT09ZT91PSEwOmwrPWU7cmV0dXJuIGx9ZT10LmV4cG9ydHM9byxlLmZvcm1hdD1vLGUudnNwcmludGY9ciwidW5kZWZpbmVkIiE9PXR5cGVvZiBjb25zb2xlJiYiZnVuY3Rpb24iPT09dHlwZW9mIGNvbnNvbGUubG9nJiYoZS5wcmludGY9bil9KSgpfSwiNWZlZCI6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZn09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5mfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMTkgMGE1IDUgMCAxMTAgMTAgNSA1IDAgMDEwLTEwem0yLjUgNS45MzhhLjkzNy45MzcgMCAxMDAtMS44NzVoLTEuMjVhLjMxMi4zMTIgMCAwMS0uMzEzLS4zMTNWMi41YS45MzcuOTM3IDAgMTAtMS44NzUgMHYxLjI1YzAgLjE3My0uMTQuMzEzLS4zMTIuMzEzSDE2LjVhLjkzNy45MzcgMCAxMDAgMS44NzVoMS4yNWMuMTczIDAgLjMxMy4xNC4zMTMuMzEyVjcuNWEuOTM3LjkzNyAwIDEwMS44NzUgMFY2LjI1YzAtLjE3My4xNC0uMzEzLjMxMi0uMzEzaDEuMjV6TTUgMTZhMyAzIDAgMDAwIDZoMTRhMyAzIDAgMDAwLTZINXptMC0yaDE0YTUgNSAwIDAxMCAxMEg1YTUgNSAwIDAxMC0xMHoifX0pXSkpfX19LDY1NDc6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImE2OTEiKSxvPW4oIjFkODAiKSxpPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciBpLHMsYT1TdHJpbmcobyhlKSksYz1yKG4pLGw9YS5sZW5ndGg7cmV0dXJuIGM8MHx8Yz49bD90PyIiOnZvaWQgMDooaT1hLmNoYXJDb2RlQXQoYyksaTw1NTI5Nnx8aT41NjMxOXx8YysxPT09bHx8KHM9YS5jaGFyQ29kZUF0KGMrMSkpPDU2MzIwfHxzPjU3MzQzP3Q/YS5jaGFyQXQoYyk6aTp0P2Euc2xpY2UoYyxjKzIpOnMtNTYzMjArKGktNTUyOTY8PDEwKSs2NTUzNil9fTt0LmV4cG9ydHM9e2NvZGVBdDppKCExKSxjaGFyQXQ6aSghMCl9fSwiNjVmMCI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjg2MWQiKSxvPW4oImU4YjUiKSxpPW4oImI2MjIiKSxzPWkoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbyh0KSYmKG49dC5jb25zdHJ1Y3RvciwiZnVuY3Rpb24iIT10eXBlb2Ygbnx8biE9PUFycmF5JiYhbyhuLnByb3RvdHlwZSk/cihuKSYmKG49bltzXSxudWxsPT09biYmKG49dm9pZCAwKSk6bj12b2lkIDApLG5ldyh2b2lkIDA9PT1uP0FycmF5Om4pKDA9PT1lPzA6ZSl9fSwiNjlmMyI6ZnVuY3Rpb24odCxlLG4pe3ZhciByLG8saSxzPW4oIjdmOWEiKSxhPW4oImRhODQiKSxjPW4oIjg2MWQiKSxsPW4oIjkxMTIiKSx1PW4oIjUxMzUiKSxmPW4oImY3NzIiKSxkPW4oImQwMTIiKSxwPWEuV2Vha01hcCxoPWZ1bmN0aW9uKHQpe3JldHVybiBpKHQpP28odCk6cih0LHt9KX0sdj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG47aWYoIWMoZSl8fChuPW8oZSkpLnR5cGUhPT10KXRocm93IFR5cGVFcnJvcigiSW5jb21wYXRpYmxlIHJlY2VpdmVyLCAiK3QrIiByZXF1aXJlZCIpO3JldHVybiBufX07aWYocyl7dmFyIG09bmV3IHAsZz1tLmdldCx5PW0uaGFzLGI9bS5zZXQ7cj1mdW5jdGlvbih0LGUpe3JldHVybiBiLmNhbGwobSx0LGUpLGV9LG89ZnVuY3Rpb24odCl7cmV0dXJuIGcuY2FsbChtLHQpfHx7fX0saT1mdW5jdGlvbih0KXtyZXR1cm4geS5jYWxsKG0sdCl9fWVsc2V7dmFyIHc9Zigic3RhdGUiKTtkW3ddPSEwLHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbCh0LHcsZSksZX0sbz1mdW5jdGlvbih0KXtyZXR1cm4gdSh0LHcpP3Rbd106e319LGk9ZnVuY3Rpb24odCl7cmV0dXJuIHUodCx3KX19dC5leHBvcnRzPXtzZXQ6cixnZXQ6byxoYXM6aSxlbmZvcmNlOmgsZ2V0dGVyRm9yOnZ9fSwiNmQ1NCI6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZn09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5mfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOnsiZmlsbC1ydWxlIjoiZXZlbm9kZCIsZDoiTTE3IDE3djVoMmEzIDMgMCAwMDMtM3YtMmgtNXptLTIgMEg5djVoNnYtNXptMi0yaDVWOWgtNXY2em0tMiAwVjlIOXY2aDZ6bTItOGg1VjVhMyAzIDAgMDAtMy0zaC0ydjV6bS0yIDBWMkg5djVoNnptOSA5LjE3N1YxOWE1IDUgMCAwMS01IDVINWE1IDUgMCAwMS01LTVWNWE1IDUgMCAwMTUtNWgxNGE1IDUgMCAwMTUgNXYyLjgyM2EuODQzLjg0MyAwIDAxMCAuMzU0djcuNjQ2YS44NDMuODQzIDAgMDEwIC4zNTR6TTcgMkg1YTMgMyAwIDAwLTMgM3YyaDVWMnpNMiA5djZoNVY5SDJ6bTAgOHYyYTMgMyAwIDAwMyAzaDJ2LTVIMnoifX0pXSkpfX19LCI2ZWViIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZGE4NCIpLG89bigiOTExMiIpLGk9bigiNTEzNSIpLHM9bigiY2U0ZSIpLGE9bigiODkyNSIpLGM9bigiNjlmMyIpLGw9Yy5nZXQsdT1jLmVuZm9yY2UsZj1TdHJpbmcoU3RyaW5nKS5zcGxpdCgiU3RyaW5nIik7KHQuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixhKXt2YXIgYz0hIWEmJiEhYS51bnNhZmUsbD0hIWEmJiEhYS5lbnVtZXJhYmxlLGQ9ISFhJiYhIWEubm9UYXJnZXRHZXQ7ImZ1bmN0aW9uIj09dHlwZW9mIG4mJigic3RyaW5nIiE9dHlwZW9mIGV8fGkobiwibmFtZSIpfHxvKG4sIm5hbWUiLGUpLHUobikuc291cmNlPWYuam9pbigic3RyaW5nIj09dHlwZW9mIGU/ZToiIikpLHQhPT1yPyhjPyFkJiZ0W2VdJiYobD0hMCk6ZGVsZXRlIHRbZV0sbD90W2VdPW46byh0LGUsbikpOmw/dFtlXT1uOnMoZSxuKX0pKEZ1bmN0aW9uLnByb3RvdHlwZSwidG9TdHJpbmciLChmdW5jdGlvbigpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzJiZsKHRoaXMpLnNvdXJjZXx8YSh0aGlzKX0pKX0sIjZmNTMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI4M2FiIiksbz1uKCJkZjc1IiksaT1uKCJmYzZhIikscz1uKCJkMWU3IikuZixhPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbixhPWkoZSksYz1vKGEpLGw9Yy5sZW5ndGgsdT0wLGY9W107d2hpbGUobD51KW49Y1t1KytdLHImJiFzLmNhbGwoYSxuKXx8Zi5wdXNoKHQ/W24sYVtuXV06YVtuXSk7cmV0dXJuIGZ9fTt0LmV4cG9ydHM9e2VudHJpZXM6YSghMCksdmFsdWVzOmEoITEpfX0sIjcwYzciOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTUgMTRhNSA1IDAgMTEwIDEwIDUgNSAwIDAxMC0xMHptMi41IDUuOTM4YS45MzcuOTM3IDAgMTAwLTEuODc1SDYuMjVhLjMxMi4zMTIgMCAwMS0uMzEzLS4zMTNWMTYuNWEuOTM3LjkzNyAwIDEwLTEuODc1IDB2MS4yNWMwIC4xNzMtLjE0LjMxMy0uMzEyLjMxM0gyLjVhLjkzNy45MzcgMCAxMDAgMS44NzVoMS4yNWMuMTczIDAgLjMxMy4xNC4zMTMuMzEydjEuMjVhLjkzNy45MzcgMCAxMDEuODc1IDB2LTEuMjVjMC0uMTczLjE0LS4zMTMuMzEyLS4zMTNINy41ek0xNiAxOWEzIDMgMCAwMDYgMFY1YTMgMyAwIDAwLTYgMHYxNHptLTIgMFY1YTUgNSAwIDAxMTAgMHYxNGE1IDUgMCAwMS0xMCAweiJ9fSldKSl9fX0sNzQxODpmdW5jdGlvbih0LGUpe2UuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzfSwiNzQ2ZiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjQyOGYiKSxvPW4oIjUxMzUiKSxpPW4oImU1MzgiKSxzPW4oIjliZjIiKS5mO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1yLlN5bWJvbHx8KHIuU3ltYm9sPXt9KTtvKGUsdCl8fHMoZSx0LHt2YWx1ZTppLmYodCl9KX19LDc4Mzk6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9WyJjb25zdHJ1Y3RvciIsImhhc093blByb3BlcnR5IiwiaXNQcm90b3R5cGVPZiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwidG9Mb2NhbGVTdHJpbmciLCJ0b1N0cmluZyIsInZhbHVlT2YiXX0sIjdiMGIiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCIxZDgwIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qocih0KSl9fSwiN2M3MyI6ZnVuY3Rpb24odCxlLG4pe3ZhciByLG89bigiODI1YSIpLGk9bigiMzdlOCIpLHM9bigiNzgzOSIpLGE9bigiZDAxMiIpLGM9bigiMWJlNCIpLGw9bigiY2MxMiIpLHU9bigiZjc3MiIpLGY9Ij4iLGQ9IjwiLHA9InByb3RvdHlwZSIsaD0ic2NyaXB0Iix2PXUoIklFX1BST1RPIiksbT1mdW5jdGlvbigpe30sZz1mdW5jdGlvbih0KXtyZXR1cm4gZCtoK2YrdCtkKyIvIitoK2Z9LHk9ZnVuY3Rpb24odCl7dC53cml0ZShnKCIiKSksdC5jbG9zZSgpO3ZhciBlPXQucGFyZW50V2luZG93Lk9iamVjdDtyZXR1cm4gdD1udWxsLGV9LGI9ZnVuY3Rpb24oKXt2YXIgdCxlPWwoImlmcmFtZSIpLG49ImphdmEiK2grIjoiO3JldHVybiBlLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGMuYXBwZW5kQ2hpbGQoZSksZS5zcmM9U3RyaW5nKG4pLHQ9ZS5jb250ZW50V2luZG93LmRvY3VtZW50LHQub3BlbigpLHQud3JpdGUoZygiZG9jdW1lbnQuRj1PYmplY3QiKSksdC5jbG9zZSgpLHQuRn0sdz1mdW5jdGlvbigpe3RyeXtyPWRvY3VtZW50LmRvbWFpbiYmbmV3IEFjdGl2ZVhPYmplY3QoImh0bWxmaWxlIil9Y2F0Y2goZSl7fXc9cj95KHIpOmIoKTt2YXIgdD1zLmxlbmd0aDt3aGlsZSh0LS0pZGVsZXRlIHdbcF1bc1t0XV07cmV0dXJuIHcoKX07YVt2XT0hMCx0LmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbnVsbCE9PXQ/KG1bcF09byh0KSxuPW5ldyBtLG1bcF09bnVsbCxuW3ZdPXQpOm49dygpLHZvaWQgMD09PWU/bjppKG4sZSl9fSwiN2RkMCI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCIyM2U3Iiksbz1uKCI5ZWQzIiksaT1uKCJlMTYzIikscz1uKCJkMmJiIiksYT1uKCJkNDRlIiksYz1uKCI5MTEyIiksbD1uKCI2ZWViIiksdT1uKCJiNjIyIiksZj1uKCJjNDMwIiksZD1uKCIzZjhjIikscD1uKCJhZTkzIiksaD1wLkl0ZXJhdG9yUHJvdG90eXBlLHY9cC5CVUdHWV9TQUZBUklfSVRFUkFUT1JTLG09dSgiaXRlcmF0b3IiKSxnPSJrZXlzIix5PSJ2YWx1ZXMiLGI9ImVudHJpZXMiLHc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLHUscCxTLHgpe28obixlLHUpO3ZhciBrLE8sQyxNPWZ1bmN0aW9uKHQpe2lmKHQ9PT1wJiZFKXJldHVybiBFO2lmKCF2JiZ0IGluIEEpcmV0dXJuIEFbdF07c3dpdGNoKHQpe2Nhc2UgZzpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyx0KX07Y2FzZSB5OnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLHQpfTtjYXNlIGI6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMsdCl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzKX19LE49ZSsiIEl0ZXJhdG9yIixUPSExLEE9dC5wcm90b3R5cGUsRD1BW21dfHxBWyJAQGl0ZXJhdG9yIl18fHAmJkFbcF0sRT0hdiYmRHx8TShwKSxSPSJBcnJheSI9PWUmJkEuZW50cmllc3x8RDtpZihSJiYoaz1pKFIuY2FsbChuZXcgdCkpLGghPT1PYmplY3QucHJvdG90eXBlJiZrLm5leHQmJihmfHxpKGspPT09aHx8KHM/cyhrLGgpOiJmdW5jdGlvbiIhPXR5cGVvZiBrW21dJiZjKGssbSx3KSksYShrLE4sITAsITApLGYmJihkW05dPXcpKSkscD09eSYmRCYmRC5uYW1lIT09eSYmKFQ9ITAsRT1mdW5jdGlvbigpe3JldHVybiBELmNhbGwodGhpcyl9KSxmJiYheHx8QVttXT09PUV8fGMoQSxtLEUpLGRbZV09RSxwKWlmKE89e3ZhbHVlczpNKHkpLGtleXM6Uz9FOk0oZyksZW50cmllczpNKGIpfSx4KWZvcihDIGluIE8pKHZ8fFR8fCEoQyBpbiBBKSkmJmwoQSxDLE9bQ10pO2Vsc2Ugcih7dGFyZ2V0OmUscHJvdG86ITAsZm9yY2VkOnZ8fFR9LE8pO3JldHVybiBPfX0sIjdmMDYiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiB3fSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKTtmb3IodmFyIHI9ezg6IkJhY2tzcGFjZSIsOToiVGFiIiwxMDoiRW50ZXIiLDEyOiJOdW1Mb2NrIiwxMzoiRW50ZXIiLDE2OiJTaGlmdCIsMTc6IkNvbnRyb2wiLDE4OiJBbHQiLDIwOiJDYXBzTG9jayIsMjc6IkVzY2FwZSIsMzI6IiAiLDMzOiJQYWdlVXAiLDM0OiJQYWdlRG93biIsMzU6IkVuZCIsMzY6IkhvbWUiLDM3OiJBcnJvd0xlZnQiLDM4OiJBcnJvd1VwIiwzOToiQXJyb3dSaWdodCIsNDA6IkFycm93RG93biIsNDQ6IlByaW50U2NyZWVuIiw0NToiSW5zZXJ0Iiw0NjoiRGVsZXRlIiw1OToiOyIsNjE6Ij0iLDkxOiJNZXRhIiw5MjoiTWV0YSIsMTA2OiIqIiwxMDc6IisiLDEwODoiLCIsMTA5OiItIiwxMTA6Ii4iLDExMToiLyIsMTQ0OiJOdW1Mb2NrIiwxNDU6IlNjcm9sbExvY2siLDE2MDoiU2hpZnQiLDE2MToiU2hpZnQiLDE2MjoiQ29udHJvbCIsMTYzOiJDb250cm9sIiwxNjQ6IkFsdCIsMTY1OiJBbHQiLDE3MzoiLSIsMTg2OiI7IiwxODc6Ij0iLDE4ODoiLCIsMTg5OiItIiwxOTA6Ii4iLDE5MToiLyIsMTkyOiJgIiwyMTk6IlsiLDIyMDoiXFwiLDIyMToiXSIsMjIyOiInIiwyMjk6InEifSxvPXs0ODoiKSIsNDk6IiEiLDUwOiJAIiw1MToiIyIsNTI6IiQiLDUzOiIlIiw1NDoiXiIsNTU6IiYiLDU2OiIqIiw1NzoiKCIsNTk6IjoiLDYxOiIrIiwxNzM6Il8iLDE4NjoiOiIsMTg3OiIrIiwxODg6IjwiLDE4OToiXyIsMTkwOiI+IiwxOTE6Ij8iLDE5MjoifiIsMjE5OiJ7IiwyMjA6InwiLDIyMToifSIsMjIyOiciJywyMjk6IlEifSxpPSJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiYvQ2hyb21lXC8oXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KSxzPSJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiYvQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2aWdhdG9yLnZlbmRvciksYT0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmL0dlY2tvXC9cZCsvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksYz0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmL01hYy8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pLGw9InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9NU0lFIFxkfFRyaWRlbnRcLyg/Ols3LTldfFxkezIsfSlcLi4qcnY6KFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCksdT1pJiYoY3x8K2lbMV08NTcpfHxhJiZjLGY9MDtmPDEwO2YrKylyWzQ4K2ZdPXJbOTYrZl09U3RyaW5nKGYpO2ZvcihmPTE7Zjw9MjQ7ZisrKXJbZisxMTFdPSJGIitmO2ZvcihmPTY1O2Y8PTkwO2YrKylyW2ZdPVN0cmluZy5mcm9tQ2hhckNvZGUoZiszMiksb1tmXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGYpO2Zvcih2YXIgZCBpbiByKW8uaGFzT3duUHJvcGVydHkoZCl8fChvW2RdPXJbZF0pO2Z1bmN0aW9uIHAodCl7dmFyIGU9dSYmKHQuY3RybEtleXx8dC5hbHRLZXl8fHQubWV0YUtleSl8fChzfHxsKSYmdC5zaGlmdEtleSYmdC5rZXkmJjE9PXQua2V5Lmxlbmd0aCxuPSFlJiZ0LmtleXx8KHQuc2hpZnRLZXk/bzpyKVt0LmtleUNvZGVdfHx0LmtleXx8IlVuaWRlbnRpZmllZCI7cmV0dXJuIkVzYyI9PW4mJihuPSJFc2NhcGUiKSwiRGVsIj09biYmKG49IkRlbGV0ZSIpLCJMZWZ0Ij09biYmKG49IkFycm93TGVmdCIpLCJVcCI9PW4mJihuPSJBcnJvd1VwIiksIlJpZ2h0Ij09biYmKG49IkFycm93UmlnaHQiKSwiRG93biI9PW4mJihuPSJBcnJvd0Rvd24iKSxufXZhciBoPW4oIjUzMTMiKSx2PSJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiYvTWFjLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk7ZnVuY3Rpb24gbSh0KXt2YXIgZSxuLHIsbyxpPXQuc3BsaXQoLy0oPyEkKS8pLHM9aVtpLmxlbmd0aC0xXTsiU3BhY2UiPT1zJiYocz0iICIpO2Zvcih2YXIgYT0wO2E8aS5sZW5ndGgtMTthKyspe3ZhciBjPWlbYV07aWYoL14oY21kfG1ldGF8bSkkL2kudGVzdChjKSlvPSEwO2Vsc2UgaWYoL15hKGx0KT8kL2kudGVzdChjKSllPSEwO2Vsc2UgaWYoL14oY3xjdHJsfGNvbnRyb2wpJC9pLnRlc3QoYykpbj0hMDtlbHNlIGlmKC9ecyhoaWZ0KT8kL2kudGVzdChjKSlyPSEwO2Vsc2V7aWYoIS9ebW9kJC9pLnRlc3QoYykpdGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgbW9kaWZpZXIgbmFtZTogIitjKTt2P289ITA6bj0hMH19cmV0dXJuIGUmJihzPSJBbHQtIitzKSxuJiYocz0iQ3RybC0iK3MpLG8mJihzPSJNZXRhLSIrcyksciYmKHM9IlNoaWZ0LSIrcyksc31mdW5jdGlvbiBnKHQpe3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKHZhciBuIGluIHQpZVttKG4pXT10W25dO3JldHVybiBlfWZ1bmN0aW9uIHkodCxlLG4pe3JldHVybiBlLmFsdEtleSYmKHQ9IkFsdC0iK3QpLGUuY3RybEtleSYmKHQ9IkN0cmwtIit0KSxlLm1ldGFLZXkmJih0PSJNZXRhLSIrdCksITEhPT1uJiZlLnNoaWZ0S2V5JiYodD0iU2hpZnQtIit0KSx0fWZ1bmN0aW9uIGIodCl7cmV0dXJuIG5ldyBoWyJQbHVnaW4iXSh7cHJvcHM6e2hhbmRsZUtleURvd246dyh0KX19KX1mdW5jdGlvbiB3KHQpe3ZhciBlPWcodCk7cmV0dXJuIGZ1bmN0aW9uKHQsbil7dmFyIG8saT1wKG4pLHM9MT09aS5sZW5ndGgmJiIgIiE9aSxhPWVbeShpLG4sIXMpXTtpZihhJiZhKHQuc3RhdGUsdC5kaXNwYXRjaCx0KSlyZXR1cm4hMDtpZihzJiYobi5zaGlmdEtleXx8bi5hbHRLZXl8fG4ubWV0YUtleXx8aS5jaGFyQ29kZUF0KDApPjEyNykmJihvPXJbbi5rZXlDb2RlXSkmJm8hPWkpe3ZhciBjPWVbeShvLG4sITApXTtpZihjJiZjKHQuc3RhdGUsdC5kaXNwYXRjaCx0KSlyZXR1cm4hMH1lbHNlIGlmKHMmJm4uc2hpZnRLZXkpe3ZhciBsPWVbeShpLG4sITApXTtpZihsJiZsKHQuc3RhdGUsdC5kaXNwYXRjaCx0KSlyZXR1cm4hMH1yZXR1cm4hMX19fSwiN2Y5YSI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImRhODQiKSxvPW4oIjg5MjUiKSxpPXIuV2Vha01hcDt0LmV4cG9ydHM9ImZ1bmN0aW9uIj09PXR5cGVvZiBpJiYvbmF0aXZlIGNvZGUvLnRlc3QobyhpKSl9LCI4MjVhIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiODYxZCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighcih0KSl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKHQpKyIgaXMgbm90IGFuIG9iamVjdCIpO3JldHVybiB0fX0sIjgzYWIiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJkMDM5Iik7dC5leHBvcnRzPSFyKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sMSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSlbMV19KSl9LDg0MTg6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJjMDRlIiksbz1uKCI5YmYyIiksaT1uKCI1YzZjIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcz1yKGUpO3MgaW4gdD9vLmYodCxzLGkoMCxuKSk6dFtzXT1ufX0sIjg2MWQiOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiJvYmplY3QiPT09dHlwZW9mIHQ/bnVsbCE9PXQ6ImZ1bmN0aW9uIj09PXR5cGVvZiB0fX0sODg3NTpmdW5jdGlvbih0LGUsbil7dmFyIHIsbyxpOyhmdW5jdGlvbihuLHMpe289W10scj1zLGk9ImZ1bmN0aW9uIj09PXR5cGVvZiByP3IuYXBwbHkoZSxvKTpyLHZvaWQgMD09PWl8fCh0LmV4cG9ydHM9aSl9KSgidW5kZWZpbmVkIiE9PXR5cGVvZiBzZWxmJiZzZWxmLChmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRvY3VtZW50LCJjdXJyZW50U2NyaXB0Iik7aWYoIWUmJiJjdXJyZW50U2NyaXB0ImluIGRvY3VtZW50JiZkb2N1bWVudC5jdXJyZW50U2NyaXB0KXJldHVybiBkb2N1bWVudC5jdXJyZW50U2NyaXB0O2lmKGUmJmUuZ2V0IT09dCYmZG9jdW1lbnQuY3VycmVudFNjcmlwdClyZXR1cm4gZG9jdW1lbnQuY3VycmVudFNjcmlwdDt0cnl7dGhyb3cgbmV3IEVycm9yfWNhdGNoKHApe3ZhciBuLHIsbyxpPS8uKmF0IFteKF0qXCgoLiopOiguKyk6KC4rKVwpJC9naSxzPS9AKFteQF0qKTooXGQrKTooXGQrKVxzKiQvZ2ksYT1pLmV4ZWMocC5zdGFjayl8fHMuZXhlYyhwLnN0YWNrKSxjPWEmJmFbMV18fCExLGw9YSYmYVsyXXx8ITEsdT1kb2N1bWVudC5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoZG9jdW1lbnQubG9jYXRpb24uaGFzaCwiIiksZj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0Iik7Yz09PXUmJihuPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUwscj1uZXcgUmVnRXhwKCIoPzpbXlxcbl0rP1xcbil7MCwiKyhsLTIpKyJ9W148XSo8c2NyaXB0PihbXFxkXFxEXSo/KTxcXC9zY3JpcHQ+W1xcZFxcRF0qIiwiaSIpLG89bi5yZXBsYWNlKHIsIiQxIikudHJpbSgpKTtmb3IodmFyIGQ9MDtkPGYubGVuZ3RoO2QrKyl7aWYoImludGVyYWN0aXZlIj09PWZbZF0ucmVhZHlTdGF0ZSlyZXR1cm4gZltkXTtpZihmW2RdLnNyYz09PWMpcmV0dXJuIGZbZF07aWYoYz09PXUmJmZbZF0uaW5uZXJIVE1MJiZmW2RdLmlubmVySFRNTC50cmltKCk9PT1vKXJldHVybiBmW2RdfXJldHVybiBudWxsfX1yZXR1cm4gdH0pKX0sODkyNTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiYzZjZCIpLG89RnVuY3Rpb24udG9TdHJpbmc7ImZ1bmN0aW9uIiE9dHlwZW9mIHIuaW5zcGVjdFNvdXJjZSYmKHIuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gby5jYWxsKHQpfSksdC5leHBvcnRzPXIuaW5zcGVjdFNvdXJjZX0sIjhiYmYiOmZ1bmN0aW9uKGUsbil7ZS5leHBvcnRzPXR9LCI5MGUzIjpmdW5jdGlvbih0LGUpe3ZhciBuPTAscj1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4iU3ltYm9sKCIrU3RyaW5nKHZvaWQgMD09PXQ/IiI6dCkrIilfIisoKytuK3IpLnRvU3RyaW5nKDM2KX19LDkxMTI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjgzYWIiKSxvPW4oIjliZjIiKSxpPW4oIjVjNmMiKTt0LmV4cG9ydHM9cj9mdW5jdGlvbih0LGUsbil7cmV0dXJuIG8uZih0LGUsaSgxLG4pKX06ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW4sdH19LCI5MmNmIjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5mfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmZ9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xNy43ODYgMy43N2ExMi41NDIgMTIuNTQyIDAgMDAtMTIuOTY1LS44NjUuMjQ5LjI0OSAwIDAxLS4yOTItLjA0NUwxLjkzNy4yNjlBLjUwNy41MDcgMCAwMDEuMzkyLjE2YS41LjUgMCAwMC0uMzA4LjQ2MnY2LjdhLjUuNSAwIDAwLjUuNWg2LjdhLjUuNSAwIDAwLjM1NC0uODU0TDYuNzgzIDUuMTE1YS4yNTMuMjUzIDAgMDEtLjA2OC0uMjI4LjI0OS4yNDkgMCAwMS4xNTItLjE4MSAxMCAxMCAwIDAxOS40NjYgMS4xIDkuNzU5IDkuNzU5IDAgMDEuMDk0IDE1LjgwOSAxLjI1IDEuMjUgMCAwMDEuNDczIDIuMDE2IDEyLjEyMiAxMi4xMjIgMCAwMDUuMDEzLTkuOTYxIDEyLjEyNSAxMi4xMjUgMCAwMC01LjEyNy05Ljl6In19KV0pKX19fSwiOTRjYSI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImQwMzkiKSxvPS8jfFwucHJvdG90eXBlXC4vLGk9ZnVuY3Rpb24odCxlKXt2YXIgbj1hW3ModCldO3JldHVybiBuPT1sfHxuIT1jJiYoImZ1bmN0aW9uIj09dHlwZW9mIGU/cihlKTohIWUpfSxzPWkubm9ybWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBTdHJpbmcodCkucmVwbGFjZShvLCIuIikudG9Mb3dlckNhc2UoKX0sYT1pLmRhdGE9e30sYz1pLk5BVElWRT0iTiIsbD1pLlBPTFlGSUxMPSJQIjt0LmV4cG9ydHM9aX0sIjk4NmQiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciByPW4oIjUzMTMiKSxvPW4oIjMwNGEiKSxpPW4oIjU1YmUiKSxzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1GKHQpKGUuc2VsZWN0aW9uKTtyZXR1cm4gbj9rKG4ucG9zKShlKTplfX0sYT1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pO2Zvcih2YXIgcj0wLG89dC5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9Rih0W3JdKShuLnNlbGVjdGlvbik7aWYoaSl7dmFyIHM9UyhpLnBvcyxlKShuKTtpZihzIT09bilyZXR1cm4gc319cmV0dXJuIG59fSxjPWZ1bmN0aW9uKHQpe2lmKHkodC5zZWxlY3Rpb24pKXt2YXIgZT10LnNlbGVjdGlvbi4kZnJvbS5wb3Msbj10LnNlbGVjdGlvbi4kdG8ucG9zO3JldHVybiB3KHQuZGVsZXRlKGUsbikpfXJldHVybiB0fSxsPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtpZih5KGUuc2VsZWN0aW9uKSl7dmFyIG49ZS5zZWxlY3Rpb24saT1uLiRmcm9tLHM9bi4kdG87aWYodCBpbnN0YW5jZW9mIG8uRnJhZ21lbnQmJmkucGFyZW50LmNhblJlcGxhY2UoaS5pbmRleCgpLGkuaW5kZXhBZnRlcigpLHQpfHxpLnBhcmVudC5jYW5SZXBsYWNlV2l0aChpLmluZGV4KCksaS5pbmRleEFmdGVyKCksdC50eXBlKSlyZXR1cm4gdyhlLnJlcGxhY2VXaXRoKGkucG9zLHMucG9zLHQpLnNldFNlbGVjdGlvbihuZXcgci5Ob2RlU2VsZWN0aW9uKGUuZG9jLnJlc29sdmUoaS5wb3MpKSkpfXJldHVybiBlfX0sdT1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG89ci5TZWxlY3Rpb24uZmluZEZyb20obi5kb2MucmVzb2x2ZSh0KSxlLCEwKTtyZXR1cm4gbz9uLnNldFNlbGVjdGlvbihvKTpufX0sZj1mdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlJiZ0LnR5cGUuc3BlYy5zZWxlY3RhYmxlfSxkPWZ1bmN0aW9uKHQpe3JldHVybiBmKHQpJiZ0LnR5cGUuaXNMZWFmfSxwPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZCh0KT9uLnNldFNlbGVjdGlvbihuZXcgci5Ob2RlU2VsZWN0aW9uKG4uZG9jLnJlc29sdmUoZSkpKTp1KGUpKG4pfSxoPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIG89Im51bWJlciI9PT10eXBlb2YgZSxpPXIuc2VsZWN0aW9uLiRmcm9tLHM9bz9yLmRvYy5yZXNvbHZlKGUpOnkoci5zZWxlY3Rpb24pP3IuZG9jLnJlc29sdmUoaS5wb3MrMSk6aSxjPXMucGFyZW50O2lmKHkoci5zZWxlY3Rpb24pJiZuKXt2YXIgdT1yO2lmKHI9bCh0KShyKSx1IT09cilyZXR1cm4gcn1pZihNKGMpKXt2YXIgZD1yO2lmKHI9YShjLnR5cGUsdCkociksZCE9PXIpe3ZhciBoPWYodCk/cy5iZWZvcmUocy5kZXB0aCk6cy5wb3M7cmV0dXJuIHAodCxoLHIpfX1pZihDKHMsdCkpe3IuaW5zZXJ0KHMucG9zLHQpO3ZhciB2PW8/cy5wb3M6Zih0KT9yLnNlbGVjdGlvbi4kYW5jaG9yLnBvcy0xOnIuc2VsZWN0aW9uLiRhbmNob3IucG9zO3JldHVybiB3KHAodCx2LHIpKX1mb3IodmFyIG09cy5kZXB0aDttPjA7bS0tKXt2YXIgZz1zLmFmdGVyKG0pLGI9ci5kb2MucmVzb2x2ZShnKTtpZihDKGIsdCkpcmV0dXJuIHIuaW5zZXJ0KGcsdCksdyhwKHQsZyxyKSl9cmV0dXJuIHJ9fSx2PWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBmdW5jdGlvbihvKXt2YXIgaT1GKHQpKG8uc2VsZWN0aW9uKTtyZXR1cm4gaT93KG8uc2V0Tm9kZU1hcmt1cChpLnBvcyxlLE9iamVjdC5hc3NpZ24oe30saS5ub2RlLmF0dHJzLG4pLHIpKTpvfX0sbT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoIXkoZS5zZWxlY3Rpb24pKXt2YXIgbj1GKHQpKGUuc2VsZWN0aW9uKTtpZihuKXJldHVybiB3KGUuc2V0U2VsZWN0aW9uKHIuTm9kZVNlbGVjdGlvbi5jcmVhdGUoZS5kb2Msbi5wb3MpKSl9cmV0dXJuIGV9fSxnPWZ1bmN0aW9uKHQpe3ZhciBlPVcodC5zZWxlY3Rpb24pO3JldHVybiJudW1iZXIiPT09dHlwZW9mIGU/ayhlKSh0KTp0fSx5PWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygci5Ob2RlU2VsZWN0aW9ufSxiPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCkmJnQuaW5kZXhPZihlLnR5cGUpPi0xfHxlLnR5cGU9PT10fSx3PWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUodCksdCkuc2V0VGltZShEYXRlLm5vdygpKX0sUz1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgcj1uLmRvYy5ub2RlQXQodCksbz1uLmRvYy5yZXNvbHZlKHQpO2lmKHgobyxlKSl7bj1uLnJlcGxhY2VXaXRoKHQsdCtyLm5vZGVTaXplLGUpO3ZhciBpPW4uc2VsZWN0aW9uLiRmcm9tLnBvcy0xO3JldHVybiBuPXUoTWF0aC5tYXgoaSwwKSwtMSkobiksbj11KG4uc2VsZWN0aW9uLiRmcm9tLnN0YXJ0KCkpKG4pLHcobil9cmV0dXJuIG59fSx4PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5ub2RlKHQuZGVwdGgpO3JldHVybiBuJiZuLnR5cGUudmFsaWRDb250ZW50KGUgaW5zdGFuY2VvZiBvLkZyYWdtZW50P2U6by5GcmFnbWVudC5mcm9tKGUpKX0saz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49ZS5kb2Mubm9kZUF0KHQpO3JldHVybiB3KGUuZGVsZXRlKHQsdCtuLm5vZGVTaXplKSl9fSxPPWZ1bmN0aW9uKHQpe2lmKHQuY2FjaGVkLnRhYmxlTm9kZVR5cGVzKXJldHVybiB0LmNhY2hlZC50YWJsZU5vZGVUeXBlczt2YXIgZT17fTtyZXR1cm4gT2JqZWN0LmtleXModC5ub2RlcykuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIHI9dC5ub2Rlc1tuXTtyLnNwZWMudGFibGVSb2xlJiYoZVtyLnNwZWMudGFibGVSb2xlXT1yKX0pKSx0LmNhY2hlZC50YWJsZU5vZGVUeXBlcz1lLGV9LEM9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmluZGV4KCk7cmV0dXJuIGUgaW5zdGFuY2VvZiBvLkZyYWdtZW50P3QucGFyZW50LmNhblJlcGxhY2UobixuLGUpOmUgaW5zdGFuY2VvZiBvLk5vZGUmJnQucGFyZW50LmNhblJlcGxhY2VXaXRoKG4sbixlLnR5cGUpfSxNPWZ1bmN0aW9uKHQpe3JldHVybiF0fHwicGFyYWdyYXBoIj09PXQudHlwZS5uYW1lJiYyPT09dC5ub2RlU2l6ZX0sTj1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlLnNwZWMudGFibGVSb2xlJiYvdGFibGUvaS50ZXN0KHQudHlwZS5zcGVjLnRhYmxlUm9sZSl9O3JldHVybiAkKHQsZSl9LFQ9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGw7cmV0dXJuIGU/dC5jcmVhdGVDaGVja2VkKG51bGwsZSk6dC5jcmVhdGVBbmRGaWxsKCl9LEE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Zvcih2YXIgbj1pLlRhYmxlTWFwLmdldChlLiRhbmNob3JDZWxsLm5vZGUoLTEpKSxyPWUuJGFuY2hvckNlbGwuc3RhcnQoLTEpLG89bi5jZWxsc0luUmVjdCh0KSxzPW4uY2VsbHNJblJlY3Qobi5yZWN0QmV0d2VlbihlLiRhbmNob3JDZWxsLnBvcy1yLGUuJGhlYWRDZWxsLnBvcy1yKSksYT0wLGM9by5sZW5ndGg7YTxjO2ErKylpZigtMT09PXMuaW5kZXhPZihvW2FdKSlyZXR1cm4hMTtyZXR1cm4hMH19LEQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRbMF0ubWFwKChmdW5jdGlvbihlLG4pe3JldHVybiB0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbbl19KSl9KSl9LEU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWkuVGFibGVNYXAuZ2V0KHQpLG49W10scj0wO3I8ZS5oZWlnaHQ7cisrKXtmb3IodmFyIG89W10scz17fSxhPTA7YTxlLndpZHRoO2ErKyl7dmFyIGM9ZS5tYXBbciplLndpZHRoK2FdLGw9dC5ub2RlQXQoYyksdT1lLmZpbmRDZWxsKGMpO3NbY118fHUudG9wIT09cj9vLnB1c2gobnVsbCk6KHNbY109ITAsby5wdXNoKGwpKX1uLnB1c2gobyl9cmV0dXJuIG59LFI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10scj1pLlRhYmxlTWFwLmdldCh0KSxvPTA7bzxyLmhlaWdodDtvKyspe2Zvcih2YXIgcz10LmNoaWxkKG8pLGE9W10sYz0wO2M8ci53aWR0aDtjKyspaWYoZVtvXVtjXSl7dmFyIGw9ci5tYXBbbypyLndpZHRoK2NdLHU9ZVtvXVtjXSxmPXQubm9kZUF0KGwpLGQ9Zi50eXBlLmNyZWF0ZUNoZWNrZWQoT2JqZWN0LmFzc2lnbih7fSx1LmF0dHJzKSx1LmNvbnRlbnQsdS5tYXJrcyk7YS5wdXNoKGQpfW4ucHVzaChzLnR5cGUuY3JlYXRlQ2hlY2tlZChzLmF0dHJzLGEscy5tYXJrcykpfXZhciBwPXQudHlwZS5jcmVhdGVDaGVja2VkKHQuYXR0cnMsbix0Lm1hcmtzKTtyZXR1cm4gcH0sXz1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz1EKEUodC5ub2RlKSk7cmV0dXJuIG89eihvLGUsbixyKSxvPUQobyksUih0Lm5vZGUsbyl9LFA9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89RSh0Lm5vZGUpO3JldHVybiBvPXoobyxlLG4sciksUih0Lm5vZGUsbyl9LHo9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89ZVswXT5uWzBdPy0xOjEsaT10LnNwbGljZShlWzBdLGUubGVuZ3RoKSxzPWkubGVuZ3RoJTI9PT0wPzE6MCxhPXZvaWQgMDtyZXR1cm4gYT0tMT09PXImJjE9PT1vP25bMF0tMToxPT09ciYmLTE9PT1vP25bbi5sZW5ndGgtMV0tcysxOi0xPT09bz9uWzBdOm5bbi5sZW5ndGgtMV0tcyx0LnNwbGljZS5hcHBseSh0LFthLDBdLmNvbmNhdChpKSksdH0sST1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10PmU/LTE6MSxpPSJUYXJnZXQgcG9zaXRpb24gaXMgaW52YWxpZCwgeW91IGNhbid0IG1vdmUgdGhlICIrcisiICIrdCsiIHRvICIrZSsiLCB0aGUgdGFyZ2V0IGNhbid0IGJlIHNwbGl0LiBZb3UgY291bGQgdXNlIHRyeVRvRml0IG9wdGlvbi4iO2lmKDE9PT1vKXtpZigtMSE9PW4uc2xpY2UoMCxuLmxlbmd0aC0xKS5pbmRleE9mKGUpKXRocm93IG5ldyBFcnJvcihpKX1lbHNlIGlmKC0xIT09bi5zbGljZSgxKS5pbmRleE9mKGUpKXRocm93IG5ldyBFcnJvcihpKTtyZXR1cm4hMH0saj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49ZS4kZnJvbTtyZXR1cm4gJChuLHQpfX0sJD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LmRlcHRoO24+MDtuLS0pe3ZhciByPXQubm9kZShuKTtpZihlKHIpKXJldHVybntwb3M6bj4wP3QuYmVmb3JlKG4pOjAsc3RhcnQ6dC5zdGFydChuKSxkZXB0aDpuLG5vZGU6cn19fSxWPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciByPWoodCkobik7aWYocilyZXR1cm4gSihyLnBvcyxlKX19LEI9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiEhaih0KShlKX19LEY9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBqKChmdW5jdGlvbihlKXtyZXR1cm4gYih0LGUpfSkpKGUpfX0sTD1mdW5jdGlvbih0LGUpe3JldHVybiAkKHQsKGZ1bmN0aW9uKHQpe3JldHVybiBiKGUsdCl9KSl9LEg9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBCKChmdW5jdGlvbihlKXtyZXR1cm4gYih0LGUpfSkpKGUpfX0scT1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gVigoZnVuY3Rpb24oZSl7cmV0dXJuIGIodCxlKX0pLGUpKG4pfX0sSz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoeShlKSl7dmFyIG49ZS5ub2RlLHI9ZS4kZnJvbTtpZihiKHQsbikpcmV0dXJue25vZGU6bixwb3M6ci5wb3MsZGVwdGg6ci5kZXB0aH19fX0sVz1mdW5jdGlvbih0KXt2YXIgZT10LiRmcm9tLm5vZGVCZWZvcmUsbj1yLlNlbGVjdGlvbi5maW5kRnJvbSh0LiRmcm9tLC0xKTtpZihuJiZlKXt2YXIgbz1GKGUudHlwZSkobik7cmV0dXJuIG8/by5wb3M6bi4kZnJvbS5wb3N9fSxKPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZSh0KSxyPW4ubm9kZS5jaGlsZE5vZGVzW24ub2Zmc2V0XTtyZXR1cm4gbi5ub2RlLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREU/bi5ub2RlLnBhcmVudE5vZGU6ciYmci5ub2RlVHlwZSE9PU5vZGUuVEVYVF9OT0RFP3I6bi5ub2RlfSxVPWZ1bmN0aW9uKHQpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07aWYoIXQpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkICJub2RlIiBwYXJhbWV0ZXInKTt2YXIgbj1bXTtyZXR1cm4gdC5kZXNjZW5kYW50cygoZnVuY3Rpb24odCxyKXtpZihuLnB1c2goe25vZGU6dCxwb3M6cn0pLCFlKXJldHVybiExfSkpLG59LEc9ZnVuY3Rpb24odCxlLG4pe2lmKCF0KXRocm93IG5ldyBFcnJvcignSW52YWxpZCAibm9kZSIgcGFyYW1ldGVyJyk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkICJwcmVkaWNhdGUiIHBhcmFtZXRlcicpO3JldHVybiBVKHQsbikuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZSh0Lm5vZGUpfSkpfSxYPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEcodCwoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNUZXh0fSksZSl9LFk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gRyh0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5pc0lubGluZX0pLGUpfSxaPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEcodCwoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNCbG9ja30pLGUpfSxRPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gRyh0LChmdW5jdGlvbih0KXtyZXR1cm4hIWUodC5hdHRycyl9KSxuKX0sdHQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBHKHQsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PT1lfSksbil9LGV0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gRyh0LChmdW5jdGlvbih0KXtyZXR1cm4gZS5pc0luU2V0KHQubWFya3MpfSksbil9LG50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuISF0dCh0LGUpLmxlbmd0aH07ZnVuY3Rpb24gcnQodCl7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBlPTAsbj1BcnJheSh0Lmxlbmd0aCk7ZTx0Lmxlbmd0aDtlKyspbltlXT10W2VdO3JldHVybiBufXJldHVybiBBcnJheS5mcm9tKHQpfXZhciBvdD1mdW5jdGlvbih0KXtyZXR1cm4gaigoZnVuY3Rpb24odCl7cmV0dXJuIHQudHlwZS5zcGVjLnRhYmxlUm9sZSYmInRhYmxlIj09PXQudHlwZS5zcGVjLnRhYmxlUm9sZX0pKSh0KX0saXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBpLkNlbGxTZWxlY3Rpb259LHN0PWZ1bmN0aW9uKHQpe2lmKGl0KHQpKXt2YXIgZT10LiRhbmNob3JDZWxsLnN0YXJ0KC0xKSxuPWkuVGFibGVNYXAuZ2V0KHQuJGFuY2hvckNlbGwubm9kZSgtMSkpO3JldHVybiBuLnJlY3RCZXR3ZWVuKHQuJGFuY2hvckNlbGwucG9zLWUsdC4kaGVhZENlbGwucG9zLWUpfX0sYXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKGl0KGUpKXt2YXIgbj1pLlRhYmxlTWFwLmdldChlLiRhbmNob3JDZWxsLm5vZGUoLTEpKTtyZXR1cm4gQSh7bGVmdDp0LHJpZ2h0OnQrMSx0b3A6MCxib3R0b206bi5oZWlnaHR9KShlKX1yZXR1cm4hMX19LGN0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihpdChlKSl7dmFyIG49aS5UYWJsZU1hcC5nZXQoZS4kYW5jaG9yQ2VsbC5ub2RlKC0xKSk7cmV0dXJuIEEoe2xlZnQ6MCxyaWdodDpuLndpZHRoLHRvcDp0LGJvdHRvbTp0KzF9KShlKX1yZXR1cm4hMX19LGx0PWZ1bmN0aW9uKHQpe2lmKGl0KHQpKXt2YXIgZT1pLlRhYmxlTWFwLmdldCh0LiRhbmNob3JDZWxsLm5vZGUoLTEpKTtyZXR1cm4gQSh7bGVmdDowLHJpZ2h0OmUud2lkdGgsdG9wOjAsYm90dG9tOmUuaGVpZ2h0fSkodCl9cmV0dXJuITF9LHV0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1vdChlKTtpZihuKXt2YXIgcj1pLlRhYmxlTWFwLmdldChuLm5vZGUpLG89QXJyYXkuaXNBcnJheSh0KT90OkFycmF5LmZyb20oW3RdKTtyZXR1cm4gby5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7aWYoZT49MCYmZTw9ci53aWR0aC0xKXt2YXIgbz1yLmNlbGxzSW5SZWN0KHtsZWZ0OmUscmlnaHQ6ZSsxLHRvcDowLGJvdHRvbTpyLmhlaWdodH0pO3JldHVybiB0LmNvbmNhdChvLm1hcCgoZnVuY3Rpb24odCl7dmFyIGU9bi5ub2RlLm5vZGVBdCh0KSxyPXQrbi5zdGFydDtyZXR1cm57cG9zOnIsc3RhcnQ6cisxLG5vZGU6ZX19KSkpfX0pLFtdKX19fSxmdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49b3QoZSk7aWYobil7dmFyIHI9aS5UYWJsZU1hcC5nZXQobi5ub2RlKSxvPUFycmF5LmlzQXJyYXkodCk/dDpBcnJheS5mcm9tKFt0XSk7cmV0dXJuIG8ucmVkdWNlKChmdW5jdGlvbih0LGUpe2lmKGU+PTAmJmU8PXIuaGVpZ2h0LTEpe3ZhciBvPXIuY2VsbHNJblJlY3Qoe2xlZnQ6MCxyaWdodDpyLndpZHRoLHRvcDplLGJvdHRvbTplKzF9KTtyZXR1cm4gdC5jb25jYXQoby5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBlPW4ubm9kZS5ub2RlQXQodCkscj10K24uc3RhcnQ7cmV0dXJue3BvczpyLHN0YXJ0OnIrMSxub2RlOmV9fSkpKX19KSxbXSl9fX0sZHQ9ZnVuY3Rpb24odCl7dmFyIGU9b3QodCk7aWYoZSl7dmFyIG49aS5UYWJsZU1hcC5nZXQoZS5ub2RlKSxyPW4uY2VsbHNJblJlY3Qoe2xlZnQ6MCxyaWdodDpuLndpZHRoLHRvcDowLGJvdHRvbTpuLmhlaWdodH0pO3JldHVybiByLm1hcCgoZnVuY3Rpb24odCl7dmFyIG49ZS5ub2RlLm5vZGVBdCh0KSxyPXQrZS5zdGFydDtyZXR1cm57cG9zOnIsc3RhcnQ6cisxLG5vZGU6bn19KSl9fSxwdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIG89b3Qoci5zZWxlY3Rpb24pLHM9InJvdyI9PT10O2lmKG8pe3ZhciBhPWkuVGFibGVNYXAuZ2V0KG8ubm9kZSk7aWYoZT49MCYmZTwocz9hLmhlaWdodDphLndpZHRoKSl7dmFyIGM9cz8wOmUsbD1zP2U6MCx1PXM/YS53aWR0aDplKzEsZj1zP2UrMTphLmhlaWdodDtpZihuKXt2YXIgZD1QdChyLnNlbGVjdGlvbi4kZnJvbSk7aWYoIWQpcmV0dXJuIHI7dmFyIHA9YS5maW5kQ2VsbChkLnBvcy1vLnN0YXJ0KTtzPyhsPU1hdGgubWluKGwscC50b3ApLGY9TWF0aC5tYXgoZixwLmJvdHRvbSkpOihjPU1hdGgubWluKGMscC5sZWZ0KSx1PU1hdGgubWF4KHUscC5yaWdodCkpfXZhciBoPWEuY2VsbHNJblJlY3Qoe2xlZnQ6Yyx0b3A6bCxyaWdodDpzP3U6YysxLGJvdHRvbTpzP2wrMTpmfSksdj1mLWw9PT0xP2g6YS5jZWxsc0luUmVjdCh7bGVmdDpzP2M6dS0xLHRvcDpzP2YtMTpsLHJpZ2h0OnUsYm90dG9tOmZ9KSxtPW8uc3RhcnQraFswXSxnPW8uc3RhcnQrdlt2Lmxlbmd0aC0xXSx5PXIuZG9jLnJlc29sdmUobSksYj1yLmRvYy5yZXNvbHZlKGcpO3JldHVybiB3KHIuc2V0U2VsZWN0aW9uKG5ldyBpLkNlbGxTZWxlY3Rpb24oYix5KSkpfX1yZXR1cm4gcn19fSxodD1wdCgiY29sdW1uIiksdnQ9cHQoInJvdyIpLG10PWZ1bmN0aW9uKHQpe3ZhciBlPW90KHQuc2VsZWN0aW9uKTtpZihlKXt2YXIgbj1pLlRhYmxlTWFwLmdldChlLm5vZGUpLHI9bi5tYXA7aWYociYmci5sZW5ndGgpe3ZhciBvPWUuc3RhcnQrclswXSxzPWUuc3RhcnQrcltyLmxlbmd0aC0xXSxhPXQuZG9jLnJlc29sdmUobyksYz10LmRvYy5yZXNvbHZlKHMpO3JldHVybiB3KHQuc2V0U2VsZWN0aW9uKG5ldyBpLkNlbGxTZWxlY3Rpb24oYyxhKSkpfX1yZXR1cm4gdH0sZ3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7aWYodCl7dmFyIHI9TyhlKS5jZWxsLmNyZWF0ZUFuZEZpbGwoKSxvPXIuY29udGVudDtpZighdC5ub2RlLmNvbnRlbnQuZXEobykpcmV0dXJuIG4ucmVwbGFjZVdpdGgodC5wb3MrMSx0LnBvcyt0Lm5vZGUubm9kZVNpemUsbyksdyhuKX1yZXR1cm4gbn19LHl0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1vdChlLnNlbGVjdGlvbik7aWYobil7dmFyIHI9aS5UYWJsZU1hcC5nZXQobi5ub2RlKTtpZih0Pj0wJiZ0PD1yLndpZHRoKXJldHVybiB3KGkuYWRkQ29sdW1uKGUse21hcDpyLHRhYmxlU3RhcnQ6bi5zdGFydCx0YWJsZTpuLm5vZGV9LHQpKX1yZXR1cm4gZX19LGJ0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIG89e3RyeVRvRml0OiExLGRpcmVjdGlvbjowfSxpPU9iamVjdC5hc3NpZ24obyxuKSxzPW90KHIuc2VsZWN0aW9uKTtpZighcylyZXR1cm4gcjt2YXIgYT0kdCh0KShyKSxjPWEuaW5kZXhlcyxsPSR0KGUpKHIpLHU9bC5pbmRleGVzO2lmKGMuaW5kZXhPZihlKT4tMSlyZXR1cm4gcjshaS50cnlUb0ZpdCYmdS5sZW5ndGg+MSYmSSh0LGUsdSwicm93Iik7dmFyIGY9UChzLGMsdSxpLmRpcmVjdGlvbik7cmV0dXJuIHcocikucmVwbGFjZVdpdGgocy5wb3Mscy5wb3Mrcy5ub2RlLm5vZGVTaXplLGYpfX0sd3Q9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbihyKXt2YXIgbz17dHJ5VG9GaXQ6ITEsZGlyZWN0aW9uOjB9LGk9T2JqZWN0LmFzc2lnbihvLG4pLHM9b3Qoci5zZWxlY3Rpb24pO2lmKCFzKXJldHVybiByO3ZhciBhPWp0KHQpKHIpLGM9YS5pbmRleGVzLGw9anQoZSkociksdT1sLmluZGV4ZXM7aWYoYy5pbmRleE9mKGUpPi0xKXJldHVybiByOyFpLnRyeVRvRml0JiZ1Lmxlbmd0aD4xJiZJKHQsZSx1LCJjb2x1bW4iKTt2YXIgZj1fKHMsYyx1LGkuZGlyZWN0aW9uKTtyZXR1cm4gdyhyKS5yZXBsYWNlV2l0aChzLnBvcyxzLnBvcytzLm5vZGUubm9kZVNpemUsZil9fSxTdD1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgcj1vdChuLnNlbGVjdGlvbik7aWYocil7dmFyIG89aS5UYWJsZU1hcC5nZXQoci5ub2RlKSxzPXQtMTtpZihlJiZzPj0wKXJldHVybiB3KHh0KHMpKG4pKTtpZih0Pj0wJiZ0PD1vLmhlaWdodClyZXR1cm4gdyhpLmFkZFJvdyhuLHttYXA6byx0YWJsZVN0YXJ0OnIuc3RhcnQsdGFibGU6ci5ub2RlfSx0KSl9cmV0dXJuIG59fSx4dD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49b3QoZS5zZWxlY3Rpb24pO2lmKG4pe3ZhciByPWkuVGFibGVNYXAuZ2V0KG4ubm9kZSk7aWYodD49MCYmdDw9ci5oZWlnaHQpe2Zvcih2YXIgbz1uLm5vZGUscz1PKG8udHlwZS5zY2hlbWEpLGE9bi5zdGFydCxjPTA7Yzx0KzE7YysrKWErPW8uY2hpbGQoYykubm9kZVNpemU7dmFyIGw9by5jaGlsZCh0KSx1PVtdLGY9MDtpZihsLmZvckVhY2goKGZ1bmN0aW9uKHQpezE9PT10LmF0dHJzLnJvd3NwYW4mJihmKz10LmF0dHJzLmNvbHNwYW4sdS5wdXNoKHNbdC50eXBlLnNwZWMudGFibGVSb2xlXS5jcmVhdGVBbmRGaWxsKHQuYXR0cnMsdC5tYXJrcykpKX0pKSxmPHIud2lkdGgpe2Zvcih2YXIgZD1bXSxwPWZ1bmN0aW9uKG4pe3ZhciByPUl0KG4sKGZ1bmN0aW9uKGUscil7dmFyIG89ZS5ub2RlLmF0dHJzLnJvd3NwYW4saT1uK287cmV0dXJuIG8+MSYmaT50fSkpKGUpO2QucHVzaC5hcHBseShkLHJ0KHIpKX0sdj10O3Y+PTA7di0tKXAodik7ZC5sZW5ndGgmJmQuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZT1SdCh0LHtyb3dzcGFuOnQubm9kZS5hdHRycy5yb3dzcGFuKzF9KShlKX0pKX1yZXR1cm4gaChzLnJvdy5jcmVhdGUobC5hdHRycyx1KSxhKShlKX19cmV0dXJuIGV9fSxrdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49b3QoZS5zZWxlY3Rpb24pO2lmKG4pe3ZhciByPWkuVGFibGVNYXAuZ2V0KG4ubm9kZSk7aWYoMD09PXQmJjE9PT1yLndpZHRoKXJldHVybiBDdChlKTtpZih0Pj0wJiZ0PD1yLndpZHRoKXJldHVybiBpLnJlbW92ZUNvbHVtbihlLHttYXA6cix0YWJsZVN0YXJ0Om4uc3RhcnQsdGFibGU6bi5ub2RlfSx0KSx3KGUpfXJldHVybiBlfX0sT3Q9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPW90KGUuc2VsZWN0aW9uKTtpZihuKXt2YXIgcj1pLlRhYmxlTWFwLmdldChuLm5vZGUpO2lmKDA9PT10JiYxPT09ci5oZWlnaHQpcmV0dXJuIEN0KGUpO2lmKHQ+PTAmJnQ8PXIuaGVpZ2h0KXJldHVybiBpLnJlbW92ZVJvdyhlLHttYXA6cix0YWJsZVN0YXJ0Om4uc3RhcnQsdGFibGU6bi5ub2RlfSx0KSx3KGUpfXJldHVybiBlfX0sQ3Q9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuc2VsZWN0aW9uLiRmcm9tLG49ZS5kZXB0aDtuPjA7bi0tKXt2YXIgcj1lLm5vZGUobik7aWYoInRhYmxlIj09PXIudHlwZS5zcGVjLnRhYmxlUm9sZSlyZXR1cm4gdyh0LmRlbGV0ZShlLmJlZm9yZShuKSxlLmFmdGVyKG4pKSl9cmV0dXJuIHR9LE10PWZ1bmN0aW9uKHQpe3ZhciBlPXQuc2VsZWN0aW9uO2lmKGx0KGUpKXJldHVybiBDdCh0KTtpZihpdChlKSl7dmFyIG49b3QoZSk7aWYobil7dmFyIHI9aS5UYWJsZU1hcC5nZXQobi5ub2RlKSxvPXIucmVjdEJldHdlZW4oZS4kYW5jaG9yQ2VsbC5wb3Mtbi5zdGFydCxlLiRoZWFkQ2VsbC5wb3Mtbi5zdGFydCk7aWYoMD09by5sZWZ0JiZvLnJpZ2h0PT1yLndpZHRoKXJldHVybiExO2Zvcih2YXIgcz1PYmplY3QuYXNzaWduKHt9LG8se21hcDpyLHRhYmxlOm4ubm9kZSx0YWJsZVN0YXJ0Om4uc3RhcnR9KSxhPXMucmlnaHQtMTs7YS0tKXtpZihpLnJlbW92ZUNvbHVtbih0LHMsYSksYT09PXMubGVmdClicmVhaztzLnRhYmxlPXMudGFibGVTdGFydD90LmRvYy5ub2RlQXQocy50YWJsZVN0YXJ0LTEpOnQuZG9jLHMubWFwPWkuVGFibGVNYXAuZ2V0KHMudGFibGUpfXJldHVybiB3KHQpfX1yZXR1cm4gdH0sTnQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5zZWxlY3Rpb247aWYobHQoZSkpcmV0dXJuIEN0KHQpO2lmKGl0KGUpKXt2YXIgbj1vdChlKTtpZihuKXt2YXIgcj1pLlRhYmxlTWFwLmdldChuLm5vZGUpLG89ci5yZWN0QmV0d2VlbihlLiRhbmNob3JDZWxsLnBvcy1uLnN0YXJ0LGUuJGhlYWRDZWxsLnBvcy1uLnN0YXJ0KTtpZigwPT1vLnRvcCYmby5ib3R0b209PXIuaGVpZ2h0KXJldHVybiExO2Zvcih2YXIgcz1PYmplY3QuYXNzaWduKHt9LG8se21hcDpyLHRhYmxlOm4ubm9kZSx0YWJsZVN0YXJ0Om4uc3RhcnR9KSxhPXMuYm90dG9tLTE7O2EtLSl7aWYoaS5yZW1vdmVSb3codCxzLGEpLGE9PT1zLnRvcClicmVhaztzLnRhYmxlPXMudGFibGVTdGFydD90LmRvYy5ub2RlQXQocy50YWJsZVN0YXJ0LTEpOnQuZG9jLHMubWFwPWkuVGFibGVNYXAuZ2V0KHMudGFibGUpfXJldHVybiB3KHQpfX1yZXR1cm4gdH0sVHQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPXp0KHQpO3JldHVybiBuP2t0KG4ubGVmdCkodSh0LnBvcykoZSkpOmV9fSxBdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49enQodCk7cmV0dXJuIG4/T3Qobi50b3ApKHUodC5wb3MpKGUpKTplfX0sRHQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbihvKXt2YXIgaT11dCh0KShvLnNlbGVjdGlvbik7aWYoaSl7Zm9yKHZhciBzPWkubGVuZ3RoLTE7cz49MDtzLS0pbz1lKGlbc10sbyk7aWYobil7dmFyIGE9by5kb2MucmVzb2x2ZShvLm1hcHBpbmcubWFwKGlbaS5sZW5ndGgtMV0ucG9zKSk7by5zZXRTZWxlY3Rpb24oci5TZWxlY3Rpb24ubmVhcihhKSl9cmV0dXJuIHcobyl9cmV0dXJuIG99fSxFdD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKG8pe3ZhciBpPWZ0KHQpKG8uc2VsZWN0aW9uKTtpZihpKXtmb3IodmFyIHM9aS5sZW5ndGgtMTtzPj0wO3MtLSlvPWUoaVtzXSxvKTtpZihuKXt2YXIgYT1vLmRvYy5yZXNvbHZlKG8ubWFwcGluZy5tYXAoaVtpLmxlbmd0aC0xXS5wb3MpKTtvLnNldFNlbGVjdGlvbihyLlNlbGVjdGlvbi5uZWFyKGEpKX19cmV0dXJuIG99fSxSdD1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdD8obi5zZXROb2RlTWFya3VwKHQucG9zLG51bGwsT2JqZWN0LmFzc2lnbih7fSx0Lm5vZGUuYXR0cnMsZSkpLHcobikpOm59fSxfdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjMsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MyxyPSEoYXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10pfHxhcmd1bWVudHNbM10sbz1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06bnVsbCxpPU8odCkscz1pLmNlbGwsYT1pLmhlYWRlcl9jZWxsLGM9aS5yb3csbD1pLnRhYmxlLHU9W10sZj1bXSxkPTA7ZDxuO2QrKyl1LnB1c2goVChzLG8pKSxyJiZmLnB1c2goVChhLG8pKTtmb3IodmFyIHA9W10saD0wO2g8ZTtoKyspcC5wdXNoKGMuY3JlYXRlQ2hlY2tlZChudWxsLHImJjA9PT1oP2Y6dSkpO3JldHVybiBsLmNyZWF0ZUNoZWNrZWQobnVsbCxwKX0sUHQ9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQudHlwZS5zcGVjLnRhYmxlUm9sZSYmL2NlbGwvaS50ZXN0KHQudHlwZS5zcGVjLnRhYmxlUm9sZSl9O3JldHVybiAkKHQsZSl9LHp0PWZ1bmN0aW9uKHQpe3ZhciBlPVB0KHQpO2lmKGUpe3ZhciBuPU4odCkscj1pLlRhYmxlTWFwLmdldChuLm5vZGUpLG89ZS5wb3Mtbi5zdGFydDtyZXR1cm4gci5yZWN0QmV0d2VlbihvLG8pfX0sSXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHI9W10sbz1mdCh0KShuLnNlbGVjdGlvbik7aWYobylmb3IodmFyIGk9by5sZW5ndGgtMTtpPj0wO2ktLSllKG9baV0sbikmJnIucHVzaChvW2ldKTtyZXR1cm4gcn19LGp0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIG49dCxyPXQsbz1mdW5jdGlvbih0KXt2YXIgbz11dCh0KShlLnNlbGVjdGlvbik7byYmby5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbz1lLm5vZGUuYXR0cnMuY29sc3Bhbit0LTE7bz49biYmKG49dCksbz5yJiYocj1vKX0pKX0saT10O2k+PTA7aS0tKW8oaSk7dmFyIHM9ZnVuY3Rpb24odCl7dmFyIG49dXQodCkoZS5zZWxlY3Rpb24pO24mJm4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZS5ub2RlLmF0dHJzLmNvbHNwYW4rdC0xO2Uubm9kZS5hdHRycy5jb2xzcGFuPjEmJm4+ciYmKHI9bil9KSl9O2ZvcihpPXQ7aTw9cjtpKyspcyhpKTt2YXIgYT1bXTtmb3IoaT1uO2k8PXI7aSsrKXt2YXIgYz11dChpKShlLnNlbGVjdGlvbik7YyYmYy5sZW5ndGgmJmEucHVzaChpKX1uPWFbMF0scj1hW2EubGVuZ3RoLTFdO2Zvcih2YXIgbD11dChuKShlLnNlbGVjdGlvbiksdT1mdCgwKShlLnNlbGVjdGlvbiksZj1lLmRvYy5yZXNvbHZlKGxbbC5sZW5ndGgtMV0ucG9zKSxkPXZvaWQgMCxwPXI7cD49bjtwLS0pe3ZhciBoPXV0KHApKGUuc2VsZWN0aW9uKTtpZihoJiZoLmxlbmd0aCl7Zm9yKHZhciB2PXUubGVuZ3RoLTE7dj49MDt2LS0paWYodVt2XS5wb3M9PT1oWzBdLnBvcyl7ZD1oWzBdO2JyZWFrfWlmKGQpYnJlYWt9fXZhciBtPWUuZG9jLnJlc29sdmUoZC5wb3MpO3JldHVybnskYW5jaG9yOmYsJGhlYWQ6bSxpbmRleGVzOmF9fX0sJHQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Zvcih2YXIgbj10LHI9dCxvPWZ1bmN0aW9uKHQpe3ZhciBvPWZ0KHQpKGUuc2VsZWN0aW9uKTtvLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBvPWUubm9kZS5hdHRycy5yb3dzcGFuK3QtMTtvPj1uJiYobj10KSxvPnImJihyPW8pfSkpfSxpPXQ7aT49MDtpLS0pbyhpKTt2YXIgcz1mdW5jdGlvbih0KXt2YXIgbj1mdCh0KShlLnNlbGVjdGlvbik7bi5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLm5vZGUuYXR0cnMucm93c3Bhbit0LTE7ZS5ub2RlLmF0dHJzLnJvd3NwYW4+MSYmbj5yJiYocj1uKX0pKX07Zm9yKGk9dDtpPD1yO2krKylzKGkpO3ZhciBhPVtdO2ZvcihpPW47aTw9cjtpKyspe3ZhciBjPWZ0KGkpKGUuc2VsZWN0aW9uKTtjJiZjLmxlbmd0aCYmYS5wdXNoKGkpfW49YVswXSxyPWFbYS5sZW5ndGgtMV07Zm9yKHZhciBsPWZ0KG4pKGUuc2VsZWN0aW9uKSx1PXV0KDApKGUuc2VsZWN0aW9uKSxmPWUuZG9jLnJlc29sdmUobFtsLmxlbmd0aC0xXS5wb3MpLGQ9dm9pZCAwLHA9cjtwPj1uO3AtLSl7dmFyIGg9ZnQocCkoZS5zZWxlY3Rpb24pO2lmKGgmJmgubGVuZ3RoKXtmb3IodmFyIHY9dS5sZW5ndGgtMTt2Pj0wO3YtLSlpZih1W3ZdLnBvcz09PWhbMF0ucG9zKXtkPWhbMF07YnJlYWt9aWYoZClicmVha319dmFyIG09ZS5kb2MucmVzb2x2ZShkLnBvcyk7cmV0dXJueyRhbmNob3I6ZiwkaGVhZDptLGluZGV4ZXM6YX19fTtlLmlzTm9kZVNlbGVjdGlvbj15LGUuY2FuSW5zZXJ0PUMsZS5jb252ZXJ0VGFibGVOb2RlVG9BcnJheU9mUm93cz1FLGUuY29udmVydEFycmF5T2ZSb3dzVG9UYWJsZU5vZGU9UixlLmZpbmRQYXJlbnROb2RlPWosZS5maW5kUGFyZW50Tm9kZUNsb3Nlc3RUb1Bvcz0kLGUuZmluZFBhcmVudERvbVJlZj1WLGUuaGFzUGFyZW50Tm9kZT1CLGUuZmluZFBhcmVudE5vZGVPZlR5cGU9RixlLmZpbmRQYXJlbnROb2RlT2ZUeXBlQ2xvc2VzdFRvUG9zPUwsZS5oYXNQYXJlbnROb2RlT2ZUeXBlPUgsZS5maW5kUGFyZW50RG9tUmVmT2ZUeXBlPXEsZS5maW5kU2VsZWN0ZWROb2RlT2ZUeXBlPUssZS5maW5kUG9zaXRpb25PZk5vZGVCZWZvcmU9VyxlLmZpbmREb21SZWZBdFBvcz1KLGUuZmxhdHRlbj1VLGUuZmluZENoaWxkcmVuPUcsZS5maW5kVGV4dE5vZGVzPVgsZS5maW5kSW5saW5lTm9kZXM9WSxlLmZpbmRCbG9ja05vZGVzPVosZS5maW5kQ2hpbGRyZW5CeUF0dHI9USxlLmZpbmRDaGlsZHJlbkJ5VHlwZT10dCxlLmZpbmRDaGlsZHJlbkJ5TWFyaz1ldCxlLmNvbnRhaW5zPW50LGUuZmluZFRhYmxlPW90LGUuaXNDZWxsU2VsZWN0aW9uPWl0LGUuZ2V0U2VsZWN0aW9uUmVjdD1zdCxlLmlzQ29sdW1uU2VsZWN0ZWQ9YXQsZS5pc1Jvd1NlbGVjdGVkPWN0LGUuaXNUYWJsZVNlbGVjdGVkPWx0LGUuZ2V0Q2VsbHNJbkNvbHVtbj11dCxlLmdldENlbGxzSW5Sb3c9ZnQsZS5nZXRDZWxsc0luVGFibGU9ZHQsZS5zZWxlY3RDb2x1bW49aHQsZS5zZWxlY3RSb3c9dnQsZS5zZWxlY3RUYWJsZT1tdCxlLmVtcHR5Q2VsbD1ndCxlLmFkZENvbHVtbkF0PXl0LGUubW92ZVJvdz1idCxlLm1vdmVDb2x1bW49d3QsZS5hZGRSb3dBdD1TdCxlLmNsb25lUm93QXQ9eHQsZS5yZW1vdmVDb2x1bW5BdD1rdCxlLnJlbW92ZVJvd0F0PU90LGUucmVtb3ZlVGFibGU9Q3QsZS5yZW1vdmVTZWxlY3RlZENvbHVtbnM9TXQsZS5yZW1vdmVTZWxlY3RlZFJvd3M9TnQsZS5yZW1vdmVDb2x1bW5DbG9zZXN0VG9Qb3M9VHQsZS5yZW1vdmVSb3dDbG9zZXN0VG9Qb3M9QXQsZS5mb3JFYWNoQ2VsbEluQ29sdW1uPUR0LGUuZm9yRWFjaENlbGxJblJvdz1FdCxlLnNldENlbGxBdHRycz1SdCxlLmNyZWF0ZVRhYmxlPV90LGUuZmluZENlbGxDbG9zZXN0VG9Qb3M9UHQsZS5maW5kQ2VsbFJlY3RDbG9zZXN0VG9Qb3M9enQsZS5nZXRTZWxlY3Rpb25SYW5nZUluQ29sdW1uPWp0LGUuZ2V0U2VsZWN0aW9uUmFuZ2VJblJvdz0kdCxlLnJlbW92ZVBhcmVudE5vZGVPZlR5cGU9cyxlLnJlcGxhY2VQYXJlbnROb2RlT2ZUeXBlPWEsZS5yZW1vdmVTZWxlY3RlZE5vZGU9YyxlLnJlcGxhY2VTZWxlY3RlZE5vZGU9bCxlLnNldFRleHRTZWxlY3Rpb249dSxlLnNhZmVJbnNlcnQ9aCxlLnNldFBhcmVudE5vZGVNYXJrdXA9dixlLnNlbGVjdFBhcmVudE5vZGVPZlR5cGU9bSxlLnJlbW92ZU5vZGVCZWZvcmU9Z30sIjliZGQiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI4MjVhIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLG8pe3RyeXtyZXR1cm4gbz9lKHIobilbMF0sblsxXSk6ZShuKX1jYXRjaChzKXt2YXIgaT10WyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1pJiZyKGkuY2FsbCh0KSksc319fSwiOWJmMiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjgzYWIiKSxvPW4oIjBjZmIiKSxpPW4oIjgyNWEiKSxzPW4oImMwNGUiKSxhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtlLmY9cj9hOmZ1bmN0aW9uKHQsZSxuKXtpZihpKHQpLGU9cyhlLCEwKSxpKG4pLG8pdHJ5e3JldHVybiBhKHQsZSxuKX1jYXRjaChyKXt9aWYoImdldCJpbiBufHwic2V0ImluIG4pdGhyb3cgVHlwZUVycm9yKCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCIpO3JldHVybiJ2YWx1ZSJpbiBuJiYodFtlXT1uLnZhbHVlKSx0fX0sIjllZDMiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiYWU5MyIpLkl0ZXJhdG9yUHJvdG90eXBlLG89bigiN2M3MyIpLGk9bigiNWM2YyIpLHM9bigiZDQ0ZSIpLGE9bigiM2Y4YyIpLGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbD1lKyIgSXRlcmF0b3IiO3JldHVybiB0LnByb3RvdHlwZT1vKHIse25leHQ6aSgxLG4pfSkscyh0LGwsITEsITApLGFbbF09Yyx0fX0sIjlmNjEiOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oImNpcmNsZSIse2F0dHJzOntjeDoiOS43NSIsY3k6IjYuMjQ3IixyOiIyLjI1In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xNi45MTYgOC43MUExLjAyNyAxLjAyNyAwIDAwMTYgOC4xNThhMS4wMDcgMS4wMDcgMCAwMC0uODkyLjU4NmwtMS41NTggMy40MzRhLjI0OS4yNDkgMCAwMS0uNDIyLjA1M2wtLjgyLTEuMDI0YTEgMSAwIDAwLS44MTMtLjM3NiAxLjAwNyAxLjAwNyAwIDAwLS43ODcuNDI2TDcuNTkgMTUuNzFhLjUuNSAwIDAwLjQxLjc5aDEyYS41LjUgMCAwMC40MjUtLjIzNy41LjUgMCAwMC4wMjItLjQ4NnoifX0pLG4oInBhdGgiLHthdHRyczp7ZDoiTTIyIDBINS41YTIgMiAwIDAwLTIgMnYxNi41YTIgMiAwIDAwMiAySDIyYTIgMiAwIDAwMi0yVjJhMiAyIDAgMDAtMi0yem0tLjE0NSAxOC4zNTRhLjUuNSAwIDAxLS4zNTQuMTQ2SDZhLjUuNSAwIDAxLS41LS41VjIuNUEuNS41IDAgMDE2IDJoMTUuNWEuNS41IDAgMDEuNS41VjE4YS41LjUgMCAwMS0uMTQ1LjM1MXoifX0pLG4oInBhdGgiLHthdHRyczp7ZDoiTTE5LjUgMjJoLTE3YS41LjUgMCAwMS0uNS0uNXYtMTdhMSAxIDAgMDAtMiAwVjIyYTIgMiAwIDAwMiAyaDE3LjVhMSAxIDAgMDAwLTJ6In19KV0pKX19fSxhNGQzOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiMjNlNyIpLG89bigiZGE4NCIpLGk9bigiZDA2NiIpLHM9bigiYzQzMCIpLGE9bigiODNhYiIpLGM9bigiNDkzMCIpLGw9bigiZmRiZiIpLHU9bigiZDAzOSIpLGY9bigiNTEzNSIpLGQ9bigiZThiNSIpLHA9bigiODYxZCIpLGg9bigiODI1YSIpLHY9bigiN2IwYiIpLG09bigiZmM2YSIpLGc9bigiYzA0ZSIpLHk9bigiNWM2YyIpLGI9bigiN2M3MyIpLHc9bigiZGY3NSIpLFM9bigiMjQxYyIpLHg9bigiMDU3ZiIpLGs9bigiNzQxOCIpLE89bigiMDZjZiIpLEM9bigiOWJmMiIpLE09bigiZDFlNyIpLE49bigiOTExMiIpLFQ9bigiNmVlYiIpLEE9bigiNTY5MiIpLEQ9bigiZjc3MiIpLEU9bigiZDAxMiIpLFI9bigiOTBlMyIpLF89bigiYjYyMiIpLFA9bigiZTUzOCIpLHo9bigiNzQ2ZiIpLEk9bigiZDQ0ZSIpLGo9bigiNjlmMyIpLCQ9bigiYjcyNyIpLmZvckVhY2gsVj1EKCJoaWRkZW4iKSxCPSJTeW1ib2wiLEY9InByb3RvdHlwZSIsTD1fKCJ0b1ByaW1pdGl2ZSIpLEg9ai5zZXQscT1qLmdldHRlckZvcihCKSxLPU9iamVjdFtGXSxXPW8uU3ltYm9sLEo9aSgiSlNPTiIsInN0cmluZ2lmeSIpLFU9Ty5mLEc9Qy5mLFg9eC5mLFk9TS5mLFo9QSgic3ltYm9scyIpLFE9QSgib3Atc3ltYm9scyIpLHR0PUEoInN0cmluZy10by1zeW1ib2wtcmVnaXN0cnkiKSxldD1BKCJzeW1ib2wtdG8tc3RyaW5nLXJlZ2lzdHJ5IiksbnQ9QSgid2tzIikscnQ9by5RT2JqZWN0LG90PSFydHx8IXJ0W0ZdfHwhcnRbRl0uZmluZENoaWxkLGl0PWEmJnUoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPWIoRyh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiBHKHRoaXMsImEiLHt2YWx1ZTo3fSkuYX19KSkuYX0pKT9mdW5jdGlvbih0LGUsbil7dmFyIHI9VShLLGUpO3ImJmRlbGV0ZSBLW2VdLEcodCxlLG4pLHImJnQhPT1LJiZHKEssZSxyKX06RyxzdD1mdW5jdGlvbih0LGUpe3ZhciBuPVpbdF09YihXW0ZdKTtyZXR1cm4gSChuLHt0eXBlOkIsdGFnOnQsZGVzY3JpcHRpb246ZX0pLGF8fChuLmRlc2NyaXB0aW9uPWUpLG59LGF0PWw/ZnVuY3Rpb24odCl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KHQpaW5zdGFuY2VvZiBXfSxjdD1mdW5jdGlvbih0LGUsbil7dD09PUsmJmN0KFEsZSxuKSxoKHQpO3ZhciByPWcoZSwhMCk7cmV0dXJuIGgobiksZihaLHIpPyhuLmVudW1lcmFibGU/KGYodCxWKSYmdFtWXVtyXSYmKHRbVl1bcl09ITEpLG49YihuLHtlbnVtZXJhYmxlOnkoMCwhMSl9KSk6KGYodCxWKXx8Ryh0LFYseSgxLHt9KSksdFtWXVtyXT0hMCksaXQodCxyLG4pKTpHKHQscixuKX0sbHQ9ZnVuY3Rpb24odCxlKXtoKHQpO3ZhciBuPW0oZSkscj13KG4pLmNvbmNhdChodChuKSk7cmV0dXJuICQociwoZnVuY3Rpb24oZSl7YSYmIWZ0LmNhbGwobixlKXx8Y3QodCxlLG5bZV0pfSkpLHR9LHV0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWU/Yih0KTpsdChiKHQpLGUpfSxmdD1mdW5jdGlvbih0KXt2YXIgZT1nKHQsITApLG49WS5jYWxsKHRoaXMsZSk7cmV0dXJuISh0aGlzPT09SyYmZihaLGUpJiYhZihRLGUpKSYmKCEobnx8IWYodGhpcyxlKXx8IWYoWixlKXx8Zih0aGlzLFYpJiZ0aGlzW1ZdW2VdKXx8bil9LGR0PWZ1bmN0aW9uKHQsZSl7dmFyIG49bSh0KSxyPWcoZSwhMCk7aWYobiE9PUt8fCFmKFoscil8fGYoUSxyKSl7dmFyIG89VShuLHIpO3JldHVybiFvfHwhZihaLHIpfHxmKG4sVikmJm5bVl1bcl18fChvLmVudW1lcmFibGU9ITApLG99fSxwdD1mdW5jdGlvbih0KXt2YXIgZT1YKG0odCkpLG49W107cmV0dXJuICQoZSwoZnVuY3Rpb24odCl7ZihaLHQpfHxmKEUsdCl8fG4ucHVzaCh0KX0pKSxufSxodD1mdW5jdGlvbih0KXt2YXIgZT10PT09SyxuPVgoZT9ROm0odCkpLHI9W107cmV0dXJuICQobiwoZnVuY3Rpb24odCl7IWYoWix0KXx8ZSYmIWYoSyx0KXx8ci5wdXNoKFpbdF0pfSkpLHJ9O2lmKGN8fChXPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIFcpdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IiKTt2YXIgdD1hcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/U3RyaW5nKGFyZ3VtZW50c1swXSk6dm9pZCAwLGU9Uih0KSxuPWZ1bmN0aW9uKHQpe3RoaXM9PT1LJiZuLmNhbGwoUSx0KSxmKHRoaXMsVikmJmYodGhpc1tWXSxlKSYmKHRoaXNbVl1bZV09ITEpLGl0KHRoaXMsZSx5KDEsdCkpfTtyZXR1cm4gYSYmb3QmJml0KEssZSx7Y29uZmlndXJhYmxlOiEwLHNldDpufSksc3QoZSx0KX0sVChXW0ZdLCJ0b1N0cmluZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHEodGhpcykudGFnfSkpLFQoVywid2l0aG91dFNldHRlciIsKGZ1bmN0aW9uKHQpe3JldHVybiBzdChSKHQpLHQpfSkpLE0uZj1mdCxDLmY9Y3QsTy5mPWR0LFMuZj14LmY9cHQsay5mPWh0LFAuZj1mdW5jdGlvbih0KXtyZXR1cm4gc3QoXyh0KSx0KX0sYSYmKEcoV1tGXSwiZGVzY3JpcHRpb24iLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHEodGhpcykuZGVzY3JpcHRpb259fSksc3x8VChLLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsZnQse3Vuc2FmZTohMH0pKSkscih7Z2xvYmFsOiEwLHdyYXA6ITAsZm9yY2VkOiFjLHNoYW06IWN9LHtTeW1ib2w6V30pLCQodyhudCksKGZ1bmN0aW9uKHQpe3oodCl9KSkscih7dGFyZ2V0OkIsc3RhdDohMCxmb3JjZWQ6IWN9LHtmb3I6ZnVuY3Rpb24odCl7dmFyIGU9U3RyaW5nKHQpO2lmKGYodHQsZSkpcmV0dXJuIHR0W2VdO3ZhciBuPVcoZSk7cmV0dXJuIHR0W2VdPW4sZXRbbl09ZSxufSxrZXlGb3I6ZnVuY3Rpb24odCl7aWYoIWF0KHQpKXRocm93IFR5cGVFcnJvcih0KyIgaXMgbm90IGEgc3ltYm9sIik7aWYoZihldCx0KSlyZXR1cm4gZXRbdF19LHVzZVNldHRlcjpmdW5jdGlvbigpe290PSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtvdD0hMX19KSxyKHt0YXJnZXQ6Ik9iamVjdCIsc3RhdDohMCxmb3JjZWQ6IWMsc2hhbTohYX0se2NyZWF0ZTp1dCxkZWZpbmVQcm9wZXJ0eTpjdCxkZWZpbmVQcm9wZXJ0aWVzOmx0LGdldE93blByb3BlcnR5RGVzY3JpcHRvcjpkdH0pLHIoe3RhcmdldDoiT2JqZWN0IixzdGF0OiEwLGZvcmNlZDohY30se2dldE93blByb3BlcnR5TmFtZXM6cHQsZ2V0T3duUHJvcGVydHlTeW1ib2xzOmh0fSkscih7dGFyZ2V0OiJPYmplY3QiLHN0YXQ6ITAsZm9yY2VkOnUoKGZ1bmN0aW9uKCl7ay5mKDEpfSkpfSx7Z2V0T3duUHJvcGVydHlTeW1ib2xzOmZ1bmN0aW9uKHQpe3JldHVybiBrLmYodih0KSl9fSksSil7dmFyIHZ0PSFjfHx1KChmdW5jdGlvbigpe3ZhciB0PVcoKTtyZXR1cm4iW251bGxdIiE9SihbdF0pfHwie30iIT1KKHthOnR9KXx8Int9IiE9SihPYmplY3QodCkpfSkpO3Ioe3RhcmdldDoiSlNPTiIsc3RhdDohMCxmb3JjZWQ6dnR9LHtzdHJpbmdpZnk6ZnVuY3Rpb24odCxlLG4pe3ZhciByLG89W3RdLGk9MTt3aGlsZShhcmd1bWVudHMubGVuZ3RoPmkpby5wdXNoKGFyZ3VtZW50c1tpKytdKTtpZihyPWUsKHAoZSl8fHZvaWQgMCE9PXQpJiYhYXQodCkpcmV0dXJuIGQoZSl8fChlPWZ1bmN0aW9uKHQsZSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHImJihlPXIuY2FsbCh0aGlzLHQsZSkpLCFhdChlKSlyZXR1cm4gZX0pLG9bMV09ZSxKLmFwcGx5KG51bGwsbyl9fSl9V1tGXVtMXXx8TihXW0ZdLEwsV1tGXS52YWx1ZU9mKSxJKFcsQiksRVtWXT0hMH0sYTYzMDpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiMjNlNyIpLG89bigiNGRmNCIpLGk9bigiMWM3ZSIpLHM9IWkoKGZ1bmN0aW9uKHQpe0FycmF5LmZyb20odCl9KSk7cih7dGFyZ2V0OiJBcnJheSIsc3RhdDohMCxmb3JjZWQ6c30se2Zyb206b30pfSxhNjkxOmZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5jZWlsLHI9TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlzTmFOKHQ9K3QpPzA6KHQ+MD9yOm4pKHQpfX0sYTcwNzpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5mfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmZ9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMC40ODUgMy41MTFBMTIuMDEgMTIuMDEgMCAxMDI0IDEyYTEyLjAwOSAxMi4wMDkgMCAwMC0zLjUxNS04LjQ4OXptLTEuNzY3IDE1LjIxQTkuNTEgOS41MSAwIDExMjEuNSAxMmE5LjUwOCA5LjUwOCAwIDAxLTIuNzgyIDYuNzIxeiJ9fSksbigicGF0aCIse2F0dHJzOntkOiJNMTYuOTg3IDcuMDFhMS4yNzUgMS4yNzUgMCAwMC0xLjggMGwtMy4xNzcgMy4xNzdMOC44MjkgNy4wMWExLjI3NyAxLjI3NyAwIDAwLTEuODA1IDEuODA2bDMuMTc2IDMuMTc3LTMuMTc2IDMuMTc4YTEuMjc3IDEuMjc3IDAgMDAxLjgwNSAxLjgwNmwzLjE3Ni0zLjE3NyAzLjE3NyAzLjE3OGExLjI3NyAxLjI3NyAwIDAwMS44LTEuODA2bC0zLjE3Ni0zLjE3OCAzLjE3Ni0zLjE3N2ExLjI3OCAxLjI3OCAwIDAwLjAwNS0xLjgwN3oifX0pXSkpfX19LGE3MGQ6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZn09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgNDc0LjU1NyA0NzQuNTU3Iix3aWR0aDoiMjQiLGhlaWdodDoiMjQifSx1KSwuLi5mfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMCAyLjAyOFY0NzIuNTNoNDc0LjU1N1YyLjAyOEgwem00MzUuNDcxIDQzMS40MzdIMzkuMTA4VjQxLjEzNmgzOTYuMzYzdjM5Mi4zMjl6In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xMjQuOTE2IDI3My42MjVjMS4yOTQgNC41MyAyLjAwNiAxNC40MDkgMi4wMDYgMjkuNTc0IDAgMTMuMDA3LjY2OSAyMi41NjMgMi4wNzEgMjguNjI0IDEuNDAyIDYuMDE4IDQuMTQyIDExLjE3NCA4LjI0IDE1LjI3MiA0LjA3NyA0LjA5OCA5LjA4MSA3LjA3NSAxNS4wMTMgOC44NjYgNS45NTQgMS43NjkgMTQuNDk2IDIuNjUzIDI1LjYwNSAyLjY1M2g2LjU3OXYtMjkuNjZjLTguODY2IDAtMTQuNjI1LS41NjEtMTcuMy0xLjY4Mi0yLjY1My0xLjE0My00LjYzOC0yLjcxOC01Ljk1NC00Ljg5Ny0xLjI5NC0yLjE1Ny0xLjk0MS01LjkxLTEuOTQxLTExLjMyNSAwLTMuODQtLjM0NS0xMi41NzYtLjk5Mi0yNi4yOTUtLjQ5Ni04Ljk3My0xLjU3NS0xNi4xMzUtMy4yMzYtMjEuNDg0LTEuNjM5LTUuMzkzLTQuMDEyLTkuOTQ0LTcuMTE4LTEzLjY5Ny0zLjA4NS0zLjc3NS03LjA1NC03LjAzMi0xMS45MDctOS44MTUgNS41MDEtMy41ODEgOS41NzctNi45NjcgMTIuMjc0LTEwLjMxMSAyLjY3NS0zLjI1NyA0Ljg3NS03LjQ0MiA2LjYwMS0xMi41MTEgMS43MDQtNS4wNjkgMi43ODMtMTEuNjkxIDMuMjE0LTE5Ljg0NS43MzMtMTQuNDUyIDEuMTQzLTI0LjI4OSAxLjE0My0yOS40ODcgMC01LjA5MS42MjYtOC43MTUgMS44NTUtMTAuODA3IDEuMjUxLTIuMDcxIDMuMTQ5LTMuNjQ1IDUuNzM4LTQuNzAyIDIuNTg4LTEuMDE0IDguNDc3LTEuNTMyIDE3LjYyMy0xLjUzMnYtMjkuNTA5aC02LjU3OWMtMTAuODA3IDAtMTguNzIzLjc1NS0yMy43MjggMi4yNDMtNy40MiAyLjIyMi0xMy4wNzIgNS4yNDItMTYuOTc2IDkuMDYtMy44ODMgMy44NC02LjU1OCA4LjkwOS04LjA0NiAxNS4yMjktMS40NjcgNi4yNzctMi4xNzkgMTcuNDI5LTIuMTc5IDMzLjM0OCAwIDkuODU4LS4zNjcgMTYuNjc0LTEuMDM1IDIwLjY0My0uODIgNS4yNjMtMi4zNTEgOS42NDItNC41NTEgMTMuMTU4LTIuMjQzIDMuNTE2LTQuODMyIDUuOTk3LTcuOTE2IDcuNDg1LTMuMDIgMS40NDUtNy41MjggMi4zNzMtMTMuNTY4IDIuNzM5djI5LjY4MWM3LjU5My4zODggMTMuMjAxIDIuMDI4IDE2Ljg5IDQuODk3IDMuNjQ1IDIuODA2IDYuMzg0IDcuNDg3IDguMTc0IDE0LjA4N3pNMjEyLjA4NCAzMzEuMzkybDYuNzMgMTQuMzY2YzcuNDItMi42NTMgMTMuNTY4LTYuMzIgMTguNC0xMC45MTUgNC44MzItNC41OTUgOC4wODktOS44MTUgOS44MTUtMTUuNjE3IDEuNzQ3LTUuODQ2IDIuNjEtMTMuODA1IDIuNjEtMjMuODE0di0yNC43ODVoLTM0Ljc1MXYzNC43MjloMTYuNzYxYy0uMTI5IDYuODM4LTEuNzI2IDEyLjI5NS00LjY1OSAxNi40OC0yLjk1NiA0LjAzNC03LjkzOSA3LjI2OS0xNC45MDYgOS41NTZ6TTIxNC44ODggMTc0LjAxMmgzNC43NTF2MzQuNzcyaC0zNC43NTF6TTMxMS4xOCAzNTYuMzQ5YzcuNDY0LTIuMjQzIDEzLjIwMS01LjIyIDE3LjEwNi05LjA4MSAzLjg4My0zLjgxOCA2LjUzNi04LjkzIDcuOTM4LTE1LjI3MiAxLjQwMi02LjM2MyAyLjE3OS0xNy41MTUgMi4xNzktMzMuNDk5IDAtOS43NS4zNjctMTYuNjA5IDEuMDE0LTIwLjU1Ny44ODQtNS4yNjMgMi40MzgtOS42NDIgNC42NTktMTMuMTM3IDIuMTc5LTMuNDk0IDQuNzY3LTYuMDE4IDcuODA5LTcuNDg1IDMuMDQyLTEuNDY3IDcuNTUtMi4zNzMgMTMuNTY4LTIuNjk2aC0uMDQzdi0yOS42NmMtNy42MTUtLjQ1My0xMy4xOC0yLjA3MS0xNi45MzMtNC45MTgtMy42NjctMi44MjYtNi40MDctNy41NzEtOC4yNjItMTQuMTA3LTEuMjUxLTQuNjE2LTEuODU1LTE0LjQ1Mi0xLjg1NS0yOS41MDkgMC0xMy4wMjktLjcxMi0yMi41NDEtMi4xNTctMjguNTYtMS40MjQtNi4xMDUtNC4xNjMtMTEuMTk1LTguMTk3LTE1LjM1OC00LjA1NS00LjE0Mi05LjAzOC03LjA1NC0xNC45Ny04LjgwMS01Ljk3NS0xLjcyNi0xNC41MTctMi42MS0yNS42MjYtMi42MWgtNi41NTd2MjkuNDY2YzkuMzQgMCAxNS4zMzcuNTYxIDE3Ljk5IDEuNjgzIDIuNjk2IDEuMSA0LjU1MSAyLjY3NSA1LjU2NSA0LjcyNCAxLjA1NyAyLjA0OSAxLjU1MyA2LjE2OSAxLjYzOSAxMi4zNi40NTMgMTkuNjA4IDEuMTg2IDMyLjI5MSAyLjA3MSAzOC4wNzIgMS4zODEgOC4zNjkgNC4wNTUgMTUuMjk0IDcuODczIDIwLjY4NiAyLjgyNiAzLjg0IDcuMjQ4IDcuNjU4IDEzLjM1MiAxMS42MjctNC43MDIgMi42OTYtOC41MiA1Ljg0Ni0xMS41NCA5LjQ0OC0zLjA0MSAzLjU1OS01LjQzNiA3Ljk2LTcuMjA1IDEzLjA3Mi0xLjgxMiA1LjE3Ny0yLjk1NSAxMi4wOC0zLjMyMiAyMC42LS42NjkgMTQuMTcyLTEuMSAyMy44MTQtMS4xIDI4LjgxOS0uMDg2IDUuMDI2LS42NjkgOC41ODUtMS45ODQgMTAuNjk5LTEuMzE2IDIuMTM2LTMuMjc5IDMuNzEtNS45NzUgNC44NTMtMi43MTggMS4xMjItOC41MiAxLjYzOS0xNy4zNjQgMS42Mzl2MjkuNjZoNi42MjJjMTAuNzQxLjA2NCAxOC42NzktLjcxMiAyMy43MDUtMi4xNTh6In19KV0pKX19fSxhYzRlOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTIgMTlhMyAzIDAgMDAzIDNoMTRhMyAzIDAgMDAzLTNWNWEzIDMgMCAwMC0zLTNINWEzIDMgMCAwMC0zIDN2MTR6bS0yIDBWNWE1IDUgMCAwMTUtNWgxNGE1IDUgMCAwMTUgNXYxNGE1IDUgMCAwMS01IDVINWE1IDUgMCAwMS01LTV6bTEyLTlhMSAxIDAgMDExIDF2MmExIDEgMCAwMS0yIDB2LTJhMSAxIDAgMDExLTF6bTAgNmExIDEgMCAwMTEgMXYzYTEgMSAwIDAxLTIgMHYtM2ExIDEgMCAwMTEtMXptMC0xM2ExIDEgMCAwMTEgMXYzYTEgMSAwIDAxLTIgMFY0YTEgMSAwIDAxMS0xeiJ9fSldKSl9fX0sYWQ2ZDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjgyNWEiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgdD1yKHRoaXMpLGU9IiI7cmV0dXJuIHQuZ2xvYmFsJiYoZSs9ImciKSx0Lmlnbm9yZUNhc2UmJihlKz0iaSIpLHQubXVsdGlsaW5lJiYoZSs9Im0iKSx0LmRvdEFsbCYmKGUrPSJzIiksdC51bmljb2RlJiYoZSs9InUiKSx0LnN0aWNreSYmKGUrPSJ5IiksZX19LGFkNmU6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZn09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5mfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMTIuNjQxIDIxLjkzMWE3LjAxIDcuMDEgMCAwMDEuMTQ2IDEuNzRBNSA1IDAgMDE3IDE5VjVhNSA1IDAgMTExMCAwdjcuMjlhNi45NzIgNi45NzIgMCAwMC0yIC45NjVWNWEzIDMgMCAwMC02IDB2MTRhMyAzIDAgMDAzLjY0MSAyLjkzMXpNMTkgMTRhNSA1IDAgMTEwIDEwIDUgNSAwIDAxMC0xMHptLTIuNSA1LjkzOGg1YS45MzcuOTM3IDAgMTAwLTEuODc1aC01YS45MzcuOTM3IDAgMTAwIDEuODc1eiJ9fSldKSl9fX0sYWU0MDpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiODNhYiIpLG89bigiZDAzOSIpLGk9bigiNTEzNSIpLHM9T2JqZWN0LmRlZmluZVByb3BlcnR5LGE9e30sYz1mdW5jdGlvbih0KXt0aHJvdyB0fTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZihpKGEsdCkpcmV0dXJuIGFbdF07ZXx8KGU9e30pO3ZhciBuPVtdW3RdLGw9ISFpKGUsIkFDQ0VTU09SUyIpJiZlLkFDQ0VTU09SUyx1PWkoZSwwKT9lWzBdOmMsZj1pKGUsMSk/ZVsxXTp2b2lkIDA7cmV0dXJuIGFbdF09ISFuJiYhbygoZnVuY3Rpb24oKXtpZihsJiYhcilyZXR1cm4hMDt2YXIgdD17bGVuZ3RoOi0xfTtsP3ModCwxLHtlbnVtZXJhYmxlOiEwLGdldDpjfSk6dFsxXT0xLG4uY2FsbCh0LHUsZil9KSl9fSxhZTkzOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHIsbyxpLHM9bigiZTE2MyIpLGE9bigiOTExMiIpLGM9bigiNTEzNSIpLGw9bigiYjYyMiIpLHU9bigiYzQzMCIpLGY9bCgiaXRlcmF0b3IiKSxkPSExLHA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307W10ua2V5cyYmKGk9W10ua2V5cygpLCJuZXh0ImluIGk/KG89cyhzKGkpKSxvIT09T2JqZWN0LnByb3RvdHlwZSYmKHI9bykpOmQ9ITApLHZvaWQgMD09ciYmKHI9e30pLHV8fGMocixmKXx8YShyLGYscCksdC5leHBvcnRzPXtJdGVyYXRvclByb3RvdHlwZTpyLEJVR0dZX1NBRkFSSV9JVEVSQVRPUlM6ZH19LGFlYzI6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZn09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5mfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMjIuNS4yNDhINy4yMjhhNi45NzcgNi45NzcgMCAxMDAgMTMuOTU0aDIuMzE4YS4yNS4yNSAwIDAxLjI1LjI1VjIyLjVhMS4yNSAxLjI1IDAgMDAyLjUgMFYzYS4yNS4yNSAwIDAxLjI1LS4yNWgzLjY4MmEuMjUuMjUgMCAwMS4yNS4yNXYxOS41YTEuMjUgMS4yNSAwIDAwMi41IDBWM2EuMjQ5LjI0OSAwIDAxLjI1LS4yNUgyMi41YTEuMjUgMS4yNSAwIDAwMC0yLjV6TTkuOCAxMS40NTJhLjI1LjI1IDAgMDEtLjI1LjI1SDcuMjI4YTQuNDc3IDQuNDc3IDAgMTEwLTguOTU0aDIuMzE4QS4yNS4yNSAwIDAxOS44IDN6In19KV0pKX19fSxiMDQxOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiMDBlZSIpLG89bigiZjVkZiIpO3QuZXhwb3J0cz1yP3t9LnRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgIitvKHRoaXMpKyJdIn19LGIwYzA6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjgzYWIiKSxvPW4oIjliZjIiKS5mLGk9RnVuY3Rpb24ucHJvdG90eXBlLHM9aS50b1N0cmluZyxhPS9eXHMqZnVuY3Rpb24gKFteIChdKikvLGM9Im5hbWUiO3ImJiEoYyBpbiBpKSYmbyhpLGMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHMuY2FsbCh0aGlzKS5tYXRjaChhKVsxXX1jYXRjaCh0KXtyZXR1cm4iIn19fSl9LGI2MjI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImRhODQiKSxvPW4oIjU2OTIiKSxpPW4oIjUxMzUiKSxzPW4oIjkwZTMiKSxhPW4oIjQ5MzAiKSxjPW4oImZkYmYiKSxsPW8oIndrcyIpLHU9ci5TeW1ib2wsZj1jP3U6dSYmdS53aXRob3V0U2V0dGVyfHxzO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaShsLHQpfHwoYSYmaSh1LHQpP2xbdF09dVt0XTpsW3RdPWYoIlN5bWJvbC4iK3QpKSxsW3RdfX0sYjcyNzpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiMDM2NiIpLG89bigiNDRhZCIpLGk9bigiN2IwYiIpLHM9bigiNTBjNCIpLGE9bigiNjVmMCIpLGM9W10ucHVzaCxsPWZ1bmN0aW9uKHQpe3ZhciBlPTE9PXQsbj0yPT10LGw9Mz09dCx1PTQ9PXQsZj02PT10LGQ9NT09dHx8ZjtyZXR1cm4gZnVuY3Rpb24ocCxoLHYsbSl7Zm9yKHZhciBnLHksYj1pKHApLHc9byhiKSxTPXIoaCx2LDMpLHg9cyh3Lmxlbmd0aCksaz0wLE89bXx8YSxDPWU/TyhwLHgpOm4/TyhwLDApOnZvaWQgMDt4Pms7aysrKWlmKChkfHxrIGluIHcpJiYoZz13W2tdLHk9UyhnLGssYiksdCkpaWYoZSlDW2tdPXk7ZWxzZSBpZih5KXN3aXRjaCh0KXtjYXNlIDM6cmV0dXJuITA7Y2FzZSA1OnJldHVybiBnO2Nhc2UgNjpyZXR1cm4gaztjYXNlIDI6Yy5jYWxsKEMsZyl9ZWxzZSBpZih1KXJldHVybiExO3JldHVybiBmPy0xOmx8fHU/dTpDfX07dC5leHBvcnRzPXtmb3JFYWNoOmwoMCksbWFwOmwoMSksZmlsdGVyOmwoMiksc29tZTpsKDMpLGV2ZXJ5OmwoNCksZmluZDpsKDUpLGZpbmRJbmRleDpsKDYpfX0sYzA0ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiODYxZCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFyKHQpKXJldHVybiB0O3ZhciBuLG87aWYoZSYmImZ1bmN0aW9uIj09dHlwZW9mKG49dC50b1N0cmluZykmJiFyKG89bi5jYWxsKHQpKSlyZXR1cm4gbztpZigiZnVuY3Rpb24iPT10eXBlb2Yobj10LnZhbHVlT2YpJiYhcihvPW4uY2FsbCh0KSkpcmV0dXJuIG87aWYoIWUmJiJmdW5jdGlvbiI9PXR5cGVvZihuPXQudG9TdHJpbmcpJiYhcihvPW4uY2FsbCh0KSkpcmV0dXJuIG87dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LGM0MzA6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ITF9LGM2YjY6ZnVuY3Rpb24odCxlKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG4uY2FsbCh0KS5zbGljZSg4LC0xKX19LGM2Y2Q6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImRhODQiKSxvPW4oImNlNGUiKSxpPSJfX2NvcmUtanNfc2hhcmVkX18iLHM9cltpXXx8byhpLHt9KTt0LmV4cG9ydHM9c30sYzZlZTpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5mfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmZ9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xOSAxNGE1IDUgMCAxMTAgMTAgNSA1IDAgMDEwLTEwem0tMi41IDUuOTM4aDVhLjkzNy45MzcgMCAxMDAtMS44NzVoLTVhLjkzNy45MzcgMCAxMDAgMS44NzV6TTEyLjI5IDE3SDl2NWgzLjY3NGMuMzU2Ljc1Ljg0MSAxLjQyNiAxLjQyNyAySDVhNSA1IDAgMDEtNS01VjVhNSA1IDAgMDE1LTVoMTRhNSA1IDAgMDE1IDV2Mi44MjNhLjg0My44NDMgMCAwMTAgLjM1NFYxNC4xYTcuMDE4IDcuMDE4IDAgMDAtMi0xLjQyN1Y5aC01djMuMjlhNi45NzIgNi45NzIgMCAwMC0yIC45NjVWOUg5djZoNC4yNTVhNi45NzIgNi45NzIgMCAwMC0uOTY1IDJ6TTE3IDdoNVY1YTMgMyAwIDAwLTMtM2gtMnY1em0tMiAwVjJIOXY1aDZ6TTcgMkg1YTMgMyAwIDAwLTMgM3YyaDVWMnpNMiA5djZoNVY5SDJ6bTAgOHYyYTMgMyAwIDAwMyAzaDJ2LTVIMnoifX0pXSkpfX19LGM4YmE6ZnVuY3Rpb24odCxlKXt2YXIgbjtuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCk7dHJ5e249bnx8bmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl9Y2F0Y2gocil7Im9iamVjdCI9PT10eXBlb2Ygd2luZG93JiYobj13aW5kb3cpfXQuZXhwb3J0cz1ufSxjOTQzOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTExLjk5OS41QzUuNjQ5LjUuNSA1LjY0OC41IDEyYzAgNS4wODIgMy4yOTQgOS4zOTIgNy44NjUgMTAuOTE0LjU3NC4xMDMuNzU2LS4yMzYuNzU2LS41NDEgMC0uMjc0LjAwNi0xLjAzNyAwLTEuOTk3LTMuMTk4LjY5NC0zLjg2MS0xLjUxNS0zLjg2MS0xLjUxNS0uNTIzLTEuMzI5LTEuMjc1LTEuNjgyLTEuMjc1LTEuNjgyLTEuMDQ1LS43MTQuMDc3LS42OTkuMDc3LS42OTkgMS4xNTMuMDggMS43NjIgMS4xODQgMS43NjIgMS4xODQgMS4wMjYgMS43NTggMi42OTEgMS4yNSAzLjM0Ni45NTYuMTA2LS43NDIuNDAyLTEuMjUxLjczMS0xLjUzNi0yLjU1NC0uMjkyLTUuMjM4LTEuMjc3LTUuMjM4LTUuNjg2IDAtMS4yNTUuNDQ4LTIuMjgxIDEuMTg0LTMuMDg2LS4xMTgtLjI4OS0uNTE0LTEuNDYuMTEyLTMuMDQzIDAgMCAuOTY3LS4zMDkgMy4xNjIgMS4xOGExMS4wMTEgMTEuMDExIDAgMDEyLjg4LS4zODhjLjk3Ni4wMDUgMS45Ni4xMzIgMi44OC4zODggMi4xOTUtMS40ODggMy4xNTktMS4xOCAzLjE1OS0xLjE4LjYyNyAxLjU4My4yMzIgMi43NTQuMTE0IDMuMDQzLjczNi44MDUgMS4xODMgMS44MzEgMS4xODMgMy4wODYgMCA0LjQyLTIuNjg5IDUuMzkxLTUuMjUxIDUuNjc0LjQxMi4zNTcuNzg3IDEuMDQ3Ljc4NyAyLjEydjMuMTg0YzAgLjMwOC4xODYuNjQ3Ljc3LjUzNkMyMC4yMDkgMjEuMzg5IDIzLjUgMTcuMDggMjMuNSAxMiAyMy41IDUuNjQ4IDE4LjM1Mi41IDExLjk5OS41eiJ9fSldKSl9fX0sY2E4NDpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiNTEzNSIpLG89bigiZmM2YSIpLGk9bigiNGQ2NCIpLmluZGV4T2Yscz1uKCJkMDEyIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG4sYT1vKHQpLGM9MCxsPVtdO2ZvcihuIGluIGEpIXIocyxuKSYmcihhLG4pJiZsLnB1c2gobik7d2hpbGUoZS5sZW5ndGg+YylyKGEsbj1lW2MrK10pJiYofmkobCxuKXx8bC5wdXNoKG4pKTtyZXR1cm4gbH19LGNjMTI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImRhODQiKSxvPW4oIjg2MWQiKSxpPXIuZG9jdW1lbnQscz1vKGkpJiZvKGkuY3JlYXRlRWxlbWVudCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBzP2kuY3JlYXRlRWxlbWVudCh0KTp7fX19LGNlNGU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImRhODQiKSxvPW4oIjkxMTIiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt0cnl7byhyLHQsZSl9Y2F0Y2gobil7clt0XT1lfXJldHVybiBlfX0sZDAxMjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17fX0sZDAzOTpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuISF0KCl9Y2F0Y2goZSl7cmV0dXJuITB9fX0sZDA2NjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiNDI4ZiIpLG89bigiZGE4NCIpLGk9ZnVuY3Rpb24odCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDp2b2lkIDB9O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDI/aShyW3RdKXx8aShvW3RdKTpyW3RdJiZyW3RdW2VdfHxvW3RdJiZvW3RdW2VdfX0sZDFlNzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixpPW8mJiFyLmNhbGwoezE6Mn0sMSk7ZS5mPWk/ZnVuY3Rpb24odCl7dmFyIGU9byh0aGlzLHQpO3JldHVybiEhZSYmZS5lbnVtZXJhYmxlfTpyfSxkMjhiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI3NDZmIik7cigiaXRlcmF0b3IiKX0sZDJiYjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiODI1YSIpLG89bigiM2JiZSIpO3QuZXhwb3J0cz1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24oKXt2YXIgdCxlPSExLG49e307dHJ5e3Q9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsdC5jYWxsKG4sW10pLGU9biBpbnN0YW5jZW9mIEFycmF5fWNhdGNoKGkpe31yZXR1cm4gZnVuY3Rpb24obixpKXtyZXR1cm4gcihuKSxvKGkpLGU/dC5jYWxsKG4saSk6bi5fX3Byb3RvX189aSxufX0oKTp2b2lkIDApfSxkM2I3OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCIwMGVlIiksbz1uKCI2ZWViIiksaT1uKCJiMDQxIik7cnx8byhPYmplY3QucHJvdG90eXBlLCJ0b1N0cmluZyIsaSx7dW5zYWZlOiEwfSl9LGQ0NGU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjliZjIiKS5mLG89bigiNTEzNSIpLGk9bigiYjYyMiIpLHM9aSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3QmJiFvKHQ9bj90OnQucHJvdG90eXBlLHMpJiZyKHQscyx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOmV9KX19LGQ3YjY6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZn09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5mfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMjIuNS4yNDhoLTcuNjM3YTEuMjUgMS4yNSAwIDAwMCAyLjVoMS4wODZhLjI1LjI1IDAgMDEuMjExLjM4NEw0Ljc4IDIxLjAxN2EuNS41IDAgMDEtLjQyMi4yMzFIMS41YTEuMjUgMS4yNSAwIDAwMCAyLjVoNy42MzdhMS4yNSAxLjI1IDAgMDAwLTIuNUg4LjA1MWEuMjUuMjUgMCAwMS0uMjExLS4zODRMMTkuMjIgMi45OGEuNS41IDAgMDEuNDIyLS4yMzJIMjIuNWExLjI1IDEuMjUgMCAwMDAtMi41eiJ9fSldKSl9fX0sZGE4NDpmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKGUpe3ZhciBuPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lk1hdGg9PU1hdGgmJnR9O3QuZXhwb3J0cz1uKCJvYmplY3QiPT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyl8fG4oIm9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyl8fG4oIm9iamVjdCI9PXR5cGVvZiBzZWxmJiZzZWxmKXx8bigib2JqZWN0Ij09dHlwZW9mIGUmJmUpfHxGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfSkuY2FsbCh0aGlzLG4oImM4YmEiKSl9LGRjNDQ6ZnVuY3Rpb24odCxlLG4pe30sZGRiMDpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZGE4NCIpLG89bigiZmRiYyIpLGk9bigiZTI2MCIpLHM9bigiOTExMiIpLGE9bigiYjYyMiIpLGM9YSgiaXRlcmF0b3IiKSxsPWEoInRvU3RyaW5nVGFnIiksdT1pLnZhbHVlcztmb3IodmFyIGYgaW4gbyl7dmFyIGQ9cltmXSxwPWQmJmQucHJvdG90eXBlO2lmKHApe2lmKHBbY10hPT11KXRyeXtzKHAsYyx1KX1jYXRjaCh2KXtwW2NdPXV9aWYocFtsXXx8cyhwLGwsZiksb1tmXSlmb3IodmFyIGggaW4gaSlpZihwW2hdIT09aVtoXSl0cnl7cyhwLGgsaVtoXSl9Y2F0Y2godil7cFtoXT1pW2hdfX19fSxkZjc1OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJjYTg0Iiksbz1uKCI3ODM5Iik7dC5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gcih0LG8pfX0sZTAxYTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjIzZTciKSxvPW4oIjgzYWIiKSxpPW4oImRhODQiKSxzPW4oIjUxMzUiKSxhPW4oIjg2MWQiKSxjPW4oIjliZjIiKS5mLGw9bigiZTg5MyIpLHU9aS5TeW1ib2w7aWYobyYmImZ1bmN0aW9uIj09dHlwZW9mIHUmJighKCJkZXNjcmlwdGlvbiJpbiB1LnByb3RvdHlwZSl8fHZvaWQgMCE9PXUoKS5kZXNjcmlwdGlvbikpe3ZhciBmPXt9LGQ9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPDF8fHZvaWQgMD09PWFyZ3VtZW50c1swXT92b2lkIDA6U3RyaW5nKGFyZ3VtZW50c1swXSksZT10aGlzIGluc3RhbmNlb2YgZD9uZXcgdSh0KTp2b2lkIDA9PT10P3UoKTp1KHQpO3JldHVybiIiPT09dCYmKGZbZV09ITApLGV9O2woZCx1KTt2YXIgcD1kLnByb3RvdHlwZT11LnByb3RvdHlwZTtwLmNvbnN0cnVjdG9yPWQ7dmFyIGg9cC50b1N0cmluZyx2PSJTeW1ib2wodGVzdCkiPT1TdHJpbmcodSgidGVzdCIpKSxtPS9eU3ltYm9sXCgoLiopXClbXildKyQvO2MocCwiZGVzY3JpcHRpb24iLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9YSh0aGlzKT90aGlzLnZhbHVlT2YoKTp0aGlzLGU9aC5jYWxsKHQpO2lmKHMoZix0KSlyZXR1cm4iIjt2YXIgbj12P2Uuc2xpY2UoNywtMSk6ZS5yZXBsYWNlKG0sIiQxIik7cmV0dXJuIiI9PT1uP3ZvaWQgMDpufX0pLHIoe2dsb2JhbDohMCxmb3JjZWQ6ITB9LHtTeW1ib2w6ZH0pfX0sZTE2MzpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiNTEzNSIpLG89bigiN2IwYiIpLGk9bigiZjc3MiIpLHM9bigiZTE3NyIpLGE9aSgiSUVfUFJPVE8iKSxjPU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPXM/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKHQpe3JldHVybiB0PW8odCkscih0LGEpP3RbYV06ImZ1bmN0aW9uIj09dHlwZW9mIHQuY29uc3RydWN0b3ImJnQgaW5zdGFuY2VvZiB0LmNvbnN0cnVjdG9yP3QuY29uc3RydWN0b3IucHJvdG90eXBlOnQgaW5zdGFuY2VvZiBPYmplY3Q/YzpudWxsfX0sZTE3NzpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZDAzOSIpO3QuZXhwb3J0cz0hcigoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1udWxsLE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgdCkhPT10LnByb3RvdHlwZX0pKX0sZTI2MDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImZjNmEiKSxvPW4oIjQ0ZDIiKSxpPW4oIjNmOGMiKSxzPW4oIjY5ZjMiKSxhPW4oIjdkZDAiKSxjPSJBcnJheSBJdGVyYXRvciIsbD1zLnNldCx1PXMuZ2V0dGVyRm9yKGMpO3QuZXhwb3J0cz1hKEFycmF5LCJBcnJheSIsKGZ1bmN0aW9uKHQsZSl7bCh0aGlzLHt0eXBlOmMsdGFyZ2V0OnIodCksaW5kZXg6MCxraW5kOmV9KX0pLChmdW5jdGlvbigpe3ZhciB0PXUodGhpcyksZT10LnRhcmdldCxuPXQua2luZCxyPXQuaW5kZXgrKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHQudGFyZ2V0PXZvaWQgMCx7dmFsdWU6dm9pZCAwLGRvbmU6ITB9KToia2V5cyI9PW4/e3ZhbHVlOnIsZG9uZTohMX06InZhbHVlcyI9PW4/e3ZhbHVlOmVbcl0sZG9uZTohMX06e3ZhbHVlOltyLGVbcl1dLGRvbmU6ITF9fSksInZhbHVlcyIpLGkuQXJndW1lbnRzPWkuQXJyYXksbygia2V5cyIpLG8oInZhbHVlcyIpLG8oImVudHJpZXMiKX0sZTJiZTpmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCl7T2JqZWN0LmZyZWV6ZSh0KTt2YXIgZT0iZnVuY3Rpb24iPT09dHlwZW9mIHQ7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLmZvckVhY2goKGZ1bmN0aW9uKHIpeyFPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpfHxudWxsPT09dFtyXXx8Im9iamVjdCIhPT10eXBlb2YgdFtyXSYmImZ1bmN0aW9uIiE9PXR5cGVvZiB0W3JdfHxlJiYoImNhbGxlciI9PT1yfHwiY2FsbGVlIj09PXJ8fCJhcmd1bWVudHMiPT09cil8fE9iamVjdC5pc0Zyb3plbih0W3JdKXx8bih0W3JdKX0pKSx0fWNsYXNzIHJ7Y29uc3RydWN0b3IodCl7dm9pZCAwPT09dC5kYXRhJiYodC5kYXRhPXt9KSx0aGlzLmRhdGE9dC5kYXRhfWlnbm9yZU1hdGNoKCl7dGhpcy5pZ25vcmU9ITB9fWZ1bmN0aW9uIG8odCl7cmV0dXJuIHQucmVwbGFjZSgvJi9nLCImYW1wOyIpLnJlcGxhY2UoLzwvZywiJmx0OyIpLnJlcGxhY2UoLz4vZywiJmd0OyIpLnJlcGxhY2UoLyIvZywiJnF1b3Q7IikucmVwbGFjZSgvJy9nLCImI3gyNzsiKX1mdW5jdGlvbiBpKHQsLi4uZSl7dmFyIG49e307Zm9yKGNvbnN0IHIgaW4gdCluW3JdPXRbcl07cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24odCl7Zm9yKGNvbnN0IGUgaW4gdCluW2VdPXRbZV19KSksbn1mdW5jdGlvbiBzKHQpe3JldHVybiB0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gYSh0KXt2YXIgZT1bXTtyZXR1cm4gZnVuY3Rpb24gdChuLHIpe2Zvcih2YXIgbz1uLmZpcnN0Q2hpbGQ7bztvPW8ubmV4dFNpYmxpbmcpMz09PW8ubm9kZVR5cGU/cis9by5ub2RlVmFsdWUubGVuZ3RoOjE9PT1vLm5vZGVUeXBlJiYoZS5wdXNoKHtldmVudDoic3RhcnQiLG9mZnNldDpyLG5vZGU6b30pLHI9dChvLHIpLHMobykubWF0Y2goL2JyfGhyfGltZ3xpbnB1dC8pfHxlLnB1c2goe2V2ZW50OiJzdG9wIixvZmZzZXQ6cixub2RlOm99KSk7cmV0dXJuIHJ9KHQsMCksZX1mdW5jdGlvbiBjKHQsZSxuKXt2YXIgcj0wLGk9IiIsYT1bXTtmdW5jdGlvbiBjKCl7cmV0dXJuIHQubGVuZ3RoJiZlLmxlbmd0aD90WzBdLm9mZnNldCE9PWVbMF0ub2Zmc2V0P3RbMF0ub2Zmc2V0PGVbMF0ub2Zmc2V0P3Q6ZToic3RhcnQiPT09ZVswXS5ldmVudD90OmU6dC5sZW5ndGg/dDplfWZ1bmN0aW9uIGwodCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4iICIrdC5ub2RlTmFtZSsnPSInK28odC52YWx1ZSkrJyInfWkrPSI8IitzKHQpK1tdLm1hcC5jYWxsKHQuYXR0cmlidXRlcyxlKS5qb2luKCIiKSsiPiJ9ZnVuY3Rpb24gdSh0KXtpKz0iPC8iK3ModCkrIj4ifWZ1bmN0aW9uIGYodCl7KCJzdGFydCI9PT10LmV2ZW50P2w6dSkodC5ub2RlKX13aGlsZSh0Lmxlbmd0aHx8ZS5sZW5ndGgpe3ZhciBkPWMoKTtpZihpKz1vKG4uc3Vic3RyaW5nKHIsZFswXS5vZmZzZXQpKSxyPWRbMF0ub2Zmc2V0LGQ9PT10KXthLnJldmVyc2UoKS5mb3JFYWNoKHUpO2Rve2YoZC5zcGxpY2UoMCwxKVswXSksZD1jKCl9d2hpbGUoZD09PXQmJmQubGVuZ3RoJiZkWzBdLm9mZnNldD09PXIpO2EucmV2ZXJzZSgpLmZvckVhY2gobCl9ZWxzZSJzdGFydCI9PT1kWzBdLmV2ZW50P2EucHVzaChkWzBdLm5vZGUpOmEucG9wKCksZihkLnNwbGljZSgwLDEpWzBdKX1yZXR1cm4gaStvKG4uc3Vic3RyKHIpKX12YXIgbD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxlc2NhcGVIVE1MOm8saW5oZXJpdDppLG5vZGVTdHJlYW06YSxtZXJnZVN0cmVhbXM6Y30pO2NvbnN0IHU9Ijwvc3Bhbj4iLGY9dD0+ISF0LmtpbmQ7Y2xhc3MgZHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuYnVmZmVyPSIiLHRoaXMuY2xhc3NQcmVmaXg9ZS5jbGFzc1ByZWZpeCx0LndhbGsodGhpcyl9YWRkVGV4dCh0KXt0aGlzLmJ1ZmZlcis9byh0KX1vcGVuTm9kZSh0KXtpZighZih0KSlyZXR1cm47bGV0IGU9dC5raW5kO3Quc3VibGFuZ3VhZ2V8fChlPWAke3RoaXMuY2xhc3NQcmVmaXh9JHtlfWApLHRoaXMuc3BhbihlKX1jbG9zZU5vZGUodCl7Zih0KSYmKHRoaXMuYnVmZmVyKz11KX12YWx1ZSgpe3JldHVybiB0aGlzLmJ1ZmZlcn1zcGFuKHQpe3RoaXMuYnVmZmVyKz1gPHNwYW4gY2xhc3M9IiR7dH0iPmB9fWNsYXNzIHB7Y29uc3RydWN0b3IoKXt0aGlzLnJvb3ROb2RlPXtjaGlsZHJlbjpbXX0sdGhpcy5zdGFjaz1bdGhpcy5yb290Tm9kZV19Z2V0IHRvcCgpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoLTFdfWdldCByb290KCl7cmV0dXJuIHRoaXMucm9vdE5vZGV9YWRkKHQpe3RoaXMudG9wLmNoaWxkcmVuLnB1c2godCl9b3Blbk5vZGUodCl7Y29uc3QgZT17a2luZDp0LGNoaWxkcmVuOltdfTt0aGlzLmFkZChlKSx0aGlzLnN0YWNrLnB1c2goZSl9Y2xvc2VOb2RlKCl7aWYodGhpcy5zdGFjay5sZW5ndGg+MSlyZXR1cm4gdGhpcy5zdGFjay5wb3AoKX1jbG9zZUFsbE5vZGVzKCl7d2hpbGUodGhpcy5jbG9zZU5vZGUoKSk7fXRvSlNPTigpe3JldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnJvb3ROb2RlLG51bGwsNCl9d2Fsayh0KXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5fd2Fsayh0LHRoaXMucm9vdE5vZGUpfXN0YXRpYyBfd2Fsayh0LGUpe3JldHVybiJzdHJpbmciPT09dHlwZW9mIGU/dC5hZGRUZXh0KGUpOmUuY2hpbGRyZW4mJih0Lm9wZW5Ob2RlKGUpLGUuY2hpbGRyZW4uZm9yRWFjaChlPT50aGlzLl93YWxrKHQsZSkpLHQuY2xvc2VOb2RlKGUpKSx0fXN0YXRpYyBfY29sbGFwc2UodCl7InN0cmluZyIhPT10eXBlb2YgdCYmdC5jaGlsZHJlbiYmKHQuY2hpbGRyZW4uZXZlcnkodD0+InN0cmluZyI9PT10eXBlb2YgdCk/dC5jaGlsZHJlbj1bdC5jaGlsZHJlbi5qb2luKCIiKV06dC5jaGlsZHJlbi5mb3JFYWNoKHQ9PntwLl9jb2xsYXBzZSh0KX0pKX19Y2xhc3MgaCBleHRlbmRzIHB7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLm9wdGlvbnM9dH1hZGRLZXl3b3JkKHQsZSl7IiIhPT10JiYodGhpcy5vcGVuTm9kZShlKSx0aGlzLmFkZFRleHQodCksdGhpcy5jbG9zZU5vZGUoKSl9YWRkVGV4dCh0KXsiIiE9PXQmJnRoaXMuYWRkKHQpfWFkZFN1Ymxhbmd1YWdlKHQsZSl7Y29uc3Qgbj10LnJvb3Q7bi5raW5kPWUsbi5zdWJsYW5ndWFnZT0hMCx0aGlzLmFkZChuKX10b0hUTUwoKXtjb25zdCB0PW5ldyBkKHRoaXMsdGhpcy5vcHRpb25zKTtyZXR1cm4gdC52YWx1ZSgpfWZpbmFsaXplKCl7cmV0dXJuITB9fWZ1bmN0aW9uIHYodCl7cmV0dXJuIG5ldyBSZWdFeHAodC5yZXBsYWNlKC9bLS9cXF4kKis/LigpfFtcXXt9XS9nLCJcXCQmIiksIm0iKX1mdW5jdGlvbiBtKHQpe3JldHVybiB0PyJzdHJpbmciPT09dHlwZW9mIHQ/dDp0LnNvdXJjZTpudWxsfWZ1bmN0aW9uIGcoLi4udCl7Y29uc3QgZT10Lm1hcCh0PT5tKHQpKS5qb2luKCIiKTtyZXR1cm4gZX1mdW5jdGlvbiB5KHQpe3JldHVybiBuZXcgUmVnRXhwKHQudG9TdHJpbmcoKSsifCIpLmV4ZWMoIiIpLmxlbmd0aC0xfWZ1bmN0aW9uIGIodCxlKXt2YXIgbj10JiZ0LmV4ZWMoZSk7cmV0dXJuIG4mJjA9PT1uLmluZGV4fWZ1bmN0aW9uIHcodCxlPSJ8Iil7Zm9yKHZhciBuPS9cWyg/OlteXFxcXV18XFwuKSpcXXxcKFw/P3xcXChbMS05XVswLTldKil8XFwuLyxyPTAsbz0iIixpPTA7aTx0Lmxlbmd0aDtpKyspe3IrPTE7dmFyIHM9cixhPW0odFtpXSk7aT4wJiYobys9ZSksbys9IigiO3doaWxlKGEubGVuZ3RoPjApe3ZhciBjPW4uZXhlYyhhKTtpZihudWxsPT1jKXtvKz1hO2JyZWFrfW8rPWEuc3Vic3RyaW5nKDAsYy5pbmRleCksYT1hLnN1YnN0cmluZyhjLmluZGV4K2NbMF0ubGVuZ3RoKSwiXFwiPT09Y1swXVswXSYmY1sxXT9vKz0iXFwiK1N0cmluZyhOdW1iZXIoY1sxXSkrcyk6KG8rPWNbMF0sIigiPT09Y1swXSYmcisrKX1vKz0iKSJ9cmV0dXJuIG99Y29uc3QgUz0iW2EtekEtWl1cXHcqIix4PSJbYS16QS1aX11cXHcqIixrPSJcXGJcXGQrKFxcLlxcZCspPyIsTz0iKC0/KShcXGIwW3hYXVthLWZBLUYwLTldK3woXFxiXFxkKyhcXC5cXGQqKT98XFwuXFxkKykoW2VFXVstK10/XFxkKyk/KSIsQz0iXFxiKDBiWzAxXSspIixNPSIhfCE9fCE9PXwlfCU9fCZ8JiZ8Jj18XFwqfFxcKj18XFwrfFxcKz18LHwtfC09fC89fC98Onw7fDw8fDw8PXw8PXw8fD09PXw9PXw9fD4+Pj18Pj49fD49fD4+Pnw+Pnw+fFxcP3xcXFt8XFx7fFxcKHxcXF58XFxePXxcXHx8XFx8PXxcXHxcXHx8fiIsTj0odD17fSk9Pntjb25zdCBlPS9eIyFbIF0qXC8vO3JldHVybiB0LmJpbmFyeSYmKHQuYmVnaW49ZyhlLC8uKlxiLyx0LmJpbmFyeSwvXGIuKi8pKSxpKHtjbGFzc05hbWU6Im1ldGEiLGJlZ2luOmUsZW5kOi8kLyxyZWxldmFuY2U6MCwib246YmVnaW4iOih0LGUpPT57MCE9PXQuaW5kZXgmJmUuaWdub3JlTWF0Y2goKX19LHQpfSxUPXtiZWdpbjoiXFxcXFtcXHNcXFNdIixyZWxldmFuY2U6MH0sQT17Y2xhc3NOYW1lOiJzdHJpbmciLGJlZ2luOiInIixlbmQ6IiciLGlsbGVnYWw6IlxcbiIsY29udGFpbnM6W1RdfSxEPXtjbGFzc05hbWU6InN0cmluZyIsYmVnaW46JyInLGVuZDonIicsaWxsZWdhbDoiXFxuIixjb250YWluczpbVF19LEU9e2JlZ2luOi9cYihhfGFufHRoZXxhcmV8SSdtfGlzbid0fGRvbid0fGRvZXNuJ3R8d29uJ3R8YnV0fGp1c3R8c2hvdWxkfHByZXR0eXxzaW1wbHl8ZW5vdWdofGdvbm5hfGdvaW5nfHd0Znxzb3xzdWNofHdpbGx8eW91fHlvdXJ8dGhleXxsaWtlfG1vcmUpXGIvfSxSPWZ1bmN0aW9uKHQsZSxuPXt9KXt2YXIgcj1pKHtjbGFzc05hbWU6ImNvbW1lbnQiLGJlZ2luOnQsZW5kOmUsY29udGFpbnM6W119LG4pO3JldHVybiByLmNvbnRhaW5zLnB1c2goRSksci5jb250YWlucy5wdXNoKHtjbGFzc05hbWU6ImRvY3RhZyIsYmVnaW46Iig/OlRPRE98RklYTUV8Tk9URXxCVUd8T1BUSU1JWkV8SEFDS3xYWFgpOiIscmVsZXZhbmNlOjB9KSxyfSxfPVIoIi8vIiwiJCIpLFA9UigiL1xcKiIsIlxcKi8iKSx6PVIoIiMiLCIkIiksST17Y2xhc3NOYW1lOiJudW1iZXIiLGJlZ2luOmsscmVsZXZhbmNlOjB9LGo9e2NsYXNzTmFtZToibnVtYmVyIixiZWdpbjpPLHJlbGV2YW5jZTowfSwkPXtjbGFzc05hbWU6Im51bWJlciIsYmVnaW46QyxyZWxldmFuY2U6MH0sVj17Y2xhc3NOYW1lOiJudW1iZXIiLGJlZ2luOmsrIiglfGVtfGV4fGNofHJlbXx2d3x2aHx2bWlufHZtYXh8Y218bW18aW58cHR8cGN8cHh8ZGVnfGdyYWR8cmFkfHR1cm58c3xtc3xIenxrSHp8ZHBpfGRwY218ZHBweCk/IixyZWxldmFuY2U6MH0sQj17YmVnaW46Lyg/PVwvW14vXG5dKlwvKS8sY29udGFpbnM6W3tjbGFzc05hbWU6InJlZ2V4cCIsYmVnaW46L1wvLyxlbmQ6L1wvW2dpbXV5XSovLGlsbGVnYWw6L1xuLyxjb250YWluczpbVCx7YmVnaW46L1xbLyxlbmQ6L1xdLyxyZWxldmFuY2U6MCxjb250YWluczpbVF19XX1dfSxGPXtjbGFzc05hbWU6InRpdGxlIixiZWdpbjpTLHJlbGV2YW5jZTowfSxMPXtjbGFzc05hbWU6InRpdGxlIixiZWdpbjp4LHJlbGV2YW5jZTowfSxIPXtiZWdpbjoiXFwuXFxzKiIreCxyZWxldmFuY2U6MH0scT1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LHsib246YmVnaW4iOih0LGUpPT57ZS5kYXRhLl9iZWdpbk1hdGNoPXRbMV19LCJvbjplbmQiOih0LGUpPT57ZS5kYXRhLl9iZWdpbk1hdGNoIT09dFsxXSYmZS5pZ25vcmVNYXRjaCgpfX0pfTt2YXIgSz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxJREVOVF9SRTpTLFVOREVSU0NPUkVfSURFTlRfUkU6eCxOVU1CRVJfUkU6ayxDX05VTUJFUl9SRTpPLEJJTkFSWV9OVU1CRVJfUkU6QyxSRV9TVEFSVEVSU19SRTpNLFNIRUJBTkc6TixCQUNLU0xBU0hfRVNDQVBFOlQsQVBPU19TVFJJTkdfTU9ERTpBLFFVT1RFX1NUUklOR19NT0RFOkQsUEhSQVNBTF9XT1JEU19NT0RFOkUsQ09NTUVOVDpSLENfTElORV9DT01NRU5UX01PREU6XyxDX0JMT0NLX0NPTU1FTlRfTU9ERTpQLEhBU0hfQ09NTUVOVF9NT0RFOnosTlVNQkVSX01PREU6SSxDX05VTUJFUl9NT0RFOmosQklOQVJZX05VTUJFUl9NT0RFOiQsQ1NTX05VTUJFUl9NT0RFOlYsUkVHRVhQX01PREU6QixUSVRMRV9NT0RFOkYsVU5ERVJTQ09SRV9USVRMRV9NT0RFOkwsTUVUSE9EX0dVQVJEOkgsRU5EX1NBTUVfQVNfQkVHSU46cX0pLFc9Im9mIGFuZCBmb3IgaW4gbm90IG9yIGlmIHRoZW4iLnNwbGl0KCIgIik7ZnVuY3Rpb24gSih0KXtmdW5jdGlvbiBlKGUsbil7cmV0dXJuIG5ldyBSZWdFeHAobShlKSwibSIrKHQuY2FzZV9pbnNlbnNpdGl2ZT8iaSI6IiIpKyhuPyJnIjoiIikpfWNsYXNzIG57Y29uc3RydWN0b3IoKXt0aGlzLm1hdGNoSW5kZXhlcz17fSx0aGlzLnJlZ2V4ZXM9W10sdGhpcy5tYXRjaEF0PTEsdGhpcy5wb3NpdGlvbj0wfWFkZFJ1bGUodCxlKXtlLnBvc2l0aW9uPXRoaXMucG9zaXRpb24rKyx0aGlzLm1hdGNoSW5kZXhlc1t0aGlzLm1hdGNoQXRdPWUsdGhpcy5yZWdleGVzLnB1c2goW2UsdF0pLHRoaXMubWF0Y2hBdCs9eSh0KSsxfWNvbXBpbGUoKXswPT09dGhpcy5yZWdleGVzLmxlbmd0aCYmKHRoaXMuZXhlYz0oKT0+bnVsbCk7Y29uc3QgdD10aGlzLnJlZ2V4ZXMubWFwKHQ9PnRbMV0pO3RoaXMubWF0Y2hlclJlPWUodyh0KSwhMCksdGhpcy5sYXN0SW5kZXg9MH1leGVjKHQpe3RoaXMubWF0Y2hlclJlLmxhc3RJbmRleD10aGlzLmxhc3RJbmRleDtjb25zdCBlPXRoaXMubWF0Y2hlclJlLmV4ZWModCk7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3Qgbj1lLmZpbmRJbmRleCgodCxlKT0+ZT4wJiZ2b2lkIDAhPT10KSxyPXRoaXMubWF0Y2hJbmRleGVzW25dO3JldHVybiBlLnNwbGljZSgwLG4pLE9iamVjdC5hc3NpZ24oZSxyKX19Y2xhc3Mgcntjb25zdHJ1Y3Rvcigpe3RoaXMucnVsZXM9W10sdGhpcy5tdWx0aVJlZ2V4ZXM9W10sdGhpcy5jb3VudD0wLHRoaXMubGFzdEluZGV4PTAsdGhpcy5yZWdleEluZGV4PTB9Z2V0TWF0Y2hlcih0KXtpZih0aGlzLm11bHRpUmVnZXhlc1t0XSlyZXR1cm4gdGhpcy5tdWx0aVJlZ2V4ZXNbdF07Y29uc3QgZT1uZXcgbjtyZXR1cm4gdGhpcy5ydWxlcy5zbGljZSh0KS5mb3JFYWNoKChbdCxuXSk9PmUuYWRkUnVsZSh0LG4pKSxlLmNvbXBpbGUoKSx0aGlzLm11bHRpUmVnZXhlc1t0XT1lLGV9Y29uc2lkZXJBbGwoKXt0aGlzLnJlZ2V4SW5kZXg9MH1hZGRSdWxlKHQsZSl7dGhpcy5ydWxlcy5wdXNoKFt0LGVdKSwiYmVnaW4iPT09ZS50eXBlJiZ0aGlzLmNvdW50Kyt9ZXhlYyh0KXtjb25zdCBlPXRoaXMuZ2V0TWF0Y2hlcih0aGlzLnJlZ2V4SW5kZXgpO2UubGFzdEluZGV4PXRoaXMubGFzdEluZGV4O2NvbnN0IG49ZS5leGVjKHQpO3JldHVybiBuJiYodGhpcy5yZWdleEluZGV4Kz1uLnBvc2l0aW9uKzEsdGhpcy5yZWdleEluZGV4PT09dGhpcy5jb3VudCYmKHRoaXMucmVnZXhJbmRleD0wKSksbn19ZnVuY3Rpb24gbyh0KXtjb25zdCBlPW5ldyByO3JldHVybiB0LmNvbnRhaW5zLmZvckVhY2godD0+ZS5hZGRSdWxlKHQuYmVnaW4se3J1bGU6dCx0eXBlOiJiZWdpbiJ9KSksdC50ZXJtaW5hdG9yX2VuZCYmZS5hZGRSdWxlKHQudGVybWluYXRvcl9lbmQse3R5cGU6ImVuZCJ9KSx0LmlsbGVnYWwmJmUuYWRkUnVsZSh0LmlsbGVnYWwse3R5cGU6ImlsbGVnYWwifSksZX1mdW5jdGlvbiBpKHQsZSl7Y29uc3Qgbj10LmlucHV0W3QuaW5kZXgtMV0scj10LmlucHV0W3QuaW5kZXgrdFswXS5sZW5ndGhdOyIuIiE9PW4mJiIuIiE9PXJ8fGUuaWdub3JlTWF0Y2goKX1mdW5jdGlvbiBzKG4scil7Y29uc3QgYT1uO2lmKG4uY29tcGlsZWQpcmV0dXJuIGE7bi5jb21waWxlZD0hMCxuLl9fYmVmb3JlQmVnaW49bnVsbCxuLmtleXdvcmRzPW4ua2V5d29yZHN8fG4uYmVnaW5LZXl3b3JkcztsZXQgYz1udWxsO2lmKCJvYmplY3QiPT09dHlwZW9mIG4ua2V5d29yZHMmJihjPW4ua2V5d29yZHMuJHBhdHRlcm4sZGVsZXRlIG4ua2V5d29yZHMuJHBhdHRlcm4pLG4ua2V5d29yZHMmJihuLmtleXdvcmRzPVgobi5rZXl3b3Jkcyx0LmNhc2VfaW5zZW5zaXRpdmUpKSxuLmxleGVtZXMmJmMpdGhyb3cgbmV3IEVycm9yKCJFUlI6IFByZWZlciBga2V5d29yZHMuJHBhdHRlcm5gIHRvIGBtb2RlLmxleGVtZXNgLCBCT1RIIGFyZSBub3QgYWxsb3dlZC4gKHNlZSBtb2RlIHJlZmVyZW5jZSkgIik7cmV0dXJuIGEua2V5d29yZFBhdHRlcm5SZT1lKG4ubGV4ZW1lc3x8Y3x8L1x3Ky8sITApLHImJihuLmJlZ2luS2V5d29yZHMmJihuLmJlZ2luPSJcXGIoIituLmJlZ2luS2V5d29yZHMuc3BsaXQoIiAiKS5qb2luKCJ8IikrIikoPz1cXGJ8XFxzKSIsbi5fX2JlZm9yZUJlZ2luPWkpLG4uYmVnaW58fChuLmJlZ2luPS9cQnxcYi8pLGEuYmVnaW5SZT1lKG4uYmVnaW4pLG4uZW5kU2FtZUFzQmVnaW4mJihuLmVuZD1uLmJlZ2luKSxuLmVuZHx8bi5lbmRzV2l0aFBhcmVudHx8KG4uZW5kPS9cQnxcYi8pLG4uZW5kJiYoYS5lbmRSZT1lKG4uZW5kKSksYS50ZXJtaW5hdG9yX2VuZD1tKG4uZW5kKXx8IiIsbi5lbmRzV2l0aFBhcmVudCYmci50ZXJtaW5hdG9yX2VuZCYmKGEudGVybWluYXRvcl9lbmQrPShuLmVuZD8ifCI6IiIpK3IudGVybWluYXRvcl9lbmQpKSxuLmlsbGVnYWwmJihhLmlsbGVnYWxSZT1lKG4uaWxsZWdhbCkpLHZvaWQgMD09PW4ucmVsZXZhbmNlJiYobi5yZWxldmFuY2U9MSksbi5jb250YWluc3x8KG4uY29udGFpbnM9W10pLG4uY29udGFpbnM9W10uY29uY2F0KC4uLm4uY29udGFpbnMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gRygic2VsZiI9PT10P246dCl9KSkpLG4uY29udGFpbnMuZm9yRWFjaCgoZnVuY3Rpb24odCl7cyh0LGEpfSkpLG4uc3RhcnRzJiZzKG4uc3RhcnRzLHIpLGEubWF0Y2hlcj1vKGEpLGF9aWYodC5jb250YWlucyYmdC5jb250YWlucy5pbmNsdWRlcygic2VsZiIpKXRocm93IG5ldyBFcnJvcigiRVJSOiBjb250YWlucyBgc2VsZmAgaXMgbm90IHN1cHBvcnRlZCBhdCB0aGUgdG9wLWxldmVsIG9mIGEgbGFuZ3VhZ2UuICBTZWUgZG9jdW1lbnRhdGlvbi4iKTtyZXR1cm4gcyh0KX1mdW5jdGlvbiBVKHQpe3JldHVybiEhdCYmKHQuZW5kc1dpdGhQYXJlbnR8fFUodC5zdGFydHMpKX1mdW5jdGlvbiBHKHQpe3JldHVybiB0LnZhcmlhbnRzJiYhdC5jYWNoZWRfdmFyaWFudHMmJih0LmNhY2hlZF92YXJpYW50cz10LnZhcmlhbnRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGkodCx7dmFyaWFudHM6bnVsbH0sZSl9KSkpLHQuY2FjaGVkX3ZhcmlhbnRzP3QuY2FjaGVkX3ZhcmlhbnRzOlUodCk/aSh0LHtzdGFydHM6dC5zdGFydHM/aSh0LnN0YXJ0cyk6bnVsbH0pOk9iamVjdC5pc0Zyb3plbih0KT9pKHQpOnR9ZnVuY3Rpb24gWCh0LGUpe3ZhciBuPXt9O3JldHVybiJzdHJpbmciPT09dHlwZW9mIHQ/cigia2V5d29yZCIsdCk6T2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cihlLHRbZV0pfSkpLG47ZnVuY3Rpb24gcih0LHIpe2UmJihyPXIudG9Mb3dlckNhc2UoKSksci5zcGxpdCgiICIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPWUuc3BsaXQoInwiKTtuW3JbMF1dPVt0LFkoclswXSxyWzFdKV19KSl9fWZ1bmN0aW9uIFkodCxlKXtyZXR1cm4gZT9OdW1iZXIoZSk6Wih0KT8wOjF9ZnVuY3Rpb24gWih0KXtyZXR1cm4gVy5pbmNsdWRlcyh0LnRvTG93ZXJDYXNlKCkpfXZhciBRPSIxMC4xLjEiO2NvbnN0IHR0PW8sZXQ9aSx7bm9kZVN0cmVhbTpudCxtZXJnZVN0cmVhbXM6cnR9PWwsb3Q9U3ltYm9sKCJub21hdGNoIiksaXQ9ZnVuY3Rpb24odCl7dmFyIGU9W10sbz17fSxpPXt9LHM9W10sYT0hMCxjPS8oXig8W14+XSs+fFx0fCkrfFxuKS9nbSxsPSJDb3VsZCBub3QgZmluZCB0aGUgbGFuZ3VhZ2UgJ3t9JywgZGlkIHlvdSBmb3JnZXQgdG8gbG9hZC9pbmNsdWRlIGEgbGFuZ3VhZ2UgbW9kdWxlPyI7Y29uc3QgdT17ZGlzYWJsZUF1dG9kZXRlY3Q6ITAsbmFtZToiUGxhaW4gdGV4dCIsY29udGFpbnM6W119O3ZhciBmPXtub0hpZ2hsaWdodFJlOi9eKG5vLT9oaWdobGlnaHQpJC9pLGxhbmd1YWdlRGV0ZWN0UmU6L1xibGFuZyg/OnVhZ2UpPy0oW1x3LV0rKVxiL2ksY2xhc3NQcmVmaXg6ImhsanMtIix0YWJSZXBsYWNlOm51bGwsdXNlQlI6ITEsbGFuZ3VhZ2VzOm51bGwsX19lbWl0dGVyOmh9O2Z1bmN0aW9uIGQodCl7cmV0dXJuIGYubm9IaWdobGlnaHRSZS50ZXN0KHQpfWZ1bmN0aW9uIHAodCl7dmFyIGU9dC5jbGFzc05hbWUrIiAiO2UrPXQucGFyZW50Tm9kZT90LnBhcmVudE5vZGUuY2xhc3NOYW1lOiIiO2NvbnN0IG49Zi5sYW5ndWFnZURldGVjdFJlLmV4ZWMoZSk7aWYobil7dmFyIHI9RChuWzFdKTtyZXR1cm4gcnx8KGNvbnNvbGUud2FybihsLnJlcGxhY2UoInt9IixuWzFdKSksY29uc29sZS53YXJuKCJGYWxsaW5nIGJhY2sgdG8gbm8taGlnaGxpZ2h0IG1vZGUgZm9yIHRoaXMgYmxvY2suIix0KSkscj9uWzFdOiJuby1oaWdobGlnaHQifXJldHVybiBlLnNwbGl0KC9ccysvKS5maW5kKHQ9PmQodCl8fEQodCkpfWZ1bmN0aW9uIG0odCxlLG4scil7dmFyIG89e2NvZGU6ZSxsYW5ndWFnZTp0fTtQKCJiZWZvcmU6aGlnaGxpZ2h0IixvKTt2YXIgaT1vLnJlc3VsdD9vLnJlc3VsdDpnKG8ubGFuZ3VhZ2Usby5jb2RlLG4scik7cmV0dXJuIGkuY29kZT1vLmNvZGUsUCgiYWZ0ZXI6aGlnaGxpZ2h0IixpKSxpfWZ1bmN0aW9uIGcodCxlLG4saSl7dmFyIHM9ZTtmdW5jdGlvbiBjKHQsZSl7dmFyIG49TS5jYXNlX2luc2Vuc2l0aXZlP2VbMF0udG9Mb3dlckNhc2UoKTplWzBdO3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodC5rZXl3b3JkcyxuKSYmdC5rZXl3b3Jkc1tuXX1mdW5jdGlvbiB1KCl7aWYoIUEua2V5d29yZHMpcmV0dXJuIHZvaWQgUi5hZGRUZXh0KF8pO2xldCB0PTA7QS5rZXl3b3JkUGF0dGVyblJlLmxhc3RJbmRleD0wO2xldCBlPUEua2V5d29yZFBhdHRlcm5SZS5leGVjKF8pLG49IiI7d2hpbGUoZSl7bis9Xy5zdWJzdHJpbmcodCxlLmluZGV4KTtjb25zdCByPWMoQSxlKTtpZihyKXtjb25zdFt0LG9dPXI7Ui5hZGRUZXh0KG4pLG49IiIsUCs9byxSLmFkZEtleXdvcmQoZVswXSx0KX1lbHNlIG4rPWVbMF07dD1BLmtleXdvcmRQYXR0ZXJuUmUubGFzdEluZGV4LGU9QS5rZXl3b3JkUGF0dGVyblJlLmV4ZWMoXyl9bis9Xy5zdWJzdHIodCksUi5hZGRUZXh0KG4pfWZ1bmN0aW9uIGQoKXtpZigiIiE9PV8pe3ZhciB0PW51bGw7aWYoInN0cmluZyI9PT10eXBlb2YgQS5zdWJMYW5ndWFnZSl7aWYoIW9bQS5zdWJMYW5ndWFnZV0pcmV0dXJuIHZvaWQgUi5hZGRUZXh0KF8pO3Q9ZyhBLnN1Ykxhbmd1YWdlLF8sITAsRVtBLnN1Ykxhbmd1YWdlXSksRVtBLnN1Ykxhbmd1YWdlXT10LnRvcH1lbHNlIHQ9dyhfLEEuc3ViTGFuZ3VhZ2UubGVuZ3RoP0Euc3ViTGFuZ3VhZ2U6bnVsbCk7QS5yZWxldmFuY2U+MCYmKFArPXQucmVsZXZhbmNlKSxSLmFkZFN1Ymxhbmd1YWdlKHQuZW1pdHRlcix0Lmxhbmd1YWdlKX19ZnVuY3Rpb24gcCgpe251bGwhPUEuc3ViTGFuZ3VhZ2U/ZCgpOnUoKSxfPSIifWZ1bmN0aW9uIGgodCl7cmV0dXJuIHQuY2xhc3NOYW1lJiZSLm9wZW5Ob2RlKHQuY2xhc3NOYW1lKSxBPU9iamVjdC5jcmVhdGUodCx7cGFyZW50Ont2YWx1ZTpBfX0pLEF9ZnVuY3Rpb24gbSh0LGUsbil7bGV0IG89Yih0LmVuZFJlLG4pO2lmKG8pe2lmKHRbIm9uOmVuZCJdKXtjb25zdCBuPW5ldyByKHQpO3RbIm9uOmVuZCJdKGUsbiksbi5pZ25vcmUmJihvPSExKX1pZihvKXt3aGlsZSh0LmVuZHNQYXJlbnQmJnQucGFyZW50KXQ9dC5wYXJlbnQ7cmV0dXJuIHR9fWlmKHQuZW5kc1dpdGhQYXJlbnQpcmV0dXJuIG0odC5wYXJlbnQsZSxuKX1mdW5jdGlvbiB5KHQpe3JldHVybiAwPT09QS5tYXRjaGVyLnJlZ2V4SW5kZXg/KF8rPXRbMF0sMSk6KGo9ITAsMCl9ZnVuY3Rpb24gUyh0KXt2YXIgZT10WzBdLG49dC5ydWxlO2NvbnN0IG89bmV3IHIobiksaT1bbi5fX2JlZm9yZUJlZ2luLG5bIm9uOmJlZ2luIl1dO2Zvcihjb25zdCByIG9mIGkpaWYociYmKHIodCxvKSxvLmlnbm9yZSkpcmV0dXJuIHkoZSk7cmV0dXJuIG4mJm4uZW5kU2FtZUFzQmVnaW4mJihuLmVuZFJlPXYoZSkpLG4uc2tpcD9fKz1lOihuLmV4Y2x1ZGVCZWdpbiYmKF8rPWUpLHAoKSxuLnJldHVybkJlZ2lufHxuLmV4Y2x1ZGVCZWdpbnx8KF89ZSkpLGgobiksbi5yZXR1cm5CZWdpbj8wOmUubGVuZ3RofWZ1bmN0aW9uIHgodCl7dmFyIGU9dFswXSxuPXMuc3Vic3RyKHQuaW5kZXgpLHI9bShBLHQsbik7aWYoIXIpcmV0dXJuIG90O3ZhciBvPUE7by5za2lwP18rPWU6KG8ucmV0dXJuRW5kfHxvLmV4Y2x1ZGVFbmR8fChfKz1lKSxwKCksby5leGNsdWRlRW5kJiYoXz1lKSk7ZG97QS5jbGFzc05hbWUmJlIuY2xvc2VOb2RlKCksQS5za2lwfHxBLnN1Ykxhbmd1YWdlfHwoUCs9QS5yZWxldmFuY2UpLEE9QS5wYXJlbnR9d2hpbGUoQSE9PXIucGFyZW50KTtyZXR1cm4gci5zdGFydHMmJihyLmVuZFNhbWVBc0JlZ2luJiYoci5zdGFydHMuZW5kUmU9ci5lbmRSZSksaChyLnN0YXJ0cykpLG8ucmV0dXJuRW5kPzA6ZS5sZW5ndGh9ZnVuY3Rpb24gaygpe2Zvcih2YXIgdD1bXSxlPUE7ZSE9PU07ZT1lLnBhcmVudCllLmNsYXNzTmFtZSYmdC51bnNoaWZ0KGUuY2xhc3NOYW1lKTt0LmZvckVhY2godD0+Ui5vcGVuTm9kZSh0KSl9dmFyIE89e307ZnVuY3Rpb24gQyhlLHIpe3ZhciBvPXImJnJbMF07aWYoXys9ZSxudWxsPT1vKXJldHVybiBwKCksMDtpZigiYmVnaW4iPT09Ty50eXBlJiYiZW5kIj09PXIudHlwZSYmTy5pbmRleD09PXIuaW5kZXgmJiIiPT09byl7aWYoXys9cy5zbGljZShyLmluZGV4LHIuaW5kZXgrMSksIWEpe2NvbnN0IGU9bmV3IEVycm9yKCIwIHdpZHRoIG1hdGNoIHJlZ2V4Iik7dGhyb3cgZS5sYW5ndWFnZU5hbWU9dCxlLmJhZFJ1bGU9Ty5ydWxlLGV9cmV0dXJuIDF9aWYoTz1yLCJiZWdpbiI9PT1yLnR5cGUpcmV0dXJuIFMocik7aWYoImlsbGVnYWwiPT09ci50eXBlJiYhbil7Y29uc3QgdD1uZXcgRXJyb3IoJ0lsbGVnYWwgbGV4ZW1lICInK28rJyIgZm9yIG1vZGUgIicrKEEuY2xhc3NOYW1lfHwiPHVubmFtZWQ+IikrJyInKTt0aHJvdyB0Lm1vZGU9QSx0fWlmKCJlbmQiPT09ci50eXBlKXt2YXIgaT14KHIpO2lmKGkhPT1vdClyZXR1cm4gaX1pZigiaWxsZWdhbCI9PT1yLnR5cGUmJiIiPT09bylyZXR1cm4gMTtpZihJPjFlNSYmST4zKnIuaW5kZXgpe2NvbnN0IHQ9bmV3IEVycm9yKCJwb3RlbnRpYWwgaW5maW5pdGUgbG9vcCwgd2F5IG1vcmUgaXRlcmF0aW9ucyB0aGFuIG1hdGNoZXMiKTt0aHJvdyB0fXJldHVybiBfKz1vLG8ubGVuZ3RofXZhciBNPUQodCk7aWYoIU0pdGhyb3cgY29uc29sZS5lcnJvcihsLnJlcGxhY2UoInt9Iix0KSksbmV3IEVycm9yKCdVbmtub3duIGxhbmd1YWdlOiAiJyt0KyciJyk7dmFyIE49SihNKSxUPSIiLEE9aXx8TixFPXt9LFI9bmV3IGYuX19lbWl0dGVyKGYpO2soKTt2YXIgXz0iIixQPTAsej0wLEk9MCxqPSExO3RyeXtmb3IoQS5tYXRjaGVyLmNvbnNpZGVyQWxsKCk7Oyl7SSsrLGo/aj0hMTooQS5tYXRjaGVyLmxhc3RJbmRleD16LEEubWF0Y2hlci5jb25zaWRlckFsbCgpKTtjb25zdCB0PUEubWF0Y2hlci5leGVjKHMpO2lmKCF0KWJyZWFrO2NvbnN0IGU9cy5zdWJzdHJpbmcoeix0LmluZGV4KSxuPUMoZSx0KTt6PXQuaW5kZXgrbn1yZXR1cm4gQyhzLnN1YnN0cih6KSksUi5jbG9zZUFsbE5vZGVzKCksUi5maW5hbGl6ZSgpLFQ9Ui50b0hUTUwoKSx7cmVsZXZhbmNlOlAsdmFsdWU6VCxsYW5ndWFnZTp0LGlsbGVnYWw6ITEsZW1pdHRlcjpSLHRvcDpBfX1jYXRjaCgkKXtpZigkLm1lc3NhZ2UmJiQubWVzc2FnZS5pbmNsdWRlcygiSWxsZWdhbCIpKXJldHVybntpbGxlZ2FsOiEwLGlsbGVnYWxCeTp7bXNnOiQubWVzc2FnZSxjb250ZXh0OnMuc2xpY2Uoei0xMDAseisxMDApLG1vZGU6JC5tb2RlfSxzb2ZhcjpULHJlbGV2YW5jZTowLHZhbHVlOnR0KHMpLGVtaXR0ZXI6Un07aWYoYSlyZXR1cm57aWxsZWdhbDohMSxyZWxldmFuY2U6MCx2YWx1ZTp0dChzKSxlbWl0dGVyOlIsbGFuZ3VhZ2U6dCx0b3A6QSxlcnJvclJhaXNlZDokfTt0aHJvdyAkfX1mdW5jdGlvbiB5KHQpe2NvbnN0IGU9e3JlbGV2YW5jZTowLGVtaXR0ZXI6bmV3IGYuX19lbWl0dGVyKGYpLHZhbHVlOnR0KHQpLGlsbGVnYWw6ITEsdG9wOnV9O3JldHVybiBlLmVtaXR0ZXIuYWRkVGV4dCh0KSxlfWZ1bmN0aW9uIHcodCxlKXtlPWV8fGYubGFuZ3VhZ2VzfHxPYmplY3Qua2V5cyhvKTt2YXIgbj15KHQpLHI9bjtyZXR1cm4gZS5maWx0ZXIoRCkuZmlsdGVyKFIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBvPWcoZSx0LCExKTtvLmxhbmd1YWdlPWUsby5yZWxldmFuY2U+ci5yZWxldmFuY2UmJihyPW8pLG8ucmVsZXZhbmNlPm4ucmVsZXZhbmNlJiYocj1uLG49byl9KSksci5sYW5ndWFnZSYmKG4uc2Vjb25kX2Jlc3Q9ciksbn1mdW5jdGlvbiBTKHQpe3JldHVybiBmLnRhYlJlcGxhY2V8fGYudXNlQlI/dC5yZXBsYWNlKGMsdD0+IlxuIj09PXQ/Zi51c2VCUj8iPGJyPiI6dDpmLnRhYlJlcGxhY2U/dC5yZXBsYWNlKC9cdC9nLGYudGFiUmVwbGFjZSk6dCk6dH1mdW5jdGlvbiB4KHQsZSxuKXt2YXIgcj1lP2lbZV06bixvPVt0LnRyaW0oKV07cmV0dXJuIHQubWF0Y2goL1xiaGxqc1xiLyl8fG8ucHVzaCgiaGxqcyIpLHQuaW5jbHVkZXMocil8fG8ucHVzaChyKSxvLmpvaW4oIiAiKS50cmltKCl9ZnVuY3Rpb24gayh0KXtsZXQgZT1udWxsO2NvbnN0IG49cCh0KTtpZihkKG4pKXJldHVybjtQKCJiZWZvcmU6aGlnaGxpZ2h0QmxvY2siLHtibG9jazp0LGxhbmd1YWdlOm59KSxmLnVzZUJSPyhlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGUuaW5uZXJIVE1MPXQuaW5uZXJIVE1MLnJlcGxhY2UoL1xuL2csIiIpLnJlcGxhY2UoLzxiclsgL10qPi9nLCJcbiIpKTplPXQ7Y29uc3Qgcj1lLnRleHRDb250ZW50LG89bj9tKG4sciwhMCk6dyhyKSxpPW50KGUpO2lmKGkubGVuZ3RoKXtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3QuaW5uZXJIVE1MPW8udmFsdWUsby52YWx1ZT1ydChpLG50KHQpLHIpfW8udmFsdWU9UyhvLnZhbHVlKSxQKCJhZnRlcjpoaWdobGlnaHRCbG9jayIse2Jsb2NrOnQscmVzdWx0Om99KSx0LmlubmVySFRNTD1vLnZhbHVlLHQuY2xhc3NOYW1lPXgodC5jbGFzc05hbWUsbixvLmxhbmd1YWdlKSx0LnJlc3VsdD17bGFuZ3VhZ2U6by5sYW5ndWFnZSxyZTpvLnJlbGV2YW5jZSxyZWxhdmFuY2U6by5yZWxldmFuY2V9LG8uc2Vjb25kX2Jlc3QmJih0LnNlY29uZF9iZXN0PXtsYW5ndWFnZTpvLnNlY29uZF9iZXN0Lmxhbmd1YWdlLHJlOm8uc2Vjb25kX2Jlc3QucmVsZXZhbmNlLHJlbGF2YW5jZTpvLnNlY29uZF9iZXN0LnJlbGV2YW5jZX0pfWZ1bmN0aW9uIE8odCl7Zj1ldChmLHQpfWNvbnN0IEM9KCk9PntpZighQy5jYWxsZWQpe0MuY2FsbGVkPSEwO3ZhciB0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInByZSBjb2RlIik7ZS5mb3JFYWNoLmNhbGwodCxrKX19O2Z1bmN0aW9uIE0oKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQywhMSl9ZnVuY3Rpb24gTihlLG4pe3ZhciByPW51bGw7dHJ5e3I9bih0KX1jYXRjaChpKXtpZihjb25zb2xlLmVycm9yKCJMYW5ndWFnZSBkZWZpbml0aW9uIGZvciAne30nIGNvdWxkIG5vdCBiZSByZWdpc3RlcmVkLiIucmVwbGFjZSgie30iLGUpKSwhYSl0aHJvdyBpO2NvbnNvbGUuZXJyb3IoaSkscj11fXIubmFtZXx8KHIubmFtZT1lKSxvW2VdPXIsci5yYXdEZWZpbml0aW9uPW4uYmluZChudWxsLHQpLHIuYWxpYXNlcyYmRShyLmFsaWFzZXMse2xhbmd1YWdlTmFtZTplfSl9ZnVuY3Rpb24gVCgpe3JldHVybiBPYmplY3Qua2V5cyhvKX1mdW5jdGlvbiBBKHQpe3ZhciBlPUQodCk7aWYoZSlyZXR1cm4gZTt2YXIgbj1uZXcgRXJyb3IoIlRoZSAne30nIGxhbmd1YWdlIGlzIHJlcXVpcmVkLCBidXQgbm90IGxvYWRlZC4iLnJlcGxhY2UoInt9Iix0KSk7dGhyb3cgbn1mdW5jdGlvbiBEKHQpe3JldHVybiB0PSh0fHwiIikudG9Mb3dlckNhc2UoKSxvW3RdfHxvW2lbdF1dfWZ1bmN0aW9uIEUodCx7bGFuZ3VhZ2VOYW1lOmV9KXsic3RyaW5nIj09PXR5cGVvZiB0JiYodD1bdF0pLHQuZm9yRWFjaCh0PT57aVt0XT1lfSl9ZnVuY3Rpb24gUih0KXt2YXIgZT1EKHQpO3JldHVybiBlJiYhZS5kaXNhYmxlQXV0b2RldGVjdH1mdW5jdGlvbiBfKHQpe3MucHVzaCh0KX1mdW5jdGlvbiBQKHQsZSl7dmFyIG49dDtzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3Rbbl0mJnRbbl0oZSl9KSl9T2JqZWN0LmFzc2lnbih0LHtoaWdobGlnaHQ6bSxoaWdobGlnaHRBdXRvOncsZml4TWFya3VwOlMsaGlnaGxpZ2h0QmxvY2s6ayxjb25maWd1cmU6Tyxpbml0SGlnaGxpZ2h0aW5nOkMsaW5pdEhpZ2hsaWdodGluZ09uTG9hZDpNLHJlZ2lzdGVyTGFuZ3VhZ2U6TixsaXN0TGFuZ3VhZ2VzOlQsZ2V0TGFuZ3VhZ2U6RCxyZWdpc3RlckFsaWFzZXM6RSxyZXF1aXJlTGFuZ3VhZ2U6QSxhdXRvRGV0ZWN0aW9uOlIsaW5oZXJpdDpldCxhZGRQbHVnaW46X30pLHQuZGVidWdNb2RlPWZ1bmN0aW9uKCl7YT0hMX0sdC5zYWZlTW9kZT1mdW5jdGlvbigpe2E9ITB9LHQudmVyc2lvblN0cmluZz1RO2Zvcihjb25zdCByIGluIEspIm9iamVjdCI9PT10eXBlb2YgS1tyXSYmbihLW3JdKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LEspLHR9O3ZhciBzdD1pdCh7fSk7dC5leHBvcnRzPXN0fSxlNDhjOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTIyLjYwOC4xNjFhLjUuNSAwIDAwLS41NDUuMTA4TDE5LjQ3MiAyLjg2YS4yNS4yNSAwIDAxLS4yOTIuMDQ1IDEyLjUzNyAxMi41MzcgMCAwMC0xMi45NjYuODY1QTEyLjI1OSAxMi4yNTkgMCAwMDYuMSAyMy42MzJhMS4yNSAxLjI1IDAgMDAxLjQ3Ni0yLjAxOCA5Ljc1OSA5Ljc1OSAwIDAxLjA5MS0xNS44MDkgMTAgMTAgMCAwMTkuNDY2LTEuMS4yNS4yNSAwIDAxLjA4NC40MDlsLTEuODUgMS44NWEuNS41IDAgMDAuMzU0Ljg1M2g2LjdhLjUuNSAwIDAwLjUtLjVWLjYyM2EuNS41IDAgMDAtLjMxMy0uNDYyeiJ9fSldKSl9fX0sZTUzODpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiYjYyMiIpO2UuZj1yfSxlNzZjOmZ1bmN0aW9uKHQsZSxuKXt9LGU4OTM6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjUxMzUiKSxvPW4oIjU2ZWYiKSxpPW4oIjA2Y2YiKSxzPW4oIjliZjIiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49byhlKSxhPXMuZixjPWkuZixsPTA7bDxuLmxlbmd0aDtsKyspe3ZhciB1PW5bbF07cih0LHUpfHxhKHQsdSxjKGUsdSkpfX19LGU4YjU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImM2YjYiKTt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24odCl7cmV0dXJuIkFycmF5Ij09cih0KX19LGU5NWE6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImI2MjIiKSxvPW4oIjNmOGMiKSxpPXIoIml0ZXJhdG9yIikscz1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10JiYoby5BcnJheT09PXR8fHNbaV09PT10KX19LGVkNTM6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZn09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5mfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMTkgMTRhNSA1IDAgMTEwIDEwIDUgNSAwIDAxMC0xMHptMi41IDUuOTM4YS45MzcuOTM3IDAgMTAwLTEuODc1aC0xLjI1YS4zMTIuMzEyIDAgMDEtLjMxMy0uMzEzVjE2LjVhLjkzNy45MzcgMCAxMC0xLjg3NSAwdjEuMjVjMCAuMTczLS4xNC4zMTMtLjMxMi4zMTNIMTYuNWEuOTM3LjkzNyAwIDEwMCAxLjg3NWgxLjI1Yy4xNzMgMCAuMzEzLjE0LjMxMy4zMTJ2MS4yNWEuOTM3LjkzNyAwIDEwMS44NzUgMHYtMS4yNWMwLS4xNzMuMTQtLjMxMy4zMTItLjMxM2gxLjI1ek0yIDE5YTMgMyAwIDAwNiAwVjVhMyAzIDAgMTAtNiAwdjE0em0tMiAwVjVhNSA1IDAgMTExMCAwdjE0YTUgNSAwIDAxLTEwIDB6In19KV0pKX19fSxmNWRmOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCIwMGVlIiksbz1uKCJjNmI2IiksaT1uKCJiNjIyIikscz1pKCJ0b1N0cmluZ1RhZyIpLGE9IkFyZ3VtZW50cyI9PW8oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKSxjPWZ1bmN0aW9uKHQsZSl7dHJ5e3JldHVybiB0W2VdfWNhdGNoKG4pe319O3QuZXhwb3J0cz1yP286ZnVuY3Rpb24odCl7dmFyIGUsbixyO3JldHVybiB2b2lkIDA9PT10PyJVbmRlZmluZWQiOm51bGw9PT10PyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKG49YyhlPU9iamVjdCh0KSxzKSk/bjphP28oZSk6Ik9iamVjdCI9PShyPW8oZSkpJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5jYWxsZWU/IkFyZ3VtZW50cyI6cn19LGY3NzI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjU2OTIiKSxvPW4oIjkwZTMiKSxpPXIoImtleXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlbdF18fChpW3RdPW8odCkpfX0sZjkzOTpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5mfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmZ9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xOSAxNGE1IDUgMCAxMTAgMTAgNSA1IDAgMDEwLTEwem0yLjUgNS45MzhhLjkzNy45MzcgMCAxMDAtMS44NzVoLTEuMjVhLjMxMi4zMTIgMCAwMS0uMzEzLS4zMTNWMTYuNWEuOTM3LjkzNyAwIDEwLTEuODc1IDB2MS4yNWMwIC4xNzMtLjE0LjMxMy0uMzEyLjMxM0gxNi41YS45MzcuOTM3IDAgMTAwIDEuODc1aDEuMjVjLjE3MyAwIC4zMTMuMTQuMzEzLjMxMnYxLjI1YS45MzcuOTM3IDAgMTAxLjg3NSAwdi0xLjI1YzAtLjE3My4xNC0uMzEzLjMxMi0uMzEzaDEuMjV6TTUgMmEzIDMgMCAxMDAgNmgxNGEzIDMgMCAwMDAtNkg1em0wLTJoMTRhNSA1IDAgMDEwIDEwSDVBNSA1IDAgMTE1IDB6In19KV0pKX19fSxmYTBiOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTIyLjUgMjEuMjQ4aC0yMWExLjI1IDEuMjUgMCAwMDAgMi41aDIxYTEuMjUgMS4yNSAwIDAwMC0yLjV6TTEuOTc4IDIuNzQ4aDEuMzYzYS4yNS4yNSAwIDAxLjI1LjI1djguNTIzYTguNDA5IDguNDA5IDAgMDAxNi44MTggMFYzYS4yNS4yNSAwIDAxLjI1LS4yNWgxLjM2M2ExLjI1IDEuMjUgMCAwMDAtMi41SDE2LjNhMS4yNSAxLjI1IDAgMDAwIDIuNWgxLjM2M2EuMjUuMjUgMCAwMS4yNS4yNXY4LjUyM2E1LjkwOSA1LjkwOSAwIDAxLTExLjgxOCAwVjNhLjI1LjI1IDAgMDEuMjUtLjI1SDcuN2ExLjI1IDEuMjUgMCAxMDAtMi41SDEuOTc4YTEuMjUgMS4yNSAwIDAwMCAyLjV6In19KV0pKX19fSxmYWUzOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7aWYobi5yKGUpLCJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdyl7dmFyIHI9d2luZG93LmRvY3VtZW50LmN1cnJlbnRTY3JpcHQsbz1uKCI4ODc1Iik7cj1vKCksImN1cnJlbnRTY3JpcHQiaW4gZG9jdW1lbnR8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkb2N1bWVudCwiY3VycmVudFNjcmlwdCIse2dldDpvfSk7dmFyIGk9ciYmci5zcmMubWF0Y2goLyguK1wvKVteL10rXC5qcyhcPy4qKT8kLyk7aSYmKG4ucD1pWzFdKX12YXIgcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10LiRjcmVhdGVFbGVtZW50LG49dC5fc2VsZi5fY3x8ZTtyZXR1cm4gbigiZGl2Iix7c3RhdGljQ2xhc3M6InRpcHRhcC1lZGl0b3IifSxbbigiZWRpdG9yLW1lbnUtYmFyIix7YXR0cnM6e2VkaXRvcjp0LmVkaXRvcn0sc2NvcGVkU2xvdHM6dC5fdShbe2tleToiZGVmYXVsdCIsZm46ZnVuY3Rpb24oZSl7dmFyIHI9ZS5jb21tYW5kcyxvPWUuaXNBY3RpdmU7cmV0dXJuW24oImRpdiIse3N0YXRpY0NsYXNzOiJtZW51YmFyIn0sW24oImRpdiIse3N0YXRpY0NsYXNzOiJ0b29sYmFyIn0sW24oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLmhlYWRpbmcoe2xldmVsOjF9KX0sb246e2NsaWNrOmZ1bmN0aW9uKHQpe3JldHVybiByLmhlYWRpbmcoe2xldmVsOjF9KX19fSxbdC5fdigiIEgxICIpXSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8uaGVhZGluZyh7bGV2ZWw6Mn0pfSxvbjp7Y2xpY2s6ZnVuY3Rpb24odCl7cmV0dXJuIHIuaGVhZGluZyh7bGV2ZWw6Mn0pfX19LFt0Ll92KCIgSDIgIildKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5oZWFkaW5nKHtsZXZlbDozfSl9LG9uOntjbGljazpmdW5jdGlvbih0KXtyZXR1cm4gci5oZWFkaW5nKHtsZXZlbDozfSl9fX0sW3QuX3YoIiBIMyAiKV0pLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLmJ1bGxldF9saXN0KCl9LG9uOntjbGljazpyLmJ1bGxldF9saXN0fX0sW24oImljb24iLHthdHRyczp7bmFtZToidWwifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5vcmRlcmVkX2xpc3QoKX0sb246e2NsaWNrOnIub3JkZXJlZF9saXN0fX0sW24oImljb24iLHthdHRyczp7bmFtZToib2wifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5ib2xkKCl9LG9uOntjbGljazpyLmJvbGR9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJib2xkIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8uaXRhbGljKCl9LG9uOntjbGljazpyLml0YWxpY319LFtuKCJpY29uIix7YXR0cnM6e25hbWU6Iml0YWxpYyJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLnN0cmlrZSgpfSxvbjp7Y2xpY2s6ci5zdHJpa2V9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJzdHJpa2UifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by51bmRlcmxpbmUoKX0sb246e2NsaWNrOnIudW5kZXJsaW5lfX0sW24oImljb24iLHthdHRyczp7bmFtZToidW5kZXJsaW5lIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8uY29kZSgpfSxvbjp7Y2xpY2s6ci5jb2RlfX0sW24oImljb24iLHthdHRyczp7bmFtZToiY29kZSJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLnBhcmFncmFwaCgpfSxvbjp7Y2xpY2s6ci5wYXJhZ3JhcGh9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJwYXJhZ3JhcGgifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5ibG9ja3F1b3RlKCl9LG9uOntjbGljazpyLmJsb2NrcXVvdGV9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJxdW90ZSJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLmNvZGVfYmxvY2soKX0sb246e2NsaWNrOnIuY29kZV9ibG9ja319LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImNvZGVfYmxvY2sifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixvbjp7Y2xpY2s6ZnVuY3Rpb24odCl7cmV0dXJuIHIuY3JlYXRlVGFibGUoe3Jvd3NDb3VudDozLGNvbHNDb3VudDozLHdpdGhIZWFkZXJSb3c6ITF9KX19fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJ0YWJsZSJ9fSldLDEpLG8udGFibGUoKT9uKCJzcGFuIixbbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsb246e2NsaWNrOnIuZGVsZXRlVGFibGV9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJkZWxldGVfdGFibGUifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixvbjp7Y2xpY2s6ci5hZGRDb2x1bW5CZWZvcmV9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJhZGRfY29sX2JlZm9yZSJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLG9uOntjbGljazpyLmFkZENvbHVtbkFmdGVyfX0sW24oImljb24iLHthdHRyczp7bmFtZToiYWRkX2NvbF9hZnRlciJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLG9uOntjbGljazpyLmRlbGV0ZUNvbHVtbn19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImRlbGV0ZV9jb2wifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixvbjp7Y2xpY2s6ci5hZGRSb3dCZWZvcmV9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJhZGRfcm93X2JlZm9yZSJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLG9uOntjbGljazpyLmFkZFJvd0FmdGVyfX0sW24oImljb24iLHthdHRyczp7bmFtZToiYWRkX3Jvd19hZnRlciJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLG9uOntjbGljazpyLmRlbGV0ZVJvd319LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImRlbGV0ZV9yb3cifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixvbjp7Y2xpY2s6ci50b2dnbGVDZWxsTWVyZ2V9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJjb21iaW5lX2NlbGxzIn19KV0sMSldKTp0Ll9lKCldKV0pXX19XSl9KSxuKCJlZGl0b3ItY29udGVudCIse3N0YXRpY0NsYXNzOiJ0aXB0YXAtZWRpdG9yX19jb250ZW50IixhdHRyczp7ZWRpdG9yOnQuZWRpdG9yfX0pXSwxKX0sYT1bXSxjPShuKCJkYzQ0IiksbigiNTMxMyIpKSxsPW4oIjMwNGEiKSx1PW4oIjBhYzAiKSxmPXt9O2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiYidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50KXt2YXIgZD0vRWRnZVwvKFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCkscD0vTVNJRSBcZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxoPS9UcmlkZW50XC8oPzpbNy05XXxcZHsyLH0pXC4uKnJ2OihcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpO2YubWFjPS9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTt2YXIgdj1mLmllPSEhKHB8fGh8fGQpO2YuaWVfdmVyc2lvbj1wP2RvY3VtZW50LmRvY3VtZW50TW9kZXx8NjpoPytoWzFdOmQ/K2RbMV06bnVsbCxmLmdlY2tvPSF2JiYvZ2Vja29cLyhcZCspL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxmLmdlY2tvX3ZlcnNpb249Zi5nZWNrbyYmKygvRmlyZWZveFwvKFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCl8fFswLDBdKVsxXTt2YXIgbT0hdiYmL0Nocm9tZVwvKFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7Zi5jaHJvbWU9ISFtLGYuY2hyb21lX3ZlcnNpb249bSYmK21bMV0sZi5pb3M9IXYmJi9BcHBsZVdlYktpdC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmL01vYmlsZVwvXHcrLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGYuYW5kcm9pZD0vQW5kcm9pZCBcZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxmLndlYmtpdD0id2Via2l0Rm9udFNtb290aGluZyJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUsZi5zYWZhcmk9L0FwcGxlIENvbXB1dGVyLy50ZXN0KG5hdmlnYXRvci52ZW5kb3IpLGYud2Via2l0X3ZlcnNpb249Zi53ZWJraXQmJisoL1xiQXBwbGVXZWJLaXRcLyhcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpfHxbMCwwXSlbMV19dmFyIGc9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7O2UrKylpZih0PXQucHJldmlvdXNTaWJsaW5nLCF0KXJldHVybiBlfSx5PWZ1bmN0aW9uKHQpe3ZhciBlPXQucGFyZW50Tm9kZTtyZXR1cm4gZSYmMTE9PWUubm9kZVR5cGU/ZS5ob3N0OmV9LGI9ZnVuY3Rpb24odCxlLG4pe3ZhciByPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7cmV0dXJuIHIuc2V0RW5kKHQsbnVsbD09bj90Lm5vZGVWYWx1ZS5sZW5ndGg6biksci5zZXRTdGFydCh0LGV8fDApLHJ9LHc9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIG4mJih4KHQsZSxuLHIsLTEpfHx4KHQsZSxuLHIsMSkpfSxTPS9eKGltZ3xicnxpbnB1dHx0ZXh0YXJlYXxocikkL2k7ZnVuY3Rpb24geCh0LGUsbixyLG8pe2Zvcig7Oyl7aWYodD09biYmZT09cilyZXR1cm4hMDtpZihlPT0obzwwPzA6ayh0KSkpe3ZhciBpPXQucGFyZW50Tm9kZTtpZigxIT1pLm5vZGVUeXBlfHxDKHQpfHxTLnRlc3QodC5ub2RlTmFtZSl8fCJmYWxzZSI9PXQuY29udGVudEVkaXRhYmxlKXJldHVybiExO2U9Zyh0KSsobzwwPzA6MSksdD1pfWVsc2V7aWYoMSE9dC5ub2RlVHlwZSlyZXR1cm4hMTtpZih0PXQuY2hpbGROb2Rlc1tlKyhvPDA/LTE6MCldLCJmYWxzZSI9PXQuY29udGVudEVkaXRhYmxlKXJldHVybiExO2U9bzwwP2sodCk6MH19fWZ1bmN0aW9uIGsodCl7cmV0dXJuIDM9PXQubm9kZVR5cGU/dC5ub2RlVmFsdWUubGVuZ3RoOnQuY2hpbGROb2Rlcy5sZW5ndGh9ZnVuY3Rpb24gTyh0LGUsbil7Zm9yKHZhciByPTA9PWUsbz1lPT1rKHQpO3J8fG87KXtpZih0PT1uKXJldHVybiEwO3ZhciBpPWcodCk7aWYodD10LnBhcmVudE5vZGUsIXQpcmV0dXJuITE7cj1yJiYwPT1pLG89byYmaT09ayh0KX19ZnVuY3Rpb24gQyh0KXtmb3IodmFyIGUsbj10O247bj1uLnBhcmVudE5vZGUpaWYoZT1uLnBtVmlld0Rlc2MpYnJlYWs7cmV0dXJuIGUmJmUubm9kZSYmZS5ub2RlLmlzQmxvY2smJihlLmRvbT09dHx8ZS5jb250ZW50RE9NPT10KX12YXIgTT1mdW5jdGlvbih0KXt2YXIgZT10LmlzQ29sbGFwc2VkO3JldHVybiBlJiZmLmNocm9tZSYmdC5yYW5nZUNvdW50JiYhdC5nZXRSYW5nZUF0KDApLmNvbGxhcHNlZCYmKGU9ITEpLGV9O2Z1bmN0aW9uIE4odCxlKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKTtyZXR1cm4gbi5pbml0RXZlbnQoImtleWRvd24iLCEwLCEwKSxuLmtleUNvZGU9dCxuLmtleT1uLmNvZGU9ZSxufWZ1bmN0aW9uIFQodCl7cmV0dXJue2xlZnQ6MCxyaWdodDp0LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCx0b3A6MCxib3R0b206dC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0fX1mdW5jdGlvbiBBKHQsZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0P3Q6dFtlXX1mdW5jdGlvbiBEKHQpe3ZhciBlPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue2xlZnQ6ZS5sZWZ0LHJpZ2h0OmUubGVmdCt0LmNsaWVudFdpZHRoLHRvcDplLnRvcCxib3R0b206ZS50b3ArdC5jbGllbnRIZWlnaHR9fWZ1bmN0aW9uIEUodCxlLG4pe2Zvcih2YXIgcj10LnNvbWVQcm9wKCJzY3JvbGxUaHJlc2hvbGQiKXx8MCxvPXQuc29tZVByb3AoInNjcm9sbE1hcmdpbiIpfHw1LGk9dC5kb20ub3duZXJEb2N1bWVudCxzPW58fHQuZG9tOztzPXkocykpe2lmKCFzKWJyZWFrO2lmKDE9PXMubm9kZVR5cGUpe3ZhciBhPXM9PWkuYm9keXx8MSE9cy5ub2RlVHlwZSxjPWE/VChpKTpEKHMpLGw9MCx1PTA7aWYoZS50b3A8Yy50b3ArQShyLCJ0b3AiKT91PS0oYy50b3AtZS50b3ArQShvLCJ0b3AiKSk6ZS5ib3R0b20+Yy5ib3R0b20tQShyLCJib3R0b20iKSYmKHU9ZS5ib3R0b20tYy5ib3R0b20rQShvLCJib3R0b20iKSksZS5sZWZ0PGMubGVmdCtBKHIsImxlZnQiKT9sPS0oYy5sZWZ0LWUubGVmdCtBKG8sImxlZnQiKSk6ZS5yaWdodD5jLnJpZ2h0LUEociwicmlnaHQiKSYmKGw9ZS5yaWdodC1jLnJpZ2h0K0EobywicmlnaHQiKSksbHx8dSlpZihhKWkuZGVmYXVsdFZpZXcuc2Nyb2xsQnkobCx1KTtlbHNle3ZhciBmPXMuc2Nyb2xsTGVmdCxkPXMuc2Nyb2xsVG9wO3UmJihzLnNjcm9sbFRvcCs9dSksbCYmKHMuc2Nyb2xsTGVmdCs9bCk7dmFyIHA9cy5zY3JvbGxMZWZ0LWYsaD1zLnNjcm9sbFRvcC1kO2U9e2xlZnQ6ZS5sZWZ0LXAsdG9wOmUudG9wLWgscmlnaHQ6ZS5yaWdodC1wLGJvdHRvbTplLmJvdHRvbS1ofX1pZihhKWJyZWFrfX19ZnVuY3Rpb24gUih0KXtmb3IodmFyIGUsbixyPXQuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG89TWF0aC5tYXgoMCxyLnRvcCksaT0oci5sZWZ0K3IucmlnaHQpLzIscz1vKzE7czxNYXRoLm1pbihpbm5lckhlaWdodCxyLmJvdHRvbSk7cys9NSl7dmFyIGE9dC5yb290LmVsZW1lbnRGcm9tUG9pbnQoaSxzKTtpZihhIT10LmRvbSYmdC5kb20uY29udGFpbnMoYSkpe3ZhciBjPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYoYy50b3A+PW8tMjApe2U9YSxuPWMudG9wO2JyZWFrfX19cmV0dXJue3JlZkRPTTplLHJlZlRvcDpuLHN0YWNrOl8odC5kb20pfX1mdW5jdGlvbiBfKHQpe2Zvcih2YXIgZT1bXSxuPXQub3duZXJEb2N1bWVudDt0O3Q9eSh0KSlpZihlLnB1c2goe2RvbTp0LHRvcDp0LnNjcm9sbFRvcCxsZWZ0OnQuc2Nyb2xsTGVmdH0pLHQ9PW4pYnJlYWs7cmV0dXJuIGV9ZnVuY3Rpb24gUCh0KXt2YXIgZT10LnJlZkRPTSxuPXQucmVmVG9wLHI9dC5zdGFjayxvPWU/ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A6MDt6KHIsMD09bz8wOm8tbil9ZnVuY3Rpb24geih0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dLG89ci5kb20saT1yLnRvcCxzPXIubGVmdDtvLnNjcm9sbFRvcCE9aStlJiYoby5zY3JvbGxUb3A9aStlKSxvLnNjcm9sbExlZnQhPXMmJihvLnNjcm9sbExlZnQ9cyl9fXZhciBJPW51bGw7ZnVuY3Rpb24gaih0KXtpZih0LnNldEFjdGl2ZSlyZXR1cm4gdC5zZXRBY3RpdmUoKTtpZihJKXJldHVybiB0LmZvY3VzKEkpO3ZhciBlPV8odCk7dC5mb2N1cyhudWxsPT1JP3tnZXQgcHJldmVudFNjcm9sbCgpe3JldHVybiBJPXtwcmV2ZW50U2Nyb2xsOiEwfSwhMH19OnZvaWQgMCksSXx8KEk9ITEseihlLDApKX1mdW5jdGlvbiAkKHQsZSl7Zm9yKHZhciBuLHIsbz0yZTgsaT0wLHM9ZS50b3AsYT1lLnRvcCxjPXQuZmlyc3RDaGlsZCxsPTA7YztjPWMubmV4dFNpYmxpbmcsbCsrKXt2YXIgdT12b2lkIDA7aWYoMT09Yy5ub2RlVHlwZSl1PWMuZ2V0Q2xpZW50UmVjdHMoKTtlbHNle2lmKDMhPWMubm9kZVR5cGUpY29udGludWU7dT1iKGMpLmdldENsaWVudFJlY3RzKCl9Zm9yKHZhciBmPTA7Zjx1Lmxlbmd0aDtmKyspe3ZhciBkPXVbZl07aWYoZC50b3A8PXMmJmQuYm90dG9tPj1hKXtzPU1hdGgubWF4KGQuYm90dG9tLHMpLGE9TWF0aC5taW4oZC50b3AsYSk7dmFyIHA9ZC5sZWZ0PmUubGVmdD9kLmxlZnQtZS5sZWZ0OmQucmlnaHQ8ZS5sZWZ0P2UubGVmdC1kLnJpZ2h0OjA7aWYocDxvKXtuPWMsbz1wLHI9cCYmMz09bi5ub2RlVHlwZT97bGVmdDpkLnJpZ2h0PGUubGVmdD9kLnJpZ2h0OmQubGVmdCx0b3A6ZS50b3B9OmUsMT09Yy5ub2RlVHlwZSYmcCYmKGk9bCsoZS5sZWZ0Pj0oZC5sZWZ0K2QucmlnaHQpLzI/MTowKSk7Y29udGludWV9fSFuJiYoZS5sZWZ0Pj1kLnJpZ2h0JiZlLnRvcD49ZC50b3B8fGUubGVmdD49ZC5sZWZ0JiZlLnRvcD49ZC5ib3R0b20pJiYoaT1sKzEpfX1yZXR1cm4gbiYmMz09bi5ub2RlVHlwZT9WKG4scik6IW58fG8mJjE9PW4ubm9kZVR5cGU/e25vZGU6dCxvZmZzZXQ6aX06JChuLHIpfWZ1bmN0aW9uIFYodCxlKXtmb3IodmFyIG49dC5ub2RlVmFsdWUubGVuZ3RoLHI9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSxvPTA7bzxuO28rKyl7ci5zZXRFbmQodCxvKzEpLHIuc2V0U3RhcnQodCxvKTt2YXIgaT1XKHIsMSk7aWYoaS50b3AhPWkuYm90dG9tJiZCKGUsaSkpcmV0dXJue25vZGU6dCxvZmZzZXQ6bysoZS5sZWZ0Pj0oaS5sZWZ0K2kucmlnaHQpLzI/MTowKX19cmV0dXJue25vZGU6dCxvZmZzZXQ6MH19ZnVuY3Rpb24gQih0LGUpe3JldHVybiB0LmxlZnQ+PWUubGVmdC0xJiZ0LmxlZnQ8PWUucmlnaHQrMSYmdC50b3A+PWUudG9wLTEmJnQudG9wPD1lLmJvdHRvbSsxfWZ1bmN0aW9uIEYodCxlKXt2YXIgbj10LnBhcmVudE5vZGU7cmV0dXJuIG4mJi9ebGkkL2kudGVzdChuLm5vZGVOYW1lKSYmZS5sZWZ0PHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdD9uOnR9ZnVuY3Rpb24gTCh0LGUsbil7dmFyIHI9JChlLG4pLG89ci5ub2RlLGk9ci5vZmZzZXQscz0tMTtpZigxPT1vLm5vZGVUeXBlJiYhby5maXJzdENoaWxkKXt2YXIgYT1vLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3M9YS5sZWZ0IT1hLnJpZ2h0JiZuLmxlZnQ+KGEubGVmdCthLnJpZ2h0KS8yPzE6LTF9cmV0dXJuIHQuZG9jVmlldy5wb3NGcm9tRE9NKG8saSxzKX1mdW5jdGlvbiBIKHQsZSxuLHIpe2Zvcih2YXIgbz0tMSxpPWU7Oyl7aWYoaT09dC5kb20pYnJlYWs7dmFyIHM9dC5kb2NWaWV3Lm5lYXJlc3REZXNjKGksITApO2lmKCFzKXJldHVybiBudWxsO2lmKHMubm9kZS5pc0Jsb2NrJiZzLnBhcmVudCl7dmFyIGE9cy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYoYS5sZWZ0PnIubGVmdHx8YS50b3A+ci50b3Apbz1zLnBvc0JlZm9yZTtlbHNle2lmKCEoYS5yaWdodDxyLmxlZnR8fGEuYm90dG9tPHIudG9wKSlicmVhaztvPXMucG9zQWZ0ZXJ9fWk9cy5kb20ucGFyZW50Tm9kZX1yZXR1cm4gbz4tMT9vOnQuZG9jVmlldy5wb3NGcm9tRE9NKGUsbil9ZnVuY3Rpb24gcSh0LGUsbil7dmFyIHI9dC5jaGlsZE5vZGVzLmxlbmd0aDtpZihyJiZuLnRvcDxuLmJvdHRvbSlmb3IodmFyIG89TWF0aC5tYXgoMCxNYXRoLm1pbihyLTEsTWF0aC5mbG9vcihyKihlLnRvcC1uLnRvcCkvKG4uYm90dG9tLW4udG9wKSktMikpLGk9bzs7KXt2YXIgcz10LmNoaWxkTm9kZXNbaV07aWYoMT09cy5ub2RlVHlwZSlmb3IodmFyIGE9cy5nZXRDbGllbnRSZWN0cygpLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGw9YVtjXTtpZihCKGUsbCkpcmV0dXJuIHEocyxlLGwpfWlmKChpPShpKzEpJXIpPT1vKWJyZWFrfXJldHVybiB0fWZ1bmN0aW9uIEsodCxlKXt2YXIgbixyLG8saSxzPXQucm9vdDtpZihzLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQpdHJ5e3ZhciBhPXMuY2FyZXRQb3NpdGlvbkZyb21Qb2ludChlLmxlZnQsZS50b3ApO2EmJihuPWEsbz1uLm9mZnNldE5vZGUsaT1uLm9mZnNldCl9Y2F0Y2gobSl7fWlmKCFvJiZzLmNhcmV0UmFuZ2VGcm9tUG9pbnQpe3ZhciBjPXMuY2FyZXRSYW5nZUZyb21Qb2ludChlLmxlZnQsZS50b3ApO2MmJihyPWMsbz1yLnN0YXJ0Q29udGFpbmVyLGk9ci5zdGFydE9mZnNldCl9dmFyIGwsdT1zLmVsZW1lbnRGcm9tUG9pbnQoZS5sZWZ0LGUudG9wKzEpO2lmKCF1fHwhdC5kb20uY29udGFpbnMoMSE9dS5ub2RlVHlwZT91LnBhcmVudE5vZGU6dSkpe3ZhciBkPXQuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKCFCKGUsZCkpcmV0dXJuIG51bGw7aWYodT1xKHQuZG9tLGUsZCksIXUpcmV0dXJuIG51bGx9aWYoZi5zYWZhcmkmJnUuZHJhZ2dhYmxlJiYobz1pPW51bGwpLHU9Rih1LGUpLG8pe2lmKGYuZ2Vja28mJjE9PW8ubm9kZVR5cGUmJihpPU1hdGgubWluKGksby5jaGlsZE5vZGVzLmxlbmd0aCksaTxvLmNoaWxkTm9kZXMubGVuZ3RoKSl7dmFyIHAsaD1vLmNoaWxkTm9kZXNbaV07IklNRyI9PWgubm9kZU5hbWUmJihwPWguZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLnJpZ2h0PD1lLmxlZnQmJnAuYm90dG9tPmUudG9wJiZpKyt9bz09dC5kb20mJmk9PW8uY2hpbGROb2Rlcy5sZW5ndGgtMSYmMT09by5sYXN0Q2hpbGQubm9kZVR5cGUmJmUudG9wPm8ubGFzdENoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbT9sPXQuc3RhdGUuZG9jLmNvbnRlbnQuc2l6ZTowIT1pJiYxPT1vLm5vZGVUeXBlJiYiQlIiPT1vLmNoaWxkTm9kZXNbaS0xXS5ub2RlTmFtZXx8KGw9SCh0LG8saSxlKSl9bnVsbD09bCYmKGw9TCh0LHUsZSkpO3ZhciB2PXQuZG9jVmlldy5uZWFyZXN0RGVzYyh1LCEwKTtyZXR1cm57cG9zOmwsaW5zaWRlOnY/di5wb3NBdFN0YXJ0LXYuYm9yZGVyOi0xfX1mdW5jdGlvbiBXKHQsZSl7dmFyIG49dC5nZXRDbGllbnRSZWN0cygpO3JldHVybiBuLmxlbmd0aD9uW2U8MD8wOm4ubGVuZ3RoLTFdOnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9ZnVuY3Rpb24gSih0LGUpe3ZhciBuPXQuZG9jVmlldy5kb21Gcm9tUG9zKGUpLHI9bi5ub2RlLG89bi5vZmZzZXQ7aWYoMz09ci5ub2RlVHlwZSYmKGYud2Via2l0fHxmLmdlY2tvKSl7dmFyIGk9VyhiKHIsbyxvKSwwKTtpZihmLmdlY2tvJiZvJiYvXHMvLnRlc3Qoci5ub2RlVmFsdWVbby0xXSkmJm88ci5ub2RlVmFsdWUubGVuZ3RoKXt2YXIgcz1XKGIocixvLTEsby0xKSwtMSk7aWYocy50b3A9PWkudG9wKXt2YXIgYT1XKGIocixvLG8rMSksLTEpO2lmKGEudG9wIT1pLnRvcClyZXR1cm4gVShhLGEubGVmdDxzLmxlZnQpfX1yZXR1cm4gaX1pZigxPT1yLm5vZGVUeXBlJiYhdC5zdGF0ZS5kb2MucmVzb2x2ZShlKS5wYXJlbnQuaW5saW5lQ29udGVudCl7dmFyIGMsbD0hMDtpZihvPHIuY2hpbGROb2Rlcy5sZW5ndGgpe3ZhciB1PXIuY2hpbGROb2Rlc1tvXTsxPT11Lm5vZGVUeXBlJiYoYz11LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKX1pZighYyYmbyl7dmFyIGQ9ci5jaGlsZE5vZGVzW28tMV07MT09ZC5ub2RlVHlwZSYmKGM9ZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxsPSExKX1yZXR1cm4gRyhjfHxyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGwpfWZvcih2YXIgcD0tMTtwPDI7cCs9MilpZihwPDAmJm8pe3ZhciBoPXZvaWQgMCx2PTM9PXIubm9kZVR5cGU/YihyLG8tMSxvKTozPT0oaD1yLmNoaWxkTm9kZXNbby0xXSkubm9kZVR5cGU/YihoKToxPT1oLm5vZGVUeXBlJiYiQlIiIT1oLm5vZGVOYW1lP2g6bnVsbDtpZih2KXt2YXIgbT1XKHYsMSk7aWYobS50b3A8bS5ib3R0b20pcmV0dXJuIFUobSwhMSl9fWVsc2UgaWYocD4wJiZvPGsocikpe3ZhciBnPXZvaWQgMCx5PTM9PXIubm9kZVR5cGU/YihyLG8sbysxKTozPT0oZz1yLmNoaWxkTm9kZXNbb10pLm5vZGVUeXBlP2IoZyk6MT09Zy5ub2RlVHlwZT9nOm51bGw7aWYoeSl7dmFyIHc9Vyh5LC0xKTtpZih3LnRvcDx3LmJvdHRvbSlyZXR1cm4gVSh3LCEwKX19cmV0dXJuIFUoVygzPT1yLm5vZGVUeXBlP2Iocik6ciwwKSwhMSl9ZnVuY3Rpb24gVSh0LGUpe2lmKDA9PXQud2lkdGgpcmV0dXJuIHQ7dmFyIG49ZT90LmxlZnQ6dC5yaWdodDtyZXR1cm57dG9wOnQudG9wLGJvdHRvbTp0LmJvdHRvbSxsZWZ0Om4scmlnaHQ6bn19ZnVuY3Rpb24gRyh0LGUpe2lmKDA9PXQuaGVpZ2h0KXJldHVybiB0O3ZhciBuPWU/dC50b3A6dC5ib3R0b207cmV0dXJue3RvcDpuLGJvdHRvbTpuLGxlZnQ6dC5sZWZ0LHJpZ2h0OnQucmlnaHR9fWZ1bmN0aW9uIFgodCxlLG4pe3ZhciByPXQuc3RhdGUsbz10LnJvb3QuYWN0aXZlRWxlbWVudDtyIT1lJiZ0LnVwZGF0ZVN0YXRlKGUpLG8hPXQuZG9tJiZ0LmZvY3VzKCk7dHJ5e3JldHVybiBuKCl9ZmluYWxseXtyIT1lJiZ0LnVwZGF0ZVN0YXRlKHIpLG8hPXQuZG9tJiZvJiZvLmZvY3VzKCl9fWZ1bmN0aW9uIFkodCxlLG4pe3ZhciByPWUuc2VsZWN0aW9uLG89InVwIj09bj9yLiRhbmNob3IubWluKHIuJGhlYWQpOnIuJGFuY2hvci5tYXgoci4kaGVhZCk7cmV0dXJuIFgodCxlLChmdW5jdGlvbigpe2Zvcih2YXIgZT10LmRvY1ZpZXcuZG9tRnJvbVBvcyhvLnBvcykscj1lLm5vZGU7Oyl7dmFyIGk9dC5kb2NWaWV3Lm5lYXJlc3REZXNjKHIsITApO2lmKCFpKWJyZWFrO2lmKGkubm9kZS5pc0Jsb2NrKXtyPWkuZG9tO2JyZWFrfXI9aS5kb20ucGFyZW50Tm9kZX1mb3IodmFyIHM9Sih0LG8ucG9zKSxhPXIuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyl7dmFyIGM9dm9pZCAwO2lmKDE9PWEubm9kZVR5cGUpYz1hLmdldENsaWVudFJlY3RzKCk7ZWxzZXtpZigzIT1hLm5vZGVUeXBlKWNvbnRpbnVlO2M9YihhLDAsYS5ub2RlVmFsdWUubGVuZ3RoKS5nZXRDbGllbnRSZWN0cygpfWZvcih2YXIgbD0wO2w8Yy5sZW5ndGg7bCsrKXt2YXIgdT1jW2xdO2lmKHUuYm90dG9tPnUudG9wJiYoInVwIj09bj91LmJvdHRvbTxzLnRvcCsxOnUudG9wPnMuYm90dG9tLTEpKXJldHVybiExfX1yZXR1cm4hMH0pKX12YXIgWj0vW1x1MDU5MC1cdTA4YWNdLztmdW5jdGlvbiBRKHQsZSxuKXt2YXIgcj1lLnNlbGVjdGlvbixvPXIuJGhlYWQ7aWYoIW8ucGFyZW50LmlzVGV4dGJsb2NrKXJldHVybiExO3ZhciBpPW8ucGFyZW50T2Zmc2V0LHM9IWksYT1pPT1vLnBhcmVudC5jb250ZW50LnNpemUsYz1nZXRTZWxlY3Rpb24oKTtyZXR1cm4gWi50ZXN0KG8ucGFyZW50LnRleHRDb250ZW50KSYmYy5tb2RpZnk/WCh0LGUsKGZ1bmN0aW9uKCl7dmFyIGU9Yy5nZXRSYW5nZUF0KDApLHI9Yy5mb2N1c05vZGUsaT1jLmZvY3VzT2Zmc2V0LHM9Yy5jYXJldEJpZGlMZXZlbDtjLm1vZGlmeSgibW92ZSIsbiwiY2hhcmFjdGVyIik7dmFyIGE9by5kZXB0aD90LmRvY1ZpZXcuZG9tQWZ0ZXJQb3Moby5iZWZvcmUoKSk6dC5kb20sbD0hYS5jb250YWlucygxPT1jLmZvY3VzTm9kZS5ub2RlVHlwZT9jLmZvY3VzTm9kZTpjLmZvY3VzTm9kZS5wYXJlbnROb2RlKXx8cj09Yy5mb2N1c05vZGUmJmk9PWMuZm9jdXNPZmZzZXQ7cmV0dXJuIGMucmVtb3ZlQWxsUmFuZ2VzKCksYy5hZGRSYW5nZShlKSxudWxsIT1zJiYoYy5jYXJldEJpZGlMZXZlbD1zKSxsfSkpOiJsZWZ0Ij09bnx8ImJhY2t3YXJkIj09bj9zOmF9dmFyIHR0PW51bGwsZXQ9bnVsbCxudD0hMTtmdW5jdGlvbiBydCh0LGUsbil7cmV0dXJuIHR0PT1lJiZldD09bj9udDoodHQ9ZSxldD1uLG50PSJ1cCI9PW58fCJkb3duIj09bj9ZKHQsZSxuKTpRKHQsZSxuKSl9dmFyIG90PTAsaXQ9MSxzdD0yLGF0PTMsY3Q9ZnVuY3Rpb24odCxlLG4scil7dGhpcy5wYXJlbnQ9dCx0aGlzLmNoaWxkcmVuPWUsdGhpcy5kb209bixuLnBtVmlld0Rlc2M9dGhpcyx0aGlzLmNvbnRlbnRET009cix0aGlzLmRpcnR5PW90fSxsdD17YmVmb3JlUG9zaXRpb246e2NvbmZpZ3VyYWJsZTohMH0sc2l6ZTp7Y29uZmlndXJhYmxlOiEwfSxib3JkZXI6e2NvbmZpZ3VyYWJsZTohMH0scG9zQmVmb3JlOntjb25maWd1cmFibGU6ITB9LHBvc0F0U3RhcnQ6e2NvbmZpZ3VyYWJsZTohMH0scG9zQWZ0ZXI6e2NvbmZpZ3VyYWJsZTohMH0scG9zQXRFbmQ6e2NvbmZpZ3VyYWJsZTohMH0sY29udGVudExvc3Q6e2NvbmZpZ3VyYWJsZTohMH19O2N0LnByb3RvdHlwZS5tYXRjaGVzV2lkZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuITF9LGN0LnByb3RvdHlwZS5tYXRjaGVzTWFyaz1mdW5jdGlvbigpe3JldHVybiExfSxjdC5wcm90b3R5cGUubWF0Y2hlc05vZGU9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sY3QucHJvdG90eXBlLm1hdGNoZXNIYWNrPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGx0LmJlZm9yZVBvc2l0aW9uLmdldD1mdW5jdGlvbigpe3JldHVybiExfSxjdC5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGN0LnByb3RvdHlwZS5zdG9wRXZlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sbHQuc2l6ZS5nZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTA7ZTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtlKyspdCs9dGhpcy5jaGlsZHJlbltlXS5zaXplO3JldHVybiB0fSxsdC5ib3JkZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGN0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5wYXJlbnQ9bnVsbCx0aGlzLmRvbS5wbVZpZXdEZXNjPT10aGlzJiYodGhpcy5kb20ucG1WaWV3RGVzYz1udWxsKTtmb3IodmFyIHQ9MDt0PHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3QrKyl0aGlzLmNoaWxkcmVuW3RdLmRlc3Ryb3koKX0sY3QucHJvdG90eXBlLnBvc0JlZm9yZUNoaWxkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5wb3NBdFN0YXJ0O2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKXt2YXIgcj10aGlzLmNoaWxkcmVuW2VdO2lmKHI9PXQpcmV0dXJuIG47bis9ci5zaXplfX0sbHQucG9zQmVmb3JlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudC5wb3NCZWZvcmVDaGlsZCh0aGlzKX0sbHQucG9zQXRTdGFydC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQucG9zQmVmb3JlQ2hpbGQodGhpcykrdGhpcy5ib3JkZXI6MH0sbHQucG9zQWZ0ZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zQmVmb3JlK3RoaXMuc2l6ZX0sbHQucG9zQXRFbmQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zQXRTdGFydCt0aGlzLnNpemUtMip0aGlzLmJvcmRlcn0sY3QucHJvdG90eXBlLmxvY2FsUG9zRnJvbURPTT1mdW5jdGlvbih0LGUsbil7aWYodGhpcy5jb250ZW50RE9NJiZ0aGlzLmNvbnRlbnRET00uY29udGFpbnMoMT09dC5ub2RlVHlwZT90OnQucGFyZW50Tm9kZSkpe2lmKG48MCl7dmFyIHIsbztpZih0PT10aGlzLmNvbnRlbnRET00pcj10LmNoaWxkTm9kZXNbZS0xXTtlbHNle3doaWxlKHQucGFyZW50Tm9kZSE9dGhpcy5jb250ZW50RE9NKXQ9dC5wYXJlbnROb2RlO3I9dC5wcmV2aW91c1NpYmxpbmd9d2hpbGUociYmKCEobz1yLnBtVmlld0Rlc2MpfHxvLnBhcmVudCE9dGhpcykpcj1yLnByZXZpb3VzU2libGluZztyZXR1cm4gcj90aGlzLnBvc0JlZm9yZUNoaWxkKG8pK28uc2l6ZTp0aGlzLnBvc0F0U3RhcnR9dmFyIGkscztpZih0PT10aGlzLmNvbnRlbnRET00paT10LmNoaWxkTm9kZXNbZV07ZWxzZXt3aGlsZSh0LnBhcmVudE5vZGUhPXRoaXMuY29udGVudERPTSl0PXQucGFyZW50Tm9kZTtpPXQubmV4dFNpYmxpbmd9d2hpbGUoaSYmKCEocz1pLnBtVmlld0Rlc2MpfHxzLnBhcmVudCE9dGhpcykpaT1pLm5leHRTaWJsaW5nO3JldHVybiBpP3RoaXMucG9zQmVmb3JlQ2hpbGQocyk6dGhpcy5wb3NBdEVuZH12YXIgYTtpZih0aGlzLmNvbnRlbnRET00mJnRoaXMuY29udGVudERPTSE9dGhpcy5kb20mJnRoaXMuZG9tLmNvbnRhaW5zKHRoaXMuY29udGVudERPTSkpYT0yJnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24odGhpcy5jb250ZW50RE9NKTtlbHNlIGlmKHRoaXMuZG9tLmZpcnN0Q2hpbGQpe2lmKDA9PWUpZm9yKHZhciBjPXQ7O2M9Yy5wYXJlbnROb2RlKXtpZihjPT10aGlzLmRvbSl7YT0hMTticmVha31pZihjLnBhcmVudE5vZGUuZmlyc3RDaGlsZCE9YylicmVha31pZihudWxsPT1hJiZlPT10LmNoaWxkTm9kZXMubGVuZ3RoKWZvcih2YXIgbD10OztsPWwucGFyZW50Tm9kZSl7aWYobD09dGhpcy5kb20pe2E9ITA7YnJlYWt9aWYobC5wYXJlbnROb2RlLmxhc3RDaGlsZCE9bClicmVha319cmV0dXJuKG51bGw9PWE/bj4wOmEpP3RoaXMucG9zQXRFbmQ6dGhpcy5wb3NBdFN0YXJ0fSxjdC5wcm90b3R5cGUubmVhcmVzdERlc2M9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ITAscj10O3I7cj1yLnBhcmVudE5vZGUpe3ZhciBvPXRoaXMuZ2V0RGVzYyhyKTtpZihvJiYoIWV8fG8ubm9kZSkpe2lmKCFufHwhby5ub2RlRE9NfHwoMT09by5ub2RlRE9NLm5vZGVUeXBlP28ubm9kZURPTS5jb250YWlucygxPT10Lm5vZGVUeXBlP3Q6dC5wYXJlbnROb2RlKTpvLm5vZGVET009PXQpKXJldHVybiBvO249ITF9fX0sY3QucHJvdG90eXBlLmdldERlc2M9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQucG1WaWV3RGVzYyxuPWU7bjtuPW4ucGFyZW50KWlmKG49PXRoaXMpcmV0dXJuIGV9LGN0LnByb3RvdHlwZS5wb3NGcm9tRE9NPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9dDtyO3I9ci5wYXJlbnROb2RlKXt2YXIgbz10aGlzLmdldERlc2Mocik7aWYobylyZXR1cm4gby5sb2NhbFBvc0Zyb21ET00odCxlLG4pfXJldHVybi0xfSxjdC5wcm90b3R5cGUuZGVzY0F0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49MDtlPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2UrKyl7dmFyIHI9dGhpcy5jaGlsZHJlbltlXSxvPW4rci5zaXplO2lmKG49PXQmJm8hPW4pe3doaWxlKCFyLmJvcmRlciYmci5jaGlsZHJlbi5sZW5ndGgpcj1yLmNoaWxkcmVuWzBdO3JldHVybiByfWlmKHQ8bylyZXR1cm4gci5kZXNjQXQodC1uLXIuYm9yZGVyKTtuPW99fSxjdC5wcm90b3R5cGUuZG9tRnJvbVBvcz1mdW5jdGlvbih0KXtpZighdGhpcy5jb250ZW50RE9NKXJldHVybntub2RlOnRoaXMuZG9tLG9mZnNldDowfTtmb3IodmFyIGU9MCxuPTA7O24rKyl7aWYoZT09dCl7d2hpbGUobjx0aGlzLmNoaWxkcmVuLmxlbmd0aCYmKHRoaXMuY2hpbGRyZW5bbl0uYmVmb3JlUG9zaXRpb258fHRoaXMuY2hpbGRyZW5bbl0uZG9tLnBhcmVudE5vZGUhPXRoaXMuY29udGVudERPTSkpbisrO3JldHVybntub2RlOnRoaXMuY29udGVudERPTSxvZmZzZXQ6bj09dGhpcy5jaGlsZHJlbi5sZW5ndGg/dGhpcy5jb250ZW50RE9NLmNoaWxkTm9kZXMubGVuZ3RoOmcodGhpcy5jaGlsZHJlbltuXS5kb20pfX1pZihuPT10aGlzLmNoaWxkcmVuLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcG9zaXRpb24gIit0KTt2YXIgcj10aGlzLmNoaWxkcmVuW25dLG89ZStyLnNpemU7aWYodDxvKXJldHVybiByLmRvbUZyb21Qb3ModC1lLXIuYm9yZGVyKTtlPW99fSxjdC5wcm90b3R5cGUucGFyc2VSYW5nZT1mdW5jdGlvbih0LGUsbil7aWYodm9pZCAwPT09biYmKG49MCksMD09dGhpcy5jaGlsZHJlbi5sZW5ndGgpcmV0dXJue25vZGU6dGhpcy5jb250ZW50RE9NLGZyb206dCx0bzplLGZyb21PZmZzZXQ6MCx0b09mZnNldDp0aGlzLmNvbnRlbnRET00uY2hpbGROb2Rlcy5sZW5ndGh9O2Zvcih2YXIgcj0tMSxvPS0xLGk9bixzPTA7O3MrKyl7dmFyIGE9dGhpcy5jaGlsZHJlbltzXSxjPWkrYS5zaXplO2lmKC0xPT1yJiZ0PD1jKXt2YXIgbD1pK2EuYm9yZGVyO2lmKHQ+PWwmJmU8PWMtYS5ib3JkZXImJmEubm9kZSYmYS5jb250ZW50RE9NJiZ0aGlzLmNvbnRlbnRET00uY29udGFpbnMoYS5jb250ZW50RE9NKSlyZXR1cm4gYS5wYXJzZVJhbmdlKHQsZSxsKTt0PWk7Zm9yKHZhciB1PXM7dT4wO3UtLSl7dmFyIGY9dGhpcy5jaGlsZHJlblt1LTFdO2lmKGYuc2l6ZSYmZi5kb20ucGFyZW50Tm9kZT09dGhpcy5jb250ZW50RE9NJiYhZi5lbXB0eUNoaWxkQXQoMSkpe3I9ZyhmLmRvbSkrMTticmVha310LT1mLnNpemV9LTE9PXImJihyPTApfWlmKHI+LTEmJihjPmV8fHM9PXRoaXMuY2hpbGRyZW4ubGVuZ3RoLTEpKXtlPWM7Zm9yKHZhciBkPXMrMTtkPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2QrKyl7dmFyIHA9dGhpcy5jaGlsZHJlbltkXTtpZihwLnNpemUmJnAuZG9tLnBhcmVudE5vZGU9PXRoaXMuY29udGVudERPTSYmIXAuZW1wdHlDaGlsZEF0KC0xKSl7bz1nKHAuZG9tKTticmVha31lKz1wLnNpemV9LTE9PW8mJihvPXRoaXMuY29udGVudERPTS5jaGlsZE5vZGVzLmxlbmd0aCk7YnJlYWt9aT1jfXJldHVybntub2RlOnRoaXMuY29udGVudERPTSxmcm9tOnQsdG86ZSxmcm9tT2Zmc2V0OnIsdG9PZmZzZXQ6b319LGN0LnByb3RvdHlwZS5lbXB0eUNoaWxkQXQ9ZnVuY3Rpb24odCl7aWYodGhpcy5ib3JkZXJ8fCF0aGlzLmNvbnRlbnRET018fCF0aGlzLmNoaWxkcmVuLmxlbmd0aClyZXR1cm4hMTt2YXIgZT10aGlzLmNoaWxkcmVuW3Q8MD8wOnRoaXMuY2hpbGRyZW4ubGVuZ3RoLTFdO3JldHVybiAwPT1lLnNpemV8fGUuZW1wdHlDaGlsZEF0KHQpfSxjdC5wcm90b3R5cGUuZG9tQWZ0ZXJQb3M9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kb21Gcm9tUG9zKHQpLG49ZS5ub2RlLHI9ZS5vZmZzZXQ7aWYoMSE9bi5ub2RlVHlwZXx8cj09bi5jaGlsZE5vZGVzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiTm8gbm9kZSBhZnRlciBwb3MgIit0KTtyZXR1cm4gbi5jaGlsZE5vZGVzW3JdfSxjdC5wcm90b3R5cGUuc2V0U2VsZWN0aW9uPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgbz1NYXRoLm1pbih0LGUpLGk9TWF0aC5tYXgodCxlKSxzPTAsYT0wO3M8dGhpcy5jaGlsZHJlbi5sZW5ndGg7cysrKXt2YXIgYz10aGlzLmNoaWxkcmVuW3NdLGw9YStjLnNpemU7aWYobz5hJiZpPGwpcmV0dXJuIGMuc2V0U2VsZWN0aW9uKHQtYS1jLmJvcmRlcixlLWEtYy5ib3JkZXIsbixyKTthPWx9dmFyIHU9dGhpcy5kb21Gcm9tUG9zKHQpLGY9dGhpcy5kb21Gcm9tUG9zKGUpLGQ9bi5nZXRTZWxlY3Rpb24oKTtpZihyfHwhdyh1Lm5vZGUsdS5vZmZzZXQsZC5hbmNob3JOb2RlLGQuYW5jaG9yT2Zmc2V0KXx8IXcoZi5ub2RlLGYub2Zmc2V0LGQuZm9jdXNOb2RlLGQuZm9jdXNPZmZzZXQpKXt2YXIgcD0hMTtpZihkLmV4dGVuZHx8dD09ZSl7ZC5jb2xsYXBzZSh1Lm5vZGUsdS5vZmZzZXQpO3RyeXt0IT1lJiZkLmV4dGVuZChmLm5vZGUsZi5vZmZzZXQpLHA9ITB9Y2F0Y2gobSl7aWYoIShtIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uKSl0aHJvdyBtfX1pZighcCl7aWYodD5lKXt2YXIgaD11O3U9ZixmPWh9dmFyIHY9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTt2LnNldEVuZChmLm5vZGUsZi5vZmZzZXQpLHYuc2V0U3RhcnQodS5ub2RlLHUub2Zmc2V0KSxkLnJlbW92ZUFsbFJhbmdlcygpLGQuYWRkUmFuZ2Uodil9fX0sY3QucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiF0aGlzLmNvbnRlbnRET00mJiJzZWxlY3Rpb24iIT10LnR5cGV9LGx0LmNvbnRlbnRMb3N0LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRET00mJnRoaXMuY29udGVudERPTSE9dGhpcy5kb20mJiF0aGlzLmRvbS5jb250YWlucyh0aGlzLmNvbnRlbnRET00pfSxjdC5wcm90b3R5cGUubWFya0RpcnR5PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAscj0wO3I8dGhpcy5jaGlsZHJlbi5sZW5ndGg7cisrKXt2YXIgbz10aGlzLmNoaWxkcmVuW3JdLGk9bitvLnNpemU7aWYobj09aT90PD1pJiZlPj1uOnQ8aSYmZT5uKXt2YXIgcz1uK28uYm9yZGVyLGE9aS1vLmJvcmRlcjtpZih0Pj1zJiZlPD1hKXJldHVybiB0aGlzLmRpcnR5PXQ9PW58fGU9PWk/c3Q6aXQsdm9pZCh0IT1zfHxlIT1hfHwhby5jb250ZW50TG9zdCYmby5kb20ucGFyZW50Tm9kZT09dGhpcy5jb250ZW50RE9NP28ubWFya0RpcnR5KHQtcyxlLXMpOm8uZGlydHk9YXQpO28uZGlydHk9YXR9bj1pfXRoaXMuZGlydHk9c3R9LGN0LnByb3RvdHlwZS5tYXJrUGFyZW50c0RpcnR5PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTEsZT10aGlzLnBhcmVudDtlO2U9ZS5wYXJlbnQsdCsrKXt2YXIgbj0xPT10P3N0Oml0O2UuZGlydHk8biYmKGUuZGlydHk9bil9fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjdC5wcm90b3R5cGUsbHQpO3ZhciB1dD1bXSxmdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8pe3ZhciBpLHM9bi50eXBlLnRvRE9NO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBzJiYocz1zKHIsKGZ1bmN0aW9uKCl7cmV0dXJuIGk/aS5wYXJlbnQ/aS5wYXJlbnQucG9zQmVmb3JlQ2hpbGQoaSk6dm9pZCAwOm99KSkpLCFuLnR5cGUuc3BlYy5yYXcpe2lmKDEhPXMubm9kZVR5cGUpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTthLmFwcGVuZENoaWxkKHMpLHM9YX1zLmNvbnRlbnRFZGl0YWJsZT0hMSxzLmNsYXNzTGlzdC5hZGQoIlByb3NlTWlycm9yLXdpZGdldCIpfXQuY2FsbCh0aGlzLGUsdXQscyxudWxsKSx0aGlzLndpZGdldD1uLGk9dGhpc310JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17YmVmb3JlUG9zaXRpb246e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBuLmJlZm9yZVBvc2l0aW9uLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLndpZGdldC50eXBlLnNpZGU8MH0sZS5wcm90b3R5cGUubWF0Y2hlc1dpZGdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kaXJ0eT09b3QmJnQudHlwZS5lcSh0aGlzLndpZGdldC50eXBlKX0sZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7cmV0dXJue2lnbm9yZTohMH19LGUucHJvdG90eXBlLnN0b3BFdmVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLndpZGdldC5zcGVjLnN0b3BFdmVudDtyZXR1cm4hIWUmJmUodCl9LGUucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiJzZWxlY3Rpb24iIT10LnR5cGV8fHRoaXMud2lkZ2V0LnNwZWMuaWdub3JlU2VsZWN0aW9ufSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfShjdCksZHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvKXt0LmNhbGwodGhpcyxlLHV0LG4sbnVsbCksdGhpcy50ZXh0RE9NPXIsdGhpcy50ZXh0PW99dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e3NpemU6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBuLnNpemUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dC5sZW5ndGh9LGUucHJvdG90eXBlLmxvY2FsUG9zRnJvbURPTT1mdW5jdGlvbih0LGUpe3JldHVybiB0IT10aGlzLnRleHRET00/dGhpcy5wb3NBdFN0YXJ0KyhlP3RoaXMuc2l6ZTowKTp0aGlzLnBvc0F0U3RhcnQrZX0sZS5wcm90b3R5cGUuZG9tRnJvbVBvcz1mdW5jdGlvbih0KXtyZXR1cm57bm9kZTp0aGlzLnRleHRET00sb2Zmc2V0OnR9fSxlLnByb3RvdHlwZS5pZ25vcmVNdXRhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4iY2hhcmFjdGVyRGF0YSI9PT10LnR5cGUmJnQudGFyZ2V0Lm5vZGVWYWx1ZT09dC5vbGRWYWx1ZX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsbiksZX0oY3QpLHB0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyl7dC5jYWxsKHRoaXMsZSxbXSxyLG8pLHRoaXMubWFyaz1ufXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLmNyZWF0ZT1mdW5jdGlvbih0LG4scixvKXt2YXIgaT1vLm5vZGVWaWV3c1tuLnR5cGUubmFtZV0scz1pJiZpKG4sbyxyKTtyZXR1cm4gcyYmcy5kb218fChzPWxbIkRPTVNlcmlhbGl6ZXIiXS5yZW5kZXJTcGVjKGRvY3VtZW50LG4udHlwZS5zcGVjLnRvRE9NKG4scikpKSxuZXcgZSh0LG4scy5kb20scy5jb250ZW50RE9NfHxzLmRvbSl9LGUucHJvdG90eXBlLnBhcnNlUnVsZT1mdW5jdGlvbigpe3JldHVybnttYXJrOnRoaXMubWFyay50eXBlLm5hbWUsYXR0cnM6dGhpcy5tYXJrLmF0dHJzLGNvbnRlbnRFbGVtZW50OnRoaXMuY29udGVudERPTX19LGUucHJvdG90eXBlLm1hdGNoZXNNYXJrPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRpcnR5IT1hdCYmdGhpcy5tYXJrLmVxKHQpfSxlLnByb3RvdHlwZS5tYXJrRGlydHk9ZnVuY3Rpb24oZSxuKXtpZih0LnByb3RvdHlwZS5tYXJrRGlydHkuY2FsbCh0aGlzLGUsbiksdGhpcy5kaXJ0eSE9b3Qpe3ZhciByPXRoaXMucGFyZW50O3doaWxlKCFyLm5vZGUpcj1yLnBhcmVudDtyLmRpcnR5PHRoaXMuZGlydHkmJihyLmRpcnR5PXRoaXMuZGlydHkpLHRoaXMuZGlydHk9b3R9fSxlLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LG4scil7dmFyIG89ZS5jcmVhdGUodGhpcy5wYXJlbnQsdGhpcy5tYXJrLCEwLHIpLGk9dGhpcy5jaGlsZHJlbixzPXRoaXMuc2l6ZTtuPHMmJihpPXp0KGksbixzLHIpKSx0PjAmJihpPXp0KGksMCx0LHIpKTtmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKylpW2FdLnBhcmVudD1vO3JldHVybiBvLmNoaWxkcmVuPWksb30sZX0oY3QpLGh0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyxpLHMsYSxjLGwpe3QuY2FsbCh0aGlzLGUsbi5pc0xlYWY/dXQ6W10saSxzKSx0aGlzLm5vZGVET009YSx0aGlzLm5vZGU9bix0aGlzLm91dGVyRGVjbz1yLHRoaXMuaW5uZXJEZWNvPW8scyYmdGhpcy51cGRhdGVDaGlsZHJlbihjLGwpfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXtzaXplOntjb25maWd1cmFibGU6ITB9LGJvcmRlcjp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIGUuY3JlYXRlPWZ1bmN0aW9uKHQsbixyLG8saSxzKXt2YXIgYSxjLHU9aS5ub2RlVmlld3Nbbi50eXBlLm5hbWVdLGY9dSYmdShuLGksKGZ1bmN0aW9uKCl7cmV0dXJuIGM/Yy5wYXJlbnQ/Yy5wYXJlbnQucG9zQmVmb3JlQ2hpbGQoYyk6dm9pZCAwOnN9KSxyKSxkPWYmJmYuZG9tLHA9ZiYmZi5jb250ZW50RE9NO2lmKG4uaXNUZXh0KWlmKGQpe2lmKDMhPWQubm9kZVR5cGUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRleHQgbXVzdCBiZSByZW5kZXJlZCBhcyBhIERPTSB0ZXh0IG5vZGUiKX1lbHNlIGQ9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobi50ZXh0KTtlbHNlIGR8fChhPWxbIkRPTVNlcmlhbGl6ZXIiXS5yZW5kZXJTcGVjKGRvY3VtZW50LG4udHlwZS5zcGVjLnRvRE9NKG4pKSxkPWEuZG9tLHA9YS5jb250ZW50RE9NKTtwfHxuLmlzVGV4dHx8IkJSIj09ZC5ub2RlTmFtZXx8KGQuaGFzQXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKXx8KGQuY29udGVudEVkaXRhYmxlPSExKSxuLnR5cGUuc3BlYy5kcmFnZ2FibGUmJihkLmRyYWdnYWJsZT0hMCkpO3ZhciBoPWQ7cmV0dXJuIGQ9Q3QoZCxyLG4pLGY/Yz1uZXcgeXQodCxuLHIsbyxkLHAsaCxmLGkscysxKTpuLmlzVGV4dD9uZXcgbXQodCxuLHIsbyxkLGgsaSk6bmV3IGUodCxuLHIsbyxkLHAsaCxpLHMrMSl9LGUucHJvdG90eXBlLnBhcnNlUnVsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodGhpcy5ub2RlLnR5cGUuc3BlYy5yZXBhcnNlSW5WaWV3KXJldHVybiBudWxsO3ZhciBlPXtub2RlOnRoaXMubm9kZS50eXBlLm5hbWUsYXR0cnM6dGhpcy5ub2RlLmF0dHJzfTtyZXR1cm4gdGhpcy5ub2RlLnR5cGUuc3BlYy5jb2RlJiYoZS5wcmVzZXJ2ZVdoaXRlc3BhY2U9ImZ1bGwiKSx0aGlzLmNvbnRlbnRET00mJiF0aGlzLmNvbnRlbnRMb3N0P2UuY29udGVudEVsZW1lbnQ9dGhpcy5jb250ZW50RE9NOmUuZ2V0Q29udGVudD1mdW5jdGlvbigpe3JldHVybiB0LmNvbnRlbnRET00/bFsiRnJhZ21lbnQiXS5lbXB0eTp0Lm5vZGUuY29udGVudH0sZX0sZS5wcm90b3R5cGUubWF0Y2hlc05vZGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLmRpcnR5PT1vdCYmdC5lcSh0aGlzLm5vZGUpJiZNdChlLHRoaXMub3V0ZXJEZWNvKSYmbi5lcSh0aGlzLmlubmVyRGVjbyl9LG4uc2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLm5vZGVTaXplfSxuLmJvcmRlci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLmlzTGVhZj8wOjF9LGUucHJvdG90eXBlLnVwZGF0ZUNoaWxkcmVuPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXRoaXMubm9kZS5pbmxpbmVDb250ZW50LG89ZSxpPXImJnQuY29tcG9zaW5nJiZ0aGlzLmxvY2FsQ29tcG9zaXRpb25Ob2RlKHQsZSkscz1uZXcgVHQodGhpcyxpJiZpLm5vZGUpO0V0KHRoaXMubm9kZSx0aGlzLmlubmVyRGVjbywoZnVuY3Rpb24oZSxpLGEpe2Uuc3BlYy5tYXJrcz9zLnN5bmNUb01hcmtzKGUuc3BlYy5tYXJrcyxyLHQpOmUudHlwZS5zaWRlPj0wJiYhYSYmcy5zeW5jVG9NYXJrcyhpPT1uLm5vZGUuY2hpbGRDb3VudD9sWyJNYXJrIl0ubm9uZTpuLm5vZGUuY2hpbGQoaSkubWFya3Mscix0KSxzLnBsYWNlV2lkZ2V0KGUsdCxvKX0pLChmdW5jdGlvbihlLG4saSxhKXtzLnN5bmNUb01hcmtzKGUubWFya3Mscix0KSxzLmZpbmROb2RlTWF0Y2goZSxuLGksYSl8fHMudXBkYXRlTmV4dE5vZGUoZSxuLGksdCxhKXx8cy5hZGROb2RlKGUsbixpLHQsbyksbys9ZS5ub2RlU2l6ZX0pKSxzLnN5bmNUb01hcmtzKHV0LHIsdCksdGhpcy5ub2RlLmlzVGV4dGJsb2NrJiZzLmFkZFRleHRibG9ja0hhY2tzKCkscy5kZXN0cm95UmVzdCgpLChzLmNoYW5nZWR8fHRoaXMuZGlydHk9PXN0KSYmKGkmJnRoaXMucHJvdGVjdExvY2FsQ29tcG9zaXRpb24odCxpKSx0aGlzLnJlbmRlckNoaWxkcmVuKCkpfSxlLnByb3RvdHlwZS5yZW5kZXJDaGlsZHJlbj1mdW5jdGlvbigpe2J0KHRoaXMuY29udGVudERPTSx0aGlzLmNoaWxkcmVuKSxmLmlvcyYmUnQodGhpcy5kb20pfSxlLnByb3RvdHlwZS5sb2NhbENvbXBvc2l0aW9uTm9kZT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuc3RhdGUuc2VsZWN0aW9uLHI9bi5mcm9tLG89bi50bztpZighKCEodC5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBjWyJUZXh0U2VsZWN0aW9uIl0pfHxyPGV8fG8+ZSt0aGlzLm5vZGUuY29udGVudC5zaXplKSl7dmFyIGk9dC5yb290LmdldFNlbGVjdGlvbigpLHM9X3QoaS5mb2N1c05vZGUsaS5mb2N1c09mZnNldCk7aWYocyYmdGhpcy5kb20uY29udGFpbnMocy5wYXJlbnROb2RlKSl7dmFyIGE9cy5ub2RlVmFsdWUsbD1QdCh0aGlzLm5vZGUuY29udGVudCxhLHItZSxvLWUpO3JldHVybiBsPDA/bnVsbDp7bm9kZTpzLHBvczpsLHRleHQ6YX19fX0sZS5wcm90b3R5cGUucHJvdGVjdExvY2FsQ29tcG9zaXRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj1lLm5vZGUscj1lLnBvcyxvPWUudGV4dDtpZighdGhpcy5nZXREZXNjKG4pKXtmb3IodmFyIGk9bjs7aT1pLnBhcmVudE5vZGUpe2lmKGkucGFyZW50Tm9kZT09dGhpcy5jb250ZW50RE9NKWJyZWFrO3doaWxlKGkucHJldmlvdXNTaWJsaW5nKWkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpLnByZXZpb3VzU2libGluZyk7d2hpbGUoaS5uZXh0U2libGluZylpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaS5uZXh0U2libGluZyk7aS5wbVZpZXdEZXNjJiYoaS5wbVZpZXdEZXNjPW51bGwpfXZhciBzPW5ldyBkdCh0aGlzLGksbixvKTt0LmNvbXBvc2l0aW9uTm9kZXMucHVzaChzKSx0aGlzLmNoaWxkcmVuPXp0KHRoaXMuY2hpbGRyZW4scixyK28ubGVuZ3RoLHQscyl9fSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuISh0aGlzLmRpcnR5PT1hdHx8IXQuc2FtZU1hcmt1cCh0aGlzLm5vZGUpKSYmKHRoaXMudXBkYXRlSW5uZXIodCxlLG4sciksITApfSxlLnByb3RvdHlwZS51cGRhdGVJbm5lcj1mdW5jdGlvbih0LGUsbixyKXt0aGlzLnVwZGF0ZU91dGVyRGVjbyhlKSx0aGlzLm5vZGU9dCx0aGlzLmlubmVyRGVjbz1uLHRoaXMuY29udGVudERPTSYmdGhpcy51cGRhdGVDaGlsZHJlbihyLHRoaXMucG9zQXRTdGFydCksdGhpcy5kaXJ0eT1vdH0sZS5wcm90b3R5cGUudXBkYXRlT3V0ZXJEZWNvPWZ1bmN0aW9uKHQpe2lmKCFNdCh0LHRoaXMub3V0ZXJEZWNvKSl7dmFyIGU9MSE9dGhpcy5ub2RlRE9NLm5vZGVUeXBlLG49dGhpcy5kb207dGhpcy5kb209a3QodGhpcy5kb20sdGhpcy5ub2RlRE9NLHh0KHRoaXMub3V0ZXJEZWNvLHRoaXMubm9kZSxlKSx4dCh0LHRoaXMubm9kZSxlKSksdGhpcy5kb20hPW4mJihuLnBtVmlld0Rlc2M9bnVsbCx0aGlzLmRvbS5wbVZpZXdEZXNjPXRoaXMpLHRoaXMub3V0ZXJEZWNvPXR9fSxlLnByb3RvdHlwZS5zZWxlY3ROb2RlPWZ1bmN0aW9uKCl7dGhpcy5ub2RlRE9NLmNsYXNzTGlzdC5hZGQoIlByb3NlTWlycm9yLXNlbGVjdGVkbm9kZSIpLCF0aGlzLmNvbnRlbnRET00mJnRoaXMubm9kZS50eXBlLnNwZWMuZHJhZ2dhYmxlfHwodGhpcy5kb20uZHJhZ2dhYmxlPSEwKX0sZS5wcm90b3R5cGUuZGVzZWxlY3ROb2RlPWZ1bmN0aW9uKCl7dGhpcy5ub2RlRE9NLmNsYXNzTGlzdC5yZW1vdmUoIlByb3NlTWlycm9yLXNlbGVjdGVkbm9kZSIpLCF0aGlzLmNvbnRlbnRET00mJnRoaXMubm9kZS50eXBlLnNwZWMuZHJhZ2dhYmxlfHx0aGlzLmRvbS5yZW1vdmVBdHRyaWJ1dGUoImRyYWdnYWJsZSIpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfShjdCk7ZnVuY3Rpb24gdnQodCxlLG4scixvKXtyZXR1cm4gQ3QocixlLHQpLG5ldyBodChudWxsLHQsZSxuLHIscixyLG8sMCl9dmFyIG10PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyxpLHMsYSl7dC5jYWxsKHRoaXMsZSxuLHIsbyxpLG51bGwscyxhKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ub2RlRE9NLnBhcmVudE5vZGU7d2hpbGUodCYmdCE9dGhpcy5kb20mJiF0LnBtSXNEZWNvKXQ9dC5wYXJlbnROb2RlO3JldHVybntza2lwOnR8fCEwfX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuISh0aGlzLmRpcnR5PT1hdHx8dGhpcy5kaXJ0eSE9b3QmJiF0aGlzLmluUGFyZW50KCl8fCF0LnNhbWVNYXJrdXAodGhpcy5ub2RlKSkmJih0aGlzLnVwZGF0ZU91dGVyRGVjbyhlKSx0aGlzLmRpcnR5PT1vdCYmdC50ZXh0PT10aGlzLm5vZGUudGV4dHx8dC50ZXh0PT10aGlzLm5vZGVET00ubm9kZVZhbHVlfHwodGhpcy5ub2RlRE9NLm5vZGVWYWx1ZT10LnRleHQpLHRoaXMubm9kZT10LHRoaXMuZGlydHk9b3QsITApfSxlLnByb3RvdHlwZS5pblBhcmVudD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnBhcmVudC5jb250ZW50RE9NLGU9dGhpcy5ub2RlRE9NO2U7ZT1lLnBhcmVudE5vZGUpaWYoZT09dClyZXR1cm4hMDtyZXR1cm4hMX0sZS5wcm90b3R5cGUuZG9tRnJvbVBvcz1mdW5jdGlvbih0KXtyZXR1cm57bm9kZTp0aGlzLm5vZGVET00sb2Zmc2V0OnR9fSxlLnByb3RvdHlwZS5sb2NhbFBvc0Zyb21ET009ZnVuY3Rpb24oZSxuLHIpe3JldHVybiBlPT10aGlzLm5vZGVET00/dGhpcy5wb3NBdFN0YXJ0K01hdGgubWluKG4sdGhpcy5ub2RlLnRleHQubGVuZ3RoKTp0LnByb3RvdHlwZS5sb2NhbFBvc0Zyb21ET00uY2FsbCh0aGlzLGUsbixyKX0sZS5wcm90b3R5cGUuaWdub3JlTXV0YXRpb249ZnVuY3Rpb24odCl7cmV0dXJuImNoYXJhY3RlckRhdGEiIT10LnR5cGUmJiJzZWxlY3Rpb24iIT10LnR5cGV9LGUucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsbixyKXt2YXIgbz10aGlzLm5vZGUuY3V0KHQsbiksaT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShvLnRleHQpO3JldHVybiBuZXcgZSh0aGlzLnBhcmVudCxvLHRoaXMub3V0ZXJEZWNvLHRoaXMuaW5uZXJEZWNvLGksaSxyKX0sZX0oaHQpLGd0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7cmV0dXJue2lnbm9yZTohMH19LGUucHJvdG90eXBlLm1hdGNoZXNIYWNrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlydHk9PW90fSxlfShjdCkseXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvLGkscyxhLGMsbCx1KXt0LmNhbGwodGhpcyxlLG4scixvLGkscyxhLGwsdSksdGhpcy5zcGVjPWN9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlLG4scixvKXtpZih0aGlzLmRpcnR5PT1hdClyZXR1cm4hMTtpZih0aGlzLnNwZWMudXBkYXRlKXt2YXIgaT10aGlzLnNwZWMudXBkYXRlKGUsbik7cmV0dXJuIGkmJnRoaXMudXBkYXRlSW5uZXIoZSxuLHIsbyksaX1yZXR1cm4hKCF0aGlzLmNvbnRlbnRET00mJiFlLmlzTGVhZikmJnQucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMsZSxuLHIsbyl9LGUucHJvdG90eXBlLnNlbGVjdE5vZGU9ZnVuY3Rpb24oKXt0aGlzLnNwZWMuc2VsZWN0Tm9kZT90aGlzLnNwZWMuc2VsZWN0Tm9kZSgpOnQucHJvdG90eXBlLnNlbGVjdE5vZGUuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuZGVzZWxlY3ROb2RlPWZ1bmN0aW9uKCl7dGhpcy5zcGVjLmRlc2VsZWN0Tm9kZT90aGlzLnNwZWMuZGVzZWxlY3ROb2RlKCk6dC5wcm90b3R5cGUuZGVzZWxlY3ROb2RlLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnNldFNlbGVjdGlvbj1mdW5jdGlvbihlLG4scixvKXt0aGlzLnNwZWMuc2V0U2VsZWN0aW9uP3RoaXMuc3BlYy5zZXRTZWxlY3Rpb24oZSxuLHIpOnQucHJvdG90eXBlLnNldFNlbGVjdGlvbi5jYWxsKHRoaXMsZSxuLHIsbyl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnNwZWMuZGVzdHJveSYmdGhpcy5zcGVjLmRlc3Ryb3koKSx0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnN0b3BFdmVudD1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuc3BlYy5zdG9wRXZlbnQmJnRoaXMuc3BlYy5zdG9wRXZlbnQodCl9LGUucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNwZWMuaWdub3JlTXV0YXRpb24/dGhpcy5zcGVjLmlnbm9yZU11dGF0aW9uKGUpOnQucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uLmNhbGwodGhpcyxlKX0sZX0oaHQpO2Z1bmN0aW9uIGJ0KHQsZSl7Zm9yKHZhciBuPXQuZmlyc3RDaGlsZCxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBvPWVbcl0saT1vLmRvbTtpZihpLnBhcmVudE5vZGU9PXQpe3doaWxlKGkhPW4pbj1OdChuKTtuPW4ubmV4dFNpYmxpbmd9ZWxzZSB0Lmluc2VydEJlZm9yZShpLG4pO2lmKG8gaW5zdGFuY2VvZiBwdCl7dmFyIHM9bj9uLnByZXZpb3VzU2libGluZzp0Lmxhc3RDaGlsZDtidChvLmNvbnRlbnRET00sby5jaGlsZHJlbiksbj1zP3MubmV4dFNpYmxpbmc6dC5maXJzdENoaWxkfX13aGlsZShuKW49TnQobil9ZnVuY3Rpb24gd3QodCl7dCYmKHRoaXMubm9kZU5hbWU9dCl9d3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobnVsbCk7dmFyIFN0PVtuZXcgd3RdO2Z1bmN0aW9uIHh0KHQsZSxuKXtpZigwPT10Lmxlbmd0aClyZXR1cm4gU3Q7Zm9yKHZhciByPW4/U3RbMF06bmV3IHd0LG89W3JdLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIHM9dFtpXS50eXBlLmF0dHJzLGE9cjtpZihzKWZvcih2YXIgYyBpbiBzLm5vZGVOYW1lJiZvLnB1c2goYT1uZXcgd3Qocy5ub2RlTmFtZSkpLHMpe3ZhciBsPXNbY107bnVsbCE9bCYmKG4mJjE9PW8ubGVuZ3RoJiZvLnB1c2goYT1yPW5ldyB3dChlLmlzSW5saW5lPyJzcGFuIjoiZGl2IikpLCJjbGFzcyI9PWM/YS5jbGFzcz0oYS5jbGFzcz9hLmNsYXNzKyIgIjoiIikrbDoic3R5bGUiPT1jP2Euc3R5bGU9KGEuc3R5bGU/YS5zdHlsZSsiOyI6IiIpK2w6Im5vZGVOYW1lIiE9YyYmKGFbY109bCkpfX1yZXR1cm4gb31mdW5jdGlvbiBrdCh0LGUsbixyKXtpZihuPT1TdCYmcj09U3QpcmV0dXJuIGU7Zm9yKHZhciBvPWUsaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgcz1yW2ldLGE9bltpXTtpZihpKXt2YXIgYz12b2lkIDA7YSYmYS5ub2RlTmFtZT09cy5ub2RlTmFtZSYmbyE9dCYmKGM9by5wYXJlbnROb2RlKSYmYy50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PXMubm9kZU5hbWV8fChjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQocy5ub2RlTmFtZSksYy5wbUlzRGVjbz0hMCxjLmFwcGVuZENoaWxkKG8pLGE9U3RbMF0pLG89Y31PdChvLGF8fFN0WzBdLHMpfXJldHVybiBvfWZ1bmN0aW9uIE90KHQsZSxuKXtmb3IodmFyIHIgaW4gZSkiY2xhc3MiPT1yfHwic3R5bGUiPT1yfHwibm9kZU5hbWUiPT1yfHxyIGluIG58fHQucmVtb3ZlQXR0cmlidXRlKHIpO2Zvcih2YXIgbyBpbiBuKSJjbGFzcyIhPW8mJiJzdHlsZSIhPW8mJiJub2RlTmFtZSIhPW8mJm5bb10hPWVbb10mJnQuc2V0QXR0cmlidXRlKG8sbltvXSk7aWYoZS5jbGFzcyE9bi5jbGFzcyl7Zm9yKHZhciBpPWUuY2xhc3M/ZS5jbGFzcy5zcGxpdCgiICIpOnV0LHM9bi5jbGFzcz9uLmNsYXNzLnNwbGl0KCIgIik6dXQsYT0wO2E8aS5sZW5ndGg7YSsrKS0xPT1zLmluZGV4T2YoaVthXSkmJnQuY2xhc3NMaXN0LnJlbW92ZShpW2FdKTtmb3IodmFyIGM9MDtjPHMubGVuZ3RoO2MrKyktMT09aS5pbmRleE9mKHNbY10pJiZ0LmNsYXNzTGlzdC5hZGQoc1tjXSl9aWYoZS5zdHlsZSE9bi5zdHlsZSl7aWYoZS5zdHlsZSl7dmFyIGwsdT0vXHMqKFtcd1wtXHhhMS1cdWZmZmZdKylccyo6KD86Iig/OlxcLnxbXiJdKSoifCcoPzpcXC58W14nXSkqJ3xcKC4qP1wpfFteO10pKi9nO3doaWxlKGw9dS5leGVjKGUuc3R5bGUpKXQuc3R5bGUucmVtb3ZlUHJvcGVydHkobFsxXSl9bi5zdHlsZSYmKHQuc3R5bGUuY3NzVGV4dCs9bi5zdHlsZSl9fWZ1bmN0aW9uIEN0KHQsZSxuKXtyZXR1cm4ga3QodCx0LFN0LHh0KGUsbiwxIT10Lm5vZGVUeXBlKSl9ZnVuY3Rpb24gTXQodCxlKXtpZih0Lmxlbmd0aCE9ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYoIXRbbl0udHlwZS5lcShlW25dLnR5cGUpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIE50KHQpe3ZhciBlPXQubmV4dFNpYmxpbmc7cmV0dXJuIHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSxlfXZhciBUdD1mdW5jdGlvbih0LGUpe3RoaXMudG9wPXQsdGhpcy5sb2NrPWUsdGhpcy5pbmRleD0wLHRoaXMuc3RhY2s9W10sdGhpcy5jaGFuZ2VkPSExO3ZhciBuPUF0KHQubm9kZS5jb250ZW50LHQuY2hpbGRyZW4pO3RoaXMucHJlTWF0Y2hlZD1uLm5vZGVzLHRoaXMucHJlTWF0Y2hPZmZzZXQ9bi5vZmZzZXR9O2Z1bmN0aW9uIEF0KHQsZSl7Zm9yKHZhciBuPVtdLHI9dC5jaGlsZENvdW50LG89ZS5sZW5ndGgtMTtyPjAmJm8+PTA7by0tKXt2YXIgaT1lW29dLHM9aS5ub2RlO2lmKHMpe2lmKHMhPXQuY2hpbGQoci0xKSlicmVhaztuLnB1c2goaSksLS1yfX1yZXR1cm57bm9kZXM6bi5yZXZlcnNlKCksb2Zmc2V0OnJ9fWZ1bmN0aW9uIER0KHQsZSl7cmV0dXJuIHQudHlwZS5zaWRlLWUudHlwZS5zaWRlfWZ1bmN0aW9uIEV0KHQsZSxuLHIpe3ZhciBvPWUubG9jYWxzKHQpLGk9MDtpZigwIT1vLmxlbmd0aClmb3IodmFyIHM9MCxhPVtdLGM9bnVsbCxsPTA7Oyl7aWYoczxvLmxlbmd0aCYmb1tzXS50bz09aSl7dmFyIHU9b1tzKytdLGY9dm9pZCAwO3doaWxlKHM8by5sZW5ndGgmJm9bc10udG89PWkpKGZ8fChmPVt1XSkpLnB1c2gob1tzKytdKTtpZihmKXtmLnNvcnQoRHQpO2Zvcih2YXIgZD0wO2Q8Zi5sZW5ndGg7ZCsrKW4oZltkXSxsLCEhYyl9ZWxzZSBuKHUsbCwhIWMpfXZhciBwPXZvaWQgMCxoPXZvaWQgMDtpZihjKWg9LTEscD1jLGM9bnVsbDtlbHNle2lmKCEobDx0LmNoaWxkQ291bnQpKWJyZWFrO2g9bCxwPXQuY2hpbGQobCsrKX1mb3IodmFyIHY9MDt2PGEubGVuZ3RoO3YrKylhW3ZdLnRvPD1pJiZhLnNwbGljZSh2LS0sMSk7d2hpbGUoczxvLmxlbmd0aCYmb1tzXS5mcm9tPD1pJiZvW3NdLnRvPmkpYS5wdXNoKG9bcysrXSk7dmFyIG09aStwLm5vZGVTaXplO2lmKHAuaXNUZXh0KXt2YXIgZz1tO3M8by5sZW5ndGgmJm9bc10uZnJvbTxnJiYoZz1vW3NdLmZyb20pO2Zvcih2YXIgeT0wO3k8YS5sZW5ndGg7eSsrKWFbeV0udG88ZyYmKGc9YVt5XS50byk7ZzxtJiYoYz1wLmN1dChnLWkpLHA9cC5jdXQoMCxnLWkpLG09ZyxoPS0xKX1yKHAsYS5sZW5ndGg/YS5zbGljZSgpOnV0LGUuZm9yQ2hpbGQoaSxwKSxoKSxpPW19ZWxzZSBmb3IodmFyIGI9MDtiPHQuY2hpbGRDb3VudDtiKyspe3ZhciB3PXQuY2hpbGQoYik7cih3LG8sZS5mb3JDaGlsZChpLHcpLGIpLGkrPXcubm9kZVNpemV9fWZ1bmN0aW9uIFJ0KHQpe2lmKCJVTCI9PXQubm9kZU5hbWV8fCJPTCI9PXQubm9kZU5hbWUpe3ZhciBlPXQuc3R5bGUuY3NzVGV4dDt0LnN0eWxlLmNzc1RleHQ9ZSsiOyBsaXN0LXN0eWxlOiBzcXVhcmUgIWltcG9ydGFudCIsd2luZG93LmdldENvbXB1dGVkU3R5bGUodCkubGlzdFN0eWxlLHQuc3R5bGUuY3NzVGV4dD1lfX1mdW5jdGlvbiBfdCh0LGUpe2Zvcig7Oyl7aWYoMz09dC5ub2RlVHlwZSlyZXR1cm4gdDtpZigxPT10Lm5vZGVUeXBlJiZlPjApe2lmKHQuY2hpbGROb2Rlcy5sZW5ndGg+ZSYmMz09dC5jaGlsZE5vZGVzW2VdLm5vZGVUeXBlKXJldHVybiB0LmNoaWxkTm9kZXNbZV07dD10LmNoaWxkTm9kZXNbZS0xXSxlPWsodCl9ZWxzZXtpZighKDE9PXQubm9kZVR5cGUmJmU8dC5jaGlsZE5vZGVzLmxlbmd0aCkpcmV0dXJuIG51bGw7dD10LmNoaWxkTm9kZXNbZV0sZT0wfX19ZnVuY3Rpb24gUHQodCxlLG4scil7Zm9yKHZhciBvPTAsaT0wO288dC5jaGlsZENvdW50JiZpPD1yOyl7dmFyIHM9dC5jaGlsZChvKyspLGE9aTtpZihpKz1zLm5vZGVTaXplLHMuaXNUZXh0KXt2YXIgYz1zLnRleHQ7d2hpbGUobzx0LmNoaWxkQ291bnQpe3ZhciBsPXQuY2hpbGQobysrKTtpZihpKz1sLm5vZGVTaXplLCFsLmlzVGV4dClicmVhaztjKz1sLnRleHR9aWYoaT49bil7dmFyIHU9Yy5sYXN0SW5kZXhPZihlLHItYSk7aWYodT49MCYmdStlLmxlbmd0aCthPj1uKXJldHVybiBhK3V9fX1yZXR1cm4tMX1mdW5jdGlvbiB6dCh0LGUsbixyLG8pe2Zvcih2YXIgaT1bXSxzPTAsYT0wO3M8dC5sZW5ndGg7cysrKXt2YXIgYz10W3NdLGw9YSx1PWErPWMuc2l6ZTtsPj1ufHx1PD1lP2kucHVzaChjKToobDxlJiZpLnB1c2goYy5zbGljZSgwLGUtbCxyKSksbyYmKGkucHVzaChvKSxvPW51bGwpLHU+biYmaS5wdXNoKGMuc2xpY2Uobi1sLGMuc2l6ZSxyKSkpfXJldHVybiBpfWZ1bmN0aW9uIEl0KHQsZSl7dmFyIG49dC5zZWxlY3Rpb24scj1uLiRhbmNob3Isbz1uLiRoZWFkLGk9ZT4wP3IubWF4KG8pOnIubWluKG8pLHM9aS5wYXJlbnQuaW5saW5lQ29udGVudD9pLmRlcHRoP3QuZG9jLnJlc29sdmUoZT4wP2kuYWZ0ZXIoKTppLmJlZm9yZSgpKTpudWxsOmk7cmV0dXJuIHMmJmNbIlNlbGVjdGlvbiJdLmZpbmRGcm9tKHMsZSl9ZnVuY3Rpb24ganQodCxlKXtyZXR1cm4gdC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldFNlbGVjdGlvbihlKS5zY3JvbGxJbnRvVmlldygpKSwhMH1mdW5jdGlvbiAkdCh0LGUsbil7dmFyIHI9dC5zdGF0ZS5zZWxlY3Rpb247aWYoIShyIGluc3RhbmNlb2YgY1siVGV4dFNlbGVjdGlvbiJdKSl7aWYociBpbnN0YW5jZW9mIGNbIk5vZGVTZWxlY3Rpb24iXSYmci5ub2RlLmlzSW5saW5lKXJldHVybiBqdCh0LG5ldyBjWyJUZXh0U2VsZWN0aW9uIl0oZT4wP3IuJHRvOnIuJGZyb20pKTt2YXIgbz1JdCh0LnN0YXRlLGUpO3JldHVybiEhbyYmanQodCxvKX1pZighci5lbXB0eXx8bi5pbmRleE9mKCJzIik+LTEpcmV0dXJuITE7aWYodC5lbmRPZlRleHRibG9jayhlPjA/InJpZ2h0IjoibGVmdCIpKXt2YXIgaT1JdCh0LnN0YXRlLGUpO3JldHVybiEhKGkmJmkgaW5zdGFuY2VvZiBjWyJOb2RlU2VsZWN0aW9uIl0pJiZqdCh0LGkpfWlmKCEoZi5tYWMmJm4uaW5kZXhPZigibSIpPi0xKSl7dmFyIHMsYT1yLiRoZWFkLGw9YS50ZXh0T2Zmc2V0P251bGw6ZTwwP2Eubm9kZUJlZm9yZTphLm5vZGVBZnRlcjtpZighbHx8bC5pc1RleHQpcmV0dXJuITE7dmFyIHU9ZTwwP2EucG9zLWwubm9kZVNpemU6YS5wb3M7cmV0dXJuISEobC5pc0F0b218fChzPXQuZG9jVmlldy5kZXNjQXQodSkpJiYhcy5jb250ZW50RE9NKSYmKGNbIk5vZGVTZWxlY3Rpb24iXS5pc1NlbGVjdGFibGUobCk/anQodCxuZXcgY1siTm9kZVNlbGVjdGlvbiJdKGU8MD90LnN0YXRlLmRvYy5yZXNvbHZlKGEucG9zLWwubm9kZVNpemUpOmEpKTohIWYud2Via2l0JiZqdCh0LG5ldyBjWyJUZXh0U2VsZWN0aW9uIl0odC5zdGF0ZS5kb2MucmVzb2x2ZShlPDA/dTp1K2wubm9kZVNpemUpKSkpfX1mdW5jdGlvbiBWdCh0KXtyZXR1cm4gMz09dC5ub2RlVHlwZT90Lm5vZGVWYWx1ZS5sZW5ndGg6dC5jaGlsZE5vZGVzLmxlbmd0aH1mdW5jdGlvbiBCdCh0KXt2YXIgZT10LnBtVmlld0Rlc2M7cmV0dXJuIGUmJjA9PWUuc2l6ZSYmKHQubmV4dFNpYmxpbmd8fCJCUiIhPXQubm9kZU5hbWUpfWZ1bmN0aW9uIEZ0KHQpe3ZhciBlPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxuPWUuZm9jdXNOb2RlLHI9ZS5mb2N1c09mZnNldDtpZihuKXt2YXIgbyxpLHM9ITE7Zm9yKGYuZ2Vja28mJjE9PW4ubm9kZVR5cGUmJnI8VnQobikmJkJ0KG4uY2hpbGROb2Rlc1tyXSkmJihzPSEwKTs7KWlmKHI+MCl7aWYoMSE9bi5ub2RlVHlwZSlicmVhazt2YXIgYT1uLmNoaWxkTm9kZXNbci0xXTtpZihCdChhKSlvPW4saT0tLXI7ZWxzZXtpZigzIT1hLm5vZGVUeXBlKWJyZWFrO249YSxyPW4ubm9kZVZhbHVlLmxlbmd0aH19ZWxzZXtpZihIdChuKSlicmVhazt2YXIgYz1uLnByZXZpb3VzU2libGluZzt3aGlsZShjJiZCdChjKSlvPW4ucGFyZW50Tm9kZSxpPWcoYyksYz1jLnByZXZpb3VzU2libGluZztpZihjKW49YyxyPVZ0KG4pO2Vsc2V7aWYobj1uLnBhcmVudE5vZGUsbj09dC5kb20pYnJlYWs7cj0wfX1zP3F0KHQsZSxuLHIpOm8mJnF0KHQsZSxvLGkpfX1mdW5jdGlvbiBMdCh0KXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj1lLmZvY3VzTm9kZSxyPWUuZm9jdXNPZmZzZXQ7aWYobil7Zm9yKHZhciBvLGkscz1WdChuKTs7KWlmKHI8cyl7aWYoMSE9bi5ub2RlVHlwZSlicmVhazt2YXIgYT1uLmNoaWxkTm9kZXNbcl07aWYoIUJ0KGEpKWJyZWFrO289bixpPSsrcn1lbHNle2lmKEh0KG4pKWJyZWFrO3ZhciBjPW4ubmV4dFNpYmxpbmc7d2hpbGUoYyYmQnQoYykpbz1jLnBhcmVudE5vZGUsaT1nKGMpKzEsYz1jLm5leHRTaWJsaW5nO2lmKGMpbj1jLHI9MCxzPVZ0KG4pO2Vsc2V7aWYobj1uLnBhcmVudE5vZGUsbj09dC5kb20pYnJlYWs7cj1zPTB9fW8mJnF0KHQsZSxvLGkpfX1mdW5jdGlvbiBIdCh0KXt2YXIgZT10LnBtVmlld0Rlc2M7cmV0dXJuIGUmJmUubm9kZSYmZS5ub2RlLmlzQmxvY2t9ZnVuY3Rpb24gcXQodCxlLG4scil7aWYoTShlKSl7dmFyIG89ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtvLnNldEVuZChuLHIpLG8uc2V0U3RhcnQobixyKSxlLnJlbW92ZUFsbFJhbmdlcygpLGUuYWRkUmFuZ2Uobyl9ZWxzZSBlLmV4dGVuZCYmZS5leHRlbmQobixyKTt0LmRvbU9ic2VydmVyLnNldEN1clNlbGVjdGlvbigpfWZ1bmN0aW9uIEt0KHQsZSxuKXt2YXIgcj10LnN0YXRlLnNlbGVjdGlvbjtpZihyIGluc3RhbmNlb2YgY1siVGV4dFNlbGVjdGlvbiJdJiYhci5lbXB0eXx8bi5pbmRleE9mKCJzIik+LTEpcmV0dXJuITE7aWYoZi5tYWMmJm4uaW5kZXhPZigibSIpPi0xKXJldHVybiExO3ZhciBvPXIuJGZyb20saT1yLiR0bztpZighby5wYXJlbnQuaW5saW5lQ29udGVudHx8dC5lbmRPZlRleHRibG9jayhlPDA/InVwIjoiZG93biIpKXt2YXIgcz1JdCh0LnN0YXRlLGUpO2lmKHMmJnMgaW5zdGFuY2VvZiBjWyJOb2RlU2VsZWN0aW9uIl0pcmV0dXJuIGp0KHQscyl9aWYoIW8ucGFyZW50LmlubGluZUNvbnRlbnQpe3ZhciBhPWNbIlNlbGVjdGlvbiJdLmZpbmRGcm9tKGU8MD9vOmksZSk7cmV0dXJuIWF8fGp0KHQsYSl9cmV0dXJuITF9ZnVuY3Rpb24gV3QodCxlKXtpZighKHQuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgY1siVGV4dFNlbGVjdGlvbiJdKSlyZXR1cm4hMDt2YXIgbj10LnN0YXRlLnNlbGVjdGlvbixyPW4uJGhlYWQsbz1uLiRhbmNob3IsaT1uLmVtcHR5O2lmKCFyLnNhbWVQYXJlbnQobykpcmV0dXJuITA7aWYoIWkpcmV0dXJuITE7aWYodC5lbmRPZlRleHRibG9jayhlPjA/ImZvcndhcmQiOiJiYWNrd2FyZCIpKXJldHVybiEwO3ZhciBzPSFyLnRleHRPZmZzZXQmJihlPDA/ci5ub2RlQmVmb3JlOnIubm9kZUFmdGVyKTtpZihzJiYhcy5pc1RleHQpe3ZhciBhPXQuc3RhdGUudHI7cmV0dXJuIGU8MD9hLmRlbGV0ZShyLnBvcy1zLm5vZGVTaXplLHIucG9zKTphLmRlbGV0ZShyLnBvcyxyLnBvcytzLm5vZGVTaXplKSx0LmRpc3BhdGNoKGEpLCEwfXJldHVybiExfWZ1bmN0aW9uIEp0KHQsZSxuKXt0LmRvbU9ic2VydmVyLnN0b3AoKSxlLmNvbnRlbnRFZGl0YWJsZT1uLHQuZG9tT2JzZXJ2ZXIuc3RhcnQoKX1mdW5jdGlvbiBVdCh0KXtpZihmLmNocm9tZSYmISh0LnN0YXRlLnNlbGVjdGlvbi4kaGVhZC5wYXJlbnRPZmZzZXQ+MCkpe3ZhciBlPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxuPWUuZm9jdXNOb2RlLHI9ZS5mb2N1c09mZnNldDtpZihuJiYxPT1uLm5vZGVUeXBlJiYwPT1yJiZuLmZpcnN0Q2hpbGQmJiJmYWxzZSI9PW4uZmlyc3RDaGlsZC5jb250ZW50RWRpdGFibGUpe3ZhciBvPW4uZmlyc3RDaGlsZDtKdCh0LG8sITApLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIEp0KHQsbywhMSl9KSwyMCl9fX1mdW5jdGlvbiBHdCh0KXt2YXIgZT0iIjtyZXR1cm4gdC5jdHJsS2V5JiYoZSs9ImMiKSx0Lm1ldGFLZXkmJihlKz0ibSIpLHQuYWx0S2V5JiYoZSs9ImEiKSx0LnNoaWZ0S2V5JiYoZSs9InMiKSxlfWZ1bmN0aW9uIFh0KHQsZSl7dmFyIG49ZS5rZXlDb2RlLHI9R3QoZSk7cmV0dXJuIDg9PW58fGYubWFjJiY3Mj09biYmImMiPT1yP1d0KHQsLTEpfHxGdCh0KTo0Nj09bnx8Zi5tYWMmJjY4PT1uJiYiYyI9PXI/V3QodCwxKXx8THQodCk6MTM9PW58fDI3PT1ufHwoMzc9PW4/JHQodCwtMSxyKXx8RnQodCk6Mzk9PW4/JHQodCwxLHIpfHxMdCh0KTozOD09bj9LdCh0LC0xLHIpfHxGdCh0KTo0MD09bj9VdCh0KXx8S3QodCwxLHIpfHxMdCh0KTpyPT0oZi5tYWM/Im0iOiJjIikmJig2Nj09bnx8NzM9PW58fDg5PT1ufHw5MD09bikpfWZ1bmN0aW9uIFl0KHQsZSl7dmFyIG49dC5yb290LmdldFNlbGVjdGlvbigpLHI9dC5zdGF0ZS5kb2M7aWYoIW4uZm9jdXNOb2RlKXJldHVybiBudWxsO3ZhciBvPXQuZG9jVmlldy5uZWFyZXN0RGVzYyhuLmZvY3VzTm9kZSksaT1vJiYwPT1vLnNpemUscz10LmRvY1ZpZXcucG9zRnJvbURPTShuLmZvY3VzTm9kZSxuLmZvY3VzT2Zmc2V0KTtpZihzPDApcmV0dXJuIG51bGw7dmFyIGEsbCx1PXIucmVzb2x2ZShzKTtpZihNKG4pKXthPXU7d2hpbGUobyYmIW8ubm9kZSlvPW8ucGFyZW50O2lmKG8mJm8ubm9kZS5pc0F0b20mJmNbIk5vZGVTZWxlY3Rpb24iXS5pc1NlbGVjdGFibGUoby5ub2RlKSYmby5wYXJlbnQmJighby5ub2RlLmlzSW5saW5lfHwhTyhuLmZvY3VzTm9kZSxuLmZvY3VzT2Zmc2V0LG8uZG9tKSkpe3ZhciBmPW8ucG9zQmVmb3JlO2w9bmV3IGNbIk5vZGVTZWxlY3Rpb24iXShzPT1mP3U6ci5yZXNvbHZlKGYpKX19ZWxzZXt2YXIgZD10LmRvY1ZpZXcucG9zRnJvbURPTShuLmFuY2hvck5vZGUsbi5hbmNob3JPZmZzZXQpO2lmKGQ8MClyZXR1cm4gbnVsbDthPXIucmVzb2x2ZShkKX1pZighbCl7dmFyIHA9InBvaW50ZXIiPT1lfHx0LnN0YXRlLnNlbGVjdGlvbi5oZWFkPHUucG9zJiYhaT8xOi0xO2w9YWUodCxhLHUscCl9cmV0dXJuIGx9ZnVuY3Rpb24gWnQodCxlKXt2YXIgbj10LnN0YXRlLnNlbGVjdGlvbjtpZihpZSh0LG4pLHQuZWRpdGFibGU/dC5oYXNGb2N1cygpOmxlKHQpJiZkb2N1bWVudC5hY3RpdmVFbGVtZW50JiZkb2N1bWVudC5hY3RpdmVFbGVtZW50LmNvbnRhaW5zKHQuZG9tKSl7aWYodC5kb21PYnNlcnZlci5kaXNjb25uZWN0U2VsZWN0aW9uKCksdC5jdXJzb3JXcmFwcGVyKW9lKHQpO2Vsc2V7dmFyIHIsbyxpPW4uYW5jaG9yLHM9bi5oZWFkOyFRdHx8biBpbnN0YW5jZW9mIGNbIlRleHRTZWxlY3Rpb24iXXx8KG4uJGZyb20ucGFyZW50LmlubGluZUNvbnRlbnR8fChyPXRlKHQsbi5mcm9tKSksbi5lbXB0eXx8bi4kZnJvbS5wYXJlbnQuaW5saW5lQ29udGVudHx8KG89dGUodCxuLnRvKSkpLHQuZG9jVmlldy5zZXRTZWxlY3Rpb24oaSxzLHQucm9vdCxlKSxRdCYmKHImJm5lKHIpLG8mJm5lKG8pKSxuLnZpc2libGU/dC5kb20uY2xhc3NMaXN0LnJlbW92ZSgiUHJvc2VNaXJyb3ItaGlkZXNlbGVjdGlvbiIpOih0LmRvbS5jbGFzc0xpc3QuYWRkKCJQcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uIiksIm9uc2VsZWN0aW9uY2hhbmdlImluIGRvY3VtZW50JiZyZSh0KSl9dC5kb21PYnNlcnZlci5zZXRDdXJTZWxlY3Rpb24oKSx0LmRvbU9ic2VydmVyLmNvbm5lY3RTZWxlY3Rpb24oKX19VHQucHJvdG90eXBlLmdldFByZU1hdGNoPWZ1bmN0aW9uKHQpe3JldHVybiB0Pj10aGlzLnByZU1hdGNoT2Zmc2V0P3RoaXMucHJlTWF0Y2hlZFt0LXRoaXMucHJlTWF0Y2hPZmZzZXRdOm51bGx9LFR0LnByb3RvdHlwZS5kZXN0cm95QmV0d2Vlbj1mdW5jdGlvbih0LGUpe2lmKHQhPWUpe2Zvcih2YXIgbj10O248ZTtuKyspdGhpcy50b3AuY2hpbGRyZW5bbl0uZGVzdHJveSgpO3RoaXMudG9wLmNoaWxkcmVuLnNwbGljZSh0LGUtdCksdGhpcy5jaGFuZ2VkPSEwfX0sVHQucHJvdG90eXBlLmRlc3Ryb3lSZXN0PWZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95QmV0d2Vlbih0aGlzLmluZGV4LHRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aCl9LFR0LnByb3RvdHlwZS5zeW5jVG9NYXJrcz1mdW5jdGlvbih0LGUsbil7dmFyIHI9MCxvPXRoaXMuc3RhY2subGVuZ3RoPj4xLGk9TWF0aC5taW4obyx0Lmxlbmd0aCk7d2hpbGUocjxpJiYocj09by0xP3RoaXMudG9wOnRoaXMuc3RhY2tbcisxPDwxXSkubWF0Y2hlc01hcmsodFtyXSkmJiExIT09dFtyXS50eXBlLnNwZWMuc3Bhbm5pbmcpcisrO3doaWxlKHI8byl0aGlzLmRlc3Ryb3lSZXN0KCksdGhpcy50b3AuZGlydHk9b3QsdGhpcy5pbmRleD10aGlzLnN0YWNrLnBvcCgpLHRoaXMudG9wPXRoaXMuc3RhY2sucG9wKCksby0tO3doaWxlKG88dC5sZW5ndGgpe3RoaXMuc3RhY2sucHVzaCh0aGlzLnRvcCx0aGlzLmluZGV4KzEpO2Zvcih2YXIgcz0tMSxhPXRoaXMuaW5kZXg7YTxNYXRoLm1pbih0aGlzLmluZGV4KzMsdGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoKTthKyspaWYodGhpcy50b3AuY2hpbGRyZW5bYV0ubWF0Y2hlc01hcmsodFtvXSkpe3M9YTticmVha31pZihzPi0xKXM+dGhpcy5pbmRleCYmKHRoaXMuY2hhbmdlZD0hMCx0aGlzLmRlc3Ryb3lCZXR3ZWVuKHRoaXMuaW5kZXgscykpLHRoaXMudG9wPXRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXhdO2Vsc2V7dmFyIGM9cHQuY3JlYXRlKHRoaXMudG9wLHRbb10sZSxuKTt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCwwLGMpLHRoaXMudG9wPWMsdGhpcy5jaGFuZ2VkPSEwfXRoaXMuaW5kZXg9MCxvKyt9fSxUdC5wcm90b3R5cGUuZmluZE5vZGVNYXRjaD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz0tMSxpPXI8MD92b2lkIDA6dGhpcy5nZXRQcmVNYXRjaChyKSxzPXRoaXMudG9wLmNoaWxkcmVuO2lmKGkmJmkubWF0Y2hlc05vZGUodCxlLG4pKW89cy5pbmRleE9mKGkpO2Vsc2UgZm9yKHZhciBhPXRoaXMuaW5kZXgsYz1NYXRoLm1pbihzLmxlbmd0aCxhKzUpO2E8YzthKyspe3ZhciBsPXNbYV07aWYobC5tYXRjaGVzTm9kZSh0LGUsbikmJnRoaXMucHJlTWF0Y2hlZC5pbmRleE9mKGwpPDApe289YTticmVha319cmV0dXJuIShvPDApJiYodGhpcy5kZXN0cm95QmV0d2Vlbih0aGlzLmluZGV4LG8pLHRoaXMuaW5kZXgrKywhMCl9LFR0LnByb3RvdHlwZS51cGRhdGVOZXh0Tm9kZT1mdW5jdGlvbih0LGUsbixyLG8pe2Zvcih2YXIgaT10aGlzLmluZGV4O2k8dGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoO2krKyl7dmFyIHM9dGhpcy50b3AuY2hpbGRyZW5baV07aWYocyBpbnN0YW5jZW9mIGh0KXt2YXIgYT10aGlzLnByZU1hdGNoZWQuaW5kZXhPZihzKTtpZihhPi0xJiZhK3RoaXMucHJlTWF0Y2hPZmZzZXQhPW8pcmV0dXJuITE7dmFyIGM9cy5kb20sbD10aGlzLmxvY2smJihjPT10aGlzLmxvY2t8fDE9PWMubm9kZVR5cGUmJmMuY29udGFpbnModGhpcy5sb2NrLnBhcmVudE5vZGUpKSYmISh0LmlzVGV4dCYmcy5ub2RlJiZzLm5vZGUuaXNUZXh0JiZzLm5vZGVET00ubm9kZVZhbHVlPT10LnRleHQmJnMuZGlydHkhPWF0JiZNdChlLHMub3V0ZXJEZWNvKSk7aWYoIWwmJnMudXBkYXRlKHQsZSxuLHIpKXJldHVybiB0aGlzLmRlc3Ryb3lCZXR3ZWVuKHRoaXMuaW5kZXgsaSkscy5kb20hPWMmJih0aGlzLmNoYW5nZWQ9ITApLHRoaXMuaW5kZXgrKywhMDticmVha319cmV0dXJuITF9LFR0LnByb3RvdHlwZS5hZGROb2RlPWZ1bmN0aW9uKHQsZSxuLHIsbyl7dGhpcy50b3AuY2hpbGRyZW4uc3BsaWNlKHRoaXMuaW5kZXgrKywwLGh0LmNyZWF0ZSh0aGlzLnRvcCx0LGUsbixyLG8pKSx0aGlzLmNoYW5nZWQ9ITB9LFR0LnByb3RvdHlwZS5wbGFjZVdpZGdldD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5pbmRleDx0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGg/dGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleF06bnVsbDtpZighcnx8IXIubWF0Y2hlc1dpZGdldCh0KXx8dCE9ci53aWRnZXQmJnIud2lkZ2V0LnR5cGUudG9ET00ucGFyZW50Tm9kZSl7dmFyIG89bmV3IGZ0KHRoaXMudG9wLHQsZSxuKTt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCsrLDAsbyksdGhpcy5jaGFuZ2VkPSEwfWVsc2UgdGhpcy5pbmRleCsrfSxUdC5wcm90b3R5cGUuYWRkVGV4dGJsb2NrSGFja3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRvcC5jaGlsZHJlblt0aGlzLmluZGV4LTFdO3doaWxlKHQgaW5zdGFuY2VvZiBwdCl0PXQuY2hpbGRyZW5bdC5jaGlsZHJlbi5sZW5ndGgtMV07aWYoIXR8fCEodCBpbnN0YW5jZW9mIG10KXx8L1xuJC8udGVzdCh0Lm5vZGUudGV4dCkpaWYodGhpcy5pbmRleDx0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGgmJnRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXhdLm1hdGNoZXNIYWNrKCkpdGhpcy5pbmRleCsrO2Vsc2V7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKTt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCsrLDAsbmV3IGd0KHRoaXMudG9wLHV0LGUsbnVsbCkpLHRoaXMuY2hhbmdlZD0hMH19O3ZhciBRdD1mLnNhZmFyaXx8Zi5jaHJvbWUmJmYuY2hyb21lX3ZlcnNpb248NjM7ZnVuY3Rpb24gdGUodCxlKXt2YXIgbj10LmRvY1ZpZXcuZG9tRnJvbVBvcyhlKSxyPW4ubm9kZSxvPW4ub2Zmc2V0LGk9bzxyLmNoaWxkTm9kZXMubGVuZ3RoP3IuY2hpbGROb2Rlc1tvXTpudWxsLHM9bz9yLmNoaWxkTm9kZXNbby0xXTpudWxsO2lmKGYuc2FmYXJpJiZpJiYiZmFsc2UiPT1pLmNvbnRlbnRFZGl0YWJsZSlyZXR1cm4gZWUoaSk7aWYoKCFpfHwiZmFsc2UiPT1pLmNvbnRlbnRFZGl0YWJsZSkmJighc3x8ImZhbHNlIj09cy5jb250ZW50RWRpdGFibGUpKXtpZihpKXJldHVybiBlZShpKTtpZihzKXJldHVybiBlZShzKX19ZnVuY3Rpb24gZWUodCl7cmV0dXJuIHQuY29udGVudEVkaXRhYmxlPSJ0cnVlIixmLnNhZmFyaSYmdC5kcmFnZ2FibGUmJih0LmRyYWdnYWJsZT0hMSx0Lndhc0RyYWdnYWJsZT0hMCksdH1mdW5jdGlvbiBuZSh0KXt0LmNvbnRlbnRFZGl0YWJsZT0iZmFsc2UiLHQud2FzRHJhZ2dhYmxlJiYodC5kcmFnZ2FibGU9ITAsdC53YXNEcmFnZ2FibGU9bnVsbCl9ZnVuY3Rpb24gcmUodCl7dmFyIGU9dC5kb20ub3duZXJEb2N1bWVudDtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsdC5oaWRlU2VsZWN0aW9uR3VhcmQpO3ZhciBuPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxyPW4uYW5jaG9yTm9kZSxvPW4uYW5jaG9yT2Zmc2V0O2UuYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIix0LmhpZGVTZWxlY3Rpb25HdWFyZD1mdW5jdGlvbigpe24uYW5jaG9yTm9kZT09ciYmbi5hbmNob3JPZmZzZXQ9PW98fChlLnJlbW92ZUV2ZW50TGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsdC5oaWRlU2VsZWN0aW9uR3VhcmQpLHQuZG9tLmNsYXNzTGlzdC5yZW1vdmUoIlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb24iKSl9KX1mdW5jdGlvbiBvZSh0KXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpLHI9dC5jdXJzb3JXcmFwcGVyLmRvbSxvPSJJTUciPT1yLm5vZGVOYW1lO28/bi5zZXRFbmQoci5wYXJlbnROb2RlLGcocikrMSk6bi5zZXRFbmQociwwKSxuLmNvbGxhcHNlKCExKSxlLnJlbW92ZUFsbFJhbmdlcygpLGUuYWRkUmFuZ2UobiksIW8mJiF0LnN0YXRlLnNlbGVjdGlvbi52aXNpYmxlJiZmLmllJiZmLmllX3ZlcnNpb248PTExJiYoci5kaXNhYmxlZD0hMCxyLmRpc2FibGVkPSExKX1mdW5jdGlvbiBpZSh0LGUpe2lmKGUgaW5zdGFuY2VvZiBjWyJOb2RlU2VsZWN0aW9uIl0pe3ZhciBuPXQuZG9jVmlldy5kZXNjQXQoZS5mcm9tKTtuIT10Lmxhc3RTZWxlY3RlZFZpZXdEZXNjJiYoc2UodCksbiYmbi5zZWxlY3ROb2RlKCksdC5sYXN0U2VsZWN0ZWRWaWV3RGVzYz1uKX1lbHNlIHNlKHQpfWZ1bmN0aW9uIHNlKHQpe3QubGFzdFNlbGVjdGVkVmlld0Rlc2MmJih0Lmxhc3RTZWxlY3RlZFZpZXdEZXNjLnBhcmVudCYmdC5sYXN0U2VsZWN0ZWRWaWV3RGVzYy5kZXNlbGVjdE5vZGUoKSx0Lmxhc3RTZWxlY3RlZFZpZXdEZXNjPW51bGwpfWZ1bmN0aW9uIGFlKHQsZSxuLHIpe3JldHVybiB0LnNvbWVQcm9wKCJjcmVhdGVTZWxlY3Rpb25CZXR3ZWVuIiwoZnVuY3Rpb24ocil7cmV0dXJuIHIodCxlLG4pfSkpfHxjWyJUZXh0U2VsZWN0aW9uIl0uYmV0d2VlbihlLG4scil9ZnVuY3Rpb24gY2UodCl7cmV0dXJuKCF0LmVkaXRhYmxlfHx0LnJvb3QuYWN0aXZlRWxlbWVudD09dC5kb20pJiZsZSh0KX1mdW5jdGlvbiBsZSh0KXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCk7aWYoIWUuYW5jaG9yTm9kZSlyZXR1cm4hMTt0cnl7cmV0dXJuIHQuZG9tLmNvbnRhaW5zKDM9PWUuYW5jaG9yTm9kZS5ub2RlVHlwZT9lLmFuY2hvck5vZGUucGFyZW50Tm9kZTplLmFuY2hvck5vZGUpJiYodC5lZGl0YWJsZXx8dC5kb20uY29udGFpbnMoMz09ZS5mb2N1c05vZGUubm9kZVR5cGU/ZS5mb2N1c05vZGUucGFyZW50Tm9kZTplLmZvY3VzTm9kZSkpfWNhdGNoKG4pe3JldHVybiExfX1mdW5jdGlvbiB1ZSh0KXt2YXIgZT10LmRvY1ZpZXcuZG9tRnJvbVBvcyh0LnN0YXRlLnNlbGVjdGlvbi5hbmNob3IpLG49dC5yb290LmdldFNlbGVjdGlvbigpO3JldHVybiB3KGUubm9kZSxlLm9mZnNldCxuLmFuY2hvck5vZGUsbi5hbmNob3JPZmZzZXQpfWZ1bmN0aW9uIGZlKHQsZSxuKXt2YXIgcj10LmRvY1ZpZXcucGFyc2VSYW5nZShlLG4pLG89ci5ub2RlLGk9ci5mcm9tT2Zmc2V0LHM9ci50b09mZnNldCxhPXIuZnJvbSxjPXIudG8sdT10LnJvb3QuZ2V0U2VsZWN0aW9uKCksZD1udWxsLHA9dS5hbmNob3JOb2RlO2lmKHAmJnQuZG9tLmNvbnRhaW5zKDE9PXAubm9kZVR5cGU/cDpwLnBhcmVudE5vZGUpJiYoZD1be25vZGU6cCxvZmZzZXQ6dS5hbmNob3JPZmZzZXR9XSxNKHUpfHxkLnB1c2goe25vZGU6dS5mb2N1c05vZGUsb2Zmc2V0OnUuZm9jdXNPZmZzZXR9KSksZi5jaHJvbWUmJjg9PT10Lmxhc3RLZXlDb2RlKWZvcih2YXIgaD1zO2g+aTtoLS0pe3ZhciB2PW8uY2hpbGROb2Rlc1toLTFdLG09di5wbVZpZXdEZXNjO2lmKCJCUiI9PXYubm9kZVR5cGUmJiFtKXtzPWg7YnJlYWt9aWYoIW18fG0uc2l6ZSlicmVha312YXIgZz10LnN0YXRlLmRvYyx5PXQuc29tZVByb3AoImRvbVBhcnNlciIpfHxsWyJET01QYXJzZXIiXS5mcm9tU2NoZW1hKHQuc3RhdGUuc2NoZW1hKSxiPWcucmVzb2x2ZShhKSx3PW51bGwsUz15LnBhcnNlKG8se3RvcE5vZGU6Yi5wYXJlbnQsdG9wTWF0Y2g6Yi5wYXJlbnQuY29udGVudE1hdGNoQXQoYi5pbmRleCgpKSx0b3BPcGVuOiEwLGZyb206aSx0bzpzLHByZXNlcnZlV2hpdGVzcGFjZTohYi5wYXJlbnQudHlwZS5zcGVjLmNvZGV8fCJmdWxsIixlZGl0YWJsZUNvbnRlbnQ6ITAsZmluZFBvc2l0aW9uczpkLHJ1bGVGcm9tTm9kZTpkZSxjb250ZXh0OmJ9KTtpZihkJiZudWxsIT1kWzBdLnBvcyl7dmFyIHg9ZFswXS5wb3Msaz1kWzFdJiZkWzFdLnBvcztudWxsPT1rJiYoaz14KSx3PXthbmNob3I6eCthLGhlYWQ6aythfX1yZXR1cm57ZG9jOlMsc2VsOncsZnJvbTphLHRvOmN9fWZ1bmN0aW9uIGRlKHQpe3ZhciBlPXQucG1WaWV3RGVzYztpZihlKXJldHVybiBlLnBhcnNlUnVsZSgpO2lmKCJCUiI9PXQubm9kZU5hbWUmJnQucGFyZW50Tm9kZSl7aWYoZi5zYWZhcmkmJi9eKHVsfG9sKSQvaS50ZXN0KHQucGFyZW50Tm9kZS5ub2RlTmFtZSkpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBuLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIikpLHtza2lwOm59fWlmKHQucGFyZW50Tm9kZS5sYXN0Q2hpbGQ9PXR8fGYuc2FmYXJpJiYvXih0cnx0YWJsZSkkL2kudGVzdCh0LnBhcmVudE5vZGUubm9kZU5hbWUpKXJldHVybntpZ25vcmU6ITB9fWVsc2UgaWYoIklNRyI9PXQubm9kZU5hbWUmJnQuZ2V0QXR0cmlidXRlKCJtYXJrLXBsYWNlaG9sZGVyIikpcmV0dXJue2lnbm9yZTohMH19ZnVuY3Rpb24gcGUodCxlLG4scixvKXtpZihlPDApe3ZhciBpPXQubGFzdFNlbGVjdGlvblRpbWU+RGF0ZS5ub3coKS01MD90Lmxhc3RTZWxlY3Rpb25PcmlnaW46bnVsbCxzPVl0KHQsaSk7aWYocyYmIXQuc3RhdGUuc2VsZWN0aW9uLmVxKHMpKXt2YXIgYT10LnN0YXRlLnRyLnNldFNlbGVjdGlvbihzKTsicG9pbnRlciI9PWk/YS5zZXRNZXRhKCJwb2ludGVyIiwhMCk6ImtleSI9PWkmJmEuc2Nyb2xsSW50b1ZpZXcoKSx0LmRpc3BhdGNoKGEpfX1lbHNle3ZhciBsPXQuc3RhdGUuZG9jLnJlc29sdmUoZSksdT1sLnNoYXJlZERlcHRoKG4pO2U9bC5iZWZvcmUodSsxKSxuPXQuc3RhdGUuZG9jLnJlc29sdmUobikuYWZ0ZXIodSsxKTt2YXIgZCxwLGg9dC5zdGF0ZS5zZWxlY3Rpb24sdj1mZSh0LGUsbiksbT10LnN0YXRlLmRvYyxnPW0uc2xpY2Uodi5mcm9tLHYudG8pOzg9PT10Lmxhc3RLZXlDb2RlJiZEYXRlLm5vdygpLTEwMDx0Lmxhc3RLZXlDb2RlVGltZT8oZD10LnN0YXRlLnNlbGVjdGlvbi50byxwPSJlbmQiKTooZD10LnN0YXRlLnNlbGVjdGlvbi5mcm9tLHA9InN0YXJ0IiksdC5sYXN0S2V5Q29kZT1udWxsO3ZhciB5PXllKGcuY29udGVudCx2LmRvYy5jb250ZW50LHYuZnJvbSxkLHApO2lmKCF5KXtpZighKHImJmggaW5zdGFuY2VvZiBjWyJUZXh0U2VsZWN0aW9uIl0mJiFoLmVtcHR5JiZoLiRoZWFkLnNhbWVQYXJlbnQoaC4kYW5jaG9yKSl8fHQuY29tcG9zaW5nfHx2LnNlbCYmdi5zZWwuYW5jaG9yIT12LnNlbC5oZWFkKXtpZih2LnNlbCl7dmFyIGI9aGUodCx0LnN0YXRlLmRvYyx2LnNlbCk7YiYmIWIuZXEodC5zdGF0ZS5zZWxlY3Rpb24pJiZ0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKGIpKX1yZXR1cm59eT17c3RhcnQ6aC5mcm9tLGVuZEE6aC50byxlbmRCOmgudG99fXQuZG9tQ2hhbmdlQ291bnQrKyx0LnN0YXRlLnNlbGVjdGlvbi5mcm9tPHQuc3RhdGUuc2VsZWN0aW9uLnRvJiZ5LnN0YXJ0PT15LmVuZEImJnQuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgY1siVGV4dFNlbGVjdGlvbiJdJiYoeS5zdGFydD50LnN0YXRlLnNlbGVjdGlvbi5mcm9tJiZ5LnN0YXJ0PD10LnN0YXRlLnNlbGVjdGlvbi5mcm9tKzI/eS5zdGFydD10LnN0YXRlLnNlbGVjdGlvbi5mcm9tOnkuZW5kQTx0LnN0YXRlLnNlbGVjdGlvbi50byYmeS5lbmRBPj10LnN0YXRlLnNlbGVjdGlvbi50by0yJiYoeS5lbmRCKz10LnN0YXRlLnNlbGVjdGlvbi50by15LmVuZEEseS5lbmRBPXQuc3RhdGUuc2VsZWN0aW9uLnRvKSksZi5pZSYmZi5pZV92ZXJzaW9uPD0xMSYmeS5lbmRCPT15LnN0YXJ0KzEmJnkuZW5kQT09eS5zdGFydCYmeS5zdGFydD52LmZyb20mJiIgwqAiPT12LmRvYy50ZXh0QmV0d2Vlbih5LnN0YXJ0LXYuZnJvbS0xLHkuc3RhcnQtdi5mcm9tKzEpJiYoeS5zdGFydC0tLHkuZW5kQS0tLHkuZW5kQi0tKTt2YXIgdyxTPXYuZG9jLnJlc29sdmVOb0NhY2hlKHkuc3RhcnQtdi5mcm9tKSx4PXYuZG9jLnJlc29sdmVOb0NhY2hlKHkuZW5kQi12LmZyb20pLGs9Uy5zYW1lUGFyZW50KHgpJiZTLnBhcmVudC5pbmxpbmVDb250ZW50O2lmKChmLmlvcyYmdC5sYXN0SU9TRW50ZXI+RGF0ZS5ub3coKS0yMjUmJigha3x8by5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4iRElWIj09dC5ub2RlTmFtZXx8IlAiPT10Lm5vZGVOYW1lfSkpKXx8IWsmJlMucG9zPHYuZG9jLmNvbnRlbnQuc2l6ZSYmKHc9Y1siU2VsZWN0aW9uIl0uZmluZEZyb20odi5kb2MucmVzb2x2ZShTLnBvcysxKSwxLCEwKSkmJncuaGVhZD09eC5wb3MpJiZ0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCxOKDEzLCJFbnRlciIpKX0pKSl0Lmxhc3RJT1NFbnRlcj0wO2Vsc2UgaWYodC5zdGF0ZS5zZWxlY3Rpb24uYW5jaG9yPnkuc3RhcnQmJm1lKG0seS5zdGFydCx5LmVuZEEsUyx4KSYmdC5zb21lUHJvcCgiaGFuZGxlS2V5RG93biIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQsTig4LCJCYWNrc3BhY2UiKSl9KSkpZi5hbmRyb2lkJiZmLmNocm9tZSYmdC5kb21PYnNlcnZlci5zdXBwcmVzc1NlbGVjdGlvblVwZGF0ZXMoKTtlbHNle2YuYW5kcm9pZCYmIWsmJlMuc3RhcnQoKSE9eC5zdGFydCgpJiYwPT14LnBhcmVudE9mZnNldCYmUy5kZXB0aD09eC5kZXB0aCYmdi5zZWwmJnYuc2VsLmFuY2hvcj09di5zZWwuaGVhZCYmdi5zZWwuaGVhZD09eS5lbmRBJiYoeS5lbmRCLT0yLHg9di5kb2MucmVzb2x2ZU5vQ2FjaGUoeS5lbmRCLXYuZnJvbSksc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCxOKDEzLCJFbnRlciIpKX0pKX0pLDIwKSk7dmFyIE8sQyxNLFQsQT15LnN0YXJ0LEQ9eS5lbmRBO2lmKGspaWYoUy5wb3M9PXgucG9zKWYuaWUmJmYuaWVfdmVyc2lvbjw9MTEmJjA9PVMucGFyZW50T2Zmc2V0JiYodC5kb21PYnNlcnZlci5zdXBwcmVzc1NlbGVjdGlvblVwZGF0ZXMoKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBadCh0KX0pLDIwKSksTz10LnN0YXRlLnRyLmRlbGV0ZShBLEQpLEM9bS5yZXNvbHZlKHkuc3RhcnQpLm1hcmtzQWNyb3NzKG0ucmVzb2x2ZSh5LmVuZEEpKTtlbHNlIGlmKHkuZW5kQT09eS5lbmRCJiYoVD1tLnJlc29sdmUoeS5zdGFydCkpJiYoTT12ZShTLnBhcmVudC5jb250ZW50LmN1dChTLnBhcmVudE9mZnNldCx4LnBhcmVudE9mZnNldCksVC5wYXJlbnQuY29udGVudC5jdXQoVC5wYXJlbnRPZmZzZXQseS5lbmRBLVQuc3RhcnQoKSkpKSlPPXQuc3RhdGUudHIsImFkZCI9PU0udHlwZT9PLmFkZE1hcmsoQSxELE0ubWFyayk6Ty5yZW1vdmVNYXJrKEEsRCxNLm1hcmspO2Vsc2UgaWYoUy5wYXJlbnQuY2hpbGQoUy5pbmRleCgpKS5pc1RleHQmJlMuaW5kZXgoKT09eC5pbmRleCgpLSh4LnRleHRPZmZzZXQ/MDoxKSl7dmFyIEU9Uy5wYXJlbnQudGV4dEJldHdlZW4oUy5wYXJlbnRPZmZzZXQseC5wYXJlbnRPZmZzZXQpO2lmKHQuc29tZVByb3AoImhhbmRsZVRleHRJbnB1dCIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQsQSxELEUpfSkpKXJldHVybjtPPXQuc3RhdGUudHIuaW5zZXJ0VGV4dChFLEEsRCl9aWYoT3x8KE89dC5zdGF0ZS50ci5yZXBsYWNlKEEsRCx2LmRvYy5zbGljZSh5LnN0YXJ0LXYuZnJvbSx5LmVuZEItdi5mcm9tKSkpLHYuc2VsKXt2YXIgUj1oZSh0LE8uZG9jLHYuc2VsKTtSJiYhKGYuY2hyb21lJiZmLmFuZHJvaWQmJnQuY29tcG9zaW5nJiZSLmVtcHR5JiYoUi5oZWFkPT1BfHxSLmhlYWQ9PU8ubWFwcGluZy5tYXAoRCktMSl8fGYuaWUmJlIuZW1wdHkmJlIuaGVhZD09QSkmJk8uc2V0U2VsZWN0aW9uKFIpfUMmJk8uZW5zdXJlTWFya3MoQyksdC5kaXNwYXRjaChPLnNjcm9sbEludG9WaWV3KCkpfX19ZnVuY3Rpb24gaGUodCxlLG4pe3JldHVybiBNYXRoLm1heChuLmFuY2hvcixuLmhlYWQpPmUuY29udGVudC5zaXplP251bGw6YWUodCxlLnJlc29sdmUobi5hbmNob3IpLGUucmVzb2x2ZShuLmhlYWQpKX1mdW5jdGlvbiB2ZSh0LGUpe2Zvcih2YXIgbixyLG8saT10LmZpcnN0Q2hpbGQubWFya3Mscz1lLmZpcnN0Q2hpbGQubWFya3MsYT1pLGM9cyx1PTA7dTxzLmxlbmd0aDt1KyspYT1zW3VdLnJlbW92ZUZyb21TZXQoYSk7Zm9yKHZhciBmPTA7ZjxpLmxlbmd0aDtmKyspYz1pW2ZdLnJlbW92ZUZyb21TZXQoYyk7aWYoMT09YS5sZW5ndGgmJjA9PWMubGVuZ3RoKXI9YVswXSxuPSJhZGQiLG89ZnVuY3Rpb24odCl7cmV0dXJuIHQubWFyayhyLmFkZFRvU2V0KHQubWFya3MpKX07ZWxzZXtpZigwIT1hLmxlbmd0aHx8MSE9Yy5sZW5ndGgpcmV0dXJuIG51bGw7cj1jWzBdLG49InJlbW92ZSIsbz1mdW5jdGlvbih0KXtyZXR1cm4gdC5tYXJrKHIucmVtb3ZlRnJvbVNldCh0Lm1hcmtzKSl9fWZvcih2YXIgZD1bXSxwPTA7cDxlLmNoaWxkQ291bnQ7cCsrKWQucHVzaChvKGUuY2hpbGQocCkpKTtpZihsWyJGcmFnbWVudCJdLmZyb20oZCkuZXEodCkpcmV0dXJue21hcms6cix0eXBlOm59fWZ1bmN0aW9uIG1lKHQsZSxuLHIsbyl7aWYoIXIucGFyZW50LmlzVGV4dGJsb2NrfHxuLWU8PW8ucG9zLXIucG9zfHxnZShyLCEwLCExKTxvLnBvcylyZXR1cm4hMTt2YXIgaT10LnJlc29sdmUoZSk7aWYoaS5wYXJlbnRPZmZzZXQ8aS5wYXJlbnQuY29udGVudC5zaXplfHwhaS5wYXJlbnQuaXNUZXh0YmxvY2spcmV0dXJuITE7dmFyIHM9dC5yZXNvbHZlKGdlKGksITAsITApKTtyZXR1cm4hKCFzLnBhcmVudC5pc1RleHRibG9ja3x8cy5wb3M+bnx8Z2UocywhMCwhMSk8bikmJnIucGFyZW50LmNvbnRlbnQuY3V0KHIucGFyZW50T2Zmc2V0KS5lcShzLnBhcmVudC5jb250ZW50KX1mdW5jdGlvbiBnZSh0LGUsbil7dmFyIHI9dC5kZXB0aCxvPWU/dC5lbmQoKTp0LnBvczt3aGlsZShyPjAmJihlfHx0LmluZGV4QWZ0ZXIocik9PXQubm9kZShyKS5jaGlsZENvdW50KSlyLS0sbysrLGU9ITE7aWYobil7dmFyIGk9dC5ub2RlKHIpLm1heWJlQ2hpbGQodC5pbmRleEFmdGVyKHIpKTt3aGlsZShpJiYhaS5pc0xlYWYpaT1pLmZpcnN0Q2hpbGQsbysrfXJldHVybiBvfWZ1bmN0aW9uIHllKHQsZSxuLHIsbyl7dmFyIGk9dC5maW5kRGlmZlN0YXJ0KGUsbik7aWYobnVsbD09aSlyZXR1cm4gbnVsbDt2YXIgcz10LmZpbmREaWZmRW5kKGUsbit0LnNpemUsbitlLnNpemUpLGE9cy5hLGM9cy5iO2lmKCJlbmQiPT1vKXt2YXIgbD1NYXRoLm1heCgwLGktTWF0aC5taW4oYSxjKSk7ci09YStsLWl9aWYoYTxpJiZ0LnNpemU8ZS5zaXplKXt2YXIgdT1yPD1pJiZyPj1hP2ktcjowO2ktPXUsYz1pKyhjLWEpLGE9aX1lbHNlIGlmKGM8aSl7dmFyIGY9cjw9aSYmcj49Yz9pLXI6MDtpLT1mLGE9aSsoYS1jKSxjPWl9cmV0dXJue3N0YXJ0OmksZW5kQTphLGVuZEI6Y319ZnVuY3Rpb24gYmUodCxlKXt2YXIgbj1bXSxyPWUuY29udGVudCxvPWUub3BlblN0YXJ0LGk9ZS5vcGVuRW5kO3doaWxlKG8+MSYmaT4xJiYxPT1yLmNoaWxkQ291bnQmJjE9PXIuZmlyc3RDaGlsZC5jaGlsZENvdW50KXtvLS0saS0tO3ZhciBzPXIuZmlyc3RDaGlsZDtuLnB1c2gocy50eXBlLm5hbWUscy50eXBlLmhhc1JlcXVpcmVkQXR0cnMoKT9zLmF0dHJzOm51bGwpLHI9cy5jb250ZW50fXZhciBhPXQuc29tZVByb3AoImNsaXBib2FyZFNlcmlhbGl6ZXIiKXx8bFsiRE9NU2VyaWFsaXplciJdLmZyb21TY2hlbWEodC5zdGF0ZS5zY2hlbWEpLGM9QWUoKSx1PWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7dS5hcHBlbmRDaGlsZChhLnNlcmlhbGl6ZUZyYWdtZW50KHIse2RvY3VtZW50OmN9KSk7dmFyIGYsZD11LmZpcnN0Q2hpbGQ7d2hpbGUoZCYmMT09ZC5ub2RlVHlwZSYmKGY9TmVbZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkpe2Zvcih2YXIgcD1mLmxlbmd0aC0xO3A+PTA7cC0tKXt2YXIgaD1jLmNyZWF0ZUVsZW1lbnQoZltwXSk7d2hpbGUodS5maXJzdENoaWxkKWguYXBwZW5kQ2hpbGQodS5maXJzdENoaWxkKTt1LmFwcGVuZENoaWxkKGgpfWQ9dS5maXJzdENoaWxkfWQmJjE9PWQubm9kZVR5cGUmJmQuc2V0QXR0cmlidXRlKCJkYXRhLXBtLXNsaWNlIixvKyIgIitpKyIgIitKU09OLnN0cmluZ2lmeShuKSk7dmFyIHY9dC5zb21lUHJvcCgiY2xpcGJvYXJkVGV4dFNlcmlhbGl6ZXIiLChmdW5jdGlvbih0KXtyZXR1cm4gdChlKX0pKXx8ZS5jb250ZW50LnRleHRCZXR3ZWVuKDAsZS5jb250ZW50LnNpemUsIlxuXG4iKTtyZXR1cm57ZG9tOnUsdGV4dDp2fX1mdW5jdGlvbiB3ZSh0LGUsbixyLG8pe3ZhciBpLHMsYT1vLnBhcmVudC50eXBlLnNwZWMuY29kZTtpZighbiYmIWUpcmV0dXJuIG51bGw7dmFyIGM9ZSYmKHJ8fGF8fCFuKTtpZihjKXtpZih0LnNvbWVQcm9wKCJ0cmFuc2Zvcm1QYXN0ZWRUZXh0IiwoZnVuY3Rpb24odCl7ZT10KGUsYXx8cil9KSksYSlyZXR1cm4gbmV3IGxbIlNsaWNlIl0obFsiRnJhZ21lbnQiXS5mcm9tKHQuc3RhdGUuc2NoZW1hLnRleHQoZSkpLDAsMCk7dmFyIHU9dC5zb21lUHJvcCgiY2xpcGJvYXJkVGV4dFBhcnNlciIsKGZ1bmN0aW9uKHQpe3JldHVybiB0KGUsbyxyKX0pKTt1P3M9dTooaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxlLnRyaW0oKS5zcGxpdCgvKD86XHJcbj98XG4pKy8pLmZvckVhY2goKGZ1bmN0aW9uKHQpe2kuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpKS50ZXh0Q29udGVudD10fSkpKX1lbHNlIHQuc29tZVByb3AoInRyYW5zZm9ybVBhc3RlZEhUTUwiLChmdW5jdGlvbih0KXtuPXQobil9KSksaT1EZShuKTt2YXIgZj1pJiZpLnF1ZXJ5U2VsZWN0b3IoIltkYXRhLXBtLXNsaWNlXSIpLGQ9ZiYmL14oXGQrKSAoXGQrKSAoLiopLy5leGVjKGYuZ2V0QXR0cmlidXRlKCJkYXRhLXBtLXNsaWNlIikpO2lmKCFzKXt2YXIgcD10LnNvbWVQcm9wKCJjbGlwYm9hcmRQYXJzZXIiKXx8dC5zb21lUHJvcCgiZG9tUGFyc2VyIil8fGxbIkRPTVBhcnNlciJdLmZyb21TY2hlbWEodC5zdGF0ZS5zY2hlbWEpO3M9cC5wYXJzZVNsaWNlKGkse3ByZXNlcnZlV2hpdGVzcGFjZTohKCFjJiYhZCksY29udGV4dDpvfSl9cmV0dXJuIHM9ZD9FZShNZShzLCtkWzFdLCtkWzJdKSxkWzNdKTpsWyJTbGljZSJdLm1heE9wZW4oU2Uocy5jb250ZW50LG8pLCExKSx0LnNvbWVQcm9wKCJ0cmFuc2Zvcm1QYXN0ZWQiLChmdW5jdGlvbih0KXtzPXQocyl9KSksc31mdW5jdGlvbiBTZSh0LGUpe2lmKHQuY2hpbGRDb3VudDwyKXJldHVybiB0O2Zvcih2YXIgbj1mdW5jdGlvbihuKXt2YXIgcj1lLm5vZGUobiksbz1yLmNvbnRlbnRNYXRjaEF0KGUuaW5kZXgobikpLGk9dm9pZCAwLHM9W107aWYodC5mb3JFYWNoKChmdW5jdGlvbih0KXtpZihzKXt2YXIgZSxuPW8uZmluZFdyYXBwaW5nKHQudHlwZSk7aWYoIW4pcmV0dXJuIHM9bnVsbDtpZihlPXMubGVuZ3RoJiZpLmxlbmd0aCYma2UobixpLHQsc1tzLmxlbmd0aC0xXSwwKSlzW3MubGVuZ3RoLTFdPWU7ZWxzZXtzLmxlbmd0aCYmKHNbcy5sZW5ndGgtMV09T2Uoc1tzLmxlbmd0aC0xXSxpLmxlbmd0aCkpO3ZhciByPXhlKHQsbik7cy5wdXNoKHIpLG89by5tYXRjaFR5cGUoci50eXBlLHIuYXR0cnMpLGk9bn19fSkpLHMpcmV0dXJue3Y6bFsiRnJhZ21lbnQiXS5mcm9tKHMpfX0scj1lLmRlcHRoO3I+PTA7ci0tKXt2YXIgbz1uKHIpO2lmKG8pcmV0dXJuIG8udn1yZXR1cm4gdH1mdW5jdGlvbiB4ZSh0LGUsbil7dm9pZCAwPT09biYmKG49MCk7Zm9yKHZhciByPWUubGVuZ3RoLTE7cj49bjtyLS0pdD1lW3JdLmNyZWF0ZShudWxsLGxbIkZyYWdtZW50Il0uZnJvbSh0KSk7cmV0dXJuIHR9ZnVuY3Rpb24ga2UodCxlLG4scixvKXtpZihvPHQubGVuZ3RoJiZvPGUubGVuZ3RoJiZ0W29dPT1lW29dKXt2YXIgaT1rZSh0LGUsbixyLmxhc3RDaGlsZCxvKzEpO2lmKGkpcmV0dXJuIHIuY29weShyLmNvbnRlbnQucmVwbGFjZUNoaWxkKHIuY2hpbGRDb3VudC0xLGkpKTt2YXIgcz1yLmNvbnRlbnRNYXRjaEF0KHIuY2hpbGRDb3VudCk7aWYocy5tYXRjaFR5cGUobz09dC5sZW5ndGgtMT9uLnR5cGU6dFtvKzFdKSlyZXR1cm4gci5jb3B5KHIuY29udGVudC5hcHBlbmQobFsiRnJhZ21lbnQiXS5mcm9tKHhlKG4sdCxvKzEpKSkpfX1mdW5jdGlvbiBPZSh0LGUpe2lmKDA9PWUpcmV0dXJuIHQ7dmFyIG49dC5jb250ZW50LnJlcGxhY2VDaGlsZCh0LmNoaWxkQ291bnQtMSxPZSh0Lmxhc3RDaGlsZCxlLTEpKSxyPXQuY29udGVudE1hdGNoQXQodC5jaGlsZENvdW50KS5maWxsQmVmb3JlKGxbIkZyYWdtZW50Il0uZW1wdHksITApO3JldHVybiB0LmNvcHkobi5hcHBlbmQocikpfWZ1bmN0aW9uIENlKHQsZSxuLHIsbyxpKXt2YXIgcz1lPDA/dC5maXJzdENoaWxkOnQubGFzdENoaWxkLGE9cy5jb250ZW50O3JldHVybiBvPHItMSYmKGE9Q2UoYSxlLG4scixvKzEsaSkpLG8+PW4mJihhPWU8MD9zLmNvbnRlbnRNYXRjaEF0KDApLmZpbGxCZWZvcmUoYSx0LmNoaWxkQ291bnQ+MXx8aTw9bykuYXBwZW5kKGEpOmEuYXBwZW5kKHMuY29udGVudE1hdGNoQXQocy5jaGlsZENvdW50KS5maWxsQmVmb3JlKGxbIkZyYWdtZW50Il0uZW1wdHksITApKSksdC5yZXBsYWNlQ2hpbGQoZTwwPzA6dC5jaGlsZENvdW50LTEscy5jb3B5KGEpKX1mdW5jdGlvbiBNZSh0LGUsbil7cmV0dXJuIGU8dC5vcGVuU3RhcnQmJih0PW5ldyBsWyJTbGljZSJdKENlKHQuY29udGVudCwtMSxlLHQub3BlblN0YXJ0LDAsdC5vcGVuRW5kKSxlLHQub3BlbkVuZCkpLG48dC5vcGVuRW5kJiYodD1uZXcgbFsiU2xpY2UiXShDZSh0LmNvbnRlbnQsMSxuLHQub3BlbkVuZCwwLDApLHQub3BlblN0YXJ0LG4pKSx0fXZhciBOZT17dGhlYWQ6WyJ0YWJsZSJdLHRib2R5OlsidGFibGUiXSx0Zm9vdDpbInRhYmxlIl0sY2FwdGlvbjpbInRhYmxlIl0sY29sZ3JvdXA6WyJ0YWJsZSJdLGNvbDpbInRhYmxlIiwiY29sZ3JvdXAiXSx0cjpbInRhYmxlIiwidGJvZHkiXSx0ZDpbInRhYmxlIiwidGJvZHkiLCJ0ciJdLHRoOlsidGFibGUiLCJ0Ym9keSIsInRyIl19LFRlPW51bGw7ZnVuY3Rpb24gQWUoKXtyZXR1cm4gVGV8fChUZT1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoInRpdGxlIikpfWZ1bmN0aW9uIERlKHQpe3ZhciBlPS8oXHMqPG1ldGEgW14+XSo+KSovLmV4ZWModCk7ZSYmKHQ9dC5zbGljZShlWzBdLmxlbmd0aCkpO3ZhciBuLHI9QWUoKS5jcmVhdGVFbGVtZW50KCJkaXYiKSxvPS8oPzo8bWV0YSBbXj5dKj4pKjwoW2Etel1bXj5cc10rKS9pLmV4ZWModCksaT0wOyhuPW8mJk5lW29bMV0udG9Mb3dlckNhc2UoKV0pJiYodD1uLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIjwiK3QrIj4ifSkpLmpvaW4oIiIpK3Qrbi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiI8LyIrdCsiPiJ9KSkucmV2ZXJzZSgpLmpvaW4oIiIpLGk9bi5sZW5ndGgpLHIuaW5uZXJIVE1MPXQ7Zm9yKHZhciBzPTA7czxpO3MrKylyPXIuZmlyc3RDaGlsZDtyZXR1cm4gcn1mdW5jdGlvbiBFZSh0LGUpe2lmKCF0LnNpemUpcmV0dXJuIHQ7dmFyIG4scj10LmNvbnRlbnQuZmlyc3RDaGlsZC50eXBlLnNjaGVtYTt0cnl7bj1KU09OLnBhcnNlKGUpfWNhdGNoKHUpe3JldHVybiB0fWZvcih2YXIgbz10LmNvbnRlbnQsaT10Lm9wZW5TdGFydCxzPXQub3BlbkVuZCxhPW4ubGVuZ3RoLTI7YT49MDthLT0yKXt2YXIgYz1yLm5vZGVzW25bYV1dO2lmKCFjfHxjLmhhc1JlcXVpcmVkQXR0cnMoKSlicmVhaztvPWxbIkZyYWdtZW50Il0uZnJvbShjLmNyZWF0ZShuW2ErMV0sbykpLGkrKyxzKyt9cmV0dXJuIG5ldyBsWyJTbGljZSJdKG8saSxzKX12YXIgUmU9e2NoaWxkTGlzdDohMCxjaGFyYWN0ZXJEYXRhOiEwLGNoYXJhY3RlckRhdGFPbGRWYWx1ZTohMCxhdHRyaWJ1dGVzOiEwLGF0dHJpYnV0ZU9sZFZhbHVlOiEwLHN1YnRyZWU6ITB9LF9lPWYuaWUmJmYuaWVfdmVyc2lvbjw9MTEsUGU9ZnVuY3Rpb24oKXt0aGlzLmFuY2hvck5vZGU9dGhpcy5hbmNob3JPZmZzZXQ9dGhpcy5mb2N1c05vZGU9dGhpcy5mb2N1c09mZnNldD1udWxsfTtQZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuYW5jaG9yTm9kZT10LmFuY2hvck5vZGUsdGhpcy5hbmNob3JPZmZzZXQ9dC5hbmNob3JPZmZzZXQsdGhpcy5mb2N1c05vZGU9dC5mb2N1c05vZGUsdGhpcy5mb2N1c09mZnNldD10LmZvY3VzT2Zmc2V0fSxQZS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHQuYW5jaG9yTm9kZT09dGhpcy5hbmNob3JOb2RlJiZ0LmFuY2hvck9mZnNldD09dGhpcy5hbmNob3JPZmZzZXQmJnQuZm9jdXNOb2RlPT10aGlzLmZvY3VzTm9kZSYmdC5mb2N1c09mZnNldD09dGhpcy5mb2N1c09mZnNldH07dmFyIHplPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0aGlzLnZpZXc9dCx0aGlzLmhhbmRsZURPTUNoYW5nZT1lLHRoaXMucXVldWU9W10sdGhpcy5mbHVzaGluZ1Nvb249LTEsdGhpcy5vYnNlcnZlcj13aW5kb3cuTXV0YXRpb25PYnNlcnZlciYmbmV3IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyKChmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyluLnF1ZXVlLnB1c2godFtlXSk7Zi5pZSYmZi5pZV92ZXJzaW9uPD0xMSYmdC5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4iY2hpbGRMaXN0Ij09dC50eXBlJiZ0LnJlbW92ZWROb2Rlcy5sZW5ndGh8fCJjaGFyYWN0ZXJEYXRhIj09dC50eXBlJiZ0Lm9sZFZhbHVlLmxlbmd0aD50LnRhcmdldC5ub2RlVmFsdWUubGVuZ3RofSkpP24uZmx1c2hTb29uKCk6bi5mbHVzaCgpfSkpLHRoaXMuY3VycmVudFNlbGVjdGlvbj1uZXcgUGUsX2UmJih0aGlzLm9uQ2hhckRhdGE9ZnVuY3Rpb24odCl7bi5xdWV1ZS5wdXNoKHt0YXJnZXQ6dC50YXJnZXQsdHlwZToiY2hhcmFjdGVyRGF0YSIsb2xkVmFsdWU6dC5wcmV2VmFsdWV9KSxuLmZsdXNoU29vbigpfSksdGhpcy5vblNlbGVjdGlvbkNoYW5nZT10aGlzLm9uU2VsZWN0aW9uQ2hhbmdlLmJpbmQodGhpcyksdGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXM9ITF9O3plLnByb3RvdHlwZS5mbHVzaFNvb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZmx1c2hpbmdTb29uPDAmJih0aGlzLmZsdXNoaW5nU29vbj13aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmZsdXNoaW5nU29vbj0tMSx0LmZsdXNoKCl9KSwyMCkpfSx6ZS5wcm90b3R5cGUuZm9yY2VGbHVzaD1mdW5jdGlvbigpe3RoaXMuZmx1c2hpbmdTb29uPi0xJiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLmZsdXNoaW5nU29vbiksdGhpcy5mbHVzaGluZ1Nvb249LTEsdGhpcy5mbHVzaCgpKX0semUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5vYnNlcnZlciYmdGhpcy5vYnNlcnZlci5vYnNlcnZlKHRoaXMudmlldy5kb20sUmUpLF9lJiZ0aGlzLnZpZXcuZG9tLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcy5vbkNoYXJEYXRhKSx0aGlzLmNvbm5lY3RTZWxlY3Rpb24oKX0semUucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMub2JzZXJ2ZXIpe3ZhciBlPXRoaXMub2JzZXJ2ZXIudGFrZVJlY29yZHMoKTtpZihlLmxlbmd0aCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdGhpcy5xdWV1ZS5wdXNoKGVbbl0pO3dpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0LmZsdXNoKCl9KSwyMCl9dGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCl9X2UmJnRoaXMudmlldy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIix0aGlzLm9uQ2hhckRhdGEpLHRoaXMuZGlzY29ubmVjdFNlbGVjdGlvbigpfSx6ZS5wcm90b3R5cGUuY29ubmVjdFNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMudmlldy5kb20ub3duZXJEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLHRoaXMub25TZWxlY3Rpb25DaGFuZ2UpfSx6ZS5wcm90b3R5cGUuZGlzY29ubmVjdFNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMudmlldy5kb20ub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLHRoaXMub25TZWxlY3Rpb25DaGFuZ2UpfSx6ZS5wcm90b3R5cGUuc3VwcHJlc3NTZWxlY3Rpb25VcGRhdGVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcz0hMCxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0LnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcz0hMX0pLDUwKX0semUucHJvdG90eXBlLm9uU2VsZWN0aW9uQ2hhbmdlPWZ1bmN0aW9uKCl7aWYoY2UodGhpcy52aWV3KSl7aWYodGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMpcmV0dXJuIFp0KHRoaXMudmlldyk7aWYoZi5pZSYmZi5pZV92ZXJzaW9uPD0xMSYmIXRoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24uZW1wdHkpe3ZhciB0PXRoaXMudmlldy5yb290LmdldFNlbGVjdGlvbigpO2lmKHQuZm9jdXNOb2RlJiZ3KHQuZm9jdXNOb2RlLHQuZm9jdXNPZmZzZXQsdC5hbmNob3JOb2RlLHQuYW5jaG9yT2Zmc2V0KSlyZXR1cm4gdGhpcy5mbHVzaFNvb24oKX10aGlzLmZsdXNoKCl9fSx6ZS5wcm90b3R5cGUuc2V0Q3VyU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50U2VsZWN0aW9uLnNldCh0aGlzLnZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKSl9LHplLnByb3RvdHlwZS5pZ25vcmVTZWxlY3Rpb25DaGFuZ2U9ZnVuY3Rpb24odCl7aWYoMD09dC5yYW5nZUNvdW50KXJldHVybiEwO3ZhciBlPXQuZ2V0UmFuZ2VBdCgwKS5jb21tb25BbmNlc3RvckNvbnRhaW5lcixuPXRoaXMudmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKGUpO3JldHVybiBuJiZuLmlnbm9yZU11dGF0aW9uKHt0eXBlOiJzZWxlY3Rpb24iLHRhcmdldDozPT1lLm5vZGVUeXBlP2UucGFyZW50Tm9kZTplfSk/KHRoaXMuc2V0Q3VyU2VsZWN0aW9uKCksITApOnZvaWQgMH0semUucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7aWYodGhpcy52aWV3LmRvY1ZpZXcmJiEodGhpcy5mbHVzaGluZ1Nvb24+LTEpKXt2YXIgdD10aGlzLm9ic2VydmVyP3RoaXMub2JzZXJ2ZXIudGFrZVJlY29yZHMoKTpbXTt0aGlzLnF1ZXVlLmxlbmd0aCYmKHQ9dGhpcy5xdWV1ZS5jb25jYXQodCksdGhpcy5xdWV1ZS5sZW5ndGg9MCk7dmFyIGU9dGhpcy52aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj0hdGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMmJiF0aGlzLmN1cnJlbnRTZWxlY3Rpb24uZXEoZSkmJmxlKHRoaXMudmlldykmJiF0aGlzLmlnbm9yZVNlbGVjdGlvbkNoYW5nZShlKSxyPS0xLG89LTEsaT0hMSxzPVtdO2lmKHRoaXMudmlldy5lZGl0YWJsZSlmb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIGM9dGhpcy5yZWdpc3Rlck11dGF0aW9uKHRbYV0scyk7YyYmKHI9cjwwP2MuZnJvbTpNYXRoLm1pbihjLmZyb20sciksbz1vPDA/Yy50bzpNYXRoLm1heChjLnRvLG8pLGMudHlwZU92ZXImJihpPSEwKSl9aWYoZi5nZWNrbyYmcy5sZW5ndGg+MSl7dmFyIGw9cy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiJCUiI9PXQubm9kZU5hbWV9KSk7aWYoMj09bC5sZW5ndGgpe3ZhciB1PWxbMF0sZD1sWzFdO3UucGFyZW50Tm9kZSYmdS5wYXJlbnROb2RlLnBhcmVudE5vZGU9PWQucGFyZW50Tm9kZT9kLnJlbW92ZSgpOnUucmVtb3ZlKCl9fShyPi0xfHxuKSYmKHI+LTEmJih0aGlzLnZpZXcuZG9jVmlldy5tYXJrRGlydHkocixvKSxqZSh0aGlzLnZpZXcpKSx0aGlzLmhhbmRsZURPTUNoYW5nZShyLG8saSxzKSx0aGlzLnZpZXcuZG9jVmlldy5kaXJ0eT90aGlzLnZpZXcudXBkYXRlU3RhdGUodGhpcy52aWV3LnN0YXRlKTp0aGlzLmN1cnJlbnRTZWxlY3Rpb24uZXEoZSl8fFp0KHRoaXMudmlldykpfX0semUucHJvdG90eXBlLnJlZ2lzdGVyTXV0YXRpb249ZnVuY3Rpb24odCxlKXtpZihlLmluZGV4T2YodC50YXJnZXQpPi0xKXJldHVybiBudWxsO3ZhciBuPXRoaXMudmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKHQudGFyZ2V0KTtpZigiYXR0cmlidXRlcyI9PXQudHlwZSYmKG49PXRoaXMudmlldy5kb2NWaWV3fHwiY29udGVudGVkaXRhYmxlIj09dC5hdHRyaWJ1dGVOYW1lfHwic3R5bGUiPT10LmF0dHJpYnV0ZU5hbWUmJiF0Lm9sZFZhbHVlJiYhdC50YXJnZXQuZ2V0QXR0cmlidXRlKCJzdHlsZSIpKSlyZXR1cm4gbnVsbDtpZighbnx8bi5pZ25vcmVNdXRhdGlvbih0KSlyZXR1cm4gbnVsbDtpZigiY2hpbGRMaXN0Ij09dC50eXBlKXt2YXIgcj10LnByZXZpb3VzU2libGluZyxvPXQubmV4dFNpYmxpbmc7aWYoZi5pZSYmZi5pZV92ZXJzaW9uPD0xMSYmdC5hZGRlZE5vZGVzLmxlbmd0aClmb3IodmFyIGk9MDtpPHQuYWRkZWROb2Rlcy5sZW5ndGg7aSsrKXt2YXIgcz10LmFkZGVkTm9kZXNbaV0sYT1zLnByZXZpb3VzU2libGluZyxjPXMubmV4dFNpYmxpbmc7KCFhfHxBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHQuYWRkZWROb2RlcyxhKTwwKSYmKHI9YSksKCFjfHxBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHQuYWRkZWROb2RlcyxjKTwwKSYmKG89Yyl9Zm9yKHZhciBsPXImJnIucGFyZW50Tm9kZT09dC50YXJnZXQ/ZyhyKSsxOjAsdT1uLmxvY2FsUG9zRnJvbURPTSh0LnRhcmdldCxsLC0xKSxkPW8mJm8ucGFyZW50Tm9kZT09dC50YXJnZXQ/ZyhvKTp0LnRhcmdldC5jaGlsZE5vZGVzLmxlbmd0aCxwPTA7cDx0LmFkZGVkTm9kZXMubGVuZ3RoO3ArKyllLnB1c2godC5hZGRlZE5vZGVzW3BdKTt2YXIgaD1uLmxvY2FsUG9zRnJvbURPTSh0LnRhcmdldCxkLDEpO3JldHVybntmcm9tOnUsdG86aH19cmV0dXJuImF0dHJpYnV0ZXMiPT10LnR5cGU/e2Zyb206bi5wb3NBdFN0YXJ0LW4uYm9yZGVyLHRvOm4ucG9zQXRFbmQrbi5ib3JkZXJ9Ontmcm9tOm4ucG9zQXRTdGFydCx0bzpuLnBvc0F0RW5kLHR5cGVPdmVyOnQudGFyZ2V0Lm5vZGVWYWx1ZT09dC5vbGRWYWx1ZX19O3ZhciBJZT0hMTtmdW5jdGlvbiBqZSh0KXtJZXx8KEllPSEwLCJub3JtYWwiPT1nZXRDb21wdXRlZFN0eWxlKHQuZG9tKS53aGl0ZVNwYWNlJiZjb25zb2xlWyJ3YXJuIl0oIlByb3NlTWlycm9yIGV4cGVjdHMgdGhlIENTUyB3aGl0ZS1zcGFjZSBwcm9wZXJ0eSB0byBiZSBzZXQsIHByZWZlcmFibHkgdG8gJ3ByZS13cmFwJy4gSXQgaXMgcmVjb21tZW5kZWQgdG8gbG9hZCBzdHlsZS9wcm9zZW1pcnJvci5jc3MgZnJvbSB0aGUgcHJvc2VtaXJyb3ItdmlldyBwYWNrYWdlLiIpKX12YXIgJGU9e30sVmU9e307ZnVuY3Rpb24gQmUodCl7dC5zaGlmdEtleT0hMSx0Lm1vdXNlRG93bj1udWxsLHQubGFzdEtleUNvZGU9bnVsbCx0Lmxhc3RLZXlDb2RlVGltZT0wLHQubGFzdENsaWNrPXt0aW1lOjAseDowLHk6MCx0eXBlOiIifSx0Lmxhc3RTZWxlY3Rpb25PcmlnaW49bnVsbCx0Lmxhc3RTZWxlY3Rpb25UaW1lPTAsdC5sYXN0SU9TRW50ZXI9MCx0Lmxhc3RJT1NFbnRlckZhbGxiYWNrVGltZW91dD1udWxsLHQuY29tcG9zaW5nPSExLHQuY29tcG9zaW5nVGltZW91dD1udWxsLHQuY29tcG9zaXRpb25Ob2Rlcz1bXSx0LmNvbXBvc2l0aW9uRW5kZWRBdD0tMmU4LHQuZG9tT2JzZXJ2ZXI9bmV3IHplKHQsKGZ1bmN0aW9uKGUsbixyLG8pe3JldHVybiBwZSh0LGUsbixyLG8pfSkpLHQuZG9tT2JzZXJ2ZXIuc3RhcnQoKSx0LmRvbUNoYW5nZUNvdW50PTAsdC5ldmVudEhhbmRsZXJzPU9iamVjdC5jcmVhdGUobnVsbCk7dmFyIGU9ZnVuY3Rpb24oZSl7dmFyIG49JGVbZV07dC5kb20uYWRkRXZlbnRMaXN0ZW5lcihlLHQuZXZlbnRIYW5kbGVyc1tlXT1mdW5jdGlvbihlKXshS2UodCxlKXx8cWUodCxlKXx8IXQuZWRpdGFibGUmJmUudHlwZSBpbiBWZXx8bih0LGUpfSl9O2Zvcih2YXIgbiBpbiAkZSllKG4pO2Yuc2FmYXJpJiZ0LmRvbS5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9KSksSGUodCl9ZnVuY3Rpb24gRmUodCxlKXt0Lmxhc3RTZWxlY3Rpb25PcmlnaW49ZSx0Lmxhc3RTZWxlY3Rpb25UaW1lPURhdGUubm93KCl9ZnVuY3Rpb24gTGUodCl7Zm9yKHZhciBlIGluIHQuZG9tT2JzZXJ2ZXIuc3RvcCgpLHQuZXZlbnRIYW5kbGVycyl0LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKGUsdC5ldmVudEhhbmRsZXJzW2VdKTtjbGVhclRpbWVvdXQodC5jb21wb3NpbmdUaW1lb3V0KSxjbGVhclRpbWVvdXQodC5sYXN0SU9TRW50ZXJGYWxsYmFja1RpbWVvdXQpfWZ1bmN0aW9uIEhlKHQpe3Quc29tZVByb3AoImhhbmRsZURPTUV2ZW50cyIsKGZ1bmN0aW9uKGUpe2Zvcih2YXIgbiBpbiBlKXQuZXZlbnRIYW5kbGVyc1tuXXx8dC5kb20uYWRkRXZlbnRMaXN0ZW5lcihuLHQuZXZlbnRIYW5kbGVyc1tuXT1mdW5jdGlvbihlKXtyZXR1cm4gcWUodCxlKX0pfSkpfWZ1bmN0aW9uIHFlKHQsZSl7cmV0dXJuIHQuc29tZVByb3AoImhhbmRsZURPTUV2ZW50cyIsKGZ1bmN0aW9uKG4pe3ZhciByPW5bZS50eXBlXTtyZXR1cm4hIXImJihyKHQsZSl8fGUuZGVmYXVsdFByZXZlbnRlZCl9KSl9ZnVuY3Rpb24gS2UodCxlKXtpZighZS5idWJibGVzKXJldHVybiEwO2lmKGUuZGVmYXVsdFByZXZlbnRlZClyZXR1cm4hMTtmb3IodmFyIG49ZS50YXJnZXQ7biE9dC5kb207bj1uLnBhcmVudE5vZGUpaWYoIW58fDExPT1uLm5vZGVUeXBlfHxuLnBtVmlld0Rlc2MmJm4ucG1WaWV3RGVzYy5zdG9wRXZlbnQoZSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gV2UodCxlKXtxZSh0LGUpfHwhJGVbZS50eXBlXXx8IXQuZWRpdGFibGUmJmUudHlwZSBpbiBWZXx8JGVbZS50eXBlXSh0LGUpfWZ1bmN0aW9uIEplKHQpe3JldHVybntsZWZ0OnQuY2xpZW50WCx0b3A6dC5jbGllbnRZfX1mdW5jdGlvbiBVZSh0LGUpe3ZhciBuPWUueC10LmNsaWVudFgscj1lLnktdC5jbGllbnRZO3JldHVybiBuKm4rcipyPDEwMH1mdW5jdGlvbiBHZSh0LGUsbixyLG8pe2lmKC0xPT1yKXJldHVybiExO2Zvcih2YXIgaT10LnN0YXRlLmRvYy5yZXNvbHZlKHIpLHM9ZnVuY3Rpb24ocil7aWYodC5zb21lUHJvcChlLChmdW5jdGlvbihlKXtyZXR1cm4gcj5pLmRlcHRoP2UodCxuLGkubm9kZUFmdGVyLGkuYmVmb3JlKHIpLG8sITApOmUodCxuLGkubm9kZShyKSxpLmJlZm9yZShyKSxvLCExKX0pKSlyZXR1cm57djohMH19LGE9aS5kZXB0aCsxO2E+MDthLS0pe3ZhciBjPXMoYSk7aWYoYylyZXR1cm4gYy52fXJldHVybiExfWZ1bmN0aW9uIFhlKHQsZSxuKXt0LmZvY3VzZWR8fHQuZm9jdXMoKTt2YXIgcj10LnN0YXRlLnRyLnNldFNlbGVjdGlvbihlKTsicG9pbnRlciI9PW4mJnIuc2V0TWV0YSgicG9pbnRlciIsITApLHQuZGlzcGF0Y2gocil9ZnVuY3Rpb24gWWUodCxlKXtpZigtMT09ZSlyZXR1cm4hMTt2YXIgbj10LnN0YXRlLmRvYy5yZXNvbHZlKGUpLHI9bi5ub2RlQWZ0ZXI7cmV0dXJuISEociYmci5pc0F0b20mJmNbIk5vZGVTZWxlY3Rpb24iXS5pc1NlbGVjdGFibGUocikpJiYoWGUodCxuZXcgY1siTm9kZVNlbGVjdGlvbiJdKG4pLCJwb2ludGVyIiksITApfWZ1bmN0aW9uIFplKHQsZSl7aWYoLTE9PWUpcmV0dXJuITE7dmFyIG4scixvPXQuc3RhdGUuc2VsZWN0aW9uO28gaW5zdGFuY2VvZiBjWyJOb2RlU2VsZWN0aW9uIl0mJihuPW8ubm9kZSk7Zm9yKHZhciBpPXQuc3RhdGUuZG9jLnJlc29sdmUoZSkscz1pLmRlcHRoKzE7cz4wO3MtLSl7dmFyIGE9cz5pLmRlcHRoP2kubm9kZUFmdGVyOmkubm9kZShzKTtpZihjWyJOb2RlU2VsZWN0aW9uIl0uaXNTZWxlY3RhYmxlKGEpKXtyPW4mJm8uJGZyb20uZGVwdGg+MCYmcz49by4kZnJvbS5kZXB0aCYmaS5iZWZvcmUoby4kZnJvbS5kZXB0aCsxKT09by4kZnJvbS5wb3M/aS5iZWZvcmUoby4kZnJvbS5kZXB0aCk6aS5iZWZvcmUocyk7YnJlYWt9fXJldHVybiBudWxsIT1yJiYoWGUodCxjWyJOb2RlU2VsZWN0aW9uIl0uY3JlYXRlKHQuc3RhdGUuZG9jLHIpLCJwb2ludGVyIiksITApfWZ1bmN0aW9uIFFlKHQsZSxuLHIsbyl7cmV0dXJuIEdlKHQsImhhbmRsZUNsaWNrT24iLGUsbixyKXx8dC5zb21lUHJvcCgiaGFuZGxlQ2xpY2siLChmdW5jdGlvbihuKXtyZXR1cm4gbih0LGUscil9KSl8fChvP1plKHQsbik6WWUodCxuKSl9ZnVuY3Rpb24gdG4odCxlLG4scil7cmV0dXJuIEdlKHQsImhhbmRsZURvdWJsZUNsaWNrT24iLGUsbixyKXx8dC5zb21lUHJvcCgiaGFuZGxlRG91YmxlQ2xpY2siLChmdW5jdGlvbihuKXtyZXR1cm4gbih0LGUscil9KSl9ZnVuY3Rpb24gZW4odCxlLG4scil7cmV0dXJuIEdlKHQsImhhbmRsZVRyaXBsZUNsaWNrT24iLGUsbixyKXx8dC5zb21lUHJvcCgiaGFuZGxlVHJpcGxlQ2xpY2siLChmdW5jdGlvbihuKXtyZXR1cm4gbih0LGUscil9KSl8fG5uKHQsbil9ZnVuY3Rpb24gbm4odCxlKXt2YXIgbj10LnN0YXRlLmRvYztpZigtMT09ZSlyZXR1cm4hIW4uaW5saW5lQ29udGVudCYmKFhlKHQsY1siVGV4dFNlbGVjdGlvbiJdLmNyZWF0ZShuLDAsbi5jb250ZW50LnNpemUpLCJwb2ludGVyIiksITApO2Zvcih2YXIgcj1uLnJlc29sdmUoZSksbz1yLmRlcHRoKzE7bz4wO28tLSl7dmFyIGk9bz5yLmRlcHRoP3Iubm9kZUFmdGVyOnIubm9kZShvKSxzPXIuYmVmb3JlKG8pO2lmKGkuaW5saW5lQ29udGVudClYZSh0LGNbIlRleHRTZWxlY3Rpb24iXS5jcmVhdGUobixzKzEscysxK2kuY29udGVudC5zaXplKSwicG9pbnRlciIpO2Vsc2V7aWYoIWNbIk5vZGVTZWxlY3Rpb24iXS5pc1NlbGVjdGFibGUoaSkpY29udGludWU7WGUodCxjWyJOb2RlU2VsZWN0aW9uIl0uY3JlYXRlKG4scyksInBvaW50ZXIiKX1yZXR1cm4hMH19ZnVuY3Rpb24gcm4odCl7cmV0dXJuIHVuKHQpfVZlLmtleWRvd249ZnVuY3Rpb24odCxlKXtpZih0LnNoaWZ0S2V5PTE2PT1lLmtleUNvZGV8fGUuc2hpZnRLZXksIWFuKHQsZSkpaWYodC5kb21PYnNlcnZlci5mb3JjZUZsdXNoKCksdC5sYXN0S2V5Q29kZT1lLmtleUNvZGUsdC5sYXN0S2V5Q29kZVRpbWU9RGF0ZS5ub3coKSwhZi5pb3N8fDEzIT1lLmtleUNvZGV8fGUuY3RybEtleXx8ZS5hbHRLZXl8fGUubWV0YUtleSl0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlKX0pKXx8WHQodCxlKT9lLnByZXZlbnREZWZhdWx0KCk6RmUodCwia2V5Iik7ZWxzZXt2YXIgbj1EYXRlLm5vdygpO3QubGFzdElPU0VudGVyPW4sdC5sYXN0SU9TRW50ZXJGYWxsYmFja1RpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0Lmxhc3RJT1NFbnRlcj09biYmKHQuc29tZVByb3AoImhhbmRsZUtleURvd24iLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0LE4oMTMsIkVudGVyIikpfSkpLHQubGFzdElPU0VudGVyPTApfSksMjAwKX19LFZlLmtleXVwPWZ1bmN0aW9uKHQsZSl7MTY9PWUua2V5Q29kZSYmKHQuc2hpZnRLZXk9ITEpfSxWZS5rZXlwcmVzcz1mdW5jdGlvbih0LGUpe2lmKCEoYW4odCxlKXx8IWUuY2hhckNvZGV8fGUuY3RybEtleSYmIWUuYWx0S2V5fHxmLm1hYyYmZS5tZXRhS2V5KSlpZih0LnNvbWVQcm9wKCJoYW5kbGVLZXlQcmVzcyIsKGZ1bmN0aW9uKG4pe3JldHVybiBuKHQsZSl9KSkpZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2V7dmFyIG49dC5zdGF0ZS5zZWxlY3Rpb247aWYoIShuIGluc3RhbmNlb2YgY1siVGV4dFNlbGVjdGlvbiJdKXx8IW4uJGZyb20uc2FtZVBhcmVudChuLiR0bykpe3ZhciByPVN0cmluZy5mcm9tQ2hhckNvZGUoZS5jaGFyQ29kZSk7dC5zb21lUHJvcCgiaGFuZGxlVGV4dElucHV0IiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCxuLiRmcm9tLnBvcyxuLiR0by5wb3Mscil9KSl8fHQuZGlzcGF0Y2godC5zdGF0ZS50ci5pbnNlcnRUZXh0KHIpLnNjcm9sbEludG9WaWV3KCkpLGUucHJldmVudERlZmF1bHQoKX19fTt2YXIgb249Zi5tYWM/Im1ldGFLZXkiOiJjdHJsS2V5IjskZS5tb3VzZWRvd249ZnVuY3Rpb24odCxlKXt0LnNoaWZ0S2V5PWUuc2hpZnRLZXk7dmFyIG49cm4odCkscj1EYXRlLm5vdygpLG89InNpbmdsZUNsaWNrIjtyLXQubGFzdENsaWNrLnRpbWU8NTAwJiZVZShlLHQubGFzdENsaWNrKSYmIWVbb25dJiYoInNpbmdsZUNsaWNrIj09dC5sYXN0Q2xpY2sudHlwZT9vPSJkb3VibGVDbGljayI6ImRvdWJsZUNsaWNrIj09dC5sYXN0Q2xpY2sudHlwZSYmKG89InRyaXBsZUNsaWNrIikpLHQubGFzdENsaWNrPXt0aW1lOnIseDplLmNsaWVudFgseTplLmNsaWVudFksdHlwZTpvfTt2YXIgaT10LnBvc0F0Q29vcmRzKEplKGUpKTtpJiYoInNpbmdsZUNsaWNrIj09bz90Lm1vdXNlRG93bj1uZXcgc24odCxpLGUsbik6KCJkb3VibGVDbGljayI9PW8/dG46ZW4pKHQsaS5wb3MsaS5pbnNpZGUsZSk/ZS5wcmV2ZW50RGVmYXVsdCgpOkZlKHQsInBvaW50ZXIiKSl9O3ZhciBzbj1mdW5jdGlvbih0LGUsbixyKXt2YXIgbyxpLHM9dGhpcztpZih0aGlzLnZpZXc9dCx0aGlzLnN0YXJ0RG9jPXQuc3RhdGUuZG9jLHRoaXMucG9zPWUsdGhpcy5ldmVudD1uLHRoaXMuZmx1c2hlZD1yLHRoaXMuc2VsZWN0Tm9kZT1uW29uXSx0aGlzLmFsbG93RGVmYXVsdD1uLnNoaWZ0S2V5LGUuaW5zaWRlPi0xKW89dC5zdGF0ZS5kb2Mubm9kZUF0KGUuaW5zaWRlKSxpPWUuaW5zaWRlO2Vsc2V7dmFyIGE9dC5zdGF0ZS5kb2MucmVzb2x2ZShlLnBvcyk7bz1hLnBhcmVudCxpPWEuZGVwdGg/YS5iZWZvcmUoKTowfXRoaXMubWlnaHREcmFnPW51bGw7dmFyIGw9cj9udWxsOm4udGFyZ2V0LHU9bD90LmRvY1ZpZXcubmVhcmVzdERlc2MobCwhMCk6bnVsbDt0aGlzLnRhcmdldD11P3UuZG9tOm51bGwsKG8udHlwZS5zcGVjLmRyYWdnYWJsZSYmITEhPT1vLnR5cGUuc3BlYy5zZWxlY3RhYmxlfHx0LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIGNbIk5vZGVTZWxlY3Rpb24iXSYmaT09dC5zdGF0ZS5zZWxlY3Rpb24uZnJvbSkmJih0aGlzLm1pZ2h0RHJhZz17bm9kZTpvLHBvczppLGFkZEF0dHI6dGhpcy50YXJnZXQmJiF0aGlzLnRhcmdldC5kcmFnZ2FibGUsc2V0VW5lZGl0YWJsZTp0aGlzLnRhcmdldCYmZi5nZWNrbyYmIXRoaXMudGFyZ2V0Lmhhc0F0dHJpYnV0ZSgiY29udGVudEVkaXRhYmxlIil9KSx0aGlzLnRhcmdldCYmdGhpcy5taWdodERyYWcmJih0aGlzLm1pZ2h0RHJhZy5hZGRBdHRyfHx0aGlzLm1pZ2h0RHJhZy5zZXRVbmVkaXRhYmxlKSYmKHRoaXMudmlldy5kb21PYnNlcnZlci5zdG9wKCksdGhpcy5taWdodERyYWcuYWRkQXR0ciYmKHRoaXMudGFyZ2V0LmRyYWdnYWJsZT0hMCksdGhpcy5taWdodERyYWcuc2V0VW5lZGl0YWJsZSYmc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gcy50YXJnZXQuc2V0QXR0cmlidXRlKCJjb250ZW50RWRpdGFibGUiLCJmYWxzZSIpfSksMjApLHRoaXMudmlldy5kb21PYnNlcnZlci5zdGFydCgpKSx0LnJvb3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsdGhpcy51cD10aGlzLnVwLmJpbmQodGhpcykpLHQucm9vdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLHRoaXMubW92ZT10aGlzLm1vdmUuYmluZCh0aGlzKSksRmUodCwicG9pbnRlciIpfTtmdW5jdGlvbiBhbih0LGUpe3JldHVybiEhdC5jb21wb3Npbmd8fCEhKGYuc2FmYXJpJiZNYXRoLmFicyhlLnRpbWVTdGFtcC10LmNvbXBvc2l0aW9uRW5kZWRBdCk8NTAwKSYmKHQuY29tcG9zaXRpb25FbmRlZEF0PS0yZTgsITApfXNuLnByb3RvdHlwZS5kb25lPWZ1bmN0aW9uKCl7dGhpcy52aWV3LnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsdGhpcy51cCksdGhpcy52aWV3LnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIix0aGlzLm1vdmUpLHRoaXMubWlnaHREcmFnJiZ0aGlzLnRhcmdldCYmKHRoaXMudmlldy5kb21PYnNlcnZlci5zdG9wKCksdGhpcy5taWdodERyYWcuYWRkQXR0ciYmdGhpcy50YXJnZXQucmVtb3ZlQXR0cmlidXRlKCJkcmFnZ2FibGUiKSx0aGlzLm1pZ2h0RHJhZy5zZXRVbmVkaXRhYmxlJiZ0aGlzLnRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoImNvbnRlbnRFZGl0YWJsZSIpLHRoaXMudmlldy5kb21PYnNlcnZlci5zdGFydCgpKSx0aGlzLnZpZXcubW91c2VEb3duPW51bGx9LHNuLnByb3RvdHlwZS51cD1mdW5jdGlvbih0KXtpZih0aGlzLmRvbmUoKSx0aGlzLnZpZXcuZG9tLmNvbnRhaW5zKDM9PXQudGFyZ2V0Lm5vZGVUeXBlP3QudGFyZ2V0LnBhcmVudE5vZGU6dC50YXJnZXQpKXt2YXIgZT10aGlzLnBvczt0aGlzLnZpZXcuc3RhdGUuZG9jIT10aGlzLnN0YXJ0RG9jJiYoZT10aGlzLnZpZXcucG9zQXRDb29yZHMoSmUodCkpKSx0aGlzLmFsbG93RGVmYXVsdHx8IWU/RmUodGhpcy52aWV3LCJwb2ludGVyIik6UWUodGhpcy52aWV3LGUucG9zLGUuaW5zaWRlLHQsdGhpcy5zZWxlY3ROb2RlKT90LnByZXZlbnREZWZhdWx0KCk6dGhpcy5mbHVzaGVkfHxmLnNhZmFyaSYmdGhpcy5taWdodERyYWcmJiF0aGlzLm1pZ2h0RHJhZy5ub2RlLmlzQXRvbXx8Zi5jaHJvbWUmJiEodGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIGNbIlRleHRTZWxlY3Rpb24iXSkmJihlLnBvcz09dGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbi5mcm9tfHxlLnBvcz09dGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbi50byk/KFhlKHRoaXMudmlldyxjWyJTZWxlY3Rpb24iXS5uZWFyKHRoaXMudmlldy5zdGF0ZS5kb2MucmVzb2x2ZShlLnBvcykpLCJwb2ludGVyIiksdC5wcmV2ZW50RGVmYXVsdCgpKTpGZSh0aGlzLnZpZXcsInBvaW50ZXIiKX19LHNuLnByb3RvdHlwZS5tb3ZlPWZ1bmN0aW9uKHQpeyF0aGlzLmFsbG93RGVmYXVsdCYmKE1hdGguYWJzKHRoaXMuZXZlbnQueC10LmNsaWVudFgpPjR8fE1hdGguYWJzKHRoaXMuZXZlbnQueS10LmNsaWVudFkpPjQpJiYodGhpcy5hbGxvd0RlZmF1bHQ9ITApLEZlKHRoaXMudmlldywicG9pbnRlciIpfSwkZS50b3VjaGRvd249ZnVuY3Rpb24odCl7cm4odCksRmUodCwicG9pbnRlciIpfSwkZS5jb250ZXh0bWVudT1mdW5jdGlvbih0KXtyZXR1cm4gcm4odCl9O3ZhciBjbj1mLmFuZHJvaWQ/NWUzOi0xO2Z1bmN0aW9uIGxuKHQsZSl7Y2xlYXJUaW1lb3V0KHQuY29tcG9zaW5nVGltZW91dCksZT4tMSYmKHQuY29tcG9zaW5nVGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB1bih0KX0pLGUpKX1mdW5jdGlvbiB1bih0LGUpe3QuZG9tT2JzZXJ2ZXIuZm9yY2VGbHVzaCgpLHQuY29tcG9zaW5nPSExO3doaWxlKHQuY29tcG9zaXRpb25Ob2Rlcy5sZW5ndGg+MCl0LmNvbXBvc2l0aW9uTm9kZXMucG9wKCkubWFya1BhcmVudHNEaXJ0eSgpO2lmKGV8fHQuZG9jVmlldy5kaXJ0eSl7dmFyIG49WXQodCk7cmV0dXJuIG4mJiFuLmVxKHQuc3RhdGUuc2VsZWN0aW9uKT90LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKG4pKTp0LnVwZGF0ZVN0YXRlKHQuc3RhdGUpLCEwfXJldHVybiExfWZ1bmN0aW9uIGZuKHQsZSl7aWYodC5kb20ucGFyZW50Tm9kZSl7dmFyIG49dC5kb20ucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSk7bi5hcHBlbmRDaGlsZChlKSxuLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOiBmaXhlZDsgbGVmdDogLTEwMDAwcHg7IHRvcDogMTBweCI7dmFyIHI9Z2V0U2VsZWN0aW9uKCksbz1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO28uc2VsZWN0Tm9kZUNvbnRlbnRzKGUpLHQuZG9tLmJsdXIoKSxyLnJlbW92ZUFsbFJhbmdlcygpLHIuYWRkUmFuZ2Uobyksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtuLnBhcmVudE5vZGUmJm4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSx0LmZvY3VzKCl9KSw1MCl9fVZlLmNvbXBvc2l0aW9uc3RhcnQ9VmUuY29tcG9zaXRpb251cGRhdGU9ZnVuY3Rpb24odCl7aWYoIXQuY29tcG9zaW5nKXt0LmRvbU9ic2VydmVyLmZsdXNoKCk7dmFyIGU9dC5zdGF0ZSxuPWUuc2VsZWN0aW9uLiRmcm9tO2lmKGUuc2VsZWN0aW9uLmVtcHR5JiYoZS5zdG9yZWRNYXJrc3x8IW4udGV4dE9mZnNldCYmbi5wYXJlbnRPZmZzZXQmJm4ubm9kZUJlZm9yZS5tYXJrcy5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4hMT09PXQudHlwZS5zcGVjLmluY2x1c2l2ZX0pKSkpdC5tYXJrQ3Vyc29yPXQuc3RhdGUuc3RvcmVkTWFya3N8fG4ubWFya3MoKSx1bih0LCEwKSx0Lm1hcmtDdXJzb3I9bnVsbDtlbHNlIGlmKHVuKHQpLGYuZ2Vja28mJmUuc2VsZWN0aW9uLmVtcHR5JiZuLnBhcmVudE9mZnNldCYmIW4udGV4dE9mZnNldCYmbi5ub2RlQmVmb3JlLm1hcmtzLmxlbmd0aClmb3IodmFyIHI9dC5yb290LmdldFNlbGVjdGlvbigpLG89ci5mb2N1c05vZGUsaT1yLmZvY3VzT2Zmc2V0O28mJjE9PW8ubm9kZVR5cGUmJjAhPWk7KXt2YXIgcz1pPDA/by5sYXN0Q2hpbGQ6by5jaGlsZE5vZGVzW2ktMV07aWYoIXMpYnJlYWs7aWYoMz09cy5ub2RlVHlwZSl7ci5jb2xsYXBzZShzLHMubm9kZVZhbHVlLmxlbmd0aCk7YnJlYWt9bz1zLGk9LTF9dC5jb21wb3Npbmc9ITB9bG4odCxjbil9LFZlLmNvbXBvc2l0aW9uZW5kPWZ1bmN0aW9uKHQsZSl7dC5jb21wb3NpbmcmJih0LmNvbXBvc2luZz0hMSx0LmNvbXBvc2l0aW9uRW5kZWRBdD1lLnRpbWVTdGFtcCxsbih0LDIwKSl9O3ZhciBkbj1mLmllJiZmLmllX3ZlcnNpb248MTV8fGYuaW9zJiZmLndlYmtpdF92ZXJzaW9uPDYwNDtmdW5jdGlvbiBwbih0KXtyZXR1cm4gMD09dC5vcGVuU3RhcnQmJjA9PXQub3BlbkVuZCYmMT09dC5jb250ZW50LmNoaWxkQ291bnQ/dC5jb250ZW50LmZpcnN0Q2hpbGQ6bnVsbH1mdW5jdGlvbiBobih0LGUpe2lmKHQuZG9tLnBhcmVudE5vZGUpe3ZhciBuPXQuc2hpZnRLZXl8fHQuc3RhdGUuc2VsZWN0aW9uLiRmcm9tLnBhcmVudC50eXBlLnNwZWMuY29kZSxyPXQuZG9tLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuPyJ0ZXh0YXJlYSI6ImRpdiIpKTtufHwoci5jb250ZW50RWRpdGFibGU9InRydWUiKSxyLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOiBmaXhlZDsgbGVmdDogLTEwMDAwcHg7IHRvcDogMTBweCIsci5mb2N1cygpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5mb2N1cygpLHIucGFyZW50Tm9kZSYmci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHIpLG4/dm4odCxyLnZhbHVlLG51bGwsZSk6dm4odCxyLnRleHRDb250ZW50LHIuaW5uZXJIVE1MLGUpfSksNTApfX1mdW5jdGlvbiB2bih0LGUsbixyKXt2YXIgbz13ZSh0LGUsbix0LnNoaWZ0S2V5LHQuc3RhdGUuc2VsZWN0aW9uLiRmcm9tKTtpZighdC5zb21lUHJvcCgiaGFuZGxlUGFzdGUiLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0LHIsb3x8bFsiU2xpY2UiXS5lbXB0eSl9KSkmJm8pe3ZhciBpPXBuKG8pLHM9aT90LnN0YXRlLnRyLnJlcGxhY2VTZWxlY3Rpb25XaXRoKGksdC5zaGlmdEtleSk6dC5zdGF0ZS50ci5yZXBsYWNlU2VsZWN0aW9uKG8pO3QuZGlzcGF0Y2gocy5zY3JvbGxJbnRvVmlldygpLnNldE1ldGEoInBhc3RlIiwhMCkuc2V0TWV0YSgidWlFdmVudCIsInBhc3RlIikpfX0kZS5jb3B5PVZlLmN1dD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuc3RhdGUuc2VsZWN0aW9uLHI9ImN1dCI9PWUudHlwZTtpZighbi5lbXB0eSl7dmFyIG89ZG4/bnVsbDplLmNsaXBib2FyZERhdGEsaT1uLmNvbnRlbnQoKSxzPWJlKHQsaSksYT1zLmRvbSxjPXMudGV4dDtvPyhlLnByZXZlbnREZWZhdWx0KCksby5jbGVhckRhdGEoKSxvLnNldERhdGEoInRleHQvaHRtbCIsYS5pbm5lckhUTUwpLG8uc2V0RGF0YSgidGV4dC9wbGFpbiIsYykpOmZuKHQsYSksciYmdC5kaXNwYXRjaCh0LnN0YXRlLnRyLmRlbGV0ZVNlbGVjdGlvbigpLnNjcm9sbEludG9WaWV3KCkuc2V0TWV0YSgidWlFdmVudCIsImN1dCIpKX19LFZlLnBhc3RlPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZG4/bnVsbDplLmNsaXBib2FyZERhdGEscj1uJiZuLmdldERhdGEoInRleHQvaHRtbCIpLG89biYmbi5nZXREYXRhKCJ0ZXh0L3BsYWluIik7biYmKHJ8fG98fG4uZmlsZXMubGVuZ3RoKT8odm4odCxvLHIsZSksZS5wcmV2ZW50RGVmYXVsdCgpKTpobih0LGUpfTt2YXIgbW49ZnVuY3Rpb24odCxlKXt0aGlzLnNsaWNlPXQsdGhpcy5tb3ZlPWV9LGduPWYubWFjPyJhbHRLZXkiOiJjdHJsS2V5Ijtmb3IodmFyIHluIGluICRlLmRyYWdzdGFydD1mdW5jdGlvbih0LGUpe3ZhciBuPXQubW91c2VEb3duO2lmKG4mJm4uZG9uZSgpLGUuZGF0YVRyYW5zZmVyKXt2YXIgcj10LnN0YXRlLnNlbGVjdGlvbixvPXIuZW1wdHk/bnVsbDp0LnBvc0F0Q29vcmRzKEplKGUpKTtpZihvJiZvLnBvcz49ci5mcm9tJiZvLnBvczw9KHIgaW5zdGFuY2VvZiBjWyJOb2RlU2VsZWN0aW9uIl0/ci50by0xOnIudG8pKTtlbHNlIGlmKG4mJm4ubWlnaHREcmFnKXQuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oY1siTm9kZVNlbGVjdGlvbiJdLmNyZWF0ZSh0LnN0YXRlLmRvYyxuLm1pZ2h0RHJhZy5wb3MpKSk7ZWxzZSBpZihlLnRhcmdldCYmMT09ZS50YXJnZXQubm9kZVR5cGUpe3ZhciBpPXQuZG9jVmlldy5uZWFyZXN0RGVzYyhlLnRhcmdldCwhMCk7aWYoIWl8fCFpLm5vZGUudHlwZS5zcGVjLmRyYWdnYWJsZXx8aT09dC5kb2NWaWV3KXJldHVybjt0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKGNbIk5vZGVTZWxlY3Rpb24iXS5jcmVhdGUodC5zdGF0ZS5kb2MsaS5wb3NCZWZvcmUpKSl9dmFyIHM9dC5zdGF0ZS5zZWxlY3Rpb24uY29udGVudCgpLGE9YmUodCxzKSxsPWEuZG9tLHU9YS50ZXh0O2UuZGF0YVRyYW5zZmVyLmNsZWFyRGF0YSgpLGUuZGF0YVRyYW5zZmVyLnNldERhdGEoZG4/IlRleHQiOiJ0ZXh0L2h0bWwiLGwuaW5uZXJIVE1MKSxkbnx8ZS5kYXRhVHJhbnNmZXIuc2V0RGF0YSgidGV4dC9wbGFpbiIsdSksdC5kcmFnZ2luZz1uZXcgbW4ocywhZVtnbl0pfX0sJGUuZHJhZ2VuZD1mdW5jdGlvbih0KXt3aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5kcmFnZ2luZz1udWxsfSksNTApfSxWZS5kcmFnb3Zlcj1WZS5kcmFnZW50ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpfSxWZS5kcm9wPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5kcmFnZ2luZztpZih0LmRyYWdnaW5nPW51bGwsZS5kYXRhVHJhbnNmZXIpe3ZhciByPXQucG9zQXRDb29yZHMoSmUoZSkpO2lmKHIpe3ZhciBvPXQuc3RhdGUuZG9jLnJlc29sdmUoci5wb3MpO2lmKG8pe3ZhciBpPW4mJm4uc2xpY2V8fHdlKHQsZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShkbj8iVGV4dCI6InRleHQvcGxhaW4iKSxkbj9udWxsOmUuZGF0YVRyYW5zZmVyLmdldERhdGEoInRleHQvaHRtbCIpLCExLG8pO2lmKHQuc29tZVByb3AoImhhbmRsZURyb3AiLChmdW5jdGlvbihyKXtyZXR1cm4gcih0LGUsaXx8bFsiU2xpY2UiXS5lbXB0eSxuJiZuLm1vdmUpfSkpKWUucHJldmVudERlZmF1bHQoKTtlbHNlIGlmKGkpe2UucHJldmVudERlZmF1bHQoKTt2YXIgcz1pP09iamVjdCh1WyJoIl0pKHQuc3RhdGUuZG9jLG8ucG9zLGkpOm8ucG9zO251bGw9PXMmJihzPW8ucG9zKTt2YXIgYT10LnN0YXRlLnRyO24mJm4ubW92ZSYmYS5kZWxldGVTZWxlY3Rpb24oKTt2YXIgZj1hLm1hcHBpbmcubWFwKHMpLGQ9MD09aS5vcGVuU3RhcnQmJjA9PWkub3BlbkVuZCYmMT09aS5jb250ZW50LmNoaWxkQ291bnQscD1hLmRvYztpZihkP2EucmVwbGFjZVJhbmdlV2l0aChmLGYsaS5jb250ZW50LmZpcnN0Q2hpbGQpOmEucmVwbGFjZVJhbmdlKGYsZixpKSwhYS5kb2MuZXEocCkpe3ZhciBoPWEuZG9jLnJlc29sdmUoZik7ZCYmY1siTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZShpLmNvbnRlbnQuZmlyc3RDaGlsZCkmJmgubm9kZUFmdGVyJiZoLm5vZGVBZnRlci5zYW1lTWFya3VwKGkuY29udGVudC5maXJzdENoaWxkKT9hLnNldFNlbGVjdGlvbihuZXcgY1siTm9kZVNlbGVjdGlvbiJdKGgpKTphLnNldFNlbGVjdGlvbihhZSh0LGgsYS5kb2MucmVzb2x2ZShhLm1hcHBpbmcubWFwKHMpKSkpLHQuZm9jdXMoKSx0LmRpc3BhdGNoKGEuc2V0TWV0YSgidWlFdmVudCIsImRyb3AiKSl9fX19fX0sJGUuZm9jdXM9ZnVuY3Rpb24odCl7dC5mb2N1c2VkfHwodC5kb21PYnNlcnZlci5zdG9wKCksdC5kb20uY2xhc3NMaXN0LmFkZCgiUHJvc2VNaXJyb3ItZm9jdXNlZCIpLHQuZG9tT2JzZXJ2ZXIuc3RhcnQoKSx0LmZvY3VzZWQ9ITAsc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmRvY1ZpZXcmJnQuaGFzRm9jdXMoKSYmIXQuZG9tT2JzZXJ2ZXIuY3VycmVudFNlbGVjdGlvbi5lcSh0LnJvb3QuZ2V0U2VsZWN0aW9uKCkpJiZadCh0KX0pLDIwKSl9LCRlLmJsdXI9ZnVuY3Rpb24odCl7dC5mb2N1c2VkJiYodC5kb21PYnNlcnZlci5zdG9wKCksdC5kb20uY2xhc3NMaXN0LnJlbW92ZSgiUHJvc2VNaXJyb3ItZm9jdXNlZCIpLHQuZG9tT2JzZXJ2ZXIuc3RhcnQoKSx0LmRvbU9ic2VydmVyLmN1cnJlbnRTZWxlY3Rpb24uc2V0KHt9KSx0LmZvY3VzZWQ9ITEpfSwkZS5iZWZvcmVpbnB1dD1mdW5jdGlvbih0LGUpe2lmKGYuY2hyb21lJiZmLmFuZHJvaWQmJiJkZWxldGVDb250ZW50QmFja3dhcmQiPT1lLmlucHV0VHlwZSl7dmFyIG49dC5kb21DaGFuZ2VDb3VudDtzZXRUaW1lb3V0KChmdW5jdGlvbigpe2lmKHQuZG9tQ2hhbmdlQ291bnQ9PW4mJih0LmRvbS5ibHVyKCksdC5mb2N1cygpLCF0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCxOKDgsIkJhY2tzcGFjZSIpKX0pKSkpe3ZhciBlPXQuc3RhdGUuc2VsZWN0aW9uLHI9ZS4kY3Vyc29yO3ImJnIucG9zPjAmJnQuZGlzcGF0Y2godC5zdGF0ZS50ci5kZWxldGUoci5wb3MtMSxyLnBvcykuc2Nyb2xsSW50b1ZpZXcoKSl9fSksNTApfX0sVmUpJGVbeW5dPVZlW3luXTtmdW5jdGlvbiBibih0LGUpe2lmKHQ9PWUpcmV0dXJuITA7Zm9yKHZhciBuIGluIHQpaWYodFtuXSE9PWVbbl0pcmV0dXJuITE7Zm9yKHZhciByIGluIGUpaWYoIShyIGluIHQpKXJldHVybiExO3JldHVybiEwfXZhciB3bj1mdW5jdGlvbih0LGUpe3RoaXMuc3BlYz1lfHxNbix0aGlzLnNpZGU9dGhpcy5zcGVjLnNpZGV8fDAsdGhpcy50b0RPTT10fTt3bi5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQubWFwUmVzdWx0KGUuZnJvbStyLHRoaXMuc2lkZTwwPy0xOjEpLGk9by5wb3Mscz1vLmRlbGV0ZWQ7cmV0dXJuIHM/bnVsbDpuZXcga24oaS1uLGktbix0aGlzKX0sd24ucHJvdG90eXBlLnZhbGlkPWZ1bmN0aW9uKCl7cmV0dXJuITB9LHduLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09dHx8dCBpbnN0YW5jZW9mIHduJiYodGhpcy5zcGVjLmtleSYmdGhpcy5zcGVjLmtleT09dC5zcGVjLmtleXx8dGhpcy50b0RPTT09dC50b0RPTSYmYm4odGhpcy5zcGVjLHQuc3BlYykpfTt2YXIgU249ZnVuY3Rpb24odCxlKXt0aGlzLnNwZWM9ZXx8TW4sdGhpcy5hdHRycz10fTtTbi5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQubWFwKGUuZnJvbStyLHRoaXMuc3BlYy5pbmNsdXNpdmVTdGFydD8tMToxKS1uLGk9dC5tYXAoZS50bytyLHRoaXMuc3BlYy5pbmNsdXNpdmVFbmQ/MTotMSktbjtyZXR1cm4gbz49aT9udWxsOm5ldyBrbihvLGksdGhpcyl9LFNuLnByb3RvdHlwZS52YWxpZD1mdW5jdGlvbih0LGUpe3JldHVybiBlLmZyb208ZS50b30sU24ucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT10fHx0IGluc3RhbmNlb2YgU24mJmJuKHRoaXMuYXR0cnMsdC5hdHRycykmJmJuKHRoaXMuc3BlYyx0LnNwZWMpfSxTbi5pcz1mdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlIGluc3RhbmNlb2YgU259O3ZhciB4bj1mdW5jdGlvbih0LGUpe3RoaXMuc3BlYz1lfHxNbix0aGlzLmF0dHJzPXR9O3huLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89dC5tYXBSZXN1bHQoZS5mcm9tK3IsMSk7aWYoby5kZWxldGVkKXJldHVybiBudWxsO3ZhciBpPXQubWFwUmVzdWx0KGUudG8rciwtMSk7cmV0dXJuIGkuZGVsZXRlZHx8aS5wb3M8PW8ucG9zP251bGw6bmV3IGtuKG8ucG9zLW4saS5wb3Mtbix0aGlzKX0seG4ucHJvdG90eXBlLnZhbGlkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jb250ZW50LmZpbmRJbmRleChlLmZyb20pLHI9bi5pbmRleCxvPW4ub2Zmc2V0O3JldHVybiBvPT1lLmZyb20mJm8rdC5jaGlsZChyKS5ub2RlU2l6ZT09ZS50b30seG4ucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT10fHx0IGluc3RhbmNlb2YgeG4mJmJuKHRoaXMuYXR0cnMsdC5hdHRycykmJmJuKHRoaXMuc3BlYyx0LnNwZWMpfTt2YXIga249ZnVuY3Rpb24odCxlLG4pe3RoaXMuZnJvbT10LHRoaXMudG89ZSx0aGlzLnR5cGU9bn0sT249e3NwZWM6e2NvbmZpZ3VyYWJsZTohMH19O2tuLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBrbih0LGUsdGhpcy50eXBlKX0sa24ucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLHRoaXMudHlwZS5lcSh0LnR5cGUpJiZ0aGlzLmZyb20rZT09dC5mcm9tJiZ0aGlzLnRvK2U9PXQudG99LGtuLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLnR5cGUubWFwKHQsdGhpcyxlLG4pfSxrbi53aWRnZXQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcga24odCx0LG5ldyB3bihlLG4pKX0sa24uaW5saW5lPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBuZXcga24odCxlLG5ldyBTbihuLHIpKX0sa24ubm9kZT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gbmV3IGtuKHQsZSxuZXcgeG4obixyKSl9LE9uLnNwZWMuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5zcGVjfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhrbi5wcm90b3R5cGUsT24pO3ZhciBDbj1bXSxNbj17fSxObj1mdW5jdGlvbih0LGUpe3RoaXMubG9jYWw9dCYmdC5sZW5ndGg/dDpDbix0aGlzLmNoaWxkcmVuPWUmJmUubGVuZ3RoP2U6Q259O05uLmNyZWF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBlLmxlbmd0aD96bihlLHQsMCxNbik6VG59LE5uLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1bXTtyZXR1cm4gdGhpcy5maW5kSW5uZXIobnVsbD09dD8wOnQsbnVsbD09ZT8xZTk6ZSxyLDAsbikscn0sTm4ucHJvdG90eXBlLmZpbmRJbm5lcj1mdW5jdGlvbih0LGUsbixyLG8pe2Zvcih2YXIgaT0wO2k8dGhpcy5sb2NhbC5sZW5ndGg7aSsrKXt2YXIgcz10aGlzLmxvY2FsW2ldO3MuZnJvbTw9ZSYmcy50bz49dCYmKCFvfHxvKHMuc3BlYykpJiZuLnB1c2gocy5jb3B5KHMuZnJvbStyLHMudG8rcikpfWZvcih2YXIgYT0wO2E8dGhpcy5jaGlsZHJlbi5sZW5ndGg7YSs9MylpZih0aGlzLmNoaWxkcmVuW2FdPGUmJnRoaXMuY2hpbGRyZW5bYSsxXT50KXt2YXIgYz10aGlzLmNoaWxkcmVuW2FdKzE7dGhpcy5jaGlsZHJlblthKzJdLmZpbmRJbm5lcih0LWMsZS1jLG4scitjLG8pfX0sTm4ucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXM9PVRufHwwPT10Lm1hcHMubGVuZ3RoP3RoaXM6dGhpcy5tYXBJbm5lcih0LGUsMCwwLG58fE1uKX0sTm4ucHJvdG90eXBlLm1hcElubmVyPWZ1bmN0aW9uKHQsZSxuLHIsbyl7Zm9yKHZhciBpLHM9MDtzPHRoaXMubG9jYWwubGVuZ3RoO3MrKyl7dmFyIGE9dGhpcy5sb2NhbFtzXS5tYXAodCxuLHIpO2EmJmEudHlwZS52YWxpZChlLGEpPyhpfHwoaT1bXSkpLnB1c2goYSk6by5vblJlbW92ZSYmby5vblJlbW92ZSh0aGlzLmxvY2FsW3NdLnNwZWMpfXJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aD9Ebih0aGlzLmNoaWxkcmVuLGksdCxlLG4scixvKTppP25ldyBObihpLnNvcnQoSW4pKTpUbn0sTm4ucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUpe3JldHVybiBlLmxlbmd0aD90aGlzPT1Ubj9Obi5jcmVhdGUodCxlKTp0aGlzLmFkZElubmVyKHQsZSwwKTp0aGlzfSxObi5wcm90b3R5cGUuYWRkSW5uZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciByLG89dGhpcyxpPTA7dC5mb3JFYWNoKChmdW5jdGlvbih0LHMpe3ZhciBhLGM9cytuO2lmKGE9X24oZSx0LGMpKXtyfHwocj1vLmNoaWxkcmVuLnNsaWNlKCkpO3doaWxlKGk8ci5sZW5ndGgmJnJbaV08cylpKz0zO3JbaV09PXM/cltpKzJdPXJbaSsyXS5hZGRJbm5lcih0LGEsYysxKTpyLnNwbGljZShpLDAscyxzK3Qubm9kZVNpemUsem4oYSx0LGMrMSxNbikpLGkrPTN9fSkpO3ZhciBzPUVuKGk/UG4oZSk6ZSwtbik7cmV0dXJuIG5ldyBObihzLmxlbmd0aD90aGlzLmxvY2FsLmNvbmNhdChzKS5zb3J0KEluKTp0aGlzLmxvY2FsLHJ8fHRoaXMuY2hpbGRyZW4pfSxObi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3JldHVybiAwPT10Lmxlbmd0aHx8dGhpcz09VG4/dGhpczp0aGlzLnJlbW92ZUlubmVyKHQsMCl9LE5uLnByb3RvdHlwZS5yZW1vdmVJbm5lcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLmNoaWxkcmVuLHI9dGhpcy5sb2NhbCxvPTA7bzxuLmxlbmd0aDtvKz0zKXtmb3IodmFyIGk9dm9pZCAwLHM9bltvXStlLGE9bltvKzFdK2UsYz0wLGw9dm9pZCAwO2M8dC5sZW5ndGg7YysrKShsPXRbY10pJiZsLmZyb20+cyYmbC50bzxhJiYodFtjXT1udWxsLChpfHwoaT1bXSkpLnB1c2gobCkpO2lmKGkpe249PXRoaXMuY2hpbGRyZW4mJihuPXRoaXMuY2hpbGRyZW4uc2xpY2UoKSk7dmFyIHU9bltvKzJdLnJlbW92ZUlubmVyKGkscysxKTt1IT1Ubj9uW28rMl09dToobi5zcGxpY2UobywzKSxvLT0zKX19aWYoci5sZW5ndGgpZm9yKHZhciBmPTAsZD12b2lkIDA7Zjx0Lmxlbmd0aDtmKyspaWYoZD10W2ZdKWZvcih2YXIgcD0wO3A8ci5sZW5ndGg7cCsrKXJbcF0uZXEoZCxlKSYmKHI9PXRoaXMubG9jYWwmJihyPXRoaXMubG9jYWwuc2xpY2UoKSksci5zcGxpY2UocC0tLDEpKTtyZXR1cm4gbj09dGhpcy5jaGlsZHJlbiYmcj09dGhpcy5sb2NhbD90aGlzOnIubGVuZ3RofHxuLmxlbmd0aD9uZXcgTm4ocixuKTpUbn0sTm4ucHJvdG90eXBlLmZvckNoaWxkPWZ1bmN0aW9uKHQsZSl7aWYodGhpcz09VG4pcmV0dXJuIHRoaXM7aWYoZS5pc0xlYWYpcmV0dXJuIE5uLmVtcHR5O2Zvcih2YXIgbixyLG89MDtvPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO28rPTMpaWYodGhpcy5jaGlsZHJlbltvXT49dCl7dGhpcy5jaGlsZHJlbltvXT09dCYmKG49dGhpcy5jaGlsZHJlbltvKzJdKTticmVha31mb3IodmFyIGk9dCsxLHM9aStlLmNvbnRlbnQuc2l6ZSxhPTA7YTx0aGlzLmxvY2FsLmxlbmd0aDthKyspe3ZhciBjPXRoaXMubG9jYWxbYV07aWYoYy5mcm9tPHMmJmMudG8+aSYmYy50eXBlIGluc3RhbmNlb2YgU24pe3ZhciBsPU1hdGgubWF4KGksYy5mcm9tKS1pLHU9TWF0aC5taW4ocyxjLnRvKS1pO2w8dSYmKHJ8fChyPVtdKSkucHVzaChjLmNvcHkobCx1KSl9fWlmKHIpe3ZhciBmPW5ldyBObihyLnNvcnQoSW4pKTtyZXR1cm4gbj9uZXcgQW4oW2Ysbl0pOmZ9cmV0dXJuIG58fFRufSxObi5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7aWYodGhpcz09dClyZXR1cm4hMDtpZighKHQgaW5zdGFuY2VvZiBObil8fHRoaXMubG9jYWwubGVuZ3RoIT10LmxvY2FsLmxlbmd0aHx8dGhpcy5jaGlsZHJlbi5sZW5ndGghPXQuY2hpbGRyZW4ubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZT0wO2U8dGhpcy5sb2NhbC5sZW5ndGg7ZSsrKWlmKCF0aGlzLmxvY2FsW2VdLmVxKHQubG9jYWxbZV0pKXJldHVybiExO2Zvcih2YXIgbj0wO248dGhpcy5jaGlsZHJlbi5sZW5ndGg7bis9MylpZih0aGlzLmNoaWxkcmVuW25dIT10LmNoaWxkcmVuW25dfHx0aGlzLmNoaWxkcmVuW24rMV0hPXQuY2hpbGRyZW5bbisxXXx8IXRoaXMuY2hpbGRyZW5bbisyXS5lcSh0LmNoaWxkcmVuW24rMl0pKXJldHVybiExO3JldHVybiEwfSxObi5wcm90b3R5cGUubG9jYWxzPWZ1bmN0aW9uKHQpe3JldHVybiBqbih0aGlzLmxvY2Fsc0lubmVyKHQpKX0sTm4ucHJvdG90eXBlLmxvY2Fsc0lubmVyPWZ1bmN0aW9uKHQpe2lmKHRoaXM9PVRuKXJldHVybiBDbjtpZih0LmlubGluZUNvbnRlbnR8fCF0aGlzLmxvY2FsLnNvbWUoU24uaXMpKXJldHVybiB0aGlzLmxvY2FsO2Zvcih2YXIgZT1bXSxuPTA7bjx0aGlzLmxvY2FsLmxlbmd0aDtuKyspdGhpcy5sb2NhbFtuXS50eXBlIGluc3RhbmNlb2YgU258fGUucHVzaCh0aGlzLmxvY2FsW25dKTtyZXR1cm4gZX07dmFyIFRuPW5ldyBObjtObi5lbXB0eT1UbixObi5yZW1vdmVPdmVybGFwPWpuO3ZhciBBbj1mdW5jdGlvbih0KXt0aGlzLm1lbWJlcnM9dH07ZnVuY3Rpb24gRG4odCxlLG4scixvLGkscyl7Zm9yKHZhciBhPXQuc2xpY2UoKSxjPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgcz0wO3M8YS5sZW5ndGg7cys9Myl7dmFyIGM9YVtzKzFdLGw9dm9pZCAwOy0xPT1jfHx0PmMraXx8KGU+PWFbc10raT9hW3MrMV09LTE6bj49byYmKGw9ci1uLShlLXQpKSYmKGFbc10rPWwsYVtzKzFdKz1sKSl9fSxsPTA7bDxuLm1hcHMubGVuZ3RoO2wrKyluLm1hcHNbbF0uZm9yRWFjaChjKTtmb3IodmFyIHU9ITEsZj0wO2Y8YS5sZW5ndGg7Zis9MylpZigtMT09YVtmKzFdKXt2YXIgZD1uLm1hcChhW2ZdK2kpLHA9ZC1vO2lmKHA8MHx8cD49ci5jb250ZW50LnNpemUpe3U9ITA7Y29udGludWV9dmFyIGg9bi5tYXAodFtmKzFdK2ksLTEpLHY9aC1vLG09ci5jb250ZW50LmZpbmRJbmRleChwKSxnPW0uaW5kZXgseT1tLm9mZnNldCxiPXIubWF5YmVDaGlsZChnKTtpZihiJiZ5PT1wJiZ5K2Iubm9kZVNpemU9PXYpe3ZhciB3PWFbZisyXS5tYXBJbm5lcihuLGIsZCsxLGFbZl0raSsxLHMpO3chPVRuPyhhW2ZdPXAsYVtmKzFdPXYsYVtmKzJdPXcpOihhW2YrMV09LTIsdT0hMCl9ZWxzZSB1PSEwfWlmKHUpe3ZhciBTPVJuKGEsdCxlfHxbXSxuLG8saSxzKSx4PXpuKFMsciwwLHMpO2U9eC5sb2NhbDtmb3IodmFyIGs9MDtrPGEubGVuZ3RoO2srPTMpYVtrKzFdPDAmJihhLnNwbGljZShrLDMpLGstPTMpO2Zvcih2YXIgTz0wLEM9MDtPPHguY2hpbGRyZW4ubGVuZ3RoO08rPTMpe3ZhciBNPXguY2hpbGRyZW5bT107d2hpbGUoQzxhLmxlbmd0aCYmYVtDXTxNKUMrPTM7YS5zcGxpY2UoQywwLHguY2hpbGRyZW5bT10seC5jaGlsZHJlbltPKzFdLHguY2hpbGRyZW5bTysyXSl9fXJldHVybiBuZXcgTm4oZSYmZS5zb3J0KEluKSxhKX1mdW5jdGlvbiBFbih0LGUpe2lmKCFlfHwhdC5sZW5ndGgpcmV0dXJuIHQ7Zm9yKHZhciBuPVtdLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtuLnB1c2gobmV3IGtuKG8uZnJvbStlLG8udG8rZSxvLnR5cGUpKX1yZXR1cm4gbn1mdW5jdGlvbiBSbih0LGUsbixyLG8saSxzKXtmdW5jdGlvbiBhKHQsZSl7Zm9yKHZhciBpPTA7aTx0LmxvY2FsLmxlbmd0aDtpKyspe3ZhciBjPXQubG9jYWxbaV0ubWFwKHIsbyxlKTtjP24ucHVzaChjKTpzLm9uUmVtb3ZlJiZzLm9uUmVtb3ZlKHQubG9jYWxbaV0uc3BlYyl9Zm9yKHZhciBsPTA7bDx0LmNoaWxkcmVuLmxlbmd0aDtsKz0zKWEodC5jaGlsZHJlbltsKzJdLHQuY2hpbGRyZW5bbF0rZSsxKX1mb3IodmFyIGM9MDtjPHQubGVuZ3RoO2MrPTMpLTE9PXRbYysxXSYmYSh0W2MrMl0sZVtjXStpKzEpO3JldHVybiBufWZ1bmN0aW9uIF9uKHQsZSxuKXtpZihlLmlzTGVhZilyZXR1cm4gbnVsbDtmb3IodmFyIHI9bitlLm5vZGVTaXplLG89bnVsbCxpPTAscz12b2lkIDA7aTx0Lmxlbmd0aDtpKyspKHM9dFtpXSkmJnMuZnJvbT5uJiZzLnRvPHImJigob3x8KG89W10pKS5wdXNoKHMpLHRbaV09bnVsbCk7cmV0dXJuIG99ZnVuY3Rpb24gUG4odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQubGVuZ3RoO24rKyludWxsIT10W25dJiZlLnB1c2godFtuXSk7cmV0dXJuIGV9ZnVuY3Rpb24gem4odCxlLG4scil7dmFyIG89W10saT0hMTtlLmZvckVhY2goKGZ1bmN0aW9uKGUscyl7dmFyIGE9X24odCxlLHMrbik7aWYoYSl7aT0hMDt2YXIgYz16bihhLGUsbitzKzEscik7YyE9VG4mJm8ucHVzaChzLHMrZS5ub2RlU2l6ZSxjKX19KSk7Zm9yKHZhciBzPUVuKGk/UG4odCk6dCwtbikuc29ydChJbiksYT0wO2E8cy5sZW5ndGg7YSsrKXNbYV0udHlwZS52YWxpZChlLHNbYV0pfHwoci5vblJlbW92ZSYmci5vblJlbW92ZShzW2FdLnNwZWMpLHMuc3BsaWNlKGEtLSwxKSk7cmV0dXJuIHMubGVuZ3RofHxvLmxlbmd0aD9uZXcgTm4ocyxvKTpUbn1mdW5jdGlvbiBJbih0LGUpe3JldHVybiB0LmZyb20tZS5mcm9tfHx0LnRvLWUudG99ZnVuY3Rpb24gam4odCl7Zm9yKHZhciBlPXQsbj0wO248ZS5sZW5ndGgtMTtuKyspe3ZhciByPWVbbl07aWYoci5mcm9tIT1yLnRvKWZvcih2YXIgbz1uKzE7bzxlLmxlbmd0aDtvKyspe3ZhciBpPWVbb107aWYoaS5mcm9tIT1yLmZyb20pe2kuZnJvbTxyLnRvJiYoZT09dCYmKGU9dC5zbGljZSgpKSxlW25dPXIuY29weShyLmZyb20saS5mcm9tKSwkbihlLG8sci5jb3B5KGkuZnJvbSxyLnRvKSkpO2JyZWFrfWkudG8hPXIudG8mJihlPT10JiYoZT10LnNsaWNlKCkpLGVbb109aS5jb3B5KGkuZnJvbSxyLnRvKSwkbihlLG8rMSxpLmNvcHkoci50byxpLnRvKSkpfX1yZXR1cm4gZX1mdW5jdGlvbiAkbih0LGUsbil7d2hpbGUoZTx0Lmxlbmd0aCYmSW4obix0W2VdKT4wKWUrKzt0LnNwbGljZShlLDAsbil9ZnVuY3Rpb24gVm4odCl7dmFyIGU9W107cmV0dXJuIHQuc29tZVByb3AoImRlY29yYXRpb25zIiwoZnVuY3Rpb24obil7dmFyIHI9bih0LnN0YXRlKTtyJiZyIT1UbiYmZS5wdXNoKHIpfSkpLHQuY3Vyc29yV3JhcHBlciYmZS5wdXNoKE5uLmNyZWF0ZSh0LnN0YXRlLmRvYyxbdC5jdXJzb3JXcmFwcGVyLmRlY29dKSksQW4uZnJvbShlKX1Bbi5wcm90b3R5cGUuZm9yQ2hpbGQ9ZnVuY3Rpb24odCxlKXtpZihlLmlzTGVhZilyZXR1cm4gTm4uZW1wdHk7Zm9yKHZhciBuPVtdLHI9MDtyPHRoaXMubWVtYmVycy5sZW5ndGg7cisrKXt2YXIgbz10aGlzLm1lbWJlcnNbcl0uZm9yQ2hpbGQodCxlKTtvIT1UbiYmKG8gaW5zdGFuY2VvZiBBbj9uPW4uY29uY2F0KG8ubWVtYmVycyk6bi5wdXNoKG8pKX1yZXR1cm4gQW4uZnJvbShuKX0sQW4ucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIEFuKXx8dC5tZW1iZXJzLmxlbmd0aCE9dGhpcy5tZW1iZXJzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGU9MDtlPHRoaXMubWVtYmVycy5sZW5ndGg7ZSsrKWlmKCF0aGlzLm1lbWJlcnNbZV0uZXEodC5tZW1iZXJzW2VdKSlyZXR1cm4hMTtyZXR1cm4hMH0sQW4ucHJvdG90eXBlLmxvY2Fscz1mdW5jdGlvbih0KXtmb3IodmFyIGUsbj0hMCxyPTA7cjx0aGlzLm1lbWJlcnMubGVuZ3RoO3IrKyl7dmFyIG89dGhpcy5tZW1iZXJzW3JdLmxvY2Fsc0lubmVyKHQpO2lmKG8ubGVuZ3RoKWlmKGUpe24mJihlPWUuc2xpY2UoKSxuPSExKTtmb3IodmFyIGk9MDtpPG8ubGVuZ3RoO2krKyllLnB1c2gob1tpXSl9ZWxzZSBlPW99cmV0dXJuIGU/am4obj9lOmUuc29ydChJbikpOkNufSxBbi5mcm9tPWZ1bmN0aW9uKHQpe3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBUbjtjYXNlIDE6cmV0dXJuIHRbMF07ZGVmYXVsdDpyZXR1cm4gbmV3IEFuKHQpfX07dmFyIEJuPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcHJvcHM9ZSx0aGlzLnN0YXRlPWUuc3RhdGUsdGhpcy5kaXNwYXRjaD10aGlzLmRpc3BhdGNoLmJpbmQodGhpcyksdGhpcy5fcm9vdD1udWxsLHRoaXMuZm9jdXNlZD0hMSx0aGlzLmRvbT10JiZ0Lm1vdW50fHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0JiYodC5hcHBlbmRDaGlsZD90LmFwcGVuZENoaWxkKHRoaXMuZG9tKTp0LmFwcGx5P3QodGhpcy5kb20pOnQubW91bnQmJih0aGlzLm1vdW50ZWQ9ITApKSx0aGlzLmVkaXRhYmxlPXFuKHRoaXMpLHRoaXMubWFya0N1cnNvcj1udWxsLHRoaXMuY3Vyc29yV3JhcHBlcj1udWxsLEhuKHRoaXMpLHRoaXMubm9kZVZpZXdzPVduKHRoaXMpLHRoaXMuZG9jVmlldz12dCh0aGlzLnN0YXRlLmRvYyxMbih0aGlzKSxWbih0aGlzKSx0aGlzLmRvbSx0aGlzKSx0aGlzLmxhc3RTZWxlY3RlZFZpZXdEZXNjPW51bGwsdGhpcy5kcmFnZ2luZz1udWxsLEJlKHRoaXMpLHRoaXMucGx1Z2luVmlld3M9W10sdGhpcy51cGRhdGVQbHVnaW5WaWV3cygpfSxGbj17cHJvcHM6e2NvbmZpZ3VyYWJsZTohMH0scm9vdDp7Y29uZmlndXJhYmxlOiEwfX07ZnVuY3Rpb24gTG4odCl7dmFyIGU9T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gZS5jbGFzcz0iUHJvc2VNaXJyb3IiLGUuY29udGVudGVkaXRhYmxlPVN0cmluZyh0LmVkaXRhYmxlKSx0LnNvbWVQcm9wKCJhdHRyaWJ1dGVzIiwoZnVuY3Rpb24obil7aWYoImZ1bmN0aW9uIj09dHlwZW9mIG4mJihuPW4odC5zdGF0ZSkpLG4pZm9yKHZhciByIGluIG4pImNsYXNzIj09cj9lLmNsYXNzKz0iICIrbltyXTplW3JdfHwiY29udGVudGVkaXRhYmxlIj09cnx8Im5vZGVOYW1lIj09cnx8KGVbcl09U3RyaW5nKG5bcl0pKX0pKSxba24ubm9kZSgwLHQuc3RhdGUuZG9jLmNvbnRlbnQuc2l6ZSxlKV19ZnVuY3Rpb24gSG4odCl7aWYodC5tYXJrQ3Vyc29yKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtlLnNldEF0dHJpYnV0ZSgibWFyay1wbGFjZWhvbGRlciIsInRydWUiKSx0LmN1cnNvcldyYXBwZXI9e2RvbTplLGRlY286a24ud2lkZ2V0KHQuc3RhdGUuc2VsZWN0aW9uLmhlYWQsZSx7cmF3OiEwLG1hcmtzOnQubWFya0N1cnNvcn0pfX1lbHNlIHQuY3Vyc29yV3JhcHBlcj1udWxsfWZ1bmN0aW9uIHFuKHQpe3JldHVybiF0LnNvbWVQcm9wKCJlZGl0YWJsZSIsKGZ1bmN0aW9uKGUpe3JldHVybiExPT09ZSh0LnN0YXRlKX0pKX1mdW5jdGlvbiBLbih0LGUpe3ZhciBuPU1hdGgubWluKHQuJGFuY2hvci5zaGFyZWREZXB0aCh0LmhlYWQpLGUuJGFuY2hvci5zaGFyZWREZXB0aChlLmhlYWQpKTtyZXR1cm4gdC4kYW5jaG9yLnN0YXJ0KG4pIT1lLiRhbmNob3Iuc3RhcnQobil9ZnVuY3Rpb24gV24odCl7dmFyIGU9e307cmV0dXJuIHQuc29tZVByb3AoIm5vZGVWaWV3cyIsKGZ1bmN0aW9uKHQpe2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pfHwoZVtuXT10W25dKX0pKSxlfWZ1bmN0aW9uIEpuKHQsZSl7dmFyIG49MCxyPTA7Zm9yKHZhciBvIGluIHQpe2lmKHRbb10hPWVbb10pcmV0dXJuITA7bisrfWZvcih2YXIgaSBpbiBlKXIrKztyZXR1cm4gbiE9cn1mdW5jdGlvbiBVbih0KXt2YXIgZT10LmdldFNlbGVjdGlvbigpLG49ZS5mb2N1c09mZnNldCxyPWUuZm9jdXNOb2RlO3JldHVybiByJiYxPT1yLm5vZGVUeXBlP1tyLG4sci5jaGlsZE5vZGVzW24tMV0sci5jaGlsZE5vZGVzW25dXTpudWxsfWZ1bmN0aW9uIEduKHQsZSl7dmFyIG49VW4oZSk7aWYoIW58fDM9PW5bMF0ubm9kZVR5cGUpcmV0dXJuITE7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspaWYobltyXSE9dFtyXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBYbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9e30pLG5ldyBjWyJQbHVnaW4iXSh7dmlldzpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFluKGUsdCl9fSl9Rm4ucHJvcHMuZ2V0PWZ1bmN0aW9uKCl7aWYodGhpcy5fcHJvcHMuc3RhdGUhPXRoaXMuc3RhdGUpe3ZhciB0PXRoaXMuX3Byb3BzO2Zvcih2YXIgZSBpbiB0aGlzLl9wcm9wcz17fSx0KXRoaXMuX3Byb3BzW2VdPXRbZV07dGhpcy5fcHJvcHMuc3RhdGU9dGhpcy5zdGF0ZX1yZXR1cm4gdGhpcy5fcHJvcHN9LEJuLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dC5oYW5kbGVET01FdmVudHMhPXRoaXMuX3Byb3BzLmhhbmRsZURPTUV2ZW50cyYmSGUodGhpcyksdGhpcy5fcHJvcHM9dCx0aGlzLnVwZGF0ZVN0YXRlSW5uZXIodC5zdGF0ZSwhMCl9LEJuLnByb3RvdHlwZS5zZXRQcm9wcz1mdW5jdGlvbih0KXt2YXIgZT17fTtmb3IodmFyIG4gaW4gdGhpcy5fcHJvcHMpZVtuXT10aGlzLl9wcm9wc1tuXTtmb3IodmFyIHIgaW4gZS5zdGF0ZT10aGlzLnN0YXRlLHQpZVtyXT10W3JdO3RoaXMudXBkYXRlKGUpfSxCbi5wcm90b3R5cGUudXBkYXRlU3RhdGU9ZnVuY3Rpb24odCl7dGhpcy51cGRhdGVTdGF0ZUlubmVyKHQsdGhpcy5zdGF0ZS5wbHVnaW5zIT10LnBsdWdpbnMpfSxCbi5wcm90b3R5cGUudXBkYXRlU3RhdGVJbm5lcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj10aGlzLnN0YXRlLG89ITE7aWYodGhpcy5zdGF0ZT10LGUpe3ZhciBpPVduKHRoaXMpO0puKGksdGhpcy5ub2RlVmlld3MpJiYodGhpcy5ub2RlVmlld3M9aSxvPSEwKSxIZSh0aGlzKX10aGlzLmVkaXRhYmxlPXFuKHRoaXMpLEhuKHRoaXMpO3ZhciBzPVZuKHRoaXMpLGE9TG4odGhpcyksbD1lPyJyZXNldCI6dC5zY3JvbGxUb1NlbGVjdGlvbj5yLnNjcm9sbFRvU2VsZWN0aW9uPyJ0byBzZWxlY3Rpb24iOiJwcmVzZXJ2ZSIsdT1vfHwhdGhpcy5kb2NWaWV3Lm1hdGNoZXNOb2RlKHQuZG9jLGEscyksZD11fHwhdC5zZWxlY3Rpb24uZXEoci5zZWxlY3Rpb24pLHA9InByZXNlcnZlIj09bCYmZCYmbnVsbD09dGhpcy5kb20uc3R5bGUub3ZlcmZsb3dBbmNob3ImJlIodGhpcyk7aWYoZCl7dGhpcy5kb21PYnNlcnZlci5zdG9wKCk7dmFyIGg9dSYmKGYuaWV8fGYuY2hyb21lKSYmIXRoaXMuY29tcG9zaW5nJiYhci5zZWxlY3Rpb24uZW1wdHkmJiF0LnNlbGVjdGlvbi5lbXB0eSYmS24oci5zZWxlY3Rpb24sdC5zZWxlY3Rpb24pO2lmKHUpe3ZhciB2PWYuY2hyb21lJiZVbih0aGlzLnJvb3QpOyFvJiZ0aGlzLmRvY1ZpZXcudXBkYXRlKHQuZG9jLGEscyx0aGlzKXx8KHRoaXMuZG9jVmlldy51cGRhdGVPdXRlckRlY28oW10pLHRoaXMuZG9jVmlldy5kZXN0cm95KCksdGhpcy5kb2NWaWV3PXZ0KHQuZG9jLGEscyx0aGlzLmRvbSx0aGlzKSksdiYmR24odix0aGlzLnJvb3QpJiYoaD0hMCl9aHx8ISh0aGlzLm1vdXNlRG93biYmdGhpcy5kb21PYnNlcnZlci5jdXJyZW50U2VsZWN0aW9uLmVxKHRoaXMucm9vdC5nZXRTZWxlY3Rpb24oKSkmJnVlKHRoaXMpKT9adCh0aGlzLGgpOihpZSh0aGlzLHQuc2VsZWN0aW9uKSx0aGlzLmRvbU9ic2VydmVyLnNldEN1clNlbGVjdGlvbigpKSx0aGlzLmRvbU9ic2VydmVyLnN0YXJ0KCl9aWYodGhpcy51cGRhdGVQbHVnaW5WaWV3cyhyKSwicmVzZXQiPT1sKXRoaXMuZG9tLnNjcm9sbFRvcD0wO2Vsc2UgaWYoInRvIHNlbGVjdGlvbiI9PWwpe3ZhciBtPXRoaXMucm9vdC5nZXRTZWxlY3Rpb24oKS5mb2N1c05vZGU7dGhpcy5zb21lUHJvcCgiaGFuZGxlU2Nyb2xsVG9TZWxlY3Rpb24iLChmdW5jdGlvbih0KXtyZXR1cm4gdChuKX0pKXx8KHQuc2VsZWN0aW9uIGluc3RhbmNlb2YgY1siTm9kZVNlbGVjdGlvbiJdP0UodGhpcyx0aGlzLmRvY1ZpZXcuZG9tQWZ0ZXJQb3ModC5zZWxlY3Rpb24uZnJvbSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbSk6RSh0aGlzLHRoaXMuY29vcmRzQXRQb3ModC5zZWxlY3Rpb24uaGVhZCksbSkpfWVsc2UgcCYmUChwKX0sQm4ucHJvdG90eXBlLmRlc3Ryb3lQbHVnaW5WaWV3cz1mdW5jdGlvbigpe3ZhciB0O3doaWxlKHQ9dGhpcy5wbHVnaW5WaWV3cy5wb3AoKSl0LmRlc3Ryb3kmJnQuZGVzdHJveSgpfSxCbi5wcm90b3R5cGUudXBkYXRlUGx1Z2luVmlld3M9ZnVuY3Rpb24odCl7aWYodCYmdC5wbHVnaW5zPT10aGlzLnN0YXRlLnBsdWdpbnMpZm9yKHZhciBlPTA7ZTx0aGlzLnBsdWdpblZpZXdzLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMucGx1Z2luVmlld3NbZV07bi51cGRhdGUmJm4udXBkYXRlKHRoaXMsdCl9ZWxzZXt0aGlzLmRlc3Ryb3lQbHVnaW5WaWV3cygpO2Zvcih2YXIgcj0wO3I8dGhpcy5zdGF0ZS5wbHVnaW5zLmxlbmd0aDtyKyspe3ZhciBvPXRoaXMuc3RhdGUucGx1Z2luc1tyXTtvLnNwZWMudmlldyYmdGhpcy5wbHVnaW5WaWV3cy5wdXNoKG8uc3BlYy52aWV3KHRoaXMpKX19fSxCbi5wcm90b3R5cGUuc29tZVByb3A9ZnVuY3Rpb24odCxlKXt2YXIgbixyPXRoaXMuX3Byb3BzJiZ0aGlzLl9wcm9wc1t0XTtpZihudWxsIT1yJiYobj1lP2Uocik6cikpcmV0dXJuIG47dmFyIG89dGhpcy5zdGF0ZS5wbHVnaW5zO2lmKG8pZm9yKHZhciBpPTA7aTxvLmxlbmd0aDtpKyspe3ZhciBzPW9baV0ucHJvcHNbdF07aWYobnVsbCE9cyYmKG49ZT9lKHMpOnMpKXJldHVybiBufX0sQm4ucHJvdG90eXBlLmhhc0ZvY3VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdC5hY3RpdmVFbGVtZW50PT10aGlzLmRvbX0sQm4ucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKCl7dGhpcy5kb21PYnNlcnZlci5zdG9wKCksdGhpcy5lZGl0YWJsZSYmaih0aGlzLmRvbSksWnQodGhpcyksdGhpcy5kb21PYnNlcnZlci5zdGFydCgpfSxGbi5yb290LmdldD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3Jvb3Q7aWYobnVsbD09dClmb3IodmFyIGU9dGhpcy5kb20ucGFyZW50Tm9kZTtlO2U9ZS5wYXJlbnROb2RlKWlmKDk9PWUubm9kZVR5cGV8fDExPT1lLm5vZGVUeXBlJiZlLmhvc3QpcmV0dXJuIGUuZ2V0U2VsZWN0aW9ufHwoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmdldFNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKX0pLHRoaXMuX3Jvb3Q9ZTtyZXR1cm4gdHx8ZG9jdW1lbnR9LEJuLnByb3RvdHlwZS5wb3NBdENvb3Jkcz1mdW5jdGlvbih0KXtyZXR1cm4gSyh0aGlzLHQpfSxCbi5wcm90b3R5cGUuY29vcmRzQXRQb3M9ZnVuY3Rpb24odCl7cmV0dXJuIEoodGhpcyx0KX0sQm4ucHJvdG90eXBlLmRvbUF0UG9zPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRvY1ZpZXcuZG9tRnJvbVBvcyh0KX0sQm4ucHJvdG90eXBlLm5vZGVET009ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kb2NWaWV3LmRlc2NBdCh0KTtyZXR1cm4gZT9lLm5vZGVET006bnVsbH0sQm4ucHJvdG90eXBlLnBvc0F0RE9NPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0tMSk7dmFyIHI9dGhpcy5kb2NWaWV3LnBvc0Zyb21ET00odCxlLG4pO2lmKG51bGw9PXIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRPTSBwb3NpdGlvbiBub3QgaW5zaWRlIHRoZSBlZGl0b3IiKTtyZXR1cm4gcn0sQm4ucHJvdG90eXBlLmVuZE9mVGV4dGJsb2NrPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHJ0KHRoaXMsZXx8dGhpcy5zdGF0ZSx0KX0sQm4ucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmRvY1ZpZXcmJihMZSh0aGlzKSx0aGlzLmRlc3Ryb3lQbHVnaW5WaWV3cygpLHRoaXMubW91bnRlZD8odGhpcy5kb2NWaWV3LnVwZGF0ZSh0aGlzLnN0YXRlLmRvYyxbXSxWbih0aGlzKSx0aGlzKSx0aGlzLmRvbS50ZXh0Q29udGVudD0iIik6dGhpcy5kb20ucGFyZW50Tm9kZSYmdGhpcy5kb20ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRvbSksdGhpcy5kb2NWaWV3LmRlc3Ryb3koKSx0aGlzLmRvY1ZpZXc9bnVsbCl9LEJuLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKHQpe3JldHVybiBXZSh0aGlzLHQpfSxCbi5wcm90b3R5cGUuZGlzcGF0Y2g9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcHJvcHMuZGlzcGF0Y2hUcmFuc2FjdGlvbjtlP2UuY2FsbCh0aGlzLHQpOnRoaXMudXBkYXRlU3RhdGUodGhpcy5zdGF0ZS5hcHBseSh0KSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEJuLnByb3RvdHlwZSxGbik7dmFyIFluPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0aGlzLmVkaXRvclZpZXc9dCx0aGlzLndpZHRoPWUud2lkdGh8fDEsdGhpcy5jb2xvcj1lLmNvbG9yfHwiYmxhY2siLHRoaXMuY2xhc3M9ZS5jbGFzcyx0aGlzLmN1cnNvclBvcz1udWxsLHRoaXMuZWxlbWVudD1udWxsLHRoaXMudGltZW91dD1udWxsLHRoaXMuaGFuZGxlcnM9WyJkcmFnb3ZlciIsImRyYWdlbmQiLCJkcm9wIiwiZHJhZ2xlYXZlIl0ubWFwKChmdW5jdGlvbihlKXt2YXIgcj1mdW5jdGlvbih0KXtyZXR1cm4gbltlXSh0KX07cmV0dXJuIHQuZG9tLmFkZEV2ZW50TGlzdGVuZXIoZSxyKSx7bmFtZTplLGhhbmRsZXI6cn19KSl9O1luLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmhhbmRsZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUubmFtZSxyPWUuaGFuZGxlcjtyZXR1cm4gdC5lZGl0b3JWaWV3LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKG4scil9KSl9LFluLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXtudWxsIT10aGlzLmN1cnNvclBvcyYmZS5kb2MhPXQuc3RhdGUuZG9jJiZ0aGlzLnVwZGF0ZU92ZXJsYXkoKX0sWW4ucHJvdG90eXBlLnNldEN1cnNvcj1mdW5jdGlvbih0KXt0IT10aGlzLmN1cnNvclBvcyYmKHRoaXMuY3Vyc29yUG9zPXQsbnVsbD09dD8odGhpcy5lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50KSx0aGlzLmVsZW1lbnQ9bnVsbCk6dGhpcy51cGRhdGVPdmVybGF5KCkpfSxZbi5wcm90b3R5cGUudXBkYXRlT3ZlcmxheT1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5lZGl0b3JWaWV3LnN0YXRlLmRvYy5yZXNvbHZlKHRoaXMuY3Vyc29yUG9zKTtpZighZS5wYXJlbnQuaW5saW5lQ29udGVudCl7dmFyIG49ZS5ub2RlQmVmb3JlLHI9ZS5ub2RlQWZ0ZXI7aWYobnx8cil7dmFyIG89dGhpcy5lZGl0b3JWaWV3Lm5vZGVET00odGhpcy5jdXJzb3JQb3MtKG4/bi5ub2RlU2l6ZTowKSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT1uP28uYm90dG9tOm8udG9wO24mJnImJihpPShpK3RoaXMuZWRpdG9yVmlldy5ub2RlRE9NKHRoaXMuY3Vyc29yUG9zKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3ApLzIpLHQ9e2xlZnQ6by5sZWZ0LHJpZ2h0Om8ucmlnaHQsdG9wOmktdGhpcy53aWR0aC8yLGJvdHRvbTppK3RoaXMud2lkdGgvMn19fWlmKCF0KXt2YXIgcz10aGlzLmVkaXRvclZpZXcuY29vcmRzQXRQb3ModGhpcy5jdXJzb3JQb3MpO3Q9e2xlZnQ6cy5sZWZ0LXRoaXMud2lkdGgvMixyaWdodDpzLmxlZnQrdGhpcy53aWR0aC8yLHRvcDpzLnRvcCxib3R0b206cy5ib3R0b219fXZhciBhPXRoaXMuZWRpdG9yVmlldy5kb20ub2Zmc2V0UGFyZW50O3RoaXMuZWxlbWVudHx8KHRoaXMuZWxlbWVudD1hLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKSx0aGlzLmNsYXNzJiYodGhpcy5lbGVtZW50LmNsYXNzTmFtZT10aGlzLmNsYXNzKSx0aGlzLmVsZW1lbnQuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246IGFic29sdXRlOyB6LWluZGV4OiA1MDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IGJhY2tncm91bmQtY29sb3I6ICIrdGhpcy5jb2xvcik7dmFyIGM9IWF8fGE9PWRvY3VtZW50LmJvZHkmJiJzdGF0aWMiPT1nZXRDb21wdXRlZFN0eWxlKGEpLnBvc2l0aW9uP3tsZWZ0Oi1wYWdlWE9mZnNldCx0b3A6LXBhZ2VZT2Zmc2V0fTphLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3RoaXMuZWxlbWVudC5zdHlsZS5sZWZ0PXQubGVmdC1jLmxlZnQrInB4Iix0aGlzLmVsZW1lbnQuc3R5bGUudG9wPXQudG9wLWMudG9wKyJweCIsdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoPXQucmlnaHQtdC5sZWZ0KyJweCIsdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodD10LmJvdHRvbS10LnRvcCsicHgifSxZbi5wcm90b3R5cGUuc2NoZWR1bGVSZW1vdmFsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7Y2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCksdGhpcy50aW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuc2V0Q3Vyc29yKG51bGwpfSksdCl9LFluLnByb3RvdHlwZS5kcmFnb3Zlcj1mdW5jdGlvbih0KXtpZih0aGlzLmVkaXRvclZpZXcuZWRpdGFibGUpe3ZhciBlPXRoaXMuZWRpdG9yVmlldy5wb3NBdENvb3Jkcyh7bGVmdDp0LmNsaWVudFgsdG9wOnQuY2xpZW50WX0pO2lmKGUpe3ZhciBuPWUucG9zO3RoaXMuZWRpdG9yVmlldy5kcmFnZ2luZyYmdGhpcy5lZGl0b3JWaWV3LmRyYWdnaW5nLnNsaWNlJiYobj1PYmplY3QodVsiaCJdKSh0aGlzLmVkaXRvclZpZXcuc3RhdGUuZG9jLG4sdGhpcy5lZGl0b3JWaWV3LmRyYWdnaW5nLnNsaWNlKSxudWxsPT1uJiYobj1lLnBvcykpLHRoaXMuc2V0Q3Vyc29yKG4pLHRoaXMuc2NoZWR1bGVSZW1vdmFsKDVlMyl9fX0sWW4ucHJvdG90eXBlLmRyYWdlbmQ9ZnVuY3Rpb24oKXt0aGlzLnNjaGVkdWxlUmVtb3ZhbCgyMCl9LFluLnByb3RvdHlwZS5kcm9wPWZ1bmN0aW9uKCl7dGhpcy5zY2hlZHVsZVJlbW92YWwoMjApfSxZbi5wcm90b3R5cGUuZHJhZ2xlYXZlPWZ1bmN0aW9uKHQpe3QudGFyZ2V0IT10aGlzLmVkaXRvclZpZXcuZG9tJiZ0aGlzLmVkaXRvclZpZXcuZG9tLmNvbnRhaW5zKHQucmVsYXRlZFRhcmdldCl8fHRoaXMuc2V0Q3Vyc29yKG51bGwpfTt2YXIgWm49bigiN2YwNiIpLFFuPW4oIjU3NmEiKSx0cj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUsZSl9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbihuLHIpe3ZhciBvPW4ucmVzb2x2ZShyLm1hcCh0aGlzLmhlYWQpKTtyZXR1cm4gZS52YWxpZChvKT9uZXcgZShvKTp0Lm5lYXIobyl9LGUucHJvdG90eXBlLmNvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbFsiU2xpY2UiXS5lbXB0eX0sZS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlJiZ0LmhlYWQ9PXRoaXMuaGVhZH0sZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6ImdhcGN1cnNvciIscG9zOnRoaXMuaGVhZH19LGUuZnJvbUpTT049ZnVuY3Rpb24odCxuKXtpZigibnVtYmVyIiE9dHlwZW9mIG4ucG9zKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBHYXBDdXJzb3IuZnJvbUpTT04iKTtyZXR1cm4gbmV3IGUodC5yZXNvbHZlKG4ucG9zKSl9LGUucHJvdG90eXBlLmdldEJvb2ttYXJrPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlcih0aGlzLmFuY2hvcil9LGUudmFsaWQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5wYXJlbnQ7aWYoZS5pc1RleHRibG9ja3x8IW5yKHQpfHwhcnIodCkpcmV0dXJuITE7dmFyIG49ZS50eXBlLnNwZWMuYWxsb3dHYXBDdXJzb3I7aWYobnVsbCE9bilyZXR1cm4gbjt2YXIgcj1lLmNvbnRlbnRNYXRjaEF0KHQuaW5kZXgoKSkuZGVmYXVsdFR5cGU7cmV0dXJuIHImJnIuaXNUZXh0YmxvY2t9LGUuZmluZEZyb209ZnVuY3Rpb24odCxuLHIpe3Q6Zm9yKDs7KXtpZighciYmZS52YWxpZCh0KSlyZXR1cm4gdDtmb3IodmFyIG89dC5wb3MsaT1udWxsLHM9dC5kZXB0aDs7cy0tKXt2YXIgYT10Lm5vZGUocyk7aWYobj4wP3QuaW5kZXhBZnRlcihzKTxhLmNoaWxkQ291bnQ6dC5pbmRleChzKT4wKXtpPWEuY2hpbGQobj4wP3QuaW5kZXhBZnRlcihzKTp0LmluZGV4KHMpLTEpO2JyZWFrfWlmKDA9PXMpcmV0dXJuIG51bGw7bys9bjt2YXIgbD10LmRvYy5yZXNvbHZlKG8pO2lmKGUudmFsaWQobCkpcmV0dXJuIGx9Zm9yKDs7KXt2YXIgdT1uPjA/aS5maXJzdENoaWxkOmkubGFzdENoaWxkO2lmKCF1KXtpZihpLmlzQXRvbSYmIWkuaXNUZXh0JiYhY1siTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZShpKSl7dD10LmRvYy5yZXNvbHZlKG8raS5ub2RlU2l6ZSpuKSxyPSExO2NvbnRpbnVlIHR9YnJlYWt9aT11LG8rPW47dmFyIGY9dC5kb2MucmVzb2x2ZShvKTtpZihlLnZhbGlkKGYpKXJldHVybiBmfXJldHVybiBudWxsfX0sZX0oY1siU2VsZWN0aW9uIl0pO3RyLnByb3RvdHlwZS52aXNpYmxlPSExLGNbIlNlbGVjdGlvbiJdLmpzb25JRCgiZ2FwY3Vyc29yIix0cik7dmFyIGVyPWZ1bmN0aW9uKHQpe3RoaXMucG9zPXR9O2Z1bmN0aW9uIG5yKHQpe2Zvcih2YXIgZT10LmRlcHRoO2U+PTA7ZS0tKXt2YXIgbj10LmluZGV4KGUpO2lmKDAhPW4pZm9yKHZhciByPXQubm9kZShlKS5jaGlsZChuLTEpOztyPXIubGFzdENoaWxkKXtpZigwPT1yLmNoaWxkQ291bnQmJiFyLmlubGluZUNvbnRlbnR8fHIuaXNBdG9tfHxyLnR5cGUuc3BlYy5pc29sYXRpbmcpcmV0dXJuITA7aWYoci5pbmxpbmVDb250ZW50KXJldHVybiExfX1yZXR1cm4hMH1mdW5jdGlvbiBycih0KXtmb3IodmFyIGU9dC5kZXB0aDtlPj0wO2UtLSl7dmFyIG49dC5pbmRleEFmdGVyKGUpLHI9dC5ub2RlKGUpO2lmKG4hPXIuY2hpbGRDb3VudClmb3IodmFyIG89ci5jaGlsZChuKTs7bz1vLmZpcnN0Q2hpbGQpe2lmKDA9PW8uY2hpbGRDb3VudCYmIW8uaW5saW5lQ29udGVudHx8by5pc0F0b218fG8udHlwZS5zcGVjLmlzb2xhdGluZylyZXR1cm4hMDtpZihvLmlubGluZUNvbnRlbnQpcmV0dXJuITF9fXJldHVybiEwfWVyLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlcih0Lm1hcCh0aGlzLnBvcykpfSxlci5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0KXt2YXIgZT10LnJlc29sdmUodGhpcy5wb3MpO3JldHVybiB0ci52YWxpZChlKT9uZXcgdHIoZSk6Y1siU2VsZWN0aW9uIl0ubmVhcihlKX07dmFyIG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBjWyJQbHVnaW4iXSh7cHJvcHM6e2RlY29yYXRpb25zOmNyLGNyZWF0ZVNlbGVjdGlvbkJldHdlZW46ZnVuY3Rpb24odCxlLG4pe2lmKGUucG9zPT1uLnBvcyYmdHIudmFsaWQobikpcmV0dXJuIG5ldyB0cihuKX0saGFuZGxlQ2xpY2s6YXIsaGFuZGxlS2V5RG93bjppcn19KX0saXI9T2JqZWN0KFpuWyJhIl0pKHtBcnJvd0xlZnQ6c3IoImhvcml6IiwtMSksQXJyb3dSaWdodDpzcigiaG9yaXoiLDEpLEFycm93VXA6c3IoInZlcnQiLC0xKSxBcnJvd0Rvd246c3IoInZlcnQiLDEpfSk7ZnVuY3Rpb24gc3IodCxlKXt2YXIgbj0idmVydCI9PXQ/ZT4wPyJkb3duIjoidXAiOmU+MD8icmlnaHQiOiJsZWZ0IjtyZXR1cm4gZnVuY3Rpb24odCxyLG8pe3ZhciBpPXQuc2VsZWN0aW9uLHM9ZT4wP2kuJHRvOmkuJGZyb20sYT1pLmVtcHR5O2lmKGkgaW5zdGFuY2VvZiBjWyJUZXh0U2VsZWN0aW9uIl0pe2lmKCFvLmVuZE9mVGV4dGJsb2NrKG4pfHwwPT1zLmRlcHRoKXJldHVybiExO2E9ITEscz10LmRvYy5yZXNvbHZlKGU+MD9zLmFmdGVyKCk6cy5iZWZvcmUoKSl9dmFyIGw9dHIuZmluZEZyb20ocyxlLGEpO3JldHVybiEhbCYmKHImJnIodC50ci5zZXRTZWxlY3Rpb24obmV3IHRyKGwpKSksITApfX1mdW5jdGlvbiBhcih0LGUsbil7aWYoIXQuZWRpdGFibGUpcmV0dXJuITE7dmFyIHI9dC5zdGF0ZS5kb2MucmVzb2x2ZShlKTtpZighdHIudmFsaWQocikpcmV0dXJuITE7dmFyIG89dC5wb3NBdENvb3Jkcyh7bGVmdDpuLmNsaWVudFgsdG9wOm4uY2xpZW50WX0pLGk9by5pbnNpZGU7cmV0dXJuIShpPi0xJiZjWyJOb2RlU2VsZWN0aW9uIl0uaXNTZWxlY3RhYmxlKHQuc3RhdGUuZG9jLm5vZGVBdChpKSkpJiYodC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldFNlbGVjdGlvbihuZXcgdHIocikpKSwhMCl9ZnVuY3Rpb24gY3IodCl7aWYoISh0LnNlbGVjdGlvbiBpbnN0YW5jZW9mIHRyKSlyZXR1cm4gbnVsbDt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gZS5jbGFzc05hbWU9IlByb3NlTWlycm9yLWdhcGN1cnNvciIsUW5bImIiXS5jcmVhdGUodC5kb2MsW1FuWyJhIl0ud2lkZ2V0KHQuc2VsZWN0aW9uLmhlYWQsZSx7a2V5OiJnYXBjdXJzb3IifSldKX1mdW5jdGlvbiBscih0LGUpe3JldHVybiF0LnNlbGVjdGlvbi5lbXB0eSYmKGUmJmUodC50ci5kZWxldGVTZWxlY3Rpb24oKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9ZnVuY3Rpb24gdXIodCxlLG4pe3ZhciByPXQuc2VsZWN0aW9uLG89ci4kY3Vyc29yO2lmKCFvfHwobj8hbi5lbmRPZlRleHRibG9jaygiYmFja3dhcmQiLHQpOm8ucGFyZW50T2Zmc2V0PjApKXJldHVybiExO3ZhciBpPXByKG8pO2lmKCFpKXt2YXIgcz1vLmJsb2NrUmFuZ2UoKSxhPXMmJk9iamVjdCh1WyJrIl0pKHMpO3JldHVybiBudWxsIT1hJiYoZSYmZSh0LnRyLmxpZnQocyxhKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9dmFyIGw9aS5ub2RlQmVmb3JlO2lmKCFsLnR5cGUuc3BlYy5pc29sYXRpbmcmJk1yKHQsaSxlKSlyZXR1cm4hMDtpZigwPT1vLnBhcmVudC5jb250ZW50LnNpemUmJihmcihsLCJlbmQiKXx8Y1siTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZShsKSkpe2lmKGUpe3ZhciBmPXQudHIuZGVsZXRlUmFuZ2Uoby5iZWZvcmUoKSxvLmFmdGVyKCkpO2Yuc2V0U2VsZWN0aW9uKGZyKGwsImVuZCIpP2NbIlNlbGVjdGlvbiJdLmZpbmRGcm9tKGYuZG9jLnJlc29sdmUoZi5tYXBwaW5nLm1hcChpLnBvcywtMSkpLC0xKTpjWyJOb2RlU2VsZWN0aW9uIl0uY3JlYXRlKGYuZG9jLGkucG9zLWwubm9kZVNpemUpKSxlKGYuc2Nyb2xsSW50b1ZpZXcoKSl9cmV0dXJuITB9cmV0dXJuISghbC5pc0F0b218fGkuZGVwdGghPW8uZGVwdGgtMSkmJihlJiZlKHQudHIuZGVsZXRlKGkucG9zLWwubm9kZVNpemUsaS5wb3MpLnNjcm9sbEludG9WaWV3KCkpLCEwKX1mdW5jdGlvbiBmcih0LGUpe2Zvcig7dDt0PSJzdGFydCI9PWU/dC5maXJzdENoaWxkOnQubGFzdENoaWxkKWlmKHQuaXNUZXh0YmxvY2spcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gZHIodCxlLG4pe3ZhciByPXQuc2VsZWN0aW9uLG89ci4kaGVhZCxpPXIuZW1wdHkscz1vO2lmKCFpKXJldHVybiExO2lmKG8ucGFyZW50LmlzVGV4dGJsb2NrKXtpZihuPyFuLmVuZE9mVGV4dGJsb2NrKCJiYWNrd2FyZCIsdCk6by5wYXJlbnRPZmZzZXQ+MClyZXR1cm4hMTtzPXByKG8pfXZhciBhPXMmJnMubm9kZUJlZm9yZTtyZXR1cm4hKCFhfHwhY1siTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZShhKSkmJihlJiZlKHQudHIuc2V0U2VsZWN0aW9uKGNbIk5vZGVTZWxlY3Rpb24iXS5jcmVhdGUodC5kb2Mscy5wb3MtYS5ub2RlU2l6ZSkpLnNjcm9sbEludG9WaWV3KCkpLCEwKX1mdW5jdGlvbiBwcih0KXtpZighdC5wYXJlbnQudHlwZS5zcGVjLmlzb2xhdGluZylmb3IodmFyIGU9dC5kZXB0aC0xO2U+PTA7ZS0tKXtpZih0LmluZGV4KGUpPjApcmV0dXJuIHQuZG9jLnJlc29sdmUodC5iZWZvcmUoZSsxKSk7aWYodC5ub2RlKGUpLnR5cGUuc3BlYy5pc29sYXRpbmcpYnJlYWt9cmV0dXJuIG51bGx9ZnVuY3Rpb24gaHIodCxlLG4pe3ZhciByPXQuc2VsZWN0aW9uLG89ci4kY3Vyc29yO2lmKCFvfHwobj8hbi5lbmRPZlRleHRibG9jaygiZm9yd2FyZCIsdCk6by5wYXJlbnRPZmZzZXQ8by5wYXJlbnQuY29udGVudC5zaXplKSlyZXR1cm4hMTt2YXIgaT1tcihvKTtpZighaSlyZXR1cm4hMTt2YXIgcz1pLm5vZGVBZnRlcjtpZihNcih0LGksZSkpcmV0dXJuITA7aWYoMD09by5wYXJlbnQuY29udGVudC5zaXplJiYoZnIocywic3RhcnQiKXx8Y1siTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZShzKSkpe2lmKGUpe3ZhciBhPXQudHIuZGVsZXRlUmFuZ2Uoby5iZWZvcmUoKSxvLmFmdGVyKCkpO2Euc2V0U2VsZWN0aW9uKGZyKHMsInN0YXJ0Iik/Y1siU2VsZWN0aW9uIl0uZmluZEZyb20oYS5kb2MucmVzb2x2ZShhLm1hcHBpbmcubWFwKGkucG9zKSksMSk6Y1siTm9kZVNlbGVjdGlvbiJdLmNyZWF0ZShhLmRvYyxhLm1hcHBpbmcubWFwKGkucG9zKSkpLGUoYS5zY3JvbGxJbnRvVmlldygpKX1yZXR1cm4hMH1yZXR1cm4hKCFzLmlzQXRvbXx8aS5kZXB0aCE9by5kZXB0aC0xKSYmKGUmJmUodC50ci5kZWxldGUoaS5wb3MsaS5wb3Mrcy5ub2RlU2l6ZSkuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIHZyKHQsZSxuKXt2YXIgcj10LnNlbGVjdGlvbixvPXIuJGhlYWQsaT1yLmVtcHR5LHM9bztpZighaSlyZXR1cm4hMTtpZihvLnBhcmVudC5pc1RleHRibG9jayl7aWYobj8hbi5lbmRPZlRleHRibG9jaygiZm9yd2FyZCIsdCk6by5wYXJlbnRPZmZzZXQ8by5wYXJlbnQuY29udGVudC5zaXplKXJldHVybiExO3M9bXIobyl9dmFyIGE9cyYmcy5ub2RlQWZ0ZXI7cmV0dXJuISghYXx8IWNbIk5vZGVTZWxlY3Rpb24iXS5pc1NlbGVjdGFibGUoYSkpJiYoZSYmZSh0LnRyLnNldFNlbGVjdGlvbihjWyJOb2RlU2VsZWN0aW9uIl0uY3JlYXRlKHQuZG9jLHMucG9zKSkuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIG1yKHQpe2lmKCF0LnBhcmVudC50eXBlLnNwZWMuaXNvbGF0aW5nKWZvcih2YXIgZT10LmRlcHRoLTE7ZT49MDtlLS0pe3ZhciBuPXQubm9kZShlKTtpZih0LmluZGV4KGUpKzE8bi5jaGlsZENvdW50KXJldHVybiB0LmRvYy5yZXNvbHZlKHQuYWZ0ZXIoZSsxKSk7aWYobi50eXBlLnNwZWMuaXNvbGF0aW5nKWJyZWFrfXJldHVybiBudWxsfWZ1bmN0aW9uIGdyKHQsZSl7dmFyIG49dC5zZWxlY3Rpb24scj1uLiRmcm9tLG89bi4kdG8saT1yLmJsb2NrUmFuZ2Uobykscz1pJiZPYmplY3QodVsiayJdKShpKTtyZXR1cm4gbnVsbCE9cyYmKGUmJmUodC50ci5saWZ0KGkscykuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIHlyKHQsZSl7dmFyIG49dC5zZWxlY3Rpb24scj1uLiRoZWFkLG89bi4kYW5jaG9yO3JldHVybiEoIXIucGFyZW50LnR5cGUuc3BlYy5jb2RlfHwhci5zYW1lUGFyZW50KG8pKSYmKGUmJmUodC50ci5pbnNlcnRUZXh0KCJcbiIpLnNjcm9sbEludG9WaWV3KCkpLCEwKX1mdW5jdGlvbiBicih0KXtmb3IodmFyIGU9MDtlPHQuZWRnZUNvdW50O2UrKyl7dmFyIG49dC5lZGdlKGUpLHI9bi50eXBlO2lmKHIuaXNUZXh0YmxvY2smJiFyLmhhc1JlcXVpcmVkQXR0cnMoKSlyZXR1cm4gcn1yZXR1cm4gbnVsbH1mdW5jdGlvbiB3cih0LGUpe3ZhciBuPXQuc2VsZWN0aW9uLHI9bi4kaGVhZCxvPW4uJGFuY2hvcjtpZighci5wYXJlbnQudHlwZS5zcGVjLmNvZGV8fCFyLnNhbWVQYXJlbnQobykpcmV0dXJuITE7dmFyIGk9ci5ub2RlKC0xKSxzPXIuaW5kZXhBZnRlcigtMSksYT1icihpLmNvbnRlbnRNYXRjaEF0KHMpKTtpZighaS5jYW5SZXBsYWNlV2l0aChzLHMsYSkpcmV0dXJuITE7aWYoZSl7dmFyIGw9ci5hZnRlcigpLHU9dC50ci5yZXBsYWNlV2l0aChsLGwsYS5jcmVhdGVBbmRGaWxsKCkpO3Uuc2V0U2VsZWN0aW9uKGNbIlNlbGVjdGlvbiJdLm5lYXIodS5kb2MucmVzb2x2ZShsKSwxKSksZSh1LnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfWZ1bmN0aW9uIFNyKHQsZSl7dmFyIG49dC5zZWxlY3Rpb24scj1uLiRmcm9tLG89bi4kdG87aWYoci5wYXJlbnQuaW5saW5lQ29udGVudHx8by5wYXJlbnQuaW5saW5lQ29udGVudClyZXR1cm4hMTt2YXIgaT1icihyLnBhcmVudC5jb250ZW50TWF0Y2hBdChvLmluZGV4QWZ0ZXIoKSkpO2lmKCFpfHwhaS5pc1RleHRibG9jaylyZXR1cm4hMTtpZihlKXt2YXIgcz0oIXIucGFyZW50T2Zmc2V0JiZvLmluZGV4KCk8by5wYXJlbnQuY2hpbGRDb3VudD9yOm8pLnBvcyxhPXQudHIuaW5zZXJ0KHMsaS5jcmVhdGVBbmRGaWxsKCkpO2Euc2V0U2VsZWN0aW9uKGNbIlRleHRTZWxlY3Rpb24iXS5jcmVhdGUoYS5kb2MscysxKSksZShhLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfWZ1bmN0aW9uIHhyKHQsZSl7dmFyIG49dC5zZWxlY3Rpb24scj1uLiRjdXJzb3I7aWYoIXJ8fHIucGFyZW50LmNvbnRlbnQuc2l6ZSlyZXR1cm4hMTtpZihyLmRlcHRoPjEmJnIuYWZ0ZXIoKSE9ci5lbmQoLTEpKXt2YXIgbz1yLmJlZm9yZSgpO2lmKE9iamVjdCh1WyJnIl0pKHQuZG9jLG8pKXJldHVybiBlJiZlKHQudHIuc3BsaXQobykuc2Nyb2xsSW50b1ZpZXcoKSksITB9dmFyIGk9ci5ibG9ja1JhbmdlKCkscz1pJiZPYmplY3QodVsiayJdKShpKTtyZXR1cm4gbnVsbCE9cyYmKGUmJmUodC50ci5saWZ0KGkscykuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIGtyKHQsZSl7dmFyIG49dC5zZWxlY3Rpb24scj1uLiRmcm9tLG89bi4kdG87aWYodC5zZWxlY3Rpb24gaW5zdGFuY2VvZiBjWyJOb2RlU2VsZWN0aW9uIl0mJnQuc2VsZWN0aW9uLm5vZGUuaXNCbG9jaylyZXR1cm4hKCFyLnBhcmVudE9mZnNldHx8IU9iamVjdCh1WyJnIl0pKHQuZG9jLHIucG9zKSkmJihlJiZlKHQudHIuc3BsaXQoci5wb3MpLnNjcm9sbEludG9WaWV3KCkpLCEwKTtpZighci5wYXJlbnQuaXNCbG9jaylyZXR1cm4hMTtpZihlKXt2YXIgaT1vLnBhcmVudE9mZnNldD09by5wYXJlbnQuY29udGVudC5zaXplLHM9dC50cjt0LnNlbGVjdGlvbiBpbnN0YW5jZW9mIGNbIlRleHRTZWxlY3Rpb24iXSYmcy5kZWxldGVTZWxlY3Rpb24oKTt2YXIgYT0wPT1yLmRlcHRoP251bGw6YnIoci5ub2RlKC0xKS5jb250ZW50TWF0Y2hBdChyLmluZGV4QWZ0ZXIoLTEpKSksZj1pJiZhP1t7dHlwZTphfV06bnVsbCxkPU9iamVjdCh1WyJnIl0pKHMuZG9jLHMubWFwcGluZy5tYXAoci5wb3MpLDEsZik7Znx8ZHx8IU9iamVjdCh1WyJnIl0pKHMuZG9jLHMubWFwcGluZy5tYXAoci5wb3MpLDEsYSYmW3t0eXBlOmF9XSl8fChmPVt7dHlwZTphfV0sZD0hMCksZCYmKHMuc3BsaXQocy5tYXBwaW5nLm1hcChyLnBvcyksMSxmKSxpfHxyLnBhcmVudE9mZnNldHx8ci5wYXJlbnQudHlwZT09YXx8IXIubm9kZSgtMSkuY2FuUmVwbGFjZShyLmluZGV4KC0xKSxyLmluZGV4QWZ0ZXIoLTEpLGxbIkZyYWdtZW50Il0uZnJvbShhLmNyZWF0ZSgpLHIucGFyZW50KSl8fHMuc2V0Tm9kZU1hcmt1cChzLm1hcHBpbmcubWFwKHIuYmVmb3JlKCkpLGEpKSxlKHMuc2Nyb2xsSW50b1ZpZXcoKSl9cmV0dXJuITB9ZnVuY3Rpb24gT3IodCxlKXtyZXR1cm4gZSYmZSh0LnRyLnNldFNlbGVjdGlvbihuZXcgY1siQWxsU2VsZWN0aW9uIl0odC5kb2MpKSksITB9ZnVuY3Rpb24gQ3IodCxlLG4pe3ZhciByPWUubm9kZUJlZm9yZSxvPWUubm9kZUFmdGVyLGk9ZS5pbmRleCgpO3JldHVybiEhKHImJm8mJnIudHlwZS5jb21wYXRpYmxlQ29udGVudChvLnR5cGUpKSYmKCFyLmNvbnRlbnQuc2l6ZSYmZS5wYXJlbnQuY2FuUmVwbGFjZShpLTEsaSk/KG4mJm4odC50ci5kZWxldGUoZS5wb3Mtci5ub2RlU2l6ZSxlLnBvcykuc2Nyb2xsSW50b1ZpZXcoKSksITApOiEoIWUucGFyZW50LmNhblJlcGxhY2UoaSxpKzEpfHwhby5pc1RleHRibG9jayYmIU9iamVjdCh1WyJmIl0pKHQuZG9jLGUucG9zKSkmJihuJiZuKHQudHIuY2xlYXJJbmNvbXBhdGlibGUoZS5wb3Msci50eXBlLHIuY29udGVudE1hdGNoQXQoci5jaGlsZENvdW50KSkuam9pbihlLnBvcykuc2Nyb2xsSW50b1ZpZXcoKSksITApKX1mdW5jdGlvbiBNcih0LGUsbil7dmFyIHIsbyxpPWUubm9kZUJlZm9yZSxzPWUubm9kZUFmdGVyO2lmKGkudHlwZS5zcGVjLmlzb2xhdGluZ3x8cy50eXBlLnNwZWMuaXNvbGF0aW5nKXJldHVybiExO2lmKENyKHQsZSxuKSlyZXR1cm4hMDtpZihlLnBhcmVudC5jYW5SZXBsYWNlKGUuaW5kZXgoKSxlLmluZGV4KCkrMSkmJihyPShvPWkuY29udGVudE1hdGNoQXQoaS5jaGlsZENvdW50KSkuZmluZFdyYXBwaW5nKHMudHlwZSkpJiZvLm1hdGNoVHlwZShyWzBdfHxzLnR5cGUpLnZhbGlkRW5kKXtpZihuKXtmb3IodmFyIGE9ZS5wb3Mrcy5ub2RlU2l6ZSxmPWxbIkZyYWdtZW50Il0uZW1wdHksZD1yLmxlbmd0aC0xO2Q+PTA7ZC0tKWY9bFsiRnJhZ21lbnQiXS5mcm9tKHJbZF0uY3JlYXRlKG51bGwsZikpO2Y9bFsiRnJhZ21lbnQiXS5mcm9tKGkuY29weShmKSk7dmFyIHA9dC50ci5zdGVwKG5ldyB1WyJiIl0oZS5wb3MtMSxhLGUucG9zLGEsbmV3IGxbIlNsaWNlIl0oZiwxLDApLHIubGVuZ3RoLCEwKSksaD1hKzIqci5sZW5ndGg7T2JqZWN0KHVbImYiXSkocC5kb2MsaCkmJnAuam9pbihoKSxuKHAuc2Nyb2xsSW50b1ZpZXcoKSl9cmV0dXJuITB9dmFyIHY9Y1siU2VsZWN0aW9uIl0uZmluZEZyb20oZSwxKSxtPXYmJnYuJGZyb20uYmxvY2tSYW5nZSh2LiR0byksZz1tJiZPYmplY3QodVsiayJdKShtKTtyZXR1cm4gbnVsbCE9ZyYmZz49ZS5kZXB0aCYmKG4mJm4odC50ci5saWZ0KG0sZykuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIE5yKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7dmFyIG89bi5zZWxlY3Rpb24saT1vLiRmcm9tLHM9by4kdG8sYT1pLmJsb2NrUmFuZ2UocyksYz1hJiZPYmplY3QodVsiaSJdKShhLHQsZSk7cmV0dXJuISFjJiYociYmcihuLnRyLndyYXAoYSxjKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9fWZ1bmN0aW9uIFRyKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7dmFyIG89bi5zZWxlY3Rpb24saT1vLmZyb20scz1vLnRvLGE9ITE7cmV0dXJuIG4uZG9jLm5vZGVzQmV0d2VlbihpLHMsKGZ1bmN0aW9uKHIsbyl7aWYoYSlyZXR1cm4hMTtpZihyLmlzVGV4dGJsb2NrJiYhci5oYXNNYXJrdXAodCxlKSlpZihyLnR5cGU9PXQpYT0hMDtlbHNle3ZhciBpPW4uZG9jLnJlc29sdmUobykscz1pLmluZGV4KCk7YT1pLnBhcmVudC5jYW5SZXBsYWNlV2l0aChzLHMrMSx0KX19KSksISFhJiYociYmcihuLnRyLnNldEJsb2NrVHlwZShpLHMsdCxlKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9fWZ1bmN0aW9uIEFyKHQsZSxuKXtmb3IodmFyIHI9ZnVuY3Rpb24ocil7dmFyIG89ZVtyXSxpPW8uJGZyb20scz1vLiR0byxhPTA9PWkuZGVwdGgmJnQudHlwZS5hbGxvd3NNYXJrVHlwZShuKTtpZih0Lm5vZGVzQmV0d2VlbihpLnBvcyxzLnBvcywoZnVuY3Rpb24odCl7aWYoYSlyZXR1cm4hMTthPXQuaW5saW5lQ29udGVudCYmdC50eXBlLmFsbG93c01hcmtUeXBlKG4pfSkpLGEpcmV0dXJue3Y6ITB9fSxvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciBpPXIobyk7aWYoaSlyZXR1cm4gaS52fXJldHVybiExfWZ1bmN0aW9uIERyKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7dmFyIG89bi5zZWxlY3Rpb24saT1vLmVtcHR5LHM9by4kY3Vyc29yLGE9by5yYW5nZXM7aWYoaSYmIXN8fCFBcihuLmRvYyxhLHQpKXJldHVybiExO2lmKHIpaWYocyl0LmlzSW5TZXQobi5zdG9yZWRNYXJrc3x8cy5tYXJrcygpKT9yKG4udHIucmVtb3ZlU3RvcmVkTWFyayh0KSk6cihuLnRyLmFkZFN0b3JlZE1hcmsodC5jcmVhdGUoZSkpKTtlbHNle2Zvcih2YXIgYz0hMSxsPW4udHIsdT0wOyFjJiZ1PGEubGVuZ3RoO3UrKyl7dmFyIGY9YVt1XSxkPWYuJGZyb20scD1mLiR0bztjPW4uZG9jLnJhbmdlSGFzTWFyayhkLnBvcyxwLnBvcyx0KX1mb3IodmFyIGg9MDtoPGEubGVuZ3RoO2grKyl7dmFyIHY9YVtoXSxtPXYuJGZyb20sZz12LiR0bztjP2wucmVtb3ZlTWFyayhtLnBvcyxnLnBvcyx0KTpsLmFkZE1hcmsobS5wb3MsZy5wb3MsdC5jcmVhdGUoZSkpfXIobC5zY3JvbGxJbnRvVmlldygpKX1yZXR1cm4hMH19ZnVuY3Rpb24gRXIoKXt2YXIgdD1bXSxlPWFyZ3VtZW50cy5sZW5ndGg7d2hpbGUoZS0tKXRbZV09YXJndW1lbnRzW2VdO3JldHVybiBmdW5jdGlvbihlLG4scil7Zm9yKHZhciBvPTA7bzx0Lmxlbmd0aDtvKyspaWYodFtvXShlLG4scikpcmV0dXJuITA7cmV0dXJuITF9fXZhciBScj1Fcihscix1cixkciksX3I9RXIobHIsaHIsdnIpLFByPXtFbnRlcjpFcih5cixTcix4cixrciksIk1vZC1FbnRlciI6d3IsQmFja3NwYWNlOlJyLCJNb2QtQmFja3NwYWNlIjpScixEZWxldGU6X3IsIk1vZC1EZWxldGUiOl9yLCJNb2QtYSI6T3J9LHpyPXsiQ3RybC1oIjpQclsiQmFja3NwYWNlIl0sIkFsdC1CYWNrc3BhY2UiOlByWyJNb2QtQmFja3NwYWNlIl0sIkN0cmwtZCI6UHJbIkRlbGV0ZSJdLCJDdHJsLUFsdC1CYWNrc3BhY2UiOlByWyJNb2QtRGVsZXRlIl0sIkFsdC1EZWxldGUiOlByWyJNb2QtRGVsZXRlIl0sIkFsdC1kIjpQclsiTW9kLURlbGV0ZSJdfTtmb3IodmFyIElyIGluIFByKXpyW0lyXT1QcltJcl07dmFyIGpyPSJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yPy9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKToidW5kZWZpbmVkIiE9dHlwZW9mIG9zJiYiZGFyd2luIj09b3MucGxhdGZvcm0oKSwkcj1qcj96cjpQcixWcj1mdW5jdGlvbih0LGUpe3RoaXMubWF0Y2g9dCx0aGlzLmhhbmRsZXI9InN0cmluZyI9PXR5cGVvZiBlP0JyKGUpOmV9O2Z1bmN0aW9uIEJyKHQpe3JldHVybiBmdW5jdGlvbihlLG4scixvKXt2YXIgaT10O2lmKG5bMV0pe3ZhciBzPW5bMF0ubGFzdEluZGV4T2YoblsxXSk7aSs9blswXS5zbGljZShzK25bMV0ubGVuZ3RoKSxyKz1zO3ZhciBhPXItbzthPjAmJihpPW5bMF0uc2xpY2Uocy1hLHMpK2kscj1vKX1yZXR1cm4gZS50ci5pbnNlcnRUZXh0KGkscixvKX19dmFyIEZyPTUwMDtmdW5jdGlvbiBMcih0KXt2YXIgZT10LnJ1bGVzLG49bmV3IGNbIlBsdWdpbiJdKHtzdGF0ZTp7aW5pdDpmdW5jdGlvbigpe3JldHVybiBudWxsfSxhcHBseTpmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0TWV0YSh0aGlzKTtyZXR1cm4gbnx8KHQuc2VsZWN0aW9uU2V0fHx0LmRvY0NoYW5nZWQ/bnVsbDplKX19LHByb3BzOntoYW5kbGVUZXh0SW5wdXQ6ZnVuY3Rpb24odCxyLG8saSl7cmV0dXJuIEhyKHQscixvLGksZSxuKX0saGFuZGxlRE9NRXZlbnRzOntjb21wb3NpdGlvbmVuZDpmdW5jdGlvbih0KXtzZXRUaW1lb3V0KChmdW5jdGlvbigpe3ZhciByPXQuc3RhdGUuc2VsZWN0aW9uLG89ci4kY3Vyc29yO28mJkhyKHQsby5wb3Msby5wb3MsIiIsZSxuKX0pKX19fSxpc0lucHV0UnVsZXM6ITB9KTtyZXR1cm4gbn1mdW5jdGlvbiBIcih0LGUsbixyLG8saSl7aWYodC5jb21wb3NpbmcpcmV0dXJuITE7dmFyIHM9dC5zdGF0ZSxhPXMuZG9jLnJlc29sdmUoZSk7aWYoYS5wYXJlbnQudHlwZS5zcGVjLmNvZGUpcmV0dXJuITE7Zm9yKHZhciBjPWEucGFyZW50LnRleHRCZXR3ZWVuKE1hdGgubWF4KDAsYS5wYXJlbnRPZmZzZXQtRnIpLGEucGFyZW50T2Zmc2V0LG51bGwsIu+/vCIpK3IsbD0wO2w8by5sZW5ndGg7bCsrKXt2YXIgdT1vW2xdLm1hdGNoLmV4ZWMoYyksZj11JiZvW2xdLmhhbmRsZXIocyx1LGUtKHVbMF0ubGVuZ3RoLXIubGVuZ3RoKSxuKTtpZihmKXJldHVybiB0LmRpc3BhdGNoKGYuc2V0TWV0YShpLHt0cmFuc2Zvcm06Zixmcm9tOmUsdG86bix0ZXh0OnJ9KSksITB9cmV0dXJuITF9ZnVuY3Rpb24gcXIodCxlKXtmb3IodmFyIG49dC5wbHVnaW5zLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXSxpPXZvaWQgMDtpZihvLnNwZWMuaXNJbnB1dFJ1bGVzJiYoaT1vLmdldFN0YXRlKHQpKSl7aWYoZSl7Zm9yKHZhciBzPXQudHIsYT1pLnRyYW5zZm9ybSxjPWEuc3RlcHMubGVuZ3RoLTE7Yz49MDtjLS0pcy5zdGVwKGEuc3RlcHNbY10uaW52ZXJ0KGEuZG9jc1tjXSkpO3ZhciBsPXMuZG9jLnJlc29sdmUoaS5mcm9tKS5tYXJrcygpO2Uocy5yZXBsYWNlV2l0aChpLmZyb20saS50byx0LnNjaGVtYS50ZXh0KGkudGV4dCxsKSkpfXJldHVybiEwfX1yZXR1cm4hMX1uZXcgVnIoLy0tJC8sIuKAlCIpLG5ldyBWcigvXC5cLlwuJC8sIuKApiIpLG5ldyBWcigvKD86XnxbXHNce1xbXChcPCciXHUyMDE4XHUyMDFDXSkoIikkLywi4oCcIiksbmV3IFZyKC8iJC8sIuKAnSIpLG5ldyBWcigvKD86XnxbXHNce1xbXChcPCciXHUyMDE4XHUyMDFDXSkoJykkLywi4oCYIiksbmV3IFZyKC8nJC8sIuKAmSIpO2Z1bmN0aW9uIEtyKHQsZSxuLHIpe3JldHVybiBuZXcgVnIodCwoZnVuY3Rpb24odCxvLGkscyl7dmFyIGE9biBpbnN0YW5jZW9mIEZ1bmN0aW9uP24obyk6bixjPXQudHIuZGVsZXRlKGkscyksbD1jLmRvYy5yZXNvbHZlKGkpLGY9bC5ibG9ja1JhbmdlKCksZD1mJiZPYmplY3QodVsiaSJdKShmLGUsYSk7aWYoIWQpcmV0dXJuIG51bGw7Yy53cmFwKGYsZCk7dmFyIHA9Yy5kb2MucmVzb2x2ZShpLTEpLm5vZGVCZWZvcmU7cmV0dXJuIHAmJnAudHlwZT09ZSYmT2JqZWN0KHVbImYiXSkoYy5kb2MsaS0xKSYmKCFyfHxyKG8scCkpJiZjLmpvaW4oaS0xKSxjfSkpfWZ1bmN0aW9uIFdyKHQsZSxuKXtyZXR1cm4gbmV3IFZyKHQsKGZ1bmN0aW9uKHQscixvLGkpe3ZhciBzPXQuZG9jLnJlc29sdmUobyksYT1uIGluc3RhbmNlb2YgRnVuY3Rpb24/bihyKTpuO3JldHVybiBzLm5vZGUoLTEpLmNhblJlcGxhY2VXaXRoKHMuaW5kZXgoLTEpLHMuaW5kZXhBZnRlcigtMSksZSk/dC50ci5kZWxldGUobyxpKS5zZXRCbG9ja1R5cGUobyxvLGUsYSk6bnVsbH0pKX12YXIgSnI9bigiOTg2ZCIpOwovKiEKICAgICogdGlwdGFwLXV0aWxzIHYxLjEwLjAKICAgICogKGMpIDIwMjAgU2NydW1weSBVRyAobGltaXRlZCBsaWFiaWxpdHkpCiAgICAqIEBsaWNlbnNlIE1JVAogICAgKi9mdW5jdGlvbiBVcih0LGUsbil7cmV0dXJuIGUgaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9ZnVuY3Rpb24gR3IodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIFhyKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP0dyKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7VXIodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOkdyKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fWZ1bmN0aW9uIFlyKHQpe3JldHVybiBacih0KXx8UXIodCl8fHRvKHQpfHxubygpfWZ1bmN0aW9uIFpyKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGVvKHQpfWZ1bmN0aW9uIFFyKHQpe2lmKCJ1bmRlZmluZWQiIT09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KSlyZXR1cm4gQXJyYXkuZnJvbSh0KX1mdW5jdGlvbiB0byh0LGUpe2lmKHQpe2lmKCJzdHJpbmciPT09dHlwZW9mIHQpcmV0dXJuIGVvKHQsZSk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PW58fCJTZXQiPT09bj9BcnJheS5mcm9tKHQpOiJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/ZW8odCxlKTp2b2lkIDB9fWZ1bmN0aW9uIGVvKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkoZSk7bjxlO24rKylyW25dPXRbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gbm8oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX1mdW5jdGlvbiBybyh0LGUpe3ZhciBuPXQuc2VsZWN0aW9uLHI9bi5mcm9tLG89bi50byxpPVtdO3QuZG9jLm5vZGVzQmV0d2VlbihyLG8sKGZ1bmN0aW9uKHQpe2k9W10uY29uY2F0KFlyKGkpLFlyKHQubWFya3MpKX0pKTt2YXIgcz1pLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGUubmFtZT09PWUubmFtZX0pKTtyZXR1cm4gcz9zLmF0dHJzOnt9fWZ1bmN0aW9uIG9vKHQsZSl7dmFyIG49dC5zZWxlY3Rpb24scj1uLmZyb20sbz1uLnRvLGk9W107dC5kb2Mubm9kZXNCZXR3ZWVuKHIsbywoZnVuY3Rpb24odCl7aT1bXS5jb25jYXQoWXIoaSksW3RdKX0pKTt2YXIgcz1pLnJldmVyc2UoKS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlLm5hbWU9PT1lLm5hbWV9KSk7cmV0dXJuIHM/cy5hdHRyczp7fX1mdW5jdGlvbiBpbygpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGw7aWYoIXR8fCFlKXJldHVybiExO3ZhciBuPXQucGFyZW50LmNoaWxkQWZ0ZXIodC5wYXJlbnRPZmZzZXQpO2lmKCFuLm5vZGUpcmV0dXJuITE7dmFyIHI9bi5ub2RlLm1hcmtzLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PT1lfSkpO2lmKCFyKXJldHVybiExO3ZhciBvPXQuaW5kZXgoKSxpPXQuc3RhcnQoKStuLm9mZnNldCxzPW8rMSxhPWkrbi5ub2RlLm5vZGVTaXplO3doaWxlKG8+MCYmci5pc0luU2V0KHQucGFyZW50LmNoaWxkKG8tMSkubWFya3MpKW8tPTEsaS09dC5wYXJlbnQuY2hpbGQobykubm9kZVNpemU7d2hpbGUoczx0LnBhcmVudC5jaGlsZENvdW50JiZyLmlzSW5TZXQodC5wYXJlbnQuY2hpbGQocykubWFya3MpKWErPXQucGFyZW50LmNoaWxkKHMpLm5vZGVTaXplLHMrPTE7cmV0dXJue2Zyb206aSx0bzphfX1mdW5jdGlvbiBzbyh0LGUpe3ZhciBuPXQuc2VsZWN0aW9uLHI9bi5mcm9tLG89bi4kZnJvbSxpPW4udG8scz1uLmVtcHR5O3JldHVybiBzPyEhZS5pc0luU2V0KHQuc3RvcmVkTWFya3N8fG8ubWFya3MoKSk6ISF0LmRvYy5yYW5nZUhhc01hcmsocixpLGUpfWZ1bmN0aW9uIGFvKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LHI9ZnVuY3Rpb24odCl7cmV0dXJuIHQudHlwZT09PWV9LG89T2JqZWN0KEpyWyJmaW5kU2VsZWN0ZWROb2RlT2ZUeXBlIl0pKGUpKHQuc2VsZWN0aW9uKXx8T2JqZWN0KEpyWyJmaW5kUGFyZW50Tm9kZSJdKShyKSh0LnNlbGVjdGlvbik7cmV0dXJuIE9iamVjdC5rZXlzKG4pLmxlbmd0aCYmbz9vLm5vZGUuaGFzTWFya3VwKGUsWHIoWHIoe30sby5ub2RlLmF0dHJzKSxuKSk6ISFvfXZhciBjbz1uKCI4YmJmIiksbG89bi5uKGNvKTtmdW5jdGlvbiB1byh0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciBvPW4uc2VsZWN0aW9uLGk9by4kZnJvbSxzPW8uJHRvLGE9aS5ibG9ja1JhbmdlKHMpLGM9ITEsZj1hO2lmKCFhKXJldHVybiExO2lmKGEuZGVwdGg+PTImJmkubm9kZShhLmRlcHRoLTEpLnR5cGUuY29tcGF0aWJsZUNvbnRlbnQodCkmJjA9PWEuc3RhcnRJbmRleCl7aWYoMD09aS5pbmRleChhLmRlcHRoLTEpKXJldHVybiExO3ZhciBkPW4uZG9jLnJlc29sdmUoYS5zdGFydC0yKTtmPW5ldyBsWyJOb2RlUmFuZ2UiXShkLGQsYS5kZXB0aCksYS5lbmRJbmRleDxhLnBhcmVudC5jaGlsZENvdW50JiYoYT1uZXcgbFsiTm9kZVJhbmdlIl0oaSxuLmRvYy5yZXNvbHZlKHMuZW5kKGEuZGVwdGgpKSxhLmRlcHRoKSksYz0hMH12YXIgcD1PYmplY3QodVsiaSJdKShmLHQsZSxhKTtyZXR1cm4hIXAmJihyJiZyKGZvKG4udHIsYSxwLGMsdCkuc2Nyb2xsSW50b1ZpZXcoKSksITApfX1mdW5jdGlvbiBmbyh0LGUsbixyLG8pe2Zvcih2YXIgaT1sWyJGcmFnbWVudCJdLmVtcHR5LHM9bi5sZW5ndGgtMTtzPj0wO3MtLSlpPWxbIkZyYWdtZW50Il0uZnJvbShuW3NdLnR5cGUuY3JlYXRlKG5bc10uYXR0cnMsaSkpO3Quc3RlcChuZXcgdVsiYiJdKGUuc3RhcnQtKHI/MjowKSxlLmVuZCxlLnN0YXJ0LGUuZW5kLG5ldyBsWyJTbGljZSJdKGksMCwwKSxuLmxlbmd0aCwhMCkpO2Zvcih2YXIgYT0wLGM9MDtjPG4ubGVuZ3RoO2MrKyluW2NdLnR5cGU9PW8mJihhPWMrMSk7Zm9yKHZhciBmPW4ubGVuZ3RoLWEsZD1lLnN0YXJ0K24ubGVuZ3RoLShyPzI6MCkscD1lLnBhcmVudCxoPWUuc3RhcnRJbmRleCx2PWUuZW5kSW5kZXgsbT0hMDtoPHY7aCsrLG09ITEpIW0mJk9iamVjdCh1WyJnIl0pKHQuZG9jLGQsZikmJih0LnNwbGl0KGQsZiksZCs9MipmKSxkKz1wLmNoaWxkKGgpLm5vZGVTaXplO3JldHVybiB0fWZ1bmN0aW9uIHBvKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciByPWUuc2VsZWN0aW9uLG89ci4kZnJvbSxpPXIuJHRvLHM9ci5ub2RlO2lmKHMmJnMuaXNCbG9ja3x8by5kZXB0aDwyfHwhby5zYW1lUGFyZW50KGkpKXJldHVybiExO3ZhciBhPW8ubm9kZSgtMSk7aWYoYS50eXBlIT10KXJldHVybiExO2lmKDA9PW8ucGFyZW50LmNvbnRlbnQuc2l6ZSl7aWYoMj09by5kZXB0aHx8by5ub2RlKC0zKS50eXBlIT10fHxvLmluZGV4KC0yKSE9by5ub2RlKC0yKS5jaGlsZENvdW50LTEpcmV0dXJuITE7aWYobil7Zm9yKHZhciBjPWxbIkZyYWdtZW50Il0uZW1wdHksZj1vLmluZGV4KC0xKT4wLGQ9by5kZXB0aC0oZj8xOjIpO2Q+PW8uZGVwdGgtMztkLS0pYz1sWyJGcmFnbWVudCJdLmZyb20oby5ub2RlKGQpLmNvcHkoYykpO2M9Yy5hcHBlbmQobFsiRnJhZ21lbnQiXS5mcm9tKHQuY3JlYXRlQW5kRmlsbCgpKSk7dmFyIHA9ZS50ci5yZXBsYWNlKG8uYmVmb3JlKGY/bnVsbDotMSksby5hZnRlcigtMyksbmV3IGxbIlNsaWNlIl0oYyxmPzM6MiwyKSk7cC5zZXRTZWxlY3Rpb24oZS5zZWxlY3Rpb24uY29uc3RydWN0b3IubmVhcihwLmRvYy5yZXNvbHZlKG8ucG9zKyhmPzM6MikpKSksbihwLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfXZhciBoPWkucG9zPT1vLmVuZCgpP2EuY29udGVudE1hdGNoQXQoMCkuZGVmYXVsdFR5cGU6bnVsbCx2PWUudHIuZGVsZXRlKG8ucG9zLGkucG9zKSxtPWgmJltudWxsLHt0eXBlOmh9XTtyZXR1cm4hIU9iamVjdCh1WyJnIl0pKHYuZG9jLG8ucG9zLDIsbSkmJihuJiZuKHYuc3BsaXQoby5wb3MsMixtKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9fWZ1bmN0aW9uIGhvKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciByPWUuc2VsZWN0aW9uLG89ci4kZnJvbSxpPXIuJHRvLHM9by5ibG9ja1JhbmdlKGksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoaWxkQ291bnQmJmUuZmlyc3RDaGlsZC50eXBlPT10fSkpO3JldHVybiEhcyYmKCFufHwoby5ub2RlKHMuZGVwdGgtMSkudHlwZT09dD92byhlLG4sdCxzKTptbyhlLG4scykpKX19ZnVuY3Rpb24gdm8odCxlLG4scil7dmFyIG89dC50cixpPXIuZW5kLHM9ci4kdG8uZW5kKHIuZGVwdGgpO3JldHVybiBpPHMmJihvLnN0ZXAobmV3IHVbImIiXShpLTEscyxpLHMsbmV3IGxbIlNsaWNlIl0obFsiRnJhZ21lbnQiXS5mcm9tKG4uY3JlYXRlKG51bGwsci5wYXJlbnQuY29weSgpKSksMSwwKSwxLCEwKSkscj1uZXcgbFsiTm9kZVJhbmdlIl0oby5kb2MucmVzb2x2ZShyLiRmcm9tLnBvcyksby5kb2MucmVzb2x2ZShzKSxyLmRlcHRoKSksZShvLmxpZnQocixPYmplY3QodVsiayJdKShyKSkuc2Nyb2xsSW50b1ZpZXcoKSksITB9ZnVuY3Rpb24gbW8odCxlLG4pe2Zvcih2YXIgcj10LnRyLG89bi5wYXJlbnQsaT1uLmVuZCxzPW4uZW5kSW5kZXgtMSxhPW4uc3RhcnRJbmRleDtzPmE7cy0tKWktPW8uY2hpbGQocykubm9kZVNpemUsci5kZWxldGUoaS0xLGkrMSk7dmFyIGM9ci5kb2MucmVzb2x2ZShuLnN0YXJ0KSxmPWMubm9kZUFmdGVyLGQ9MD09bi5zdGFydEluZGV4LHA9bi5lbmRJbmRleD09by5jaGlsZENvdW50LGg9Yy5ub2RlKC0xKSx2PWMuaW5kZXgoLTEpO2lmKCFoLmNhblJlcGxhY2UodisoZD8wOjEpLHYrMSxmLmNvbnRlbnQuYXBwZW5kKHA/bFsiRnJhZ21lbnQiXS5lbXB0eTpsWyJGcmFnbWVudCJdLmZyb20obykpKSlyZXR1cm4hMTt2YXIgbT1jLnBvcyxnPW0rZi5ub2RlU2l6ZTtyZXR1cm4gci5zdGVwKG5ldyB1WyJiIl0obS0oZD8xOjApLGcrKHA/MTowKSxtKzEsZy0xLG5ldyBsWyJTbGljZSJdKChkP2xbIkZyYWdtZW50Il0uZW1wdHk6bFsiRnJhZ21lbnQiXS5mcm9tKG8uY29weShsWyJGcmFnbWVudCJdLmVtcHR5KSkpLmFwcGVuZChwP2xbIkZyYWdtZW50Il0uZW1wdHk6bFsiRnJhZ21lbnQiXS5mcm9tKG8uY29weShsWyJGcmFnbWVudCJdLmVtcHR5KSkpLGQ/MDoxLHA/MDoxKSxkPzA6MSkpLGUoci5zY3JvbGxJbnRvVmlldygpKSwhMH1mdW5jdGlvbiBnbyh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgcj1lLnNlbGVjdGlvbixvPXIuJGZyb20saT1yLiR0byxzPW8uYmxvY2tSYW5nZShpLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGlsZENvdW50JiZlLmZpcnN0Q2hpbGQudHlwZT09dH0pKTtpZighcylyZXR1cm4hMTt2YXIgYT1zLnN0YXJ0SW5kZXg7aWYoMD09YSlyZXR1cm4hMTt2YXIgYz1zLnBhcmVudCxmPWMuY2hpbGQoYS0xKTtpZihmLnR5cGUhPXQpcmV0dXJuITE7aWYobil7dmFyIGQ9Zi5sYXN0Q2hpbGQmJmYubGFzdENoaWxkLnR5cGU9PWMudHlwZSxwPWxbIkZyYWdtZW50Il0uZnJvbShkP3QuY3JlYXRlKCk6bnVsbCksaD1uZXcgbFsiU2xpY2UiXShsWyJGcmFnbWVudCJdLmZyb20odC5jcmVhdGUobnVsbCxsWyJGcmFnbWVudCJdLmZyb20oYy50eXBlLmNyZWF0ZShudWxsLHApKSkpLGQ/MzoxLDApLHY9cy5zdGFydCxtPXMuZW5kO24oZS50ci5zdGVwKG5ldyB1WyJiIl0odi0oZD8zOjEpLG0sdixtLGgsMSwhMCkpLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfX0KLyohCiAgICAqIHRpcHRhcC1jb21tYW5kcyB2MS4xNC4wCiAgICAqIChjKSAyMDIwIFNjcnVtcHkgVUcgKGxpbWl0ZWQgbGlhYmlsaXR5KQogICAgKiBAbGljZW5zZSBNSVQKICAgICovZnVuY3Rpb24geW8odCl7cmV0dXJuIGJvKHQpfHx3byh0KXx8U28odCl8fGtvKCl9ZnVuY3Rpb24gYm8odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4geG8odCl9ZnVuY3Rpb24gd28odCl7aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpKXJldHVybiBBcnJheS5mcm9tKHQpfWZ1bmN0aW9uIFNvKHQsZSl7aWYodCl7aWYoInN0cmluZyI9PT10eXBlb2YgdClyZXR1cm4geG8odCxlKTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09bnx8IlNldCI9PT1uP0FycmF5LmZyb20odCk6IkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT94byh0LGUpOnZvaWQgMH19ZnVuY3Rpb24geG8odCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiBrbygpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfWZ1bmN0aW9uIE9vKHQsZSxuKXt2YXIgcj1bXTtyZXR1cm4gbi5kb2Mubm9kZXNCZXR3ZWVuKHQsZSwoZnVuY3Rpb24odCxlKXtyPVtdLmNvbmNhdCh5byhyKSx5byh0Lm1hcmtzLm1hcCgoZnVuY3Rpb24obil7cmV0dXJue3N0YXJ0OmUsZW5kOmUrdC5ub2RlU2l6ZSxtYXJrOm59fSkpKSl9KSkscn1mdW5jdGlvbiBDbyh0LGUsbil7cmV0dXJuIG5ldyBWcih0LChmdW5jdGlvbih0LHIsbyxpKXt2YXIgcz1uIGluc3RhbmNlb2YgRnVuY3Rpb24/bihyKTpuLGE9dC50cixjPXIubGVuZ3RoLTEsbD1pLHU9bztpZihyW2NdKXt2YXIgZj1vK3JbMF0uaW5kZXhPZihyW2MtMV0pLGQ9ZityW2MtMV0ubGVuZ3RoLTEscD1mK3JbYy0xXS5sYXN0SW5kZXhPZihyW2NdKSxoPXArcltjXS5sZW5ndGgsdj1PbyhvLGksdCkuZmlsdGVyKChmdW5jdGlvbih0KXt2YXIgbj10Lm1hcmsudHlwZS5leGNsdWRlZDtyZXR1cm4gbi5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZS5uYW1lfSkpfSkpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuZW5kPmZ9KSk7aWYodi5sZW5ndGgpcmV0dXJuITE7aDxkJiZhLmRlbGV0ZShoLGQpLHA+ZiYmYS5kZWxldGUoZixwKSx1PWYsbD11K3JbY10ubGVuZ3RofXJldHVybiBhLmFkZE1hcmsodSxsLGUuY3JlYXRlKHMpKSxhLnJlbW92ZVN0b3JlZE1hcmsoZSksYX0pKX1mdW5jdGlvbiBNbyh0LGUsbil7dmFyIHI9ZnVuY3Rpb24gcihvKXt2YXIgaT1bXTtyZXR1cm4gby5mb3JFYWNoKChmdW5jdGlvbihvKXtpZihvLmlzVGV4dCl7dmFyIHMsYT1vLnRleHQsYz0wO2Rve2lmKHM9dC5leGVjKGEpLHMpe3ZhciBsPXMuaW5kZXgsdT1sK3NbMF0ubGVuZ3RoLGY9biBpbnN0YW5jZW9mIEZ1bmN0aW9uP24oc1swXSk6bjtsPjAmJmkucHVzaChvLmN1dChjLGwpKSxpLnB1c2goby5jdXQobCx1KS5tYXJrKGUuY3JlYXRlKGYpLmFkZFRvU2V0KG8ubWFya3MpKSksYz11fX13aGlsZShzKTtjPGEubGVuZ3RoJiZpLnB1c2goby5jdXQoYykpfWVsc2UgaS5wdXNoKG8uY29weShyKG8uY29udGVudCkpKX0pKSxsWyJGcmFnbWVudCJdLmZyb21BcnJheShpKX07cmV0dXJuIG5ldyBjWyJQbHVnaW4iXSh7cHJvcHM6e3RyYW5zZm9ybVBhc3RlZDpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGxbIlNsaWNlIl0ocih0LmNvbnRlbnQpLHQub3BlblN0YXJ0LHQub3BlbkVuZCl9fX0pfWZ1bmN0aW9uIE5vKHQsZSxuKXt2YXIgcj1mdW5jdGlvbiByKG8saSl7dmFyIHM9W107cmV0dXJuIG8uZm9yRWFjaCgoZnVuY3Rpb24obyl7aWYoby5pc1RleHQpe3ZhciBhLGM9by50ZXh0LGw9by5tYXJrcyx1PTAsZj0hIWwuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4ibGluayI9PT10LnR5cGUubmFtZX0pKVswXTt3aGlsZSghZiYmbnVsbCE9PShhPXQuZXhlYyhjKSkpaWYoaSYmaS50eXBlLmFsbG93c01hcmtUeXBlKGUpJiZhWzFdKXt2YXIgZD1hLmluZGV4LHA9ZCthWzBdLmxlbmd0aCxoPWQrYVswXS5pbmRleE9mKGFbMV0pLHY9aCthWzFdLmxlbmd0aCxtPW4gaW5zdGFuY2VvZiBGdW5jdGlvbj9uKGEpOm47ZD4wJiZzLnB1c2goby5jdXQodSxkKSkscy5wdXNoKG8uY3V0KGgsdikubWFyayhlLmNyZWF0ZShtKS5hZGRUb1NldChvLm1hcmtzKSkpLHU9cH11PGMubGVuZ3RoJiZzLnB1c2goby5jdXQodSkpfWVsc2Ugcy5wdXNoKG8uY29weShyKG8uY29udGVudCxvKSkpfSkpLGxbIkZyYWdtZW50Il0uZnJvbUFycmF5KHMpfTtyZXR1cm4gbmV3IGNbIlBsdWdpbiJdKHtwcm9wczp7dHJhbnNmb3JtUGFzdGVkOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbFsiU2xpY2UiXShyKHQuY29udGVudCksdC5vcGVuU3RhcnQsdC5vcGVuRW5kKX19fSl9ZnVuY3Rpb24gVG8odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIHI9ZS50cixvPWUuc2VsZWN0aW9uLGk9by5mcm9tLHM9by50byxhPW8uJGZyb20sYz1vLmVtcHR5O2lmKGMpe3ZhciBsPWlvKGEsdCk7aT1sLmZyb20scz1sLnRvfXJldHVybiByLnJlbW92ZU1hcmsoaSxzLHQpLG4ocil9fWZ1bmN0aW9uIEFvKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjEscj1hcmd1bWVudHMubGVuZ3RoPjM/YXJndW1lbnRzWzNdOnZvaWQgMCxvPXQucmVzb2x2ZShlKSxpPW8uZGVwdGgtbixzPXImJnJbci5sZW5ndGgtMV18fG8ucGFyZW50O2lmKGk8MHx8by5wYXJlbnQudHlwZS5zcGVjLmlzb2xhdGluZ3x8IW8ucGFyZW50LmNhblJlcGxhY2Uoby5pbmRleCgpLG8ucGFyZW50LmNoaWxkQ291bnQpfHwhcy50eXBlLnZhbGlkQ29udGVudChvLnBhcmVudC5jb250ZW50LmN1dEJ5SW5kZXgoby5pbmRleCgpLG8ucGFyZW50LmNoaWxkQ291bnQpKSlyZXR1cm4hMTtmb3IodmFyIGE9by5kZXB0aC0xLGM9bi0yO2E+aTthLS0sYy0tKXt2YXIgbD1vLm5vZGUoYSksdT1vLmluZGV4KGEpO2lmKGwudHlwZS5zcGVjLmlzb2xhdGluZylyZXR1cm4hMTt2YXIgZj1sLmNvbnRlbnQuY3V0QnlJbmRleCh1LGwuY2hpbGRDb3VudCksZD1yJiZyW2NdfHxsO2lmKGQhPWwmJihmPWYucmVwbGFjZUNoaWxkKDAsZC50eXBlLmNyZWF0ZShkLmF0dHJzKSkpLCFsLmNhblJlcGxhY2UodSsxLGwuY2hpbGRDb3VudCkpcmV0dXJuITF9dmFyIHA9by5pbmRleEFmdGVyKGkpLGg9ciYmclswXTtyZXR1cm4gby5ub2RlKGkpLmNhblJlcGxhY2VXaXRoKHAscCxoP2gudHlwZTpvLm5vZGUoaSsxKS50eXBlKX1mdW5jdGlvbiBEbyh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgcj1lLnNlbGVjdGlvbixvPXIuJGZyb20saT1yLiR0byxzPXIubm9kZTtpZihzJiZzLmlzQmxvY2t8fG8uZGVwdGg8Mnx8IW8uc2FtZVBhcmVudChpKSlyZXR1cm4hMTt2YXIgYT1vLm5vZGUoLTEpO2lmKGEudHlwZSE9dClyZXR1cm4hMTtpZigwPT1vLnBhcmVudC5jb250ZW50LnNpemUpe2lmKDI9PW8uZGVwdGh8fG8ubm9kZSgtMykudHlwZSE9dHx8by5pbmRleCgtMikhPW8ubm9kZSgtMikuY2hpbGRDb3VudC0xKXJldHVybiExO2lmKG4pe2Zvcih2YXIgYz1sWyJGcmFnbWVudCJdLmVtcHR5LHU9by5pbmRleCgtMSk+MCxmPW8uZGVwdGgtKHU/MToyKTtmPj1vLmRlcHRoLTM7Zi0tKWM9bFsiRnJhZ21lbnQiXS5mcm9tKG8ubm9kZShmKS5jb3B5KGMpKTtjPWMuYXBwZW5kKGxbIkZyYWdtZW50Il0uZnJvbSh0LmNyZWF0ZUFuZEZpbGwoKSkpO3ZhciBkPWUudHIucmVwbGFjZShvLmJlZm9yZSh1P251bGw6LTEpLG8uYWZ0ZXIoLTMpLG5ldyBsWyJTbGljZSJdKGMsdT8zOjIsMikpO2Quc2V0U2VsZWN0aW9uKGUuc2VsZWN0aW9uLmNvbnN0cnVjdG9yLm5lYXIoZC5kb2MucmVzb2x2ZShvLnBvcysodT8zOjIpKSkpLG4oZC5zY3JvbGxJbnRvVmlldygpKX1yZXR1cm4hMH12YXIgcD1pLnBvcz09by5lbmQoKT9hLmNvbnRlbnRNYXRjaEF0KG8uaW5kZXhBZnRlcigtMSkpLmRlZmF1bHRUeXBlOm51bGwsaD1lLnRyLmRlbGV0ZShvLnBvcyxpLnBvcyksdj1wJiZbe3R5cGU6dH0se3R5cGU6cH1dO3JldHVybiB2fHwodj1be3R5cGU6dH0sbnVsbF0pLCEhQW8oaC5kb2Msby5wb3MsMix2KSYmKG4mJm4oaC5zcGxpdChvLnBvcywyLHYpLnNjcm9sbEludG9WaWV3KCkpLCEwKX19ZnVuY3Rpb24gRW8odCxlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307cmV0dXJuIGZ1bmN0aW9uKHIsbyxpKXt2YXIgcz1hbyhyLHQsbik7cmV0dXJuIHM/VHIoZSkocixvLGkpOlRyKHQsbikocixvLGkpfX1mdW5jdGlvbiBSbyh0LGUpe3JldHVybiB0LnR5cGU9PT1lLm5vZGVzLmJ1bGxldF9saXN0fHx0LnR5cGU9PT1lLm5vZGVzLm9yZGVyZWRfbGlzdHx8dC50eXBlPT09ZS5ub2Rlcy50b2RvX2xpc3R9ZnVuY3Rpb24gX28odCxlKXtyZXR1cm4gZnVuY3Rpb24obixyLG8pe3ZhciBpPW4uc2NoZW1hLHM9bi5zZWxlY3Rpb24sYT1zLiRmcm9tLGM9cy4kdG8sbD1hLmJsb2NrUmFuZ2UoYyk7aWYoIWwpcmV0dXJuITE7dmFyIHU9T2JqZWN0KEpyWyJmaW5kUGFyZW50Tm9kZSJdKSgoZnVuY3Rpb24odCl7cmV0dXJuIFJvKHQsaSl9KSkocyk7aWYobC5kZXB0aD49MSYmdSYmbC5kZXB0aC11LmRlcHRoPD0xKXtpZih1Lm5vZGUudHlwZT09PXQpcmV0dXJuIGhvKGUpKG4scixvKTtpZihSbyh1Lm5vZGUsaSkmJnQudmFsaWRDb250ZW50KHUubm9kZS5jb250ZW50KSl7dmFyIGY9bi50cjtyZXR1cm4gZi5zZXROb2RlTWFya3VwKHUucG9zLHQpLHImJnIoZiksITF9fXJldHVybiB1byh0KShuLHIsbyl9fWZ1bmN0aW9uIFBvKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gZnVuY3Rpb24obixyLG8pe3ZhciBpPWFvKG4sdCxlKTtyZXR1cm4gaT9ncihuLHIpOk5yKHQsZSkobixyLG8pfX1mdW5jdGlvbiB6byh0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciBvPW4udHIsaT1uLnNlbGVjdGlvbixzPW4uZG9jLGE9aS5mcm9tLGM9aS50byxsPWkuJGZyb20sdT1pLmVtcHR5O2lmKHUpe3ZhciBmPWlvKGwsdCk7YT1mLmZyb20sYz1mLnRvfXZhciBkPXMucmFuZ2VIYXNNYXJrKGEsYyx0KTtyZXR1cm4gZCYmby5yZW1vdmVNYXJrKGEsYyx0KSxvLmFkZE1hcmsoYSxjLHQuY3JlYXRlKGUpKSxyKG8pfX0KLyohCiAgICAqIHRpcHRhcCB2MS4yOS4wCiAgICAqIChjKSAyMDIwIFNjcnVtcHkgVUcgKGxpbWl0ZWQgbGlhYmlsaXR5KQogICAgKiBAbGljZW5zZSBNSVQKICAgICovZnVuY3Rpb24gSW8odCl7cmV0dXJuIElvPSJmdW5jdGlvbiI9PT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiB0fSxJbyh0KX1mdW5jdGlvbiBqbyh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uICRvKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsInZhbHVlImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19ZnVuY3Rpb24gVm8odCxlLG4pe3JldHVybiBlJiYkbyh0LnByb3RvdHlwZSxlKSxuJiYkbyh0LG4pLHR9ZnVuY3Rpb24gQm8odCxlLG4pe3JldHVybiBlIGluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbZV09bix0fWZ1bmN0aW9uIEZvKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBMbyh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9GbyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe0JvKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpGbyhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH1mdW5jdGlvbiBIbyh0LGUpe2lmKCJmdW5jdGlvbiIhPT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmS28odCxlKX1mdW5jdGlvbiBxbyh0KXtyZXR1cm4gcW89T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0scW8odCl9ZnVuY3Rpb24gS28odCxlKXtyZXR1cm4gS289T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LEtvKHQsZSl9ZnVuY3Rpb24gV28oKXtpZigidW5kZWZpbmVkIj09PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fWZ1bmN0aW9uIEpvKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gdH1mdW5jdGlvbiBVbyh0LGUpe3JldHVybiFlfHwib2JqZWN0IiE9PXR5cGVvZiBlJiYiZnVuY3Rpb24iIT09dHlwZW9mIGU/Sm8odCk6ZX1mdW5jdGlvbiBHbyh0KXt2YXIgZT1XbygpO3JldHVybiBmdW5jdGlvbigpe3ZhciBuLHI9cW8odCk7aWYoZSl7dmFyIG89cW8odGhpcykuY29uc3RydWN0b3I7bj1SZWZsZWN0LmNvbnN0cnVjdChyLGFyZ3VtZW50cyxvKX1lbHNlIG49ci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIFVvKHRoaXMsbil9fWZ1bmN0aW9uIFhvKHQsZSl7cmV0dXJuIFFvKHQpfHxlaSh0LGUpfHxuaSh0LGUpfHxpaSgpfWZ1bmN0aW9uIFlvKHQpe3JldHVybiBabyh0KXx8dGkodCl8fG5pKHQpfHxvaSgpfWZ1bmN0aW9uIFpvKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHJpKHQpfWZ1bmN0aW9uIFFvKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHR9ZnVuY3Rpb24gdGkodCl7aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpKXJldHVybiBBcnJheS5mcm9tKHQpfWZ1bmN0aW9uIGVpKHQsZSl7aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpKXt2YXIgbj1bXSxyPSEwLG89ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgcyxhPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0ocz1hLm5leHQoKSkuZG9uZSk7cj0hMClpZihuLnB1c2gocy52YWx1ZSksZSYmbi5sZW5ndGg9PT1lKWJyZWFrfWNhdGNoKGMpe289ITAsaT1jfWZpbmFsbHl7dHJ5e3J8fG51bGw9PWFbInJldHVybiJdfHxhWyJyZXR1cm4iXSgpfWZpbmFsbHl7aWYobyl0aHJvdyBpfX1yZXR1cm4gbn19ZnVuY3Rpb24gbmkodCxlKXtpZih0KXtpZigic3RyaW5nIj09PXR5cGVvZiB0KXJldHVybiByaSh0LGUpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1ufHwiU2V0Ij09PW4/QXJyYXkuZnJvbSh0KToiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP3JpKHQsZSk6dm9pZCAwfX1mdW5jdGlvbiByaSh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIG9pKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9ZnVuY3Rpb24gaWkoKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfWZ1bmN0aW9uIHNpKHQpe3JldHVybiB0LnJlcGxhY2UoLyg/Ol5cd3xbQS1aXXxcYlx3KS9nLChmdW5jdGlvbih0LGUpe3JldHVybiAwPT09ZT90LnRvTG93ZXJDYXNlKCk6dC50b1VwcGVyQ2FzZSgpfSkpLnJlcGxhY2UoL1xzKy9nLCIiKX12YXIgYWk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7dmFyIHI9bi5lZGl0b3Isbz1uLmV4dGVuc2lvbixpPW4ucGFyZW50LHM9bi5ub2RlLGE9bi52aWV3LGM9bi5kZWNvcmF0aW9ucyxsPW4uZ2V0UG9zO2pvKHRoaXMsdCksdGhpcy5jb21wb25lbnQ9ZSx0aGlzLmVkaXRvcj1yLHRoaXMuZXh0ZW5zaW9uPW8sdGhpcy5wYXJlbnQ9aSx0aGlzLm5vZGU9cyx0aGlzLnZpZXc9YSx0aGlzLmRlY29yYXRpb25zPWMsdGhpcy5pc05vZGU9ISF0aGlzLm5vZGUubWFya3MsdGhpcy5pc01hcms9IXRoaXMuaXNOb2RlLHRoaXMuZ2V0UG9zPXRoaXMuaXNNYXJrP3RoaXMuZ2V0TWFya1BvczpsLHRoaXMuY2FwdHVyZUV2ZW50cz0hMCx0aGlzLmRvbT10aGlzLmNyZWF0ZURPTSgpLHRoaXMuY29udGVudERPTT10aGlzLnZtLiRyZWZzLmNvbnRlbnR9cmV0dXJuIFZvKHQsW3trZXk6ImNyZWF0ZURPTSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9bG8uYS5leHRlbmQodGhpcy5jb21wb25lbnQpLG49e2VkaXRvcjp0aGlzLmVkaXRvcixub2RlOnRoaXMubm9kZSx2aWV3OnRoaXMudmlldyxnZXRQb3M6ZnVuY3Rpb24oKXtyZXR1cm4gdC5nZXRQb3MoKX0sZGVjb3JhdGlvbnM6dGhpcy5kZWNvcmF0aW9ucyxzZWxlY3RlZDohMSxvcHRpb25zOnRoaXMuZXh0ZW5zaW9uLm9wdGlvbnMsdXBkYXRlQXR0cnM6ZnVuY3Rpb24oZSl7cmV0dXJuIHQudXBkYXRlQXR0cnMoZSl9fTtyZXR1cm4iZnVuY3Rpb24iPT09dHlwZW9mIHRoaXMuZXh0ZW5zaW9uLnNldFNlbGVjdGlvbiYmKHRoaXMuc2V0U2VsZWN0aW9uPXRoaXMuZXh0ZW5zaW9uLnNldFNlbGVjdGlvbiksImZ1bmN0aW9uIj09PXR5cGVvZiB0aGlzLmV4dGVuc2lvbi51cGRhdGUmJih0aGlzLnVwZGF0ZT10aGlzLmV4dGVuc2lvbi51cGRhdGUpLHRoaXMudm09bmV3IGUoe3BhcmVudDp0aGlzLnBhcmVudCxwcm9wc0RhdGE6bn0pLiRtb3VudCgpLHRoaXMudm0uJGVsfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0LnR5cGU9PT10aGlzLm5vZGUudHlwZSYmKHQ9PT10aGlzLm5vZGUmJnRoaXMuZGVjb3JhdGlvbnM9PT1lfHwodGhpcy5ub2RlPXQsdGhpcy5kZWNvcmF0aW9ucz1lLHRoaXMudXBkYXRlQ29tcG9uZW50UHJvcHMoe25vZGU6dCxkZWNvcmF0aW9uczplfSkpLCEwKX19LHtrZXk6InVwZGF0ZUNvbXBvbmVudFByb3BzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKHRoaXMudm0uX3Byb3BzKXt2YXIgbj1sby5hLmNvbmZpZy5zaWxlbnQ7bG8uYS5jb25maWcuc2lsZW50PSEwLE9iamVjdC5lbnRyaWVzKHQpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBuPVhvKHQsMikscj1uWzBdLG89blsxXTtlLnZtLl9wcm9wc1tyXT1vfSkpLGxvLmEuY29uZmlnLnNpbGVudD1ufX19LHtrZXk6InVwZGF0ZUF0dHJzIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLnZpZXcuZWRpdGFibGUpe3ZhciBlPXRoaXMudmlldy5zdGF0ZSxuPXRoaXMubm9kZS50eXBlLHI9dGhpcy5nZXRQb3MoKSxvPUxvKExvKHt9LHRoaXMubm9kZS5hdHRycyksdCksaT10aGlzLmlzTWFyaz9lLnRyLnJlbW92ZU1hcmsoci5mcm9tLHIudG8sbikuYWRkTWFyayhyLmZyb20sci50byxuLmNyZWF0ZShvKSk6ZS50ci5zZXROb2RlTWFya3VwKHIsbnVsbCxvKTt0aGlzLnZpZXcuZGlzcGF0Y2goaSl9fX0se2tleToiaWdub3JlTXV0YXRpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiJzZWxlY3Rpb24iIT09dC50eXBlJiYoIXRoaXMuY29udGVudERPTXx8IXRoaXMuY29udGVudERPTS5jb250YWlucyh0LnRhcmdldCkpfX0se2tleToic3RvcEV2ZW50Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKCJmdW5jdGlvbiI9PT10eXBlb2YgdGhpcy5leHRlbnNpb24uc3RvcEV2ZW50KXJldHVybiB0aGlzLmV4dGVuc2lvbi5zdG9wRXZlbnQodCk7dmFyIG49ISF0aGlzLmV4dGVuc2lvbi5zY2hlbWEuZHJhZ2dhYmxlO2lmKG4mJiJtb3VzZWRvd24iPT09dC50eXBlKXt2YXIgcj10LnRhcmdldC5jbG9zZXN0JiZ0LnRhcmdldC5jbG9zZXN0KCJbZGF0YS1kcmFnLWhhbmRsZV0iKSxvPXImJih0aGlzLmRvbT09PXJ8fHRoaXMuZG9tLmNvbnRhaW5zKHIpKTtvJiYodGhpcy5jYXB0dXJlRXZlbnRzPSExLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImRyYWdlbmQiLChmdW5jdGlvbigpe2UuY2FwdHVyZUV2ZW50cz0hMH0pLHtvbmNlOiEwfSkpfXZhciBpPSJjb3B5Ij09PXQudHlwZSxzPSJwYXN0ZSI9PT10LnR5cGUsYT0iY3V0Ij09PXQudHlwZSxjPXQudHlwZS5zdGFydHNXaXRoKCJkcmFnIil8fCJkcm9wIj09PXQudHlwZTtyZXR1cm4hKG4mJmN8fGl8fHN8fGEpJiZ0aGlzLmNhcHR1cmVFdmVudHN9fSx7a2V5OiJzZWxlY3ROb2RlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudXBkYXRlQ29tcG9uZW50UHJvcHMoe3NlbGVjdGVkOiEwfSl9fSx7a2V5OiJkZXNlbGVjdE5vZGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy51cGRhdGVDb21wb25lbnRQcm9wcyh7c2VsZWN0ZWQ6ITF9KX19LHtrZXk6ImdldE1hcmtQb3MiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy52aWV3LnBvc0F0RE9NKHRoaXMuZG9tKSxlPXRoaXMudmlldy5zdGF0ZS5kb2MucmVzb2x2ZSh0KSxuPWlvKGUsdGhpcy5ub2RlLnR5cGUpO3JldHVybiBufX0se2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnZtLiRkZXN0cm95KCl9fV0pLHR9KCksY2k9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7am8odGhpcyx0KX1yZXR1cm4gVm8odCxbe2tleToib24iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9LHRoaXMuX2NhbGxiYWNrc1t0XXx8KHRoaXMuX2NhbGxiYWNrc1t0XT1bXSksdGhpcy5fY2FsbGJhY2tzW3RdLnB1c2goZSksdGhpc319LHtrZXk6ImVtaXQiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLG49YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShuPjE/bi0xOjApLG89MTtvPG47bysrKXJbby0xXT1hcmd1bWVudHNbb107dGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e307dmFyIGk9dGhpcy5fY2FsbGJhY2tzW3RdO3JldHVybiBpJiZpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFwcGx5KGUscil9KSksdGhpc319LHtrZXk6Im9mZiIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZihhcmd1bWVudHMubGVuZ3RoKXt2YXIgbj10aGlzLl9jYWxsYmFja3M/dGhpcy5fY2FsbGJhY2tzW3RdOm51bGw7biYmKGU/dGhpcy5fY2FsbGJhY2tzW3RdPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdCE9PWV9KSk6ZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1t0XSl9ZWxzZSB0aGlzLl9jYWxsYmFja3M9e307cmV0dXJuIHRoaXN9fV0pLHR9KCksbGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2pvKHRoaXMsdCksdGhpcy5vcHRpb25zPUxvKExvKHt9LHRoaXMuZGVmYXVsdE9wdGlvbnMpLGUpfXJldHVybiBWbyh0LFt7a2V5OiJpbml0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsfX0se2tleToiYmluZEVkaXRvciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbDt0aGlzLmVkaXRvcj10fX0se2tleToiaW5wdXRSdWxlcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5bXX19LHtrZXk6InBhc3RlUnVsZXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuW119fSx7a2V5OiJrZXlzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybnt9fX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fSx7a2V5OiJ0eXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iZXh0ZW5zaW9uIn19LHtrZXk6ImRlZmF1bHRPcHRpb25zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57fX19LHtrZXk6InBsdWdpbnMiLGdldDpmdW5jdGlvbigpe3JldHVybltdfX1dKSx0fSgpLHVpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXSxuPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO2pvKHRoaXMsdCksZS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmJpbmRFZGl0b3IobiksdC5pbml0KCl9KSksdGhpcy5leHRlbnNpb25zPWV9cmV0dXJuIFZvKHQsW3trZXk6ImtleW1hcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc2NoZW1hLG49dGhpcy5leHRlbnNpb25zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuWyJleHRlbnNpb24iXS5pbmNsdWRlcyh0LnR5cGUpfSkpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5c30pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmtleXMoe3NjaGVtYTplfSl9KSkscj10aGlzLmV4dGVuc2lvbnMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm5bIm5vZGUiLCJtYXJrIl0uaW5jbHVkZXModC50eXBlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmtleXN9KSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5rZXlzKHt0eXBlOmVbIiIuY29uY2F0KHQudHlwZSwicyIpXVt0Lm5hbWVdLHNjaGVtYTplfSl9KSk7cmV0dXJuW10uY29uY2F0KFlvKG4pLFlvKHIpKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoWm5bImIiXSkodCl9KSl9fSx7a2V5OiJpbnB1dFJ1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnNjaGVtYSxuPXQuZXhjbHVkZWRFeHRlbnNpb25zO2lmKCEobiBpbnN0YW5jZW9mIEFycmF5KSYmbilyZXR1cm5bXTt2YXIgcj1uIGluc3RhbmNlb2YgQXJyYXk/dGhpcy5leHRlbnNpb25zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIW4uaW5jbHVkZXModC5uYW1lKX0pKTp0aGlzLmV4dGVuc2lvbnMsbz1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuWyJleHRlbnNpb24iXS5pbmNsdWRlcyh0LnR5cGUpfSkpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuaW5wdXRSdWxlc30pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlucHV0UnVsZXMoe3NjaGVtYTplfSl9KSksaT1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuWyJub2RlIiwibWFyayJdLmluY2x1ZGVzKHQudHlwZSl9KSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pbnB1dFJ1bGVzfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaW5wdXRSdWxlcyh7dHlwZTplWyIiLmNvbmNhdCh0LnR5cGUsInMiKV1bdC5uYW1lXSxzY2hlbWE6ZX0pfSkpO3JldHVybltdLmNvbmNhdChZbyhvKSxZbyhpKSkucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybltdLmNvbmNhdChZbyh0KSxZbyhlKSl9KSxbXSl9fSx7a2V5OiJwYXN0ZVJ1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnNjaGVtYSxuPXQuZXhjbHVkZWRFeHRlbnNpb25zO2lmKCEobiBpbnN0YW5jZW9mIEFycmF5KSYmbilyZXR1cm5bXTt2YXIgcj1uIGluc3RhbmNlb2YgQXJyYXk/dGhpcy5leHRlbnNpb25zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIW4uaW5jbHVkZXModC5uYW1lKX0pKTp0aGlzLmV4dGVuc2lvbnMsbz1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuWyJleHRlbnNpb24iXS5pbmNsdWRlcyh0LnR5cGUpfSkpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQucGFzdGVSdWxlc30pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBhc3RlUnVsZXMoe3NjaGVtYTplfSl9KSksaT1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuWyJub2RlIiwibWFyayJdLmluY2x1ZGVzKHQudHlwZSl9KSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXN0ZVJ1bGVzfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQucGFzdGVSdWxlcyh7dHlwZTplWyIiLmNvbmNhdCh0LnR5cGUsInMiKV1bdC5uYW1lXSxzY2hlbWE6ZX0pfSkpO3JldHVybltdLmNvbmNhdChZbyhvKSxZbyhpKSkucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybltdLmNvbmNhdChZbyh0KSxZbyhlKSl9KSxbXSl9fSx7a2V5OiJjb21tYW5kcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5zY2hlbWEsbj10LnZpZXc7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbW1hbmRzfSkpLnJlZHVjZSgoZnVuY3Rpb24odCxyKXt2YXIgbz1yLm5hbWUsaT1yLnR5cGUscz17fSxhPXIuY29tbWFuZHMoTG8oe3NjaGVtYTplfSxbIm5vZGUiLCJtYXJrIl0uaW5jbHVkZXMoaSk/e3R5cGU6ZVsiIi5jb25jYXQoaSwicyIpXVtvXX06e30pKSxjPWZ1bmN0aW9uKHQsZSl7cmV0dXJuISFuLmVkaXRhYmxlJiYobi5mb2N1cygpLHQoZSkobi5zdGF0ZSxuLmRpc3BhdGNoLG4pKX0sbD1mdW5jdGlvbih0LGUpe0FycmF5LmlzQXJyYXkoZSk/c1t0XT1mdW5jdGlvbih0KXtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gYyhlLHQpfSkpfToiZnVuY3Rpb24iPT09dHlwZW9mIGUmJihzW3RdPWZ1bmN0aW9uKHQpe3JldHVybiBjKGUsdCl9KX07cmV0dXJuIm9iamVjdCI9PT1JbyhhKT9PYmplY3QuZW50cmllcyhhKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1Ybyh0LDIpLG49ZVswXSxyPWVbMV07bChuLHIpfSkpOmwobyxhKSxMbyhMbyh7fSx0KSxzKX0pLHt9KX19LHtrZXk6Im5vZGVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIm5vZGUiPT09dC50eXBlfSkpLnJlZHVjZSgoZnVuY3Rpb24odCxlKXt2YXIgbj1lLm5hbWUscj1lLnNjaGVtYTtyZXR1cm4gTG8oTG8oe30sdCkse30sQm8oe30sbixyKSl9KSx7fSl9fSx7a2V5OiJvcHRpb25zIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZpZXc7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIExvKExvKHt9LGUpLHt9LEJvKHt9LG4ubmFtZSxuZXcgUHJveHkobi5vcHRpb25zLHtzZXQ6ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPWVbbl0hPT1yO3JldHVybiBPYmplY3QuYXNzaWduKGUsQm8oe30sbixyKSksbyYmdC51cGRhdGVTdGF0ZSh0LnN0YXRlKSwhMH19KSkpfSkse30pfX0se2tleToibWFya3MiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmV4dGVuc2lvbnMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4ibWFyayI9PT10LnR5cGV9KSkucmVkdWNlKChmdW5jdGlvbih0LGUpe3ZhciBuPWUubmFtZSxyPWUuc2NoZW1hO3JldHVybiBMbyhMbyh7fSx0KSx7fSxCbyh7fSxuLHIpKX0pLHt9KX19LHtrZXk6InBsdWdpbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmV4dGVuc2lvbnMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5wbHVnaW5zfSkpLnJlZHVjZSgoZnVuY3Rpb24odCxlKXt2YXIgbj1lLnBsdWdpbnM7cmV0dXJuW10uY29uY2F0KFlvKHQpLFlvKG4pKX0pLFtdKX19XSksdH0oKTtmdW5jdGlvbiBmaSh0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2UudHlwZT0idGV4dC9jc3MiLGUudGV4dENvbnRlbnQ9dDt2YXIgbj1kb2N1bWVudCxyPW4uaGVhZCxvPXIuZmlyc3RDaGlsZDtvP3IuaW5zZXJ0QmVmb3JlKGUsbyk6ci5hcHBlbmRDaGlsZChlKX12YXIgZGk9ZnVuY3Rpb24odCl7SG8obix0KTt2YXIgZT1HbyhuKTtmdW5jdGlvbiBuKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiBqbyh0aGlzLG4pLGUuY2FsbCh0aGlzLHQpfXJldHVybiBWbyhuLFt7a2V5OiJjb21tYW5kIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe319fSx7a2V5OiJ0eXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4ibWFyayJ9fSx7a2V5OiJ2aWV3IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fV0pLG59KGxpKTtmdW5jdGlvbiBwaSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MDtyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgocGFyc2VJbnQodCwxMCksZSksbil9dmFyIGhpPWZ1bmN0aW9uKHQpe0hvKG4sdCk7dmFyIGU9R28obik7ZnVuY3Rpb24gbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gam8odGhpcyxuKSxlLmNhbGwodGhpcyx0KX1yZXR1cm4gVm8obixbe2tleToiY29tbWFuZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt9fX0se2tleToidHlwZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIm5vZGUifX0se2tleToidmlldyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiBudWxsfX1dKSxufShsaSksdmk9ZnVuY3Rpb24odCl7SG8obix0KTt2YXIgZT1HbyhuKTtmdW5jdGlvbiBuKCl7cmV0dXJuIGpvKHRoaXMsbiksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIFZvKG4sW3trZXk6Im5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiJkb2MifX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57Y29udGVudDoiYmxvY2srIn19fV0pLG59KGhpKSxtaT1mdW5jdGlvbih0KXtIbyhuLHQpO3ZhciBlPUdvKG4pO2Z1bmN0aW9uIG4oKXtyZXR1cm4gam8odGhpcyxuKSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gVm8obixbe2tleToiY29tbWFuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gVHIoZSl9fX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuInBhcmFncmFwaCJ9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybntjb250ZW50OiJpbmxpbmUqIixncm91cDoiYmxvY2siLGRyYWdnYWJsZTohMSxwYXJzZURPTTpbe3RhZzoicCJ9XSx0b0RPTTpmdW5jdGlvbigpe3JldHVyblsicCIsMF19fX19XSksbn0oaGkpLGdpPWZ1bmN0aW9uKHQpe0hvKG4sdCk7dmFyIGU9R28obik7ZnVuY3Rpb24gbigpe3JldHVybiBqbyh0aGlzLG4pLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBWbyhuLFt7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4idGV4dCJ9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybntncm91cDoiaW5saW5lIn19fV0pLG59KGhpKSx5aT0nLlByb3NlTWlycm9yIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uUHJvc2VNaXJyb3Ige1xuICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XG4gIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbiAgLXdlYmtpdC1mb250LXZhcmlhbnQtbGlnYXR1cmVzOiBub25lO1xuICBmb250LXZhcmlhbnQtbGlnYXR1cmVzOiBub25lO1xufVxuXG4uUHJvc2VNaXJyb3IgcHJlIHtcbiAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xufVxuXG4uUHJvc2VNaXJyb3ItZ2FwY3Vyc29yIHtcbiAgZGlzcGxheTogbm9uZTtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbn1cblxuLlByb3NlTWlycm9yLWdhcGN1cnNvcjphZnRlciB7XG4gIGNvbnRlbnQ6ICIiO1xuICBkaXNwbGF5OiBibG9jaztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IC0ycHg7XG4gIHdpZHRoOiAyMHB4O1xuICBib3JkZXItdG9wOiAxcHggc29saWQgYmxhY2s7XG4gIGFuaW1hdGlvbjogUHJvc2VNaXJyb3ItY3Vyc29yLWJsaW5rIDEuMXMgc3RlcHMoMiwgc3RhcnQpIGluZmluaXRlO1xufVxuXG5Aa2V5ZnJhbWVzIFByb3NlTWlycm9yLWN1cnNvci1ibGluayB7XG4gIHRvIHtcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gIH1cbn1cblxuLlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb24gKjo6c2VsZWN0aW9uIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG5cbi5Qcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uICo6Oi1tb3otc2VsZWN0aW9uIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG5cbi5Qcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uICoge1xuICBjYXJldC1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG5cbi5Qcm9zZU1pcnJvci1mb2N1c2VkIC5Qcm9zZU1pcnJvci1nYXBjdXJzb3Ige1xuICBkaXNwbGF5OiBibG9jaztcbn1cbicsYmk9ZnVuY3Rpb24odCl7SG8obix0KTt2YXIgZT1HbyhuKTtmdW5jdGlvbiBuKCl7dmFyIHQscj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIGpvKHRoaXMsbiksdD1lLmNhbGwodGhpcyksdC5kZWZhdWx0T3B0aW9ucz17ZWRpdG9yUHJvcHM6e30sZWRpdGFibGU6ITAsYXV0b0ZvY3VzOm51bGwsZXh0ZW5zaW9uczpbXSxjb250ZW50OiIiLHRvcE5vZGU6ImRvYyIsZW1wdHlEb2N1bWVudDp7dHlwZToiZG9jIixjb250ZW50Olt7dHlwZToicGFyYWdyYXBoIn1dfSx1c2VCdWlsdEluRXh0ZW5zaW9uczohMCxkaXNhYmxlSW5wdXRSdWxlczohMSxkaXNhYmxlUGFzdGVSdWxlczohMSxkcm9wQ3Vyc29yOnt9LHBhcnNlT3B0aW9uczp7fSxpbmplY3RDU1M6ITAsb25Jbml0OmZ1bmN0aW9uKCl7fSxvblRyYW5zYWN0aW9uOmZ1bmN0aW9uKCl7fSxvblVwZGF0ZTpmdW5jdGlvbigpe30sb25Gb2N1czpmdW5jdGlvbigpe30sb25CbHVyOmZ1bmN0aW9uKCl7fSxvblBhc3RlOmZ1bmN0aW9uKCl7fSxvbkRyb3A6ZnVuY3Rpb24oKXt9fSx0LmV2ZW50cz1bImluaXQiLCJ0cmFuc2FjdGlvbiIsInVwZGF0ZSIsImZvY3VzIiwiYmx1ciIsInBhc3RlIiwiZHJvcCJdLHQuaW5pdChyKSx0fXJldHVybiBWbyhuLFt7a2V5OiJpbml0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307dGhpcy5zZXRPcHRpb25zKExvKExvKHt9LHRoaXMuZGVmYXVsdE9wdGlvbnMpLGUpKSx0aGlzLmZvY3VzZWQ9ITEsdGhpcy5zZWxlY3Rpb249e2Zyb206MCx0bzowfSx0aGlzLmVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5leHRlbnNpb25zPXRoaXMuY3JlYXRlRXh0ZW5zaW9ucygpLHRoaXMubm9kZXM9dGhpcy5jcmVhdGVOb2RlcygpLHRoaXMubWFya3M9dGhpcy5jcmVhdGVNYXJrcygpLHRoaXMuc2NoZW1hPXRoaXMuY3JlYXRlU2NoZW1hKCksdGhpcy5wbHVnaW5zPXRoaXMuY3JlYXRlUGx1Z2lucygpLHRoaXMua2V5bWFwcz10aGlzLmNyZWF0ZUtleW1hcHMoKSx0aGlzLmlucHV0UnVsZXM9dGhpcy5jcmVhdGVJbnB1dFJ1bGVzKCksdGhpcy5wYXN0ZVJ1bGVzPXRoaXMuY3JlYXRlUGFzdGVSdWxlcygpLHRoaXMudmlldz10aGlzLmNyZWF0ZVZpZXcoKSx0aGlzLmNvbW1hbmRzPXRoaXMuY3JlYXRlQ29tbWFuZHMoKSx0aGlzLnNldEFjdGl2ZU5vZGVzQW5kTWFya3MoKSx0aGlzLm9wdGlvbnMuaW5qZWN0Q1NTJiZmaSh5aSksbnVsbCE9PXRoaXMub3B0aW9ucy5hdXRvRm9jdXMmJnRoaXMuZm9jdXModGhpcy5vcHRpb25zLmF1dG9Gb2N1cyksdGhpcy5ldmVudHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5vbihlLHQub3B0aW9uc1tzaSgib24gIi5jb25jYXQoZSkpXXx8ZnVuY3Rpb24oKXt9KX0pKSx0aGlzLmVtaXQoImluaXQiLHt2aWV3OnRoaXMudmlldyxzdGF0ZTp0aGlzLnN0YXRlfSksdGhpcy5leHRlbnNpb25zLnZpZXc9dGhpcy52aWV3fX0se2tleToic2V0T3B0aW9ucyIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zPUxvKExvKHt9LHRoaXMub3B0aW9ucyksdCksdGhpcy52aWV3JiZ0aGlzLnN0YXRlJiZ0aGlzLnZpZXcudXBkYXRlU3RhdGUodGhpcy5zdGF0ZSl9fSx7a2V5OiJjcmVhdGVFeHRlbnNpb25zIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgdWkoW10uY29uY2F0KFlvKHRoaXMuYnVpbHRJbkV4dGVuc2lvbnMpLFlvKHRoaXMub3B0aW9ucy5leHRlbnNpb25zKSksdGhpcyl9fSx7a2V5OiJjcmVhdGVQbHVnaW5zIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmV4dGVuc2lvbnMucGx1Z2luc319LHtrZXk6ImNyZWF0ZUtleW1hcHMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5rZXltYXBzKHtzY2hlbWE6dGhpcy5zY2hlbWF9KX19LHtrZXk6ImNyZWF0ZUlucHV0UnVsZXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5pbnB1dFJ1bGVzKHtzY2hlbWE6dGhpcy5zY2hlbWEsZXhjbHVkZWRFeHRlbnNpb25zOnRoaXMub3B0aW9ucy5kaXNhYmxlSW5wdXRSdWxlc30pfX0se2tleToiY3JlYXRlUGFzdGVSdWxlcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLnBhc3RlUnVsZXMoe3NjaGVtYTp0aGlzLnNjaGVtYSxleGNsdWRlZEV4dGVuc2lvbnM6dGhpcy5vcHRpb25zLmRpc2FibGVQYXN0ZVJ1bGVzfSl9fSx7a2V5OiJjcmVhdGVDb21tYW5kcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLmNvbW1hbmRzKHtzY2hlbWE6dGhpcy5zY2hlbWEsdmlldzp0aGlzLnZpZXd9KX19LHtrZXk6ImNyZWF0ZU5vZGVzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmV4dGVuc2lvbnMubm9kZXN9fSx7a2V5OiJjcmVhdGVNYXJrcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLm1hcmtzfX0se2tleToiY3JlYXRlU2NoZW1hIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgbFsiU2NoZW1hIl0oe3RvcE5vZGU6dGhpcy5vcHRpb25zLnRvcE5vZGUsbm9kZXM6dGhpcy5ub2RlcyxtYXJrczp0aGlzLm1hcmtzfSl9fSx7a2V5OiJjcmVhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBjWyJFZGl0b3JTdGF0ZSJdLmNyZWF0ZSh7c2NoZW1hOnRoaXMuc2NoZW1hLGRvYzp0aGlzLmNyZWF0ZURvY3VtZW50KHRoaXMub3B0aW9ucy5jb250ZW50KSxwbHVnaW5zOltdLmNvbmNhdChZbyh0aGlzLnBsdWdpbnMpLFtMcih7cnVsZXM6dGhpcy5pbnB1dFJ1bGVzfSldLFlvKHRoaXMucGFzdGVSdWxlcyksWW8odGhpcy5rZXltYXBzKSxbT2JqZWN0KFpuWyJiIl0pKHtCYWNrc3BhY2U6cXJ9KSxPYmplY3QoWm5bImIiXSkoJHIpLFhuKHRoaXMub3B0aW9ucy5kcm9wQ3Vyc29yKSxvcigpLG5ldyBjWyJQbHVnaW4iXSh7a2V5Om5ldyBjWyJQbHVnaW5LZXkiXSgiZWRpdGFibGUiKSxwcm9wczp7ZWRpdGFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5vcHRpb25zLmVkaXRhYmxlfX19KSxuZXcgY1siUGx1Z2luIl0oe3Byb3BzOnthdHRyaWJ1dGVzOnt0YWJpbmRleDowfSxoYW5kbGVET01FdmVudHM6e2ZvY3VzOmZ1bmN0aW9uKGUsbil7dC5mb2N1c2VkPSEwLHQuZW1pdCgiZm9jdXMiLHtldmVudDpuLHN0YXRlOmUuc3RhdGUsdmlldzplfSk7dmFyIHI9dC5zdGF0ZS50ci5zZXRNZXRhKCJmb2N1c2VkIiwhMCk7dC52aWV3LmRpc3BhdGNoKHIpfSxibHVyOmZ1bmN0aW9uKGUsbil7dC5mb2N1c2VkPSExLHQuZW1pdCgiYmx1ciIse2V2ZW50Om4sc3RhdGU6ZS5zdGF0ZSx2aWV3OmV9KTt2YXIgcj10LnN0YXRlLnRyLnNldE1ldGEoImZvY3VzZWQiLCExKTt0LnZpZXcuZGlzcGF0Y2gocil9fX19KSxuZXcgY1siUGx1Z2luIl0oe3Byb3BzOnRoaXMub3B0aW9ucy5lZGl0b3JQcm9wc30pXSl9KX19LHtrZXk6ImNyZWF0ZURvY3VtZW50Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcy5vcHRpb25zLnBhcnNlT3B0aW9ucztpZihudWxsPT09dClyZXR1cm4gdGhpcy5zY2hlbWEubm9kZUZyb21KU09OKHRoaXMub3B0aW9ucy5lbXB0eURvY3VtZW50KTtpZigib2JqZWN0Ij09PUlvKHQpKXRyeXtyZXR1cm4gdGhpcy5zY2hlbWEubm9kZUZyb21KU09OKHQpfWNhdGNoKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlt0aXB0YXAgd2Fybl06IEludmFsaWQgY29udGVudC4iLCJQYXNzZWQgdmFsdWU6Iix0LCJFcnJvcjoiLGkpLHRoaXMuc2NoZW1hLm5vZGVGcm9tSlNPTih0aGlzLm9wdGlvbnMuZW1wdHlEb2N1bWVudCl9aWYoInN0cmluZyI9PT10eXBlb2YgdCl7dmFyIG49IjxkaXY+Ii5jb25jYXQodCwiPC9kaXY+Iikscj1uZXcgd2luZG93LkRPTVBhcnNlcixvPXIucGFyc2VGcm9tU3RyaW5nKG4sInRleHQvaHRtbCIpLmJvZHk7cmV0dXJuIGxbIkRPTVBhcnNlciJdLmZyb21TY2hlbWEodGhpcy5zY2hlbWEpLnBhcnNlKG8sZSl9cmV0dXJuITF9fSx7a2V5OiJjcmVhdGVWaWV3Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBCbih0aGlzLmVsZW1lbnQse3N0YXRlOnRoaXMuY3JlYXRlU3RhdGUoKSxoYW5kbGVQYXN0ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKW5bcl09YXJndW1lbnRzW3JdO3QuZW1pdC5hcHBseSh0LFsicGFzdGUiXS5jb25jYXQobikpfSxoYW5kbGVEcm9wOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZSkscj0wO3I8ZTtyKyspbltyXT1hcmd1bWVudHNbcl07dC5lbWl0LmFwcGx5KHQsWyJkcm9wIl0uY29uY2F0KG4pKX0sZGlzcGF0Y2hUcmFuc2FjdGlvbjp0aGlzLmRpc3BhdGNoVHJhbnNhY3Rpb24uYmluZCh0aGlzKX0pfX0se2tleToic2V0UGFyZW50Q29tcG9uZW50Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsO3QmJnRoaXMudmlldy5zZXRQcm9wcyh7bm9kZVZpZXdzOnRoaXMuaW5pdE5vZGVWaWV3cyh7cGFyZW50OnQsZXh0ZW5zaW9uczpbXS5jb25jYXQoWW8odGhpcy5idWlsdEluRXh0ZW5zaW9ucyksWW8odGhpcy5vcHRpb25zLmV4dGVuc2lvbnMpKX0pfSl9fSx7a2V5OiJpbml0Tm9kZVZpZXdzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5wYXJlbnQscj10LmV4dGVuc2lvbnM7cmV0dXJuIHIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm5bIm5vZGUiLCJtYXJrIl0uaW5jbHVkZXModC50eXBlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZpZXd9KSkucmVkdWNlKChmdW5jdGlvbih0LHIpe3ZhciBvPWZ1bmN0aW9uKHQsbyxpLHMpe3ZhciBhPXIudmlldztyZXR1cm4gbmV3IGFpKGEse2VkaXRvcjplLGV4dGVuc2lvbjpyLHBhcmVudDpuLG5vZGU6dCx2aWV3Om8sZ2V0UG9zOmksZGVjb3JhdGlvbnM6c30pfTtyZXR1cm4gTG8oTG8oe30sdCkse30sQm8oe30sci5uYW1lLG8pKX0pLHt9KX19LHtrZXk6ImRpc3BhdGNoVHJhbnNhY3Rpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGUuYXBwbHkodCk7dGhpcy52aWV3LnVwZGF0ZVN0YXRlKGUpLHRoaXMuc2VsZWN0aW9uPXtmcm9tOnRoaXMuc3RhdGUuc2VsZWN0aW9uLmZyb20sdG86dGhpcy5zdGF0ZS5zZWxlY3Rpb24udG99LHRoaXMuc2V0QWN0aXZlTm9kZXNBbmRNYXJrcygpLHRoaXMuZW1pdCgidHJhbnNhY3Rpb24iLHtnZXRIVE1MOnRoaXMuZ2V0SFRNTC5iaW5kKHRoaXMpLGdldEpTT046dGhpcy5nZXRKU09OLmJpbmQodGhpcyksc3RhdGU6dGhpcy5zdGF0ZSx0cmFuc2FjdGlvbjp0fSksdC5kb2NDaGFuZ2VkJiYhdC5nZXRNZXRhKCJwcmV2ZW50VXBkYXRlIikmJnRoaXMuZW1pdFVwZGF0ZSh0KX19LHtrZXk6ImVtaXRVcGRhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZW1pdCgidXBkYXRlIix7Z2V0SFRNTDp0aGlzLmdldEhUTUwuYmluZCh0aGlzKSxnZXRKU09OOnRoaXMuZ2V0SlNPTi5iaW5kKHRoaXMpLHN0YXRlOnRoaXMuc3RhdGUsdHJhbnNhY3Rpb246dH0pfX0se2tleToicmVzb2x2ZVNlbGVjdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbDtpZih0aGlzLnNlbGVjdGlvbiYmbnVsbD09PXQpcmV0dXJuIHRoaXMuc2VsZWN0aW9uO2lmKCJzdGFydCI9PT10fHwhMD09PXQpcmV0dXJue2Zyb206MCx0bzowfTtpZigiZW5kIj09PXQpe3ZhciBlPXRoaXMuc3RhdGUuZG9jO3JldHVybntmcm9tOmUuY29udGVudC5zaXplLHRvOmUuY29udGVudC5zaXplfX1yZXR1cm57ZnJvbTp0LHRvOnR9fX0se2tleToiZm9jdXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsO2lmKCEodGhpcy52aWV3LmZvY3VzZWQmJm51bGw9PT1lfHwhMT09PWUpKXt2YXIgbj10aGlzLnJlc29sdmVTZWxlY3Rpb24oZSkscj1uLmZyb20sbz1uLnRvO3RoaXMuc2V0U2VsZWN0aW9uKHIsbyksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC52aWV3LmZvY3VzKCl9KSwxMCl9fX0se2tleToic2V0U2VsZWN0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsbj10aGlzLnN0YXRlLHI9bi5kb2Msbz1uLnRyLGk9cGkodCwwLHIuY29udGVudC5zaXplKSxzPXBpKGUsMCxyLmNvbnRlbnQuc2l6ZSksYT1jWyJUZXh0U2VsZWN0aW9uIl0uY3JlYXRlKHIsaSxzKSxsPW8uc2V0U2VsZWN0aW9uKGEpO3RoaXMudmlldy5kaXNwYXRjaChsKX19LHtrZXk6ImJsdXIiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy52aWV3LmRvbS5ibHVyKCl9fSx7a2V5OiJnZXRTY2hlbWFKU09OIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHtub2Rlczp0aGlzLmV4dGVuc2lvbnMubm9kZXMsbWFya3M6dGhpcy5leHRlbnNpb25zLm1hcmtzfSkpfX0se2tleToiZ2V0SFRNTCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxlPWxbIkRPTVNlcmlhbGl6ZXIiXS5mcm9tU2NoZW1hKHRoaXMuc2NoZW1hKS5zZXJpYWxpemVGcmFnbWVudCh0aGlzLnN0YXRlLmRvYy5jb250ZW50KTtyZXR1cm4gdC5hcHBlbmRDaGlsZChlKSx0LmlubmVySFRNTH19LHtrZXk6ImdldEpTT04iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUuZG9jLnRvSlNPTigpfX0se2tleToic2V0Q29udGVudCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLG49YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDAscj10aGlzLnN0YXRlLG89ci5kb2MsaT1yLnRyLHM9dGhpcy5jcmVhdGVEb2N1bWVudCh0LG4pLGE9Y1siVGV4dFNlbGVjdGlvbiJdLmNyZWF0ZShvLDAsby5jb250ZW50LnNpemUpLGw9aS5zZXRTZWxlY3Rpb24oYSkucmVwbGFjZVNlbGVjdGlvbldpdGgocywhMSkuc2V0TWV0YSgicHJldmVudFVwZGF0ZSIsIWUpO3RoaXMudmlldy5kaXNwYXRjaChsKX19LHtrZXk6ImNsZWFyQ29udGVudCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3RoaXMuc2V0Q29udGVudCh0aGlzLm9wdGlvbnMuZW1wdHlEb2N1bWVudCx0KX19LHtrZXk6InNldEFjdGl2ZU5vZGVzQW5kTWFya3MiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmFjdGl2ZU1hcmtzPU9iamVjdC5lbnRyaWVzKHRoaXMuc2NoZW1hLm1hcmtzKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7dmFyIHI9WG8obiwyKSxvPXJbMF0saT1yWzFdO3JldHVybiBMbyhMbyh7fSxlKSx7fSxCbyh7fSxvLChmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gc28odC5zdGF0ZSxpLGUpfSkpKX0pLHt9KSx0aGlzLmFjdGl2ZU1hcmtBdHRycz1PYmplY3QuZW50cmllcyh0aGlzLnNjaGVtYS5tYXJrcykucmVkdWNlKChmdW5jdGlvbihlLG4pe3ZhciByPVhvKG4sMiksbz1yWzBdLGk9clsxXTtyZXR1cm4gTG8oTG8oe30sZSkse30sQm8oe30sbyxybyh0LnN0YXRlLGkpKSl9KSx7fSksdGhpcy5hY3RpdmVOb2Rlcz1PYmplY3QuZW50cmllcyh0aGlzLnNjaGVtYS5ub2RlcykucmVkdWNlKChmdW5jdGlvbihlLG4pe3ZhciByPVhvKG4sMiksbz1yWzBdLGk9clsxXTtyZXR1cm4gTG8oTG8oe30sZSkse30sQm8oe30sbywoZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIGFvKHQuc3RhdGUsaSxlKX0pKSl9KSx7fSl9fSx7a2V5OiJnZXRNYXJrQXR0cnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7cmV0dXJuIHRoaXMuYWN0aXZlTWFya0F0dHJzW3RdfX0se2tleToiZ2V0Tm9kZUF0dHJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsO3JldHVybiBMbyh7fSxvbyh0aGlzLnN0YXRlLHRoaXMuc2NoZW1hLm5vZGVzW3RdKSl9fSx7a2V5OiJyZWdpc3RlclBsdWdpbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbCxlPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLG49ImZ1bmN0aW9uIj09PXR5cGVvZiBlP2UodCx0aGlzLnN0YXRlLnBsdWdpbnMpOlt0XS5jb25jYXQoWW8odGhpcy5zdGF0ZS5wbHVnaW5zKSkscj10aGlzLnN0YXRlLnJlY29uZmlndXJlKHtwbHVnaW5zOm59KTt0aGlzLnZpZXcudXBkYXRlU3RhdGUocil9fSx7a2V5OiJ1bnJlZ2lzdGVyUGx1Z2luIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsO2lmKHQmJnRoaXMudmlldy5kb2NWaWV3KXt2YXIgZT10aGlzLnN0YXRlLnJlY29uZmlndXJlKHtwbHVnaW5zOnRoaXMuc3RhdGUucGx1Z2lucy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFlLmtleS5zdGFydHNXaXRoKCIiLmNvbmNhdCh0LCIkIikpfSkpfSk7dGhpcy52aWV3LnVwZGF0ZVN0YXRlKGUpfX19LHtrZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy52aWV3JiZ0aGlzLnZpZXcuZGVzdHJveSgpfX0se2tleToiYnVpbHRJbkV4dGVuc2lvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMudXNlQnVpbHRJbkV4dGVuc2lvbnM/W25ldyB2aSxuZXcgZ2ksbmV3IG1pXTpbXX19LHtrZXk6InN0YXRlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3P3RoaXMudmlldy5zdGF0ZTpudWxsfX0se2tleToiaXNBY3RpdmUiLGdldDpmdW5jdGlvbigpe3JldHVybiBPYmplY3QuZW50cmllcyhMbyhMbyh7fSx0aGlzLmFjdGl2ZU1hcmtzKSx0aGlzLmFjdGl2ZU5vZGVzKSkucmVkdWNlKChmdW5jdGlvbih0LGUpe3ZhciBuPVhvKGUsMikscj1uWzBdLG89blsxXTtyZXR1cm4gTG8oTG8oe30sdCkse30sQm8oe30sciwoZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIG8odCl9KSkpfSkse30pfX1dKSxufShjaSksd2k9e3Byb3BzOntlZGl0b3I6e2RlZmF1bHQ6bnVsbCx0eXBlOk9iamVjdH19LHdhdGNoOntlZGl0b3I6e2ltbWVkaWF0ZTohMCxoYW5kbGVyOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dCYmdC5lbGVtZW50JiZ0aGlzLiRuZXh0VGljaygoZnVuY3Rpb24oKXtlLiRlbC5hcHBlbmRDaGlsZCh0LmVsZW1lbnQuZmlyc3RDaGlsZCksdC5zZXRQYXJlbnRDb21wb25lbnQoZSl9KSl9fX0scmVuZGVyOmZ1bmN0aW9uKHQpe3JldHVybiB0KCJkaXYiKX0sYmVmb3JlRGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWRpdG9yLmVsZW1lbnQ9dGhpcy4kZWx9fSxTaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49dGhpcyxyPWUub3B0aW9ucztqbyh0aGlzLHQpLHRoaXMub3B0aW9ucz1yLHRoaXMucHJldmVudEhpZGU9ITEsdGhpcy5tb3VzZWRvd25IYW5kbGVyPXRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKSx0aGlzLm9wdGlvbnMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLHRoaXMubW91c2Vkb3duSGFuZGxlcix7Y2FwdHVyZTohMH0pLHRoaXMuYmx1ckhhbmRsZXI9ZnVuY3Rpb24oKXtuLnByZXZlbnRIaWRlP24ucHJldmVudEhpZGU9ITE6bi5vcHRpb25zLmVkaXRvci5lbWl0KCJtZW51YmFyOmZvY3VzVXBkYXRlIiwhMSl9LHRoaXMub3B0aW9ucy5lZGl0b3Iub24oImJsdXIiLHRoaXMuYmx1ckhhbmRsZXIpfXJldHVybiBWbyh0LFt7a2V5OiJoYW5kbGVDbGljayIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnRIaWRlPSEwfX0se2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLHRoaXMubW91c2Vkb3duSGFuZGxlciksdGhpcy5vcHRpb25zLmVkaXRvci5vZmYoImJsdXIiLHRoaXMuYmx1ckhhbmRsZXIpfX1dKSx0fSgpO2Z1bmN0aW9uIHhpKHQpe3JldHVybiBuZXcgY1siUGx1Z2luIl0oe2tleTpuZXcgY1siUGx1Z2luS2V5Il0oIm1lbnVfYmFyIiksdmlldzpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFNpKHtlZGl0b3JWaWV3OmUsb3B0aW9uczp0fSl9fSl9dmFyIGtpPXtwcm9wczp7ZWRpdG9yOntkZWZhdWx0Om51bGwsdHlwZTpPYmplY3R9fSxkYXRhOmZ1bmN0aW9uKCl7cmV0dXJue2ZvY3VzZWQ6ITF9fSx3YXRjaDp7ZWRpdG9yOntpbW1lZGlhdGU6ITAsaGFuZGxlcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3QmJnRoaXMuJG5leHRUaWNrKChmdW5jdGlvbigpe3QucmVnaXN0ZXJQbHVnaW4oeGkoe2VkaXRvcjp0LGVsZW1lbnQ6ZS4kZWx9KSksZS5mb2N1c2VkPXQuZm9jdXNlZCx0Lm9uKCJmb2N1cyIsKGZ1bmN0aW9uKCl7ZS5mb2N1c2VkPSEwfSkpLHQub24oIm1lbnViYXI6Zm9jdXNVcGRhdGUiLChmdW5jdGlvbih0KXtlLmZvY3VzZWQ9dH0pKX0pKX19fSxyZW5kZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0b3I/dGhpcy4kc2NvcGVkU2xvdHMuZGVmYXVsdCh7Zm9jdXNlZDp0aGlzLmZvY3VzZWQsZm9jdXM6dGhpcy5lZGl0b3IuZm9jdXMsY29tbWFuZHM6dGhpcy5lZGl0b3IuY29tbWFuZHMsaXNBY3RpdmU6dGhpcy5lZGl0b3IuaXNBY3RpdmUsZ2V0TWFya0F0dHJzOnRoaXMuZWRpdG9yLmdldE1hcmtBdHRycy5iaW5kKHRoaXMuZWRpdG9yKSxnZXROb2RlQXR0cnM6dGhpcy5lZGl0b3IuZ2V0Tm9kZUF0dHJzLmJpbmQodGhpcy5lZGl0b3IpfSk6bnVsbH19O2Z1bmN0aW9uIE9pKHQsZSxuKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO3JldHVybiByLnNldEVuZCh0LG51bGw9PW4/dC5ub2RlVmFsdWUubGVuZ3RoOm4pLHIuc2V0U3RhcnQodCxlfHwwKSxyfWZ1bmN0aW9uIENpKHQsZSl7dmFyIG49dC5nZXRDbGllbnRSZWN0cygpO3JldHVybiBuLmxlbmd0aD9uW2U8MD8wOm4ubGVuZ3RoLTFdOnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9ZnVuY3Rpb24gTWkodCxlKXt2YXIgbixyLG89YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxpPXQuZG9jVmlldy5kb21Gcm9tUG9zKGUpLHM9aS5ub2RlLGE9aS5vZmZzZXQ7aWYoMz09PXMubm9kZVR5cGUpbyYmYTxzLm5vZGVWYWx1ZS5sZW5ndGg/KHI9Q2koT2kocyxhLTEsYSksLTEpLG49InJpZ2h0Iik6YTxzLm5vZGVWYWx1ZS5sZW5ndGgmJihyPUNpKE9pKHMsYSxhKzEpLC0xKSxuPSJsZWZ0Iik7ZWxzZSBpZihzLmZpcnN0Q2hpbGQpe2lmKGE8cy5jaGlsZE5vZGVzLmxlbmd0aCl7dmFyIGM9cy5jaGlsZE5vZGVzW2FdO3I9Q2koMz09PWMubm9kZVR5cGU/T2koYyk6YywtMSksbj0ibGVmdCJ9aWYoKCFyfHxyLnRvcD09PXIuYm90dG9tKSYmYSl7dmFyIGw9cy5jaGlsZE5vZGVzW2EtMV07cj1DaSgzPT09bC5ub2RlVHlwZT9PaShsKTpsLDEpLG49InJpZ2h0In19ZWxzZSByPXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj0ibGVmdCI7dmFyIHU9cltuXTtyZXR1cm57dG9wOnIudG9wLGJvdHRvbTpyLmJvdHRvbSxsZWZ0OnUscmlnaHQ6dX19dmFyIE5pPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj10aGlzLHI9ZS5vcHRpb25zLG89ZS5lZGl0b3JWaWV3O2pvKHRoaXMsdCksdGhpcy5vcHRpb25zPUxvKExvKHt9LHtlbGVtZW50Om51bGwsa2VlcEluQm91bmRzOiEwLG9uVXBkYXRlOmZ1bmN0aW9uKCl7cmV0dXJuITF9fSksciksdGhpcy5lZGl0b3JWaWV3PW8sdGhpcy5pc0FjdGl2ZT0hMSx0aGlzLmxlZnQ9MCx0aGlzLmJvdHRvbT0wLHRoaXMudG9wPTAsdGhpcy5wcmV2ZW50SGlkZT0hMSx0aGlzLm1vdXNlZG93bkhhbmRsZXI9dGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpLHRoaXMub3B0aW9ucy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsdGhpcy5tb3VzZWRvd25IYW5kbGVyLHtjYXB0dXJlOiEwfSksdGhpcy5mb2N1c0hhbmRsZXI9ZnVuY3Rpb24odCl7dmFyIGU9dC52aWV3O24udXBkYXRlKGUpfSx0aGlzLm9wdGlvbnMuZWRpdG9yLm9uKCJmb2N1cyIsdGhpcy5mb2N1c0hhbmRsZXIpLHRoaXMuYmx1ckhhbmRsZXI9ZnVuY3Rpb24odCl7dmFyIGU9dC5ldmVudDtuLnByZXZlbnRIaWRlP24ucHJldmVudEhpZGU9ITE6bi5oaWRlKGUpfSx0aGlzLm9wdGlvbnMuZWRpdG9yLm9uKCJibHVyIix0aGlzLmJsdXJIYW5kbGVyKX1yZXR1cm4gVm8odCxbe2tleToiaGFuZGxlQ2xpY2siLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50SGlkZT0hMH19LHtrZXk6InVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10LnN0YXRlO2lmKCF0LmNvbXBvc2luZyYmIShlJiZlLmRvYy5lcShuLmRvYykmJmUuc2VsZWN0aW9uLmVxKG4uc2VsZWN0aW9uKSkpaWYobi5zZWxlY3Rpb24uZW1wdHkpdGhpcy5oaWRlKCk7ZWxzZXt2YXIgcj1uLnNlbGVjdGlvbixvPXIuZnJvbSxpPXIudG8scz1NaSh0LG8pLGE9TWkodCxpLCEwKSxjPXRoaXMub3B0aW9ucy5lbGVtZW50Lm9mZnNldFBhcmVudDtpZihjKXt2YXIgbD1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHU9dGhpcy5vcHRpb25zLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksZj0ocy5sZWZ0K2EubGVmdCkvMi1sLmxlZnQ7dGhpcy5sZWZ0PU1hdGgucm91bmQodGhpcy5vcHRpb25zLmtlZXBJbkJvdW5kcz9NYXRoLm1pbihsLndpZHRoLXUud2lkdGgvMixNYXRoLm1heChmLHUud2lkdGgvMikpOmYpLHRoaXMuYm90dG9tPU1hdGgucm91bmQobC5ib3R0b20tcy50b3ApLHRoaXMudG9wPU1hdGgucm91bmQoYS5ib3R0b20tbC50b3ApLHRoaXMuaXNBY3RpdmU9ITAsdGhpcy5zZW5kVXBkYXRlKCl9ZWxzZSB0aGlzLmhpZGUoKX19fSx7a2V5OiJzZW5kVXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5vblVwZGF0ZSh7aXNBY3RpdmU6dGhpcy5pc0FjdGl2ZSxsZWZ0OnRoaXMubGVmdCxib3R0b206dGhpcy5ib3R0b20sdG9wOnRoaXMudG9wfSl9fSx7a2V5OiJoaWRlIix2YWx1ZTpmdW5jdGlvbih0KXt0JiZ0LnJlbGF0ZWRUYXJnZXQmJnRoaXMub3B0aW9ucy5lbGVtZW50LnBhcmVudE5vZGUmJnRoaXMub3B0aW9ucy5lbGVtZW50LnBhcmVudE5vZGUuY29udGFpbnModC5yZWxhdGVkVGFyZ2V0KXx8KHRoaXMuaXNBY3RpdmU9ITEsdGhpcy5zZW5kVXBkYXRlKCkpfX0se2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLHRoaXMubW91c2Vkb3duSGFuZGxlciksdGhpcy5vcHRpb25zLmVkaXRvci5vZmYoImZvY3VzIix0aGlzLmZvY3VzSGFuZGxlciksdGhpcy5vcHRpb25zLmVkaXRvci5vZmYoImJsdXIiLHRoaXMuYmx1ckhhbmRsZXIpfX1dKSx0fSgpO2Z1bmN0aW9uIFRpKHQpe3JldHVybiBuZXcgY1siUGx1Z2luIl0oe2tleTpuZXcgY1siUGx1Z2luS2V5Il0oIm1lbnVfYnViYmxlIiksdmlldzpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IE5pKHtlZGl0b3JWaWV3OmUsb3B0aW9uczp0fSl9fSl9Qm9vbGVhbjt2YXIgQWk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC4kY3JlYXRlRWxlbWVudCxuPXQuX3NlbGYuX2N8fGU7cmV0dXJuIG4oImRpdiIse3N0YXRpY0NsYXNzOiJpY29uIixjbGFzczpbImljb24tLSIrdC5uYW1lLCJpY29uLS0iK3Quc2l6ZV19LFtuKHQuaWNvbix7dGFnOiJjb21wb25lbnQifSldLDEpfSxEaT1bXTtuKCJiMGMwIiksbigiNGZhZCIpO2Z1bmN0aW9uIEVpKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHR9bigiYTRkMyIpLG4oImUwMWEiKSxuKCJkMjhiIiksbigiZTI2MCIpLG4oImQzYjciKSxuKCIzY2EzIiksbigiZGRiMCIpO2Z1bmN0aW9uIFJpKHQsZSl7aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpKXt2YXIgbj1bXSxyPSEwLG89ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgcyxhPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0ocz1hLm5leHQoKSkuZG9uZSk7cj0hMClpZihuLnB1c2gocy52YWx1ZSksZSYmbi5sZW5ndGg9PT1lKWJyZWFrfWNhdGNoKGMpe289ITAsaT1jfWZpbmFsbHl7dHJ5e3J8fG51bGw9PWFbInJldHVybiJdfHxhWyJyZXR1cm4iXSgpfWZpbmFsbHl7aWYobyl0aHJvdyBpfX1yZXR1cm4gbn19bigiYTYzMCIpLG4oImZiNmEiKSxuKCIyNWYwIik7ZnVuY3Rpb24gX2kodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiBQaSh0LGUpe2lmKHQpe2lmKCJzdHJpbmciPT09dHlwZW9mIHQpcmV0dXJuIF9pKHQsZSk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PW58fCJTZXQiPT09bj9BcnJheS5mcm9tKHQpOiJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/X2kodCxlKTp2b2lkIDB9fWZ1bmN0aW9uIHppKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX1mdW5jdGlvbiBJaSh0LGUpe3JldHVybiBFaSh0KXx8UmkodCxlKXx8UGkodCxlKXx8emkoKX1mb3IodmFyIGppPW4oIjcwYzciKSwkaT1uLm4oamkpLFZpPW4oImVkNTMiKSxCaT1uLm4oVmkpLEZpPW4oIjVmZWQiKSxMaT1uLm4oRmkpLEhpPW4oImY5MzkiKSxxaT1uLm4oSGkpLEtpPW4oIjNlYjMiKSxXaT1uLm4oS2kpLEppPW4oIjM5MjIiKSxVaT1uLm4oSmkpLEdpPW4oIjQzY2EiKSxYaT1uLm4oR2kpLFlpPW4oImE3MGQiKSxaaT1uLm4oWWkpLFFpPW4oImFjNGUiKSx0cz1uLm4oUWkpLGVzPW4oImFkNmUiKSxucz1uLm4oZXMpLHJzPW4oIjViYjEiKSxpcz1uLm4ocnMpLHNzPW4oImM2ZWUiKSxhcz1uLm4oc3MpLGNzPW4oImM5NDMiKSxscz1uLm4oY3MpLHVzPW4oIjRmMzUiKSxmcz1uLm4odXMpLGRzPW4oIjlmNjEiKSxwcz1uLm4oZHMpLGhzPW4oImQ3YjYiKSx2cz1uLm4oaHMpLG1zPW4oIjVkNzUiKSxncz1uLm4obXMpLHlzPW4oIjRmNjYiKSxicz1uLm4oeXMpLHdzPW4oIjQ5OGMiKSxTcz1uLm4od3MpLHhzPW4oImFlYzIiKSxrcz1uLm4oeHMpLE9zPW4oIjJkMWIiKSxDcz1uLm4oT3MpLE1zPW4oImU0OGMiKSxOcz1uLm4oTXMpLFRzPW4oImE3MDciKSxBcz1uLm4oVHMpLERzPW4oIjU1MDQiKSxFcz1uLm4oRHMpLFJzPW4oIjZkNTQiKSxfcz1uLm4oUnMpLFBzPW4oIjAxMDkiKSx6cz1uLm4oUHMpLElzPW4oImZhMGIiKSxqcz1uLm4oSXMpLCRzPW4oIjkyY2YiKSxWcz1uLm4oJHMpLEJzPXthZGRfY29sX2FmdGVyOiRpLmEsYWRkX2NvbF9iZWZvcmU6QmkuYSxhZGRfcm93X2FmdGVyOkxpLmEsYWRkX3Jvd19iZWZvcmU6cWkuYSxib2xkOldpLmEsY2hlY2tsaXN0OlVpLmEsY29kZTpYaS5hLGNvZGVfYmxvY2s6WmkuYSxjb21iaW5lX2NlbGxzOnRzLmEsZGVsZXRlX2NvbDpucy5hLGRlbGV0ZV9yb3c6aXMuYSxkZWxldGVfdGFibGU6YXMuYSxnaXRodWI6bHMuYSxocjpmcy5hLGltYWdlOnBzLmEsaXRhbGljOnZzLmEsbGluazpncy5hLG1lbnRpb246YnMuYSxvbDpTcy5hLHBhcmFncmFwaDprcy5hLHF1b3RlOkNzLmEscmVkbzpOcy5hLHJlbW92ZTpBcy5hLHN0cmlrZTpFcy5hLHRhYmxlOl9zLmEsdWw6enMuYSx1bmRlcmxpbmU6anMuYSx1bmRvOlZzLmF9LEZzPXt9LExzPTAsSHM9T2JqZWN0LmVudHJpZXMoQnMpO0xzPEhzLmxlbmd0aDtMcysrKXt2YXIgcXM9SWkoSHNbTHNdLDIpLEtzPXFzWzBdLFdzPXFzWzFdO0ZzWyJpY29uXyIrS3NdPVdzfXZhciBKcz17Y29tcG9uZW50czpGcyxwcm9wczp7bmFtZTp7fSxzaXplOntkZWZhdWx0OiJub3JtYWwifSxtb2RpZmllcjp7ZGVmYXVsdDpudWxsfSxmaXhBbGlnbjp7ZGVmYXVsdDohMH19LGNvbXB1dGVkOntpY29uOmZ1bmN0aW9uKCl7cmV0dXJuImljb25fIit0aGlzLm5hbWV9fX0sVXM9SnM7bigiMWFmYSIpO2Z1bmN0aW9uIEdzKHQsZSxuLHIsbyxpLHMsYSl7dmFyIGMsbD0iZnVuY3Rpb24iPT09dHlwZW9mIHQ/dC5vcHRpb25zOnQ7aWYoZSYmKGwucmVuZGVyPWUsbC5zdGF0aWNSZW5kZXJGbnM9bixsLl9jb21waWxlZD0hMCksciYmKGwuZnVuY3Rpb25hbD0hMCksaSYmKGwuX3Njb3BlSWQ9ImRhdGEtdi0iK2kpLHM/KGM9ZnVuY3Rpb24odCl7dD10fHx0aGlzLiR2bm9kZSYmdGhpcy4kdm5vZGUuc3NyQ29udGV4dHx8dGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LiR2bm9kZSYmdGhpcy5wYXJlbnQuJHZub2RlLnNzckNvbnRleHQsdHx8InVuZGVmaW5lZCI9PT10eXBlb2YgX19WVUVfU1NSX0NPTlRFWFRfX3x8KHQ9X19WVUVfU1NSX0NPTlRFWFRfXyksbyYmby5jYWxsKHRoaXMsdCksdCYmdC5fcmVnaXN0ZXJlZENvbXBvbmVudHMmJnQuX3JlZ2lzdGVyZWRDb21wb25lbnRzLmFkZChzKX0sbC5fc3NyUmVnaXN0ZXI9Yyk6byYmKGM9YT9mdW5jdGlvbigpe28uY2FsbCh0aGlzLChsLmZ1bmN0aW9uYWw/dGhpcy5wYXJlbnQ6dGhpcykuJHJvb3QuJG9wdGlvbnMuc2hhZG93Um9vdCl9Om8pLGMpaWYobC5mdW5jdGlvbmFsKXtsLl9pbmplY3RTdHlsZXM9Yzt2YXIgdT1sLnJlbmRlcjtsLnJlbmRlcj1mdW5jdGlvbih0LGUpe3JldHVybiBjLmNhbGwoZSksdSh0LGUpfX1lbHNle3ZhciBmPWwuYmVmb3JlQ3JlYXRlO2wuYmVmb3JlQ3JlYXRlPWY/W10uY29uY2F0KGYsYyk6W2NdfXJldHVybntleHBvcnRzOnQsb3B0aW9uczpsfX12YXIgWHM9R3MoVXMsQWksRGksITEsbnVsbCwiZTU5Zjc4MzIiLG51bGwpLFlzPVhzLmV4cG9ydHMsWnM9KG4oIjNjZTQiKSxuKCI1NWJlIikpO25ldyBjWyJQbHVnaW5LZXkiXSgiY29sbGFiIik7dmFyIFFzPTIwMCx0YT1mdW5jdGlvbigpe307dGEucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbih0KXtyZXR1cm4gdC5sZW5ndGg/KHQ9dGEuZnJvbSh0KSwhdGhpcy5sZW5ndGgmJnR8fHQubGVuZ3RoPFFzJiZ0aGlzLmxlYWZBcHBlbmQodCl8fHRoaXMubGVuZ3RoPFFzJiZ0LmxlYWZQcmVwZW5kKHRoaXMpfHx0aGlzLmFwcGVuZElubmVyKHQpKTp0aGlzfSx0YS5wcm90b3R5cGUucHJlcGVuZD1mdW5jdGlvbih0KXtyZXR1cm4gdC5sZW5ndGg/dGEuZnJvbSh0KS5hcHBlbmQodGhpcyk6dGhpc30sdGEucHJvdG90eXBlLmFwcGVuZElubmVyPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbmEodGhpcyx0KX0sdGEucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPXRoaXMubGVuZ3RoKSx0Pj1lP3RhLmVtcHR5OnRoaXMuc2xpY2VJbm5lcihNYXRoLm1heCgwLHQpLE1hdGgubWluKHRoaXMubGVuZ3RoLGUpKX0sdGEucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtpZighKHQ8MHx8dD49dGhpcy5sZW5ndGgpKXJldHVybiB0aGlzLmdldElubmVyKHQpfSx0YS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09biYmKG49dGhpcy5sZW5ndGgpLGU8PW4/dGhpcy5mb3JFYWNoSW5uZXIodCxlLG4sMCk6dGhpcy5mb3JFYWNoSW52ZXJ0ZWRJbm5lcih0LGUsbiwwKX0sdGEucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09biYmKG49dGhpcy5sZW5ndGgpO3ZhciByPVtdO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHIucHVzaCh0KGUsbikpfSksZSxuKSxyfSx0YS5mcm9tPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgdGE/dDp0JiZ0Lmxlbmd0aD9uZXcgZWEodCk6dGEuZW1wdHl9O3ZhciBlYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzKSx0aGlzLnZhbHVlcz1lfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXtsZW5ndGg6e2NvbmZpZ3VyYWJsZTohMH0sZGVwdGg6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBlLnByb3RvdHlwZS5mbGF0dGVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzfSxlLnByb3RvdHlwZS5zbGljZUlubmVyPWZ1bmN0aW9uKHQsbil7cmV0dXJuIDA9PXQmJm49PXRoaXMubGVuZ3RoP3RoaXM6bmV3IGUodGhpcy52YWx1ZXMuc2xpY2UodCxuKSl9LGUucHJvdG90eXBlLmdldElubmVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnZhbHVlc1t0XX0sZS5wcm90b3R5cGUuZm9yRWFjaElubmVyPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgbz1lO288bjtvKyspaWYoITE9PT10KHRoaXMudmFsdWVzW29dLHIrbykpcmV0dXJuITF9LGUucHJvdG90eXBlLmZvckVhY2hJbnZlcnRlZElubmVyPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgbz1lLTE7bz49bjtvLS0paWYoITE9PT10KHRoaXMudmFsdWVzW29dLHIrbykpcmV0dXJuITF9LGUucHJvdG90eXBlLmxlYWZBcHBlbmQ9ZnVuY3Rpb24odCl7aWYodGhpcy5sZW5ndGgrdC5sZW5ndGg8PVFzKXJldHVybiBuZXcgZSh0aGlzLnZhbHVlcy5jb25jYXQodC5mbGF0dGVuKCkpKX0sZS5wcm90b3R5cGUubGVhZlByZXBlbmQ9ZnVuY3Rpb24odCl7aWYodGhpcy5sZW5ndGgrdC5sZW5ndGg8PVFzKXJldHVybiBuZXcgZSh0LmZsYXR0ZW4oKS5jb25jYXQodGhpcy52YWx1ZXMpKX0sbi5sZW5ndGguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzLmxlbmd0aH0sbi5kZXB0aC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsbiksZX0odGEpO3RhLmVtcHR5PW5ldyBlYShbXSk7dmFyIG5hPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyksdGhpcy5sZWZ0PWUsdGhpcy5yaWdodD1uLHRoaXMubGVuZ3RoPWUubGVuZ3RoK24ubGVuZ3RoLHRoaXMuZGVwdGg9TWF0aC5tYXgoZS5kZXB0aCxuLmRlcHRoKSsxfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5mbGF0dGVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVmdC5mbGF0dGVuKCkuY29uY2F0KHRoaXMucmlnaHQuZmxhdHRlbigpKX0sZS5wcm90b3R5cGUuZ2V0SW5uZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHQ8dGhpcy5sZWZ0Lmxlbmd0aD90aGlzLmxlZnQuZ2V0KHQpOnRoaXMucmlnaHQuZ2V0KHQtdGhpcy5sZWZ0Lmxlbmd0aCl9LGUucHJvdG90eXBlLmZvckVhY2hJbm5lcj1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10aGlzLmxlZnQubGVuZ3RoO3JldHVybiEoZTxvJiYhMT09PXRoaXMubGVmdC5mb3JFYWNoSW5uZXIodCxlLE1hdGgubWluKG4sbykscikpJiYoIShuPm8mJiExPT09dGhpcy5yaWdodC5mb3JFYWNoSW5uZXIodCxNYXRoLm1heChlLW8sMCksTWF0aC5taW4odGhpcy5sZW5ndGgsbiktbyxyK28pKSYmdm9pZCAwKX0sZS5wcm90b3R5cGUuZm9yRWFjaEludmVydGVkSW5uZXI9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89dGhpcy5sZWZ0Lmxlbmd0aDtyZXR1cm4hKGU+byYmITE9PT10aGlzLnJpZ2h0LmZvckVhY2hJbnZlcnRlZElubmVyKHQsZS1vLE1hdGgubWF4KG4sbyktbyxyK28pKSYmKCEobjxvJiYhMT09PXRoaXMubGVmdC5mb3JFYWNoSW52ZXJ0ZWRJbm5lcih0LE1hdGgubWluKGUsbyksbixyKSkmJnZvaWQgMCl9LGUucHJvdG90eXBlLnNsaWNlSW5uZXI9ZnVuY3Rpb24odCxlKXtpZigwPT10JiZlPT10aGlzLmxlbmd0aClyZXR1cm4gdGhpczt2YXIgbj10aGlzLmxlZnQubGVuZ3RoO3JldHVybiBlPD1uP3RoaXMubGVmdC5zbGljZSh0LGUpOnQ+PW4/dGhpcy5yaWdodC5zbGljZSh0LW4sZS1uKTp0aGlzLmxlZnQuc2xpY2UodCxuKS5hcHBlbmQodGhpcy5yaWdodC5zbGljZSgwLGUtbikpfSxlLnByb3RvdHlwZS5sZWFmQXBwZW5kPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMucmlnaHQubGVhZkFwcGVuZCh0KTtpZihuKXJldHVybiBuZXcgZSh0aGlzLmxlZnQsbil9LGUucHJvdG90eXBlLmxlYWZQcmVwZW5kPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMubGVmdC5sZWFmUHJlcGVuZCh0KTtpZihuKXJldHVybiBuZXcgZShuLHRoaXMucmlnaHQpfSxlLnByb3RvdHlwZS5hcHBlbmRJbm5lcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sZWZ0LmRlcHRoPj1NYXRoLm1heCh0aGlzLnJpZ2h0LmRlcHRoLHQuZGVwdGgpKzE/bmV3IGUodGhpcy5sZWZ0LG5ldyBlKHRoaXMucmlnaHQsdCkpOm5ldyBlKHRoaXMsdCl9LGV9KHRhKSxyYT10YSxvYT1yYSxpYT01MDAsc2E9ZnVuY3Rpb24odCxlKXt0aGlzLml0ZW1zPXQsdGhpcy5ldmVudENvdW50PWV9O2Z1bmN0aW9uIGFhKHQsZSl7dmFyIG47cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCxyKXtpZih0LnNlbGVjdGlvbiYmMD09ZS0tKXJldHVybiBuPXIsITF9KSksdC5zbGljZShuKX1zYS5wcm90b3R5cGUucG9wRXZlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKDA9PXRoaXMuZXZlbnRDb3VudClyZXR1cm4gbnVsbDtmb3IodmFyIHIsbyxpPXRoaXMuaXRlbXMubGVuZ3RoOztpLS0pe3ZhciBzPXRoaXMuaXRlbXMuZ2V0KGktMSk7aWYocy5zZWxlY3Rpb24pey0taTticmVha319ZSYmKHI9dGhpcy5yZW1hcHBpbmcoaSx0aGlzLml0ZW1zLmxlbmd0aCksbz1yLm1hcHMubGVuZ3RoKTt2YXIgYSxjLGw9dC50cix1PVtdLGY9W107cmV0dXJuIHRoaXMuaXRlbXMuZm9yRWFjaCgoZnVuY3Rpb24odCxlKXtpZighdC5zdGVwKXJldHVybiByfHwocj1uLnJlbWFwcGluZyhpLGUrMSksbz1yLm1hcHMubGVuZ3RoKSxvLS0sdm9pZCBmLnB1c2godCk7aWYocil7Zi5wdXNoKG5ldyBjYSh0Lm1hcCkpO3ZhciBzLGQ9dC5zdGVwLm1hcChyLnNsaWNlKG8pKTtkJiZsLm1heWJlU3RlcChkKS5kb2MmJihzPWwubWFwcGluZy5tYXBzW2wubWFwcGluZy5tYXBzLmxlbmd0aC0xXSx1LnB1c2gobmV3IGNhKHMsbnVsbCxudWxsLHUubGVuZ3RoK2YubGVuZ3RoKSkpLG8tLSxzJiZyLmFwcGVuZE1hcChzLG8pfWVsc2UgbC5tYXliZVN0ZXAodC5zdGVwKTtyZXR1cm4gdC5zZWxlY3Rpb24/KGE9cj90LnNlbGVjdGlvbi5tYXAoci5zbGljZShvKSk6dC5zZWxlY3Rpb24sYz1uZXcgc2Eobi5pdGVtcy5zbGljZSgwLGkpLmFwcGVuZChmLnJldmVyc2UoKS5jb25jYXQodSkpLG4uZXZlbnRDb3VudC0xKSwhMSk6dm9pZCAwfSksdGhpcy5pdGVtcy5sZW5ndGgsMCkse3JlbWFpbmluZzpjLHRyYW5zZm9ybTpsLHNlbGVjdGlvbjphfX0sc2EucHJvdG90eXBlLmFkZFRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIG89W10saT10aGlzLmV2ZW50Q291bnQscz10aGlzLml0ZW1zLGE9IXImJnMubGVuZ3RoP3MuZ2V0KHMubGVuZ3RoLTEpOm51bGwsYz0wO2M8dC5zdGVwcy5sZW5ndGg7YysrKXt2YXIgbD10LnN0ZXBzW2NdLmludmVydCh0LmRvY3NbY10pLHU9bmV3IGNhKHQubWFwcGluZy5tYXBzW2NdLGwsZSksZj12b2lkIDA7KGY9YSYmYS5tZXJnZSh1KSkmJih1PWYsYz9vLnBvcCgpOnM9cy5zbGljZSgwLHMubGVuZ3RoLTEpKSxvLnB1c2godSksZSYmKGkrKyxlPW51bGwpLHJ8fChhPXUpfXZhciBkPWktbi5kZXB0aDtyZXR1cm4gZD51YSYmKHM9YWEocyxkKSxpLT1kKSxuZXcgc2Eocy5hcHBlbmQobyksaSl9LHNhLnByb3RvdHlwZS5yZW1hcHBpbmc9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgdVsiYSJdO3JldHVybiB0aGlzLml0ZW1zLmZvckVhY2goKGZ1bmN0aW9uKGUscil7dmFyIG89bnVsbCE9ZS5taXJyb3JPZmZzZXQmJnItZS5taXJyb3JPZmZzZXQ+PXQ/bi5tYXBzLmxlbmd0aC1lLm1pcnJvck9mZnNldDpudWxsO24uYXBwZW5kTWFwKGUubWFwLG8pfSksdCxlKSxufSxzYS5wcm90b3R5cGUuYWRkTWFwcz1mdW5jdGlvbih0KXtyZXR1cm4gMD09dGhpcy5ldmVudENvdW50P3RoaXM6bmV3IHNhKHRoaXMuaXRlbXMuYXBwZW5kKHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGNhKHQpfSkpKSx0aGlzLmV2ZW50Q291bnQpfSxzYS5wcm90b3R5cGUucmViYXNlZD1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLmV2ZW50Q291bnQpcmV0dXJuIHRoaXM7dmFyIG49W10scj1NYXRoLm1heCgwLHRoaXMuaXRlbXMubGVuZ3RoLWUpLG89dC5tYXBwaW5nLGk9dC5zdGVwcy5sZW5ndGgscz10aGlzLmV2ZW50Q291bnQ7dGhpcy5pdGVtcy5mb3JFYWNoKChmdW5jdGlvbih0KXt0LnNlbGVjdGlvbiYmcy0tfSkscik7dmFyIGE9ZTt0aGlzLml0ZW1zLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPW8uZ2V0TWlycm9yKC0tYSk7aWYobnVsbCE9cil7aT1NYXRoLm1pbihpLHIpO3ZhciBjPW8ubWFwc1tyXTtpZihlLnN0ZXApe3ZhciBsPXQuc3RlcHNbcl0uaW52ZXJ0KHQuZG9jc1tyXSksdT1lLnNlbGVjdGlvbiYmZS5zZWxlY3Rpb24ubWFwKG8uc2xpY2UoYSsxLHIpKTt1JiZzKyssbi5wdXNoKG5ldyBjYShjLGwsdSkpfWVsc2Ugbi5wdXNoKG5ldyBjYShjKSl9fSkscik7Zm9yKHZhciBjPVtdLGw9ZTtsPGk7bCsrKWMucHVzaChuZXcgY2Eoby5tYXBzW2xdKSk7dmFyIHU9dGhpcy5pdGVtcy5zbGljZSgwLHIpLmFwcGVuZChjKS5hcHBlbmQobiksZj1uZXcgc2EodSxzKTtyZXR1cm4gZi5lbXB0eUl0ZW1Db3VudCgpPmlhJiYoZj1mLmNvbXByZXNzKHRoaXMuaXRlbXMubGVuZ3RoLW4ubGVuZ3RoKSksZn0sc2EucHJvdG90eXBlLmVtcHR5SXRlbUNvdW50PWZ1bmN0aW9uKCl7dmFyIHQ9MDtyZXR1cm4gdGhpcy5pdGVtcy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnN0ZXB8fHQrK30pKSx0fSxzYS5wcm90b3R5cGUuY29tcHJlc3M9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9dGhpcy5pdGVtcy5sZW5ndGgpO3ZhciBlPXRoaXMucmVtYXBwaW5nKDAsdCksbj1lLm1hcHMubGVuZ3RoLHI9W10sbz0wO3JldHVybiB0aGlzLml0ZW1zLmZvckVhY2goKGZ1bmN0aW9uKGkscyl7aWYocz49dClyLnB1c2goaSksaS5zZWxlY3Rpb24mJm8rKztlbHNlIGlmKGkuc3RlcCl7dmFyIGE9aS5zdGVwLm1hcChlLnNsaWNlKG4pKSxjPWEmJmEuZ2V0TWFwKCk7aWYobi0tLGMmJmUuYXBwZW5kTWFwKGMsbiksYSl7dmFyIGw9aS5zZWxlY3Rpb24mJmkuc2VsZWN0aW9uLm1hcChlLnNsaWNlKG4pKTtsJiZvKys7dmFyIHUsZj1uZXcgY2EoYy5pbnZlcnQoKSxhLGwpLGQ9ci5sZW5ndGgtMTsodT1yLmxlbmd0aCYmcltkXS5tZXJnZShmKSk/cltkXT11OnIucHVzaChmKX19ZWxzZSBpLm1hcCYmbi0tfSksdGhpcy5pdGVtcy5sZW5ndGgsMCksbmV3IHNhKG9hLmZyb20oci5yZXZlcnNlKCkpLG8pfSxzYS5lbXB0eT1uZXcgc2Eob2EuZW1wdHksMCk7dmFyIGNhPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMubWFwPXQsdGhpcy5zdGVwPWUsdGhpcy5zZWxlY3Rpb249bix0aGlzLm1pcnJvck9mZnNldD1yfTtjYS5wcm90b3R5cGUubWVyZ2U9ZnVuY3Rpb24odCl7aWYodGhpcy5zdGVwJiZ0LnN0ZXAmJiF0LnNlbGVjdGlvbil7dmFyIGU9dC5zdGVwLm1lcmdlKHRoaXMuc3RlcCk7aWYoZSlyZXR1cm4gbmV3IGNhKGUuZ2V0TWFwKCkuaW52ZXJ0KCksZSx0aGlzLnNlbGVjdGlvbil9fTt2YXIgbGE9ZnVuY3Rpb24odCxlLG4scil7dGhpcy5kb25lPXQsdGhpcy51bmRvbmU9ZSx0aGlzLnByZXZSYW5nZXM9bix0aGlzLnByZXZUaW1lPXJ9LHVhPTIwO2Z1bmN0aW9uIGZhKHQsZSxuLHIpe3ZhciBvLGk9bi5nZXRNZXRhKGJhKTtpZihpKXJldHVybiBpLmhpc3RvcnlTdGF0ZTtuLmdldE1ldGEod2EpJiYodD1uZXcgbGEodC5kb25lLHQudW5kb25lLG51bGwsMCkpO3ZhciBzPW4uZ2V0TWV0YSgiYXBwZW5kZWRUcmFuc2FjdGlvbiIpO2lmKDA9PW4uc3RlcHMubGVuZ3RoKXJldHVybiB0O2lmKHMmJnMuZ2V0TWV0YShiYSkpcmV0dXJuIHMuZ2V0TWV0YShiYSkucmVkbz9uZXcgbGEodC5kb25lLmFkZFRyYW5zZm9ybShuLG51bGwscix5YShlKSksdC51bmRvbmUscGEobi5tYXBwaW5nLm1hcHNbbi5zdGVwcy5sZW5ndGgtMV0pLHQucHJldlRpbWUpOm5ldyBsYSh0LmRvbmUsdC51bmRvbmUuYWRkVHJhbnNmb3JtKG4sbnVsbCxyLHlhKGUpKSxudWxsLHQucHJldlRpbWUpO2lmKCExPT09bi5nZXRNZXRhKCJhZGRUb0hpc3RvcnkiKXx8cyYmITE9PT1zLmdldE1ldGEoImFkZFRvSGlzdG9yeSIpKXJldHVybihvPW4uZ2V0TWV0YSgicmViYXNlZCIpKT9uZXcgbGEodC5kb25lLnJlYmFzZWQobixvKSx0LnVuZG9uZS5yZWJhc2VkKG4sbyksaGEodC5wcmV2UmFuZ2VzLG4ubWFwcGluZyksdC5wcmV2VGltZSk6bmV3IGxhKHQuZG9uZS5hZGRNYXBzKG4ubWFwcGluZy5tYXBzKSx0LnVuZG9uZS5hZGRNYXBzKG4ubWFwcGluZy5tYXBzKSxoYSh0LnByZXZSYW5nZXMsbi5tYXBwaW5nKSx0LnByZXZUaW1lKTt2YXIgYT0wPT10LnByZXZUaW1lfHwhcyYmKHQucHJldlRpbWU8KG4udGltZXx8MCktci5uZXdHcm91cERlbGF5fHwhZGEobix0LnByZXZSYW5nZXMpKSxjPXM/aGEodC5wcmV2UmFuZ2VzLG4ubWFwcGluZyk6cGEobi5tYXBwaW5nLm1hcHNbbi5zdGVwcy5sZW5ndGgtMV0pO3JldHVybiBuZXcgbGEodC5kb25lLmFkZFRyYW5zZm9ybShuLGE/ZS5zZWxlY3Rpb24uZ2V0Qm9va21hcmsoKTpudWxsLHIseWEoZSkpLHNhLmVtcHR5LGMsbi50aW1lKX1mdW5jdGlvbiBkYSh0LGUpe2lmKCFlKXJldHVybiExO2lmKCF0LmRvY0NoYW5nZWQpcmV0dXJuITA7dmFyIG49ITE7cmV0dXJuIHQubWFwcGluZy5tYXBzWzBdLmZvckVhY2goKGZ1bmN0aW9uKHQscil7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKz0yKXQ8PWVbbysxXSYmcj49ZVtvXSYmKG49ITApfSkpLG59ZnVuY3Rpb24gcGEodCl7dmFyIGU9W107cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCxuLHIsbyl7cmV0dXJuIGUucHVzaChyLG8pfSkpLGV9ZnVuY3Rpb24gaGEodCxlKXtpZighdClyZXR1cm4gbnVsbDtmb3IodmFyIG49W10scj0wO3I8dC5sZW5ndGg7cis9Mil7dmFyIG89ZS5tYXAodFtyXSwxKSxpPWUubWFwKHRbcisxXSwtMSk7bzw9aSYmbi5wdXNoKG8saSl9cmV0dXJuIG59ZnVuY3Rpb24gdmEodCxlLG4scil7dmFyIG89eWEoZSksaT1iYS5nZXQoZSkuc3BlYy5jb25maWcscz0ocj90LnVuZG9uZTp0LmRvbmUpLnBvcEV2ZW50KGUsbyk7aWYocyl7dmFyIGE9cy5zZWxlY3Rpb24ucmVzb2x2ZShzLnRyYW5zZm9ybS5kb2MpLGM9KHI/dC5kb25lOnQudW5kb25lKS5hZGRUcmFuc2Zvcm0ocy50cmFuc2Zvcm0sZS5zZWxlY3Rpb24uZ2V0Qm9va21hcmsoKSxpLG8pLGw9bmV3IGxhKHI/YzpzLnJlbWFpbmluZyxyP3MucmVtYWluaW5nOmMsbnVsbCwwKTtuKHMudHJhbnNmb3JtLnNldFNlbGVjdGlvbihhKS5zZXRNZXRhKGJhLHtyZWRvOnIsaGlzdG9yeVN0YXRlOmx9KS5zY3JvbGxJbnRvVmlldygpKX19dmFyIG1hPSExLGdhPW51bGw7ZnVuY3Rpb24geWEodCl7dmFyIGU9dC5wbHVnaW5zO2lmKGdhIT1lKXttYT0hMSxnYT1lO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWlmKGVbbl0uc3BlYy5oaXN0b3J5UHJlc2VydmVJdGVtcyl7bWE9ITA7YnJlYWt9fXJldHVybiBtYX12YXIgYmE9bmV3IGNbIlBsdWdpbktleSJdKCJoaXN0b3J5Iiksd2E9bmV3IGNbIlBsdWdpbktleSJdKCJjbG9zZUhpc3RvcnkiKTtmdW5jdGlvbiBTYSh0KXtyZXR1cm4gdD17ZGVwdGg6dCYmdC5kZXB0aHx8MTAwLG5ld0dyb3VwRGVsYXk6dCYmdC5uZXdHcm91cERlbGF5fHw1MDB9LG5ldyBjWyJQbHVnaW4iXSh7a2V5OmJhLHN0YXRlOntpbml0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBsYShzYS5lbXB0eSxzYS5lbXB0eSxudWxsLDApfSxhcHBseTpmdW5jdGlvbihlLG4scil7cmV0dXJuIGZhKG4scixlLHQpfX0sY29uZmlnOnR9KX1mdW5jdGlvbiB4YSh0LGUpe3ZhciBuPWJhLmdldFN0YXRlKHQpO3JldHVybiEoIW58fDA9PW4uZG9uZS5ldmVudENvdW50KSYmKGUmJnZhKG4sdCxlLCExKSwhMCl9ZnVuY3Rpb24ga2EodCxlKXt2YXIgbj1iYS5nZXRTdGF0ZSh0KTtyZXR1cm4hKCFufHwwPT1uLnVuZG9uZS5ldmVudENvdW50KSYmKGUmJnZhKG4sdCxlLCEwKSwhMCl9ZnVuY3Rpb24gT2EodCl7dmFyIGU9YmEuZ2V0U3RhdGUodCk7cmV0dXJuIGU/ZS5kb25lLmV2ZW50Q291bnQ6MH1mdW5jdGlvbiBDYSh0KXt2YXIgZT1iYS5nZXRTdGF0ZSh0KTtyZXR1cm4gZT9lLnVuZG9uZS5ldmVudENvdW50OjB9Ci8qIQogICAgKiB0aXB0YXAtZXh0ZW5zaW9ucyB2MS4zMS4wCiAgICAqIChjKSAyMDIwIFNjcnVtcHkgVUcgKGxpbWl0ZWQgbGlhYmlsaXR5KQogICAgKiBAbGljZW5zZSBNSVQKICAgICovZnVuY3Rpb24gTWEodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiBOYSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fWZ1bmN0aW9uIFRhKHQsZSxuKXtyZXR1cm4gZSYmTmEodC5wcm90b3R5cGUsZSksbiYmTmEodCxuKSx0fWZ1bmN0aW9uIEFhKHQsZSxuKXtyZXR1cm4gZSBpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W2VdPW4sdH1mdW5jdGlvbiBEYSh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gRWEodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/RGEoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtBYSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6RGEoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9ZnVuY3Rpb24gUmEodCxlKXtpZigiZnVuY3Rpb24iIT09dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJlBhKHQsZSl9ZnVuY3Rpb24gX2EodCl7cmV0dXJuIF9hPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LF9hKHQpfWZ1bmN0aW9uIFBhKHQsZSl7cmV0dXJuIFBhPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxQYSh0LGUpfWZ1bmN0aW9uIHphKCl7aWYoInVuZGVmaW5lZCI9PT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoImZ1bmN0aW9uIj09PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSxbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX1mdW5jdGlvbiBJYSh0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7cmV0dXJuIHR9ZnVuY3Rpb24gamEodCxlKXtyZXR1cm4hZXx8Im9iamVjdCIhPT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9PXR5cGVvZiBlP0lhKHQpOmV9ZnVuY3Rpb24gJGEodCl7dmFyIGU9emEoKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbixyPV9hKHQpO2lmKGUpe3ZhciBvPV9hKHRoaXMpLmNvbnN0cnVjdG9yO249UmVmbGVjdC5jb25zdHJ1Y3Qocixhcmd1bWVudHMsbyl9ZWxzZSBuPXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBqYSh0aGlzLG4pfX1mdW5jdGlvbiBWYSh0KXtyZXR1cm4gQmEodCl8fEZhKHQpfHxMYSh0KXx8cWEoKX1mdW5jdGlvbiBCYSh0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBIYSh0KX1mdW5jdGlvbiBGYSh0KXtpZigidW5kZWZpbmVkIiE9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QodCkpcmV0dXJuIEFycmF5LmZyb20odCl9ZnVuY3Rpb24gTGEodCxlKXtpZih0KXtpZigic3RyaW5nIj09PXR5cGVvZiB0KXJldHVybiBIYSh0LGUpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1ufHwiU2V0Ij09PW4/QXJyYXkuZnJvbSh0KToiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP0hhKHQsZSk6dm9pZCAwfX1mdW5jdGlvbiBIYSh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIHFhKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9dmFyIEthPWZ1bmN0aW9uKHQpe1JhKG4sdCk7dmFyIGU9JGEobik7ZnVuY3Rpb24gbigpe3JldHVybiBNYSh0aGlzLG4pLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBUYShuLFt7a2V5OiJjb21tYW5kcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlLG49dC5zY2hlbWE7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIFBvKGUsbi5ub2Rlcy5wYXJhZ3JhcGgpfX19LHtrZXk6ImtleXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm57IkN0cmwtPiI6UG8oZSl9fX0se2tleToiaW5wdXRSdWxlcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybltLcigvXlxzKj5ccyQvLGUpXX19LHtrZXk6Im5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiJibG9ja3F1b3RlIn19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue2NvbnRlbnQ6ImJsb2NrKiIsZ3JvdXA6ImJsb2NrIixkZWZpbmluZzohMCxkcmFnZ2FibGU6ITEscGFyc2VET006W3t0YWc6ImJsb2NrcXVvdGUifV0sdG9ET006ZnVuY3Rpb24oKXtyZXR1cm5bImJsb2NrcXVvdGUiLDBdfX19fV0pLG59KGhpKSxXYT1mdW5jdGlvbih0KXtSYShuLHQpO3ZhciBlPSRhKG4pO2Z1bmN0aW9uIG4oKXtyZXR1cm4gTWEodGhpcyxuKSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gVGEobixbe2tleToiY29tbWFuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZSxuPXQuc2NoZW1hO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBfbyhlLG4ubm9kZXMubGlzdF9pdGVtKX19fSx7a2V5OiJrZXlzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGUsbj10LnNjaGVtYTtyZXR1cm57IlNoaWZ0LUN0cmwtOCI6X28oZSxuLm5vZGVzLmxpc3RfaXRlbSl9fX0se2tleToiaW5wdXRSdWxlcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybltLcigvXlxzKihbLSsqXSlccyQvLGUpXX19LHtrZXk6Im5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiJidWxsZXRfbGlzdCJ9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybntjb250ZW50OiJsaXN0X2l0ZW0rIixncm91cDoiYmxvY2siLHBhcnNlRE9NOlt7dGFnOiJ1bCJ9XSx0b0RPTTpmdW5jdGlvbigpe3JldHVyblsidWwiLDBdfX19fV0pLG59KGhpKSxKYT1mdW5jdGlvbih0KXtSYShuLHQpO3ZhciBlPSRhKG4pO2Z1bmN0aW9uIG4oKXtyZXR1cm4gTWEodGhpcyxuKSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gVGEobixbe2tleToiY29tbWFuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZSxuPXQuc2NoZW1hO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBFbyhlLG4ubm9kZXMucGFyYWdyYXBoKX19fSx7a2V5OiJrZXlzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJueyJTaGlmdC1DdHJsLVxcIjpUcihlKX19fSx7a2V5OiJpbnB1dFJ1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuW1dyKC9eYGBgJC8sZSldfX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuImNvZGVfYmxvY2sifX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57Y29udGVudDoidGV4dCoiLG1hcmtzOiIiLGdyb3VwOiJibG9jayIsY29kZTohMCxkZWZpbmluZzohMCxkcmFnZ2FibGU6ITEscGFyc2VET006W3t0YWc6InByZSIscHJlc2VydmVXaGl0ZXNwYWNlOiJmdWxsIn1dLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuWyJwcmUiLFsiY29kZSIsMF1dfX19fV0pLG59KGhpKTt2YXIgVWE9ZnVuY3Rpb24odCl7UmEobix0KTt2YXIgZT0kYShuKTtmdW5jdGlvbiBuKCl7cmV0dXJuIE1hKHRoaXMsbiksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIFRhKG4sW3trZXk6ImtleXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZSxuPUVyKHdyLChmdW5jdGlvbih0LG4pe3JldHVybiBuKHQudHIucmVwbGFjZVNlbGVjdGlvbldpdGgoZS5jcmVhdGUoKSkuc2Nyb2xsSW50b1ZpZXcoKSksITB9KSk7cmV0dXJueyJNb2QtRW50ZXIiOm4sIlNoaWZ0LUVudGVyIjpufX19LHtrZXk6Im5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiJoYXJkX2JyZWFrIn19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue2lubGluZTohMCxncm91cDoiaW5saW5lIixzZWxlY3RhYmxlOiExLHBhcnNlRE9NOlt7dGFnOiJiciJ9XSx0b0RPTTpmdW5jdGlvbigpe3JldHVyblsiYnIiXX19fX1dKSxufShoaSksR2E9ZnVuY3Rpb24odCl7UmEobix0KTt2YXIgZT0kYShuKTtmdW5jdGlvbiBuKCl7cmV0dXJuIE1hKHRoaXMsbiksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIFRhKG4sW3trZXk6ImNvbW1hbmRzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGUsbj10LnNjaGVtYTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIEVvKGUsbi5ub2Rlcy5wYXJhZ3JhcGgsdCl9fX0se2tleToia2V5cyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybiB0aGlzLm9wdGlvbnMubGV2ZWxzLnJlZHVjZSgoZnVuY3Rpb24odCxuKXtyZXR1cm4gRWEoRWEoe30sdCksQWEoe30sIlNoaWZ0LUN0cmwtIi5jb25jYXQobiksVHIoZSx7bGV2ZWw6bn0pKSl9KSx7fSl9fSx7a2V5OiJpbnB1dFJ1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuIHRoaXMub3B0aW9ucy5sZXZlbHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gV3IobmV3IFJlZ0V4cCgiXigjezEsIi5jb25jYXQodCwifSlcXHMkIikpLGUsKGZ1bmN0aW9uKCl7cmV0dXJue2xldmVsOnR9fSkpfSkpfX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuImhlYWRpbmcifX0se2tleToiZGVmYXVsdE9wdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybntsZXZlbHM6WzEsMiwzLDQsNSw2XX19fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybnthdHRyczp7bGV2ZWw6e2RlZmF1bHQ6MX19LGNvbnRlbnQ6ImlubGluZSoiLGdyb3VwOiJibG9jayIsZGVmaW5pbmc6ITAsZHJhZ2dhYmxlOiExLHBhcnNlRE9NOnRoaXMub3B0aW9ucy5sZXZlbHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm57dGFnOiJoIi5jb25jYXQodCksYXR0cnM6e2xldmVsOnR9fX0pKSx0b0RPTTpmdW5jdGlvbih0KXtyZXR1cm5bImgiLmNvbmNhdCh0LmF0dHJzLmxldmVsKSwwXX19fX1dKSxufShoaSksWGE9ZnVuY3Rpb24odCl7UmEobix0KTt2YXIgZT0kYShuKTtmdW5jdGlvbiBuKCl7cmV0dXJuIE1hKHRoaXMsbiksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIFRhKG4sW3trZXk6ImtleXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm57RW50ZXI6cG8oZSksVGFiOmdvKGUpLCJTaGlmdC1UYWIiOmhvKGUpfX19LHtrZXk6Im5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiJsaXN0X2l0ZW0ifX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57Y29udGVudDoicGFyYWdyYXBoIGJsb2NrKiIsZGVmaW5pbmc6ITAsZHJhZ2dhYmxlOiExLHBhcnNlRE9NOlt7dGFnOiJsaSJ9XSx0b0RPTTpmdW5jdGlvbigpe3JldHVyblsibGkiLDBdfX19fV0pLG59KGhpKTt2YXIgWWE9ZnVuY3Rpb24odCl7UmEobix0KTt2YXIgZT0kYShuKTtmdW5jdGlvbiBuKCl7cmV0dXJuIE1hKHRoaXMsbiksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIFRhKG4sW3trZXk6ImNvbW1hbmRzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGUsbj10LnNjaGVtYTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gX28oZSxuLm5vZGVzLmxpc3RfaXRlbSl9fX0se2tleToia2V5cyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlLG49dC5zY2hlbWE7cmV0dXJueyJTaGlmdC1DdHJsLTkiOl9vKGUsbi5ub2Rlcy5saXN0X2l0ZW0pfX19LHtrZXk6ImlucHV0UnVsZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm5bS3IoL14oXGQrKVwuXHMkLyxlLChmdW5jdGlvbih0KXtyZXR1cm57b3JkZXI6K3RbMV19fSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuY2hpbGRDb3VudCtlLmF0dHJzLm9yZGVyPT09K3RbMV19KSldfX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIm9yZGVyZWRfbGlzdCJ9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybnthdHRyczp7b3JkZXI6e2RlZmF1bHQ6MX19LGNvbnRlbnQ6Imxpc3RfaXRlbSsiLGdyb3VwOiJibG9jayIscGFyc2VET006W3t0YWc6Im9sIixnZXRBdHRyczpmdW5jdGlvbih0KXtyZXR1cm57b3JkZXI6dC5oYXNBdHRyaWJ1dGUoInN0YXJ0Iik/K3QuZ2V0QXR0cmlidXRlKCJzdGFydCIpOjF9fX1dLHRvRE9NOmZ1bmN0aW9uKHQpe3JldHVybiAxPT09dC5hdHRycy5vcmRlcj9bIm9sIiwwXTpbIm9sIix7c3RhcnQ6dC5hdHRycy5vcmRlcn0sMF19fX19XSksbn0oaGkpLFphPU9iamVjdChac1sidGFibGVOb2RlcyJdKSh7dGFibGVHcm91cDoiYmxvY2siLGNlbGxDb250ZW50OiJibG9jaysiLGNlbGxBdHRyaWJ1dGVzOntiYWNrZ3JvdW5kOntkZWZhdWx0Om51bGwsZ2V0RnJvbURPTTpmdW5jdGlvbih0KXtyZXR1cm4gdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3J8fG51bGx9LHNldERPTUF0dHI6ZnVuY3Rpb24odCxlKXtpZih0KXt2YXIgbj17c3R5bGU6IiIuY29uY2F0KGUuc3R5bGV8fCIiLCJiYWNrZ3JvdW5kLWNvbG9yOiAiKS5jb25jYXQodCwiOyIpfTtPYmplY3QuYXNzaWduKGUsbil9fX19fSksUWE9ZnVuY3Rpb24odCl7UmEobix0KTt2YXIgZT0kYShuKTtmdW5jdGlvbiBuKCl7cmV0dXJuIE1hKHRoaXMsbiksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIFRhKG4sW3trZXk6ImNvbW1hbmRzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnNjaGVtYTtyZXR1cm57Y3JlYXRlVGFibGU6ZnVuY3Rpb24odCl7dmFyIG49dC5yb3dzQ291bnQscj10LmNvbHNDb3VudCxvPXQud2l0aEhlYWRlclJvdztyZXR1cm4gZnVuY3Rpb24odCxpKXt2YXIgcz10LnRyLnNlbGVjdGlvbi5hbmNob3IrMSxhPU9iamVjdChKclsiY3JlYXRlVGFibGUiXSkoZSxuLHIsbyksbD10LnRyLnJlcGxhY2VTZWxlY3Rpb25XaXRoKGEpLnNjcm9sbEludG9WaWV3KCksdT1sLmRvYy5yZXNvbHZlKHMpO2wuc2V0U2VsZWN0aW9uKGNbIlRleHRTZWxlY3Rpb24iXS5uZWFyKHUpKSxpKGwpfX0sYWRkQ29sdW1uQmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIFpzWyJhZGRDb2x1bW5CZWZvcmUiXX0sYWRkQ29sdW1uQWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gWnNbImFkZENvbHVtbkFmdGVyIl19LGRlbGV0ZUNvbHVtbjpmdW5jdGlvbigpe3JldHVybiBac1siZGVsZXRlQ29sdW1uIl19LGFkZFJvd0JlZm9yZTpmdW5jdGlvbigpe3JldHVybiBac1siYWRkUm93QmVmb3JlIl19LGFkZFJvd0FmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIFpzWyJhZGRSb3dBZnRlciJdfSxkZWxldGVSb3c6ZnVuY3Rpb24oKXtyZXR1cm4gWnNbImRlbGV0ZVJvdyJdfSxkZWxldGVUYWJsZTpmdW5jdGlvbigpe3JldHVybiBac1siZGVsZXRlVGFibGUiXX0sdG9nZ2xlQ2VsbE1lcmdlOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7T2JqZWN0KFpzWyJtZXJnZUNlbGxzIl0pKHQsZSl8fE9iamVjdChac1sic3BsaXRDZWxsIl0pKHQsZSl9fSxtZXJnZUNlbGxzOmZ1bmN0aW9uKCl7cmV0dXJuIFpzWyJtZXJnZUNlbGxzIl19LHNwbGl0Q2VsbDpmdW5jdGlvbigpe3JldHVybiBac1sic3BsaXRDZWxsIl19LHRvZ2dsZUhlYWRlckNvbHVtbjpmdW5jdGlvbigpe3JldHVybiBac1sidG9nZ2xlSGVhZGVyQ29sdW1uIl19LHRvZ2dsZUhlYWRlclJvdzpmdW5jdGlvbigpe3JldHVybiBac1sidG9nZ2xlSGVhZGVyUm93Il19LHRvZ2dsZUhlYWRlckNlbGw6ZnVuY3Rpb24oKXtyZXR1cm4gWnNbInRvZ2dsZUhlYWRlckNlbGwiXX0sc2V0Q2VsbEF0dHI6ZnVuY3Rpb24oKXtyZXR1cm4gWnNbInNldENlbGxBdHRyIl19LGZpeFRhYmxlczpmdW5jdGlvbigpe3JldHVybiBac1siZml4VGFibGVzIl19fX19LHtrZXk6ImtleXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue1RhYjpPYmplY3QoWnNbImdvVG9OZXh0Q2VsbCJdKSgxKSwiU2hpZnQtVGFiIjpPYmplY3QoWnNbImdvVG9OZXh0Q2VsbCJdKSgtMSl9fX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuInRhYmxlIn19LHtrZXk6ImRlZmF1bHRPcHRpb25zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57cmVzaXphYmxlOiExfX19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFphLnRhYmxlfX0se2tleToicGx1Z2lucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuW10uY29uY2F0KFZhKHRoaXMub3B0aW9ucy5yZXNpemFibGU/W09iamVjdChac1siY29sdW1uUmVzaXppbmciXSkoKV06W10pLFtPYmplY3QoWnNbInRhYmxlRWRpdGluZyJdKSgpXSl9fV0pLG59KGhpKSx0Yz1mdW5jdGlvbih0KXtSYShuLHQpO3ZhciBlPSRhKG4pO2Z1bmN0aW9uIG4oKXtyZXR1cm4gTWEodGhpcyxuKSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gVGEobixbe2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuInRhYmxlX2hlYWRlciJ9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiBaYS50YWJsZV9oZWFkZXJ9fV0pLG59KGhpKSxlYz1mdW5jdGlvbih0KXtSYShuLHQpO3ZhciBlPSRhKG4pO2Z1bmN0aW9uIG4oKXtyZXR1cm4gTWEodGhpcyxuKSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gVGEobixbe2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuInRhYmxlX2NlbGwifX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gWmEudGFibGVfY2VsbH19XSksbn0oaGkpLG5jPWZ1bmN0aW9uKHQpe1JhKG4sdCk7dmFyIGU9JGEobik7ZnVuY3Rpb24gbigpe3JldHVybiBNYSh0aGlzLG4pLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBUYShuLFt7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4idGFibGVfcm93In19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFphLnRhYmxlX3Jvd319XSksbn0oaGkpLHJjPWZ1bmN0aW9uKHQpe1JhKG4sdCk7dmFyIGU9JGEobik7ZnVuY3Rpb24gbigpe3JldHVybiBNYSh0aGlzLG4pLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBUYShuLFt7a2V5OiJrZXlzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJue0VudGVyOkRvKGUpLFRhYjp0aGlzLm9wdGlvbnMubmVzdGVkP2dvKGUpOmZ1bmN0aW9uKCl7fSwiU2hpZnQtVGFiIjpobyhlKX19fSx7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4idG9kb19pdGVtIn19LHtrZXk6ImRlZmF1bHRPcHRpb25zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57bmVzdGVkOiExfX19LHtrZXk6InZpZXciLGdldDpmdW5jdGlvbigpe3JldHVybntwcm9wczpbIm5vZGUiLCJ1cGRhdGVBdHRycyIsInZpZXciXSxtZXRob2RzOntvbkNoYW5nZTpmdW5jdGlvbigpe3RoaXMudXBkYXRlQXR0cnMoe2RvbmU6IXRoaXMubm9kZS5hdHRycy5kb25lfSl9fSx0ZW1wbGF0ZTonXG4gICAgICAgIDxsaSA6ZGF0YS10eXBlPSJub2RlLnR5cGUubmFtZSIgOmRhdGEtZG9uZT0ibm9kZS5hdHRycy5kb25lLnRvU3RyaW5nKCkiIGRhdGEtZHJhZy1oYW5kbGU+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9InRvZG8tY2hlY2tib3giIGNvbnRlbnRlZGl0YWJsZT0iZmFsc2UiIEBjbGljaz0ib25DaGFuZ2UiPjwvc3Bhbj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPSJ0b2RvLWNvbnRlbnQiIHJlZj0iY29udGVudCIgOmNvbnRlbnRlZGl0YWJsZT0idmlldy5lZGl0YWJsZS50b1N0cmluZygpIj48L2Rpdj5cbiAgICAgICAgPC9saT5cbiAgICAgICd9fX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybnthdHRyczp7ZG9uZTp7ZGVmYXVsdDohMX19LGRyYWdnYWJsZTohMCxjb250ZW50OnRoaXMub3B0aW9ucy5uZXN0ZWQ/IihwYXJhZ3JhcGh8dG9kb19saXN0KSsiOiJwYXJhZ3JhcGgrIix0b0RPTTpmdW5jdGlvbihlKXt2YXIgbj1lLmF0dHJzLmRvbmU7cmV0dXJuWyJsaSIseyJkYXRhLXR5cGUiOnQubmFtZSwiZGF0YS1kb25lIjpuLnRvU3RyaW5nKCl9LFsic3BhbiIse2NsYXNzOiJ0b2RvLWNoZWNrYm94Iixjb250ZW50ZWRpdGFibGU6ImZhbHNlIn1dLFsiZGl2Iix7Y2xhc3M6InRvZG8tY29udGVudCJ9LDBdXX0scGFyc2VET006W3twcmlvcml0eTo1MSx0YWc6J1tkYXRhLXR5cGU9IicuY29uY2F0KHRoaXMubmFtZSwnIl0nKSxnZXRBdHRyczpmdW5jdGlvbih0KXtyZXR1cm57ZG9uZToidHJ1ZSI9PT10LmdldEF0dHJpYnV0ZSgiZGF0YS1kb25lIil9fX1dfX19XSksbn0oaGkpLG9jPWZ1bmN0aW9uKHQpe1JhKG4sdCk7dmFyIGU9JGEobik7ZnVuY3Rpb24gbigpe3JldHVybiBNYSh0aGlzLG4pLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBUYShuLFt7a2V5OiJjb21tYW5kcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlLG49dC5zY2hlbWE7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIF9vKGUsbi5ub2Rlcy50b2RvX2l0ZW0pfX19LHtrZXk6ImlucHV0UnVsZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm5bS3IoL15ccyooXFsgXF0pXHMkLyxlKV19fSx7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4idG9kb19saXN0In19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm57Z3JvdXA6ImJsb2NrIixjb250ZW50OiJ0b2RvX2l0ZW0rIix0b0RPTTpmdW5jdGlvbigpe3JldHVyblsidWwiLHsiZGF0YS10eXBlIjp0Lm5hbWV9LDBdfSxwYXJzZURPTTpbe3ByaW9yaXR5OjUxLHRhZzonW2RhdGEtdHlwZT0iJy5jb25jYXQodGhpcy5uYW1lLCciXScpfV19fX1dKSxufShoaSksaWM9ZnVuY3Rpb24odCl7UmEobix0KTt2YXIgZT0kYShuKTtmdW5jdGlvbiBuKCl7cmV0dXJuIE1hKHRoaXMsbiksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIFRhKG4sW3trZXk6ImtleXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm57Ik1vZC1iIjpEcihlKX19fSx7a2V5OiJjb21tYW5kcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBEcihlKX19fSx7a2V5OiJpbnB1dFJ1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuW0NvKC8oPzpcKlwqfF9fKShbXipfXSspKD86XCpcKnxfXykkLyxlKV19fSx7a2V5OiJwYXN0ZVJ1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuW05vKC8oPzpcKlwqfF9fKShbXipfXSspKD86XCpcKnxfXykvZyxlKV19fSx7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iYm9sZCJ9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybntwYXJzZURPTTpbe3RhZzoic3Ryb25nIn0se3RhZzoiYiIsZ2V0QXR0cnM6ZnVuY3Rpb24odCl7cmV0dXJuIm5vcm1hbCIhPT10LnN0eWxlLmZvbnRXZWlnaHQmJm51bGx9fSx7c3R5bGU6ImZvbnQtd2VpZ2h0IixnZXRBdHRyczpmdW5jdGlvbih0KXtyZXR1cm4vXihib2xkKGVyKT98WzUtOV1cZHsyLH0pJC8udGVzdCh0KSYmbnVsbH19XSx0b0RPTTpmdW5jdGlvbigpe3JldHVyblsic3Ryb25nIiwwXX19fX1dKSxufShkaSksc2M9ZnVuY3Rpb24odCl7UmEobix0KTt2YXIgZT0kYShuKTtmdW5jdGlvbiBuKCl7cmV0dXJuIE1hKHRoaXMsbiksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIFRhKG4sW3trZXk6ImtleXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm57Ik1vZC1gIjpEcihlKX19fSx7a2V5OiJjb21tYW5kcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBEcihlKX19fSx7a2V5OiJpbnB1dFJ1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuW0NvKC8oPzpgKShbXmBdKykoPzpgKSQvLGUpXX19LHtrZXk6InBhc3RlUnVsZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm5bTm8oLyg/OmApKFteYF0rKSg/OmApL2csZSldfX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuImNvZGUifX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57ZXhjbHVkZXM6Il8iLHBhcnNlRE9NOlt7dGFnOiJjb2RlIn1dLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuWyJjb2RlIiwwXX19fX1dKSxufShkaSksYWM9ZnVuY3Rpb24odCl7UmEobix0KTt2YXIgZT0kYShuKTtmdW5jdGlvbiBuKCl7cmV0dXJuIE1hKHRoaXMsbiksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIFRhKG4sW3trZXk6ImtleXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm57Ik1vZC1pIjpEcihlKX19fSx7a2V5OiJjb21tYW5kcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBEcihlKX19fSx7a2V5OiJpbnB1dFJ1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuW0NvKC8oPzpefFteX10pKF8oW15fXSspXykkLyxlKSxDbygvKD86XnxbXipdKShcKihbXipdKylcKikkLyxlKV19fSx7a2V5OiJwYXN0ZVJ1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuW05vKC9fKFteX10rKV8vZyxlKSxObygvXCooW14qXSspXCovZyxlKV19fSx7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iaXRhbGljIn19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue3BhcnNlRE9NOlt7dGFnOiJpIn0se3RhZzoiZW0ifSx7c3R5bGU6ImZvbnQtc3R5bGU9aXRhbGljIn1dLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuWyJlbSIsMF19fX19XSksbn0oZGkpLGNjPWZ1bmN0aW9uKHQpe1JhKG4sdCk7dmFyIGU9JGEobik7ZnVuY3Rpb24gbigpe3JldHVybiBNYSh0aGlzLG4pLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBUYShuLFt7a2V5OiJjb21tYW5kcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdC5ocmVmP3pvKGUsdCk6VG8oZSl9fX0se2tleToicGFzdGVSdWxlcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybltNbygvaHR0cHM/OlwvXC8od3d3XC4pP1stYS16QS1aMC05QDolLl8rfiM9XXsyLDI1Nn1cLlthLXpBLVpdezIsfVxiKFstYS16QS1aMC05QDolXysufiM/Ji8vPV0qKS9nLGUsKGZ1bmN0aW9uKHQpe3JldHVybntocmVmOnR9fSkpXX19LHtrZXk6Im5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiJsaW5rIn19LHtrZXk6ImRlZmF1bHRPcHRpb25zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57b3Blbk9uQ2xpY2s6ITAsdGFyZ2V0Om51bGx9fX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybnthdHRyczp7aHJlZjp7ZGVmYXVsdDpudWxsfSx0YXJnZXQ6e2RlZmF1bHQ6bnVsbH19LGluY2x1c2l2ZTohMSxwYXJzZURPTTpbe3RhZzoiYVtocmVmXSIsZ2V0QXR0cnM6ZnVuY3Rpb24odCl7cmV0dXJue2hyZWY6dC5nZXRBdHRyaWJ1dGUoImhyZWYiKSx0YXJnZXQ6dC5nZXRBdHRyaWJ1dGUoInRhcmdldCIpfX19XSx0b0RPTTpmdW5jdGlvbihlKXtyZXR1cm5bImEiLEVhKEVhKHt9LGUuYXR0cnMpLHt9LHtyZWw6Im5vb3BlbmVyIG5vcmVmZXJyZXIgbm9mb2xsb3ciLHRhcmdldDp0Lm9wdGlvbnMudGFyZ2V0fSksMF19fX19LHtrZXk6InBsdWdpbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMub3Blbk9uQ2xpY2s/W25ldyBjWyJQbHVnaW4iXSh7cHJvcHM6e2hhbmRsZUNsaWNrOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LnN0YXRlLnNjaGVtYSxvPXJvKHQuc3RhdGUsci5tYXJrcy5saW5rKTtvLmhyZWYmJm4udGFyZ2V0IGluc3RhbmNlb2YgSFRNTEFuY2hvckVsZW1lbnQmJihuLnN0b3BQcm9wYWdhdGlvbigpLHdpbmRvdy5vcGVuKG8uaHJlZixvLnRhcmdldCkpfX19KV06W119fV0pLG59KGRpKSxsYz1mdW5jdGlvbih0KXtSYShuLHQpO3ZhciBlPSRhKG4pO2Z1bmN0aW9uIG4oKXtyZXR1cm4gTWEodGhpcyxuKSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gVGEobixbe2tleToia2V5cyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybnsiTW9kLWQiOkRyKGUpfX19LHtrZXk6ImNvbW1hbmRzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIERyKGUpfX19LHtrZXk6ImlucHV0UnVsZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm5bQ28oL34oW15+XSspfiQvLGUpXX19LHtrZXk6InBhc3RlUnVsZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm5bTm8oL34oW15+XSspfi9nLGUpXX19LHtrZXk6Im5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiJzdHJpa2UifX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57cGFyc2VET006W3t0YWc6InMifSx7dGFnOiJkZWwifSx7dGFnOiJzdHJpa2UifSx7c3R5bGU6InRleHQtZGVjb3JhdGlvbiIsZ2V0QXR0cnM6ZnVuY3Rpb24odCl7cmV0dXJuImxpbmUtdGhyb3VnaCI9PT10fX1dLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuWyJzIiwwXX19fX1dKSxufShkaSksdWM9ZnVuY3Rpb24odCl7UmEobix0KTt2YXIgZT0kYShuKTtmdW5jdGlvbiBuKCl7cmV0dXJuIE1hKHRoaXMsbiksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIFRhKG4sW3trZXk6ImtleXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm57Ik1vZC11IjpEcihlKX19fSx7a2V5OiJjb21tYW5kcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBEcihlKX19fSx7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4idW5kZXJsaW5lIn19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue3BhcnNlRE9NOlt7dGFnOiJ1In0se3N0eWxlOiJ0ZXh0LWRlY29yYXRpb24iLGdldEF0dHJzOmZ1bmN0aW9uKHQpe3JldHVybiJ1bmRlcmxpbmUiPT09dH19XSx0b0RPTTpmdW5jdGlvbigpe3JldHVyblsidSIsMF19fX19XSksbn0oZGkpLGZjPWZ1bmN0aW9uKHQpe1JhKG4sdCk7dmFyIGU9JGEobik7ZnVuY3Rpb24gbigpe3JldHVybiBNYSh0aGlzLG4pLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBUYShuLFt7a2V5OiJrZXlzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXsiTW9kLXoiOnhhLCJNb2QteSI6a2EsIlNoaWZ0LU1vZC16IjprYX07cmV0dXJuIHR9fSx7a2V5OiJjb21tYW5kcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm57dW5kbzpmdW5jdGlvbigpe3JldHVybiB4YX0scmVkbzpmdW5jdGlvbigpe3JldHVybiBrYX0sdW5kb0RlcHRoOmZ1bmN0aW9uKCl7cmV0dXJuIE9hfSxyZWRvRGVwdGg6ZnVuY3Rpb24oKXtyZXR1cm4gQ2F9fX19LHtrZXk6Im5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiJoaXN0b3J5In19LHtrZXk6ImRlZmF1bHRPcHRpb25zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57ZGVwdGg6IiIsbmV3R3JvdXBEZWxheToiIn19fSx7a2V5OiJwbHVnaW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5bU2Eoe2RlcHRoOnRoaXMub3B0aW9ucy5kZXB0aCxuZXdHcm91cERlbGF5OnRoaXMub3B0aW9ucy5uZXdHcm91cERlbGF5fSldfX1dKSxufShsaSk7ZnVuY3Rpb24gZGMoKXtyZXR1cm5bbmV3IEthLG5ldyBXYSxuZXcgSmEsbmV3IFVhLG5ldyBHYSxuZXcgWGEsbmV3IFlhLG5ldyByYyxuZXcgb2MsbmV3IGNjLG5ldyBRYSh7cmVzaXphYmxlOiEwfSksbmV3IHRjLG5ldyBlYyxuZXcgbmMsbmV3IGljLG5ldyBzYyxuZXcgYWMsbmV3IGxjLG5ldyB1YyxuZXcgZmNdfXZhciBwYz17aW5qZWN0OlsiY29yZSJdLGNvbXBvbmVudHM6e0VkaXRvckNvbnRlbnQ6d2ksRWRpdG9yTWVudUJhcjpraSxJY29uOllzfSxwcm9wczp7ZmllbGROYW1lOlN0cmluZyx2YWx1ZTpTdHJpbmd9LG1vdW50ZWQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLiRwcm9wcyxlPXQudmFsdWUsbj10LmZpZWxkTmFtZTt0aGlzLmNvcmUuc2V0Rm9ybVZhbHVlKG4sZSl9LGRhdGE6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC4kcHJvcHMuZmllbGROYW1lO3JldHVybntlZGl0b3I6bmV3IGJpKHtjb250ZW50OnRoaXMuJHByb3BzLnZhbHVlLGV4dGVuc2lvbnM6ZGMoKSxvblVwZGF0ZTpmdW5jdGlvbihuKXt2YXIgcj1uLmdldEhUTUwsbz1yKCk7ZSYmMCE9ZS5sZW5ndGgmJnQuY29yZS5zZXRGb3JtVmFsdWUoZSxvKX19KX19LGJlZm9yZURlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVkaXRvci5kZXN0cm95KCl9fSxoYz1wYyx2Yz1HcyhoYyxzLGEsITEsbnVsbCxudWxsLG51bGwpLG1jPXZjLmV4cG9ydHM7KHdpbmRvdy5fX2dvcGxhaWRWdWVDb21wb25lbnRSZWdpc3RlcnM9d2luZG93Ll9fZ29wbGFpZFZ1ZUNvbXBvbmVudFJlZ2lzdGVyc3x8W10pLnB1c2goKGZ1bmN0aW9uKHQpe3QuY29tcG9uZW50KCJ0aXB0YXAtZWRpdG9yIixtYyl9KSl9LGZiNmE6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCIyM2U3Iiksbz1uKCI4NjFkIiksaT1uKCJlOGI1Iikscz1uKCIyM2NiIiksYT1uKCI1MGM0IiksYz1uKCJmYzZhIiksbD1uKCI4NDE4IiksdT1uKCJiNjIyIiksZj1uKCIxZGRlIiksZD1uKCJhZTQwIikscD1mKCJzbGljZSIpLGg9ZCgic2xpY2UiLHtBQ0NFU1NPUlM6ITAsMDowLDE6Mn0pLHY9dSgic3BlY2llcyIpLG09W10uc2xpY2UsZz1NYXRoLm1heDtyKHt0YXJnZXQ6IkFycmF5Iixwcm90bzohMCxmb3JjZWQ6IXB8fCFofSx7c2xpY2U6ZnVuY3Rpb24odCxlKXt2YXIgbixyLHUsZj1jKHRoaXMpLGQ9YShmLmxlbmd0aCkscD1zKHQsZCksaD1zKHZvaWQgMD09PWU/ZDplLGQpO2lmKGkoZikmJihuPWYuY29uc3RydWN0b3IsImZ1bmN0aW9uIiE9dHlwZW9mIG58fG4hPT1BcnJheSYmIWkobi5wcm90b3R5cGUpP28obikmJihuPW5bdl0sbnVsbD09PW4mJihuPXZvaWQgMCkpOm49dm9pZCAwLG49PT1BcnJheXx8dm9pZCAwPT09bikpcmV0dXJuIG0uY2FsbChmLHAsaCk7Zm9yKHI9bmV3KHZvaWQgMD09PW4/QXJyYXk6bikoZyhoLXAsMCkpLHU9MDtwPGg7cCsrLHUrKylwIGluIGYmJmwocix1LGZbcF0pO3JldHVybiByLmxlbmd0aD11LHJ9fSl9LGZjNmE6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjQ0YWQiKSxvPW4oIjFkODAiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIobyh0KSl9fSxmZGJjOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtDU1NSdWxlTGlzdDowLENTU1N0eWxlRGVjbGFyYXRpb246MCxDU1NWYWx1ZUxpc3Q6MCxDbGllbnRSZWN0TGlzdDowLERPTVJlY3RMaXN0OjAsRE9NU3RyaW5nTGlzdDowLERPTVRva2VuTGlzdDoxLERhdGFUcmFuc2Zlckl0ZW1MaXN0OjAsRmlsZUxpc3Q6MCxIVE1MQWxsQ29sbGVjdGlvbjowLEhUTUxDb2xsZWN0aW9uOjAsSFRNTEZvcm1FbGVtZW50OjAsSFRNTFNlbGVjdEVsZW1lbnQ6MCxNZWRpYUxpc3Q6MCxNaW1lVHlwZUFycmF5OjAsTmFtZWROb2RlTWFwOjAsTm9kZUxpc3Q6MSxQYWludFJlcXVlc3RMaXN0OjAsUGx1Z2luOjAsUGx1Z2luQXJyYXk6MCxTVkdMZW5ndGhMaXN0OjAsU1ZHTnVtYmVyTGlzdDowLFNWR1BhdGhTZWdMaXN0OjAsU1ZHUG9pbnRMaXN0OjAsU1ZHU3RyaW5nTGlzdDowLFNWR1RyYW5zZm9ybUxpc3Q6MCxTb3VyY2VCdWZmZXJMaXN0OjAsU3R5bGVTaGVldExpc3Q6MCxUZXh0VHJhY2tDdWVMaXN0OjAsVGV4dFRyYWNrTGlzdDowLFRvdWNoTGlzdDowfX0sZmRiZjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiNDkzMCIpO3QuZXhwb3J0cz1yJiYhU3ltYm9sLnNoYW0mJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yfX0pWyJkZWZhdWx0Il19KSk7\"")
}
