// Code generated by github.com/gobuffalo/packr. DO NOT EDIT.

package tiptap

import "github.com/gobuffalo/packr"

// You can use the "packr clean" command to clean up this,
// and any other packr generated files.
func init() {
	_ = packr.PackJSONBytes("./tiptapjs/dist/", "tiptap.css", "\"LnRpcHRhcC1lZGl0b3J7cG9zaXRpb246cmVsYXRpdmV9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnR7b3ZlcmZsb3ctd3JhcDpicmVhay13b3JkO3dvcmQtd3JhcDpicmVhay13b3JkO3dvcmQtYnJlYWs6YnJlYWstd29yZH0udGlwdGFwLWVkaXRvcl9fY29udGVudCAqe2NhcmV0LWNvbG9yOmN1cnJlbnRDb2xvcn0udGlwdGFwLWVkaXRvcl9fY29udGVudCBibG9ja3F1b3RlLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgxLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgyLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgzLC50aXB0YXAtZWRpdG9yX19jb250ZW50IG9sLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHAsLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgcHJlLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHVse21hcmdpbjoxcmVtIDB9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgYmxvY2txdW90ZTpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBoMTpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBoMjpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBoMzpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBvbDpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBwOmZpcnN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHByZTpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCB1bDpmaXJzdC1jaGlsZHttYXJnaW4tdG9wOjB9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgYmxvY2txdW90ZTpsYXN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgxOmxhc3QtY2hpbGQsLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgaDI6bGFzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBoMzpsYXN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IG9sOmxhc3QtY2hpbGQsLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgcDpsYXN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHByZTpsYXN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHVsOmxhc3QtY2hpbGR7bWFyZ2luLWJvdHRvbTowfS50aXB0YXAtZWRpdG9yX19jb250ZW50IGgxLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgyLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgze2xpbmUtaGVpZ2h0OjEuM30udGlwdGFwLWVkaXRvcl9fY29udGVudCBwcmV7cGFkZGluZzouN3JlbSAxcmVtO2JvcmRlci1yYWRpdXM6NXB4O2JhY2tncm91bmQ6IzAwMDtjb2xvcjojZmZmO2ZvbnQtc2l6ZTouOHJlbTtvdmVyZmxvdy14OmF1dG99LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgcHJlIGNvZGV7ZGlzcGxheTpibG9ja30udGlwdGFwLWVkaXRvcl9fY29udGVudCBwIGNvZGV7ZGlzcGxheTppbmxpbmUtYmxvY2s7cGFkZGluZzowIC40cmVtO2JvcmRlci1yYWRpdXM6NXB4O2ZvbnQtc2l6ZTouOHJlbTtmb250LXdlaWdodDo3MDA7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4xKTtjb2xvcjpyZ2JhKDAsMCwwLC44KX0udGlwdGFwLWVkaXRvcl9fY29udGVudCBvbCwudGlwdGFwLWVkaXRvcl9fY29udGVudCB1bHtwYWRkaW5nLWxlZnQ6MXJlbX0udGlwdGFwLWVkaXRvcl9fY29udGVudCBsaT5vbCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBsaT5wLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGxpPnVse21hcmdpbjowfS50aXB0YXAtZWRpdG9yX19jb250ZW50IGF7Y29sb3I6aW5oZXJpdH0udGlwdGFwLWVkaXRvcl9fY29udGVudCBibG9ja3F1b3Rle2JvcmRlci1sZWZ0OjNweCBzb2xpZCByZ2JhKDAsMCwwLC4xKTtjb2xvcjpyZ2JhKDAsMCwwLC44KTtwYWRkaW5nLWxlZnQ6LjhyZW07Zm9udC1zdHlsZTppdGFsaWN9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgYmxvY2txdW90ZSBwe21hcmdpbjowfS50aXB0YXAtZWRpdG9yX19jb250ZW50IGltZ3ttYXgtd2lkdGg6MTAwJTtib3JkZXItcmFkaXVzOjNweH0udGlwdGFwLWVkaXRvcl9fY29udGVudCB0YWJsZXtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7dGFibGUtbGF5b3V0OmZpeGVkO3dpZHRoOjEwMCU7bWFyZ2luOjA7b3ZlcmZsb3c6aGlkZGVufS50aXB0YXAtZWRpdG9yX19jb250ZW50IHRhYmxlIHRkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHRhYmxlIHRoe21pbi13aWR0aDoxZW07Ym9yZGVyOjJweCBzb2xpZCAjZGRkO3BhZGRpbmc6M3B4IDVweDt2ZXJ0aWNhbC1hbGlnbjp0b3A7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlfS50aXB0YXAtZWRpdG9yX19jb250ZW50IHRhYmxlIHRkPiosLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgdGFibGUgdGg+KnttYXJnaW4tYm90dG9tOjB9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgdGFibGUgdGh7Zm9udC13ZWlnaHQ6NzAwO3RleHQtYWxpZ246bGVmdH0udGlwdGFwLWVkaXRvcl9fY29udGVudCB0YWJsZSAuc2VsZWN0ZWRDZWxsOmFmdGVye3otaW5kZXg6Mjtwb3NpdGlvbjphYnNvbHV0ZTtjb250ZW50OiIiO2xlZnQ6MDtyaWdodDowO3RvcDowO2JvdHRvbTowO2JhY2tncm91bmQ6cmdiYSgyMDAsMjAwLDI1NSwuNCk7cG9pbnRlci1ldmVudHM6bm9uZX0udGlwdGFwLWVkaXRvcl9fY29udGVudCB0YWJsZSAuY29sdW1uLXJlc2l6ZS1oYW5kbGV7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6LTJweDt0b3A6MDtib3R0b206MDt3aWR0aDo0cHg7ei1pbmRleDoyMDtiYWNrZ3JvdW5kLWNvbG9yOiNhZGY7cG9pbnRlci1ldmVudHM6bm9uZX0udGlwdGFwLWVkaXRvcl9fY29udGVudCAudGFibGVXcmFwcGVye21hcmdpbjoxZW0gMDtvdmVyZmxvdy14OmF1dG99LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgLnJlc2l6ZS1jdXJzb3J7Y3Vyc29yOmV3LXJlc2l6ZTtjdXJzb3I6Y29sLXJlc2l6ZX0ubWVudWJhcnttYXJnaW4tYm90dG9tOjFyZW07LXdlYmtpdC10cmFuc2l0aW9uOnZpc2liaWxpdHkgLjJzIC40cyxvcGFjaXR5IC4ycyAuNHM7dHJhbnNpdGlvbjp2aXNpYmlsaXR5IC4ycyAuNHMsb3BhY2l0eSAuMnMgLjRzfS5tZW51YmFyLmlzLWhpZGRlbnt2aXNpYmlsaXR5OmhpZGRlbjtvcGFjaXR5OjB9Lm1lbnViYXIuaXMtZm9jdXNlZHt2aXNpYmlsaXR5OnZpc2libGU7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNpdGlvbjp2aXNpYmlsaXR5IC4ycyxvcGFjaXR5IC4yczt0cmFuc2l0aW9uOnZpc2liaWxpdHkgLjJzLG9wYWNpdHkgLjJzfS5tZW51YmFyX19idXR0b257Zm9udC13ZWlnaHQ6NzAwO2Rpc3BsYXk6LXdlYmtpdC1pbmxpbmUtYm94O2Rpc3BsYXk6LW1zLWlubGluZS1mbGV4Ym94O2Rpc3BsYXk6aW5saW5lLWZsZXg7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtib3JkZXI6MDtjb2xvcjojMDAwO3BhZGRpbmc6LjJyZW0gLjVyZW07bWFyZ2luLXJpZ2h0Oi4ycmVtO2JvcmRlci1yYWRpdXM6M3B4O2N1cnNvcjpwb2ludGVyfS5tZW51YmFyX19idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4wNSl9Lm1lbnViYXJfX2J1dHRvbi5pcy1hY3RpdmV7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4xKX0ubWVudWJhciBzcGFuLm1lbnViYXJfX2J1dHRvbntmb250LXNpemU6MTMuMzMzM3B4fS5tZW51YnViYmxle3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7ei1pbmRleDoyMDtiYWNrZ3JvdW5kOiMwMDA7Ym9yZGVyLXJhZGl1czo1cHg7cGFkZGluZzouM3JlbTttYXJnaW4tYm90dG9tOi41cmVtOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7dmlzaWJpbGl0eTpoaWRkZW47b3BhY2l0eTowOy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC4ycyx2aXNpYmlsaXR5IC4yczt0cmFuc2l0aW9uOm9wYWNpdHkgLjJzLHZpc2liaWxpdHkgLjJzfS5tZW51YnViYmxlLmlzLWFjdGl2ZXtvcGFjaXR5OjE7dmlzaWJpbGl0eTp2aXNpYmxlfS5tZW51YnViYmxlX19idXR0b257ZGlzcGxheTotd2Via2l0LWlubGluZS1ib3g7ZGlzcGxheTotbXMtaW5saW5lLWZsZXhib3g7ZGlzcGxheTppbmxpbmUtZmxleDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JvcmRlcjowO2NvbG9yOiNmZmY7cGFkZGluZzouMnJlbSAuNXJlbTttYXJnaW4tcmlnaHQ6LjJyZW07Ym9yZGVyLXJhZGl1czozcHg7Y3Vyc29yOnBvaW50ZXJ9Lm1lbnVidWJibGVfX2J1dHRvbjpsYXN0LWNoaWxke21hcmdpbi1yaWdodDowfS5tZW51YnViYmxlX19idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC4xKX0ubWVudWJ1YmJsZV9fYnV0dG9uLmlzLWFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjIpfS5tZW51YnViYmxlX19mb3Jte2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXJ9Lm1lbnVidWJibGVfX2lucHV0e2ZvbnQ6aW5oZXJpdDtib3JkZXI6bm9uZTtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2NvbG9yOiNmZmZ9Lmljb25bZGF0YS12LWU1OWY3ODMyXXtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7d2lkdGg6LjhyZW07aGVpZ2h0Oi44cmVtO21hcmdpbjowIC4zcmVtO3RvcDouMDVyZW07ZmlsbDpjdXJyZW50Q29sb3J9Lmljb24gc3ZnW2RhdGEtdi1lNTlmNzgzMl17ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246dG9wO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9Lmljb25bZGF0YS12LWU1OWY3ODMyXTpmaXJzdC1jaGlsZHttYXJnaW4tbGVmdDowfS5pY29uW2RhdGEtdi1lNTlmNzgzMl06bGFzdC1jaGlsZHttYXJnaW4tcmlnaHQ6MH0=\"")
	_ = packr.PackJSONBytes("./tiptapjs/dist/", "tiptap.umd.min.js", "\"KGZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PT10eXBlb2YgZXhwb3J0cyYmIm9iamVjdCI9PT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUocmVxdWlyZSgiVnVlIikpOiJmdW5jdGlvbiI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbIlZ1ZSJdLGUpOiJvYmplY3QiPT09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0c1sidGlwdGFwIl09ZShyZXF1aXJlKCJWdWUiKSk6dFsidGlwdGFwIl09ZSh0WyJWdWUiXSl9KSgidW5kZWZpbmVkIiE9PXR5cGVvZiBzZWxmP3NlbGY6dGhpcywoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9ezc2Nzk6ZnVuY3Rpb24odCxlKXt2YXIgbixyLG87KGZ1bmN0aW9uKGkscyl7cj1bXSxuPXMsbz0iZnVuY3Rpb24iPT09dHlwZW9mIG4/bi5hcHBseShlLHIpOm4sdm9pZCAwPT09b3x8KHQuZXhwb3J0cz1vKX0pKCJ1bmRlZmluZWQiIT09dHlwZW9mIHNlbGYmJnNlbGYsKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZG9jdW1lbnQsImN1cnJlbnRTY3JpcHQiKTtpZighZSYmImN1cnJlbnRTY3JpcHQiaW4gZG9jdW1lbnQmJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQpcmV0dXJuIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQ7aWYoZSYmZS5nZXQhPT10JiZkb2N1bWVudC5jdXJyZW50U2NyaXB0KXJldHVybiBkb2N1bWVudC5jdXJyZW50U2NyaXB0O3RyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2goZil7dmFyIG4scixvLGk9Ly4qYXQgW14oXSpcKCguKik6KC4rKTooLispXCkkL2dpLHM9L0AoW15AXSopOihcZCspOihcZCspXHMqJC9naSxhPWkuZXhlYyhmLnN0YWNrKXx8cy5leGVjKGYuc3RhY2spLGM9YSYmYVsxXXx8ITEsbD1hJiZhWzJdfHwhMSx1PWRvY3VtZW50LmxvY2F0aW9uLmhyZWYucmVwbGFjZShkb2N1bWVudC5sb2NhdGlvbi5oYXNoLCIiKSxwPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKTtjPT09dSYmKG49ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTCxyPW5ldyBSZWdFeHAoIig/OlteXFxuXSs/XFxuKXswLCIrKGwtMikrIn1bXjxdKjxzY3JpcHQ+KFtcXGRcXERdKj8pPFxcL3NjcmlwdD5bXFxkXFxEXSoiLCJpIiksbz1uLnJlcGxhY2UociwiJDEiKS50cmltKCkpO2Zvcih2YXIgaD0wO2g8cC5sZW5ndGg7aCsrKXtpZigiaW50ZXJhY3RpdmUiPT09cFtoXS5yZWFkeVN0YXRlKXJldHVybiBwW2hdO2lmKHBbaF0uc3JjPT09YylyZXR1cm4gcFtoXTtpZihjPT09dSYmcFtoXS5pbm5lckhUTUwmJnBbaF0uaW5uZXJIVE1MLnRyaW0oKT09PW8pcmV0dXJuIHBbaF19cmV0dXJuIG51bGx9fXJldHVybiB0fSkpfSwzMDk5OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKHQpKyIgaXMgbm90IGEgZnVuY3Rpb24iKTtyZXR1cm4gdH19LDYwNzc6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTExKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIXIodCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcigiQ2FuJ3Qgc2V0ICIrU3RyaW5nKHQpKyIgYXMgYSBwcm90b3R5cGUiKTtyZXR1cm4gdH19LDEyMjM6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTExMiksbz1uKDMwKSxpPW4oMzA3MCkscz1yKCJ1bnNjb3BhYmxlcyIpLGE9QXJyYXkucHJvdG90eXBlO3ZvaWQgMD09YVtzXSYmaS5mKGEscyx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOm8obnVsbCl9KSx0LmV4cG9ydHM9ZnVuY3Rpb24odCl7YVtzXVt0XT0hMH19LDk2NzA6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTExKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIXIodCkpdGhyb3cgVHlwZUVycm9yKFN0cmluZyh0KSsiIGlzIG5vdCBhbiBvYmplY3QiKTtyZXR1cm4gdH19LDg0NTc6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDk5NzQpLG89big3OTA4KSxpPW4oMzQxMSkscz1uKDc2NTkpLGE9big3NDY2KSxjPW4oNjEzNSksbD1uKDEyNDYpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZSxuLHUscCxoLGYsZD1vKHQpLG09ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpBcnJheSx2PWFyZ3VtZW50cy5sZW5ndGgsZz12PjE/YXJndW1lbnRzWzFdOnZvaWQgMCx5PXZvaWQgMCE9PWcsdz1sKGQpLGI9MDtpZih5JiYoZz1yKGcsdj4yP2FyZ3VtZW50c1syXTp2b2lkIDAsMikpLHZvaWQgMD09d3x8bT09QXJyYXkmJnModykpZm9yKGU9YShkLmxlbmd0aCksbj1uZXcgbShlKTtlPmI7YisrKWY9eT9nKGRbYl0sYik6ZFtiXSxjKG4sYixmKTtlbHNlIGZvcihwPXcuY2FsbChkKSxoPXAubmV4dCxuPW5ldyBtOyEodT1oLmNhbGwocCkpLmRvbmU7YisrKWY9eT9pKHAsZyxbdS52YWx1ZSxiXSwhMCk6dS52YWx1ZSxjKG4sYixmKTtyZXR1cm4gbi5sZW5ndGg9YixufX0sMTMxODpmdW5jdGlvbih0LGUsbil7dmFyIHI9big1NjU2KSxvPW4oNzQ2NiksaT1uKDE0MDApLHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixzKXt2YXIgYSxjPXIoZSksbD1vKGMubGVuZ3RoKSx1PWkocyxsKTtpZih0JiZuIT1uKXt3aGlsZShsPnUpaWYoYT1jW3UrK10sYSE9YSlyZXR1cm4hMH1lbHNlIGZvcig7bD51O3UrKylpZigodHx8dSBpbiBjKSYmY1t1XT09PW4pcmV0dXJuIHR8fHV8fDA7cmV0dXJuIXQmJi0xfX07dC5leHBvcnRzPXtpbmNsdWRlczpzKCEwKSxpbmRleE9mOnMoITEpfX0sMjA5MjpmdW5jdGlvbih0LGUsbil7dmFyIHI9big5OTc0KSxvPW4oODM2MSksaT1uKDc5MDgpLHM9big3NDY2KSxhPW4oNTQxNyksYz1bXS5wdXNoLGw9ZnVuY3Rpb24odCl7dmFyIGU9MT09dCxuPTI9PXQsbD0zPT10LHU9ND09dCxwPTY9PXQsaD03PT10LGY9NT09dHx8cDtyZXR1cm4gZnVuY3Rpb24oZCxtLHYsZyl7Zm9yKHZhciB5LHcsYj1pKGQpLHg9byhiKSxrPXIobSx2LDMpLFM9cyh4Lmxlbmd0aCksQz0wLE09Z3x8YSxPPWU/TShkLFMpOm58fGg/TShkLDApOnZvaWQgMDtTPkM7QysrKWlmKChmfHxDIGluIHgpJiYoeT14W0NdLHc9ayh5LEMsYiksdCkpaWYoZSlPW0NdPXc7ZWxzZSBpZih3KXN3aXRjaCh0KXtjYXNlIDM6cmV0dXJuITA7Y2FzZSA1OnJldHVybiB5O2Nhc2UgNjpyZXR1cm4gQztjYXNlIDI6Yy5jYWxsKE8seSl9ZWxzZSBzd2l0Y2godCl7Y2FzZSA0OnJldHVybiExO2Nhc2UgNzpjLmNhbGwoTyx5KX1yZXR1cm4gcD8tMTpsfHx1P3U6T319O3QuZXhwb3J0cz17Zm9yRWFjaDpsKDApLG1hcDpsKDEpLGZpbHRlcjpsKDIpLHNvbWU6bCgzKSxldmVyeTpsKDQpLGZpbmQ6bCg1KSxmaW5kSW5kZXg6bCg2KSxmaWx0ZXJPdXQ6bCg3KX19LDExOTQ6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNzI5Myksbz1uKDUxMTIpLGk9big3MzkyKSxzPW8oInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGk+PTUxfHwhcigoZnVuY3Rpb24oKXt2YXIgZT1bXSxuPWUuY29uc3RydWN0b3I9e307cmV0dXJuIG5bc109ZnVuY3Rpb24oKXtyZXR1cm57Zm9vOjF9fSwxIT09ZVt0XShCb29sZWFuKS5mb299KSl9fSw1NDE3OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDExMSksbz1uKDMxNTcpLGk9big1MTEyKSxzPWkoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbyh0KSYmKG49dC5jb25zdHJ1Y3RvciwiZnVuY3Rpb24iIT10eXBlb2Ygbnx8biE9PUFycmF5JiYhbyhuLnByb3RvdHlwZSk/cihuKSYmKG49bltzXSxudWxsPT09biYmKG49dm9pZCAwKSk6bj12b2lkIDApLG5ldyh2b2lkIDA9PT1uP0FycmF5Om4pKDA9PT1lPzA6ZSl9fSwzNDExOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDk2NzApLG89big5MjEyKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4saSl7dHJ5e3JldHVybiBpP2UocihuKVswXSxuWzFdKTplKG4pfWNhdGNoKHMpe3Rocm93IG8odCksc319fSw3MDcyOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDUxMTIpLG89cigiaXRlcmF0b3IiKSxpPSExO3RyeXt2YXIgcz0wLGE9e25leHQ6ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTohIXMrK319LHJldHVybjpmdW5jdGlvbigpe2k9ITB9fTthW29dPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LEFycmF5LmZyb20oYSwoZnVuY3Rpb24oKXt0aHJvdyAyfSkpfWNhdGNoKGMpe310LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZighZSYmIWkpcmV0dXJuITE7dmFyIG49ITE7dHJ5e3ZhciByPXt9O3Jbb109ZnVuY3Rpb24oKXtyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybntkb25lOm49ITB9fX19LHQocil9Y2F0Y2goYyl7fXJldHVybiBufX0sNDMyNjpmdW5jdGlvbih0KXt2YXIgZT17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGUuY2FsbCh0KS5zbGljZSg4LC0xKX19LDY0ODpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNjk0KSxvPW4oNDMyNiksaT1uKDUxMTIpLHM9aSgidG9TdHJpbmdUYWciKSxhPSJBcmd1bWVudHMiPT1vKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSksYz1mdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4gdFtlXX1jYXRjaChuKXt9fTt0LmV4cG9ydHM9cj9vOmZ1bmN0aW9uKHQpe3ZhciBlLG4scjtyZXR1cm4gdm9pZCAwPT09dD8iVW5kZWZpbmVkIjpudWxsPT09dD8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihuPWMoZT1PYmplY3QodCkscykpP246YT9vKGUpOiJPYmplY3QiPT0ocj1vKGUpKSYmImZ1bmN0aW9uIj09dHlwZW9mIGUuY2FsbGVlPyJBcmd1bWVudHMiOnJ9fSw5OTIwOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDY2NTYpLG89bigzODg3KSxpPW4oMTIzNikscz1uKDMwNzApO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1vKGUpLGE9cy5mLGM9aS5mLGw9MDtsPG4ubGVuZ3RoO2wrKyl7dmFyIHU9bltsXTtyKHQsdSl8fGEodCx1LGMoZSx1KSl9fX0sODU0NDpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3MjkzKTt0LmV4cG9ydHM9IXIoKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuY29uc3RydWN0b3I9bnVsbCxPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IHQpIT09dC5wcm90b3R5cGV9KSl9LDQ5OTQ6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDMzODMpLkl0ZXJhdG9yUHJvdG90eXBlLG89bigzMCksaT1uKDkxMTQpLHM9big4MDAzKSxhPW4oNzQ5NyksYz1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3ZhciBsPWUrIiBJdGVyYXRvciI7cmV0dXJuIHQucHJvdG90eXBlPW8ocix7bmV4dDppKDEsbil9KSxzKHQsbCwhMSwhMCksYVtsXT1jLHR9fSw4ODgwOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDk3ODEpLG89bigzMDcwKSxpPW4oOTExNCk7dC5leHBvcnRzPXI/ZnVuY3Rpb24odCxlLG4pe3JldHVybiBvLmYodCxlLGkoMSxuKSl9OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFtlXT1uLHR9fSw5MTE0OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybntlbnVtZXJhYmxlOiEoMSZ0KSxjb25maWd1cmFibGU6ISgyJnQpLHdyaXRhYmxlOiEoNCZ0KSx2YWx1ZTplfX19LDYxMzU6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDc1OTMpLG89bigzMDcwKSxpPW4oOTExNCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcz1yKGUpO3MgaW4gdD9vLmYodCxzLGkoMCxuKSk6dFtzXT1ufX0sNjU0OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyMTA5KSxvPW4oNDk5NCksaT1uKDk1MTgpLHM9big3Njc0KSxhPW4oODAwMyksYz1uKDg4ODApLGw9bigxMzIwKSx1PW4oNTExMikscD1uKDE5MTMpLGg9big3NDk3KSxmPW4oMzM4MyksZD1mLkl0ZXJhdG9yUHJvdG90eXBlLG09Zi5CVUdHWV9TQUZBUklfSVRFUkFUT1JTLHY9dSgiaXRlcmF0b3IiKSxnPSJrZXlzIix5PSJ2YWx1ZXMiLHc9ImVudHJpZXMiLGI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLHUsZix4LGspe28obixlLHUpO3ZhciBTLEMsTSxPPWZ1bmN0aW9uKHQpe2lmKHQ9PT1mJiZEKXJldHVybiBEO2lmKCFtJiZ0IGluIEUpcmV0dXJuIEVbdF07c3dpdGNoKHQpe2Nhc2UgZzpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyx0KX07Y2FzZSB5OnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLHQpfTtjYXNlIHc6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMsdCl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzKX19LEE9ZSsiIEl0ZXJhdG9yIixOPSExLEU9dC5wcm90b3R5cGUsVD1FW3ZdfHxFWyJAQGl0ZXJhdG9yIl18fGYmJkVbZl0sRD0hbSYmVHx8TyhmKSxfPSJBcnJheSI9PWUmJkUuZW50cmllc3x8VDtpZihfJiYoUz1pKF8uY2FsbChuZXcgdCkpLGQhPT1PYmplY3QucHJvdG90eXBlJiZTLm5leHQmJihwfHxpKFMpPT09ZHx8KHM/cyhTLGQpOiJmdW5jdGlvbiIhPXR5cGVvZiBTW3ZdJiZjKFMsdixiKSksYShTLEEsITAsITApLHAmJihoW0FdPWIpKSksZj09eSYmVCYmVC5uYW1lIT09eSYmKE49ITAsRD1mdW5jdGlvbigpe3JldHVybiBULmNhbGwodGhpcyl9KSxwJiYha3x8RVt2XT09PUR8fGMoRSx2LEQpLGhbZV09RCxmKWlmKEM9e3ZhbHVlczpPKHkpLGtleXM6eD9EOk8oZyksZW50cmllczpPKHcpfSxrKWZvcihNIGluIEMpKG18fE58fCEoTSBpbiBFKSkmJmwoRSxNLENbTV0pO2Vsc2Ugcih7dGFyZ2V0OmUscHJvdG86ITAsZm9yY2VkOm18fE59LEMpO3JldHVybiBDfX0sNzIzNTpmdW5jdGlvbih0LGUsbil7dmFyIHI9big4NTcpLG89big2NjU2KSxpPW4oNjA2MSkscz1uKDMwNzApLmY7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXIuU3ltYm9sfHwoci5TeW1ib2w9e30pO28oZSx0KXx8cyhlLHQse3ZhbHVlOmkuZih0KX0pfX0sOTc4MTpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3MjkzKTt0LmV4cG9ydHM9IXIoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KVsxXX0pKX0sMzE3OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDc4NTQpLG89bigxMTEpLGk9ci5kb2N1bWVudCxzPW8oaSkmJm8oaS5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHM/aS5jcmVhdGVFbGVtZW50KHQpOnt9fX0sODMyNDpmdW5jdGlvbih0KXt0LmV4cG9ydHM9e0NTU1J1bGVMaXN0OjAsQ1NTU3R5bGVEZWNsYXJhdGlvbjowLENTU1ZhbHVlTGlzdDowLENsaWVudFJlY3RMaXN0OjAsRE9NUmVjdExpc3Q6MCxET01TdHJpbmdMaXN0OjAsRE9NVG9rZW5MaXN0OjEsRGF0YVRyYW5zZmVySXRlbUxpc3Q6MCxGaWxlTGlzdDowLEhUTUxBbGxDb2xsZWN0aW9uOjAsSFRNTENvbGxlY3Rpb246MCxIVE1MRm9ybUVsZW1lbnQ6MCxIVE1MU2VsZWN0RWxlbWVudDowLE1lZGlhTGlzdDowLE1pbWVUeXBlQXJyYXk6MCxOYW1lZE5vZGVNYXA6MCxOb2RlTGlzdDoxLFBhaW50UmVxdWVzdExpc3Q6MCxQbHVnaW46MCxQbHVnaW5BcnJheTowLFNWR0xlbmd0aExpc3Q6MCxTVkdOdW1iZXJMaXN0OjAsU1ZHUGF0aFNlZ0xpc3Q6MCxTVkdQb2ludExpc3Q6MCxTVkdTdHJpbmdMaXN0OjAsU1ZHVHJhbnNmb3JtTGlzdDowLFNvdXJjZUJ1ZmZlckxpc3Q6MCxTdHlsZVNoZWV0TGlzdDowLFRleHRUcmFja0N1ZUxpc3Q6MCxUZXh0VHJhY2tMaXN0OjAsVG91Y2hMaXN0OjB9fSw4MTEzOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDUwMDUpO3QuZXhwb3J0cz1yKCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiKXx8IiJ9LDczOTI6ZnVuY3Rpb24odCxlLG4pe3ZhciByLG8saT1uKDc4NTQpLHM9big4MTEzKSxhPWkucHJvY2VzcyxjPWEmJmEudmVyc2lvbnMsbD1jJiZjLnY4O2w/KHI9bC5zcGxpdCgiLiIpLG89clswXTw0PzE6clswXStyWzFdKTpzJiYocj1zLm1hdGNoKC9FZGdlXC8oXGQrKS8pLCghcnx8clsxXT49NzQpJiYocj1zLm1hdGNoKC9DaHJvbWVcLyhcZCspLyksciYmKG89clsxXSkpKSx0LmV4cG9ydHM9byYmK299LDc0ODpmdW5jdGlvbih0KXt0LmV4cG9ydHM9WyJjb25zdHJ1Y3RvciIsImhhc093blByb3BlcnR5IiwiaXNQcm90b3R5cGVPZiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwidG9Mb2NhbGVTdHJpbmciLCJ0b1N0cmluZyIsInZhbHVlT2YiXX0sMjEwOTpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3ODU0KSxvPW4oMTIzNikuZixpPW4oODg4MCkscz1uKDEzMjApLGE9bigzNTA1KSxjPW4oOTkyMCksbD1uKDQ3MDUpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLHUscCxoLGYsZCxtPXQudGFyZ2V0LHY9dC5nbG9iYWwsZz10LnN0YXQ7aWYodT12P3I6Zz9yW21dfHxhKG0se30pOihyW21dfHx7fSkucHJvdG90eXBlLHUpZm9yKHAgaW4gZSl7aWYoZj1lW3BdLHQubm9UYXJnZXRHZXQ/KGQ9byh1LHApLGg9ZCYmZC52YWx1ZSk6aD11W3BdLG49bCh2P3A6bSsoZz8iLiI6IiMiKStwLHQuZm9yY2VkKSwhbiYmdm9pZCAwIT09aCl7aWYodHlwZW9mIGY9PT10eXBlb2YgaCljb250aW51ZTtjKGYsaCl9KHQuc2hhbXx8aCYmaC5zaGFtKSYmaShmLCJzaGFtIiwhMCkscyh1LHAsZix0KX19fSw3MjkzOmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuISF0KCl9Y2F0Y2goZSl7cmV0dXJuITB9fX0sOTk3NDpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMDk5KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2lmKHIodCksdm9pZCAwPT09ZSlyZXR1cm4gdDtzd2l0Y2gobil7Y2FzZSAwOnJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmNhbGwoZSl9O2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQuY2FsbChlLG4pfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIHQuY2FsbChlLG4scil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24obixyLG8pe3JldHVybiB0LmNhbGwoZSxuLHIsbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19fSw1MDA1OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDg1Nyksbz1uKDc4NTQpLGk9ZnVuY3Rpb24odCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDp2b2lkIDB9O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDI/aShyW3RdKXx8aShvW3RdKTpyW3RdJiZyW3RdW2VdfHxvW3RdJiZvW3RdW2VdfX0sMTI0NjpmdW5jdGlvbih0LGUsbil7dmFyIHI9big2NDgpLG89big3NDk3KSxpPW4oNTExMikscz1pKCJpdGVyYXRvciIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZih2b2lkIDAhPXQpcmV0dXJuIHRbc118fHRbIkBAaXRlcmF0b3IiXXx8b1tyKHQpXX19LDc4NTQ6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lk1hdGg9PU1hdGgmJnR9O3QuZXhwb3J0cz1yKCJvYmplY3QiPT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyl8fHIoIm9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyl8fHIoIm9iamVjdCI9PXR5cGVvZiBzZWxmJiZzZWxmKXx8cigib2JqZWN0Ij09dHlwZW9mIG4uZyYmbi5nKXx8ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKXx8RnVuY3Rpb24oInJldHVybiB0aGlzIikoKX0sNjY1NjpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3OTA4KSxvPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1PYmplY3QuaGFzT3dufHxmdW5jdGlvbih0LGUpe3JldHVybiBvLmNhbGwocih0KSxlKX19LDM1MDE6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXt9fSw0OTA6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTAwNSk7dC5leHBvcnRzPXIoImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50Iil9LDQ2NjQ6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOTc4MSksbz1uKDcyOTMpLGk9bigzMTcpO3QuZXhwb3J0cz0hciYmIW8oKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KSl9LDgzNjE6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNzI5Myksbz1uKDQzMjYpLGk9IiIuc3BsaXQ7dC5leHBvcnRzPXIoKGZ1bmN0aW9uKCl7cmV0dXJuIU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApfSkpP2Z1bmN0aW9uKHQpe3JldHVybiJTdHJpbmciPT1vKHQpP2kuY2FsbCh0LCIiKTpPYmplY3QodCl9Ok9iamVjdH0sMjc4ODpmdW5jdGlvbih0LGUsbil7dmFyIHI9big1NDY1KSxvPUZ1bmN0aW9uLnRvU3RyaW5nOyJmdW5jdGlvbiIhPXR5cGVvZiByLmluc3BlY3RTb3VyY2UmJihyLmluc3BlY3RTb3VyY2U9ZnVuY3Rpb24odCl7cmV0dXJuIG8uY2FsbCh0KX0pLHQuZXhwb3J0cz1yLmluc3BlY3RTb3VyY2V9LDk5MDk6ZnVuY3Rpb24odCxlLG4pe3ZhciByLG8saSxzPW4oODUzNiksYT1uKDc4NTQpLGM9bigxMTEpLGw9big4ODgwKSx1PW4oNjY1NikscD1uKDU0NjUpLGg9big2MjAwKSxmPW4oMzUwMSksZD0iT2JqZWN0IGFscmVhZHkgaW5pdGlhbGl6ZWQiLG09YS5XZWFrTWFwLHY9ZnVuY3Rpb24odCl7cmV0dXJuIGkodCk/byh0KTpyKHQse30pfSxnPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbjtpZighYyhlKXx8KG49byhlKSkudHlwZSE9PXQpdGhyb3cgVHlwZUVycm9yKCJJbmNvbXBhdGlibGUgcmVjZWl2ZXIsICIrdCsiIHJlcXVpcmVkIik7cmV0dXJuIG59fTtpZihzfHxwLnN0YXRlKXt2YXIgeT1wLnN0YXRlfHwocC5zdGF0ZT1uZXcgbSksdz15LmdldCxiPXkuaGFzLHg9eS5zZXQ7cj1mdW5jdGlvbih0LGUpe2lmKGIuY2FsbCh5LHQpKXRocm93IG5ldyBUeXBlRXJyb3IoZCk7cmV0dXJuIGUuZmFjYWRlPXQseC5jYWxsKHksdCxlKSxlfSxvPWZ1bmN0aW9uKHQpe3JldHVybiB3LmNhbGwoeSx0KXx8e319LGk9ZnVuY3Rpb24odCl7cmV0dXJuIGIuY2FsbCh5LHQpfX1lbHNle3ZhciBrPWgoInN0YXRlIik7ZltrXT0hMCxyPWZ1bmN0aW9uKHQsZSl7aWYodSh0LGspKXRocm93IG5ldyBUeXBlRXJyb3IoZCk7cmV0dXJuIGUuZmFjYWRlPXQsbCh0LGssZSksZX0sbz1mdW5jdGlvbih0KXtyZXR1cm4gdSh0LGspP3Rba106e319LGk9ZnVuY3Rpb24odCl7cmV0dXJuIHUodCxrKX19dC5leHBvcnRzPXtzZXQ6cixnZXQ6byxoYXM6aSxlbmZvcmNlOnYsZ2V0dGVyRm9yOmd9fSw3NjU5OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDUxMTIpLG89big3NDk3KSxpPXIoIml0ZXJhdG9yIikscz1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10JiYoby5BcnJheT09PXR8fHNbaV09PT10KX19LDMxNTc6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDMyNik7dC5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVybiJBcnJheSI9PXIodCl9fSw0NzA1OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcyOTMpLG89LyN8XC5wcm90b3R5cGVcLi8saT1mdW5jdGlvbih0LGUpe3ZhciBuPWFbcyh0KV07cmV0dXJuIG49PWx8fG4hPWMmJigiZnVuY3Rpb24iPT10eXBlb2YgZT9yKGUpOiEhZSl9LHM9aS5ub3JtYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIFN0cmluZyh0KS5yZXBsYWNlKG8sIi4iKS50b0xvd2VyQ2FzZSgpfSxhPWkuZGF0YT17fSxjPWkuTkFUSVZFPSJOIixsPWkuUE9MWUZJTEw9IlAiO3QuZXhwb3J0cz1pfSwxMTE6ZnVuY3Rpb24odCl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiJvYmplY3QiPT09dHlwZW9mIHQ/bnVsbCE9PXQ6ImZ1bmN0aW9uIj09PXR5cGVvZiB0fX0sMTkxMzpmdW5jdGlvbih0KXt0LmV4cG9ydHM9ITF9LDkyMTI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOTY3MCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRbInJldHVybiJdO2lmKHZvaWQgMCE9PWUpcmV0dXJuIHIoZS5jYWxsKHQpKS52YWx1ZX19LDMzODM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcixvLGkscz1uKDcyOTMpLGE9big5NTE4KSxjPW4oODg4MCksbD1uKDY2NTYpLHU9big1MTEyKSxwPW4oMTkxMyksaD11KCJpdGVyYXRvciIpLGY9ITEsZD1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtbXS5rZXlzJiYoaT1bXS5rZXlzKCksIm5leHQiaW4gaT8obz1hKGEoaSkpLG8hPT1PYmplY3QucHJvdG90eXBlJiYocj1vKSk6Zj0hMCk7dmFyIG09dm9pZCAwPT1yfHxzKChmdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiByW2hdLmNhbGwodCkhPT10fSkpO20mJihyPXt9KSxwJiYhbXx8bChyLGgpfHxjKHIsaCxkKSx0LmV4cG9ydHM9e0l0ZXJhdG9yUHJvdG90eXBlOnIsQlVHR1lfU0FGQVJJX0lURVJBVE9SUzpmfX0sNzQ5NzpmdW5jdGlvbih0KXt0LmV4cG9ydHM9e319LDEzMzpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3MzkyKSxvPW4oNzI5Myk7dC5leHBvcnRzPSEhT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyYmIW8oKGZ1bmN0aW9uKCl7dmFyIHQ9U3ltYm9sKCk7cmV0dXJuIVN0cmluZyh0KXx8IShPYmplY3QodClpbnN0YW5jZW9mIFN5bWJvbCl8fCFTeW1ib2wuc2hhbSYmciYmcjw0MX0pKX0sODUzNjpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3ODU0KSxvPW4oMjc4OCksaT1yLldlYWtNYXA7dC5leHBvcnRzPSJmdW5jdGlvbiI9PT10eXBlb2YgaSYmL25hdGl2ZSBjb2RlLy50ZXN0KG8oaSkpfSwzMDpmdW5jdGlvbih0LGUsbil7dmFyIHIsbz1uKDk2NzApLGk9big2MDQ4KSxzPW4oNzQ4KSxhPW4oMzUwMSksYz1uKDQ5MCksbD1uKDMxNyksdT1uKDYyMDApLHA9Ij4iLGg9IjwiLGY9InByb3RvdHlwZSIsZD0ic2NyaXB0IixtPXUoIklFX1BST1RPIiksdj1mdW5jdGlvbigpe30sZz1mdW5jdGlvbih0KXtyZXR1cm4gaCtkK3ArdCtoKyIvIitkK3B9LHk9ZnVuY3Rpb24odCl7dC53cml0ZShnKCIiKSksdC5jbG9zZSgpO3ZhciBlPXQucGFyZW50V2luZG93Lk9iamVjdDtyZXR1cm4gdD1udWxsLGV9LHc9ZnVuY3Rpb24oKXt2YXIgdCxlPWwoImlmcmFtZSIpLG49ImphdmEiK2QrIjoiO3JldHVybiBlLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGMuYXBwZW5kQ2hpbGQoZSksZS5zcmM9U3RyaW5nKG4pLHQ9ZS5jb250ZW50V2luZG93LmRvY3VtZW50LHQub3BlbigpLHQud3JpdGUoZygiZG9jdW1lbnQuRj1PYmplY3QiKSksdC5jbG9zZSgpLHQuRn0sYj1mdW5jdGlvbigpe3RyeXtyPWRvY3VtZW50LmRvbWFpbiYmbmV3IEFjdGl2ZVhPYmplY3QoImh0bWxmaWxlIil9Y2F0Y2goZSl7fWI9cj95KHIpOncoKTt2YXIgdD1zLmxlbmd0aDt3aGlsZSh0LS0pZGVsZXRlIGJbZl1bc1t0XV07cmV0dXJuIGIoKX07YVttXT0hMCx0LmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbnVsbCE9PXQ/KHZbZl09byh0KSxuPW5ldyB2LHZbZl09bnVsbCxuW21dPXQpOm49YigpLHZvaWQgMD09PWU/bjppKG4sZSl9fSw2MDQ4OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDk3ODEpLG89bigzMDcwKSxpPW4oOTY3MCkscz1uKDE5NTYpO3QuZXhwb3J0cz1yP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKHQsZSl7aSh0KTt2YXIgbixyPXMoZSksYT1yLmxlbmd0aCxjPTA7d2hpbGUoYT5jKW8uZih0LG49cltjKytdLGVbbl0pO3JldHVybiB0fX0sMzA3MDpmdW5jdGlvbih0LGUsbil7dmFyIHI9big5NzgxKSxvPW4oNDY2NCksaT1uKDk2NzApLHM9big3NTkzKSxhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtlLmY9cj9hOmZ1bmN0aW9uKHQsZSxuKXtpZihpKHQpLGU9cyhlLCEwKSxpKG4pLG8pdHJ5e3JldHVybiBhKHQsZSxuKX1jYXRjaChyKXt9aWYoImdldCJpbiBufHwic2V0ImluIG4pdGhyb3cgVHlwZUVycm9yKCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCIpO3JldHVybiJ2YWx1ZSJpbiBuJiYodFtlXT1uLnZhbHVlKSx0fX0sMTIzNjpmdW5jdGlvbih0LGUsbil7dmFyIHI9big5NzgxKSxvPW4oNTI5NiksaT1uKDkxMTQpLHM9big1NjU2KSxhPW4oNzU5MyksYz1uKDY2NTYpLGw9big0NjY0KSx1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7ZS5mPXI/dTpmdW5jdGlvbih0LGUpe2lmKHQ9cyh0KSxlPWEoZSwhMCksbCl0cnl7cmV0dXJuIHUodCxlKX1jYXRjaChuKXt9aWYoYyh0LGUpKXJldHVybiBpKCFvLmYuY2FsbCh0LGUpLHRbZV0pfX0sMTE1NjpmdW5jdGlvbih0LGUsbil7dmFyIHI9big1NjU2KSxvPW4oODAwNikuZixpPXt9LnRvU3RyaW5nLHM9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxhPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gbyh0KX1jYXRjaChlKXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmY9ZnVuY3Rpb24odCl7cmV0dXJuIHMmJiJbb2JqZWN0IFdpbmRvd10iPT1pLmNhbGwodCk/YSh0KTpvKHIodCkpfX0sODAwNjpmdW5jdGlvbih0LGUsbil7dmFyIHI9big2MzI0KSxvPW4oNzQ4KSxpPW8uY29uY2F0KCJsZW5ndGgiLCJwcm90b3R5cGUiKTtlLmY9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fGZ1bmN0aW9uKHQpe3JldHVybiByKHQsaSl9fSw1MTgxOmZ1bmN0aW9uKHQsZSl7ZS5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LDk1MTg6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNjY1Niksbz1uKDc5MDgpLGk9big2MjAwKSxzPW4oODU0NCksYT1pKCJJRV9QUk9UTyIpLGM9T2JqZWN0LnByb3RvdHlwZTt0LmV4cG9ydHM9cz9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9byh0KSxyKHQsYSk/dFthXToiZnVuY3Rpb24iPT10eXBlb2YgdC5jb25zdHJ1Y3RvciYmdCBpbnN0YW5jZW9mIHQuY29uc3RydWN0b3I/dC5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6dCBpbnN0YW5jZW9mIE9iamVjdD9jOm51bGx9fSw2MzI0OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDY2NTYpLG89big1NjU2KSxpPW4oMTMxOCkuaW5kZXhPZixzPW4oMzUwMSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG4sYT1vKHQpLGM9MCxsPVtdO2ZvcihuIGluIGEpIXIocyxuKSYmcihhLG4pJiZsLnB1c2gobik7d2hpbGUoZS5sZW5ndGg+YylyKGEsbj1lW2MrK10pJiYofmkobCxuKXx8bC5wdXNoKG4pKTtyZXR1cm4gbH19LDE5NTY6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNjMyNCksbz1uKDc0OCk7dC5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gcih0LG8pfX0sNTI5NjpmdW5jdGlvbih0LGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isbz1yJiYhbi5jYWxsKHsxOjJ9LDEpO2UuZj1vP2Z1bmN0aW9uKHQpe3ZhciBlPXIodGhpcyx0KTtyZXR1cm4hIWUmJmUuZW51bWVyYWJsZX06bn0sNzY3NDpmdW5jdGlvbih0LGUsbil7dmFyIHI9big5NjcwKSxvPW4oNjA3Nyk7dC5leHBvcnRzPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbigpe3ZhciB0LGU9ITEsbj17fTt0cnl7dD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCx0LmNhbGwobixbXSksZT1uIGluc3RhbmNlb2YgQXJyYXl9Y2F0Y2goaSl7fXJldHVybiBmdW5jdGlvbihuLGkpe3JldHVybiByKG4pLG8oaSksZT90LmNhbGwobixpKTpuLl9fcHJvdG9fXz1pLG59fSgpOnZvaWQgMCl9LDQ2OTk6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOTc4MSksbz1uKDE5NTYpLGk9big1NjU2KSxzPW4oNTI5NikuZixhPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbixhPWkoZSksYz1vKGEpLGw9Yy5sZW5ndGgsdT0wLHA9W107d2hpbGUobD51KW49Y1t1KytdLHImJiFzLmNhbGwoYSxuKXx8cC5wdXNoKHQ/W24sYVtuXV06YVtuXSk7cmV0dXJuIHB9fTt0LmV4cG9ydHM9e2VudHJpZXM6YSghMCksdmFsdWVzOmEoITEpfX0sMjg4OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNjk0KSxvPW4oNjQ4KTt0LmV4cG9ydHM9cj97fS50b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJbb2JqZWN0ICIrbyh0aGlzKSsiXSJ9fSwzODg3OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDUwMDUpLG89big4MDA2KSxpPW4oNTE4MSkscz1uKDk2NzApO3QuZXhwb3J0cz1yKCJSZWZsZWN0Iiwib3duS2V5cyIpfHxmdW5jdGlvbih0KXt2YXIgZT1vLmYocyh0KSksbj1pLmY7cmV0dXJuIG4/ZS5jb25jYXQobih0KSk6ZX19LDg1NzpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3ODU0KTt0LmV4cG9ydHM9cn0sMTMyMDpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3ODU0KSxvPW4oODg4MCksaT1uKDY2NTYpLHM9bigzNTA1KSxhPW4oMjc4OCksYz1uKDk5MDkpLGw9Yy5nZXQsdT1jLmVuZm9yY2UscD1TdHJpbmcoU3RyaW5nKS5zcGxpdCgiU3RyaW5nIik7KHQuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixhKXt2YXIgYyxsPSEhYSYmISFhLnVuc2FmZSxoPSEhYSYmISFhLmVudW1lcmFibGUsZj0hIWEmJiEhYS5ub1RhcmdldEdldDsiZnVuY3Rpb24iPT10eXBlb2YgbiYmKCJzdHJpbmciIT10eXBlb2YgZXx8aShuLCJuYW1lIil8fG8obiwibmFtZSIsZSksYz11KG4pLGMuc291cmNlfHwoYy5zb3VyY2U9cC5qb2luKCJzdHJpbmciPT10eXBlb2YgZT9lOiIiKSkpLHQhPT1yPyhsPyFmJiZ0W2VdJiYoaD0hMCk6ZGVsZXRlIHRbZV0saD90W2VdPW46byh0LGUsbikpOmg/dFtlXT1uOnMoZSxuKX0pKEZ1bmN0aW9uLnByb3RvdHlwZSwidG9TdHJpbmciLChmdW5jdGlvbigpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzJiZsKHRoaXMpLnNvdXJjZXx8YSh0aGlzKX0pKX0sNDQ4ODpmdW5jdGlvbih0KXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT10KXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIit0KTtyZXR1cm4gdH19LDM1MDU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNzg1NCksbz1uKDg4ODApO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3RyeXtvKHIsdCxlKX1jYXRjaChuKXtyW3RdPWV9cmV0dXJuIGV9fSw4MDAzOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMwNzApLmYsbz1uKDY2NTYpLGk9big1MTEyKSxzPWkoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt0JiYhbyh0PW4/dDp0LnByb3RvdHlwZSxzKSYmcih0LHMse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTplfSl9fSw2MjAwOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIzMDkpLG89big5NzExKSxpPXIoImtleXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlbdF18fChpW3RdPW8odCkpfX0sNTQ2NTpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3ODU0KSxvPW4oMzUwNSksaT0iX19jb3JlLWpzX3NoYXJlZF9fIixzPXJbaV18fG8oaSx7fSk7dC5leHBvcnRzPXN9LDIzMDk6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTkxMyksbz1uKDU0NjUpOyh0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gb1t0XXx8KG9bdF09dm9pZCAwIT09ZT9lOnt9KX0pKCJ2ZXJzaW9ucyIsW10pLnB1c2goe3ZlcnNpb246IjMuMTUuMiIsbW9kZTpyPyJwdXJlIjoiZ2xvYmFsIixjb3B5cmlnaHQ6IsKpIDIwMjEgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSkifSl9LDg3MTA6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOTk1OCksbz1uKDQ0ODgpLGk9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIGkscyxhPVN0cmluZyhvKGUpKSxjPXIobiksbD1hLmxlbmd0aDtyZXR1cm4gYzwwfHxjPj1sP3Q/IiI6dm9pZCAwOihpPWEuY2hhckNvZGVBdChjKSxpPDU1Mjk2fHxpPjU2MzE5fHxjKzE9PT1sfHwocz1hLmNoYXJDb2RlQXQoYysxKSk8NTYzMjB8fHM+NTczNDM/dD9hLmNoYXJBdChjKTppOnQ/YS5zbGljZShjLGMrMik6cy01NjMyMCsoaS01NTI5Njw8MTApKzY1NTM2KX19O3QuZXhwb3J0cz17Y29kZUF0OmkoITEpLGNoYXJBdDppKCEwKX19LDE0MDA6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOTk1OCksbz1NYXRoLm1heCxpPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuPXIodCk7cmV0dXJuIG48MD9vKG4rZSwwKTppKG4sZSl9fSw1NjU2OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDgzNjEpLG89big0NDg4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIobyh0KSl9fSw5OTU4OmZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguY2VpbCxuPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpc05hTih0PSt0KT8wOih0PjA/bjplKSh0KX19LDc0NjY6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOTk1OCksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+MD9vKHIodCksOTAwNzE5OTI1NDc0MDk5MSk6MH19LDc5MDg6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDQ4OCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qocih0KSl9fSw3NTkzOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDExMSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoIXIodCkpcmV0dXJuIHQ7dmFyIG4sbztpZihlJiYiZnVuY3Rpb24iPT10eXBlb2Yobj10LnRvU3RyaW5nKSYmIXIobz1uLmNhbGwodCkpKXJldHVybiBvO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihuPXQudmFsdWVPZikmJiFyKG89bi5jYWxsKHQpKSlyZXR1cm4gbztpZighZSYmImZ1bmN0aW9uIj09dHlwZW9mKG49dC50b1N0cmluZykmJiFyKG89bi5jYWxsKHQpKSlyZXR1cm4gbzt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0sMTY5NDpmdW5jdGlvbih0LGUsbil7dmFyIHI9big1MTEyKSxvPXIoInRvU3RyaW5nVGFnIiksaT17fTtpW29dPSJ6Iix0LmV4cG9ydHM9IltvYmplY3Qgel0iPT09U3RyaW5nKGkpfSw5NzExOmZ1bmN0aW9uKHQpe3ZhciBlPTAsbj1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4iU3ltYm9sKCIrU3RyaW5nKHZvaWQgMD09PXQ/IiI6dCkrIilfIisoKytlK24pLnRvU3RyaW5nKDM2KX19LDMzMDc6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTMzKTt0LmV4cG9ydHM9ciYmIVN5bWJvbC5zaGFtJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcn0sNjA2MTpmdW5jdGlvbih0LGUsbil7dmFyIHI9big1MTEyKTtlLmY9cn0sNTExMjpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3ODU0KSxvPW4oMjMwOSksaT1uKDY2NTYpLHM9big5NzExKSxhPW4oMTMzKSxjPW4oMzMwNyksbD1vKCJ3a3MiKSx1PXIuU3ltYm9sLHA9Yz91OnUmJnUud2l0aG91dFNldHRlcnx8czt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGkobCx0KSYmKGF8fCJzdHJpbmciPT10eXBlb2YgbFt0XSl8fChhJiZpKHUsdCk/bFt0XT11W3RdOmxbdF09cCgiU3ltYm9sLiIrdCkpLGxbdF19fSwxMDM4OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIxMDkpLG89big4NDU3KSxpPW4oNzA3Mikscz0haSgoZnVuY3Rpb24odCl7QXJyYXkuZnJvbSh0KX0pKTtyKHt0YXJnZXQ6IkFycmF5IixzdGF0OiEwLGZvcmNlZDpzfSx7ZnJvbTpvfSl9LDY5OTI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDU2NTYpLG89bigxMjIzKSxpPW4oNzQ5Nykscz1uKDk5MDkpLGE9big2NTQpLGM9IkFycmF5IEl0ZXJhdG9yIixsPXMuc2V0LHU9cy5nZXR0ZXJGb3IoYyk7dC5leHBvcnRzPWEoQXJyYXksIkFycmF5IiwoZnVuY3Rpb24odCxlKXtsKHRoaXMse3R5cGU6Yyx0YXJnZXQ6cih0KSxpbmRleDowLGtpbmQ6ZX0pfSksKGZ1bmN0aW9uKCl7dmFyIHQ9dSh0aGlzKSxlPXQudGFyZ2V0LG49dC5raW5kLHI9dC5pbmRleCsrO3JldHVybiFlfHxyPj1lLmxlbmd0aD8odC50YXJnZXQ9dm9pZCAwLHt2YWx1ZTp2b2lkIDAsZG9uZTohMH0pOiJrZXlzIj09bj97dmFsdWU6cixkb25lOiExfToidmFsdWVzIj09bj97dmFsdWU6ZVtyXSxkb25lOiExfTp7dmFsdWU6W3IsZVtyXV0sZG9uZTohMX19KSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxvKCJrZXlzIiksbygidmFsdWVzIiksbygiZW50cmllcyIpfSw3MDQyOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyMTA5KSxvPW4oMTExKSxpPW4oMzE1Nykscz1uKDE0MDApLGE9big3NDY2KSxjPW4oNTY1NiksbD1uKDYxMzUpLHU9big1MTEyKSxwPW4oMTE5NCksaD1wKCJzbGljZSIpLGY9dSgic3BlY2llcyIpLGQ9W10uc2xpY2UsbT1NYXRoLm1heDtyKHt0YXJnZXQ6IkFycmF5Iixwcm90bzohMCxmb3JjZWQ6IWh9LHtzbGljZTpmdW5jdGlvbih0LGUpe3ZhciBuLHIsdSxwPWModGhpcyksaD1hKHAubGVuZ3RoKSx2PXModCxoKSxnPXModm9pZCAwPT09ZT9oOmUsaCk7aWYoaShwKSYmKG49cC5jb25zdHJ1Y3RvciwiZnVuY3Rpb24iIT10eXBlb2Ygbnx8biE9PUFycmF5JiYhaShuLnByb3RvdHlwZSk/byhuKSYmKG49bltmXSxudWxsPT09biYmKG49dm9pZCAwKSk6bj12b2lkIDAsbj09PUFycmF5fHx2b2lkIDA9PT1uKSlyZXR1cm4gZC5jYWxsKHAsdixnKTtmb3Iocj1uZXcodm9pZCAwPT09bj9BcnJheTpuKShtKGctdiwwKSksdT0wO3Y8Zzt2KyssdSsrKXYgaW4gcCYmbChyLHUscFt2XSk7cmV0dXJuIHIubGVuZ3RoPXUscn19KX0sODMwOTpmdW5jdGlvbih0LGUsbil7dmFyIHI9big5NzgxKSxvPW4oMzA3MCkuZixpPUZ1bmN0aW9uLnByb3RvdHlwZSxzPWkudG9TdHJpbmcsYT0vXlxzKmZ1bmN0aW9uIChbXiAoXSopLyxjPSJuYW1lIjtyJiYhKGMgaW4gaSkmJm8oaSxjLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBzLmNhbGwodGhpcykubWF0Y2goYSlbMV19Y2F0Y2godCl7cmV0dXJuIiJ9fX0pfSw5NzIwOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIxMDkpLG89big0Njk5KS5lbnRyaWVzO3Ioe3RhcmdldDoiT2JqZWN0IixzdGF0OiEwfSx7ZW50cmllczpmdW5jdGlvbih0KXtyZXR1cm4gbyh0KX19KX0sMTUzOTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNjk0KSxvPW4oMTMyMCksaT1uKDI4OCk7cnx8byhPYmplY3QucHJvdG90eXBlLCJ0b1N0cmluZyIsaSx7dW5zYWZlOiEwfSl9LDg3ODM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDg3MTApLmNoYXJBdCxvPW4oOTkwOSksaT1uKDY1NCkscz0iU3RyaW5nIEl0ZXJhdG9yIixhPW8uc2V0LGM9by5nZXR0ZXJGb3Iocyk7aShTdHJpbmcsIlN0cmluZyIsKGZ1bmN0aW9uKHQpe2EodGhpcyx7dHlwZTpzLHN0cmluZzpTdHJpbmcodCksaW5kZXg6MH0pfSksKGZ1bmN0aW9uKCl7dmFyIHQsZT1jKHRoaXMpLG49ZS5zdHJpbmcsbz1lLmluZGV4O3JldHVybiBvPj1uLmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9Oih0PXIobixvKSxlLmluZGV4Kz10Lmxlbmd0aCx7dmFsdWU6dCxkb25lOiExfSl9KSl9LDE4MTc6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDIxMDkpLG89big5NzgxKSxpPW4oNzg1NCkscz1uKDY2NTYpLGE9bigxMTEpLGM9bigzMDcwKS5mLGw9big5OTIwKSx1PWkuU3ltYm9sO2lmKG8mJiJmdW5jdGlvbiI9PXR5cGVvZiB1JiYoISgiZGVzY3JpcHRpb24iaW4gdS5wcm90b3R5cGUpfHx2b2lkIDAhPT11KCkuZGVzY3JpcHRpb24pKXt2YXIgcD17fSxoPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aDwxfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/dm9pZCAwOlN0cmluZyhhcmd1bWVudHNbMF0pLGU9dGhpcyBpbnN0YW5jZW9mIGg/bmV3IHUodCk6dm9pZCAwPT09dD91KCk6dSh0KTtyZXR1cm4iIj09PXQmJihwW2VdPSEwKSxlfTtsKGgsdSk7dmFyIGY9aC5wcm90b3R5cGU9dS5wcm90b3R5cGU7Zi5jb25zdHJ1Y3Rvcj1oO3ZhciBkPWYudG9TdHJpbmcsbT0iU3ltYm9sKHRlc3QpIj09U3RyaW5nKHUoInRlc3QiKSksdj0vXlN5bWJvbFwoKC4qKVwpW14pXSskLztjKGYsImRlc2NyaXB0aW9uIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3ZhciB0PWEodGhpcyk/dGhpcy52YWx1ZU9mKCk6dGhpcyxlPWQuY2FsbCh0KTtpZihzKHAsdCkpcmV0dXJuIiI7dmFyIG49bT9lLnNsaWNlKDcsLTEpOmUucmVwbGFjZSh2LCIkMSIpO3JldHVybiIiPT09bj92b2lkIDA6bn19KSxyKHtnbG9iYWw6ITAsZm9yY2VkOiEwfSx7U3ltYm9sOmh9KX19LDIxNjU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNzIzNSk7cigiaXRlcmF0b3IiKX0sMjUyNjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjEwOSksbz1uKDc4NTQpLGk9big1MDA1KSxzPW4oMTkxMyksYT1uKDk3ODEpLGM9bigxMzMpLGw9bigzMzA3KSx1PW4oNzI5MykscD1uKDY2NTYpLGg9bigzMTU3KSxmPW4oMTExKSxkPW4oOTY3MCksbT1uKDc5MDgpLHY9big1NjU2KSxnPW4oNzU5MykseT1uKDkxMTQpLHc9bigzMCksYj1uKDE5NTYpLHg9big4MDA2KSxrPW4oMTE1NiksUz1uKDUxODEpLEM9bigxMjM2KSxNPW4oMzA3MCksTz1uKDUyOTYpLEE9big4ODgwKSxOPW4oMTMyMCksRT1uKDIzMDkpLFQ9big2MjAwKSxEPW4oMzUwMSksXz1uKDk3MTEpLFI9big1MTEyKSx6PW4oNjA2MSksST1uKDcyMzUpLFA9big4MDAzKSwkPW4oOTkwOSksQj1uKDIwOTIpLmZvckVhY2gsVj1UKCJoaWRkZW4iKSxqPSJTeW1ib2wiLEw9InByb3RvdHlwZSIsRj1SKCJ0b1ByaW1pdGl2ZSIpLEg9JC5zZXQsSj0kLmdldHRlckZvcihqKSxXPU9iamVjdFtMXSxxPW8uU3ltYm9sLEs9aSgiSlNPTiIsInN0cmluZ2lmeSIpLFU9Qy5mLEc9TS5mLFg9ay5mLFk9Ty5mLFo9RSgic3ltYm9scyIpLFE9RSgib3Atc3ltYm9scyIpLHR0PUUoInN0cmluZy10by1zeW1ib2wtcmVnaXN0cnkiKSxldD1FKCJzeW1ib2wtdG8tc3RyaW5nLXJlZ2lzdHJ5IiksbnQ9RSgid2tzIikscnQ9by5RT2JqZWN0LG90PSFydHx8IXJ0W0xdfHwhcnRbTF0uZmluZENoaWxkLGl0PWEmJnUoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPXcoRyh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiBHKHRoaXMsImEiLHt2YWx1ZTo3fSkuYX19KSkuYX0pKT9mdW5jdGlvbih0LGUsbil7dmFyIHI9VShXLGUpO3ImJmRlbGV0ZSBXW2VdLEcodCxlLG4pLHImJnQhPT1XJiZHKFcsZSxyKX06RyxzdD1mdW5jdGlvbih0LGUpe3ZhciBuPVpbdF09dyhxW0xdKTtyZXR1cm4gSChuLHt0eXBlOmosdGFnOnQsZGVzY3JpcHRpb246ZX0pLGF8fChuLmRlc2NyaXB0aW9uPWUpLG59LGF0PWw/ZnVuY3Rpb24odCl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KHQpaW5zdGFuY2VvZiBxfSxjdD1mdW5jdGlvbih0LGUsbil7dD09PVcmJmN0KFEsZSxuKSxkKHQpO3ZhciByPWcoZSwhMCk7cmV0dXJuIGQobikscChaLHIpPyhuLmVudW1lcmFibGU/KHAodCxWKSYmdFtWXVtyXSYmKHRbVl1bcl09ITEpLG49dyhuLHtlbnVtZXJhYmxlOnkoMCwhMSl9KSk6KHAodCxWKXx8Ryh0LFYseSgxLHt9KSksdFtWXVtyXT0hMCksaXQodCxyLG4pKTpHKHQscixuKX0sbHQ9ZnVuY3Rpb24odCxlKXtkKHQpO3ZhciBuPXYoZSkscj1iKG4pLmNvbmNhdChkdChuKSk7cmV0dXJuIEIociwoZnVuY3Rpb24oZSl7YSYmIXB0LmNhbGwobixlKXx8Y3QodCxlLG5bZV0pfSkpLHR9LHV0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWU/dyh0KTpsdCh3KHQpLGUpfSxwdD1mdW5jdGlvbih0KXt2YXIgZT1nKHQsITApLG49WS5jYWxsKHRoaXMsZSk7cmV0dXJuISh0aGlzPT09VyYmcChaLGUpJiYhcChRLGUpKSYmKCEobnx8IXAodGhpcyxlKXx8IXAoWixlKXx8cCh0aGlzLFYpJiZ0aGlzW1ZdW2VdKXx8bil9LGh0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dih0KSxyPWcoZSwhMCk7aWYobiE9PVd8fCFwKFoscil8fHAoUSxyKSl7dmFyIG89VShuLHIpO3JldHVybiFvfHwhcChaLHIpfHxwKG4sVikmJm5bVl1bcl18fChvLmVudW1lcmFibGU9ITApLG99fSxmdD1mdW5jdGlvbih0KXt2YXIgZT1YKHYodCkpLG49W107cmV0dXJuIEIoZSwoZnVuY3Rpb24odCl7cChaLHQpfHxwKEQsdCl8fG4ucHVzaCh0KX0pKSxufSxkdD1mdW5jdGlvbih0KXt2YXIgZT10PT09VyxuPVgoZT9ROnYodCkpLHI9W107cmV0dXJuIEIobiwoZnVuY3Rpb24odCl7IXAoWix0KXx8ZSYmIXAoVyx0KXx8ci5wdXNoKFpbdF0pfSkpLHJ9O2lmKGN8fChxPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIHEpdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IiKTt2YXIgdD1hcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/U3RyaW5nKGFyZ3VtZW50c1swXSk6dm9pZCAwLGU9Xyh0KSxuPWZ1bmN0aW9uKHQpe3RoaXM9PT1XJiZuLmNhbGwoUSx0KSxwKHRoaXMsVikmJnAodGhpc1tWXSxlKSYmKHRoaXNbVl1bZV09ITEpLGl0KHRoaXMsZSx5KDEsdCkpfTtyZXR1cm4gYSYmb3QmJml0KFcsZSx7Y29uZmlndXJhYmxlOiEwLHNldDpufSksc3QoZSx0KX0sTihxW0xdLCJ0b1N0cmluZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEoodGhpcykudGFnfSkpLE4ocSwid2l0aG91dFNldHRlciIsKGZ1bmN0aW9uKHQpe3JldHVybiBzdChfKHQpLHQpfSkpLE8uZj1wdCxNLmY9Y3QsQy5mPWh0LHguZj1rLmY9ZnQsUy5mPWR0LHouZj1mdW5jdGlvbih0KXtyZXR1cm4gc3QoUih0KSx0KX0sYSYmKEcocVtMXSwiZGVzY3JpcHRpb24iLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEoodGhpcykuZGVzY3JpcHRpb259fSksc3x8TihXLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIscHQse3Vuc2FmZTohMH0pKSkscih7Z2xvYmFsOiEwLHdyYXA6ITAsZm9yY2VkOiFjLHNoYW06IWN9LHtTeW1ib2w6cX0pLEIoYihudCksKGZ1bmN0aW9uKHQpe0kodCl9KSkscih7dGFyZ2V0Omosc3RhdDohMCxmb3JjZWQ6IWN9LHtmb3I6ZnVuY3Rpb24odCl7dmFyIGU9U3RyaW5nKHQpO2lmKHAodHQsZSkpcmV0dXJuIHR0W2VdO3ZhciBuPXEoZSk7cmV0dXJuIHR0W2VdPW4sZXRbbl09ZSxufSxrZXlGb3I6ZnVuY3Rpb24odCl7aWYoIWF0KHQpKXRocm93IFR5cGVFcnJvcih0KyIgaXMgbm90IGEgc3ltYm9sIik7aWYocChldCx0KSlyZXR1cm4gZXRbdF19LHVzZVNldHRlcjpmdW5jdGlvbigpe290PSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtvdD0hMX19KSxyKHt0YXJnZXQ6Ik9iamVjdCIsc3RhdDohMCxmb3JjZWQ6IWMsc2hhbTohYX0se2NyZWF0ZTp1dCxkZWZpbmVQcm9wZXJ0eTpjdCxkZWZpbmVQcm9wZXJ0aWVzOmx0LGdldE93blByb3BlcnR5RGVzY3JpcHRvcjpodH0pLHIoe3RhcmdldDoiT2JqZWN0IixzdGF0OiEwLGZvcmNlZDohY30se2dldE93blByb3BlcnR5TmFtZXM6ZnQsZ2V0T3duUHJvcGVydHlTeW1ib2xzOmR0fSkscih7dGFyZ2V0OiJPYmplY3QiLHN0YXQ6ITAsZm9yY2VkOnUoKGZ1bmN0aW9uKCl7Uy5mKDEpfSkpfSx7Z2V0T3duUHJvcGVydHlTeW1ib2xzOmZ1bmN0aW9uKHQpe3JldHVybiBTLmYobSh0KSl9fSksSyl7dmFyIG10PSFjfHx1KChmdW5jdGlvbigpe3ZhciB0PXEoKTtyZXR1cm4iW251bGxdIiE9SyhbdF0pfHwie30iIT1LKHthOnR9KXx8Int9IiE9SyhPYmplY3QodCkpfSkpO3Ioe3RhcmdldDoiSlNPTiIsc3RhdDohMCxmb3JjZWQ6bXR9LHtzdHJpbmdpZnk6ZnVuY3Rpb24odCxlLG4pe3ZhciByLG89W3RdLGk9MTt3aGlsZShhcmd1bWVudHMubGVuZ3RoPmkpby5wdXNoKGFyZ3VtZW50c1tpKytdKTtpZihyPWUsKGYoZSl8fHZvaWQgMCE9PXQpJiYhYXQodCkpcmV0dXJuIGgoZSl8fChlPWZ1bmN0aW9uKHQsZSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHImJihlPXIuY2FsbCh0aGlzLHQsZSkpLCFhdChlKSlyZXR1cm4gZX0pLG9bMV09ZSxLLmFwcGx5KG51bGwsbyl9fSl9cVtMXVtGXXx8QShxW0xdLEYscVtMXS52YWx1ZU9mKSxQKHEsaiksRFtWXT0hMH0sMzk0ODpmdW5jdGlvbih0LGUsbil7dmFyIHI9big3ODU0KSxvPW4oODMyNCksaT1uKDY5OTIpLHM9big4ODgwKSxhPW4oNTExMiksYz1hKCJpdGVyYXRvciIpLGw9YSgidG9TdHJpbmdUYWciKSx1PWkudmFsdWVzO2Zvcih2YXIgcCBpbiBvKXt2YXIgaD1yW3BdLGY9aCYmaC5wcm90b3R5cGU7aWYoZil7aWYoZltjXSE9PXUpdHJ5e3MoZixjLHUpfWNhdGNoKG0pe2ZbY109dX1pZihmW2xdfHxzKGYsbCxwKSxvW3BdKWZvcih2YXIgZCBpbiBpKWlmKGZbZF0hPT1pW2RdKXRyeXtzKGYsZCxpW2RdKX1jYXRjaChtKXtmW2RdPWlbZF19fX19LDExMDI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDYyOTEpLG89aShFcnJvcik7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gZS5kaXNwbGF5TmFtZT10LmRpc3BsYXlOYW1lfHx0Lm5hbWUsZTtmdW5jdGlvbiBlKGUpe3JldHVybiBlJiYoZT1yLmFwcGx5KG51bGwsYXJndW1lbnRzKSksbmV3IHQoZSl9fXQuZXhwb3J0cz1vLG8uZXZhbD1pKEV2YWxFcnJvciksby5yYW5nZT1pKFJhbmdlRXJyb3IpLG8ucmVmZXJlbmNlPWkoUmVmZXJlbmNlRXJyb3IpLG8uc3ludGF4PWkoU3ludGF4RXJyb3IpLG8udHlwZT1pKFR5cGVFcnJvciksby51cmk9aShVUklFcnJvciksby5jcmVhdGU9aX0sNjI5MTpmdW5jdGlvbih0KXsoZnVuY3Rpb24oKXt2YXIgZTtmdW5jdGlvbiBuKCl7Y29uc29sZS5sb2coby5hcHBseShudWxsLGFyZ3VtZW50cykpfWZ1bmN0aW9uIHIodCxlKXtyZXR1cm4gby5hcHBseShudWxsLFt0XS5jb25jYXQoZSkpfWZ1bmN0aW9uIG8odCl7Zm9yKHZhciBlLG4scixvLGk9MSxzPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxhPTAsYz10Lmxlbmd0aCxsPSIiLHU9ITEscD0hMSxoPWZ1bmN0aW9uKCl7cmV0dXJuIHNbaSsrXX0sZj1mdW5jdGlvbigpe3ZhciBuPSIiO3doaWxlKC9cZC8udGVzdCh0W2FdKSluKz10W2ErK10sZT10W2FdO3JldHVybiBuLmxlbmd0aD4wP3BhcnNlSW50KG4pOm51bGx9O2E8YzsrK2EpaWYoZT10W2FdLHUpc3dpdGNoKHU9ITEsIi4iPT1lPyhwPSExLGU9dFsrK2FdKToiMCI9PWUmJiIuIj09dFthKzFdPyhwPSEwLGErPTIsZT10W2FdKTpwPSEwLG89ZigpLGUpe2Nhc2UiYiI6bCs9cGFyc2VJbnQoaCgpLDEwKS50b1N0cmluZygyKTticmVhaztjYXNlImMiOm49aCgpLGwrPSJzdHJpbmciPT09dHlwZW9mIG58fG4gaW5zdGFuY2VvZiBTdHJpbmc/bjpTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KG4sMTApKTticmVhaztjYXNlImQiOmwrPXBhcnNlSW50KGgoKSwxMCk7YnJlYWs7Y2FzZSJmIjpyPVN0cmluZyhwYXJzZUZsb2F0KGgoKSkudG9GaXhlZChvfHw2KSksbCs9cD9yOnIucmVwbGFjZSgvXjAvLCIiKTticmVhaztjYXNlImoiOmwrPUpTT04uc3RyaW5naWZ5KGgoKSk7YnJlYWs7Y2FzZSJvIjpsKz0iMCIrcGFyc2VJbnQoaCgpLDEwKS50b1N0cmluZyg4KTticmVhaztjYXNlInMiOmwrPWgoKTticmVhaztjYXNlIngiOmwrPSIweCIrcGFyc2VJbnQoaCgpLDEwKS50b1N0cmluZygxNik7YnJlYWs7Y2FzZSJYIjpsKz0iMHgiK3BhcnNlSW50KGgoKSwxMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7YnJlYWs7ZGVmYXVsdDpsKz1lO2JyZWFrfWVsc2UiJSI9PT1lP3U9ITA6bCs9ZTtyZXR1cm4gbH1lPXQuZXhwb3J0cz1vLGUuZm9ybWF0PW8sZS52c3ByaW50Zj1yLCJ1bmRlZmluZWQiIT09dHlwZW9mIGNvbnNvbGUmJiJmdW5jdGlvbiI9PT10eXBlb2YgY29uc29sZS5sb2cmJihlLnByaW50Zj1uKX0pKCl9LDc4MDI6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIE1hcD90LmNsZWFyPXQuZGVsZXRlPXQuc2V0PWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJtYXAgaXMgcmVhZC1vbmx5Iil9OnQgaW5zdGFuY2VvZiBTZXQmJih0LmFkZD10LmNsZWFyPXQuZGVsZXRlPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJzZXQgaXMgcmVhZC1vbmx5Iil9KSxPYmplY3QuZnJlZXplKHQpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciByPXRbbl07Im9iamVjdCIhPXR5cGVvZiByfHxPYmplY3QuaXNGcm96ZW4ocil8fGUocil9KSksdH12YXIgbj1lLHI9ZTtuLmRlZmF1bHQ9cjtjbGFzcyBve2NvbnN0cnVjdG9yKHQpe3ZvaWQgMD09PXQuZGF0YSYmKHQuZGF0YT17fSksdGhpcy5kYXRhPXQuZGF0YSx0aGlzLmlzTWF0Y2hJZ25vcmVkPSExfWlnbm9yZU1hdGNoKCl7dGhpcy5pc01hdGNoSWdub3JlZD0hMH19ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdC5yZXBsYWNlKC8mL2csIiZhbXA7IikucmVwbGFjZSgvPC9nLCImbHQ7IikucmVwbGFjZSgvPi9nLCImZ3Q7IikucmVwbGFjZSgvIi9nLCImcXVvdDsiKS5yZXBsYWNlKC8nL2csIiYjeDI3OyIpfWZ1bmN0aW9uIHModCwuLi5lKXtjb25zdCBuPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKGNvbnN0IHIgaW4gdCluW3JdPXRbcl07cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24odCl7Zm9yKGNvbnN0IGUgaW4gdCluW2VdPXRbZV19KSksbn1jb25zdCBhPSI8L3NwYW4+IixjPXQ9PiEhdC5raW5kO2NsYXNzIGx7Y29uc3RydWN0b3IodCxlKXt0aGlzLmJ1ZmZlcj0iIix0aGlzLmNsYXNzUHJlZml4PWUuY2xhc3NQcmVmaXgsdC53YWxrKHRoaXMpfWFkZFRleHQodCl7dGhpcy5idWZmZXIrPWkodCl9b3Blbk5vZGUodCl7aWYoIWModCkpcmV0dXJuO2xldCBlPXQua2luZDt0LnN1Ymxhbmd1YWdlfHwoZT1gJHt0aGlzLmNsYXNzUHJlZml4fSR7ZX1gKSx0aGlzLnNwYW4oZSl9Y2xvc2VOb2RlKHQpe2ModCkmJih0aGlzLmJ1ZmZlcis9YSl9dmFsdWUoKXtyZXR1cm4gdGhpcy5idWZmZXJ9c3Bhbih0KXt0aGlzLmJ1ZmZlcis9YDxzcGFuIGNsYXNzPSIke3R9Ij5gfX1jbGFzcyB1e2NvbnN0cnVjdG9yKCl7dGhpcy5yb290Tm9kZT17Y2hpbGRyZW46W119LHRoaXMuc3RhY2s9W3RoaXMucm9vdE5vZGVdfWdldCB0b3AoKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLnN0YWNrLmxlbmd0aC0xXX1nZXQgcm9vdCgpe3JldHVybiB0aGlzLnJvb3ROb2RlfWFkZCh0KXt0aGlzLnRvcC5jaGlsZHJlbi5wdXNoKHQpfW9wZW5Ob2RlKHQpe2NvbnN0IGU9e2tpbmQ6dCxjaGlsZHJlbjpbXX07dGhpcy5hZGQoZSksdGhpcy5zdGFjay5wdXNoKGUpfWNsb3NlTm9kZSgpe2lmKHRoaXMuc3RhY2subGVuZ3RoPjEpcmV0dXJuIHRoaXMuc3RhY2sucG9wKCl9Y2xvc2VBbGxOb2Rlcygpe3doaWxlKHRoaXMuY2xvc2VOb2RlKCkpO310b0pTT04oKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5yb290Tm9kZSxudWxsLDQpfXdhbGsodCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IuX3dhbGsodCx0aGlzLnJvb3ROb2RlKX1zdGF0aWMgX3dhbGsodCxlKXtyZXR1cm4ic3RyaW5nIj09PXR5cGVvZiBlP3QuYWRkVGV4dChlKTplLmNoaWxkcmVuJiYodC5vcGVuTm9kZShlKSxlLmNoaWxkcmVuLmZvckVhY2goKGU9PnRoaXMuX3dhbGsodCxlKSkpLHQuY2xvc2VOb2RlKGUpKSx0fXN0YXRpYyBfY29sbGFwc2UodCl7InN0cmluZyIhPT10eXBlb2YgdCYmdC5jaGlsZHJlbiYmKHQuY2hpbGRyZW4uZXZlcnkoKHQ9PiJzdHJpbmciPT09dHlwZW9mIHQpKT90LmNoaWxkcmVuPVt0LmNoaWxkcmVuLmpvaW4oIiIpXTp0LmNoaWxkcmVuLmZvckVhY2goKHQ9Pnt1Ll9jb2xsYXBzZSh0KX0pKSl9fWNsYXNzIHAgZXh0ZW5kcyB1e2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5vcHRpb25zPXR9YWRkS2V5d29yZCh0LGUpeyIiIT09dCYmKHRoaXMub3Blbk5vZGUoZSksdGhpcy5hZGRUZXh0KHQpLHRoaXMuY2xvc2VOb2RlKCkpfWFkZFRleHQodCl7IiIhPT10JiZ0aGlzLmFkZCh0KX1hZGRTdWJsYW5ndWFnZSh0LGUpe2NvbnN0IG49dC5yb290O24ua2luZD1lLG4uc3VibGFuZ3VhZ2U9ITAsdGhpcy5hZGQobil9dG9IVE1MKCl7Y29uc3QgdD1uZXcgbCh0aGlzLHRoaXMub3B0aW9ucyk7cmV0dXJuIHQudmFsdWUoKX1maW5hbGl6ZSgpe3JldHVybiEwfX1mdW5jdGlvbiBoKHQpe3JldHVybiBuZXcgUmVnRXhwKHQucmVwbGFjZSgvWy0vXFxeJCorPy4oKXxbXF17fV0vZywiXFwkJiIpLCJtIil9ZnVuY3Rpb24gZih0KXtyZXR1cm4gdD8ic3RyaW5nIj09PXR5cGVvZiB0P3Q6dC5zb3VyY2U6bnVsbH1mdW5jdGlvbiBkKC4uLnQpe2NvbnN0IGU9dC5tYXAoKHQ9PmYodCkpKS5qb2luKCIiKTtyZXR1cm4gZX1mdW5jdGlvbiBtKC4uLnQpe2NvbnN0IGU9IigiK3QubWFwKCh0PT5mKHQpKSkuam9pbigifCIpKyIpIjtyZXR1cm4gZX1mdW5jdGlvbiB2KHQpe3JldHVybiBuZXcgUmVnRXhwKHQudG9TdHJpbmcoKSsifCIpLmV4ZWMoIiIpLmxlbmd0aC0xfWZ1bmN0aW9uIGcodCxlKXtjb25zdCBuPXQmJnQuZXhlYyhlKTtyZXR1cm4gbiYmMD09PW4uaW5kZXh9Y29uc3QgeT0vXFsoPzpbXlxcXF1dfFxcLikqXF18XChcPz98XFwoWzEtOV1bMC05XSopfFxcLi87ZnVuY3Rpb24gdyh0LGU9InwiKXtsZXQgbj0wO3JldHVybiB0Lm1hcCgodD0+e24rPTE7Y29uc3QgZT1uO2xldCByPWYodCksbz0iIjt3aGlsZShyLmxlbmd0aD4wKXtjb25zdCB0PXkuZXhlYyhyKTtpZighdCl7bys9cjticmVha31vKz1yLnN1YnN0cmluZygwLHQuaW5kZXgpLHI9ci5zdWJzdHJpbmcodC5pbmRleCt0WzBdLmxlbmd0aCksIlxcIj09PXRbMF1bMF0mJnRbMV0/bys9IlxcIitTdHJpbmcoTnVtYmVyKHRbMV0pK2UpOihvKz10WzBdLCIoIj09PXRbMF0mJm4rKyl9cmV0dXJuIG99KSkubWFwKCh0PT5gKCR7dH0pYCkpLmpvaW4oZSl9Y29uc3QgYj0vXGJcQi8seD0iW2EtekEtWl1cXHcqIixrPSJbYS16QS1aX11cXHcqIixTPSJcXGJcXGQrKFxcLlxcZCspPyIsQz0iKC0/KShcXGIwW3hYXVthLWZBLUYwLTldK3woXFxiXFxkKyhcXC5cXGQqKT98XFwuXFxkKykoW2VFXVstK10/XFxkKyk/KSIsTT0iXFxiKDBiWzAxXSspIixPPSIhfCE9fCE9PXwlfCU9fCZ8JiZ8Jj18XFwqfFxcKj18XFwrfFxcKz18LHwtfC09fC89fC98Onw7fDw8fDw8PXw8PXw8fD09PXw9PXw9fD4+Pj18Pj49fD49fD4+Pnw+Pnw+fFxcP3xcXFt8XFx7fFxcKHxcXF58XFxePXxcXHx8XFx8PXxcXHxcXHx8fiIsQT0odD17fSk9Pntjb25zdCBlPS9eIyFbIF0qXC8vO3JldHVybiB0LmJpbmFyeSYmKHQuYmVnaW49ZChlLC8uKlxiLyx0LmJpbmFyeSwvXGIuKi8pKSxzKHtjbGFzc05hbWU6Im1ldGEiLGJlZ2luOmUsZW5kOi8kLyxyZWxldmFuY2U6MCwib246YmVnaW4iOih0LGUpPT57MCE9PXQuaW5kZXgmJmUuaWdub3JlTWF0Y2goKX19LHQpfSxOPXtiZWdpbjoiXFxcXFtcXHNcXFNdIixyZWxldmFuY2U6MH0sRT17Y2xhc3NOYW1lOiJzdHJpbmciLGJlZ2luOiInIixlbmQ6IiciLGlsbGVnYWw6IlxcbiIsY29udGFpbnM6W05dfSxUPXtjbGFzc05hbWU6InN0cmluZyIsYmVnaW46JyInLGVuZDonIicsaWxsZWdhbDoiXFxuIixjb250YWluczpbTl19LEQ9e2JlZ2luOi9cYihhfGFufHRoZXxhcmV8SSdtfGlzbid0fGRvbid0fGRvZXNuJ3R8d29uJ3R8YnV0fGp1c3R8c2hvdWxkfHByZXR0eXxzaW1wbHl8ZW5vdWdofGdvbm5hfGdvaW5nfHd0Znxzb3xzdWNofHdpbGx8eW91fHlvdXJ8dGhleXxsaWtlfG1vcmUpXGIvfSxfPWZ1bmN0aW9uKHQsZSxuPXt9KXtjb25zdCByPXMoe2NsYXNzTmFtZToiY29tbWVudCIsYmVnaW46dCxlbmQ6ZSxjb250YWluczpbXX0sbik7cmV0dXJuIHIuY29udGFpbnMucHVzaChEKSxyLmNvbnRhaW5zLnB1c2goe2NsYXNzTmFtZToiZG9jdGFnIixiZWdpbjoiKD86VE9ET3xGSVhNRXxOT1RFfEJVR3xPUFRJTUlaRXxIQUNLfFhYWCk6IixyZWxldmFuY2U6MH0pLHJ9LFI9XygiLy8iLCIkIiksej1fKCIvXFwqIiwiXFwqLyIpLEk9XygiIyIsIiQiKSxQPXtjbGFzc05hbWU6Im51bWJlciIsYmVnaW46UyxyZWxldmFuY2U6MH0sJD17Y2xhc3NOYW1lOiJudW1iZXIiLGJlZ2luOkMscmVsZXZhbmNlOjB9LEI9e2NsYXNzTmFtZToibnVtYmVyIixiZWdpbjpNLHJlbGV2YW5jZTowfSxWPXtjbGFzc05hbWU6Im51bWJlciIsYmVnaW46UysiKCV8ZW18ZXh8Y2h8cmVtfHZ3fHZofHZtaW58dm1heHxjbXxtbXxpbnxwdHxwY3xweHxkZWd8Z3JhZHxyYWR8dHVybnxzfG1zfEh6fGtIenxkcGl8ZHBjbXxkcHB4KT8iLHJlbGV2YW5jZTowfSxqPXtiZWdpbjovKD89XC9bXi9cbl0qXC8pLyxjb250YWluczpbe2NsYXNzTmFtZToicmVnZXhwIixiZWdpbjovXC8vLGVuZDovXC9bZ2ltdXldKi8saWxsZWdhbDovXG4vLGNvbnRhaW5zOltOLHtiZWdpbjovXFsvLGVuZDovXF0vLHJlbGV2YW5jZTowLGNvbnRhaW5zOltOXX1dfV19LEw9e2NsYXNzTmFtZToidGl0bGUiLGJlZ2luOngscmVsZXZhbmNlOjB9LEY9e2NsYXNzTmFtZToidGl0bGUiLGJlZ2luOmsscmVsZXZhbmNlOjB9LEg9e2JlZ2luOiJcXC5cXHMqIitrLHJlbGV2YW5jZTowfSxKPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuYXNzaWduKHQseyJvbjpiZWdpbiI6KHQsZSk9PntlLmRhdGEuX2JlZ2luTWF0Y2g9dFsxXX0sIm9uOmVuZCI6KHQsZSk9PntlLmRhdGEuX2JlZ2luTWF0Y2ghPT10WzFdJiZlLmlnbm9yZU1hdGNoKCl9fSl9O3ZhciBXPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLE1BVENIX05PVEhJTkdfUkU6YixJREVOVF9SRTp4LFVOREVSU0NPUkVfSURFTlRfUkU6ayxOVU1CRVJfUkU6UyxDX05VTUJFUl9SRTpDLEJJTkFSWV9OVU1CRVJfUkU6TSxSRV9TVEFSVEVSU19SRTpPLFNIRUJBTkc6QSxCQUNLU0xBU0hfRVNDQVBFOk4sQVBPU19TVFJJTkdfTU9ERTpFLFFVT1RFX1NUUklOR19NT0RFOlQsUEhSQVNBTF9XT1JEU19NT0RFOkQsQ09NTUVOVDpfLENfTElORV9DT01NRU5UX01PREU6UixDX0JMT0NLX0NPTU1FTlRfTU9ERTp6LEhBU0hfQ09NTUVOVF9NT0RFOkksTlVNQkVSX01PREU6UCxDX05VTUJFUl9NT0RFOiQsQklOQVJZX05VTUJFUl9NT0RFOkIsQ1NTX05VTUJFUl9NT0RFOlYsUkVHRVhQX01PREU6aixUSVRMRV9NT0RFOkwsVU5ERVJTQ09SRV9USVRMRV9NT0RFOkYsTUVUSE9EX0dVQVJEOkgsRU5EX1NBTUVfQVNfQkVHSU46Sn0pO2Z1bmN0aW9uIHEodCxlKXtjb25zdCBuPXQuaW5wdXRbdC5pbmRleC0xXTsiLiI9PT1uJiZlLmlnbm9yZU1hdGNoKCl9ZnVuY3Rpb24gSyh0LGUpe2UmJnQuYmVnaW5LZXl3b3JkcyYmKHQuYmVnaW49IlxcYigiK3QuYmVnaW5LZXl3b3Jkcy5zcGxpdCgiICIpLmpvaW4oInwiKSsiKSg/IVxcLikoPz1cXGJ8XFxzKSIsdC5fX2JlZm9yZUJlZ2luPXEsdC5rZXl3b3Jkcz10LmtleXdvcmRzfHx0LmJlZ2luS2V5d29yZHMsZGVsZXRlIHQuYmVnaW5LZXl3b3Jkcyx2b2lkIDA9PT10LnJlbGV2YW5jZSYmKHQucmVsZXZhbmNlPTApKX1mdW5jdGlvbiBVKHQsZSl7QXJyYXkuaXNBcnJheSh0LmlsbGVnYWwpJiYodC5pbGxlZ2FsPW0oLi4udC5pbGxlZ2FsKSl9ZnVuY3Rpb24gRyh0LGUpe2lmKHQubWF0Y2gpe2lmKHQuYmVnaW58fHQuZW5kKXRocm93IG5ldyBFcnJvcigiYmVnaW4gJiBlbmQgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBtYXRjaCIpO3QuYmVnaW49dC5tYXRjaCxkZWxldGUgdC5tYXRjaH19ZnVuY3Rpb24gWCh0LGUpe3ZvaWQgMD09PXQucmVsZXZhbmNlJiYodC5yZWxldmFuY2U9MSl9Y29uc3QgWT1bIm9mIiwiYW5kIiwiZm9yIiwiaW4iLCJub3QiLCJvciIsImlmIiwidGhlbiIsInBhcmVudCIsImxpc3QiLCJ2YWx1ZSJdLFo9ImtleXdvcmQiO2Z1bmN0aW9uIFEodCxlLG49Wil7Y29uc3Qgcj17fTtyZXR1cm4ic3RyaW5nIj09PXR5cGVvZiB0P28obix0LnNwbGl0KCIgIikpOkFycmF5LmlzQXJyYXkodCk/byhuLHQpOk9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe09iamVjdC5hc3NpZ24ocixRKHRbbl0sZSxuKSl9KSkscjtmdW5jdGlvbiBvKHQsbil7ZSYmKG49bi5tYXAoKHQ9PnQudG9Mb3dlckNhc2UoKSkpKSxuLmZvckVhY2goKGZ1bmN0aW9uKGUpe2NvbnN0IG49ZS5zcGxpdCgifCIpO3JbblswXV09W3QsdHQoblswXSxuWzFdKV19KSl9fWZ1bmN0aW9uIHR0KHQsZSl7cmV0dXJuIGU/TnVtYmVyKGUpOmV0KHQpPzA6MX1mdW5jdGlvbiBldCh0KXtyZXR1cm4gWS5pbmNsdWRlcyh0LnRvTG93ZXJDYXNlKCkpfWZ1bmN0aW9uIG50KHQse3BsdWdpbnM6ZX0pe2Z1bmN0aW9uIG4oZSxuKXtyZXR1cm4gbmV3IFJlZ0V4cChmKGUpLCJtIisodC5jYXNlX2luc2Vuc2l0aXZlPyJpIjoiIikrKG4/ImciOiIiKSl9Y2xhc3Mgcntjb25zdHJ1Y3Rvcigpe3RoaXMubWF0Y2hJbmRleGVzPXt9LHRoaXMucmVnZXhlcz1bXSx0aGlzLm1hdGNoQXQ9MSx0aGlzLnBvc2l0aW9uPTB9YWRkUnVsZSh0LGUpe2UucG9zaXRpb249dGhpcy5wb3NpdGlvbisrLHRoaXMubWF0Y2hJbmRleGVzW3RoaXMubWF0Y2hBdF09ZSx0aGlzLnJlZ2V4ZXMucHVzaChbZSx0XSksdGhpcy5tYXRjaEF0Kz12KHQpKzF9Y29tcGlsZSgpezA9PT10aGlzLnJlZ2V4ZXMubGVuZ3RoJiYodGhpcy5leGVjPSgpPT5udWxsKTtjb25zdCB0PXRoaXMucmVnZXhlcy5tYXAoKHQ9PnRbMV0pKTt0aGlzLm1hdGNoZXJSZT1uKHcodCksITApLHRoaXMubGFzdEluZGV4PTB9ZXhlYyh0KXt0aGlzLm1hdGNoZXJSZS5sYXN0SW5kZXg9dGhpcy5sYXN0SW5kZXg7Y29uc3QgZT10aGlzLm1hdGNoZXJSZS5leGVjKHQpO2lmKCFlKXJldHVybiBudWxsO2NvbnN0IG49ZS5maW5kSW5kZXgoKCh0LGUpPT5lPjAmJnZvaWQgMCE9PXQpKSxyPXRoaXMubWF0Y2hJbmRleGVzW25dO3JldHVybiBlLnNwbGljZSgwLG4pLE9iamVjdC5hc3NpZ24oZSxyKX19Y2xhc3Mgb3tjb25zdHJ1Y3Rvcigpe3RoaXMucnVsZXM9W10sdGhpcy5tdWx0aVJlZ2V4ZXM9W10sdGhpcy5jb3VudD0wLHRoaXMubGFzdEluZGV4PTAsdGhpcy5yZWdleEluZGV4PTB9Z2V0TWF0Y2hlcih0KXtpZih0aGlzLm11bHRpUmVnZXhlc1t0XSlyZXR1cm4gdGhpcy5tdWx0aVJlZ2V4ZXNbdF07Y29uc3QgZT1uZXcgcjtyZXR1cm4gdGhpcy5ydWxlcy5zbGljZSh0KS5mb3JFYWNoKCgoW3Qsbl0pPT5lLmFkZFJ1bGUodCxuKSkpLGUuY29tcGlsZSgpLHRoaXMubXVsdGlSZWdleGVzW3RdPWUsZX1yZXN1bWluZ1NjYW5BdFNhbWVQb3NpdGlvbigpe3JldHVybiAwIT09dGhpcy5yZWdleEluZGV4fWNvbnNpZGVyQWxsKCl7dGhpcy5yZWdleEluZGV4PTB9YWRkUnVsZSh0LGUpe3RoaXMucnVsZXMucHVzaChbdCxlXSksImJlZ2luIj09PWUudHlwZSYmdGhpcy5jb3VudCsrfWV4ZWModCl7Y29uc3QgZT10aGlzLmdldE1hdGNoZXIodGhpcy5yZWdleEluZGV4KTtlLmxhc3RJbmRleD10aGlzLmxhc3RJbmRleDtsZXQgbj1lLmV4ZWModCk7aWYodGhpcy5yZXN1bWluZ1NjYW5BdFNhbWVQb3NpdGlvbigpKWlmKG4mJm4uaW5kZXg9PT10aGlzLmxhc3RJbmRleCk7ZWxzZXtjb25zdCBlPXRoaXMuZ2V0TWF0Y2hlcigwKTtlLmxhc3RJbmRleD10aGlzLmxhc3RJbmRleCsxLG49ZS5leGVjKHQpfXJldHVybiBuJiYodGhpcy5yZWdleEluZGV4Kz1uLnBvc2l0aW9uKzEsdGhpcy5yZWdleEluZGV4PT09dGhpcy5jb3VudCYmdGhpcy5jb25zaWRlckFsbCgpKSxufX1mdW5jdGlvbiBpKHQpe2NvbnN0IGU9bmV3IG87cmV0dXJuIHQuY29udGFpbnMuZm9yRWFjaCgodD0+ZS5hZGRSdWxlKHQuYmVnaW4se3J1bGU6dCx0eXBlOiJiZWdpbiJ9KSkpLHQudGVybWluYXRvckVuZCYmZS5hZGRSdWxlKHQudGVybWluYXRvckVuZCx7dHlwZToiZW5kIn0pLHQuaWxsZWdhbCYmZS5hZGRSdWxlKHQuaWxsZWdhbCx7dHlwZToiaWxsZWdhbCJ9KSxlfWZ1bmN0aW9uIGEoZSxyKXtjb25zdCBvPWU7aWYoZS5pc0NvbXBpbGVkKXJldHVybiBvO1tHXS5mb3JFYWNoKCh0PT50KGUscikpKSx0LmNvbXBpbGVyRXh0ZW5zaW9ucy5mb3JFYWNoKCh0PT50KGUscikpKSxlLl9fYmVmb3JlQmVnaW49bnVsbCxbSyxVLFhdLmZvckVhY2goKHQ9PnQoZSxyKSkpLGUuaXNDb21waWxlZD0hMDtsZXQgcz1udWxsO2lmKCJvYmplY3QiPT09dHlwZW9mIGUua2V5d29yZHMmJihzPWUua2V5d29yZHMuJHBhdHRlcm4sZGVsZXRlIGUua2V5d29yZHMuJHBhdHRlcm4pLGUua2V5d29yZHMmJihlLmtleXdvcmRzPVEoZS5rZXl3b3Jkcyx0LmNhc2VfaW5zZW5zaXRpdmUpKSxlLmxleGVtZXMmJnMpdGhyb3cgbmV3IEVycm9yKCJFUlI6IFByZWZlciBga2V5d29yZHMuJHBhdHRlcm5gIHRvIGBtb2RlLmxleGVtZXNgLCBCT1RIIGFyZSBub3QgYWxsb3dlZC4gKHNlZSBtb2RlIHJlZmVyZW5jZSkgIik7cmV0dXJuIHM9c3x8ZS5sZXhlbWVzfHwvXHcrLyxvLmtleXdvcmRQYXR0ZXJuUmU9bihzLCEwKSxyJiYoZS5iZWdpbnx8KGUuYmVnaW49L1xCfFxiLyksby5iZWdpblJlPW4oZS5iZWdpbiksZS5lbmRTYW1lQXNCZWdpbiYmKGUuZW5kPWUuYmVnaW4pLGUuZW5kfHxlLmVuZHNXaXRoUGFyZW50fHwoZS5lbmQ9L1xCfFxiLyksZS5lbmQmJihvLmVuZFJlPW4oZS5lbmQpKSxvLnRlcm1pbmF0b3JFbmQ9ZihlLmVuZCl8fCIiLGUuZW5kc1dpdGhQYXJlbnQmJnIudGVybWluYXRvckVuZCYmKG8udGVybWluYXRvckVuZCs9KGUuZW5kPyJ8IjoiIikrci50ZXJtaW5hdG9yRW5kKSksZS5pbGxlZ2FsJiYoby5pbGxlZ2FsUmU9bihlLmlsbGVnYWwpKSxlLmNvbnRhaW5zfHwoZS5jb250YWlucz1bXSksZS5jb250YWlucz1bXS5jb25jYXQoLi4uZS5jb250YWlucy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBvdCgic2VsZiI9PT10P2U6dCl9KSkpLGUuY29udGFpbnMuZm9yRWFjaCgoZnVuY3Rpb24odCl7YSh0LG8pfSkpLGUuc3RhcnRzJiZhKGUuc3RhcnRzLHIpLG8ubWF0Y2hlcj1pKG8pLG99aWYodC5jb21waWxlckV4dGVuc2lvbnN8fCh0LmNvbXBpbGVyRXh0ZW5zaW9ucz1bXSksdC5jb250YWlucyYmdC5jb250YWlucy5pbmNsdWRlcygic2VsZiIpKXRocm93IG5ldyBFcnJvcigiRVJSOiBjb250YWlucyBgc2VsZmAgaXMgbm90IHN1cHBvcnRlZCBhdCB0aGUgdG9wLWxldmVsIG9mIGEgbGFuZ3VhZ2UuICBTZWUgZG9jdW1lbnRhdGlvbi4iKTtyZXR1cm4gdC5jbGFzc05hbWVBbGlhc2VzPXModC5jbGFzc05hbWVBbGlhc2VzfHx7fSksYSh0KX1mdW5jdGlvbiBydCh0KXtyZXR1cm4hIXQmJih0LmVuZHNXaXRoUGFyZW50fHxydCh0LnN0YXJ0cykpfWZ1bmN0aW9uIG90KHQpe3JldHVybiB0LnZhcmlhbnRzJiYhdC5jYWNoZWRWYXJpYW50cyYmKHQuY2FjaGVkVmFyaWFudHM9dC52YXJpYW50cy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBzKHQse3ZhcmlhbnRzOm51bGx9LGUpfSkpKSx0LmNhY2hlZFZhcmlhbnRzP3QuY2FjaGVkVmFyaWFudHM6cnQodCk/cyh0LHtzdGFydHM6dC5zdGFydHM/cyh0LnN0YXJ0cyk6bnVsbH0pOk9iamVjdC5pc0Zyb3plbih0KT9zKHQpOnR9dmFyIGl0PSIxMC43LjMiO2Z1bmN0aW9uIHN0KHQpe3JldHVybiBCb29sZWFuKHR8fCIiPT09dCl9ZnVuY3Rpb24gYXQodCl7Y29uc3QgZT17cHJvcHM6WyJsYW5ndWFnZSIsImNvZGUiLCJhdXRvZGV0ZWN0Il0sZGF0YTpmdW5jdGlvbigpe3JldHVybntkZXRlY3RlZExhbmd1YWdlOiIiLHVua25vd25MYW5ndWFnZTohMX19LGNvbXB1dGVkOntjbGFzc05hbWUoKXtyZXR1cm4gdGhpcy51bmtub3duTGFuZ3VhZ2U/IiI6ImhsanMgIit0aGlzLmRldGVjdGVkTGFuZ3VhZ2V9LGhpZ2hsaWdodGVkKCl7aWYoIXRoaXMuYXV0b0RldGVjdCYmIXQuZ2V0TGFuZ3VhZ2UodGhpcy5sYW5ndWFnZSkpcmV0dXJuIGNvbnNvbGUud2FybihgVGhlIGxhbmd1YWdlICIke3RoaXMubGFuZ3VhZ2V9IiB5b3Ugc3BlY2lmaWVkIGNvdWxkIG5vdCBiZSBmb3VuZC5gKSx0aGlzLnVua25vd25MYW5ndWFnZT0hMCxpKHRoaXMuY29kZSk7bGV0IGU9e307cmV0dXJuIHRoaXMuYXV0b0RldGVjdD8oZT10LmhpZ2hsaWdodEF1dG8odGhpcy5jb2RlKSx0aGlzLmRldGVjdGVkTGFuZ3VhZ2U9ZS5sYW5ndWFnZSk6KGU9dC5oaWdobGlnaHQodGhpcy5sYW5ndWFnZSx0aGlzLmNvZGUsdGhpcy5pZ25vcmVJbGxlZ2FscyksdGhpcy5kZXRlY3RlZExhbmd1YWdlPXRoaXMubGFuZ3VhZ2UpLGUudmFsdWV9LGF1dG9EZXRlY3QoKXtyZXR1cm4hdGhpcy5sYW5ndWFnZXx8c3QodGhpcy5hdXRvZGV0ZWN0KX0saWdub3JlSWxsZWdhbHMoKXtyZXR1cm4hMH19LHJlbmRlcih0KXtyZXR1cm4gdCgicHJlIix7fSxbdCgiY29kZSIse2NsYXNzOnRoaXMuY2xhc3NOYW1lLGRvbVByb3BzOntpbm5lckhUTUw6dGhpcy5oaWdobGlnaHRlZH19KV0pfX0sbj17aW5zdGFsbCh0KXt0LmNvbXBvbmVudCgiaGlnaGxpZ2h0anMiLGUpfX07cmV0dXJue0NvbXBvbmVudDplLFZ1ZVBsdWdpbjpufX1jb25zdCBjdD17ImFmdGVyOmhpZ2hsaWdodEVsZW1lbnQiOih7ZWw6dCxyZXN1bHQ6ZSx0ZXh0Om59KT0+e2NvbnN0IHI9dXQodCk7aWYoIXIubGVuZ3RoKXJldHVybjtjb25zdCBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO28uaW5uZXJIVE1MPWUudmFsdWUsZS52YWx1ZT1wdChyLHV0KG8pLG4pfX07ZnVuY3Rpb24gbHQodCl7cmV0dXJuIHQubm9kZU5hbWUudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiB1dCh0KXtjb25zdCBlPVtdO3JldHVybiBmdW5jdGlvbiB0KG4scil7Zm9yKGxldCBvPW4uZmlyc3RDaGlsZDtvO289by5uZXh0U2libGluZykzPT09by5ub2RlVHlwZT9yKz1vLm5vZGVWYWx1ZS5sZW5ndGg6MT09PW8ubm9kZVR5cGUmJihlLnB1c2goe2V2ZW50OiJzdGFydCIsb2Zmc2V0OnIsbm9kZTpvfSkscj10KG8sciksbHQobykubWF0Y2goL2JyfGhyfGltZ3xpbnB1dC8pfHxlLnB1c2goe2V2ZW50OiJzdG9wIixvZmZzZXQ6cixub2RlOm99KSk7cmV0dXJuIHJ9KHQsMCksZX1mdW5jdGlvbiBwdCh0LGUsbil7bGV0IHI9MCxvPSIiO2NvbnN0IHM9W107ZnVuY3Rpb24gYSgpe3JldHVybiB0Lmxlbmd0aCYmZS5sZW5ndGg/dFswXS5vZmZzZXQhPT1lWzBdLm9mZnNldD90WzBdLm9mZnNldDxlWzBdLm9mZnNldD90OmU6InN0YXJ0Ij09PWVbMF0uZXZlbnQ/dDplOnQubGVuZ3RoP3Q6ZX1mdW5jdGlvbiBjKHQpe2Z1bmN0aW9uIGUodCl7cmV0dXJuIiAiK3Qubm9kZU5hbWUrJz0iJytpKHQudmFsdWUpKyciJ31vKz0iPCIrbHQodCkrW10ubWFwLmNhbGwodC5hdHRyaWJ1dGVzLGUpLmpvaW4oIiIpKyI+In1mdW5jdGlvbiBsKHQpe28rPSI8LyIrbHQodCkrIj4ifWZ1bmN0aW9uIHUodCl7KCJzdGFydCI9PT10LmV2ZW50P2M6bCkodC5ub2RlKX13aGlsZSh0Lmxlbmd0aHx8ZS5sZW5ndGgpe2xldCBlPWEoKTtpZihvKz1pKG4uc3Vic3RyaW5nKHIsZVswXS5vZmZzZXQpKSxyPWVbMF0ub2Zmc2V0LGU9PT10KXtzLnJldmVyc2UoKS5mb3JFYWNoKGwpO2Rve3UoZS5zcGxpY2UoMCwxKVswXSksZT1hKCl9d2hpbGUoZT09PXQmJmUubGVuZ3RoJiZlWzBdLm9mZnNldD09PXIpO3MucmV2ZXJzZSgpLmZvckVhY2goYyl9ZWxzZSJzdGFydCI9PT1lWzBdLmV2ZW50P3MucHVzaChlWzBdLm5vZGUpOnMucG9wKCksdShlLnNwbGljZSgwLDEpWzBdKX1yZXR1cm4gbytpKG4uc3Vic3RyKHIpKX1jb25zdCBodD17fSxmdD10PT57Y29uc29sZS5lcnJvcih0KX0sZHQ9KHQsLi4uZSk9Pntjb25zb2xlLmxvZyhgV0FSTjogJHt0fWAsLi4uZSl9LG10PSh0LGUpPT57aHRbYCR7dH0vJHtlfWBdfHwoY29uc29sZS5sb2coYERlcHJlY2F0ZWQgYXMgb2YgJHt0fS4gJHtlfWApLGh0W2Ake3R9LyR7ZX1gXT0hMCl9LHZ0PWksZ3Q9cyx5dD1TeW1ib2woIm5vbWF0Y2giKSx3dD1mdW5jdGlvbih0KXtjb25zdCBlPU9iamVjdC5jcmVhdGUobnVsbCkscj1PYmplY3QuY3JlYXRlKG51bGwpLGk9W107bGV0IHM9ITA7Y29uc3QgYT0vKF4oPFtePl0rPnxcdHwpK3xcbikvZ20sYz0iQ291bGQgbm90IGZpbmQgdGhlIGxhbmd1YWdlICd7fScsIGRpZCB5b3UgZm9yZ2V0IHRvIGxvYWQvaW5jbHVkZSBhIGxhbmd1YWdlIG1vZHVsZT8iLGw9e2Rpc2FibGVBdXRvZGV0ZWN0OiEwLG5hbWU6IlBsYWluIHRleHQiLGNvbnRhaW5zOltdfTtsZXQgdT17bm9IaWdobGlnaHRSZTovXihuby0/aGlnaGxpZ2h0KSQvaSxsYW5ndWFnZURldGVjdFJlOi9cYmxhbmcoPzp1YWdlKT8tKFtcdy1dKylcYi9pLGNsYXNzUHJlZml4OiJobGpzLSIsdGFiUmVwbGFjZTpudWxsLHVzZUJSOiExLGxhbmd1YWdlczpudWxsLF9fZW1pdHRlcjpwfTtmdW5jdGlvbiBmKHQpe3JldHVybiB1Lm5vSGlnaGxpZ2h0UmUudGVzdCh0KX1mdW5jdGlvbiBkKHQpe2xldCBlPXQuY2xhc3NOYW1lKyIgIjtlKz10LnBhcmVudE5vZGU/dC5wYXJlbnROb2RlLmNsYXNzTmFtZToiIjtjb25zdCBuPXUubGFuZ3VhZ2VEZXRlY3RSZS5leGVjKGUpO2lmKG4pe2NvbnN0IGU9UChuWzFdKTtyZXR1cm4gZXx8KGR0KGMucmVwbGFjZSgie30iLG5bMV0pKSxkdCgiRmFsbGluZyBiYWNrIHRvIG5vLWhpZ2hsaWdodCBtb2RlIGZvciB0aGlzIGJsb2NrLiIsdCkpLGU/blsxXToibm8taGlnaGxpZ2h0In1yZXR1cm4gZS5zcGxpdCgvXHMrLykuZmluZCgodD0+Zih0KXx8UCh0KSkpfWZ1bmN0aW9uIG0odCxlLG4scil7bGV0IG89IiIsaT0iIjsib2JqZWN0Ij09PXR5cGVvZiBlPyhvPXQsbj1lLmlnbm9yZUlsbGVnYWxzLGk9ZS5sYW5ndWFnZSxyPXZvaWQgMCk6KG10KCIxMC43LjAiLCJoaWdobGlnaHQobGFuZywgY29kZSwgLi4uYXJncykgaGFzIGJlZW4gZGVwcmVjYXRlZC4iKSxtdCgiMTAuNy4wIiwiUGxlYXNlIHVzZSBoaWdobGlnaHQoY29kZSwgb3B0aW9ucykgaW5zdGVhZC5cbmh0dHBzOi8vZ2l0aHViLmNvbS9oaWdobGlnaHRqcy9oaWdobGlnaHQuanMvaXNzdWVzLzIyNzciKSxpPXQsbz1lKTtjb25zdCBzPXtjb2RlOm8sbGFuZ3VhZ2U6aX07TCgiYmVmb3JlOmhpZ2hsaWdodCIscyk7Y29uc3QgYT1zLnJlc3VsdD9zLnJlc3VsdDp2KHMubGFuZ3VhZ2Uscy5jb2RlLG4scik7cmV0dXJuIGEuY29kZT1zLmNvZGUsTCgiYWZ0ZXI6aGlnaGxpZ2h0IixhKSxhfWZ1bmN0aW9uIHYodCxuLHIsYSl7ZnVuY3Rpb24gbCh0LGUpe2NvbnN0IG49Ty5jYXNlX2luc2Vuc2l0aXZlP2VbMF0udG9Mb3dlckNhc2UoKTplWzBdO3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodC5rZXl3b3JkcyxuKSYmdC5rZXl3b3Jkc1tuXX1mdW5jdGlvbiBwKCl7aWYoIUUua2V5d29yZHMpcmV0dXJuIHZvaWQgRC5hZGRUZXh0KF8pO2xldCB0PTA7RS5rZXl3b3JkUGF0dGVyblJlLmxhc3RJbmRleD0wO2xldCBlPUUua2V5d29yZFBhdHRlcm5SZS5leGVjKF8pLG49IiI7d2hpbGUoZSl7bis9Xy5zdWJzdHJpbmcodCxlLmluZGV4KTtjb25zdCByPWwoRSxlKTtpZihyKXtjb25zdFt0LG9dPXI7aWYoRC5hZGRUZXh0KG4pLG49IiIsUis9byx0LnN0YXJ0c1dpdGgoIl8iKSluKz1lWzBdO2Vsc2V7Y29uc3Qgbj1PLmNsYXNzTmFtZUFsaWFzZXNbdF18fHQ7RC5hZGRLZXl3b3JkKGVbMF0sbil9fWVsc2Ugbis9ZVswXTt0PUUua2V5d29yZFBhdHRlcm5SZS5sYXN0SW5kZXgsZT1FLmtleXdvcmRQYXR0ZXJuUmUuZXhlYyhfKX1uKz1fLnN1YnN0cih0KSxELmFkZFRleHQobil9ZnVuY3Rpb24gZigpe2lmKCIiPT09XylyZXR1cm47bGV0IHQ9bnVsbDtpZigic3RyaW5nIj09PXR5cGVvZiBFLnN1Ykxhbmd1YWdlKXtpZighZVtFLnN1Ykxhbmd1YWdlXSlyZXR1cm4gdm9pZCBELmFkZFRleHQoXyk7dD12KEUuc3ViTGFuZ3VhZ2UsXywhMCxUW0Uuc3ViTGFuZ3VhZ2VdKSxUW0Uuc3ViTGFuZ3VhZ2VdPXQudG9wfWVsc2UgdD13KF8sRS5zdWJMYW5ndWFnZS5sZW5ndGg/RS5zdWJMYW5ndWFnZTpudWxsKTtFLnJlbGV2YW5jZT4wJiYoUis9dC5yZWxldmFuY2UpLEQuYWRkU3VibGFuZ3VhZ2UodC5lbWl0dGVyLHQubGFuZ3VhZ2UpfWZ1bmN0aW9uIGQoKXtudWxsIT1FLnN1Ykxhbmd1YWdlP2YoKTpwKCksXz0iIn1mdW5jdGlvbiBtKHQpe3JldHVybiB0LmNsYXNzTmFtZSYmRC5vcGVuTm9kZShPLmNsYXNzTmFtZUFsaWFzZXNbdC5jbGFzc05hbWVdfHx0LmNsYXNzTmFtZSksRT1PYmplY3QuY3JlYXRlKHQse3BhcmVudDp7dmFsdWU6RX19KSxFfWZ1bmN0aW9uIHkodCxlLG4pe2xldCByPWcodC5lbmRSZSxuKTtpZihyKXtpZih0WyJvbjplbmQiXSl7Y29uc3Qgbj1uZXcgbyh0KTt0WyJvbjplbmQiXShlLG4pLG4uaXNNYXRjaElnbm9yZWQmJihyPSExKX1pZihyKXt3aGlsZSh0LmVuZHNQYXJlbnQmJnQucGFyZW50KXQ9dC5wYXJlbnQ7cmV0dXJuIHR9fWlmKHQuZW5kc1dpdGhQYXJlbnQpcmV0dXJuIHkodC5wYXJlbnQsZSxuKX1mdW5jdGlvbiBiKHQpe3JldHVybiAwPT09RS5tYXRjaGVyLnJlZ2V4SW5kZXg/KF8rPXRbMF0sMSk6KCQ9ITAsMCl9ZnVuY3Rpb24geCh0KXtjb25zdCBlPXRbMF0sbj10LnJ1bGUscj1uZXcgbyhuKSxpPVtuLl9fYmVmb3JlQmVnaW4sblsib246YmVnaW4iXV07Zm9yKGNvbnN0IG8gb2YgaSlpZihvJiYobyh0LHIpLHIuaXNNYXRjaElnbm9yZWQpKXJldHVybiBiKGUpO3JldHVybiBuJiZuLmVuZFNhbWVBc0JlZ2luJiYobi5lbmRSZT1oKGUpKSxuLnNraXA/Xys9ZToobi5leGNsdWRlQmVnaW4mJihfKz1lKSxkKCksbi5yZXR1cm5CZWdpbnx8bi5leGNsdWRlQmVnaW58fChfPWUpKSxtKG4pLG4ucmV0dXJuQmVnaW4/MDplLmxlbmd0aH1mdW5jdGlvbiBrKHQpe2NvbnN0IGU9dFswXSxyPW4uc3Vic3RyKHQuaW5kZXgpLG89eShFLHQscik7aWYoIW8pcmV0dXJuIHl0O2NvbnN0IGk9RTtpLnNraXA/Xys9ZTooaS5yZXR1cm5FbmR8fGkuZXhjbHVkZUVuZHx8KF8rPWUpLGQoKSxpLmV4Y2x1ZGVFbmQmJihfPWUpKTtkb3tFLmNsYXNzTmFtZSYmRC5jbG9zZU5vZGUoKSxFLnNraXB8fEUuc3ViTGFuZ3VhZ2V8fChSKz1FLnJlbGV2YW5jZSksRT1FLnBhcmVudH13aGlsZShFIT09by5wYXJlbnQpO3JldHVybiBvLnN0YXJ0cyYmKG8uZW5kU2FtZUFzQmVnaW4mJihvLnN0YXJ0cy5lbmRSZT1vLmVuZFJlKSxtKG8uc3RhcnRzKSksaS5yZXR1cm5FbmQ/MDplLmxlbmd0aH1mdW5jdGlvbiBTKCl7Y29uc3QgdD1bXTtmb3IobGV0IGU9RTtlIT09TztlPWUucGFyZW50KWUuY2xhc3NOYW1lJiZ0LnVuc2hpZnQoZS5jbGFzc05hbWUpO3QuZm9yRWFjaCgodD0+RC5vcGVuTm9kZSh0KSkpfWxldCBDPXt9O2Z1bmN0aW9uIE0oZSxvKXtjb25zdCBpPW8mJm9bMF07aWYoXys9ZSxudWxsPT1pKXJldHVybiBkKCksMDtpZigiYmVnaW4iPT09Qy50eXBlJiYiZW5kIj09PW8udHlwZSYmQy5pbmRleD09PW8uaW5kZXgmJiIiPT09aSl7aWYoXys9bi5zbGljZShvLmluZGV4LG8uaW5kZXgrMSksIXMpe2NvbnN0IGU9bmV3IEVycm9yKCIwIHdpZHRoIG1hdGNoIHJlZ2V4Iik7dGhyb3cgZS5sYW5ndWFnZU5hbWU9dCxlLmJhZFJ1bGU9Qy5ydWxlLGV9cmV0dXJuIDF9aWYoQz1vLCJiZWdpbiI9PT1vLnR5cGUpcmV0dXJuIHgobyk7aWYoImlsbGVnYWwiPT09by50eXBlJiYhcil7Y29uc3QgdD1uZXcgRXJyb3IoJ0lsbGVnYWwgbGV4ZW1lICInK2krJyIgZm9yIG1vZGUgIicrKEUuY2xhc3NOYW1lfHwiPHVubmFtZWQ+IikrJyInKTt0aHJvdyB0Lm1vZGU9RSx0fWlmKCJlbmQiPT09by50eXBlKXtjb25zdCB0PWsobyk7aWYodCE9PXl0KXJldHVybiB0fWlmKCJpbGxlZ2FsIj09PW8udHlwZSYmIiI9PT1pKXJldHVybiAxO2lmKEk+MWU1JiZJPjMqby5pbmRleCl7Y29uc3QgdD1uZXcgRXJyb3IoInBvdGVudGlhbCBpbmZpbml0ZSBsb29wLCB3YXkgbW9yZSBpdGVyYXRpb25zIHRoYW4gbWF0Y2hlcyIpO3Rocm93IHR9cmV0dXJuIF8rPWksaS5sZW5ndGh9Y29uc3QgTz1QKHQpO2lmKCFPKXRocm93IGZ0KGMucmVwbGFjZSgie30iLHQpKSxuZXcgRXJyb3IoJ1Vua25vd24gbGFuZ3VhZ2U6ICInK3QrJyInKTtjb25zdCBBPW50KE8se3BsdWdpbnM6aX0pO2xldCBOPSIiLEU9YXx8QTtjb25zdCBUPXt9LEQ9bmV3IHUuX19lbWl0dGVyKHUpO1MoKTtsZXQgXz0iIixSPTAsej0wLEk9MCwkPSExO3RyeXtmb3IoRS5tYXRjaGVyLmNvbnNpZGVyQWxsKCk7Oyl7SSsrLCQ/JD0hMTpFLm1hdGNoZXIuY29uc2lkZXJBbGwoKSxFLm1hdGNoZXIubGFzdEluZGV4PXo7Y29uc3QgdD1FLm1hdGNoZXIuZXhlYyhuKTtpZighdClicmVhaztjb25zdCBlPW4uc3Vic3RyaW5nKHosdC5pbmRleCkscj1NKGUsdCk7ej10LmluZGV4K3J9cmV0dXJuIE0obi5zdWJzdHIoeikpLEQuY2xvc2VBbGxOb2RlcygpLEQuZmluYWxpemUoKSxOPUQudG9IVE1MKCkse3JlbGV2YW5jZTpNYXRoLmZsb29yKFIpLHZhbHVlOk4sbGFuZ3VhZ2U6dCxpbGxlZ2FsOiExLGVtaXR0ZXI6RCx0b3A6RX19Y2F0Y2goQil7aWYoQi5tZXNzYWdlJiZCLm1lc3NhZ2UuaW5jbHVkZXMoIklsbGVnYWwiKSlyZXR1cm57aWxsZWdhbDohMCxpbGxlZ2FsQnk6e21zZzpCLm1lc3NhZ2UsY29udGV4dDpuLnNsaWNlKHotMTAwLHorMTAwKSxtb2RlOkIubW9kZX0sc29mYXI6TixyZWxldmFuY2U6MCx2YWx1ZTp2dChuKSxlbWl0dGVyOkR9O2lmKHMpcmV0dXJue2lsbGVnYWw6ITEscmVsZXZhbmNlOjAsdmFsdWU6dnQobiksZW1pdHRlcjpELGxhbmd1YWdlOnQsdG9wOkUsZXJyb3JSYWlzZWQ6Qn07dGhyb3cgQn19ZnVuY3Rpb24geSh0KXtjb25zdCBlPXtyZWxldmFuY2U6MCxlbWl0dGVyOm5ldyB1Ll9fZW1pdHRlcih1KSx2YWx1ZTp2dCh0KSxpbGxlZ2FsOiExLHRvcDpsfTtyZXR1cm4gZS5lbWl0dGVyLmFkZFRleHQodCksZX1mdW5jdGlvbiB3KHQsbil7bj1ufHx1Lmxhbmd1YWdlc3x8T2JqZWN0LmtleXMoZSk7Y29uc3Qgcj15KHQpLG89bi5maWx0ZXIoUCkuZmlsdGVyKEIpLm1hcCgoZT0+dihlLHQsITEpKSk7by51bnNoaWZ0KHIpO2NvbnN0IGk9by5zb3J0KCgodCxlKT0+e2lmKHQucmVsZXZhbmNlIT09ZS5yZWxldmFuY2UpcmV0dXJuIGUucmVsZXZhbmNlLXQucmVsZXZhbmNlO2lmKHQubGFuZ3VhZ2UmJmUubGFuZ3VhZ2Upe2lmKFAodC5sYW5ndWFnZSkuc3VwZXJzZXRPZj09PWUubGFuZ3VhZ2UpcmV0dXJuIDE7aWYoUChlLmxhbmd1YWdlKS5zdXBlcnNldE9mPT09dC5sYW5ndWFnZSlyZXR1cm4tMX1yZXR1cm4gMH0pKSxbcyxhXT1pLGM9cztyZXR1cm4gYy5zZWNvbmRfYmVzdD1hLGN9ZnVuY3Rpb24gYih0KXtyZXR1cm4gdS50YWJSZXBsYWNlfHx1LnVzZUJSP3QucmVwbGFjZShhLCh0PT4iXG4iPT09dD91LnVzZUJSPyI8YnI+Ijp0OnUudGFiUmVwbGFjZT90LnJlcGxhY2UoL1x0L2csdS50YWJSZXBsYWNlKTp0KSk6dH1mdW5jdGlvbiB4KHQsZSxuKXtjb25zdCBvPWU/cltlXTpuO3QuY2xhc3NMaXN0LmFkZCgiaGxqcyIpLG8mJnQuY2xhc3NMaXN0LmFkZChvKX1jb25zdCBrPXsiYmVmb3JlOmhpZ2hsaWdodEVsZW1lbnQiOih7ZWw6dH0pPT57dS51c2VCUiYmKHQuaW5uZXJIVE1MPXQuaW5uZXJIVE1MLnJlcGxhY2UoL1xuL2csIiIpLnJlcGxhY2UoLzxiclsgL10qPi9nLCJcbiIpKX0sImFmdGVyOmhpZ2hsaWdodEVsZW1lbnQiOih7cmVzdWx0OnR9KT0+e3UudXNlQlImJih0LnZhbHVlPXQudmFsdWUucmVwbGFjZSgvXG4vZywiPGJyPiIpKX19LFM9L14oPFtePl0rPnxcdCkrL2dtLEM9eyJhZnRlcjpoaWdobGlnaHRFbGVtZW50Ijooe3Jlc3VsdDp0fSk9Pnt1LnRhYlJlcGxhY2UmJih0LnZhbHVlPXQudmFsdWUucmVwbGFjZShTLCh0PT50LnJlcGxhY2UoL1x0L2csdS50YWJSZXBsYWNlKSkpKX19O2Z1bmN0aW9uIE0odCl7bGV0IGU9bnVsbDtjb25zdCBuPWQodCk7aWYoZihuKSlyZXR1cm47TCgiYmVmb3JlOmhpZ2hsaWdodEVsZW1lbnQiLHtlbDp0LGxhbmd1YWdlOm59KSxlPXQ7Y29uc3Qgcj1lLnRleHRDb250ZW50LG89bj9tKHIse2xhbmd1YWdlOm4saWdub3JlSWxsZWdhbHM6ITB9KTp3KHIpO0woImFmdGVyOmhpZ2hsaWdodEVsZW1lbnQiLHtlbDp0LHJlc3VsdDpvLHRleHQ6cn0pLHQuaW5uZXJIVE1MPW8udmFsdWUseCh0LG4sby5sYW5ndWFnZSksdC5yZXN1bHQ9e2xhbmd1YWdlOm8ubGFuZ3VhZ2UscmU6by5yZWxldmFuY2UscmVsYXZhbmNlOm8ucmVsZXZhbmNlfSxvLnNlY29uZF9iZXN0JiYodC5zZWNvbmRfYmVzdD17bGFuZ3VhZ2U6by5zZWNvbmRfYmVzdC5sYW5ndWFnZSxyZTpvLnNlY29uZF9iZXN0LnJlbGV2YW5jZSxyZWxhdmFuY2U6by5zZWNvbmRfYmVzdC5yZWxldmFuY2V9KX1mdW5jdGlvbiBPKHQpe3QudXNlQlImJihtdCgiMTAuMy4wIiwiJ3VzZUJSJyB3aWxsIGJlIHJlbW92ZWQgZW50aXJlbHkgaW4gdjExLjAiKSxtdCgiMTAuMy4wIiwiUGxlYXNlIHNlZSBodHRwczovL2dpdGh1Yi5jb20vaGlnaGxpZ2h0anMvaGlnaGxpZ2h0LmpzL2lzc3Vlcy8yNTU5IikpLHU9Z3QodSx0KX1jb25zdCBBPSgpPT57aWYoQS5jYWxsZWQpcmV0dXJuO0EuY2FsbGVkPSEwLG10KCIxMC42LjAiLCJpbml0SGlnaGxpZ2h0aW5nKCkgaXMgZGVwcmVjYXRlZC4gIFVzZSBoaWdobGlnaHRBbGwoKSBpbnN0ZWFkLiIpO2NvbnN0IHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgicHJlIGNvZGUiKTt0LmZvckVhY2goTSl9O2Z1bmN0aW9uIE4oKXttdCgiMTAuNi4wIiwiaW5pdEhpZ2hsaWdodGluZ09uTG9hZCgpIGlzIGRlcHJlY2F0ZWQuICBVc2UgaGlnaGxpZ2h0QWxsKCkgaW5zdGVhZC4iKSxFPSEwfWxldCBFPSExO2Z1bmN0aW9uIFQoKXtpZigibG9hZGluZyI9PT1kb2N1bWVudC5yZWFkeVN0YXRlKXJldHVybiB2b2lkKEU9ITApO2NvbnN0IHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgicHJlIGNvZGUiKTt0LmZvckVhY2goTSl9ZnVuY3Rpb24gRCgpe0UmJlQoKX1mdW5jdGlvbiBfKG4scil7bGV0IG89bnVsbDt0cnl7bz1yKHQpfWNhdGNoKGkpe2lmKGZ0KCJMYW5ndWFnZSBkZWZpbml0aW9uIGZvciAne30nIGNvdWxkIG5vdCBiZSByZWdpc3RlcmVkLiIucmVwbGFjZSgie30iLG4pKSwhcyl0aHJvdyBpO2Z0KGkpLG89bH1vLm5hbWV8fChvLm5hbWU9biksZVtuXT1vLG8ucmF3RGVmaW5pdGlvbj1yLmJpbmQobnVsbCx0KSxvLmFsaWFzZXMmJiQoby5hbGlhc2VzLHtsYW5ndWFnZU5hbWU6bn0pfWZ1bmN0aW9uIFIodCl7ZGVsZXRlIGVbdF07Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXMocikpcltlXT09PXQmJmRlbGV0ZSByW2VdfWZ1bmN0aW9uIHooKXtyZXR1cm4gT2JqZWN0LmtleXMoZSl9ZnVuY3Rpb24gSSh0KXttdCgiMTAuNC4wIiwicmVxdWlyZUxhbmd1YWdlIHdpbGwgYmUgcmVtb3ZlZCBlbnRpcmVseSBpbiB2MTEuIiksbXQoIjEwLjQuMCIsIlBsZWFzZSBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2hpZ2hsaWdodGpzL2hpZ2hsaWdodC5qcy9wdWxsLzI4NDQiKTtjb25zdCBlPVAodCk7aWYoZSlyZXR1cm4gZTtjb25zdCBuPW5ldyBFcnJvcigiVGhlICd7fScgbGFuZ3VhZ2UgaXMgcmVxdWlyZWQsIGJ1dCBub3QgbG9hZGVkLiIucmVwbGFjZSgie30iLHQpKTt0aHJvdyBufWZ1bmN0aW9uIFAodCl7cmV0dXJuIHQ9KHR8fCIiKS50b0xvd2VyQ2FzZSgpLGVbdF18fGVbclt0XV19ZnVuY3Rpb24gJCh0LHtsYW5ndWFnZU5hbWU6ZX0peyJzdHJpbmciPT09dHlwZW9mIHQmJih0PVt0XSksdC5mb3JFYWNoKCh0PT57clt0LnRvTG93ZXJDYXNlKCldPWV9KSl9ZnVuY3Rpb24gQih0KXtjb25zdCBlPVAodCk7cmV0dXJuIGUmJiFlLmRpc2FibGVBdXRvZGV0ZWN0fWZ1bmN0aW9uIFYodCl7dFsiYmVmb3JlOmhpZ2hsaWdodEJsb2NrIl0mJiF0WyJiZWZvcmU6aGlnaGxpZ2h0RWxlbWVudCJdJiYodFsiYmVmb3JlOmhpZ2hsaWdodEVsZW1lbnQiXT1lPT57dFsiYmVmb3JlOmhpZ2hsaWdodEJsb2NrIl0oT2JqZWN0LmFzc2lnbih7YmxvY2s6ZS5lbH0sZSkpfSksdFsiYWZ0ZXI6aGlnaGxpZ2h0QmxvY2siXSYmIXRbImFmdGVyOmhpZ2hsaWdodEVsZW1lbnQiXSYmKHRbImFmdGVyOmhpZ2hsaWdodEVsZW1lbnQiXT1lPT57dFsiYWZ0ZXI6aGlnaGxpZ2h0QmxvY2siXShPYmplY3QuYXNzaWduKHtibG9jazplLmVsfSxlKSl9KX1mdW5jdGlvbiBqKHQpe1YodCksaS5wdXNoKHQpfWZ1bmN0aW9uIEwodCxlKXtjb25zdCBuPXQ7aS5mb3JFYWNoKChmdW5jdGlvbih0KXt0W25dJiZ0W25dKGUpfSkpfWZ1bmN0aW9uIEYodCl7cmV0dXJuIG10KCIxMC4yLjAiLCJmaXhNYXJrdXAgd2lsbCBiZSByZW1vdmVkIGVudGlyZWx5IGluIHYxMS4wIiksbXQoIjEwLjIuMCIsIlBsZWFzZSBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2hpZ2hsaWdodGpzL2hpZ2hsaWdodC5qcy9pc3N1ZXMvMjUzNCIpLGIodCl9ZnVuY3Rpb24gSCh0KXtyZXR1cm4gbXQoIjEwLjcuMCIsImhpZ2hsaWdodEJsb2NrIHdpbGwgYmUgcmVtb3ZlZCBlbnRpcmVseSBpbiB2MTIuMCIpLG10KCIxMC43LjAiLCJQbGVhc2UgdXNlIGhpZ2hsaWdodEVsZW1lbnQgbm93LiIpLE0odCl9InVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEQsITEpLE9iamVjdC5hc3NpZ24odCx7aGlnaGxpZ2h0Om0saGlnaGxpZ2h0QXV0bzp3LGhpZ2hsaWdodEFsbDpULGZpeE1hcmt1cDpGLGhpZ2hsaWdodEVsZW1lbnQ6TSxoaWdobGlnaHRCbG9jazpILGNvbmZpZ3VyZTpPLGluaXRIaWdobGlnaHRpbmc6QSxpbml0SGlnaGxpZ2h0aW5nT25Mb2FkOk4scmVnaXN0ZXJMYW5ndWFnZTpfLHVucmVnaXN0ZXJMYW5ndWFnZTpSLGxpc3RMYW5ndWFnZXM6eixnZXRMYW5ndWFnZTpQLHJlZ2lzdGVyQWxpYXNlczokLHJlcXVpcmVMYW5ndWFnZTpJLGF1dG9EZXRlY3Rpb246Qixpbmhlcml0Omd0LGFkZFBsdWdpbjpqLHZ1ZVBsdWdpbjphdCh0KS5WdWVQbHVnaW59KSx0LmRlYnVnTW9kZT1mdW5jdGlvbigpe3M9ITF9LHQuc2FmZU1vZGU9ZnVuY3Rpb24oKXtzPSEwfSx0LnZlcnNpb25TdHJpbmc9aXQ7Zm9yKGNvbnN0IG8gaW4gVykib2JqZWN0Ij09PXR5cGVvZiBXW29dJiZuKFdbb10pO3JldHVybiBPYmplY3QuYXNzaWduKHQsVyksdC5hZGRQbHVnaW4oayksdC5hZGRQbHVnaW4oY3QpLHQuYWRkUGx1Z2luKEMpLHR9O3ZhciBidD13dCh7fSk7dC5leHBvcnRzPWJ0fSw2NDcwOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big3ODAyKSxvPW4oMTEwMik7cC5wcm90b3R5cGUuYWRkVGV4dD1kLHAucHJvdG90eXBlLmFkZEtleXdvcmQ9aCxwLnByb3RvdHlwZS5hZGRTdWJsYW5ndWFnZT1mLHAucHJvdG90eXBlLm9wZW5Ob2RlPW0scC5wcm90b3R5cGUuY2xvc2VOb2RlPXYscC5wcm90b3R5cGUuY2xvc2VBbGxOb2Rlcz15LHAucHJvdG90eXBlLmZpbmFsaXplPXkscC5wcm90b3R5cGUudG9IVE1MPWc7dmFyIGk9ImhsanMtIjtmdW5jdGlvbiBzKHQsZSxuKXt2YXIgcyxhPXIuY29uZmlndXJlKHt9KSxjPW58fHt9LGw9Yy5wcmVmaXg7aWYoInN0cmluZyIhPT10eXBlb2YgdCl0aHJvdyBvKCJFeHBlY3RlZCBgc3RyaW5nYCBmb3IgbmFtZSwgZ290IGAlc2AiLHQpO2lmKCFyLmdldExhbmd1YWdlKHQpKXRocm93IG8oIlVua25vd24gbGFuZ3VhZ2U6IGAlc2AgaXMgbm90IHJlZ2lzdGVyZWQiLHQpO2lmKCJzdHJpbmciIT09dHlwZW9mIGUpdGhyb3cgbygiRXhwZWN0ZWQgYHN0cmluZ2AgZm9yIHZhbHVlLCBnb3QgYCVzYCIsZSk7aWYobnVsbCE9PWwmJnZvaWQgMCE9PWx8fGksci5jb25maWd1cmUoe19fZW1pdHRlcjpwLGNsYXNzUHJlZml4Omx9KSxyLmhpZ2hsaWdodChlLHtsYW5ndWFnZTp0LGlnbm9yZUlsbGVnYWxzOiEwfSksci5jb25maWd1cmUoYXx8e30pLHMuZXJyb3JSYWlzZWQpdGhyb3cgcy5lcnJvclJhaXNlZDtyZXR1cm57cmVsZXZhbmNlOnMucmVsZXZhbmNlLGxhbmd1YWdlOnMubGFuZ3VhZ2UsdmFsdWU6cy5lbWl0dGVyLnJvb3ROb2RlLmNoaWxkcmVufX1mdW5jdGlvbiBhKHQsZSl7dmFyIG4sYSxjLGwsdT1lfHx7fSxwPXUuc3Vic2V0fHxyLmxpc3RMYW5ndWFnZXMoKSxoPXUucHJlZml4LGY9cC5sZW5ndGgsZD0tMTtpZihudWxsIT09aCYmdm9pZCAwIT09aHx8aSwic3RyaW5nIiE9PXR5cGVvZiB0KXRocm93IG8oIkV4cGVjdGVkIGBzdHJpbmdgIGZvciB2YWx1ZSwgZ290IGAlc2AiLHQpOyh7cmVsZXZhbmNlOjAsbGFuZ3VhZ2U6bnVsbCx2YWx1ZTpbXX0pLHtyZWxldmFuY2U6MCxsYW5ndWFnZTpudWxsLHZhbHVlOltdfTt3aGlsZSgrK2Q8ZilwW2RdLHIuZ2V0TGFuZ3VhZ2UobCkmJihzKGwsdCxlKSxjLmxhbmd1YWdlPWwsYy5yZWxldmFuY2U+YS5yZWxldmFuY2UmJmMsYy5yZWxldmFuY2U+bi5yZWxldmFuY2UmJihuLGMpKTtyZXR1cm4gYS5sYW5ndWFnZSYmKG4uc2Vjb25kQmVzdD1hKSxufWZ1bmN0aW9uIGModCxlKXtyLnJlZ2lzdGVyTGFuZ3VhZ2UodCxlKX1mdW5jdGlvbiBsKCl7cmV0dXJuIHIubGlzdExhbmd1YWdlcygpfWZ1bmN0aW9uIHUodCxlKXt2YXIgbixvPXQ7Zm9yKG4gaW4gZSYmKHt9LG9bdF09ZSksbylyLnJlZ2lzdGVyQWxpYXNlcyhvW25dLHtsYW5ndWFnZU5hbWU6bn0pfWZ1bmN0aW9uIHAodCl7dGhpcy5vcHRpb25zPXQsdGhpcy5yb290Tm9kZT17Y2hpbGRyZW46W119LHRoaXMuc3RhY2s9W3RoaXMucm9vdE5vZGVdfWZ1bmN0aW9uIGgodCxlKXt0aGlzLm9wZW5Ob2RlKGUpLHRoaXMuYWRkVGV4dCh0KSx0aGlzLmNsb3NlTm9kZSgpfWZ1bmN0aW9uIGYodCxlKXt2YXIgbj10aGlzLnN0YWNrLHI9bltuLmxlbmd0aC0xXSxvPXQucm9vdE5vZGUuY2hpbGRyZW4saT1lP3t0eXBlOiJlbGVtZW50Iix0YWdOYW1lOiJzcGFuIixwcm9wZXJ0aWVzOntjbGFzc05hbWU6W2VdfSxjaGlsZHJlbjpvfTpvO3IuY2hpbGRyZW49ci5jaGlsZHJlbi5jb25jYXQoaSl9ZnVuY3Rpb24gZCh0KXt2YXIgZSxuLHI9dGhpcy5zdGFjazsiIiE9PXQmJihlPXJbci5sZW5ndGgtMV0sbj1lLmNoaWxkcmVuW2UuY2hpbGRyZW4ubGVuZ3RoLTFdLG4mJiJ0ZXh0Ij09PW4udHlwZT9uLnZhbHVlKz10OmUuY2hpbGRyZW4ucHVzaCh7dHlwZToidGV4dCIsdmFsdWU6dH0pKX1mdW5jdGlvbiBtKHQpe3ZhciBlPXRoaXMuc3RhY2ssbj10aGlzLm9wdGlvbnMuY2xhc3NQcmVmaXgrdCxyPWVbZS5sZW5ndGgtMV0sbz17dHlwZToiZWxlbWVudCIsdGFnTmFtZToic3BhbiIscHJvcGVydGllczp7Y2xhc3NOYW1lOltuXX0sY2hpbGRyZW46W119O3IuY2hpbGRyZW4ucHVzaChvKSxlLnB1c2gobyl9ZnVuY3Rpb24gdigpe3RoaXMuc3RhY2sucG9wKCl9ZnVuY3Rpb24gZygpe3JldHVybiIifWZ1bmN0aW9uIHkoKXt9fSwzNzI1OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik01IDE0YTUgNSAwIDExMCAxMCA1IDUgMCAwMTAtMTB6bTIuNSA1LjkzOGEuOTM3LjkzNyAwIDEwMC0xLjg3NUg2LjI1YS4zMTIuMzEyIDAgMDEtLjMxMy0uMzEzVjE2LjVhLjkzNy45MzcgMCAxMC0xLjg3NSAwdjEuMjVjMCAuMTczLS4xNC4zMTMtLjMxMi4zMTNIMi41YS45MzcuOTM3IDAgMTAwIDEuODc1aDEuMjVjLjE3MyAwIC4zMTMuMTQuMzEzLjMxMnYxLjI1YS45MzcuOTM3IDAgMTAxLjg3NSAwdi0xLjI1YzAtLjE3My4xNC0uMzEzLjMxMi0uMzEzSDcuNXpNMTYgMTlhMyAzIDAgMDA2IDBWNWEzIDMgMCAwMC02IDB2MTR6bS0yIDBWNWE1IDUgMCAwMTEwIDB2MTRhNSA1IDAgMDEtMTAgMHoifX0pXSkpfX19LDQ4MDI6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTE5IDE0YTUgNSAwIDExMCAxMCA1IDUgMCAwMTAtMTB6bTIuNSA1LjkzOGEuOTM3LjkzNyAwIDEwMC0xLjg3NWgtMS4yNWEuMzEyLjMxMiAwIDAxLS4zMTMtLjMxM1YxNi41YS45MzcuOTM3IDAgMTAtMS44NzUgMHYxLjI1YzAgLjE3My0uMTQuMzEzLS4zMTIuMzEzSDE2LjVhLjkzNy45MzcgMCAxMDAgMS44NzVoMS4yNWMuMTczIDAgLjMxMy4xNC4zMTMuMzEydjEuMjVhLjkzNy45MzcgMCAxMDEuODc1IDB2LTEuMjVjMC0uMTczLjE0LS4zMTMuMzEyLS4zMTNoMS4yNXpNMiAxOWEzIDMgMCAwMDYgMFY1YTMgMyAwIDEwLTYgMHYxNHptLTIgMFY1YTUgNSAwIDExMTAgMHYxNGE1IDUgMCAwMS0xMCAweiJ9fSldKSl9fX0sOTA5NDpmdW5jdGlvbih0KXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMTkgMGE1IDUgMCAxMTAgMTAgNSA1IDAgMDEwLTEwem0yLjUgNS45MzhhLjkzNy45MzcgMCAxMDAtMS44NzVoLTEuMjVhLjMxMi4zMTIgMCAwMS0uMzEzLS4zMTNWMi41YS45MzcuOTM3IDAgMTAtMS44NzUgMHYxLjI1YzAgLjE3My0uMTQuMzEzLS4zMTIuMzEzSDE2LjVhLjkzNy45MzcgMCAxMDAgMS44NzVoMS4yNWMuMTczIDAgLjMxMy4xNC4zMTMuMzEyVjcuNWEuOTM3LjkzNyAwIDEwMS44NzUgMFY2LjI1YzAtLjE3My4xNC0uMzEzLjMxMi0uMzEzaDEuMjV6TTUgMTZhMyAzIDAgMDAwIDZoMTRhMyAzIDAgMDAwLTZINXptMC0yaDE0YTUgNSAwIDAxMCAxMEg1YTUgNSAwIDAxMC0xMHoifX0pXSkpfX19LDMyNjE6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTE5IDE0YTUgNSAwIDExMCAxMCA1IDUgMCAwMTAtMTB6bTIuNSA1LjkzOGEuOTM3LjkzNyAwIDEwMC0xLjg3NWgtMS4yNWEuMzEyLjMxMiAwIDAxLS4zMTMtLjMxM1YxNi41YS45MzcuOTM3IDAgMTAtMS44NzUgMHYxLjI1YzAgLjE3My0uMTQuMzEzLS4zMTIuMzEzSDE2LjVhLjkzNy45MzcgMCAxMDAgMS44NzVoMS4yNWMuMTczIDAgLjMxMy4xNC4zMTMuMzEydjEuMjVhLjkzNy45MzcgMCAxMDEuODc1IDB2LTEuMjVjMC0uMTczLjE0LS4zMTMuMzEyLS4zMTNoMS4yNXpNNSAyYTMgMyAwIDEwMCA2aDE0YTMgMyAwIDAwMC02SDV6bTAtMmgxNGE1IDUgMCAwMTAgMTBINUE1IDUgMCAxMTUgMHoifX0pXSkpfX19LDU5NjE6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTE3LjE5NCAxMC45NjJBNi4yNzEgNi4yNzEgMCAwMDEyLjg0NC4yNDhINC4zYTEuMjUgMS4yNSAwIDAwMCAyLjVoMS4wMTNhLjI1LjI1IDAgMDEuMjUuMjVWMjFhLjI1LjI1IDAgMDEtLjI1LjI1SDQuM2ExLjI1IDEuMjUgMCAxMDAgMi41aDkuOTYzYTYuNzQyIDYuNzQyIDAgMDAyLjkzLTEyLjc4NnptLTQuMzUtOC4yMTRhMy43NjIgMy43NjIgMCAwMTAgNy41MjNIOC4zMTNhLjI1LjI1IDAgMDEtLjI1LS4yNVYzYS4yNS4yNSAwIDAxLjI1LS4yNXptMS40MiAxOC41SDguMzEzYS4yNS4yNSAwIDAxLS4yNS0uMjV2LTcuOTc3YS4yNS4yNSAwIDAxLjI1LS4yNUgxNC4yNjRhNC4yMzkgNC4yMzkgMCAwMTAgOC40Nzd6In19KV0pKX19fSw5NDA6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTIxIDBIM2EzIDMgMCAwMC0zIDN2MThhMyAzIDAgMDAzIDNoMThhMyAzIDAgMDAzLTNWM2EzIDMgMCAwMC0zLTN6bTEgMjFhMSAxIDAgMDEtMSAxSDNhMSAxIDAgMDEtMS0xVjNhMSAxIDAgMDExLTFoMThhMSAxIDAgMDExIDF6In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xMS4yNDkgNC41YTEuMjUxIDEuMjUxIDAgMDAtMS43NS4yNUw3LjM2NSA3LjZsLS40ODItLjQ4MWExLjI1IDEuMjUgMCAwMC0xLjc2NyAxLjc2NGwxLjUgMS41YTEuMjYyIDEuMjYyIDAgMDAxLjg4NC0uMTM0bDMtNGExLjI1IDEuMjUgMCAwMC0uMjUxLTEuNzQ5ek0xMS4yNDkgMTMuNWExLjI1MSAxLjI1MSAwIDAwLTEuNzUuMjVMNy4zNjUgMTYuNmwtLjQ4Mi0uNDgxYTEuMjUgMS4yNSAwIDEwLTEuNzY3IDEuNzY4bDEuNSAxLjVhMS4yNjUgMS4yNjUgMCAwMDEuODg0LS4xMzhsMy00YTEuMjUgMS4yNSAwIDAwLS4yNTEtMS43NDl6TTE4LjUgNy43NDlIMTRhMS4yNSAxLjI1IDAgMDAwIDIuNWg0LjVhMS4yNSAxLjI1IDAgMDAwLTIuNXpNMTguNSAxNS43NDlIMTRhMS4yNSAxLjI1IDAgMDAwIDIuNWg0LjVhMS4yNSAxLjI1IDAgMTAwLTIuNXoifX0pXSkpfX19LDY3ODU6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTkuMTQ3IDIxLjU1MmExLjI0NCAxLjI0NCAwIDAxLS44OTUtLjM3OEwuODQgMTMuNTYxYTIuMjU3IDIuMjU3IDAgMDEwLTMuMTI1bDcuNDEyLTcuNjEzYTEuMjUgMS4yNSAwIDAxMS43OTEgMS43NDRsLTYuOSA3LjA4M2EuNS41IDAgMDAwIC43bDYuOSA3LjA4MmExLjI1IDEuMjUgMCAwMS0uOSAyLjEyMnpNMTQuODU0IDIxLjU1MmExLjI1IDEuMjUgMCAwMS0uOS0yLjEyMmw2LjktNy4wODNhLjUuNSAwIDAwMC0uN2wtNi45LTcuMDgyYTEuMjUgMS4yNSAwIDAxMS43OTEtMS43NDRsNy40MTEgNy42MTJhMi4yNTcgMi4yNTcgMCAwMTAgMy4xMjVsLTcuNDEyIDcuNjE0YTEuMjQ0IDEuMjQ0IDAgMDEtLjg5LjM4em02LjUxNC05LjM3M3oifX0pXSkpfX19LDU5NDg6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDQ3NC41NTcgNDc0LjU1NyIsd2lkdGg6IjI0IixoZWlnaHQ6IjI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTAgMi4wMjhWNDcyLjUzaDQ3NC41NTdWMi4wMjhIMHptNDM1LjQ3MSA0MzEuNDM3SDM5LjEwOFY0MS4xMzZoMzk2LjM2M3YzOTIuMzI5eiJ9fSksbigicGF0aCIse2F0dHJzOntkOiJNMTI0LjkxNiAyNzMuNjI1YzEuMjk0IDQuNTMgMi4wMDYgMTQuNDA5IDIuMDA2IDI5LjU3NCAwIDEzLjAwNy42NjkgMjIuNTYzIDIuMDcxIDI4LjYyNCAxLjQwMiA2LjAxOCA0LjE0MiAxMS4xNzQgOC4yNCAxNS4yNzIgNC4wNzcgNC4wOTggOS4wODEgNy4wNzUgMTUuMDEzIDguODY2IDUuOTU0IDEuNzY5IDE0LjQ5NiAyLjY1MyAyNS42MDUgMi42NTNoNi41Nzl2LTI5LjY2Yy04Ljg2NiAwLTE0LjYyNS0uNTYxLTE3LjMtMS42ODItMi42NTMtMS4xNDMtNC42MzgtMi43MTgtNS45NTQtNC44OTctMS4yOTQtMi4xNTctMS45NDEtNS45MS0xLjk0MS0xMS4zMjUgMC0zLjg0LS4zNDUtMTIuNTc2LS45OTItMjYuMjk1LS40OTYtOC45NzMtMS41NzUtMTYuMTM1LTMuMjM2LTIxLjQ4NC0xLjYzOS01LjM5My00LjAxMi05Ljk0NC03LjExOC0xMy42OTctMy4wODUtMy43NzUtNy4wNTQtNy4wMzItMTEuOTA3LTkuODE1IDUuNTAxLTMuNTgxIDkuNTc3LTYuOTY3IDEyLjI3NC0xMC4zMTEgMi42NzUtMy4yNTcgNC44NzUtNy40NDIgNi42MDEtMTIuNTExIDEuNzA0LTUuMDY5IDIuNzgzLTExLjY5MSAzLjIxNC0xOS44NDUuNzMzLTE0LjQ1MiAxLjE0My0yNC4yODkgMS4xNDMtMjkuNDg3IDAtNS4wOTEuNjI2LTguNzE1IDEuODU1LTEwLjgwNyAxLjI1MS0yLjA3MSAzLjE0OS0zLjY0NSA1LjczOC00LjcwMiAyLjU4OC0xLjAxNCA4LjQ3Ny0xLjUzMiAxNy42MjMtMS41MzJ2LTI5LjUwOWgtNi41NzljLTEwLjgwNyAwLTE4LjcyMy43NTUtMjMuNzI4IDIuMjQzLTcuNDIgMi4yMjItMTMuMDcyIDUuMjQyLTE2Ljk3NiA5LjA2LTMuODgzIDMuODQtNi41NTggOC45MDktOC4wNDYgMTUuMjI5LTEuNDY3IDYuMjc3LTIuMTc5IDE3LjQyOS0yLjE3OSAzMy4zNDggMCA5Ljg1OC0uMzY3IDE2LjY3NC0xLjAzNSAyMC42NDMtLjgyIDUuMjYzLTIuMzUxIDkuNjQyLTQuNTUxIDEzLjE1OC0yLjI0MyAzLjUxNi00LjgzMiA1Ljk5Ny03LjkxNiA3LjQ4NS0zLjAyIDEuNDQ1LTcuNTI4IDIuMzczLTEzLjU2OCAyLjczOXYyOS42ODFjNy41OTMuMzg4IDEzLjIwMSAyLjAyOCAxNi44OSA0Ljg5NyAzLjY0NSAyLjgwNiA2LjM4NCA3LjQ4NyA4LjE3NCAxNC4wODd6TTIxMi4wODQgMzMxLjM5Mmw2LjczIDE0LjM2NmM3LjQyLTIuNjUzIDEzLjU2OC02LjMyIDE4LjQtMTAuOTE1IDQuODMyLTQuNTk1IDguMDg5LTkuODE1IDkuODE1LTE1LjYxNyAxLjc0Ny01Ljg0NiAyLjYxLTEzLjgwNSAyLjYxLTIzLjgxNHYtMjQuNzg1aC0zNC43NTF2MzQuNzI5aDE2Ljc2MWMtLjEyOSA2LjgzOC0xLjcyNiAxMi4yOTUtNC42NTkgMTYuNDgtMi45NTYgNC4wMzQtNy45MzkgNy4yNjktMTQuOTA2IDkuNTU2ek0yMTQuODg4IDE3NC4wMTJoMzQuNzUxdjM0Ljc3MmgtMzQuNzUxek0zMTEuMTggMzU2LjM0OWM3LjQ2NC0yLjI0MyAxMy4yMDEtNS4yMiAxNy4xMDYtOS4wODEgMy44ODMtMy44MTggNi41MzYtOC45MyA3LjkzOC0xNS4yNzIgMS40MDItNi4zNjMgMi4xNzktMTcuNTE1IDIuMTc5LTMzLjQ5OSAwLTkuNzUuMzY3LTE2LjYwOSAxLjAxNC0yMC41NTcuODg0LTUuMjYzIDIuNDM4LTkuNjQyIDQuNjU5LTEzLjEzNyAyLjE3OS0zLjQ5NCA0Ljc2Ny02LjAxOCA3LjgwOS03LjQ4NSAzLjA0Mi0xLjQ2NyA3LjU1LTIuMzczIDEzLjU2OC0yLjY5NmgtLjA0M3YtMjkuNjZjLTcuNjE1LS40NTMtMTMuMTgtMi4wNzEtMTYuOTMzLTQuOTE4LTMuNjY3LTIuODI2LTYuNDA3LTcuNTcxLTguMjYyLTE0LjEwNy0xLjI1MS00LjYxNi0xLjg1NS0xNC40NTItMS44NTUtMjkuNTA5IDAtMTMuMDI5LS43MTItMjIuNTQxLTIuMTU3LTI4LjU2LTEuNDI0LTYuMTA1LTQuMTYzLTExLjE5NS04LjE5Ny0xNS4zNTgtNC4wNTUtNC4xNDItOS4wMzgtNy4wNTQtMTQuOTctOC44MDEtNS45NzUtMS43MjYtMTQuNTE3LTIuNjEtMjUuNjI2LTIuNjFoLTYuNTU3djI5LjQ2NmM5LjM0IDAgMTUuMzM3LjU2MSAxNy45OSAxLjY4MyAyLjY5NiAxLjEgNC41NTEgMi42NzUgNS41NjUgNC43MjQgMS4wNTcgMi4wNDkgMS41NTMgNi4xNjkgMS42MzkgMTIuMzYuNDUzIDE5LjYwOCAxLjE4NiAzMi4yOTEgMi4wNzEgMzguMDcyIDEuMzgxIDguMzY5IDQuMDU1IDE1LjI5NCA3Ljg3MyAyMC42ODYgMi44MjYgMy44NCA3LjI0OCA3LjY1OCAxMy4zNTIgMTEuNjI3LTQuNzAyIDIuNjk2LTguNTIgNS44NDYtMTEuNTQgOS40NDgtMy4wNDEgMy41NTktNS40MzYgNy45Ni03LjIwNSAxMy4wNzItMS44MTIgNS4xNzctMi45NTUgMTIuMDgtMy4zMjIgMjAuNi0uNjY5IDE0LjE3Mi0xLjEgMjMuODE0LTEuMSAyOC44MTktLjA4NiA1LjAyNi0uNjY5IDguNTg1LTEuOTg0IDEwLjY5OS0xLjMxNiAyLjEzNi0zLjI3OSAzLjcxLTUuOTc1IDQuODUzLTIuNzE4IDEuMTIyLTguNTIgMS42MzktMTcuMzY0IDEuNjM5djI5LjY2aDYuNjIyYzEwLjc0MS4wNjQgMTguNjc5LS43MTIgMjMuNzA1LTIuMTU4eiJ9fSldKSl9fX0sNTMxMTpmdW5jdGlvbih0KXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMiAxOWEzIDMgMCAwMDMgM2gxNGEzIDMgMCAwMDMtM1Y1YTMgMyAwIDAwLTMtM0g1YTMgMyAwIDAwLTMgM3YxNHptLTIgMFY1YTUgNSAwIDAxNS01aDE0YTUgNSAwIDAxNSA1djE0YTUgNSAwIDAxLTUgNUg1YTUgNSAwIDAxLTUtNXptMTItOWExIDEgMCAwMTEgMXYyYTEgMSAwIDAxLTIgMHYtMmExIDEgMCAwMTEtMXptMCA2YTEgMSAwIDAxMSAxdjNhMSAxIDAgMDEtMiAwdi0zYTEgMSAwIDAxMS0xem0wLTEzYTEgMSAwIDAxMSAxdjNhMSAxIDAgMDEtMiAwVjRhMSAxIDAgMDExLTF6In19KV0pKX19fSw0NTI2OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xMi42NDEgMjEuOTMxYTcuMDEgNy4wMSAwIDAwMS4xNDYgMS43NEE1IDUgMCAwMTcgMTlWNWE1IDUgMCAxMTEwIDB2Ny4yOWE2Ljk3MiA2Ljk3MiAwIDAwLTIgLjk2NVY1YTMgMyAwIDAwLTYgMHYxNGEzIDMgMCAwMDMuNjQxIDIuOTMxek0xOSAxNGE1IDUgMCAxMTAgMTAgNSA1IDAgMDEwLTEwem0tMi41IDUuOTM4aDVhLjkzNy45MzcgMCAxMDAtMS44NzVoLTVhLjkzNy45MzcgMCAxMDAgMS44NzV6In19KV0pKX19fSw0NDY0OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xMy4yNTUgMTVhNi45NzIgNi45NzIgMCAwMC0uOTY1IDJINUE1IDUgMCAwMTUgN2gxNGE1IDUgMCAwMTQuNjcxIDYuNzg3IDcuMDEgNy4wMSAwIDAwLTEuNzQtMS4xNDZBMyAzIDAgMDAxOSA5SDVhMyAzIDAgMDAwIDZoOC4yNTV6TTE5IDE0YTUgNSAwIDExMCAxMCA1IDUgMCAwMTAtMTB6bS0yLjUgNS45MzhoNWEuOTM3LjkzNyAwIDEwMC0xLjg3NWgtNWEuOTM3LjkzNyAwIDEwMCAxLjg3NXoifX0pXSkpfX19LDYzNzg6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTE5IDE0YTUgNSAwIDExMCAxMCA1IDUgMCAwMTAtMTB6bS0yLjUgNS45MzhoNWEuOTM3LjkzNyAwIDEwMC0xLjg3NWgtNWEuOTM3LjkzNyAwIDEwMCAxLjg3NXpNMTIuMjkgMTdIOXY1aDMuNjc0Yy4zNTYuNzUuODQxIDEuNDI2IDEuNDI3IDJINWE1IDUgMCAwMS01LTVWNWE1IDUgMCAwMTUtNWgxNGE1IDUgMCAwMTUgNXYyLjgyM2EuODQzLjg0MyAwIDAxMCAuMzU0VjE0LjFhNy4wMTggNy4wMTggMCAwMC0yLTEuNDI3VjloLTV2My4yOWE2Ljk3MiA2Ljk3MiAwIDAwLTIgLjk2NVY5SDl2Nmg0LjI1NWE2Ljk3MiA2Ljk3MiAwIDAwLS45NjUgMnpNMTcgN2g1VjVhMyAzIDAgMDAtMy0zaC0ydjV6bS0yIDBWMkg5djVoNnpNNyAySDVhMyAzIDAgMDAtMyAzdjJoNVYyek0yIDl2Nmg1VjlIMnptMCA4djJhMyAzIDAgMDAzIDNoMnYtNUgyeiJ9fSldKSl9fX0sMjg2MTpmdW5jdGlvbih0KXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMTEuOTk5LjVDNS42NDkuNS41IDUuNjQ4LjUgMTJjMCA1LjA4MiAzLjI5NCA5LjM5MiA3Ljg2NSAxMC45MTQuNTc0LjEwMy43NTYtLjIzNi43NTYtLjU0MSAwLS4yNzQuMDA2LTEuMDM3IDAtMS45OTctMy4xOTguNjk0LTMuODYxLTEuNTE1LTMuODYxLTEuNTE1LS41MjMtMS4zMjktMS4yNzUtMS42ODItMS4yNzUtMS42ODItMS4wNDUtLjcxNC4wNzctLjY5OS4wNzctLjY5OSAxLjE1My4wOCAxLjc2MiAxLjE4NCAxLjc2MiAxLjE4NCAxLjAyNiAxLjc1OCAyLjY5MSAxLjI1IDMuMzQ2Ljk1Ni4xMDYtLjc0Mi40MDItMS4yNTEuNzMxLTEuNTM2LTIuNTU0LS4yOTItNS4yMzgtMS4yNzctNS4yMzgtNS42ODYgMC0xLjI1NS40NDgtMi4yODEgMS4xODQtMy4wODYtLjExOC0uMjg5LS41MTQtMS40Ni4xMTItMy4wNDMgMCAwIC45NjctLjMwOSAzLjE2MiAxLjE4YTExLjAxMSAxMS4wMTEgMCAwMTIuODgtLjM4OGMuOTc2LjAwNSAxLjk2LjEzMiAyLjg4LjM4OCAyLjE5NS0xLjQ4OCAzLjE1OS0xLjE4IDMuMTU5LTEuMTguNjI3IDEuNTgzLjIzMiAyLjc1NC4xMTQgMy4wNDMuNzM2LjgwNSAxLjE4MyAxLjgzMSAxLjE4MyAzLjA4NiAwIDQuNDItMi42ODkgNS4zOTEtNS4yNTEgNS42NzQuNDEyLjM1Ny43ODcgMS4wNDcuNzg3IDIuMTJ2My4xODRjMCAuMzA4LjE4Ni42NDcuNzcuNTM2QzIwLjIwOSAyMS4zODkgMjMuNSAxNy4wOCAyMy41IDEyIDIzLjUgNS42NDggMTguMzUyLjUgMTEuOTk5LjV6In19KV0pKX19fSwxMDMwOmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik01IDEzYTEgMSAwIDAxMC0yaDE0YTEgMSAwIDAxMCAySDV6In19KV0pKX19fSw5MTE4OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJjaXJjbGUiLHthdHRyczp7Y3g6IjkuNzUiLGN5OiI2LjI0NyIscjoiMi4yNSJ9fSksbigicGF0aCIse2F0dHJzOntkOiJNMTYuOTE2IDguNzFBMS4wMjcgMS4wMjcgMCAwMDE2IDguMTU4YTEuMDA3IDEuMDA3IDAgMDAtLjg5Mi41ODZsLTEuNTU4IDMuNDM0YS4yNDkuMjQ5IDAgMDEtLjQyMi4wNTNsLS44Mi0xLjAyNGExIDEgMCAwMC0uODEzLS4zNzYgMS4wMDcgMS4wMDcgMCAwMC0uNzg3LjQyNkw3LjU5IDE1LjcxYS41LjUgMCAwMC40MS43OWgxMmEuNS41IDAgMDAuNDI1LS4yMzcuNS41IDAgMDAuMDIyLS40ODZ6In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMiAwSDUuNWEyIDIgMCAwMC0yIDJ2MTYuNWEyIDIgMCAwMDIgMkgyMmEyIDIgMCAwMDItMlYyYTIgMiAwIDAwLTItMnptLS4xNDUgMTguMzU0YS41LjUgMCAwMS0uMzU0LjE0Nkg2YS41LjUgMCAwMS0uNS0uNVYyLjVBLjUuNSAwIDAxNiAyaDE1LjVhLjUuNSAwIDAxLjUuNVYxOGEuNS41IDAgMDEtLjE0NS4zNTF6In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xOS41IDIyaC0xN2EuNS41IDAgMDEtLjUtLjV2LTE3YTEgMSAwIDAwLTIgMFYyMmEyIDIgMCAwMDIgMmgxNy41YTEgMSAwIDAwMC0yeiJ9fSldKSl9fX0sNzA4MzpmdW5jdGlvbih0KXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMjIuNS4yNDhoLTcuNjM3YTEuMjUgMS4yNSAwIDAwMCAyLjVoMS4wODZhLjI1LjI1IDAgMDEuMjExLjM4NEw0Ljc4IDIxLjAxN2EuNS41IDAgMDEtLjQyMi4yMzFIMS41YTEuMjUgMS4yNSAwIDAwMCAyLjVoNy42MzdhMS4yNSAxLjI1IDAgMDAwLTIuNUg4LjA1MWEuMjUuMjUgMCAwMS0uMjExLS4zODRMMTkuMjIgMi45OGEuNS41IDAgMDEuNDIyLS4yMzJIMjIuNWExLjI1IDEuMjUgMCAwMDAtMi41eiJ9fSldKSl9fX0sMzE0NDpmdW5jdGlvbih0KXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMTIuNDA2IDE0LjkwNWExIDEgMCAwMC0uNTQzIDEuMzA3IDEgMSAwIDAxLS4yMTcgMS4wOWwtMi44MjggMi44MjlhMiAyIDAgMDEtMi44MjggMEwzLjg2OCAxOC4wMWEyIDIgMCAwMTAtMi44MjlMNi43IDEyLjM1M2ExLjAxMyAxLjAxMyAwIDAxMS4wOTEtLjIxNyAxIDEgMCAwMC43NjMtMS44NDkgMy4wMzQgMy4wMzQgMCAwMC0zLjI2OC42NTJsLTIuODMyIDIuODI4YTQuMDA2IDQuMDA2IDAgMDAwIDUuNjU3bDIuMTIyIDIuMTIxYTQgNCAwIDAwNS42NTYgMGwyLjgyOS0yLjgyOGEzLjAwOCAzLjAwOCAwIDAwLjY1MS0zLjI3IDEgMSAwIDAwLTEuMzA2LS41NDJ6In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik03Ljc1NyAxNi4yNDFhMS4wMTEgMS4wMTEgMCAwMDEuNDE0IDBsNy43NzktNy43NzhhMSAxIDAgMDAtMS40MTQtMS40MTRsLTcuNzc5IDcuNzc4YTEgMSAwIDAwMCAxLjQxNHoifX0pLG4oInBhdGgiLHthdHRyczp7ZDoiTTIxLjU0NiA0LjU3NGwtMi4xMjEtMi4xMjFhNC4wMDYgNC4wMDYgMCAwMC01LjY1NyAwbC0yLjgyOSAyLjgyOGEzLjAwNiAzLjAwNiAwIDAwLS42NTEgMy4yNjkgMSAxIDAgMTAxLjg0OS0uNzY0IDEgMSAwIDAxLjIxNy0xLjA4NmwyLjgyOC0yLjgyOGEyIDIgMCAwMTIuODI5IDBsMi4xMjEgMi4xMjFhMiAyIDAgMDEwIDIuODI5TDE3LjMgMTEuNjQ1YTEuMDE1IDEuMDE1IDAgMDEtMS4wOTEuMjE3IDEgMSAwIDAwLS43NjUgMS44NDkgMy4wMjYgMy4wMjYgMCAwMDMuMjctLjY1MWwyLjgyOC0yLjgyOGE0LjAwNyA0LjAwNyAwIDAwLjAwNC01LjY1OHoifX0pXSkpfX19LDk2Njc6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTEyIC41QTExLjYzNCAxMS42MzQgMCAwMC4yNjIgMTIgMTEuNjM0IDExLjYzNCAwIDAwMTIgMjMuNWExMS44MzYgMTEuODM2IDAgMDA2LjYyNC0yIDEuMjUgMS4yNSAwIDEwLTEuMzkzLTIuMDc2QTkuMzQgOS4zNCAwIDAxMTIgMjFhOS4xMzIgOS4xMzIgMCAwMS05LjIzOC05QTkuMTMyIDkuMTMyIDAgMDExMiAzYTkuMTMyIDkuMTMyIDAgMDE5LjIzOCA5di44OTFhMS45NDMgMS45NDMgMCAwMS0zLjg4NCAwVjEyQTUuMzU1IDUuMzU1IDAgMTAxMiAxNy4yNjFhNS4zNzYgNS4zNzYgMCAwMDMuODYxLTEuNjM0IDQuNDM4IDQuNDM4IDAgMDA3Ljg3Ny0yLjczNlYxMkExMS42MzQgMTEuNjM0IDAgMDAxMiAuNXptMCAxNC4yNjFBMi43NjMgMi43NjMgMCAxMTE0Ljg1NCAxMiAyLjgxMiAyLjgxMiAwIDAxMTIgMTQuNzYxeiJ9fSldKSl9fX0sODUyMTpmdW5jdGlvbih0KXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNNy43NSA0LjVoMTVhMSAxIDAgMDAwLTJoLTE1YTEgMSAwIDAwMCAyek0yMi43NSAxMWgtMTVhMSAxIDAgMTAwIDJoMTVhMSAxIDAgMDAwLTJ6TTIyLjc1IDE5LjVoLTE1YTEgMSAwIDAwMCAyaDE1YTEgMSAwIDAwMC0yek0yLjIxMiAxNy4yNDhhMiAyIDAgMDAtMS45MzMgMS40ODQuNzUuNzUgMCAxMDEuNDUuMzg2LjUuNSAwIDExLjQ4My42My43NS43NSAwIDEwMCAxLjUuNS41IDAgMTEtLjQ4Mi42MzUuNzUuNzUgMCAxMC0xLjQ0NS40IDIgMiAwIDEwMy41ODktMS42NDguMjUxLjI1MSAwIDAxMC0uMjc4IDIgMiAwIDAwLTEuNjYyLTMuMTExek00LjI1IDEwLjc0OGEyIDIgMCAwMC00IDAgLjc1Ljc1IDAgMDAxLjUgMCAuNS41IDAgMDExIDAgMS4wMzEgMS4wMzEgMCAwMS0uMjI3LjY0NUwuNDE0IDE0LjAyOUEuNzUuNzUgMCAwMDEgMTUuMjQ4aDIuNWEuNzUuNzUgMCAwMDAtMS41aC0uNDE5YS4yNDkuMjQ5IDAgMDEtLjE5NS0uNDA2TDMuNyAxMi4zM2EyLjU0NCAyLjU0NCAwIDAwLjU1LTEuNTgyek00IDUuMjQ4aC0uMjVBLjI1LjI1IDAgMDEzLjUgNVYxLjYyM0ExLjM3NyAxLjM3NyAwIDAwMi4xMjUuMjQ4SDEuNWEuNzUuNzUgMCAwMDAgMS41aC4yNUEuMjUuMjUgMCAwMTIgMnYzYS4yNS4yNSAwIDAxLS4yNS4yNUgxLjVhLjc1Ljc1IDAgMDAwIDEuNUg0YS43NS43NSAwIDAwMC0xLjV6In19KV0pKX19fSw3OTgwOmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMi41LjI0OEg3LjIyOGE2Ljk3NyA2Ljk3NyAwIDEwMCAxMy45NTRoMi4zMThhLjI1LjI1IDAgMDEuMjUuMjVWMjIuNWExLjI1IDEuMjUgMCAwMDIuNSAwVjNhLjI1LjI1IDAgMDEuMjUtLjI1aDMuNjgyYS4yNS4yNSAwIDAxLjI1LjI1djE5LjVhMS4yNSAxLjI1IDAgMDAyLjUgMFYzYS4yNDkuMjQ5IDAgMDEuMjUtLjI1SDIyLjVhMS4yNSAxLjI1IDAgMDAwLTIuNXpNOS44IDExLjQ1MmEuMjUuMjUgMCAwMS0uMjUuMjVINy4yMjhhNC40NzcgNC40NzcgMCAxMTAtOC45NTRoMi4zMThBLjI1LjI1IDAgMDE5LjggM3oifX0pXSkpfX19LDg2OTk6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTE4LjU1OSAzLjkzMmE0Ljk0MiA0Ljk0MiAwIDEwMCA5Ljg4MyA0LjYwOSA0LjYwOSAwIDAwMS4xMTUtLjE0MS4yNS4yNSAwIDAxLjI3Ni4zNjggNi44MyA2LjgzIDAgMDEtNS44NzggMy41MjMgMS4yNSAxLjI1IDAgMDAwIDIuNSA5LjcxIDkuNzEgMCAwMDkuNDI4LTkuOTVWOC44NzNhNC45NDcgNC45NDcgMCAwMC00Ljk0MS00Ljk0MXpNNi4yMzYgMy45MzJhNC45NDIgNC45NDIgMCAwMDAgOS44ODMgNC42IDQuNiAwIDAwMS4xMTUtLjE0MS4yNS4yNSAwIDAxLjI3Ny4zNjggNi44MyA2LjgzIDAgMDEtNS44NzggMy41MjMgMS4yNSAxLjI1IDAgMDAwIDIuNSA5LjcxMSA5LjcxMSAwIDAwOS40MjgtOS45NVY4Ljg3M2E0Ljk0NyA0Ljk0NyAwIDAwLTQuOTQyLTQuOTQxeiJ9fSldKSl9fX0sMzU0NjpmdW5jdGlvbih0KXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4ucH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5wfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMjIuNjA4LjE2MWEuNS41IDAgMDAtLjU0NS4xMDhMMTkuNDcyIDIuODZhLjI1LjI1IDAgMDEtLjI5Mi4wNDUgMTIuNTM3IDEyLjUzNyAwIDAwLTEyLjk2Ni44NjVBMTIuMjU5IDEyLjI1OSAwIDAwNi4xIDIzLjYzMmExLjI1IDEuMjUgMCAwMDEuNDc2LTIuMDE4IDkuNzU5IDkuNzU5IDAgMDEuMDkxLTE1LjgwOSAxMCAxMCAwIDAxOS40NjYtMS4xLjI1LjI1IDAgMDEuMDg0LjQwOWwtMS44NSAxLjg1YS41LjUgMCAwMC4zNTQuODUzaDYuN2EuNS41IDAgMDAuNS0uNVYuNjIzYS41LjUgMCAwMC0uMzEzLS40NjJ6In19KV0pKX19fSwzMzE2OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMC40ODUgMy41MTFBMTIuMDEgMTIuMDEgMCAxMDI0IDEyYTEyLjAwOSAxMi4wMDkgMCAwMC0zLjUxNS04LjQ4OXptLTEuNzY3IDE1LjIxQTkuNTEgOS41MSAwIDExMjEuNSAxMmE5LjUwOCA5LjUwOCAwIDAxLTIuNzgyIDYuNzIxeiJ9fSksbigicGF0aCIse2F0dHJzOntkOiJNMTYuOTg3IDcuMDFhMS4yNzUgMS4yNzUgMCAwMC0xLjggMGwtMy4xNzcgMy4xNzdMOC44MjkgNy4wMWExLjI3NyAxLjI3NyAwIDAwLTEuODA1IDEuODA2bDMuMTc2IDMuMTc3LTMuMTc2IDMuMTc4YTEuMjc3IDEuMjc3IDAgMDAxLjgwNSAxLjgwNmwzLjE3Ni0zLjE3NyAzLjE3NyAzLjE3OGExLjI3NyAxLjI3NyAwIDAwMS44LTEuODA2bC0zLjE3Ni0zLjE3OCAzLjE3Ni0zLjE3N2ExLjI3OCAxLjI3OCAwIDAwLjAwNS0xLjgwN3oifX0pXSkpfX19LDk2NjY6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTIzLjc1IDEyLjk1MkExLjI1IDEuMjUgMCAwMDIyLjUgMTEuN2gtOC45MzZhLjQ5Mi40OTIgMCAwMS0uMjgyLS4wOWMtLjcyMi0uNTEzLTEuNDgyLS45ODEtMi4yMTgtMS40MzItMi44LTEuNzE1LTQuNS0yLjktNC41LTQuODYzIDAtMi4yMzUgMi4yMDctMi41NjkgMy41MjMtMi41NjlhNC41NCA0LjU0IDAgMDEzLjA4MS43NjQgMi42NjIgMi42NjIgMCAwMS40NDcgMS45OXYuM2ExLjI1IDEuMjUgMCAxMDIuNSAwdi0uMjY4YTQuODg3IDQuODg3IDAgMDAtMS4xNjUtMy43NzdDMTMuOTQ5Ljc0MSAxMi4zNTkuMjQ4IDEwLjA5MS4yNDhjLTMuNjU4IDAtNi4wMjMgMS45ODktNi4wMjMgNS4wNjkgMCAyLjc3MyAxLjg5MiA0LjUxMiA0IDUuOTI3YS4yNS4yNSAwIDAxLS4xMzkuNDU4SDEuNWExLjI1IDEuMjUgMCAwMDAgMi41aDEwLjk3N2EuMjUxLjI1MSAwIDAxLjE1OS4wNTggNC4zMzkgNC4zMzkgMCAwMTEuOTMyIDMuNDY2YzAgMy4yNjgtMy40MjYgMy41MjItNC40NzcgMy41MjItMS44MTQgMC0zLjEzOS0uNDA1LTMuODM0LTEuMTczYTMuMzk0IDMuMzk0IDAgMDEtLjY1LTIuNyAxLjI1IDEuMjUgMCAwMC0yLjQ4OC0uMjQ2QTUuNzYgNS43NiAwIDAwNC40IDIxLjc1M2MxLjIgMS4zMjQgMy4xMTQgMiA1LjY4OCAyIDQuMTc0IDAgNi45NzctMi40MiA2Ljk3Ny02LjAyMmE2LjA1OSA2LjA1OSAwIDAwLS44NDktMy4xNDcuMjUuMjUgMCAwMS4yMTYtLjM3N0gyMi41YTEuMjUgMS4yNSAwIDAwMS4yNS0xLjI1NXoifX0pXSkpfX19LDM0NjI6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ImZpbGwtcnVsZSI6ImV2ZW5vZGQiLGQ6Ik0xNyAxN3Y1aDJhMyAzIDAgMDAzLTN2LTJoLTV6bS0yIDBIOXY1aDZ2LTV6bTItMmg1VjloLTV2NnptLTIgMFY5SDl2Nmg2em0yLThoNVY1YTMgMyAwIDAwLTMtM2gtMnY1em0tMiAwVjJIOXY1aDZ6bTkgOS4xNzdWMTlhNSA1IDAgMDEtNSA1SDVhNSA1IDAgMDEtNS01VjVhNSA1IDAgMDE1LTVoMTRhNSA1IDAgMDE1IDV2Mi44MjNhLjg0My44NDMgMCAwMTAgLjM1NHY3LjY0NmEuODQzLjg0MyAwIDAxMCAuMzU0ek03IDJINWEzIDMgMCAwMC0zIDN2Mmg1VjJ6TTIgOXY2aDVWOUgyem0wIDh2MmEzIDMgMCAwMDMgM2gydi01SDJ6In19KV0pKX19fSwzNzI0OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJjaXJjbGUiLHthdHRyczp7Y3g6IjIuNSIsY3k6IjMuOTk4IixyOiIyLjUifX0pLG4oInBhdGgiLHthdHRyczp7ZDoiTTguNSA1SDIzYTEgMSAwIDAwMC0ySDguNWExIDEgMCAwMDAgMnoifX0pLG4oImNpcmNsZSIse2F0dHJzOntjeDoiMi41IixjeToiMTEuOTk4IixyOiIyLjUifX0pLG4oInBhdGgiLHthdHRyczp7ZDoiTTIzIDExSDguNWExIDEgMCAwMDAgMkgyM2ExIDEgMCAwMDAtMnoifX0pLG4oImNpcmNsZSIse2F0dHJzOntjeDoiMi41IixjeToiMTkuOTk4IixyOiIyLjUifX0pLG4oInBhdGgiLHthdHRyczp7ZDoiTTIzIDE5SDguNWExIDEgMCAwMDAgMkgyM2ExIDEgMCAwMDAtMnoifX0pXSkpfX19LDE2MDc6ZnVuY3Rpb24odCl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLnB9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4ucH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTIyLjUgMjEuMjQ4aC0yMWExLjI1IDEuMjUgMCAwMDAgMi41aDIxYTEuMjUgMS4yNSAwIDAwMC0yLjV6TTEuOTc4IDIuNzQ4aDEuMzYzYS4yNS4yNSAwIDAxLjI1LjI1djguNTIzYTguNDA5IDguNDA5IDAgMDAxNi44MTggMFYzYS4yNS4yNSAwIDAxLjI1LS4yNWgxLjM2M2ExLjI1IDEuMjUgMCAwMDAtMi41SDE2LjNhMS4yNSAxLjI1IDAgMDAwIDIuNWgxLjM2M2EuMjUuMjUgMCAwMS4yNS4yNXY4LjUyM2E1LjkwOSA1LjkwOSAwIDAxLTExLjgxOCAwVjNhLjI1LjI1IDAgMDEuMjUtLjI1SDcuN2ExLjI1IDEuMjUgMCAxMDAtMi41SDEuOTc4YTEuMjUgMS4yNSAwIDAwMCAyLjV6In19KV0pKX19fSwzNjY5OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5wfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLnB9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xNy43ODYgMy43N2ExMi41NDIgMTIuNTQyIDAgMDAtMTIuOTY1LS44NjUuMjQ5LjI0OSAwIDAxLS4yOTItLjA0NUwxLjkzNy4yNjlBLjUwNy41MDcgMCAwMDEuMzkyLjE2YS41LjUgMCAwMC0uMzA4LjQ2MnY2LjdhLjUuNSAwIDAwLjUuNWg2LjdhLjUuNSAwIDAwLjM1NC0uODU0TDYuNzgzIDUuMTE1YS4yNTMuMjUzIDAgMDEtLjA2OC0uMjI4LjI0OS4yNDkgMCAwMS4xNTItLjE4MSAxMCAxMCAwIDAxOS40NjYgMS4xIDkuNzU5IDkuNzU5IDAgMDEuMDk0IDE1LjgwOSAxLjI1IDEuMjUgMCAwMDEuNDczIDIuMDE2IDEyLjEyMiAxMi4xMjIgMCAwMDUuMDEzLTkuOTYxIDEyLjEyNSAxMi4xMjUgMCAwMC01LjEyNy05Ljl6In19KV0pKX19fSwyMDA1OmZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9dH19LG49e307ZnVuY3Rpb24gcih0KXt2YXIgbz1uW3RdO2lmKHZvaWQgMCE9PW8pcmV0dXJuIG8uZXhwb3J0czt2YXIgaT1uW3RdPXtleHBvcnRzOnt9fTtyZXR1cm4gZVt0XS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxyKSxpLmV4cG9ydHN9IWZ1bmN0aW9uKCl7ci5uPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0WyJkZWZhdWx0Il19OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiByLmQoZSx7YTplfSksZX19KCksZnVuY3Rpb24oKXtyLmQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSlyLm8oZSxuKSYmIXIubyh0LG4pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHtlbnVtZXJhYmxlOiEwLGdldDplW25dfSl9fSgpLGZ1bmN0aW9uKCl7ci5nPWZ1bmN0aW9uKCl7aWYoIm9iamVjdCI9PT10eXBlb2YgZ2xvYmFsVGhpcylyZXR1cm4gZ2xvYmFsVGhpczt0cnl7cmV0dXJuIHRoaXN8fG5ldyBGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfWNhdGNoKHQpe2lmKCJvYmplY3QiPT09dHlwZW9mIHdpbmRvdylyZXR1cm4gd2luZG93fX0oKX0oKSxmdW5jdGlvbigpe3Iubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX19KCksZnVuY3Rpb24oKXtyLnA9IiJ9KCk7dmFyIG89e307cmV0dXJuIGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2lmKCJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdyl7dmFyIHQ9d2luZG93LmRvY3VtZW50LmN1cnJlbnRTY3JpcHQsZT1yKDc2NzkpO3Q9ZSgpLCJjdXJyZW50U2NyaXB0ImluIGRvY3VtZW50fHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsImN1cnJlbnRTY3JpcHQiLHtnZXQ6ZX0pO3ZhciBuPXQmJnQuc3JjLm1hdGNoKC8oLitcLylbXi9dK1wuanMoXD8uKik/JC8pO24mJihyLnA9blsxXSl9dmFyIG89ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC4kY3JlYXRlRWxlbWVudCxuPXQuX3NlbGYuX2N8fGU7cmV0dXJuIG4oImRpdiIse3N0YXRpY0NsYXNzOiJ0aXB0YXAtZWRpdG9yIn0sW24oImVkaXRvci1tZW51LWJhciIse2F0dHJzOntlZGl0b3I6dC5lZGl0b3J9LHNjb3BlZFNsb3RzOnQuX3UoW3trZXk6ImRlZmF1bHQiLGZuOmZ1bmN0aW9uKGUpe3ZhciByPWUuY29tbWFuZHMsbz1lLmlzQWN0aXZlO3JldHVybltuKCJkaXYiLHtzdGF0aWNDbGFzczoibWVudWJhciJ9LFtuKCJkaXYiLHtzdGF0aWNDbGFzczoidG9vbGJhciJ9LFtuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5oZWFkaW5nKHtsZXZlbDoxfSl9LG9uOntjbGljazpmdW5jdGlvbih0KXtyZXR1cm4gci5oZWFkaW5nKHtsZXZlbDoxfSl9fX0sW3QuX3YoIiBIMSAiKV0pLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLmhlYWRpbmcoe2xldmVsOjJ9KX0sb246e2NsaWNrOmZ1bmN0aW9uKHQpe3JldHVybiByLmhlYWRpbmcoe2xldmVsOjJ9KX19fSxbdC5fdigiIEgyICIpXSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8uaGVhZGluZyh7bGV2ZWw6M30pfSxvbjp7Y2xpY2s6ZnVuY3Rpb24odCl7cmV0dXJuIHIuaGVhZGluZyh7bGV2ZWw6M30pfX19LFt0Ll92KCIgSDMgIildKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5idWxsZXRfbGlzdCgpfSxvbjp7Y2xpY2s6ci5idWxsZXRfbGlzdH19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6InVsIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8ub3JkZXJlZF9saXN0KCl9LG9uOntjbGljazpyLm9yZGVyZWRfbGlzdH19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6Im9sIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8uYm9sZCgpfSxvbjp7Y2xpY2s6ci5ib2xkfX0sW24oImljb24iLHthdHRyczp7bmFtZToiYm9sZCJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLml0YWxpYygpfSxvbjp7Y2xpY2s6ci5pdGFsaWN9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJpdGFsaWMifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5zdHJpa2UoKX0sb246e2NsaWNrOnIuc3RyaWtlfX0sW24oImljb24iLHthdHRyczp7bmFtZToic3RyaWtlIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8udW5kZXJsaW5lKCl9LG9uOntjbGljazpyLnVuZGVybGluZX19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6InVuZGVybGluZSJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLmNvZGUoKX0sb246e2NsaWNrOnIuY29kZX19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImNvZGUifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5wYXJhZ3JhcGgoKX0sb246e2NsaWNrOnIucGFyYWdyYXBofX0sW24oImljb24iLHthdHRyczp7bmFtZToicGFyYWdyYXBoIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8uYmxvY2txdW90ZSgpfSxvbjp7Y2xpY2s6ci5ibG9ja3F1b3RlfX0sW24oImljb24iLHthdHRyczp7bmFtZToicXVvdGUifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5jb2RlX2Jsb2NrKCl9LG9uOntjbGljazpyLmNvZGVfYmxvY2t9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJjb2RlX2Jsb2NrIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsb246e2NsaWNrOmZ1bmN0aW9uKHQpe3JldHVybiByLmNyZWF0ZVRhYmxlKHtyb3dzQ291bnQ6Myxjb2xzQ291bnQ6Myx3aXRoSGVhZGVyUm93OiExfSl9fX0sW24oImljb24iLHthdHRyczp7bmFtZToidGFibGUifX0pXSwxKSxvLnRhYmxlKCk/bigic3BhbiIsW24oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLG9uOntjbGljazpyLmRlbGV0ZVRhYmxlfX0sW24oImljb24iLHthdHRyczp7bmFtZToiZGVsZXRlX3RhYmxlIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsb246e2NsaWNrOnIuYWRkQ29sdW1uQmVmb3JlfX0sW24oImljb24iLHthdHRyczp7bmFtZToiYWRkX2NvbF9iZWZvcmUifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixvbjp7Y2xpY2s6ci5hZGRDb2x1bW5BZnRlcn19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImFkZF9jb2xfYWZ0ZXIifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixvbjp7Y2xpY2s6ci5kZWxldGVDb2x1bW59fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJkZWxldGVfY29sIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsb246e2NsaWNrOnIuYWRkUm93QmVmb3JlfX0sW24oImljb24iLHthdHRyczp7bmFtZToiYWRkX3Jvd19iZWZvcmUifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixvbjp7Y2xpY2s6ci5hZGRSb3dBZnRlcn19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImFkZF9yb3dfYWZ0ZXIifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixvbjp7Y2xpY2s6ci5kZWxldGVSb3d9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJkZWxldGVfcm93In19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsb246e2NsaWNrOnIudG9nZ2xlQ2VsbE1lcmdlfX0sW24oImljb24iLHthdHRyczp7bmFtZToiY29tYmluZV9jZWxscyJ9fSldLDEpXSk6dC5fZSgpXSldKV19fV0pfSksbigiZWRpdG9yLWNvbnRlbnQiLHtzdGF0aWNDbGFzczoidGlwdGFwLWVkaXRvcl9fY29udGVudCIsYXR0cnM6e2VkaXRvcjp0LmVkaXRvcn19KV0sMSl9LGk9W107ZnVuY3Rpb24gcyh0KXt0aGlzLmNvbnRlbnQ9dH1zLnByb3RvdHlwZT17Y29uc3RydWN0b3I6cyxmaW5kOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5jb250ZW50Lmxlbmd0aDtlKz0yKWlmKHRoaXMuY29udGVudFtlXT09PXQpcmV0dXJuIGU7cmV0dXJuLTF9LGdldDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmZpbmQodCk7cmV0dXJuLTE9PWU/dm9pZCAwOnRoaXMuY29udGVudFtlKzFdfSx1cGRhdGU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4mJm4hPXQ/dGhpcy5yZW1vdmUobik6dGhpcyxvPXIuZmluZCh0KSxpPXIuY29udGVudC5zbGljZSgpO3JldHVybi0xPT1vP2kucHVzaChufHx0LGUpOihpW28rMV09ZSxuJiYoaVtvXT1uKSksbmV3IHMoaSl9LHJlbW92ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmZpbmQodCk7aWYoLTE9PWUpcmV0dXJuIHRoaXM7dmFyIG49dGhpcy5jb250ZW50LnNsaWNlKCk7cmV0dXJuIG4uc3BsaWNlKGUsMiksbmV3IHMobil9LGFkZFRvU3RhcnQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHMoW3QsZV0uY29uY2F0KHRoaXMucmVtb3ZlKHQpLmNvbnRlbnQpKX0sYWRkVG9FbmQ6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnJlbW92ZSh0KS5jb250ZW50LnNsaWNlKCk7cmV0dXJuIG4ucHVzaCh0LGUpLG5ldyBzKG4pfSxhZGRCZWZvcmU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMucmVtb3ZlKGUpLG89ci5jb250ZW50LnNsaWNlKCksaT1yLmZpbmQodCk7cmV0dXJuIG8uc3BsaWNlKC0xPT1pP28ubGVuZ3RoOmksMCxlLG4pLG5ldyBzKG8pfSxmb3JFYWNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5jb250ZW50Lmxlbmd0aDtlKz0yKXQodGhpcy5jb250ZW50W2VdLHRoaXMuY29udGVudFtlKzFdKX0scHJlcGVuZDpmdW5jdGlvbih0KXtyZXR1cm4gdD1zLmZyb20odCksdC5zaXplP25ldyBzKHQuY29udGVudC5jb25jYXQodGhpcy5zdWJ0cmFjdCh0KS5jb250ZW50KSk6dGhpc30sYXBwZW5kOmZ1bmN0aW9uKHQpe3JldHVybiB0PXMuZnJvbSh0KSx0LnNpemU/bmV3IHModGhpcy5zdWJ0cmFjdCh0KS5jb250ZW50LmNvbmNhdCh0LmNvbnRlbnQpKTp0aGlzfSxzdWJ0cmFjdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3Q9cy5mcm9tKHQpO2Zvcih2YXIgbj0wO248dC5jb250ZW50Lmxlbmd0aDtuKz0yKWU9ZS5yZW1vdmUodC5jb250ZW50W25dKTtyZXR1cm4gZX0sZ2V0IHNpemUoKXtyZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aD4+MX19LHMuZnJvbT1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgcylyZXR1cm4gdDt2YXIgZT1bXTtpZih0KWZvcih2YXIgbiBpbiB0KWUucHVzaChuLHRbbl0pO3JldHVybiBuZXcgcyhlKX07dmFyIGE9cyxjPWE7ZnVuY3Rpb24gbCh0LGUsbil7Zm9yKHZhciByPTA7O3IrKyl7aWYocj09dC5jaGlsZENvdW50fHxyPT1lLmNoaWxkQ291bnQpcmV0dXJuIHQuY2hpbGRDb3VudD09ZS5jaGlsZENvdW50P251bGw6bjt2YXIgbz10LmNoaWxkKHIpLGk9ZS5jaGlsZChyKTtpZihvIT1pKXtpZighby5zYW1lTWFya3VwKGkpKXJldHVybiBuO2lmKG8uaXNUZXh0JiZvLnRleHQhPWkudGV4dCl7Zm9yKHZhciBzPTA7by50ZXh0W3NdPT1pLnRleHRbc107cysrKW4rKztyZXR1cm4gbn1pZihvLmNvbnRlbnQuc2l6ZXx8aS5jb250ZW50LnNpemUpe3ZhciBhPWwoby5jb250ZW50LGkuY29udGVudCxuKzEpO2lmKG51bGwhPWEpcmV0dXJuIGF9bis9by5ub2RlU2l6ZX1lbHNlIG4rPW8ubm9kZVNpemV9fWZ1bmN0aW9uIHUodCxlLG4scil7Zm9yKHZhciBvPXQuY2hpbGRDb3VudCxpPWUuY2hpbGRDb3VudDs7KXtpZigwPT1vfHwwPT1pKXJldHVybiBvPT1pP251bGw6e2E6bixiOnJ9O3ZhciBzPXQuY2hpbGQoLS1vKSxhPWUuY2hpbGQoLS1pKSxjPXMubm9kZVNpemU7aWYocyE9YSl7aWYoIXMuc2FtZU1hcmt1cChhKSlyZXR1cm57YTpuLGI6cn07aWYocy5pc1RleHQmJnMudGV4dCE9YS50ZXh0KXt2YXIgbD0wLHA9TWF0aC5taW4ocy50ZXh0Lmxlbmd0aCxhLnRleHQubGVuZ3RoKTt3aGlsZShsPHAmJnMudGV4dFtzLnRleHQubGVuZ3RoLWwtMV09PWEudGV4dFthLnRleHQubGVuZ3RoLWwtMV0pbCsrLG4tLSxyLS07cmV0dXJue2E6bixiOnJ9fWlmKHMuY29udGVudC5zaXplfHxhLmNvbnRlbnQuc2l6ZSl7dmFyIGg9dShzLmNvbnRlbnQsYS5jb250ZW50LG4tMSxyLTEpO2lmKGgpcmV0dXJuIGh9bi09YyxyLT1jfWVsc2Ugbi09YyxyLT1jfX12YXIgcD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuY29udGVudD10LHRoaXMuc2l6ZT1lfHwwLG51bGw9PWUpZm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspdGhpcy5zaXplKz10W25dLm5vZGVTaXplfSxoPXtmaXJzdENoaWxkOntjb25maWd1cmFibGU6ITB9LGxhc3RDaGlsZDp7Y29uZmlndXJhYmxlOiEwfSxjaGlsZENvdW50Ontjb25maWd1cmFibGU6ITB9fTtwLnByb3RvdHlwZS5ub2Rlc0JldHdlZW49ZnVuY3Rpb24odCxlLG4scixvKXt2b2lkIDA9PT1yJiYocj0wKTtmb3IodmFyIGk9MCxzPTA7czxlO2krKyl7dmFyIGE9dGhpcy5jb250ZW50W2ldLGM9cythLm5vZGVTaXplO2lmKGM+dCYmITEhPT1uKGEscitzLG8saSkmJmEuY29udGVudC5zaXplKXt2YXIgbD1zKzE7YS5ub2Rlc0JldHdlZW4oTWF0aC5tYXgoMCx0LWwpLE1hdGgubWluKGEuY29udGVudC5zaXplLGUtbCksbixyK2wpfXM9Y319LHAucHJvdG90eXBlLmRlc2NlbmRhbnRzPWZ1bmN0aW9uKHQpe3RoaXMubm9kZXNCZXR3ZWVuKDAsdGhpcy5zaXplLHQpfSxwLnByb3RvdHlwZS50ZXh0QmV0d2Vlbj1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz0iIixpPSEwO3JldHVybiB0aGlzLm5vZGVzQmV0d2Vlbih0LGUsKGZ1bmN0aW9uKHMsYSl7cy5pc1RleHQ/KG8rPXMudGV4dC5zbGljZShNYXRoLm1heCh0LGEpLWEsZS1hKSxpPSFuKTpzLmlzTGVhZiYmcj8obys9cixpPSFuKTohaSYmcy5pc0Jsb2NrJiYobys9bixpPSEwKX0pLDApLG99LHAucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbih0KXtpZighdC5zaXplKXJldHVybiB0aGlzO2lmKCF0aGlzLnNpemUpcmV0dXJuIHQ7dmFyIGU9dGhpcy5sYXN0Q2hpbGQsbj10LmZpcnN0Q2hpbGQscj10aGlzLmNvbnRlbnQuc2xpY2UoKSxvPTA7Zm9yKGUuaXNUZXh0JiZlLnNhbWVNYXJrdXAobikmJihyW3IubGVuZ3RoLTFdPWUud2l0aFRleHQoZS50ZXh0K24udGV4dCksbz0xKTtvPHQuY29udGVudC5sZW5ndGg7bysrKXIucHVzaCh0LmNvbnRlbnRbb10pO3JldHVybiBuZXcgcChyLHRoaXMuc2l6ZSt0LnNpemUpfSxwLnByb3RvdHlwZS5jdXQ9ZnVuY3Rpb24odCxlKXtpZihudWxsPT1lJiYoZT10aGlzLnNpemUpLDA9PXQmJmU9PXRoaXMuc2l6ZSlyZXR1cm4gdGhpczt2YXIgbj1bXSxyPTA7aWYoZT50KWZvcih2YXIgbz0wLGk9MDtpPGU7bysrKXt2YXIgcz10aGlzLmNvbnRlbnRbb10sYT1pK3Mubm9kZVNpemU7YT50JiYoKGk8dHx8YT5lKSYmKHM9cy5pc1RleHQ/cy5jdXQoTWF0aC5tYXgoMCx0LWkpLE1hdGgubWluKHMudGV4dC5sZW5ndGgsZS1pKSk6cy5jdXQoTWF0aC5tYXgoMCx0LWktMSksTWF0aC5taW4ocy5jb250ZW50LnNpemUsZS1pLTEpKSksbi5wdXNoKHMpLHIrPXMubm9kZVNpemUpLGk9YX1yZXR1cm4gbmV3IHAobixyKX0scC5wcm90b3R5cGUuY3V0QnlJbmRleD1mdW5jdGlvbih0LGUpe3JldHVybiB0PT1lP3AuZW1wdHk6MD09dCYmZT09dGhpcy5jb250ZW50Lmxlbmd0aD90aGlzOm5ldyBwKHRoaXMuY29udGVudC5zbGljZSh0LGUpKX0scC5wcm90b3R5cGUucmVwbGFjZUNoaWxkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5jb250ZW50W3RdO2lmKG49PWUpcmV0dXJuIHRoaXM7dmFyIHI9dGhpcy5jb250ZW50LnNsaWNlKCksbz10aGlzLnNpemUrZS5ub2RlU2l6ZS1uLm5vZGVTaXplO3JldHVybiByW3RdPWUsbmV3IHAocixvKX0scC5wcm90b3R5cGUuYWRkVG9TdGFydD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHAoW3RdLmNvbmNhdCh0aGlzLmNvbnRlbnQpLHRoaXMuc2l6ZSt0Lm5vZGVTaXplKX0scC5wcm90b3R5cGUuYWRkVG9FbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBwKHRoaXMuY29udGVudC5jb25jYXQodCksdGhpcy5zaXplK3Qubm9kZVNpemUpfSxwLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtpZih0aGlzLmNvbnRlbnQubGVuZ3RoIT10LmNvbnRlbnQubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZT0wO2U8dGhpcy5jb250ZW50Lmxlbmd0aDtlKyspaWYoIXRoaXMuY29udGVudFtlXS5lcSh0LmNvbnRlbnRbZV0pKXJldHVybiExO3JldHVybiEwfSxoLmZpcnN0Q2hpbGQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGg/dGhpcy5jb250ZW50WzBdOm51bGx9LGgubGFzdENoaWxkLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQubGVuZ3RoP3RoaXMuY29udGVudFt0aGlzLmNvbnRlbnQubGVuZ3RoLTFdOm51bGx9LGguY2hpbGRDb3VudC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aH0scC5wcm90b3R5cGUuY2hpbGQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZW50W3RdO2lmKCFlKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCAiK3QrIiBvdXQgb2YgcmFuZ2UgZm9yICIrdGhpcyk7cmV0dXJuIGV9LHAucHJvdG90eXBlLm1heWJlQ2hpbGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udGVudFt0XX0scC5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPTA7ZTx0aGlzLmNvbnRlbnQubGVuZ3RoO2UrKyl7dmFyIHI9dGhpcy5jb250ZW50W2VdO3QocixuLGUpLG4rPXIubm9kZVNpemV9fSxwLnByb3RvdHlwZS5maW5kRGlmZlN0YXJ0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLGwodGhpcyx0LGUpfSxwLnByb3RvdHlwZS5maW5kRGlmZkVuZD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHZvaWQgMD09PWUmJihlPXRoaXMuc2l6ZSksdm9pZCAwPT09biYmKG49dC5zaXplKSx1KHRoaXMsdCxlLG4pfSxwLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT0tMSksMD09dClyZXR1cm4gZCgwLHQpO2lmKHQ9PXRoaXMuc2l6ZSlyZXR1cm4gZCh0aGlzLmNvbnRlbnQubGVuZ3RoLHQpO2lmKHQ+dGhpcy5zaXplfHx0PDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlBvc2l0aW9uICIrdCsiIG91dHNpZGUgb2YgZnJhZ21lbnQgKCIrdGhpcysiKSIpO2Zvcih2YXIgbj0wLHI9MDs7bisrKXt2YXIgbz10aGlzLmNoaWxkKG4pLGk9citvLm5vZGVTaXplO2lmKGk+PXQpcmV0dXJuIGk9PXR8fGU+MD9kKG4rMSxpKTpkKG4scik7cj1pfX0scC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iPCIrdGhpcy50b1N0cmluZ0lubmVyKCkrIj4ifSxwLnByb3RvdHlwZS50b1N0cmluZ0lubmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudC5qb2luKCIsICIpfSxwLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aD90aGlzLmNvbnRlbnQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50b0pTT04oKX0pKTpudWxsfSxwLmZyb21KU09OPWZ1bmN0aW9uKHQsZSl7aWYoIWUpcmV0dXJuIHAuZW1wdHk7aWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIEZyYWdtZW50LmZyb21KU09OIik7cmV0dXJuIG5ldyBwKGUubWFwKHQubm9kZUZyb21KU09OKSl9LHAuZnJvbUFycmF5PWZ1bmN0aW9uKHQpe2lmKCF0Lmxlbmd0aClyZXR1cm4gcC5lbXB0eTtmb3IodmFyIGUsbj0wLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtuKz1vLm5vZGVTaXplLHImJm8uaXNUZXh0JiZ0W3ItMV0uc2FtZU1hcmt1cChvKT8oZXx8KGU9dC5zbGljZSgwLHIpKSxlW2UubGVuZ3RoLTFdPW8ud2l0aFRleHQoZVtlLmxlbmd0aC0xXS50ZXh0K28udGV4dCkpOmUmJmUucHVzaChvKX1yZXR1cm4gbmV3IHAoZXx8dCxuKX0scC5mcm9tPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiBwLmVtcHR5O2lmKHQgaW5zdGFuY2VvZiBwKXJldHVybiB0O2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHRoaXMuZnJvbUFycmF5KHQpO2lmKHQuYXR0cnMpcmV0dXJuIG5ldyBwKFt0XSx0Lm5vZGVTaXplKTt0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQ2FuIG5vdCBjb252ZXJ0ICIrdCsiIHRvIGEgRnJhZ21lbnQiKyh0Lm5vZGVzQmV0d2Vlbj8iIChsb29rcyBsaWtlIG11bHRpcGxlIHZlcnNpb25zIG9mIHByb3NlbWlycm9yLW1vZGVsIHdlcmUgbG9hZGVkKSI6IiIpKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocC5wcm90b3R5cGUsaCk7dmFyIGY9e2luZGV4OjAsb2Zmc2V0OjB9O2Z1bmN0aW9uIGQodCxlKXtyZXR1cm4gZi5pbmRleD10LGYub2Zmc2V0PWUsZn1mdW5jdGlvbiBtKHQsZSl7aWYodD09PWUpcmV0dXJuITA7aWYoIXR8fCJvYmplY3QiIT10eXBlb2YgdHx8IWV8fCJvYmplY3QiIT10eXBlb2YgZSlyZXR1cm4hMTt2YXIgbj1BcnJheS5pc0FycmF5KHQpO2lmKEFycmF5LmlzQXJyYXkoZSkhPW4pcmV0dXJuITE7aWYobil7aWYodC5sZW5ndGghPWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWlmKCFtKHRbcl0sZVtyXSkpcmV0dXJuITF9ZWxzZXtmb3IodmFyIG8gaW4gdClpZighKG8gaW4gZSl8fCFtKHRbb10sZVtvXSkpcmV0dXJuITE7Zm9yKHZhciBpIGluIGUpaWYoIShpIGluIHQpKXJldHVybiExfXJldHVybiEwfXAuZW1wdHk9bmV3IHAoW10sMCk7dmFyIHY9ZnVuY3Rpb24odCxlKXt0aGlzLnR5cGU9dCx0aGlzLmF0dHJzPWV9O2Z1bmN0aW9uIGcodCl7dmFyIGU9RXJyb3IuY2FsbCh0aGlzLHQpO3JldHVybiBlLl9fcHJvdG9fXz1nLnByb3RvdHlwZSxlfXYucHJvdG90eXBlLmFkZFRvU2V0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPSExLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtpZih0aGlzLmVxKG8pKXJldHVybiB0O2lmKHRoaXMudHlwZS5leGNsdWRlcyhvLnR5cGUpKWV8fChlPXQuc2xpY2UoMCxyKSk7ZWxzZXtpZihvLnR5cGUuZXhjbHVkZXModGhpcy50eXBlKSlyZXR1cm4gdDshbiYmby50eXBlLnJhbms+dGhpcy50eXBlLnJhbmsmJihlfHwoZT10LnNsaWNlKDAscikpLGUucHVzaCh0aGlzKSxuPSEwKSxlJiZlLnB1c2gobyl9fXJldHVybiBlfHwoZT10LnNsaWNlKCkpLG58fGUucHVzaCh0aGlzKSxlfSx2LnByb3RvdHlwZS5yZW1vdmVGcm9tU2V0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRoaXMuZXEodFtlXSkpcmV0dXJuIHQuc2xpY2UoMCxlKS5jb25jYXQodC5zbGljZShlKzEpKTtyZXR1cm4gdH0sdi5wcm90b3R5cGUuaXNJblNldD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpZih0aGlzLmVxKHRbZV0pKXJldHVybiEwO3JldHVybiExfSx2LnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09dHx8dGhpcy50eXBlPT10LnR5cGUmJm0odGhpcy5hdHRycyx0LmF0dHJzKX0sdi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIHQ9e3R5cGU6dGhpcy50eXBlLm5hbWV9O2Zvcih2YXIgZSBpbiB0aGlzLmF0dHJzKXt0LmF0dHJzPXRoaXMuYXR0cnM7YnJlYWt9cmV0dXJuIHR9LHYuZnJvbUpTT049ZnVuY3Rpb24odCxlKXtpZighZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgTWFyay5mcm9tSlNPTiIpO3ZhciBuPXQubWFya3NbZS50eXBlXTtpZighbil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGhlcmUgaXMgbm8gbWFyayB0eXBlICIrZS50eXBlKyIgaW4gdGhpcyBzY2hlbWEiKTtyZXR1cm4gbi5jcmVhdGUoZS5hdHRycyl9LHYuc2FtZVNldD1mdW5jdGlvbih0LGUpe2lmKHQ9PWUpcmV0dXJuITA7aWYodC5sZW5ndGghPWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKCF0W25dLmVxKGVbbl0pKXJldHVybiExO3JldHVybiEwfSx2LnNldEZyb209ZnVuY3Rpb24odCl7aWYoIXR8fDA9PXQubGVuZ3RoKXJldHVybiB2Lm5vbmU7aWYodCBpbnN0YW5jZW9mIHYpcmV0dXJuW3RdO3ZhciBlPXQuc2xpY2UoKTtyZXR1cm4gZS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnR5cGUucmFuay1lLnR5cGUucmFua30pKSxlfSx2Lm5vbmU9W10sZy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLGcucHJvdG90eXBlLmNvbnN0cnVjdG9yPWcsZy5wcm90b3R5cGUubmFtZT0iUmVwbGFjZUVycm9yIjt2YXIgeT1mdW5jdGlvbih0LGUsbil7dGhpcy5jb250ZW50PXQsdGhpcy5vcGVuU3RhcnQ9ZSx0aGlzLm9wZW5FbmQ9bn0sdz17c2l6ZTp7Y29uZmlndXJhYmxlOiEwfX07ZnVuY3Rpb24gYih0LGUsbil7dmFyIHI9dC5maW5kSW5kZXgoZSksbz1yLmluZGV4LGk9ci5vZmZzZXQscz10Lm1heWJlQ2hpbGQobyksYT10LmZpbmRJbmRleChuKSxjPWEuaW5kZXgsbD1hLm9mZnNldDtpZihpPT1lfHxzLmlzVGV4dCl7aWYobCE9biYmIXQuY2hpbGQoYykuaXNUZXh0KXRocm93IG5ldyBSYW5nZUVycm9yKCJSZW1vdmluZyBub24tZmxhdCByYW5nZSIpO3JldHVybiB0LmN1dCgwLGUpLmFwcGVuZCh0LmN1dChuKSl9aWYobyE9Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiUmVtb3Zpbmcgbm9uLWZsYXQgcmFuZ2UiKTtyZXR1cm4gdC5yZXBsYWNlQ2hpbGQobyxzLmNvcHkoYihzLmNvbnRlbnQsZS1pLTEsbi1pLTEpKSl9ZnVuY3Rpb24geCh0LGUsbixyKXt2YXIgbz10LmZpbmRJbmRleChlKSxpPW8uaW5kZXgscz1vLm9mZnNldCxhPXQubWF5YmVDaGlsZChpKTtpZihzPT1lfHxhLmlzVGV4dClyZXR1cm4gciYmIXIuY2FuUmVwbGFjZShpLGksbik/bnVsbDp0LmN1dCgwLGUpLmFwcGVuZChuKS5hcHBlbmQodC5jdXQoZSkpO3ZhciBjPXgoYS5jb250ZW50LGUtcy0xLG4pO3JldHVybiBjJiZ0LnJlcGxhY2VDaGlsZChpLGEuY29weShjKSl9ZnVuY3Rpb24gayh0LGUsbil7aWYobi5vcGVuU3RhcnQ+dC5kZXB0aCl0aHJvdyBuZXcgZygiSW5zZXJ0ZWQgY29udGVudCBkZWVwZXIgdGhhbiBpbnNlcnRpb24gcG9zaXRpb24iKTtpZih0LmRlcHRoLW4ub3BlblN0YXJ0IT1lLmRlcHRoLW4ub3BlbkVuZCl0aHJvdyBuZXcgZygiSW5jb25zaXN0ZW50IG9wZW4gZGVwdGhzIik7cmV0dXJuIFModCxlLG4sMCl9ZnVuY3Rpb24gUyh0LGUsbixyKXt2YXIgbz10LmluZGV4KHIpLGk9dC5ub2RlKHIpO2lmKG89PWUuaW5kZXgocikmJnI8dC5kZXB0aC1uLm9wZW5TdGFydCl7dmFyIHM9Uyh0LGUsbixyKzEpO3JldHVybiBpLmNvcHkoaS5jb250ZW50LnJlcGxhY2VDaGlsZChvLHMpKX1pZihuLmNvbnRlbnQuc2l6ZSl7aWYobi5vcGVuU3RhcnR8fG4ub3BlbkVuZHx8dC5kZXB0aCE9cnx8ZS5kZXB0aCE9cil7dmFyIGE9RChuLHQpLGM9YS5zdGFydCxsPWEuZW5kO3JldHVybiBOKGksRSh0LGMsbCxlLHIpKX12YXIgdT10LnBhcmVudCxwPXUuY29udGVudDtyZXR1cm4gTih1LHAuY3V0KDAsdC5wYXJlbnRPZmZzZXQpLmFwcGVuZChuLmNvbnRlbnQpLmFwcGVuZChwLmN1dChlLnBhcmVudE9mZnNldCkpKX1yZXR1cm4gTihpLFQodCxlLHIpKX1mdW5jdGlvbiBDKHQsZSl7aWYoIWUudHlwZS5jb21wYXRpYmxlQ29udGVudCh0LnR5cGUpKXRocm93IG5ldyBnKCJDYW5ub3Qgam9pbiAiK2UudHlwZS5uYW1lKyIgb250byAiK3QudHlwZS5uYW1lKX1mdW5jdGlvbiBNKHQsZSxuKXt2YXIgcj10Lm5vZGUobik7cmV0dXJuIEMocixlLm5vZGUobikpLHJ9ZnVuY3Rpb24gTyh0LGUpe3ZhciBuPWUubGVuZ3RoLTE7bj49MCYmdC5pc1RleHQmJnQuc2FtZU1hcmt1cChlW25dKT9lW25dPXQud2l0aFRleHQoZVtuXS50ZXh0K3QudGV4dCk6ZS5wdXNoKHQpfWZ1bmN0aW9uIEEodCxlLG4scil7dmFyIG89KGV8fHQpLm5vZGUobiksaT0wLHM9ZT9lLmluZGV4KG4pOm8uY2hpbGRDb3VudDt0JiYoaT10LmluZGV4KG4pLHQuZGVwdGg+bj9pKys6dC50ZXh0T2Zmc2V0JiYoTyh0Lm5vZGVBZnRlcixyKSxpKyspKTtmb3IodmFyIGE9aTthPHM7YSsrKU8oby5jaGlsZChhKSxyKTtlJiZlLmRlcHRoPT1uJiZlLnRleHRPZmZzZXQmJk8oZS5ub2RlQmVmb3JlLHIpfWZ1bmN0aW9uIE4odCxlKXtpZighdC50eXBlLnZhbGlkQ29udGVudChlKSl0aHJvdyBuZXcgZygiSW52YWxpZCBjb250ZW50IGZvciBub2RlICIrdC50eXBlLm5hbWUpO3JldHVybiB0LmNvcHkoZSl9ZnVuY3Rpb24gRSh0LGUsbixyLG8pe3ZhciBpPXQuZGVwdGg+byYmTSh0LGUsbysxKSxzPXIuZGVwdGg+byYmTShuLHIsbysxKSxhPVtdO3JldHVybiBBKG51bGwsdCxvLGEpLGkmJnMmJmUuaW5kZXgobyk9PW4uaW5kZXgobyk/KEMoaSxzKSxPKE4oaSxFKHQsZSxuLHIsbysxKSksYSkpOihpJiZPKE4oaSxUKHQsZSxvKzEpKSxhKSxBKGUsbixvLGEpLHMmJk8oTihzLFQobixyLG8rMSkpLGEpKSxBKHIsbnVsbCxvLGEpLG5ldyBwKGEpfWZ1bmN0aW9uIFQodCxlLG4pe3ZhciByPVtdO2lmKEEobnVsbCx0LG4sciksdC5kZXB0aD5uKXt2YXIgbz1NKHQsZSxuKzEpO08oTihvLFQodCxlLG4rMSkpLHIpfXJldHVybiBBKGUsbnVsbCxuLHIpLG5ldyBwKHIpfWZ1bmN0aW9uIEQodCxlKXtmb3IodmFyIG49ZS5kZXB0aC10Lm9wZW5TdGFydCxyPWUubm9kZShuKSxvPXIuY29weSh0LmNvbnRlbnQpLGk9bi0xO2k+PTA7aS0tKW89ZS5ub2RlKGkpLmNvcHkocC5mcm9tKG8pKTtyZXR1cm57c3RhcnQ6by5yZXNvbHZlTm9DYWNoZSh0Lm9wZW5TdGFydCtuKSxlbmQ6by5yZXNvbHZlTm9DYWNoZShvLmNvbnRlbnQuc2l6ZS10Lm9wZW5FbmQtbil9fXcuc2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50LnNpemUtdGhpcy5vcGVuU3RhcnQtdGhpcy5vcGVuRW5kfSx5LnByb3RvdHlwZS5pbnNlcnRBdD1mdW5jdGlvbih0LGUpe3ZhciBuPXgodGhpcy5jb250ZW50LHQrdGhpcy5vcGVuU3RhcnQsZSxudWxsKTtyZXR1cm4gbiYmbmV3IHkobix0aGlzLm9wZW5TdGFydCx0aGlzLm9wZW5FbmQpfSx5LnByb3RvdHlwZS5yZW1vdmVCZXR3ZWVuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB5KGIodGhpcy5jb250ZW50LHQrdGhpcy5vcGVuU3RhcnQsZSt0aGlzLm9wZW5TdGFydCksdGhpcy5vcGVuU3RhcnQsdGhpcy5vcGVuRW5kKX0seS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udGVudC5lcSh0LmNvbnRlbnQpJiZ0aGlzLm9wZW5TdGFydD09dC5vcGVuU3RhcnQmJnRoaXMub3BlbkVuZD09dC5vcGVuRW5kfSx5LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQrIigiK3RoaXMub3BlblN0YXJ0KyIsIit0aGlzLm9wZW5FbmQrIikifSx5LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtpZighdGhpcy5jb250ZW50LnNpemUpcmV0dXJuIG51bGw7dmFyIHQ9e2NvbnRlbnQ6dGhpcy5jb250ZW50LnRvSlNPTigpfTtyZXR1cm4gdGhpcy5vcGVuU3RhcnQ+MCYmKHQub3BlblN0YXJ0PXRoaXMub3BlblN0YXJ0KSx0aGlzLm9wZW5FbmQ+MCYmKHQub3BlbkVuZD10aGlzLm9wZW5FbmQpLHR9LHkuZnJvbUpTT049ZnVuY3Rpb24odCxlKXtpZighZSlyZXR1cm4geS5lbXB0eTt2YXIgbj1lLm9wZW5TdGFydHx8MCxyPWUub3BlbkVuZHx8MDtpZigibnVtYmVyIiE9dHlwZW9mIG58fCJudW1iZXIiIT10eXBlb2Ygcil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgU2xpY2UuZnJvbUpTT04iKTtyZXR1cm4gbmV3IHkocC5mcm9tSlNPTih0LGUuY29udGVudCksZS5vcGVuU3RhcnR8fDAsZS5vcGVuRW5kfHwwKX0seS5tYXhPcGVuPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITApO2Zvcih2YXIgbj0wLHI9MCxvPXQuZmlyc3RDaGlsZDtvJiYhby5pc0xlYWYmJihlfHwhby50eXBlLnNwZWMuaXNvbGF0aW5nKTtvPW8uZmlyc3RDaGlsZCluKys7Zm9yKHZhciBpPXQubGFzdENoaWxkO2kmJiFpLmlzTGVhZiYmKGV8fCFpLnR5cGUuc3BlYy5pc29sYXRpbmcpO2k9aS5sYXN0Q2hpbGQpcisrO3JldHVybiBuZXcgeSh0LG4scil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHkucHJvdG90eXBlLHcpLHkuZW1wdHk9bmV3IHkocC5lbXB0eSwwLDApO3ZhciBfPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnBvcz10LHRoaXMucGF0aD1lLHRoaXMuZGVwdGg9ZS5sZW5ndGgvMy0xLHRoaXMucGFyZW50T2Zmc2V0PW59LFI9e3BhcmVudDp7Y29uZmlndXJhYmxlOiEwfSxkb2M6e2NvbmZpZ3VyYWJsZTohMH0sdGV4dE9mZnNldDp7Y29uZmlndXJhYmxlOiEwfSxub2RlQWZ0ZXI6e2NvbmZpZ3VyYWJsZTohMH0sbm9kZUJlZm9yZTp7Y29uZmlndXJhYmxlOiEwfX07Xy5wcm90b3R5cGUucmVzb2x2ZURlcHRoPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P3RoaXMuZGVwdGg6dDwwP3RoaXMuZGVwdGgrdDp0fSxSLnBhcmVudC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlKHRoaXMuZGVwdGgpfSxSLmRvYy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlKDApfSxfLnByb3RvdHlwZS5ub2RlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBhdGhbMyp0aGlzLnJlc29sdmVEZXB0aCh0KV19LF8ucHJvdG90eXBlLmluZGV4PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBhdGhbMyp0aGlzLnJlc29sdmVEZXB0aCh0KSsxXX0sXy5wcm90b3R5cGUuaW5kZXhBZnRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLnJlc29sdmVEZXB0aCh0KSx0aGlzLmluZGV4KHQpKyh0IT10aGlzLmRlcHRofHx0aGlzLnRleHRPZmZzZXQ/MTowKX0sXy5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dGhpcy5yZXNvbHZlRGVwdGgodCksMD09dD8wOnRoaXMucGF0aFszKnQtMV0rMX0sXy5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0PXRoaXMucmVzb2x2ZURlcHRoKHQpLHRoaXMuc3RhcnQodCkrdGhpcy5ub2RlKHQpLmNvbnRlbnQuc2l6ZX0sXy5wcm90b3R5cGUuYmVmb3JlPWZ1bmN0aW9uKHQpe2lmKHQ9dGhpcy5yZXNvbHZlRGVwdGgodCksIXQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRoZXJlIGlzIG5vIHBvc2l0aW9uIGJlZm9yZSB0aGUgdG9wLWxldmVsIG5vZGUiKTtyZXR1cm4gdD09dGhpcy5kZXB0aCsxP3RoaXMucG9zOnRoaXMucGF0aFszKnQtMV19LF8ucHJvdG90eXBlLmFmdGVyPWZ1bmN0aW9uKHQpe2lmKHQ9dGhpcy5yZXNvbHZlRGVwdGgodCksIXQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRoZXJlIGlzIG5vIHBvc2l0aW9uIGFmdGVyIHRoZSB0b3AtbGV2ZWwgbm9kZSIpO3JldHVybiB0PT10aGlzLmRlcHRoKzE/dGhpcy5wb3M6dGhpcy5wYXRoWzMqdC0xXSt0aGlzLnBhdGhbMyp0XS5ub2RlU2l6ZX0sUi50ZXh0T2Zmc2V0LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBvcy10aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aC0xXX0sUi5ub2RlQWZ0ZXIuZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wYXJlbnQsZT10aGlzLmluZGV4KHRoaXMuZGVwdGgpO2lmKGU9PXQuY2hpbGRDb3VudClyZXR1cm4gbnVsbDt2YXIgbj10aGlzLnBvcy10aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aC0xXSxyPXQuY2hpbGQoZSk7cmV0dXJuIG4/dC5jaGlsZChlKS5jdXQobik6cn0sUi5ub2RlQmVmb3JlLmdldD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuaW5kZXgodGhpcy5kZXB0aCksZT10aGlzLnBvcy10aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aC0xXTtyZXR1cm4gZT90aGlzLnBhcmVudC5jaGlsZCh0KS5jdXQoMCxlKTowPT10P251bGw6dGhpcy5wYXJlbnQuY2hpbGQodC0xKX0sXy5wcm90b3R5cGUubWFya3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhcmVudCxlPXRoaXMuaW5kZXgoKTtpZigwPT10LmNvbnRlbnQuc2l6ZSlyZXR1cm4gdi5ub25lO2lmKHRoaXMudGV4dE9mZnNldClyZXR1cm4gdC5jaGlsZChlKS5tYXJrczt2YXIgbj10Lm1heWJlQ2hpbGQoZS0xKSxyPXQubWF5YmVDaGlsZChlKTtpZighbil7dmFyIG89bjtuPXIscj1vfWZvcih2YXIgaT1uLm1hcmtzLHM9MDtzPGkubGVuZ3RoO3MrKykhMSE9PWlbc10udHlwZS5zcGVjLmluY2x1c2l2ZXx8ciYmaVtzXS5pc0luU2V0KHIubWFya3MpfHwoaT1pW3MtLV0ucmVtb3ZlRnJvbVNldChpKSk7cmV0dXJuIGl9LF8ucHJvdG90eXBlLm1hcmtzQWNyb3NzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucGFyZW50Lm1heWJlQ2hpbGQodGhpcy5pbmRleCgpKTtpZighZXx8IWUuaXNJbmxpbmUpcmV0dXJuIG51bGw7Zm9yKHZhciBuPWUubWFya3Mscj10LnBhcmVudC5tYXliZUNoaWxkKHQuaW5kZXgoKSksbz0wO288bi5sZW5ndGg7bysrKSExIT09bltvXS50eXBlLnNwZWMuaW5jbHVzaXZlfHxyJiZuW29dLmlzSW5TZXQoci5tYXJrcyl8fChuPW5bby0tXS5yZW1vdmVGcm9tU2V0KG4pKTtyZXR1cm4gbn0sXy5wcm90b3R5cGUuc2hhcmVkRGVwdGg9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZGVwdGg7ZT4wO2UtLSlpZih0aGlzLnN0YXJ0KGUpPD10JiZ0aGlzLmVuZChlKT49dClyZXR1cm4gZTtyZXR1cm4gMH0sXy5wcm90b3R5cGUuYmxvY2tSYW5nZT1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PXQmJih0PXRoaXMpLHQucG9zPHRoaXMucG9zKXJldHVybiB0LmJsb2NrUmFuZ2UodGhpcyk7Zm9yKHZhciBuPXRoaXMuZGVwdGgtKHRoaXMucGFyZW50LmlubGluZUNvbnRlbnR8fHRoaXMucG9zPT10LnBvcz8xOjApO24+PTA7bi0tKWlmKHQucG9zPD10aGlzLmVuZChuKSYmKCFlfHxlKHRoaXMubm9kZShuKSkpKXJldHVybiBuZXcgJCh0aGlzLHQsbil9LF8ucHJvdG90eXBlLnNhbWVQYXJlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucG9zLXRoaXMucGFyZW50T2Zmc2V0PT10LnBvcy10LnBhcmVudE9mZnNldH0sXy5wcm90b3R5cGUubWF4PWZ1bmN0aW9uKHQpe3JldHVybiB0LnBvcz50aGlzLnBvcz90OnRoaXN9LF8ucHJvdG90eXBlLm1pbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5wb3M8dGhpcy5wb3M/dDp0aGlzfSxfLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2Zvcih2YXIgdD0iIixlPTE7ZTw9dGhpcy5kZXB0aDtlKyspdCs9KHQ/Ii8iOiIiKSt0aGlzLm5vZGUoZSkudHlwZS5uYW1lKyJfIit0aGlzLmluZGV4KGUtMSk7cmV0dXJuIHQrIjoiK3RoaXMucGFyZW50T2Zmc2V0fSxfLnJlc29sdmU9ZnVuY3Rpb24odCxlKXtpZighKGU+PTAmJmU8PXQuY29udGVudC5zaXplKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiUG9zaXRpb24gIitlKyIgb3V0IG9mIHJhbmdlIik7Zm9yKHZhciBuPVtdLHI9MCxvPWUsaT10Ozspe3ZhciBzPWkuY29udGVudC5maW5kSW5kZXgobyksYT1zLmluZGV4LGM9cy5vZmZzZXQsbD1vLWM7aWYobi5wdXNoKGksYSxyK2MpLCFsKWJyZWFrO2lmKGk9aS5jaGlsZChhKSxpLmlzVGV4dClicmVhaztvPWwtMSxyKz1jKzF9cmV0dXJuIG5ldyBfKGUsbixvKX0sXy5yZXNvbHZlQ2FjaGVkPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjx6Lmxlbmd0aDtuKyspe3ZhciByPXpbbl07aWYoci5wb3M9PWUmJnIuZG9jPT10KXJldHVybiByfXZhciBvPXpbSV09Xy5yZXNvbHZlKHQsZSk7cmV0dXJuIEk9KEkrMSklUCxvfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfLnByb3RvdHlwZSxSKTt2YXIgej1bXSxJPTAsUD0xMiwkPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLiRmcm9tPXQsdGhpcy4kdG89ZSx0aGlzLmRlcHRoPW59LEI9e3N0YXJ0Ontjb25maWd1cmFibGU6ITB9LGVuZDp7Y29uZmlndXJhYmxlOiEwfSxwYXJlbnQ6e2NvbmZpZ3VyYWJsZTohMH0sc3RhcnRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxlbmRJbmRleDp7Y29uZmlndXJhYmxlOiEwfX07Qi5zdGFydC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZnJvbS5iZWZvcmUodGhpcy5kZXB0aCsxKX0sQi5lbmQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHRvLmFmdGVyKHRoaXMuZGVwdGgrMSl9LEIucGFyZW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRmcm9tLm5vZGUodGhpcy5kZXB0aCl9LEIuc3RhcnRJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZnJvbS5pbmRleCh0aGlzLmRlcHRoKX0sQi5lbmRJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kdG8uaW5kZXhBZnRlcih0aGlzLmRlcHRoKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoJC5wcm90b3R5cGUsQik7dmFyIFY9T2JqZWN0LmNyZWF0ZShudWxsKSxqPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMudHlwZT10LHRoaXMuYXR0cnM9ZSx0aGlzLmNvbnRlbnQ9bnx8cC5lbXB0eSx0aGlzLm1hcmtzPXJ8fHYubm9uZX0sTD17bm9kZVNpemU6e2NvbmZpZ3VyYWJsZTohMH0sY2hpbGRDb3VudDp7Y29uZmlndXJhYmxlOiEwfSx0ZXh0Q29udGVudDp7Y29uZmlndXJhYmxlOiEwfSxmaXJzdENoaWxkOntjb25maWd1cmFibGU6ITB9LGxhc3RDaGlsZDp7Y29uZmlndXJhYmxlOiEwfSxpc0Jsb2NrOntjb25maWd1cmFibGU6ITB9LGlzVGV4dGJsb2NrOntjb25maWd1cmFibGU6ITB9LGlubGluZUNvbnRlbnQ6e2NvbmZpZ3VyYWJsZTohMH0saXNJbmxpbmU6e2NvbmZpZ3VyYWJsZTohMH0saXNUZXh0Ontjb25maWd1cmFibGU6ITB9LGlzTGVhZjp7Y29uZmlndXJhYmxlOiEwfSxpc0F0b206e2NvbmZpZ3VyYWJsZTohMH19O0wubm9kZVNpemUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNMZWFmPzE6Mit0aGlzLmNvbnRlbnQuc2l6ZX0sTC5jaGlsZENvdW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQuY2hpbGRDb3VudH0sai5wcm90b3R5cGUuY2hpbGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udGVudC5jaGlsZCh0KX0sai5wcm90b3R5cGUubWF5YmVDaGlsZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250ZW50Lm1heWJlQ2hpbGQodCl9LGoucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7dGhpcy5jb250ZW50LmZvckVhY2godCl9LGoucHJvdG90eXBlLm5vZGVzQmV0d2Vlbj1mdW5jdGlvbih0LGUsbixyKXt2b2lkIDA9PT1yJiYocj0wKSx0aGlzLmNvbnRlbnQubm9kZXNCZXR3ZWVuKHQsZSxuLHIsdGhpcyl9LGoucHJvdG90eXBlLmRlc2NlbmRhbnRzPWZ1bmN0aW9uKHQpe3RoaXMubm9kZXNCZXR3ZWVuKDAsdGhpcy5jb250ZW50LnNpemUsdCl9LEwudGV4dENvbnRlbnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dEJldHdlZW4oMCx0aGlzLmNvbnRlbnQuc2l6ZSwiIil9LGoucHJvdG90eXBlLnRleHRCZXR3ZWVuPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB0aGlzLmNvbnRlbnQudGV4dEJldHdlZW4odCxlLG4scil9LEwuZmlyc3RDaGlsZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50LmZpcnN0Q2hpbGR9LEwubGFzdENoaWxkLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQubGFzdENoaWxkfSxqLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09dHx8dGhpcy5zYW1lTWFya3VwKHQpJiZ0aGlzLmNvbnRlbnQuZXEodC5jb250ZW50KX0sai5wcm90b3R5cGUuc2FtZU1hcmt1cD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYXNNYXJrdXAodC50eXBlLHQuYXR0cnMsdC5tYXJrcyl9LGoucHJvdG90eXBlLmhhc01hcmt1cD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMudHlwZT09dCYmbSh0aGlzLmF0dHJzLGV8fHQuZGVmYXVsdEF0dHJzfHxWKSYmdi5zYW1lU2V0KHRoaXMubWFya3Msbnx8di5ub25lKX0sai5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bnVsbCksdD09dGhpcy5jb250ZW50P3RoaXM6bmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy50eXBlLHRoaXMuYXR0cnMsdCx0aGlzLm1hcmtzKX0sai5wcm90b3R5cGUubWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gdD09dGhpcy5tYXJrcz90aGlzOm5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMudHlwZSx0aGlzLmF0dHJzLHRoaXMuY29udGVudCx0KX0sai5wcm90b3R5cGUuY3V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIDA9PXQmJmU9PXRoaXMuY29udGVudC5zaXplP3RoaXM6dGhpcy5jb3B5KHRoaXMuY29udGVudC5jdXQodCxlKSl9LGoucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsZSxuKXtpZih2b2lkIDA9PT1lJiYoZT10aGlzLmNvbnRlbnQuc2l6ZSksdm9pZCAwPT09biYmKG49ITEpLHQ9PWUpcmV0dXJuIHkuZW1wdHk7dmFyIHI9dGhpcy5yZXNvbHZlKHQpLG89dGhpcy5yZXNvbHZlKGUpLGk9bj8wOnIuc2hhcmVkRGVwdGgoZSkscz1yLnN0YXJ0KGkpLGE9ci5ub2RlKGkpLGM9YS5jb250ZW50LmN1dChyLnBvcy1zLG8ucG9zLXMpO3JldHVybiBuZXcgeShjLHIuZGVwdGgtaSxvLmRlcHRoLWkpfSxqLnByb3RvdHlwZS5yZXBsYWNlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gayh0aGlzLnJlc29sdmUodCksdGhpcy5yZXNvbHZlKGUpLG4pfSxqLnByb3RvdHlwZS5ub2RlQXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXM7Oyl7dmFyIG49ZS5jb250ZW50LmZpbmRJbmRleCh0KSxyPW4uaW5kZXgsbz1uLm9mZnNldDtpZihlPWUubWF5YmVDaGlsZChyKSwhZSlyZXR1cm4gbnVsbDtpZihvPT10fHxlLmlzVGV4dClyZXR1cm4gZTt0LT1vKzF9fSxqLnByb3RvdHlwZS5jaGlsZEFmdGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGVudC5maW5kSW5kZXgodCksbj1lLmluZGV4LHI9ZS5vZmZzZXQ7cmV0dXJue25vZGU6dGhpcy5jb250ZW50Lm1heWJlQ2hpbGQobiksaW5kZXg6bixvZmZzZXQ6cn19LGoucHJvdG90eXBlLmNoaWxkQmVmb3JlPWZ1bmN0aW9uKHQpe2lmKDA9PXQpcmV0dXJue25vZGU6bnVsbCxpbmRleDowLG9mZnNldDowfTt2YXIgZT10aGlzLmNvbnRlbnQuZmluZEluZGV4KHQpLG49ZS5pbmRleCxyPWUub2Zmc2V0O2lmKHI8dClyZXR1cm57bm9kZTp0aGlzLmNvbnRlbnQuY2hpbGQobiksaW5kZXg6bixvZmZzZXQ6cn07dmFyIG89dGhpcy5jb250ZW50LmNoaWxkKG4tMSk7cmV0dXJue25vZGU6byxpbmRleDpuLTEsb2Zmc2V0OnItby5ub2RlU2l6ZX19LGoucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24odCl7cmV0dXJuIF8ucmVzb2x2ZUNhY2hlZCh0aGlzLHQpfSxqLnByb3RvdHlwZS5yZXNvbHZlTm9DYWNoZT1mdW5jdGlvbih0KXtyZXR1cm4gXy5yZXNvbHZlKHRoaXMsdCl9LGoucHJvdG90eXBlLnJhbmdlSGFzTWFyaz1mdW5jdGlvbih0LGUsbil7dmFyIHI9ITE7cmV0dXJuIGU+dCYmdGhpcy5ub2Rlc0JldHdlZW4odCxlLChmdW5jdGlvbih0KXtyZXR1cm4gbi5pc0luU2V0KHQubWFya3MpJiYocj0hMCksIXJ9KSkscn0sTC5pc0Jsb2NrLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUuaXNCbG9ja30sTC5pc1RleHRibG9jay5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLmlzVGV4dGJsb2NrfSxMLmlubGluZUNvbnRlbnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5pbmxpbmVDb250ZW50fSxMLmlzSW5saW5lLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUuaXNJbmxpbmV9LEwuaXNUZXh0LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUuaXNUZXh0fSxMLmlzTGVhZi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLmlzTGVhZn0sTC5pc0F0b20uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5pc0F0b219LGoucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy50eXBlLnNwZWMudG9EZWJ1Z1N0cmluZylyZXR1cm4gdGhpcy50eXBlLnNwZWMudG9EZWJ1Z1N0cmluZyh0aGlzKTt2YXIgdD10aGlzLnR5cGUubmFtZTtyZXR1cm4gdGhpcy5jb250ZW50LnNpemUmJih0Kz0iKCIrdGhpcy5jb250ZW50LnRvU3RyaW5nSW5uZXIoKSsiKSIpLEgodGhpcy5tYXJrcyx0KX0sai5wcm90b3R5cGUuY29udGVudE1hdGNoQXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy50eXBlLmNvbnRlbnRNYXRjaC5tYXRjaEZyYWdtZW50KHRoaXMuY29udGVudCwwLHQpO2lmKCFlKXRocm93IG5ldyBFcnJvcigiQ2FsbGVkIGNvbnRlbnRNYXRjaEF0IG9uIGEgbm9kZSB3aXRoIGludmFsaWQgY29udGVudCIpO3JldHVybiBlfSxqLnByb3RvdHlwZS5jYW5SZXBsYWNlPWZ1bmN0aW9uKHQsZSxuLHIsbyl7dm9pZCAwPT09biYmKG49cC5lbXB0eSksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09byYmKG89bi5jaGlsZENvdW50KTt2YXIgaT10aGlzLmNvbnRlbnRNYXRjaEF0KHQpLm1hdGNoRnJhZ21lbnQobixyLG8pLHM9aSYmaS5tYXRjaEZyYWdtZW50KHRoaXMuY29udGVudCxlKTtpZighc3x8IXMudmFsaWRFbmQpcmV0dXJuITE7Zm9yKHZhciBhPXI7YTxvO2ErKylpZighdGhpcy50eXBlLmFsbG93c01hcmtzKG4uY2hpbGQoYSkubWFya3MpKXJldHVybiExO3JldHVybiEwfSxqLnByb3RvdHlwZS5jYW5SZXBsYWNlV2l0aD1mdW5jdGlvbih0LGUsbixyKXtpZihyJiYhdGhpcy50eXBlLmFsbG93c01hcmtzKHIpKXJldHVybiExO3ZhciBvPXRoaXMuY29udGVudE1hdGNoQXQodCkubWF0Y2hUeXBlKG4pLGk9byYmby5tYXRjaEZyYWdtZW50KHRoaXMuY29udGVudCxlKTtyZXR1cm4hIWkmJmkudmFsaWRFbmR9LGoucHJvdG90eXBlLmNhbkFwcGVuZD1mdW5jdGlvbih0KXtyZXR1cm4gdC5jb250ZW50LnNpemU/dGhpcy5jYW5SZXBsYWNlKHRoaXMuY2hpbGRDb3VudCx0aGlzLmNoaWxkQ291bnQsdC5jb250ZW50KTp0aGlzLnR5cGUuY29tcGF0aWJsZUNvbnRlbnQodC50eXBlKX0sai5wcm90b3R5cGUuY2hlY2s9ZnVuY3Rpb24oKXtpZighdGhpcy50eXBlLnZhbGlkQ29udGVudCh0aGlzLmNvbnRlbnQpKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGNvbnRlbnQgZm9yIG5vZGUgIit0aGlzLnR5cGUubmFtZSsiOiAiK3RoaXMuY29udGVudC50b1N0cmluZygpLnNsaWNlKDAsNTApKTt0aGlzLmNvbnRlbnQuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2hlY2soKX0pKX0sai5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIHQ9e3R5cGU6dGhpcy50eXBlLm5hbWV9O2Zvcih2YXIgZSBpbiB0aGlzLmF0dHJzKXt0LmF0dHJzPXRoaXMuYXR0cnM7YnJlYWt9cmV0dXJuIHRoaXMuY29udGVudC5zaXplJiYodC5jb250ZW50PXRoaXMuY29udGVudC50b0pTT04oKSksdGhpcy5tYXJrcy5sZW5ndGgmJih0Lm1hcmtzPXRoaXMubWFya3MubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50b0pTT04oKX0pKSksdH0sai5mcm9tSlNPTj1mdW5jdGlvbih0LGUpe2lmKCFlKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBOb2RlLmZyb21KU09OIik7dmFyIG49bnVsbDtpZihlLm1hcmtzKXtpZighQXJyYXkuaXNBcnJheShlLm1hcmtzKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBtYXJrIGRhdGEgZm9yIE5vZGUuZnJvbUpTT04iKTtuPWUubWFya3MubWFwKHQubWFya0Zyb21KU09OKX1pZigidGV4dCI9PWUudHlwZSl7aWYoInN0cmluZyIhPXR5cGVvZiBlLnRleHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgdGV4dCBub2RlIGluIEpTT04iKTtyZXR1cm4gdC50ZXh0KGUudGV4dCxuKX12YXIgcj1wLmZyb21KU09OKHQsZS5jb250ZW50KTtyZXR1cm4gdC5ub2RlVHlwZShlLnR5cGUpLmNyZWF0ZShlLmF0dHJzLHIsbil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGoucHJvdG90eXBlLEwpO3ZhciBGPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyl7aWYodC5jYWxsKHRoaXMsZSxuLG51bGwsbyksIXIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVtcHR5IHRleHQgbm9kZXMgYXJlIG5vdCBhbGxvd2VkIik7dGhpcy50ZXh0PXJ9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e3RleHRDb250ZW50Ontjb25maWd1cmFibGU6ITB9LG5vZGVTaXplOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLnNwZWMudG9EZWJ1Z1N0cmluZz90aGlzLnR5cGUuc3BlYy50b0RlYnVnU3RyaW5nKHRoaXMpOkgodGhpcy5tYXJrcyxKU09OLnN0cmluZ2lmeSh0aGlzLnRleHQpKX0sbi50ZXh0Q29udGVudC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0fSxlLnByb3RvdHlwZS50ZXh0QmV0d2Vlbj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRleHQuc2xpY2UodCxlKX0sbi5ub2RlU2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0Lmxlbmd0aH0sZS5wcm90b3R5cGUubWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gdD09dGhpcy5tYXJrcz90aGlzOm5ldyBlKHRoaXMudHlwZSx0aGlzLmF0dHJzLHRoaXMudGV4dCx0KX0sZS5wcm90b3R5cGUud2l0aFRleHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PXRoaXMudGV4dD90aGlzOm5ldyBlKHRoaXMudHlwZSx0aGlzLmF0dHJzLHQsdGhpcy5tYXJrcyl9LGUucHJvdG90eXBlLmN1dD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT10aGlzLnRleHQubGVuZ3RoKSwwPT10JiZlPT10aGlzLnRleHQubGVuZ3RoP3RoaXM6dGhpcy53aXRoVGV4dCh0aGlzLnRleHQuc2xpY2UodCxlKSl9LGUucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNhbWVNYXJrdXAodCkmJnRoaXMudGV4dD09dC50ZXh0fSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgZT10LnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtyZXR1cm4gZS50ZXh0PXRoaXMudGV4dCxlfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfShqKTtmdW5jdGlvbiBIKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoLTE7bj49MDtuLS0pZT10W25dLnR5cGUubmFtZSsiKCIrZSsiKSI7cmV0dXJuIGV9dmFyIEo9ZnVuY3Rpb24odCl7dGhpcy52YWxpZEVuZD10LHRoaXMubmV4dD1bXSx0aGlzLndyYXBDYWNoZT1bXX0sVz17aW5saW5lQ29udGVudDp7Y29uZmlndXJhYmxlOiEwfSxkZWZhdWx0VHlwZTp7Y29uZmlndXJhYmxlOiEwfSxlZGdlQ291bnQ6e2NvbmZpZ3VyYWJsZTohMH19O0oucGFyc2U9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgcSh0LGUpO2lmKG51bGw9PW4ubmV4dClyZXR1cm4gSi5lbXB0eTt2YXIgcj1VKG4pO24ubmV4dCYmbi5lcnIoIlVuZXhwZWN0ZWQgdHJhaWxpbmcgdGV4dCIpO3ZhciBvPW90KGV0KHIpKTtyZXR1cm4gaXQobyxuKSxvfSxKLnByb3RvdHlwZS5tYXRjaFR5cGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLm5leHQubGVuZ3RoO2UrPTIpaWYodGhpcy5uZXh0W2VdPT10KXJldHVybiB0aGlzLm5leHRbZSsxXTtyZXR1cm4gbnVsbH0sSi5wcm90b3R5cGUubWF0Y2hGcmFnbWVudD1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09biYmKG49dC5jaGlsZENvdW50KTtmb3IodmFyIHI9dGhpcyxvPWU7ciYmbzxuO28rKylyPXIubWF0Y2hUeXBlKHQuY2hpbGQobykudHlwZSk7cmV0dXJuIHJ9LFcuaW5saW5lQ29udGVudC5nZXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm5leHRbMF07cmV0dXJuISF0JiZ0LmlzSW5saW5lfSxXLmRlZmF1bHRUeXBlLmdldD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5uZXh0Lmxlbmd0aDt0Kz0yKXt2YXIgZT10aGlzLm5leHRbdF07aWYoIWUuaXNUZXh0JiYhZS5oYXNSZXF1aXJlZEF0dHJzKCkpcmV0dXJuIGV9fSxKLnByb3RvdHlwZS5jb21wYXRpYmxlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5uZXh0Lmxlbmd0aDtlKz0yKWZvcih2YXIgbj0wO248dC5uZXh0Lmxlbmd0aDtuKz0yKWlmKHRoaXMubmV4dFtlXT09dC5uZXh0W25dKXJldHVybiEwO3JldHVybiExfSxKLnByb3RvdHlwZS5maWxsQmVmb3JlPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT0hMSksdm9pZCAwPT09biYmKG49MCk7dmFyIHI9W3RoaXNdO2Z1bmN0aW9uIG8oaSxzKXt2YXIgYT1pLm1hdGNoRnJhZ21lbnQodCxuKTtpZihhJiYoIWV8fGEudmFsaWRFbmQpKXJldHVybiBwLmZyb20ocy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNyZWF0ZUFuZEZpbGwoKX0pKSk7Zm9yKHZhciBjPTA7YzxpLm5leHQubGVuZ3RoO2MrPTIpe3ZhciBsPWkubmV4dFtjXSx1PWkubmV4dFtjKzFdO2lmKCFsLmlzVGV4dCYmIWwuaGFzUmVxdWlyZWRBdHRycygpJiYtMT09ci5pbmRleE9mKHUpKXtyLnB1c2godSk7dmFyIGg9byh1LHMuY29uY2F0KGwpKTtpZihoKXJldHVybiBofX19cmV0dXJuIG8odGhpcyxbXSl9LEoucHJvdG90eXBlLmZpbmRXcmFwcGluZz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMud3JhcENhY2hlLmxlbmd0aDtlKz0yKWlmKHRoaXMud3JhcENhY2hlW2VdPT10KXJldHVybiB0aGlzLndyYXBDYWNoZVtlKzFdO3ZhciBuPXRoaXMuY29tcHV0ZVdyYXBwaW5nKHQpO3JldHVybiB0aGlzLndyYXBDYWNoZS5wdXNoKHQsbiksbn0sSi5wcm90b3R5cGUuY29tcHV0ZVdyYXBwaW5nPWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCksbj1be21hdGNoOnRoaXMsdHlwZTpudWxsLHZpYTpudWxsfV07d2hpbGUobi5sZW5ndGgpe3ZhciByPW4uc2hpZnQoKSxvPXIubWF0Y2g7aWYoby5tYXRjaFR5cGUodCkpe2Zvcih2YXIgaT1bXSxzPXI7cy50eXBlO3M9cy52aWEpaS5wdXNoKHMudHlwZSk7cmV0dXJuIGkucmV2ZXJzZSgpfWZvcih2YXIgYT0wO2E8by5uZXh0Lmxlbmd0aDthKz0yKXt2YXIgYz1vLm5leHRbYV07Yy5pc0xlYWZ8fGMuaGFzUmVxdWlyZWRBdHRycygpfHxjLm5hbWUgaW4gZXx8ci50eXBlJiYhby5uZXh0W2ErMV0udmFsaWRFbmR8fChuLnB1c2goe21hdGNoOmMuY29udGVudE1hdGNoLHR5cGU6Yyx2aWE6cn0pLGVbYy5uYW1lXT0hMCl9fX0sVy5lZGdlQ291bnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmV4dC5sZW5ndGg+PjF9LEoucHJvdG90eXBlLmVkZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dDw8MTtpZihlPj10aGlzLm5leHQubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJUaGVyZSdzIG5vICIrdCsidGggZWRnZSBpbiB0aGlzIGNvbnRlbnQgbWF0Y2giKTtyZXR1cm57dHlwZTp0aGlzLm5leHRbZV0sbmV4dDp0aGlzLm5leHRbZSsxXX19LEoucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9W107ZnVuY3Rpb24gZShuKXt0LnB1c2gobik7Zm9yKHZhciByPTE7cjxuLm5leHQubGVuZ3RoO3IrPTIpLTE9PXQuaW5kZXhPZihuLm5leHRbcl0pJiZlKG4ubmV4dFtyXSl9cmV0dXJuIGUodGhpcyksdC5tYXAoKGZ1bmN0aW9uKGUsbil7Zm9yKHZhciByPW4rKGUudmFsaWRFbmQ/IioiOiIgIikrIiAiLG89MDtvPGUubmV4dC5sZW5ndGg7bys9MilyKz0obz8iLCAiOiIiKStlLm5leHRbb10ubmFtZSsiLT4iK3QuaW5kZXhPZihlLm5leHRbbysxXSk7cmV0dXJuIHJ9KSkuam9pbigiXG4iKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoSi5wcm90b3R5cGUsVyksSi5lbXB0eT1uZXcgSighMCk7dmFyIHE9ZnVuY3Rpb24odCxlKXt0aGlzLnN0cmluZz10LHRoaXMubm9kZVR5cGVzPWUsdGhpcy5pbmxpbmU9bnVsbCx0aGlzLnBvcz0wLHRoaXMudG9rZW5zPXQuc3BsaXQoL1xzKig/PVxifFxXfCQpLyksIiI9PXRoaXMudG9rZW5zW3RoaXMudG9rZW5zLmxlbmd0aC0xXSYmdGhpcy50b2tlbnMucG9wKCksIiI9PXRoaXMudG9rZW5zWzBdJiZ0aGlzLnRva2Vucy51bnNoaWZ0KCl9LEs9e25leHQ6e2NvbmZpZ3VyYWJsZTohMH19O2Z1bmN0aW9uIFUodCl7dmFyIGU9W107ZG97ZS5wdXNoKEcodCkpfXdoaWxlKHQuZWF0KCJ8IikpO3JldHVybiAxPT1lLmxlbmd0aD9lWzBdOnt0eXBlOiJjaG9pY2UiLGV4cHJzOmV9fWZ1bmN0aW9uIEcodCl7dmFyIGU9W107ZG97ZS5wdXNoKFgodCkpfXdoaWxlKHQubmV4dCYmIikiIT10Lm5leHQmJiJ8IiE9dC5uZXh0KTtyZXR1cm4gMT09ZS5sZW5ndGg/ZVswXTp7dHlwZToic2VxIixleHByczplfX1mdW5jdGlvbiBYKHQpe2Zvcih2YXIgZT10dCh0KTs7KWlmKHQuZWF0KCIrIikpZT17dHlwZToicGx1cyIsZXhwcjplfTtlbHNlIGlmKHQuZWF0KCIqIikpZT17dHlwZToic3RhciIsZXhwcjplfTtlbHNlIGlmKHQuZWF0KCI/IikpZT17dHlwZToib3B0IixleHByOmV9O2Vsc2V7aWYoIXQuZWF0KCJ7IikpYnJlYWs7ZT1aKHQsZSl9cmV0dXJuIGV9ZnVuY3Rpb24gWSh0KXsvXEQvLnRlc3QodC5uZXh0KSYmdC5lcnIoIkV4cGVjdGVkIG51bWJlciwgZ290ICciK3QubmV4dCsiJyIpO3ZhciBlPU51bWJlcih0Lm5leHQpO3JldHVybiB0LnBvcysrLGV9ZnVuY3Rpb24gWih0LGUpe3ZhciBuPVkodCkscj1uO3JldHVybiB0LmVhdCgiLCIpJiYocj0ifSIhPXQubmV4dD9ZKHQpOi0xKSx0LmVhdCgifSIpfHx0LmVycigiVW5jbG9zZWQgYnJhY2VkIHJhbmdlIikse3R5cGU6InJhbmdlIixtaW46bixtYXg6cixleHByOmV9fWZ1bmN0aW9uIFEodCxlKXt2YXIgbj10Lm5vZGVUeXBlcyxyPW5bZV07aWYocilyZXR1cm5bcl07dmFyIG89W107Zm9yKHZhciBpIGluIG4pe3ZhciBzPW5baV07cy5ncm91cHMuaW5kZXhPZihlKT4tMSYmby5wdXNoKHMpfXJldHVybiAwPT1vLmxlbmd0aCYmdC5lcnIoIk5vIG5vZGUgdHlwZSBvciBncm91cCAnIitlKyInIGZvdW5kIiksb31mdW5jdGlvbiB0dCh0KXtpZih0LmVhdCgiKCIpKXt2YXIgZT1VKHQpO3JldHVybiB0LmVhdCgiKSIpfHx0LmVycigiTWlzc2luZyBjbG9zaW5nIHBhcmVuIiksZX1pZighL1xXLy50ZXN0KHQubmV4dCkpe3ZhciBuPVEodCx0Lm5leHQpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PXQuaW5saW5lP3QuaW5saW5lPWUuaXNJbmxpbmU6dC5pbmxpbmUhPWUuaXNJbmxpbmUmJnQuZXJyKCJNaXhpbmcgaW5saW5lIGFuZCBibG9jayBjb250ZW50Iikse3R5cGU6Im5hbWUiLHZhbHVlOmV9fSkpO3JldHVybiB0LnBvcysrLDE9PW4ubGVuZ3RoP25bMF06e3R5cGU6ImNob2ljZSIsZXhwcnM6bn19dC5lcnIoIlVuZXhwZWN0ZWQgdG9rZW4gJyIrdC5uZXh0KyInIil9ZnVuY3Rpb24gZXQodCl7dmFyIGU9W1tdXTtyZXR1cm4gbyhpKHQsMCksbigpKSxlO2Z1bmN0aW9uIG4oKXtyZXR1cm4gZS5wdXNoKFtdKS0xfWZ1bmN0aW9uIHIodCxuLHIpe3ZhciBvPXt0ZXJtOnIsdG86bn07cmV0dXJuIGVbdF0ucHVzaChvKSxvfWZ1bmN0aW9uIG8odCxlKXt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvPWV9KSl9ZnVuY3Rpb24gaSh0LGUpe2lmKCJjaG9pY2UiPT10LnR5cGUpcmV0dXJuIHQuZXhwcnMucmVkdWNlKChmdW5jdGlvbih0LG4pe3JldHVybiB0LmNvbmNhdChpKG4sZSkpfSksW10pO2lmKCJzZXEiPT10LnR5cGUpZm9yKHZhciBzPTA7O3MrKyl7dmFyIGE9aSh0LmV4cHJzW3NdLGUpO2lmKHM9PXQuZXhwcnMubGVuZ3RoLTEpcmV0dXJuIGE7byhhLGU9bigpKX1lbHNle2lmKCJzdGFyIj09dC50eXBlKXt2YXIgYz1uKCk7cmV0dXJuIHIoZSxjKSxvKGkodC5leHByLGMpLGMpLFtyKGMpXX1pZigicGx1cyI9PXQudHlwZSl7dmFyIGw9bigpO3JldHVybiBvKGkodC5leHByLGUpLGwpLG8oaSh0LmV4cHIsbCksbCksW3IobCldfWlmKCJvcHQiPT10LnR5cGUpcmV0dXJuW3IoZSldLmNvbmNhdChpKHQuZXhwcixlKSk7aWYoInJhbmdlIj09dC50eXBlKXtmb3IodmFyIHU9ZSxwPTA7cDx0Lm1pbjtwKyspe3ZhciBoPW4oKTtvKGkodC5leHByLHUpLGgpLHU9aH1pZigtMT09dC5tYXgpbyhpKHQuZXhwcix1KSx1KTtlbHNlIGZvcih2YXIgZj10Lm1pbjtmPHQubWF4O2YrKyl7dmFyIGQ9bigpO3IodSxkKSxvKGkodC5leHByLHUpLGQpLHU9ZH1yZXR1cm5bcih1KV19aWYoIm5hbWUiPT10LnR5cGUpcmV0dXJuW3IoZSxudWxsLHQudmFsdWUpXX19fWZ1bmN0aW9uIG50KHQsZSl7cmV0dXJuIGUtdH1mdW5jdGlvbiBydCh0LGUpe3ZhciBuPVtdO3JldHVybiByKGUpLG4uc29ydChudCk7ZnVuY3Rpb24gcihlKXt2YXIgbz10W2VdO2lmKDE9PW8ubGVuZ3RoJiYhb1swXS50ZXJtKXJldHVybiByKG9bMF0udG8pO24ucHVzaChlKTtmb3IodmFyIGk9MDtpPG8ubGVuZ3RoO2krKyl7dmFyIHM9b1tpXSxhPXMudGVybSxjPXMudG87YXx8LTEhPW4uaW5kZXhPZihjKXx8cihjKX19fWZ1bmN0aW9uIG90KHQpe3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIG4ocnQodCwwKSk7ZnVuY3Rpb24gbihyKXt2YXIgbz1bXTtyLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RbZV0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZS50ZXJtLHI9ZS50bztpZihuKXt2YXIgaT1vLmluZGV4T2Yobikscz1pPi0xJiZvW2krMV07cnQodCxyKS5mb3JFYWNoKChmdW5jdGlvbih0KXtzfHxvLnB1c2gobixzPVtdKSwtMT09cy5pbmRleE9mKHQpJiZzLnB1c2godCl9KSl9fSkpfSkpO2Zvcih2YXIgaT1lW3Iuam9pbigiLCIpXT1uZXcgSihyLmluZGV4T2YodC5sZW5ndGgtMSk+LTEpLHM9MDtzPG8ubGVuZ3RoO3MrPTIpe3ZhciBhPW9bcysxXS5zb3J0KG50KTtpLm5leHQucHVzaChvW3NdLGVbYS5qb2luKCIsIildfHxuKGEpKX1yZXR1cm4gaX19ZnVuY3Rpb24gaXQodCxlKXtmb3IodmFyIG49MCxyPVt0XTtuPHIubGVuZ3RoO24rKyl7Zm9yKHZhciBvPXJbbl0saT0hby52YWxpZEVuZCxzPVtdLGE9MDthPG8ubmV4dC5sZW5ndGg7YSs9Mil7dmFyIGM9by5uZXh0W2FdLGw9by5uZXh0W2ErMV07cy5wdXNoKGMubmFtZSksIWl8fGMuaXNUZXh0fHxjLmhhc1JlcXVpcmVkQXR0cnMoKXx8KGk9ITEpLC0xPT1yLmluZGV4T2YobCkmJnIucHVzaChsKX1pJiZlLmVycigiT25seSBub24tZ2VuZXJhdGFibGUgbm9kZXMgKCIrcy5qb2luKCIsICIpKyIpIGluIGEgcmVxdWlyZWQgcG9zaXRpb24iKX19ZnVuY3Rpb24gc3QodCl7dmFyIGU9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIG4gaW4gdCl7dmFyIHI9dFtuXTtpZighci5oYXNEZWZhdWx0KXJldHVybiBudWxsO2Vbbl09ci5kZWZhdWx0fXJldHVybiBlfWZ1bmN0aW9uIGF0KHQsZSl7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIHIgaW4gdCl7dmFyIG89ZSYmZVtyXTtpZih2b2lkIDA9PT1vKXt2YXIgaT10W3JdO2lmKCFpLmhhc0RlZmF1bHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vIHZhbHVlIHN1cHBsaWVkIGZvciBhdHRyaWJ1dGUgIityKTtvPWkuZGVmYXVsdH1uW3JdPW99cmV0dXJuIG59ZnVuY3Rpb24gY3QodCl7dmFyIGU9T2JqZWN0LmNyZWF0ZShudWxsKTtpZih0KWZvcih2YXIgbiBpbiB0KWVbbl09bmV3IHB0KHRbbl0pO3JldHVybiBlfUsubmV4dC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b2tlbnNbdGhpcy5wb3NdfSxxLnByb3RvdHlwZS5lYXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmV4dD09dCYmKHRoaXMucG9zKyt8fCEwKX0scS5wcm90b3R5cGUuZXJyPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBTeW50YXhFcnJvcih0KyIgKGluIGNvbnRlbnQgZXhwcmVzc2lvbiAnIit0aGlzLnN0cmluZysiJykiKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocS5wcm90b3R5cGUsSyk7dmFyIGx0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLm5hbWU9dCx0aGlzLnNjaGVtYT1lLHRoaXMuc3BlYz1uLHRoaXMuZ3JvdXBzPW4uZ3JvdXA/bi5ncm91cC5zcGxpdCgiICIpOltdLHRoaXMuYXR0cnM9Y3Qobi5hdHRycyksdGhpcy5kZWZhdWx0QXR0cnM9c3QodGhpcy5hdHRycyksdGhpcy5jb250ZW50TWF0Y2g9bnVsbCx0aGlzLm1hcmtTZXQ9bnVsbCx0aGlzLmlubGluZUNvbnRlbnQ9bnVsbCx0aGlzLmlzQmxvY2s9IShuLmlubGluZXx8InRleHQiPT10KSx0aGlzLmlzVGV4dD0idGV4dCI9PXR9LHV0PXtpc0lubGluZTp7Y29uZmlndXJhYmxlOiEwfSxpc1RleHRibG9jazp7Y29uZmlndXJhYmxlOiEwfSxpc0xlYWY6e2NvbmZpZ3VyYWJsZTohMH0saXNBdG9tOntjb25maWd1cmFibGU6ITB9fTt1dC5pc0lubGluZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0Jsb2NrfSx1dC5pc1RleHRibG9jay5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Jsb2NrJiZ0aGlzLmlubGluZUNvbnRlbnR9LHV0LmlzTGVhZi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50TWF0Y2g9PUouZW1wdHl9LHV0LmlzQXRvbS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0xlYWZ8fHRoaXMuc3BlYy5hdG9tfSxsdC5wcm90b3R5cGUuaGFzUmVxdWlyZWRBdHRycz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLmF0dHJzKWlmKHRoaXMuYXR0cnNbdF0uaXNSZXF1aXJlZClyZXR1cm4hMDtyZXR1cm4hMX0sbHQucHJvdG90eXBlLmNvbXBhdGlibGVDb250ZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT10fHx0aGlzLmNvbnRlbnRNYXRjaC5jb21wYXRpYmxlKHQuY29udGVudE1hdGNoKX0sbHQucHJvdG90eXBlLmNvbXB1dGVBdHRycz1mdW5jdGlvbih0KXtyZXR1cm4hdCYmdGhpcy5kZWZhdWx0QXR0cnM/dGhpcy5kZWZhdWx0QXR0cnM6YXQodGhpcy5hdHRycyx0KX0sbHQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbih0LGUsbil7aWYodGhpcy5pc1RleHQpdGhyb3cgbmV3IEVycm9yKCJOb2RlVHlwZS5jcmVhdGUgY2FuJ3QgY29uc3RydWN0IHRleHQgbm9kZXMiKTtyZXR1cm4gbmV3IGoodGhpcyx0aGlzLmNvbXB1dGVBdHRycyh0KSxwLmZyb20oZSksdi5zZXRGcm9tKG4pKX0sbHQucHJvdG90eXBlLmNyZWF0ZUNoZWNrZWQ9ZnVuY3Rpb24odCxlLG4pe2lmKGU9cC5mcm9tKGUpLCF0aGlzLnZhbGlkQ29udGVudChlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBjb250ZW50IGZvciBub2RlICIrdGhpcy5uYW1lKTtyZXR1cm4gbmV3IGoodGhpcyx0aGlzLmNvbXB1dGVBdHRycyh0KSxlLHYuc2V0RnJvbShuKSl9LGx0LnByb3RvdHlwZS5jcmVhdGVBbmRGaWxsPWZ1bmN0aW9uKHQsZSxuKXtpZih0PXRoaXMuY29tcHV0ZUF0dHJzKHQpLGU9cC5mcm9tKGUpLGUuc2l6ZSl7dmFyIHI9dGhpcy5jb250ZW50TWF0Y2guZmlsbEJlZm9yZShlKTtpZighcilyZXR1cm4gbnVsbDtlPXIuYXBwZW5kKGUpfXZhciBvPXRoaXMuY29udGVudE1hdGNoLm1hdGNoRnJhZ21lbnQoZSkuZmlsbEJlZm9yZShwLmVtcHR5LCEwKTtyZXR1cm4gbz9uZXcgaih0aGlzLHQsZS5hcHBlbmQobyksdi5zZXRGcm9tKG4pKTpudWxsfSxsdC5wcm90b3R5cGUudmFsaWRDb250ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGVudE1hdGNoLm1hdGNoRnJhZ21lbnQodCk7aWYoIWV8fCFlLnZhbGlkRW5kKXJldHVybiExO2Zvcih2YXIgbj0wO248dC5jaGlsZENvdW50O24rKylpZighdGhpcy5hbGxvd3NNYXJrcyh0LmNoaWxkKG4pLm1hcmtzKSlyZXR1cm4hMTtyZXR1cm4hMH0sbHQucHJvdG90eXBlLmFsbG93c01hcmtUeXBlPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10aGlzLm1hcmtTZXR8fHRoaXMubWFya1NldC5pbmRleE9mKHQpPi0xfSxsdC5wcm90b3R5cGUuYWxsb3dzTWFya3M9ZnVuY3Rpb24odCl7aWYobnVsbD09dGhpcy5tYXJrU2V0KXJldHVybiEwO2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKCF0aGlzLmFsbG93c01hcmtUeXBlKHRbZV0udHlwZSkpcmV0dXJuITE7cmV0dXJuITB9LGx0LnByb3RvdHlwZS5hbGxvd2VkTWFya3M9ZnVuY3Rpb24odCl7aWYobnVsbD09dGhpcy5tYXJrU2V0KXJldHVybiB0O2Zvcih2YXIgZSxuPTA7bjx0Lmxlbmd0aDtuKyspdGhpcy5hbGxvd3NNYXJrVHlwZSh0W25dLnR5cGUpP2UmJmUucHVzaCh0W25dKTplfHwoZT10LnNsaWNlKDAsbikpO3JldHVybiBlP2UubGVuZ3RoP2U6di5lbXB0eTp0fSxsdC5jb21waWxlPWZ1bmN0aW9uKHQsZSl7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTt0LmZvckVhY2goKGZ1bmN0aW9uKHQscil7cmV0dXJuIG5bdF09bmV3IGx0KHQsZSxyKX0pKTt2YXIgcj1lLnNwZWMudG9wTm9kZXx8ImRvYyI7aWYoIW5bcl0pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlNjaGVtYSBpcyBtaXNzaW5nIGl0cyB0b3Agbm9kZSB0eXBlICgnIityKyInKSIpO2lmKCFuLnRleHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkV2ZXJ5IHNjaGVtYSBuZWVkcyBhICd0ZXh0JyB0eXBlIik7Zm9yKHZhciBvIGluIG4udGV4dC5hdHRycyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGhlIHRleHQgbm9kZSB0eXBlIHNob3VsZCBub3QgaGF2ZSBhdHRyaWJ1dGVzIik7cmV0dXJuIG59LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGx0LnByb3RvdHlwZSx1dCk7dmFyIHB0PWZ1bmN0aW9uKHQpe3RoaXMuaGFzRGVmYXVsdD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCwiZGVmYXVsdCIpLHRoaXMuZGVmYXVsdD10LmRlZmF1bHR9LGh0PXtpc1JlcXVpcmVkOntjb25maWd1cmFibGU6ITB9fTtodC5pc1JlcXVpcmVkLmdldD1mdW5jdGlvbigpe3JldHVybiF0aGlzLmhhc0RlZmF1bHR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHB0LnByb3RvdHlwZSxodCk7dmFyIGZ0PWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMubmFtZT10LHRoaXMuc2NoZW1hPW4sdGhpcy5zcGVjPXIsdGhpcy5hdHRycz1jdChyLmF0dHJzKSx0aGlzLnJhbms9ZSx0aGlzLmV4Y2x1ZGVkPW51bGw7dmFyIG89c3QodGhpcy5hdHRycyk7dGhpcy5pbnN0YW5jZT1vJiZuZXcgdih0aGlzLG8pfTtmdC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKHQpe3JldHVybiF0JiZ0aGlzLmluc3RhbmNlP3RoaXMuaW5zdGFuY2U6bmV3IHYodGhpcyxhdCh0aGlzLmF0dHJzLHQpKX0sZnQuY29tcGlsZT1mdW5jdGlvbih0LGUpe3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCkscj0wO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQsbyl7cmV0dXJuIG5bdF09bmV3IGZ0KHQscisrLGUsbyl9KSksbn0sZnQucHJvdG90eXBlLnJlbW92ZUZyb21TZXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodFtlXS50eXBlPT10aGlzKXJldHVybiB0LnNsaWNlKDAsZSkuY29uY2F0KHQuc2xpY2UoZSsxKSk7cmV0dXJuIHR9LGZ0LnByb3RvdHlwZS5pc0luU2V0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRbZV0udHlwZT09dGhpcylyZXR1cm4gdFtlXX0sZnQucHJvdG90eXBlLmV4Y2x1ZGVzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmV4Y2x1ZGVkLmluZGV4T2YodCk+LTF9O3ZhciBkdD1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdGhpcy5zcGVjPXt9LHQpdGhpcy5zcGVjW2VdPXRbZV07dGhpcy5zcGVjLm5vZGVzPWMuZnJvbSh0Lm5vZGVzKSx0aGlzLnNwZWMubWFya3M9Yy5mcm9tKHQubWFya3MpLHRoaXMubm9kZXM9bHQuY29tcGlsZSh0aGlzLnNwZWMubm9kZXMsdGhpcyksdGhpcy5tYXJrcz1mdC5jb21waWxlKHRoaXMuc3BlYy5tYXJrcyx0aGlzKTt2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcih2YXIgciBpbiB0aGlzLm5vZGVzKXtpZihyIGluIHRoaXMubWFya3MpdGhyb3cgbmV3IFJhbmdlRXJyb3IocisiIGNhbiBub3QgYmUgYm90aCBhIG5vZGUgYW5kIGEgbWFyayIpO3ZhciBvPXRoaXMubm9kZXNbcl0saT1vLnNwZWMuY29udGVudHx8IiIscz1vLnNwZWMubWFya3M7by5jb250ZW50TWF0Y2g9bltpXXx8KG5baV09Si5wYXJzZShpLHRoaXMubm9kZXMpKSxvLmlubGluZUNvbnRlbnQ9by5jb250ZW50TWF0Y2guaW5saW5lQ29udGVudCxvLm1hcmtTZXQ9Il8iPT1zP251bGw6cz9tdCh0aGlzLHMuc3BsaXQoIiAiKSk6IiIhPXMmJm8uaW5saW5lQ29udGVudD9udWxsOltdfWZvcih2YXIgYSBpbiB0aGlzLm1hcmtzKXt2YXIgbD10aGlzLm1hcmtzW2FdLHU9bC5zcGVjLmV4Y2x1ZGVzO2wuZXhjbHVkZWQ9bnVsbD09dT9bbF06IiI9PXU/W106bXQodGhpcyx1LnNwbGl0KCIgIikpfXRoaXMubm9kZUZyb21KU09OPXRoaXMubm9kZUZyb21KU09OLmJpbmQodGhpcyksdGhpcy5tYXJrRnJvbUpTT049dGhpcy5tYXJrRnJvbUpTT04uYmluZCh0aGlzKSx0aGlzLnRvcE5vZGVUeXBlPXRoaXMubm9kZXNbdGhpcy5zcGVjLnRvcE5vZGV8fCJkb2MiXSx0aGlzLmNhY2hlZD1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuY2FjaGVkLndyYXBwaW5ncz1PYmplY3QuY3JlYXRlKG51bGwpfTtmdW5jdGlvbiBtdCh0LGUpe2Zvcih2YXIgbj1bXSxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBvPWVbcl0saT10Lm1hcmtzW29dLHM9aTtpZihpKW4ucHVzaChpKTtlbHNlIGZvcih2YXIgYSBpbiB0Lm1hcmtzKXt2YXIgYz10Lm1hcmtzW2FdOygiXyI9PW98fGMuc3BlYy5ncm91cCYmYy5zcGVjLmdyb3VwLnNwbGl0KCIgIikuaW5kZXhPZihvKT4tMSkmJm4ucHVzaChzPWMpfWlmKCFzKXRocm93IG5ldyBTeW50YXhFcnJvcigiVW5rbm93biBtYXJrIHR5cGU6ICciK2Vbcl0rIiciKX1yZXR1cm4gbn1kdC5wcm90b3R5cGUubm9kZT1mdW5jdGlvbih0LGUsbixyKXtpZigic3RyaW5nIj09dHlwZW9mIHQpdD10aGlzLm5vZGVUeXBlKHQpO2Vsc2V7aWYoISh0IGluc3RhbmNlb2YgbHQpKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIG5vZGUgdHlwZTogIit0KTtpZih0LnNjaGVtYSE9dGhpcyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiTm9kZSB0eXBlIGZyb20gZGlmZmVyZW50IHNjaGVtYSB1c2VkICgiK3QubmFtZSsiKSIpfXJldHVybiB0LmNyZWF0ZUNoZWNrZWQoZSxuLHIpfSxkdC5wcm90b3R5cGUudGV4dD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMubm9kZXMudGV4dDtyZXR1cm4gbmV3IEYobixuLmRlZmF1bHRBdHRycyx0LHYuc2V0RnJvbShlKSl9LGR0LnByb3RvdHlwZS5tYXJrPWZ1bmN0aW9uKHQsZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0JiYodD10aGlzLm1hcmtzW3RdKSx0LmNyZWF0ZShlKX0sZHQucHJvdG90eXBlLm5vZGVGcm9tSlNPTj1mdW5jdGlvbih0KXtyZXR1cm4gai5mcm9tSlNPTih0aGlzLHQpfSxkdC5wcm90b3R5cGUubWFya0Zyb21KU09OPWZ1bmN0aW9uKHQpe3JldHVybiB2LmZyb21KU09OKHRoaXMsdCl9LGR0LnByb3RvdHlwZS5ub2RlVHlwZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm5vZGVzW3RdO2lmKCFlKXRocm93IG5ldyBSYW5nZUVycm9yKCJVbmtub3duIG5vZGUgdHlwZTogIit0KTtyZXR1cm4gZX07dmFyIHZ0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0aGlzLnNjaGVtYT10LHRoaXMucnVsZXM9ZSx0aGlzLnRhZ3M9W10sdGhpcy5zdHlsZXM9W10sZS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LnRhZz9uLnRhZ3MucHVzaCh0KTp0LnN0eWxlJiZuLnN0eWxlcy5wdXNoKHQpfSkpfTt2dC5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIG49bmV3IE10KHRoaXMsZSwhMSk7cmV0dXJuIG4uYWRkQWxsKHQsbnVsbCxlLmZyb20sZS50byksbi5maW5pc2goKX0sdnQucHJvdG90eXBlLnBhcnNlU2xpY2U9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIG49bmV3IE10KHRoaXMsZSwhMCk7cmV0dXJuIG4uYWRkQWxsKHQsbnVsbCxlLmZyb20sZS50bykseS5tYXhPcGVuKG4uZmluaXNoKCkpfSx2dC5wcm90b3R5cGUubWF0Y2hUYWc9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPHRoaXMudGFncy5sZW5ndGg7bisrKXt2YXIgcj10aGlzLnRhZ3Nbbl07aWYoTnQodCxyLnRhZykmJih2b2lkIDA9PT1yLm5hbWVzcGFjZXx8dC5uYW1lc3BhY2VVUkk9PXIubmFtZXNwYWNlKSYmKCFyLmNvbnRleHR8fGUubWF0Y2hlc0NvbnRleHQoci5jb250ZXh0KSkpe2lmKHIuZ2V0QXR0cnMpe3ZhciBvPXIuZ2V0QXR0cnModCk7aWYoITE9PT1vKWNvbnRpbnVlO3IuYXR0cnM9b31yZXR1cm4gcn19fSx2dC5wcm90b3R5cGUubWF0Y2hTdHlsZT1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPTA7cjx0aGlzLnN0eWxlcy5sZW5ndGg7cisrKXt2YXIgbz10aGlzLnN0eWxlc1tyXTtpZighKDAhPW8uc3R5bGUuaW5kZXhPZih0KXx8by5jb250ZXh0JiYhbi5tYXRjaGVzQ29udGV4dChvLmNvbnRleHQpfHxvLnN0eWxlLmxlbmd0aD50Lmxlbmd0aCYmKDYxIT1vLnN0eWxlLmNoYXJDb2RlQXQodC5sZW5ndGgpfHxvLnN0eWxlLnNsaWNlKHQubGVuZ3RoKzEpIT1lKSkpe2lmKG8uZ2V0QXR0cnMpe3ZhciBpPW8uZ2V0QXR0cnMoZSk7aWYoITE9PT1pKWNvbnRpbnVlO28uYXR0cnM9aX1yZXR1cm4gb319fSx2dC5zY2hlbWFSdWxlcz1mdW5jdGlvbih0KXt2YXIgZT1bXTtmdW5jdGlvbiBuKHQpe2Zvcih2YXIgbj1udWxsPT10LnByaW9yaXR5PzUwOnQucHJpb3JpdHkscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdLGk9bnVsbD09by5wcmlvcml0eT81MDpvLnByaW9yaXR5O2lmKGk8bilicmVha31lLnNwbGljZShyLDAsdCl9dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHI9dC5tYXJrc1tlXS5zcGVjLnBhcnNlRE9NO3ImJnIuZm9yRWFjaCgoZnVuY3Rpb24odCl7bih0PVR0KHQpKSx0Lm1hcms9ZX0pKX07Zm9yKHZhciBvIGluIHQubWFya3MpcihvKTt2YXIgaT1mdW5jdGlvbihlKXt2YXIgcj10Lm5vZGVzW3NdLnNwZWMucGFyc2VET007ciYmci5mb3JFYWNoKChmdW5jdGlvbih0KXtuKHQ9VHQodCkpLHQubm9kZT1zfSkpfTtmb3IodmFyIHMgaW4gdC5ub2RlcylpKCk7cmV0dXJuIGV9LHZ0LmZyb21TY2hlbWE9ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2FjaGVkLmRvbVBhcnNlcnx8KHQuY2FjaGVkLmRvbVBhcnNlcj1uZXcgdnQodCx2dC5zY2hlbWFSdWxlcyh0KSkpfTt2YXIgZ3Q9e2FkZHJlc3M6ITAsYXJ0aWNsZTohMCxhc2lkZTohMCxibG9ja3F1b3RlOiEwLGNhbnZhczohMCxkZDohMCxkaXY6ITAsZGw6ITAsZmllbGRzZXQ6ITAsZmlnY2FwdGlvbjohMCxmaWd1cmU6ITAsZm9vdGVyOiEwLGZvcm06ITAsaDE6ITAsaDI6ITAsaDM6ITAsaDQ6ITAsaDU6ITAsaDY6ITAsaGVhZGVyOiEwLGhncm91cDohMCxocjohMCxsaTohMCxub3NjcmlwdDohMCxvbDohMCxvdXRwdXQ6ITAscDohMCxwcmU6ITAsc2VjdGlvbjohMCx0YWJsZTohMCx0Zm9vdDohMCx1bDohMH0seXQ9e2hlYWQ6ITAsbm9zY3JpcHQ6ITAsb2JqZWN0OiEwLHNjcmlwdDohMCxzdHlsZTohMCx0aXRsZTohMH0sd3Q9e29sOiEwLHVsOiEwfSxidD0xLHh0PTIsa3Q9NDtmdW5jdGlvbiBTdCh0KXtyZXR1cm4odD9idDowKXwoImZ1bGwiPT09dD94dDowKX12YXIgQ3Q9ZnVuY3Rpb24odCxlLG4scixvLGkscyl7dGhpcy50eXBlPXQsdGhpcy5hdHRycz1lLHRoaXMuc29saWQ9byx0aGlzLm1hdGNoPWl8fChzJmt0P251bGw6dC5jb250ZW50TWF0Y2gpLHRoaXMub3B0aW9ucz1zLHRoaXMuY29udGVudD1bXSx0aGlzLm1hcmtzPW4sdGhpcy5hY3RpdmVNYXJrcz12Lm5vbmUsdGhpcy5wZW5kaW5nTWFya3M9cn07Q3QucHJvdG90eXBlLmZpbmRXcmFwcGluZz1mdW5jdGlvbih0KXtpZighdGhpcy5tYXRjaCl7aWYoIXRoaXMudHlwZSlyZXR1cm5bXTt2YXIgZT10aGlzLnR5cGUuY29udGVudE1hdGNoLmZpbGxCZWZvcmUocC5mcm9tKHQpKTtpZighZSl7dmFyIG4scj10aGlzLnR5cGUuY29udGVudE1hdGNoO3JldHVybihuPXIuZmluZFdyYXBwaW5nKHQudHlwZSkpPyh0aGlzLm1hdGNoPXIsbik6bnVsbH10aGlzLm1hdGNoPXRoaXMudHlwZS5jb250ZW50TWF0Y2gubWF0Y2hGcmFnbWVudChlKX1yZXR1cm4gdGhpcy5tYXRjaC5maW5kV3JhcHBpbmcodC50eXBlKX0sQ3QucHJvdG90eXBlLmZpbmlzaD1mdW5jdGlvbih0KXtpZighKHRoaXMub3B0aW9ucyZidCkpe3ZhciBlLG49dGhpcy5jb250ZW50W3RoaXMuY29udGVudC5sZW5ndGgtMV07biYmbi5pc1RleHQmJihlPS9bIFx0XHJcblx1MDAwY10rJC8uZXhlYyhuLnRleHQpKSYmKG4udGV4dC5sZW5ndGg9PWVbMF0ubGVuZ3RoP3RoaXMuY29udGVudC5wb3AoKTp0aGlzLmNvbnRlbnRbdGhpcy5jb250ZW50Lmxlbmd0aC0xXT1uLndpdGhUZXh0KG4udGV4dC5zbGljZSgwLG4udGV4dC5sZW5ndGgtZVswXS5sZW5ndGgpKSl9dmFyIHI9cC5mcm9tKHRoaXMuY29udGVudCk7cmV0dXJuIXQmJnRoaXMubWF0Y2gmJihyPXIuYXBwZW5kKHRoaXMubWF0Y2guZmlsbEJlZm9yZShwLmVtcHR5LCEwKSkpLHRoaXMudHlwZT90aGlzLnR5cGUuY3JlYXRlKHRoaXMuYXR0cnMscix0aGlzLm1hcmtzKTpyfSxDdC5wcm90b3R5cGUuYXBwbHlQZW5kaW5nPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5wZW5kaW5nTWFya3M7ZTxuLmxlbmd0aDtlKyspe3ZhciByPW5bZV07KHRoaXMudHlwZT90aGlzLnR5cGUuYWxsb3dzTWFya1R5cGUoci50eXBlKTpEdChyLnR5cGUsdCkpJiYhci5pc0luU2V0KHRoaXMuYWN0aXZlTWFya3MpJiYodGhpcy5hY3RpdmVNYXJrcz1yLmFkZFRvU2V0KHRoaXMuYWN0aXZlTWFya3MpLHRoaXMucGVuZGluZ01hcmtzPXIucmVtb3ZlRnJvbVNldCh0aGlzLnBlbmRpbmdNYXJrcykpfX07dmFyIE10PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnBhcnNlcj10LHRoaXMub3B0aW9ucz1lLHRoaXMuaXNPcGVuPW47dmFyIHIsbz1lLnRvcE5vZGUsaT1TdChlLnByZXNlcnZlV2hpdGVzcGFjZSl8KG4/a3Q6MCk7cj1vP25ldyBDdChvLnR5cGUsby5hdHRycyx2Lm5vbmUsdi5ub25lLCEwLGUudG9wTWF0Y2h8fG8udHlwZS5jb250ZW50TWF0Y2gsaSk6bmV3IEN0KG4/bnVsbDp0LnNjaGVtYS50b3BOb2RlVHlwZSxudWxsLHYubm9uZSx2Lm5vbmUsITAsbnVsbCxpKSx0aGlzLm5vZGVzPVtyXSx0aGlzLm9wZW49MCx0aGlzLmZpbmQ9ZS5maW5kUG9zaXRpb25zLHRoaXMubmVlZHNCbG9jaz0hMX0sT3Q9e3RvcDp7Y29uZmlndXJhYmxlOiEwfSxjdXJyZW50UG9zOntjb25maWd1cmFibGU6ITB9fTtmdW5jdGlvbiBBdCh0KXtmb3IodmFyIGU9dC5maXJzdENoaWxkLG49bnVsbDtlO2U9ZS5uZXh0U2libGluZyl7dmFyIHI9MT09ZS5ub2RlVHlwZT9lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk6bnVsbDtyJiZ3dC5oYXNPd25Qcm9wZXJ0eShyKSYmbj8obi5hcHBlbmRDaGlsZChlKSxlPW4pOiJsaSI9PXI/bj1lOnImJihuPW51bGwpfX1mdW5jdGlvbiBOdCh0LGUpe3JldHVybih0Lm1hdGNoZXN8fHQubXNNYXRjaGVzU2VsZWN0b3J8fHQud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHx0Lm1vek1hdGNoZXNTZWxlY3RvcikuY2FsbCh0LGUpfWZ1bmN0aW9uIEV0KHQpe3ZhciBlLG49L1xzKihbXHctXSspXHMqOlxzKihbXjtdKykvZyxyPVtdO3doaWxlKGU9bi5leGVjKHQpKXIucHVzaChlWzFdLGVbMl0udHJpbSgpKTtyZXR1cm4gcn1mdW5jdGlvbiBUdCh0KXt2YXIgZT17fTtmb3IodmFyIG4gaW4gdCllW25dPXRbbl07cmV0dXJuIGV9ZnVuY3Rpb24gRHQodCxlKXt2YXIgbj1lLnNjaGVtYS5ub2RlcyxyPWZ1bmN0aW9uKHIpe3ZhciBvPW5bcl07aWYoby5hbGxvd3NNYXJrVHlwZSh0KSl7dmFyIGk9W10scz1mdW5jdGlvbih0KXtpLnB1c2godCk7Zm9yKHZhciBuPTA7bjx0LmVkZ2VDb3VudDtuKyspe3ZhciByPXQuZWRnZShuKSxvPXIudHlwZSxhPXIubmV4dDtpZihvPT1lKXJldHVybiEwO2lmKGkuaW5kZXhPZihhKTwwJiZzKGEpKXJldHVybiEwfX07cmV0dXJuIHMoby5jb250ZW50TWF0Y2gpP3t2OiEwfTp2b2lkIDB9fTtmb3IodmFyIG8gaW4gbil7dmFyIGk9cihvKTtpZihpKXJldHVybiBpLnZ9fU90LnRvcC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2Rlc1t0aGlzLm9wZW5dfSxNdC5wcm90b3R5cGUuYWRkRE9NPWZ1bmN0aW9uKHQpe2lmKDM9PXQubm9kZVR5cGUpdGhpcy5hZGRUZXh0Tm9kZSh0KTtlbHNlIGlmKDE9PXQubm9kZVR5cGUpe3ZhciBlPXQuZ2V0QXR0cmlidXRlKCJzdHlsZSIpLG49ZT90aGlzLnJlYWRTdHlsZXMoRXQoZSkpOm51bGwscj10aGlzLnRvcDtpZihudWxsIT1uKWZvcih2YXIgbz0wO288bi5sZW5ndGg7bysrKXRoaXMuYWRkUGVuZGluZ01hcmsobltvXSk7aWYodGhpcy5hZGRFbGVtZW50KHQpLG51bGwhPW4pZm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspdGhpcy5yZW1vdmVQZW5kaW5nTWFyayhuW2ldLHIpfX0sTXQucHJvdG90eXBlLmFkZFRleHROb2RlPWZ1bmN0aW9uKHQpe3ZhciBlPXQubm9kZVZhbHVlLG49dGhpcy50b3A7aWYoKG4udHlwZT9uLnR5cGUuaW5saW5lQ29udGVudDpuLmNvbnRlbnQubGVuZ3RoJiZuLmNvbnRlbnRbMF0uaXNJbmxpbmUpfHwvW14gXHRcclxuXHUwMDBjXS8udGVzdChlKSl7aWYobi5vcHRpb25zJmJ0KW4ub3B0aW9ucyZ4dHx8KGU9ZS5yZXBsYWNlKC9ccj9cbnxcci9nLCIgIikpO2Vsc2UgaWYoZT1lLnJlcGxhY2UoL1sgXHRcclxuXHUwMDBjXSsvZywiICIpLC9eWyBcdFxyXG5cdTAwMGNdLy50ZXN0KGUpJiZ0aGlzLm9wZW49PXRoaXMubm9kZXMubGVuZ3RoLTEpe3ZhciByPW4uY29udGVudFtuLmNvbnRlbnQubGVuZ3RoLTFdLG89dC5wcmV2aW91c1NpYmxpbmc7KCFyfHxvJiYiQlIiPT1vLm5vZGVOYW1lfHxyLmlzVGV4dCYmL1sgXHRcclxuXHUwMDBjXSQvLnRlc3Qoci50ZXh0KSkmJihlPWUuc2xpY2UoMSkpfWUmJnRoaXMuaW5zZXJ0Tm9kZSh0aGlzLnBhcnNlci5zY2hlbWEudGV4dChlKSksdGhpcy5maW5kSW5UZXh0KHQpfWVsc2UgdGhpcy5maW5kSW5zaWRlKHQpfSxNdC5wcm90b3R5cGUuYWRkRWxlbWVudD1mdW5jdGlvbih0KXt2YXIgZT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7d3QuaGFzT3duUHJvcGVydHkoZSkmJkF0KHQpO3ZhciBuPXRoaXMub3B0aW9ucy5ydWxlRnJvbU5vZGUmJnRoaXMub3B0aW9ucy5ydWxlRnJvbU5vZGUodCl8fHRoaXMucGFyc2VyLm1hdGNoVGFnKHQsdGhpcyk7aWYobj9uLmlnbm9yZTp5dC5oYXNPd25Qcm9wZXJ0eShlKSl0aGlzLmZpbmRJbnNpZGUodCk7ZWxzZSBpZighbnx8bi5za2lwKXtuJiZuLnNraXAubm9kZVR5cGUmJih0PW4uc2tpcCk7dmFyIHIsbz10aGlzLnRvcCxpPXRoaXMubmVlZHNCbG9jaztpZihndC5oYXNPd25Qcm9wZXJ0eShlKSlyPSEwLG8udHlwZXx8KHRoaXMubmVlZHNCbG9jaz0hMCk7ZWxzZSBpZighdC5maXJzdENoaWxkKXJldHVybiB2b2lkIHRoaXMubGVhZkZhbGxiYWNrKHQpO3RoaXMuYWRkQWxsKHQpLHImJnRoaXMuc3luYyhvKSx0aGlzLm5lZWRzQmxvY2s9aX1lbHNlIHRoaXMuYWRkRWxlbWVudEJ5UnVsZSh0LG4pfSxNdC5wcm90b3R5cGUubGVhZkZhbGxiYWNrPWZ1bmN0aW9uKHQpeyJCUiI9PXQubm9kZU5hbWUmJnRoaXMudG9wLnR5cGUmJnRoaXMudG9wLnR5cGUuaW5saW5lQ29udGVudCYmdGhpcy5hZGRUZXh0Tm9kZSh0Lm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIlxuIikpfSxNdC5wcm90b3R5cGUucmVhZFN0eWxlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9di5ub25lLG49MDtuPHQubGVuZ3RoO24rPTIpe3ZhciByPXRoaXMucGFyc2VyLm1hdGNoU3R5bGUodFtuXSx0W24rMV0sdGhpcyk7aWYocil7aWYoci5pZ25vcmUpcmV0dXJuIG51bGw7ZT10aGlzLnBhcnNlci5zY2hlbWEubWFya3Nbci5tYXJrXS5jcmVhdGUoci5hdHRycykuYWRkVG9TZXQoZSl9fXJldHVybiBlfSxNdC5wcm90b3R5cGUuYWRkRWxlbWVudEJ5UnVsZT1mdW5jdGlvbih0LGUpe3ZhciBuLHIsbyxpLHM9dGhpcztlLm5vZGU/KHI9dGhpcy5wYXJzZXIuc2NoZW1hLm5vZGVzW2Uubm9kZV0sci5pc0xlYWY/dGhpcy5pbnNlcnROb2RlKHIuY3JlYXRlKGUuYXR0cnMpKXx8dGhpcy5sZWFmRmFsbGJhY2sodCk6bj10aGlzLmVudGVyKHIsZS5hdHRycyxlLnByZXNlcnZlV2hpdGVzcGFjZSkpOihvPXRoaXMucGFyc2VyLnNjaGVtYS5tYXJrc1tlLm1hcmtdLGk9by5jcmVhdGUoZS5hdHRycyksdGhpcy5hZGRQZW5kaW5nTWFyayhpKSk7dmFyIGE9dGhpcy50b3A7aWYociYmci5pc0xlYWYpdGhpcy5maW5kSW5zaWRlKHQpO2Vsc2UgaWYoZS5nZXRDb250ZW50KXRoaXMuZmluZEluc2lkZSh0KSxlLmdldENvbnRlbnQodCx0aGlzLnBhcnNlci5zY2hlbWEpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBzLmluc2VydE5vZGUodCl9KSk7ZWxzZXt2YXIgYz1lLmNvbnRlbnRFbGVtZW50OyJzdHJpbmciPT10eXBlb2YgYz9jPXQucXVlcnlTZWxlY3RvcihjKToiZnVuY3Rpb24iPT10eXBlb2YgYyYmKGM9Yyh0KSksY3x8KGM9dCksdGhpcy5maW5kQXJvdW5kKHQsYywhMCksdGhpcy5hZGRBbGwoYyxuKX1uJiYodGhpcy5zeW5jKGEpLHRoaXMub3Blbi0tKSxpJiZ0aGlzLnJlbW92ZVBlbmRpbmdNYXJrKGksYSl9LE10LnByb3RvdHlwZS5hZGRBbGw9ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBvPW58fDAsaT1uP3QuY2hpbGROb2Rlc1tuXTp0LmZpcnN0Q2hpbGQscz1udWxsPT1yP251bGw6dC5jaGlsZE5vZGVzW3JdO2khPXM7aT1pLm5leHRTaWJsaW5nLCsrbyl0aGlzLmZpbmRBdFBvaW50KHQsbyksdGhpcy5hZGRET00oaSksZSYmZ3QuaGFzT3duUHJvcGVydHkoaS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSYmdGhpcy5zeW5jKGUpO3RoaXMuZmluZEF0UG9pbnQodCxvKX0sTXQucHJvdG90eXBlLmZpbmRQbGFjZT1mdW5jdGlvbih0KXtmb3IodmFyIGUsbixyPXRoaXMub3BlbjtyPj0wO3ItLSl7dmFyIG89dGhpcy5ub2Rlc1tyXSxpPW8uZmluZFdyYXBwaW5nKHQpO2lmKGkmJighZXx8ZS5sZW5ndGg+aS5sZW5ndGgpJiYoZT1pLG49bywhaS5sZW5ndGgpKWJyZWFrO2lmKG8uc29saWQpYnJlYWt9aWYoIWUpcmV0dXJuITE7dGhpcy5zeW5jKG4pO2Zvcih2YXIgcz0wO3M8ZS5sZW5ndGg7cysrKXRoaXMuZW50ZXJJbm5lcihlW3NdLG51bGwsITEpO3JldHVybiEwfSxNdC5wcm90b3R5cGUuaW5zZXJ0Tm9kZT1mdW5jdGlvbih0KXtpZih0LmlzSW5saW5lJiZ0aGlzLm5lZWRzQmxvY2smJiF0aGlzLnRvcC50eXBlKXt2YXIgZT10aGlzLnRleHRibG9ja0Zyb21Db250ZXh0KCk7ZSYmdGhpcy5lbnRlcklubmVyKGUpfWlmKHRoaXMuZmluZFBsYWNlKHQpKXt0aGlzLmNsb3NlRXh0cmEoKTt2YXIgbj10aGlzLnRvcDtuLmFwcGx5UGVuZGluZyh0LnR5cGUpLG4ubWF0Y2gmJihuLm1hdGNoPW4ubWF0Y2gubWF0Y2hUeXBlKHQudHlwZSkpO2Zvcih2YXIgcj1uLmFjdGl2ZU1hcmtzLG89MDtvPHQubWFya3MubGVuZ3RoO28rKyluLnR5cGUmJiFuLnR5cGUuYWxsb3dzTWFya1R5cGUodC5tYXJrc1tvXS50eXBlKXx8KHI9dC5tYXJrc1tvXS5hZGRUb1NldChyKSk7cmV0dXJuIG4uY29udGVudC5wdXNoKHQubWFyayhyKSksITB9cmV0dXJuITF9LE10LnByb3RvdHlwZS5lbnRlcj1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5maW5kUGxhY2UodC5jcmVhdGUoZSkpO3JldHVybiByJiZ0aGlzLmVudGVySW5uZXIodCxlLCEwLG4pLHJ9LE10LnByb3RvdHlwZS5lbnRlcklubmVyPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMuY2xvc2VFeHRyYSgpO3ZhciBvPXRoaXMudG9wO28uYXBwbHlQZW5kaW5nKHQpLG8ubWF0Y2g9by5tYXRjaCYmby5tYXRjaC5tYXRjaFR5cGUodCxlKTt2YXIgaT1udWxsPT1yP28ub3B0aW9ucyZ+a3Q6U3Qocik7by5vcHRpb25zJmt0JiYwPT1vLmNvbnRlbnQubGVuZ3RoJiYoaXw9a3QpLHRoaXMubm9kZXMucHVzaChuZXcgQ3QodCxlLG8uYWN0aXZlTWFya3Msby5wZW5kaW5nTWFya3MsbixudWxsLGkpKSx0aGlzLm9wZW4rK30sTXQucHJvdG90eXBlLmNsb3NlRXh0cmE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ub2Rlcy5sZW5ndGgtMTtpZihlPnRoaXMub3Blbil7Zm9yKDtlPnRoaXMub3BlbjtlLS0pdGhpcy5ub2Rlc1tlLTFdLmNvbnRlbnQucHVzaCh0aGlzLm5vZGVzW2VdLmZpbmlzaCh0KSk7dGhpcy5ub2Rlcy5sZW5ndGg9dGhpcy5vcGVuKzF9fSxNdC5wcm90b3R5cGUuZmluaXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3Blbj0wLHRoaXMuY2xvc2VFeHRyYSh0aGlzLmlzT3BlbiksdGhpcy5ub2Rlc1swXS5maW5pc2godGhpcy5pc09wZW58fHRoaXMub3B0aW9ucy50b3BPcGVuKX0sTXQucHJvdG90eXBlLnN5bmM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMub3BlbjtlPj0wO2UtLSlpZih0aGlzLm5vZGVzW2VdPT10KXJldHVybiB2b2lkKHRoaXMub3Blbj1lKX0sT3QuY3VycmVudFBvcy5nZXQ9ZnVuY3Rpb24oKXt0aGlzLmNsb3NlRXh0cmEoKTtmb3IodmFyIHQ9MCxlPXRoaXMub3BlbjtlPj0wO2UtLSl7Zm9yKHZhciBuPXRoaXMubm9kZXNbZV0uY29udGVudCxyPW4ubGVuZ3RoLTE7cj49MDtyLS0pdCs9bltyXS5ub2RlU2l6ZTtlJiZ0Kyt9cmV0dXJuIHR9LE10LnByb3RvdHlwZS5maW5kQXRQb2ludD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuZmluZClmb3IodmFyIG49MDtuPHRoaXMuZmluZC5sZW5ndGg7bisrKXRoaXMuZmluZFtuXS5ub2RlPT10JiZ0aGlzLmZpbmRbbl0ub2Zmc2V0PT1lJiYodGhpcy5maW5kW25dLnBvcz10aGlzLmN1cnJlbnRQb3MpfSxNdC5wcm90b3R5cGUuZmluZEluc2lkZT1mdW5jdGlvbih0KXtpZih0aGlzLmZpbmQpZm9yKHZhciBlPTA7ZTx0aGlzLmZpbmQubGVuZ3RoO2UrKyludWxsPT10aGlzLmZpbmRbZV0ucG9zJiYxPT10Lm5vZGVUeXBlJiZ0LmNvbnRhaW5zKHRoaXMuZmluZFtlXS5ub2RlKSYmKHRoaXMuZmluZFtlXS5wb3M9dGhpcy5jdXJyZW50UG9zKX0sTXQucHJvdG90eXBlLmZpbmRBcm91bmQ9ZnVuY3Rpb24odCxlLG4pe2lmKHQhPWUmJnRoaXMuZmluZClmb3IodmFyIHI9MDtyPHRoaXMuZmluZC5sZW5ndGg7cisrKWlmKG51bGw9PXRoaXMuZmluZFtyXS5wb3MmJjE9PXQubm9kZVR5cGUmJnQuY29udGFpbnModGhpcy5maW5kW3JdLm5vZGUpKXt2YXIgbz1lLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHRoaXMuZmluZFtyXS5ub2RlKTtvJihuPzI6NCkmJih0aGlzLmZpbmRbcl0ucG9zPXRoaXMuY3VycmVudFBvcyl9fSxNdC5wcm90b3R5cGUuZmluZEluVGV4dD1mdW5jdGlvbih0KXtpZih0aGlzLmZpbmQpZm9yKHZhciBlPTA7ZTx0aGlzLmZpbmQubGVuZ3RoO2UrKyl0aGlzLmZpbmRbZV0ubm9kZT09dCYmKHRoaXMuZmluZFtlXS5wb3M9dGhpcy5jdXJyZW50UG9zLSh0Lm5vZGVWYWx1ZS5sZW5ndGgtdGhpcy5maW5kW2VdLm9mZnNldCkpfSxNdC5wcm90b3R5cGUubWF0Y2hlc0NvbnRleHQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0LmluZGV4T2YoInwiKT4tMSlyZXR1cm4gdC5zcGxpdCgvXHMqXHxccyovKS5zb21lKHRoaXMubWF0Y2hlc0NvbnRleHQsdGhpcyk7dmFyIG49dC5zcGxpdCgiLyIpLHI9dGhpcy5vcHRpb25zLmNvbnRleHQsbz0hdGhpcy5pc09wZW4mJighcnx8ci5wYXJlbnQudHlwZT09dGhpcy5ub2Rlc1swXS50eXBlKSxpPS0ocj9yLmRlcHRoKzE6MCkrKG8/MDoxKSxzPWZ1bmN0aW9uKHQsYSl7Zm9yKDt0Pj0wO3QtLSl7dmFyIGM9blt0XTtpZigiIj09Yyl7aWYodD09bi5sZW5ndGgtMXx8MD09dCljb250aW51ZTtmb3IoO2E+PWk7YS0tKWlmKHModC0xLGEpKXJldHVybiEwO3JldHVybiExfXZhciBsPWE+MHx8MD09YSYmbz9lLm5vZGVzW2FdLnR5cGU6ciYmYT49aT9yLm5vZGUoYS1pKS50eXBlOm51bGw7aWYoIWx8fGwubmFtZSE9YyYmLTE9PWwuZ3JvdXBzLmluZGV4T2YoYykpcmV0dXJuITE7YS0tfXJldHVybiEwfTtyZXR1cm4gcyhuLmxlbmd0aC0xLHRoaXMub3Blbil9LE10LnByb3RvdHlwZS50ZXh0YmxvY2tGcm9tQ29udGV4dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5jb250ZXh0O2lmKHQpZm9yKHZhciBlPXQuZGVwdGg7ZT49MDtlLS0pe3ZhciBuPXQubm9kZShlKS5jb250ZW50TWF0Y2hBdCh0LmluZGV4QWZ0ZXIoZSkpLmRlZmF1bHRUeXBlO2lmKG4mJm4uaXNUZXh0YmxvY2smJm4uZGVmYXVsdEF0dHJzKXJldHVybiBufWZvcih2YXIgciBpbiB0aGlzLnBhcnNlci5zY2hlbWEubm9kZXMpe3ZhciBvPXRoaXMucGFyc2VyLnNjaGVtYS5ub2Rlc1tyXTtpZihvLmlzVGV4dGJsb2NrJiZvLmRlZmF1bHRBdHRycylyZXR1cm4gb319LE10LnByb3RvdHlwZS5hZGRQZW5kaW5nTWFyaz1mdW5jdGlvbih0KXt0aGlzLnRvcC5wZW5kaW5nTWFya3M9dC5hZGRUb1NldCh0aGlzLnRvcC5wZW5kaW5nTWFya3MpfSxNdC5wcm90b3R5cGUucmVtb3ZlUGVuZGluZ01hcms9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5vcGVuO24+PTA7bi0tKXt2YXIgcj10aGlzLm5vZGVzW25dLG89ci5wZW5kaW5nTWFya3MubGFzdEluZGV4T2YodCk7aWYobz4tMT9yLnBlbmRpbmdNYXJrcz10LnJlbW92ZUZyb21TZXQoci5wZW5kaW5nTWFya3MpOnIuYWN0aXZlTWFya3M9dC5yZW1vdmVGcm9tU2V0KHIuYWN0aXZlTWFya3MpLHI9PWUpYnJlYWt9fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhNdC5wcm90b3R5cGUsT3QpO3ZhciBfdD1mdW5jdGlvbih0LGUpe3RoaXMubm9kZXM9dHx8e30sdGhpcy5tYXJrcz1lfHx7fX07ZnVuY3Rpb24gUnQodCl7dmFyIGU9e307Zm9yKHZhciBuIGluIHQpe3ZhciByPXRbbl0uc3BlYy50b0RPTTtyJiYoZVtuXT1yKX1yZXR1cm4gZX1mdW5jdGlvbiB6dCh0KXtyZXR1cm4gdC5kb2N1bWVudHx8d2luZG93LmRvY3VtZW50fV90LnByb3RvdHlwZS5zZXJpYWxpemVGcmFnbWVudD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpczt2b2lkIDA9PT1lJiYoZT17fSksbnx8KG49enQoZSkuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTt2YXIgbz1uLGk9bnVsbDtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXtpZihpfHx0Lm1hcmtzLmxlbmd0aCl7aXx8KGk9W10pO3ZhciBuPTAscz0wO3doaWxlKG48aS5sZW5ndGgmJnM8dC5tYXJrcy5sZW5ndGgpe3ZhciBhPXQubWFya3Nbc107aWYoci5tYXJrc1thLnR5cGUubmFtZV0pe2lmKCFhLmVxKGlbbl0pfHwhMT09PWEudHlwZS5zcGVjLnNwYW5uaW5nKWJyZWFrO24rPTIscysrfWVsc2UgcysrfXdoaWxlKG48aS5sZW5ndGgpbz1pLnBvcCgpLGkucG9wKCk7d2hpbGUoczx0Lm1hcmtzLmxlbmd0aCl7dmFyIGM9dC5tYXJrc1tzKytdLGw9ci5zZXJpYWxpemVNYXJrKGMsdC5pc0lubGluZSxlKTtsJiYoaS5wdXNoKGMsbyksby5hcHBlbmRDaGlsZChsLmRvbSksbz1sLmNvbnRlbnRET018fGwuZG9tKX19by5hcHBlbmRDaGlsZChyLnNlcmlhbGl6ZU5vZGUodCxlKSl9KSksbn0sX3QucHJvdG90eXBlLnNlcmlhbGl6ZU5vZGU9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIG49X3QucmVuZGVyU3BlYyh6dChlKSx0aGlzLm5vZGVzW3QudHlwZS5uYW1lXSh0KSkscj1uLmRvbSxvPW4uY29udGVudERPTTtpZihvKXtpZih0LmlzTGVhZil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQ29udGVudCBob2xlIG5vdCBhbGxvd2VkIGluIGEgbGVhZiBub2RlIHNwZWMiKTtlLm9uQ29udGVudD9lLm9uQ29udGVudCh0LG8sZSk6dGhpcy5zZXJpYWxpemVGcmFnbWVudCh0LmNvbnRlbnQsZSxvKX1yZXR1cm4gcn0sX3QucHJvdG90eXBlLnNlcmlhbGl6ZU5vZGVBbmRNYXJrcz1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTtmb3IodmFyIG49dGhpcy5zZXJpYWxpemVOb2RlKHQsZSkscj10Lm1hcmtzLmxlbmd0aC0xO3I+PTA7ci0tKXt2YXIgbz10aGlzLnNlcmlhbGl6ZU1hcmsodC5tYXJrc1tyXSx0LmlzSW5saW5lLGUpO28mJigoby5jb250ZW50RE9NfHxvLmRvbSkuYXBwZW5kQ2hpbGQobiksbj1vLmRvbSl9cmV0dXJuIG59LF90LnByb3RvdHlwZS5zZXJpYWxpemVNYXJrPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj17fSk7dmFyIHI9dGhpcy5tYXJrc1t0LnR5cGUubmFtZV07cmV0dXJuIHImJl90LnJlbmRlclNwZWMoenQobikscih0LGUpKX0sX3QucmVuZGVyU3BlYz1mdW5jdGlvbih0LGUsbil7aWYodm9pZCAwPT09biYmKG49bnVsbCksInN0cmluZyI9PXR5cGVvZiBlKXJldHVybntkb206dC5jcmVhdGVUZXh0Tm9kZShlKX07aWYobnVsbCE9ZS5ub2RlVHlwZSlyZXR1cm57ZG9tOmV9O3ZhciByPWVbMF0sbz1yLmluZGV4T2YoIiAiKTtvPjAmJihuPXIuc2xpY2UoMCxvKSxyPXIuc2xpY2UobysxKSk7dmFyIGk9bnVsbCxzPW4/dC5jcmVhdGVFbGVtZW50TlMobixyKTp0LmNyZWF0ZUVsZW1lbnQociksYT1lWzFdLGM9MTtpZihhJiYib2JqZWN0Ij09dHlwZW9mIGEmJm51bGw9PWEubm9kZVR5cGUmJiFBcnJheS5pc0FycmF5KGEpKWZvcih2YXIgbCBpbiBjPTIsYSlpZihudWxsIT1hW2xdKXt2YXIgdT1sLmluZGV4T2YoIiAiKTt1PjA/cy5zZXRBdHRyaWJ1dGVOUyhsLnNsaWNlKDAsdSksbC5zbGljZSh1KzEpLGFbbF0pOnMuc2V0QXR0cmlidXRlKGwsYVtsXSl9Zm9yKHZhciBwPWM7cDxlLmxlbmd0aDtwKyspe3ZhciBoPWVbcF07aWYoMD09PWgpe2lmKHA8ZS5sZW5ndGgtMXx8cD5jKXRocm93IG5ldyBSYW5nZUVycm9yKCJDb250ZW50IGhvbGUgbXVzdCBiZSB0aGUgb25seSBjaGlsZCBvZiBpdHMgcGFyZW50IG5vZGUiKTtyZXR1cm57ZG9tOnMsY29udGVudERPTTpzfX12YXIgZj1fdC5yZW5kZXJTcGVjKHQsaCxuKSxkPWYuZG9tLG09Zi5jb250ZW50RE9NO2lmKHMuYXBwZW5kQ2hpbGQoZCksbSl7aWYoaSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiTXVsdGlwbGUgY29udGVudCBob2xlcyIpO2k9bX19cmV0dXJue2RvbTpzLGNvbnRlbnRET006aX19LF90LmZyb21TY2hlbWE9ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2FjaGVkLmRvbVNlcmlhbGl6ZXJ8fCh0LmNhY2hlZC5kb21TZXJpYWxpemVyPW5ldyBfdCh0aGlzLm5vZGVzRnJvbVNjaGVtYSh0KSx0aGlzLm1hcmtzRnJvbVNjaGVtYSh0KSkpfSxfdC5ub2Rlc0Zyb21TY2hlbWE9ZnVuY3Rpb24odCl7dmFyIGU9UnQodC5ub2Rlcyk7cmV0dXJuIGUudGV4dHx8KGUudGV4dD1mdW5jdGlvbih0KXtyZXR1cm4gdC50ZXh0fSksZX0sX3QubWFya3NGcm9tU2NoZW1hPWZ1bmN0aW9uKHQpe3JldHVybiBSdCh0Lm1hcmtzKX07dmFyIEl0PTY1NTM1LFB0PU1hdGgucG93KDIsMTYpO2Z1bmN0aW9uICR0KHQsZSl7cmV0dXJuIHQrZSpQdH1mdW5jdGlvbiBCdCh0KXtyZXR1cm4gdCZJdH1mdW5jdGlvbiBWdCh0KXtyZXR1cm4odC0odCZJdCkpL1B0fXZhciBqdD1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9ITEpLHZvaWQgMD09PW4mJihuPW51bGwpLHRoaXMucG9zPXQsdGhpcy5kZWxldGVkPWUsdGhpcy5yZWNvdmVyPW59LEx0PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMucmFuZ2VzPXQsdGhpcy5pbnZlcnRlZD1lfTtMdC5wcm90b3R5cGUucmVjb3Zlcj1mdW5jdGlvbih0KXt2YXIgZT0wLG49QnQodCk7aWYoIXRoaXMuaW52ZXJ0ZWQpZm9yKHZhciByPTA7cjxuO3IrKyllKz10aGlzLnJhbmdlc1szKnIrMl0tdGhpcy5yYW5nZXNbMypyKzFdO3JldHVybiB0aGlzLnJhbmdlc1szKm5dK2UrVnQodCl9LEx0LnByb3RvdHlwZS5tYXBSZXN1bHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MSksdGhpcy5fbWFwKHQsZSwhMSl9LEx0LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MSksdGhpcy5fbWFwKHQsZSwhMCl9LEx0LnByb3RvdHlwZS5fbWFwPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9MCxvPXRoaXMuaW52ZXJ0ZWQ/MjoxLGk9dGhpcy5pbnZlcnRlZD8xOjIscz0wO3M8dGhpcy5yYW5nZXMubGVuZ3RoO3MrPTMpe3ZhciBhPXRoaXMucmFuZ2VzW3NdLSh0aGlzLmludmVydGVkP3I6MCk7aWYoYT50KWJyZWFrO3ZhciBjPXRoaXMucmFuZ2VzW3Mrb10sbD10aGlzLnJhbmdlc1tzK2ldLHU9YStjO2lmKHQ8PXUpe3ZhciBwPWM/dD09YT8tMTp0PT11PzE6ZTplLGg9YStyKyhwPDA/MDpsKTtpZihuKXJldHVybiBoO3ZhciBmPXQ9PShlPDA/YTp1KT9udWxsOiR0KHMvMyx0LWEpO3JldHVybiBuZXcganQoaCxlPDA/dCE9YTp0IT11LGYpfXIrPWwtY31yZXR1cm4gbj90K3I6bmV3IGp0KHQrcil9LEx0LnByb3RvdHlwZS50b3VjaGVzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAscj1CdChlKSxvPXRoaXMuaW52ZXJ0ZWQ/MjoxLGk9dGhpcy5pbnZlcnRlZD8xOjIscz0wO3M8dGhpcy5yYW5nZXMubGVuZ3RoO3MrPTMpe3ZhciBhPXRoaXMucmFuZ2VzW3NdLSh0aGlzLmludmVydGVkP246MCk7aWYoYT50KWJyZWFrO3ZhciBjPXRoaXMucmFuZ2VzW3Mrb10sbD1hK2M7aWYodDw9bCYmcz09MypyKXJldHVybiEwO24rPXRoaXMucmFuZ2VzW3MraV0tY31yZXR1cm4hMX0sTHQucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuaW52ZXJ0ZWQ/MjoxLG49dGhpcy5pbnZlcnRlZD8xOjIscj0wLG89MDtyPHRoaXMucmFuZ2VzLmxlbmd0aDtyKz0zKXt2YXIgaT10aGlzLnJhbmdlc1tyXSxzPWktKHRoaXMuaW52ZXJ0ZWQ/bzowKSxhPWkrKHRoaXMuaW52ZXJ0ZWQ/MDpvKSxjPXRoaXMucmFuZ2VzW3IrZV0sbD10aGlzLnJhbmdlc1tyK25dO3QocyxzK2MsYSxhK2wpLG8rPWwtY319LEx0LnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEx0KHRoaXMucmFuZ2VzLCF0aGlzLmludmVydGVkKX0sTHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuaW52ZXJ0ZWQ/Ii0iOiIiKStKU09OLnN0cmluZ2lmeSh0aGlzLnJhbmdlcyl9LEx0Lm9mZnNldD1mdW5jdGlvbih0KXtyZXR1cm4gMD09dD9MdC5lbXB0eTpuZXcgTHQodDwwP1swLC10LDBdOlswLDAsdF0pfSxMdC5lbXB0eT1uZXcgTHQoW10pO3ZhciBGdD1mdW5jdGlvbih0LGUsbixyKXt0aGlzLm1hcHM9dHx8W10sdGhpcy5mcm9tPW58fDAsdGhpcy50bz1udWxsPT1yP3RoaXMubWFwcy5sZW5ndGg6cix0aGlzLm1pcnJvcj1lfTtmdW5jdGlvbiBIdCh0KXt2YXIgZT1FcnJvci5jYWxsKHRoaXMsdCk7cmV0dXJuIGUuX19wcm90b19fPUh0LnByb3RvdHlwZSxlfUZ0LnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT10aGlzLm1hcHMubGVuZ3RoKSxuZXcgRnQodGhpcy5tYXBzLHRoaXMubWlycm9yLHQsZSl9LEZ0LnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBGdCh0aGlzLm1hcHMuc2xpY2UoKSx0aGlzLm1pcnJvciYmdGhpcy5taXJyb3Iuc2xpY2UoKSx0aGlzLmZyb20sdGhpcy50byl9LEZ0LnByb3RvdHlwZS5hcHBlbmRNYXA9ZnVuY3Rpb24odCxlKXt0aGlzLnRvPXRoaXMubWFwcy5wdXNoKHQpLG51bGwhPWUmJnRoaXMuc2V0TWlycm9yKHRoaXMubWFwcy5sZW5ndGgtMSxlKX0sRnQucHJvdG90eXBlLmFwcGVuZE1hcHBpbmc9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLm1hcHMubGVuZ3RoO2U8dC5tYXBzLmxlbmd0aDtlKyspe3ZhciByPXQuZ2V0TWlycm9yKGUpO3RoaXMuYXBwZW5kTWFwKHQubWFwc1tlXSxudWxsIT1yJiZyPGU/bityOm51bGwpfX0sRnQucHJvdG90eXBlLmdldE1pcnJvcj1mdW5jdGlvbih0KXtpZih0aGlzLm1pcnJvcilmb3IodmFyIGU9MDtlPHRoaXMubWlycm9yLmxlbmd0aDtlKyspaWYodGhpcy5taXJyb3JbZV09PXQpcmV0dXJuIHRoaXMubWlycm9yW2UrKGUlMj8tMToxKV19LEZ0LnByb3RvdHlwZS5zZXRNaXJyb3I9ZnVuY3Rpb24odCxlKXt0aGlzLm1pcnJvcnx8KHRoaXMubWlycm9yPVtdKSx0aGlzLm1pcnJvci5wdXNoKHQsZSl9LEZ0LnByb3RvdHlwZS5hcHBlbmRNYXBwaW5nSW52ZXJ0ZWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQubWFwcy5sZW5ndGgtMSxuPXRoaXMubWFwcy5sZW5ndGgrdC5tYXBzLmxlbmd0aDtlPj0wO2UtLSl7dmFyIHI9dC5nZXRNaXJyb3IoZSk7dGhpcy5hcHBlbmRNYXAodC5tYXBzW2VdLmludmVydCgpLG51bGwhPXImJnI+ZT9uLXItMTpudWxsKX19LEZ0LnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgRnQ7cmV0dXJuIHQuYXBwZW5kTWFwcGluZ0ludmVydGVkKHRoaXMpLHR9LEZ0LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT0xKSx0aGlzLm1pcnJvcilyZXR1cm4gdGhpcy5fbWFwKHQsZSwhMCk7Zm9yKHZhciBuPXRoaXMuZnJvbTtuPHRoaXMudG87bisrKXQ9dGhpcy5tYXBzW25dLm1hcCh0LGUpO3JldHVybiB0fSxGdC5wcm90b3R5cGUubWFwUmVzdWx0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTEpLHRoaXMuX21hcCh0LGUsITEpfSxGdC5wcm90b3R5cGUuX21hcD1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPSExLG89dGhpcy5mcm9tO288dGhpcy50bztvKyspe3ZhciBpPXRoaXMubWFwc1tvXSxzPWkubWFwUmVzdWx0KHQsZSk7aWYobnVsbCE9cy5yZWNvdmVyKXt2YXIgYT10aGlzLmdldE1pcnJvcihvKTtpZihudWxsIT1hJiZhPm8mJmE8dGhpcy50byl7bz1hLHQ9dGhpcy5tYXBzW2FdLnJlY292ZXIocy5yZWNvdmVyKTtjb250aW51ZX19cy5kZWxldGVkJiYocj0hMCksdD1zLnBvc31yZXR1cm4gbj90Om5ldyBqdCh0LHIpfSxIdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLEh0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1IdCxIdC5wcm90b3R5cGUubmFtZT0iVHJhbnNmb3JtRXJyb3IiO3ZhciBKdD1mdW5jdGlvbih0KXt0aGlzLmRvYz10LHRoaXMuc3RlcHM9W10sdGhpcy5kb2NzPVtdLHRoaXMubWFwcGluZz1uZXcgRnR9LFd0PXtiZWZvcmU6e2NvbmZpZ3VyYWJsZTohMH0sZG9jQ2hhbmdlZDp7Y29uZmlndXJhYmxlOiEwfX07ZnVuY3Rpb24gcXQoKXt0aHJvdyBuZXcgRXJyb3IoIk92ZXJyaWRlIG1lIil9V3QuYmVmb3JlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvY3MubGVuZ3RoP3RoaXMuZG9jc1swXTp0aGlzLmRvY30sSnQucHJvdG90eXBlLnN0ZXA9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5tYXliZVN0ZXAodCk7aWYoZS5mYWlsZWQpdGhyb3cgbmV3IEh0KGUuZmFpbGVkKTtyZXR1cm4gdGhpc30sSnQucHJvdG90eXBlLm1heWJlU3RlcD1mdW5jdGlvbih0KXt2YXIgZT10LmFwcGx5KHRoaXMuZG9jKTtyZXR1cm4gZS5mYWlsZWR8fHRoaXMuYWRkU3RlcCh0LGUuZG9jKSxlfSxXdC5kb2NDaGFuZ2VkLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0ZXBzLmxlbmd0aD4wfSxKdC5wcm90b3R5cGUuYWRkU3RlcD1mdW5jdGlvbih0LGUpe3RoaXMuZG9jcy5wdXNoKHRoaXMuZG9jKSx0aGlzLnN0ZXBzLnB1c2godCksdGhpcy5tYXBwaW5nLmFwcGVuZE1hcCh0LmdldE1hcCgpKSx0aGlzLmRvYz1lfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhKdC5wcm90b3R5cGUsV3QpO3ZhciBLdD1PYmplY3QuY3JlYXRlKG51bGwpLFV0PWZ1bmN0aW9uKCl7fTtVdC5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7cmV0dXJuIHF0KCl9LFV0LnByb3RvdHlwZS5nZXRNYXA9ZnVuY3Rpb24oKXtyZXR1cm4gTHQuZW1wdHl9LFV0LnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHF0KCl9LFV0LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7cmV0dXJuIHF0KCl9LFV0LnByb3RvdHlwZS5tZXJnZT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbH0sVXQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiBxdCgpfSxVdC5mcm9tSlNPTj1mdW5jdGlvbih0LGUpe2lmKCFlfHwhZS5zdGVwVHlwZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgU3RlcC5mcm9tSlNPTiIpO3ZhciBuPUt0W2Uuc3RlcFR5cGVdO2lmKCFuKXRocm93IG5ldyBSYW5nZUVycm9yKCJObyBzdGVwIHR5cGUgIitlLnN0ZXBUeXBlKyIgZGVmaW5lZCIpO3JldHVybiBuLmZyb21KU09OKHQsZSl9LFV0Lmpzb25JRD1mdW5jdGlvbih0LGUpe2lmKHQgaW4gS3QpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkR1cGxpY2F0ZSB1c2Ugb2Ygc3RlcCBKU09OIElEICIrdCk7cmV0dXJuIEt0W3RdPWUsZS5wcm90b3R5cGUuanNvbklEPXQsZX07dmFyIEd0PWZ1bmN0aW9uKHQsZSl7dGhpcy5kb2M9dCx0aGlzLmZhaWxlZD1lfTtHdC5vaz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEd0KHQsbnVsbCl9LEd0LmZhaWw9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBHdChudWxsLHQpfSxHdC5mcm9tUmVwbGFjZT1mdW5jdGlvbih0LGUsbixyKXt0cnl7cmV0dXJuIEd0Lm9rKHQucmVwbGFjZShlLG4scikpfWNhdGNoKG8pe2lmKG8gaW5zdGFuY2VvZiBnKXJldHVybiBHdC5mYWlsKG8ubWVzc2FnZSk7dGhyb3cgb319O3ZhciBYdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8pe3QuY2FsbCh0aGlzKSx0aGlzLmZyb209ZSx0aGlzLnRvPW4sdGhpcy5zbGljZT1yLHRoaXMuc3RydWN0dXJlPSEhb31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RydWN0dXJlJiZadCh0LHRoaXMuZnJvbSx0aGlzLnRvKT9HdC5mYWlsKCJTdHJ1Y3R1cmUgcmVwbGFjZSB3b3VsZCBvdmVyd3JpdGUgY29udGVudCIpOkd0LmZyb21SZXBsYWNlKHQsdGhpcy5mcm9tLHRoaXMudG8sdGhpcy5zbGljZSl9LGUucHJvdG90eXBlLmdldE1hcD1mdW5jdGlvbigpe3JldHVybiBuZXcgTHQoW3RoaXMuZnJvbSx0aGlzLnRvLXRoaXMuZnJvbSx0aGlzLnNsaWNlLnNpemVdKX0sZS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0aGlzLmZyb20sdGhpcy5mcm9tK3RoaXMuc2xpY2Uuc2l6ZSx0LnNsaWNlKHRoaXMuZnJvbSx0aGlzLnRvKSl9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXt2YXIgbj10Lm1hcFJlc3VsdCh0aGlzLmZyb20sMSkscj10Lm1hcFJlc3VsdCh0aGlzLnRvLC0xKTtyZXR1cm4gbi5kZWxldGVkJiZyLmRlbGV0ZWQ/bnVsbDpuZXcgZShuLnBvcyxNYXRoLm1heChuLnBvcyxyLnBvcyksdGhpcy5zbGljZSl9LGUucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIGUpfHx0LnN0cnVjdHVyZXx8dGhpcy5zdHJ1Y3R1cmUpcmV0dXJuIG51bGw7aWYodGhpcy5mcm9tK3RoaXMuc2xpY2Uuc2l6ZSE9dC5mcm9tfHx0aGlzLnNsaWNlLm9wZW5FbmR8fHQuc2xpY2Uub3BlblN0YXJ0KXtpZih0LnRvIT10aGlzLmZyb218fHRoaXMuc2xpY2Uub3BlblN0YXJ0fHx0LnNsaWNlLm9wZW5FbmQpcmV0dXJuIG51bGw7dmFyIG49dGhpcy5zbGljZS5zaXplK3Quc2xpY2Uuc2l6ZT09MD95LmVtcHR5Om5ldyB5KHQuc2xpY2UuY29udGVudC5hcHBlbmQodGhpcy5zbGljZS5jb250ZW50KSx0LnNsaWNlLm9wZW5TdGFydCx0aGlzLnNsaWNlLm9wZW5FbmQpO3JldHVybiBuZXcgZSh0LmZyb20sdGhpcy50byxuLHRoaXMuc3RydWN0dXJlKX12YXIgcj10aGlzLnNsaWNlLnNpemUrdC5zbGljZS5zaXplPT0wP3kuZW1wdHk6bmV3IHkodGhpcy5zbGljZS5jb250ZW50LmFwcGVuZCh0LnNsaWNlLmNvbnRlbnQpLHRoaXMuc2xpY2Uub3BlblN0YXJ0LHQuc2xpY2Uub3BlbkVuZCk7cmV0dXJuIG5ldyBlKHRoaXMuZnJvbSx0aGlzLnRvKyh0LnRvLXQuZnJvbSkscix0aGlzLnN0cnVjdHVyZSl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciB0PXtzdGVwVHlwZToicmVwbGFjZSIsZnJvbTp0aGlzLmZyb20sdG86dGhpcy50b307cmV0dXJuIHRoaXMuc2xpY2Uuc2l6ZSYmKHQuc2xpY2U9dGhpcy5zbGljZS50b0pTT04oKSksdGhpcy5zdHJ1Y3R1cmUmJih0LnN0cnVjdHVyZT0hMCksdH0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbi5mcm9tfHwibnVtYmVyIiE9dHlwZW9mIG4udG8pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIFJlcGxhY2VTdGVwLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKG4uZnJvbSxuLnRvLHkuZnJvbUpTT04odCxuLnNsaWNlKSwhIW4uc3RydWN0dXJlKX0sZX0oVXQpO1V0Lmpzb25JRCgicmVwbGFjZSIsWHQpO3ZhciBZdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8saSxzLGEpe3QuY2FsbCh0aGlzKSx0aGlzLmZyb209ZSx0aGlzLnRvPW4sdGhpcy5nYXBGcm9tPXIsdGhpcy5nYXBUbz1vLHRoaXMuc2xpY2U9aSx0aGlzLmluc2VydD1zLHRoaXMuc3RydWN0dXJlPSEhYX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7aWYodGhpcy5zdHJ1Y3R1cmUmJihadCh0LHRoaXMuZnJvbSx0aGlzLmdhcEZyb20pfHxadCh0LHRoaXMuZ2FwVG8sdGhpcy50bykpKXJldHVybiBHdC5mYWlsKCJTdHJ1Y3R1cmUgZ2FwLXJlcGxhY2Ugd291bGQgb3ZlcndyaXRlIGNvbnRlbnQiKTt2YXIgZT10LnNsaWNlKHRoaXMuZ2FwRnJvbSx0aGlzLmdhcFRvKTtpZihlLm9wZW5TdGFydHx8ZS5vcGVuRW5kKXJldHVybiBHdC5mYWlsKCJHYXAgaXMgbm90IGEgZmxhdCByYW5nZSIpO3ZhciBuPXRoaXMuc2xpY2UuaW5zZXJ0QXQodGhpcy5pbnNlcnQsZS5jb250ZW50KTtyZXR1cm4gbj9HdC5mcm9tUmVwbGFjZSh0LHRoaXMuZnJvbSx0aGlzLnRvLG4pOkd0LmZhaWwoIkNvbnRlbnQgZG9lcyBub3QgZml0IGluIGdhcCIpfSxlLnByb3RvdHlwZS5nZXRNYXA9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEx0KFt0aGlzLmZyb20sdGhpcy5nYXBGcm9tLXRoaXMuZnJvbSx0aGlzLmluc2VydCx0aGlzLmdhcFRvLHRoaXMudG8tdGhpcy5nYXBUbyx0aGlzLnNsaWNlLnNpemUtdGhpcy5pbnNlcnRdKX0sZS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuZ2FwVG8tdGhpcy5nYXBGcm9tO3JldHVybiBuZXcgZSh0aGlzLmZyb20sdGhpcy5mcm9tK3RoaXMuc2xpY2Uuc2l6ZStuLHRoaXMuZnJvbSt0aGlzLmluc2VydCx0aGlzLmZyb20rdGhpcy5pbnNlcnQrbix0LnNsaWNlKHRoaXMuZnJvbSx0aGlzLnRvKS5yZW1vdmVCZXR3ZWVuKHRoaXMuZ2FwRnJvbS10aGlzLmZyb20sdGhpcy5nYXBUby10aGlzLmZyb20pLHRoaXMuZ2FwRnJvbS10aGlzLmZyb20sdGhpcy5zdHJ1Y3R1cmUpfSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7dmFyIG49dC5tYXBSZXN1bHQodGhpcy5mcm9tLDEpLHI9dC5tYXBSZXN1bHQodGhpcy50bywtMSksbz10Lm1hcCh0aGlzLmdhcEZyb20sLTEpLGk9dC5tYXAodGhpcy5nYXBUbywxKTtyZXR1cm4gbi5kZWxldGVkJiZyLmRlbGV0ZWR8fG88bi5wb3N8fGk+ci5wb3M/bnVsbDpuZXcgZShuLnBvcyxyLnBvcyxvLGksdGhpcy5zbGljZSx0aGlzLmluc2VydCx0aGlzLnN0cnVjdHVyZSl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciB0PXtzdGVwVHlwZToicmVwbGFjZUFyb3VuZCIsZnJvbTp0aGlzLmZyb20sdG86dGhpcy50byxnYXBGcm9tOnRoaXMuZ2FwRnJvbSxnYXBUbzp0aGlzLmdhcFRvLGluc2VydDp0aGlzLmluc2VydH07cmV0dXJuIHRoaXMuc2xpY2Uuc2l6ZSYmKHQuc2xpY2U9dGhpcy5zbGljZS50b0pTT04oKSksdGhpcy5zdHJ1Y3R1cmUmJih0LnN0cnVjdHVyZT0hMCksdH0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbi5mcm9tfHwibnVtYmVyIiE9dHlwZW9mIG4udG98fCJudW1iZXIiIT10eXBlb2Ygbi5nYXBGcm9tfHwibnVtYmVyIiE9dHlwZW9mIG4uZ2FwVG98fCJudW1iZXIiIT10eXBlb2Ygbi5pbnNlcnQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIFJlcGxhY2VBcm91bmRTdGVwLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKG4uZnJvbSxuLnRvLG4uZ2FwRnJvbSxuLmdhcFRvLHkuZnJvbUpTT04odCxuLnNsaWNlKSxuLmluc2VydCwhIW4uc3RydWN0dXJlKX0sZX0oVXQpO2Z1bmN0aW9uIFp0KHQsZSxuKXt2YXIgcj10LnJlc29sdmUoZSksbz1uLWUsaT1yLmRlcHRoO3doaWxlKG8+MCYmaT4wJiZyLmluZGV4QWZ0ZXIoaSk9PXIubm9kZShpKS5jaGlsZENvdW50KWktLSxvLS07aWYobz4wKXt2YXIgcz1yLm5vZGUoaSkubWF5YmVDaGlsZChyLmluZGV4QWZ0ZXIoaSkpO3doaWxlKG8+MCl7aWYoIXN8fHMuaXNMZWFmKXJldHVybiEwO3M9cy5maXJzdENoaWxkLG8tLX19cmV0dXJuITF9ZnVuY3Rpb24gUXQodCxlLG4pe3JldHVybigwPT1lfHx0LmNhblJlcGxhY2UoZSx0LmNoaWxkQ291bnQpKSYmKG49PXQuY2hpbGRDb3VudHx8dC5jYW5SZXBsYWNlKDAsbikpfWZ1bmN0aW9uIHRlKHQpe2Zvcih2YXIgZT10LnBhcmVudCxuPWUuY29udGVudC5jdXRCeUluZGV4KHQuc3RhcnRJbmRleCx0LmVuZEluZGV4KSxyPXQuZGVwdGg7Oy0tcil7dmFyIG89dC4kZnJvbS5ub2RlKHIpLGk9dC4kZnJvbS5pbmRleChyKSxzPXQuJHRvLmluZGV4QWZ0ZXIocik7aWYocjx0LmRlcHRoJiZvLmNhblJlcGxhY2UoaSxzLG4pKXJldHVybiByO2lmKDA9PXJ8fG8udHlwZS5zcGVjLmlzb2xhdGluZ3x8IVF0KG8saSxzKSlicmVha319ZnVuY3Rpb24gZWUodCxlLG4scil7dm9pZCAwPT09ciYmKHI9dCk7dmFyIG89cmUodCxlKSxpPW8mJm9lKHIsZSk7cmV0dXJuIGk/by5tYXAobmUpLmNvbmNhdCh7dHlwZTplLGF0dHJzOm59KS5jb25jYXQoaS5tYXAobmUpKTpudWxsfWZ1bmN0aW9uIG5lKHQpe3JldHVybnt0eXBlOnQsYXR0cnM6bnVsbH19ZnVuY3Rpb24gcmUodCxlKXt2YXIgbj10LnBhcmVudCxyPXQuc3RhcnRJbmRleCxvPXQuZW5kSW5kZXgsaT1uLmNvbnRlbnRNYXRjaEF0KHIpLmZpbmRXcmFwcGluZyhlKTtpZighaSlyZXR1cm4gbnVsbDt2YXIgcz1pLmxlbmd0aD9pWzBdOmU7cmV0dXJuIG4uY2FuUmVwbGFjZVdpdGgocixvLHMpP2k6bnVsbH1mdW5jdGlvbiBvZSh0LGUpe3ZhciBuPXQucGFyZW50LHI9dC5zdGFydEluZGV4LG89dC5lbmRJbmRleCxpPW4uY2hpbGQocikscz1lLmNvbnRlbnRNYXRjaC5maW5kV3JhcHBpbmcoaS50eXBlKTtpZighcylyZXR1cm4gbnVsbDtmb3IodmFyIGE9cy5sZW5ndGg/c1tzLmxlbmd0aC0xXTplLGM9YS5jb250ZW50TWF0Y2gsbD1yO2MmJmw8bztsKyspYz1jLm1hdGNoVHlwZShuLmNoaWxkKGwpLnR5cGUpO3JldHVybiBjJiZjLnZhbGlkRW5kP3M6bnVsbH1mdW5jdGlvbiBpZSh0LGUsbil7dmFyIHI9dC5yZXNvbHZlKGUpLG89ci5pbmRleCgpO3JldHVybiByLnBhcmVudC5jYW5SZXBsYWNlV2l0aChvLG8rMSxuKX1mdW5jdGlvbiBzZSh0LGUsbixyKXt2b2lkIDA9PT1uJiYobj0xKTt2YXIgbz10LnJlc29sdmUoZSksaT1vLmRlcHRoLW4scz1yJiZyW3IubGVuZ3RoLTFdfHxvLnBhcmVudDtpZihpPDB8fG8ucGFyZW50LnR5cGUuc3BlYy5pc29sYXRpbmd8fCFvLnBhcmVudC5jYW5SZXBsYWNlKG8uaW5kZXgoKSxvLnBhcmVudC5jaGlsZENvdW50KXx8IXMudHlwZS52YWxpZENvbnRlbnQoby5wYXJlbnQuY29udGVudC5jdXRCeUluZGV4KG8uaW5kZXgoKSxvLnBhcmVudC5jaGlsZENvdW50KSkpcmV0dXJuITE7Zm9yKHZhciBhPW8uZGVwdGgtMSxjPW4tMjthPmk7YS0tLGMtLSl7dmFyIGw9by5ub2RlKGEpLHU9by5pbmRleChhKTtpZihsLnR5cGUuc3BlYy5pc29sYXRpbmcpcmV0dXJuITE7dmFyIHA9bC5jb250ZW50LmN1dEJ5SW5kZXgodSxsLmNoaWxkQ291bnQpLGg9ciYmcltjXXx8bDtpZihoIT1sJiYocD1wLnJlcGxhY2VDaGlsZCgwLGgudHlwZS5jcmVhdGUoaC5hdHRycykpKSwhbC5jYW5SZXBsYWNlKHUrMSxsLmNoaWxkQ291bnQpfHwhaC50eXBlLnZhbGlkQ29udGVudChwKSlyZXR1cm4hMX12YXIgZj1vLmluZGV4QWZ0ZXIoaSksZD1yJiZyWzBdO3JldHVybiBvLm5vZGUoaSkuY2FuUmVwbGFjZVdpdGgoZixmLGQ/ZC50eXBlOm8ubm9kZShpKzEpLnR5cGUpfWZ1bmN0aW9uIGFlKHQsZSl7dmFyIG49dC5yZXNvbHZlKGUpLHI9bi5pbmRleCgpO3JldHVybiBjZShuLm5vZGVCZWZvcmUsbi5ub2RlQWZ0ZXIpJiZuLnBhcmVudC5jYW5SZXBsYWNlKHIscisxKX1mdW5jdGlvbiBjZSh0LGUpe3JldHVybiB0JiZlJiYhdC5pc0xlYWYmJnQuY2FuQXBwZW5kKGUpfWZ1bmN0aW9uIGxlKHQsZSxuKXt2YXIgcj10LnJlc29sdmUoZSk7aWYoci5wYXJlbnQuY2FuUmVwbGFjZVdpdGgoci5pbmRleCgpLHIuaW5kZXgoKSxuKSlyZXR1cm4gZTtpZigwPT1yLnBhcmVudE9mZnNldClmb3IodmFyIG89ci5kZXB0aC0xO28+PTA7by0tKXt2YXIgaT1yLmluZGV4KG8pO2lmKHIubm9kZShvKS5jYW5SZXBsYWNlV2l0aChpLGksbikpcmV0dXJuIHIuYmVmb3JlKG8rMSk7aWYoaT4wKXJldHVybiBudWxsfWlmKHIucGFyZW50T2Zmc2V0PT1yLnBhcmVudC5jb250ZW50LnNpemUpZm9yKHZhciBzPXIuZGVwdGgtMTtzPj0wO3MtLSl7dmFyIGE9ci5pbmRleEFmdGVyKHMpO2lmKHIubm9kZShzKS5jYW5SZXBsYWNlV2l0aChhLGEsbikpcmV0dXJuIHIuYWZ0ZXIocysxKTtpZihhPHIubm9kZShzKS5jaGlsZENvdW50KXJldHVybiBudWxsfX1mdW5jdGlvbiB1ZSh0LGUsbil7dmFyIHI9dC5yZXNvbHZlKGUpO2lmKCFuLmNvbnRlbnQuc2l6ZSlyZXR1cm4gZTtmb3IodmFyIG89bi5jb250ZW50LGk9MDtpPG4ub3BlblN0YXJ0O2krKylvPW8uZmlyc3RDaGlsZC5jb250ZW50O2Zvcih2YXIgcz0xO3M8PSgwPT1uLm9wZW5TdGFydCYmbi5zaXplPzI6MSk7cysrKWZvcih2YXIgYT1yLmRlcHRoO2E+PTA7YS0tKXt2YXIgYz1hPT1yLmRlcHRoPzA6ci5wb3M8PShyLnN0YXJ0KGErMSkrci5lbmQoYSsxKSkvMj8tMToxLGw9ci5pbmRleChhKSsoYz4wPzE6MCksdT1yLm5vZGUoYSkscD0hMTtpZigxPT1zKXA9dS5jYW5SZXBsYWNlKGwsbCxvKTtlbHNle3ZhciBoPXUuY29udGVudE1hdGNoQXQobCkuZmluZFdyYXBwaW5nKG8uZmlyc3RDaGlsZC50eXBlKTtwPWgmJnUuY2FuUmVwbGFjZVdpdGgobCxsLGhbMF0pfWlmKHApcmV0dXJuIDA9PWM/ci5wb3M6YzwwP3IuYmVmb3JlKGErMSk6ci5hZnRlcihhKzEpfXJldHVybiBudWxsfWZ1bmN0aW9uIHBlKHQsZSxuKXtmb3IodmFyIHI9W10sbz0wO288dC5jaGlsZENvdW50O28rKyl7dmFyIGk9dC5jaGlsZChvKTtpLmNvbnRlbnQuc2l6ZSYmKGk9aS5jb3B5KHBlKGkuY29udGVudCxlLGkpKSksaS5pc0lubGluZSYmKGk9ZShpLG4sbykpLHIucHVzaChpKX1yZXR1cm4gcC5mcm9tQXJyYXkocil9VXQuanNvbklEKCJyZXBsYWNlQXJvdW5kIixZdCksSnQucHJvdG90eXBlLmxpZnQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC4kZnJvbSxyPXQuJHRvLG89dC5kZXB0aCxpPW4uYmVmb3JlKG8rMSkscz1yLmFmdGVyKG8rMSksYT1pLGM9cyxsPXAuZW1wdHksdT0wLGg9byxmPSExO2g+ZTtoLS0pZnx8bi5pbmRleChoKT4wPyhmPSEwLGw9cC5mcm9tKG4ubm9kZShoKS5jb3B5KGwpKSx1KyspOmEtLTtmb3IodmFyIGQ9cC5lbXB0eSxtPTAsdj1vLGc9ITE7dj5lO3YtLSlnfHxyLmFmdGVyKHYrMSk8ci5lbmQodik/KGc9ITAsZD1wLmZyb20oci5ub2RlKHYpLmNvcHkoZCkpLG0rKyk6YysrO3JldHVybiB0aGlzLnN0ZXAobmV3IFl0KGEsYyxpLHMsbmV3IHkobC5hcHBlbmQoZCksdSxtKSxsLnNpemUtdSwhMCkpfSxKdC5wcm90b3R5cGUud3JhcD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1wLmVtcHR5LHI9ZS5sZW5ndGgtMTtyPj0wO3ItLSluPXAuZnJvbShlW3JdLnR5cGUuY3JlYXRlKGVbcl0uYXR0cnMsbikpO3ZhciBvPXQuc3RhcnQsaT10LmVuZDtyZXR1cm4gdGhpcy5zdGVwKG5ldyBZdChvLGksbyxpLG5ldyB5KG4sMCwwKSxlLmxlbmd0aCwhMCkpfSxKdC5wcm90b3R5cGUuc2V0QmxvY2tUeXBlPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXRoaXM7aWYodm9pZCAwPT09ZSYmKGU9dCksIW4uaXNUZXh0YmxvY2spdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlR5cGUgZ2l2ZW4gdG8gc2V0QmxvY2tUeXBlIHNob3VsZCBiZSBhIHRleHRibG9jayIpO3ZhciBpPXRoaXMuc3RlcHMubGVuZ3RoO3JldHVybiB0aGlzLmRvYy5ub2Rlc0JldHdlZW4odCxlLChmdW5jdGlvbih0LGUpe2lmKHQuaXNUZXh0YmxvY2smJiF0Lmhhc01hcmt1cChuLHIpJiZpZShvLmRvYyxvLm1hcHBpbmcuc2xpY2UoaSkubWFwKGUpLG4pKXtvLmNsZWFySW5jb21wYXRpYmxlKG8ubWFwcGluZy5zbGljZShpKS5tYXAoZSwxKSxuKTt2YXIgcz1vLm1hcHBpbmcuc2xpY2UoaSksYT1zLm1hcChlLDEpLGM9cy5tYXAoZSt0Lm5vZGVTaXplLDEpO3JldHVybiBvLnN0ZXAobmV3IFl0KGEsYyxhKzEsYy0xLG5ldyB5KHAuZnJvbShuLmNyZWF0ZShyLG51bGwsdC5tYXJrcykpLDAsMCksMSwhMCkpLCExfX0pKSx0aGlzfSxKdC5wcm90b3R5cGUuc2V0Tm9kZU1hcmt1cD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10aGlzLmRvYy5ub2RlQXQodCk7aWYoIW8pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vIG5vZGUgYXQgZ2l2ZW4gcG9zaXRpb24iKTtlfHwoZT1vLnR5cGUpO3ZhciBpPWUuY3JlYXRlKG4sbnVsbCxyfHxvLm1hcmtzKTtpZihvLmlzTGVhZilyZXR1cm4gdGhpcy5yZXBsYWNlV2l0aCh0LHQrby5ub2RlU2l6ZSxpKTtpZighZS52YWxpZENvbnRlbnQoby5jb250ZW50KSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBjb250ZW50IGZvciBub2RlIHR5cGUgIitlLm5hbWUpO3JldHVybiB0aGlzLnN0ZXAobmV3IFl0KHQsdCtvLm5vZGVTaXplLHQrMSx0K28ubm9kZVNpemUtMSxuZXcgeShwLmZyb20oaSksMCwwKSwxLCEwKSl9LEp0LnByb3RvdHlwZS5zcGxpdD1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9MSk7Zm9yKHZhciByPXRoaXMuZG9jLnJlc29sdmUodCksbz1wLmVtcHR5LGk9cC5lbXB0eSxzPXIuZGVwdGgsYT1yLmRlcHRoLWUsYz1lLTE7cz5hO3MtLSxjLS0pe289cC5mcm9tKHIubm9kZShzKS5jb3B5KG8pKTt2YXIgbD1uJiZuW2NdO2k9cC5mcm9tKGw/bC50eXBlLmNyZWF0ZShsLmF0dHJzLGkpOnIubm9kZShzKS5jb3B5KGkpKX1yZXR1cm4gdGhpcy5zdGVwKG5ldyBYdCh0LHQsbmV3IHkoby5hcHBlbmQoaSksZSxlKSwhMCkpfSxKdC5wcm90b3R5cGUuam9pbj1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPTEpO3ZhciBuPW5ldyBYdCh0LWUsdCtlLHkuZW1wdHksITApO3JldHVybiB0aGlzLnN0ZXAobil9O3ZhciBoZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyKXt0LmNhbGwodGhpcyksdGhpcy5mcm9tPWUsdGhpcy50bz1uLHRoaXMubWFyaz1yfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5zbGljZSh0aGlzLmZyb20sdGhpcy50bykscj10LnJlc29sdmUodGhpcy5mcm9tKSxvPXIubm9kZShyLnNoYXJlZERlcHRoKHRoaXMudG8pKSxpPW5ldyB5KHBlKG4uY29udGVudCwoZnVuY3Rpb24odCxuKXtyZXR1cm4gdC5pc0F0b20mJm4udHlwZS5hbGxvd3NNYXJrVHlwZShlLm1hcmsudHlwZSk/dC5tYXJrKGUubWFyay5hZGRUb1NldCh0Lm1hcmtzKSk6dH0pLG8pLG4ub3BlblN0YXJ0LG4ub3BlbkVuZCk7cmV0dXJuIEd0LmZyb21SZXBsYWNlKHQsdGhpcy5mcm9tLHRoaXMudG8saSl9LGUucHJvdG90eXBlLmludmVydD1mdW5jdGlvbigpe3JldHVybiBuZXcgZmUodGhpcy5mcm9tLHRoaXMudG8sdGhpcy5tYXJrKX0sZS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe3ZhciBuPXQubWFwUmVzdWx0KHRoaXMuZnJvbSwxKSxyPXQubWFwUmVzdWx0KHRoaXMudG8sLTEpO3JldHVybiBuLmRlbGV0ZWQmJnIuZGVsZXRlZHx8bi5wb3M+PXIucG9zP251bGw6bmV3IGUobi5wb3Msci5wb3MsdGhpcy5tYXJrKX0sZS5wcm90b3R5cGUubWVyZ2U9ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIGUmJnQubWFyay5lcSh0aGlzLm1hcmspJiZ0aGlzLmZyb208PXQudG8mJnRoaXMudG8+PXQuZnJvbSlyZXR1cm4gbmV3IGUoTWF0aC5taW4odGhpcy5mcm9tLHQuZnJvbSksTWF0aC5tYXgodGhpcy50byx0LnRvKSx0aGlzLm1hcmspfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57c3RlcFR5cGU6ImFkZE1hcmsiLG1hcms6dGhpcy5tYXJrLnRvSlNPTigpLGZyb206dGhpcy5mcm9tLHRvOnRoaXMudG99fSxlLmZyb21KU09OPWZ1bmN0aW9uKHQsbil7aWYoIm51bWJlciIhPXR5cGVvZiBuLmZyb218fCJudW1iZXIiIT10eXBlb2Ygbi50byl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgQWRkTWFya1N0ZXAuZnJvbUpTT04iKTtyZXR1cm4gbmV3IGUobi5mcm9tLG4udG8sdC5tYXJrRnJvbUpTT04obi5tYXJrKSl9LGV9KFV0KTtVdC5qc29uSUQoImFkZE1hcmsiLGhlKTt2YXIgZmU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scil7dC5jYWxsKHRoaXMpLHRoaXMuZnJvbT1lLHRoaXMudG89bix0aGlzLm1hcms9cn1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQuc2xpY2UodGhpcy5mcm9tLHRoaXMudG8pLHI9bmV3IHkocGUobi5jb250ZW50LChmdW5jdGlvbih0KXtyZXR1cm4gdC5tYXJrKGUubWFyay5yZW1vdmVGcm9tU2V0KHQubWFya3MpKX0pKSxuLm9wZW5TdGFydCxuLm9wZW5FbmQpO3JldHVybiBHdC5mcm9tUmVwbGFjZSh0LHRoaXMuZnJvbSx0aGlzLnRvLHIpfSxlLnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGhlKHRoaXMuZnJvbSx0aGlzLnRvLHRoaXMubWFyayl9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXt2YXIgbj10Lm1hcFJlc3VsdCh0aGlzLmZyb20sMSkscj10Lm1hcFJlc3VsdCh0aGlzLnRvLC0xKTtyZXR1cm4gbi5kZWxldGVkJiZyLmRlbGV0ZWR8fG4ucG9zPj1yLnBvcz9udWxsOm5ldyBlKG4ucG9zLHIucG9zLHRoaXMubWFyayl9LGUucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBlJiZ0Lm1hcmsuZXEodGhpcy5tYXJrKSYmdGhpcy5mcm9tPD10LnRvJiZ0aGlzLnRvPj10LmZyb20pcmV0dXJuIG5ldyBlKE1hdGgubWluKHRoaXMuZnJvbSx0LmZyb20pLE1hdGgubWF4KHRoaXMudG8sdC50byksdGhpcy5tYXJrKX0sZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3N0ZXBUeXBlOiJyZW1vdmVNYXJrIixtYXJrOnRoaXMubWFyay50b0pTT04oKSxmcm9tOnRoaXMuZnJvbSx0bzp0aGlzLnRvfX0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbi5mcm9tfHwibnVtYmVyIiE9dHlwZW9mIG4udG8pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIFJlbW92ZU1hcmtTdGVwLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKG4uZnJvbSxuLnRvLHQubWFya0Zyb21KU09OKG4ubWFyaykpfSxlfShVdCk7ZnVuY3Rpb24gZGUodCxlLG4scil7aWYodm9pZCAwPT09biYmKG49ZSksdm9pZCAwPT09ciYmKHI9eS5lbXB0eSksZT09biYmIXIuc2l6ZSlyZXR1cm4gbnVsbDt2YXIgbz10LnJlc29sdmUoZSksaT10LnJlc29sdmUobik7cmV0dXJuIG1lKG8saSxyKT9uZXcgWHQoZSxuLHIpOm5ldyB2ZShvLGkscikuZml0KCl9ZnVuY3Rpb24gbWUodCxlLG4pe3JldHVybiFuLm9wZW5TdGFydCYmIW4ub3BlbkVuZCYmdC5zdGFydCgpPT1lLnN0YXJ0KCkmJnQucGFyZW50LmNhblJlcGxhY2UodC5pbmRleCgpLGUuaW5kZXgoKSxuLmNvbnRlbnQpfVV0Lmpzb25JRCgicmVtb3ZlTWFyayIsZmUpLEp0LnByb3RvdHlwZS5hZGRNYXJrPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLG89W10saT1bXSxzPW51bGwsYT1udWxsO3JldHVybiB0aGlzLmRvYy5ub2Rlc0JldHdlZW4odCxlLChmdW5jdGlvbihyLGMsbCl7aWYoci5pc0lubGluZSl7dmFyIHU9ci5tYXJrcztpZighbi5pc0luU2V0KHUpJiZsLnR5cGUuYWxsb3dzTWFya1R5cGUobi50eXBlKSl7Zm9yKHZhciBwPU1hdGgubWF4KGMsdCksaD1NYXRoLm1pbihjK3Iubm9kZVNpemUsZSksZj1uLmFkZFRvU2V0KHUpLGQ9MDtkPHUubGVuZ3RoO2QrKyl1W2RdLmlzSW5TZXQoZil8fChzJiZzLnRvPT1wJiZzLm1hcmsuZXEodVtkXSk/cy50bz1oOm8ucHVzaChzPW5ldyBmZShwLGgsdVtkXSkpKTthJiZhLnRvPT1wP2EudG89aDppLnB1c2goYT1uZXcgaGUocCxoLG4pKX19fSkpLG8uZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHIuc3RlcCh0KX0pKSxpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiByLnN0ZXAodCl9KSksdGhpc30sSnQucHJvdG90eXBlLnJlbW92ZU1hcms9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7dm9pZCAwPT09biYmKG49bnVsbCk7dmFyIG89W10saT0wO3JldHVybiB0aGlzLmRvYy5ub2Rlc0JldHdlZW4odCxlLChmdW5jdGlvbihyLHMpe2lmKHIuaXNJbmxpbmUpe2krKzt2YXIgYT1udWxsO2lmKG4gaW5zdGFuY2VvZiBmdCl7dmFyIGMsbD1yLm1hcmtzO3doaWxlKGM9bi5pc0luU2V0KGwpKShhfHwoYT1bXSkpLnB1c2goYyksbD1jLnJlbW92ZUZyb21TZXQobCl9ZWxzZSBuP24uaXNJblNldChyLm1hcmtzKSYmKGE9W25dKTphPXIubWFya3M7aWYoYSYmYS5sZW5ndGgpZm9yKHZhciB1PU1hdGgubWluKHMrci5ub2RlU2l6ZSxlKSxwPTA7cDxhLmxlbmd0aDtwKyspe2Zvcih2YXIgaD1hW3BdLGY9dm9pZCAwLGQ9MDtkPG8ubGVuZ3RoO2QrKyl7dmFyIG09b1tkXTttLnN0ZXA9PWktMSYmaC5lcShvW2RdLnN0eWxlKSYmKGY9bSl9Zj8oZi50bz11LGYuc3RlcD1pKTpvLnB1c2goe3N0eWxlOmgsZnJvbTpNYXRoLm1heChzLHQpLHRvOnUsc3RlcDppfSl9fX0pKSxvLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiByLnN0ZXAobmV3IGZlKHQuZnJvbSx0LnRvLHQuc3R5bGUpKX0pKSx0aGlzfSxKdC5wcm90b3R5cGUuY2xlYXJJbmNvbXBhdGlibGU9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPWUuY29udGVudE1hdGNoKTtmb3IodmFyIHI9dGhpcy5kb2Mubm9kZUF0KHQpLG89W10saT10KzEscz0wO3M8ci5jaGlsZENvdW50O3MrKyl7dmFyIGE9ci5jaGlsZChzKSxjPWkrYS5ub2RlU2l6ZSxsPW4ubWF0Y2hUeXBlKGEudHlwZSxhLmF0dHJzKTtpZihsKXtuPWw7Zm9yKHZhciB1PTA7dTxhLm1hcmtzLmxlbmd0aDt1KyspZS5hbGxvd3NNYXJrVHlwZShhLm1hcmtzW3VdLnR5cGUpfHx0aGlzLnN0ZXAobmV3IGZlKGksYyxhLm1hcmtzW3VdKSl9ZWxzZSBvLnB1c2gobmV3IFh0KGksYyx5LmVtcHR5KSk7aT1jfWlmKCFuLnZhbGlkRW5kKXt2YXIgaD1uLmZpbGxCZWZvcmUocC5lbXB0eSwhMCk7dGhpcy5yZXBsYWNlKGksaSxuZXcgeShoLDAsMCkpfWZvcih2YXIgZj1vLmxlbmd0aC0xO2Y+PTA7Zi0tKXRoaXMuc3RlcChvW2ZdKTtyZXR1cm4gdGhpc30sSnQucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPXQpLHZvaWQgMD09PW4mJihuPXkuZW1wdHkpO3ZhciByPWRlKHRoaXMuZG9jLHQsZSxuKTtyZXR1cm4gciYmdGhpcy5zdGVwKHIpLHRoaXN9LEp0LnByb3RvdHlwZS5yZXBsYWNlV2l0aD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMucmVwbGFjZSh0LGUsbmV3IHkocC5mcm9tKG4pLDAsMCkpfSxKdC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVwbGFjZSh0LGUseS5lbXB0eSl9LEp0LnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5yZXBsYWNlV2l0aCh0LHQsZSl9O3ZhciB2ZT1mdW5jdGlvbih0LGUsbil7dGhpcy4kdG89ZSx0aGlzLiRmcm9tPXQsdGhpcy51bnBsYWNlZD1uLHRoaXMuZnJvbnRpZXI9W107Zm9yKHZhciByPTA7cjw9dC5kZXB0aDtyKyspe3ZhciBvPXQubm9kZShyKTt0aGlzLmZyb250aWVyLnB1c2goe3R5cGU6by50eXBlLG1hdGNoOm8uY29udGVudE1hdGNoQXQodC5pbmRleEFmdGVyKHIpKX0pfXRoaXMucGxhY2VkPXAuZW1wdHk7Zm9yKHZhciBpPXQuZGVwdGg7aT4wO2ktLSl0aGlzLnBsYWNlZD1wLmZyb20odC5ub2RlKGkpLmNvcHkodGhpcy5wbGFjZWQpKX0sZ2U9e2RlcHRoOntjb25maWd1cmFibGU6ITB9fTtmdW5jdGlvbiB5ZSh0LGUsbil7cmV0dXJuIDA9PWU/dC5jdXRCeUluZGV4KG4pOnQucmVwbGFjZUNoaWxkKDAsdC5maXJzdENoaWxkLmNvcHkoeWUodC5maXJzdENoaWxkLmNvbnRlbnQsZS0xLG4pKSl9ZnVuY3Rpb24gd2UodCxlLG4pe3JldHVybiAwPT1lP3QuYXBwZW5kKG4pOnQucmVwbGFjZUNoaWxkKHQuY2hpbGRDb3VudC0xLHQubGFzdENoaWxkLmNvcHkod2UodC5sYXN0Q2hpbGQuY29udGVudCxlLTEsbikpKX1mdW5jdGlvbiBiZSh0LGUpe2Zvcih2YXIgbj0wO248ZTtuKyspdD10LmZpcnN0Q2hpbGQuY29udGVudDtyZXR1cm4gdH1mdW5jdGlvbiB4ZSh0LGUsbil7aWYoZTw9MClyZXR1cm4gdDt2YXIgcj10LmNvbnRlbnQ7cmV0dXJuIGU+MSYmKHI9ci5yZXBsYWNlQ2hpbGQoMCx4ZShyLmZpcnN0Q2hpbGQsZS0xLDE9PXIuY2hpbGRDb3VudD9uLTE6MCkpKSxlPjAmJihyPXQudHlwZS5jb250ZW50TWF0Y2guZmlsbEJlZm9yZShyKS5hcHBlbmQociksbjw9MCYmKHI9ci5hcHBlbmQodC50eXBlLmNvbnRlbnRNYXRjaC5tYXRjaEZyYWdtZW50KHIpLmZpbGxCZWZvcmUocC5lbXB0eSwhMCkpKSksdC5jb3B5KHIpfWZ1bmN0aW9uIGtlKHQsZSxuLHIsbyl7dmFyIGk9dC5ub2RlKGUpLHM9bz90LmluZGV4QWZ0ZXIoZSk6dC5pbmRleChlKTtpZihzPT1pLmNoaWxkQ291bnQmJiFuLmNvbXBhdGlibGVDb250ZW50KGkudHlwZSkpcmV0dXJuIG51bGw7dmFyIGE9ci5maWxsQmVmb3JlKGkuY29udGVudCwhMCxzKTtyZXR1cm4gYSYmIVNlKG4saS5jb250ZW50LHMpP2E6bnVsbH1mdW5jdGlvbiBTZSh0LGUsbil7Zm9yKHZhciByPW47cjxlLmNoaWxkQ291bnQ7cisrKWlmKCF0LmFsbG93c01hcmtzKGUuY2hpbGQocikubWFya3MpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIENlKHQsZSxuLHIsbyl7aWYoZTxuKXt2YXIgaT10LmZpcnN0Q2hpbGQ7dD10LnJlcGxhY2VDaGlsZCgwLGkuY29weShDZShpLmNvbnRlbnQsZSsxLG4scixpKSkpfWlmKGU+cil7dmFyIHM9by5jb250ZW50TWF0Y2hBdCgwKSxhPXMuZmlsbEJlZm9yZSh0KS5hcHBlbmQodCk7dD1hLmFwcGVuZChzLm1hdGNoRnJhZ21lbnQoYSkuZmlsbEJlZm9yZShwLmVtcHR5LCEwKSl9cmV0dXJuIHR9ZnVuY3Rpb24gTWUodCxlKXtmb3IodmFyIG49W10scj1NYXRoLm1pbih0LmRlcHRoLGUuZGVwdGgpLG89cjtvPj0wO28tLSl7dmFyIGk9dC5zdGFydChvKTtpZihpPHQucG9zLSh0LmRlcHRoLW8pfHxlLmVuZChvKT5lLnBvcysoZS5kZXB0aC1vKXx8dC5ub2RlKG8pLnR5cGUuc3BlYy5pc29sYXRpbmd8fGUubm9kZShvKS50eXBlLnNwZWMuaXNvbGF0aW5nKWJyZWFrO2k9PWUuc3RhcnQobykmJm4ucHVzaChvKX1yZXR1cm4gbn1nZS5kZXB0aC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mcm9udGllci5sZW5ndGgtMX0sdmUucHJvdG90eXBlLmZpdD1mdW5jdGlvbigpe3doaWxlKHRoaXMudW5wbGFjZWQuc2l6ZSl7dmFyIHQ9dGhpcy5maW5kRml0dGFibGUoKTt0P3RoaXMucGxhY2VOb2Rlcyh0KTp0aGlzLm9wZW5Nb3JlKCl8fHRoaXMuZHJvcE5vZGUoKX12YXIgZT10aGlzLm11c3RNb3ZlSW5saW5lKCksbj10aGlzLnBsYWNlZC5zaXplLXRoaXMuZGVwdGgtdGhpcy4kZnJvbS5kZXB0aCxyPXRoaXMuJGZyb20sbz10aGlzLmNsb3NlKGU8MD90aGlzLiR0bzpyLmRvYy5yZXNvbHZlKGUpKTtpZighbylyZXR1cm4gbnVsbDt2YXIgaT10aGlzLnBsYWNlZCxzPXIuZGVwdGgsYT1vLmRlcHRoO3doaWxlKHMmJmEmJjE9PWkuY2hpbGRDb3VudClpPWkuZmlyc3RDaGlsZC5jb250ZW50LHMtLSxhLS07dmFyIGM9bmV3IHkoaSxzLGEpO3JldHVybiBlPi0xP25ldyBZdChyLnBvcyxlLHRoaXMuJHRvLnBvcyx0aGlzLiR0by5lbmQoKSxjLG4pOmMuc2l6ZXx8ci5wb3MhPXRoaXMuJHRvLnBvcz9uZXcgWHQoci5wb3Msby5wb3MsYyk6dm9pZCAwfSx2ZS5wcm90b3R5cGUuZmluZEZpdHRhYmxlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTE7dDw9Mjt0KyspZm9yKHZhciBlPXRoaXMudW5wbGFjZWQub3BlblN0YXJ0O2U+PTA7ZS0tKXt2YXIgbj12b2lkIDAscj12b2lkIDA7ZT8ocj1iZSh0aGlzLnVucGxhY2VkLmNvbnRlbnQsZS0xKS5maXJzdENoaWxkLG49ci5jb250ZW50KTpuPXRoaXMudW5wbGFjZWQuY29udGVudDtmb3IodmFyIG89bi5maXJzdENoaWxkLGk9dGhpcy5kZXB0aDtpPj0wO2ktLSl7dmFyIHM9dGhpcy5mcm9udGllcltpXSxhPXMudHlwZSxjPXMubWF0Y2gsbD12b2lkIDAsdT12b2lkIDA7aWYoMT09dCYmKG8/Yy5tYXRjaFR5cGUoby50eXBlKXx8KHU9Yy5maWxsQmVmb3JlKHAuZnJvbShvKSwhMSkpOmEuY29tcGF0aWJsZUNvbnRlbnQoci50eXBlKSkpcmV0dXJue3NsaWNlRGVwdGg6ZSxmcm9udGllckRlcHRoOmkscGFyZW50OnIsaW5qZWN0OnV9O2lmKDI9PXQmJm8mJihsPWMuZmluZFdyYXBwaW5nKG8udHlwZSkpKXJldHVybntzbGljZURlcHRoOmUsZnJvbnRpZXJEZXB0aDppLHBhcmVudDpyLHdyYXA6bH07aWYociYmYy5tYXRjaFR5cGUoci50eXBlKSlicmVha319fSx2ZS5wcm90b3R5cGUub3Blbk1vcmU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnVucGxhY2VkLGU9dC5jb250ZW50LG49dC5vcGVuU3RhcnQscj10Lm9wZW5FbmQsbz1iZShlLG4pO3JldHVybiEoIW8uY2hpbGRDb3VudHx8by5maXJzdENoaWxkLmlzTGVhZikmJih0aGlzLnVucGxhY2VkPW5ldyB5KGUsbisxLE1hdGgubWF4KHIsby5zaXplK24+PWUuc2l6ZS1yP24rMTowKSksITApfSx2ZS5wcm90b3R5cGUuZHJvcE5vZGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnVucGxhY2VkLGU9dC5jb250ZW50LG49dC5vcGVuU3RhcnQscj10Lm9wZW5FbmQsbz1iZShlLG4pO2lmKG8uY2hpbGRDb3VudDw9MSYmbj4wKXt2YXIgaT1lLnNpemUtbjw9bitvLnNpemU7dGhpcy51bnBsYWNlZD1uZXcgeSh5ZShlLG4tMSwxKSxuLTEsaT9uLTE6cil9ZWxzZSB0aGlzLnVucGxhY2VkPW5ldyB5KHllKGUsbiwxKSxuLHIpfSx2ZS5wcm90b3R5cGUucGxhY2VOb2Rlcz1mdW5jdGlvbih0KXt2YXIgZT10LnNsaWNlRGVwdGgsbj10LmZyb250aWVyRGVwdGgscj10LnBhcmVudCxvPXQuaW5qZWN0LGk9dC53cmFwO3doaWxlKHRoaXMuZGVwdGg+bil0aGlzLmNsb3NlRnJvbnRpZXJOb2RlKCk7aWYoaSlmb3IodmFyIHM9MDtzPGkubGVuZ3RoO3MrKyl0aGlzLm9wZW5Gcm9udGllck5vZGUoaVtzXSk7dmFyIGE9dGhpcy51bnBsYWNlZCxjPXI/ci5jb250ZW50OmEuY29udGVudCxsPWEub3BlblN0YXJ0LWUsdT0wLGg9W10sZj10aGlzLmZyb250aWVyW25dLGQ9Zi5tYXRjaCxtPWYudHlwZTtpZihvKXtmb3IodmFyIHY9MDt2PG8uY2hpbGRDb3VudDt2KyspaC5wdXNoKG8uY2hpbGQodikpO2Q9ZC5tYXRjaEZyYWdtZW50KG8pfXZhciBnPWMuc2l6ZStlLShhLmNvbnRlbnQuc2l6ZS1hLm9wZW5FbmQpO3doaWxlKHU8Yy5jaGlsZENvdW50KXt2YXIgdz1jLmNoaWxkKHUpLGI9ZC5tYXRjaFR5cGUody50eXBlKTtpZighYilicmVhazt1KyssKHU+MXx8MD09bHx8dy5jb250ZW50LnNpemUpJiYoZD1iLGgucHVzaCh4ZSh3Lm1hcmsobS5hbGxvd2VkTWFya3Mody5tYXJrcykpLDE9PXU/bDowLHU9PWMuY2hpbGRDb3VudD9nOi0xKSkpfXZhciB4PXU9PWMuY2hpbGRDb3VudDt4fHwoZz0tMSksdGhpcy5wbGFjZWQ9d2UodGhpcy5wbGFjZWQsbixwLmZyb20oaCkpLHRoaXMuZnJvbnRpZXJbbl0ubWF0Y2g9ZCx4JiZnPDAmJnImJnIudHlwZT09dGhpcy5mcm9udGllclt0aGlzLmRlcHRoXS50eXBlJiZ0aGlzLmZyb250aWVyLmxlbmd0aD4xJiZ0aGlzLmNsb3NlRnJvbnRpZXJOb2RlKCk7Zm9yKHZhciBrPTAsUz1jO2s8ZztrKyspe3ZhciBDPVMubGFzdENoaWxkO3RoaXMuZnJvbnRpZXIucHVzaCh7dHlwZTpDLnR5cGUsbWF0Y2g6Qy5jb250ZW50TWF0Y2hBdChDLmNoaWxkQ291bnQpfSksUz1DLmNvbnRlbnR9dGhpcy51bnBsYWNlZD14PzA9PWU/eS5lbXB0eTpuZXcgeSh5ZShhLmNvbnRlbnQsZS0xLDEpLGUtMSxnPDA/YS5vcGVuRW5kOmUtMSk6bmV3IHkoeWUoYS5jb250ZW50LGUsdSksYS5vcGVuU3RhcnQsYS5vcGVuRW5kKX0sdmUucHJvdG90eXBlLm11c3RNb3ZlSW5saW5lPWZ1bmN0aW9uKCl7aWYoIXRoaXMuJHRvLnBhcmVudC5pc1RleHRibG9ja3x8dGhpcy4kdG8uZW5kKCk9PXRoaXMuJHRvLnBvcylyZXR1cm4tMTt2YXIgdCxlPXRoaXMuZnJvbnRpZXJbdGhpcy5kZXB0aF07aWYoIWUudHlwZS5pc1RleHRibG9ja3x8IWtlKHRoaXMuJHRvLHRoaXMuJHRvLmRlcHRoLGUudHlwZSxlLm1hdGNoLCExKXx8dGhpcy4kdG8uZGVwdGg9PXRoaXMuZGVwdGgmJih0PXRoaXMuZmluZENsb3NlTGV2ZWwodGhpcy4kdG8pKSYmdC5kZXB0aD09dGhpcy5kZXB0aClyZXR1cm4tMTt2YXIgbj10aGlzLiR0byxyPW4uZGVwdGgsbz10aGlzLiR0by5hZnRlcihyKTt3aGlsZShyPjEmJm89PXRoaXMuJHRvLmVuZCgtLXIpKSsrbztyZXR1cm4gb30sdmUucHJvdG90eXBlLmZpbmRDbG9zZUxldmVsPWZ1bmN0aW9uKHQpe3Q6Zm9yKHZhciBlPU1hdGgubWluKHRoaXMuZGVwdGgsdC5kZXB0aCk7ZT49MDtlLS0pe3ZhciBuPXRoaXMuZnJvbnRpZXJbZV0scj1uLm1hdGNoLG89bi50eXBlLGk9ZTx0LmRlcHRoJiZ0LmVuZChlKzEpPT10LnBvcysodC5kZXB0aC0oZSsxKSkscz1rZSh0LGUsbyxyLGkpO2lmKHMpe2Zvcih2YXIgYT1lLTE7YT49MDthLS0pe3ZhciBjPXRoaXMuZnJvbnRpZXJbYV0sbD1jLm1hdGNoLHU9Yy50eXBlLHA9a2UodCxhLHUsbCwhMCk7aWYoIXB8fHAuY2hpbGRDb3VudCljb250aW51ZSB0fXJldHVybntkZXB0aDplLGZpdDpzLG1vdmU6aT90LmRvYy5yZXNvbHZlKHQuYWZ0ZXIoZSsxKSk6dH19fX0sdmUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZmluZENsb3NlTGV2ZWwodCk7aWYoIWUpcmV0dXJuIG51bGw7d2hpbGUodGhpcy5kZXB0aD5lLmRlcHRoKXRoaXMuY2xvc2VGcm9udGllck5vZGUoKTtlLmZpdC5jaGlsZENvdW50JiYodGhpcy5wbGFjZWQ9d2UodGhpcy5wbGFjZWQsZS5kZXB0aCxlLmZpdCkpLHQ9ZS5tb3ZlO2Zvcih2YXIgbj1lLmRlcHRoKzE7bjw9dC5kZXB0aDtuKyspe3ZhciByPXQubm9kZShuKSxvPXIudHlwZS5jb250ZW50TWF0Y2guZmlsbEJlZm9yZShyLmNvbnRlbnQsITAsdC5pbmRleChuKSk7dGhpcy5vcGVuRnJvbnRpZXJOb2RlKHIudHlwZSxyLmF0dHJzLG8pfXJldHVybiB0fSx2ZS5wcm90b3R5cGUub3BlbkZyb250aWVyTm9kZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5mcm9udGllclt0aGlzLmRlcHRoXTtyLm1hdGNoPXIubWF0Y2gubWF0Y2hUeXBlKHQpLHRoaXMucGxhY2VkPXdlKHRoaXMucGxhY2VkLHRoaXMuZGVwdGgscC5mcm9tKHQuY3JlYXRlKGUsbikpKSx0aGlzLmZyb250aWVyLnB1c2goe3R5cGU6dCxtYXRjaDp0LmNvbnRlbnRNYXRjaH0pfSx2ZS5wcm90b3R5cGUuY2xvc2VGcm9udGllck5vZGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmZyb250aWVyLnBvcCgpLGU9dC5tYXRjaC5maWxsQmVmb3JlKHAuZW1wdHksITApO2UuY2hpbGRDb3VudCYmKHRoaXMucGxhY2VkPXdlKHRoaXMucGxhY2VkLHRoaXMuZnJvbnRpZXIubGVuZ3RoLGUpKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXModmUucHJvdG90eXBlLGdlKSxKdC5wcm90b3R5cGUucmVwbGFjZVJhbmdlPWZ1bmN0aW9uKHQsZSxuKXtpZighbi5zaXplKXJldHVybiB0aGlzLmRlbGV0ZVJhbmdlKHQsZSk7dmFyIHI9dGhpcy5kb2MucmVzb2x2ZSh0KSxvPXRoaXMuZG9jLnJlc29sdmUoZSk7aWYobWUocixvLG4pKXJldHVybiB0aGlzLnN0ZXAobmV3IFh0KHQsZSxuKSk7dmFyIGk9TWUocix0aGlzLmRvYy5yZXNvbHZlKGUpKTswPT1pW2kubGVuZ3RoLTFdJiZpLnBvcCgpO3ZhciBzPS0oci5kZXB0aCsxKTtpLnVuc2hpZnQocyk7Zm9yKHZhciBhPXIuZGVwdGgsYz1yLnBvcy0xO2E+MDthLS0sYy0tKXt2YXIgbD1yLm5vZGUoYSkudHlwZS5zcGVjO2lmKGwuZGVmaW5pbmd8fGwuaXNvbGF0aW5nKWJyZWFrO2kuaW5kZXhPZihhKT4tMT9zPWE6ci5iZWZvcmUoYSk9PWMmJmkuc3BsaWNlKDEsMCwtYSl9Zm9yKHZhciB1PWkuaW5kZXhPZihzKSxwPVtdLGg9bi5vcGVuU3RhcnQsZj1uLmNvbnRlbnQsZD0wOztkKyspe3ZhciBtPWYuZmlyc3RDaGlsZDtpZihwLnB1c2gobSksZD09bi5vcGVuU3RhcnQpYnJlYWs7Zj1tLmNvbnRlbnR9aD4wJiZwW2gtMV0udHlwZS5zcGVjLmRlZmluaW5nJiZyLm5vZGUodSkudHlwZSE9cFtoLTFdLnR5cGU/aC09MTpoPj0yJiZwW2gtMV0uaXNUZXh0YmxvY2smJnBbaC0yXS50eXBlLnNwZWMuZGVmaW5pbmcmJnIubm9kZSh1KS50eXBlIT1wW2gtMl0udHlwZSYmKGgtPTIpO2Zvcih2YXIgdj1uLm9wZW5TdGFydDt2Pj0wO3YtLSl7dmFyIGc9KHYraCsxKSUobi5vcGVuU3RhcnQrMSksdz1wW2ddO2lmKHcpZm9yKHZhciBiPTA7YjxpLmxlbmd0aDtiKyspe3ZhciB4PWlbKGIrdSklaS5sZW5ndGhdLGs9ITA7eDwwJiYoaz0hMSx4PS14KTt2YXIgUz1yLm5vZGUoeC0xKSxDPXIuaW5kZXgoeC0xKTtpZihTLmNhblJlcGxhY2VXaXRoKEMsQyx3LnR5cGUsdy5tYXJrcykpcmV0dXJuIHRoaXMucmVwbGFjZShyLmJlZm9yZSh4KSxrP28uYWZ0ZXIoeCk6ZSxuZXcgeShDZShuLmNvbnRlbnQsMCxuLm9wZW5TdGFydCxnKSxnLG4ub3BlbkVuZCkpfX1mb3IodmFyIE09dGhpcy5zdGVwcy5sZW5ndGgsTz1pLmxlbmd0aC0xO08+PTA7Ty0tKXtpZih0aGlzLnJlcGxhY2UodCxlLG4pLHRoaXMuc3RlcHMubGVuZ3RoPk0pYnJlYWs7dmFyIEE9aVtPXTtBPDB8fCh0PXIuYmVmb3JlKEEpLGU9by5hZnRlcihBKSl9cmV0dXJuIHRoaXN9LEp0LnByb3RvdHlwZS5yZXBsYWNlUmFuZ2VXaXRoPWZ1bmN0aW9uKHQsZSxuKXtpZighbi5pc0lubGluZSYmdD09ZSYmdGhpcy5kb2MucmVzb2x2ZSh0KS5wYXJlbnQuY29udGVudC5zaXplKXt2YXIgcj1sZSh0aGlzLmRvYyx0LG4udHlwZSk7bnVsbCE9ciYmKHQ9ZT1yKX1yZXR1cm4gdGhpcy5yZXBsYWNlUmFuZ2UodCxlLG5ldyB5KHAuZnJvbShuKSwwLDApKX0sSnQucHJvdG90eXBlLmRlbGV0ZVJhbmdlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuZG9jLnJlc29sdmUodCkscj10aGlzLmRvYy5yZXNvbHZlKGUpLG89TWUobixyKSxpPTA7aTxvLmxlbmd0aDtpKyspe3ZhciBzPW9baV0sYT1pPT1vLmxlbmd0aC0xO2lmKGEmJjA9PXN8fG4ubm9kZShzKS50eXBlLmNvbnRlbnRNYXRjaC52YWxpZEVuZClyZXR1cm4gdGhpcy5kZWxldGUobi5zdGFydChzKSxyLmVuZChzKSk7aWYocz4wJiYoYXx8bi5ub2RlKHMtMSkuY2FuUmVwbGFjZShuLmluZGV4KHMtMSksci5pbmRleEFmdGVyKHMtMSkpKSlyZXR1cm4gdGhpcy5kZWxldGUobi5iZWZvcmUocyksci5hZnRlcihzKSl9Zm9yKHZhciBjPTE7Yzw9bi5kZXB0aCYmYzw9ci5kZXB0aDtjKyspaWYodC1uLnN0YXJ0KGMpPT1uLmRlcHRoLWMmJmU+bi5lbmQoYykmJnIuZW5kKGMpLWUhPXIuZGVwdGgtYylyZXR1cm4gdGhpcy5kZWxldGUobi5iZWZvcmUoYyksZSk7cmV0dXJuIHRoaXMuZGVsZXRlKHQsZSl9O3ZhciBPZT1PYmplY3QuY3JlYXRlKG51bGwpLEFlPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnJhbmdlcz1ufHxbbmV3IEVlKHQubWluKGUpLHQubWF4KGUpKV0sdGhpcy4kYW5jaG9yPXQsdGhpcy4kaGVhZD1lfSxOZT17YW5jaG9yOntjb25maWd1cmFibGU6ITB9LGhlYWQ6e2NvbmZpZ3VyYWJsZTohMH0sZnJvbTp7Y29uZmlndXJhYmxlOiEwfSx0bzp7Y29uZmlndXJhYmxlOiEwfSwkZnJvbTp7Y29uZmlndXJhYmxlOiEwfSwkdG86e2NvbmZpZ3VyYWJsZTohMH0sZW1wdHk6e2NvbmZpZ3VyYWJsZTohMH19O05lLmFuY2hvci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kYW5jaG9yLnBvc30sTmUuaGVhZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kaGVhZC5wb3N9LE5lLmZyb20uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGZyb20ucG9zfSxOZS50by5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kdG8ucG9zfSxOZS4kZnJvbS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYW5nZXNbMF0uJGZyb219LE5lLiR0by5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYW5nZXNbMF0uJHRvfSxOZS5lbXB0eS5nZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5yYW5nZXMsZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRbZV0uJGZyb20ucG9zIT10W2VdLiR0by5wb3MpcmV0dXJuITE7cmV0dXJuITB9LEFlLnByb3RvdHlwZS5jb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGZyb20ubm9kZSgwKS5zbGljZSh0aGlzLmZyb20sdGhpcy50bywhMCl9LEFlLnByb3RvdHlwZS5yZXBsYWNlPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9eS5lbXB0eSk7Zm9yKHZhciBuPWUuY29udGVudC5sYXN0Q2hpbGQscj1udWxsLG89MDtvPGUub3BlbkVuZDtvKyspcj1uLG49bi5sYXN0Q2hpbGQ7Zm9yKHZhciBpPXQuc3RlcHMubGVuZ3RoLHM9dGhpcy5yYW5nZXMsYT0wO2E8cy5sZW5ndGg7YSsrKXt2YXIgYz1zW2FdLGw9Yy4kZnJvbSx1PWMuJHRvLHA9dC5tYXBwaW5nLnNsaWNlKGkpO3QucmVwbGFjZVJhbmdlKHAubWFwKGwucG9zKSxwLm1hcCh1LnBvcyksYT95LmVtcHR5OmUpLDA9PWEmJiRlKHQsaSwobj9uLmlzSW5saW5lOnImJnIuaXNUZXh0YmxvY2spPy0xOjEpfX0sQWUucHJvdG90eXBlLnJlcGxhY2VXaXRoPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuc3RlcHMubGVuZ3RoLHI9dGhpcy5yYW5nZXMsbz0wO288ci5sZW5ndGg7bysrKXt2YXIgaT1yW29dLHM9aS4kZnJvbSxhPWkuJHRvLGM9dC5tYXBwaW5nLnNsaWNlKG4pLGw9Yy5tYXAocy5wb3MpLHU9Yy5tYXAoYS5wb3MpO28/dC5kZWxldGVSYW5nZShsLHUpOih0LnJlcGxhY2VSYW5nZVdpdGgobCx1LGUpLCRlKHQsbixlLmlzSW5saW5lPy0xOjEpKX19LEFlLmZpbmRGcm9tPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LnBhcmVudC5pbmxpbmVDb250ZW50P25ldyBUZSh0KTpQZSh0Lm5vZGUoMCksdC5wYXJlbnQsdC5wb3MsdC5pbmRleCgpLGUsbik7aWYocilyZXR1cm4gcjtmb3IodmFyIG89dC5kZXB0aC0xO28+PTA7by0tKXt2YXIgaT1lPDA/UGUodC5ub2RlKDApLHQubm9kZShvKSx0LmJlZm9yZShvKzEpLHQuaW5kZXgobyksZSxuKTpQZSh0Lm5vZGUoMCksdC5ub2RlKG8pLHQuYWZ0ZXIobysxKSx0LmluZGV4KG8pKzEsZSxuKTtpZihpKXJldHVybiBpfX0sQWUubmVhcj1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0xKSx0aGlzLmZpbmRGcm9tKHQsZSl8fHRoaXMuZmluZEZyb20odCwtZSl8fG5ldyB6ZSh0Lm5vZGUoMCkpfSxBZS5hdFN0YXJ0PWZ1bmN0aW9uKHQpe3JldHVybiBQZSh0LHQsMCwwLDEpfHxuZXcgemUodCl9LEFlLmF0RW5kPWZ1bmN0aW9uKHQpe3JldHVybiBQZSh0LHQsdC5jb250ZW50LnNpemUsdC5jaGlsZENvdW50LC0xKXx8bmV3IHplKHQpfSxBZS5mcm9tSlNPTj1mdW5jdGlvbih0LGUpe2lmKCFlfHwhZS50eXBlKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBTZWxlY3Rpb24uZnJvbUpTT04iKTt2YXIgbj1PZVtlLnR5cGVdO2lmKCFuKXRocm93IG5ldyBSYW5nZUVycm9yKCJObyBzZWxlY3Rpb24gdHlwZSAiK2UudHlwZSsiIGRlZmluZWQiKTtyZXR1cm4gbi5mcm9tSlNPTih0LGUpfSxBZS5qc29uSUQ9ZnVuY3Rpb24odCxlKXtpZih0IGluIE9lKXRocm93IG5ldyBSYW5nZUVycm9yKCJEdXBsaWNhdGUgdXNlIG9mIHNlbGVjdGlvbiBKU09OIElEICIrdCk7cmV0dXJuIE9lW3RdPWUsZS5wcm90b3R5cGUuanNvbklEPXQsZX0sQWUucHJvdG90eXBlLmdldEJvb2ttYXJrPWZ1bmN0aW9uKCl7cmV0dXJuIFRlLmJldHdlZW4odGhpcy4kYW5jaG9yLHRoaXMuJGhlYWQpLmdldEJvb2ttYXJrKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEFlLnByb3RvdHlwZSxOZSksQWUucHJvdG90eXBlLnZpc2libGU9ITA7dmFyIEVlPWZ1bmN0aW9uKHQsZSl7dGhpcy4kZnJvbT10LHRoaXMuJHRvPWV9LFRlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2b2lkIDA9PT1uJiYobj1lKSx0LmNhbGwodGhpcyxlLG4pfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXskY3Vyc29yOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gbi4kY3Vyc29yLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRhbmNob3IucG9zPT10aGlzLiRoZWFkLnBvcz90aGlzLiRoZWFkOm51bGx9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbihuLHIpe3ZhciBvPW4ucmVzb2x2ZShyLm1hcCh0aGlzLmhlYWQpKTtpZighby5wYXJlbnQuaW5saW5lQ29udGVudClyZXR1cm4gdC5uZWFyKG8pO3ZhciBpPW4ucmVzb2x2ZShyLm1hcCh0aGlzLmFuY2hvcikpO3JldHVybiBuZXcgZShpLnBhcmVudC5pbmxpbmVDb250ZW50P2k6byxvKX0sZS5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbihlLG4pe2lmKHZvaWQgMD09PW4mJihuPXkuZW1wdHkpLHQucHJvdG90eXBlLnJlcGxhY2UuY2FsbCh0aGlzLGUsbiksbj09eS5lbXB0eSl7dmFyIHI9dGhpcy4kZnJvbS5tYXJrc0Fjcm9zcyh0aGlzLiR0byk7ciYmZS5lbnN1cmVNYXJrcyhyKX19LGUucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZSYmdC5hbmNob3I9PXRoaXMuYW5jaG9yJiZ0LmhlYWQ9PXRoaXMuaGVhZH0sZS5wcm90b3R5cGUuZ2V0Qm9va21hcms9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERlKHRoaXMuYW5jaG9yLHRoaXMuaGVhZCl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJ0ZXh0IixhbmNob3I6dGhpcy5hbmNob3IsaGVhZDp0aGlzLmhlYWR9fSxlLmZyb21KU09OPWZ1bmN0aW9uKHQsbil7aWYoIm51bWJlciIhPXR5cGVvZiBuLmFuY2hvcnx8Im51bWJlciIhPXR5cGVvZiBuLmhlYWQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIFRleHRTZWxlY3Rpb24uZnJvbUpTT04iKTtyZXR1cm4gbmV3IGUodC5yZXNvbHZlKG4uYW5jaG9yKSx0LnJlc29sdmUobi5oZWFkKSl9LGUuY3JlYXRlPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj1lKTt2YXIgcj10LnJlc29sdmUoZSk7cmV0dXJuIG5ldyB0aGlzKHIsbj09ZT9yOnQucmVzb2x2ZShuKSl9LGUuYmV0d2Vlbj1mdW5jdGlvbihuLHIsbyl7dmFyIGk9bi5wb3Mtci5wb3M7aWYobyYmIWl8fChvPWk+PTA/MTotMSksIXIucGFyZW50LmlubGluZUNvbnRlbnQpe3ZhciBzPXQuZmluZEZyb20ocixvLCEwKXx8dC5maW5kRnJvbShyLC1vLCEwKTtpZighcylyZXR1cm4gdC5uZWFyKHIsbyk7cj1zLiRoZWFkfXJldHVybiBuLnBhcmVudC5pbmxpbmVDb250ZW50fHwoMD09aT9uPXI6KG49KHQuZmluZEZyb20obiwtbywhMCl8fHQuZmluZEZyb20obixvLCEwKSkuJGFuY2hvcixuLnBvczxyLnBvcyE9aTwwJiYobj1yKSkpLG5ldyBlKG4scil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLG4pLGV9KEFlKTtBZS5qc29uSUQoInRleHQiLFRlKTt2YXIgRGU9ZnVuY3Rpb24odCxlKXt0aGlzLmFuY2hvcj10LHRoaXMuaGVhZD1lfTtEZS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRGUodC5tYXAodGhpcy5hbmNob3IpLHQubWFwKHRoaXMuaGVhZCkpfSxEZS5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0KXtyZXR1cm4gVGUuYmV0d2Vlbih0LnJlc29sdmUodGhpcy5hbmNob3IpLHQucmVzb2x2ZSh0aGlzLmhlYWQpKX07dmFyIF9lPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49ZS5ub2RlQWZ0ZXIscj1lLm5vZGUoMCkucmVzb2x2ZShlLnBvcytuLm5vZGVTaXplKTt0LmNhbGwodGhpcyxlLHIpLHRoaXMubm9kZT1ufXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24obixyKXt2YXIgbz1yLm1hcFJlc3VsdCh0aGlzLmFuY2hvciksaT1vLmRlbGV0ZWQscz1vLnBvcyxhPW4ucmVzb2x2ZShzKTtyZXR1cm4gaT90Lm5lYXIoYSk6bmV3IGUoYSl9LGUucHJvdG90eXBlLmNvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHkocC5mcm9tKHRoaXMubm9kZSksMCwwKX0sZS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlJiZ0LmFuY2hvcj09dGhpcy5hbmNob3J9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJub2RlIixhbmNob3I6dGhpcy5hbmNob3J9fSxlLnByb3RvdHlwZS5nZXRCb29rbWFyaz1mdW5jdGlvbigpe3JldHVybiBuZXcgUmUodGhpcy5hbmNob3IpfSxlLmZyb21KU09OPWZ1bmN0aW9uKHQsbil7aWYoIm51bWJlciIhPXR5cGVvZiBuLmFuY2hvcil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgTm9kZVNlbGVjdGlvbi5mcm9tSlNPTiIpO3JldHVybiBuZXcgZSh0LnJlc29sdmUobi5hbmNob3IpKX0sZS5jcmVhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHRoaXModC5yZXNvbHZlKGUpKX0sZS5pc1NlbGVjdGFibGU9ZnVuY3Rpb24odCl7cmV0dXJuIXQuaXNUZXh0JiYhMSE9PXQudHlwZS5zcGVjLnNlbGVjdGFibGV9LGV9KEFlKTtfZS5wcm90b3R5cGUudmlzaWJsZT0hMSxBZS5qc29uSUQoIm5vZGUiLF9lKTt2YXIgUmU9ZnVuY3Rpb24odCl7dGhpcy5hbmNob3I9dH07UmUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXt2YXIgZT10Lm1hcFJlc3VsdCh0aGlzLmFuY2hvciksbj1lLmRlbGV0ZWQscj1lLnBvcztyZXR1cm4gbj9uZXcgRGUocixyKTpuZXcgUmUocil9LFJlLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKHQpe3ZhciBlPXQucmVzb2x2ZSh0aGlzLmFuY2hvciksbj1lLm5vZGVBZnRlcjtyZXR1cm4gbiYmX2UuaXNTZWxlY3RhYmxlKG4pP25ldyBfZShlKTpBZS5uZWFyKGUpfTt2YXIgemU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyxlLnJlc29sdmUoMCksZS5yZXNvbHZlKGUuY29udGVudC5zaXplKSl9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24oZSxuKXtpZih2b2lkIDA9PT1uJiYobj15LmVtcHR5KSxuPT15LmVtcHR5KXtlLmRlbGV0ZSgwLGUuZG9jLmNvbnRlbnQuc2l6ZSk7dmFyIHI9dC5hdFN0YXJ0KGUuZG9jKTtyLmVxKGUuc2VsZWN0aW9uKXx8ZS5zZXRTZWxlY3Rpb24ocil9ZWxzZSB0LnByb3RvdHlwZS5yZXBsYWNlLmNhbGwodGhpcyxlLG4pfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZToiYWxsIn19LGUuZnJvbUpTT049ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHQpfSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHQpfSxlLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGV9LGUucHJvdG90eXBlLmdldEJvb2ttYXJrPWZ1bmN0aW9uKCl7cmV0dXJuIEllfSxlfShBZSk7QWUuanNvbklEKCJhbGwiLHplKTt2YXIgSWU9e21hcDpmdW5jdGlvbigpe3JldHVybiB0aGlzfSxyZXNvbHZlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgemUodCl9fTtmdW5jdGlvbiBQZSh0LGUsbixyLG8saSl7aWYoZS5pbmxpbmVDb250ZW50KXJldHVybiBUZS5jcmVhdGUodCxuKTtmb3IodmFyIHM9ci0obz4wPzA6MSk7bz4wP3M8ZS5jaGlsZENvdW50OnM+PTA7cys9byl7dmFyIGE9ZS5jaGlsZChzKTtpZihhLmlzQXRvbSl7aWYoIWkmJl9lLmlzU2VsZWN0YWJsZShhKSlyZXR1cm4gX2UuY3JlYXRlKHQsbi0obzwwP2Eubm9kZVNpemU6MCkpfWVsc2V7dmFyIGM9UGUodCxhLG4rbyxvPDA/YS5jaGlsZENvdW50OjAsbyxpKTtpZihjKXJldHVybiBjfW4rPWEubm9kZVNpemUqb319ZnVuY3Rpb24gJGUodCxlLG4pe3ZhciByPXQuc3RlcHMubGVuZ3RoLTE7aWYoIShyPGUpKXt2YXIgbz10LnN0ZXBzW3JdO2lmKG8gaW5zdGFuY2VvZiBYdHx8byBpbnN0YW5jZW9mIFl0KXt2YXIgaSxzPXQubWFwcGluZy5tYXBzW3JdO3MuZm9yRWFjaCgoZnVuY3Rpb24odCxlLG4scil7bnVsbD09aSYmKGk9cil9KSksdC5zZXRTZWxlY3Rpb24oQWUubmVhcih0LmRvYy5yZXNvbHZlKGkpLG4pKX19fXZhciBCZT0xLFZlPTIsamU9NCxMZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUuZG9jKSx0aGlzLnRpbWU9RGF0ZS5ub3coKSx0aGlzLmN1clNlbGVjdGlvbj1lLnNlbGVjdGlvbix0aGlzLmN1clNlbGVjdGlvbkZvcj0wLHRoaXMuc3RvcmVkTWFya3M9ZS5zdG9yZWRNYXJrcyx0aGlzLnVwZGF0ZWQ9MCx0aGlzLm1ldGE9T2JqZWN0LmNyZWF0ZShudWxsKX10JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17c2VsZWN0aW9uOntjb25maWd1cmFibGU6ITB9LHNlbGVjdGlvblNldDp7Y29uZmlndXJhYmxlOiEwfSxzdG9yZWRNYXJrc1NldDp7Y29uZmlndXJhYmxlOiEwfSxpc0dlbmVyaWM6e2NvbmZpZ3VyYWJsZTohMH0sc2Nyb2xsZWRJbnRvVmlldzp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIG4uc2VsZWN0aW9uLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1clNlbGVjdGlvbkZvcjx0aGlzLnN0ZXBzLmxlbmd0aCYmKHRoaXMuY3VyU2VsZWN0aW9uPXRoaXMuY3VyU2VsZWN0aW9uLm1hcCh0aGlzLmRvYyx0aGlzLm1hcHBpbmcuc2xpY2UodGhpcy5jdXJTZWxlY3Rpb25Gb3IpKSx0aGlzLmN1clNlbGVjdGlvbkZvcj10aGlzLnN0ZXBzLmxlbmd0aCksdGhpcy5jdXJTZWxlY3Rpb259LGUucHJvdG90eXBlLnNldFNlbGVjdGlvbj1mdW5jdGlvbih0KXtpZih0LiRmcm9tLmRvYyE9dGhpcy5kb2MpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlNlbGVjdGlvbiBwYXNzZWQgdG8gc2V0U2VsZWN0aW9uIG11c3QgcG9pbnQgYXQgdGhlIGN1cnJlbnQgZG9jdW1lbnQiKTtyZXR1cm4gdGhpcy5jdXJTZWxlY3Rpb249dCx0aGlzLmN1clNlbGVjdGlvbkZvcj10aGlzLnN0ZXBzLmxlbmd0aCx0aGlzLnVwZGF0ZWQ9KHRoaXMudXBkYXRlZHxCZSkmflZlLHRoaXMuc3RvcmVkTWFya3M9bnVsbCx0aGlzfSxuLnNlbGVjdGlvblNldC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy51cGRhdGVkJkJlKT4wfSxlLnByb3RvdHlwZS5zZXRTdG9yZWRNYXJrcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdG9yZWRNYXJrcz10LHRoaXMudXBkYXRlZHw9VmUsdGhpc30sZS5wcm90b3R5cGUuZW5zdXJlTWFya3M9ZnVuY3Rpb24odCl7cmV0dXJuIHYuc2FtZVNldCh0aGlzLnN0b3JlZE1hcmtzfHx0aGlzLnNlbGVjdGlvbi4kZnJvbS5tYXJrcygpLHQpfHx0aGlzLnNldFN0b3JlZE1hcmtzKHQpLHRoaXN9LGUucHJvdG90eXBlLmFkZFN0b3JlZE1hcms9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZW5zdXJlTWFya3ModC5hZGRUb1NldCh0aGlzLnN0b3JlZE1hcmtzfHx0aGlzLnNlbGVjdGlvbi4kaGVhZC5tYXJrcygpKSl9LGUucHJvdG90eXBlLnJlbW92ZVN0b3JlZE1hcms9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZW5zdXJlTWFya3ModC5yZW1vdmVGcm9tU2V0KHRoaXMuc3RvcmVkTWFya3N8fHRoaXMuc2VsZWN0aW9uLiRoZWFkLm1hcmtzKCkpKX0sbi5zdG9yZWRNYXJrc1NldC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy51cGRhdGVkJlZlKT4wfSxlLnByb3RvdHlwZS5hZGRTdGVwPWZ1bmN0aW9uKGUsbil7dC5wcm90b3R5cGUuYWRkU3RlcC5jYWxsKHRoaXMsZSxuKSx0aGlzLnVwZGF0ZWQ9dGhpcy51cGRhdGVkJn5WZSx0aGlzLnN0b3JlZE1hcmtzPW51bGx9LGUucHJvdG90eXBlLnNldFRpbWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGltZT10LHRoaXN9LGUucHJvdG90eXBlLnJlcGxhY2VTZWxlY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uLnJlcGxhY2UodGhpcyx0KSx0aGlzfSxlLnByb3RvdHlwZS5yZXBsYWNlU2VsZWN0aW9uV2l0aD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuc2VsZWN0aW9uO3JldHVybiExIT09ZSYmKHQ9dC5tYXJrKHRoaXMuc3RvcmVkTWFya3N8fChuLmVtcHR5P24uJGZyb20ubWFya3MoKTpuLiRmcm9tLm1hcmtzQWNyb3NzKG4uJHRvKXx8di5ub25lKSkpLG4ucmVwbGFjZVdpdGgodGhpcyx0KSx0aGlzfSxlLnByb3RvdHlwZS5kZWxldGVTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb24ucmVwbGFjZSh0aGlzKSx0aGlzfSxlLnByb3RvdHlwZS5pbnNlcnRUZXh0PWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj1lKTt2YXIgcj10aGlzLmRvYy50eXBlLnNjaGVtYTtpZihudWxsPT1lKXJldHVybiB0P3RoaXMucmVwbGFjZVNlbGVjdGlvbldpdGgoci50ZXh0KHQpLCEwKTp0aGlzLmRlbGV0ZVNlbGVjdGlvbigpO2lmKCF0KXJldHVybiB0aGlzLmRlbGV0ZVJhbmdlKGUsbik7dmFyIG89dGhpcy5zdG9yZWRNYXJrcztpZighbyl7dmFyIGk9dGhpcy5kb2MucmVzb2x2ZShlKTtvPW49PWU/aS5tYXJrcygpOmkubWFya3NBY3Jvc3ModGhpcy5kb2MucmVzb2x2ZShuKSl9cmV0dXJuIHRoaXMucmVwbGFjZVJhbmdlV2l0aChlLG4sci50ZXh0KHQsbykpLHRoaXMuc2VsZWN0aW9uLmVtcHR5fHx0aGlzLnNldFNlbGVjdGlvbihBZS5uZWFyKHRoaXMuc2VsZWN0aW9uLiR0bykpLHRoaXN9LGUucHJvdG90eXBlLnNldE1ldGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5tZXRhWyJzdHJpbmciPT10eXBlb2YgdD90OnQua2V5XT1lLHRoaXN9LGUucHJvdG90eXBlLmdldE1ldGE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWV0YVsic3RyaW5nIj09dHlwZW9mIHQ/dDp0LmtleV19LG4uaXNHZW5lcmljLmdldD1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLm1ldGEpcmV0dXJuITE7cmV0dXJuITB9LGUucHJvdG90eXBlLnNjcm9sbEludG9WaWV3PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBkYXRlZHw9amUsdGhpc30sbi5zY3JvbGxlZEludG9WaWV3LmdldD1mdW5jdGlvbigpe3JldHVybih0aGlzLnVwZGF0ZWQmamUpPjB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLG4pLGV9KEp0KTtmdW5jdGlvbiBGZSh0LGUpe3JldHVybiBlJiZ0P3QuYmluZChlKTp0fXZhciBIZT1mdW5jdGlvbih0LGUsbil7dGhpcy5uYW1lPXQsdGhpcy5pbml0PUZlKGUuaW5pdCxuKSx0aGlzLmFwcGx5PUZlKGUuYXBwbHksbil9LEplPVtuZXcgSGUoImRvYyIse2luaXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZG9jfHx0LnNjaGVtYS50b3BOb2RlVHlwZS5jcmVhdGVBbmRGaWxsKCl9LGFwcGx5OmZ1bmN0aW9uKHQpe3JldHVybiB0LmRvY319KSxuZXcgSGUoInNlbGVjdGlvbiIse2luaXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zZWxlY3Rpb258fEFlLmF0U3RhcnQoZS5kb2MpfSxhcHBseTpmdW5jdGlvbih0KXtyZXR1cm4gdC5zZWxlY3Rpb259fSksbmV3IEhlKCJzdG9yZWRNYXJrcyIse2luaXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RvcmVkTWFya3N8fG51bGx9LGFwcGx5OmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiByLnNlbGVjdGlvbi4kY3Vyc29yP3Quc3RvcmVkTWFya3M6bnVsbH19KSxuZXcgSGUoInNjcm9sbFRvU2VsZWN0aW9uIix7aW5pdDpmdW5jdGlvbigpe3JldHVybiAwfSxhcHBseTpmdW5jdGlvbih0LGUpe3JldHVybiB0LnNjcm9sbGVkSW50b1ZpZXc/ZSsxOmV9fSldLFdlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0aGlzLnNjaGVtYT10LHRoaXMuZmllbGRzPUplLmNvbmNhdCgpLHRoaXMucGx1Z2lucz1bXSx0aGlzLnBsdWdpbnNCeUtleT1PYmplY3QuY3JlYXRlKG51bGwpLGUmJmUuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYobi5wbHVnaW5zQnlLZXlbdC5rZXldKXRocm93IG5ldyBSYW5nZUVycm9yKCJBZGRpbmcgZGlmZmVyZW50IGluc3RhbmNlcyBvZiBhIGtleWVkIHBsdWdpbiAoIit0LmtleSsiKSIpO24ucGx1Z2lucy5wdXNoKHQpLG4ucGx1Z2luc0J5S2V5W3Qua2V5XT10LHQuc3BlYy5zdGF0ZSYmbi5maWVsZHMucHVzaChuZXcgSGUodC5rZXksdC5zcGVjLnN0YXRlLHQpKX0pKX0scWU9ZnVuY3Rpb24odCl7dGhpcy5jb25maWc9dH0sS2U9e3NjaGVtYTp7Y29uZmlndXJhYmxlOiEwfSxwbHVnaW5zOntjb25maWd1cmFibGU6ITB9LHRyOntjb25maWd1cmFibGU6ITB9fTtLZS5zY2hlbWEuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnLnNjaGVtYX0sS2UucGx1Z2lucy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25maWcucGx1Z2luc30scWUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFwcGx5VHJhbnNhY3Rpb24odCkuc3RhdGV9LHFlLnByb3RvdHlwZS5maWx0ZXJUcmFuc2FjdGlvbj1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPS0xKTtmb3IodmFyIG49MDtuPHRoaXMuY29uZmlnLnBsdWdpbnMubGVuZ3RoO24rKylpZihuIT1lKXt2YXIgcj10aGlzLmNvbmZpZy5wbHVnaW5zW25dO2lmKHIuc3BlYy5maWx0ZXJUcmFuc2FjdGlvbiYmIXIuc3BlYy5maWx0ZXJUcmFuc2FjdGlvbi5jYWxsKHIsdCx0aGlzKSlyZXR1cm4hMX1yZXR1cm4hMH0scWUucHJvdG90eXBlLmFwcGx5VHJhbnNhY3Rpb249ZnVuY3Rpb24odCl7aWYoIXRoaXMuZmlsdGVyVHJhbnNhY3Rpb24odCkpcmV0dXJue3N0YXRlOnRoaXMsdHJhbnNhY3Rpb25zOltdfTtmb3IodmFyIGU9W3RdLG49dGhpcy5hcHBseUlubmVyKHQpLHI9bnVsbDs7KXtmb3IodmFyIG89ITEsaT0wO2k8dGhpcy5jb25maWcucGx1Z2lucy5sZW5ndGg7aSsrKXt2YXIgcz10aGlzLmNvbmZpZy5wbHVnaW5zW2ldO2lmKHMuc3BlYy5hcHBlbmRUcmFuc2FjdGlvbil7dmFyIGE9cj9yW2ldLm46MCxjPXI/cltpXS5zdGF0ZTp0aGlzLGw9YTxlLmxlbmd0aCYmcy5zcGVjLmFwcGVuZFRyYW5zYWN0aW9uLmNhbGwocyxhP2Uuc2xpY2UoYSk6ZSxjLG4pO2lmKGwmJm4uZmlsdGVyVHJhbnNhY3Rpb24obCxpKSl7aWYobC5zZXRNZXRhKCJhcHBlbmRlZFRyYW5zYWN0aW9uIix0KSwhcil7cj1bXTtmb3IodmFyIHU9MDt1PHRoaXMuY29uZmlnLnBsdWdpbnMubGVuZ3RoO3UrKylyLnB1c2godTxpP3tzdGF0ZTpuLG46ZS5sZW5ndGh9OntzdGF0ZTp0aGlzLG46MH0pfWUucHVzaChsKSxuPW4uYXBwbHlJbm5lcihsKSxvPSEwfXImJihyW2ldPXtzdGF0ZTpuLG46ZS5sZW5ndGh9KX19aWYoIW8pcmV0dXJue3N0YXRlOm4sdHJhbnNhY3Rpb25zOmV9fX0scWUucHJvdG90eXBlLmFwcGx5SW5uZXI9ZnVuY3Rpb24odCl7aWYoIXQuYmVmb3JlLmVxKHRoaXMuZG9jKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQXBwbHlpbmcgYSBtaXNtYXRjaGVkIHRyYW5zYWN0aW9uIik7Zm9yKHZhciBlPW5ldyBxZSh0aGlzLmNvbmZpZyksbj10aGlzLmNvbmZpZy5maWVsZHMscj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgbz1uW3JdO2Vbby5uYW1lXT1vLmFwcGx5KHQsdGhpc1tvLm5hbWVdLHRoaXMsZSl9Zm9yKHZhciBpPTA7aTxVZS5sZW5ndGg7aSsrKVVlW2ldKHRoaXMsdCxlKTtyZXR1cm4gZX0sS2UudHIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMZSh0aGlzKX0scWUuY3JlYXRlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgV2UodC5kb2M/dC5kb2MudHlwZS5zY2hlbWE6dC5zY2hlbWEsdC5wbHVnaW5zKSxuPW5ldyBxZShlKSxyPTA7cjxlLmZpZWxkcy5sZW5ndGg7cisrKW5bZS5maWVsZHNbcl0ubmFtZV09ZS5maWVsZHNbcl0uaW5pdCh0LG4pO3JldHVybiBufSxxZS5wcm90b3R5cGUucmVjb25maWd1cmU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBXZSh0aGlzLnNjaGVtYSx0LnBsdWdpbnMpLG49ZS5maWVsZHMscj1uZXcgcWUoZSksbz0wO288bi5sZW5ndGg7bysrKXt2YXIgaT1uW29dLm5hbWU7cltpXT10aGlzLmhhc093blByb3BlcnR5KGkpP3RoaXNbaV06bltvXS5pbml0KHQscil9cmV0dXJuIHJ9LHFlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24odCl7dmFyIGU9e2RvYzp0aGlzLmRvYy50b0pTT04oKSxzZWxlY3Rpb246dGhpcy5zZWxlY3Rpb24udG9KU09OKCl9O2lmKHRoaXMuc3RvcmVkTWFya3MmJihlLnN0b3JlZE1hcmtzPXRoaXMuc3RvcmVkTWFya3MubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50b0pTT04oKX0pKSksdCYmIm9iamVjdCI9PXR5cGVvZiB0KWZvcih2YXIgbiBpbiB0KXtpZigiZG9jIj09bnx8InNlbGVjdGlvbiI9PW4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRoZSBKU09OIGZpZWxkcyBgZG9jYCBhbmQgYHNlbGVjdGlvbmAgYXJlIHJlc2VydmVkIik7dmFyIHI9dFtuXSxvPXIuc3BlYy5zdGF0ZTtvJiZvLnRvSlNPTiYmKGVbbl09by50b0pTT04uY2FsbChyLHRoaXNbci5rZXldKSl9cmV0dXJuIGV9LHFlLmZyb21KU09OPWZ1bmN0aW9uKHQsZSxuKXtpZighZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgRWRpdG9yU3RhdGUuZnJvbUpTT04iKTtpZighdC5zY2hlbWEpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlJlcXVpcmVkIGNvbmZpZyBmaWVsZCAnc2NoZW1hJyBtaXNzaW5nIik7dmFyIHI9bmV3IFdlKHQuc2NoZW1hLHQucGx1Z2lucyksbz1uZXcgcWUocik7cmV0dXJuIHIuZmllbGRzLmZvckVhY2goKGZ1bmN0aW9uKHIpe2lmKCJkb2MiPT1yLm5hbWUpby5kb2M9ai5mcm9tSlNPTih0LnNjaGVtYSxlLmRvYyk7ZWxzZSBpZigic2VsZWN0aW9uIj09ci5uYW1lKW8uc2VsZWN0aW9uPUFlLmZyb21KU09OKG8uZG9jLGUuc2VsZWN0aW9uKTtlbHNlIGlmKCJzdG9yZWRNYXJrcyI9PXIubmFtZSllLnN0b3JlZE1hcmtzJiYoby5zdG9yZWRNYXJrcz1lLnN0b3JlZE1hcmtzLm1hcCh0LnNjaGVtYS5tYXJrRnJvbUpTT04pKTtlbHNle2lmKG4pZm9yKHZhciBpIGluIG4pe3ZhciBzPW5baV0sYT1zLnNwZWMuc3RhdGU7aWYocy5rZXk9PXIubmFtZSYmYSYmYS5mcm9tSlNPTiYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkpcmV0dXJuIHZvaWQob1tyLm5hbWVdPWEuZnJvbUpTT04uY2FsbChzLHQsZVtpXSxvKSl9b1tyLm5hbWVdPXIuaW5pdCh0LG8pfX0pKSxvfSxxZS5hZGRBcHBseUxpc3RlbmVyPWZ1bmN0aW9uKHQpe1VlLnB1c2godCl9LHFlLnJlbW92ZUFwcGx5TGlzdGVuZXI9ZnVuY3Rpb24odCl7dmFyIGU9VWUuaW5kZXhPZih0KTtlPi0xJiZVZS5zcGxpY2UoZSwxKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocWUucHJvdG90eXBlLEtlKTt2YXIgVWU9W107ZnVuY3Rpb24gR2UodCxlLG4pe2Zvcih2YXIgciBpbiB0KXt2YXIgbz10W3JdO28gaW5zdGFuY2VvZiBGdW5jdGlvbj9vPW8uYmluZChlKToiaGFuZGxlRE9NRXZlbnRzIj09ciYmKG89R2UobyxlLHt9KSksbltyXT1vfXJldHVybiBufXZhciBYZT1mdW5jdGlvbih0KXt0aGlzLnByb3BzPXt9LHQucHJvcHMmJkdlKHQucHJvcHMsdGhpcyx0aGlzLnByb3BzKSx0aGlzLnNwZWM9dCx0aGlzLmtleT10LmtleT90LmtleS5rZXk6WmUoInBsdWdpbiIpfTtYZS5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdGhpcy5rZXldfTt2YXIgWWU9T2JqZWN0LmNyZWF0ZShudWxsKTtmdW5jdGlvbiBaZSh0KXtyZXR1cm4gdCBpbiBZZT90KyIkIisgKytZZVt0XTooWWVbdF09MCx0KyIkIil9dmFyIFFlPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PSJrZXkiKSx0aGlzLmtleT1aZSh0KX07UWUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdC5jb25maWcucGx1Z2luc0J5S2V5W3RoaXMua2V5XX0sUWUucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0W3RoaXMua2V5XX07dmFyIHRuPXt9O2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiYidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50KXt2YXIgZW49L0VkZ2VcLyhcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpLG5uPS9NU0lFIFxkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHJuPS9UcmlkZW50XC8oPzpbNy05XXxcZHsyLH0pXC4uKnJ2OihcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpO3RuLm1hYz0vTWFjLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk7dmFyIG9uPXRuLmllPSEhKG5ufHxybnx8ZW4pO3RuLmllX3ZlcnNpb249bm4/ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw2OnJuPytyblsxXTplbj8rZW5bMV06bnVsbCx0bi5nZWNrbz0hb24mJi9nZWNrb1wvKFxkKykvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHRuLmdlY2tvX3ZlcnNpb249dG4uZ2Vja28mJisoL0ZpcmVmb3hcLyhcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpfHxbMCwwXSlbMV07dmFyIHNuPSFvbiYmL0Nocm9tZVwvKFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7dG4uY2hyb21lPSEhc24sdG4uY2hyb21lX3ZlcnNpb249c24mJitzblsxXSx0bi5zYWZhcmk9IW9uJiYvQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2aWdhdG9yLnZlbmRvciksdG4uaW9zPXRuLnNhZmFyaSYmKC9Nb2JpbGVcL1x3Ky8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KXx8bmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzPjIpLHRuLmFuZHJvaWQ9L0FuZHJvaWQgXGQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksdG4ud2Via2l0PSJ3ZWJraXRGb250U21vb3RoaW5nImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSx0bi53ZWJraXRfdmVyc2lvbj10bi53ZWJraXQmJisoL1xiQXBwbGVXZWJLaXRcLyhcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpfHxbMCwwXSlbMV19dmFyIGFuPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wOztlKyspaWYodD10LnByZXZpb3VzU2libGluZywhdClyZXR1cm4gZX0sY249ZnVuY3Rpb24odCl7dmFyIGU9dC5hc3NpZ25lZFNsb3R8fHQucGFyZW50Tm9kZTtyZXR1cm4gZSYmMTE9PWUubm9kZVR5cGU/ZS5ob3N0OmV9LGxuPW51bGwsdW49ZnVuY3Rpb24odCxlLG4pe3ZhciByPWxufHwobG49ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSk7cmV0dXJuIHIuc2V0RW5kKHQsbnVsbD09bj90Lm5vZGVWYWx1ZS5sZW5ndGg6biksci5zZXRTdGFydCh0LGV8fDApLHJ9LHBuPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBuJiYoZm4odCxlLG4sciwtMSl8fGZuKHQsZSxuLHIsMSkpfSxobj0vXihpbWd8YnJ8aW5wdXR8dGV4dGFyZWF8aHIpJC9pO2Z1bmN0aW9uIGZuKHQsZSxuLHIsbyl7Zm9yKDs7KXtpZih0PT1uJiZlPT1yKXJldHVybiEwO2lmKGU9PShvPDA/MDpkbih0KSkpe3ZhciBpPXQucGFyZW50Tm9kZTtpZigxIT1pLm5vZGVUeXBlfHx2bih0KXx8aG4udGVzdCh0Lm5vZGVOYW1lKXx8ImZhbHNlIj09dC5jb250ZW50RWRpdGFibGUpcmV0dXJuITE7ZT1hbih0KSsobzwwPzA6MSksdD1pfWVsc2V7aWYoMSE9dC5ub2RlVHlwZSlyZXR1cm4hMTtpZih0PXQuY2hpbGROb2Rlc1tlKyhvPDA/LTE6MCldLCJmYWxzZSI9PXQuY29udGVudEVkaXRhYmxlKXJldHVybiExO2U9bzwwP2RuKHQpOjB9fX1mdW5jdGlvbiBkbih0KXtyZXR1cm4gMz09dC5ub2RlVHlwZT90Lm5vZGVWYWx1ZS5sZW5ndGg6dC5jaGlsZE5vZGVzLmxlbmd0aH1mdW5jdGlvbiBtbih0LGUsbil7Zm9yKHZhciByPTA9PWUsbz1lPT1kbih0KTtyfHxvOyl7aWYodD09bilyZXR1cm4hMDt2YXIgaT1hbih0KTtpZih0PXQucGFyZW50Tm9kZSwhdClyZXR1cm4hMTtyPXImJjA9PWksbz1vJiZpPT1kbih0KX19ZnVuY3Rpb24gdm4odCl7Zm9yKHZhciBlLG49dDtuO249bi5wYXJlbnROb2RlKWlmKGU9bi5wbVZpZXdEZXNjKWJyZWFrO3JldHVybiBlJiZlLm5vZGUmJmUubm9kZS5pc0Jsb2NrJiYoZS5kb209PXR8fGUuY29udGVudERPTT09dCl9dmFyIGduPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaXNDb2xsYXBzZWQ7cmV0dXJuIGUmJnRuLmNocm9tZSYmdC5yYW5nZUNvdW50JiYhdC5nZXRSYW5nZUF0KDApLmNvbGxhcHNlZCYmKGU9ITEpLGV9O2Z1bmN0aW9uIHluKHQsZSl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50Iik7cmV0dXJuIG4uaW5pdEV2ZW50KCJrZXlkb3duIiwhMCwhMCksbi5rZXlDb2RlPXQsbi5rZXk9bi5jb2RlPWUsbn1mdW5jdGlvbiB3bih0KXtyZXR1cm57bGVmdDowLHJpZ2h0OnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLHRvcDowLGJvdHRvbTp0LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHR9fWZ1bmN0aW9uIGJuKHQsZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0P3Q6dFtlXX1mdW5jdGlvbiB4bih0KXt2YXIgZT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49ZS53aWR0aC90Lm9mZnNldFdpZHRofHwxLHI9ZS5oZWlnaHQvdC5vZmZzZXRIZWlnaHR8fDE7cmV0dXJue2xlZnQ6ZS5sZWZ0LHJpZ2h0OmUubGVmdCt0LmNsaWVudFdpZHRoKm4sdG9wOmUudG9wLGJvdHRvbTplLnRvcCt0LmNsaWVudEhlaWdodCpyfX1mdW5jdGlvbiBrbih0LGUsbil7Zm9yKHZhciByPXQuc29tZVByb3AoInNjcm9sbFRocmVzaG9sZCIpfHwwLG89dC5zb21lUHJvcCgic2Nyb2xsTWFyZ2luIil8fDUsaT10LmRvbS5vd25lckRvY3VtZW50LHM9bnx8dC5kb207O3M9Y24ocykpe2lmKCFzKWJyZWFrO2lmKDE9PXMubm9kZVR5cGUpe3ZhciBhPXM9PWkuYm9keXx8MSE9cy5ub2RlVHlwZSxjPWE/d24oaSk6eG4ocyksbD0wLHU9MDtpZihlLnRvcDxjLnRvcCtibihyLCJ0b3AiKT91PS0oYy50b3AtZS50b3ArYm4obywidG9wIikpOmUuYm90dG9tPmMuYm90dG9tLWJuKHIsImJvdHRvbSIpJiYodT1lLmJvdHRvbS1jLmJvdHRvbStibihvLCJib3R0b20iKSksZS5sZWZ0PGMubGVmdCtibihyLCJsZWZ0Iik/bD0tKGMubGVmdC1lLmxlZnQrYm4obywibGVmdCIpKTplLnJpZ2h0PmMucmlnaHQtYm4ociwicmlnaHQiKSYmKGw9ZS5yaWdodC1jLnJpZ2h0K2JuKG8sInJpZ2h0IikpLGx8fHUpaWYoYSlpLmRlZmF1bHRWaWV3LnNjcm9sbEJ5KGwsdSk7ZWxzZXt2YXIgcD1zLnNjcm9sbExlZnQsaD1zLnNjcm9sbFRvcDt1JiYocy5zY3JvbGxUb3ArPXUpLGwmJihzLnNjcm9sbExlZnQrPWwpO3ZhciBmPXMuc2Nyb2xsTGVmdC1wLGQ9cy5zY3JvbGxUb3AtaDtlPXtsZWZ0OmUubGVmdC1mLHRvcDplLnRvcC1kLHJpZ2h0OmUucmlnaHQtZixib3R0b206ZS5ib3R0b20tZH19aWYoYSlicmVha319fWZ1bmN0aW9uIFNuKHQpe2Zvcih2YXIgZSxuLHI9dC5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1NYXRoLm1heCgwLHIudG9wKSxpPShyLmxlZnQrci5yaWdodCkvMixzPW8rMTtzPE1hdGgubWluKGlubmVySGVpZ2h0LHIuYm90dG9tKTtzKz01KXt2YXIgYT10LnJvb3QuZWxlbWVudEZyb21Qb2ludChpLHMpO2lmKGEhPXQuZG9tJiZ0LmRvbS5jb250YWlucyhhKSl7dmFyIGM9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZihjLnRvcD49by0yMCl7ZT1hLG49Yy50b3A7YnJlYWt9fX1yZXR1cm57cmVmRE9NOmUscmVmVG9wOm4sc3RhY2s6Q24odC5kb20pfX1mdW5jdGlvbiBDbih0KXtmb3IodmFyIGU9W10sbj10Lm93bmVyRG9jdW1lbnQ7dDt0PWNuKHQpKWlmKGUucHVzaCh7ZG9tOnQsdG9wOnQuc2Nyb2xsVG9wLGxlZnQ6dC5zY3JvbGxMZWZ0fSksdD09bilicmVhaztyZXR1cm4gZX1mdW5jdGlvbiBNbih0KXt2YXIgZT10LnJlZkRPTSxuPXQucmVmVG9wLHI9dC5zdGFjayxvPWU/ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A6MDtPbihyLDA9PW8/MDpvLW4pfWZ1bmN0aW9uIE9uKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl0sbz1yLmRvbSxpPXIudG9wLHM9ci5sZWZ0O28uc2Nyb2xsVG9wIT1pK2UmJihvLnNjcm9sbFRvcD1pK2UpLG8uc2Nyb2xsTGVmdCE9cyYmKG8uc2Nyb2xsTGVmdD1zKX19dmFyIEFuPW51bGw7ZnVuY3Rpb24gTm4odCl7aWYodC5zZXRBY3RpdmUpcmV0dXJuIHQuc2V0QWN0aXZlKCk7aWYoQW4pcmV0dXJuIHQuZm9jdXMoQW4pO3ZhciBlPUNuKHQpO3QuZm9jdXMobnVsbD09QW4/e2dldCBwcmV2ZW50U2Nyb2xsKCl7cmV0dXJuIEFuPXtwcmV2ZW50U2Nyb2xsOiEwfSwhMH19OnZvaWQgMCksQW58fChBbj0hMSxPbihlLDApKX1mdW5jdGlvbiBFbih0LGUpe2Zvcih2YXIgbixyLG89MmU4LGk9MCxzPWUudG9wLGE9ZS50b3AsYz10LmZpcnN0Q2hpbGQsbD0wO2M7Yz1jLm5leHRTaWJsaW5nLGwrKyl7dmFyIHU9dm9pZCAwO2lmKDE9PWMubm9kZVR5cGUpdT1jLmdldENsaWVudFJlY3RzKCk7ZWxzZXtpZigzIT1jLm5vZGVUeXBlKWNvbnRpbnVlO3U9dW4oYykuZ2V0Q2xpZW50UmVjdHMoKX1mb3IodmFyIHA9MDtwPHUubGVuZ3RoO3ArKyl7dmFyIGg9dVtwXTtpZihoLnRvcDw9cyYmaC5ib3R0b20+PWEpe3M9TWF0aC5tYXgoaC5ib3R0b20scyksYT1NYXRoLm1pbihoLnRvcCxhKTt2YXIgZj1oLmxlZnQ+ZS5sZWZ0P2gubGVmdC1lLmxlZnQ6aC5yaWdodDxlLmxlZnQ/ZS5sZWZ0LWgucmlnaHQ6MDtpZihmPG8pe249YyxvPWYscj1mJiYzPT1uLm5vZGVUeXBlP3tsZWZ0OmgucmlnaHQ8ZS5sZWZ0P2gucmlnaHQ6aC5sZWZ0LHRvcDplLnRvcH06ZSwxPT1jLm5vZGVUeXBlJiZmJiYoaT1sKyhlLmxlZnQ+PShoLmxlZnQraC5yaWdodCkvMj8xOjApKTtjb250aW51ZX19IW4mJihlLmxlZnQ+PWgucmlnaHQmJmUudG9wPj1oLnRvcHx8ZS5sZWZ0Pj1oLmxlZnQmJmUudG9wPj1oLmJvdHRvbSkmJihpPWwrMSl9fXJldHVybiBuJiYzPT1uLm5vZGVUeXBlP1RuKG4scik6IW58fG8mJjE9PW4ubm9kZVR5cGU/e25vZGU6dCxvZmZzZXQ6aX06RW4obixyKX1mdW5jdGlvbiBUbih0LGUpe2Zvcih2YXIgbj10Lm5vZGVWYWx1ZS5sZW5ndGgscj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpLG89MDtvPG47bysrKXtyLnNldEVuZCh0LG8rMSksci5zZXRTdGFydCh0LG8pO3ZhciBpPSRuKHIsMSk7aWYoaS50b3AhPWkuYm90dG9tJiZEbihlLGkpKXJldHVybntub2RlOnQsb2Zmc2V0Om8rKGUubGVmdD49KGkubGVmdCtpLnJpZ2h0KS8yPzE6MCl9fXJldHVybntub2RlOnQsb2Zmc2V0OjB9fWZ1bmN0aW9uIERuKHQsZSl7cmV0dXJuIHQubGVmdD49ZS5sZWZ0LTEmJnQubGVmdDw9ZS5yaWdodCsxJiZ0LnRvcD49ZS50b3AtMSYmdC50b3A8PWUuYm90dG9tKzF9ZnVuY3Rpb24gX24odCxlKXt2YXIgbj10LnBhcmVudE5vZGU7cmV0dXJuIG4mJi9ebGkkL2kudGVzdChuLm5vZGVOYW1lKSYmZS5sZWZ0PHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdD9uOnR9ZnVuY3Rpb24gUm4odCxlLG4pe3ZhciByPUVuKGUsbiksbz1yLm5vZGUsaT1yLm9mZnNldCxzPS0xO2lmKDE9PW8ubm9kZVR5cGUmJiFvLmZpcnN0Q2hpbGQpe3ZhciBhPW8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cz1hLmxlZnQhPWEucmlnaHQmJm4ubGVmdD4oYS5sZWZ0K2EucmlnaHQpLzI/MTotMX1yZXR1cm4gdC5kb2NWaWV3LnBvc0Zyb21ET00obyxpLHMpfWZ1bmN0aW9uIHpuKHQsZSxuLHIpe2Zvcih2YXIgbz0tMSxpPWU7Oyl7aWYoaT09dC5kb20pYnJlYWs7dmFyIHM9dC5kb2NWaWV3Lm5lYXJlc3REZXNjKGksITApO2lmKCFzKXJldHVybiBudWxsO2lmKHMubm9kZS5pc0Jsb2NrJiZzLnBhcmVudCl7dmFyIGE9cy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYoYS5sZWZ0PnIubGVmdHx8YS50b3A+ci50b3Apbz1zLnBvc0JlZm9yZTtlbHNle2lmKCEoYS5yaWdodDxyLmxlZnR8fGEuYm90dG9tPHIudG9wKSlicmVhaztvPXMucG9zQWZ0ZXJ9fWk9cy5kb20ucGFyZW50Tm9kZX1yZXR1cm4gbz4tMT9vOnQuZG9jVmlldy5wb3NGcm9tRE9NKGUsbil9ZnVuY3Rpb24gSW4odCxlLG4pe3ZhciByPXQuY2hpbGROb2Rlcy5sZW5ndGg7aWYociYmbi50b3A8bi5ib3R0b20pZm9yKHZhciBvPU1hdGgubWF4KDAsTWF0aC5taW4oci0xLE1hdGguZmxvb3IociooZS50b3Atbi50b3ApLyhuLmJvdHRvbS1uLnRvcCkpLTIpKSxpPW87Oyl7dmFyIHM9dC5jaGlsZE5vZGVzW2ldO2lmKDE9PXMubm9kZVR5cGUpZm9yKHZhciBhPXMuZ2V0Q2xpZW50UmVjdHMoKSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBsPWFbY107aWYoRG4oZSxsKSlyZXR1cm4gSW4ocyxlLGwpfWlmKChpPShpKzEpJXIpPT1vKWJyZWFrfXJldHVybiB0fWZ1bmN0aW9uIFBuKHQsZSl7dmFyIG4scixvLGkscz10LnJvb3Q7aWYocy5jYXJldFBvc2l0aW9uRnJvbVBvaW50KXRyeXt2YXIgYT1zLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQoZS5sZWZ0LGUudG9wKTthJiYobj1hLG89bi5vZmZzZXROb2RlLGk9bi5vZmZzZXQpfWNhdGNoKHYpe31pZighbyYmcy5jYXJldFJhbmdlRnJvbVBvaW50KXt2YXIgYz1zLmNhcmV0UmFuZ2VGcm9tUG9pbnQoZS5sZWZ0LGUudG9wKTtjJiYocj1jLG89ci5zdGFydENvbnRhaW5lcixpPXIuc3RhcnRPZmZzZXQpfXZhciBsLHU9cy5lbGVtZW50RnJvbVBvaW50KGUubGVmdCxlLnRvcCsxKTtpZighdXx8IXQuZG9tLmNvbnRhaW5zKDEhPXUubm9kZVR5cGU/dS5wYXJlbnROb2RlOnUpKXt2YXIgcD10LmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZighRG4oZSxwKSlyZXR1cm4gbnVsbDtpZih1PUluKHQuZG9tLGUscCksIXUpcmV0dXJuIG51bGx9aWYodG4uc2FmYXJpKWZvcih2YXIgaD11O28mJmg7aD1jbihoKSloLmRyYWdnYWJsZSYmKG89aT1udWxsKTtpZih1PV9uKHUsZSksbyl7aWYodG4uZ2Vja28mJjE9PW8ubm9kZVR5cGUmJihpPU1hdGgubWluKGksby5jaGlsZE5vZGVzLmxlbmd0aCksaTxvLmNoaWxkTm9kZXMubGVuZ3RoKSl7dmFyIGYsZD1vLmNoaWxkTm9kZXNbaV07IklNRyI9PWQubm9kZU5hbWUmJihmPWQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLnJpZ2h0PD1lLmxlZnQmJmYuYm90dG9tPmUudG9wJiZpKyt9bz09dC5kb20mJmk9PW8uY2hpbGROb2Rlcy5sZW5ndGgtMSYmMT09by5sYXN0Q2hpbGQubm9kZVR5cGUmJmUudG9wPm8ubGFzdENoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbT9sPXQuc3RhdGUuZG9jLmNvbnRlbnQuc2l6ZTowIT1pJiYxPT1vLm5vZGVUeXBlJiYiQlIiPT1vLmNoaWxkTm9kZXNbaS0xXS5ub2RlTmFtZXx8KGw9em4odCxvLGksZSkpfW51bGw9PWwmJihsPVJuKHQsdSxlKSk7dmFyIG09dC5kb2NWaWV3Lm5lYXJlc3REZXNjKHUsITApO3JldHVybntwb3M6bCxpbnNpZGU6bT9tLnBvc0F0U3RhcnQtbS5ib3JkZXI6LTF9fWZ1bmN0aW9uICRuKHQsZSl7dmFyIG49dC5nZXRDbGllbnRSZWN0cygpO3JldHVybiBuLmxlbmd0aD9uW2U8MD8wOm4ubGVuZ3RoLTFdOnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9dmFyIEJuPS9bXHUwNTkwLVx1MDVmNFx1MDYwMC1cdTA2ZmZcdTA3MDAtXHUwOGFjXS87ZnVuY3Rpb24gVm4odCxlLG4pe3ZhciByPXQuZG9jVmlldy5kb21Gcm9tUG9zKGUsbjwwPy0xOjEpLG89ci5ub2RlLGk9ci5vZmZzZXQscz10bi53ZWJraXR8fHRuLmdlY2tvO2lmKDM9PW8ubm9kZVR5cGUpe2lmKCFzfHwhQm4udGVzdChvLm5vZGVWYWx1ZSkmJihuPDA/aTppIT1vLm5vZGVWYWx1ZS5sZW5ndGgpKXt2YXIgYT1pLGM9aSxsPW48MD8xOi0xO3JldHVybiBuPDAmJiFpPyhjKyssbD0tMSk6bj49MCYmaT09by5ub2RlVmFsdWUubGVuZ3RoPyhhLS0sbD0xKTpuPDA/YS0tOmMrKyxqbigkbih1bihvLGEsYyksbCksbDwwKX12YXIgdT0kbih1bihvLGksaSksbik7aWYodG4uZ2Vja28mJmkmJi9ccy8udGVzdChvLm5vZGVWYWx1ZVtpLTFdKSYmaTxvLm5vZGVWYWx1ZS5sZW5ndGgpe3ZhciBwPSRuKHVuKG8saS0xLGktMSksLTEpO2lmKHAudG9wPT11LnRvcCl7dmFyIGg9JG4odW4obyxpLGkrMSksLTEpO2lmKGgudG9wIT11LnRvcClyZXR1cm4gam4oaCxoLmxlZnQ8cC5sZWZ0KX19cmV0dXJuIHV9aWYoIXQuc3RhdGUuZG9jLnJlc29sdmUoZSkucGFyZW50LmlubGluZUNvbnRlbnQpe2lmKGkmJihuPDB8fGk9PWRuKG8pKSl7dmFyIGY9by5jaGlsZE5vZGVzW2ktMV07aWYoMT09Zi5ub2RlVHlwZSlyZXR1cm4gTG4oZi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwhMSl9aWYoaTxkbihvKSl7dmFyIGQ9by5jaGlsZE5vZGVzW2ldO2lmKDE9PWQubm9kZVR5cGUpcmV0dXJuIExuKGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksITApfXJldHVybiBMbihvLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG4+PTApfWlmKGkmJihuPDB8fGk9PWRuKG8pKSl7dmFyIG09by5jaGlsZE5vZGVzW2ktMV0sdj0zPT1tLm5vZGVUeXBlP3VuKG0sZG4obSktKHM/MDoxKSk6MSE9bS5ub2RlVHlwZXx8IkJSIj09bS5ub2RlTmFtZSYmbS5uZXh0U2libGluZz9udWxsOm07aWYodilyZXR1cm4gam4oJG4odiwxKSwhMSl9aWYoaTxkbihvKSl7dmFyIGc9by5jaGlsZE5vZGVzW2ldLHk9Mz09Zy5ub2RlVHlwZT91bihnLDAscz8wOjEpOjE9PWcubm9kZVR5cGU/ZzpudWxsO2lmKHkpcmV0dXJuIGpuKCRuKHksLTEpLCEwKX1yZXR1cm4gam4oJG4oMz09by5ub2RlVHlwZT91bihvKTpvLC1uKSxuPj0wKX1mdW5jdGlvbiBqbih0LGUpe2lmKDA9PXQud2lkdGgpcmV0dXJuIHQ7dmFyIG49ZT90LmxlZnQ6dC5yaWdodDtyZXR1cm57dG9wOnQudG9wLGJvdHRvbTp0LmJvdHRvbSxsZWZ0Om4scmlnaHQ6bn19ZnVuY3Rpb24gTG4odCxlKXtpZigwPT10LmhlaWdodClyZXR1cm4gdDt2YXIgbj1lP3QudG9wOnQuYm90dG9tO3JldHVybnt0b3A6bixib3R0b206bixsZWZ0OnQubGVmdCxyaWdodDp0LnJpZ2h0fX1mdW5jdGlvbiBGbih0LGUsbil7dmFyIHI9dC5zdGF0ZSxvPXQucm9vdC5hY3RpdmVFbGVtZW50O3IhPWUmJnQudXBkYXRlU3RhdGUoZSksbyE9dC5kb20mJnQuZm9jdXMoKTt0cnl7cmV0dXJuIG4oKX1maW5hbGx5e3IhPWUmJnQudXBkYXRlU3RhdGUociksbyE9dC5kb20mJm8mJm8uZm9jdXMoKX19ZnVuY3Rpb24gSG4odCxlLG4pe3ZhciByPWUuc2VsZWN0aW9uLG89InVwIj09bj9yLiRmcm9tOnIuJHRvO3JldHVybiBGbih0LGUsKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPXQuZG9jVmlldy5kb21Gcm9tUG9zKG8ucG9zLCJ1cCI9PW4/LTE6MSkscj1lLm5vZGU7Oyl7dmFyIGk9dC5kb2NWaWV3Lm5lYXJlc3REZXNjKHIsITApO2lmKCFpKWJyZWFrO2lmKGkubm9kZS5pc0Jsb2NrKXtyPWkuZG9tO2JyZWFrfXI9aS5kb20ucGFyZW50Tm9kZX1mb3IodmFyIHM9Vm4odCxvLnBvcywxKSxhPXIuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyl7dmFyIGM9dm9pZCAwO2lmKDE9PWEubm9kZVR5cGUpYz1hLmdldENsaWVudFJlY3RzKCk7ZWxzZXtpZigzIT1hLm5vZGVUeXBlKWNvbnRpbnVlO2M9dW4oYSwwLGEubm9kZVZhbHVlLmxlbmd0aCkuZ2V0Q2xpZW50UmVjdHMoKX1mb3IodmFyIGw9MDtsPGMubGVuZ3RoO2wrKyl7dmFyIHU9Y1tsXTtpZih1LmJvdHRvbT51LnRvcCYmKCJ1cCI9PW4/dS5ib3R0b208cy50b3ArMTp1LnRvcD5zLmJvdHRvbS0xKSlyZXR1cm4hMX19cmV0dXJuITB9KSl9dmFyIEpuPS9bXHUwNTkwLVx1MDhhY10vO2Z1bmN0aW9uIFduKHQsZSxuKXt2YXIgcj1lLnNlbGVjdGlvbixvPXIuJGhlYWQ7aWYoIW8ucGFyZW50LmlzVGV4dGJsb2NrKXJldHVybiExO3ZhciBpPW8ucGFyZW50T2Zmc2V0LHM9IWksYT1pPT1vLnBhcmVudC5jb250ZW50LnNpemUsYz1nZXRTZWxlY3Rpb24oKTtyZXR1cm4gSm4udGVzdChvLnBhcmVudC50ZXh0Q29udGVudCkmJmMubW9kaWZ5P0ZuKHQsZSwoZnVuY3Rpb24oKXt2YXIgZT1jLmdldFJhbmdlQXQoMCkscj1jLmZvY3VzTm9kZSxpPWMuZm9jdXNPZmZzZXQscz1jLmNhcmV0QmlkaUxldmVsO2MubW9kaWZ5KCJtb3ZlIixuLCJjaGFyYWN0ZXIiKTt2YXIgYT1vLmRlcHRoP3QuZG9jVmlldy5kb21BZnRlclBvcyhvLmJlZm9yZSgpKTp0LmRvbSxsPSFhLmNvbnRhaW5zKDE9PWMuZm9jdXNOb2RlLm5vZGVUeXBlP2MuZm9jdXNOb2RlOmMuZm9jdXNOb2RlLnBhcmVudE5vZGUpfHxyPT1jLmZvY3VzTm9kZSYmaT09Yy5mb2N1c09mZnNldDtyZXR1cm4gYy5yZW1vdmVBbGxSYW5nZXMoKSxjLmFkZFJhbmdlKGUpLG51bGwhPXMmJihjLmNhcmV0QmlkaUxldmVsPXMpLGx9KSk6ImxlZnQiPT1ufHwiYmFja3dhcmQiPT1uP3M6YX12YXIgcW49bnVsbCxLbj1udWxsLFVuPSExO2Z1bmN0aW9uIEduKHQsZSxuKXtyZXR1cm4gcW49PWUmJktuPT1uP1VuOihxbj1lLEtuPW4sVW49InVwIj09bnx8ImRvd24iPT1uP0huKHQsZSxuKTpXbih0LGUsbikpfXZhciBYbj0wLFluPTEsWm49MixRbj0zLHRyPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMucGFyZW50PXQsdGhpcy5jaGlsZHJlbj1lLHRoaXMuZG9tPW4sbi5wbVZpZXdEZXNjPXRoaXMsdGhpcy5jb250ZW50RE9NPXIsdGhpcy5kaXJ0eT1Ybn0sZXI9e2JlZm9yZVBvc2l0aW9uOntjb25maWd1cmFibGU6ITB9LHNpemU6e2NvbmZpZ3VyYWJsZTohMH0sYm9yZGVyOntjb25maWd1cmFibGU6ITB9LHBvc0JlZm9yZTp7Y29uZmlndXJhYmxlOiEwfSxwb3NBdFN0YXJ0Ontjb25maWd1cmFibGU6ITB9LHBvc0FmdGVyOntjb25maWd1cmFibGU6ITB9LHBvc0F0RW5kOntjb25maWd1cmFibGU6ITB9LGNvbnRlbnRMb3N0Ontjb25maWd1cmFibGU6ITB9LGRvbUF0b206e2NvbmZpZ3VyYWJsZTohMH19O3RyLnByb3RvdHlwZS5tYXRjaGVzV2lkZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuITF9LHRyLnByb3RvdHlwZS5tYXRjaGVzTWFyaz1mdW5jdGlvbigpe3JldHVybiExfSx0ci5wcm90b3R5cGUubWF0Y2hlc05vZGU9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdHIucHJvdG90eXBlLm1hdGNoZXNIYWNrPWZ1bmN0aW9uKHQpe3JldHVybiExfSxlci5iZWZvcmVQb3NpdGlvbi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdHIucHJvdG90eXBlLnBhcnNlUnVsZT1mdW5jdGlvbigpe3JldHVybiBudWxsfSx0ci5wcm90b3R5cGUuc3RvcEV2ZW50PWZ1bmN0aW9uKCl7cmV0dXJuITF9LGVyLnNpemUuZ2V0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT0wO2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKXQrPXRoaXMuY2hpbGRyZW5bZV0uc2l6ZTtyZXR1cm4gdH0sZXIuYm9yZGVyLmdldD1mdW5jdGlvbigpe3JldHVybiAwfSx0ci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMucGFyZW50PW51bGwsdGhpcy5kb20ucG1WaWV3RGVzYz09dGhpcyYmKHRoaXMuZG9tLnBtVmlld0Rlc2M9bnVsbCk7Zm9yKHZhciB0PTA7dDx0aGlzLmNoaWxkcmVuLmxlbmd0aDt0KyspdGhpcy5jaGlsZHJlblt0XS5kZXN0cm95KCl9LHRyLnByb3RvdHlwZS5wb3NCZWZvcmVDaGlsZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMucG9zQXRTdGFydDtlPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2UrKyl7dmFyIHI9dGhpcy5jaGlsZHJlbltlXTtpZihyPT10KXJldHVybiBuO24rPXIuc2l6ZX19LGVyLnBvc0JlZm9yZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQucG9zQmVmb3JlQ2hpbGQodGhpcyl9LGVyLnBvc0F0U3RhcnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50LnBvc0JlZm9yZUNoaWxkKHRoaXMpK3RoaXMuYm9yZGVyOjB9LGVyLnBvc0FmdGVyLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc0JlZm9yZSt0aGlzLnNpemV9LGVyLnBvc0F0RW5kLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc0F0U3RhcnQrdGhpcy5zaXplLTIqdGhpcy5ib3JkZXJ9LHRyLnByb3RvdHlwZS5sb2NhbFBvc0Zyb21ET009ZnVuY3Rpb24odCxlLG4pe2lmKHRoaXMuY29udGVudERPTSYmdGhpcy5jb250ZW50RE9NLmNvbnRhaW5zKDE9PXQubm9kZVR5cGU/dDp0LnBhcmVudE5vZGUpKXtpZihuPDApe3ZhciByLG87aWYodD09dGhpcy5jb250ZW50RE9NKXI9dC5jaGlsZE5vZGVzW2UtMV07ZWxzZXt3aGlsZSh0LnBhcmVudE5vZGUhPXRoaXMuY29udGVudERPTSl0PXQucGFyZW50Tm9kZTtyPXQucHJldmlvdXNTaWJsaW5nfXdoaWxlKHImJighKG89ci5wbVZpZXdEZXNjKXx8by5wYXJlbnQhPXRoaXMpKXI9ci5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIHI/dGhpcy5wb3NCZWZvcmVDaGlsZChvKStvLnNpemU6dGhpcy5wb3NBdFN0YXJ0fXZhciBpLHM7aWYodD09dGhpcy5jb250ZW50RE9NKWk9dC5jaGlsZE5vZGVzW2VdO2Vsc2V7d2hpbGUodC5wYXJlbnROb2RlIT10aGlzLmNvbnRlbnRET00pdD10LnBhcmVudE5vZGU7aT10Lm5leHRTaWJsaW5nfXdoaWxlKGkmJighKHM9aS5wbVZpZXdEZXNjKXx8cy5wYXJlbnQhPXRoaXMpKWk9aS5uZXh0U2libGluZztyZXR1cm4gaT90aGlzLnBvc0JlZm9yZUNoaWxkKHMpOnRoaXMucG9zQXRFbmR9dmFyIGE7aWYodD09dGhpcy5kb20mJnRoaXMuY29udGVudERPTSlhPWU+YW4odGhpcy5jb250ZW50RE9NKTtlbHNlIGlmKHRoaXMuY29udGVudERPTSYmdGhpcy5jb250ZW50RE9NIT10aGlzLmRvbSYmdGhpcy5kb20uY29udGFpbnModGhpcy5jb250ZW50RE9NKSlhPTImdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0aGlzLmNvbnRlbnRET00pO2Vsc2UgaWYodGhpcy5kb20uZmlyc3RDaGlsZCl7aWYoMD09ZSlmb3IodmFyIGM9dDs7Yz1jLnBhcmVudE5vZGUpe2lmKGM9PXRoaXMuZG9tKXthPSExO2JyZWFrfWlmKGMucGFyZW50Tm9kZS5maXJzdENoaWxkIT1jKWJyZWFrfWlmKG51bGw9PWEmJmU9PXQuY2hpbGROb2Rlcy5sZW5ndGgpZm9yKHZhciBsPXQ7O2w9bC5wYXJlbnROb2RlKXtpZihsPT10aGlzLmRvbSl7YT0hMDticmVha31pZihsLnBhcmVudE5vZGUubGFzdENoaWxkIT1sKWJyZWFrfX1yZXR1cm4obnVsbD09YT9uPjA6YSk/dGhpcy5wb3NBdEVuZDp0aGlzLnBvc0F0U3RhcnR9LHRyLnByb3RvdHlwZS5uZWFyZXN0RGVzYz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0hMCxyPXQ7cjtyPXIucGFyZW50Tm9kZSl7dmFyIG89dGhpcy5nZXREZXNjKHIpO2lmKG8mJighZXx8by5ub2RlKSl7aWYoIW58fCFvLm5vZGVET018fCgxPT1vLm5vZGVET00ubm9kZVR5cGU/by5ub2RlRE9NLmNvbnRhaW5zKDE9PXQubm9kZVR5cGU/dDp0LnBhcmVudE5vZGUpOm8ubm9kZURPTT09dCkpcmV0dXJuIG87bj0hMX19fSx0ci5wcm90b3R5cGUuZ2V0RGVzYz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5wbVZpZXdEZXNjLG49ZTtuO249bi5wYXJlbnQpaWYobj09dGhpcylyZXR1cm4gZX0sdHIucHJvdG90eXBlLnBvc0Zyb21ET009ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj10O3I7cj1yLnBhcmVudE5vZGUpe3ZhciBvPXRoaXMuZ2V0RGVzYyhyKTtpZihvKXJldHVybiBvLmxvY2FsUG9zRnJvbURPTSh0LGUsbil9cmV0dXJuLTF9LHRyLnByb3RvdHlwZS5kZXNjQXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj0wO2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKXt2YXIgcj10aGlzLmNoaWxkcmVuW2VdLG89bityLnNpemU7aWYobj09dCYmbyE9bil7d2hpbGUoIXIuYm9yZGVyJiZyLmNoaWxkcmVuLmxlbmd0aClyPXIuY2hpbGRyZW5bMF07cmV0dXJuIHJ9aWYodDxvKXJldHVybiByLmRlc2NBdCh0LW4tci5ib3JkZXIpO249b319LHRyLnByb3RvdHlwZS5kb21Gcm9tUG9zPWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuY29udGVudERPTSlyZXR1cm57bm9kZTp0aGlzLmRvbSxvZmZzZXQ6MH07Zm9yKHZhciBuPTAscj0wLG89ITA7O3IrKyxvPSExKXt3aGlsZShyPHRoaXMuY2hpbGRyZW4ubGVuZ3RoJiYodGhpcy5jaGlsZHJlbltyXS5iZWZvcmVQb3NpdGlvbnx8dGhpcy5jaGlsZHJlbltyXS5kb20ucGFyZW50Tm9kZSE9dGhpcy5jb250ZW50RE9NKSluKz10aGlzLmNoaWxkcmVuW3IrK10uc2l6ZTt2YXIgaT1yPT10aGlzLmNoaWxkcmVuLmxlbmd0aD9udWxsOnRoaXMuY2hpbGRyZW5bcl07aWYobj09dCYmKDA9PWV8fCFpfHwhaS5zaXplfHxpLmJvcmRlcnx8ZTwwJiZvKXx8aSYmaS5kb21BdG9tJiZ0PG4raS5zaXplKXJldHVybntub2RlOnRoaXMuY29udGVudERPTSxvZmZzZXQ6aT9hbihpLmRvbSk6dGhpcy5jb250ZW50RE9NLmNoaWxkTm9kZXMubGVuZ3RofTtpZighaSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcG9zaXRpb24gIit0KTt2YXIgcz1uK2kuc2l6ZTtpZighaS5kb21BdG9tJiYoZTwwJiYhaS5ib3JkZXI/cz49dDpzPnQpJiYocz50fHxyKzE+PXRoaXMuY2hpbGRyZW4ubGVuZ3RofHwhdGhpcy5jaGlsZHJlbltyKzFdLmJlZm9yZVBvc2l0aW9uKSlyZXR1cm4gaS5kb21Gcm9tUG9zKHQtbi1pLmJvcmRlcixlKTtuPXN9fSx0ci5wcm90b3R5cGUucGFyc2VSYW5nZT1mdW5jdGlvbih0LGUsbil7aWYodm9pZCAwPT09biYmKG49MCksMD09dGhpcy5jaGlsZHJlbi5sZW5ndGgpcmV0dXJue25vZGU6dGhpcy5jb250ZW50RE9NLGZyb206dCx0bzplLGZyb21PZmZzZXQ6MCx0b09mZnNldDp0aGlzLmNvbnRlbnRET00uY2hpbGROb2Rlcy5sZW5ndGh9O2Zvcih2YXIgcj0tMSxvPS0xLGk9bixzPTA7O3MrKyl7dmFyIGE9dGhpcy5jaGlsZHJlbltzXSxjPWkrYS5zaXplO2lmKC0xPT1yJiZ0PD1jKXt2YXIgbD1pK2EuYm9yZGVyO2lmKHQ+PWwmJmU8PWMtYS5ib3JkZXImJmEubm9kZSYmYS5jb250ZW50RE9NJiZ0aGlzLmNvbnRlbnRET00uY29udGFpbnMoYS5jb250ZW50RE9NKSlyZXR1cm4gYS5wYXJzZVJhbmdlKHQsZSxsKTt0PWk7Zm9yKHZhciB1PXM7dT4wO3UtLSl7dmFyIHA9dGhpcy5jaGlsZHJlblt1LTFdO2lmKHAuc2l6ZSYmcC5kb20ucGFyZW50Tm9kZT09dGhpcy5jb250ZW50RE9NJiYhcC5lbXB0eUNoaWxkQXQoMSkpe3I9YW4ocC5kb20pKzE7YnJlYWt9dC09cC5zaXplfS0xPT1yJiYocj0wKX1pZihyPi0xJiYoYz5lfHxzPT10aGlzLmNoaWxkcmVuLmxlbmd0aC0xKSl7ZT1jO2Zvcih2YXIgaD1zKzE7aDx0aGlzLmNoaWxkcmVuLmxlbmd0aDtoKyspe3ZhciBmPXRoaXMuY2hpbGRyZW5baF07aWYoZi5zaXplJiZmLmRvbS5wYXJlbnROb2RlPT10aGlzLmNvbnRlbnRET00mJiFmLmVtcHR5Q2hpbGRBdCgtMSkpe289YW4oZi5kb20pO2JyZWFrfWUrPWYuc2l6ZX0tMT09byYmKG89dGhpcy5jb250ZW50RE9NLmNoaWxkTm9kZXMubGVuZ3RoKTticmVha31pPWN9cmV0dXJue25vZGU6dGhpcy5jb250ZW50RE9NLGZyb206dCx0bzplLGZyb21PZmZzZXQ6cix0b09mZnNldDpvfX0sdHIucHJvdG90eXBlLmVtcHR5Q2hpbGRBdD1mdW5jdGlvbih0KXtpZih0aGlzLmJvcmRlcnx8IXRoaXMuY29udGVudERPTXx8IXRoaXMuY2hpbGRyZW4ubGVuZ3RoKXJldHVybiExO3ZhciBlPXRoaXMuY2hpbGRyZW5bdDwwPzA6dGhpcy5jaGlsZHJlbi5sZW5ndGgtMV07cmV0dXJuIDA9PWUuc2l6ZXx8ZS5lbXB0eUNoaWxkQXQodCl9LHRyLnByb3RvdHlwZS5kb21BZnRlclBvcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRvbUZyb21Qb3ModCwwKSxuPWUubm9kZSxyPWUub2Zmc2V0O2lmKDEhPW4ubm9kZVR5cGV8fHI9PW4uY2hpbGROb2Rlcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vIG5vZGUgYWZ0ZXIgcG9zICIrdCk7cmV0dXJuIG4uY2hpbGROb2Rlc1tyXX0sdHIucHJvdG90eXBlLnNldFNlbGVjdGlvbj1mdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIG89TWF0aC5taW4odCxlKSxpPU1hdGgubWF4KHQsZSkscz0wLGE9MDtzPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3MrKyl7dmFyIGM9dGhpcy5jaGlsZHJlbltzXSxsPWErYy5zaXplO2lmKG8+YSYmaTxsKXJldHVybiBjLnNldFNlbGVjdGlvbih0LWEtYy5ib3JkZXIsZS1hLWMuYm9yZGVyLG4scik7YT1sfXZhciB1PXRoaXMuZG9tRnJvbVBvcyh0LHQ/LTE6MSkscD1lPT10P3U6dGhpcy5kb21Gcm9tUG9zKGUsZT8tMToxKSxoPW4uZ2V0U2VsZWN0aW9uKCksZj0hMTtpZigodG4uZ2Vja298fHRuLnNhZmFyaSkmJnQ9PWUpe3ZhciBkPXUubm9kZSxtPXUub2Zmc2V0O2lmKDM9PWQubm9kZVR5cGUpe2lmKGY9bSYmIlxuIj09ZC5ub2RlVmFsdWVbbS0xXSxmJiZtPT1kLm5vZGVWYWx1ZS5sZW5ndGgpZm9yKHZhciB2PWQsZz12b2lkIDA7djt2PXYucGFyZW50Tm9kZSl7aWYoZz12Lm5leHRTaWJsaW5nKXsiQlIiPT1nLm5vZGVOYW1lJiYodT1wPXtub2RlOmcucGFyZW50Tm9kZSxvZmZzZXQ6YW4oZykrMX0pO2JyZWFrfXZhciB5PXYucG1WaWV3RGVzYztpZih5JiZ5Lm5vZGUmJnkubm9kZS5pc0Jsb2NrKWJyZWFrfX1lbHNle3ZhciB3PWQuY2hpbGROb2Rlc1ttLTFdO2Y9dyYmKCJCUiI9PXcubm9kZU5hbWV8fCJmYWxzZSI9PXcuY29udGVudEVkaXRhYmxlKX19aWYodG4uZ2Vja28mJmguZm9jdXNOb2RlJiZoLmZvY3VzTm9kZSE9cC5ub2RlJiYxPT1oLmZvY3VzTm9kZS5ub2RlVHlwZSl7dmFyIGI9aC5mb2N1c05vZGUuY2hpbGROb2Rlc1toLmZvY3VzT2Zmc2V0XTtiJiYiZmFsc2UiPT1iLmNvbnRlbnRFZGl0YWJsZSYmKHI9ITApfWlmKHJ8fGYmJnRuLnNhZmFyaXx8IXBuKHUubm9kZSx1Lm9mZnNldCxoLmFuY2hvck5vZGUsaC5hbmNob3JPZmZzZXQpfHwhcG4ocC5ub2RlLHAub2Zmc2V0LGguZm9jdXNOb2RlLGguZm9jdXNPZmZzZXQpKXt2YXIgeD0hMTtpZigoaC5leHRlbmR8fHQ9PWUpJiYhZil7aC5jb2xsYXBzZSh1Lm5vZGUsdS5vZmZzZXQpO3RyeXt0IT1lJiZoLmV4dGVuZChwLm5vZGUscC5vZmZzZXQpLHg9ITB9Y2F0Y2goQyl7aWYoIShDIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uKSl0aHJvdyBDfX1pZigheCl7aWYodD5lKXt2YXIgaz11O3U9cCxwPWt9dmFyIFM9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtTLnNldEVuZChwLm5vZGUscC5vZmZzZXQpLFMuc2V0U3RhcnQodS5ub2RlLHUub2Zmc2V0KSxoLnJlbW92ZUFsbFJhbmdlcygpLGguYWRkUmFuZ2UoUyl9fX0sdHIucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiF0aGlzLmNvbnRlbnRET00mJiJzZWxlY3Rpb24iIT10LnR5cGV9LGVyLmNvbnRlbnRMb3N0LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRET00mJnRoaXMuY29udGVudERPTSE9dGhpcy5kb20mJiF0aGlzLmRvbS5jb250YWlucyh0aGlzLmNvbnRlbnRET00pfSx0ci5wcm90b3R5cGUubWFya0RpcnR5PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAscj0wO3I8dGhpcy5jaGlsZHJlbi5sZW5ndGg7cisrKXt2YXIgbz10aGlzLmNoaWxkcmVuW3JdLGk9bitvLnNpemU7aWYobj09aT90PD1pJiZlPj1uOnQ8aSYmZT5uKXt2YXIgcz1uK28uYm9yZGVyLGE9aS1vLmJvcmRlcjtpZih0Pj1zJiZlPD1hKXJldHVybiB0aGlzLmRpcnR5PXQ9PW58fGU9PWk/Wm46WW4sdm9pZCh0IT1zfHxlIT1hfHwhby5jb250ZW50TG9zdCYmby5kb20ucGFyZW50Tm9kZT09dGhpcy5jb250ZW50RE9NP28ubWFya0RpcnR5KHQtcyxlLXMpOm8uZGlydHk9UW4pO28uZGlydHk9UW59bj1pfXRoaXMuZGlydHk9Wm59LHRyLnByb3RvdHlwZS5tYXJrUGFyZW50c0RpcnR5PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTEsZT10aGlzLnBhcmVudDtlO2U9ZS5wYXJlbnQsdCsrKXt2YXIgbj0xPT10P1puOlluO2UuZGlydHk8biYmKGUuZGlydHk9bil9fSxlci5kb21BdG9tLmdldD1mdW5jdGlvbigpe3JldHVybiExfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0ci5wcm90b3R5cGUsZXIpO3ZhciBucj1bXSxycj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8pe3ZhciBpLHM9bi50eXBlLnRvRE9NO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBzJiYocz1zKHIsKGZ1bmN0aW9uKCl7cmV0dXJuIGk/aS5wYXJlbnQ/aS5wYXJlbnQucG9zQmVmb3JlQ2hpbGQoaSk6dm9pZCAwOm99KSkpLCFuLnR5cGUuc3BlYy5yYXcpe2lmKDEhPXMubm9kZVR5cGUpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTthLmFwcGVuZENoaWxkKHMpLHM9YX1zLmNvbnRlbnRFZGl0YWJsZT0hMSxzLmNsYXNzTGlzdC5hZGQoIlByb3NlTWlycm9yLXdpZGdldCIpfXQuY2FsbCh0aGlzLGUsbnIscyxudWxsKSx0aGlzLndpZGdldD1uLGk9dGhpc310JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17YmVmb3JlUG9zaXRpb246e2NvbmZpZ3VyYWJsZTohMH0sZG9tQXRvbTp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIG4uYmVmb3JlUG9zaXRpb24uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2lkZ2V0LnR5cGUuc2lkZTwwfSxlLnByb3RvdHlwZS5tYXRjaGVzV2lkZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRpcnR5PT1YbiYmdC50eXBlLmVxKHRoaXMud2lkZ2V0LnR5cGUpfSxlLnByb3RvdHlwZS5wYXJzZVJ1bGU9ZnVuY3Rpb24oKXtyZXR1cm57aWdub3JlOiEwfX0sZS5wcm90b3R5cGUuc3RvcEV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMud2lkZ2V0LnNwZWMuc3RvcEV2ZW50O3JldHVybiEhZSYmZSh0KX0sZS5wcm90b3R5cGUuaWdub3JlTXV0YXRpb249ZnVuY3Rpb24odCl7cmV0dXJuInNlbGVjdGlvbiIhPXQudHlwZXx8dGhpcy53aWRnZXQuc3BlYy5pZ25vcmVTZWxlY3Rpb259LG4uZG9tQXRvbS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsbiksZX0odHIpLG9yPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyl7dC5jYWxsKHRoaXMsZSxucixuLG51bGwpLHRoaXMudGV4dERPTT1yLHRoaXMudGV4dD1vfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXtzaXplOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gbi5zaXplLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHQubGVuZ3RofSxlLnByb3RvdHlwZS5sb2NhbFBvc0Zyb21ET009ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCE9dGhpcy50ZXh0RE9NP3RoaXMucG9zQXRTdGFydCsoZT90aGlzLnNpemU6MCk6dGhpcy5wb3NBdFN0YXJ0K2V9LGUucHJvdG90eXBlLmRvbUZyb21Qb3M9ZnVuY3Rpb24odCl7cmV0dXJue25vZGU6dGhpcy50ZXh0RE9NLG9mZnNldDp0fX0sZS5wcm90b3R5cGUuaWdub3JlTXV0YXRpb249ZnVuY3Rpb24odCl7cmV0dXJuImNoYXJhY3RlckRhdGEiPT09dC50eXBlJiZ0LnRhcmdldC5ub2RlVmFsdWU9PXQub2xkVmFsdWV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLG4pLGV9KHRyKSxpcj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8pe3QuY2FsbCh0aGlzLGUsW10scixvKSx0aGlzLm1hcms9bn1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5jcmVhdGU9ZnVuY3Rpb24odCxuLHIsbyl7dmFyIGk9by5ub2RlVmlld3Nbbi50eXBlLm5hbWVdLHM9aSYmaShuLG8scik7cmV0dXJuIHMmJnMuZG9tfHwocz1fdC5yZW5kZXJTcGVjKGRvY3VtZW50LG4udHlwZS5zcGVjLnRvRE9NKG4scikpKSxuZXcgZSh0LG4scy5kb20scy5jb250ZW50RE9NfHxzLmRvbSl9LGUucHJvdG90eXBlLnBhcnNlUnVsZT1mdW5jdGlvbigpe3JldHVybnttYXJrOnRoaXMubWFyay50eXBlLm5hbWUsYXR0cnM6dGhpcy5tYXJrLmF0dHJzLGNvbnRlbnRFbGVtZW50OnRoaXMuY29udGVudERPTX19LGUucHJvdG90eXBlLm1hdGNoZXNNYXJrPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRpcnR5IT1RbiYmdGhpcy5tYXJrLmVxKHQpfSxlLnByb3RvdHlwZS5tYXJrRGlydHk9ZnVuY3Rpb24oZSxuKXtpZih0LnByb3RvdHlwZS5tYXJrRGlydHkuY2FsbCh0aGlzLGUsbiksdGhpcy5kaXJ0eSE9WG4pe3ZhciByPXRoaXMucGFyZW50O3doaWxlKCFyLm5vZGUpcj1yLnBhcmVudDtyLmRpcnR5PHRoaXMuZGlydHkmJihyLmRpcnR5PXRoaXMuZGlydHkpLHRoaXMuZGlydHk9WG59fSxlLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LG4scil7dmFyIG89ZS5jcmVhdGUodGhpcy5wYXJlbnQsdGhpcy5tYXJrLCEwLHIpLGk9dGhpcy5jaGlsZHJlbixzPXRoaXMuc2l6ZTtuPHMmJihpPUFyKGksbixzLHIpKSx0PjAmJihpPUFyKGksMCx0LHIpKTtmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKylpW2FdLnBhcmVudD1vO3JldHVybiBvLmNoaWxkcmVuPWksb30sZX0odHIpLHNyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyxpLHMsYSxjLGwpe3QuY2FsbCh0aGlzLGUsbi5pc0xlYWY/bnI6W10saSxzKSx0aGlzLm5vZGVET009YSx0aGlzLm5vZGU9bix0aGlzLm91dGVyRGVjbz1yLHRoaXMuaW5uZXJEZWNvPW8scyYmdGhpcy51cGRhdGVDaGlsZHJlbihjLGwpfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXtzaXplOntjb25maWd1cmFibGU6ITB9LGJvcmRlcjp7Y29uZmlndXJhYmxlOiEwfSxkb21BdG9tOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gZS5jcmVhdGU9ZnVuY3Rpb24odCxuLHIsbyxpLHMpe3ZhciBhLGMsbD1pLm5vZGVWaWV3c1tuLnR5cGUubmFtZV0sdT1sJiZsKG4saSwoZnVuY3Rpb24oKXtyZXR1cm4gYz9jLnBhcmVudD9jLnBhcmVudC5wb3NCZWZvcmVDaGlsZChjKTp2b2lkIDA6c30pLHIsbykscD11JiZ1LmRvbSxoPXUmJnUuY29udGVudERPTTtpZihuLmlzVGV4dClpZihwKXtpZigzIT1wLm5vZGVUeXBlKXRocm93IG5ldyBSYW5nZUVycm9yKCJUZXh0IG11c3QgYmUgcmVuZGVyZWQgYXMgYSBET00gdGV4dCBub2RlIil9ZWxzZSBwPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG4udGV4dCk7ZWxzZSBwfHwoYT1fdC5yZW5kZXJTcGVjKGRvY3VtZW50LG4udHlwZS5zcGVjLnRvRE9NKG4pKSxwPWEuZG9tLGg9YS5jb250ZW50RE9NKTtofHxuLmlzVGV4dHx8IkJSIj09cC5ub2RlTmFtZXx8KHAuaGFzQXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKXx8KHAuY29udGVudEVkaXRhYmxlPSExKSxuLnR5cGUuc3BlYy5kcmFnZ2FibGUmJihwLmRyYWdnYWJsZT0hMCkpO3ZhciBmPXA7cmV0dXJuIHA9Z3IocCxyLG4pLHU/Yz1uZXcgdXIodCxuLHIsbyxwLGgsZix1LGkscysxKTpuLmlzVGV4dD9uZXcgY3IodCxuLHIsbyxwLGYsaSk6bmV3IGUodCxuLHIsbyxwLGgsZixpLHMrMSl9LGUucHJvdG90eXBlLnBhcnNlUnVsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodGhpcy5ub2RlLnR5cGUuc3BlYy5yZXBhcnNlSW5WaWV3KXJldHVybiBudWxsO3ZhciBlPXtub2RlOnRoaXMubm9kZS50eXBlLm5hbWUsYXR0cnM6dGhpcy5ub2RlLmF0dHJzfTtyZXR1cm4gdGhpcy5ub2RlLnR5cGUuc3BlYy5jb2RlJiYoZS5wcmVzZXJ2ZVdoaXRlc3BhY2U9ImZ1bGwiKSx0aGlzLmNvbnRlbnRET00mJiF0aGlzLmNvbnRlbnRMb3N0P2UuY29udGVudEVsZW1lbnQ9dGhpcy5jb250ZW50RE9NOmUuZ2V0Q29udGVudD1mdW5jdGlvbigpe3JldHVybiB0LmNvbnRlbnRET00/cC5lbXB0eTp0Lm5vZGUuY29udGVudH0sZX0sZS5wcm90b3R5cGUubWF0Y2hlc05vZGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLmRpcnR5PT1YbiYmdC5lcSh0aGlzLm5vZGUpJiZ5cihlLHRoaXMub3V0ZXJEZWNvKSYmbi5lcSh0aGlzLmlubmVyRGVjbyl9LG4uc2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLm5vZGVTaXplfSxuLmJvcmRlci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLmlzTGVhZj8wOjF9LGUucHJvdG90eXBlLnVwZGF0ZUNoaWxkcmVuPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXRoaXMubm9kZS5pbmxpbmVDb250ZW50LG89ZSxpPXImJnQuY29tcG9zaW5nJiZ0aGlzLmxvY2FsQ29tcG9zaXRpb25Ob2RlKHQsZSkscz1uZXcgYnIodGhpcyxpJiZpLm5vZGUpO1NyKHRoaXMubm9kZSx0aGlzLmlubmVyRGVjbywoZnVuY3Rpb24oZSxpLGEpe2Uuc3BlYy5tYXJrcz9zLnN5bmNUb01hcmtzKGUuc3BlYy5tYXJrcyxyLHQpOmUudHlwZS5zaWRlPj0wJiYhYSYmcy5zeW5jVG9NYXJrcyhpPT1uLm5vZGUuY2hpbGRDb3VudD92Lm5vbmU6bi5ub2RlLmNoaWxkKGkpLm1hcmtzLHIsdCkscy5wbGFjZVdpZGdldChlLHQsbyl9KSwoZnVuY3Rpb24oZSxuLGksYSl7cy5zeW5jVG9NYXJrcyhlLm1hcmtzLHIsdCkscy5maW5kTm9kZU1hdGNoKGUsbixpLGEpfHxzLnVwZGF0ZU5leHROb2RlKGUsbixpLHQsYSl8fHMuYWRkTm9kZShlLG4saSx0LG8pLG8rPWUubm9kZVNpemV9KSkscy5zeW5jVG9NYXJrcyhucixyLHQpLHRoaXMubm9kZS5pc1RleHRibG9jayYmcy5hZGRUZXh0YmxvY2tIYWNrcygpLHMuZGVzdHJveVJlc3QoKSwocy5jaGFuZ2VkfHx0aGlzLmRpcnR5PT1abikmJihpJiZ0aGlzLnByb3RlY3RMb2NhbENvbXBvc2l0aW9uKHQsaSkscHIodGhpcy5jb250ZW50RE9NLHRoaXMuY2hpbGRyZW4sdCksdG4uaW9zJiZDcih0aGlzLmRvbSkpfSxlLnByb3RvdHlwZS5sb2NhbENvbXBvc2l0aW9uTm9kZT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuc3RhdGUuc2VsZWN0aW9uLHI9bi5mcm9tLG89bi50bztpZighKCEodC5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBUZSl8fHI8ZXx8bz5lK3RoaXMubm9kZS5jb250ZW50LnNpemUpKXt2YXIgaT10LnJvb3QuZ2V0U2VsZWN0aW9uKCkscz1NcihpLmZvY3VzTm9kZSxpLmZvY3VzT2Zmc2V0KTtpZihzJiZ0aGlzLmRvbS5jb250YWlucyhzLnBhcmVudE5vZGUpKXt2YXIgYT1zLm5vZGVWYWx1ZSxjPU9yKHRoaXMubm9kZS5jb250ZW50LGEsci1lLG8tZSk7cmV0dXJuIGM8MD9udWxsOntub2RlOnMscG9zOmMsdGV4dDphfX19fSxlLnByb3RvdHlwZS5wcm90ZWN0TG9jYWxDb21wb3NpdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPWUubm9kZSxyPWUucG9zLG89ZS50ZXh0O2lmKCF0aGlzLmdldERlc2Mobikpe2Zvcih2YXIgaT1uOztpPWkucGFyZW50Tm9kZSl7aWYoaS5wYXJlbnROb2RlPT10aGlzLmNvbnRlbnRET00pYnJlYWs7d2hpbGUoaS5wcmV2aW91c1NpYmxpbmcpaS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkucHJldmlvdXNTaWJsaW5nKTt3aGlsZShpLm5leHRTaWJsaW5nKWkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpLm5leHRTaWJsaW5nKTtpLnBtVmlld0Rlc2MmJihpLnBtVmlld0Rlc2M9bnVsbCl9dmFyIHM9bmV3IG9yKHRoaXMsaSxuLG8pO3QuY29tcG9zaXRpb25Ob2Rlcy5wdXNoKHMpLHRoaXMuY2hpbGRyZW49QXIodGhpcy5jaGlsZHJlbixyLHIrby5sZW5ndGgsdCxzKX19LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4hKHRoaXMuZGlydHk9PVFufHwhdC5zYW1lTWFya3VwKHRoaXMubm9kZSkpJiYodGhpcy51cGRhdGVJbm5lcih0LGUsbixyKSwhMCl9LGUucHJvdG90eXBlLnVwZGF0ZUlubmVyPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMudXBkYXRlT3V0ZXJEZWNvKGUpLHRoaXMubm9kZT10LHRoaXMuaW5uZXJEZWNvPW4sdGhpcy5jb250ZW50RE9NJiZ0aGlzLnVwZGF0ZUNoaWxkcmVuKHIsdGhpcy5wb3NBdFN0YXJ0KSx0aGlzLmRpcnR5PVhufSxlLnByb3RvdHlwZS51cGRhdGVPdXRlckRlY289ZnVuY3Rpb24odCl7aWYoIXlyKHQsdGhpcy5vdXRlckRlY28pKXt2YXIgZT0xIT10aGlzLm5vZGVET00ubm9kZVR5cGUsbj10aGlzLmRvbTt0aGlzLmRvbT1tcih0aGlzLmRvbSx0aGlzLm5vZGVET00sZHIodGhpcy5vdXRlckRlY28sdGhpcy5ub2RlLGUpLGRyKHQsdGhpcy5ub2RlLGUpKSx0aGlzLmRvbSE9biYmKG4ucG1WaWV3RGVzYz1udWxsLHRoaXMuZG9tLnBtVmlld0Rlc2M9dGhpcyksdGhpcy5vdXRlckRlY289dH19LGUucHJvdG90eXBlLnNlbGVjdE5vZGU9ZnVuY3Rpb24oKXt0aGlzLm5vZGVET00uY2xhc3NMaXN0LmFkZCgiUHJvc2VNaXJyb3Itc2VsZWN0ZWRub2RlIiksIXRoaXMuY29udGVudERPTSYmdGhpcy5ub2RlLnR5cGUuc3BlYy5kcmFnZ2FibGV8fCh0aGlzLmRvbS5kcmFnZ2FibGU9ITApfSxlLnByb3RvdHlwZS5kZXNlbGVjdE5vZGU9ZnVuY3Rpb24oKXt0aGlzLm5vZGVET00uY2xhc3NMaXN0LnJlbW92ZSgiUHJvc2VNaXJyb3Itc2VsZWN0ZWRub2RlIiksIXRoaXMuY29udGVudERPTSYmdGhpcy5ub2RlLnR5cGUuc3BlYy5kcmFnZ2FibGV8fHRoaXMuZG9tLnJlbW92ZUF0dHJpYnV0ZSgiZHJhZ2dhYmxlIil9LG4uZG9tQXRvbS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLmlzQXRvbX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsbiksZX0odHIpO2Z1bmN0aW9uIGFyKHQsZSxuLHIsbyl7cmV0dXJuIGdyKHIsZSx0KSxuZXcgc3IobnVsbCx0LGUsbixyLHIscixvLDApfXZhciBjcj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8saSxzLGEpe3QuY2FsbCh0aGlzLGUsbixyLG8saSxudWxsLHMsYSl9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e2RvbUF0b206e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBlLnByb3RvdHlwZS5wYXJzZVJ1bGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm5vZGVET00ucGFyZW50Tm9kZTt3aGlsZSh0JiZ0IT10aGlzLmRvbSYmIXQucG1Jc0RlY28pdD10LnBhcmVudE5vZGU7cmV0dXJue3NraXA6dHx8ITB9fSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuISh0aGlzLmRpcnR5PT1Rbnx8dGhpcy5kaXJ0eSE9WG4mJiF0aGlzLmluUGFyZW50KCl8fCF0LnNhbWVNYXJrdXAodGhpcy5ub2RlKSkmJih0aGlzLnVwZGF0ZU91dGVyRGVjbyhlKSx0aGlzLmRpcnR5PT1YbiYmdC50ZXh0PT10aGlzLm5vZGUudGV4dHx8dC50ZXh0PT10aGlzLm5vZGVET00ubm9kZVZhbHVlfHwodGhpcy5ub2RlRE9NLm5vZGVWYWx1ZT10LnRleHQsci50cmFja1dyaXRlcz09dGhpcy5ub2RlRE9NJiYoci50cmFja1dyaXRlcz1udWxsKSksdGhpcy5ub2RlPXQsdGhpcy5kaXJ0eT1YbiwhMCl9LGUucHJvdG90eXBlLmluUGFyZW50PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMucGFyZW50LmNvbnRlbnRET00sZT10aGlzLm5vZGVET007ZTtlPWUucGFyZW50Tm9kZSlpZihlPT10KXJldHVybiEwO3JldHVybiExfSxlLnByb3RvdHlwZS5kb21Gcm9tUG9zPWZ1bmN0aW9uKHQpe3JldHVybntub2RlOnRoaXMubm9kZURPTSxvZmZzZXQ6dH19LGUucHJvdG90eXBlLmxvY2FsUG9zRnJvbURPTT1mdW5jdGlvbihlLG4scil7cmV0dXJuIGU9PXRoaXMubm9kZURPTT90aGlzLnBvc0F0U3RhcnQrTWF0aC5taW4obix0aGlzLm5vZGUudGV4dC5sZW5ndGgpOnQucHJvdG90eXBlLmxvY2FsUG9zRnJvbURPTS5jYWxsKHRoaXMsZSxuLHIpfSxlLnByb3RvdHlwZS5pZ25vcmVNdXRhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4iY2hhcmFjdGVyRGF0YSIhPXQudHlwZSYmInNlbGVjdGlvbiIhPXQudHlwZX0sZS5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCxuLHIpe3ZhciBvPXRoaXMubm9kZS5jdXQodCxuKSxpPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG8udGV4dCk7cmV0dXJuIG5ldyBlKHRoaXMucGFyZW50LG8sdGhpcy5vdXRlckRlY28sdGhpcy5pbm5lckRlY28saSxpLHIpfSxlLnByb3RvdHlwZS5tYXJrRGlydHk9ZnVuY3Rpb24oZSxuKXt0LnByb3RvdHlwZS5tYXJrRGlydHkuY2FsbCh0aGlzLGUsbiksdGhpcy5kb209PXRoaXMubm9kZURPTXx8MCE9ZSYmbiE9dGhpcy5ub2RlRE9NLm5vZGVWYWx1ZS5sZW5ndGh8fCh0aGlzLmRpcnR5PVFuKX0sbi5kb21BdG9tLmdldD1mdW5jdGlvbigpe3JldHVybiExfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfShzciksbHI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXtkb21BdG9tOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7cmV0dXJue2lnbm9yZTohMH19LGUucHJvdG90eXBlLm1hdGNoZXNIYWNrPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRpcnR5PT1YbiYmdGhpcy5kb20ubm9kZU5hbWU9PXR9LG4uZG9tQXRvbS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsbiksZX0odHIpLHVyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyxpLHMsYSxjLGwsdSl7dC5jYWxsKHRoaXMsZSxuLHIsbyxpLHMsYSxsLHUpLHRoaXMuc3BlYz1jfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSxuLHIsbyl7aWYodGhpcy5kaXJ0eT09UW4pcmV0dXJuITE7aWYodGhpcy5zcGVjLnVwZGF0ZSl7dmFyIGk9dGhpcy5zcGVjLnVwZGF0ZShlLG4scik7cmV0dXJuIGkmJnRoaXMudXBkYXRlSW5uZXIoZSxuLHIsbyksaX1yZXR1cm4hKCF0aGlzLmNvbnRlbnRET00mJiFlLmlzTGVhZikmJnQucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMsZSxuLHIsbyl9LGUucHJvdG90eXBlLnNlbGVjdE5vZGU9ZnVuY3Rpb24oKXt0aGlzLnNwZWMuc2VsZWN0Tm9kZT90aGlzLnNwZWMuc2VsZWN0Tm9kZSgpOnQucHJvdG90eXBlLnNlbGVjdE5vZGUuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuZGVzZWxlY3ROb2RlPWZ1bmN0aW9uKCl7dGhpcy5zcGVjLmRlc2VsZWN0Tm9kZT90aGlzLnNwZWMuZGVzZWxlY3ROb2RlKCk6dC5wcm90b3R5cGUuZGVzZWxlY3ROb2RlLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnNldFNlbGVjdGlvbj1mdW5jdGlvbihlLG4scixvKXt0aGlzLnNwZWMuc2V0U2VsZWN0aW9uP3RoaXMuc3BlYy5zZXRTZWxlY3Rpb24oZSxuLHIpOnQucHJvdG90eXBlLnNldFNlbGVjdGlvbi5jYWxsKHRoaXMsZSxuLHIsbyl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnNwZWMuZGVzdHJveSYmdGhpcy5zcGVjLmRlc3Ryb3koKSx0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnN0b3BFdmVudD1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuc3BlYy5zdG9wRXZlbnQmJnRoaXMuc3BlYy5zdG9wRXZlbnQodCl9LGUucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNwZWMuaWdub3JlTXV0YXRpb24/dGhpcy5zcGVjLmlnbm9yZU11dGF0aW9uKGUpOnQucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uLmNhbGwodGhpcyxlKX0sZX0oc3IpO2Z1bmN0aW9uIHByKHQsZSxuKXtmb3IodmFyIHI9dC5maXJzdENoaWxkLG89ITEsaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgcz1lW2ldLGE9cy5kb207aWYoYS5wYXJlbnROb2RlPT10KXt3aGlsZShhIT1yKXI9d3Iociksbz0hMDtyPXIubmV4dFNpYmxpbmd9ZWxzZSBvPSEwLHQuaW5zZXJ0QmVmb3JlKGEscik7aWYocyBpbnN0YW5jZW9mIGlyKXt2YXIgYz1yP3IucHJldmlvdXNTaWJsaW5nOnQubGFzdENoaWxkO3ByKHMuY29udGVudERPTSxzLmNoaWxkcmVuLG4pLHI9Yz9jLm5leHRTaWJsaW5nOnQuZmlyc3RDaGlsZH19d2hpbGUocilyPXdyKHIpLG89ITA7byYmbi50cmFja1dyaXRlcz09dCYmKG4udHJhY2tXcml0ZXM9bnVsbCl9ZnVuY3Rpb24gaHIodCl7dCYmKHRoaXMubm9kZU5hbWU9dCl9aHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobnVsbCk7dmFyIGZyPVtuZXcgaHJdO2Z1bmN0aW9uIGRyKHQsZSxuKXtpZigwPT10Lmxlbmd0aClyZXR1cm4gZnI7Zm9yKHZhciByPW4/ZnJbMF06bmV3IGhyLG89W3JdLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIHM9dFtpXS50eXBlLmF0dHJzO2lmKHMpZm9yKHZhciBhIGluIHMubm9kZU5hbWUmJm8ucHVzaChyPW5ldyBocihzLm5vZGVOYW1lKSkscyl7dmFyIGM9c1thXTtudWxsIT1jJiYobiYmMT09by5sZW5ndGgmJm8ucHVzaChyPW5ldyBocihlLmlzSW5saW5lPyJzcGFuIjoiZGl2IikpLCJjbGFzcyI9PWE/ci5jbGFzcz0oci5jbGFzcz9yLmNsYXNzKyIgIjoiIikrYzoic3R5bGUiPT1hP3Iuc3R5bGU9KHIuc3R5bGU/ci5zdHlsZSsiOyI6IiIpK2M6Im5vZGVOYW1lIiE9YSYmKHJbYV09YykpfX1yZXR1cm4gb31mdW5jdGlvbiBtcih0LGUsbixyKXtpZihuPT1mciYmcj09ZnIpcmV0dXJuIGU7Zm9yKHZhciBvPWUsaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgcz1yW2ldLGE9bltpXTtpZihpKXt2YXIgYz12b2lkIDA7YSYmYS5ub2RlTmFtZT09cy5ub2RlTmFtZSYmbyE9dCYmKGM9by5wYXJlbnROb2RlKSYmYy50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PXMubm9kZU5hbWV8fChjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQocy5ub2RlTmFtZSksYy5wbUlzRGVjbz0hMCxjLmFwcGVuZENoaWxkKG8pLGE9ZnJbMF0pLG89Y312cihvLGF8fGZyWzBdLHMpfXJldHVybiBvfWZ1bmN0aW9uIHZyKHQsZSxuKXtmb3IodmFyIHIgaW4gZSkiY2xhc3MiPT1yfHwic3R5bGUiPT1yfHwibm9kZU5hbWUiPT1yfHxyIGluIG58fHQucmVtb3ZlQXR0cmlidXRlKHIpO2Zvcih2YXIgbyBpbiBuKSJjbGFzcyIhPW8mJiJzdHlsZSIhPW8mJiJub2RlTmFtZSIhPW8mJm5bb10hPWVbb10mJnQuc2V0QXR0cmlidXRlKG8sbltvXSk7aWYoZS5jbGFzcyE9bi5jbGFzcyl7Zm9yKHZhciBpPWUuY2xhc3M/ZS5jbGFzcy5zcGxpdCgiICIpLmZpbHRlcihCb29sZWFuKTpucixzPW4uY2xhc3M/bi5jbGFzcy5zcGxpdCgiICIpLmZpbHRlcihCb29sZWFuKTpucixhPTA7YTxpLmxlbmd0aDthKyspLTE9PXMuaW5kZXhPZihpW2FdKSYmdC5jbGFzc0xpc3QucmVtb3ZlKGlbYV0pO2Zvcih2YXIgYz0wO2M8cy5sZW5ndGg7YysrKS0xPT1pLmluZGV4T2Yoc1tjXSkmJnQuY2xhc3NMaXN0LmFkZChzW2NdKX1pZihlLnN0eWxlIT1uLnN0eWxlKXtpZihlLnN0eWxlKXt2YXIgbCx1PS9ccyooW1x3XC1ceGExLVx1ZmZmZl0rKVxzKjooPzoiKD86XFwufFteIl0pKiJ8Jyg/OlxcLnxbXiddKSonfFwoLio/XCl8W147XSkqL2c7d2hpbGUobD11LmV4ZWMoZS5zdHlsZSkpdC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShsWzFdKX1uLnN0eWxlJiYodC5zdHlsZS5jc3NUZXh0Kz1uLnN0eWxlKX19ZnVuY3Rpb24gZ3IodCxlLG4pe3JldHVybiBtcih0LHQsZnIsZHIoZSxuLDEhPXQubm9kZVR5cGUpKX1mdW5jdGlvbiB5cih0LGUpe2lmKHQubGVuZ3RoIT1lLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylpZighdFtuXS50eXBlLmVxKGVbbl0udHlwZSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gd3IodCl7dmFyIGU9dC5uZXh0U2libGluZztyZXR1cm4gdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpLGV9dmFyIGJyPWZ1bmN0aW9uKHQsZSl7dGhpcy50b3A9dCx0aGlzLmxvY2s9ZSx0aGlzLmluZGV4PTAsdGhpcy5zdGFjaz1bXSx0aGlzLmNoYW5nZWQ9ITEsdGhpcy5wcmVNYXRjaD14cih0Lm5vZGUuY29udGVudCx0LmNoaWxkcmVuKX07ZnVuY3Rpb24geHIodCxlKXtmb3IodmFyIG49dC5jaGlsZENvdW50LHI9ZS5sZW5ndGgsbz1uZXcgTWFwO24+MCYmcj4wO3ItLSl7dmFyIGk9ZVtyLTFdLHM9aS5ub2RlO2lmKHMpe2lmKHMhPXQuY2hpbGQobi0xKSlicmVhazstLW4sby5zZXQoaSxuKX19cmV0dXJue2luZGV4Om4sbWF0Y2hlZDpvfX1mdW5jdGlvbiBrcih0LGUpe3JldHVybiB0LnR5cGUuc2lkZS1lLnR5cGUuc2lkZX1mdW5jdGlvbiBTcih0LGUsbixyKXt2YXIgbz1lLmxvY2Fscyh0KSxpPTA7aWYoMCE9by5sZW5ndGgpZm9yKHZhciBzPTAsYT1bXSxjPW51bGwsbD0wOzspe2lmKHM8by5sZW5ndGgmJm9bc10udG89PWkpe3ZhciB1PW9bcysrXSxwPXZvaWQgMDt3aGlsZShzPG8ubGVuZ3RoJiZvW3NdLnRvPT1pKShwfHwocD1bdV0pKS5wdXNoKG9bcysrXSk7aWYocCl7cC5zb3J0KGtyKTtmb3IodmFyIGg9MDtoPHAubGVuZ3RoO2grKyluKHBbaF0sbCwhIWMpfWVsc2Ugbih1LGwsISFjKX12YXIgZj12b2lkIDAsZD12b2lkIDA7aWYoYylkPS0xLGY9YyxjPW51bGw7ZWxzZXtpZighKGw8dC5jaGlsZENvdW50KSlicmVhaztkPWwsZj10LmNoaWxkKGwrKyl9Zm9yKHZhciBtPTA7bTxhLmxlbmd0aDttKyspYVttXS50bzw9aSYmYS5zcGxpY2UobS0tLDEpO3doaWxlKHM8by5sZW5ndGgmJm9bc10uZnJvbTw9aSYmb1tzXS50bz5pKWEucHVzaChvW3MrK10pO3ZhciB2PWkrZi5ub2RlU2l6ZTtpZihmLmlzVGV4dCl7dmFyIGc9djtzPG8ubGVuZ3RoJiZvW3NdLmZyb208ZyYmKGc9b1tzXS5mcm9tKTtmb3IodmFyIHk9MDt5PGEubGVuZ3RoO3krKylhW3ldLnRvPGcmJihnPWFbeV0udG8pO2c8diYmKGM9Zi5jdXQoZy1pKSxmPWYuY3V0KDAsZy1pKSx2PWcsZD0tMSl9dmFyIHc9YS5sZW5ndGg/Zi5pc0lubGluZSYmIWYuaXNMZWFmP2EuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hdC5pbmxpbmV9KSk6YS5zbGljZSgpOm5yO3IoZix3LGUuZm9yQ2hpbGQoaSxmKSxkKSxpPXZ9ZWxzZSBmb3IodmFyIGI9MDtiPHQuY2hpbGRDb3VudDtiKyspe3ZhciB4PXQuY2hpbGQoYik7cih4LG8sZS5mb3JDaGlsZChpLHgpLGIpLGkrPXgubm9kZVNpemV9fWZ1bmN0aW9uIENyKHQpe2lmKCJVTCI9PXQubm9kZU5hbWV8fCJPTCI9PXQubm9kZU5hbWUpe3ZhciBlPXQuc3R5bGUuY3NzVGV4dDt0LnN0eWxlLmNzc1RleHQ9ZSsiOyBsaXN0LXN0eWxlOiBzcXVhcmUgIWltcG9ydGFudCIsd2luZG93LmdldENvbXB1dGVkU3R5bGUodCkubGlzdFN0eWxlLHQuc3R5bGUuY3NzVGV4dD1lfX1mdW5jdGlvbiBNcih0LGUpe2Zvcig7Oyl7aWYoMz09dC5ub2RlVHlwZSlyZXR1cm4gdDtpZigxPT10Lm5vZGVUeXBlJiZlPjApe2lmKHQuY2hpbGROb2Rlcy5sZW5ndGg+ZSYmMz09dC5jaGlsZE5vZGVzW2VdLm5vZGVUeXBlKXJldHVybiB0LmNoaWxkTm9kZXNbZV07dD10LmNoaWxkTm9kZXNbZS0xXSxlPWRuKHQpfWVsc2V7aWYoISgxPT10Lm5vZGVUeXBlJiZlPHQuY2hpbGROb2Rlcy5sZW5ndGgpKXJldHVybiBudWxsO3Q9dC5jaGlsZE5vZGVzW2VdLGU9MH19fWZ1bmN0aW9uIE9yKHQsZSxuLHIpe2Zvcih2YXIgbz0wLGk9MDtvPHQuY2hpbGRDb3VudCYmaTw9cjspe3ZhciBzPXQuY2hpbGQobysrKSxhPWk7aWYoaSs9cy5ub2RlU2l6ZSxzLmlzVGV4dCl7dmFyIGM9cy50ZXh0O3doaWxlKG88dC5jaGlsZENvdW50KXt2YXIgbD10LmNoaWxkKG8rKyk7aWYoaSs9bC5ub2RlU2l6ZSwhbC5pc1RleHQpYnJlYWs7Yys9bC50ZXh0fWlmKGk+PW4pe3ZhciB1PWMubGFzdEluZGV4T2YoZSxyLWEpO2lmKHU+PTAmJnUrZS5sZW5ndGgrYT49bilyZXR1cm4gYSt1fX19cmV0dXJuLTF9ZnVuY3Rpb24gQXIodCxlLG4scixvKXtmb3IodmFyIGk9W10scz0wLGE9MDtzPHQubGVuZ3RoO3MrKyl7dmFyIGM9dFtzXSxsPWEsdT1hKz1jLnNpemU7bD49bnx8dTw9ZT9pLnB1c2goYyk6KGw8ZSYmaS5wdXNoKGMuc2xpY2UoMCxlLWwscikpLG8mJihpLnB1c2gobyksbz1udWxsKSx1Pm4mJmkucHVzaChjLnNsaWNlKG4tbCxjLnNpemUscikpKX1yZXR1cm4gaX1mdW5jdGlvbiBOcih0LGUpe3ZhciBuPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxyPXQuc3RhdGUuZG9jO2lmKCFuLmZvY3VzTm9kZSlyZXR1cm4gbnVsbDt2YXIgbz10LmRvY1ZpZXcubmVhcmVzdERlc2Mobi5mb2N1c05vZGUpLGk9byYmMD09by5zaXplLHM9dC5kb2NWaWV3LnBvc0Zyb21ET00obi5mb2N1c05vZGUsbi5mb2N1c09mZnNldCk7aWYoczwwKXJldHVybiBudWxsO3ZhciBhLGMsbD1yLnJlc29sdmUocyk7aWYoZ24obikpe2E9bDt3aGlsZShvJiYhby5ub2RlKW89by5wYXJlbnQ7aWYobyYmby5ub2RlLmlzQXRvbSYmX2UuaXNTZWxlY3RhYmxlKG8ubm9kZSkmJm8ucGFyZW50JiYoIW8ubm9kZS5pc0lubGluZXx8IW1uKG4uZm9jdXNOb2RlLG4uZm9jdXNPZmZzZXQsby5kb20pKSl7dmFyIHU9by5wb3NCZWZvcmU7Yz1uZXcgX2Uocz09dT9sOnIucmVzb2x2ZSh1KSl9fWVsc2V7dmFyIHA9dC5kb2NWaWV3LnBvc0Zyb21ET00obi5hbmNob3JOb2RlLG4uYW5jaG9yT2Zmc2V0KTtpZihwPDApcmV0dXJuIG51bGw7YT1yLnJlc29sdmUocCl9aWYoIWMpe3ZhciBoPSJwb2ludGVyIj09ZXx8dC5zdGF0ZS5zZWxlY3Rpb24uaGVhZDxsLnBvcyYmIWk/MTotMTtjPVZyKHQsYSxsLGgpfXJldHVybiBjfWZ1bmN0aW9uIEVyKHQpe3JldHVybiB0LmVkaXRhYmxlP3QuaGFzRm9jdXMoKTpMcih0KSYmZG9jdW1lbnQuYWN0aXZlRWxlbWVudCYmZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5jb250YWlucyh0LmRvbSl9ZnVuY3Rpb24gVHIodCxlKXt2YXIgbj10LnN0YXRlLnNlbGVjdGlvbjtpZigkcih0LG4pLEVyKHQpKXtpZih0LmRvbU9ic2VydmVyLmRpc2Nvbm5lY3RTZWxlY3Rpb24oKSx0LmN1cnNvcldyYXBwZXIpUHIodCk7ZWxzZXt2YXIgcixvLGk9bi5hbmNob3Iscz1uLmhlYWQ7IURyfHxuIGluc3RhbmNlb2YgVGV8fChuLiRmcm9tLnBhcmVudC5pbmxpbmVDb250ZW50fHwocj1fcih0LG4uZnJvbSkpLG4uZW1wdHl8fG4uJGZyb20ucGFyZW50LmlubGluZUNvbnRlbnR8fChvPV9yKHQsbi50bykpKSx0LmRvY1ZpZXcuc2V0U2VsZWN0aW9uKGkscyx0LnJvb3QsZSksRHImJihyJiZ6cihyKSxvJiZ6cihvKSksbi52aXNpYmxlP3QuZG9tLmNsYXNzTGlzdC5yZW1vdmUoIlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb24iKToodC5kb20uY2xhc3NMaXN0LmFkZCgiUHJvc2VNaXJyb3ItaGlkZXNlbGVjdGlvbiIpLCJvbnNlbGVjdGlvbmNoYW5nZSJpbiBkb2N1bWVudCYmSXIodCkpfXQuZG9tT2JzZXJ2ZXIuc2V0Q3VyU2VsZWN0aW9uKCksdC5kb21PYnNlcnZlci5jb25uZWN0U2VsZWN0aW9uKCl9fWJyLnByb3RvdHlwZS5kZXN0cm95QmV0d2Vlbj1mdW5jdGlvbih0LGUpe2lmKHQhPWUpe2Zvcih2YXIgbj10O248ZTtuKyspdGhpcy50b3AuY2hpbGRyZW5bbl0uZGVzdHJveSgpO3RoaXMudG9wLmNoaWxkcmVuLnNwbGljZSh0LGUtdCksdGhpcy5jaGFuZ2VkPSEwfX0sYnIucHJvdG90eXBlLmRlc3Ryb3lSZXN0PWZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95QmV0d2Vlbih0aGlzLmluZGV4LHRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aCl9LGJyLnByb3RvdHlwZS5zeW5jVG9NYXJrcz1mdW5jdGlvbih0LGUsbil7dmFyIHI9MCxvPXRoaXMuc3RhY2subGVuZ3RoPj4xLGk9TWF0aC5taW4obyx0Lmxlbmd0aCk7d2hpbGUocjxpJiYocj09by0xP3RoaXMudG9wOnRoaXMuc3RhY2tbcisxPDwxXSkubWF0Y2hlc01hcmsodFtyXSkmJiExIT09dFtyXS50eXBlLnNwZWMuc3Bhbm5pbmcpcisrO3doaWxlKHI8byl0aGlzLmRlc3Ryb3lSZXN0KCksdGhpcy50b3AuZGlydHk9WG4sdGhpcy5pbmRleD10aGlzLnN0YWNrLnBvcCgpLHRoaXMudG9wPXRoaXMuc3RhY2sucG9wKCksby0tO3doaWxlKG88dC5sZW5ndGgpe3RoaXMuc3RhY2sucHVzaCh0aGlzLnRvcCx0aGlzLmluZGV4KzEpO2Zvcih2YXIgcz0tMSxhPXRoaXMuaW5kZXg7YTxNYXRoLm1pbih0aGlzLmluZGV4KzMsdGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoKTthKyspaWYodGhpcy50b3AuY2hpbGRyZW5bYV0ubWF0Y2hlc01hcmsodFtvXSkpe3M9YTticmVha31pZihzPi0xKXM+dGhpcy5pbmRleCYmKHRoaXMuY2hhbmdlZD0hMCx0aGlzLmRlc3Ryb3lCZXR3ZWVuKHRoaXMuaW5kZXgscykpLHRoaXMudG9wPXRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXhdO2Vsc2V7dmFyIGM9aXIuY3JlYXRlKHRoaXMudG9wLHRbb10sZSxuKTt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCwwLGMpLHRoaXMudG9wPWMsdGhpcy5jaGFuZ2VkPSEwfXRoaXMuaW5kZXg9MCxvKyt9fSxici5wcm90b3R5cGUuZmluZE5vZGVNYXRjaD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10aGlzLnRvcC5jaGlsZHJlbixpPS0xO2lmKHI+PXRoaXMucHJlTWF0Y2guaW5kZXgpe2Zvcih2YXIgcz10aGlzLmluZGV4O3M8by5sZW5ndGg7cysrKWlmKG9bc10ubWF0Y2hlc05vZGUodCxlLG4pKXtpPXM7YnJlYWt9fWVsc2UgZm9yKHZhciBhPXRoaXMuaW5kZXgsYz1NYXRoLm1pbihvLmxlbmd0aCxhKzEpO2E8YzthKyspe3ZhciBsPW9bYV07aWYobC5tYXRjaGVzTm9kZSh0LGUsbikmJiF0aGlzLnByZU1hdGNoLm1hdGNoZWQuaGFzKGwpKXtpPWE7YnJlYWt9fXJldHVybiEoaTwwKSYmKHRoaXMuZGVzdHJveUJldHdlZW4odGhpcy5pbmRleCxpKSx0aGlzLmluZGV4KyssITApfSxici5wcm90b3R5cGUudXBkYXRlTmV4dE5vZGU9ZnVuY3Rpb24odCxlLG4scixvKXtmb3IodmFyIGk9dGhpcy5pbmRleDtpPHRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aDtpKyspe3ZhciBzPXRoaXMudG9wLmNoaWxkcmVuW2ldO2lmKHMgaW5zdGFuY2VvZiBzcil7dmFyIGE9dGhpcy5wcmVNYXRjaC5tYXRjaGVkLmdldChzKTtpZihudWxsIT1hJiZhIT1vKXJldHVybiExO3ZhciBjPXMuZG9tLGw9dGhpcy5sb2NrJiYoYz09dGhpcy5sb2NrfHwxPT1jLm5vZGVUeXBlJiZjLmNvbnRhaW5zKHRoaXMubG9jay5wYXJlbnROb2RlKSkmJiEodC5pc1RleHQmJnMubm9kZSYmcy5ub2RlLmlzVGV4dCYmcy5ub2RlRE9NLm5vZGVWYWx1ZT09dC50ZXh0JiZzLmRpcnR5IT1RbiYmeXIoZSxzLm91dGVyRGVjbykpO2lmKCFsJiZzLnVwZGF0ZSh0LGUsbixyKSlyZXR1cm4gdGhpcy5kZXN0cm95QmV0d2Vlbih0aGlzLmluZGV4LGkpLHMuZG9tIT1jJiYodGhpcy5jaGFuZ2VkPSEwKSx0aGlzLmluZGV4KyssITA7YnJlYWt9fXJldHVybiExfSxici5wcm90b3R5cGUuYWRkTm9kZT1mdW5jdGlvbih0LGUsbixyLG8pe3RoaXMudG9wLmNoaWxkcmVuLnNwbGljZSh0aGlzLmluZGV4KyssMCxzci5jcmVhdGUodGhpcy50b3AsdCxlLG4scixvKSksdGhpcy5jaGFuZ2VkPSEwfSxici5wcm90b3R5cGUucGxhY2VXaWRnZXQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuaW5kZXg8dGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoP3RoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXhdOm51bGw7aWYoIXJ8fCFyLm1hdGNoZXNXaWRnZXQodCl8fHQhPXIud2lkZ2V0JiZyLndpZGdldC50eXBlLnRvRE9NLnBhcmVudE5vZGUpe3ZhciBvPW5ldyBycih0aGlzLnRvcCx0LGUsbik7dGhpcy50b3AuY2hpbGRyZW4uc3BsaWNlKHRoaXMuaW5kZXgrKywwLG8pLHRoaXMuY2hhbmdlZD0hMH1lbHNlIHRoaXMuaW5kZXgrK30sYnIucHJvdG90eXBlLmFkZFRleHRibG9ja0hhY2tzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleC0xXTt3aGlsZSh0IGluc3RhbmNlb2YgaXIpdD10LmNoaWxkcmVuW3QuY2hpbGRyZW4ubGVuZ3RoLTFdO3QmJnQgaW5zdGFuY2VvZiBjciYmIS9cbiQvLnRlc3QodC5ub2RlLnRleHQpfHwodG4uc2FmYXJpJiZ0JiYiZmFsc2UiPT10LmRvbS5jb250ZW50RWRpdGFibGUmJnRoaXMuYWRkSGFja05vZGUoIklNRyIpLHRoaXMuYWRkSGFja05vZGUoIkJSIikpfSxici5wcm90b3R5cGUuYWRkSGFja05vZGU9ZnVuY3Rpb24odCl7aWYodGhpcy5pbmRleDx0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGgmJnRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXhdLm1hdGNoZXNIYWNrKHQpKXRoaXMuaW5kZXgrKztlbHNle3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodCk7dGhpcy50b3AuY2hpbGRyZW4uc3BsaWNlKHRoaXMuaW5kZXgrKywwLG5ldyBscih0aGlzLnRvcCxucixlLG51bGwpKSx0aGlzLmNoYW5nZWQ9ITB9fTt2YXIgRHI9dG4uc2FmYXJpfHx0bi5jaHJvbWUmJnRuLmNocm9tZV92ZXJzaW9uPDYzO2Z1bmN0aW9uIF9yKHQsZSl7dmFyIG49dC5kb2NWaWV3LmRvbUZyb21Qb3MoZSwwKSxyPW4ubm9kZSxvPW4ub2Zmc2V0LGk9bzxyLmNoaWxkTm9kZXMubGVuZ3RoP3IuY2hpbGROb2Rlc1tvXTpudWxsLHM9bz9yLmNoaWxkTm9kZXNbby0xXTpudWxsO2lmKHRuLnNhZmFyaSYmaSYmImZhbHNlIj09aS5jb250ZW50RWRpdGFibGUpcmV0dXJuIFJyKGkpO2lmKCghaXx8ImZhbHNlIj09aS5jb250ZW50RWRpdGFibGUpJiYoIXN8fCJmYWxzZSI9PXMuY29udGVudEVkaXRhYmxlKSl7aWYoaSlyZXR1cm4gUnIoaSk7aWYocylyZXR1cm4gUnIocyl9fWZ1bmN0aW9uIFJyKHQpe3JldHVybiB0LmNvbnRlbnRFZGl0YWJsZT0idHJ1ZSIsdG4uc2FmYXJpJiZ0LmRyYWdnYWJsZSYmKHQuZHJhZ2dhYmxlPSExLHQud2FzRHJhZ2dhYmxlPSEwKSx0fWZ1bmN0aW9uIHpyKHQpe3QuY29udGVudEVkaXRhYmxlPSJmYWxzZSIsdC53YXNEcmFnZ2FibGUmJih0LmRyYWdnYWJsZT0hMCx0Lndhc0RyYWdnYWJsZT1udWxsKX1mdW5jdGlvbiBJcih0KXt2YXIgZT10LmRvbS5vd25lckRvY3VtZW50O2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIix0LmhpZGVTZWxlY3Rpb25HdWFyZCk7dmFyIG49dC5yb290LmdldFNlbGVjdGlvbigpLHI9bi5hbmNob3JOb2RlLG89bi5hbmNob3JPZmZzZXQ7ZS5hZGRFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLHQuaGlkZVNlbGVjdGlvbkd1YXJkPWZ1bmN0aW9uKCl7bi5hbmNob3JOb2RlPT1yJiZuLmFuY2hvck9mZnNldD09b3x8KGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIix0LmhpZGVTZWxlY3Rpb25HdWFyZCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtFcih0KSYmIXQuc3RhdGUuc2VsZWN0aW9uLnZpc2libGV8fHQuZG9tLmNsYXNzTGlzdC5yZW1vdmUoIlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb24iKX0pLDIwKSl9KX1mdW5jdGlvbiBQcih0KXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpLHI9dC5jdXJzb3JXcmFwcGVyLmRvbSxvPSJJTUciPT1yLm5vZGVOYW1lO28/bi5zZXRFbmQoci5wYXJlbnROb2RlLGFuKHIpKzEpOm4uc2V0RW5kKHIsMCksbi5jb2xsYXBzZSghMSksZS5yZW1vdmVBbGxSYW5nZXMoKSxlLmFkZFJhbmdlKG4pLCFvJiYhdC5zdGF0ZS5zZWxlY3Rpb24udmlzaWJsZSYmdG4uaWUmJnRuLmllX3ZlcnNpb248PTExJiYoci5kaXNhYmxlZD0hMCxyLmRpc2FibGVkPSExKX1mdW5jdGlvbiAkcih0LGUpe2lmKGUgaW5zdGFuY2VvZiBfZSl7dmFyIG49dC5kb2NWaWV3LmRlc2NBdChlLmZyb20pO24hPXQubGFzdFNlbGVjdGVkVmlld0Rlc2MmJihCcih0KSxuJiZuLnNlbGVjdE5vZGUoKSx0Lmxhc3RTZWxlY3RlZFZpZXdEZXNjPW4pfWVsc2UgQnIodCl9ZnVuY3Rpb24gQnIodCl7dC5sYXN0U2VsZWN0ZWRWaWV3RGVzYyYmKHQubGFzdFNlbGVjdGVkVmlld0Rlc2MucGFyZW50JiZ0Lmxhc3RTZWxlY3RlZFZpZXdEZXNjLmRlc2VsZWN0Tm9kZSgpLHQubGFzdFNlbGVjdGVkVmlld0Rlc2M9bnVsbCl9ZnVuY3Rpb24gVnIodCxlLG4scil7cmV0dXJuIHQuc29tZVByb3AoImNyZWF0ZVNlbGVjdGlvbkJldHdlZW4iLChmdW5jdGlvbihyKXtyZXR1cm4gcih0LGUsbil9KSl8fFRlLmJldHdlZW4oZSxuLHIpfWZ1bmN0aW9uIGpyKHQpe3JldHVybighdC5lZGl0YWJsZXx8dC5yb290LmFjdGl2ZUVsZW1lbnQ9PXQuZG9tKSYmTHIodCl9ZnVuY3Rpb24gTHIodCl7dmFyIGU9dC5yb290LmdldFNlbGVjdGlvbigpO2lmKCFlLmFuY2hvck5vZGUpcmV0dXJuITE7dHJ5e3JldHVybiB0LmRvbS5jb250YWlucygzPT1lLmFuY2hvck5vZGUubm9kZVR5cGU/ZS5hbmNob3JOb2RlLnBhcmVudE5vZGU6ZS5hbmNob3JOb2RlKSYmKHQuZWRpdGFibGV8fHQuZG9tLmNvbnRhaW5zKDM9PWUuZm9jdXNOb2RlLm5vZGVUeXBlP2UuZm9jdXNOb2RlLnBhcmVudE5vZGU6ZS5mb2N1c05vZGUpKX1jYXRjaChuKXtyZXR1cm4hMX19ZnVuY3Rpb24gRnIodCl7dmFyIGU9dC5kb2NWaWV3LmRvbUZyb21Qb3ModC5zdGF0ZS5zZWxlY3Rpb24uYW5jaG9yLDApLG49dC5yb290LmdldFNlbGVjdGlvbigpO3JldHVybiBwbihlLm5vZGUsZS5vZmZzZXQsbi5hbmNob3JOb2RlLG4uYW5jaG9yT2Zmc2V0KX1mdW5jdGlvbiBIcih0LGUpe3ZhciBuPXQuc2VsZWN0aW9uLHI9bi4kYW5jaG9yLG89bi4kaGVhZCxpPWU+MD9yLm1heChvKTpyLm1pbihvKSxzPWkucGFyZW50LmlubGluZUNvbnRlbnQ/aS5kZXB0aD90LmRvYy5yZXNvbHZlKGU+MD9pLmFmdGVyKCk6aS5iZWZvcmUoKSk6bnVsbDppO3JldHVybiBzJiZBZS5maW5kRnJvbShzLGUpfWZ1bmN0aW9uIEpyKHQsZSl7cmV0dXJuIHQuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oZSkuc2Nyb2xsSW50b1ZpZXcoKSksITB9ZnVuY3Rpb24gV3IodCxlLG4pe3ZhciByPXQuc3RhdGUuc2VsZWN0aW9uO2lmKCEociBpbnN0YW5jZW9mIFRlKSl7aWYociBpbnN0YW5jZW9mIF9lJiZyLm5vZGUuaXNJbmxpbmUpcmV0dXJuIEpyKHQsbmV3IFRlKGU+MD9yLiR0bzpyLiRmcm9tKSk7dmFyIG89SHIodC5zdGF0ZSxlKTtyZXR1cm4hIW8mJkpyKHQsbyl9aWYoIXIuZW1wdHl8fG4uaW5kZXhPZigicyIpPi0xKXJldHVybiExO2lmKHQuZW5kT2ZUZXh0YmxvY2soZT4wPyJyaWdodCI6ImxlZnQiKSl7dmFyIGk9SHIodC5zdGF0ZSxlKTtyZXR1cm4hIShpJiZpIGluc3RhbmNlb2YgX2UpJiZKcih0LGkpfWlmKCEodG4ubWFjJiZuLmluZGV4T2YoIm0iKT4tMSkpe3ZhciBzLGE9ci4kaGVhZCxjPWEudGV4dE9mZnNldD9udWxsOmU8MD9hLm5vZGVCZWZvcmU6YS5ub2RlQWZ0ZXI7aWYoIWN8fGMuaXNUZXh0KXJldHVybiExO3ZhciBsPWU8MD9hLnBvcy1jLm5vZGVTaXplOmEucG9zO3JldHVybiEhKGMuaXNBdG9tfHwocz10LmRvY1ZpZXcuZGVzY0F0KGwpKSYmIXMuY29udGVudERPTSkmJihfZS5pc1NlbGVjdGFibGUoYyk/SnIodCxuZXcgX2UoZTwwP3Quc3RhdGUuZG9jLnJlc29sdmUoYS5wb3MtYy5ub2RlU2l6ZSk6YSkpOiEhdG4ud2Via2l0JiZKcih0LG5ldyBUZSh0LnN0YXRlLmRvYy5yZXNvbHZlKGU8MD9sOmwrYy5ub2RlU2l6ZSkpKSl9fWZ1bmN0aW9uIHFyKHQpe3JldHVybiAzPT10Lm5vZGVUeXBlP3Qubm9kZVZhbHVlLmxlbmd0aDp0LmNoaWxkTm9kZXMubGVuZ3RofWZ1bmN0aW9uIEtyKHQpe3ZhciBlPXQucG1WaWV3RGVzYztyZXR1cm4gZSYmMD09ZS5zaXplJiYodC5uZXh0U2libGluZ3x8IkJSIiE9dC5ub2RlTmFtZSl9ZnVuY3Rpb24gVXIodCl7dmFyIGU9dC5yb290LmdldFNlbGVjdGlvbigpLG49ZS5mb2N1c05vZGUscj1lLmZvY3VzT2Zmc2V0O2lmKG4pe3ZhciBvLGkscz0hMTtmb3IodG4uZ2Vja28mJjE9PW4ubm9kZVR5cGUmJnI8cXIobikmJktyKG4uY2hpbGROb2Rlc1tyXSkmJihzPSEwKTs7KWlmKHI+MCl7aWYoMSE9bi5ub2RlVHlwZSlicmVhazt2YXIgYT1uLmNoaWxkTm9kZXNbci0xXTtpZihLcihhKSlvPW4saT0tLXI7ZWxzZXtpZigzIT1hLm5vZGVUeXBlKWJyZWFrO249YSxyPW4ubm9kZVZhbHVlLmxlbmd0aH19ZWxzZXtpZihYcihuKSlicmVhazt2YXIgYz1uLnByZXZpb3VzU2libGluZzt3aGlsZShjJiZLcihjKSlvPW4ucGFyZW50Tm9kZSxpPWFuKGMpLGM9Yy5wcmV2aW91c1NpYmxpbmc7aWYoYyluPWMscj1xcihuKTtlbHNle2lmKG49bi5wYXJlbnROb2RlLG49PXQuZG9tKWJyZWFrO3I9MH19cz9Zcih0LGUsbixyKTpvJiZZcih0LGUsbyxpKX19ZnVuY3Rpb24gR3IodCl7dmFyIGU9dC5yb290LmdldFNlbGVjdGlvbigpLG49ZS5mb2N1c05vZGUscj1lLmZvY3VzT2Zmc2V0O2lmKG4pe2Zvcih2YXIgbyxpLHM9cXIobik7OylpZihyPHMpe2lmKDEhPW4ubm9kZVR5cGUpYnJlYWs7dmFyIGE9bi5jaGlsZE5vZGVzW3JdO2lmKCFLcihhKSlicmVhaztvPW4saT0rK3J9ZWxzZXtpZihYcihuKSlicmVhazt2YXIgYz1uLm5leHRTaWJsaW5nO3doaWxlKGMmJktyKGMpKW89Yy5wYXJlbnROb2RlLGk9YW4oYykrMSxjPWMubmV4dFNpYmxpbmc7aWYoYyluPWMscj0wLHM9cXIobik7ZWxzZXtpZihuPW4ucGFyZW50Tm9kZSxuPT10LmRvbSlicmVhaztyPXM9MH19byYmWXIodCxlLG8saSl9fWZ1bmN0aW9uIFhyKHQpe3ZhciBlPXQucG1WaWV3RGVzYztyZXR1cm4gZSYmZS5ub2RlJiZlLm5vZGUuaXNCbG9ja31mdW5jdGlvbiBZcih0LGUsbixyKXtpZihnbihlKSl7dmFyIG89ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtvLnNldEVuZChuLHIpLG8uc2V0U3RhcnQobixyKSxlLnJlbW92ZUFsbFJhbmdlcygpLGUuYWRkUmFuZ2Uobyl9ZWxzZSBlLmV4dGVuZCYmZS5leHRlbmQobixyKTt0LmRvbU9ic2VydmVyLnNldEN1clNlbGVjdGlvbigpO3ZhciBpPXQuc3RhdGU7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LnN0YXRlPT1pJiZUcih0KX0pLDUwKX1mdW5jdGlvbiBacih0LGUsbil7dmFyIHI9dC5zdGF0ZS5zZWxlY3Rpb247aWYociBpbnN0YW5jZW9mIFRlJiYhci5lbXB0eXx8bi5pbmRleE9mKCJzIik+LTEpcmV0dXJuITE7aWYodG4ubWFjJiZuLmluZGV4T2YoIm0iKT4tMSlyZXR1cm4hMTt2YXIgbz1yLiRmcm9tLGk9ci4kdG87aWYoIW8ucGFyZW50LmlubGluZUNvbnRlbnR8fHQuZW5kT2ZUZXh0YmxvY2soZTwwPyJ1cCI6ImRvd24iKSl7dmFyIHM9SHIodC5zdGF0ZSxlKTtpZihzJiZzIGluc3RhbmNlb2YgX2UpcmV0dXJuIEpyKHQscyl9aWYoIW8ucGFyZW50LmlubGluZUNvbnRlbnQpe3ZhciBhPWU8MD9vOmksYz1yIGluc3RhbmNlb2YgemU/QWUubmVhcihhLGUpOkFlLmZpbmRGcm9tKGEsZSk7cmV0dXJuISFjJiZKcih0LGMpfXJldHVybiExfWZ1bmN0aW9uIFFyKHQsZSl7aWYoISh0LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIFRlKSlyZXR1cm4hMDt2YXIgbj10LnN0YXRlLnNlbGVjdGlvbixyPW4uJGhlYWQsbz1uLiRhbmNob3IsaT1uLmVtcHR5O2lmKCFyLnNhbWVQYXJlbnQobykpcmV0dXJuITA7aWYoIWkpcmV0dXJuITE7aWYodC5lbmRPZlRleHRibG9jayhlPjA/ImZvcndhcmQiOiJiYWNrd2FyZCIpKXJldHVybiEwO3ZhciBzPSFyLnRleHRPZmZzZXQmJihlPDA/ci5ub2RlQmVmb3JlOnIubm9kZUFmdGVyKTtpZihzJiYhcy5pc1RleHQpe3ZhciBhPXQuc3RhdGUudHI7cmV0dXJuIGU8MD9hLmRlbGV0ZShyLnBvcy1zLm5vZGVTaXplLHIucG9zKTphLmRlbGV0ZShyLnBvcyxyLnBvcytzLm5vZGVTaXplKSx0LmRpc3BhdGNoKGEpLCEwfXJldHVybiExfWZ1bmN0aW9uIHRvKHQsZSxuKXt0LmRvbU9ic2VydmVyLnN0b3AoKSxlLmNvbnRlbnRFZGl0YWJsZT1uLHQuZG9tT2JzZXJ2ZXIuc3RhcnQoKX1mdW5jdGlvbiBlbyh0KXtpZih0bi5zYWZhcmkmJiEodC5zdGF0ZS5zZWxlY3Rpb24uJGhlYWQucGFyZW50T2Zmc2V0PjApKXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj1lLmZvY3VzTm9kZSxyPWUuZm9jdXNPZmZzZXQ7aWYobiYmMT09bi5ub2RlVHlwZSYmMD09ciYmbi5maXJzdENoaWxkJiYiZmFsc2UiPT1uLmZpcnN0Q2hpbGQuY29udGVudEVkaXRhYmxlKXt2YXIgbz1uLmZpcnN0Q2hpbGQ7dG8odCxvLCEwKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0byh0LG8sITEpfSksMjApfX19ZnVuY3Rpb24gbm8odCl7dmFyIGU9IiI7cmV0dXJuIHQuY3RybEtleSYmKGUrPSJjIiksdC5tZXRhS2V5JiYoZSs9Im0iKSx0LmFsdEtleSYmKGUrPSJhIiksdC5zaGlmdEtleSYmKGUrPSJzIiksZX1mdW5jdGlvbiBybyh0LGUpe3ZhciBuPWUua2V5Q29kZSxyPW5vKGUpO3JldHVybiA4PT1ufHx0bi5tYWMmJjcyPT1uJiYiYyI9PXI/UXIodCwtMSl8fFVyKHQpOjQ2PT1ufHx0bi5tYWMmJjY4PT1uJiYiYyI9PXI/UXIodCwxKXx8R3IodCk6MTM9PW58fDI3PT1ufHwoMzc9PW4/V3IodCwtMSxyKXx8VXIodCk6Mzk9PW4/V3IodCwxLHIpfHxHcih0KTozOD09bj9acih0LC0xLHIpfHxVcih0KTo0MD09bj9lbyh0KXx8WnIodCwxLHIpfHxHcih0KTpyPT0odG4ubWFjPyJtIjoiYyIpJiYoNjY9PW58fDczPT1ufHw4OT09bnx8OTA9PW4pKX1mdW5jdGlvbiBvbyh0LGUsbil7dmFyIHI9dC5kb2NWaWV3LnBhcnNlUmFuZ2UoZSxuKSxvPXIubm9kZSxpPXIuZnJvbU9mZnNldCxzPXIudG9PZmZzZXQsYT1yLmZyb20sYz1yLnRvLGw9dC5yb290LmdldFNlbGVjdGlvbigpLHU9bnVsbCxwPWwuYW5jaG9yTm9kZTtpZihwJiZ0LmRvbS5jb250YWlucygxPT1wLm5vZGVUeXBlP3A6cC5wYXJlbnROb2RlKSYmKHU9W3tub2RlOnAsb2Zmc2V0OmwuYW5jaG9yT2Zmc2V0fV0sZ24obCl8fHUucHVzaCh7bm9kZTpsLmZvY3VzTm9kZSxvZmZzZXQ6bC5mb2N1c09mZnNldH0pKSx0bi5jaHJvbWUmJjg9PT10Lmxhc3RLZXlDb2RlKWZvcih2YXIgaD1zO2g+aTtoLS0pe3ZhciBmPW8uY2hpbGROb2Rlc1toLTFdLGQ9Zi5wbVZpZXdEZXNjO2lmKCJCUiI9PWYubm9kZU5hbWUmJiFkKXtzPWg7YnJlYWt9aWYoIWR8fGQuc2l6ZSlicmVha312YXIgbT10LnN0YXRlLmRvYyx2PXQuc29tZVByb3AoImRvbVBhcnNlciIpfHx2dC5mcm9tU2NoZW1hKHQuc3RhdGUuc2NoZW1hKSxnPW0ucmVzb2x2ZShhKSx5PW51bGwsdz12LnBhcnNlKG8se3RvcE5vZGU6Zy5wYXJlbnQsdG9wTWF0Y2g6Zy5wYXJlbnQuY29udGVudE1hdGNoQXQoZy5pbmRleCgpKSx0b3BPcGVuOiEwLGZyb206aSx0bzpzLHByZXNlcnZlV2hpdGVzcGFjZTohZy5wYXJlbnQudHlwZS5zcGVjLmNvZGV8fCJmdWxsIixlZGl0YWJsZUNvbnRlbnQ6ITAsZmluZFBvc2l0aW9uczp1LHJ1bGVGcm9tTm9kZTppbyxjb250ZXh0Omd9KTtpZih1JiZudWxsIT11WzBdLnBvcyl7dmFyIGI9dVswXS5wb3MseD11WzFdJiZ1WzFdLnBvcztudWxsPT14JiYoeD1iKSx5PXthbmNob3I6YithLGhlYWQ6eCthfX1yZXR1cm57ZG9jOncsc2VsOnksZnJvbTphLHRvOmN9fWZ1bmN0aW9uIGlvKHQpe3ZhciBlPXQucG1WaWV3RGVzYztpZihlKXJldHVybiBlLnBhcnNlUnVsZSgpO2lmKCJCUiI9PXQubm9kZU5hbWUmJnQucGFyZW50Tm9kZSl7aWYodG4uc2FmYXJpJiYvXih1bHxvbCkkL2kudGVzdCh0LnBhcmVudE5vZGUubm9kZU5hbWUpKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaSIpKSx7c2tpcDpufX1pZih0LnBhcmVudE5vZGUubGFzdENoaWxkPT10fHx0bi5zYWZhcmkmJi9eKHRyfHRhYmxlKSQvaS50ZXN0KHQucGFyZW50Tm9kZS5ub2RlTmFtZSkpcmV0dXJue2lnbm9yZTohMH19ZWxzZSBpZigiSU1HIj09dC5ub2RlTmFtZSYmdC5nZXRBdHRyaWJ1dGUoIm1hcmstcGxhY2Vob2xkZXIiKSlyZXR1cm57aWdub3JlOiEwfX1mdW5jdGlvbiBzbyh0LGUsbixyLG8pe2lmKGU8MCl7dmFyIGk9dC5sYXN0U2VsZWN0aW9uVGltZT5EYXRlLm5vdygpLTUwP3QubGFzdFNlbGVjdGlvbk9yaWdpbjpudWxsLHM9TnIodCxpKTtpZihzJiYhdC5zdGF0ZS5zZWxlY3Rpb24uZXEocykpe3ZhciBhPXQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKHMpOyJwb2ludGVyIj09aT9hLnNldE1ldGEoInBvaW50ZXIiLCEwKToia2V5Ij09aSYmYS5zY3JvbGxJbnRvVmlldygpLHQuZGlzcGF0Y2goYSl9fWVsc2V7dmFyIGM9dC5zdGF0ZS5kb2MucmVzb2x2ZShlKSxsPWMuc2hhcmVkRGVwdGgobik7ZT1jLmJlZm9yZShsKzEpLG49dC5zdGF0ZS5kb2MucmVzb2x2ZShuKS5hZnRlcihsKzEpO3ZhciB1PXQuc3RhdGUuc2VsZWN0aW9uLHA9b28odCxlLG4pO2lmKHRuLmNocm9tZSYmdC5jdXJzb3JXcmFwcGVyJiZwLnNlbCYmcC5zZWwuYW5jaG9yPT10LmN1cnNvcldyYXBwZXIuZGVjby5mcm9tKXt2YXIgaD10LmN1cnNvcldyYXBwZXIuZGVjby50eXBlLnRvRE9NLm5leHRTaWJsaW5nLGY9aCYmaC5ub2RlVmFsdWU/aC5ub2RlVmFsdWUubGVuZ3RoOjE7cC5zZWw9e2FuY2hvcjpwLnNlbC5hbmNob3IrZixoZWFkOnAuc2VsLmFuY2hvcitmfX12YXIgZCxtLHY9dC5zdGF0ZS5kb2MsZz12LnNsaWNlKHAuZnJvbSxwLnRvKTs4PT09dC5sYXN0S2V5Q29kZSYmRGF0ZS5ub3coKS0xMDA8dC5sYXN0S2V5Q29kZVRpbWU/KGQ9dC5zdGF0ZS5zZWxlY3Rpb24udG8sbT0iZW5kIik6KGQ9dC5zdGF0ZS5zZWxlY3Rpb24uZnJvbSxtPSJzdGFydCIpLHQubGFzdEtleUNvZGU9bnVsbDt2YXIgeT1wbyhnLmNvbnRlbnQscC5kb2MuY29udGVudCxwLmZyb20sZCxtKTtpZigheSl7aWYoIShyJiZ1IGluc3RhbmNlb2YgVGUmJiF1LmVtcHR5JiZ1LiRoZWFkLnNhbWVQYXJlbnQodS4kYW5jaG9yKSl8fHQuY29tcG9zaW5nfHxwLnNlbCYmcC5zZWwuYW5jaG9yIT1wLnNlbC5oZWFkKXtpZigodG4uaW9zJiZ0Lmxhc3RJT1NFbnRlcj5EYXRlLm5vdygpLTIyNXx8dG4uYW5kcm9pZCkmJm8uc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIkRJViI9PXQubm9kZU5hbWV8fCJQIj09dC5ub2RlTmFtZX0pKSYmdC5zb21lUHJvcCgiaGFuZGxlS2V5RG93biIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQseW4oMTMsIkVudGVyIikpfSkpKXJldHVybiB2b2lkKHQubGFzdElPU0VudGVyPTApO2lmKHAuc2VsKXt2YXIgdz1hbyh0LHQuc3RhdGUuZG9jLHAuc2VsKTt3JiYhdy5lcSh0LnN0YXRlLnNlbGVjdGlvbikmJnQuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24odykpfXJldHVybn15PXtzdGFydDp1LmZyb20sZW5kQTp1LnRvLGVuZEI6dS50b319dC5kb21DaGFuZ2VDb3VudCsrLHQuc3RhdGUuc2VsZWN0aW9uLmZyb208dC5zdGF0ZS5zZWxlY3Rpb24udG8mJnkuc3RhcnQ9PXkuZW5kQiYmdC5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBUZSYmKHkuc3RhcnQ+dC5zdGF0ZS5zZWxlY3Rpb24uZnJvbSYmeS5zdGFydDw9dC5zdGF0ZS5zZWxlY3Rpb24uZnJvbSsyP3kuc3RhcnQ9dC5zdGF0ZS5zZWxlY3Rpb24uZnJvbTp5LmVuZEE8dC5zdGF0ZS5zZWxlY3Rpb24udG8mJnkuZW5kQT49dC5zdGF0ZS5zZWxlY3Rpb24udG8tMiYmKHkuZW5kQis9dC5zdGF0ZS5zZWxlY3Rpb24udG8teS5lbmRBLHkuZW5kQT10LnN0YXRlLnNlbGVjdGlvbi50bykpLHRuLmllJiZ0bi5pZV92ZXJzaW9uPD0xMSYmeS5lbmRCPT15LnN0YXJ0KzEmJnkuZW5kQT09eS5zdGFydCYmeS5zdGFydD5wLmZyb20mJiIgwqAiPT1wLmRvYy50ZXh0QmV0d2Vlbih5LnN0YXJ0LXAuZnJvbS0xLHkuc3RhcnQtcC5mcm9tKzEpJiYoeS5zdGFydC0tLHkuZW5kQS0tLHkuZW5kQi0tKTt2YXIgYix4PXAuZG9jLnJlc29sdmVOb0NhY2hlKHkuc3RhcnQtcC5mcm9tKSxrPXAuZG9jLnJlc29sdmVOb0NhY2hlKHkuZW5kQi1wLmZyb20pLFM9eC5zYW1lUGFyZW50KGspJiZ4LnBhcmVudC5pbmxpbmVDb250ZW50O2lmKCh0bi5pb3MmJnQubGFzdElPU0VudGVyPkRhdGUubm93KCktMjI1JiYoIVN8fG8uc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIkRJViI9PXQubm9kZU5hbWV8fCJQIj09dC5ub2RlTmFtZX0pKSl8fCFTJiZ4LnBvczxwLmRvYy5jb250ZW50LnNpemUmJihiPUFlLmZpbmRGcm9tKHAuZG9jLnJlc29sdmUoeC5wb3MrMSksMSwhMCkpJiZiLmhlYWQ9PWsucG9zKSYmdC5zb21lUHJvcCgiaGFuZGxlS2V5RG93biIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQseW4oMTMsIkVudGVyIikpfSkpKXQubGFzdElPU0VudGVyPTA7ZWxzZSBpZih0LnN0YXRlLnNlbGVjdGlvbi5hbmNob3I+eS5zdGFydCYmbG8odix5LnN0YXJ0LHkuZW5kQSx4LGspJiZ0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCx5big4LCJCYWNrc3BhY2UiKSl9KSkpdG4uYW5kcm9pZCYmdG4uY2hyb21lJiZ0LmRvbU9ic2VydmVyLnN1cHByZXNzU2VsZWN0aW9uVXBkYXRlcygpO2Vsc2V7dG4uY2hyb21lJiZ0bi5hbmRyb2lkJiZ5LnRvQj09eS5mcm9tJiYodC5sYXN0QW5kcm9pZERlbGV0ZT1EYXRlLm5vdygpKSx0bi5hbmRyb2lkJiYhUyYmeC5zdGFydCgpIT1rLnN0YXJ0KCkmJjA9PWsucGFyZW50T2Zmc2V0JiZ4LmRlcHRoPT1rLmRlcHRoJiZwLnNlbCYmcC5zZWwuYW5jaG9yPT1wLnNlbC5oZWFkJiZwLnNlbC5oZWFkPT15LmVuZEEmJih5LmVuZEItPTIsaz1wLmRvYy5yZXNvbHZlTm9DYWNoZSh5LmVuZEItcC5mcm9tKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3Quc29tZVByb3AoImhhbmRsZUtleURvd24iLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0LHluKDEzLCJFbnRlciIpKX0pKX0pLDIwKSk7dmFyIEMsTSxPLEEsTj15LnN0YXJ0LEU9eS5lbmRBO2lmKFMpaWYoeC5wb3M9PWsucG9zKXRuLmllJiZ0bi5pZV92ZXJzaW9uPD0xMSYmMD09eC5wYXJlbnRPZmZzZXQmJih0LmRvbU9ic2VydmVyLnN1cHByZXNzU2VsZWN0aW9uVXBkYXRlcygpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIFRyKHQpfSksMjApKSxDPXQuc3RhdGUudHIuZGVsZXRlKE4sRSksTT12LnJlc29sdmUoeS5zdGFydCkubWFya3NBY3Jvc3Modi5yZXNvbHZlKHkuZW5kQSkpO2Vsc2UgaWYoeS5lbmRBPT15LmVuZEImJihBPXYucmVzb2x2ZSh5LnN0YXJ0KSkmJihPPWNvKHgucGFyZW50LmNvbnRlbnQuY3V0KHgucGFyZW50T2Zmc2V0LGsucGFyZW50T2Zmc2V0KSxBLnBhcmVudC5jb250ZW50LmN1dChBLnBhcmVudE9mZnNldCx5LmVuZEEtQS5zdGFydCgpKSkpKUM9dC5zdGF0ZS50ciwiYWRkIj09Ty50eXBlP0MuYWRkTWFyayhOLEUsTy5tYXJrKTpDLnJlbW92ZU1hcmsoTixFLE8ubWFyayk7ZWxzZSBpZih4LnBhcmVudC5jaGlsZCh4LmluZGV4KCkpLmlzVGV4dCYmeC5pbmRleCgpPT1rLmluZGV4KCktKGsudGV4dE9mZnNldD8wOjEpKXt2YXIgVD14LnBhcmVudC50ZXh0QmV0d2Vlbih4LnBhcmVudE9mZnNldCxrLnBhcmVudE9mZnNldCk7aWYodC5zb21lUHJvcCgiaGFuZGxlVGV4dElucHV0IiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCxOLEUsVCl9KSkpcmV0dXJuO0M9dC5zdGF0ZS50ci5pbnNlcnRUZXh0KFQsTixFKX1pZihDfHwoQz10LnN0YXRlLnRyLnJlcGxhY2UoTixFLHAuZG9jLnNsaWNlKHkuc3RhcnQtcC5mcm9tLHkuZW5kQi1wLmZyb20pKSkscC5zZWwpe3ZhciBEPWFvKHQsQy5kb2MscC5zZWwpO0QmJiEodG4uY2hyb21lJiZ0bi5hbmRyb2lkJiZ0LmNvbXBvc2luZyYmRC5lbXB0eSYmKHkuc3RhcnQhPXkuZW5kQnx8dC5sYXN0QW5kcm9pZERlbGV0ZTxEYXRlLm5vdygpLTEwMCkmJihELmhlYWQ9PU58fEQuaGVhZD09Qy5tYXBwaW5nLm1hcChFKS0xKXx8dG4uaWUmJkQuZW1wdHkmJkQuaGVhZD09TikmJkMuc2V0U2VsZWN0aW9uKEQpfU0mJkMuZW5zdXJlTWFya3MoTSksdC5kaXNwYXRjaChDLnNjcm9sbEludG9WaWV3KCkpfX19ZnVuY3Rpb24gYW8odCxlLG4pe3JldHVybiBNYXRoLm1heChuLmFuY2hvcixuLmhlYWQpPmUuY29udGVudC5zaXplP251bGw6VnIodCxlLnJlc29sdmUobi5hbmNob3IpLGUucmVzb2x2ZShuLmhlYWQpKX1mdW5jdGlvbiBjbyh0LGUpe2Zvcih2YXIgbixyLG8saT10LmZpcnN0Q2hpbGQubWFya3Mscz1lLmZpcnN0Q2hpbGQubWFya3MsYT1pLGM9cyxsPTA7bDxzLmxlbmd0aDtsKyspYT1zW2xdLnJlbW92ZUZyb21TZXQoYSk7Zm9yKHZhciB1PTA7dTxpLmxlbmd0aDt1KyspYz1pW3VdLnJlbW92ZUZyb21TZXQoYyk7aWYoMT09YS5sZW5ndGgmJjA9PWMubGVuZ3RoKXI9YVswXSxuPSJhZGQiLG89ZnVuY3Rpb24odCl7cmV0dXJuIHQubWFyayhyLmFkZFRvU2V0KHQubWFya3MpKX07ZWxzZXtpZigwIT1hLmxlbmd0aHx8MSE9Yy5sZW5ndGgpcmV0dXJuIG51bGw7cj1jWzBdLG49InJlbW92ZSIsbz1mdW5jdGlvbih0KXtyZXR1cm4gdC5tYXJrKHIucmVtb3ZlRnJvbVNldCh0Lm1hcmtzKSl9fWZvcih2YXIgaD1bXSxmPTA7ZjxlLmNoaWxkQ291bnQ7ZisrKWgucHVzaChvKGUuY2hpbGQoZikpKTtpZihwLmZyb20oaCkuZXEodCkpcmV0dXJue21hcms6cix0eXBlOm59fWZ1bmN0aW9uIGxvKHQsZSxuLHIsbyl7aWYoIXIucGFyZW50LmlzVGV4dGJsb2NrfHxuLWU8PW8ucG9zLXIucG9zfHx1byhyLCEwLCExKTxvLnBvcylyZXR1cm4hMTt2YXIgaT10LnJlc29sdmUoZSk7aWYoaS5wYXJlbnRPZmZzZXQ8aS5wYXJlbnQuY29udGVudC5zaXplfHwhaS5wYXJlbnQuaXNUZXh0YmxvY2spcmV0dXJuITE7dmFyIHM9dC5yZXNvbHZlKHVvKGksITAsITApKTtyZXR1cm4hKCFzLnBhcmVudC5pc1RleHRibG9ja3x8cy5wb3M+bnx8dW8ocywhMCwhMSk8bikmJnIucGFyZW50LmNvbnRlbnQuY3V0KHIucGFyZW50T2Zmc2V0KS5lcShzLnBhcmVudC5jb250ZW50KX1mdW5jdGlvbiB1byh0LGUsbil7dmFyIHI9dC5kZXB0aCxvPWU/dC5lbmQoKTp0LnBvczt3aGlsZShyPjAmJihlfHx0LmluZGV4QWZ0ZXIocik9PXQubm9kZShyKS5jaGlsZENvdW50KSlyLS0sbysrLGU9ITE7aWYobil7dmFyIGk9dC5ub2RlKHIpLm1heWJlQ2hpbGQodC5pbmRleEFmdGVyKHIpKTt3aGlsZShpJiYhaS5pc0xlYWYpaT1pLmZpcnN0Q2hpbGQsbysrfXJldHVybiBvfWZ1bmN0aW9uIHBvKHQsZSxuLHIsbyl7dmFyIGk9dC5maW5kRGlmZlN0YXJ0KGUsbik7aWYobnVsbD09aSlyZXR1cm4gbnVsbDt2YXIgcz10LmZpbmREaWZmRW5kKGUsbit0LnNpemUsbitlLnNpemUpLGE9cy5hLGM9cy5iO2lmKCJlbmQiPT1vKXt2YXIgbD1NYXRoLm1heCgwLGktTWF0aC5taW4oYSxjKSk7ci09YStsLWl9aWYoYTxpJiZ0LnNpemU8ZS5zaXplKXt2YXIgdT1yPD1pJiZyPj1hP2ktcjowO2ktPXUsYz1pKyhjLWEpLGE9aX1lbHNlIGlmKGM8aSl7dmFyIHA9cjw9aSYmcj49Yz9pLXI6MDtpLT1wLGE9aSsoYS1jKSxjPWl9cmV0dXJue3N0YXJ0OmksZW5kQTphLGVuZEI6Y319ZnVuY3Rpb24gaG8odCxlKXt2YXIgbj1bXSxyPWUuY29udGVudCxvPWUub3BlblN0YXJ0LGk9ZS5vcGVuRW5kO3doaWxlKG8+MSYmaT4xJiYxPT1yLmNoaWxkQ291bnQmJjE9PXIuZmlyc3RDaGlsZC5jaGlsZENvdW50KXtvLS0saS0tO3ZhciBzPXIuZmlyc3RDaGlsZDtuLnB1c2gocy50eXBlLm5hbWUscy5hdHRycyE9cy50eXBlLmRlZmF1bHRBdHRycz9zLmF0dHJzOm51bGwpLHI9cy5jb250ZW50fXZhciBhPXQuc29tZVByb3AoImNsaXBib2FyZFNlcmlhbGl6ZXIiKXx8X3QuZnJvbVNjaGVtYSh0LnN0YXRlLnNjaGVtYSksYz1TbygpLGw9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTtsLmFwcGVuZENoaWxkKGEuc2VyaWFsaXplRnJhZ21lbnQocix7ZG9jdW1lbnQ6Y30pKTt2YXIgdSxwPWwuZmlyc3RDaGlsZDt3aGlsZShwJiYxPT1wLm5vZGVUeXBlJiYodT14b1twLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSl7Zm9yKHZhciBoPXUubGVuZ3RoLTE7aD49MDtoLS0pe3ZhciBmPWMuY3JlYXRlRWxlbWVudCh1W2hdKTt3aGlsZShsLmZpcnN0Q2hpbGQpZi5hcHBlbmRDaGlsZChsLmZpcnN0Q2hpbGQpO2wuYXBwZW5kQ2hpbGQoZil9cD1sLmZpcnN0Q2hpbGR9cCYmMT09cC5ub2RlVHlwZSYmcC5zZXRBdHRyaWJ1dGUoImRhdGEtcG0tc2xpY2UiLG8rIiAiK2krIiAiK0pTT04uc3RyaW5naWZ5KG4pKTt2YXIgZD10LnNvbWVQcm9wKCJjbGlwYm9hcmRUZXh0U2VyaWFsaXplciIsKGZ1bmN0aW9uKHQpe3JldHVybiB0KGUpfSkpfHxlLmNvbnRlbnQudGV4dEJldHdlZW4oMCxlLmNvbnRlbnQuc2l6ZSwiXG5cbiIpO3JldHVybntkb206bCx0ZXh0OmR9fWZ1bmN0aW9uIGZvKHQsZSxuLHIsbyl7dmFyIGkscyxhPW8ucGFyZW50LnR5cGUuc3BlYy5jb2RlO2lmKCFuJiYhZSlyZXR1cm4gbnVsbDt2YXIgYz1lJiYocnx8YXx8IW4pO2lmKGMpe2lmKHQuc29tZVByb3AoInRyYW5zZm9ybVBhc3RlZFRleHQiLChmdW5jdGlvbih0KXtlPXQoZSxhfHxyKX0pKSxhKXJldHVybiBuZXcgeShwLmZyb20odC5zdGF0ZS5zY2hlbWEudGV4dChlLnJlcGxhY2UoL1xyXG4/L2csIlxuIikpKSwwLDApO3ZhciBsPXQuc29tZVByb3AoImNsaXBib2FyZFRleHRQYXJzZXIiLChmdW5jdGlvbih0KXtyZXR1cm4gdChlLG8scil9KSk7bD9zPWw6KGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksZS50cmltKCkuc3BsaXQoLyg/OlxyXG4/fFxuKSsvKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKSkudGV4dENvbnRlbnQ9dH0pKSl9ZWxzZSB0LnNvbWVQcm9wKCJ0cmFuc2Zvcm1QYXN0ZWRIVE1MIiwoZnVuY3Rpb24odCl7bj10KG4pfSkpLGk9Q28obik7dmFyIHU9aSYmaS5xdWVyeVNlbGVjdG9yKCJbZGF0YS1wbS1zbGljZV0iKSxoPXUmJi9eKFxkKykgKFxkKykgKC4qKS8uZXhlYyh1LmdldEF0dHJpYnV0ZSgiZGF0YS1wbS1zbGljZSIpKTtpZighcyl7dmFyIGY9dC5zb21lUHJvcCgiY2xpcGJvYXJkUGFyc2VyIil8fHQuc29tZVByb3AoImRvbVBhcnNlciIpfHx2dC5mcm9tU2NoZW1hKHQuc3RhdGUuc2NoZW1hKTtzPWYucGFyc2VTbGljZShpLHtwcmVzZXJ2ZVdoaXRlc3BhY2U6ISghYyYmIWgpLGNvbnRleHQ6b30pfXJldHVybiBzPWg/TW8oYm8ocywraFsxXSwraFsyXSksaFszXSk6eS5tYXhPcGVuKG1vKHMuY29udGVudCxvKSwhMSksdC5zb21lUHJvcCgidHJhbnNmb3JtUGFzdGVkIiwoZnVuY3Rpb24odCl7cz10KHMpfSkpLHN9ZnVuY3Rpb24gbW8odCxlKXtpZih0LmNoaWxkQ291bnQ8MilyZXR1cm4gdDtmb3IodmFyIG49ZnVuY3Rpb24obil7dmFyIHI9ZS5ub2RlKG4pLG89ci5jb250ZW50TWF0Y2hBdChlLmluZGV4KG4pKSxpPXZvaWQgMCxzPVtdO2lmKHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYocyl7dmFyIGUsbj1vLmZpbmRXcmFwcGluZyh0LnR5cGUpO2lmKCFuKXJldHVybiBzPW51bGw7aWYoZT1zLmxlbmd0aCYmaS5sZW5ndGgmJmdvKG4saSx0LHNbcy5sZW5ndGgtMV0sMCkpc1tzLmxlbmd0aC0xXT1lO2Vsc2V7cy5sZW5ndGgmJihzW3MubGVuZ3RoLTFdPXlvKHNbcy5sZW5ndGgtMV0saS5sZW5ndGgpKTt2YXIgcj12byh0LG4pO3MucHVzaChyKSxvPW8ubWF0Y2hUeXBlKHIudHlwZSxyLmF0dHJzKSxpPW59fX0pKSxzKXJldHVybnt2OnAuZnJvbShzKX19LHI9ZS5kZXB0aDtyPj0wO3ItLSl7dmFyIG89bihyKTtpZihvKXJldHVybiBvLnZ9cmV0dXJuIHR9ZnVuY3Rpb24gdm8odCxlLG4pe3ZvaWQgMD09PW4mJihuPTApO2Zvcih2YXIgcj1lLmxlbmd0aC0xO3I+PW47ci0tKXQ9ZVtyXS5jcmVhdGUobnVsbCxwLmZyb20odCkpO3JldHVybiB0fWZ1bmN0aW9uIGdvKHQsZSxuLHIsbyl7aWYobzx0Lmxlbmd0aCYmbzxlLmxlbmd0aCYmdFtvXT09ZVtvXSl7dmFyIGk9Z28odCxlLG4sci5sYXN0Q2hpbGQsbysxKTtpZihpKXJldHVybiByLmNvcHkoci5jb250ZW50LnJlcGxhY2VDaGlsZChyLmNoaWxkQ291bnQtMSxpKSk7dmFyIHM9ci5jb250ZW50TWF0Y2hBdChyLmNoaWxkQ291bnQpO2lmKHMubWF0Y2hUeXBlKG89PXQubGVuZ3RoLTE/bi50eXBlOnRbbysxXSkpcmV0dXJuIHIuY29weShyLmNvbnRlbnQuYXBwZW5kKHAuZnJvbSh2byhuLHQsbysxKSkpKX19ZnVuY3Rpb24geW8odCxlKXtpZigwPT1lKXJldHVybiB0O3ZhciBuPXQuY29udGVudC5yZXBsYWNlQ2hpbGQodC5jaGlsZENvdW50LTEseW8odC5sYXN0Q2hpbGQsZS0xKSkscj10LmNvbnRlbnRNYXRjaEF0KHQuY2hpbGRDb3VudCkuZmlsbEJlZm9yZShwLmVtcHR5LCEwKTtyZXR1cm4gdC5jb3B5KG4uYXBwZW5kKHIpKX1mdW5jdGlvbiB3byh0LGUsbixyLG8saSl7dmFyIHM9ZTwwP3QuZmlyc3RDaGlsZDp0Lmxhc3RDaGlsZCxhPXMuY29udGVudDtyZXR1cm4gbzxyLTEmJihhPXdvKGEsZSxuLHIsbysxLGkpKSxvPj1uJiYoYT1lPDA/cy5jb250ZW50TWF0Y2hBdCgwKS5maWxsQmVmb3JlKGEsdC5jaGlsZENvdW50PjF8fGk8PW8pLmFwcGVuZChhKTphLmFwcGVuZChzLmNvbnRlbnRNYXRjaEF0KHMuY2hpbGRDb3VudCkuZmlsbEJlZm9yZShwLmVtcHR5LCEwKSkpLHQucmVwbGFjZUNoaWxkKGU8MD8wOnQuY2hpbGRDb3VudC0xLHMuY29weShhKSl9ZnVuY3Rpb24gYm8odCxlLG4pe3JldHVybiBlPHQub3BlblN0YXJ0JiYodD1uZXcgeSh3byh0LmNvbnRlbnQsLTEsZSx0Lm9wZW5TdGFydCwwLHQub3BlbkVuZCksZSx0Lm9wZW5FbmQpKSxuPHQub3BlbkVuZCYmKHQ9bmV3IHkod28odC5jb250ZW50LDEsbix0Lm9wZW5FbmQsMCwwKSx0Lm9wZW5TdGFydCxuKSksdH12YXIgeG89e3RoZWFkOlsidGFibGUiXSx0Ym9keTpbInRhYmxlIl0sdGZvb3Q6WyJ0YWJsZSJdLGNhcHRpb246WyJ0YWJsZSJdLGNvbGdyb3VwOlsidGFibGUiXSxjb2w6WyJ0YWJsZSIsImNvbGdyb3VwIl0sdHI6WyJ0YWJsZSIsInRib2R5Il0sdGQ6WyJ0YWJsZSIsInRib2R5IiwidHIiXSx0aDpbInRhYmxlIiwidGJvZHkiLCJ0ciJdfSxrbz1udWxsO2Z1bmN0aW9uIFNvKCl7cmV0dXJuIGtvfHwoa289ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCJ0aXRsZSIpKX1mdW5jdGlvbiBDbyh0KXt2YXIgZT0vXihccyo8bWV0YSBbXj5dKj4pKi8uZXhlYyh0KTtlJiYodD10LnNsaWNlKGVbMF0ubGVuZ3RoKSk7dmFyIG4scj1TbygpLmNyZWF0ZUVsZW1lbnQoImRpdiIpLG89LzwoW2Etel1bXj5cc10rKS9pLmV4ZWModCk7aWYoKG49byYmeG9bb1sxXS50b0xvd2VyQ2FzZSgpXSkmJih0PW4ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4iPCIrdCsiPiJ9KSkuam9pbigiIikrdCtuLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIjwvIit0KyI+In0pKS5yZXZlcnNlKCkuam9pbigiIikpLHIuaW5uZXJIVE1MPXQsbilmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKylyPXIucXVlcnlTZWxlY3RvcihuW2ldKXx8cjtyZXR1cm4gcn1mdW5jdGlvbiBNbyh0LGUpe2lmKCF0LnNpemUpcmV0dXJuIHQ7dmFyIG4scj10LmNvbnRlbnQuZmlyc3RDaGlsZC50eXBlLnNjaGVtYTt0cnl7bj1KU09OLnBhcnNlKGUpfWNhdGNoKGwpe3JldHVybiB0fWZvcih2YXIgbz10LmNvbnRlbnQsaT10Lm9wZW5TdGFydCxzPXQub3BlbkVuZCxhPW4ubGVuZ3RoLTI7YT49MDthLT0yKXt2YXIgYz1yLm5vZGVzW25bYV1dO2lmKCFjfHxjLmhhc1JlcXVpcmVkQXR0cnMoKSlicmVhaztvPXAuZnJvbShjLmNyZWF0ZShuW2ErMV0sbykpLGkrKyxzKyt9cmV0dXJuIG5ldyB5KG8saSxzKX12YXIgT289e2NoaWxkTGlzdDohMCxjaGFyYWN0ZXJEYXRhOiEwLGNoYXJhY3RlckRhdGFPbGRWYWx1ZTohMCxhdHRyaWJ1dGVzOiEwLGF0dHJpYnV0ZU9sZFZhbHVlOiEwLHN1YnRyZWU6ITB9LEFvPXRuLmllJiZ0bi5pZV92ZXJzaW9uPD0xMSxObz1mdW5jdGlvbigpe3RoaXMuYW5jaG9yTm9kZT10aGlzLmFuY2hvck9mZnNldD10aGlzLmZvY3VzTm9kZT10aGlzLmZvY3VzT2Zmc2V0PW51bGx9O05vLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5hbmNob3JOb2RlPXQuYW5jaG9yTm9kZSx0aGlzLmFuY2hvck9mZnNldD10LmFuY2hvck9mZnNldCx0aGlzLmZvY3VzTm9kZT10LmZvY3VzTm9kZSx0aGlzLmZvY3VzT2Zmc2V0PXQuZm9jdXNPZmZzZXR9LE5vLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdC5hbmNob3JOb2RlPT10aGlzLmFuY2hvck5vZGUmJnQuYW5jaG9yT2Zmc2V0PT10aGlzLmFuY2hvck9mZnNldCYmdC5mb2N1c05vZGU9PXRoaXMuZm9jdXNOb2RlJiZ0LmZvY3VzT2Zmc2V0PT10aGlzLmZvY3VzT2Zmc2V0fTt2YXIgRW89ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3RoaXMudmlldz10LHRoaXMuaGFuZGxlRE9NQ2hhbmdlPWUsdGhpcy5xdWV1ZT1bXSx0aGlzLmZsdXNoaW5nU29vbj0tMSx0aGlzLm9ic2VydmVyPXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyJiZuZXcgd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIoKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKW4ucXVldWUucHVzaCh0W2VdKTt0bi5pZSYmdG4uaWVfdmVyc2lvbjw9MTEmJnQuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuImNoaWxkTGlzdCI9PXQudHlwZSYmdC5yZW1vdmVkTm9kZXMubGVuZ3RofHwiY2hhcmFjdGVyRGF0YSI9PXQudHlwZSYmdC5vbGRWYWx1ZS5sZW5ndGg+dC50YXJnZXQubm9kZVZhbHVlLmxlbmd0aH0pKT9uLmZsdXNoU29vbigpOm4uZmx1c2goKX0pKSx0aGlzLmN1cnJlbnRTZWxlY3Rpb249bmV3IE5vLEFvJiYodGhpcy5vbkNoYXJEYXRhPWZ1bmN0aW9uKHQpe24ucXVldWUucHVzaCh7dGFyZ2V0OnQudGFyZ2V0LHR5cGU6ImNoYXJhY3RlckRhdGEiLG9sZFZhbHVlOnQucHJldlZhbHVlfSksbi5mbHVzaFNvb24oKX0pLHRoaXMub25TZWxlY3Rpb25DaGFuZ2U9dGhpcy5vblNlbGVjdGlvbkNoYW5nZS5iaW5kKHRoaXMpLHRoaXMuc3VwcHJlc3NpbmdTZWxlY3Rpb25VcGRhdGVzPSExfTtFby5wcm90b3R5cGUuZmx1c2hTb29uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmZsdXNoaW5nU29vbjwwJiYodGhpcy5mbHVzaGluZ1Nvb249d2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5mbHVzaGluZ1Nvb249LTEsdC5mbHVzaCgpfSksMjApKX0sRW8ucHJvdG90eXBlLmZvcmNlRmx1c2g9ZnVuY3Rpb24oKXt0aGlzLmZsdXNoaW5nU29vbj4tMSYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5mbHVzaGluZ1Nvb24pLHRoaXMuZmx1c2hpbmdTb29uPS0xLHRoaXMuZmx1c2goKSl9LEVvLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe3RoaXMub2JzZXJ2ZXImJnRoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnZpZXcuZG9tLE9vKSxBbyYmdGhpcy52aWV3LmRvbS5hZGRFdmVudExpc3RlbmVyKCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQiLHRoaXMub25DaGFyRGF0YSksdGhpcy5jb25uZWN0U2VsZWN0aW9uKCl9LEVvLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLm9ic2VydmVyKXt2YXIgZT10aGlzLm9ic2VydmVyLnRha2VSZWNvcmRzKCk7aWYoZS5sZW5ndGgpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXRoaXMucXVldWUucHVzaChlW25dKTt3aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5mbHVzaCgpfSksMjApfXRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpfUFvJiZ0aGlzLnZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcy5vbkNoYXJEYXRhKSx0aGlzLmRpc2Nvbm5lY3RTZWxlY3Rpb24oKX0sRW8ucHJvdG90eXBlLmNvbm5lY3RTZWxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLnZpZXcuZG9tLm93bmVyRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIix0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKX0sRW8ucHJvdG90eXBlLmRpc2Nvbm5lY3RTZWxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLnZpZXcuZG9tLm93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIix0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKX0sRW8ucHJvdG90eXBlLnN1cHByZXNzU2VsZWN0aW9uVXBkYXRlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXM9ITAsc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXM9ITF9KSw1MCl9LEVvLnByb3RvdHlwZS5vblNlbGVjdGlvbkNoYW5nZT1mdW5jdGlvbigpe2lmKGpyKHRoaXMudmlldykpe2lmKHRoaXMuc3VwcHJlc3NpbmdTZWxlY3Rpb25VcGRhdGVzKXJldHVybiBUcih0aGlzLnZpZXcpO2lmKHRuLmllJiZ0bi5pZV92ZXJzaW9uPD0xMSYmIXRoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24uZW1wdHkpe3ZhciB0PXRoaXMudmlldy5yb290LmdldFNlbGVjdGlvbigpO2lmKHQuZm9jdXNOb2RlJiZwbih0LmZvY3VzTm9kZSx0LmZvY3VzT2Zmc2V0LHQuYW5jaG9yTm9kZSx0LmFuY2hvck9mZnNldCkpcmV0dXJuIHRoaXMuZmx1c2hTb29uKCl9dGhpcy5mbHVzaCgpfX0sRW8ucHJvdG90eXBlLnNldEN1clNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMuY3VycmVudFNlbGVjdGlvbi5zZXQodGhpcy52aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKCkpfSxFby5wcm90b3R5cGUuaWdub3JlU2VsZWN0aW9uQ2hhbmdlPWZ1bmN0aW9uKHQpe2lmKDA9PXQucmFuZ2VDb3VudClyZXR1cm4hMDt2YXIgZT10LmdldFJhbmdlQXQoMCkuY29tbW9uQW5jZXN0b3JDb250YWluZXIsbj10aGlzLnZpZXcuZG9jVmlldy5uZWFyZXN0RGVzYyhlKTtyZXR1cm4gbiYmbi5pZ25vcmVNdXRhdGlvbih7dHlwZToic2VsZWN0aW9uIix0YXJnZXQ6Mz09ZS5ub2RlVHlwZT9lLnBhcmVudE5vZGU6ZX0pPyh0aGlzLnNldEN1clNlbGVjdGlvbigpLCEwKTp2b2lkIDB9LEVvLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe2lmKHRoaXMudmlldy5kb2NWaWV3JiYhKHRoaXMuZmx1c2hpbmdTb29uPi0xKSl7dmFyIHQ9dGhpcy5vYnNlcnZlcj90aGlzLm9ic2VydmVyLnRha2VSZWNvcmRzKCk6W107dGhpcy5xdWV1ZS5sZW5ndGgmJih0PXRoaXMucXVldWUuY29uY2F0KHQpLHRoaXMucXVldWUubGVuZ3RoPTApO3ZhciBlPXRoaXMudmlldy5yb290LmdldFNlbGVjdGlvbigpLG49IXRoaXMuc3VwcHJlc3NpbmdTZWxlY3Rpb25VcGRhdGVzJiYhdGhpcy5jdXJyZW50U2VsZWN0aW9uLmVxKGUpJiZMcih0aGlzLnZpZXcpJiYhdGhpcy5pZ25vcmVTZWxlY3Rpb25DaGFuZ2UoZSkscj0tMSxvPS0xLGk9ITEscz1bXTtpZih0aGlzLnZpZXcuZWRpdGFibGUpZm9yKHZhciBhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciBjPXRoaXMucmVnaXN0ZXJNdXRhdGlvbih0W2FdLHMpO2MmJihyPXI8MD9jLmZyb206TWF0aC5taW4oYy5mcm9tLHIpLG89bzwwP2MudG86TWF0aC5tYXgoYy50byxvKSxjLnR5cGVPdmVyJiYoaT0hMCkpfWlmKHRuLmdlY2tvJiZzLmxlbmd0aD4xKXt2YXIgbD1zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIkJSIj09dC5ub2RlTmFtZX0pKTtpZigyPT1sLmxlbmd0aCl7dmFyIHU9bFswXSxwPWxbMV07dS5wYXJlbnROb2RlJiZ1LnBhcmVudE5vZGUucGFyZW50Tm9kZT09cC5wYXJlbnROb2RlP3AucmVtb3ZlKCk6dS5yZW1vdmUoKX19KHI+LTF8fG4pJiYocj4tMSYmKHRoaXMudmlldy5kb2NWaWV3Lm1hcmtEaXJ0eShyLG8pLERvKHRoaXMudmlldykpLHRoaXMuaGFuZGxlRE9NQ2hhbmdlKHIsbyxpLHMpLHRoaXMudmlldy5kb2NWaWV3LmRpcnR5P3RoaXMudmlldy51cGRhdGVTdGF0ZSh0aGlzLnZpZXcuc3RhdGUpOnRoaXMuY3VycmVudFNlbGVjdGlvbi5lcShlKXx8VHIodGhpcy52aWV3KSx0aGlzLmN1cnJlbnRTZWxlY3Rpb24uc2V0KGUpKX19LEVvLnByb3RvdHlwZS5yZWdpc3Rlck11dGF0aW9uPWZ1bmN0aW9uKHQsZSl7aWYoZS5pbmRleE9mKHQudGFyZ2V0KT4tMSlyZXR1cm4gbnVsbDt2YXIgbj10aGlzLnZpZXcuZG9jVmlldy5uZWFyZXN0RGVzYyh0LnRhcmdldCk7aWYoImF0dHJpYnV0ZXMiPT10LnR5cGUmJihuPT10aGlzLnZpZXcuZG9jVmlld3x8ImNvbnRlbnRlZGl0YWJsZSI9PXQuYXR0cmlidXRlTmFtZXx8InN0eWxlIj09dC5hdHRyaWJ1dGVOYW1lJiYhdC5vbGRWYWx1ZSYmIXQudGFyZ2V0LmdldEF0dHJpYnV0ZSgic3R5bGUiKSkpcmV0dXJuIG51bGw7aWYoIW58fG4uaWdub3JlTXV0YXRpb24odCkpcmV0dXJuIG51bGw7aWYoImNoaWxkTGlzdCI9PXQudHlwZSl7Zm9yKHZhciByPTA7cjx0LmFkZGVkTm9kZXMubGVuZ3RoO3IrKyllLnB1c2godC5hZGRlZE5vZGVzW3JdKTtpZihuLmNvbnRlbnRET00mJm4uY29udGVudERPTSE9bi5kb20mJiFuLmNvbnRlbnRET00uY29udGFpbnModC50YXJnZXQpKXJldHVybntmcm9tOm4ucG9zQmVmb3JlLHRvOm4ucG9zQWZ0ZXJ9O3ZhciBvPXQucHJldmlvdXNTaWJsaW5nLGk9dC5uZXh0U2libGluZztpZih0bi5pZSYmdG4uaWVfdmVyc2lvbjw9MTEmJnQuYWRkZWROb2Rlcy5sZW5ndGgpZm9yKHZhciBzPTA7czx0LmFkZGVkTm9kZXMubGVuZ3RoO3MrKyl7dmFyIGE9dC5hZGRlZE5vZGVzW3NdLGM9YS5wcmV2aW91c1NpYmxpbmcsbD1hLm5leHRTaWJsaW5nOyghY3x8QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbCh0LmFkZGVkTm9kZXMsYyk8MCkmJihvPWMpLCghbHx8QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbCh0LmFkZGVkTm9kZXMsbCk8MCkmJihpPWwpfXZhciB1PW8mJm8ucGFyZW50Tm9kZT09dC50YXJnZXQ/YW4obykrMTowLHA9bi5sb2NhbFBvc0Zyb21ET00odC50YXJnZXQsdSwtMSksaD1pJiZpLnBhcmVudE5vZGU9PXQudGFyZ2V0P2FuKGkpOnQudGFyZ2V0LmNoaWxkTm9kZXMubGVuZ3RoLGY9bi5sb2NhbFBvc0Zyb21ET00odC50YXJnZXQsaCwxKTtyZXR1cm57ZnJvbTpwLHRvOmZ9fXJldHVybiJhdHRyaWJ1dGVzIj09dC50eXBlP3tmcm9tOm4ucG9zQXRTdGFydC1uLmJvcmRlcix0bzpuLnBvc0F0RW5kK24uYm9yZGVyfTp7ZnJvbTpuLnBvc0F0U3RhcnQsdG86bi5wb3NBdEVuZCx0eXBlT3Zlcjp0LnRhcmdldC5ub2RlVmFsdWU9PXQub2xkVmFsdWV9fTt2YXIgVG89ITE7ZnVuY3Rpb24gRG8odCl7VG98fChUbz0hMCwibm9ybWFsIj09Z2V0Q29tcHV0ZWRTdHlsZSh0LmRvbSkud2hpdGVTcGFjZSYmY29uc29sZVsid2FybiJdKCJQcm9zZU1pcnJvciBleHBlY3RzIHRoZSBDU1Mgd2hpdGUtc3BhY2UgcHJvcGVydHkgdG8gYmUgc2V0LCBwcmVmZXJhYmx5IHRvICdwcmUtd3JhcCcuIEl0IGlzIHJlY29tbWVuZGVkIHRvIGxvYWQgc3R5bGUvcHJvc2VtaXJyb3IuY3NzIGZyb20gdGhlIHByb3NlbWlycm9yLXZpZXcgcGFja2FnZS4iKSl9dmFyIF9vPXt9LFJvPXt9O2Z1bmN0aW9uIHpvKHQpe3Quc2hpZnRLZXk9ITEsdC5tb3VzZURvd249bnVsbCx0Lmxhc3RLZXlDb2RlPW51bGwsdC5sYXN0S2V5Q29kZVRpbWU9MCx0Lmxhc3RDbGljaz17dGltZTowLHg6MCx5OjAsdHlwZToiIn0sdC5sYXN0U2VsZWN0aW9uT3JpZ2luPW51bGwsdC5sYXN0U2VsZWN0aW9uVGltZT0wLHQubGFzdElPU0VudGVyPTAsdC5sYXN0SU9TRW50ZXJGYWxsYmFja1RpbWVvdXQ9bnVsbCx0Lmxhc3RBbmRyb2lkRGVsZXRlPTAsdC5jb21wb3Npbmc9ITEsdC5jb21wb3NpbmdUaW1lb3V0PW51bGwsdC5jb21wb3NpdGlvbk5vZGVzPVtdLHQuY29tcG9zaXRpb25FbmRlZEF0PS0yZTgsdC5kb21PYnNlcnZlcj1uZXcgRW8odCwoZnVuY3Rpb24oZSxuLHIsbyl7cmV0dXJuIHNvKHQsZSxuLHIsbyl9KSksdC5kb21PYnNlcnZlci5zdGFydCgpLHQuZG9tQ2hhbmdlQ291bnQ9MCx0LmV2ZW50SGFuZGxlcnM9T2JqZWN0LmNyZWF0ZShudWxsKTt2YXIgZT1mdW5jdGlvbihlKXt2YXIgbj1fb1tlXTt0LmRvbS5hZGRFdmVudExpc3RlbmVyKGUsdC5ldmVudEhhbmRsZXJzW2VdPWZ1bmN0aW9uKGUpeyFWbyh0LGUpfHxCbyh0LGUpfHwhdC5lZGl0YWJsZSYmZS50eXBlIGluIFJvfHxuKHQsZSl9KX07Zm9yKHZhciBuIGluIF9vKWUobik7dG4uc2FmYXJpJiZ0LmRvbS5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9KSksJG8odCl9ZnVuY3Rpb24gSW8odCxlKXt0Lmxhc3RTZWxlY3Rpb25PcmlnaW49ZSx0Lmxhc3RTZWxlY3Rpb25UaW1lPURhdGUubm93KCl9ZnVuY3Rpb24gUG8odCl7Zm9yKHZhciBlIGluIHQuZG9tT2JzZXJ2ZXIuc3RvcCgpLHQuZXZlbnRIYW5kbGVycyl0LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKGUsdC5ldmVudEhhbmRsZXJzW2VdKTtjbGVhclRpbWVvdXQodC5jb21wb3NpbmdUaW1lb3V0KSxjbGVhclRpbWVvdXQodC5sYXN0SU9TRW50ZXJGYWxsYmFja1RpbWVvdXQpfWZ1bmN0aW9uICRvKHQpe3Quc29tZVByb3AoImhhbmRsZURPTUV2ZW50cyIsKGZ1bmN0aW9uKGUpe2Zvcih2YXIgbiBpbiBlKXQuZXZlbnRIYW5kbGVyc1tuXXx8dC5kb20uYWRkRXZlbnRMaXN0ZW5lcihuLHQuZXZlbnRIYW5kbGVyc1tuXT1mdW5jdGlvbihlKXtyZXR1cm4gQm8odCxlKX0pfSkpfWZ1bmN0aW9uIEJvKHQsZSl7cmV0dXJuIHQuc29tZVByb3AoImhhbmRsZURPTUV2ZW50cyIsKGZ1bmN0aW9uKG4pe3ZhciByPW5bZS50eXBlXTtyZXR1cm4hIXImJihyKHQsZSl8fGUuZGVmYXVsdFByZXZlbnRlZCl9KSl9ZnVuY3Rpb24gVm8odCxlKXtpZighZS5idWJibGVzKXJldHVybiEwO2lmKGUuZGVmYXVsdFByZXZlbnRlZClyZXR1cm4hMTtmb3IodmFyIG49ZS50YXJnZXQ7biE9dC5kb207bj1uLnBhcmVudE5vZGUpaWYoIW58fDExPT1uLm5vZGVUeXBlfHxuLnBtVmlld0Rlc2MmJm4ucG1WaWV3RGVzYy5zdG9wRXZlbnQoZSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gam8odCxlKXtCbyh0LGUpfHwhX29bZS50eXBlXXx8IXQuZWRpdGFibGUmJmUudHlwZSBpbiBSb3x8X29bZS50eXBlXSh0LGUpfWZ1bmN0aW9uIExvKHQpe3JldHVybntsZWZ0OnQuY2xpZW50WCx0b3A6dC5jbGllbnRZfX1mdW5jdGlvbiBGbyh0LGUpe3ZhciBuPWUueC10LmNsaWVudFgscj1lLnktdC5jbGllbnRZO3JldHVybiBuKm4rcipyPDEwMH1mdW5jdGlvbiBIbyh0LGUsbixyLG8pe2lmKC0xPT1yKXJldHVybiExO2Zvcih2YXIgaT10LnN0YXRlLmRvYy5yZXNvbHZlKHIpLHM9ZnVuY3Rpb24ocil7aWYodC5zb21lUHJvcChlLChmdW5jdGlvbihlKXtyZXR1cm4gcj5pLmRlcHRoP2UodCxuLGkubm9kZUFmdGVyLGkuYmVmb3JlKHIpLG8sITApOmUodCxuLGkubm9kZShyKSxpLmJlZm9yZShyKSxvLCExKX0pKSlyZXR1cm57djohMH19LGE9aS5kZXB0aCsxO2E+MDthLS0pe3ZhciBjPXMoYSk7aWYoYylyZXR1cm4gYy52fXJldHVybiExfWZ1bmN0aW9uIEpvKHQsZSxuKXt0LmZvY3VzZWR8fHQuZm9jdXMoKTt2YXIgcj10LnN0YXRlLnRyLnNldFNlbGVjdGlvbihlKTsicG9pbnRlciI9PW4mJnIuc2V0TWV0YSgicG9pbnRlciIsITApLHQuZGlzcGF0Y2gocil9ZnVuY3Rpb24gV28odCxlKXtpZigtMT09ZSlyZXR1cm4hMTt2YXIgbj10LnN0YXRlLmRvYy5yZXNvbHZlKGUpLHI9bi5ub2RlQWZ0ZXI7cmV0dXJuISEociYmci5pc0F0b20mJl9lLmlzU2VsZWN0YWJsZShyKSkmJihKbyh0LG5ldyBfZShuKSwicG9pbnRlciIpLCEwKX1mdW5jdGlvbiBxbyh0LGUpe2lmKC0xPT1lKXJldHVybiExO3ZhciBuLHIsbz10LnN0YXRlLnNlbGVjdGlvbjtvIGluc3RhbmNlb2YgX2UmJihuPW8ubm9kZSk7Zm9yKHZhciBpPXQuc3RhdGUuZG9jLnJlc29sdmUoZSkscz1pLmRlcHRoKzE7cz4wO3MtLSl7dmFyIGE9cz5pLmRlcHRoP2kubm9kZUFmdGVyOmkubm9kZShzKTtpZihfZS5pc1NlbGVjdGFibGUoYSkpe3I9biYmby4kZnJvbS5kZXB0aD4wJiZzPj1vLiRmcm9tLmRlcHRoJiZpLmJlZm9yZShvLiRmcm9tLmRlcHRoKzEpPT1vLiRmcm9tLnBvcz9pLmJlZm9yZShvLiRmcm9tLmRlcHRoKTppLmJlZm9yZShzKTticmVha319cmV0dXJuIG51bGwhPXImJihKbyh0LF9lLmNyZWF0ZSh0LnN0YXRlLmRvYyxyKSwicG9pbnRlciIpLCEwKX1mdW5jdGlvbiBLbyh0LGUsbixyLG8pe3JldHVybiBIbyh0LCJoYW5kbGVDbGlja09uIixlLG4scil8fHQuc29tZVByb3AoImhhbmRsZUNsaWNrIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlLHIpfSkpfHwobz9xbyh0LG4pOldvKHQsbikpfWZ1bmN0aW9uIFVvKHQsZSxuLHIpe3JldHVybiBIbyh0LCJoYW5kbGVEb3VibGVDbGlja09uIixlLG4scil8fHQuc29tZVByb3AoImhhbmRsZURvdWJsZUNsaWNrIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlLHIpfSkpfWZ1bmN0aW9uIEdvKHQsZSxuLHIpe3JldHVybiBIbyh0LCJoYW5kbGVUcmlwbGVDbGlja09uIixlLG4scil8fHQuc29tZVByb3AoImhhbmRsZVRyaXBsZUNsaWNrIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlLHIpfSkpfHxYbyh0LG4scil9ZnVuY3Rpb24gWG8odCxlLG4pe2lmKDAhPW4uYnV0dG9uKXJldHVybiExO3ZhciByPXQuc3RhdGUuZG9jO2lmKC0xPT1lKXJldHVybiEhci5pbmxpbmVDb250ZW50JiYoSm8odCxUZS5jcmVhdGUociwwLHIuY29udGVudC5zaXplKSwicG9pbnRlciIpLCEwKTtmb3IodmFyIG89ci5yZXNvbHZlKGUpLGk9by5kZXB0aCsxO2k+MDtpLS0pe3ZhciBzPWk+by5kZXB0aD9vLm5vZGVBZnRlcjpvLm5vZGUoaSksYT1vLmJlZm9yZShpKTtpZihzLmlubGluZUNvbnRlbnQpSm8odCxUZS5jcmVhdGUocixhKzEsYSsxK3MuY29udGVudC5zaXplKSwicG9pbnRlciIpO2Vsc2V7aWYoIV9lLmlzU2VsZWN0YWJsZShzKSljb250aW51ZTtKbyh0LF9lLmNyZWF0ZShyLGEpLCJwb2ludGVyIil9cmV0dXJuITB9fWZ1bmN0aW9uIFlvKHQpe3JldHVybiBvaSh0KX1Sby5rZXlkb3duPWZ1bmN0aW9uKHQsZSl7aWYodC5zaGlmdEtleT0xNj09ZS5rZXlDb2RlfHxlLnNoaWZ0S2V5LCF0aSh0LGUpKWlmKDIyOSE9ZS5rZXlDb2RlJiZ0LmRvbU9ic2VydmVyLmZvcmNlRmx1c2goKSx0Lmxhc3RLZXlDb2RlPWUua2V5Q29kZSx0Lmxhc3RLZXlDb2RlVGltZT1EYXRlLm5vdygpLCF0bi5pb3N8fDEzIT1lLmtleUNvZGV8fGUuY3RybEtleXx8ZS5hbHRLZXl8fGUubWV0YUtleSl0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlKX0pKXx8cm8odCxlKT9lLnByZXZlbnREZWZhdWx0KCk6SW8odCwia2V5Iik7ZWxzZXt2YXIgbj1EYXRlLm5vdygpO3QubGFzdElPU0VudGVyPW4sdC5sYXN0SU9TRW50ZXJGYWxsYmFja1RpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0Lmxhc3RJT1NFbnRlcj09biYmKHQuc29tZVByb3AoImhhbmRsZUtleURvd24iLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0LHluKDEzLCJFbnRlciIpKX0pKSx0Lmxhc3RJT1NFbnRlcj0wKX0pLDIwMCl9fSxSby5rZXl1cD1mdW5jdGlvbih0LGUpezE2PT1lLmtleUNvZGUmJih0LnNoaWZ0S2V5PSExKX0sUm8ua2V5cHJlc3M9ZnVuY3Rpb24odCxlKXtpZighKHRpKHQsZSl8fCFlLmNoYXJDb2RlfHxlLmN0cmxLZXkmJiFlLmFsdEtleXx8dG4ubWFjJiZlLm1ldGFLZXkpKWlmKHQuc29tZVByb3AoImhhbmRsZUtleVByZXNzIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlKX0pKSllLnByZXZlbnREZWZhdWx0KCk7ZWxzZXt2YXIgbj10LnN0YXRlLnNlbGVjdGlvbjtpZighKG4gaW5zdGFuY2VvZiBUZSl8fCFuLiRmcm9tLnNhbWVQYXJlbnQobi4kdG8pKXt2YXIgcj1TdHJpbmcuZnJvbUNoYXJDb2RlKGUuY2hhckNvZGUpO3Quc29tZVByb3AoImhhbmRsZVRleHRJbnB1dCIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQsbi4kZnJvbS5wb3Msbi4kdG8ucG9zLHIpfSkpfHx0LmRpc3BhdGNoKHQuc3RhdGUudHIuaW5zZXJ0VGV4dChyKS5zY3JvbGxJbnRvVmlldygpKSxlLnByZXZlbnREZWZhdWx0KCl9fX07dmFyIFpvPXRuLm1hYz8ibWV0YUtleSI6ImN0cmxLZXkiO19vLm1vdXNlZG93bj1mdW5jdGlvbih0LGUpe3Quc2hpZnRLZXk9ZS5zaGlmdEtleTt2YXIgbj1Zbyh0KSxyPURhdGUubm93KCksbz0ic2luZ2xlQ2xpY2siO3ItdC5sYXN0Q2xpY2sudGltZTw1MDAmJkZvKGUsdC5sYXN0Q2xpY2spJiYhZVtab10mJigic2luZ2xlQ2xpY2siPT10Lmxhc3RDbGljay50eXBlP289ImRvdWJsZUNsaWNrIjoiZG91YmxlQ2xpY2siPT10Lmxhc3RDbGljay50eXBlJiYobz0idHJpcGxlQ2xpY2siKSksdC5sYXN0Q2xpY2s9e3RpbWU6cix4OmUuY2xpZW50WCx5OmUuY2xpZW50WSx0eXBlOm99O3ZhciBpPXQucG9zQXRDb29yZHMoTG8oZSkpO2kmJigic2luZ2xlQ2xpY2siPT1vPyh0Lm1vdXNlRG93biYmdC5tb3VzZURvd24uZG9uZSgpLHQubW91c2VEb3duPW5ldyBRbyh0LGksZSxuKSk6KCJkb3VibGVDbGljayI9PW8/VW86R28pKHQsaS5wb3MsaS5pbnNpZGUsZSk/ZS5wcmV2ZW50RGVmYXVsdCgpOklvKHQsInBvaW50ZXIiKSl9O3ZhciBRbz1mdW5jdGlvbih0LGUsbixyKXt2YXIgbyxpLHM9dGhpcztpZih0aGlzLnZpZXc9dCx0aGlzLnN0YXJ0RG9jPXQuc3RhdGUuZG9jLHRoaXMucG9zPWUsdGhpcy5ldmVudD1uLHRoaXMuZmx1c2hlZD1yLHRoaXMuc2VsZWN0Tm9kZT1uW1pvXSx0aGlzLmFsbG93RGVmYXVsdD1uLnNoaWZ0S2V5LGUuaW5zaWRlPi0xKW89dC5zdGF0ZS5kb2Mubm9kZUF0KGUuaW5zaWRlKSxpPWUuaW5zaWRlO2Vsc2V7dmFyIGE9dC5zdGF0ZS5kb2MucmVzb2x2ZShlLnBvcyk7bz1hLnBhcmVudCxpPWEuZGVwdGg/YS5iZWZvcmUoKTowfXRoaXMubWlnaHREcmFnPW51bGw7dmFyIGM9cj9udWxsOm4udGFyZ2V0LGw9Yz90LmRvY1ZpZXcubmVhcmVzdERlc2MoYywhMCk6bnVsbDt0aGlzLnRhcmdldD1sP2wuZG9tOm51bGw7dmFyIHU9dC5zdGF0ZSxwPXUuc2VsZWN0aW9uOygwPT1uLmJ1dHRvbiYmby50eXBlLnNwZWMuZHJhZ2dhYmxlJiYhMSE9PW8udHlwZS5zcGVjLnNlbGVjdGFibGV8fHAgaW5zdGFuY2VvZiBfZSYmcC5mcm9tPD1pJiZwLnRvPmkpJiYodGhpcy5taWdodERyYWc9e25vZGU6byxwb3M6aSxhZGRBdHRyOnRoaXMudGFyZ2V0JiYhdGhpcy50YXJnZXQuZHJhZ2dhYmxlLHNldFVuZWRpdGFibGU6dGhpcy50YXJnZXQmJnRuLmdlY2tvJiYhdGhpcy50YXJnZXQuaGFzQXR0cmlidXRlKCJjb250ZW50RWRpdGFibGUiKX0pLHRoaXMudGFyZ2V0JiZ0aGlzLm1pZ2h0RHJhZyYmKHRoaXMubWlnaHREcmFnLmFkZEF0dHJ8fHRoaXMubWlnaHREcmFnLnNldFVuZWRpdGFibGUpJiYodGhpcy52aWV3LmRvbU9ic2VydmVyLnN0b3AoKSx0aGlzLm1pZ2h0RHJhZy5hZGRBdHRyJiYodGhpcy50YXJnZXQuZHJhZ2dhYmxlPSEwKSx0aGlzLm1pZ2h0RHJhZy5zZXRVbmVkaXRhYmxlJiZzZXRUaW1lb3V0KChmdW5jdGlvbigpe3Mudmlldy5tb3VzZURvd249PXMmJnMudGFyZ2V0LnNldEF0dHJpYnV0ZSgiY29udGVudEVkaXRhYmxlIiwiZmFsc2UiKX0pLDIwKSx0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RhcnQoKSksdC5yb290LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLHRoaXMudXA9dGhpcy51cC5iaW5kKHRoaXMpKSx0LnJvb3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIix0aGlzLm1vdmU9dGhpcy5tb3ZlLmJpbmQodGhpcykpLElvKHQsInBvaW50ZXIiKX07ZnVuY3Rpb24gdGkodCxlKXtyZXR1cm4hIXQuY29tcG9zaW5nfHwhISh0bi5zYWZhcmkmJk1hdGguYWJzKGUudGltZVN0YW1wLXQuY29tcG9zaXRpb25FbmRlZEF0KTw1MDApJiYodC5jb21wb3NpdGlvbkVuZGVkQXQ9LTJlOCwhMCl9UW8ucHJvdG90eXBlLmRvbmU9ZnVuY3Rpb24oKXt0aGlzLnZpZXcucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZXVwIix0aGlzLnVwKSx0aGlzLnZpZXcucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLHRoaXMubW92ZSksdGhpcy5taWdodERyYWcmJnRoaXMudGFyZ2V0JiYodGhpcy52aWV3LmRvbU9ic2VydmVyLnN0b3AoKSx0aGlzLm1pZ2h0RHJhZy5hZGRBdHRyJiZ0aGlzLnRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoImRyYWdnYWJsZSIpLHRoaXMubWlnaHREcmFnLnNldFVuZWRpdGFibGUmJnRoaXMudGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZSgiY29udGVudEVkaXRhYmxlIiksdGhpcy52aWV3LmRvbU9ic2VydmVyLnN0YXJ0KCkpLHRoaXMudmlldy5tb3VzZURvd249bnVsbH0sUW8ucHJvdG90eXBlLnVwPWZ1bmN0aW9uKHQpe2lmKHRoaXMuZG9uZSgpLHRoaXMudmlldy5kb20uY29udGFpbnMoMz09dC50YXJnZXQubm9kZVR5cGU/dC50YXJnZXQucGFyZW50Tm9kZTp0LnRhcmdldCkpe3ZhciBlPXRoaXMucG9zO3RoaXMudmlldy5zdGF0ZS5kb2MhPXRoaXMuc3RhcnREb2MmJihlPXRoaXMudmlldy5wb3NBdENvb3JkcyhMbyh0KSkpLHRoaXMuYWxsb3dEZWZhdWx0fHwhZT9Jbyh0aGlzLnZpZXcsInBvaW50ZXIiKTpLbyh0aGlzLnZpZXcsZS5wb3MsZS5pbnNpZGUsdCx0aGlzLnNlbGVjdE5vZGUpP3QucHJldmVudERlZmF1bHQoKTowPT10LmJ1dHRvbiYmKHRoaXMuZmx1c2hlZHx8dG4uc2FmYXJpJiZ0aGlzLm1pZ2h0RHJhZyYmIXRoaXMubWlnaHREcmFnLm5vZGUuaXNBdG9tfHx0bi5jaHJvbWUmJiEodGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIFRlKSYmTWF0aC5taW4oTWF0aC5hYnMoZS5wb3MtdGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbi5mcm9tKSxNYXRoLmFicyhlLnBvcy10aGlzLnZpZXcuc3RhdGUuc2VsZWN0aW9uLnRvKSk8PTIpPyhKbyh0aGlzLnZpZXcsQWUubmVhcih0aGlzLnZpZXcuc3RhdGUuZG9jLnJlc29sdmUoZS5wb3MpKSwicG9pbnRlciIpLHQucHJldmVudERlZmF1bHQoKSk6SW8odGhpcy52aWV3LCJwb2ludGVyIil9fSxRby5wcm90b3R5cGUubW92ZT1mdW5jdGlvbih0KXshdGhpcy5hbGxvd0RlZmF1bHQmJihNYXRoLmFicyh0aGlzLmV2ZW50LngtdC5jbGllbnRYKT40fHxNYXRoLmFicyh0aGlzLmV2ZW50LnktdC5jbGllbnRZKT40KSYmKHRoaXMuYWxsb3dEZWZhdWx0PSEwKSxJbyh0aGlzLnZpZXcsInBvaW50ZXIiKSwwPT10LmJ1dHRvbnMmJnRoaXMuZG9uZSgpfSxfby50b3VjaGRvd249ZnVuY3Rpb24odCl7WW8odCksSW8odCwicG9pbnRlciIpfSxfby5jb250ZXh0bWVudT1mdW5jdGlvbih0KXtyZXR1cm4gWW8odCl9O3ZhciBlaT10bi5hbmRyb2lkPzVlMzotMTtmdW5jdGlvbiBuaSh0LGUpe2NsZWFyVGltZW91dCh0LmNvbXBvc2luZ1RpbWVvdXQpLGU+LTEmJih0LmNvbXBvc2luZ1RpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gb2kodCl9KSxlKSl9ZnVuY3Rpb24gcmkodCl7dC5jb21wb3Npbmc9ITE7d2hpbGUodC5jb21wb3NpdGlvbk5vZGVzLmxlbmd0aD4wKXQuY29tcG9zaXRpb25Ob2Rlcy5wb3AoKS5tYXJrUGFyZW50c0RpcnR5KCl9ZnVuY3Rpb24gb2kodCxlKXtpZih0LmRvbU9ic2VydmVyLmZvcmNlRmx1c2goKSxyaSh0KSxlfHx0LmRvY1ZpZXcuZGlydHkpe3ZhciBuPU5yKHQpO3JldHVybiBuJiYhbi5lcSh0LnN0YXRlLnNlbGVjdGlvbik/dC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldFNlbGVjdGlvbihuKSk6dC51cGRhdGVTdGF0ZSh0LnN0YXRlKSwhMH1yZXR1cm4hMX1mdW5jdGlvbiBpaSh0LGUpe2lmKHQuZG9tLnBhcmVudE5vZGUpe3ZhciBuPXQuZG9tLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpO24uYXBwZW5kQ2hpbGQoZSksbi5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6IC0xMDAwMHB4OyB0b3A6IDEwcHgiO3ZhciByPWdldFNlbGVjdGlvbigpLG89ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtvLnNlbGVjdE5vZGVDb250ZW50cyhlKSx0LmRvbS5ibHVyKCksci5yZW1vdmVBbGxSYW5nZXMoKSxyLmFkZFJhbmdlKG8pLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bi5wYXJlbnROb2RlJiZuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobiksdC5mb2N1cygpfSksNTApfX1Sby5jb21wb3NpdGlvbnN0YXJ0PVJvLmNvbXBvc2l0aW9udXBkYXRlPWZ1bmN0aW9uKHQpe2lmKCF0LmNvbXBvc2luZyl7dC5kb21PYnNlcnZlci5mbHVzaCgpO3ZhciBlPXQuc3RhdGUsbj1lLnNlbGVjdGlvbi4kZnJvbTtpZihlLnNlbGVjdGlvbi5lbXB0eSYmKGUuc3RvcmVkTWFya3N8fCFuLnRleHRPZmZzZXQmJm4ucGFyZW50T2Zmc2V0JiZuLm5vZGVCZWZvcmUubWFya3Muc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuITE9PT10LnR5cGUuc3BlYy5pbmNsdXNpdmV9KSkpKXQubWFya0N1cnNvcj10LnN0YXRlLnN0b3JlZE1hcmtzfHxuLm1hcmtzKCksb2kodCwhMCksdC5tYXJrQ3Vyc29yPW51bGw7ZWxzZSBpZihvaSh0KSx0bi5nZWNrbyYmZS5zZWxlY3Rpb24uZW1wdHkmJm4ucGFyZW50T2Zmc2V0JiYhbi50ZXh0T2Zmc2V0JiZuLm5vZGVCZWZvcmUubWFya3MubGVuZ3RoKWZvcih2YXIgcj10LnJvb3QuZ2V0U2VsZWN0aW9uKCksbz1yLmZvY3VzTm9kZSxpPXIuZm9jdXNPZmZzZXQ7byYmMT09by5ub2RlVHlwZSYmMCE9aTspe3ZhciBzPWk8MD9vLmxhc3RDaGlsZDpvLmNoaWxkTm9kZXNbaS0xXTtpZighcylicmVhaztpZigzPT1zLm5vZGVUeXBlKXtyLmNvbGxhcHNlKHMscy5ub2RlVmFsdWUubGVuZ3RoKTticmVha31vPXMsaT0tMX10LmNvbXBvc2luZz0hMH1uaSh0LGVpKX0sUm8uY29tcG9zaXRpb25lbmQ9ZnVuY3Rpb24odCxlKXt0LmNvbXBvc2luZyYmKHQuY29tcG9zaW5nPSExLHQuY29tcG9zaXRpb25FbmRlZEF0PWUudGltZVN0YW1wLG5pKHQsMjApKX07dmFyIHNpPXRuLmllJiZ0bi5pZV92ZXJzaW9uPDE1fHx0bi5pb3MmJnRuLndlYmtpdF92ZXJzaW9uPDYwNDtmdW5jdGlvbiBhaSh0KXtyZXR1cm4gMD09dC5vcGVuU3RhcnQmJjA9PXQub3BlbkVuZCYmMT09dC5jb250ZW50LmNoaWxkQ291bnQ/dC5jb250ZW50LmZpcnN0Q2hpbGQ6bnVsbH1mdW5jdGlvbiBjaSh0LGUpe2lmKHQuZG9tLnBhcmVudE5vZGUpe3ZhciBuPXQuc2hpZnRLZXl8fHQuc3RhdGUuc2VsZWN0aW9uLiRmcm9tLnBhcmVudC50eXBlLnNwZWMuY29kZSxyPXQuZG9tLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuPyJ0ZXh0YXJlYSI6ImRpdiIpKTtufHwoci5jb250ZW50RWRpdGFibGU9InRydWUiKSxyLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOiBmaXhlZDsgbGVmdDogLTEwMDAwcHg7IHRvcDogMTBweCIsci5mb2N1cygpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5mb2N1cygpLHIucGFyZW50Tm9kZSYmci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHIpLG4/bGkodCxyLnZhbHVlLG51bGwsZSk6bGkodCxyLnRleHRDb250ZW50LHIuaW5uZXJIVE1MLGUpfSksNTApfX1mdW5jdGlvbiBsaSh0LGUsbixyKXt2YXIgbz1mbyh0LGUsbix0LnNoaWZ0S2V5LHQuc3RhdGUuc2VsZWN0aW9uLiRmcm9tKTtpZih0LnNvbWVQcm9wKCJoYW5kbGVQYXN0ZSIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQscixvfHx5LmVtcHR5KX0pKSlyZXR1cm4hMDtpZighbylyZXR1cm4hMTt2YXIgaT1haShvKSxzPWk/dC5zdGF0ZS50ci5yZXBsYWNlU2VsZWN0aW9uV2l0aChpLHQuc2hpZnRLZXkpOnQuc3RhdGUudHIucmVwbGFjZVNlbGVjdGlvbihvKTtyZXR1cm4gdC5kaXNwYXRjaChzLnNjcm9sbEludG9WaWV3KCkuc2V0TWV0YSgicGFzdGUiLCEwKS5zZXRNZXRhKCJ1aUV2ZW50IiwicGFzdGUiKSksITB9X28uY29weT1Sby5jdXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10LnN0YXRlLnNlbGVjdGlvbixyPSJjdXQiPT1lLnR5cGU7aWYoIW4uZW1wdHkpe3ZhciBvPXNpP251bGw6ZS5jbGlwYm9hcmREYXRhLGk9bi5jb250ZW50KCkscz1obyh0LGkpLGE9cy5kb20sYz1zLnRleHQ7bz8oZS5wcmV2ZW50RGVmYXVsdCgpLG8uY2xlYXJEYXRhKCksby5zZXREYXRhKCJ0ZXh0L2h0bWwiLGEuaW5uZXJIVE1MKSxvLnNldERhdGEoInRleHQvcGxhaW4iLGMpKTppaSh0LGEpLHImJnQuZGlzcGF0Y2godC5zdGF0ZS50ci5kZWxldGVTZWxlY3Rpb24oKS5zY3JvbGxJbnRvVmlldygpLnNldE1ldGEoInVpRXZlbnQiLCJjdXQiKSl9fSxSby5wYXN0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXNpP251bGw6ZS5jbGlwYm9hcmREYXRhO24mJmxpKHQsbi5nZXREYXRhKCJ0ZXh0L3BsYWluIiksbi5nZXREYXRhKCJ0ZXh0L2h0bWwiKSxlKT9lLnByZXZlbnREZWZhdWx0KCk6Y2kodCxlKX07dmFyIHVpPWZ1bmN0aW9uKHQsZSl7dGhpcy5zbGljZT10LHRoaXMubW92ZT1lfSxwaT10bi5tYWM/ImFsdEtleSI6ImN0cmxLZXkiO2Zvcih2YXIgaGkgaW4gX28uZHJhZ3N0YXJ0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5tb3VzZURvd247aWYobiYmbi5kb25lKCksZS5kYXRhVHJhbnNmZXIpe3ZhciByPXQuc3RhdGUuc2VsZWN0aW9uLG89ci5lbXB0eT9udWxsOnQucG9zQXRDb29yZHMoTG8oZSkpO2lmKG8mJm8ucG9zPj1yLmZyb20mJm8ucG9zPD0ociBpbnN0YW5jZW9mIF9lP3IudG8tMTpyLnRvKSk7ZWxzZSBpZihuJiZuLm1pZ2h0RHJhZyl0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKF9lLmNyZWF0ZSh0LnN0YXRlLmRvYyxuLm1pZ2h0RHJhZy5wb3MpKSk7ZWxzZSBpZihlLnRhcmdldCYmMT09ZS50YXJnZXQubm9kZVR5cGUpe3ZhciBpPXQuZG9jVmlldy5uZWFyZXN0RGVzYyhlLnRhcmdldCwhMCk7aSYmaS5ub2RlLnR5cGUuc3BlYy5kcmFnZ2FibGUmJmkhPXQuZG9jVmlldyYmdC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldFNlbGVjdGlvbihfZS5jcmVhdGUodC5zdGF0ZS5kb2MsaS5wb3NCZWZvcmUpKSl9dmFyIHM9dC5zdGF0ZS5zZWxlY3Rpb24uY29udGVudCgpLGE9aG8odCxzKSxjPWEuZG9tLGw9YS50ZXh0O2UuZGF0YVRyYW5zZmVyLmNsZWFyRGF0YSgpLGUuZGF0YVRyYW5zZmVyLnNldERhdGEoc2k/IlRleHQiOiJ0ZXh0L2h0bWwiLGMuaW5uZXJIVE1MKSxlLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkPSJjb3B5TW92ZSIsc2l8fGUuZGF0YVRyYW5zZmVyLnNldERhdGEoInRleHQvcGxhaW4iLGwpLHQuZHJhZ2dpbmc9bmV3IHVpKHMsIWVbcGldKX19LF9vLmRyYWdlbmQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5kcmFnZ2luZzt3aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmRyYWdnaW5nPT1lJiYodC5kcmFnZ2luZz1udWxsKX0pLDUwKX0sUm8uZHJhZ292ZXI9Um8uZHJhZ2VudGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUucHJldmVudERlZmF1bHQoKX0sUm8uZHJvcD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZHJhZ2dpbmc7aWYodC5kcmFnZ2luZz1udWxsLGUuZGF0YVRyYW5zZmVyKXt2YXIgcj10LnBvc0F0Q29vcmRzKExvKGUpKTtpZihyKXt2YXIgbz10LnN0YXRlLmRvYy5yZXNvbHZlKHIucG9zKTtpZihvKXt2YXIgaT1uJiZuLnNsaWNlO2k/dC5zb21lUHJvcCgidHJhbnNmb3JtUGFzdGVkIiwoZnVuY3Rpb24odCl7aT10KGkpfSkpOmk9Zm8odCxlLmRhdGFUcmFuc2Zlci5nZXREYXRhKHNpPyJUZXh0IjoidGV4dC9wbGFpbiIpLHNpP251bGw6ZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgidGV4dC9odG1sIiksITEsbyk7dmFyIHM9biYmIWVbcGldO2lmKHQuc29tZVByb3AoImhhbmRsZURyb3AiLChmdW5jdGlvbihuKXtyZXR1cm4gbih0LGUsaXx8eS5lbXB0eSxzKX0pKSllLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBpZihpKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIGE9aT91ZSh0LnN0YXRlLmRvYyxvLnBvcyxpKTpvLnBvcztudWxsPT1hJiYoYT1vLnBvcyk7dmFyIGM9dC5zdGF0ZS50cjtzJiZjLmRlbGV0ZVNlbGVjdGlvbigpO3ZhciBsPWMubWFwcGluZy5tYXAoYSksdT0wPT1pLm9wZW5TdGFydCYmMD09aS5vcGVuRW5kJiYxPT1pLmNvbnRlbnQuY2hpbGRDb3VudCxwPWMuZG9jO2lmKHU/Yy5yZXBsYWNlUmFuZ2VXaXRoKGwsbCxpLmNvbnRlbnQuZmlyc3RDaGlsZCk6Yy5yZXBsYWNlUmFuZ2UobCxsLGkpLCFjLmRvYy5lcShwKSl7dmFyIGg9Yy5kb2MucmVzb2x2ZShsKTtpZih1JiZfZS5pc1NlbGVjdGFibGUoaS5jb250ZW50LmZpcnN0Q2hpbGQpJiZoLm5vZGVBZnRlciYmaC5ub2RlQWZ0ZXIuc2FtZU1hcmt1cChpLmNvbnRlbnQuZmlyc3RDaGlsZCkpYy5zZXRTZWxlY3Rpb24obmV3IF9lKGgpKTtlbHNle3ZhciBmPWMubWFwcGluZy5tYXAoYSk7Yy5tYXBwaW5nLm1hcHNbYy5tYXBwaW5nLm1hcHMubGVuZ3RoLTFdLmZvckVhY2goKGZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBmPXJ9KSksYy5zZXRTZWxlY3Rpb24oVnIodCxoLGMuZG9jLnJlc29sdmUoZikpKX10LmZvY3VzKCksdC5kaXNwYXRjaChjLnNldE1ldGEoInVpRXZlbnQiLCJkcm9wIikpfX19fX19LF9vLmZvY3VzPWZ1bmN0aW9uKHQpe3QuZm9jdXNlZHx8KHQuZG9tT2JzZXJ2ZXIuc3RvcCgpLHQuZG9tLmNsYXNzTGlzdC5hZGQoIlByb3NlTWlycm9yLWZvY3VzZWQiKSx0LmRvbU9ic2VydmVyLnN0YXJ0KCksdC5mb2N1c2VkPSEwLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5kb2NWaWV3JiZ0Lmhhc0ZvY3VzKCkmJiF0LmRvbU9ic2VydmVyLmN1cnJlbnRTZWxlY3Rpb24uZXEodC5yb290LmdldFNlbGVjdGlvbigpKSYmVHIodCl9KSwyMCkpfSxfby5ibHVyPWZ1bmN0aW9uKHQpe3QuZm9jdXNlZCYmKHQuZG9tT2JzZXJ2ZXIuc3RvcCgpLHQuZG9tLmNsYXNzTGlzdC5yZW1vdmUoIlByb3NlTWlycm9yLWZvY3VzZWQiKSx0LmRvbU9ic2VydmVyLnN0YXJ0KCksdC5kb21PYnNlcnZlci5jdXJyZW50U2VsZWN0aW9uLnNldCh7fSksdC5mb2N1c2VkPSExKX0sX28uYmVmb3JlaW5wdXQ9ZnVuY3Rpb24odCxlKXtpZih0bi5jaHJvbWUmJnRuLmFuZHJvaWQmJiJkZWxldGVDb250ZW50QmFja3dhcmQiPT1lLmlucHV0VHlwZSl7dmFyIG49dC5kb21DaGFuZ2VDb3VudDtzZXRUaW1lb3V0KChmdW5jdGlvbigpe2lmKHQuZG9tQ2hhbmdlQ291bnQ9PW4mJih0LmRvbS5ibHVyKCksdC5mb2N1cygpLCF0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCx5big4LCJCYWNrc3BhY2UiKSl9KSkpKXt2YXIgZT10LnN0YXRlLnNlbGVjdGlvbixyPWUuJGN1cnNvcjtyJiZyLnBvcz4wJiZ0LmRpc3BhdGNoKHQuc3RhdGUudHIuZGVsZXRlKHIucG9zLTEsci5wb3MpLnNjcm9sbEludG9WaWV3KCkpfX0pLDUwKX19LFJvKV9vW2hpXT1Sb1toaV07ZnVuY3Rpb24gZmkodCxlKXtpZih0PT1lKXJldHVybiEwO2Zvcih2YXIgbiBpbiB0KWlmKHRbbl0hPT1lW25dKXJldHVybiExO2Zvcih2YXIgciBpbiBlKWlmKCEociBpbiB0KSlyZXR1cm4hMTtyZXR1cm4hMH12YXIgZGk9ZnVuY3Rpb24odCxlKXt0aGlzLnNwZWM9ZXx8YmksdGhpcy5zaWRlPXRoaXMuc3BlYy5zaWRlfHwwLHRoaXMudG9ET009dH07ZGkucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10Lm1hcFJlc3VsdChlLmZyb20rcix0aGlzLnNpZGU8MD8tMToxKSxpPW8ucG9zLHM9by5kZWxldGVkO3JldHVybiBzP251bGw6bmV3IGdpKGktbixpLW4sdGhpcyl9LGRpLnByb3RvdHlwZS52YWxpZD1mdW5jdGlvbigpe3JldHVybiEwfSxkaS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PXR8fHQgaW5zdGFuY2VvZiBkaSYmKHRoaXMuc3BlYy5rZXkmJnRoaXMuc3BlYy5rZXk9PXQuc3BlYy5rZXl8fHRoaXMudG9ET009PXQudG9ET00mJmZpKHRoaXMuc3BlYyx0LnNwZWMpKX07dmFyIG1pPWZ1bmN0aW9uKHQsZSl7dGhpcy5zcGVjPWV8fGJpLHRoaXMuYXR0cnM9dH07bWkucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10Lm1hcChlLmZyb20rcix0aGlzLnNwZWMuaW5jbHVzaXZlU3RhcnQ/LTE6MSktbixpPXQubWFwKGUudG8rcix0aGlzLnNwZWMuaW5jbHVzaXZlRW5kPzE6LTEpLW47cmV0dXJuIG8+PWk/bnVsbDpuZXcgZ2kobyxpLHRoaXMpfSxtaS5wcm90b3R5cGUudmFsaWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5mcm9tPGUudG99LG1pLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09dHx8dCBpbnN0YW5jZW9mIG1pJiZmaSh0aGlzLmF0dHJzLHQuYXR0cnMpJiZmaSh0aGlzLnNwZWMsdC5zcGVjKX0sbWkuaXM9ZnVuY3Rpb24odCl7cmV0dXJuIHQudHlwZSBpbnN0YW5jZW9mIG1pfTt2YXIgdmk9ZnVuY3Rpb24odCxlKXt0aGlzLnNwZWM9ZXx8YmksdGhpcy5hdHRycz10fTt2aS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQubWFwUmVzdWx0KGUuZnJvbStyLDEpO2lmKG8uZGVsZXRlZClyZXR1cm4gbnVsbDt2YXIgaT10Lm1hcFJlc3VsdChlLnRvK3IsLTEpO3JldHVybiBpLmRlbGV0ZWR8fGkucG9zPD1vLnBvcz9udWxsOm5ldyBnaShvLnBvcy1uLGkucG9zLW4sdGhpcyl9LHZpLnByb3RvdHlwZS52YWxpZD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuY29udGVudC5maW5kSW5kZXgoZS5mcm9tKSxyPW4uaW5kZXgsbz1uLm9mZnNldDtyZXR1cm4gbz09ZS5mcm9tJiZvK3QuY2hpbGQocikubm9kZVNpemU9PWUudG99LHZpLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09dHx8dCBpbnN0YW5jZW9mIHZpJiZmaSh0aGlzLmF0dHJzLHQuYXR0cnMpJiZmaSh0aGlzLnNwZWMsdC5zcGVjKX07dmFyIGdpPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmZyb209dCx0aGlzLnRvPWUsdGhpcy50eXBlPW59LHlpPXtzcGVjOntjb25maWd1cmFibGU6ITB9LGlubGluZTp7Y29uZmlndXJhYmxlOiEwfX07Z2kucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IGdpKHQsZSx0aGlzLnR5cGUpfSxnaS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCksdGhpcy50eXBlLmVxKHQudHlwZSkmJnRoaXMuZnJvbStlPT10LmZyb20mJnRoaXMudG8rZT09dC50b30sZ2kucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMudHlwZS5tYXAodCx0aGlzLGUsbil9LGdpLndpZGdldD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG5ldyBnaSh0LHQsbmV3IGRpKGUsbikpfSxnaS5pbmxpbmU9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIG5ldyBnaSh0LGUsbmV3IG1pKG4scikpfSxnaS5ub2RlPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBuZXcgZ2kodCxlLG5ldyB2aShuLHIpKX0seWkuc3BlYy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLnNwZWN9LHlpLmlubGluZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlIGluc3RhbmNlb2YgbWl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGdpLnByb3RvdHlwZSx5aSk7dmFyIHdpPVtdLGJpPXt9LHhpPWZ1bmN0aW9uKHQsZSl7dGhpcy5sb2NhbD10JiZ0Lmxlbmd0aD90OndpLHRoaXMuY2hpbGRyZW49ZSYmZS5sZW5ndGg/ZTp3aX07eGkuY3JlYXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUubGVuZ3RoP0VpKGUsdCwwLGJpKTpraX0seGkucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPVtdO3JldHVybiB0aGlzLmZpbmRJbm5lcihudWxsPT10PzA6dCxudWxsPT1lPzFlOTplLHIsMCxuKSxyfSx4aS5wcm90b3R5cGUuZmluZElubmVyPWZ1bmN0aW9uKHQsZSxuLHIsbyl7Zm9yKHZhciBpPTA7aTx0aGlzLmxvY2FsLmxlbmd0aDtpKyspe3ZhciBzPXRoaXMubG9jYWxbaV07cy5mcm9tPD1lJiZzLnRvPj10JiYoIW98fG8ocy5zcGVjKSkmJm4ucHVzaChzLmNvcHkocy5mcm9tK3Iscy50bytyKSl9Zm9yKHZhciBhPTA7YTx0aGlzLmNoaWxkcmVuLmxlbmd0aDthKz0zKWlmKHRoaXMuY2hpbGRyZW5bYV08ZSYmdGhpcy5jaGlsZHJlblthKzFdPnQpe3ZhciBjPXRoaXMuY2hpbGRyZW5bYV0rMTt0aGlzLmNoaWxkcmVuW2ErMl0uZmluZElubmVyKHQtYyxlLWMsbixyK2Msbyl9fSx4aS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcz09a2l8fDA9PXQubWFwcy5sZW5ndGg/dGhpczp0aGlzLm1hcElubmVyKHQsZSwwLDAsbnx8YmkpfSx4aS5wcm90b3R5cGUubWFwSW5uZXI9ZnVuY3Rpb24odCxlLG4scixvKXtmb3IodmFyIGkscz0wO3M8dGhpcy5sb2NhbC5sZW5ndGg7cysrKXt2YXIgYT10aGlzLmxvY2FsW3NdLm1hcCh0LG4scik7YSYmYS50eXBlLnZhbGlkKGUsYSk/KGl8fChpPVtdKSkucHVzaChhKTpvLm9uUmVtb3ZlJiZvLm9uUmVtb3ZlKHRoaXMubG9jYWxbc10uc3BlYyl9cmV0dXJuIHRoaXMuY2hpbGRyZW4ubGVuZ3RoP0NpKHRoaXMuY2hpbGRyZW4saSx0LGUsbixyLG8pOmk/bmV3IHhpKGkuc29ydChUaSkpOmtpfSx4aS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUubGVuZ3RoP3RoaXM9PWtpP3hpLmNyZWF0ZSh0LGUpOnRoaXMuYWRkSW5uZXIodCxlLDApOnRoaXN9LHhpLnByb3RvdHlwZS5hZGRJbm5lcj1mdW5jdGlvbih0LGUsbil7dmFyIHIsbz10aGlzLGk9MDt0LmZvckVhY2goKGZ1bmN0aW9uKHQscyl7dmFyIGEsYz1zK247aWYoYT1BaShlLHQsYykpe3J8fChyPW8uY2hpbGRyZW4uc2xpY2UoKSk7d2hpbGUoaTxyLmxlbmd0aCYmcltpXTxzKWkrPTM7cltpXT09cz9yW2krMl09cltpKzJdLmFkZElubmVyKHQsYSxjKzEpOnIuc3BsaWNlKGksMCxzLHMrdC5ub2RlU2l6ZSxFaShhLHQsYysxLGJpKSksaSs9M319KSk7Zm9yKHZhciBzPU1pKGk/TmkoZSk6ZSwtbiksYT0wO2E8cy5sZW5ndGg7YSsrKXNbYV0udHlwZS52YWxpZCh0LHNbYV0pfHxzLnNwbGljZShhLS0sMSk7cmV0dXJuIG5ldyB4aShzLmxlbmd0aD90aGlzLmxvY2FsLmNvbmNhdChzKS5zb3J0KFRpKTp0aGlzLmxvY2FsLHJ8fHRoaXMuY2hpbGRyZW4pfSx4aS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3JldHVybiAwPT10Lmxlbmd0aHx8dGhpcz09a2k/dGhpczp0aGlzLnJlbW92ZUlubmVyKHQsMCl9LHhpLnByb3RvdHlwZS5yZW1vdmVJbm5lcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLmNoaWxkcmVuLHI9dGhpcy5sb2NhbCxvPTA7bzxuLmxlbmd0aDtvKz0zKXtmb3IodmFyIGk9dm9pZCAwLHM9bltvXStlLGE9bltvKzFdK2UsYz0wLGw9dm9pZCAwO2M8dC5sZW5ndGg7YysrKShsPXRbY10pJiZsLmZyb20+cyYmbC50bzxhJiYodFtjXT1udWxsLChpfHwoaT1bXSkpLnB1c2gobCkpO2lmKGkpe249PXRoaXMuY2hpbGRyZW4mJihuPXRoaXMuY2hpbGRyZW4uc2xpY2UoKSk7dmFyIHU9bltvKzJdLnJlbW92ZUlubmVyKGkscysxKTt1IT1raT9uW28rMl09dToobi5zcGxpY2UobywzKSxvLT0zKX19aWYoci5sZW5ndGgpZm9yKHZhciBwPTAsaD12b2lkIDA7cDx0Lmxlbmd0aDtwKyspaWYoaD10W3BdKWZvcih2YXIgZj0wO2Y8ci5sZW5ndGg7ZisrKXJbZl0uZXEoaCxlKSYmKHI9PXRoaXMubG9jYWwmJihyPXRoaXMubG9jYWwuc2xpY2UoKSksci5zcGxpY2UoZi0tLDEpKTtyZXR1cm4gbj09dGhpcy5jaGlsZHJlbiYmcj09dGhpcy5sb2NhbD90aGlzOnIubGVuZ3RofHxuLmxlbmd0aD9uZXcgeGkocixuKTpraX0seGkucHJvdG90eXBlLmZvckNoaWxkPWZ1bmN0aW9uKHQsZSl7aWYodGhpcz09a2kpcmV0dXJuIHRoaXM7aWYoZS5pc0xlYWYpcmV0dXJuIHhpLmVtcHR5O2Zvcih2YXIgbixyLG89MDtvPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO28rPTMpaWYodGhpcy5jaGlsZHJlbltvXT49dCl7dGhpcy5jaGlsZHJlbltvXT09dCYmKG49dGhpcy5jaGlsZHJlbltvKzJdKTticmVha31mb3IodmFyIGk9dCsxLHM9aStlLmNvbnRlbnQuc2l6ZSxhPTA7YTx0aGlzLmxvY2FsLmxlbmd0aDthKyspe3ZhciBjPXRoaXMubG9jYWxbYV07aWYoYy5mcm9tPHMmJmMudG8+aSYmYy50eXBlIGluc3RhbmNlb2YgbWkpe3ZhciBsPU1hdGgubWF4KGksYy5mcm9tKS1pLHU9TWF0aC5taW4ocyxjLnRvKS1pO2w8dSYmKHJ8fChyPVtdKSkucHVzaChjLmNvcHkobCx1KSl9fWlmKHIpe3ZhciBwPW5ldyB4aShyLnNvcnQoVGkpKTtyZXR1cm4gbj9uZXcgU2koW3Asbl0pOnB9cmV0dXJuIG58fGtpfSx4aS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7aWYodGhpcz09dClyZXR1cm4hMDtpZighKHQgaW5zdGFuY2VvZiB4aSl8fHRoaXMubG9jYWwubGVuZ3RoIT10LmxvY2FsLmxlbmd0aHx8dGhpcy5jaGlsZHJlbi5sZW5ndGghPXQuY2hpbGRyZW4ubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZT0wO2U8dGhpcy5sb2NhbC5sZW5ndGg7ZSsrKWlmKCF0aGlzLmxvY2FsW2VdLmVxKHQubG9jYWxbZV0pKXJldHVybiExO2Zvcih2YXIgbj0wO248dGhpcy5jaGlsZHJlbi5sZW5ndGg7bis9MylpZih0aGlzLmNoaWxkcmVuW25dIT10LmNoaWxkcmVuW25dfHx0aGlzLmNoaWxkcmVuW24rMV0hPXQuY2hpbGRyZW5bbisxXXx8IXRoaXMuY2hpbGRyZW5bbisyXS5lcSh0LmNoaWxkcmVuW24rMl0pKXJldHVybiExO3JldHVybiEwfSx4aS5wcm90b3R5cGUubG9jYWxzPWZ1bmN0aW9uKHQpe3JldHVybiBEaSh0aGlzLmxvY2Fsc0lubmVyKHQpKX0seGkucHJvdG90eXBlLmxvY2Fsc0lubmVyPWZ1bmN0aW9uKHQpe2lmKHRoaXM9PWtpKXJldHVybiB3aTtpZih0LmlubGluZUNvbnRlbnR8fCF0aGlzLmxvY2FsLnNvbWUobWkuaXMpKXJldHVybiB0aGlzLmxvY2FsO2Zvcih2YXIgZT1bXSxuPTA7bjx0aGlzLmxvY2FsLmxlbmd0aDtuKyspdGhpcy5sb2NhbFtuXS50eXBlIGluc3RhbmNlb2YgbWl8fGUucHVzaCh0aGlzLmxvY2FsW25dKTtyZXR1cm4gZX07dmFyIGtpPW5ldyB4aTt4aS5lbXB0eT1raSx4aS5yZW1vdmVPdmVybGFwPURpO3ZhciBTaT1mdW5jdGlvbih0KXt0aGlzLm1lbWJlcnM9dH07ZnVuY3Rpb24gQ2kodCxlLG4scixvLGkscyl7Zm9yKHZhciBhPXQuc2xpY2UoKSxjPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgcz0wO3M8YS5sZW5ndGg7cys9Myl7dmFyIGM9YVtzKzFdLGw9dm9pZCAwOy0xPT1jfHx0PmMraXx8KGU+PWFbc10raT9hW3MrMV09LTE6bj49byYmKGw9ci1uLShlLXQpKSYmKGFbc10rPWwsYVtzKzFdKz1sKSl9fSxsPTA7bDxuLm1hcHMubGVuZ3RoO2wrKyluLm1hcHNbbF0uZm9yRWFjaChjKTtmb3IodmFyIHU9ITEscD0wO3A8YS5sZW5ndGg7cCs9MylpZigtMT09YVtwKzFdKXt2YXIgaD1uLm1hcCh0W3BdK2kpLGY9aC1vO2lmKGY8MHx8Zj49ci5jb250ZW50LnNpemUpe3U9ITA7Y29udGludWV9dmFyIGQ9bi5tYXAodFtwKzFdK2ksLTEpLG09ZC1vLHY9ci5jb250ZW50LmZpbmRJbmRleChmKSxnPXYuaW5kZXgseT12Lm9mZnNldCx3PXIubWF5YmVDaGlsZChnKTtpZih3JiZ5PT1mJiZ5K3cubm9kZVNpemU9PW0pe3ZhciBiPWFbcCsyXS5tYXBJbm5lcihuLHcsaCsxLHRbcF0raSsxLHMpO2IhPWtpPyhhW3BdPWYsYVtwKzFdPW0sYVtwKzJdPWIpOihhW3ArMV09LTIsdT0hMCl9ZWxzZSB1PSEwfWlmKHUpe3ZhciB4PU9pKGEsdCxlfHxbXSxuLG8saSxzKSxrPUVpKHgsciwwLHMpO2U9ay5sb2NhbDtmb3IodmFyIFM9MDtTPGEubGVuZ3RoO1MrPTMpYVtTKzFdPDAmJihhLnNwbGljZShTLDMpLFMtPTMpO2Zvcih2YXIgQz0wLE09MDtDPGsuY2hpbGRyZW4ubGVuZ3RoO0MrPTMpe3ZhciBPPWsuY2hpbGRyZW5bQ107d2hpbGUoTTxhLmxlbmd0aCYmYVtNXTxPKU0rPTM7YS5zcGxpY2UoTSwwLGsuY2hpbGRyZW5bQ10say5jaGlsZHJlbltDKzFdLGsuY2hpbGRyZW5bQysyXSl9fXJldHVybiBuZXcgeGkoZSYmZS5zb3J0KFRpKSxhKX1mdW5jdGlvbiBNaSh0LGUpe2lmKCFlfHwhdC5sZW5ndGgpcmV0dXJuIHQ7Zm9yKHZhciBuPVtdLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtuLnB1c2gobmV3IGdpKG8uZnJvbStlLG8udG8rZSxvLnR5cGUpKX1yZXR1cm4gbn1mdW5jdGlvbiBPaSh0LGUsbixyLG8saSxzKXtmdW5jdGlvbiBhKHQsZSl7Zm9yKHZhciBpPTA7aTx0LmxvY2FsLmxlbmd0aDtpKyspe3ZhciBjPXQubG9jYWxbaV0ubWFwKHIsbyxlKTtjP24ucHVzaChjKTpzLm9uUmVtb3ZlJiZzLm9uUmVtb3ZlKHQubG9jYWxbaV0uc3BlYyl9Zm9yKHZhciBsPTA7bDx0LmNoaWxkcmVuLmxlbmd0aDtsKz0zKWEodC5jaGlsZHJlbltsKzJdLHQuY2hpbGRyZW5bbF0rZSsxKX1mb3IodmFyIGM9MDtjPHQubGVuZ3RoO2MrPTMpLTE9PXRbYysxXSYmYSh0W2MrMl0sZVtjXStpKzEpO3JldHVybiBufWZ1bmN0aW9uIEFpKHQsZSxuKXtpZihlLmlzTGVhZilyZXR1cm4gbnVsbDtmb3IodmFyIHI9bitlLm5vZGVTaXplLG89bnVsbCxpPTAscz12b2lkIDA7aTx0Lmxlbmd0aDtpKyspKHM9dFtpXSkmJnMuZnJvbT5uJiZzLnRvPHImJigob3x8KG89W10pKS5wdXNoKHMpLHRbaV09bnVsbCk7cmV0dXJuIG99ZnVuY3Rpb24gTmkodCl7Zm9yKHZhciBlPVtdLG49MDtuPHQubGVuZ3RoO24rKyludWxsIT10W25dJiZlLnB1c2godFtuXSk7cmV0dXJuIGV9ZnVuY3Rpb24gRWkodCxlLG4scil7dmFyIG89W10saT0hMTtlLmZvckVhY2goKGZ1bmN0aW9uKGUscyl7dmFyIGE9QWkodCxlLHMrbik7aWYoYSl7aT0hMDt2YXIgYz1FaShhLGUsbitzKzEscik7YyE9a2kmJm8ucHVzaChzLHMrZS5ub2RlU2l6ZSxjKX19KSk7Zm9yKHZhciBzPU1pKGk/TmkodCk6dCwtbikuc29ydChUaSksYT0wO2E8cy5sZW5ndGg7YSsrKXNbYV0udHlwZS52YWxpZChlLHNbYV0pfHwoci5vblJlbW92ZSYmci5vblJlbW92ZShzW2FdLnNwZWMpLHMuc3BsaWNlKGEtLSwxKSk7cmV0dXJuIHMubGVuZ3RofHxvLmxlbmd0aD9uZXcgeGkocyxvKTpraX1mdW5jdGlvbiBUaSh0LGUpe3JldHVybiB0LmZyb20tZS5mcm9tfHx0LnRvLWUudG99ZnVuY3Rpb24gRGkodCl7Zm9yKHZhciBlPXQsbj0wO248ZS5sZW5ndGgtMTtuKyspe3ZhciByPWVbbl07aWYoci5mcm9tIT1yLnRvKWZvcih2YXIgbz1uKzE7bzxlLmxlbmd0aDtvKyspe3ZhciBpPWVbb107aWYoaS5mcm9tIT1yLmZyb20pe2kuZnJvbTxyLnRvJiYoZT09dCYmKGU9dC5zbGljZSgpKSxlW25dPXIuY29weShyLmZyb20saS5mcm9tKSxfaShlLG8sci5jb3B5KGkuZnJvbSxyLnRvKSkpO2JyZWFrfWkudG8hPXIudG8mJihlPT10JiYoZT10LnNsaWNlKCkpLGVbb109aS5jb3B5KGkuZnJvbSxyLnRvKSxfaShlLG8rMSxpLmNvcHkoci50byxpLnRvKSkpfX1yZXR1cm4gZX1mdW5jdGlvbiBfaSh0LGUsbil7d2hpbGUoZTx0Lmxlbmd0aCYmVGkobix0W2VdKT4wKWUrKzt0LnNwbGljZShlLDAsbil9ZnVuY3Rpb24gUmkodCl7dmFyIGU9W107cmV0dXJuIHQuc29tZVByb3AoImRlY29yYXRpb25zIiwoZnVuY3Rpb24obil7dmFyIHI9bih0LnN0YXRlKTtyJiZyIT1raSYmZS5wdXNoKHIpfSkpLHQuY3Vyc29yV3JhcHBlciYmZS5wdXNoKHhpLmNyZWF0ZSh0LnN0YXRlLmRvYyxbdC5jdXJzb3JXcmFwcGVyLmRlY29dKSksU2kuZnJvbShlKX1TaS5wcm90b3R5cGUuZm9yQ2hpbGQ9ZnVuY3Rpb24odCxlKXtpZihlLmlzTGVhZilyZXR1cm4geGkuZW1wdHk7Zm9yKHZhciBuPVtdLHI9MDtyPHRoaXMubWVtYmVycy5sZW5ndGg7cisrKXt2YXIgbz10aGlzLm1lbWJlcnNbcl0uZm9yQ2hpbGQodCxlKTtvIT1raSYmKG8gaW5zdGFuY2VvZiBTaT9uPW4uY29uY2F0KG8ubWVtYmVycyk6bi5wdXNoKG8pKX1yZXR1cm4gU2kuZnJvbShuKX0sU2kucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIFNpKXx8dC5tZW1iZXJzLmxlbmd0aCE9dGhpcy5tZW1iZXJzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGU9MDtlPHRoaXMubWVtYmVycy5sZW5ndGg7ZSsrKWlmKCF0aGlzLm1lbWJlcnNbZV0uZXEodC5tZW1iZXJzW2VdKSlyZXR1cm4hMTtyZXR1cm4hMH0sU2kucHJvdG90eXBlLmxvY2Fscz1mdW5jdGlvbih0KXtmb3IodmFyIGUsbj0hMCxyPTA7cjx0aGlzLm1lbWJlcnMubGVuZ3RoO3IrKyl7dmFyIG89dGhpcy5tZW1iZXJzW3JdLmxvY2Fsc0lubmVyKHQpO2lmKG8ubGVuZ3RoKWlmKGUpe24mJihlPWUuc2xpY2UoKSxuPSExKTtmb3IodmFyIGk9MDtpPG8ubGVuZ3RoO2krKyllLnB1c2gob1tpXSl9ZWxzZSBlPW99cmV0dXJuIGU/RGkobj9lOmUuc29ydChUaSkpOndpfSxTaS5mcm9tPWZ1bmN0aW9uKHQpe3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBraTtjYXNlIDE6cmV0dXJuIHRbMF07ZGVmYXVsdDpyZXR1cm4gbmV3IFNpKHQpfX07dmFyIHppPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcHJvcHM9ZSx0aGlzLnN0YXRlPWUuc3RhdGUsdGhpcy5kaXNwYXRjaD10aGlzLmRpc3BhdGNoLmJpbmQodGhpcyksdGhpcy5fcm9vdD1udWxsLHRoaXMuZm9jdXNlZD0hMSx0aGlzLnRyYWNrV3JpdGVzPW51bGwsdGhpcy5kb209dCYmdC5tb3VudHx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdCYmKHQuYXBwZW5kQ2hpbGQ/dC5hcHBlbmRDaGlsZCh0aGlzLmRvbSk6dC5hcHBseT90KHRoaXMuZG9tKTp0Lm1vdW50JiYodGhpcy5tb3VudGVkPSEwKSksdGhpcy5lZGl0YWJsZT1CaSh0aGlzKSx0aGlzLm1hcmtDdXJzb3I9bnVsbCx0aGlzLmN1cnNvcldyYXBwZXI9bnVsbCwkaSh0aGlzKSx0aGlzLm5vZGVWaWV3cz1qaSh0aGlzKSx0aGlzLmRvY1ZpZXc9YXIodGhpcy5zdGF0ZS5kb2MsUGkodGhpcyksUmkodGhpcyksdGhpcy5kb20sdGhpcyksdGhpcy5sYXN0U2VsZWN0ZWRWaWV3RGVzYz1udWxsLHRoaXMuZHJhZ2dpbmc9bnVsbCx6byh0aGlzKSx0aGlzLnBsdWdpblZpZXdzPVtdLHRoaXMudXBkYXRlUGx1Z2luVmlld3MoKX0sSWk9e3Byb3BzOntjb25maWd1cmFibGU6ITB9LHJvb3Q6e2NvbmZpZ3VyYWJsZTohMH19O2Z1bmN0aW9uIFBpKHQpe3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIGUuY2xhc3M9IlByb3NlTWlycm9yIixlLmNvbnRlbnRlZGl0YWJsZT1TdHJpbmcodC5lZGl0YWJsZSksdC5zb21lUHJvcCgiYXR0cmlidXRlcyIsKGZ1bmN0aW9uKG4pe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBuJiYobj1uKHQuc3RhdGUpKSxuKWZvcih2YXIgciBpbiBuKSJjbGFzcyI9PXI/ZS5jbGFzcys9IiAiK25bcl06ZVtyXXx8ImNvbnRlbnRlZGl0YWJsZSI9PXJ8fCJub2RlTmFtZSI9PXJ8fChlW3JdPVN0cmluZyhuW3JdKSl9KSksW2dpLm5vZGUoMCx0LnN0YXRlLmRvYy5jb250ZW50LnNpemUsZSldfWZ1bmN0aW9uICRpKHQpe2lmKHQubWFya0N1cnNvcil7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7ZS5zZXRBdHRyaWJ1dGUoIm1hcmstcGxhY2Vob2xkZXIiLCJ0cnVlIiksdC5jdXJzb3JXcmFwcGVyPXtkb206ZSxkZWNvOmdpLndpZGdldCh0LnN0YXRlLnNlbGVjdGlvbi5oZWFkLGUse3JhdzohMCxtYXJrczp0Lm1hcmtDdXJzb3J9KX19ZWxzZSB0LmN1cnNvcldyYXBwZXI9bnVsbH1mdW5jdGlvbiBCaSh0KXtyZXR1cm4hdC5zb21lUHJvcCgiZWRpdGFibGUiLChmdW5jdGlvbihlKXtyZXR1cm4hMT09PWUodC5zdGF0ZSl9KSl9ZnVuY3Rpb24gVmkodCxlKXt2YXIgbj1NYXRoLm1pbih0LiRhbmNob3Iuc2hhcmVkRGVwdGgodC5oZWFkKSxlLiRhbmNob3Iuc2hhcmVkRGVwdGgoZS5oZWFkKSk7cmV0dXJuIHQuJGFuY2hvci5zdGFydChuKSE9ZS4kYW5jaG9yLnN0YXJ0KG4pfWZ1bmN0aW9uIGppKHQpe3ZhciBlPXt9O3JldHVybiB0LnNvbWVQcm9wKCJub2RlVmlld3MiLChmdW5jdGlvbih0KXtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKXx8KGVbbl09dFtuXSl9KSksZX1mdW5jdGlvbiBMaSh0LGUpe3ZhciBuPTAscj0wO2Zvcih2YXIgbyBpbiB0KXtpZih0W29dIT1lW29dKXJldHVybiEwO24rK31mb3IodmFyIGkgaW4gZSlyKys7cmV0dXJuIG4hPXJ9ZnVuY3Rpb24gRmkodCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PXt9KSxuZXcgWGUoe3ZpZXc6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBIaShlLHQpfX0pfUlpLnByb3BzLmdldD1mdW5jdGlvbigpe2lmKHRoaXMuX3Byb3BzLnN0YXRlIT10aGlzLnN0YXRlKXt2YXIgdD10aGlzLl9wcm9wcztmb3IodmFyIGUgaW4gdGhpcy5fcHJvcHM9e30sdCl0aGlzLl9wcm9wc1tlXT10W2VdO3RoaXMuX3Byb3BzLnN0YXRlPXRoaXMuc3RhdGV9cmV0dXJuIHRoaXMuX3Byb3BzfSx6aS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3QuaGFuZGxlRE9NRXZlbnRzIT10aGlzLl9wcm9wcy5oYW5kbGVET01FdmVudHMmJiRvKHRoaXMpLHRoaXMuX3Byb3BzPXQsdGhpcy51cGRhdGVTdGF0ZUlubmVyKHQuc3RhdGUsITApfSx6aS5wcm90b3R5cGUuc2V0UHJvcHM9ZnVuY3Rpb24odCl7dmFyIGU9e307Zm9yKHZhciBuIGluIHRoaXMuX3Byb3BzKWVbbl09dGhpcy5fcHJvcHNbbl07Zm9yKHZhciByIGluIGUuc3RhdGU9dGhpcy5zdGF0ZSx0KWVbcl09dFtyXTt0aGlzLnVwZGF0ZShlKX0semkucHJvdG90eXBlLnVwZGF0ZVN0YXRlPWZ1bmN0aW9uKHQpe3RoaXMudXBkYXRlU3RhdGVJbm5lcih0LHRoaXMuc3RhdGUucGx1Z2lucyE9dC5wbHVnaW5zKX0semkucHJvdG90eXBlLnVwZGF0ZVN0YXRlSW5uZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9dGhpcy5zdGF0ZSxvPSExLGk9ITE7aWYodC5zdG9yZWRNYXJrcyYmdGhpcy5jb21wb3NpbmcmJihyaSh0aGlzKSxpPSEwKSx0aGlzLnN0YXRlPXQsZSl7dmFyIHM9amkodGhpcyk7TGkocyx0aGlzLm5vZGVWaWV3cykmJih0aGlzLm5vZGVWaWV3cz1zLG89ITApLCRvKHRoaXMpfXRoaXMuZWRpdGFibGU9QmkodGhpcyksJGkodGhpcyk7dmFyIGE9UmkodGhpcyksYz1QaSh0aGlzKSxsPWU/InJlc2V0Ijp0LnNjcm9sbFRvU2VsZWN0aW9uPnIuc2Nyb2xsVG9TZWxlY3Rpb24/InRvIHNlbGVjdGlvbiI6InByZXNlcnZlIix1PW98fCF0aGlzLmRvY1ZpZXcubWF0Y2hlc05vZGUodC5kb2MsYyxhKTshdSYmdC5zZWxlY3Rpb24uZXEoci5zZWxlY3Rpb24pfHwoaT0hMCk7dmFyIHA9InByZXNlcnZlIj09bCYmaSYmbnVsbD09dGhpcy5kb20uc3R5bGUub3ZlcmZsb3dBbmNob3ImJlNuKHRoaXMpO2lmKGkpe3RoaXMuZG9tT2JzZXJ2ZXIuc3RvcCgpO3ZhciBoPXUmJih0bi5pZXx8dG4uY2hyb21lKSYmIXRoaXMuY29tcG9zaW5nJiYhci5zZWxlY3Rpb24uZW1wdHkmJiF0LnNlbGVjdGlvbi5lbXB0eSYmVmkoci5zZWxlY3Rpb24sdC5zZWxlY3Rpb24pO2lmKHUpe3ZhciBmPXRuLmNocm9tZT90aGlzLnRyYWNrV3JpdGVzPXRoaXMucm9vdC5nZXRTZWxlY3Rpb24oKS5mb2N1c05vZGU6bnVsbDshbyYmdGhpcy5kb2NWaWV3LnVwZGF0ZSh0LmRvYyxjLGEsdGhpcyl8fCh0aGlzLmRvY1ZpZXcudXBkYXRlT3V0ZXJEZWNvKFtdKSx0aGlzLmRvY1ZpZXcuZGVzdHJveSgpLHRoaXMuZG9jVmlldz1hcih0LmRvYyxjLGEsdGhpcy5kb20sdGhpcykpLGYmJiF0aGlzLnRyYWNrV3JpdGVzJiYoaD0hMCl9aHx8ISh0aGlzLm1vdXNlRG93biYmdGhpcy5kb21PYnNlcnZlci5jdXJyZW50U2VsZWN0aW9uLmVxKHRoaXMucm9vdC5nZXRTZWxlY3Rpb24oKSkmJkZyKHRoaXMpKT9Ucih0aGlzLGgpOigkcih0aGlzLHQuc2VsZWN0aW9uKSx0aGlzLmRvbU9ic2VydmVyLnNldEN1clNlbGVjdGlvbigpKSx0aGlzLmRvbU9ic2VydmVyLnN0YXJ0KCl9aWYodGhpcy51cGRhdGVQbHVnaW5WaWV3cyhyKSwicmVzZXQiPT1sKXRoaXMuZG9tLnNjcm9sbFRvcD0wO2Vsc2UgaWYoInRvIHNlbGVjdGlvbiI9PWwpe3ZhciBkPXRoaXMucm9vdC5nZXRTZWxlY3Rpb24oKS5mb2N1c05vZGU7dGhpcy5zb21lUHJvcCgiaGFuZGxlU2Nyb2xsVG9TZWxlY3Rpb24iLChmdW5jdGlvbih0KXtyZXR1cm4gdChuKX0pKXx8KHQuc2VsZWN0aW9uIGluc3RhbmNlb2YgX2U/a24odGhpcyx0aGlzLmRvY1ZpZXcuZG9tQWZ0ZXJQb3ModC5zZWxlY3Rpb24uZnJvbSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksZCk6a24odGhpcyx0aGlzLmNvb3Jkc0F0UG9zKHQuc2VsZWN0aW9uLmhlYWQsMSksZCkpfWVsc2UgcCYmTW4ocCl9LHppLnByb3RvdHlwZS5kZXN0cm95UGx1Z2luVmlld3M9ZnVuY3Rpb24oKXt2YXIgdDt3aGlsZSh0PXRoaXMucGx1Z2luVmlld3MucG9wKCkpdC5kZXN0cm95JiZ0LmRlc3Ryb3koKX0semkucHJvdG90eXBlLnVwZGF0ZVBsdWdpblZpZXdzPWZ1bmN0aW9uKHQpe2lmKHQmJnQucGx1Z2lucz09dGhpcy5zdGF0ZS5wbHVnaW5zKWZvcih2YXIgZT0wO2U8dGhpcy5wbHVnaW5WaWV3cy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLnBsdWdpblZpZXdzW2VdO24udXBkYXRlJiZuLnVwZGF0ZSh0aGlzLHQpfWVsc2V7dGhpcy5kZXN0cm95UGx1Z2luVmlld3MoKTtmb3IodmFyIHI9MDtyPHRoaXMuc3RhdGUucGx1Z2lucy5sZW5ndGg7cisrKXt2YXIgbz10aGlzLnN0YXRlLnBsdWdpbnNbcl07by5zcGVjLnZpZXcmJnRoaXMucGx1Z2luVmlld3MucHVzaChvLnNwZWMudmlldyh0aGlzKSl9fX0semkucHJvdG90eXBlLnNvbWVQcm9wPWZ1bmN0aW9uKHQsZSl7dmFyIG4scj10aGlzLl9wcm9wcyYmdGhpcy5fcHJvcHNbdF07aWYobnVsbCE9ciYmKG49ZT9lKHIpOnIpKXJldHVybiBuO3ZhciBvPXRoaXMuc3RhdGUucGx1Z2lucztpZihvKWZvcih2YXIgaT0wO2k8by5sZW5ndGg7aSsrKXt2YXIgcz1vW2ldLnByb3BzW3RdO2lmKG51bGwhPXMmJihuPWU/ZShzKTpzKSlyZXR1cm4gbn19LHppLnByb3RvdHlwZS5oYXNGb2N1cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJvb3QuYWN0aXZlRWxlbWVudD09dGhpcy5kb219LHppLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe3RoaXMuZG9tT2JzZXJ2ZXIuc3RvcCgpLHRoaXMuZWRpdGFibGUmJk5uKHRoaXMuZG9tKSxUcih0aGlzKSx0aGlzLmRvbU9ic2VydmVyLnN0YXJ0KCl9LElpLnJvb3QuZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcm9vdDtpZihudWxsPT10KWZvcih2YXIgZT10aGlzLmRvbS5wYXJlbnROb2RlO2U7ZT1lLnBhcmVudE5vZGUpaWYoOT09ZS5ub2RlVHlwZXx8MTE9PWUubm9kZVR5cGUmJmUuaG9zdClyZXR1cm4gZS5nZXRTZWxlY3Rpb258fChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmdldFNlbGVjdGlvbigpfSksdGhpcy5fcm9vdD1lO3JldHVybiB0fHxkb2N1bWVudH0semkucHJvdG90eXBlLnBvc0F0Q29vcmRzPWZ1bmN0aW9uKHQpe3JldHVybiBQbih0aGlzLHQpfSx6aS5wcm90b3R5cGUuY29vcmRzQXRQb3M9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MSksVm4odGhpcyx0LGUpfSx6aS5wcm90b3R5cGUuZG9tQXRQb3M9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCksdGhpcy5kb2NWaWV3LmRvbUZyb21Qb3ModCxlKX0semkucHJvdG90eXBlLm5vZGVET009ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kb2NWaWV3LmRlc2NBdCh0KTtyZXR1cm4gZT9lLm5vZGVET006bnVsbH0semkucHJvdG90eXBlLnBvc0F0RE9NPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0tMSk7dmFyIHI9dGhpcy5kb2NWaWV3LnBvc0Zyb21ET00odCxlLG4pO2lmKG51bGw9PXIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRPTSBwb3NpdGlvbiBub3QgaW5zaWRlIHRoZSBlZGl0b3IiKTtyZXR1cm4gcn0semkucHJvdG90eXBlLmVuZE9mVGV4dGJsb2NrPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEduKHRoaXMsZXx8dGhpcy5zdGF0ZSx0KX0semkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmRvY1ZpZXcmJihQbyh0aGlzKSx0aGlzLmRlc3Ryb3lQbHVnaW5WaWV3cygpLHRoaXMubW91bnRlZD8odGhpcy5kb2NWaWV3LnVwZGF0ZSh0aGlzLnN0YXRlLmRvYyxbXSxSaSh0aGlzKSx0aGlzKSx0aGlzLmRvbS50ZXh0Q29udGVudD0iIik6dGhpcy5kb20ucGFyZW50Tm9kZSYmdGhpcy5kb20ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRvbSksdGhpcy5kb2NWaWV3LmRlc3Ryb3koKSx0aGlzLmRvY1ZpZXc9bnVsbCl9LHppLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKHQpe3JldHVybiBqbyh0aGlzLHQpfSx6aS5wcm90b3R5cGUuZGlzcGF0Y2g9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcHJvcHMuZGlzcGF0Y2hUcmFuc2FjdGlvbjtlP2UuY2FsbCh0aGlzLHQpOnRoaXMudXBkYXRlU3RhdGUodGhpcy5zdGF0ZS5hcHBseSh0KSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHppLnByb3RvdHlwZSxJaSk7dmFyIEhpPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0aGlzLmVkaXRvclZpZXc9dCx0aGlzLndpZHRoPWUud2lkdGh8fDEsdGhpcy5jb2xvcj1lLmNvbG9yfHwiYmxhY2siLHRoaXMuY2xhc3M9ZS5jbGFzcyx0aGlzLmN1cnNvclBvcz1udWxsLHRoaXMuZWxlbWVudD1udWxsLHRoaXMudGltZW91dD1udWxsLHRoaXMuaGFuZGxlcnM9WyJkcmFnb3ZlciIsImRyYWdlbmQiLCJkcm9wIiwiZHJhZ2xlYXZlIl0ubWFwKChmdW5jdGlvbihlKXt2YXIgcj1mdW5jdGlvbih0KXtyZXR1cm4gbltlXSh0KX07cmV0dXJuIHQuZG9tLmFkZEV2ZW50TGlzdGVuZXIoZSxyKSx7bmFtZTplLGhhbmRsZXI6cn19KSl9O0hpLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmhhbmRsZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUubmFtZSxyPWUuaGFuZGxlcjtyZXR1cm4gdC5lZGl0b3JWaWV3LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKG4scil9KSl9LEhpLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXtudWxsIT10aGlzLmN1cnNvclBvcyYmZS5kb2MhPXQuc3RhdGUuZG9jJiYodGhpcy5jdXJzb3JQb3M+dC5zdGF0ZS5kb2MuY29udGVudC5zaXplP3RoaXMuc2V0Q3Vyc29yKG51bGwpOnRoaXMudXBkYXRlT3ZlcmxheSgpKX0sSGkucHJvdG90eXBlLnNldEN1cnNvcj1mdW5jdGlvbih0KXt0IT10aGlzLmN1cnNvclBvcyYmKHRoaXMuY3Vyc29yUG9zPXQsbnVsbD09dD8odGhpcy5lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50KSx0aGlzLmVsZW1lbnQ9bnVsbCk6dGhpcy51cGRhdGVPdmVybGF5KCkpfSxIaS5wcm90b3R5cGUudXBkYXRlT3ZlcmxheT1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5lZGl0b3JWaWV3LnN0YXRlLmRvYy5yZXNvbHZlKHRoaXMuY3Vyc29yUG9zKTtpZighZS5wYXJlbnQuaW5saW5lQ29udGVudCl7dmFyIG49ZS5ub2RlQmVmb3JlLHI9ZS5ub2RlQWZ0ZXI7aWYobnx8cil7dmFyIG89dGhpcy5lZGl0b3JWaWV3Lm5vZGVET00odGhpcy5jdXJzb3JQb3MtKG4/bi5ub2RlU2l6ZTowKSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT1uP28uYm90dG9tOm8udG9wO24mJnImJihpPShpK3RoaXMuZWRpdG9yVmlldy5ub2RlRE9NKHRoaXMuY3Vyc29yUG9zKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3ApLzIpLHQ9e2xlZnQ6by5sZWZ0LHJpZ2h0Om8ucmlnaHQsdG9wOmktdGhpcy53aWR0aC8yLGJvdHRvbTppK3RoaXMud2lkdGgvMn19fWlmKCF0KXt2YXIgcz10aGlzLmVkaXRvclZpZXcuY29vcmRzQXRQb3ModGhpcy5jdXJzb3JQb3MpO3Q9e2xlZnQ6cy5sZWZ0LXRoaXMud2lkdGgvMixyaWdodDpzLmxlZnQrdGhpcy53aWR0aC8yLHRvcDpzLnRvcCxib3R0b206cy5ib3R0b219fXZhciBhLGMsbD10aGlzLmVkaXRvclZpZXcuZG9tLm9mZnNldFBhcmVudDtpZih0aGlzLmVsZW1lbnR8fCh0aGlzLmVsZW1lbnQ9bC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSksdGhpcy5jbGFzcyYmKHRoaXMuZWxlbWVudC5jbGFzc05hbWU9dGhpcy5jbGFzcyksdGhpcy5lbGVtZW50LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOiBhYnNvbHV0ZTsgei1pbmRleDogNTA7IHBvaW50ZXItZXZlbnRzOiBub25lOyBiYWNrZ3JvdW5kLWNvbG9yOiAiK3RoaXMuY29sb3IpLCFsfHxsPT1kb2N1bWVudC5ib2R5JiYic3RhdGljIj09Z2V0Q29tcHV0ZWRTdHlsZShsKS5wb3NpdGlvbilhPS1wYWdlWE9mZnNldCxjPS1wYWdlWU9mZnNldDtlbHNle3ZhciB1PWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7YT11LmxlZnQtbC5zY3JvbGxMZWZ0LGM9dS50b3AtbC5zY3JvbGxUb3B9dGhpcy5lbGVtZW50LnN0eWxlLmxlZnQ9dC5sZWZ0LWErInB4Iix0aGlzLmVsZW1lbnQuc3R5bGUudG9wPXQudG9wLWMrInB4Iix0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGg9dC5yaWdodC10LmxlZnQrInB4Iix0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0PXQuYm90dG9tLXQudG9wKyJweCJ9LEhpLnByb3RvdHlwZS5zY2hlZHVsZVJlbW92YWw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KSx0aGlzLnRpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gZS5zZXRDdXJzb3IobnVsbCl9KSx0KX0sSGkucHJvdG90eXBlLmRyYWdvdmVyPWZ1bmN0aW9uKHQpe2lmKHRoaXMuZWRpdG9yVmlldy5lZGl0YWJsZSl7dmFyIGU9dGhpcy5lZGl0b3JWaWV3LnBvc0F0Q29vcmRzKHtsZWZ0OnQuY2xpZW50WCx0b3A6dC5jbGllbnRZfSk7aWYoZSl7dmFyIG49ZS5wb3M7aWYodGhpcy5lZGl0b3JWaWV3LmRyYWdnaW5nJiZ0aGlzLmVkaXRvclZpZXcuZHJhZ2dpbmcuc2xpY2UmJihuPXVlKHRoaXMuZWRpdG9yVmlldy5zdGF0ZS5kb2Msbix0aGlzLmVkaXRvclZpZXcuZHJhZ2dpbmcuc2xpY2UpLG51bGw9PW4pKXJldHVybiB0aGlzLnNldEN1cnNvcihudWxsKTt0aGlzLnNldEN1cnNvcihuKSx0aGlzLnNjaGVkdWxlUmVtb3ZhbCg1ZTMpfX19LEhpLnByb3RvdHlwZS5kcmFnZW5kPWZ1bmN0aW9uKCl7dGhpcy5zY2hlZHVsZVJlbW92YWwoMjApfSxIaS5wcm90b3R5cGUuZHJvcD1mdW5jdGlvbigpe3RoaXMuc2NoZWR1bGVSZW1vdmFsKDIwKX0sSGkucHJvdG90eXBlLmRyYWdsZWF2ZT1mdW5jdGlvbih0KXt0LnRhcmdldCE9dGhpcy5lZGl0b3JWaWV3LmRvbSYmdGhpcy5lZGl0b3JWaWV3LmRvbS5jb250YWlucyh0LnJlbGF0ZWRUYXJnZXQpfHx0aGlzLnNldEN1cnNvcihudWxsKX07Zm9yKHZhciBKaT17ODoiQmFja3NwYWNlIiw5OiJUYWIiLDEwOiJFbnRlciIsMTI6Ik51bUxvY2siLDEzOiJFbnRlciIsMTY6IlNoaWZ0IiwxNzoiQ29udHJvbCIsMTg6IkFsdCIsMjA6IkNhcHNMb2NrIiwyNzoiRXNjYXBlIiwzMjoiICIsMzM6IlBhZ2VVcCIsMzQ6IlBhZ2VEb3duIiwzNToiRW5kIiwzNjoiSG9tZSIsMzc6IkFycm93TGVmdCIsMzg6IkFycm93VXAiLDM5OiJBcnJvd1JpZ2h0Iiw0MDoiQXJyb3dEb3duIiw0NDoiUHJpbnRTY3JlZW4iLDQ1OiJJbnNlcnQiLDQ2OiJEZWxldGUiLDU5OiI7Iiw2MToiPSIsOTE6Ik1ldGEiLDkyOiJNZXRhIiwxMDY6IioiLDEwNzoiKyIsMTA4OiIsIiwxMDk6Ii0iLDExMDoiLiIsMTExOiIvIiwxNDQ6Ik51bUxvY2siLDE0NToiU2Nyb2xsTG9jayIsMTYwOiJTaGlmdCIsMTYxOiJTaGlmdCIsMTYyOiJDb250cm9sIiwxNjM6IkNvbnRyb2wiLDE2NDoiQWx0IiwxNjU6IkFsdCIsMTczOiItIiwxODY6IjsiLDE4NzoiPSIsMTg4OiIsIiwxODk6Ii0iLDE5MDoiLiIsMTkxOiIvIiwxOTI6ImAiLDIxOToiWyIsMjIwOiJcXCIsMjIxOiJdIiwyMjI6IiciLDIyOToicSJ9LFdpPXs0ODoiKSIsNDk6IiEiLDUwOiJAIiw1MToiIyIsNTI6IiQiLDUzOiIlIiw1NDoiXiIsNTU6IiYiLDU2OiIqIiw1NzoiKCIsNTk6IjoiLDYxOiIrIiwxNzM6Il8iLDE4NjoiOiIsMTg3OiIrIiwxODg6IjwiLDE4OToiXyIsMTkwOiI+IiwxOTE6Ij8iLDE5MjoifiIsMjE5OiJ7IiwyMjA6InwiLDIyMToifSIsMjIyOiciJywyMjk6IlEifSxxaT0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmL0Nocm9tZVwvKFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCksS2k9InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9BcHBsZSBDb21wdXRlci8udGVzdChuYXZpZ2F0b3IudmVuZG9yKSxVaT0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmL0dlY2tvXC9cZCsvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksR2k9InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSxYaT0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmL01TSUUgXGR8VHJpZGVudFwvKD86WzctOV18XGR7Mix9KVwuLipydjooXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KSxZaT1xaSYmKEdpfHwrcWlbMV08NTcpfHxVaSYmR2ksWmk9MDtaaTwxMDtaaSsrKUppWzQ4K1ppXT1KaVs5NitaaV09U3RyaW5nKFppKTtmb3IoWmk9MTtaaTw9MjQ7WmkrKylKaVtaaSsxMTFdPSJGIitaaTtmb3IoWmk9NjU7Wmk8PTkwO1ppKyspSmlbWmldPVN0cmluZy5mcm9tQ2hhckNvZGUoWmkrMzIpLFdpW1ppXT1TdHJpbmcuZnJvbUNoYXJDb2RlKFppKTtmb3IodmFyIFFpIGluIEppKVdpLmhhc093blByb3BlcnR5KFFpKXx8KFdpW1FpXT1KaVtRaV0pO2Z1bmN0aW9uIHRzKHQpe3ZhciBlPVlpJiYodC5jdHJsS2V5fHx0LmFsdEtleXx8dC5tZXRhS2V5KXx8KEtpfHxYaSkmJnQuc2hpZnRLZXkmJnQua2V5JiYxPT10LmtleS5sZW5ndGgsbj0hZSYmdC5rZXl8fCh0LnNoaWZ0S2V5P1dpOkppKVt0LmtleUNvZGVdfHx0LmtleXx8IlVuaWRlbnRpZmllZCI7cmV0dXJuIkVzYyI9PW4mJihuPSJFc2NhcGUiKSwiRGVsIj09biYmKG49IkRlbGV0ZSIpLCJMZWZ0Ij09biYmKG49IkFycm93TGVmdCIpLCJVcCI9PW4mJihuPSJBcnJvd1VwIiksIlJpZ2h0Ij09biYmKG49IkFycm93UmlnaHQiKSwiRG93biI9PW4mJihuPSJBcnJvd0Rvd24iKSxufXZhciBlcz0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmL01hYy8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO2Z1bmN0aW9uIG5zKHQpe3ZhciBlLG4scixvLGk9dC5zcGxpdCgvLSg/ISQpLykscz1pW2kubGVuZ3RoLTFdOyJTcGFjZSI9PXMmJihzPSIgIik7Zm9yKHZhciBhPTA7YTxpLmxlbmd0aC0xO2ErKyl7dmFyIGM9aVthXTtpZigvXihjbWR8bWV0YXxtKSQvaS50ZXN0KGMpKW89ITA7ZWxzZSBpZigvXmEobHQpPyQvaS50ZXN0KGMpKWU9ITA7ZWxzZSBpZigvXihjfGN0cmx8Y29udHJvbCkkL2kudGVzdChjKSluPSEwO2Vsc2UgaWYoL15zKGhpZnQpPyQvaS50ZXN0KGMpKXI9ITA7ZWxzZXtpZighL15tb2QkL2kudGVzdChjKSl0aHJvdyBuZXcgRXJyb3IoIlVucmVjb2duaXplZCBtb2RpZmllciBuYW1lOiAiK2MpO2VzP289ITA6bj0hMH19cmV0dXJuIGUmJihzPSJBbHQtIitzKSxuJiYocz0iQ3RybC0iK3MpLG8mJihzPSJNZXRhLSIrcyksciYmKHM9IlNoaWZ0LSIrcyksc31mdW5jdGlvbiBycyh0KXt2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcih2YXIgbiBpbiB0KWVbbnMobildPXRbbl07cmV0dXJuIGV9ZnVuY3Rpb24gaXModCxlLG4pe3JldHVybiBlLmFsdEtleSYmKHQ9IkFsdC0iK3QpLGUuY3RybEtleSYmKHQ9IkN0cmwtIit0KSxlLm1ldGFLZXkmJih0PSJNZXRhLSIrdCksITEhPT1uJiZlLnNoaWZ0S2V5JiYodD0iU2hpZnQtIit0KSx0fWZ1bmN0aW9uIHNzKHQpe3JldHVybiBuZXcgWGUoe3Byb3BzOntoYW5kbGVLZXlEb3duOmFzKHQpfX0pfWZ1bmN0aW9uIGFzKHQpe3ZhciBlPXJzKHQpO3JldHVybiBmdW5jdGlvbih0LG4pe3ZhciByLG89dHMobiksaT0xPT1vLmxlbmd0aCYmIiAiIT1vLHM9ZVtpcyhvLG4sIWkpXTtpZihzJiZzKHQuc3RhdGUsdC5kaXNwYXRjaCx0KSlyZXR1cm4hMDtpZihpJiYobi5zaGlmdEtleXx8bi5hbHRLZXl8fG4ubWV0YUtleXx8by5jaGFyQ29kZUF0KDApPjEyNykmJihyPUppW24ua2V5Q29kZV0pJiZyIT1vKXt2YXIgYT1lW2lzKHIsbiwhMCldO2lmKGEmJmEodC5zdGF0ZSx0LmRpc3BhdGNoLHQpKXJldHVybiEwfWVsc2UgaWYoaSYmbi5zaGlmdEtleSl7dmFyIGM9ZVtpcyhvLG4sITApXTtpZihjJiZjKHQuc3RhdGUsdC5kaXNwYXRjaCx0KSlyZXR1cm4hMH1yZXR1cm4hMX19dmFyIGNzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSxlKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKG4scil7dmFyIG89bi5yZXNvbHZlKHIubWFwKHRoaXMuaGVhZCkpO3JldHVybiBlLnZhbGlkKG8pP25ldyBlKG8pOnQubmVhcihvKX0sZS5wcm90b3R5cGUuY29udGVudD1mdW5jdGlvbigpe3JldHVybiB5LmVtcHR5fSxlLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGUmJnQuaGVhZD09dGhpcy5oZWFkfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZToiZ2FwY3Vyc29yIixwb3M6dGhpcy5oZWFkfX0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbi5wb3MpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIEdhcEN1cnNvci5mcm9tSlNPTiIpO3JldHVybiBuZXcgZSh0LnJlc29sdmUobi5wb3MpKX0sZS5wcm90b3R5cGUuZ2V0Qm9va21hcms9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGxzKHRoaXMuYW5jaG9yKX0sZS52YWxpZD1mdW5jdGlvbih0KXt2YXIgZT10LnBhcmVudDtpZihlLmlzVGV4dGJsb2NrfHwhdXModCl8fCFwcyh0KSlyZXR1cm4hMTt2YXIgbj1lLnR5cGUuc3BlYy5hbGxvd0dhcEN1cnNvcjtpZihudWxsIT1uKXJldHVybiBuO3ZhciByPWUuY29udGVudE1hdGNoQXQodC5pbmRleCgpKS5kZWZhdWx0VHlwZTtyZXR1cm4gciYmci5pc1RleHRibG9ja30sZS5maW5kRnJvbT1mdW5jdGlvbih0LG4scil7dDpmb3IoOzspe2lmKCFyJiZlLnZhbGlkKHQpKXJldHVybiB0O2Zvcih2YXIgbz10LnBvcyxpPW51bGwscz10LmRlcHRoOztzLS0pe3ZhciBhPXQubm9kZShzKTtpZihuPjA/dC5pbmRleEFmdGVyKHMpPGEuY2hpbGRDb3VudDp0LmluZGV4KHMpPjApe2k9YS5jaGlsZChuPjA/dC5pbmRleEFmdGVyKHMpOnQuaW5kZXgocyktMSk7YnJlYWt9aWYoMD09cylyZXR1cm4gbnVsbDtvKz1uO3ZhciBjPXQuZG9jLnJlc29sdmUobyk7aWYoZS52YWxpZChjKSlyZXR1cm4gY31mb3IoOzspe3ZhciBsPW4+MD9pLmZpcnN0Q2hpbGQ6aS5sYXN0Q2hpbGQ7aWYoIWwpe2lmKGkuaXNBdG9tJiYhaS5pc1RleHQmJiFfZS5pc1NlbGVjdGFibGUoaSkpe3Q9dC5kb2MucmVzb2x2ZShvK2kubm9kZVNpemUqbikscj0hMTtjb250aW51ZSB0fWJyZWFrfWk9bCxvKz1uO3ZhciB1PXQuZG9jLnJlc29sdmUobyk7aWYoZS52YWxpZCh1KSlyZXR1cm4gdX1yZXR1cm4gbnVsbH19LGV9KEFlKTtjcy5wcm90b3R5cGUudmlzaWJsZT0hMSxBZS5qc29uSUQoImdhcGN1cnNvciIsY3MpO3ZhciBscz1mdW5jdGlvbih0KXt0aGlzLnBvcz10fTtmdW5jdGlvbiB1cyh0KXtmb3IodmFyIGU9dC5kZXB0aDtlPj0wO2UtLSl7dmFyIG49dC5pbmRleChlKTtpZigwIT1uKWZvcih2YXIgcj10Lm5vZGUoZSkuY2hpbGQobi0xKTs7cj1yLmxhc3RDaGlsZCl7aWYoMD09ci5jaGlsZENvdW50JiYhci5pbmxpbmVDb250ZW50fHxyLmlzQXRvbXx8ci50eXBlLnNwZWMuaXNvbGF0aW5nKXJldHVybiEwO2lmKHIuaW5saW5lQ29udGVudClyZXR1cm4hMX19cmV0dXJuITB9ZnVuY3Rpb24gcHModCl7Zm9yKHZhciBlPXQuZGVwdGg7ZT49MDtlLS0pe3ZhciBuPXQuaW5kZXhBZnRlcihlKSxyPXQubm9kZShlKTtpZihuIT1yLmNoaWxkQ291bnQpZm9yKHZhciBvPXIuY2hpbGQobik7O289by5maXJzdENoaWxkKXtpZigwPT1vLmNoaWxkQ291bnQmJiFvLmlubGluZUNvbnRlbnR8fG8uaXNBdG9tfHxvLnR5cGUuc3BlYy5pc29sYXRpbmcpcmV0dXJuITA7aWYoby5pbmxpbmVDb250ZW50KXJldHVybiExfX1yZXR1cm4hMH1scy5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbHModC5tYXAodGhpcy5wb3MpKX0sbHMucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24odCl7dmFyIGU9dC5yZXNvbHZlKHRoaXMucG9zKTtyZXR1cm4gY3MudmFsaWQoZSk/bmV3IGNzKGUpOkFlLm5lYXIoZSl9O3ZhciBocz1mdW5jdGlvbigpe3JldHVybiBuZXcgWGUoe3Byb3BzOntkZWNvcmF0aW9uczp2cyxjcmVhdGVTZWxlY3Rpb25CZXR3ZWVuOmZ1bmN0aW9uKHQsZSxuKXtpZihlLnBvcz09bi5wb3MmJmNzLnZhbGlkKG4pKXJldHVybiBuZXcgY3Mobil9LGhhbmRsZUNsaWNrOm1zLGhhbmRsZUtleURvd246ZnN9fSl9LGZzPWFzKHtBcnJvd0xlZnQ6ZHMoImhvcml6IiwtMSksQXJyb3dSaWdodDpkcygiaG9yaXoiLDEpLEFycm93VXA6ZHMoInZlcnQiLC0xKSxBcnJvd0Rvd246ZHMoInZlcnQiLDEpfSk7ZnVuY3Rpb24gZHModCxlKXt2YXIgbj0idmVydCI9PXQ/ZT4wPyJkb3duIjoidXAiOmU+MD8icmlnaHQiOiJsZWZ0IjtyZXR1cm4gZnVuY3Rpb24odCxyLG8pe3ZhciBpPXQuc2VsZWN0aW9uLHM9ZT4wP2kuJHRvOmkuJGZyb20sYT1pLmVtcHR5O2lmKGkgaW5zdGFuY2VvZiBUZSl7aWYoIW8uZW5kT2ZUZXh0YmxvY2sobil8fDA9PXMuZGVwdGgpcmV0dXJuITE7YT0hMSxzPXQuZG9jLnJlc29sdmUoZT4wP3MuYWZ0ZXIoKTpzLmJlZm9yZSgpKX12YXIgYz1jcy5maW5kRnJvbShzLGUsYSk7cmV0dXJuISFjJiYociYmcih0LnRyLnNldFNlbGVjdGlvbihuZXcgY3MoYykpKSwhMCl9fWZ1bmN0aW9uIG1zKHQsZSxuKXtpZighdC5lZGl0YWJsZSlyZXR1cm4hMTt2YXIgcj10LnN0YXRlLmRvYy5yZXNvbHZlKGUpO2lmKCFjcy52YWxpZChyKSlyZXR1cm4hMTt2YXIgbz10LnBvc0F0Q29vcmRzKHtsZWZ0Om4uY2xpZW50WCx0b3A6bi5jbGllbnRZfSksaT1vLmluc2lkZTtyZXR1cm4hKGk+LTEmJl9lLmlzU2VsZWN0YWJsZSh0LnN0YXRlLmRvYy5ub2RlQXQoaSkpKSYmKHQuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24obmV3IGNzKHIpKSksITApfWZ1bmN0aW9uIHZzKHQpe2lmKCEodC5zZWxlY3Rpb24gaW5zdGFuY2VvZiBjcykpcmV0dXJuIG51bGw7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGUuY2xhc3NOYW1lPSJQcm9zZU1pcnJvci1nYXBjdXJzb3IiLHhpLmNyZWF0ZSh0LmRvYyxbZ2kud2lkZ2V0KHQuc2VsZWN0aW9uLmhlYWQsZSx7a2V5OiJnYXBjdXJzb3IifSldKX1mdW5jdGlvbiBncyh0LGUpe3JldHVybiF0LnNlbGVjdGlvbi5lbXB0eSYmKGUmJmUodC50ci5kZWxldGVTZWxlY3Rpb24oKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9ZnVuY3Rpb24geXModCxlLG4pe3ZhciByPXQuc2VsZWN0aW9uLG89ci4kY3Vyc29yO2lmKCFvfHwobj8hbi5lbmRPZlRleHRibG9jaygiYmFja3dhcmQiLHQpOm8ucGFyZW50T2Zmc2V0PjApKXJldHVybiExO3ZhciBpPXhzKG8pO2lmKCFpKXt2YXIgcz1vLmJsb2NrUmFuZ2UoKSxhPXMmJnRlKHMpO3JldHVybiBudWxsIT1hJiYoZSYmZSh0LnRyLmxpZnQocyxhKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9dmFyIGM9aS5ub2RlQmVmb3JlO2lmKCFjLnR5cGUuc3BlYy5pc29sYXRpbmcmJnpzKHQsaSxlKSlyZXR1cm4hMDtpZigwPT1vLnBhcmVudC5jb250ZW50LnNpemUmJih3cyhjLCJlbmQiKXx8X2UuaXNTZWxlY3RhYmxlKGMpKSl7aWYoZSl7dmFyIGw9dC50ci5kZWxldGVSYW5nZShvLmJlZm9yZSgpLG8uYWZ0ZXIoKSk7bC5zZXRTZWxlY3Rpb24od3MoYywiZW5kIik/QWUuZmluZEZyb20obC5kb2MucmVzb2x2ZShsLm1hcHBpbmcubWFwKGkucG9zLC0xKSksLTEpOl9lLmNyZWF0ZShsLmRvYyxpLnBvcy1jLm5vZGVTaXplKSksZShsLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfXJldHVybiEoIWMuaXNBdG9tfHxpLmRlcHRoIT1vLmRlcHRoLTEpJiYoZSYmZSh0LnRyLmRlbGV0ZShpLnBvcy1jLm5vZGVTaXplLGkucG9zKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9ZnVuY3Rpb24gd3ModCxlLG4pe2Zvcig7dDt0PSJzdGFydCI9PWU/dC5maXJzdENoaWxkOnQubGFzdENoaWxkKXtpZih0LmlzVGV4dGJsb2NrKXJldHVybiEwO2lmKG4mJjEhPXQuY2hpbGRDb3VudClyZXR1cm4hMX1yZXR1cm4hMX1mdW5jdGlvbiBicyh0LGUsbil7dmFyIHI9dC5zZWxlY3Rpb24sbz1yLiRoZWFkLGk9ci5lbXB0eSxzPW87aWYoIWkpcmV0dXJuITE7aWYoby5wYXJlbnQuaXNUZXh0YmxvY2spe2lmKG4/IW4uZW5kT2ZUZXh0YmxvY2soImJhY2t3YXJkIix0KTpvLnBhcmVudE9mZnNldD4wKXJldHVybiExO3M9eHMobyl9dmFyIGE9cyYmcy5ub2RlQmVmb3JlO3JldHVybiEoIWF8fCFfZS5pc1NlbGVjdGFibGUoYSkpJiYoZSYmZSh0LnRyLnNldFNlbGVjdGlvbihfZS5jcmVhdGUodC5kb2Mscy5wb3MtYS5ub2RlU2l6ZSkpLnNjcm9sbEludG9WaWV3KCkpLCEwKX1mdW5jdGlvbiB4cyh0KXtpZighdC5wYXJlbnQudHlwZS5zcGVjLmlzb2xhdGluZylmb3IodmFyIGU9dC5kZXB0aC0xO2U+PTA7ZS0tKXtpZih0LmluZGV4KGUpPjApcmV0dXJuIHQuZG9jLnJlc29sdmUodC5iZWZvcmUoZSsxKSk7aWYodC5ub2RlKGUpLnR5cGUuc3BlYy5pc29sYXRpbmcpYnJlYWt9cmV0dXJuIG51bGx9ZnVuY3Rpb24ga3ModCxlLG4pe3ZhciByPXQuc2VsZWN0aW9uLG89ci4kY3Vyc29yO2lmKCFvfHwobj8hbi5lbmRPZlRleHRibG9jaygiZm9yd2FyZCIsdCk6by5wYXJlbnRPZmZzZXQ8by5wYXJlbnQuY29udGVudC5zaXplKSlyZXR1cm4hMTt2YXIgaT1DcyhvKTtpZighaSlyZXR1cm4hMTt2YXIgcz1pLm5vZGVBZnRlcjtpZih6cyh0LGksZSkpcmV0dXJuITA7aWYoMD09by5wYXJlbnQuY29udGVudC5zaXplJiYod3Mocywic3RhcnQiKXx8X2UuaXNTZWxlY3RhYmxlKHMpKSl7aWYoZSl7dmFyIGE9dC50ci5kZWxldGVSYW5nZShvLmJlZm9yZSgpLG8uYWZ0ZXIoKSk7YS5zZXRTZWxlY3Rpb24od3Mocywic3RhcnQiKT9BZS5maW5kRnJvbShhLmRvYy5yZXNvbHZlKGEubWFwcGluZy5tYXAoaS5wb3MpKSwxKTpfZS5jcmVhdGUoYS5kb2MsYS5tYXBwaW5nLm1hcChpLnBvcykpKSxlKGEuc2Nyb2xsSW50b1ZpZXcoKSl9cmV0dXJuITB9cmV0dXJuISghcy5pc0F0b218fGkuZGVwdGghPW8uZGVwdGgtMSkmJihlJiZlKHQudHIuZGVsZXRlKGkucG9zLGkucG9zK3Mubm9kZVNpemUpLnNjcm9sbEludG9WaWV3KCkpLCEwKX1mdW5jdGlvbiBTcyh0LGUsbil7dmFyIHI9dC5zZWxlY3Rpb24sbz1yLiRoZWFkLGk9ci5lbXB0eSxzPW87aWYoIWkpcmV0dXJuITE7aWYoby5wYXJlbnQuaXNUZXh0YmxvY2spe2lmKG4/IW4uZW5kT2ZUZXh0YmxvY2soImZvcndhcmQiLHQpOm8ucGFyZW50T2Zmc2V0PG8ucGFyZW50LmNvbnRlbnQuc2l6ZSlyZXR1cm4hMTtzPUNzKG8pfXZhciBhPXMmJnMubm9kZUFmdGVyO3JldHVybiEoIWF8fCFfZS5pc1NlbGVjdGFibGUoYSkpJiYoZSYmZSh0LnRyLnNldFNlbGVjdGlvbihfZS5jcmVhdGUodC5kb2Mscy5wb3MpKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9ZnVuY3Rpb24gQ3ModCl7aWYoIXQucGFyZW50LnR5cGUuc3BlYy5pc29sYXRpbmcpZm9yKHZhciBlPXQuZGVwdGgtMTtlPj0wO2UtLSl7dmFyIG49dC5ub2RlKGUpO2lmKHQuaW5kZXgoZSkrMTxuLmNoaWxkQ291bnQpcmV0dXJuIHQuZG9jLnJlc29sdmUodC5hZnRlcihlKzEpKTtpZihuLnR5cGUuc3BlYy5pc29sYXRpbmcpYnJlYWt9cmV0dXJuIG51bGx9ZnVuY3Rpb24gTXModCxlKXt2YXIgbj10LnNlbGVjdGlvbixyPW4uJGZyb20sbz1uLiR0byxpPXIuYmxvY2tSYW5nZShvKSxzPWkmJnRlKGkpO3JldHVybiBudWxsIT1zJiYoZSYmZSh0LnRyLmxpZnQoaSxzKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9ZnVuY3Rpb24gT3ModCxlKXt2YXIgbj10LnNlbGVjdGlvbixyPW4uJGhlYWQsbz1uLiRhbmNob3I7cmV0dXJuISghci5wYXJlbnQudHlwZS5zcGVjLmNvZGV8fCFyLnNhbWVQYXJlbnQobykpJiYoZSYmZSh0LnRyLmluc2VydFRleHQoIlxuIikuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIEFzKHQpe2Zvcih2YXIgZT0wO2U8dC5lZGdlQ291bnQ7ZSsrKXt2YXIgbj10LmVkZ2UoZSkscj1uLnR5cGU7aWYoci5pc1RleHRibG9jayYmIXIuaGFzUmVxdWlyZWRBdHRycygpKXJldHVybiByfXJldHVybiBudWxsfWZ1bmN0aW9uIE5zKHQsZSl7dmFyIG49dC5zZWxlY3Rpb24scj1uLiRoZWFkLG89bi4kYW5jaG9yO2lmKCFyLnBhcmVudC50eXBlLnNwZWMuY29kZXx8IXIuc2FtZVBhcmVudChvKSlyZXR1cm4hMTt2YXIgaT1yLm5vZGUoLTEpLHM9ci5pbmRleEFmdGVyKC0xKSxhPUFzKGkuY29udGVudE1hdGNoQXQocykpO2lmKCFpLmNhblJlcGxhY2VXaXRoKHMscyxhKSlyZXR1cm4hMTtpZihlKXt2YXIgYz1yLmFmdGVyKCksbD10LnRyLnJlcGxhY2VXaXRoKGMsYyxhLmNyZWF0ZUFuZEZpbGwoKSk7bC5zZXRTZWxlY3Rpb24oQWUubmVhcihsLmRvYy5yZXNvbHZlKGMpLDEpKSxlKGwuc2Nyb2xsSW50b1ZpZXcoKSl9cmV0dXJuITB9ZnVuY3Rpb24gRXModCxlKXt2YXIgbj10LnNlbGVjdGlvbixyPW4uJGZyb20sbz1uLiR0bztpZihuIGluc3RhbmNlb2YgemV8fHIucGFyZW50LmlubGluZUNvbnRlbnR8fG8ucGFyZW50LmlubGluZUNvbnRlbnQpcmV0dXJuITE7dmFyIGk9QXMoby5wYXJlbnQuY29udGVudE1hdGNoQXQoby5pbmRleEFmdGVyKCkpKTtpZighaXx8IWkuaXNUZXh0YmxvY2spcmV0dXJuITE7aWYoZSl7dmFyIHM9KCFyLnBhcmVudE9mZnNldCYmby5pbmRleCgpPG8ucGFyZW50LmNoaWxkQ291bnQ/cjpvKS5wb3MsYT10LnRyLmluc2VydChzLGkuY3JlYXRlQW5kRmlsbCgpKTthLnNldFNlbGVjdGlvbihUZS5jcmVhdGUoYS5kb2MscysxKSksZShhLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfWZ1bmN0aW9uIFRzKHQsZSl7dmFyIG49dC5zZWxlY3Rpb24scj1uLiRjdXJzb3I7aWYoIXJ8fHIucGFyZW50LmNvbnRlbnQuc2l6ZSlyZXR1cm4hMTtpZihyLmRlcHRoPjEmJnIuYWZ0ZXIoKSE9ci5lbmQoLTEpKXt2YXIgbz1yLmJlZm9yZSgpO2lmKHNlKHQuZG9jLG8pKXJldHVybiBlJiZlKHQudHIuc3BsaXQobykuc2Nyb2xsSW50b1ZpZXcoKSksITB9dmFyIGk9ci5ibG9ja1JhbmdlKCkscz1pJiZ0ZShpKTtyZXR1cm4gbnVsbCE9cyYmKGUmJmUodC50ci5saWZ0KGkscykuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIERzKHQsZSl7dmFyIG49dC5zZWxlY3Rpb24scj1uLiRmcm9tLG89bi4kdG87aWYodC5zZWxlY3Rpb24gaW5zdGFuY2VvZiBfZSYmdC5zZWxlY3Rpb24ubm9kZS5pc0Jsb2NrKXJldHVybiEoIXIucGFyZW50T2Zmc2V0fHwhc2UodC5kb2Msci5wb3MpKSYmKGUmJmUodC50ci5zcGxpdChyLnBvcykuc2Nyb2xsSW50b1ZpZXcoKSksITApO2lmKCFyLnBhcmVudC5pc0Jsb2NrKXJldHVybiExO2lmKGUpe3ZhciBpPW8ucGFyZW50T2Zmc2V0PT1vLnBhcmVudC5jb250ZW50LnNpemUscz10LnRyOyh0LnNlbGVjdGlvbiBpbnN0YW5jZW9mIFRlfHx0LnNlbGVjdGlvbiBpbnN0YW5jZW9mIHplKSYmcy5kZWxldGVTZWxlY3Rpb24oKTt2YXIgYT0wPT1yLmRlcHRoP251bGw6QXMoci5ub2RlKC0xKS5jb250ZW50TWF0Y2hBdChyLmluZGV4QWZ0ZXIoLTEpKSksYz1pJiZhP1t7dHlwZTphfV06bnVsbCxsPXNlKHMuZG9jLHMubWFwcGluZy5tYXAoci5wb3MpLDEsYyk7aWYoY3x8bHx8IXNlKHMuZG9jLHMubWFwcGluZy5tYXAoci5wb3MpLDEsYSYmW3t0eXBlOmF9XSl8fChjPVt7dHlwZTphfV0sbD0hMCksbCYmKHMuc3BsaXQocy5tYXBwaW5nLm1hcChyLnBvcyksMSxjKSwhaSYmIXIucGFyZW50T2Zmc2V0JiZyLnBhcmVudC50eXBlIT1hKSl7dmFyIHU9cy5tYXBwaW5nLm1hcChyLmJlZm9yZSgpKSxwPXMuZG9jLnJlc29sdmUodSk7ci5ub2RlKC0xKS5jYW5SZXBsYWNlV2l0aChwLmluZGV4KCkscC5pbmRleCgpKzEsYSkmJnMuc2V0Tm9kZU1hcmt1cChzLm1hcHBpbmcubWFwKHIuYmVmb3JlKCkpLGEpfWUocy5zY3JvbGxJbnRvVmlldygpKX1yZXR1cm4hMH1mdW5jdGlvbiBfcyh0LGUpe3JldHVybiBlJiZlKHQudHIuc2V0U2VsZWN0aW9uKG5ldyB6ZSh0LmRvYykpKSwhMH1mdW5jdGlvbiBScyh0LGUsbil7dmFyIHI9ZS5ub2RlQmVmb3JlLG89ZS5ub2RlQWZ0ZXIsaT1lLmluZGV4KCk7cmV0dXJuISEociYmbyYmci50eXBlLmNvbXBhdGlibGVDb250ZW50KG8udHlwZSkpJiYoIXIuY29udGVudC5zaXplJiZlLnBhcmVudC5jYW5SZXBsYWNlKGktMSxpKT8obiYmbih0LnRyLmRlbGV0ZShlLnBvcy1yLm5vZGVTaXplLGUucG9zKS5zY3JvbGxJbnRvVmlldygpKSwhMCk6ISghZS5wYXJlbnQuY2FuUmVwbGFjZShpLGkrMSl8fCFvLmlzVGV4dGJsb2NrJiYhYWUodC5kb2MsZS5wb3MpKSYmKG4mJm4odC50ci5jbGVhckluY29tcGF0aWJsZShlLnBvcyxyLnR5cGUsci5jb250ZW50TWF0Y2hBdChyLmNoaWxkQ291bnQpKS5qb2luKGUucG9zKS5zY3JvbGxJbnRvVmlldygpKSwhMCkpfWZ1bmN0aW9uIHpzKHQsZSxuKXt2YXIgcixvLGk9ZS5ub2RlQmVmb3JlLHM9ZS5ub2RlQWZ0ZXI7aWYoaS50eXBlLnNwZWMuaXNvbGF0aW5nfHxzLnR5cGUuc3BlYy5pc29sYXRpbmcpcmV0dXJuITE7aWYoUnModCxlLG4pKXJldHVybiEwO3ZhciBhPWUucGFyZW50LmNhblJlcGxhY2UoZS5pbmRleCgpLGUuaW5kZXgoKSsxKTtpZihhJiYocj0obz1pLmNvbnRlbnRNYXRjaEF0KGkuY2hpbGRDb3VudCkpLmZpbmRXcmFwcGluZyhzLnR5cGUpKSYmby5tYXRjaFR5cGUoclswXXx8cy50eXBlKS52YWxpZEVuZCl7aWYobil7Zm9yKHZhciBjPWUucG9zK3Mubm9kZVNpemUsbD1wLmVtcHR5LHU9ci5sZW5ndGgtMTt1Pj0wO3UtLSlsPXAuZnJvbShyW3VdLmNyZWF0ZShudWxsLGwpKTtsPXAuZnJvbShpLmNvcHkobCkpO3ZhciBoPXQudHIuc3RlcChuZXcgWXQoZS5wb3MtMSxjLGUucG9zLGMsbmV3IHkobCwxLDApLHIubGVuZ3RoLCEwKSksZj1jKzIqci5sZW5ndGg7YWUoaC5kb2MsZikmJmguam9pbihmKSxuKGguc2Nyb2xsSW50b1ZpZXcoKSl9cmV0dXJuITB9dmFyIGQ9QWUuZmluZEZyb20oZSwxKSxtPWQmJmQuJGZyb20uYmxvY2tSYW5nZShkLiR0byksdj1tJiZ0ZShtKTtpZihudWxsIT12JiZ2Pj1lLmRlcHRoKXJldHVybiBuJiZuKHQudHIubGlmdChtLHYpLnNjcm9sbEludG9WaWV3KCkpLCEwO2lmKGEmJndzKHMsInN0YXJ0IiwhMCkmJndzKGksImVuZCIpKXtmb3IodmFyIGc9aSx3PVtdOzspe2lmKHcucHVzaChnKSxnLmlzVGV4dGJsb2NrKWJyZWFrO2c9Zy5sYXN0Q2hpbGR9Zm9yKHZhciBiPXMseD0xOyFiLmlzVGV4dGJsb2NrO2I9Yi5maXJzdENoaWxkKXgrKztpZihnLmNhblJlcGxhY2UoZy5jaGlsZENvdW50LGcuY2hpbGRDb3VudCxiLmNvbnRlbnQpKXtpZihuKXtmb3IodmFyIGs9cC5lbXB0eSxTPXcubGVuZ3RoLTE7Uz49MDtTLS0paz1wLmZyb20od1tTXS5jb3B5KGspKTt2YXIgQz10LnRyLnN0ZXAobmV3IFl0KGUucG9zLXcubGVuZ3RoLGUucG9zK3Mubm9kZVNpemUsZS5wb3MreCxlLnBvcytzLm5vZGVTaXplLXgsbmV3IHkoayx3Lmxlbmd0aCwwKSwwLCEwKSk7bihDLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfX1yZXR1cm4hMX1mdW5jdGlvbiBJcyh0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciBvPW4uc2VsZWN0aW9uLGk9by4kZnJvbSxzPW8uJHRvLGE9aS5ibG9ja1JhbmdlKHMpLGM9YSYmZWUoYSx0LGUpO3JldHVybiEhYyYmKHImJnIobi50ci53cmFwKGEsYykuc2Nyb2xsSW50b1ZpZXcoKSksITApfX1mdW5jdGlvbiBQcyh0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciBvPW4uc2VsZWN0aW9uLGk9by5mcm9tLHM9by50byxhPSExO3JldHVybiBuLmRvYy5ub2Rlc0JldHdlZW4oaSxzLChmdW5jdGlvbihyLG8pe2lmKGEpcmV0dXJuITE7aWYoci5pc1RleHRibG9jayYmIXIuaGFzTWFya3VwKHQsZSkpaWYoci50eXBlPT10KWE9ITA7ZWxzZXt2YXIgaT1uLmRvYy5yZXNvbHZlKG8pLHM9aS5pbmRleCgpO2E9aS5wYXJlbnQuY2FuUmVwbGFjZVdpdGgocyxzKzEsdCl9fSkpLCEhYSYmKHImJnIobi50ci5zZXRCbG9ja1R5cGUoaSxzLHQsZSkuc2Nyb2xsSW50b1ZpZXcoKSksITApfX1mdW5jdGlvbiAkcyh0LGUsbil7Zm9yKHZhciByPWZ1bmN0aW9uKHIpe3ZhciBvPWVbcl0saT1vLiRmcm9tLHM9by4kdG8sYT0wPT1pLmRlcHRoJiZ0LnR5cGUuYWxsb3dzTWFya1R5cGUobik7aWYodC5ub2Rlc0JldHdlZW4oaS5wb3Mscy5wb3MsKGZ1bmN0aW9uKHQpe2lmKGEpcmV0dXJuITE7YT10LmlubGluZUNvbnRlbnQmJnQudHlwZS5hbGxvd3NNYXJrVHlwZShuKX0pKSxhKXJldHVybnt2OiEwfX0sbz0wO288ZS5sZW5ndGg7bysrKXt2YXIgaT1yKG8pO2lmKGkpcmV0dXJuIGkudn1yZXR1cm4hMX1mdW5jdGlvbiBCcyh0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciBvPW4uc2VsZWN0aW9uLGk9by5lbXB0eSxzPW8uJGN1cnNvcixhPW8ucmFuZ2VzO2lmKGkmJiFzfHwhJHMobi5kb2MsYSx0KSlyZXR1cm4hMTtpZihyKWlmKHMpdC5pc0luU2V0KG4uc3RvcmVkTWFya3N8fHMubWFya3MoKSk/cihuLnRyLnJlbW92ZVN0b3JlZE1hcmsodCkpOnIobi50ci5hZGRTdG9yZWRNYXJrKHQuY3JlYXRlKGUpKSk7ZWxzZXtmb3IodmFyIGM9ITEsbD1uLnRyLHU9MDshYyYmdTxhLmxlbmd0aDt1Kyspe3ZhciBwPWFbdV0saD1wLiRmcm9tLGY9cC4kdG87Yz1uLmRvYy5yYW5nZUhhc01hcmsoaC5wb3MsZi5wb3MsdCl9Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBtPWFbZF0sdj1tLiRmcm9tLGc9bS4kdG87aWYoYylsLnJlbW92ZU1hcmsodi5wb3MsZy5wb3MsdCk7ZWxzZXt2YXIgeT12LnBvcyx3PWcucG9zLGI9di5ub2RlQWZ0ZXIseD1nLm5vZGVCZWZvcmUsaz1iJiZiLmlzVGV4dD8vXlxzKi8uZXhlYyhiLnRleHQpWzBdLmxlbmd0aDowLFM9eCYmeC5pc1RleHQ/L1xzKiQvLmV4ZWMoeC50ZXh0KVswXS5sZW5ndGg6MDt5K2s8dyYmKHkrPWssdy09UyksbC5hZGRNYXJrKHksdyx0LmNyZWF0ZShlKSl9fXIobC5zY3JvbGxJbnRvVmlldygpKX1yZXR1cm4hMH19ZnVuY3Rpb24gVnMoKXt2YXIgdD1bXSxlPWFyZ3VtZW50cy5sZW5ndGg7d2hpbGUoZS0tKXRbZV09YXJndW1lbnRzW2VdO3JldHVybiBmdW5jdGlvbihlLG4scil7Zm9yKHZhciBvPTA7bzx0Lmxlbmd0aDtvKyspaWYodFtvXShlLG4scikpcmV0dXJuITA7cmV0dXJuITF9fXZhciBqcz1Wcyhncyx5cyxicyksTHM9VnMoZ3Msa3MsU3MpLEZzPXtFbnRlcjpWcyhPcyxFcyxUcyxEcyksIk1vZC1FbnRlciI6TnMsQmFja3NwYWNlOmpzLCJNb2QtQmFja3NwYWNlIjpqcyxEZWxldGU6THMsIk1vZC1EZWxldGUiOkxzLCJNb2QtYSI6X3N9LEhzPXsiQ3RybC1oIjpGc1siQmFja3NwYWNlIl0sIkFsdC1CYWNrc3BhY2UiOkZzWyJNb2QtQmFja3NwYWNlIl0sIkN0cmwtZCI6RnNbIkRlbGV0ZSJdLCJDdHJsLUFsdC1CYWNrc3BhY2UiOkZzWyJNb2QtRGVsZXRlIl0sIkFsdC1EZWxldGUiOkZzWyJNb2QtRGVsZXRlIl0sIkFsdC1kIjpGc1siTW9kLURlbGV0ZSJdfTtmb3IodmFyIEpzIGluIEZzKUhzW0pzXT1Gc1tKc107dmFyIFdzPSJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yPy9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKToidW5kZWZpbmVkIiE9dHlwZW9mIG9zJiYiZGFyd2luIj09b3MucGxhdGZvcm0oKSxxcz1Xcz9IczpGcyxLcz1mdW5jdGlvbih0LGUpe3RoaXMubWF0Y2g9dCx0aGlzLmhhbmRsZXI9InN0cmluZyI9PXR5cGVvZiBlP1VzKGUpOmV9O2Z1bmN0aW9uIFVzKHQpe3JldHVybiBmdW5jdGlvbihlLG4scixvKXt2YXIgaT10O2lmKG5bMV0pe3ZhciBzPW5bMF0ubGFzdEluZGV4T2YoblsxXSk7aSs9blswXS5zbGljZShzK25bMV0ubGVuZ3RoKSxyKz1zO3ZhciBhPXItbzthPjAmJihpPW5bMF0uc2xpY2Uocy1hLHMpK2kscj1vKX1yZXR1cm4gZS50ci5pbnNlcnRUZXh0KGkscixvKX19dmFyIEdzPTUwMDtmdW5jdGlvbiBYcyh0KXt2YXIgZT10LnJ1bGVzLG49bmV3IFhlKHtzdGF0ZTp7aW5pdDpmdW5jdGlvbigpe3JldHVybiBudWxsfSxhcHBseTpmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0TWV0YSh0aGlzKTtyZXR1cm4gbnx8KHQuc2VsZWN0aW9uU2V0fHx0LmRvY0NoYW5nZWQ/bnVsbDplKX19LHByb3BzOntoYW5kbGVUZXh0SW5wdXQ6ZnVuY3Rpb24odCxyLG8saSl7cmV0dXJuIFlzKHQscixvLGksZSxuKX0saGFuZGxlRE9NRXZlbnRzOntjb21wb3NpdGlvbmVuZDpmdW5jdGlvbih0KXtzZXRUaW1lb3V0KChmdW5jdGlvbigpe3ZhciByPXQuc3RhdGUuc2VsZWN0aW9uLG89ci4kY3Vyc29yO28mJllzKHQsby5wb3Msby5wb3MsIiIsZSxuKX0pKX19fSxpc0lucHV0UnVsZXM6ITB9KTtyZXR1cm4gbn1mdW5jdGlvbiBZcyh0LGUsbixyLG8saSl7aWYodC5jb21wb3NpbmcpcmV0dXJuITE7dmFyIHM9dC5zdGF0ZSxhPXMuZG9jLnJlc29sdmUoZSk7aWYoYS5wYXJlbnQudHlwZS5zcGVjLmNvZGUpcmV0dXJuITE7Zm9yKHZhciBjPWEucGFyZW50LnRleHRCZXR3ZWVuKE1hdGgubWF4KDAsYS5wYXJlbnRPZmZzZXQtR3MpLGEucGFyZW50T2Zmc2V0LG51bGwsIu+/vCIpK3IsbD0wO2w8by5sZW5ndGg7bCsrKXt2YXIgdT1vW2xdLm1hdGNoLmV4ZWMoYykscD11JiZvW2xdLmhhbmRsZXIocyx1LGUtKHVbMF0ubGVuZ3RoLXIubGVuZ3RoKSxuKTtpZihwKXJldHVybiB0LmRpc3BhdGNoKHAuc2V0TWV0YShpLHt0cmFuc2Zvcm06cCxmcm9tOmUsdG86bix0ZXh0OnJ9KSksITB9cmV0dXJuITF9ZnVuY3Rpb24gWnModCxlKXtmb3IodmFyIG49dC5wbHVnaW5zLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXSxpPXZvaWQgMDtpZihvLnNwZWMuaXNJbnB1dFJ1bGVzJiYoaT1vLmdldFN0YXRlKHQpKSl7aWYoZSl7Zm9yKHZhciBzPXQudHIsYT1pLnRyYW5zZm9ybSxjPWEuc3RlcHMubGVuZ3RoLTE7Yz49MDtjLS0pcy5zdGVwKGEuc3RlcHNbY10uaW52ZXJ0KGEuZG9jc1tjXSkpO2lmKGkudGV4dCl7dmFyIGw9cy5kb2MucmVzb2x2ZShpLmZyb20pLm1hcmtzKCk7cy5yZXBsYWNlV2l0aChpLmZyb20saS50byx0LnNjaGVtYS50ZXh0KGkudGV4dCxsKSl9ZWxzZSBzLmRlbGV0ZShpLmZyb20saS50byk7ZShzKX1yZXR1cm4hMH19cmV0dXJuITF9bmV3IEtzKC8tLSQvLCLigJQiKSxuZXcgS3MoL1wuXC5cLiQvLCLigKYiKSxuZXcgS3MoLyg/Ol58W1xzXHtcW1woXDwnIlx1MjAxOFx1MjAxQ10pKCIpJC8sIuKAnCIpLG5ldyBLcygvIiQvLCLigJ0iKSxuZXcgS3MoLyg/Ol58W1xzXHtcW1woXDwnIlx1MjAxOFx1MjAxQ10pKCcpJC8sIuKAmCIpLG5ldyBLcygvJyQvLCLigJkiKTtmdW5jdGlvbiBRcyh0LGUsbixyKXtyZXR1cm4gbmV3IEtzKHQsKGZ1bmN0aW9uKHQsbyxpLHMpe3ZhciBhPW4gaW5zdGFuY2VvZiBGdW5jdGlvbj9uKG8pOm4sYz10LnRyLmRlbGV0ZShpLHMpLGw9Yy5kb2MucmVzb2x2ZShpKSx1PWwuYmxvY2tSYW5nZSgpLHA9dSYmZWUodSxlLGEpO2lmKCFwKXJldHVybiBudWxsO2Mud3JhcCh1LHApO3ZhciBoPWMuZG9jLnJlc29sdmUoaS0xKS5ub2RlQmVmb3JlO3JldHVybiBoJiZoLnR5cGU9PWUmJmFlKGMuZG9jLGktMSkmJighcnx8cihvLGgpKSYmYy5qb2luKGktMSksY30pKX1mdW5jdGlvbiB0YSh0LGUsbil7cmV0dXJuIG5ldyBLcyh0LChmdW5jdGlvbih0LHIsbyxpKXt2YXIgcz10LmRvYy5yZXNvbHZlKG8pLGE9biBpbnN0YW5jZW9mIEZ1bmN0aW9uP24ocik6bjtyZXR1cm4gcy5ub2RlKC0xKS5jYW5SZXBsYWNlV2l0aChzLmluZGV4KC0xKSxzLmluZGV4QWZ0ZXIoLTEpLGUpP3QudHIuZGVsZXRlKG8saSkuc2V0QmxvY2tUeXBlKG8sbyxlLGEpOm51bGx9KSl9Ci8qIQogICAgKiB0aXB0YXAtdXRpbHMgdjEuMTMuMAogICAgKiAoYykgMjAyMSDDvGJlcmRvc2lzIEdiUiAobGltaXRlZCBsaWFiaWxpdHkpCiAgICAqIEBsaWNlbnNlIE1JVAogICAgKi8KZnVuY3Rpb24gZWEodCxlKXtyZXR1cm4gZT90LmNyZWF0ZUNoZWNrZWQobnVsbCxlKTp0LmNyZWF0ZUFuZEZpbGwoKX1mdW5jdGlvbiBuYSh0KXtpZih0LmNhY2hlZC50YWJsZU5vZGVUeXBlcylyZXR1cm4gdC5jYWNoZWQudGFibGVOb2RlVHlwZXM7Y29uc3QgZT17fTtyZXR1cm4gT2JqZWN0LmtleXModC5ub2RlcykuZm9yRWFjaCgobj0+e2NvbnN0IHI9dC5ub2Rlc1tuXTtyLnNwZWMudGFibGVSb2xlJiYoZVtyLnNwZWMudGFibGVSb2xlXT1yKX0pKSx0LmNhY2hlZC50YWJsZU5vZGVUeXBlcz1lLGV9ZnVuY3Rpb24gcmEodCxlLG4scixvKXtjb25zdCBpPW5hKHQpLHM9W10sYT1bXTtmb3IobGV0IGw9MDtsPG47bCs9MSl7Y29uc3QgdD1lYShpLmNlbGwsbyk7aWYodCYmYS5wdXNoKHQpLHIpe2NvbnN0IHQ9ZWEoaS5oZWFkZXJfY2VsbCxvKTt0JiZzLnB1c2godCl9fWNvbnN0IGM9W107Zm9yKGxldCBsPTA7bDxlO2wrPTEpYy5wdXNoKGkucm93LmNyZWF0ZUNoZWNrZWQobnVsbCxyJiYwPT09bD9zOmEpKTtyZXR1cm4gaS50YWJsZS5jcmVhdGVDaGVja2VkKG51bGwsYyl9ZnVuY3Rpb24gb2EodCxlKXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KSYmdC5pbmRleE9mKGUudHlwZSk+LTF8fGUudHlwZT09PXR9ZnVuY3Rpb24gaWEodCxlKXtmb3IobGV0IG49dC5kZXB0aDtuPjA7bi09MSl7Y29uc3Qgcj10Lm5vZGUobik7aWYoZShyKSlyZXR1cm57cG9zOm4+MD90LmJlZm9yZShuKTowLHN0YXJ0OnQuc3RhcnQobiksZGVwdGg6bixub2RlOnJ9fX1mdW5jdGlvbiBzYSh0KXtyZXR1cm4gZT0+aWEoZS4kZnJvbSx0KX1mdW5jdGlvbiBhYSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIF9lfWZ1bmN0aW9uIGNhKHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihhYShlKSl7Y29uc3R7bm9kZTpufT1lLHskZnJvbTpyfT1lO2lmKG9hKHQsbikpcmV0dXJue25vZGU6bixwb3M6ci5wb3MsZGVwdGg6ci5kZXB0aH19fX1mdW5jdGlvbiBsYSh0LGUpe2NvbnN0e2Zyb206bix0bzpyfT10LnNlbGVjdGlvbjtsZXQgbz1bXTt0LmRvYy5ub2Rlc0JldHdlZW4obixyLCh0PT57bz1bLi4ubywuLi50Lm1hcmtzXX0pKTtjb25zdCBpPW8uZmluZCgodD0+dC50eXBlLm5hbWU9PT1lLm5hbWUpKTtyZXR1cm4gaT9pLmF0dHJzOnt9fWZ1bmN0aW9uIHVhKHQ9bnVsbCxlPW51bGwpe2lmKCF0fHwhZSlyZXR1cm4hMTtjb25zdCBuPXQucGFyZW50LmNoaWxkQWZ0ZXIodC5wYXJlbnRPZmZzZXQpO2lmKCFuLm5vZGUpcmV0dXJuITE7Y29uc3Qgcj1uLm5vZGUubWFya3MuZmluZCgodD0+dC50eXBlPT09ZSkpO2lmKCFyKXJldHVybiExO2xldCBvPXQuaW5kZXgoKSxpPXQuc3RhcnQoKStuLm9mZnNldCxzPW8rMSxhPWkrbi5ub2RlLm5vZGVTaXplO3doaWxlKG8+MCYmci5pc0luU2V0KHQucGFyZW50LmNoaWxkKG8tMSkubWFya3MpKW8tPTEsaS09dC5wYXJlbnQuY2hpbGQobykubm9kZVNpemU7d2hpbGUoczx0LnBhcmVudC5jaGlsZENvdW50JiZyLmlzSW5TZXQodC5wYXJlbnQuY2hpbGQocykubWFya3MpKWErPXQucGFyZW50LmNoaWxkKHMpLm5vZGVTaXplLHMrPTE7cmV0dXJue2Zyb206aSx0bzphfX1mdW5jdGlvbiBwYSh0LGUpe2NvbnN0e2Zyb206bix0bzpyfT10LnNlbGVjdGlvbjtsZXQgbz1bXTt0LmRvYy5ub2Rlc0JldHdlZW4obixyLCh0PT57bz1bLi4ubyx0XX0pKTtjb25zdCBpPW8ucmV2ZXJzZSgpLmZpbmQoKHQ9PnQudHlwZS5uYW1lPT09ZS5uYW1lKSk7cmV0dXJuIGk/aS5hdHRyczp7fX1mdW5jdGlvbiBoYSh0LGUpe2NvbnN0e2Zyb206biwkZnJvbTpyLHRvOm8sZW1wdHk6aX09dC5zZWxlY3Rpb247cmV0dXJuIGk/ISFlLmlzSW5TZXQodC5zdG9yZWRNYXJrc3x8ci5tYXJrcygpKTohIXQuZG9jLnJhbmdlSGFzTWFyayhuLG8sZSl9ZnVuY3Rpb24gZmEodCxlLG49e30pe2NvbnN0IHI9dD0+dC50eXBlPT09ZSxvPWNhKGUpKHQuc2VsZWN0aW9uKXx8c2EocikodC5zZWxlY3Rpb24pO3JldHVybiBPYmplY3Qua2V5cyhuKS5sZW5ndGgmJm8/by5ub2RlLmhhc01hcmt1cChlLHsuLi5vLm5vZGUuYXR0cnMsLi4ubn0pOiEhb312YXIgZGE9cigyMDA1KSxtYT1yLm4oZGEpO2Z1bmN0aW9uIHZhKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7dmFyIG89bi5zZWxlY3Rpb24saT1vLiRmcm9tLHM9by4kdG8sYT1pLmJsb2NrUmFuZ2UocyksYz0hMSxsPWE7aWYoIWEpcmV0dXJuITE7aWYoYS5kZXB0aD49MiYmaS5ub2RlKGEuZGVwdGgtMSkudHlwZS5jb21wYXRpYmxlQ29udGVudCh0KSYmMD09YS5zdGFydEluZGV4KXtpZigwPT1pLmluZGV4KGEuZGVwdGgtMSkpcmV0dXJuITE7dmFyIHU9bi5kb2MucmVzb2x2ZShhLnN0YXJ0LTIpO2w9bmV3ICQodSx1LGEuZGVwdGgpLGEuZW5kSW5kZXg8YS5wYXJlbnQuY2hpbGRDb3VudCYmKGE9bmV3ICQoaSxuLmRvYy5yZXNvbHZlKHMuZW5kKGEuZGVwdGgpKSxhLmRlcHRoKSksYz0hMH12YXIgcD1lZShsLHQsZSxhKTtyZXR1cm4hIXAmJihyJiZyKGdhKG4udHIsYSxwLGMsdCkuc2Nyb2xsSW50b1ZpZXcoKSksITApfX1mdW5jdGlvbiBnYSh0LGUsbixyLG8pe2Zvcih2YXIgaT1wLmVtcHR5LHM9bi5sZW5ndGgtMTtzPj0wO3MtLSlpPXAuZnJvbShuW3NdLnR5cGUuY3JlYXRlKG5bc10uYXR0cnMsaSkpO3Quc3RlcChuZXcgWXQoZS5zdGFydC0ocj8yOjApLGUuZW5kLGUuc3RhcnQsZS5lbmQsbmV3IHkoaSwwLDApLG4ubGVuZ3RoLCEwKSk7Zm9yKHZhciBhPTAsYz0wO2M8bi5sZW5ndGg7YysrKW5bY10udHlwZT09byYmKGE9YysxKTtmb3IodmFyIGw9bi5sZW5ndGgtYSx1PWUuc3RhcnQrbi5sZW5ndGgtKHI/MjowKSxoPWUucGFyZW50LGY9ZS5zdGFydEluZGV4LGQ9ZS5lbmRJbmRleCxtPSEwO2Y8ZDtmKyssbT0hMSkhbSYmc2UodC5kb2MsdSxsKSYmKHQuc3BsaXQodSxsKSx1Kz0yKmwpLHUrPWguY2hpbGQoZikubm9kZVNpemU7cmV0dXJuIHR9ZnVuY3Rpb24geWEodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIHI9ZS5zZWxlY3Rpb24sbz1yLiRmcm9tLGk9ci4kdG8scz1yLm5vZGU7aWYocyYmcy5pc0Jsb2NrfHxvLmRlcHRoPDJ8fCFvLnNhbWVQYXJlbnQoaSkpcmV0dXJuITE7dmFyIGE9by5ub2RlKC0xKTtpZihhLnR5cGUhPXQpcmV0dXJuITE7aWYoMD09by5wYXJlbnQuY29udGVudC5zaXplJiZvLm5vZGUoLTEpLmNoaWxkQ291bnQ9PW8uaW5kZXhBZnRlcigtMSkpe2lmKDI9PW8uZGVwdGh8fG8ubm9kZSgtMykudHlwZSE9dHx8by5pbmRleCgtMikhPW8ubm9kZSgtMikuY2hpbGRDb3VudC0xKXJldHVybiExO2lmKG4pe2Zvcih2YXIgYz1wLmVtcHR5LGw9by5pbmRleCgtMSk/MTpvLmluZGV4KC0yKT8yOjMsdT1vLmRlcHRoLWw7dT49by5kZXB0aC0zO3UtLSljPXAuZnJvbShvLm5vZGUodSkuY29weShjKSk7dmFyIGg9by5pbmRleEFmdGVyKC0xKTxvLm5vZGUoLTIpLmNoaWxkQ291bnQ/MTpvLmluZGV4QWZ0ZXIoLTIpPG8ubm9kZSgtMykuY2hpbGRDb3VudD8yOjM7Yz1jLmFwcGVuZChwLmZyb20odC5jcmVhdGVBbmRGaWxsKCkpKTt2YXIgZj1vLmJlZm9yZShvLmRlcHRoLShsLTEpKSxkPWUudHIucmVwbGFjZShmLG8uYWZ0ZXIoLWgpLG5ldyB5KGMsNC1sLDApKSxtPS0xO2QuZG9jLm5vZGVzQmV0d2VlbihmLGQuZG9jLmNvbnRlbnQuc2l6ZSwoZnVuY3Rpb24odCxlKXtpZihtPi0xKXJldHVybiExO3QuaXNUZXh0YmxvY2smJjA9PXQuY29udGVudC5zaXplJiYobT1lKzEpfSkpLG0+LTEmJmQuc2V0U2VsZWN0aW9uKGUuc2VsZWN0aW9uLmNvbnN0cnVjdG9yLm5lYXIoZC5kb2MucmVzb2x2ZShtKSkpLG4oZC5zY3JvbGxJbnRvVmlldygpKX1yZXR1cm4hMH12YXIgdj1pLnBvcz09by5lbmQoKT9hLmNvbnRlbnRNYXRjaEF0KDApLmRlZmF1bHRUeXBlOm51bGwsZz1lLnRyLmRlbGV0ZShvLnBvcyxpLnBvcyksdz12JiZbbnVsbCx7dHlwZTp2fV07cmV0dXJuISFzZShnLmRvYyxvLnBvcywyLHcpJiYobiYmbihnLnNwbGl0KG8ucG9zLDIsdykuc2Nyb2xsSW50b1ZpZXcoKSksITApfX1mdW5jdGlvbiB3YSh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgcj1lLnNlbGVjdGlvbixvPXIuJGZyb20saT1yLiR0byxzPW8uYmxvY2tSYW5nZShpLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGlsZENvdW50JiZlLmZpcnN0Q2hpbGQudHlwZT09dH0pKTtyZXR1cm4hIXMmJighbnx8KG8ubm9kZShzLmRlcHRoLTEpLnR5cGU9PXQ/YmEoZSxuLHQscyk6eGEoZSxuLHMpKSl9fWZ1bmN0aW9uIGJhKHQsZSxuLHIpe3ZhciBvPXQudHIsaT1yLmVuZCxzPXIuJHRvLmVuZChyLmRlcHRoKTtyZXR1cm4gaTxzJiYoby5zdGVwKG5ldyBZdChpLTEscyxpLHMsbmV3IHkocC5mcm9tKG4uY3JlYXRlKG51bGwsci5wYXJlbnQuY29weSgpKSksMSwwKSwxLCEwKSkscj1uZXcgJChvLmRvYy5yZXNvbHZlKHIuJGZyb20ucG9zKSxvLmRvYy5yZXNvbHZlKHMpLHIuZGVwdGgpKSxlKG8ubGlmdChyLHRlKHIpKS5zY3JvbGxJbnRvVmlldygpKSwhMH1mdW5jdGlvbiB4YSh0LGUsbil7Zm9yKHZhciByPXQudHIsbz1uLnBhcmVudCxpPW4uZW5kLHM9bi5lbmRJbmRleC0xLGE9bi5zdGFydEluZGV4O3M+YTtzLS0paS09by5jaGlsZChzKS5ub2RlU2l6ZSxyLmRlbGV0ZShpLTEsaSsxKTt2YXIgYz1yLmRvYy5yZXNvbHZlKG4uc3RhcnQpLGw9Yy5ub2RlQWZ0ZXIsdT0wPT1uLnN0YXJ0SW5kZXgsaD1uLmVuZEluZGV4PT1vLmNoaWxkQ291bnQsZj1jLm5vZGUoLTEpLGQ9Yy5pbmRleCgtMSk7aWYoIWYuY2FuUmVwbGFjZShkKyh1PzA6MSksZCsxLGwuY29udGVudC5hcHBlbmQoaD9wLmVtcHR5OnAuZnJvbShvKSkpKXJldHVybiExO3ZhciBtPWMucG9zLHY9bStsLm5vZGVTaXplO3JldHVybiByLnN0ZXAobmV3IFl0KG0tKHU/MTowKSx2KyhoPzE6MCksbSsxLHYtMSxuZXcgeSgodT9wLmVtcHR5OnAuZnJvbShvLmNvcHkocC5lbXB0eSkpKS5hcHBlbmQoaD9wLmVtcHR5OnAuZnJvbShvLmNvcHkocC5lbXB0eSkpKSx1PzA6MSxoPzA6MSksdT8wOjEpKSxlKHIuc2Nyb2xsSW50b1ZpZXcoKSksITB9ZnVuY3Rpb24ga2EodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIHI9ZS5zZWxlY3Rpb24sbz1yLiRmcm9tLGk9ci4kdG8scz1vLmJsb2NrUmFuZ2UoaSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hpbGRDb3VudCYmZS5maXJzdENoaWxkLnR5cGU9PXR9KSk7aWYoIXMpcmV0dXJuITE7dmFyIGE9cy5zdGFydEluZGV4O2lmKDA9PWEpcmV0dXJuITE7dmFyIGM9cy5wYXJlbnQsbD1jLmNoaWxkKGEtMSk7aWYobC50eXBlIT10KXJldHVybiExO2lmKG4pe3ZhciB1PWwubGFzdENoaWxkJiZsLmxhc3RDaGlsZC50eXBlPT1jLnR5cGUsaD1wLmZyb20odT90LmNyZWF0ZSgpOm51bGwpLGY9bmV3IHkocC5mcm9tKHQuY3JlYXRlKG51bGwscC5mcm9tKGMudHlwZS5jcmVhdGUobnVsbCxoKSkpKSx1PzM6MSwwKSxkPXMuc3RhcnQsbT1zLmVuZDtuKGUudHIuc3RlcChuZXcgWXQoZC0odT8zOjEpLG0sZCxtLGYsMSwhMCkpLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfX1mdW5jdGlvbiBTYSh0LGUsbil7bGV0IHI9W107cmV0dXJuIG4uZG9jLm5vZGVzQmV0d2Vlbih0LGUsKCh0LGUpPT57cj1bLi4uciwuLi50Lm1hcmtzLm1hcCgobj0+KHtzdGFydDplLGVuZDplK3Qubm9kZVNpemUsbWFyazpufSkpKV19KSkscn1mdW5jdGlvbiBDYSh0LGUsbil7cmV0dXJuIG5ldyBLcyh0LCgodCxyLG8saSk9Pntjb25zdCBzPW4gaW5zdGFuY2VvZiBGdW5jdGlvbj9uKHIpOm4se3RyOmF9PXQsYz1yLmxlbmd0aC0xO2xldCBsPWksdT1vO2lmKHJbY10pe2NvbnN0IG49bytyWzBdLmluZGV4T2YocltjLTFdKSxzPW4rcltjLTFdLmxlbmd0aC0xLHA9bityW2MtMV0ubGFzdEluZGV4T2YocltjXSksaD1wK3JbY10ubGVuZ3RoLGY9U2EobyxpLHQpLmZpbHRlcigodD0+e2NvbnN0e2V4Y2x1ZGVkOm59PXQubWFyay50eXBlO3JldHVybiBuLmZpbmQoKHQ9PnQubmFtZT09PWUubmFtZSkpfSkpLmZpbHRlcigodD0+dC5lbmQ+bikpO2lmKGYubGVuZ3RoKXJldHVybiExO2g8cyYmYS5kZWxldGUoaCxzKSxwPm4mJmEuZGVsZXRlKG4scCksdT1uLGw9dStyW2NdLmxlbmd0aH1yZXR1cm4gYS5hZGRNYXJrKHUsbCxlLmNyZWF0ZShzKSksYS5yZW1vdmVTdG9yZWRNYXJrKGUpLGF9KSl9ZnVuY3Rpb24gTWEodCxlLG4pe2NvbnN0IHI9bz0+e2NvbnN0IGk9W107cmV0dXJuIG8uZm9yRWFjaCgobz0+e2lmKG8uaXNUZXh0KXtjb25zdHt0ZXh0OnJ9PW87bGV0IHMsYT0wO2Rve2lmKHM9dC5leGVjKHIpLHMpe2NvbnN0IHQ9cy5pbmRleCxyPXQrc1swXS5sZW5ndGgsYz1uIGluc3RhbmNlb2YgRnVuY3Rpb24/bihzWzBdKTpuO3Q+MCYmaS5wdXNoKG8uY3V0KGEsdCkpLGkucHVzaChvLmN1dCh0LHIpLm1hcmsoZS5jcmVhdGUoYykuYWRkVG9TZXQoby5tYXJrcykpKSxhPXJ9fXdoaWxlKHMpO2E8ci5sZW5ndGgmJmkucHVzaChvLmN1dChhKSl9ZWxzZSBpLnB1c2goby5jb3B5KHIoby5jb250ZW50KSkpfSkpLHAuZnJvbUFycmF5KGkpfTtyZXR1cm4gbmV3IFhlKHtwcm9wczp7dHJhbnNmb3JtUGFzdGVkOnQ9Pm5ldyB5KHIodC5jb250ZW50KSx0Lm9wZW5TdGFydCx0Lm9wZW5FbmQpfX0pfWZ1bmN0aW9uIE9hKHQsZSxuKXtjb25zdCByPShvLGkpPT57Y29uc3Qgcz1bXTtyZXR1cm4gby5mb3JFYWNoKChvPT57aWYoby5pc1RleHQpe2NvbnN0e3RleHQ6cixtYXJrczphfT1vO2xldCBjLGw9MDtjb25zdCB1PSEhYS5maWx0ZXIoKHQ9PiJsaW5rIj09PXQudHlwZS5uYW1lKSlbMF07d2hpbGUoIXUmJm51bGwhPT0oYz10LmV4ZWMocikpKWlmKGkmJmkudHlwZS5hbGxvd3NNYXJrVHlwZShlKSYmY1sxXSl7Y29uc3QgdD1jLmluZGV4LHI9dCtjWzBdLmxlbmd0aCxpPXQrY1swXS5pbmRleE9mKGNbMV0pLGE9aStjWzFdLmxlbmd0aCx1PW4gaW5zdGFuY2VvZiBGdW5jdGlvbj9uKGMpOm47dD4wJiZzLnB1c2goby5jdXQobCx0KSkscy5wdXNoKG8uY3V0KGksYSkubWFyayhlLmNyZWF0ZSh1KS5hZGRUb1NldChvLm1hcmtzKSkpLGw9cn1sPHIubGVuZ3RoJiZzLnB1c2goby5jdXQobCkpfWVsc2Ugcy5wdXNoKG8uY29weShyKG8uY29udGVudCxvKSkpfSkpLHAuZnJvbUFycmF5KHMpfTtyZXR1cm4gbmV3IFhlKHtwcm9wczp7dHJhbnNmb3JtUGFzdGVkOnQ9Pm5ldyB5KHIodC5jb250ZW50KSx0Lm9wZW5TdGFydCx0Lm9wZW5FbmQpfX0pfWZ1bmN0aW9uIEFhKHQpe3JldHVybihlLG4pPT57Y29uc3R7dHI6cixzZWxlY3Rpb246b309ZTtsZXR7ZnJvbTppLHRvOnN9PW87Y29uc3R7JGZyb206YSxlbXB0eTpjfT1vO2lmKGMpe2NvbnN0IGU9dWEoYSx0KTtpPWUuZnJvbSxzPWUudG99cmV0dXJuIHIucmVtb3ZlTWFyayhpLHMsdCksbihyKX19ZnVuY3Rpb24gTmEodCxlLG49MSxyKXtjb25zdCBvPXQucmVzb2x2ZShlKSxpPW8uZGVwdGgtbixzPXImJnJbci5sZW5ndGgtMV18fG8ucGFyZW50O2lmKGk8MHx8by5wYXJlbnQudHlwZS5zcGVjLmlzb2xhdGluZ3x8IW8ucGFyZW50LmNhblJlcGxhY2Uoby5pbmRleCgpLG8ucGFyZW50LmNoaWxkQ291bnQpfHwhcy50eXBlLnZhbGlkQ29udGVudChvLnBhcmVudC5jb250ZW50LmN1dEJ5SW5kZXgoby5pbmRleCgpLG8ucGFyZW50LmNoaWxkQ291bnQpKSlyZXR1cm4hMTtmb3IobGV0IGw9by5kZXB0aC0xLHU9bi0yO2w+aTtsLS0sdS0tKXtjb25zdCB0PW8ubm9kZShsKSxlPW8uaW5kZXgobCk7aWYodC50eXBlLnNwZWMuaXNvbGF0aW5nKXJldHVybiExO2xldCBuPXQuY29udGVudC5jdXRCeUluZGV4KGUsdC5jaGlsZENvdW50KTtjb25zdCBpPXImJnJbdV18fHQ7aWYoaSE9dCYmKG49bi5yZXBsYWNlQ2hpbGQoMCxpLnR5cGUuY3JlYXRlKGkuYXR0cnMpKSksIXQuY2FuUmVwbGFjZShlKzEsdC5jaGlsZENvdW50KSlyZXR1cm4hMX1jb25zdCBhPW8uaW5kZXhBZnRlcihpKSxjPXImJnJbMF07cmV0dXJuIG8ubm9kZShpKS5jYW5SZXBsYWNlV2l0aChhLGEsYz9jLnR5cGU6by5ub2RlKGkrMSkudHlwZSl9ZnVuY3Rpb24gRWEodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7Y29uc3R7JGZyb206ciwkdG86byxub2RlOml9PWUuc2VsZWN0aW9uO2lmKGkmJmkuaXNCbG9ja3x8ci5kZXB0aDwyfHwhci5zYW1lUGFyZW50KG8pKXJldHVybiExO2NvbnN0IHM9ci5ub2RlKC0xKTtpZihzLnR5cGUhPXQpcmV0dXJuITE7aWYoMD09ci5wYXJlbnQuY29udGVudC5zaXplKXtpZigyPT1yLmRlcHRofHxyLm5vZGUoLTMpLnR5cGUhPXR8fHIuaW5kZXgoLTIpIT1yLm5vZGUoLTIpLmNoaWxkQ291bnQtMSlyZXR1cm4hMTtpZihuKXtsZXQgbz1wLmVtcHR5O2NvbnN0IGk9ci5pbmRleCgtMSk+MDtmb3IobGV0IHQ9ci5kZXB0aC0oaT8xOjIpO3Q+PXIuZGVwdGgtMzt0LS0pbz1wLmZyb20oci5ub2RlKHQpLmNvcHkobykpO289by5hcHBlbmQocC5mcm9tKHQuY3JlYXRlQW5kRmlsbCgpKSk7Y29uc3Qgcz1lLnRyLnJlcGxhY2Uoci5iZWZvcmUoaT9udWxsOi0xKSxyLmFmdGVyKC0zKSxuZXcgeShvLGk/MzoyLDIpKTtzLnNldFNlbGVjdGlvbihlLnNlbGVjdGlvbi5jb25zdHJ1Y3Rvci5uZWFyKHMuZG9jLnJlc29sdmUoci5wb3MrKGk/MzoyKSkpKSxuKHMuc2Nyb2xsSW50b1ZpZXcoKSl9cmV0dXJuITB9Y29uc3QgYT1vLnBvcz09ci5lbmQoKT9zLmNvbnRlbnRNYXRjaEF0KHIuaW5kZXhBZnRlcigtMSkpLmRlZmF1bHRUeXBlOm51bGwsYz1lLnRyLmRlbGV0ZShyLnBvcyxvLnBvcyk7bGV0IGw9YSYmW3t0eXBlOnR9LHt0eXBlOmF9XTtyZXR1cm4gbHx8KGw9W3t0eXBlOnR9LG51bGxdKSwhIU5hKGMuZG9jLHIucG9zLDIsbCkmJihuJiZuKGMuc3BsaXQoci5wb3MsMixsKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9fWZ1bmN0aW9uIFRhKHQsZSxuPXt9KXtyZXR1cm4ocixvLGkpPT57Y29uc3Qgcz1mYShyLHQsbik7cmV0dXJuIHM/UHMoZSkocixvLGkpOlBzKHQsbikocixvLGkpfX1mdW5jdGlvbiBEYSh0LGUpe3JldHVybiB0LnR5cGU9PT1lLm5vZGVzLmJ1bGxldF9saXN0fHx0LnR5cGU9PT1lLm5vZGVzLm9yZGVyZWRfbGlzdHx8dC50eXBlPT09ZS5ub2Rlcy50b2RvX2xpc3R9ZnVuY3Rpb24gX2EodCxlKXtyZXR1cm4obixyLG8pPT57Y29uc3R7c2NoZW1hOmksc2VsZWN0aW9uOnN9PW4seyRmcm9tOmEsJHRvOmN9PXMsbD1hLmJsb2NrUmFuZ2UoYyk7aWYoIWwpcmV0dXJuITE7Y29uc3QgdT1zYSgodD0+RGEodCxpKSkpKHMpO2lmKGwuZGVwdGg+PTEmJnUmJmwuZGVwdGgtdS5kZXB0aDw9MSl7aWYodS5ub2RlLnR5cGU9PT10KXJldHVybiB3YShlKShuLHIsbyk7aWYoRGEodS5ub2RlLGkpJiZ0LnZhbGlkQ29udGVudCh1Lm5vZGUuY29udGVudCkpe2NvbnN0e3RyOmV9PW47cmV0dXJuIGUuc2V0Tm9kZU1hcmt1cCh1LnBvcyx0KSxyJiZyKGUpLCExfX1yZXR1cm4gdmEodCkobixyLG8pfX1mdW5jdGlvbiBSYSh0LGU9e30pe3JldHVybihuLHIsbyk9Pntjb25zdCBpPWZhKG4sdCxlKTtyZXR1cm4gaT9NcyhuLHIpOklzKHQsZSkobixyLG8pfX1mdW5jdGlvbiB6YSh0LGUpe3JldHVybihuLHIpPT57Y29uc3R7dHI6byxzZWxlY3Rpb246aSxkb2M6c309bix7cmFuZ2VzOmEsZW1wdHk6Y309aTtpZihjKXtjb25zdHtmcm9tOm4sdG86cn09dWEoaS4kZnJvbSx0KTtzLnJhbmdlSGFzTWFyayhuLHIsdCkmJm8ucmVtb3ZlTWFyayhuLHIsdCksby5hZGRNYXJrKG4scix0LmNyZWF0ZShlKSl9ZWxzZSBhLmZvckVhY2goKG49Pntjb25zdHskdG86ciwkZnJvbTppfT1uO3MucmFuZ2VIYXNNYXJrKGkucG9zLHIucG9zLHQpJiZvLnJlbW92ZU1hcmsoaS5wb3Msci5wb3MsdCksby5hZGRNYXJrKGkucG9zLHIucG9zLHQuY3JlYXRlKGUpKX0pKTtyZXR1cm4gcihvKX19Ci8qIQogICAgKiB0aXB0YXAgdjEuMzIuMQogICAgKiAoYykgMjAyMSDDvGJlcmRvc2lzIEdiUiAobGltaXRlZCBsaWFiaWxpdHkpCiAgICAqIEBsaWNlbnNlIE1JVAogICAgKi8KZnVuY3Rpb24gSWEodCl7cmV0dXJuIHQucmVwbGFjZSgvKD86Xlx3fFtBLVpdfFxiXHcpL2csKCh0LGUpPT4wPT09ZT90LnRvTG93ZXJDYXNlKCk6dC50b1VwcGVyQ2FzZSgpKSkucmVwbGFjZSgvXHMrL2csIiIpfWNsYXNzIFBhe2NvbnN0cnVjdG9yKHQse2VkaXRvcjplLGV4dGVuc2lvbjpuLHBhcmVudDpyLG5vZGU6byx2aWV3OmksZGVjb3JhdGlvbnM6cyxnZXRQb3M6YX0pe3RoaXMuY29tcG9uZW50PXQsdGhpcy5lZGl0b3I9ZSx0aGlzLmV4dGVuc2lvbj1uLHRoaXMucGFyZW50PXIsdGhpcy5ub2RlPW8sdGhpcy52aWV3PWksdGhpcy5kZWNvcmF0aW9ucz1zLHRoaXMuaXNOb2RlPSEhdGhpcy5ub2RlLm1hcmtzLHRoaXMuaXNNYXJrPSF0aGlzLmlzTm9kZSx0aGlzLmdldFBvcz10aGlzLmlzTWFyaz90aGlzLmdldE1hcmtQb3M6YSx0aGlzLmNhcHR1cmVFdmVudHM9ITAsdGhpcy5kb209dGhpcy5jcmVhdGVET00oKSx0aGlzLmNvbnRlbnRET009dGhpcy52bS4kcmVmcy5jb250ZW50fWNyZWF0ZURPTSgpe2NvbnN0IHQ9bWEoKS5leHRlbmQodGhpcy5jb21wb25lbnQpLGU9e2VkaXRvcjp0aGlzLmVkaXRvcixub2RlOnRoaXMubm9kZSx2aWV3OnRoaXMudmlldyxnZXRQb3M6KCk9PnRoaXMuZ2V0UG9zKCksZGVjb3JhdGlvbnM6dGhpcy5kZWNvcmF0aW9ucyxzZWxlY3RlZDohMSxvcHRpb25zOnRoaXMuZXh0ZW5zaW9uLm9wdGlvbnMsdXBkYXRlQXR0cnM6dD0+dGhpcy51cGRhdGVBdHRycyh0KX07cmV0dXJuImZ1bmN0aW9uIj09PXR5cGVvZiB0aGlzLmV4dGVuc2lvbi5zZXRTZWxlY3Rpb24mJih0aGlzLnNldFNlbGVjdGlvbj10aGlzLmV4dGVuc2lvbi5zZXRTZWxlY3Rpb24pLCJmdW5jdGlvbiI9PT10eXBlb2YgdGhpcy5leHRlbnNpb24udXBkYXRlJiYodGhpcy51cGRhdGU9dGhpcy5leHRlbnNpb24udXBkYXRlKSx0aGlzLnZtPW5ldyB0KHtwYXJlbnQ6dGhpcy5wYXJlbnQscHJvcHNEYXRhOmV9KS4kbW91bnQoKSx0aGlzLnZtLiRlbH11cGRhdGUodCxlKXtyZXR1cm4gdC50eXBlPT09dGhpcy5ub2RlLnR5cGUmJih0PT09dGhpcy5ub2RlJiZ0aGlzLmRlY29yYXRpb25zPT09ZXx8KHRoaXMubm9kZT10LHRoaXMuZGVjb3JhdGlvbnM9ZSx0aGlzLnVwZGF0ZUNvbXBvbmVudFByb3BzKHtub2RlOnQsZGVjb3JhdGlvbnM6ZX0pKSwhMCl9dXBkYXRlQ29tcG9uZW50UHJvcHModCl7aWYoIXRoaXMudm0uX3Byb3BzKXJldHVybjtjb25zdCBlPW1hKCkuY29uZmlnLnNpbGVudDttYSgpLmNvbmZpZy5zaWxlbnQ9ITAsT2JqZWN0LmVudHJpZXModCkuZm9yRWFjaCgoKFt0LGVdKT0+e3RoaXMudm0uX3Byb3BzW3RdPWV9KSksbWEoKS5jb25maWcuc2lsZW50PWV9dXBkYXRlQXR0cnModCl7aWYoIXRoaXMudmlldy5lZGl0YWJsZSlyZXR1cm47Y29uc3R7c3RhdGU6ZX09dGhpcy52aWV3LHt0eXBlOm59PXRoaXMubm9kZSxyPXRoaXMuZ2V0UG9zKCksbz17Li4udGhpcy5ub2RlLmF0dHJzLC4uLnR9LGk9dGhpcy5pc01hcms/ZS50ci5yZW1vdmVNYXJrKHIuZnJvbSxyLnRvLG4pLmFkZE1hcmsoci5mcm9tLHIudG8sbi5jcmVhdGUobykpOmUudHIuc2V0Tm9kZU1hcmt1cChyLG51bGwsbyk7dGhpcy52aWV3LmRpc3BhdGNoKGkpfWlnbm9yZU11dGF0aW9uKHQpe3JldHVybiJzZWxlY3Rpb24iIT09dC50eXBlJiYoIXRoaXMuY29udGVudERPTXx8IXRoaXMuY29udGVudERPTS5jb250YWlucyh0LnRhcmdldCkpfXN0b3BFdmVudCh0KXtpZigiZnVuY3Rpb24iPT09dHlwZW9mIHRoaXMuZXh0ZW5zaW9uLnN0b3BFdmVudClyZXR1cm4gdGhpcy5leHRlbnNpb24uc3RvcEV2ZW50KHQpO2NvbnN0IGU9ISF0aGlzLmV4dGVuc2lvbi5zY2hlbWEuZHJhZ2dhYmxlO2lmKGUmJiJtb3VzZWRvd24iPT09dC50eXBlKXtjb25zdCBlPXQudGFyZ2V0LmNsb3Nlc3QmJnQudGFyZ2V0LmNsb3Nlc3QoIltkYXRhLWRyYWctaGFuZGxlXSIpLG49ZSYmKHRoaXMuZG9tPT09ZXx8dGhpcy5kb20uY29udGFpbnMoZSkpO24mJih0aGlzLmNhcHR1cmVFdmVudHM9ITEsZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiZHJhZ2VuZCIsKCgpPT57dGhpcy5jYXB0dXJlRXZlbnRzPSEwfSkse29uY2U6ITB9KSl9Y29uc3Qgbj0iY29weSI9PT10LnR5cGUscj0icGFzdGUiPT09dC50eXBlLG89ImN1dCI9PT10LnR5cGUsaT10LnR5cGUuc3RhcnRzV2l0aCgiZHJhZyIpfHwiZHJvcCI9PT10LnR5cGU7cmV0dXJuIShlJiZpfHxufHxyfHxvKSYmdGhpcy5jYXB0dXJlRXZlbnRzfXNlbGVjdE5vZGUoKXt0aGlzLnVwZGF0ZUNvbXBvbmVudFByb3BzKHtzZWxlY3RlZDohMH0pfWRlc2VsZWN0Tm9kZSgpe3RoaXMudXBkYXRlQ29tcG9uZW50UHJvcHMoe3NlbGVjdGVkOiExfSl9Z2V0TWFya1Bvcygpe2NvbnN0IHQ9dGhpcy52aWV3LnBvc0F0RE9NKHRoaXMuZG9tKSxlPXRoaXMudmlldy5zdGF0ZS5kb2MucmVzb2x2ZSh0KSxuPXVhKGUsdGhpcy5ub2RlLnR5cGUpO3JldHVybiBufWRlc3Ryb3koKXt0aGlzLnZtLiRkZXN0cm95KCl9fWNsYXNzICRhe29uKHQsZSl7cmV0dXJuIHRoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9LHRoaXMuX2NhbGxiYWNrc1t0XXx8KHRoaXMuX2NhbGxiYWNrc1t0XT1bXSksdGhpcy5fY2FsbGJhY2tzW3RdLnB1c2goZSksdGhpc31lbWl0KHQsLi4uZSl7dGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e307Y29uc3Qgbj10aGlzLl9jYWxsYmFja3NbdF07cmV0dXJuIG4mJm4uZm9yRWFjaCgodD0+dC5hcHBseSh0aGlzLGUpKSksdGhpc31vZmYodCxlKXtpZihhcmd1bWVudHMubGVuZ3RoKXtjb25zdCBuPXRoaXMuX2NhbGxiYWNrcz90aGlzLl9jYWxsYmFja3NbdF06bnVsbDtuJiYoZT90aGlzLl9jYWxsYmFja3NbdF09bi5maWx0ZXIoKHQ9PnQhPT1lKSk6ZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1t0XSl9ZWxzZSB0aGlzLl9jYWxsYmFja3M9e307cmV0dXJuIHRoaXN9fWNsYXNzIEJhe2NvbnN0cnVjdG9yKHQ9e30pe3RoaXMub3B0aW9ucz17Li4udGhpcy5kZWZhdWx0T3B0aW9ucywuLi50fX1pbml0KCl7cmV0dXJuIG51bGx9YmluZEVkaXRvcih0PW51bGwpe3RoaXMuZWRpdG9yPXR9Z2V0IG5hbWUoKXtyZXR1cm4gbnVsbH1nZXQgdHlwZSgpe3JldHVybiJleHRlbnNpb24ifWdldCBkZWZhdWx0T3B0aW9ucygpe3JldHVybnt9fWdldCBwbHVnaW5zKCl7cmV0dXJuW119aW5wdXRSdWxlcygpe3JldHVybltdfXBhc3RlUnVsZXMoKXtyZXR1cm5bXX1rZXlzKCl7cmV0dXJue319fWNsYXNzIFZhe2NvbnN0cnVjdG9yKHQ9W10sZSl7dC5mb3JFYWNoKCh0PT57dC5iaW5kRWRpdG9yKGUpLHQuaW5pdCgpfSkpLHRoaXMuZXh0ZW5zaW9ucz10fWdldCBub2Rlcygpe3JldHVybiB0aGlzLmV4dGVuc2lvbnMuZmlsdGVyKCh0PT4ibm9kZSI9PT10LnR5cGUpKS5yZWR1Y2UoKCh0LHtuYW1lOmUsc2NoZW1hOm59KT0+KHsuLi50LFtlXTpufSkpLHt9KX1nZXQgb3B0aW9ucygpe2NvbnN0e3ZpZXc6dH09dGhpcztyZXR1cm4gdGhpcy5leHRlbnNpb25zLnJlZHVjZSgoKGUsbik9Pih7Li4uZSxbbi5uYW1lXTpuZXcgUHJveHkobi5vcHRpb25zLHtzZXQoZSxuLHIpe2NvbnN0IG89ZVtuXSE9PXI7cmV0dXJuIE9iamVjdC5hc3NpZ24oZSx7W25dOnJ9KSxvJiZ0LnVwZGF0ZVN0YXRlKHQuc3RhdGUpLCEwfX0pfSkpLHt9KX1nZXQgbWFya3MoKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLmZpbHRlcigodD0+Im1hcmsiPT09dC50eXBlKSkucmVkdWNlKCgodCx7bmFtZTplLHNjaGVtYTpufSk9Pih7Li4udCxbZV06bn0pKSx7fSl9Z2V0IHBsdWdpbnMoKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLmZpbHRlcigodD0+dC5wbHVnaW5zKSkucmVkdWNlKCgodCx7cGx1Z2luczplfSk9PlsuLi50LC4uLmVdKSxbXSl9a2V5bWFwcyh7c2NoZW1hOnR9KXtjb25zdCBlPXRoaXMuZXh0ZW5zaW9ucy5maWx0ZXIoKHQ9PlsiZXh0ZW5zaW9uIl0uaW5jbHVkZXModC50eXBlKSkpLmZpbHRlcigodD0+dC5rZXlzKSkubWFwKChlPT5lLmtleXMoe3NjaGVtYTp0fSkpKSxuPXRoaXMuZXh0ZW5zaW9ucy5maWx0ZXIoKHQ9Plsibm9kZSIsIm1hcmsiXS5pbmNsdWRlcyh0LnR5cGUpKSkuZmlsdGVyKCh0PT50LmtleXMpKS5tYXAoKGU9PmUua2V5cyh7dHlwZTp0W2Ake2UudHlwZX1zYF1bZS5uYW1lXSxzY2hlbWE6dH0pKSk7cmV0dXJuWy4uLmUsLi4ubl0ubWFwKCh0PT5zcyh0KSkpfWlucHV0UnVsZXMoe3NjaGVtYTp0LGV4Y2x1ZGVkRXh0ZW5zaW9uczplfSl7aWYoIShlIGluc3RhbmNlb2YgQXJyYXkpJiZlKXJldHVybltdO2NvbnN0IG49ZSBpbnN0YW5jZW9mIEFycmF5P3RoaXMuZXh0ZW5zaW9ucy5maWx0ZXIoKHQ9PiFlLmluY2x1ZGVzKHQubmFtZSkpKTp0aGlzLmV4dGVuc2lvbnMscj1uLmZpbHRlcigodD0+WyJleHRlbnNpb24iXS5pbmNsdWRlcyh0LnR5cGUpKSkuZmlsdGVyKCh0PT50LmlucHV0UnVsZXMpKS5tYXAoKGU9PmUuaW5wdXRSdWxlcyh7c2NoZW1hOnR9KSkpLG89bi5maWx0ZXIoKHQ9Plsibm9kZSIsIm1hcmsiXS5pbmNsdWRlcyh0LnR5cGUpKSkuZmlsdGVyKCh0PT50LmlucHV0UnVsZXMpKS5tYXAoKGU9PmUuaW5wdXRSdWxlcyh7dHlwZTp0W2Ake2UudHlwZX1zYF1bZS5uYW1lXSxzY2hlbWE6dH0pKSk7cmV0dXJuWy4uLnIsLi4ub10ucmVkdWNlKCgodCxlKT0+Wy4uLnQsLi4uZV0pLFtdKX1wYXN0ZVJ1bGVzKHtzY2hlbWE6dCxleGNsdWRlZEV4dGVuc2lvbnM6ZX0pe2lmKCEoZSBpbnN0YW5jZW9mIEFycmF5KSYmZSlyZXR1cm5bXTtjb25zdCBuPWUgaW5zdGFuY2VvZiBBcnJheT90aGlzLmV4dGVuc2lvbnMuZmlsdGVyKCh0PT4hZS5pbmNsdWRlcyh0Lm5hbWUpKSk6dGhpcy5leHRlbnNpb25zLHI9bi5maWx0ZXIoKHQ9PlsiZXh0ZW5zaW9uIl0uaW5jbHVkZXModC50eXBlKSkpLmZpbHRlcigodD0+dC5wYXN0ZVJ1bGVzKSkubWFwKChlPT5lLnBhc3RlUnVsZXMoe3NjaGVtYTp0fSkpKSxvPW4uZmlsdGVyKCh0PT5bIm5vZGUiLCJtYXJrIl0uaW5jbHVkZXModC50eXBlKSkpLmZpbHRlcigodD0+dC5wYXN0ZVJ1bGVzKSkubWFwKChlPT5lLnBhc3RlUnVsZXMoe3R5cGU6dFtgJHtlLnR5cGV9c2BdW2UubmFtZV0sc2NoZW1hOnR9KSkpO3JldHVyblsuLi5yLC4uLm9dLnJlZHVjZSgoKHQsZSk9PlsuLi50LC4uLmVdKSxbXSl9Y29tbWFuZHMoe3NjaGVtYTp0LHZpZXc6ZX0pe3JldHVybiB0aGlzLmV4dGVuc2lvbnMuZmlsdGVyKCh0PT50LmNvbW1hbmRzKSkucmVkdWNlKCgobixyKT0+e2NvbnN0e25hbWU6byx0eXBlOml9PXIscz17fSxhPXIuY29tbWFuZHMoe3NjaGVtYTp0LC4uLlsibm9kZSIsIm1hcmsiXS5pbmNsdWRlcyhpKT97dHlwZTp0W2Ake2l9c2BdW29dfTp7fX0pLGM9KHQsbik9PiEhZS5lZGl0YWJsZSYmKGUuZm9jdXMoKSx0KG4pKGUuc3RhdGUsZS5kaXNwYXRjaCxlKSksbD0odCxlKT0+e0FycmF5LmlzQXJyYXkoZSk/c1t0XT10PT5lLmZvckVhY2goKGU9PmMoZSx0KSkpOiJmdW5jdGlvbiI9PT10eXBlb2YgZSYmKHNbdF09dD0+YyhlLHQpKX07cmV0dXJuIm9iamVjdCI9PT10eXBlb2YgYT9PYmplY3QuZW50cmllcyhhKS5mb3JFYWNoKCgoW3QsZV0pPT57bCh0LGUpfSkpOmwobyxhKSx7Li4ubiwuLi5zfX0pLHt9KX19ZnVuY3Rpb24gamEodCl7e2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtlLnR5cGU9InRleHQvY3NzIixlLnRleHRDb250ZW50PXQ7Y29uc3R7aGVhZDpufT1kb2N1bWVudCx7Zmlyc3RDaGlsZDpyfT1uO3I/bi5pbnNlcnRCZWZvcmUoZSxyKTpuLmFwcGVuZENoaWxkKGUpfX1jbGFzcyBMYSBleHRlbmRzIEJhe2NvbnN0cnVjdG9yKHQ9e30pe3N1cGVyKHQpfWdldCB0eXBlKCl7cmV0dXJuIm1hcmsifWdldCB2aWV3KCl7cmV0dXJuIG51bGx9Z2V0IHNjaGVtYSgpe3JldHVybiBudWxsfWNvbW1hbmQoKXtyZXR1cm4oKT0+e319fWZ1bmN0aW9uIEZhKHQ9MCxlPTAsbj0wKXtyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgocGFyc2VJbnQodCwxMCksZSksbil9Y2xhc3MgSGEgZXh0ZW5kcyBCYXtjb25zdHJ1Y3Rvcih0PXt9KXtzdXBlcih0KX1nZXQgdHlwZSgpe3JldHVybiJub2RlIn1nZXQgdmlldygpe3JldHVybiBudWxsfWdldCBzY2hlbWEoKXtyZXR1cm4gbnVsbH1jb21tYW5kKCl7cmV0dXJuKCk9Pnt9fX1jbGFzcyBKYSBleHRlbmRzIEhhe2dldCBuYW1lKCl7cmV0dXJuImRvYyJ9Z2V0IHNjaGVtYSgpe3JldHVybntjb250ZW50OiJibG9jaysifX19Y2xhc3MgV2EgZXh0ZW5kcyBIYXtnZXQgbmFtZSgpe3JldHVybiJwYXJhZ3JhcGgifWdldCBzY2hlbWEoKXtyZXR1cm57Y29udGVudDoiaW5saW5lKiIsZ3JvdXA6ImJsb2NrIixkcmFnZ2FibGU6ITEscGFyc2VET006W3t0YWc6InAifV0sdG9ET006KCk9PlsicCIsMF19fWNvbW1hbmRzKHt0eXBlOnR9KXtyZXR1cm4oKT0+UHModCl9fWNsYXNzIHFhIGV4dGVuZHMgSGF7Z2V0IG5hbWUoKXtyZXR1cm4idGV4dCJ9Z2V0IHNjaGVtYSgpe3JldHVybntncm91cDoiaW5saW5lIn19fXZhciBLYT0nLlByb3NlTWlycm9yIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uUHJvc2VNaXJyb3Ige1xuICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XG4gIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbiAgLXdlYmtpdC1mb250LXZhcmlhbnQtbGlnYXR1cmVzOiBub25lO1xuICBmb250LXZhcmlhbnQtbGlnYXR1cmVzOiBub25lO1xufVxuXG4uUHJvc2VNaXJyb3IgcHJlIHtcbiAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xufVxuXG4uUHJvc2VNaXJyb3ItZ2FwY3Vyc29yIHtcbiAgZGlzcGxheTogbm9uZTtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbn1cblxuLlByb3NlTWlycm9yLWdhcGN1cnNvcjphZnRlciB7XG4gIGNvbnRlbnQ6ICIiO1xuICBkaXNwbGF5OiBibG9jaztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IC0ycHg7XG4gIHdpZHRoOiAyMHB4O1xuICBib3JkZXItdG9wOiAxcHggc29saWQgYmxhY2s7XG4gIGFuaW1hdGlvbjogUHJvc2VNaXJyb3ItY3Vyc29yLWJsaW5rIDEuMXMgc3RlcHMoMiwgc3RhcnQpIGluZmluaXRlO1xufVxuXG5Aa2V5ZnJhbWVzIFByb3NlTWlycm9yLWN1cnNvci1ibGluayB7XG4gIHRvIHtcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gIH1cbn1cblxuLlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb24gKjo6c2VsZWN0aW9uIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG5cbi5Qcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uICo6Oi1tb3otc2VsZWN0aW9uIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG5cbi5Qcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uICoge1xuICBjYXJldC1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG5cbi5Qcm9zZU1pcnJvci1mb2N1c2VkIC5Qcm9zZU1pcnJvci1nYXBjdXJzb3Ige1xuICBkaXNwbGF5OiBibG9jaztcbn1cbic7Y2xhc3MgVWEgZXh0ZW5kcyAkYXtjb25zdHJ1Y3Rvcih0PXt9KXtzdXBlcigpLHRoaXMuZGVmYXVsdE9wdGlvbnM9e2VkaXRvclByb3BzOnt9LGVkaXRhYmxlOiEwLGF1dG9Gb2N1czpudWxsLGV4dGVuc2lvbnM6W10sY29udGVudDoiIix0b3BOb2RlOiJkb2MiLGVtcHR5RG9jdW1lbnQ6e3R5cGU6ImRvYyIsY29udGVudDpbe3R5cGU6InBhcmFncmFwaCJ9XX0sdXNlQnVpbHRJbkV4dGVuc2lvbnM6ITAsZGlzYWJsZUlucHV0UnVsZXM6ITEsZGlzYWJsZVBhc3RlUnVsZXM6ITEsZHJvcEN1cnNvcjp7fSxlbmFibGVEcm9wQ3Vyc29yOiEwLGVuYWJsZUdhcEN1cnNvcjohMCxwYXJzZU9wdGlvbnM6e30saW5qZWN0Q1NTOiEwLG9uSW5pdDooKT0+e30sb25UcmFuc2FjdGlvbjooKT0+e30sb25VcGRhdGU6KCk9Pnt9LG9uRm9jdXM6KCk9Pnt9LG9uQmx1cjooKT0+e30sb25QYXN0ZTooKT0+e30sb25Ecm9wOigpPT57fX0sdGhpcy5ldmVudHM9WyJpbml0IiwidHJhbnNhY3Rpb24iLCJ1cGRhdGUiLCJmb2N1cyIsImJsdXIiLCJwYXN0ZSIsImRyb3AiXSx0aGlzLmluaXQodCl9aW5pdCh0PXt9KXt0aGlzLnNldE9wdGlvbnMoey4uLnRoaXMuZGVmYXVsdE9wdGlvbnMsLi4udH0pLHRoaXMuZm9jdXNlZD0hMSx0aGlzLnNlbGVjdGlvbj17ZnJvbTowLHRvOjB9LHRoaXMuZWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLmV4dGVuc2lvbnM9dGhpcy5jcmVhdGVFeHRlbnNpb25zKCksdGhpcy5ub2Rlcz10aGlzLmNyZWF0ZU5vZGVzKCksdGhpcy5tYXJrcz10aGlzLmNyZWF0ZU1hcmtzKCksdGhpcy5zY2hlbWE9dGhpcy5jcmVhdGVTY2hlbWEoKSx0aGlzLnBsdWdpbnM9dGhpcy5jcmVhdGVQbHVnaW5zKCksdGhpcy5rZXltYXBzPXRoaXMuY3JlYXRlS2V5bWFwcygpLHRoaXMuaW5wdXRSdWxlcz10aGlzLmNyZWF0ZUlucHV0UnVsZXMoKSx0aGlzLnBhc3RlUnVsZXM9dGhpcy5jcmVhdGVQYXN0ZVJ1bGVzKCksdGhpcy52aWV3PXRoaXMuY3JlYXRlVmlldygpLHRoaXMuY29tbWFuZHM9dGhpcy5jcmVhdGVDb21tYW5kcygpLHRoaXMuc2V0QWN0aXZlTm9kZXNBbmRNYXJrcygpLHRoaXMub3B0aW9ucy5pbmplY3RDU1MmJmphKEthKSxudWxsIT09dGhpcy5vcHRpb25zLmF1dG9Gb2N1cyYmdGhpcy5mb2N1cyh0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzKSx0aGlzLmV2ZW50cy5mb3JFYWNoKCh0PT57dGhpcy5vbih0LHRoaXMub3B0aW9uc1tJYShgb24gJHt0fWApXXx8KCgpPT57fSkpfSkpLHRoaXMuZW1pdCgiaW5pdCIse3ZpZXc6dGhpcy52aWV3LHN0YXRlOnRoaXMuc3RhdGV9KSx0aGlzLmV4dGVuc2lvbnMudmlldz10aGlzLnZpZXd9c2V0T3B0aW9ucyh0KXt0aGlzLm9wdGlvbnM9ey4uLnRoaXMub3B0aW9ucywuLi50fSx0aGlzLnZpZXcmJnRoaXMuc3RhdGUmJnRoaXMudmlldy51cGRhdGVTdGF0ZSh0aGlzLnN0YXRlKX1nZXQgYnVpbHRJbkV4dGVuc2lvbnMoKXtyZXR1cm4gdGhpcy5vcHRpb25zLnVzZUJ1aWx0SW5FeHRlbnNpb25zP1tuZXcgSmEsbmV3IHFhLG5ldyBXYV06W119Z2V0IHN0YXRlKCl7cmV0dXJuIHRoaXMudmlldz90aGlzLnZpZXcuc3RhdGU6bnVsbH1jcmVhdGVFeHRlbnNpb25zKCl7cmV0dXJuIG5ldyBWYShbLi4udGhpcy5idWlsdEluRXh0ZW5zaW9ucywuLi50aGlzLm9wdGlvbnMuZXh0ZW5zaW9uc10sdGhpcyl9Y3JlYXRlUGx1Z2lucygpe3JldHVybiB0aGlzLmV4dGVuc2lvbnMucGx1Z2luc31jcmVhdGVLZXltYXBzKCl7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5rZXltYXBzKHtzY2hlbWE6dGhpcy5zY2hlbWF9KX1jcmVhdGVJbnB1dFJ1bGVzKCl7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5pbnB1dFJ1bGVzKHtzY2hlbWE6dGhpcy5zY2hlbWEsZXhjbHVkZWRFeHRlbnNpb25zOnRoaXMub3B0aW9ucy5kaXNhYmxlSW5wdXRSdWxlc30pfWNyZWF0ZVBhc3RlUnVsZXMoKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLnBhc3RlUnVsZXMoe3NjaGVtYTp0aGlzLnNjaGVtYSxleGNsdWRlZEV4dGVuc2lvbnM6dGhpcy5vcHRpb25zLmRpc2FibGVQYXN0ZVJ1bGVzfSl9Y3JlYXRlQ29tbWFuZHMoKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLmNvbW1hbmRzKHtzY2hlbWE6dGhpcy5zY2hlbWEsdmlldzp0aGlzLnZpZXd9KX1jcmVhdGVOb2Rlcygpe3JldHVybiB0aGlzLmV4dGVuc2lvbnMubm9kZXN9Y3JlYXRlTWFya3MoKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLm1hcmtzfWNyZWF0ZVNjaGVtYSgpe3JldHVybiBuZXcgZHQoe3RvcE5vZGU6dGhpcy5vcHRpb25zLnRvcE5vZGUsbm9kZXM6dGhpcy5ub2RlcyxtYXJrczp0aGlzLm1hcmtzfSl9Y3JlYXRlU3RhdGUoKXtyZXR1cm4gcWUuY3JlYXRlKHtzY2hlbWE6dGhpcy5zY2hlbWEsZG9jOnRoaXMuY3JlYXRlRG9jdW1lbnQodGhpcy5vcHRpb25zLmNvbnRlbnQpLHBsdWdpbnM6Wy4uLnRoaXMucGx1Z2lucyxYcyh7cnVsZXM6dGhpcy5pbnB1dFJ1bGVzfSksLi4udGhpcy5wYXN0ZVJ1bGVzLC4uLnRoaXMua2V5bWFwcyxzcyh7QmFja3NwYWNlOlpzfSksc3MocXMpLC4uLnRoaXMub3B0aW9ucy5lbmFibGVEcm9wQ3Vyc29yP1tGaSh0aGlzLm9wdGlvbnMuZHJvcEN1cnNvcildOltdLC4uLnRoaXMub3B0aW9ucy5lbmFibGVHYXBDdXJzb3I/W2hzKCldOltdLG5ldyBYZSh7a2V5Om5ldyBRZSgiZWRpdGFibGUiKSxwcm9wczp7ZWRpdGFibGU6KCk9PnRoaXMub3B0aW9ucy5lZGl0YWJsZX19KSxuZXcgWGUoe3Byb3BzOnthdHRyaWJ1dGVzOnt0YWJpbmRleDowfSxoYW5kbGVET01FdmVudHM6e2ZvY3VzOih0LGUpPT57dGhpcy5mb2N1c2VkPSEwLHRoaXMuZW1pdCgiZm9jdXMiLHtldmVudDplLHN0YXRlOnQuc3RhdGUsdmlldzp0fSk7Y29uc3Qgbj10aGlzLnN0YXRlLnRyLnNldE1ldGEoImZvY3VzZWQiLCEwKTt0aGlzLnZpZXcuZGlzcGF0Y2gobil9LGJsdXI6KHQsZSk9Pnt0aGlzLmZvY3VzZWQ9ITEsdGhpcy5lbWl0KCJibHVyIix7ZXZlbnQ6ZSxzdGF0ZTp0LnN0YXRlLHZpZXc6dH0pO2NvbnN0IG49dGhpcy5zdGF0ZS50ci5zZXRNZXRhKCJmb2N1c2VkIiwhMSk7dGhpcy52aWV3LmRpc3BhdGNoKG4pfX19fSksbmV3IFhlKHtwcm9wczp0aGlzLm9wdGlvbnMuZWRpdG9yUHJvcHN9KV19KX1jcmVhdGVEb2N1bWVudCh0LGU9dGhpcy5vcHRpb25zLnBhcnNlT3B0aW9ucyl7aWYobnVsbD09PXQpcmV0dXJuIHRoaXMuc2NoZW1hLm5vZGVGcm9tSlNPTih0aGlzLm9wdGlvbnMuZW1wdHlEb2N1bWVudCk7aWYoIm9iamVjdCI9PT10eXBlb2YgdCl0cnl7cmV0dXJuIHRoaXMuc2NoZW1hLm5vZGVGcm9tSlNPTih0KX1jYXRjaChuKXtyZXR1cm4gY29uc29sZS53YXJuKCJbdGlwdGFwIHdhcm5dOiBJbnZhbGlkIGNvbnRlbnQuIiwiUGFzc2VkIHZhbHVlOiIsdCwiRXJyb3I6IixuKSx0aGlzLnNjaGVtYS5ub2RlRnJvbUpTT04odGhpcy5vcHRpb25zLmVtcHR5RG9jdW1lbnQpfWlmKCJzdHJpbmciPT09dHlwZW9mIHQpe2NvbnN0IG49YDxkaXY+JHt0fTwvZGl2PmAscj1uZXcgd2luZG93LkRPTVBhcnNlcixvPXIucGFyc2VGcm9tU3RyaW5nKG4sInRleHQvaHRtbCIpLmJvZHkuZmlyc3RFbGVtZW50Q2hpbGQ7cmV0dXJuIHZ0LmZyb21TY2hlbWEodGhpcy5zY2hlbWEpLnBhcnNlKG8sZSl9cmV0dXJuITF9Y3JlYXRlVmlldygpe3JldHVybiBuZXcgemkodGhpcy5lbGVtZW50LHtzdGF0ZTp0aGlzLmNyZWF0ZVN0YXRlKCksaGFuZGxlUGFzdGU6KC4uLnQpPT57dGhpcy5lbWl0KCJwYXN0ZSIsLi4udCl9LGhhbmRsZURyb3A6KC4uLnQpPT57dGhpcy5lbWl0KCJkcm9wIiwuLi50KX0sZGlzcGF0Y2hUcmFuc2FjdGlvbjp0aGlzLmRpc3BhdGNoVHJhbnNhY3Rpb24uYmluZCh0aGlzKX0pfXNldFBhcmVudENvbXBvbmVudCh0PW51bGwpe3QmJnRoaXMudmlldy5zZXRQcm9wcyh7bm9kZVZpZXdzOnRoaXMuaW5pdE5vZGVWaWV3cyh7cGFyZW50OnQsZXh0ZW5zaW9uczpbLi4udGhpcy5idWlsdEluRXh0ZW5zaW9ucywuLi50aGlzLm9wdGlvbnMuZXh0ZW5zaW9uc119KX0pfWluaXROb2RlVmlld3Moe3BhcmVudDp0LGV4dGVuc2lvbnM6ZX0pe3JldHVybiBlLmZpbHRlcigodD0+WyJub2RlIiwibWFyayJdLmluY2x1ZGVzKHQudHlwZSkpKS5maWx0ZXIoKHQ9PnQudmlldykpLnJlZHVjZSgoKGUsbik9Pntjb25zdCByPShlLHIsbyxpKT0+e2NvbnN0IHM9bi52aWV3O3JldHVybiBuZXcgUGEocyx7ZWRpdG9yOnRoaXMsZXh0ZW5zaW9uOm4scGFyZW50OnQsbm9kZTplLHZpZXc6cixnZXRQb3M6byxkZWNvcmF0aW9uczppfSl9O3JldHVybnsuLi5lLFtuLm5hbWVdOnJ9fSkse30pfWRpc3BhdGNoVHJhbnNhY3Rpb24odCl7Y29uc3QgZT10aGlzLnN0YXRlLmFwcGx5KHQpO3RoaXMudmlldy51cGRhdGVTdGF0ZShlKSx0aGlzLnNlbGVjdGlvbj17ZnJvbTp0aGlzLnN0YXRlLnNlbGVjdGlvbi5mcm9tLHRvOnRoaXMuc3RhdGUuc2VsZWN0aW9uLnRvfSx0aGlzLnNldEFjdGl2ZU5vZGVzQW5kTWFya3MoKSx0aGlzLmVtaXQoInRyYW5zYWN0aW9uIix7Z2V0SFRNTDp0aGlzLmdldEhUTUwuYmluZCh0aGlzKSxnZXRKU09OOnRoaXMuZ2V0SlNPTi5iaW5kKHRoaXMpLHN0YXRlOnRoaXMuc3RhdGUsdHJhbnNhY3Rpb246dH0pLHQuZG9jQ2hhbmdlZCYmIXQuZ2V0TWV0YSgicHJldmVudFVwZGF0ZSIpJiZ0aGlzLmVtaXRVcGRhdGUodCl9ZW1pdFVwZGF0ZSh0KXt0aGlzLmVtaXQoInVwZGF0ZSIse2dldEhUTUw6dGhpcy5nZXRIVE1MLmJpbmQodGhpcyksZ2V0SlNPTjp0aGlzLmdldEpTT04uYmluZCh0aGlzKSxzdGF0ZTp0aGlzLnN0YXRlLHRyYW5zYWN0aW9uOnR9KX1yZXNvbHZlU2VsZWN0aW9uKHQ9bnVsbCl7aWYodGhpcy5zZWxlY3Rpb24mJm51bGw9PT10KXJldHVybiB0aGlzLnNlbGVjdGlvbjtpZigic3RhcnQiPT09dHx8ITA9PT10KXJldHVybntmcm9tOjAsdG86MH07aWYoImVuZCI9PT10KXtjb25zdHtkb2M6dH09dGhpcy5zdGF0ZTtyZXR1cm57ZnJvbTp0LmNvbnRlbnQuc2l6ZSx0bzp0LmNvbnRlbnQuc2l6ZX19cmV0dXJue2Zyb206dCx0bzp0fX1mb2N1cyh0PW51bGwpe2lmKHRoaXMudmlldy5mb2N1c2VkJiZudWxsPT09dHx8ITE9PT10KXJldHVybjtjb25zdHtmcm9tOmUsdG86bn09dGhpcy5yZXNvbHZlU2VsZWN0aW9uKHQpO3RoaXMuc2V0U2VsZWN0aW9uKGUsbiksc2V0VGltZW91dCgoKCk9PnRoaXMudmlldy5mb2N1cygpKSwxMCl9c2V0U2VsZWN0aW9uKHQ9MCxlPTApe2NvbnN0e2RvYzpuLHRyOnJ9PXRoaXMuc3RhdGUsbz1GYSh0LDAsbi5jb250ZW50LnNpemUpLGk9RmEoZSwwLG4uY29udGVudC5zaXplKSxzPVRlLmNyZWF0ZShuLG8saSksYT1yLnNldFNlbGVjdGlvbihzKTt0aGlzLnZpZXcuZGlzcGF0Y2goYSl9Ymx1cigpe3RoaXMudmlldy5kb20uYmx1cigpfWdldFNjaGVtYUpTT04oKXtyZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh7bm9kZXM6dGhpcy5leHRlbnNpb25zLm5vZGVzLG1hcmtzOnRoaXMuZXh0ZW5zaW9ucy5tYXJrc30pKX1nZXRIVE1MKCl7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxlPV90LmZyb21TY2hlbWEodGhpcy5zY2hlbWEpLnNlcmlhbGl6ZUZyYWdtZW50KHRoaXMuc3RhdGUuZG9jLmNvbnRlbnQpO3JldHVybiB0LmFwcGVuZENoaWxkKGUpLHQuaW5uZXJIVE1MfWdldEpTT04oKXtyZXR1cm4gdGhpcy5zdGF0ZS5kb2MudG9KU09OKCl9c2V0Q29udGVudCh0PXt9LGU9ITEsbil7Y29uc3R7ZG9jOnIsdHI6b309dGhpcy5zdGF0ZSxpPXRoaXMuY3JlYXRlRG9jdW1lbnQodCxuKSxzPVRlLmNyZWF0ZShyLDAsci5jb250ZW50LnNpemUpLGE9by5zZXRTZWxlY3Rpb24ocykucmVwbGFjZVNlbGVjdGlvbldpdGgoaSwhMSkuc2V0TWV0YSgicHJldmVudFVwZGF0ZSIsIWUpO3RoaXMudmlldy5kaXNwYXRjaChhKX1jbGVhckNvbnRlbnQodD0hMSl7dGhpcy5zZXRDb250ZW50KHRoaXMub3B0aW9ucy5lbXB0eURvY3VtZW50LHQpfXNldEFjdGl2ZU5vZGVzQW5kTWFya3MoKXt0aGlzLmFjdGl2ZU1hcmtzPU9iamVjdC5lbnRyaWVzKHRoaXMuc2NoZW1hLm1hcmtzKS5yZWR1Y2UoKCh0LFtlLG5dKT0+KHsuLi50LFtlXToodD17fSk9PmhhKHRoaXMuc3RhdGUsbix0KX0pKSx7fSksdGhpcy5hY3RpdmVNYXJrQXR0cnM9T2JqZWN0LmVudHJpZXModGhpcy5zY2hlbWEubWFya3MpLnJlZHVjZSgoKHQsW2Usbl0pPT4oey4uLnQsW2VdOmxhKHRoaXMuc3RhdGUsbil9KSkse30pLHRoaXMuYWN0aXZlTm9kZXM9T2JqZWN0LmVudHJpZXModGhpcy5zY2hlbWEubm9kZXMpLnJlZHVjZSgoKHQsW2Usbl0pPT4oey4uLnQsW2VdOih0PXt9KT0+ZmEodGhpcy5zdGF0ZSxuLHQpfSkpLHt9KX1nZXRNYXJrQXR0cnModD1udWxsKXtyZXR1cm4gdGhpcy5hY3RpdmVNYXJrQXR0cnNbdF19Z2V0Tm9kZUF0dHJzKHQ9bnVsbCl7cmV0dXJuey4uLnBhKHRoaXMuc3RhdGUsdGhpcy5zY2hlbWEubm9kZXNbdF0pfX1nZXQgaXNBY3RpdmUoKXtyZXR1cm4gT2JqZWN0LmVudHJpZXMoey4uLnRoaXMuYWN0aXZlTWFya3MsLi4udGhpcy5hY3RpdmVOb2Rlc30pLnJlZHVjZSgoKHQsW2Usbl0pPT4oey4uLnQsW2VdOih0PXt9KT0+bih0KX0pKSx7fSl9cmVnaXN0ZXJQbHVnaW4odD1udWxsLGUpe2NvbnN0IG49ImZ1bmN0aW9uIj09PXR5cGVvZiBlP2UodCx0aGlzLnN0YXRlLnBsdWdpbnMpOlt0LC4uLnRoaXMuc3RhdGUucGx1Z2luc10scj10aGlzLnN0YXRlLnJlY29uZmlndXJlKHtwbHVnaW5zOm59KTt0aGlzLnZpZXcudXBkYXRlU3RhdGUocil9dW5yZWdpc3RlclBsdWdpbih0PW51bGwpe2lmKCF0fHwhdGhpcy52aWV3LmRvY1ZpZXcpcmV0dXJuO2NvbnN0IGU9dGhpcy5zdGF0ZS5yZWNvbmZpZ3VyZSh7cGx1Z2luczp0aGlzLnN0YXRlLnBsdWdpbnMuZmlsdGVyKChlPT4hZS5rZXkuc3RhcnRzV2l0aChgJHt0fSRgKSkpfSk7dGhpcy52aWV3LnVwZGF0ZVN0YXRlKGUpfWRlc3Ryb3koKXt0aGlzLnZpZXcmJnRoaXMudmlldy5kZXN0cm95KCl9fXZhciBHYT17cHJvcHM6e2VkaXRvcjp7ZGVmYXVsdDpudWxsLHR5cGU6T2JqZWN0fX0sd2F0Y2g6e2VkaXRvcjp7aW1tZWRpYXRlOiEwLGhhbmRsZXIodCl7dCYmdC5lbGVtZW50JiZ0aGlzLiRuZXh0VGljaygoKCk9Pnt0aGlzLiRlbC5hcHBlbmRDaGlsZCh0LmVsZW1lbnQuZmlyc3RDaGlsZCksdC5zZXRQYXJlbnRDb21wb25lbnQodGhpcyl9KSl9fX0scmVuZGVyKHQpe3JldHVybiB0KCJkaXYiKX0sYmVmb3JlRGVzdHJveSgpe3RoaXMuZWRpdG9yLmVsZW1lbnQ9dGhpcy4kZWx9fTtjbGFzcyBYYXtjb25zdHJ1Y3Rvcih7b3B0aW9uczp0fSl7dGhpcy5vcHRpb25zPXQsdGhpcy5wcmV2ZW50SGlkZT0hMSx0aGlzLm1vdXNlZG93bkhhbmRsZXI9dGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpLHRoaXMub3B0aW9ucy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsdGhpcy5tb3VzZWRvd25IYW5kbGVyLHtjYXB0dXJlOiEwfSksdGhpcy5ibHVySGFuZGxlcj0oKT0+e3RoaXMucHJldmVudEhpZGU/dGhpcy5wcmV2ZW50SGlkZT0hMTp0aGlzLm9wdGlvbnMuZWRpdG9yLmVtaXQoIm1lbnViYXI6Zm9jdXNVcGRhdGUiLCExKX0sdGhpcy5vcHRpb25zLmVkaXRvci5vbigiYmx1ciIsdGhpcy5ibHVySGFuZGxlcil9aGFuZGxlQ2xpY2soKXt0aGlzLnByZXZlbnRIaWRlPSEwfWRlc3Ryb3koKXt0aGlzLm9wdGlvbnMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLHRoaXMubW91c2Vkb3duSGFuZGxlciksdGhpcy5vcHRpb25zLmVkaXRvci5vZmYoImJsdXIiLHRoaXMuYmx1ckhhbmRsZXIpfX1mdW5jdGlvbiBZYSh0KXtyZXR1cm4gbmV3IFhlKHtrZXk6bmV3IFFlKCJtZW51X2JhciIpLHZpZXcoZSl7cmV0dXJuIG5ldyBYYSh7ZWRpdG9yVmlldzplLG9wdGlvbnM6dH0pfX0pfXZhciBaYT17cHJvcHM6e2VkaXRvcjp7ZGVmYXVsdDpudWxsLHR5cGU6T2JqZWN0fX0sZGF0YSgpe3JldHVybntmb2N1c2VkOiExfX0sd2F0Y2g6e2VkaXRvcjp7aW1tZWRpYXRlOiEwLGhhbmRsZXIodCl7dCYmdGhpcy4kbmV4dFRpY2soKCgpPT57dC5yZWdpc3RlclBsdWdpbihZYSh7ZWRpdG9yOnQsZWxlbWVudDp0aGlzLiRlbH0pKSx0aGlzLmZvY3VzZWQ9dC5mb2N1c2VkLHQub24oImZvY3VzIiwoKCk9Pnt0aGlzLmZvY3VzZWQ9ITB9KSksdC5vbigibWVudWJhcjpmb2N1c1VwZGF0ZSIsKHQ9Pnt0aGlzLmZvY3VzZWQ9dH0pKX0pKX19fSxyZW5kZXIoKXtyZXR1cm4gdGhpcy5lZGl0b3I/dGhpcy4kc2NvcGVkU2xvdHMuZGVmYXVsdCh7Zm9jdXNlZDp0aGlzLmZvY3VzZWQsZm9jdXM6dGhpcy5lZGl0b3IuZm9jdXMsY29tbWFuZHM6dGhpcy5lZGl0b3IuY29tbWFuZHMsaXNBY3RpdmU6dGhpcy5lZGl0b3IuaXNBY3RpdmUsZ2V0TWFya0F0dHJzOnRoaXMuZWRpdG9yLmdldE1hcmtBdHRycy5iaW5kKHRoaXMuZWRpdG9yKSxnZXROb2RlQXR0cnM6dGhpcy5lZGl0b3IuZ2V0Tm9kZUF0dHJzLmJpbmQodGhpcy5lZGl0b3IpfSk6bnVsbH19O2Z1bmN0aW9uIFFhKHQsZSxuKXtjb25zdCByPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7cmV0dXJuIHIuc2V0RW5kKHQsbnVsbD09bj90Lm5vZGVWYWx1ZS5sZW5ndGg6biksci5zZXRTdGFydCh0LE1hdGgubWF4KGUsMCkpLHJ9ZnVuY3Rpb24gdGModCxlKXtjb25zdCBuPXQuZ2V0Q2xpZW50UmVjdHMoKTtyZXR1cm4gbi5sZW5ndGg/bltlPDA/MDpuLmxlbmd0aC0xXTp0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfWZ1bmN0aW9uIGVjKHQsZSxuPSExKXtjb25zdHtub2RlOnIsb2Zmc2V0Om99PXQuZG9jVmlldy5kb21Gcm9tUG9zKGUpO2xldCBpLHM7aWYoMz09PXIubm9kZVR5cGUpbiYmbzxyLm5vZGVWYWx1ZS5sZW5ndGg/KHRjKFFhKHIsby0xLG8pLC0xKSwicmlnaHQiKTpvPHIubm9kZVZhbHVlLmxlbmd0aCYmKHRjKFFhKHIsbyxvKzEpLC0xKSwibGVmdCIpO2Vsc2UgaWYoci5maXJzdENoaWxkKXtpZihvPHIuY2hpbGROb2Rlcy5sZW5ndGgpe2NvbnN0IHQ9ci5jaGlsZE5vZGVzW29dO3RjKDM9PT10Lm5vZGVUeXBlP1FhKHQpOnQsLTEpLCJsZWZ0In1pZigoIXN8fHMudG9wPT09cy5ib3R0b20pJiZvKXtjb25zdCB0PXIuY2hpbGROb2Rlc1tvLTFdO3RjKDM9PT10Lm5vZGVUeXBlP1FhKHQpOnQsMSksInJpZ2h0In19ZWxzZSByLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCJsZWZ0Ijtjb25zdCBhPXNbaV07cmV0dXJue3RvcDpzLnRvcCxib3R0b206cy5ib3R0b20sbGVmdDphLHJpZ2h0OmF9fWNsYXNzIG5je2NvbnN0cnVjdG9yKHtvcHRpb25zOnQsZWRpdG9yVmlldzplfSl7dGhpcy5vcHRpb25zPXtlbGVtZW50Om51bGwsa2VlcEluQm91bmRzOiEwLG9uVXBkYXRlOigpPT4hMSwuLi50fSx0aGlzLmVkaXRvclZpZXc9ZSx0aGlzLmlzQWN0aXZlPSExLHRoaXMubGVmdD0wLHRoaXMuYm90dG9tPTAsdGhpcy50b3A9MCx0aGlzLnByZXZlbnRIaWRlPSExLHRoaXMubW91c2Vkb3duSGFuZGxlcj10aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcyksdGhpcy5vcHRpb25zLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIix0aGlzLm1vdXNlZG93bkhhbmRsZXIse2NhcHR1cmU6ITB9KSx0aGlzLmZvY3VzSGFuZGxlcj0oe3ZpZXc6dH0pPT57dGhpcy51cGRhdGUodCl9LHRoaXMub3B0aW9ucy5lZGl0b3Iub24oImZvY3VzIix0aGlzLmZvY3VzSGFuZGxlciksdGhpcy5ibHVySGFuZGxlcj0oe2V2ZW50OnR9KT0+e3RoaXMucHJldmVudEhpZGU/dGhpcy5wcmV2ZW50SGlkZT0hMTp0aGlzLmhpZGUodCl9LHRoaXMub3B0aW9ucy5lZGl0b3Iub24oImJsdXIiLHRoaXMuYmx1ckhhbmRsZXIpfWhhbmRsZUNsaWNrKCl7dGhpcy5wcmV2ZW50SGlkZT0hMH11cGRhdGUodCxlKXtjb25zdHtzdGF0ZTpufT10O2lmKHQuY29tcG9zaW5nKXJldHVybjtpZihlJiZlLmRvYy5lcShuLmRvYykmJmUuc2VsZWN0aW9uLmVxKG4uc2VsZWN0aW9uKSlyZXR1cm47aWYobi5zZWxlY3Rpb24uZW1wdHkpcmV0dXJuIHZvaWQgdGhpcy5oaWRlKCk7Y29uc3R7ZnJvbTpyLHRvOm99PW4uc2VsZWN0aW9uLGk9ZWModCxyKSxzPWVjKHQsbywhMCksYT10aGlzLm9wdGlvbnMuZWxlbWVudC5vZmZzZXRQYXJlbnQ7aWYoIWEpcmV0dXJuIHZvaWQgdGhpcy5oaWRlKCk7Y29uc3QgYz1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGw9dGhpcy5vcHRpb25zLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdT0oaS5sZWZ0K3MubGVmdCkvMi1jLmxlZnQ7dGhpcy5sZWZ0PU1hdGgucm91bmQodGhpcy5vcHRpb25zLmtlZXBJbkJvdW5kcz9NYXRoLm1pbihjLndpZHRoLWwud2lkdGgvMixNYXRoLm1heCh1LGwud2lkdGgvMikpOnUpLHRoaXMuYm90dG9tPU1hdGgucm91bmQoYy5ib3R0b20taS50b3ApLHRoaXMudG9wPU1hdGgucm91bmQocy5ib3R0b20tYy50b3ApLHRoaXMuaXNBY3RpdmU9ITAsdGhpcy5zZW5kVXBkYXRlKCl9c2VuZFVwZGF0ZSgpe3RoaXMub3B0aW9ucy5vblVwZGF0ZSh7aXNBY3RpdmU6dGhpcy5pc0FjdGl2ZSxsZWZ0OnRoaXMubGVmdCxib3R0b206dGhpcy5ib3R0b20sdG9wOnRoaXMudG9wfSl9aGlkZSh0KXt0JiZ0LnJlbGF0ZWRUYXJnZXQmJnRoaXMub3B0aW9ucy5lbGVtZW50LnBhcmVudE5vZGUmJnRoaXMub3B0aW9ucy5lbGVtZW50LnBhcmVudE5vZGUuY29udGFpbnModC5yZWxhdGVkVGFyZ2V0KXx8KHRoaXMuaXNBY3RpdmU9ITEsdGhpcy5zZW5kVXBkYXRlKCkpfWRlc3Ryb3koKXt0aGlzLm9wdGlvbnMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLHRoaXMubW91c2Vkb3duSGFuZGxlciksdGhpcy5vcHRpb25zLmVkaXRvci5vZmYoImZvY3VzIix0aGlzLmZvY3VzSGFuZGxlciksdGhpcy5vcHRpb25zLmVkaXRvci5vZmYoImJsdXIiLHRoaXMuYmx1ckhhbmRsZXIpfX1mdW5jdGlvbiByYyh0KXtyZXR1cm4gbmV3IFhlKHtrZXk6bmV3IFFlKCJtZW51X2J1YmJsZSIpLHZpZXcoZSl7cmV0dXJuIG5ldyBuYyh7ZWRpdG9yVmlldzplLG9wdGlvbnM6dH0pfX0pfUJvb2xlYW47dmFyIG9jPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuJGNyZWF0ZUVsZW1lbnQsbj10Ll9zZWxmLl9jfHxlO3JldHVybiBuKCJkaXYiLHtzdGF0aWNDbGFzczoiaWNvbiIsY2xhc3M6WyJpY29uLS0iK3QubmFtZSwiaWNvbi0tIit0LnNpemVdfSxbbih0Lmljb24se3RhZzoiY29tcG9uZW50In0pXSwxKX0saWM9W107ZnVuY3Rpb24gc2ModCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH1yKDI1MjYpLHIoMTgxNykscigxNTM5KSxyKDIxNjUpLHIoNjk5Mikscig4NzgzKSxyKDM5NDgpO2Z1bmN0aW9uIGFjKHQsZSl7dmFyIG49bnVsbD09dD9udWxsOiJ1bmRlZmluZWQiIT09dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdfHx0WyJAQGl0ZXJhdG9yIl07aWYobnVsbCE9bil7dmFyIHIsbyxpPVtdLHM9ITAsYT0hMTt0cnl7Zm9yKG49bi5jYWxsKHQpOyEocz0ocj1uLm5leHQoKSkuZG9uZSk7cz0hMClpZihpLnB1c2goci52YWx1ZSksZSYmaS5sZW5ndGg9PT1lKWJyZWFrfWNhdGNoKGMpe2E9ITAsbz1jfWZpbmFsbHl7dHJ5e3N8fG51bGw9PW5bInJldHVybiJdfHxuWyJyZXR1cm4iXSgpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX1yZXR1cm4gaX19cig3MDQyKSxyKDgzMDkpLHIoMTAzOCk7ZnVuY3Rpb24gY2ModCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiBsYyh0LGUpe2lmKHQpe2lmKCJzdHJpbmciPT09dHlwZW9mIHQpcmV0dXJuIGNjKHQsZSk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PW58fCJTZXQiPT09bj9BcnJheS5mcm9tKHQpOiJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/Y2ModCxlKTp2b2lkIDB9fWZ1bmN0aW9uIHVjKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX1mdW5jdGlvbiBwYyh0LGUpe3JldHVybiBzYyh0KXx8YWModCxlKXx8bGModCxlKXx8dWMoKX1yKDk3MjApO2Zvcih2YXIgaGM9cigzNzI1KSxmYz1yLm4oaGMpLGRjPXIoNDgwMiksbWM9ci5uKGRjKSx2Yz1yKDkwOTQpLGdjPXIubih2YykseWM9cigzMjYxKSx3Yz1yLm4oeWMpLGJjPXIoNTk2MSkseGM9ci5uKGJjKSxrYz1yKDk0MCksU2M9ci5uKGtjKSxDYz1yKDY3ODUpLE1jPXIubihDYyksT2M9cig1OTQ4KSxBYz1yLm4oT2MpLE5jPXIoNTMxMSksRWM9ci5uKE5jKSxUYz1yKDQ1MjYpLERjPXIubihUYyksX2M9cig0NDY0KSxSYz1yLm4oX2MpLHpjPXIoNjM3OCksSWM9ci5uKHpjKSxQYz1yKDI4NjEpLCRjPXIubihQYyksQmM9cigxMDMwKSxWYz1yLm4oQmMpLGpjPXIoOTExOCksTGM9ci5uKGpjKSxGYz1yKDcwODMpLEhjPXIubihGYyksSmM9cigzMTQ0KSxXYz1yLm4oSmMpLHFjPXIoOTY2NyksS2M9ci5uKHFjKSxVYz1yKDg1MjEpLEdjPXIubihVYyksWGM9cig3OTgwKSxZYz1yLm4oWGMpLFpjPXIoODY5OSksUWM9ci5uKFpjKSx0bD1yKDM1NDYpLGVsPXIubih0bCksbmw9cigzMzE2KSxybD1yLm4obmwpLG9sPXIoOTY2NiksaWw9ci5uKG9sKSxzbD1yKDM0NjIpLGFsPXIubihzbCksY2w9cigzNzI0KSxsbD1yLm4oY2wpLHVsPXIoMTYwNykscGw9ci5uKHVsKSxobD1yKDM2NjkpLGZsPXIubihobCksZGw9e2FkZF9jb2xfYWZ0ZXI6ZmMoKSxhZGRfY29sX2JlZm9yZTptYygpLGFkZF9yb3dfYWZ0ZXI6Z2MoKSxhZGRfcm93X2JlZm9yZTp3YygpLGJvbGQ6eGMoKSxjaGVja2xpc3Q6U2MoKSxjb2RlOk1jKCksY29kZV9ibG9jazpBYygpLGNvbWJpbmVfY2VsbHM6RWMoKSxkZWxldGVfY29sOkRjKCksZGVsZXRlX3JvdzpSYygpLGRlbGV0ZV90YWJsZTpJYygpLGdpdGh1YjokYygpLGhyOlZjKCksaW1hZ2U6TGMoKSxpdGFsaWM6SGMoKSxsaW5rOldjKCksbWVudGlvbjpLYygpLG9sOkdjKCkscGFyYWdyYXBoOlljKCkscXVvdGU6UWMoKSxyZWRvOmVsKCkscmVtb3ZlOnJsKCksc3RyaWtlOmlsKCksdGFibGU6YWwoKSx1bDpsbCgpLHVuZGVybGluZTpwbCgpLHVuZG86ZmwoKX0sbWw9e30sdmw9MCxnbD1PYmplY3QuZW50cmllcyhkbCk7dmw8Z2wubGVuZ3RoO3ZsKyspe3ZhciB5bD1wYyhnbFt2bF0sMiksd2w9eWxbMF0sYmw9eWxbMV07bWxbImljb25fIit3bF09Ymx9dmFyIHhsPXtjb21wb25lbnRzOm1sLHByb3BzOntuYW1lOnt9LHNpemU6e2RlZmF1bHQ6Im5vcm1hbCJ9LG1vZGlmaWVyOntkZWZhdWx0Om51bGx9LGZpeEFsaWduOntkZWZhdWx0OiEwfX0sY29tcHV0ZWQ6e2ljb246ZnVuY3Rpb24oKXtyZXR1cm4iaWNvbl8iK3RoaXMubmFtZX19fSxrbD14bDtmdW5jdGlvbiBTbCh0LGUsbixyLG8saSxzLGEpe3ZhciBjLGw9ImZ1bmN0aW9uIj09PXR5cGVvZiB0P3Qub3B0aW9uczp0O2lmKGUmJihsLnJlbmRlcj1lLGwuc3RhdGljUmVuZGVyRm5zPW4sbC5fY29tcGlsZWQ9ITApLHImJihsLmZ1bmN0aW9uYWw9ITApLGkmJihsLl9zY29wZUlkPSJkYXRhLXYtIitpKSxzPyhjPWZ1bmN0aW9uKHQpe3Q9dHx8dGhpcy4kdm5vZGUmJnRoaXMuJHZub2RlLnNzckNvbnRleHR8fHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC4kdm5vZGUmJnRoaXMucGFyZW50LiR2bm9kZS5zc3JDb250ZXh0LHR8fCJ1bmRlZmluZWQiPT09dHlwZW9mIF9fVlVFX1NTUl9DT05URVhUX198fCh0PV9fVlVFX1NTUl9DT05URVhUX18pLG8mJm8uY2FsbCh0aGlzLHQpLHQmJnQuX3JlZ2lzdGVyZWRDb21wb25lbnRzJiZ0Ll9yZWdpc3RlcmVkQ29tcG9uZW50cy5hZGQocyl9LGwuX3NzclJlZ2lzdGVyPWMpOm8mJihjPWE/ZnVuY3Rpb24oKXtvLmNhbGwodGhpcywobC5mdW5jdGlvbmFsP3RoaXMucGFyZW50OnRoaXMpLiRyb290LiRvcHRpb25zLnNoYWRvd1Jvb3QpfTpvKSxjKWlmKGwuZnVuY3Rpb25hbCl7bC5faW5qZWN0U3R5bGVzPWM7dmFyIHU9bC5yZW5kZXI7bC5yZW5kZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYy5jYWxsKGUpLHUodCxlKX19ZWxzZXt2YXIgcD1sLmJlZm9yZUNyZWF0ZTtsLmJlZm9yZUNyZWF0ZT1wP1tdLmNvbmNhdChwLGMpOltjXX1yZXR1cm57ZXhwb3J0czp0LG9wdGlvbnM6bH19dmFyIENsLE1sLE9sPVNsKGtsLG9jLGljLCExLG51bGwsImU1OWY3ODMyIixudWxsKSxBbD1PbC5leHBvcnRzO3IoNjQ3MCk7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBXZWFrTWFwKXt2YXIgTmw9bmV3IFdlYWtNYXA7Q2w9ZnVuY3Rpb24odCl7cmV0dXJuIE5sLmdldCh0KX0sTWw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTmwuc2V0KHQsZSksZX19ZWxzZXt2YXIgRWw9W10sVGw9MTAsRGw9MDtDbD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPEVsLmxlbmd0aDtlKz0yKWlmKEVsW2VdPT10KXJldHVybiBFbFtlKzFdfSxNbD1mdW5jdGlvbih0LGUpe3JldHVybiBEbD09VGwmJihEbD0wKSxFbFtEbCsrXT10LEVsW0RsKytdPWV9fXZhciBfbD1mdW5jdGlvbih0LGUsbixyKXt0aGlzLmxlZnQ9dCx0aGlzLnRvcD1lLHRoaXMucmlnaHQ9bix0aGlzLmJvdHRvbT1yfSxSbD1mdW5jdGlvbih0LGUsbixyKXt0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLm1hcD1uLHRoaXMucHJvYmxlbXM9cn07ZnVuY3Rpb24gemwodCl7aWYoInRhYmxlIiE9dC50eXBlLnNwZWMudGFibGVSb2xlKXRocm93IG5ldyBSYW5nZUVycm9yKCJOb3QgYSB0YWJsZSBub2RlOiAiK3QudHlwZS5uYW1lKTtmb3IodmFyIGU9SWwodCksbj10LmNoaWxkQ291bnQscj1bXSxvPTAsaT1udWxsLHM9W10sYT0wLGM9ZSpuO2E8YzthKyspclthXT0wO2Zvcih2YXIgbD0wLHU9MDtsPG47bCsrKXt2YXIgcD10LmNoaWxkKGwpO3UrKztmb3IodmFyIGg9MDs7aCsrKXt3aGlsZShvPHIubGVuZ3RoJiYwIT1yW29dKW8rKztpZihoPT1wLmNoaWxkQ291bnQpYnJlYWs7Zm9yKHZhciBmPXAuY2hpbGQoaCksZD1mLmF0dHJzLG09ZC5jb2xzcGFuLHY9ZC5yb3dzcGFuLGc9ZC5jb2x3aWR0aCx5PTA7eTx2O3krKyl7aWYoeStsPj1uKXsoaXx8KGk9W10pKS5wdXNoKHt0eXBlOiJvdmVybG9uZ19yb3dzcGFuIixwb3M6dSxuOnYteX0pO2JyZWFrfWZvcih2YXIgdz1vK3kqZSxiPTA7YjxtO2IrKyl7MD09clt3K2JdP3JbdytiXT11OihpfHwoaT1bXSkpLnB1c2goe3R5cGU6ImNvbGxpc2lvbiIscm93OmwscG9zOnUsbjptLWJ9KTt2YXIgeD1nJiZnW2JdO2lmKHgpe3ZhciBrPSh3K2IpJWUqMixTPXNba107bnVsbD09U3x8UyE9eCYmMT09c1trKzFdPyhzW2tdPXgsc1trKzFdPTEpOlM9PXgmJnNbaysxXSsrfX19bys9bSx1Kz1mLm5vZGVTaXplfXZhciBDPShsKzEpKmUsTT0wO3doaWxlKG88QykwPT1yW28rK10mJk0rKztNJiYoaXx8KGk9W10pKS5wdXNoKHt0eXBlOiJtaXNzaW5nIixyb3c6bCxuOk19KSx1Kyt9Zm9yKHZhciBPPW5ldyBSbChlLG4scixpKSxBPSExLE49MDshQSYmTjxzLmxlbmd0aDtOKz0yKW51bGwhPXNbTl0mJnNbTisxXTxuJiYoQT0hMCk7cmV0dXJuIEEmJlBsKE8scyx0KSxPfWZ1bmN0aW9uIElsKHQpe2Zvcih2YXIgZT0tMSxuPSExLHI9MDtyPHQuY2hpbGRDb3VudDtyKyspe3ZhciBvPXQuY2hpbGQociksaT0wO2lmKG4pZm9yKHZhciBzPTA7czxyO3MrKylmb3IodmFyIGE9dC5jaGlsZChzKSxjPTA7YzxhLmNoaWxkQ291bnQ7YysrKXt2YXIgbD1hLmNoaWxkKGMpO3MrbC5hdHRycy5yb3dzcGFuPnImJihpKz1sLmF0dHJzLmNvbHNwYW4pfWZvcih2YXIgdT0wO3U8by5jaGlsZENvdW50O3UrKyl7dmFyIHA9by5jaGlsZCh1KTtpKz1wLmF0dHJzLmNvbHNwYW4scC5hdHRycy5yb3dzcGFuPjEmJihuPSEwKX0tMT09ZT9lPWk6ZSE9aSYmKGU9TWF0aC5tYXgoZSxpKSl9cmV0dXJuIGV9ZnVuY3Rpb24gUGwodCxlLG4pe3QucHJvYmxlbXN8fCh0LnByb2JsZW1zPVtdKTtmb3IodmFyIHI9MCxvPXt9O3I8dC5tYXAubGVuZ3RoO3IrKyl7dmFyIGk9dC5tYXBbcl07aWYoIW9baV0pe29baV09ITA7Zm9yKHZhciBzPW4ubm9kZUF0KGkpLGE9bnVsbCxjPTA7YzxzLmF0dHJzLmNvbHNwYW47YysrKXt2YXIgbD0ocitjKSV0LndpZHRoLHU9ZVsyKmxdO251bGw9PXV8fHMuYXR0cnMuY29sd2lkdGgmJnMuYXR0cnMuY29sd2lkdGhbY109PXV8fCgoYXx8KGE9JGwocy5hdHRycykpKVtjXT11KX1hJiZ0LnByb2JsZW1zLnVuc2hpZnQoe3R5cGU6ImNvbHdpZHRoIG1pc21hdGNoIixwb3M6aSxjb2x3aWR0aDphfSl9fX1mdW5jdGlvbiAkbCh0KXtpZih0LmNvbHdpZHRoKXJldHVybiB0LmNvbHdpZHRoLnNsaWNlKCk7Zm9yKHZhciBlPVtdLG49MDtuPHQuY29sc3BhbjtuKyspZS5wdXNoKDApO3JldHVybiBlfWZ1bmN0aW9uIEJsKHQsZSl7dmFyIG49dC5nZXRBdHRyaWJ1dGUoImRhdGEtY29sd2lkdGgiKSxyPW4mJi9eXGQrKCxcZCspKiQvLnRlc3Qobik/bi5zcGxpdCgiLCIpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIE51bWJlcih0KX0pKTpudWxsLG89TnVtYmVyKHQuZ2V0QXR0cmlidXRlKCJjb2xzcGFuIil8fDEpLGk9e2NvbHNwYW46byxyb3dzcGFuOk51bWJlcih0LmdldEF0dHJpYnV0ZSgicm93c3BhbiIpfHwxKSxjb2x3aWR0aDpyJiZyLmxlbmd0aD09bz9yOm51bGx9O2Zvcih2YXIgcyBpbiBlKXt2YXIgYT1lW3NdLmdldEZyb21ET00sYz1hJiZhKHQpO251bGwhPWMmJihpW3NdPWMpfXJldHVybiBpfWZ1bmN0aW9uIFZsKHQsZSl7dmFyIG49e307Zm9yKHZhciByIGluIDEhPXQuYXR0cnMuY29sc3BhbiYmKG4uY29sc3Bhbj10LmF0dHJzLmNvbHNwYW4pLDEhPXQuYXR0cnMucm93c3BhbiYmKG4ucm93c3Bhbj10LmF0dHJzLnJvd3NwYW4pLHQuYXR0cnMuY29sd2lkdGgmJihuWyJkYXRhLWNvbHdpZHRoIl09dC5hdHRycy5jb2x3aWR0aC5qb2luKCIsIikpLGUpe3ZhciBvPWVbcl0uc2V0RE9NQXR0cjtvJiZvKHQuYXR0cnNbcl0sbil9cmV0dXJuIG59ZnVuY3Rpb24gamwodCl7dmFyIGU9dC5jZWxsQXR0cmlidXRlc3x8e30sbj17Y29sc3Bhbjp7ZGVmYXVsdDoxfSxyb3dzcGFuOntkZWZhdWx0OjF9LGNvbHdpZHRoOntkZWZhdWx0Om51bGx9fTtmb3IodmFyIHIgaW4gZSluW3JdPXtkZWZhdWx0OmVbcl0uZGVmYXVsdH07cmV0dXJue3RhYmxlOntjb250ZW50OiJ0YWJsZV9yb3crIix0YWJsZVJvbGU6InRhYmxlIixpc29sYXRpbmc6ITAsZ3JvdXA6dC50YWJsZUdyb3VwLHBhcnNlRE9NOlt7dGFnOiJ0YWJsZSJ9XSx0b0RPTTpmdW5jdGlvbigpe3JldHVyblsidGFibGUiLFsidGJvZHkiLDBdXX19LHRhYmxlX3Jvdzp7Y29udGVudDoiKHRhYmxlX2NlbGwgfCB0YWJsZV9oZWFkZXIpKiIsdGFibGVSb2xlOiJyb3ciLHBhcnNlRE9NOlt7dGFnOiJ0ciJ9XSx0b0RPTTpmdW5jdGlvbigpe3JldHVyblsidHIiLDBdfX0sdGFibGVfY2VsbDp7Y29udGVudDp0LmNlbGxDb250ZW50LGF0dHJzOm4sdGFibGVSb2xlOiJjZWxsIixpc29sYXRpbmc6ITAscGFyc2VET006W3t0YWc6InRkIixnZXRBdHRyczpmdW5jdGlvbih0KXtyZXR1cm4gQmwodCxlKX19XSx0b0RPTTpmdW5jdGlvbih0KXtyZXR1cm5bInRkIixWbCh0LGUpLDBdfX0sdGFibGVfaGVhZGVyOntjb250ZW50OnQuY2VsbENvbnRlbnQsYXR0cnM6bix0YWJsZVJvbGU6ImhlYWRlcl9jZWxsIixpc29sYXRpbmc6ITAscGFyc2VET006W3t0YWc6InRoIixnZXRBdHRyczpmdW5jdGlvbih0KXtyZXR1cm4gQmwodCxlKX19XSx0b0RPTTpmdW5jdGlvbih0KXtyZXR1cm5bInRoIixWbCh0LGUpLDBdfX19fWZ1bmN0aW9uIExsKHQpe3ZhciBlPXQuY2FjaGVkLnRhYmxlTm9kZVR5cGVzO2lmKCFlKWZvcih2YXIgbiBpbiBlPXQuY2FjaGVkLnRhYmxlTm9kZVR5cGVzPXt9LHQubm9kZXMpe3ZhciByPXQubm9kZXNbbl0sbz1yLnNwZWMudGFibGVSb2xlO28mJihlW29dPXIpfXJldHVybiBlfVJsLnByb3RvdHlwZS5maW5kQ2VsbD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMubWFwLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMubWFwW2VdO2lmKG49PXQpe2Zvcih2YXIgcj1lJXRoaXMud2lkdGgsbz1lL3RoaXMud2lkdGh8MCxpPXIrMSxzPW8rMSxhPTE7aTx0aGlzLndpZHRoJiZ0aGlzLm1hcFtlK2FdPT1uO2ErKylpKys7Zm9yKHZhciBjPTE7czx0aGlzLmhlaWdodCYmdGhpcy5tYXBbZSt0aGlzLndpZHRoKmNdPT1uO2MrKylzKys7cmV0dXJuIG5ldyBfbChyLG8saSxzKX19dGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vIGNlbGwgd2l0aCBvZmZzZXQgIit0KyIgZm91bmQiKX0sUmwucHJvdG90eXBlLmNvbENvdW50PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5tYXAubGVuZ3RoO2UrKylpZih0aGlzLm1hcFtlXT09dClyZXR1cm4gZSV0aGlzLndpZHRoO3Rocm93IG5ldyBSYW5nZUVycm9yKCJObyBjZWxsIHdpdGggb2Zmc2V0ICIrdCsiIGZvdW5kIil9LFJsLnByb3RvdHlwZS5uZXh0Q2VsbD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5maW5kQ2VsbCh0KSxvPXIubGVmdCxpPXIucmlnaHQscz1yLnRvcCxhPXIuYm90dG9tO3JldHVybiJob3JpeiI9PWU/KG48MD8wPT1vOmk9PXRoaXMud2lkdGgpP251bGw6dGhpcy5tYXBbcyp0aGlzLndpZHRoKyhuPDA/by0xOmkpXToobjwwPzA9PXM6YT09dGhpcy5oZWlnaHQpP251bGw6dGhpcy5tYXBbbyt0aGlzLndpZHRoKihuPDA/cy0xOmEpXX0sUmwucHJvdG90eXBlLnJlY3RCZXR3ZWVuPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5maW5kQ2VsbCh0KSxyPW4ubGVmdCxvPW4ucmlnaHQsaT1uLnRvcCxzPW4uYm90dG9tLGE9dGhpcy5maW5kQ2VsbChlKSxjPWEubGVmdCxsPWEucmlnaHQsdT1hLnRvcCxwPWEuYm90dG9tO3JldHVybiBuZXcgX2woTWF0aC5taW4ocixjKSxNYXRoLm1pbihpLHUpLE1hdGgubWF4KG8sbCksTWF0aC5tYXgocyxwKSl9LFJsLnByb3RvdHlwZS5jZWxsc0luUmVjdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj17fSxyPXQudG9wO3I8dC5ib3R0b207cisrKWZvcih2YXIgbz10LmxlZnQ7bzx0LnJpZ2h0O28rKyl7dmFyIGk9cip0aGlzLndpZHRoK28scz10aGlzLm1hcFtpXTtuW3NdfHwobltzXT0hMCxvPT10LmxlZnQmJm8mJnRoaXMubWFwW2ktMV09PXN8fHI9PXQudG9wJiZyJiZ0aGlzLm1hcFtpLXRoaXMud2lkdGhdPT1zfHxlLnB1c2gocykpfXJldHVybiBlfSxSbC5wcm90b3R5cGUucG9zaXRpb25BdD1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPTAsbz0wOztyKyspe3ZhciBpPW8rbi5jaGlsZChyKS5ub2RlU2l6ZTtpZihyPT10KXt2YXIgcz1lK3QqdGhpcy53aWR0aCxhPSh0KzEpKnRoaXMud2lkdGg7d2hpbGUoczxhJiZ0aGlzLm1hcFtzXTxvKXMrKztyZXR1cm4gcz09YT9pLTE6dGhpcy5tYXBbc119bz1pfX0sUmwuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBDbCh0KXx8TWwodCx6bCh0KSl9O3ZhciBGbD1uZXcgUWUoInNlbGVjdGluZ0NlbGxzIik7ZnVuY3Rpb24gSGwodCl7Zm9yKHZhciBlPXQuZGVwdGgtMTtlPjA7ZS0tKWlmKCJyb3ciPT10Lm5vZGUoZSkudHlwZS5zcGVjLnRhYmxlUm9sZSlyZXR1cm4gdC5ub2RlKDApLnJlc29sdmUodC5iZWZvcmUoZSsxKSk7cmV0dXJuIG51bGx9ZnVuY3Rpb24gSmwodCl7Zm9yKHZhciBlPXQuZGVwdGg7ZT4wO2UtLSl7dmFyIG49dC5ub2RlKGUpLnR5cGUuc3BlYy50YWJsZVJvbGU7aWYoImNlbGwiPT09bnx8ImhlYWRlcl9jZWxsIj09PW4pcmV0dXJuIHQubm9kZShlKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBXbCh0KXtmb3IodmFyIGU9dC5zZWxlY3Rpb24uJGhlYWQsbj1lLmRlcHRoO24+MDtuLS0paWYoInJvdyI9PWUubm9kZShuKS50eXBlLnNwZWMudGFibGVSb2xlKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHFsKHQpe3ZhciBlPXQuc2VsZWN0aW9uO3JldHVybiBlLiRhbmNob3JDZWxsP2UuJGFuY2hvckNlbGwucG9zPmUuJGhlYWRDZWxsLnBvcz9lLiRhbmNob3JDZWxsOmUuJGhlYWRDZWxsOmUubm9kZSYmImNlbGwiPT1lLm5vZGUudHlwZS5zcGVjLnRhYmxlUm9sZT9lLiRhbmNob3I6SGwoZS4kaGVhZCl8fEtsKGUuJGhlYWQpfWZ1bmN0aW9uIEtsKHQpe2Zvcih2YXIgZT10Lm5vZGVBZnRlcixuPXQucG9zO2U7ZT1lLmZpcnN0Q2hpbGQsbisrKXt2YXIgcj1lLnR5cGUuc3BlYy50YWJsZVJvbGU7aWYoImNlbGwiPT1yfHwiaGVhZGVyX2NlbGwiPT1yKXJldHVybiB0LmRvYy5yZXNvbHZlKG4pfWZvcih2YXIgbz10Lm5vZGVCZWZvcmUsaT10LnBvcztvO289by5sYXN0Q2hpbGQsaS0tKXt2YXIgcz1vLnR5cGUuc3BlYy50YWJsZVJvbGU7aWYoImNlbGwiPT1zfHwiaGVhZGVyX2NlbGwiPT1zKXJldHVybiB0LmRvYy5yZXNvbHZlKGktby5ub2RlU2l6ZSl9fWZ1bmN0aW9uIFVsKHQpe3JldHVybiJyb3ciPT10LnBhcmVudC50eXBlLnNwZWMudGFibGVSb2xlJiZ0Lm5vZGVBZnRlcn1mdW5jdGlvbiBHbCh0KXtyZXR1cm4gdC5ub2RlKDApLnJlc29sdmUodC5wb3MrdC5ub2RlQWZ0ZXIubm9kZVNpemUpfWZ1bmN0aW9uIFhsKHQsZSl7cmV0dXJuIHQuZGVwdGg9PWUuZGVwdGgmJnQucG9zPj1lLnN0YXJ0KC0xKSYmdC5wb3M8PWUuZW5kKC0xKX1mdW5jdGlvbiBZbCh0LGUsbil7dmFyIHI9dC5zdGFydCgtMSksbz1SbC5nZXQodC5ub2RlKC0xKSksaT1vLm5leHRDZWxsKHQucG9zLXIsZSxuKTtyZXR1cm4gbnVsbD09aT9udWxsOnQubm9kZSgwKS5yZXNvbHZlKHIraSl9ZnVuY3Rpb24gWmwodCxlLG4pe3ZhciByPXt9O2Zvcih2YXIgbyBpbiB0KXJbb109dFtvXTtyZXR1cm4gcltlXT1uLHJ9ZnVuY3Rpb24gUWwodCxlLG4pe3ZvaWQgMD09PW4mJihuPTEpO3ZhciByPVpsKHQsImNvbHNwYW4iLHQuY29sc3Bhbi1uKTtyZXR1cm4gci5jb2x3aWR0aCYmKHIuY29sd2lkdGg9ci5jb2x3aWR0aC5zbGljZSgpLHIuY29sd2lkdGguc3BsaWNlKGUsbiksci5jb2x3aWR0aC5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gdD4wfSkpfHwoci5jb2x3aWR0aD1udWxsKSkscn1mdW5jdGlvbiB0dSh0LGUsbil7dm9pZCAwPT09biYmKG49MSk7dmFyIHI9WmwodCwiY29sc3BhbiIsdC5jb2xzcGFuK24pO2lmKHIuY29sd2lkdGgpe3IuY29sd2lkdGg9ci5jb2x3aWR0aC5zbGljZSgpO2Zvcih2YXIgbz0wO288bjtvKyspci5jb2x3aWR0aC5zcGxpY2UoZSwwLDApfXJldHVybiByfWZ1bmN0aW9uIGV1KHQsZSxuKXtmb3IodmFyIHI9TGwoZS50eXBlLnNjaGVtYSkuaGVhZGVyX2NlbGwsbz0wO288dC5oZWlnaHQ7bysrKWlmKGUubm9kZUF0KHQubWFwW24rbyp0LndpZHRoXSkudHlwZSE9cilyZXR1cm4hMTtyZXR1cm4hMH12YXIgbnU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZvaWQgMD09PW4mJihuPWUpO3ZhciByPWUubm9kZSgtMSksbz1SbC5nZXQociksaT1lLnN0YXJ0KC0xKSxzPW8ucmVjdEJldHdlZW4oZS5wb3MtaSxuLnBvcy1pKSxhPWUubm9kZSgwKSxjPW8uY2VsbHNJblJlY3QocykuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdCE9bi5wb3MtaX0pKTtjLnVuc2hpZnQobi5wb3MtaSk7dmFyIGw9Yy5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBlPXIubm9kZUF0KHQpLG49dCtpKzE7cmV0dXJuIG5ldyBFZShhLnJlc29sdmUobiksYS5yZXNvbHZlKG4rZS5jb250ZW50LnNpemUpKX0pKTt0LmNhbGwodGhpcyxsWzBdLiRmcm9tLGxbMF0uJHRvLGwpLHRoaXMuJGFuY2hvckNlbGw9ZSx0aGlzLiRoZWFkQ2VsbD1ufXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxuKXt2YXIgcj10LnJlc29sdmUobi5tYXAodGhpcy4kYW5jaG9yQ2VsbC5wb3MpKSxvPXQucmVzb2x2ZShuLm1hcCh0aGlzLiRoZWFkQ2VsbC5wb3MpKTtpZihVbChyKSYmVWwobykmJlhsKHIsbykpe3ZhciBpPXRoaXMuJGFuY2hvckNlbGwubm9kZSgtMSkhPXIubm9kZSgtMSk7cmV0dXJuIGkmJnRoaXMuaXNSb3dTZWxlY3Rpb24oKT9lLnJvd1NlbGVjdGlvbihyLG8pOmkmJnRoaXMuaXNDb2xTZWxlY3Rpb24oKT9lLmNvbFNlbGVjdGlvbihyLG8pOm5ldyBlKHIsbyl9cmV0dXJuIFRlLmJldHdlZW4ocixvKX0sZS5wcm90b3R5cGUuY29udGVudD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLiRhbmNob3JDZWxsLm5vZGUoLTEpLGU9UmwuZ2V0KHQpLG49dGhpcy4kYW5jaG9yQ2VsbC5zdGFydCgtMSkscj1lLnJlY3RCZXR3ZWVuKHRoaXMuJGFuY2hvckNlbGwucG9zLW4sdGhpcy4kaGVhZENlbGwucG9zLW4pLG89e30saT1bXSxzPXIudG9wO3M8ci5ib3R0b207cysrKXtmb3IodmFyIGE9W10sYz1zKmUud2lkdGgrci5sZWZ0LGw9ci5sZWZ0O2w8ci5yaWdodDtsKyssYysrKXt2YXIgdT1lLm1hcFtjXTtpZighb1t1XSl7b1t1XT0hMDt2YXIgaD1lLmZpbmRDZWxsKHUpLGY9dC5ub2RlQXQodSksZD1yLmxlZnQtaC5sZWZ0LG09aC5yaWdodC1yLnJpZ2h0O2lmKGQ+MHx8bT4wKXt2YXIgdj1mLmF0dHJzO2Q+MCYmKHY9UWwodiwwLGQpKSxtPjAmJih2PVFsKHYsdi5jb2xzcGFuLW0sbSkpLGY9aC5sZWZ0PHIubGVmdD9mLnR5cGUuY3JlYXRlQW5kRmlsbCh2KTpmLnR5cGUuY3JlYXRlKHYsZi5jb250ZW50KX1pZihoLnRvcDxyLnRvcHx8aC5ib3R0b20+ci5ib3R0b20pe3ZhciBnPVpsKGYuYXR0cnMsInJvd3NwYW4iLE1hdGgubWluKGguYm90dG9tLHIuYm90dG9tKS1NYXRoLm1heChoLnRvcCxyLnRvcCkpO2Y9aC50b3A8ci50b3A/Zi50eXBlLmNyZWF0ZUFuZEZpbGwoZyk6Zi50eXBlLmNyZWF0ZShnLGYuY29udGVudCl9YS5wdXNoKGYpfX1pLnB1c2godC5jaGlsZChzKS5jb3B5KHAuZnJvbShhKSkpfXZhciB3PXRoaXMuaXNDb2xTZWxlY3Rpb24oKSYmdGhpcy5pc1Jvd1NlbGVjdGlvbigpP3Q6aTtyZXR1cm4gbmV3IHkocC5mcm9tKHcpLDEsMSl9LGUucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24oZSxuKXt2b2lkIDA9PT1uJiYobj15LmVtcHR5KTtmb3IodmFyIHI9ZS5zdGVwcy5sZW5ndGgsbz10aGlzLnJhbmdlcyxpPTA7aTxvLmxlbmd0aDtpKyspe3ZhciBzPW9baV0sYT1zLiRmcm9tLGM9cy4kdG8sbD1lLm1hcHBpbmcuc2xpY2Uocik7ZS5yZXBsYWNlKGwubWFwKGEucG9zKSxsLm1hcChjLnBvcyksaT95LmVtcHR5Om4pfXZhciB1PXQuZmluZEZyb20oZS5kb2MucmVzb2x2ZShlLm1hcHBpbmcuc2xpY2UocikubWFwKHRoaXMudG8pKSwtMSk7dSYmZS5zZXRTZWxlY3Rpb24odSl9LGUucHJvdG90eXBlLnJlcGxhY2VXaXRoPWZ1bmN0aW9uKHQsZSl7dGhpcy5yZXBsYWNlKHQsbmV3IHkocC5mcm9tKGUpLDAsMCkpfSxlLnByb3RvdHlwZS5mb3JFYWNoQ2VsbD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy4kYW5jaG9yQ2VsbC5ub2RlKC0xKSxuPVJsLmdldChlKSxyPXRoaXMuJGFuY2hvckNlbGwuc3RhcnQoLTEpLG89bi5jZWxsc0luUmVjdChuLnJlY3RCZXR3ZWVuKHRoaXMuJGFuY2hvckNlbGwucG9zLXIsdGhpcy4kaGVhZENlbGwucG9zLXIpKSxpPTA7aTxvLmxlbmd0aDtpKyspdChlLm5vZGVBdChvW2ldKSxyK29baV0pfSxlLnByb3RvdHlwZS5pc0NvbFNlbGVjdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuJGFuY2hvckNlbGwuaW5kZXgoLTEpLGU9dGhpcy4kaGVhZENlbGwuaW5kZXgoLTEpO2lmKE1hdGgubWluKHQsZSk+MClyZXR1cm4hMTt2YXIgbj10K3RoaXMuJGFuY2hvckNlbGwubm9kZUFmdGVyLmF0dHJzLnJvd3NwYW4scj1lK3RoaXMuJGhlYWRDZWxsLm5vZGVBZnRlci5hdHRycy5yb3dzcGFuO3JldHVybiBNYXRoLm1heChuLHIpPT10aGlzLiRoZWFkQ2VsbC5ub2RlKC0xKS5jaGlsZENvdW50fSxlLmNvbFNlbGVjdGlvbj1mdW5jdGlvbih0LG4pe3ZvaWQgMD09PW4mJihuPXQpO3ZhciByPVJsLmdldCh0Lm5vZGUoLTEpKSxvPXQuc3RhcnQoLTEpLGk9ci5maW5kQ2VsbCh0LnBvcy1vKSxzPXIuZmluZENlbGwobi5wb3MtbyksYT10Lm5vZGUoMCk7cmV0dXJuIGkudG9wPD1zLnRvcD8oaS50b3A+MCYmKHQ9YS5yZXNvbHZlKG8rci5tYXBbaS5sZWZ0XSkpLHMuYm90dG9tPHIuaGVpZ2h0JiYobj1hLnJlc29sdmUobytyLm1hcFtyLndpZHRoKihyLmhlaWdodC0xKStzLnJpZ2h0LTFdKSkpOihzLnRvcD4wJiYobj1hLnJlc29sdmUobytyLm1hcFtzLmxlZnRdKSksaS5ib3R0b208ci5oZWlnaHQmJih0PWEucmVzb2x2ZShvK3IubWFwW3Iud2lkdGgqKHIuaGVpZ2h0LTEpK2kucmlnaHQtMV0pKSksbmV3IGUodCxuKX0sZS5wcm90b3R5cGUuaXNSb3dTZWxlY3Rpb249ZnVuY3Rpb24oKXt2YXIgdD1SbC5nZXQodGhpcy4kYW5jaG9yQ2VsbC5ub2RlKC0xKSksZT10aGlzLiRhbmNob3JDZWxsLnN0YXJ0KC0xKSxuPXQuY29sQ291bnQodGhpcy4kYW5jaG9yQ2VsbC5wb3MtZSkscj10LmNvbENvdW50KHRoaXMuJGhlYWRDZWxsLnBvcy1lKTtpZihNYXRoLm1pbihuLHIpPjApcmV0dXJuITE7dmFyIG89bit0aGlzLiRhbmNob3JDZWxsLm5vZGVBZnRlci5hdHRycy5jb2xzcGFuLGk9cit0aGlzLiRoZWFkQ2VsbC5ub2RlQWZ0ZXIuYXR0cnMuY29sc3BhbjtyZXR1cm4gTWF0aC5tYXgobyxpKT09dC53aWR0aH0sZS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlJiZ0LiRhbmNob3JDZWxsLnBvcz09dGhpcy4kYW5jaG9yQ2VsbC5wb3MmJnQuJGhlYWRDZWxsLnBvcz09dGhpcy4kaGVhZENlbGwucG9zfSxlLnJvd1NlbGVjdGlvbj1mdW5jdGlvbih0LG4pe3ZvaWQgMD09PW4mJihuPXQpO3ZhciByPVJsLmdldCh0Lm5vZGUoLTEpKSxvPXQuc3RhcnQoLTEpLGk9ci5maW5kQ2VsbCh0LnBvcy1vKSxzPXIuZmluZENlbGwobi5wb3MtbyksYT10Lm5vZGUoMCk7cmV0dXJuIGkubGVmdDw9cy5sZWZ0PyhpLmxlZnQ+MCYmKHQ9YS5yZXNvbHZlKG8rci5tYXBbaS50b3Aqci53aWR0aF0pKSxzLnJpZ2h0PHIud2lkdGgmJihuPWEucmVzb2x2ZShvK3IubWFwW3Iud2lkdGgqKHMudG9wKzEpLTFdKSkpOihzLmxlZnQ+MCYmKG49YS5yZXNvbHZlKG8rci5tYXBbcy50b3Aqci53aWR0aF0pKSxpLnJpZ2h0PHIud2lkdGgmJih0PWEucmVzb2x2ZShvK3IubWFwW3Iud2lkdGgqKGkudG9wKzEpLTFdKSkpLG5ldyBlKHQsbil9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJjZWxsIixhbmNob3I6dGhpcy4kYW5jaG9yQ2VsbC5wb3MsaGVhZDp0aGlzLiRoZWFkQ2VsbC5wb3N9fSxlLmZyb21KU09OPWZ1bmN0aW9uKHQsbil7cmV0dXJuIG5ldyBlKHQucmVzb2x2ZShuLmFuY2hvciksdC5yZXNvbHZlKG4uaGVhZCkpfSxlLmNyZWF0ZT1mdW5jdGlvbih0LG4scil7cmV0dXJuIHZvaWQgMD09PXImJihyPW4pLG5ldyBlKHQucmVzb2x2ZShuKSx0LnJlc29sdmUocikpfSxlLnByb3RvdHlwZS5nZXRCb29rbWFyaz1mdW5jdGlvbigpe3JldHVybiBuZXcgcnUodGhpcy4kYW5jaG9yQ2VsbC5wb3MsdGhpcy4kaGVhZENlbGwucG9zKX0sZX0oQWUpO251LnByb3RvdHlwZS52aXNpYmxlPSExLEFlLmpzb25JRCgiY2VsbCIsbnUpO3ZhciBydT1mdW5jdGlvbih0LGUpe3RoaXMuYW5jaG9yPXQsdGhpcy5oZWFkPWV9O2Z1bmN0aW9uIG91KHQpe2lmKCEodC5zZWxlY3Rpb24gaW5zdGFuY2VvZiBudSkpcmV0dXJuIG51bGw7dmFyIGU9W107cmV0dXJuIHQuc2VsZWN0aW9uLmZvckVhY2hDZWxsKChmdW5jdGlvbih0LG4pe2UucHVzaChnaS5ub2RlKG4sbit0Lm5vZGVTaXplLHtjbGFzczoic2VsZWN0ZWRDZWxsIn0pKX0pKSx4aS5jcmVhdGUodC5kb2MsZSl9ZnVuY3Rpb24gaXUodCl7dmFyIGU9dC4kZnJvbSxuPXQuJHRvO2lmKGUucG9zPT1uLnBvc3x8ZS5wb3M8ZS5wb3MtNilyZXR1cm4hMTtmb3IodmFyIHI9ZS5wb3Msbz1uLnBvcyxpPWUuZGVwdGg7aT49MDtpLS0scisrKWlmKGUuYWZ0ZXIoaSsxKTxlLmVuZChpKSlicmVhaztmb3IodmFyIHM9bi5kZXB0aDtzPj0wO3MtLSxvLS0paWYobi5iZWZvcmUocysxKT5uLnN0YXJ0KHMpKWJyZWFrO3JldHVybiByPT1vJiYvcm93fHRhYmxlLy50ZXN0KGUubm9kZShpKS50eXBlLnNwZWMudGFibGVSb2xlKX1mdW5jdGlvbiBzdSh0KXtmb3IodmFyIGUsbixyPXQuJGZyb20sbz10LiR0byxpPXIuZGVwdGg7aT4wO2ktLSl7dmFyIHM9ci5ub2RlKGkpO2lmKCJjZWxsIj09PXMudHlwZS5zcGVjLnRhYmxlUm9sZXx8ImhlYWRlcl9jZWxsIj09PXMudHlwZS5zcGVjLnRhYmxlUm9sZSl7ZT1zO2JyZWFrfX1mb3IodmFyIGE9by5kZXB0aDthPjA7YS0tKXt2YXIgYz1vLm5vZGUoYSk7aWYoImNlbGwiPT09Yy50eXBlLnNwZWMudGFibGVSb2xlfHwiaGVhZGVyX2NlbGwiPT09Yy50eXBlLnNwZWMudGFibGVSb2xlKXtuPWM7YnJlYWt9fXJldHVybiBlIT09biYmMD09PW8ucGFyZW50T2Zmc2V0fWZ1bmN0aW9uIGF1KHQsZSxuKXt2YXIgcixvLGk9KGV8fHQpLnNlbGVjdGlvbixzPShlfHx0KS5kb2M7aWYoaSBpbnN0YW5jZW9mIF9lJiYobz1pLm5vZGUudHlwZS5zcGVjLnRhYmxlUm9sZSkpe2lmKCJjZWxsIj09b3x8ImhlYWRlcl9jZWxsIj09bylyPW51LmNyZWF0ZShzLGkuZnJvbSk7ZWxzZSBpZigicm93Ij09byl7dmFyIGE9cy5yZXNvbHZlKGkuZnJvbSsxKTtyPW51LnJvd1NlbGVjdGlvbihhLGEpfWVsc2UgaWYoIW4pe3ZhciBjPVJsLmdldChpLm5vZGUpLGw9aS5mcm9tKzEsdT1sK2MubWFwW2Mud2lkdGgqYy5oZWlnaHQtMV07cj1udS5jcmVhdGUocyxsKzEsdSl9fWVsc2UgaSBpbnN0YW5jZW9mIFRlJiZpdShpKT9yPVRlLmNyZWF0ZShzLGkuZnJvbSk6aSBpbnN0YW5jZW9mIFRlJiZzdShpKSYmKHI9VGUuY3JlYXRlKHMsaS4kZnJvbS5zdGFydCgpLGkuJGZyb20uZW5kKCkpKTtyZXR1cm4gciYmKGV8fChlPXQudHIpKS5zZXRTZWxlY3Rpb24ociksZX1mdW5jdGlvbiBjdSh0KXtpZighdC5zaXplKXJldHVybiBudWxsO3ZhciBlPXQuY29udGVudCxuPXQub3BlblN0YXJ0LHI9dC5vcGVuRW5kO3doaWxlKDE9PWUuY2hpbGRDb3VudCYmKG4+MCYmcj4wfHwidGFibGUiPT1lLmZpcnN0Q2hpbGQudHlwZS5zcGVjLnRhYmxlUm9sZSkpbi0tLHItLSxlPWUuZmlyc3RDaGlsZC5jb250ZW50O3ZhciBvPWUuZmlyc3RDaGlsZCxpPW8udHlwZS5zcGVjLnRhYmxlUm9sZSxzPW8udHlwZS5zY2hlbWEsYT1bXTtpZigicm93Ij09aSlmb3IodmFyIGM9MDtjPGUuY2hpbGRDb3VudDtjKyspe3ZhciBsPWUuY2hpbGQoYykuY29udGVudCx1PWM/MDpNYXRoLm1heCgwLG4tMSkscD1jPGUuY2hpbGRDb3VudC0xPzA6TWF0aC5tYXgoMCxyLTEpOyh1fHxwKSYmKGw9dXUoTGwocykucm93LG5ldyB5KGwsdSxwKSkuY29udGVudCksYS5wdXNoKGwpfWVsc2V7aWYoImNlbGwiIT1pJiYiaGVhZGVyX2NlbGwiIT1pKXJldHVybiBudWxsO2EucHVzaChufHxyP3V1KExsKHMpLnJvdyxuZXcgeShlLG4scikpLmNvbnRlbnQ6ZSl9cmV0dXJuIGx1KHMsYSl9ZnVuY3Rpb24gbHUodCxlKXtmb3IodmFyIG49W10scj0wO3I8ZS5sZW5ndGg7cisrKWZvcih2YXIgbz1lW3JdLGk9by5jaGlsZENvdW50LTE7aT49MDtpLS0pZm9yKHZhciBzPW8uY2hpbGQoaSkuYXR0cnMsYT1zLnJvd3NwYW4sYz1zLmNvbHNwYW4sbD1yO2w8cithO2wrKyluW2xdPShuW2xdfHwwKStjO2Zvcih2YXIgdT0wLGg9MDtoPG4ubGVuZ3RoO2grKyl1PU1hdGgubWF4KHUsbltoXSk7Zm9yKHZhciBmPTA7ZjxuLmxlbmd0aDtmKyspaWYoZj49ZS5sZW5ndGgmJmUucHVzaChwLmVtcHR5KSxuW2ZdPHUpe2Zvcih2YXIgZD1MbCh0KS5jZWxsLmNyZWF0ZUFuZEZpbGwoKSxtPVtdLHY9bltmXTt2PHU7disrKW0ucHVzaChkKTtlW2ZdPWVbZl0uYXBwZW5kKHAuZnJvbShtKSl9cmV0dXJue2hlaWdodDplLmxlbmd0aCx3aWR0aDp1LHJvd3M6ZX19ZnVuY3Rpb24gdXUodCxlKXt2YXIgbj10LmNyZWF0ZUFuZEZpbGwoKSxyPW5ldyBKdChuKS5yZXBsYWNlKDAsbi5jb250ZW50LnNpemUsZSk7cmV0dXJuIHIuZG9jfWZ1bmN0aW9uIHB1KHQsZSxuKXt2YXIgcj10LndpZHRoLG89dC5oZWlnaHQsaT10LnJvd3M7aWYociE9ZSl7Zm9yKHZhciBzPVtdLGE9W10sYz0wO2M8aS5sZW5ndGg7YysrKXtmb3IodmFyIGw9aVtjXSx1PVtdLGg9c1tjXXx8MCxmPTA7aDxlO2YrKyl7dmFyIGQ9bC5jaGlsZChmJWwuY2hpbGRDb3VudCk7aCtkLmF0dHJzLmNvbHNwYW4+ZSYmKGQ9ZC50eXBlLmNyZWF0ZShRbChkLmF0dHJzLGQuYXR0cnMuY29sc3BhbixoK2QuYXR0cnMuY29sc3Bhbi1lKSxkLmNvbnRlbnQpKSx1LnB1c2goZCksaCs9ZC5hdHRycy5jb2xzcGFuO2Zvcih2YXIgbT0xO208ZC5hdHRycy5yb3dzcGFuO20rKylzW2MrbV09KHNbYyttXXx8MCkrZC5hdHRycy5jb2xzcGFufWEucHVzaChwLmZyb20odSkpfWk9YSxyPWV9aWYobyE9bil7Zm9yKHZhciB2PVtdLGc9MCx5PTA7ZzxuO2crKyx5Kyspe2Zvcih2YXIgdz1bXSxiPWlbeSVvXSx4PTA7eDxiLmNoaWxkQ291bnQ7eCsrKXt2YXIgaz1iLmNoaWxkKHgpO2cray5hdHRycy5yb3dzcGFuPm4mJihrPWsudHlwZS5jcmVhdGUoWmwoay5hdHRycywicm93c3BhbiIsTWF0aC5tYXgoMSxuLWsuYXR0cnMucm93c3BhbikpLGsuY29udGVudCkpLHcucHVzaChrKX12LnB1c2gocC5mcm9tKHcpKX1pPXYsbz1ufXJldHVybnt3aWR0aDpyLGhlaWdodDpvLHJvd3M6aX19ZnVuY3Rpb24gaHUodCxlLG4scixvLGkscyl7dmFyIGEsYyxsPXQuZG9jLnR5cGUuc2NoZW1hLHU9TGwobCk7aWYobz5lLndpZHRoKWZvcih2YXIgaD0wLGY9MDtoPGUuaGVpZ2h0O2grKyl7dmFyIGQ9bi5jaGlsZChoKTtmKz1kLm5vZGVTaXplO3ZhciBtPVtdLHY9dm9pZCAwO3Y9bnVsbD09ZC5sYXN0Q2hpbGR8fGQubGFzdENoaWxkLnR5cGU9PXUuY2VsbD9hfHwoYT11LmNlbGwuY3JlYXRlQW5kRmlsbCgpKTpjfHwoYz11LmhlYWRlcl9jZWxsLmNyZWF0ZUFuZEZpbGwoKSk7Zm9yKHZhciBnPWUud2lkdGg7ZzxvO2crKyltLnB1c2godik7dC5pbnNlcnQodC5tYXBwaW5nLnNsaWNlKHMpLm1hcChmLTErciksbSl9aWYoaT5lLmhlaWdodCl7Zm9yKHZhciB5PVtdLHc9MCxiPShlLmhlaWdodC0xKSplLndpZHRoO3c8TWF0aC5tYXgoZS53aWR0aCxvKTt3Kyspe3ZhciB4PSEodz49ZS53aWR0aCkmJm4ubm9kZUF0KGUubWFwW2Ird10pLnR5cGU9PXUuaGVhZGVyX2NlbGw7eS5wdXNoKHg/Y3x8KGM9dS5oZWFkZXJfY2VsbC5jcmVhdGVBbmRGaWxsKCkpOmF8fChhPXUuY2VsbC5jcmVhdGVBbmRGaWxsKCkpKX1mb3IodmFyIGs9dS5yb3cuY3JlYXRlKG51bGwscC5mcm9tKHkpKSxTPVtdLEM9ZS5oZWlnaHQ7QzxpO0MrKylTLnB1c2goayk7dC5pbnNlcnQodC5tYXBwaW5nLnNsaWNlKHMpLm1hcChyK24ubm9kZVNpemUtMiksUyl9cmV0dXJuISghYSYmIWMpfWZ1bmN0aW9uIGZ1KHQsZSxuLHIsbyxpLHMsYSl7aWYoMD09c3x8cz09ZS5oZWlnaHQpcmV0dXJuITE7Zm9yKHZhciBjPSExLGw9bztsPGk7bCsrKXt2YXIgdT1zKmUud2lkdGgrbCxwPWUubWFwW3VdO2lmKGUubWFwW3UtZS53aWR0aF09PXApe2M9ITA7dmFyIGg9bi5ub2RlQXQocCksZj1lLmZpbmRDZWxsKHApLGQ9Zi50b3AsbT1mLmxlZnQ7dC5zZXROb2RlTWFya3VwKHQubWFwcGluZy5zbGljZShhKS5tYXAocCtyKSxudWxsLFpsKGguYXR0cnMsInJvd3NwYW4iLHMtZCkpLHQuaW5zZXJ0KHQubWFwcGluZy5zbGljZShhKS5tYXAoZS5wb3NpdGlvbkF0KHMsbSxuKSksaC50eXBlLmNyZWF0ZUFuZEZpbGwoWmwoaC5hdHRycywicm93c3BhbiIsZCtoLmF0dHJzLnJvd3NwYW4tcykpKSxsKz1oLmF0dHJzLmNvbHNwYW4tMX19cmV0dXJuIGN9ZnVuY3Rpb24gZHUodCxlLG4scixvLGkscyxhKXtpZigwPT1zfHxzPT1lLndpZHRoKXJldHVybiExO2Zvcih2YXIgYz0hMSxsPW87bDxpO2wrKyl7dmFyIHU9bCplLndpZHRoK3MscD1lLm1hcFt1XTtpZihlLm1hcFt1LTFdPT1wKXtjPSEwO3ZhciBoPW4ubm9kZUF0KHApLGY9ZS5jb2xDb3VudChwKSxkPXQubWFwcGluZy5zbGljZShhKS5tYXAocCtyKTt0LnNldE5vZGVNYXJrdXAoZCxudWxsLFFsKGguYXR0cnMscy1mLGguYXR0cnMuY29sc3Bhbi0ocy1mKSkpLHQuaW5zZXJ0KGQraC5ub2RlU2l6ZSxoLnR5cGUuY3JlYXRlQW5kRmlsbChRbChoLmF0dHJzLDAscy1mKSkpLGwrPWguYXR0cnMucm93c3Bhbi0xfX1yZXR1cm4gY31mdW5jdGlvbiBtdSh0LGUsbixyLG8pe3ZhciBpPW4/dC5kb2Mubm9kZUF0KG4tMSk6dC5kb2Mscz1SbC5nZXQoaSksYT1yLnRvcCxjPXIubGVmdCxsPWMrby53aWR0aCx1PWErby5oZWlnaHQscD10LnRyLGg9MDtmdW5jdGlvbiBmKCl7aT1uP3AuZG9jLm5vZGVBdChuLTEpOnAuZG9jLHM9UmwuZ2V0KGkpLGg9cC5tYXBwaW5nLm1hcHMubGVuZ3RofWh1KHAscyxpLG4sbCx1LGgpJiZmKCksZnUocCxzLGksbixjLGwsYSxoKSYmZigpLGZ1KHAscyxpLG4sYyxsLHUsaCkmJmYoKSxkdShwLHMsaSxuLGEsdSxjLGgpJiZmKCksZHUocCxzLGksbixhLHUsbCxoKSYmZigpO2Zvcih2YXIgZD1hO2Q8dTtkKyspe3ZhciBtPXMucG9zaXRpb25BdChkLGMsaSksdj1zLnBvc2l0aW9uQXQoZCxsLGkpO3AucmVwbGFjZShwLm1hcHBpbmcuc2xpY2UoaCkubWFwKG0rbikscC5tYXBwaW5nLnNsaWNlKGgpLm1hcCh2K24pLG5ldyB5KG8ucm93c1tkLWFdLDAsMCkpfWYoKSxwLnNldFNlbGVjdGlvbihuZXcgbnUocC5kb2MucmVzb2x2ZShuK3MucG9zaXRpb25BdChhLGMsaSkpLHAuZG9jLnJlc29sdmUobitzLnBvc2l0aW9uQXQodS0xLGwtMSxpKSkpKSxlKHApfXJ1LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBydSh0Lm1hcCh0aGlzLmFuY2hvciksdC5tYXAodGhpcy5oZWFkKSl9LHJ1LnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKHQpe3ZhciBlPXQucmVzb2x2ZSh0aGlzLmFuY2hvciksbj10LnJlc29sdmUodGhpcy5oZWFkKTtyZXR1cm4icm93Ij09ZS5wYXJlbnQudHlwZS5zcGVjLnRhYmxlUm9sZSYmInJvdyI9PW4ucGFyZW50LnR5cGUuc3BlYy50YWJsZVJvbGUmJmUuaW5kZXgoKTxlLnBhcmVudC5jaGlsZENvdW50JiZuLmluZGV4KCk8bi5wYXJlbnQuY2hpbGRDb3VudCYmWGwoZSxuKT9uZXcgbnUoZSxuKTpBZS5uZWFyKG4sMSl9O3ZhciB2dT1hcyh7QXJyb3dMZWZ0Onl1KCJob3JpeiIsLTEpLEFycm93UmlnaHQ6eXUoImhvcml6IiwxKSxBcnJvd1VwOnl1KCJ2ZXJ0IiwtMSksQXJyb3dEb3duOnl1KCJ2ZXJ0IiwxKSwiU2hpZnQtQXJyb3dMZWZ0Ijp3dSgiaG9yaXoiLC0xKSwiU2hpZnQtQXJyb3dSaWdodCI6d3UoImhvcml6IiwxKSwiU2hpZnQtQXJyb3dVcCI6d3UoInZlcnQiLC0xKSwiU2hpZnQtQXJyb3dEb3duIjp3dSgidmVydCIsMSksQmFja3NwYWNlOmJ1LCJNb2QtQmFja3NwYWNlIjpidSxEZWxldGU6YnUsIk1vZC1EZWxldGUiOmJ1fSk7ZnVuY3Rpb24gZ3UodCxlLG4pe3JldHVybiFuLmVxKHQuc2VsZWN0aW9uKSYmKGUmJmUodC50ci5zZXRTZWxlY3Rpb24obikuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIHl1KHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scixvKXt2YXIgaT1uLnNlbGVjdGlvbjtpZihpIGluc3RhbmNlb2YgbnUpcmV0dXJuIGd1KG4scixBZS5uZWFyKGkuJGhlYWRDZWxsLGUpKTtpZigiaG9yaXoiIT10JiYhaS5lbXB0eSlyZXR1cm4hMTt2YXIgcz1DdShvLHQsZSk7aWYobnVsbD09cylyZXR1cm4hMTtpZigiaG9yaXoiPT10KXJldHVybiBndShuLHIsQWUubmVhcihuLmRvYy5yZXNvbHZlKGkuaGVhZCtlKSxlKSk7dmFyIGEsYz1uLmRvYy5yZXNvbHZlKHMpLGw9WWwoYyx0LGUpO3JldHVybiBhPWw/QWUubmVhcihsLDEpOmU8MD9BZS5uZWFyKG4uZG9jLnJlc29sdmUoYy5iZWZvcmUoLTEpKSwtMSk6QWUubmVhcihuLmRvYy5yZXNvbHZlKGMuYWZ0ZXIoLTEpKSwxKSxndShuLHIsYSl9fWZ1bmN0aW9uIHd1KHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scixvKXt2YXIgaT1uLnNlbGVjdGlvbjtpZighKGkgaW5zdGFuY2VvZiBudSkpe3ZhciBzPUN1KG8sdCxlKTtpZihudWxsPT1zKXJldHVybiExO2k9bmV3IG51KG4uZG9jLnJlc29sdmUocykpfXZhciBhPVlsKGkuJGhlYWRDZWxsLHQsZSk7cmV0dXJuISFhJiZndShuLHIsbmV3IG51KGkuJGFuY2hvckNlbGwsYSkpfX1mdW5jdGlvbiBidSh0LGUpe3ZhciBuPXQuc2VsZWN0aW9uO2lmKCEobiBpbnN0YW5jZW9mIG51KSlyZXR1cm4hMTtpZihlKXt2YXIgcj10LnRyLG89TGwodC5zY2hlbWEpLmNlbGwuY3JlYXRlQW5kRmlsbCgpLmNvbnRlbnQ7bi5mb3JFYWNoQ2VsbCgoZnVuY3Rpb24odCxlKXt0LmNvbnRlbnQuZXEobyl8fHIucmVwbGFjZShyLm1hcHBpbmcubWFwKGUrMSksci5tYXBwaW5nLm1hcChlK3Qubm9kZVNpemUtMSksbmV3IHkobywwLDApKX0pKSxyLmRvY0NoYW5nZWQmJmUocil9cmV0dXJuITB9ZnVuY3Rpb24geHUodCxlKXt2YXIgbj10LnN0YXRlLmRvYyxyPUhsKG4ucmVzb2x2ZShlKSk7cmV0dXJuISFyJiYodC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldFNlbGVjdGlvbihuZXcgbnUocikpKSwhMCl9ZnVuY3Rpb24ga3UodCxlLG4pe2lmKCFXbCh0LnN0YXRlKSlyZXR1cm4hMTt2YXIgcj1jdShuKSxvPXQuc3RhdGUuc2VsZWN0aW9uO2lmKG8gaW5zdGFuY2VvZiBudSl7cnx8KHI9e3dpZHRoOjEsaGVpZ2h0OjEscm93czpbcC5mcm9tKHV1KExsKHQuc3RhdGUuc2NoZW1hKS5jZWxsLG4pKV19KTt2YXIgaT1vLiRhbmNob3JDZWxsLm5vZGUoLTEpLHM9by4kYW5jaG9yQ2VsbC5zdGFydCgtMSksYT1SbC5nZXQoaSkucmVjdEJldHdlZW4oby4kYW5jaG9yQ2VsbC5wb3MtcyxvLiRoZWFkQ2VsbC5wb3Mtcyk7cmV0dXJuIHI9cHUocixhLnJpZ2h0LWEubGVmdCxhLmJvdHRvbS1hLnRvcCksbXUodC5zdGF0ZSx0LmRpc3BhdGNoLHMsYSxyKSwhMH1pZihyKXt2YXIgYz1xbCh0LnN0YXRlKSxsPWMuc3RhcnQoLTEpO3JldHVybiBtdSh0LnN0YXRlLHQuZGlzcGF0Y2gsbCxSbC5nZXQoYy5ub2RlKC0xKSkuZmluZENlbGwoYy5wb3MtbCksciksITB9cmV0dXJuITF9ZnVuY3Rpb24gU3UodCxlKXtpZighZS5jdHJsS2V5JiYhZS5tZXRhS2V5KXt2YXIgbixyPU11KHQsZS50YXJnZXQpO2lmKGUuc2hpZnRLZXkmJnQuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgbnUpbyh0LnN0YXRlLnNlbGVjdGlvbi4kYW5jaG9yQ2VsbCxlKSxlLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBpZihlLnNoaWZ0S2V5JiZyJiZudWxsIT0obj1IbCh0LnN0YXRlLnNlbGVjdGlvbi4kYW5jaG9yKSkmJk91KHQsZSkucG9zIT1uLnBvcylvKG4sZSksZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgaWYoIXIpcmV0dXJuO3Qucm9vdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZXVwIixpKSx0LnJvb3QuYWRkRXZlbnRMaXN0ZW5lcigiZHJhZ3N0YXJ0IixpKSx0LnJvb3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIixzKX1mdW5jdGlvbiBvKGUsbil7dmFyIHI9T3UodCxuKSxvPW51bGw9PUZsLmdldFN0YXRlKHQuc3RhdGUpO2lmKCFyfHwhWGwoZSxyKSl7aWYoIW8pcmV0dXJuO3I9ZX12YXIgaT1uZXcgbnUoZSxyKTtpZihvfHwhdC5zdGF0ZS5zZWxlY3Rpb24uZXEoaSkpe3ZhciBzPXQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKGkpO28mJnMuc2V0TWV0YShGbCxlLnBvcyksdC5kaXNwYXRjaChzKX19ZnVuY3Rpb24gaSgpe3Qucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZXVwIixpKSx0LnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZHJhZ3N0YXJ0IixpKSx0LnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIixzKSxudWxsIT1GbC5nZXRTdGF0ZSh0LnN0YXRlKSYmdC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldE1ldGEoRmwsLTEpKX1mdW5jdGlvbiBzKG4pe3ZhciBzLGE9RmwuZ2V0U3RhdGUodC5zdGF0ZSk7aWYobnVsbCE9YSlzPXQuc3RhdGUuZG9jLnJlc29sdmUoYSk7ZWxzZSBpZihNdSh0LG4udGFyZ2V0KSE9ciYmKHM9T3UodCxlKSwhcykpcmV0dXJuIGkoKTtzJiZvKHMsbil9fWZ1bmN0aW9uIEN1KHQsZSxuKXtpZighKHQuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgVGUpKXJldHVybiBudWxsO2Zvcih2YXIgcj10LnN0YXRlLnNlbGVjdGlvbixvPXIuJGhlYWQsaT1vLmRlcHRoLTE7aT49MDtpLS0pe3ZhciBzPW8ubm9kZShpKSxhPW48MD9vLmluZGV4KGkpOm8uaW5kZXhBZnRlcihpKTtpZihhIT0objwwPzA6cy5jaGlsZENvdW50KSlyZXR1cm4gbnVsbDtpZigiY2VsbCI9PXMudHlwZS5zcGVjLnRhYmxlUm9sZXx8ImhlYWRlcl9jZWxsIj09cy50eXBlLnNwZWMudGFibGVSb2xlKXt2YXIgYz1vLmJlZm9yZShpKSxsPSJ2ZXJ0Ij09ZT9uPjA/ImRvd24iOiJ1cCI6bj4wPyJyaWdodCI6ImxlZnQiO3JldHVybiB0LmVuZE9mVGV4dGJsb2NrKGwpP2M6bnVsbH19cmV0dXJuIG51bGx9ZnVuY3Rpb24gTXUodCxlKXtmb3IoO2UmJmUhPXQuZG9tO2U9ZS5wYXJlbnROb2RlKWlmKCJURCI9PWUubm9kZU5hbWV8fCJUSCI9PWUubm9kZU5hbWUpcmV0dXJuIGV9ZnVuY3Rpb24gT3UodCxlKXt2YXIgbj10LnBvc0F0Q29vcmRzKHtsZWZ0OmUuY2xpZW50WCx0b3A6ZS5jbGllbnRZfSk7cmV0dXJuIG4mJm4/SGwodC5zdGF0ZS5kb2MucmVzb2x2ZShuLnBvcykpOm51bGx9dmFyIEF1PW5ldyBRZSgiZml4LXRhYmxlcyIpO2Z1bmN0aW9uIE51KHQsZSxuLHIpe3ZhciBvPXQuY2hpbGRDb3VudCxpPWUuY2hpbGRDb3VudDt0OmZvcih2YXIgcz0wLGE9MDtzPGk7cysrKXtmb3IodmFyIGM9ZS5jaGlsZChzKSxsPWEsdT1NYXRoLm1pbihvLHMrMyk7bDx1O2wrKylpZih0LmNoaWxkKGwpPT1jKXthPWwrMSxuKz1jLm5vZGVTaXplO2NvbnRpbnVlIHR9cihjLG4pLGE8byYmdC5jaGlsZChhKS5zYW1lTWFya3VwKGMpP051KHQuY2hpbGQoYSksYyxuKzEscik6Yy5ub2Rlc0JldHdlZW4oMCxjLmNvbnRlbnQuc2l6ZSxyLG4rMSksbis9Yy5ub2RlU2l6ZX19ZnVuY3Rpb24gRXUodCxlKXt2YXIgbixyPWZ1bmN0aW9uKGUscil7InRhYmxlIj09ZS50eXBlLnNwZWMudGFibGVSb2xlJiYobj1UdSh0LGUscixuKSl9O3JldHVybiBlP2UuZG9jIT10LmRvYyYmTnUoZS5kb2MsdC5kb2MsMCxyKTp0LmRvYy5kZXNjZW5kYW50cyhyKSxufWZ1bmN0aW9uIFR1KHQsZSxuLHIpe3ZhciBvPVJsLmdldChlKTtpZighby5wcm9ibGVtcylyZXR1cm4gcjtyfHwocj10LnRyKTtmb3IodmFyIGkscyxhPVtdLGM9MDtjPG8uaGVpZ2h0O2MrKylhLnB1c2goMCk7Zm9yKHZhciBsPTA7bDxvLnByb2JsZW1zLmxlbmd0aDtsKyspe3ZhciB1PW8ucHJvYmxlbXNbbF07aWYoImNvbGxpc2lvbiI9PXUudHlwZSl7Zm9yKHZhciBwPWUubm9kZUF0KHUucG9zKSxoPTA7aDxwLmF0dHJzLnJvd3NwYW47aCsrKWFbdS5yb3craF0rPXUubjtyLnNldE5vZGVNYXJrdXAoci5tYXBwaW5nLm1hcChuKzErdS5wb3MpLG51bGwsUWwocC5hdHRycyxwLmF0dHJzLmNvbHNwYW4tdS5uLHUubikpfWVsc2UgaWYoIm1pc3NpbmciPT11LnR5cGUpYVt1LnJvd10rPXUubjtlbHNlIGlmKCJvdmVybG9uZ19yb3dzcGFuIj09dS50eXBlKXt2YXIgZj1lLm5vZGVBdCh1LnBvcyk7ci5zZXROb2RlTWFya3VwKHIubWFwcGluZy5tYXAobisxK3UucG9zKSxudWxsLFpsKGYuYXR0cnMsInJvd3NwYW4iLGYuYXR0cnMucm93c3Bhbi11Lm4pKX1lbHNlIGlmKCJjb2x3aWR0aCBtaXNtYXRjaCI9PXUudHlwZSl7dmFyIGQ9ZS5ub2RlQXQodS5wb3MpO3Iuc2V0Tm9kZU1hcmt1cChyLm1hcHBpbmcubWFwKG4rMSt1LnBvcyksbnVsbCxabChkLmF0dHJzLCJjb2x3aWR0aCIsdS5jb2x3aWR0aCkpfX1mb3IodmFyIG09MDttPGEubGVuZ3RoO20rKylhW21dJiYobnVsbD09aSYmKGk9bSkscz1tKTtmb3IodmFyIHY9MCxnPW4rMTt2PG8uaGVpZ2h0O3YrKyl7dmFyIHk9ZS5jaGlsZCh2KSx3PWcreS5ub2RlU2l6ZSxiPWFbdl07aWYoYj4wKXt2YXIgeD0iY2VsbCI7eS5maXJzdENoaWxkJiYoeD15LmZpcnN0Q2hpbGQudHlwZS5zcGVjLnRhYmxlUm9sZSk7Zm9yKHZhciBrPVtdLFM9MDtTPGI7UysrKWsucHVzaChMbCh0LnNjaGVtYSlbeF0uY3JlYXRlQW5kRmlsbCgpKTt2YXIgQz0wIT12JiZpIT12LTF8fHMhPXY/dy0xOmcrMTtyLmluc2VydChyLm1hcHBpbmcubWFwKEMpLGspfWc9d31yZXR1cm4gci5zZXRNZXRhKEF1LHtmaXhUYWJsZXM6ITB9KX1mdW5jdGlvbiBEdSh0KXt2YXIgZSxuPXQuc2VsZWN0aW9uLHI9cWwodCksbz1yLm5vZGUoLTEpLGk9ci5zdGFydCgtMSkscz1SbC5nZXQobyk7cmV0dXJuIGU9biBpbnN0YW5jZW9mIG51P3MucmVjdEJldHdlZW4obi4kYW5jaG9yQ2VsbC5wb3MtaSxuLiRoZWFkQ2VsbC5wb3MtaSk6cy5maW5kQ2VsbChyLnBvcy1pKSxlLnRhYmxlU3RhcnQ9aSxlLm1hcD1zLGUudGFibGU9byxlfWZ1bmN0aW9uIF91KHQsZSxuKXt2YXIgcj1lLm1hcCxvPWUudGFibGVTdGFydCxpPWUudGFibGUscz1uPjA/LTE6MDtldShyLGksbitzKSYmKHM9MD09bnx8bj09ci53aWR0aD9udWxsOjApO2Zvcih2YXIgYT0wO2E8ci5oZWlnaHQ7YSsrKXt2YXIgYz1hKnIud2lkdGgrbjtpZihuPjAmJm48ci53aWR0aCYmci5tYXBbYy0xXT09ci5tYXBbY10pe3ZhciBsPXIubWFwW2NdLHU9aS5ub2RlQXQobCk7dC5zZXROb2RlTWFya3VwKHQubWFwcGluZy5tYXAobytsKSxudWxsLHR1KHUuYXR0cnMsbi1yLmNvbENvdW50KGwpKSksYSs9dS5hdHRycy5yb3dzcGFuLTF9ZWxzZXt2YXIgcD1udWxsPT1zP0xsKGkudHlwZS5zY2hlbWEpLmNlbGw6aS5ub2RlQXQoci5tYXBbYytzXSkudHlwZSxoPXIucG9zaXRpb25BdChhLG4saSk7dC5pbnNlcnQodC5tYXBwaW5nLm1hcChvK2gpLHAuY3JlYXRlQW5kRmlsbCgpKX19cmV0dXJuIHR9ZnVuY3Rpb24gUnUodCxlKXtpZighV2wodCkpcmV0dXJuITE7aWYoZSl7dmFyIG49RHUodCk7ZShfdSh0LnRyLG4sbi5sZWZ0KSl9cmV0dXJuITB9ZnVuY3Rpb24genUodCxlKXtpZighV2wodCkpcmV0dXJuITE7aWYoZSl7dmFyIG49RHUodCk7ZShfdSh0LnRyLG4sbi5yaWdodCkpfXJldHVybiEwfWZ1bmN0aW9uIEl1KHQsZSxuKXtmb3IodmFyIHI9ZS5tYXAsbz1lLnRhYmxlLGk9ZS50YWJsZVN0YXJ0LHM9dC5tYXBwaW5nLm1hcHMubGVuZ3RoLGE9MDthPHIuaGVpZ2h0Oyl7dmFyIGM9YSpyLndpZHRoK24sbD1yLm1hcFtjXSx1PW8ubm9kZUF0KGwpO2lmKG4+MCYmci5tYXBbYy0xXT09bHx8bjxyLndpZHRoLTEmJnIubWFwW2MrMV09PWwpdC5zZXROb2RlTWFya3VwKHQubWFwcGluZy5zbGljZShzKS5tYXAoaStsKSxudWxsLFFsKHUuYXR0cnMsbi1yLmNvbENvdW50KGwpKSk7ZWxzZXt2YXIgcD10Lm1hcHBpbmcuc2xpY2UocykubWFwKGkrbCk7dC5kZWxldGUocCxwK3Uubm9kZVNpemUpfWErPXUuYXR0cnMucm93c3Bhbn19ZnVuY3Rpb24gUHUodCxlKXtpZighV2wodCkpcmV0dXJuITE7aWYoZSl7dmFyIG49RHUodCkscj10LnRyO2lmKDA9PW4ubGVmdCYmbi5yaWdodD09bi5tYXAud2lkdGgpcmV0dXJuITE7Zm9yKHZhciBvPW4ucmlnaHQtMTs7by0tKXtpZihJdShyLG4sbyksbz09bi5sZWZ0KWJyZWFrO24udGFibGU9bi50YWJsZVN0YXJ0P3IuZG9jLm5vZGVBdChuLnRhYmxlU3RhcnQtMSk6ci5kb2Msbi5tYXA9UmwuZ2V0KG4udGFibGUpfWUocil9cmV0dXJuITB9ZnVuY3Rpb24gJHUodCxlLG4pe2Zvcih2YXIgcj1MbChlLnR5cGUuc2NoZW1hKS5oZWFkZXJfY2VsbCxvPTA7bzx0LndpZHRoO28rKylpZihlLm5vZGVBdCh0Lm1hcFtvK24qdC53aWR0aF0pLnR5cGUhPXIpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gQnUodCxlLG4pe2Zvcih2YXIgcj1lLm1hcCxvPWUudGFibGVTdGFydCxpPWUudGFibGUscz1vLGE9MDthPG47YSsrKXMrPWkuY2hpbGQoYSkubm9kZVNpemU7dmFyIGM9W10sbD1uPjA/LTE6MDskdShyLGksbitsKSYmKGw9MD09bnx8bj09ci5oZWlnaHQ/bnVsbDowKTtmb3IodmFyIHU9MCxwPXIud2lkdGgqbjt1PHIud2lkdGg7dSsrLHArKylpZihuPjAmJm48ci5oZWlnaHQmJnIubWFwW3BdPT1yLm1hcFtwLXIud2lkdGhdKXt2YXIgaD1yLm1hcFtwXSxmPWkubm9kZUF0KGgpLmF0dHJzO3Quc2V0Tm9kZU1hcmt1cChvK2gsbnVsbCxabChmLCJyb3dzcGFuIixmLnJvd3NwYW4rMSkpLHUrPWYuY29sc3Bhbi0xfWVsc2V7dmFyIGQ9bnVsbD09bD9MbChpLnR5cGUuc2NoZW1hKS5jZWxsOmkubm9kZUF0KHIubWFwW3ArbCpyLndpZHRoXSkudHlwZTtjLnB1c2goZC5jcmVhdGVBbmRGaWxsKCkpfXJldHVybiB0Lmluc2VydChzLExsKGkudHlwZS5zY2hlbWEpLnJvdy5jcmVhdGUobnVsbCxjKSksdH1mdW5jdGlvbiBWdSh0LGUpe2lmKCFXbCh0KSlyZXR1cm4hMTtpZihlKXt2YXIgbj1EdSh0KTtlKEJ1KHQudHIsbixuLnRvcCkpfXJldHVybiEwfWZ1bmN0aW9uIGp1KHQsZSl7aWYoIVdsKHQpKXJldHVybiExO2lmKGUpe3ZhciBuPUR1KHQpO2UoQnUodC50cixuLG4uYm90dG9tKSl9cmV0dXJuITB9ZnVuY3Rpb24gTHUodCxlLG4pe2Zvcih2YXIgcj1lLm1hcCxvPWUudGFibGUsaT1lLnRhYmxlU3RhcnQscz0wLGE9MDthPG47YSsrKXMrPW8uY2hpbGQoYSkubm9kZVNpemU7dmFyIGM9cytvLmNoaWxkKG4pLm5vZGVTaXplLGw9dC5tYXBwaW5nLm1hcHMubGVuZ3RoO3QuZGVsZXRlKHMraSxjK2kpO2Zvcih2YXIgdT0wLHA9bipyLndpZHRoO3U8ci53aWR0aDt1KysscCsrKXt2YXIgaD1yLm1hcFtwXTtpZihuPjAmJmg9PXIubWFwW3Atci53aWR0aF0pe3ZhciBmPW8ubm9kZUF0KGgpLmF0dHJzO3Quc2V0Tm9kZU1hcmt1cCh0Lm1hcHBpbmcuc2xpY2UobCkubWFwKGgraSksbnVsbCxabChmLCJyb3dzcGFuIixmLnJvd3NwYW4tMSkpLHUrPWYuY29sc3Bhbi0xfWVsc2UgaWYobjxyLndpZHRoJiZoPT1yLm1hcFtwK3Iud2lkdGhdKXt2YXIgZD1vLm5vZGVBdChoKSxtPWQudHlwZS5jcmVhdGUoWmwoZC5hdHRycywicm93c3BhbiIsZC5hdHRycy5yb3dzcGFuLTEpLGQuY29udGVudCksdj1yLnBvc2l0aW9uQXQobisxLHUsbyk7dC5pbnNlcnQodC5tYXBwaW5nLnNsaWNlKGwpLm1hcChpK3YpLG0pLHUrPWQuYXR0cnMuY29sc3Bhbi0xfX19ZnVuY3Rpb24gRnUodCxlKXtpZighV2wodCkpcmV0dXJuITE7aWYoZSl7dmFyIG49RHUodCkscj10LnRyO2lmKDA9PW4udG9wJiZuLmJvdHRvbT09bi5tYXAuaGVpZ2h0KXJldHVybiExO2Zvcih2YXIgbz1uLmJvdHRvbS0xOztvLS0pe2lmKEx1KHIsbixvKSxvPT1uLnRvcClicmVhaztuLnRhYmxlPW4udGFibGVTdGFydD9yLmRvYy5ub2RlQXQobi50YWJsZVN0YXJ0LTEpOnIuZG9jLG4ubWFwPVJsLmdldChuLnRhYmxlKX1lKHIpfXJldHVybiEwfWZ1bmN0aW9uIEh1KHQpe3ZhciBlPXQuY29udGVudDtyZXR1cm4gMT09ZS5jaGlsZENvdW50JiZlLmZpcnN0Q2hpbGQuaXNUZXh0YmxvY2smJjA9PWUuZmlyc3RDaGlsZC5jaGlsZENvdW50fWZ1bmN0aW9uIEp1KHQsZSl7Zm9yKHZhciBuPXQud2lkdGgscj10LmhlaWdodCxvPXQubWFwLGk9ZS50b3AqbitlLmxlZnQscz1pLGE9KGUuYm90dG9tLTEpKm4rZS5sZWZ0LGM9aSsoZS5yaWdodC1lLmxlZnQtMSksbD1lLnRvcDtsPGUuYm90dG9tO2wrKyl7aWYoZS5sZWZ0PjAmJm9bc109PW9bcy0xXXx8ZS5yaWdodDxuJiZvW2NdPT1vW2MrMV0pcmV0dXJuITA7cys9bixjKz1ufWZvcih2YXIgdT1lLmxlZnQ7dTxlLnJpZ2h0O3UrKyl7aWYoZS50b3A+MCYmb1tpXT09b1tpLW5dfHxlLmJvdHRvbTxyJiZvW2FdPT1vW2Erbl0pcmV0dXJuITA7aSsrLGErK31yZXR1cm4hMX1mdW5jdGlvbiBXdSh0LGUpe3ZhciBuPXQuc2VsZWN0aW9uO2lmKCEobiBpbnN0YW5jZW9mIG51KXx8bi4kYW5jaG9yQ2VsbC5wb3M9PW4uJGhlYWRDZWxsLnBvcylyZXR1cm4hMTt2YXIgcj1EdSh0KSxvPXIubWFwO2lmKEp1KG8scikpcmV0dXJuITE7aWYoZSl7Zm9yKHZhciBpLHMsYT10LnRyLGM9e30sbD1wLmVtcHR5LHU9ci50b3A7dTxyLmJvdHRvbTt1KyspZm9yKHZhciBoPXIubGVmdDtoPHIucmlnaHQ7aCsrKXt2YXIgZj1vLm1hcFt1Km8ud2lkdGgraF0sZD1yLnRhYmxlLm5vZGVBdChmKTtpZighY1tmXSlpZihjW2ZdPSEwLG51bGw9PWkpaT1mLHM9ZDtlbHNle0h1KGQpfHwobD1sLmFwcGVuZChkLmNvbnRlbnQpKTt2YXIgbT1hLm1hcHBpbmcubWFwKGYrci50YWJsZVN0YXJ0KTthLmRlbGV0ZShtLG0rZC5ub2RlU2l6ZSl9fWlmKGEuc2V0Tm9kZU1hcmt1cChpK3IudGFibGVTdGFydCxudWxsLFpsKHR1KHMuYXR0cnMscy5hdHRycy5jb2xzcGFuLHIucmlnaHQtci5sZWZ0LXMuYXR0cnMuY29sc3BhbiksInJvd3NwYW4iLHIuYm90dG9tLXIudG9wKSksbC5zaXplKXt2YXIgdj1pKzErcy5jb250ZW50LnNpemUsZz1IdShzKT9pKzE6djthLnJlcGxhY2VXaXRoKGcrci50YWJsZVN0YXJ0LHYrci50YWJsZVN0YXJ0LGwpfWEuc2V0U2VsZWN0aW9uKG5ldyBudShhLmRvYy5yZXNvbHZlKGkrci50YWJsZVN0YXJ0KSkpLGUoYSl9cmV0dXJuITB9ZnVuY3Rpb24gcXUodCxlKXt2YXIgbj1MbCh0LnNjaGVtYSk7cmV0dXJuIEt1KChmdW5jdGlvbih0KXt2YXIgZT10Lm5vZGU7cmV0dXJuIG5bZS50eXBlLnNwZWMudGFibGVSb2xlXX0pKSh0LGUpfWZ1bmN0aW9uIEt1KHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciByLG8saT1lLnNlbGVjdGlvbjtpZihpIGluc3RhbmNlb2YgbnUpe2lmKGkuJGFuY2hvckNlbGwucG9zIT1pLiRoZWFkQ2VsbC5wb3MpcmV0dXJuITE7cj1pLiRhbmNob3JDZWxsLm5vZGVBZnRlcixvPWkuJGFuY2hvckNlbGwucG9zfWVsc2V7aWYocj1KbChpLiRmcm9tKSwhcilyZXR1cm4hMTtvPUhsKGkuJGZyb20pLnBvc31pZigxPT1yLmF0dHJzLmNvbHNwYW4mJjE9PXIuYXR0cnMucm93c3BhbilyZXR1cm4hMTtpZihuKXt2YXIgcz1yLmF0dHJzLGE9W10sYz1zLmNvbHdpZHRoO3Mucm93c3Bhbj4xJiYocz1abChzLCJyb3dzcGFuIiwxKSkscy5jb2xzcGFuPjEmJihzPVpsKHMsImNvbHNwYW4iLDEpKTtmb3IodmFyIGwsdT1EdShlKSxwPWUudHIsaD0wO2g8dS5yaWdodC11LmxlZnQ7aCsrKWEucHVzaChjP1psKHMsImNvbHdpZHRoIixjJiZjW2hdP1tjW2hdXTpudWxsKTpzKTtmb3IodmFyIGY9dS50b3A7Zjx1LmJvdHRvbTtmKyspe3ZhciBkPXUubWFwLnBvc2l0aW9uQXQoZix1LmxlZnQsdS50YWJsZSk7Zj09dS50b3AmJihkKz1yLm5vZGVTaXplKTtmb3IodmFyIG09dS5sZWZ0LHY9MDttPHUucmlnaHQ7bSsrLHYrKyltPT11LmxlZnQmJmY9PXUudG9wfHxwLmluc2VydChsPXAubWFwcGluZy5tYXAoZCt1LnRhYmxlU3RhcnQsMSksdCh7bm9kZTpyLHJvdzpmLGNvbDptfSkuY3JlYXRlQW5kRmlsbChhW3ZdKSl9cC5zZXROb2RlTWFya3VwKG8sdCh7bm9kZTpyLHJvdzp1LnRvcCxjb2w6dS5sZWZ0fSksYVswXSksaSBpbnN0YW5jZW9mIG51JiZwLnNldFNlbGVjdGlvbihuZXcgbnUocC5kb2MucmVzb2x2ZShpLiRhbmNob3JDZWxsLnBvcyksbCYmcC5kb2MucmVzb2x2ZShsKSkpLG4ocCl9cmV0dXJuITB9fWZ1bmN0aW9uIFV1KHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7aWYoIVdsKG4pKXJldHVybiExO3ZhciBvPXFsKG4pO2lmKG8ubm9kZUFmdGVyLmF0dHJzW3RdPT09ZSlyZXR1cm4hMTtpZihyKXt2YXIgaT1uLnRyO24uc2VsZWN0aW9uIGluc3RhbmNlb2YgbnU/bi5zZWxlY3Rpb24uZm9yRWFjaENlbGwoKGZ1bmN0aW9uKG4scil7bi5hdHRyc1t0XSE9PWUmJmkuc2V0Tm9kZU1hcmt1cChyLG51bGwsWmwobi5hdHRycyx0LGUpKX0pKTppLnNldE5vZGVNYXJrdXAoby5wb3MsbnVsbCxabChvLm5vZGVBZnRlci5hdHRycyx0LGUpKSxyKGkpfXJldHVybiEwfX1mdW5jdGlvbiBHdSh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtpZighV2woZSkpcmV0dXJuITE7aWYobil7Zm9yKHZhciByPUxsKGUuc2NoZW1hKSxvPUR1KGUpLGk9ZS50cixzPW8ubWFwLmNlbGxzSW5SZWN0KCJjb2x1bW4iPT10P25ldyBfbChvLmxlZnQsMCxvLnJpZ2h0LG8ubWFwLmhlaWdodCk6InJvdyI9PXQ/bmV3IF9sKDAsby50b3Asby5tYXAud2lkdGgsby5ib3R0b20pOm8pLGE9cy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBvLnRhYmxlLm5vZGVBdCh0KX0pKSxjPTA7YzxzLmxlbmd0aDtjKyspYVtjXS50eXBlPT1yLmhlYWRlcl9jZWxsJiZpLnNldE5vZGVNYXJrdXAoby50YWJsZVN0YXJ0K3NbY10sci5jZWxsLGFbY10uYXR0cnMpO2lmKDA9PWkuc3RlcHMubGVuZ3RoKWZvcih2YXIgbD0wO2w8cy5sZW5ndGg7bCsrKWkuc2V0Tm9kZU1hcmt1cChvLnRhYmxlU3RhcnQrc1tsXSxyLmhlYWRlcl9jZWxsLGFbbF0uYXR0cnMpO24oaSl9cmV0dXJuITB9fWZ1bmN0aW9uIFh1KHQsZSxuKXtmb3IodmFyIHI9ZS5tYXAuY2VsbHNJblJlY3Qoe2xlZnQ6MCx0b3A6MCxyaWdodDoicm93Ij09dD9lLm1hcC53aWR0aDoxLGJvdHRvbToiY29sdW1uIj09dD9lLm1hcC5oZWlnaHQ6MX0pLG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGk9ZS50YWJsZS5ub2RlQXQocltvXSk7aWYoaSYmaS50eXBlIT09bi5oZWFkZXJfY2VsbClyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBZdSh0LGUpe3JldHVybiBlPWV8fHt1c2VEZXByZWNhdGVkTG9naWM6ITF9LGUudXNlRGVwcmVjYXRlZExvZ2ljP0d1KHQpOmZ1bmN0aW9uKGUsbil7aWYoIVdsKGUpKXJldHVybiExO2lmKG4pe3ZhciByPUxsKGUuc2NoZW1hKSxvPUR1KGUpLGk9ZS50cixzPVh1KCJyb3ciLG8sciksYT1YdSgiY29sdW1uIixvLHIpLGM9ImNvbHVtbiI9PT10P3M6InJvdyI9PT10JiZhLGw9Yz8xOjAsdT0iY29sdW1uIj09dD9uZXcgX2woMCxsLDEsby5tYXAuaGVpZ2h0KToicm93Ij09dD9uZXcgX2wobCwwLG8ubWFwLndpZHRoLDEpOm8scD0iY29sdW1uIj09dD9hP3IuY2VsbDpyLmhlYWRlcl9jZWxsOiJyb3ciPT10P3M/ci5jZWxsOnIuaGVhZGVyX2NlbGw6ci5jZWxsO28ubWFwLmNlbGxzSW5SZWN0KHUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPXQrby50YWJsZVN0YXJ0LG49aS5kb2Mubm9kZUF0KGUpO24mJmkuc2V0Tm9kZU1hcmt1cChlLHAsbi5hdHRycyl9KSksbihpKX1yZXR1cm4hMH19dmFyIFp1PVl1KCJyb3ciLHt1c2VEZXByZWNhdGVkTG9naWM6ITB9KSxRdT1ZdSgiY29sdW1uIix7dXNlRGVwcmVjYXRlZExvZ2ljOiEwfSksdHA9WXUoImNlbGwiLHt1c2VEZXByZWNhdGVkTG9naWM6ITB9KTtmdW5jdGlvbiBlcCh0LGUpe2lmKGU8MCl7dmFyIG49dC5ub2RlQmVmb3JlO2lmKG4pcmV0dXJuIHQucG9zLW4ubm9kZVNpemU7Zm9yKHZhciByPXQuaW5kZXgoLTEpLTEsbz10LmJlZm9yZSgpO3I+PTA7ci0tKXt2YXIgaT10Lm5vZGUoLTEpLmNoaWxkKHIpO2lmKGkuY2hpbGRDb3VudClyZXR1cm4gby0xLWkubGFzdENoaWxkLm5vZGVTaXplO28tPWkubm9kZVNpemV9fWVsc2V7aWYodC5pbmRleCgpPHQucGFyZW50LmNoaWxkQ291bnQtMSlyZXR1cm4gdC5wb3MrdC5ub2RlQWZ0ZXIubm9kZVNpemU7Zm9yKHZhciBzPXQubm9kZSgtMSksYT10LmluZGV4QWZ0ZXIoLTEpLGM9dC5hZnRlcigpO2E8cy5jaGlsZENvdW50O2ErKyl7dmFyIGw9cy5jaGlsZChhKTtpZihsLmNoaWxkQ291bnQpcmV0dXJuIGMrMTtjKz1sLm5vZGVTaXplfX19ZnVuY3Rpb24gbnAodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7aWYoIVdsKGUpKXJldHVybiExO3ZhciByPWVwKHFsKGUpLHQpO2lmKG51bGwhPXIpe2lmKG4pe3ZhciBvPWUuZG9jLnJlc29sdmUocik7bihlLnRyLnNldFNlbGVjdGlvbihUZS5iZXR3ZWVuKG8sR2wobykpKS5zY3JvbGxJbnRvVmlldygpKX1yZXR1cm4hMH19fWZ1bmN0aW9uIHJwKHQsZSl7Zm9yKHZhciBuPXQuc2VsZWN0aW9uLiRhbmNob3Iscj1uLmRlcHRoO3I+MDtyLS0pe3ZhciBvPW4ubm9kZShyKTtpZigidGFibGUiPT1vLnR5cGUuc3BlYy50YWJsZVJvbGUpcmV0dXJuIGUmJmUodC50ci5kZWxldGUobi5iZWZvcmUociksbi5hZnRlcihyKSkuc2Nyb2xsSW50b1ZpZXcoKSksITB9cmV0dXJuITF9dmFyIG9wPWZ1bmN0aW9uKHQsZSl7dGhpcy5ub2RlPXQsdGhpcy5jZWxsTWluV2lkdGg9ZSx0aGlzLmRvbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLmRvbS5jbGFzc05hbWU9InRhYmxlV3JhcHBlciIsdGhpcy50YWJsZT10aGlzLmRvbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpKSx0aGlzLmNvbGdyb3VwPXRoaXMudGFibGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY29sZ3JvdXAiKSksaXAodCx0aGlzLmNvbGdyb3VwLHRoaXMudGFibGUsZSksdGhpcy5jb250ZW50RE9NPXRoaXMudGFibGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSl9O2Z1bmN0aW9uIGlwKHQsZSxuLHIsbyxpKXtmb3IodmFyIHM9MCxhPSEwLGM9ZS5maXJzdENoaWxkLGw9dC5maXJzdENoaWxkLHU9MCxwPTA7dTxsLmNoaWxkQ291bnQ7dSsrKWZvcih2YXIgaD1sLmNoaWxkKHUpLmF0dHJzLGY9aC5jb2xzcGFuLGQ9aC5jb2x3aWR0aCxtPTA7bTxmO20rKyxwKyspe3ZhciB2PW89PXA/aTpkJiZkW21dLGc9dj92KyJweCI6IiI7cys9dnx8cix2fHwoYT0hMSksYz8oYy5zdHlsZS53aWR0aCE9ZyYmKGMuc3R5bGUud2lkdGg9ZyksYz1jLm5leHRTaWJsaW5nKTplLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNvbCIpKS5zdHlsZS53aWR0aD1nfXdoaWxlKGMpe3ZhciB5PWMubmV4dFNpYmxpbmc7Yy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpLGM9eX1hPyhuLnN0eWxlLndpZHRoPXMrInB4IixuLnN0eWxlLm1pbldpZHRoPSIiKToobi5zdHlsZS53aWR0aD0iIixuLnN0eWxlLm1pbldpZHRoPXMrInB4Iil9b3AucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlPT10aGlzLm5vZGUudHlwZSYmKHRoaXMubm9kZT10LGlwKHQsdGhpcy5jb2xncm91cCx0aGlzLnRhYmxlLHRoaXMuY2VsbE1pbldpZHRoKSwhMCl9LG9wLnByb3RvdHlwZS5pZ25vcmVNdXRhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4iYXR0cmlidXRlcyI9PXQudHlwZSYmKHQudGFyZ2V0PT10aGlzLnRhYmxlfHx0aGlzLmNvbGdyb3VwLmNvbnRhaW5zKHQudGFyZ2V0KSl9O3ZhciBzcD1uZXcgUWUoInRhYmxlQ29sdW1uUmVzaXppbmciKTtmdW5jdGlvbiBhcCh0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIGU9dC5oYW5kbGVXaWR0aDt2b2lkIDA9PT1lJiYoZT01KTt2YXIgbj10LmNlbGxNaW5XaWR0aDt2b2lkIDA9PT1uJiYobj0yNSk7dmFyIHI9dC5WaWV3O3ZvaWQgMD09PXImJihyPW9wKTt2YXIgbz10Lmxhc3RDb2x1bW5SZXNpemFibGU7dm9pZCAwPT09byYmKG89ITApO3ZhciBpPW5ldyBYZSh7a2V5OnNwLHN0YXRlOntpbml0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc3BlYy5wcm9wcy5ub2RlVmlld3NbTGwoZS5zY2hlbWEpLnRhYmxlLm5hbWVdPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyByKHQsbixlKX0sbmV3IGNwKC0xLCExKX0sYXBwbHk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5hcHBseSh0KX19LHByb3BzOnthdHRyaWJ1dGVzOmZ1bmN0aW9uKHQpe3ZhciBlPXNwLmdldFN0YXRlKHQpO3JldHVybiBlLmFjdGl2ZUhhbmRsZT4tMT97Y2xhc3M6InJlc2l6ZS1jdXJzb3IifTpudWxsfSxoYW5kbGVET01FdmVudHM6e21vdXNlbW92ZTpmdW5jdGlvbih0LHIpe2xwKHQscixlLG4sbyl9LG1vdXNlbGVhdmU6ZnVuY3Rpb24odCl7dXAodCl9LG1vdXNlZG93bjpmdW5jdGlvbih0LGUpe3BwKHQsZSxuKX19LGRlY29yYXRpb25zOmZ1bmN0aW9uKHQpe3ZhciBlPXNwLmdldFN0YXRlKHQpO2lmKGUuYWN0aXZlSGFuZGxlPi0xKXJldHVybiBicCh0LGUuYWN0aXZlSGFuZGxlKX0sbm9kZVZpZXdzOnt9fX0pO3JldHVybiBpfXZhciBjcD1mdW5jdGlvbih0LGUpe3RoaXMuYWN0aXZlSGFuZGxlPXQsdGhpcy5kcmFnZ2luZz1lfTtmdW5jdGlvbiBscCh0LGUsbixyLG8pe3ZhciBpPXNwLmdldFN0YXRlKHQuc3RhdGUpO2lmKCFpLmRyYWdnaW5nKXt2YXIgcz1mcChlLnRhcmdldCksYT0tMTtpZihzKXt2YXIgYz1zLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGw9Yy5sZWZ0LHU9Yy5yaWdodDtlLmNsaWVudFgtbDw9bj9hPWRwKHQsZSwibGVmdCIpOnUtZS5jbGllbnRYPD1uJiYoYT1kcCh0LGUsInJpZ2h0IikpfWlmKGEhPWkuYWN0aXZlSGFuZGxlKXtpZighbyYmLTEhPT1hKXt2YXIgcD10LnN0YXRlLmRvYy5yZXNvbHZlKGEpLGg9cC5ub2RlKC0xKSxmPVJsLmdldChoKSxkPXAuc3RhcnQoLTEpLG09Zi5jb2xDb3VudChwLnBvcy1kKStwLm5vZGVBZnRlci5hdHRycy5jb2xzcGFuLTE7aWYobT09Zi53aWR0aC0xKXJldHVybn12cCh0LGEpfX19ZnVuY3Rpb24gdXAodCl7dmFyIGU9c3AuZ2V0U3RhdGUodC5zdGF0ZSk7ZS5hY3RpdmVIYW5kbGU+LTEmJiFlLmRyYWdnaW5nJiZ2cCh0LC0xKX1mdW5jdGlvbiBwcCh0LGUsbil7dmFyIHI9c3AuZ2V0U3RhdGUodC5zdGF0ZSk7aWYoLTE9PXIuYWN0aXZlSGFuZGxlfHxyLmRyYWdnaW5nKXJldHVybiExO3ZhciBvPXQuc3RhdGUuZG9jLm5vZGVBdChyLmFjdGl2ZUhhbmRsZSksaT1ocCh0LHIuYWN0aXZlSGFuZGxlLG8uYXR0cnMpO2Z1bmN0aW9uIHMoZSl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLHMpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLGEpO3ZhciByPXNwLmdldFN0YXRlKHQuc3RhdGUpO3IuZHJhZ2dpbmcmJihncCh0LHIuYWN0aXZlSGFuZGxlLG1wKHIuZHJhZ2dpbmcsZSxuKSksdC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldE1ldGEoc3Ase3NldERyYWdnaW5nOm51bGx9KSkpfWZ1bmN0aW9uIGEoZSl7aWYoIWUud2hpY2gpcmV0dXJuIHMoZSk7dmFyIHI9c3AuZ2V0U3RhdGUodC5zdGF0ZSksbz1tcChyLmRyYWdnaW5nLGUsbik7eXAodCxyLmFjdGl2ZUhhbmRsZSxvLG4pfXJldHVybiB0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0TWV0YShzcCx7c2V0RHJhZ2dpbmc6e3N0YXJ0WDplLmNsaWVudFgsc3RhcnRXaWR0aDppfX0pKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIscyksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsYSksZS5wcmV2ZW50RGVmYXVsdCgpLCEwfWZ1bmN0aW9uIGhwKHQsZSxuKXt2YXIgcj1uLmNvbHNwYW4sbz1uLmNvbHdpZHRoLGk9byYmb1tvLmxlbmd0aC0xXTtpZihpKXJldHVybiBpO3ZhciBzPXQuZG9tQXRQb3MoZSksYT1zLm5vZGUuY2hpbGROb2Rlc1tzLm9mZnNldF0sYz1hLm9mZnNldFdpZHRoLGw9cjtpZihvKWZvcih2YXIgdT0wO3U8cjt1Kyspb1t1XSYmKGMtPW9bdV0sbC0tKTtyZXR1cm4gYy9sfWZ1bmN0aW9uIGZwKHQpe3doaWxlKHQmJiJURCIhPXQubm9kZU5hbWUmJiJUSCIhPXQubm9kZU5hbWUpdD10LmNsYXNzTGlzdC5jb250YWlucygiUHJvc2VNaXJyb3IiKT9udWxsOnQucGFyZW50Tm9kZTtyZXR1cm4gdH1mdW5jdGlvbiBkcCh0LGUsbil7dmFyIHI9dC5wb3NBdENvb3Jkcyh7bGVmdDplLmNsaWVudFgsdG9wOmUuY2xpZW50WX0pO2lmKCFyKXJldHVybi0xO3ZhciBvPXIucG9zLGk9SGwodC5zdGF0ZS5kb2MucmVzb2x2ZShvKSk7aWYoIWkpcmV0dXJuLTE7aWYoInJpZ2h0Ij09bilyZXR1cm4gaS5wb3M7dmFyIHM9UmwuZ2V0KGkubm9kZSgtMSkpLGE9aS5zdGFydCgtMSksYz1zLm1hcC5pbmRleE9mKGkucG9zLWEpO3JldHVybiBjJXMud2lkdGg9PTA/LTE6YStzLm1hcFtjLTFdfWZ1bmN0aW9uIG1wKHQsZSxuKXt2YXIgcj1lLmNsaWVudFgtdC5zdGFydFg7cmV0dXJuIE1hdGgubWF4KG4sdC5zdGFydFdpZHRoK3IpfWZ1bmN0aW9uIHZwKHQsZSl7dC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldE1ldGEoc3Ase3NldEhhbmRsZTplfSkpfWZ1bmN0aW9uIGdwKHQsZSxuKXtmb3IodmFyIHI9dC5zdGF0ZS5kb2MucmVzb2x2ZShlKSxvPXIubm9kZSgtMSksaT1SbC5nZXQobykscz1yLnN0YXJ0KC0xKSxhPWkuY29sQ291bnQoci5wb3Mtcykrci5ub2RlQWZ0ZXIuYXR0cnMuY29sc3Bhbi0xLGM9dC5zdGF0ZS50cixsPTA7bDxpLmhlaWdodDtsKyspe3ZhciB1PWwqaS53aWR0aCthO2lmKCFsfHxpLm1hcFt1XSE9aS5tYXBbdS1pLndpZHRoXSl7dmFyIHA9aS5tYXBbdV0saD1vLm5vZGVBdChwKSxmPWguYXR0cnMsZD0xPT1mLmNvbHNwYW4/MDphLWkuY29sQ291bnQocCk7aWYoIWYuY29sd2lkdGh8fGYuY29sd2lkdGhbZF0hPW4pe3ZhciBtPWYuY29sd2lkdGg/Zi5jb2x3aWR0aC5zbGljZSgpOndwKGYuY29sc3Bhbik7bVtkXT1uLGMuc2V0Tm9kZU1hcmt1cChzK3AsbnVsbCxabChmLCJjb2x3aWR0aCIsbSkpfX19Yy5kb2NDaGFuZ2VkJiZ0LmRpc3BhdGNoKGMpfWZ1bmN0aW9uIHlwKHQsZSxuLHIpe3ZhciBvPXQuc3RhdGUuZG9jLnJlc29sdmUoZSksaT1vLm5vZGUoLTEpLHM9by5zdGFydCgtMSksYT1SbC5nZXQoaSkuY29sQ291bnQoby5wb3Mtcykrby5ub2RlQWZ0ZXIuYXR0cnMuY29sc3Bhbi0xLGM9dC5kb21BdFBvcyhvLnN0YXJ0KC0xKSkubm9kZTt3aGlsZSgiVEFCTEUiIT1jLm5vZGVOYW1lKWM9Yy5wYXJlbnROb2RlO2lwKGksYy5maXJzdENoaWxkLGMscixhLG4pfWZ1bmN0aW9uIHdwKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0O24rKyllLnB1c2goMCk7cmV0dXJuIGV9ZnVuY3Rpb24gYnAodCxlKXtmb3IodmFyIG49W10scj10LmRvYy5yZXNvbHZlKGUpLG89ci5ub2RlKC0xKSxpPVJsLmdldChvKSxzPXIuc3RhcnQoLTEpLGE9aS5jb2xDb3VudChyLnBvcy1zKStyLm5vZGVBZnRlci5hdHRycy5jb2xzcGFuLGM9MDtjPGkuaGVpZ2h0O2MrKyl7dmFyIGw9YStjKmkud2lkdGgtMTtpZigoYT09aS53aWR0aHx8aS5tYXBbbF0hPWkubWFwW2wrMV0pJiYoMD09Y3x8aS5tYXBbbC0xXSE9aS5tYXBbbC0xLWkud2lkdGhdKSl7dmFyIHU9aS5tYXBbbF0scD1zK3Urby5ub2RlQXQodSkubm9kZVNpemUtMSxoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2guY2xhc3NOYW1lPSJjb2x1bW4tcmVzaXplLWhhbmRsZSIsbi5wdXNoKGdpLndpZGdldChwLGgpKX19cmV0dXJuIHhpLmNyZWF0ZSh0LmRvYyxuKX1mdW5jdGlvbiB4cCh0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIGU9dC5hbGxvd1RhYmxlTm9kZVNlbGVjdGlvbjtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITEpLG5ldyBYZSh7a2V5OkZsLHN0YXRlOntpbml0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGFwcGx5OmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRNZXRhKEZsKTtpZihudWxsIT1uKXJldHVybi0xPT1uP251bGw6bjtpZihudWxsPT1lfHwhdC5kb2NDaGFuZ2VkKXJldHVybiBlO3ZhciByPXQubWFwcGluZy5tYXBSZXN1bHQoZSksbz1yLmRlbGV0ZWQsaT1yLnBvcztyZXR1cm4gbz9udWxsOml9fSxwcm9wczp7ZGVjb3JhdGlvbnM6b3UsaGFuZGxlRE9NRXZlbnRzOnttb3VzZWRvd246U3V9LGNyZWF0ZVNlbGVjdGlvbkJldHdlZW46ZnVuY3Rpb24odCl7aWYobnVsbCE9RmwuZ2V0U3RhdGUodC5zdGF0ZSkpcmV0dXJuIHQuc3RhdGUuc2VsZWN0aW9ufSxoYW5kbGVUcmlwbGVDbGljazp4dSxoYW5kbGVLZXlEb3duOnZ1LGhhbmRsZVBhc3RlOmt1fSxhcHBlbmRUcmFuc2FjdGlvbjpmdW5jdGlvbih0LG4scil7cmV0dXJuIGF1KHIsRXUocixuKSxlKX19KX1jcC5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQuZ2V0TWV0YShzcCk7aWYobiYmbnVsbCE9bi5zZXRIYW5kbGUpcmV0dXJuIG5ldyBjcChuLnNldEhhbmRsZSxudWxsKTtpZihuJiZ2b2lkIDAhPT1uLnNldERyYWdnaW5nKXJldHVybiBuZXcgY3AoZS5hY3RpdmVIYW5kbGUsbi5zZXREcmFnZ2luZyk7aWYoZS5hY3RpdmVIYW5kbGU+LTEmJnQuZG9jQ2hhbmdlZCl7dmFyIHI9dC5tYXBwaW5nLm1hcChlLmFjdGl2ZUhhbmRsZSwtMSk7VWwodC5kb2MucmVzb2x2ZShyKSl8fChyPW51bGwpLGU9bmV3IGNwKHIsZS5kcmFnZ2luZyl9cmV0dXJuIGV9O25ldyBRZSgiY29sbGFiIik7dmFyIGtwPTIwMCxTcD1mdW5jdGlvbigpe307U3AucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbih0KXtyZXR1cm4gdC5sZW5ndGg/KHQ9U3AuZnJvbSh0KSwhdGhpcy5sZW5ndGgmJnR8fHQubGVuZ3RoPGtwJiZ0aGlzLmxlYWZBcHBlbmQodCl8fHRoaXMubGVuZ3RoPGtwJiZ0LmxlYWZQcmVwZW5kKHRoaXMpfHx0aGlzLmFwcGVuZElubmVyKHQpKTp0aGlzfSxTcC5wcm90b3R5cGUucHJlcGVuZD1mdW5jdGlvbih0KXtyZXR1cm4gdC5sZW5ndGg/U3AuZnJvbSh0KS5hcHBlbmQodGhpcyk6dGhpc30sU3AucHJvdG90eXBlLmFwcGVuZElubmVyPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgTXAodGhpcyx0KX0sU3AucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPXRoaXMubGVuZ3RoKSx0Pj1lP1NwLmVtcHR5OnRoaXMuc2xpY2VJbm5lcihNYXRoLm1heCgwLHQpLE1hdGgubWluKHRoaXMubGVuZ3RoLGUpKX0sU3AucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtpZighKHQ8MHx8dD49dGhpcy5sZW5ndGgpKXJldHVybiB0aGlzLmdldElubmVyKHQpfSxTcC5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09biYmKG49dGhpcy5sZW5ndGgpLGU8PW4/dGhpcy5mb3JFYWNoSW5uZXIodCxlLG4sMCk6dGhpcy5mb3JFYWNoSW52ZXJ0ZWRJbm5lcih0LGUsbiwwKX0sU3AucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09biYmKG49dGhpcy5sZW5ndGgpO3ZhciByPVtdO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHIucHVzaCh0KGUsbikpfSksZSxuKSxyfSxTcC5mcm9tPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgU3A/dDp0JiZ0Lmxlbmd0aD9uZXcgQ3AodCk6U3AuZW1wdHl9O3ZhciBDcD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzKSx0aGlzLnZhbHVlcz1lfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXtsZW5ndGg6e2NvbmZpZ3VyYWJsZTohMH0sZGVwdGg6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBlLnByb3RvdHlwZS5mbGF0dGVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzfSxlLnByb3RvdHlwZS5zbGljZUlubmVyPWZ1bmN0aW9uKHQsbil7cmV0dXJuIDA9PXQmJm49PXRoaXMubGVuZ3RoP3RoaXM6bmV3IGUodGhpcy52YWx1ZXMuc2xpY2UodCxuKSl9LGUucHJvdG90eXBlLmdldElubmVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnZhbHVlc1t0XX0sZS5wcm90b3R5cGUuZm9yRWFjaElubmVyPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgbz1lO288bjtvKyspaWYoITE9PT10KHRoaXMudmFsdWVzW29dLHIrbykpcmV0dXJuITF9LGUucHJvdG90eXBlLmZvckVhY2hJbnZlcnRlZElubmVyPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgbz1lLTE7bz49bjtvLS0paWYoITE9PT10KHRoaXMudmFsdWVzW29dLHIrbykpcmV0dXJuITF9LGUucHJvdG90eXBlLmxlYWZBcHBlbmQ9ZnVuY3Rpb24odCl7aWYodGhpcy5sZW5ndGgrdC5sZW5ndGg8PWtwKXJldHVybiBuZXcgZSh0aGlzLnZhbHVlcy5jb25jYXQodC5mbGF0dGVuKCkpKX0sZS5wcm90b3R5cGUubGVhZlByZXBlbmQ9ZnVuY3Rpb24odCl7aWYodGhpcy5sZW5ndGgrdC5sZW5ndGg8PWtwKXJldHVybiBuZXcgZSh0LmZsYXR0ZW4oKS5jb25jYXQodGhpcy52YWx1ZXMpKX0sbi5sZW5ndGguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzLmxlbmd0aH0sbi5kZXB0aC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsbiksZX0oU3ApO1NwLmVtcHR5PW5ldyBDcChbXSk7dmFyIE1wPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyksdGhpcy5sZWZ0PWUsdGhpcy5yaWdodD1uLHRoaXMubGVuZ3RoPWUubGVuZ3RoK24ubGVuZ3RoLHRoaXMuZGVwdGg9TWF0aC5tYXgoZS5kZXB0aCxuLmRlcHRoKSsxfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5mbGF0dGVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVmdC5mbGF0dGVuKCkuY29uY2F0KHRoaXMucmlnaHQuZmxhdHRlbigpKX0sZS5wcm90b3R5cGUuZ2V0SW5uZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHQ8dGhpcy5sZWZ0Lmxlbmd0aD90aGlzLmxlZnQuZ2V0KHQpOnRoaXMucmlnaHQuZ2V0KHQtdGhpcy5sZWZ0Lmxlbmd0aCl9LGUucHJvdG90eXBlLmZvckVhY2hJbm5lcj1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10aGlzLmxlZnQubGVuZ3RoO3JldHVybiEoZTxvJiYhMT09PXRoaXMubGVmdC5mb3JFYWNoSW5uZXIodCxlLE1hdGgubWluKG4sbykscikpJiYoIShuPm8mJiExPT09dGhpcy5yaWdodC5mb3JFYWNoSW5uZXIodCxNYXRoLm1heChlLW8sMCksTWF0aC5taW4odGhpcy5sZW5ndGgsbiktbyxyK28pKSYmdm9pZCAwKX0sZS5wcm90b3R5cGUuZm9yRWFjaEludmVydGVkSW5uZXI9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89dGhpcy5sZWZ0Lmxlbmd0aDtyZXR1cm4hKGU+byYmITE9PT10aGlzLnJpZ2h0LmZvckVhY2hJbnZlcnRlZElubmVyKHQsZS1vLE1hdGgubWF4KG4sbyktbyxyK28pKSYmKCEobjxvJiYhMT09PXRoaXMubGVmdC5mb3JFYWNoSW52ZXJ0ZWRJbm5lcih0LE1hdGgubWluKGUsbyksbixyKSkmJnZvaWQgMCl9LGUucHJvdG90eXBlLnNsaWNlSW5uZXI9ZnVuY3Rpb24odCxlKXtpZigwPT10JiZlPT10aGlzLmxlbmd0aClyZXR1cm4gdGhpczt2YXIgbj10aGlzLmxlZnQubGVuZ3RoO3JldHVybiBlPD1uP3RoaXMubGVmdC5zbGljZSh0LGUpOnQ+PW4/dGhpcy5yaWdodC5zbGljZSh0LW4sZS1uKTp0aGlzLmxlZnQuc2xpY2UodCxuKS5hcHBlbmQodGhpcy5yaWdodC5zbGljZSgwLGUtbikpfSxlLnByb3RvdHlwZS5sZWFmQXBwZW5kPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMucmlnaHQubGVhZkFwcGVuZCh0KTtpZihuKXJldHVybiBuZXcgZSh0aGlzLmxlZnQsbil9LGUucHJvdG90eXBlLmxlYWZQcmVwZW5kPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMubGVmdC5sZWFmUHJlcGVuZCh0KTtpZihuKXJldHVybiBuZXcgZShuLHRoaXMucmlnaHQpfSxlLnByb3RvdHlwZS5hcHBlbmRJbm5lcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sZWZ0LmRlcHRoPj1NYXRoLm1heCh0aGlzLnJpZ2h0LmRlcHRoLHQuZGVwdGgpKzE/bmV3IGUodGhpcy5sZWZ0LG5ldyBlKHRoaXMucmlnaHQsdCkpOm5ldyBlKHRoaXMsdCl9LGV9KFNwKSxPcD1TcCxBcD1PcCxOcD01MDAsRXA9ZnVuY3Rpb24odCxlKXt0aGlzLml0ZW1zPXQsdGhpcy5ldmVudENvdW50PWV9O2Z1bmN0aW9uIFRwKHQsZSl7dmFyIG47cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCxyKXtpZih0LnNlbGVjdGlvbiYmMD09ZS0tKXJldHVybiBuPXIsITF9KSksdC5zbGljZShuKX1FcC5wcm90b3R5cGUucG9wRXZlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKDA9PXRoaXMuZXZlbnRDb3VudClyZXR1cm4gbnVsbDtmb3IodmFyIHIsbyxpPXRoaXMuaXRlbXMubGVuZ3RoOztpLS0pe3ZhciBzPXRoaXMuaXRlbXMuZ2V0KGktMSk7aWYocy5zZWxlY3Rpb24pey0taTticmVha319ZSYmKHI9dGhpcy5yZW1hcHBpbmcoaSx0aGlzLml0ZW1zLmxlbmd0aCksbz1yLm1hcHMubGVuZ3RoKTt2YXIgYSxjLGw9dC50cix1PVtdLHA9W107cmV0dXJuIHRoaXMuaXRlbXMuZm9yRWFjaCgoZnVuY3Rpb24odCxlKXtpZighdC5zdGVwKXJldHVybiByfHwocj1uLnJlbWFwcGluZyhpLGUrMSksbz1yLm1hcHMubGVuZ3RoKSxvLS0sdm9pZCBwLnB1c2godCk7aWYocil7cC5wdXNoKG5ldyBEcCh0Lm1hcCkpO3ZhciBzLGg9dC5zdGVwLm1hcChyLnNsaWNlKG8pKTtoJiZsLm1heWJlU3RlcChoKS5kb2MmJihzPWwubWFwcGluZy5tYXBzW2wubWFwcGluZy5tYXBzLmxlbmd0aC0xXSx1LnB1c2gobmV3IERwKHMsbnVsbCxudWxsLHUubGVuZ3RoK3AubGVuZ3RoKSkpLG8tLSxzJiZyLmFwcGVuZE1hcChzLG8pfWVsc2UgbC5tYXliZVN0ZXAodC5zdGVwKTtyZXR1cm4gdC5zZWxlY3Rpb24/KGE9cj90LnNlbGVjdGlvbi5tYXAoci5zbGljZShvKSk6dC5zZWxlY3Rpb24sYz1uZXcgRXAobi5pdGVtcy5zbGljZSgwLGkpLmFwcGVuZChwLnJldmVyc2UoKS5jb25jYXQodSkpLG4uZXZlbnRDb3VudC0xKSwhMSk6dm9pZCAwfSksdGhpcy5pdGVtcy5sZW5ndGgsMCkse3JlbWFpbmluZzpjLHRyYW5zZm9ybTpsLHNlbGVjdGlvbjphfX0sRXAucHJvdG90eXBlLmFkZFRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIG89W10saT10aGlzLmV2ZW50Q291bnQscz10aGlzLml0ZW1zLGE9IXImJnMubGVuZ3RoP3MuZ2V0KHMubGVuZ3RoLTEpOm51bGwsYz0wO2M8dC5zdGVwcy5sZW5ndGg7YysrKXt2YXIgbD10LnN0ZXBzW2NdLmludmVydCh0LmRvY3NbY10pLHU9bmV3IERwKHQubWFwcGluZy5tYXBzW2NdLGwsZSkscD12b2lkIDA7KHA9YSYmYS5tZXJnZSh1KSkmJih1PXAsYz9vLnBvcCgpOnM9cy5zbGljZSgwLHMubGVuZ3RoLTEpKSxvLnB1c2godSksZSYmKGkrKyxlPW51bGwpLHJ8fChhPXUpfXZhciBoPWktbi5kZXB0aDtyZXR1cm4gaD5ScCYmKHM9VHAocyxoKSxpLT1oKSxuZXcgRXAocy5hcHBlbmQobyksaSl9LEVwLnByb3RvdHlwZS5yZW1hcHBpbmc9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgRnQ7cmV0dXJuIHRoaXMuaXRlbXMuZm9yRWFjaCgoZnVuY3Rpb24oZSxyKXt2YXIgbz1udWxsIT1lLm1pcnJvck9mZnNldCYmci1lLm1pcnJvck9mZnNldD49dD9uLm1hcHMubGVuZ3RoLWUubWlycm9yT2Zmc2V0Om51bGw7bi5hcHBlbmRNYXAoZS5tYXAsbyl9KSx0LGUpLG59LEVwLnByb3RvdHlwZS5hZGRNYXBzPWZ1bmN0aW9uKHQpe3JldHVybiAwPT10aGlzLmV2ZW50Q291bnQ/dGhpczpuZXcgRXAodGhpcy5pdGVtcy5hcHBlbmQodC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRHAodCl9KSkpLHRoaXMuZXZlbnRDb3VudCl9LEVwLnByb3RvdHlwZS5yZWJhc2VkPWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuZXZlbnRDb3VudClyZXR1cm4gdGhpczt2YXIgbj1bXSxyPU1hdGgubWF4KDAsdGhpcy5pdGVtcy5sZW5ndGgtZSksbz10Lm1hcHBpbmcsaT10LnN0ZXBzLmxlbmd0aCxzPXRoaXMuZXZlbnRDb3VudDt0aGlzLml0ZW1zLmZvckVhY2goKGZ1bmN0aW9uKHQpe3Quc2VsZWN0aW9uJiZzLS19KSxyKTt2YXIgYT1lO3RoaXMuaXRlbXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9by5nZXRNaXJyb3IoLS1hKTtpZihudWxsIT1yKXtpPU1hdGgubWluKGkscik7dmFyIGM9by5tYXBzW3JdO2lmKGUuc3RlcCl7dmFyIGw9dC5zdGVwc1tyXS5pbnZlcnQodC5kb2NzW3JdKSx1PWUuc2VsZWN0aW9uJiZlLnNlbGVjdGlvbi5tYXAoby5zbGljZShhKzEscikpO3UmJnMrKyxuLnB1c2gobmV3IERwKGMsbCx1KSl9ZWxzZSBuLnB1c2gobmV3IERwKGMpKX19KSxyKTtmb3IodmFyIGM9W10sbD1lO2w8aTtsKyspYy5wdXNoKG5ldyBEcChvLm1hcHNbbF0pKTt2YXIgdT10aGlzLml0ZW1zLnNsaWNlKDAscikuYXBwZW5kKGMpLmFwcGVuZChuKSxwPW5ldyBFcCh1LHMpO3JldHVybiBwLmVtcHR5SXRlbUNvdW50KCk+TnAmJihwPXAuY29tcHJlc3ModGhpcy5pdGVtcy5sZW5ndGgtbi5sZW5ndGgpKSxwfSxFcC5wcm90b3R5cGUuZW1wdHlJdGVtQ291bnQ9ZnVuY3Rpb24oKXt2YXIgdD0wO3JldHVybiB0aGlzLml0ZW1zLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uuc3RlcHx8dCsrfSkpLHR9LEVwLnByb3RvdHlwZS5jb21wcmVzcz1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD10aGlzLml0ZW1zLmxlbmd0aCk7dmFyIGU9dGhpcy5yZW1hcHBpbmcoMCx0KSxuPWUubWFwcy5sZW5ndGgscj1bXSxvPTA7cmV0dXJuIHRoaXMuaXRlbXMuZm9yRWFjaCgoZnVuY3Rpb24oaSxzKXtpZihzPj10KXIucHVzaChpKSxpLnNlbGVjdGlvbiYmbysrO2Vsc2UgaWYoaS5zdGVwKXt2YXIgYT1pLnN0ZXAubWFwKGUuc2xpY2UobikpLGM9YSYmYS5nZXRNYXAoKTtpZihuLS0sYyYmZS5hcHBlbmRNYXAoYyxuKSxhKXt2YXIgbD1pLnNlbGVjdGlvbiYmaS5zZWxlY3Rpb24ubWFwKGUuc2xpY2UobikpO2wmJm8rKzt2YXIgdSxwPW5ldyBEcChjLmludmVydCgpLGEsbCksaD1yLmxlbmd0aC0xOyh1PXIubGVuZ3RoJiZyW2hdLm1lcmdlKHApKT9yW2hdPXU6ci5wdXNoKHApfX1lbHNlIGkubWFwJiZuLS19KSx0aGlzLml0ZW1zLmxlbmd0aCwwKSxuZXcgRXAoQXAuZnJvbShyLnJldmVyc2UoKSksbyl9LEVwLmVtcHR5PW5ldyBFcChBcC5lbXB0eSwwKTt2YXIgRHA9ZnVuY3Rpb24odCxlLG4scil7dGhpcy5tYXA9dCx0aGlzLnN0ZXA9ZSx0aGlzLnNlbGVjdGlvbj1uLHRoaXMubWlycm9yT2Zmc2V0PXJ9O0RwLnByb3RvdHlwZS5tZXJnZT1mdW5jdGlvbih0KXtpZih0aGlzLnN0ZXAmJnQuc3RlcCYmIXQuc2VsZWN0aW9uKXt2YXIgZT10LnN0ZXAubWVyZ2UodGhpcy5zdGVwKTtpZihlKXJldHVybiBuZXcgRHAoZS5nZXRNYXAoKS5pbnZlcnQoKSxlLHRoaXMuc2VsZWN0aW9uKX19O3ZhciBfcD1mdW5jdGlvbih0LGUsbixyKXt0aGlzLmRvbmU9dCx0aGlzLnVuZG9uZT1lLHRoaXMucHJldlJhbmdlcz1uLHRoaXMucHJldlRpbWU9cn0sUnA9MjA7ZnVuY3Rpb24genAodCxlLG4scil7dmFyIG8saT1uLmdldE1ldGEoRnApO2lmKGkpcmV0dXJuIGkuaGlzdG9yeVN0YXRlO24uZ2V0TWV0YShIcCkmJih0PW5ldyBfcCh0LmRvbmUsdC51bmRvbmUsbnVsbCwwKSk7dmFyIHM9bi5nZXRNZXRhKCJhcHBlbmRlZFRyYW5zYWN0aW9uIik7aWYoMD09bi5zdGVwcy5sZW5ndGgpcmV0dXJuIHQ7aWYocyYmcy5nZXRNZXRhKEZwKSlyZXR1cm4gcy5nZXRNZXRhKEZwKS5yZWRvP25ldyBfcCh0LmRvbmUuYWRkVHJhbnNmb3JtKG4sbnVsbCxyLExwKGUpKSx0LnVuZG9uZSxQcChuLm1hcHBpbmcubWFwc1tuLnN0ZXBzLmxlbmd0aC0xXSksdC5wcmV2VGltZSk6bmV3IF9wKHQuZG9uZSx0LnVuZG9uZS5hZGRUcmFuc2Zvcm0obixudWxsLHIsTHAoZSkpLG51bGwsdC5wcmV2VGltZSk7aWYoITE9PT1uLmdldE1ldGEoImFkZFRvSGlzdG9yeSIpfHxzJiYhMT09PXMuZ2V0TWV0YSgiYWRkVG9IaXN0b3J5IikpcmV0dXJuKG89bi5nZXRNZXRhKCJyZWJhc2VkIikpP25ldyBfcCh0LmRvbmUucmViYXNlZChuLG8pLHQudW5kb25lLnJlYmFzZWQobixvKSwkcCh0LnByZXZSYW5nZXMsbi5tYXBwaW5nKSx0LnByZXZUaW1lKTpuZXcgX3AodC5kb25lLmFkZE1hcHMobi5tYXBwaW5nLm1hcHMpLHQudW5kb25lLmFkZE1hcHMobi5tYXBwaW5nLm1hcHMpLCRwKHQucHJldlJhbmdlcyxuLm1hcHBpbmcpLHQucHJldlRpbWUpO3ZhciBhPTA9PXQucHJldlRpbWV8fCFzJiYodC5wcmV2VGltZTwobi50aW1lfHwwKS1yLm5ld0dyb3VwRGVsYXl8fCFJcChuLHQucHJldlJhbmdlcykpLGM9cz8kcCh0LnByZXZSYW5nZXMsbi5tYXBwaW5nKTpQcChuLm1hcHBpbmcubWFwc1tuLnN0ZXBzLmxlbmd0aC0xXSk7cmV0dXJuIG5ldyBfcCh0LmRvbmUuYWRkVHJhbnNmb3JtKG4sYT9lLnNlbGVjdGlvbi5nZXRCb29rbWFyaygpOm51bGwscixMcChlKSksRXAuZW1wdHksYyxuLnRpbWUpfWZ1bmN0aW9uIElwKHQsZSl7aWYoIWUpcmV0dXJuITE7aWYoIXQuZG9jQ2hhbmdlZClyZXR1cm4hMDt2YXIgbj0hMTtyZXR1cm4gdC5tYXBwaW5nLm1hcHNbMF0uZm9yRWFjaCgoZnVuY3Rpb24odCxyKXtmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rPTIpdDw9ZVtvKzFdJiZyPj1lW29dJiYobj0hMCl9KSksbn1mdW5jdGlvbiBQcCh0KXt2YXIgZT1bXTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0LG4scixvKXtyZXR1cm4gZS5wdXNoKHIsbyl9KSksZX1mdW5jdGlvbiAkcCh0LGUpe2lmKCF0KXJldHVybiBudWxsO2Zvcih2YXIgbj1bXSxyPTA7cjx0Lmxlbmd0aDtyKz0yKXt2YXIgbz1lLm1hcCh0W3JdLDEpLGk9ZS5tYXAodFtyKzFdLC0xKTtvPD1pJiZuLnB1c2gobyxpKX1yZXR1cm4gbn1mdW5jdGlvbiBCcCh0LGUsbixyKXt2YXIgbz1McChlKSxpPUZwLmdldChlKS5zcGVjLmNvbmZpZyxzPShyP3QudW5kb25lOnQuZG9uZSkucG9wRXZlbnQoZSxvKTtpZihzKXt2YXIgYT1zLnNlbGVjdGlvbi5yZXNvbHZlKHMudHJhbnNmb3JtLmRvYyksYz0ocj90LmRvbmU6dC51bmRvbmUpLmFkZFRyYW5zZm9ybShzLnRyYW5zZm9ybSxlLnNlbGVjdGlvbi5nZXRCb29rbWFyaygpLGksbyksbD1uZXcgX3Aocj9jOnMucmVtYWluaW5nLHI/cy5yZW1haW5pbmc6YyxudWxsLDApO24ocy50cmFuc2Zvcm0uc2V0U2VsZWN0aW9uKGEpLnNldE1ldGEoRnAse3JlZG86cixoaXN0b3J5U3RhdGU6bH0pLnNjcm9sbEludG9WaWV3KCkpfX12YXIgVnA9ITEsanA9bnVsbDtmdW5jdGlvbiBMcCh0KXt2YXIgZT10LnBsdWdpbnM7aWYoanAhPWUpe1ZwPSExLGpwPWU7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspaWYoZVtuXS5zcGVjLmhpc3RvcnlQcmVzZXJ2ZUl0ZW1zKXtWcD0hMDticmVha319cmV0dXJuIFZwfXZhciBGcD1uZXcgUWUoImhpc3RvcnkiKSxIcD1uZXcgUWUoImNsb3NlSGlzdG9yeSIpO2Z1bmN0aW9uIEpwKHQpe3JldHVybiB0PXtkZXB0aDp0JiZ0LmRlcHRofHwxMDAsbmV3R3JvdXBEZWxheTp0JiZ0Lm5ld0dyb3VwRGVsYXl8fDUwMH0sbmV3IFhlKHtrZXk6RnAsc3RhdGU6e2luaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IF9wKEVwLmVtcHR5LEVwLmVtcHR5LG51bGwsMCl9LGFwcGx5OmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4genAobixyLGUsdCl9fSxjb25maWc6dH0pfWZ1bmN0aW9uIFdwKHQsZSl7dmFyIG49RnAuZ2V0U3RhdGUodCk7cmV0dXJuISghbnx8MD09bi5kb25lLmV2ZW50Q291bnQpJiYoZSYmQnAobix0LGUsITEpLCEwKX1mdW5jdGlvbiBxcCh0LGUpe3ZhciBuPUZwLmdldFN0YXRlKHQpO3JldHVybiEoIW58fDA9PW4udW5kb25lLmV2ZW50Q291bnQpJiYoZSYmQnAobix0LGUsITApLCEwKX1mdW5jdGlvbiBLcCh0KXt2YXIgZT1GcC5nZXRTdGF0ZSh0KTtyZXR1cm4gZT9lLmRvbmUuZXZlbnRDb3VudDowfWZ1bmN0aW9uIFVwKHQpe3ZhciBlPUZwLmdldFN0YXRlKHQpO3JldHVybiBlP2UudW5kb25lLmV2ZW50Q291bnQ6MH0KLyohCiAgICAqIHRpcHRhcC1leHRlbnNpb25zIHYxLjM1LjEKICAgICogKGMpIDIwMjEgw7xiZXJkb3NpcyBHYlIgKGxpbWl0ZWQgbGlhYmlsaXR5KQogICAgKiBAbGljZW5zZSBNSVQKICAgICovCmNsYXNzIEdwIGV4dGVuZHMgSGF7Z2V0IG5hbWUoKXtyZXR1cm4iYmxvY2txdW90ZSJ9Z2V0IHNjaGVtYSgpe3JldHVybntjb250ZW50OiJibG9jayoiLGdyb3VwOiJibG9jayIsZGVmaW5pbmc6ITAsZHJhZ2dhYmxlOiExLHBhcnNlRE9NOlt7dGFnOiJibG9ja3F1b3RlIn1dLHRvRE9NOigpPT5bImJsb2NrcXVvdGUiLDBdfX1jb21tYW5kcyh7dHlwZTp0fSl7cmV0dXJuKCk9PlJhKHQpfWtleXMoe3R5cGU6dH0pe3JldHVybnsiQ3RybC0+IjpSYSh0KX19aW5wdXRSdWxlcyh7dHlwZTp0fSl7cmV0dXJuW1FzKC9eXHMqPlxzJC8sdCldfX1jbGFzcyBYcCBleHRlbmRzIEhhe2dldCBuYW1lKCl7cmV0dXJuImJ1bGxldF9saXN0In1nZXQgc2NoZW1hKCl7cmV0dXJue2NvbnRlbnQ6Imxpc3RfaXRlbSsiLGdyb3VwOiJibG9jayIscGFyc2VET006W3t0YWc6InVsIn1dLHRvRE9NOigpPT5bInVsIiwwXX19Y29tbWFuZHMoe3R5cGU6dCxzY2hlbWE6ZX0pe3JldHVybigpPT5fYSh0LGUubm9kZXMubGlzdF9pdGVtKX1rZXlzKHt0eXBlOnQsc2NoZW1hOmV9KXtyZXR1cm57IlNoaWZ0LUN0cmwtOCI6X2EodCxlLm5vZGVzLmxpc3RfaXRlbSl9fWlucHV0UnVsZXMoe3R5cGU6dH0pe3JldHVybltRcygvXlxzKihbLSsqXSlccyQvLHQpXX19Y2xhc3MgWXAgZXh0ZW5kcyBIYXtnZXQgbmFtZSgpe3JldHVybiJjb2RlX2Jsb2NrIn1nZXQgc2NoZW1hKCl7cmV0dXJue2NvbnRlbnQ6InRleHQqIixtYXJrczoiIixncm91cDoiYmxvY2siLGNvZGU6ITAsZGVmaW5pbmc6ITAsZHJhZ2dhYmxlOiExLHBhcnNlRE9NOlt7dGFnOiJwcmUiLHByZXNlcnZlV2hpdGVzcGFjZToiZnVsbCJ9XSx0b0RPTTooKT0+WyJwcmUiLFsiY29kZSIsMF1dfX1jb21tYW5kcyh7dHlwZTp0LHNjaGVtYTplfSl7cmV0dXJuKCk9PlRhKHQsZS5ub2Rlcy5wYXJhZ3JhcGgpfWtleXMoe3R5cGU6dH0pe3JldHVybnsiU2hpZnQtQ3RybC1cXCI6UHModCl9fWlucHV0UnVsZXMoe3R5cGU6dH0pe3JldHVyblt0YSgvXmBgYCQvLHQpXX19Y2xhc3MgWnAgZXh0ZW5kcyBIYXtnZXQgbmFtZSgpe3JldHVybiJoYXJkX2JyZWFrIn1nZXQgc2NoZW1hKCl7cmV0dXJue2lubGluZTohMCxncm91cDoiaW5saW5lIixzZWxlY3RhYmxlOiExLHBhcnNlRE9NOlt7dGFnOiJiciJ9XSx0b0RPTTooKT0+WyJiciJdfX1jb21tYW5kcyh7dHlwZTp0fSl7cmV0dXJuKCk9PlZzKE5zLCgoZSxuKT0+KG4oZS50ci5yZXBsYWNlU2VsZWN0aW9uV2l0aCh0LmNyZWF0ZSgpKS5zY3JvbGxJbnRvVmlldygpKSwhMCkpKX1rZXlzKHt0eXBlOnR9KXtjb25zdCBlPVZzKE5zLCgoZSxuKT0+KG4oZS50ci5yZXBsYWNlU2VsZWN0aW9uV2l0aCh0LmNyZWF0ZSgpKS5zY3JvbGxJbnRvVmlldygpKSwhMCkpKTtyZXR1cm57Ik1vZC1FbnRlciI6ZSwiU2hpZnQtRW50ZXIiOmV9fX1jbGFzcyBRcCBleHRlbmRzIEhhe2dldCBuYW1lKCl7cmV0dXJuImhlYWRpbmcifWdldCBkZWZhdWx0T3B0aW9ucygpe3JldHVybntsZXZlbHM6WzEsMiwzLDQsNSw2XX19Z2V0IHNjaGVtYSgpe3JldHVybnthdHRyczp7bGV2ZWw6e2RlZmF1bHQ6MX19LGNvbnRlbnQ6ImlubGluZSoiLGdyb3VwOiJibG9jayIsZGVmaW5pbmc6ITAsZHJhZ2dhYmxlOiExLHBhcnNlRE9NOnRoaXMub3B0aW9ucy5sZXZlbHMubWFwKCh0PT4oe3RhZzpgaCR7dH1gLGF0dHJzOntsZXZlbDp0fX0pKSksdG9ET006dD0+W2BoJHt0LmF0dHJzLmxldmVsfWAsMF19fWNvbW1hbmRzKHt0eXBlOnQsc2NoZW1hOmV9KXtyZXR1cm4gbj0+VGEodCxlLm5vZGVzLnBhcmFncmFwaCxuKX1rZXlzKHt0eXBlOnR9KXtyZXR1cm4gdGhpcy5vcHRpb25zLmxldmVscy5yZWR1Y2UoKChlLG4pPT4oey4uLmUsW2BTaGlmdC1DdHJsLSR7bn1gXTpQcyh0LHtsZXZlbDpufSl9KSkse30pfWlucHV0UnVsZXMoe3R5cGU6dH0pe3JldHVybiB0aGlzLm9wdGlvbnMubGV2ZWxzLm1hcCgoZT0+dGEobmV3IFJlZ0V4cChgXigjezEsJHtlfX0pXFxzJGApLHQsKCgpPT4oe2xldmVsOmV9KSkpKSl9fWNsYXNzIHRoIGV4dGVuZHMgSGF7Z2V0IG5hbWUoKXtyZXR1cm4ibGlzdF9pdGVtIn1nZXQgc2NoZW1hKCl7cmV0dXJue2NvbnRlbnQ6InBhcmFncmFwaCBibG9jayoiLGRlZmluaW5nOiEwLGRyYWdnYWJsZTohMSxwYXJzZURPTTpbe3RhZzoibGkifV0sdG9ET006KCk9PlsibGkiLDBdfX1rZXlzKHt0eXBlOnR9KXtyZXR1cm57RW50ZXI6eWEodCksVGFiOmthKHQpLCJTaGlmdC1UYWIiOndhKHQpfX19Y2xhc3MgZWggZXh0ZW5kcyBIYXtnZXQgbmFtZSgpe3JldHVybiJvcmRlcmVkX2xpc3QifWdldCBzY2hlbWEoKXtyZXR1cm57YXR0cnM6e29yZGVyOntkZWZhdWx0OjF9fSxjb250ZW50OiJsaXN0X2l0ZW0rIixncm91cDoiYmxvY2siLHBhcnNlRE9NOlt7dGFnOiJvbCIsZ2V0QXR0cnM6dD0+KHtvcmRlcjp0Lmhhc0F0dHJpYnV0ZSgic3RhcnQiKT8rdC5nZXRBdHRyaWJ1dGUoInN0YXJ0Iik6MX0pfV0sdG9ET006dD0+MT09PXQuYXR0cnMub3JkZXI/WyJvbCIsMF06WyJvbCIse3N0YXJ0OnQuYXR0cnMub3JkZXJ9LDBdfX1jb21tYW5kcyh7dHlwZTp0LHNjaGVtYTplfSl7cmV0dXJuKCk9Pl9hKHQsZS5ub2Rlcy5saXN0X2l0ZW0pfWtleXMoe3R5cGU6dCxzY2hlbWE6ZX0pe3JldHVybnsiU2hpZnQtQ3RybC05IjpfYSh0LGUubm9kZXMubGlzdF9pdGVtKX19aW5wdXRSdWxlcyh7dHlwZTp0fSl7cmV0dXJuW1FzKC9eKFxkKylcLlxzJC8sdCwodD0+KHtvcmRlcjordFsxXX0pKSwoKHQsZSk9PmUuY2hpbGRDb3VudCtlLmF0dHJzLm9yZGVyPT09K3RbMV0pKV19fXZhciBuaD1qbCh7dGFibGVHcm91cDoiYmxvY2siLGNlbGxDb250ZW50OiJibG9jaysiLGNlbGxBdHRyaWJ1dGVzOntiYWNrZ3JvdW5kOntkZWZhdWx0Om51bGwsZ2V0RnJvbURPTSh0KXtyZXR1cm4gdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3J8fG51bGx9LHNldERPTUF0dHIodCxlKXtpZih0KXtjb25zdCBuPXtzdHlsZTpgJHtlLnN0eWxlfHwiIn1iYWNrZ3JvdW5kLWNvbG9yOiAke3R9O2B9O09iamVjdC5hc3NpZ24oZSxuKX19fX19KTtjbGFzcyByaCBleHRlbmRzIEhhe2dldCBuYW1lKCl7cmV0dXJuInRhYmxlIn1nZXQgZGVmYXVsdE9wdGlvbnMoKXtyZXR1cm57cmVzaXphYmxlOiExfX1nZXQgc2NoZW1hKCl7cmV0dXJuIG5oLnRhYmxlfWNvbW1hbmRzKHtzY2hlbWE6dH0pe3JldHVybntjcmVhdGVUYWJsZTooe3Jvd3NDb3VudDplLGNvbHNDb3VudDpuLHdpdGhIZWFkZXJSb3c6cn0pPT4obyxpKT0+e2NvbnN0IHM9by50ci5zZWxlY3Rpb24uYW5jaG9yKzEsYT1yYSh0LGUsbixyKSxjPW8udHIucmVwbGFjZVNlbGVjdGlvbldpdGgoYSkuc2Nyb2xsSW50b1ZpZXcoKSxsPWMuZG9jLnJlc29sdmUocyk7Yy5zZXRTZWxlY3Rpb24oVGUubmVhcihsKSksaShjKX0sYWRkQ29sdW1uQmVmb3JlOigpPT5SdSxhZGRDb2x1bW5BZnRlcjooKT0+enUsZGVsZXRlQ29sdW1uOigpPT5QdSxhZGRSb3dCZWZvcmU6KCk9PlZ1LGFkZFJvd0FmdGVyOigpPT5qdSxkZWxldGVSb3c6KCk9PkZ1LGRlbGV0ZVRhYmxlOigpPT5ycCx0b2dnbGVDZWxsTWVyZ2U6KCk9Pih0LGUpPT57V3UodCxlKXx8cXUodCxlKX0sbWVyZ2VDZWxsczooKT0+V3Usc3BsaXRDZWxsOigpPT5xdSx0b2dnbGVIZWFkZXJDb2x1bW46KCk9PlF1LHRvZ2dsZUhlYWRlclJvdzooKT0+WnUsdG9nZ2xlSGVhZGVyQ2VsbDooKT0+dHAsc2V0Q2VsbEF0dHI6KHtuYW1lOnQsdmFsdWU6ZX0pPT5VdSh0LGUpLGZpeFRhYmxlczooKT0+RXV9fWtleXMoKXtyZXR1cm57VGFiOm5wKDEpLCJTaGlmdC1UYWIiOm5wKC0xKX19Z2V0IHBsdWdpbnMoKXtyZXR1cm5bLi4udGhpcy5vcHRpb25zLnJlc2l6YWJsZT9bYXAoKV06W10seHAoKV19fWNsYXNzIG9oIGV4dGVuZHMgSGF7Z2V0IG5hbWUoKXtyZXR1cm4idGFibGVfaGVhZGVyIn1nZXQgc2NoZW1hKCl7cmV0dXJuIG5oLnRhYmxlX2hlYWRlcn19Y2xhc3MgaWggZXh0ZW5kcyBIYXtnZXQgbmFtZSgpe3JldHVybiJ0YWJsZV9jZWxsIn1nZXQgc2NoZW1hKCl7cmV0dXJuIG5oLnRhYmxlX2NlbGx9fWNsYXNzIHNoIGV4dGVuZHMgSGF7Z2V0IG5hbWUoKXtyZXR1cm4idGFibGVfcm93In1nZXQgc2NoZW1hKCl7cmV0dXJuIG5oLnRhYmxlX3Jvd319Y2xhc3MgYWggZXh0ZW5kcyBIYXtnZXQgbmFtZSgpe3JldHVybiJ0b2RvX2l0ZW0ifWdldCBkZWZhdWx0T3B0aW9ucygpe3JldHVybntuZXN0ZWQ6ITF9fWdldCB2aWV3KCl7cmV0dXJue3Byb3BzOlsibm9kZSIsInVwZGF0ZUF0dHJzIiwidmlldyJdLG1ldGhvZHM6e29uQ2hhbmdlKCl7dGhpcy51cGRhdGVBdHRycyh7ZG9uZTohdGhpcy5ub2RlLmF0dHJzLmRvbmV9KX19LHRlbXBsYXRlOidcbiAgICAgICAgPGxpIDpkYXRhLXR5cGU9Im5vZGUudHlwZS5uYW1lIiA6ZGF0YS1kb25lPSJub2RlLmF0dHJzLmRvbmUudG9TdHJpbmcoKSIgZGF0YS1kcmFnLWhhbmRsZT5cbiAgICAgICAgICA8c3BhbiBjbGFzcz0idG9kby1jaGVja2JveCIgY29udGVudGVkaXRhYmxlPSJmYWxzZSIgQGNsaWNrPSJvbkNoYW5nZSI+PC9zcGFuPlxuICAgICAgICAgIDxkaXYgY2xhc3M9InRvZG8tY29udGVudCIgcmVmPSJjb250ZW50IiA6Y29udGVudGVkaXRhYmxlPSJ2aWV3LmVkaXRhYmxlLnRvU3RyaW5nKCkiPjwvZGl2PlxuICAgICAgICA8L2xpPlxuICAgICAgJ319Z2V0IHNjaGVtYSgpe3JldHVybnthdHRyczp7ZG9uZTp7ZGVmYXVsdDohMX19LGRyYWdnYWJsZTohMCxjb250ZW50OnRoaXMub3B0aW9ucy5uZXN0ZWQ/IihwYXJhZ3JhcGh8dG9kb19saXN0KSsiOiJwYXJhZ3JhcGgrIix0b0RPTTp0PT57Y29uc3R7ZG9uZTplfT10LmF0dHJzO3JldHVyblsibGkiLHsiZGF0YS10eXBlIjp0aGlzLm5hbWUsImRhdGEtZG9uZSI6ZS50b1N0cmluZygpfSxbInNwYW4iLHtjbGFzczoidG9kby1jaGVja2JveCIsY29udGVudGVkaXRhYmxlOiJmYWxzZSJ9XSxbImRpdiIse2NsYXNzOiJ0b2RvLWNvbnRlbnQifSwwXV19LHBhcnNlRE9NOlt7cHJpb3JpdHk6NTEsdGFnOmBbZGF0YS10eXBlPSIke3RoaXMubmFtZX0iXWAsZ2V0QXR0cnM6dD0+KHtkb25lOiJ0cnVlIj09PXQuZ2V0QXR0cmlidXRlKCJkYXRhLWRvbmUiKX0pfV19fWtleXMoe3R5cGU6dH0pe3JldHVybntFbnRlcjpFYSh0KSxUYWI6dGhpcy5vcHRpb25zLm5lc3RlZD9rYSh0KTooKT0+e30sIlNoaWZ0LVRhYiI6d2EodCl9fX1jbGFzcyBjaCBleHRlbmRzIEhhe2dldCBuYW1lKCl7cmV0dXJuInRvZG9fbGlzdCJ9Z2V0IHNjaGVtYSgpe3JldHVybntncm91cDoiYmxvY2siLGNvbnRlbnQ6InRvZG9faXRlbSsiLHRvRE9NOigpPT5bInVsIix7ImRhdGEtdHlwZSI6dGhpcy5uYW1lfSwwXSxwYXJzZURPTTpbe3ByaW9yaXR5OjUxLHRhZzpgW2RhdGEtdHlwZT0iJHt0aGlzLm5hbWV9Il1gfV19fWNvbW1hbmRzKHt0eXBlOnQsc2NoZW1hOmV9KXtyZXR1cm4oKT0+X2EodCxlLm5vZGVzLnRvZG9faXRlbSl9aW5wdXRSdWxlcyh7dHlwZTp0fSl7cmV0dXJuW1FzKC9eXHMqKFxbIFxdKVxzJC8sdCldfX1jbGFzcyBsaCBleHRlbmRzIExhe2dldCBuYW1lKCl7cmV0dXJuImJvbGQifWdldCBzY2hlbWEoKXtyZXR1cm57cGFyc2VET006W3t0YWc6InN0cm9uZyJ9LHt0YWc6ImIiLGdldEF0dHJzOnQ9PiJub3JtYWwiIT09dC5zdHlsZS5mb250V2VpZ2h0JiZudWxsfSx7c3R5bGU6ImZvbnQtd2VpZ2h0IixnZXRBdHRyczp0PT4vXihib2xkKGVyKT98WzUtOV1cZHsyLH0pJC8udGVzdCh0KSYmbnVsbH1dLHRvRE9NOigpPT5bInN0cm9uZyIsMF19fWtleXMoe3R5cGU6dH0pe3JldHVybnsiTW9kLWIiOkJzKHQpfX1jb21tYW5kcyh7dHlwZTp0fSl7cmV0dXJuKCk9PkJzKHQpfWlucHV0UnVsZXMoe3R5cGU6dH0pe3JldHVybltDYSgvKD86XCpcKnxfXykoW14qX10rKSg/OlwqXCp8X18pJC8sdCldfXBhc3RlUnVsZXMoe3R5cGU6dH0pe3JldHVybltPYSgvKD86XCpcKnxfXykoW14qX10rKSg/OlwqXCp8X18pL2csdCldfX1jbGFzcyB1aCBleHRlbmRzIExhe2dldCBuYW1lKCl7cmV0dXJuImNvZGUifWdldCBzY2hlbWEoKXtyZXR1cm57ZXhjbHVkZXM6Il8iLHBhcnNlRE9NOlt7dGFnOiJjb2RlIn1dLHRvRE9NOigpPT5bImNvZGUiLDBdfX1rZXlzKHt0eXBlOnR9KXtyZXR1cm57Ik1vZC1gIjpCcyh0KX19Y29tbWFuZHMoe3R5cGU6dH0pe3JldHVybigpPT5Ccyh0KX1pbnB1dFJ1bGVzKHt0eXBlOnR9KXtyZXR1cm5bQ2EoLyg/OmApKFteYF0rKSg/OmApJC8sdCldfXBhc3RlUnVsZXMoe3R5cGU6dH0pe3JldHVybltPYSgvKD86YCkoW15gXSspKD86YCkvZyx0KV19fWNsYXNzIHBoIGV4dGVuZHMgTGF7Z2V0IG5hbWUoKXtyZXR1cm4iaXRhbGljIn1nZXQgc2NoZW1hKCl7cmV0dXJue3BhcnNlRE9NOlt7dGFnOiJpIn0se3RhZzoiZW0ifSx7c3R5bGU6ImZvbnQtc3R5bGU9aXRhbGljIn1dLHRvRE9NOigpPT5bImVtIiwwXX19a2V5cyh7dHlwZTp0fSl7cmV0dXJueyJNb2QtaSI6QnModCl9fWNvbW1hbmRzKHt0eXBlOnR9KXtyZXR1cm4oKT0+QnModCl9aW5wdXRSdWxlcyh7dHlwZTp0fSl7cmV0dXJuW0NhKC8oPzpefFteX10pKF8oW15fXSspXykkLyx0KSxDYSgvKD86XnxbXipdKShcKihbXipdKylcKikkLyx0KV19cGFzdGVSdWxlcyh7dHlwZTp0fSl7cmV0dXJuW09hKC9fKFteX10rKV8vZyx0KSxPYSgvXCooW14qXSspXCovZyx0KV19fWNsYXNzIGhoIGV4dGVuZHMgTGF7Z2V0IG5hbWUoKXtyZXR1cm4ibGluayJ9Z2V0IGRlZmF1bHRPcHRpb25zKCl7cmV0dXJue29wZW5PbkNsaWNrOiEwLHRhcmdldDpudWxsfX1nZXQgc2NoZW1hKCl7cmV0dXJue2F0dHJzOntocmVmOntkZWZhdWx0Om51bGx9LHRhcmdldDp7ZGVmYXVsdDpudWxsfX0saW5jbHVzaXZlOiExLHBhcnNlRE9NOlt7dGFnOiJhW2hyZWZdIixnZXRBdHRyczp0PT4oe2hyZWY6dC5nZXRBdHRyaWJ1dGUoImhyZWYiKSx0YXJnZXQ6dC5nZXRBdHRyaWJ1dGUoInRhcmdldCIpfSl9XSx0b0RPTTp0PT5bImEiLHsuLi50LmF0dHJzLHJlbDoibm9vcGVuZXIgbm9yZWZlcnJlciBub2ZvbGxvdyIsdGFyZ2V0OnQuYXR0cnMudGFyZ2V0fHx0aGlzLm9wdGlvbnMudGFyZ2V0fSwwXX19Y29tbWFuZHMoe3R5cGU6dH0pe3JldHVybiBlPT5lLmhyZWY/emEodCxlKTpBYSh0KX1wYXN0ZVJ1bGVzKHt0eXBlOnR9KXtyZXR1cm5bTWEoL2h0dHBzPzpcL1wvKHd3d1wuKT9bLWEtekEtWjAtOUA6JS5fK34jPV17MSwyNTZ9XC5bYS16QS1aXXsyLH1cYihbLWEtekEtWjAtOUA6JV8rLn4jPyYvLz0sKCkhXSopL2dpLHQsKHQ9Pih7aHJlZjp0fSkpKV19Z2V0IHBsdWdpbnMoKXtyZXR1cm4gdGhpcy5vcHRpb25zLm9wZW5PbkNsaWNrP1tuZXcgWGUoe3Byb3BzOntoYW5kbGVDbGljazoodCxlLG4pPT57Y29uc3R7c2NoZW1hOnJ9PXQuc3RhdGUsbz1sYSh0LnN0YXRlLHIubWFya3MubGluayk7by5ocmVmJiZuLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxBbmNob3JFbGVtZW50JiYobi5zdG9wUHJvcGFnYXRpb24oKSx3aW5kb3cub3BlbihvLmhyZWYsby50YXJnZXQpKX19fSldOltdfX1jbGFzcyBmaCBleHRlbmRzIExhe2dldCBuYW1lKCl7cmV0dXJuInN0cmlrZSJ9Z2V0IHNjaGVtYSgpe3JldHVybntwYXJzZURPTTpbe3RhZzoicyJ9LHt0YWc6ImRlbCJ9LHt0YWc6InN0cmlrZSJ9LHtzdHlsZToidGV4dC1kZWNvcmF0aW9uIixnZXRBdHRyczp0PT4ibGluZS10aHJvdWdoIj09PXR9XSx0b0RPTTooKT0+WyJzIiwwXX19a2V5cyh7dHlwZTp0fSl7cmV0dXJueyJNb2QtZCI6QnModCl9fWNvbW1hbmRzKHt0eXBlOnR9KXtyZXR1cm4oKT0+QnModCl9aW5wdXRSdWxlcyh7dHlwZTp0fSl7cmV0dXJuW0NhKC9+KFtefl0rKX4kLyx0KV19cGFzdGVSdWxlcyh7dHlwZTp0fSl7cmV0dXJuW09hKC9+KFtefl0rKX4vZyx0KV19fWNsYXNzIGRoIGV4dGVuZHMgTGF7Z2V0IG5hbWUoKXtyZXR1cm4idW5kZXJsaW5lIn1nZXQgc2NoZW1hKCl7cmV0dXJue3BhcnNlRE9NOlt7dGFnOiJ1In0se3N0eWxlOiJ0ZXh0LWRlY29yYXRpb24iLGdldEF0dHJzOnQ9PiJ1bmRlcmxpbmUiPT09dH1dLHRvRE9NOigpPT5bInUiLDBdfX1rZXlzKHt0eXBlOnR9KXtyZXR1cm57Ik1vZC11IjpCcyh0KX19Y29tbWFuZHMoe3R5cGU6dH0pe3JldHVybigpPT5Ccyh0KX19Y2xhc3MgbWggZXh0ZW5kcyBCYXtnZXQgbmFtZSgpe3JldHVybiJoaXN0b3J5In1nZXQgZGVmYXVsdE9wdGlvbnMoKXtyZXR1cm57ZGVwdGg6IiIsbmV3R3JvdXBEZWxheToiIn19a2V5cygpe2NvbnN0IHQ9eyJNb2QteiI6V3AsIk1vZC15IjpxcCwiU2hpZnQtTW9kLXoiOnFwLCJNb2Qt0Y8iOldwLCJTaGlmdC1Nb2Qt0Y8iOnFwfTtyZXR1cm4gdH1nZXQgcGx1Z2lucygpe3JldHVybltKcCh7ZGVwdGg6dGhpcy5vcHRpb25zLmRlcHRoLG5ld0dyb3VwRGVsYXk6dGhpcy5vcHRpb25zLm5ld0dyb3VwRGVsYXl9KV19Y29tbWFuZHMoKXtyZXR1cm57dW5kbzooKT0+V3AscmVkbzooKT0+cXAsdW5kb0RlcHRoOigpPT5LcCxyZWRvRGVwdGg6KCk9PlVwfX19ZnVuY3Rpb24gdmgoKXtyZXR1cm5bbmV3IEdwLG5ldyBYcCxuZXcgWXAsbmV3IFpwLG5ldyBRcCxuZXcgdGgsbmV3IGVoLG5ldyBhaCxuZXcgY2gsbmV3IGhoLG5ldyByaCh7cmVzaXphYmxlOiEwfSksbmV3IG9oLG5ldyBpaCxuZXcgc2gsbmV3IGxoLG5ldyB1aCxuZXcgcGgsbmV3IGZoLG5ldyBkaCxuZXcgbWhdfXZhciBnaD17aW5qZWN0OlsiY29yZSJdLGNvbXBvbmVudHM6e0VkaXRvckNvbnRlbnQ6R2EsRWRpdG9yTWVudUJhcjpaYSxJY29uOkFsfSxwcm9wczp7ZmllbGROYW1lOlN0cmluZyx2YWx1ZTpTdHJpbmd9LG1vdW50ZWQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLiRwcm9wcyxlPXQudmFsdWUsbj10LmZpZWxkTmFtZTt0aGlzLmNvcmUuc2V0Rm9ybVZhbHVlKG4sZSl9LGRhdGE6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC4kcHJvcHMuZmllbGROYW1lO3JldHVybntlZGl0b3I6bmV3IFVhKHtjb250ZW50OnRoaXMuJHByb3BzLnZhbHVlLGV4dGVuc2lvbnM6dmgoKSxvblVwZGF0ZTpmdW5jdGlvbihuKXt2YXIgcj1uLmdldEhUTUwsbz1yKCk7ZSYmMCE9ZS5sZW5ndGgmJnQuY29yZS5zZXRGb3JtVmFsdWUoZSxvKX19KX19LGJlZm9yZURlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVkaXRvci5kZXN0cm95KCl9fSx5aD1naCx3aD1TbCh5aCxvLGksITEsbnVsbCxudWxsLG51bGwpLGJoPXdoLmV4cG9ydHM7KHdpbmRvdy5fX2dvcGxhaWRWdWVDb21wb25lbnRSZWdpc3RlcnM9d2luZG93Ll9fZ29wbGFpZFZ1ZUNvbXBvbmVudFJlZ2lzdGVyc3x8W10pLnB1c2goKGZ1bmN0aW9uKHQpe3QuY29tcG9uZW50KCJ0aXB0YXAtZWRpdG9yIixiaCl9KSl9KCksbz1vLmRlZmF1bHQsb30oKX0pKTs=\"")
}
