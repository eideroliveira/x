// Code generated by github.com/gobuffalo/packr. DO NOT EDIT.

package tiptap

import "github.com/gobuffalo/packr"

// You can use the "packr clean" command to clean up this,
// and any other packr generated files.
func init() {
	_ = packr.PackJSONBytes("./tiptapjs/dist/", "tiptap.css", "\"LnRpcHRhcC1lZGl0b3J7cG9zaXRpb246cmVsYXRpdmV9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnR7b3ZlcmZsb3ctd3JhcDpicmVhay13b3JkO3dvcmQtd3JhcDpicmVhay13b3JkO3dvcmQtYnJlYWs6YnJlYWstd29yZH0udGlwdGFwLWVkaXRvcl9fY29udGVudCAqe2NhcmV0LWNvbG9yOmN1cnJlbnRDb2xvcn0udGlwdGFwLWVkaXRvcl9fY29udGVudCBibG9ja3F1b3RlLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgxLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgyLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgzLC50aXB0YXAtZWRpdG9yX19jb250ZW50IG9sLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHAsLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgcHJlLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHVse21hcmdpbjoxcmVtIDB9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgYmxvY2txdW90ZTpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBoMTpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBoMjpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBoMzpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBvbDpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBwOmZpcnN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHByZTpmaXJzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCB1bDpmaXJzdC1jaGlsZHttYXJnaW4tdG9wOjB9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgYmxvY2txdW90ZTpsYXN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgxOmxhc3QtY2hpbGQsLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgaDI6bGFzdC1jaGlsZCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBoMzpsYXN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IG9sOmxhc3QtY2hpbGQsLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgcDpsYXN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHByZTpsYXN0LWNoaWxkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHVsOmxhc3QtY2hpbGR7bWFyZ2luLWJvdHRvbTowfS50aXB0YXAtZWRpdG9yX19jb250ZW50IGgxLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgyLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGgze2xpbmUtaGVpZ2h0OjEuM30udGlwdGFwLWVkaXRvcl9fY29udGVudCBwcmV7cGFkZGluZzouN3JlbSAxcmVtO2JvcmRlci1yYWRpdXM6NXB4O2JhY2tncm91bmQ6IzAwMDtjb2xvcjojZmZmO2ZvbnQtc2l6ZTouOHJlbTtvdmVyZmxvdy14OmF1dG99LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgcHJlIGNvZGV7ZGlzcGxheTpibG9ja30udGlwdGFwLWVkaXRvcl9fY29udGVudCBwIGNvZGV7ZGlzcGxheTppbmxpbmUtYmxvY2s7cGFkZGluZzowIC40cmVtO2JvcmRlci1yYWRpdXM6NXB4O2ZvbnQtc2l6ZTouOHJlbTtmb250LXdlaWdodDo3MDA7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4xKTtjb2xvcjpyZ2JhKDAsMCwwLC44KX0udGlwdGFwLWVkaXRvcl9fY29udGVudCBvbCwudGlwdGFwLWVkaXRvcl9fY29udGVudCB1bHtwYWRkaW5nLWxlZnQ6MXJlbX0udGlwdGFwLWVkaXRvcl9fY29udGVudCBsaT5vbCwudGlwdGFwLWVkaXRvcl9fY29udGVudCBsaT5wLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGxpPnVse21hcmdpbjowfS50aXB0YXAtZWRpdG9yX19jb250ZW50IGF7Y29sb3I6aW5oZXJpdH0udGlwdGFwLWVkaXRvcl9fY29udGVudCBibG9ja3F1b3Rle2JvcmRlci1sZWZ0OjNweCBzb2xpZCByZ2JhKDAsMCwwLC4xKTtjb2xvcjpyZ2JhKDAsMCwwLC44KTtwYWRkaW5nLWxlZnQ6LjhyZW07Zm9udC1zdHlsZTppdGFsaWN9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgYmxvY2txdW90ZSBwe21hcmdpbjowfS50aXB0YXAtZWRpdG9yX19jb250ZW50IGltZ3ttYXgtd2lkdGg6MTAwJTtib3JkZXItcmFkaXVzOjNweH0udGlwdGFwLWVkaXRvcl9fY29udGVudCB0YWJsZXtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7dGFibGUtbGF5b3V0OmZpeGVkO3dpZHRoOjEwMCU7bWFyZ2luOjA7b3ZlcmZsb3c6aGlkZGVufS50aXB0YXAtZWRpdG9yX19jb250ZW50IHRhYmxlIHRkLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHRhYmxlIHRoe21pbi13aWR0aDoxZW07Ym9yZGVyOjJweCBzb2xpZCAjZGRkO3BhZGRpbmc6M3B4IDVweDt2ZXJ0aWNhbC1hbGlnbjp0b3A7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlfS50aXB0YXAtZWRpdG9yX19jb250ZW50IHRhYmxlIHRkPiosLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgdGFibGUgdGg+KnttYXJnaW4tYm90dG9tOjB9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgdGFibGUgdGh7Zm9udC13ZWlnaHQ6NzAwO3RleHQtYWxpZ246bGVmdH0udGlwdGFwLWVkaXRvcl9fY29udGVudCB0YWJsZSAuc2VsZWN0ZWRDZWxsOmFmdGVye3otaW5kZXg6Mjtwb3NpdGlvbjphYnNvbHV0ZTtjb250ZW50OiIiO2xlZnQ6MDtyaWdodDowO3RvcDowO2JvdHRvbTowO2JhY2tncm91bmQ6cmdiYSgyMDAsMjAwLDI1NSwuNCk7cG9pbnRlci1ldmVudHM6bm9uZX0udGlwdGFwLWVkaXRvcl9fY29udGVudCB0YWJsZSAuY29sdW1uLXJlc2l6ZS1oYW5kbGV7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6LTJweDt0b3A6MDtib3R0b206MDt3aWR0aDo0cHg7ei1pbmRleDoyMDtiYWNrZ3JvdW5kLWNvbG9yOiNhZGY7cG9pbnRlci1ldmVudHM6bm9uZX0udGlwdGFwLWVkaXRvcl9fY29udGVudCAudGFibGVXcmFwcGVye21hcmdpbjoxZW0gMDtvdmVyZmxvdy14OmF1dG99LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgLnJlc2l6ZS1jdXJzb3J7Y3Vyc29yOmV3LXJlc2l6ZTtjdXJzb3I6Y29sLXJlc2l6ZX0ubWVudWJhcnttYXJnaW4tYm90dG9tOjFyZW07LXdlYmtpdC10cmFuc2l0aW9uOnZpc2liaWxpdHkgLjJzIC40cyxvcGFjaXR5IC4ycyAuNHM7dHJhbnNpdGlvbjp2aXNpYmlsaXR5IC4ycyAuNHMsb3BhY2l0eSAuMnMgLjRzfS5tZW51YmFyLmlzLWhpZGRlbnt2aXNpYmlsaXR5OmhpZGRlbjtvcGFjaXR5OjB9Lm1lbnViYXIuaXMtZm9jdXNlZHt2aXNpYmlsaXR5OnZpc2libGU7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNpdGlvbjp2aXNpYmlsaXR5IC4ycyxvcGFjaXR5IC4yczt0cmFuc2l0aW9uOnZpc2liaWxpdHkgLjJzLG9wYWNpdHkgLjJzfS5tZW51YmFyX19idXR0b257Zm9udC13ZWlnaHQ6NzAwO2Rpc3BsYXk6LXdlYmtpdC1pbmxpbmUtYm94O2Rpc3BsYXk6LW1zLWlubGluZS1mbGV4Ym94O2Rpc3BsYXk6aW5saW5lLWZsZXg7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtib3JkZXI6MDtjb2xvcjojMDAwO3BhZGRpbmc6LjJyZW0gLjVyZW07bWFyZ2luLXJpZ2h0Oi4ycmVtO2JvcmRlci1yYWRpdXM6M3B4O2N1cnNvcjpwb2ludGVyfS5tZW51YmFyX19idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4wNSl9Lm1lbnViYXJfX2J1dHRvbi5pcy1hY3RpdmV7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4xKX0ubWVudWJhciBzcGFuLm1lbnViYXJfX2J1dHRvbntmb250LXNpemU6MTMuMzMzM3B4fS5tZW51YnViYmxle3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7ei1pbmRleDoyMDtiYWNrZ3JvdW5kOiMwMDA7Ym9yZGVyLXJhZGl1czo1cHg7cGFkZGluZzouM3JlbTttYXJnaW4tYm90dG9tOi41cmVtOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7dmlzaWJpbGl0eTpoaWRkZW47b3BhY2l0eTowOy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC4ycyx2aXNpYmlsaXR5IC4yczt0cmFuc2l0aW9uOm9wYWNpdHkgLjJzLHZpc2liaWxpdHkgLjJzfS5tZW51YnViYmxlLmlzLWFjdGl2ZXtvcGFjaXR5OjE7dmlzaWJpbGl0eTp2aXNpYmxlfS5tZW51YnViYmxlX19idXR0b257ZGlzcGxheTotd2Via2l0LWlubGluZS1ib3g7ZGlzcGxheTotbXMtaW5saW5lLWZsZXhib3g7ZGlzcGxheTppbmxpbmUtZmxleDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JvcmRlcjowO2NvbG9yOiNmZmY7cGFkZGluZzouMnJlbSAuNXJlbTttYXJnaW4tcmlnaHQ6LjJyZW07Ym9yZGVyLXJhZGl1czozcHg7Y3Vyc29yOnBvaW50ZXJ9Lm1lbnVidWJibGVfX2J1dHRvbjpsYXN0LWNoaWxke21hcmdpbi1yaWdodDowfS5tZW51YnViYmxlX19idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpoc2xhKDAsMCUsMTAwJSwuMSl9Lm1lbnVidWJibGVfX2J1dHRvbi5pcy1hY3RpdmV7YmFja2dyb3VuZC1jb2xvcjpoc2xhKDAsMCUsMTAwJSwuMil9Lm1lbnVidWJibGVfX2Zvcm17ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn0ubWVudWJ1YmJsZV9faW5wdXR7Zm9udDppbmhlcml0O2JvcmRlcjpub25lO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Y29sb3I6I2ZmZn0uaWNvbltkYXRhLXYtZTU5Zjc4MzJde3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTt3aWR0aDouOHJlbTtoZWlnaHQ6LjhyZW07bWFyZ2luOjAgLjNyZW07dG9wOi4wNXJlbTtmaWxsOmN1cnJlbnRDb2xvcn0uaWNvbiBzdmdbZGF0YS12LWU1OWY3ODMyXXtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjp0b3A7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0uaWNvbltkYXRhLXYtZTU5Zjc4MzJdOmZpcnN0LWNoaWxke21hcmdpbi1sZWZ0OjB9Lmljb25bZGF0YS12LWU1OWY3ODMyXTpsYXN0LWNoaWxke21hcmdpbi1yaWdodDowfQ==\"")
	_ = packr.PackJSONBytes("./tiptapjs/dist/", "tiptap.umd.min.js", "\"KGZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PT10eXBlb2YgZXhwb3J0cyYmIm9iamVjdCI9PT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUocmVxdWlyZSgiVnVlIikpOiJmdW5jdGlvbiI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbIlZ1ZSJdLGUpOiJvYmplY3QiPT09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0c1sidGlwdGFwIl09ZShyZXF1aXJlKCJWdWUiKSk6dFsidGlwdGFwIl09ZSh0WyJWdWUiXSl9KSgidW5kZWZpbmVkIiE9PXR5cGVvZiBzZWxmP3NlbGY6dGhpcywoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4ocil7aWYoZVtyXSlyZXR1cm4gZVtyXS5leHBvcnRzO3ZhciBvPWVbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W3JdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLG4pLG8ubD0hMCxvLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUscil7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5yPWZ1bmN0aW9uKHQpeyJ1bmRlZmluZWQiIT09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOiJNb2R1bGUifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24odCxlKXtpZigxJmUmJih0PW4odCkpLDgmZSlyZXR1cm4gdDtpZig0JmUmJiJvYmplY3QiPT09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkociwiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImZSYmInN0cmluZyIhPXR5cGVvZiB0KWZvcih2YXIgbyBpbiB0KW4uZChyLG8sZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19LmJpbmQobnVsbCxvKSk7cmV0dXJuIHJ9LG4ubj1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdFsiZGVmYXVsdCJdfTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gbi5kKGUsImEiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPSIiLG4obi5zPSJmYWUzIil9KHsiMDBlZSI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImI2MjIiKSxvPXIoInRvU3RyaW5nVGFnIiksaT17fTtpW29dPSJ6Iix0LmV4cG9ydHM9IltvYmplY3Qgel0iPT09U3RyaW5nKGkpfSwiMDEwOSI6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5kfSxpLmNvbmNhdChbbigiY2lyY2xlIix7YXR0cnM6e2N4OiIyLjUiLGN5OiIzLjk5OCIscjoiMi41In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik04LjUgNUgyM2ExIDEgMCAwMDAtMkg4LjVhMSAxIDAgMDAwIDJ6In19KSxuKCJjaXJjbGUiLHthdHRyczp7Y3g6IjIuNSIsY3k6IjExLjk5OCIscjoiMi41In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMyAxMUg4LjVhMSAxIDAgMDAwIDJIMjNhMSAxIDAgMDAwLTJ6In19KSxuKCJjaXJjbGUiLHthdHRyczp7Y3g6IjIuNSIsY3k6IjE5Ljk5OCIscjoiMi41In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMyAxOUg4LjVhMSAxIDAgMDAwIDJIMjNhMSAxIDAgMDAwLTJ6In19KV0pKX19fSwiMDM2NiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjFjMGIiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2lmKHIodCksdm9pZCAwPT09ZSlyZXR1cm4gdDtzd2l0Y2gobil7Y2FzZSAwOnJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmNhbGwoZSl9O2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQuY2FsbChlLG4pfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIHQuY2FsbChlLG4scil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24obixyLG8pe3JldHVybiB0LmNhbGwoZSxuLHIsbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19fSwiMDU3ZiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImZjNmEiKSxvPW4oIjI0MWMiKS5mLGk9e30udG9TdHJpbmcscz0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdLGE9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBvKHQpfWNhdGNoKGUpe3JldHVybiBzLnNsaWNlKCl9fTt0LmV4cG9ydHMuZj1mdW5jdGlvbih0KXtyZXR1cm4gcyYmIltvYmplY3QgV2luZG93XSI9PWkuY2FsbCh0KT9hKHQpOm8ocih0KSl9fSwiMDZjZiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjgzYWIiKSxvPW4oImQxZTciKSxpPW4oIjVjNmMiKSxzPW4oImZjNmEiKSxhPW4oImMwNGUiKSxjPW4oIjUxMzUiKSxsPW4oIjBjZmIiKSx1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7ZS5mPXI/dTpmdW5jdGlvbih0LGUpe2lmKHQ9cyh0KSxlPWEoZSwhMCksbCl0cnl7cmV0dXJuIHUodCxlKX1jYXRjaChuKXt9aWYoYyh0LGUpKXJldHVybiBpKCFvLmYuY2FsbCh0LGUpLHRbZV0pfX0sIjA3M2UiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiNWRiZSIpLG89aShFcnJvcik7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gZS5kaXNwbGF5TmFtZT10LmRpc3BsYXlOYW1lfHx0Lm5hbWUsZTtmdW5jdGlvbiBlKGUpe3JldHVybiBlJiYoZT1yLmFwcGx5KG51bGwsYXJndW1lbnRzKSksbmV3IHQoZSl9fXQuZXhwb3J0cz1vLG8uZXZhbD1pKEV2YWxFcnJvciksby5yYW5nZT1pKFJhbmdlRXJyb3IpLG8ucmVmZXJlbmNlPWkoUmVmZXJlbmNlRXJyb3IpLG8uc3ludGF4PWkoU3ludGF4RXJyb3IpLG8udHlwZT1pKFR5cGVFcnJvciksby51cmk9aShVUklFcnJvciksby5jcmVhdGU9aX0sIjBhYzAiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gd30pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBnfSkpLG4uZChlLCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQoZSwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIER9KSksbi5kKGUsImciLChmdW5jdGlvbigpe3JldHVybiBBfSkpLG4uZChlLCJoIiwoZnVuY3Rpb24oKXtyZXR1cm4gUH0pKSxuLmQoZSwiaSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSksbi5kKGUsImoiLChmdW5jdGlvbigpe3JldHVybiBSfSkpLG4uZChlLCJrIiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKTt2YXIgcj1uKCIzMDRhIiksbz02NTUzNSxpPU1hdGgucG93KDIsMTYpO2Z1bmN0aW9uIHModCxlKXtyZXR1cm4gdCtlKml9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gdCZvfWZ1bmN0aW9uIGModCl7cmV0dXJuKHQtKHQmbykpL2l9dmFyIGw9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPSExKSx2b2lkIDA9PT1uJiYobj1udWxsKSx0aGlzLnBvcz10LHRoaXMuZGVsZXRlZD1lLHRoaXMucmVjb3Zlcj1ufSx1PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMucmFuZ2VzPXQsdGhpcy5pbnZlcnRlZD1lfTt1LnByb3RvdHlwZS5yZWNvdmVyPWZ1bmN0aW9uKHQpe3ZhciBlPTAsbj1hKHQpO2lmKCF0aGlzLmludmVydGVkKWZvcih2YXIgcj0wO3I8bjtyKyspZSs9dGhpcy5yYW5nZXNbMypyKzJdLXRoaXMucmFuZ2VzWzMqcisxXTtyZXR1cm4gdGhpcy5yYW5nZXNbMypuXStlK2ModCl9LHUucHJvdG90eXBlLm1hcFJlc3VsdD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0xKSx0aGlzLl9tYXAodCxlLCExKX0sdS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTEpLHRoaXMuX21hcCh0LGUsITApfSx1LnByb3RvdHlwZS5fbWFwPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9MCxvPXRoaXMuaW52ZXJ0ZWQ/MjoxLGk9dGhpcy5pbnZlcnRlZD8xOjIsYT0wO2E8dGhpcy5yYW5nZXMubGVuZ3RoO2ErPTMpe3ZhciBjPXRoaXMucmFuZ2VzW2FdLSh0aGlzLmludmVydGVkP3I6MCk7aWYoYz50KWJyZWFrO3ZhciB1PXRoaXMucmFuZ2VzW2Erb10sZD10aGlzLnJhbmdlc1thK2ldLHA9Yyt1O2lmKHQ8PXApe3ZhciBmPXU/dD09Yz8tMTp0PT1wPzE6ZTplLGg9YytyKyhmPDA/MDpkKTtpZihuKXJldHVybiBoO3ZhciBtPXQ9PShlPDA/YzpwKT9udWxsOnMoYS8zLHQtYyk7cmV0dXJuIG5ldyBsKGgsZTwwP3QhPWM6dCE9cCxtKX1yKz1kLXV9cmV0dXJuIG4/dCtyOm5ldyBsKHQrcil9LHUucHJvdG90eXBlLnRvdWNoZXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxyPWEoZSksbz10aGlzLmludmVydGVkPzI6MSxpPXRoaXMuaW52ZXJ0ZWQ/MToyLHM9MDtzPHRoaXMucmFuZ2VzLmxlbmd0aDtzKz0zKXt2YXIgYz10aGlzLnJhbmdlc1tzXS0odGhpcy5pbnZlcnRlZD9uOjApO2lmKGM+dClicmVhazt2YXIgbD10aGlzLnJhbmdlc1tzK29dLHU9YytsO2lmKHQ8PXUmJnM9PTMqcilyZXR1cm4hMDtuKz10aGlzLnJhbmdlc1tzK2ldLWx9cmV0dXJuITF9LHUucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuaW52ZXJ0ZWQ/MjoxLG49dGhpcy5pbnZlcnRlZD8xOjIscj0wLG89MDtyPHRoaXMucmFuZ2VzLmxlbmd0aDtyKz0zKXt2YXIgaT10aGlzLnJhbmdlc1tyXSxzPWktKHRoaXMuaW52ZXJ0ZWQ/bzowKSxhPWkrKHRoaXMuaW52ZXJ0ZWQ/MDpvKSxjPXRoaXMucmFuZ2VzW3IrZV0sbD10aGlzLnJhbmdlc1tyK25dO3QocyxzK2MsYSxhK2wpLG8rPWwtY319LHUucHJvdG90eXBlLmludmVydD1mdW5jdGlvbigpe3JldHVybiBuZXcgdSh0aGlzLnJhbmdlcywhdGhpcy5pbnZlcnRlZCl9LHUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuaW52ZXJ0ZWQ/Ii0iOiIiKStKU09OLnN0cmluZ2lmeSh0aGlzLnJhbmdlcyl9LHUub2Zmc2V0PWZ1bmN0aW9uKHQpe3JldHVybiAwPT10P3UuZW1wdHk6bmV3IHUodDwwP1swLC10LDBdOlswLDAsdF0pfSx1LmVtcHR5PW5ldyB1KFtdKTt2YXIgZD1mdW5jdGlvbih0LGUsbixyKXt0aGlzLm1hcHM9dHx8W10sdGhpcy5mcm9tPW58fDAsdGhpcy50bz1udWxsPT1yP3RoaXMubWFwcy5sZW5ndGg6cix0aGlzLm1pcnJvcj1lfTtmdW5jdGlvbiBwKHQpe3ZhciBlPUVycm9yLmNhbGwodGhpcyx0KTtyZXR1cm4gZS5fX3Byb3RvX189cC5wcm90b3R5cGUsZX1kLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT10aGlzLm1hcHMubGVuZ3RoKSxuZXcgZCh0aGlzLm1hcHMsdGhpcy5taXJyb3IsdCxlKX0sZC5wcm90b3R5cGUuY29weT1mdW5jdGlvbigpe3JldHVybiBuZXcgZCh0aGlzLm1hcHMuc2xpY2UoKSx0aGlzLm1pcnJvciYmdGhpcy5taXJyb3Iuc2xpY2UoKSx0aGlzLmZyb20sdGhpcy50byl9LGQucHJvdG90eXBlLmFwcGVuZE1hcD1mdW5jdGlvbih0LGUpe3RoaXMudG89dGhpcy5tYXBzLnB1c2godCksbnVsbCE9ZSYmdGhpcy5zZXRNaXJyb3IodGhpcy5tYXBzLmxlbmd0aC0xLGUpfSxkLnByb3RvdHlwZS5hcHBlbmRNYXBwaW5nPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5tYXBzLmxlbmd0aDtlPHQubWFwcy5sZW5ndGg7ZSsrKXt2YXIgcj10LmdldE1pcnJvcihlKTt0aGlzLmFwcGVuZE1hcCh0Lm1hcHNbZV0sbnVsbCE9ciYmcjxlP24rcjpudWxsKX19LGQucHJvdG90eXBlLmdldE1pcnJvcj1mdW5jdGlvbih0KXtpZih0aGlzLm1pcnJvcilmb3IodmFyIGU9MDtlPHRoaXMubWlycm9yLmxlbmd0aDtlKyspaWYodGhpcy5taXJyb3JbZV09PXQpcmV0dXJuIHRoaXMubWlycm9yW2UrKGUlMj8tMToxKV19LGQucHJvdG90eXBlLnNldE1pcnJvcj1mdW5jdGlvbih0LGUpe3RoaXMubWlycm9yfHwodGhpcy5taXJyb3I9W10pLHRoaXMubWlycm9yLnB1c2godCxlKX0sZC5wcm90b3R5cGUuYXBwZW5kTWFwcGluZ0ludmVydGVkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lm1hcHMubGVuZ3RoLTEsbj10aGlzLm1hcHMubGVuZ3RoK3QubWFwcy5sZW5ndGg7ZT49MDtlLS0pe3ZhciByPXQuZ2V0TWlycm9yKGUpO3RoaXMuYXBwZW5kTWFwKHQubWFwc1tlXS5pbnZlcnQoKSxudWxsIT1yJiZyPmU/bi1yLTE6bnVsbCl9fSxkLnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZDtyZXR1cm4gdC5hcHBlbmRNYXBwaW5nSW52ZXJ0ZWQodGhpcyksdH0sZC5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9MSksdGhpcy5taXJyb3IpcmV0dXJuIHRoaXMuX21hcCh0LGUsITApO2Zvcih2YXIgbj10aGlzLmZyb207bjx0aGlzLnRvO24rKyl0PXRoaXMubWFwc1tuXS5tYXAodCxlKTtyZXR1cm4gdH0sZC5wcm90b3R5cGUubWFwUmVzdWx0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTEpLHRoaXMuX21hcCh0LGUsITEpfSxkLnByb3RvdHlwZS5fbWFwPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9ITEsbz10aGlzLmZyb207bzx0aGlzLnRvO28rKyl7dmFyIGk9dGhpcy5tYXBzW29dLHM9aS5tYXBSZXN1bHQodCxlKTtpZihudWxsIT1zLnJlY292ZXIpe3ZhciBhPXRoaXMuZ2V0TWlycm9yKG8pO2lmKG51bGwhPWEmJmE+byYmYTx0aGlzLnRvKXtvPWEsdD10aGlzLm1hcHNbYV0ucmVjb3ZlcihzLnJlY292ZXIpO2NvbnRpbnVlfX1zLmRlbGV0ZWQmJihyPSEwKSx0PXMucG9zfXJldHVybiBuP3Q6bmV3IGwodCxyKX0scC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLHAucHJvdG90eXBlLmNvbnN0cnVjdG9yPXAscC5wcm90b3R5cGUubmFtZT0iVHJhbnNmb3JtRXJyb3IiO3ZhciBmPWZ1bmN0aW9uKHQpe3RoaXMuZG9jPXQsdGhpcy5zdGVwcz1bXSx0aGlzLmRvY3M9W10sdGhpcy5tYXBwaW5nPW5ldyBkfSxoPXtiZWZvcmU6e2NvbmZpZ3VyYWJsZTohMH0sZG9jQ2hhbmdlZDp7Y29uZmlndXJhYmxlOiEwfX07ZnVuY3Rpb24gbSgpe3Rocm93IG5ldyBFcnJvcigiT3ZlcnJpZGUgbWUiKX1oLmJlZm9yZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb2NzLmxlbmd0aD90aGlzLmRvY3NbMF06dGhpcy5kb2N9LGYucHJvdG90eXBlLnN0ZXA9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5tYXliZVN0ZXAodCk7aWYoZS5mYWlsZWQpdGhyb3cgbmV3IHAoZS5mYWlsZWQpO3JldHVybiB0aGlzfSxmLnByb3RvdHlwZS5tYXliZVN0ZXA9ZnVuY3Rpb24odCl7dmFyIGU9dC5hcHBseSh0aGlzLmRvYyk7cmV0dXJuIGUuZmFpbGVkfHx0aGlzLmFkZFN0ZXAodCxlLmRvYyksZX0saC5kb2NDaGFuZ2VkLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0ZXBzLmxlbmd0aD4wfSxmLnByb3RvdHlwZS5hZGRTdGVwPWZ1bmN0aW9uKHQsZSl7dGhpcy5kb2NzLnB1c2godGhpcy5kb2MpLHRoaXMuc3RlcHMucHVzaCh0KSx0aGlzLm1hcHBpbmcuYXBwZW5kTWFwKHQuZ2V0TWFwKCkpLHRoaXMuZG9jPWV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGYucHJvdG90eXBlLGgpO3ZhciB2PU9iamVjdC5jcmVhdGUobnVsbCksZz1mdW5jdGlvbigpe307Zy5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7cmV0dXJuIG0oKX0sZy5wcm90b3R5cGUuZ2V0TWFwPWZ1bmN0aW9uKCl7cmV0dXJuIHUuZW1wdHl9LGcucHJvdG90eXBlLmludmVydD1mdW5jdGlvbih0KXtyZXR1cm4gbSgpfSxnLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7cmV0dXJuIG0oKX0sZy5wcm90b3R5cGUubWVyZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9LGcucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiBtKCl9LGcuZnJvbUpTT049ZnVuY3Rpb24odCxlKXtpZighZXx8IWUuc3RlcFR5cGUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIFN0ZXAuZnJvbUpTT04iKTt2YXIgbj12W2Uuc3RlcFR5cGVdO2lmKCFuKXRocm93IG5ldyBSYW5nZUVycm9yKCJObyBzdGVwIHR5cGUgIitlLnN0ZXBUeXBlKyIgZGVmaW5lZCIpO3JldHVybiBuLmZyb21KU09OKHQsZSl9LGcuanNvbklEPWZ1bmN0aW9uKHQsZSl7aWYodCBpbiB2KXRocm93IG5ldyBSYW5nZUVycm9yKCJEdXBsaWNhdGUgdXNlIG9mIHN0ZXAgSlNPTiBJRCAiK3QpO3JldHVybiB2W3RdPWUsZS5wcm90b3R5cGUuanNvbklEPXQsZX07dmFyIHk9ZnVuY3Rpb24odCxlKXt0aGlzLmRvYz10LHRoaXMuZmFpbGVkPWV9O3kub2s9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB5KHQsbnVsbCl9LHkuZmFpbD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHkobnVsbCx0KX0seS5mcm9tUmVwbGFjZT1mdW5jdGlvbih0LGUsbixvKXt0cnl7cmV0dXJuIHkub2sodC5yZXBsYWNlKGUsbixvKSl9Y2F0Y2goaSl7aWYoaSBpbnN0YW5jZW9mIHJbIlJlcGxhY2VFcnJvciJdKXJldHVybiB5LmZhaWwoaS5tZXNzYWdlKTt0aHJvdyBpfX07dmFyIGI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvKXt0LmNhbGwodGhpcyksdGhpcy5mcm9tPWUsdGhpcy50bz1uLHRoaXMuc2xpY2U9cix0aGlzLnN0cnVjdHVyZT0hIW99cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0cnVjdHVyZSYmUyh0LHRoaXMuZnJvbSx0aGlzLnRvKT95LmZhaWwoIlN0cnVjdHVyZSByZXBsYWNlIHdvdWxkIG92ZXJ3cml0ZSBjb250ZW50Iik6eS5mcm9tUmVwbGFjZSh0LHRoaXMuZnJvbSx0aGlzLnRvLHRoaXMuc2xpY2UpfSxlLnByb3RvdHlwZS5nZXRNYXA9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHUoW3RoaXMuZnJvbSx0aGlzLnRvLXRoaXMuZnJvbSx0aGlzLnNsaWNlLnNpemVdKX0sZS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0aGlzLmZyb20sdGhpcy5mcm9tK3RoaXMuc2xpY2Uuc2l6ZSx0LnNsaWNlKHRoaXMuZnJvbSx0aGlzLnRvKSl9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXt2YXIgbj10Lm1hcFJlc3VsdCh0aGlzLmZyb20sMSkscj10Lm1hcFJlc3VsdCh0aGlzLnRvLC0xKTtyZXR1cm4gbi5kZWxldGVkJiZyLmRlbGV0ZWQ/bnVsbDpuZXcgZShuLnBvcyxNYXRoLm1heChuLnBvcyxyLnBvcyksdGhpcy5zbGljZSl9LGUucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIGUpfHx0LnN0cnVjdHVyZSE9dGhpcy5zdHJ1Y3R1cmUpcmV0dXJuIG51bGw7aWYodGhpcy5mcm9tK3RoaXMuc2xpY2Uuc2l6ZSE9dC5mcm9tfHx0aGlzLnNsaWNlLm9wZW5FbmR8fHQuc2xpY2Uub3BlblN0YXJ0KXtpZih0LnRvIT10aGlzLmZyb218fHRoaXMuc2xpY2Uub3BlblN0YXJ0fHx0LnNsaWNlLm9wZW5FbmQpcmV0dXJuIG51bGw7dmFyIG49dGhpcy5zbGljZS5zaXplK3Quc2xpY2Uuc2l6ZT09MD9yWyJTbGljZSJdLmVtcHR5Om5ldyByWyJTbGljZSJdKHQuc2xpY2UuY29udGVudC5hcHBlbmQodGhpcy5zbGljZS5jb250ZW50KSx0LnNsaWNlLm9wZW5TdGFydCx0aGlzLnNsaWNlLm9wZW5FbmQpO3JldHVybiBuZXcgZSh0LmZyb20sdGhpcy50byxuLHRoaXMuc3RydWN0dXJlKX12YXIgbz10aGlzLnNsaWNlLnNpemUrdC5zbGljZS5zaXplPT0wP3JbIlNsaWNlIl0uZW1wdHk6bmV3IHJbIlNsaWNlIl0odGhpcy5zbGljZS5jb250ZW50LmFwcGVuZCh0LnNsaWNlLmNvbnRlbnQpLHRoaXMuc2xpY2Uub3BlblN0YXJ0LHQuc2xpY2Uub3BlbkVuZCk7cmV0dXJuIG5ldyBlKHRoaXMuZnJvbSx0aGlzLnRvKyh0LnRvLXQuZnJvbSksbyx0aGlzLnN0cnVjdHVyZSl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciB0PXtzdGVwVHlwZToicmVwbGFjZSIsZnJvbTp0aGlzLmZyb20sdG86dGhpcy50b307cmV0dXJuIHRoaXMuc2xpY2Uuc2l6ZSYmKHQuc2xpY2U9dGhpcy5zbGljZS50b0pTT04oKSksdGhpcy5zdHJ1Y3R1cmUmJih0LnN0cnVjdHVyZT0hMCksdH0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbi5mcm9tfHwibnVtYmVyIiE9dHlwZW9mIG4udG8pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIFJlcGxhY2VTdGVwLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKG4uZnJvbSxuLnRvLHJbIlNsaWNlIl0uZnJvbUpTT04odCxuLnNsaWNlKSwhIW4uc3RydWN0dXJlKX0sZX0oZyk7Zy5qc29uSUQoInJlcGxhY2UiLGIpO3ZhciB3PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyxpLHMsYSl7dC5jYWxsKHRoaXMpLHRoaXMuZnJvbT1lLHRoaXMudG89bix0aGlzLmdhcEZyb209cix0aGlzLmdhcFRvPW8sdGhpcy5zbGljZT1pLHRoaXMuaW5zZXJ0PXMsdGhpcy5zdHJ1Y3R1cmU9ISFhfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0KXtpZih0aGlzLnN0cnVjdHVyZSYmKFModCx0aGlzLmZyb20sdGhpcy5nYXBGcm9tKXx8Uyh0LHRoaXMuZ2FwVG8sdGhpcy50bykpKXJldHVybiB5LmZhaWwoIlN0cnVjdHVyZSBnYXAtcmVwbGFjZSB3b3VsZCBvdmVyd3JpdGUgY29udGVudCIpO3ZhciBlPXQuc2xpY2UodGhpcy5nYXBGcm9tLHRoaXMuZ2FwVG8pO2lmKGUub3BlblN0YXJ0fHxlLm9wZW5FbmQpcmV0dXJuIHkuZmFpbCgiR2FwIGlzIG5vdCBhIGZsYXQgcmFuZ2UiKTt2YXIgbj10aGlzLnNsaWNlLmluc2VydEF0KHRoaXMuaW5zZXJ0LGUuY29udGVudCk7cmV0dXJuIG4/eS5mcm9tUmVwbGFjZSh0LHRoaXMuZnJvbSx0aGlzLnRvLG4pOnkuZmFpbCgiQ29udGVudCBkb2VzIG5vdCBmaXQgaW4gZ2FwIil9LGUucHJvdG90eXBlLmdldE1hcD1mdW5jdGlvbigpe3JldHVybiBuZXcgdShbdGhpcy5mcm9tLHRoaXMuZ2FwRnJvbS10aGlzLmZyb20sdGhpcy5pbnNlcnQsdGhpcy5nYXBUbyx0aGlzLnRvLXRoaXMuZ2FwVG8sdGhpcy5zbGljZS5zaXplLXRoaXMuaW5zZXJ0XSl9LGUucHJvdG90eXBlLmludmVydD1mdW5jdGlvbih0KXt2YXIgbj10aGlzLmdhcFRvLXRoaXMuZ2FwRnJvbTtyZXR1cm4gbmV3IGUodGhpcy5mcm9tLHRoaXMuZnJvbSt0aGlzLnNsaWNlLnNpemUrbix0aGlzLmZyb20rdGhpcy5pbnNlcnQsdGhpcy5mcm9tK3RoaXMuaW5zZXJ0K24sdC5zbGljZSh0aGlzLmZyb20sdGhpcy50bykucmVtb3ZlQmV0d2Vlbih0aGlzLmdhcEZyb20tdGhpcy5mcm9tLHRoaXMuZ2FwVG8tdGhpcy5mcm9tKSx0aGlzLmdhcEZyb20tdGhpcy5mcm9tLHRoaXMuc3RydWN0dXJlKX0sZS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe3ZhciBuPXQubWFwUmVzdWx0KHRoaXMuZnJvbSwxKSxyPXQubWFwUmVzdWx0KHRoaXMudG8sLTEpLG89dC5tYXAodGhpcy5nYXBGcm9tLC0xKSxpPXQubWFwKHRoaXMuZ2FwVG8sMSk7cmV0dXJuIG4uZGVsZXRlZCYmci5kZWxldGVkfHxvPG4ucG9zfHxpPnIucG9zP251bGw6bmV3IGUobi5wb3Msci5wb3MsbyxpLHRoaXMuc2xpY2UsdGhpcy5pbnNlcnQsdGhpcy5zdHJ1Y3R1cmUpfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgdD17c3RlcFR5cGU6InJlcGxhY2VBcm91bmQiLGZyb206dGhpcy5mcm9tLHRvOnRoaXMudG8sZ2FwRnJvbTp0aGlzLmdhcEZyb20sZ2FwVG86dGhpcy5nYXBUbyxpbnNlcnQ6dGhpcy5pbnNlcnR9O3JldHVybiB0aGlzLnNsaWNlLnNpemUmJih0LnNsaWNlPXRoaXMuc2xpY2UudG9KU09OKCkpLHRoaXMuc3RydWN0dXJlJiYodC5zdHJ1Y3R1cmU9ITApLHR9LGUuZnJvbUpTT049ZnVuY3Rpb24odCxuKXtpZigibnVtYmVyIiE9dHlwZW9mIG4uZnJvbXx8Im51bWJlciIhPXR5cGVvZiBuLnRvfHwibnVtYmVyIiE9dHlwZW9mIG4uZ2FwRnJvbXx8Im51bWJlciIhPXR5cGVvZiBuLmdhcFRvfHwibnVtYmVyIiE9dHlwZW9mIG4uaW5zZXJ0KXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBSZXBsYWNlQXJvdW5kU3RlcC5mcm9tSlNPTiIpO3JldHVybiBuZXcgZShuLmZyb20sbi50byxuLmdhcEZyb20sbi5nYXBUbyxyWyJTbGljZSJdLmZyb21KU09OKHQsbi5zbGljZSksbi5pbnNlcnQsISFuLnN0cnVjdHVyZSl9LGV9KGcpO2Z1bmN0aW9uIFModCxlLG4pe3ZhciByPXQucmVzb2x2ZShlKSxvPW4tZSxpPXIuZGVwdGg7d2hpbGUobz4wJiZpPjAmJnIuaW5kZXhBZnRlcihpKT09ci5ub2RlKGkpLmNoaWxkQ291bnQpaS0tLG8tLTtpZihvPjApe3ZhciBzPXIubm9kZShpKS5tYXliZUNoaWxkKHIuaW5kZXhBZnRlcihpKSk7d2hpbGUobz4wKXtpZighc3x8cy5pc0xlYWYpcmV0dXJuITA7cz1zLmZpcnN0Q2hpbGQsby0tfX1yZXR1cm4hMX1mdW5jdGlvbiB4KHQsZSxuKXtyZXR1cm4oMD09ZXx8dC5jYW5SZXBsYWNlKGUsdC5jaGlsZENvdW50KSkmJihuPT10LmNoaWxkQ291bnR8fHQuY2FuUmVwbGFjZSgwLG4pKX1mdW5jdGlvbiBrKHQpe2Zvcih2YXIgZT10LnBhcmVudCxuPWUuY29udGVudC5jdXRCeUluZGV4KHQuc3RhcnRJbmRleCx0LmVuZEluZGV4KSxyPXQuZGVwdGg7Oy0tcil7dmFyIG89dC4kZnJvbS5ub2RlKHIpLGk9dC4kZnJvbS5pbmRleChyKSxzPXQuJHRvLmluZGV4QWZ0ZXIocik7aWYocjx0LmRlcHRoJiZvLmNhblJlcGxhY2UoaSxzLG4pKXJldHVybiByO2lmKDA9PXJ8fG8udHlwZS5zcGVjLmlzb2xhdGluZ3x8IXgobyxpLHMpKWJyZWFrfX1mdW5jdGlvbiBDKHQsZSxuLHIpe3ZvaWQgMD09PXImJihyPXQpO3ZhciBvPU0odCxlKSxpPW8mJk4ocixlKTtyZXR1cm4gaT9vLm1hcChPKS5jb25jYXQoe3R5cGU6ZSxhdHRyczpufSkuY29uY2F0KGkubWFwKE8pKTpudWxsfWZ1bmN0aW9uIE8odCl7cmV0dXJue3R5cGU6dCxhdHRyczpudWxsfX1mdW5jdGlvbiBNKHQsZSl7dmFyIG49dC5wYXJlbnQscj10LnN0YXJ0SW5kZXgsbz10LmVuZEluZGV4LGk9bi5jb250ZW50TWF0Y2hBdChyKS5maW5kV3JhcHBpbmcoZSk7aWYoIWkpcmV0dXJuIG51bGw7dmFyIHM9aS5sZW5ndGg/aVswXTplO3JldHVybiBuLmNhblJlcGxhY2VXaXRoKHIsbyxzKT9pOm51bGx9ZnVuY3Rpb24gTih0LGUpe3ZhciBuPXQucGFyZW50LHI9dC5zdGFydEluZGV4LG89dC5lbmRJbmRleCxpPW4uY2hpbGQocikscz1lLmNvbnRlbnRNYXRjaC5maW5kV3JhcHBpbmcoaS50eXBlKTtpZighcylyZXR1cm4gbnVsbDtmb3IodmFyIGE9cy5sZW5ndGg/c1tzLmxlbmd0aC0xXTplLGM9YS5jb250ZW50TWF0Y2gsbD1yO2MmJmw8bztsKyspYz1jLm1hdGNoVHlwZShuLmNoaWxkKGwpLnR5cGUpO3JldHVybiBjJiZjLnZhbGlkRW5kP3M6bnVsbH1mdW5jdGlvbiBUKHQsZSxuKXt2YXIgcj10LnJlc29sdmUoZSksbz1yLmluZGV4KCk7cmV0dXJuIHIucGFyZW50LmNhblJlcGxhY2VXaXRoKG8sbysxLG4pfWZ1bmN0aW9uIEEodCxlLG4scil7dm9pZCAwPT09biYmKG49MSk7dmFyIG89dC5yZXNvbHZlKGUpLGk9by5kZXB0aC1uLHM9ciYmcltyLmxlbmd0aC0xXXx8by5wYXJlbnQ7aWYoaTwwfHxvLnBhcmVudC50eXBlLnNwZWMuaXNvbGF0aW5nfHwhby5wYXJlbnQuY2FuUmVwbGFjZShvLmluZGV4KCksby5wYXJlbnQuY2hpbGRDb3VudCl8fCFzLnR5cGUudmFsaWRDb250ZW50KG8ucGFyZW50LmNvbnRlbnQuY3V0QnlJbmRleChvLmluZGV4KCksby5wYXJlbnQuY2hpbGRDb3VudCkpKXJldHVybiExO2Zvcih2YXIgYT1vLmRlcHRoLTEsYz1uLTI7YT5pO2EtLSxjLS0pe3ZhciBsPW8ubm9kZShhKSx1PW8uaW5kZXgoYSk7aWYobC50eXBlLnNwZWMuaXNvbGF0aW5nKXJldHVybiExO3ZhciBkPWwuY29udGVudC5jdXRCeUluZGV4KHUsbC5jaGlsZENvdW50KSxwPXImJnJbY118fGw7aWYocCE9bCYmKGQ9ZC5yZXBsYWNlQ2hpbGQoMCxwLnR5cGUuY3JlYXRlKHAuYXR0cnMpKSksIWwuY2FuUmVwbGFjZSh1KzEsbC5jaGlsZENvdW50KXx8IXAudHlwZS52YWxpZENvbnRlbnQoZCkpcmV0dXJuITF9dmFyIGY9by5pbmRleEFmdGVyKGkpLGg9ciYmclswXTtyZXR1cm4gby5ub2RlKGkpLmNhblJlcGxhY2VXaXRoKGYsZixoP2gudHlwZTpvLm5vZGUoaSsxKS50eXBlKX1mdW5jdGlvbiBEKHQsZSl7dmFyIG49dC5yZXNvbHZlKGUpLHI9bi5pbmRleCgpO3JldHVybiBFKG4ubm9kZUJlZm9yZSxuLm5vZGVBZnRlcikmJm4ucGFyZW50LmNhblJlcGxhY2UocixyKzEpfWZ1bmN0aW9uIEUodCxlKXtyZXR1cm4gdCYmZSYmIXQuaXNMZWFmJiZ0LmNhbkFwcGVuZChlKX1mdW5jdGlvbiBSKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0tMSk7Zm9yKHZhciByPXQucmVzb2x2ZShlKSxvPXIuZGVwdGg7O28tLSl7dmFyIGk9dm9pZCAwLHM9dm9pZCAwLGE9ci5pbmRleChvKTtpZihvPT1yLmRlcHRoPyhpPXIubm9kZUJlZm9yZSxzPXIubm9kZUFmdGVyKTpuPjA/KGk9ci5ub2RlKG8rMSksYSsrLHM9ci5ub2RlKG8pLm1heWJlQ2hpbGQoYSkpOihpPXIubm9kZShvKS5tYXliZUNoaWxkKGEtMSkscz1yLm5vZGUobysxKSksaSYmIWkuaXNUZXh0YmxvY2smJkUoaSxzKSYmci5ub2RlKG8pLmNhblJlcGxhY2UoYSxhKzEpKXJldHVybiBlO2lmKDA9PW8pYnJlYWs7ZT1uPDA/ci5iZWZvcmUobyk6ci5hZnRlcihvKX19ZnVuY3Rpb24gXyh0LGUsbil7dmFyIHI9dC5yZXNvbHZlKGUpO2lmKHIucGFyZW50LmNhblJlcGxhY2VXaXRoKHIuaW5kZXgoKSxyLmluZGV4KCksbikpcmV0dXJuIGU7aWYoMD09ci5wYXJlbnRPZmZzZXQpZm9yKHZhciBvPXIuZGVwdGgtMTtvPj0wO28tLSl7dmFyIGk9ci5pbmRleChvKTtpZihyLm5vZGUobykuY2FuUmVwbGFjZVdpdGgoaSxpLG4pKXJldHVybiByLmJlZm9yZShvKzEpO2lmKGk+MClyZXR1cm4gbnVsbH1pZihyLnBhcmVudE9mZnNldD09ci5wYXJlbnQuY29udGVudC5zaXplKWZvcih2YXIgcz1yLmRlcHRoLTE7cz49MDtzLS0pe3ZhciBhPXIuaW5kZXhBZnRlcihzKTtpZihyLm5vZGUocykuY2FuUmVwbGFjZVdpdGgoYSxhLG4pKXJldHVybiByLmFmdGVyKHMrMSk7aWYoYTxyLm5vZGUocykuY2hpbGRDb3VudClyZXR1cm4gbnVsbH19ZnVuY3Rpb24gUCh0LGUsbil7dmFyIHI9dC5yZXNvbHZlKGUpO2lmKCFuLmNvbnRlbnQuc2l6ZSlyZXR1cm4gZTtmb3IodmFyIG89bi5jb250ZW50LGk9MDtpPG4ub3BlblN0YXJ0O2krKylvPW8uZmlyc3RDaGlsZC5jb250ZW50O2Zvcih2YXIgcz0xO3M8PSgwPT1uLm9wZW5TdGFydCYmbi5zaXplPzI6MSk7cysrKWZvcih2YXIgYT1yLmRlcHRoO2E+PTA7YS0tKXt2YXIgYz1hPT1yLmRlcHRoPzA6ci5wb3M8PShyLnN0YXJ0KGErMSkrci5lbmQoYSsxKSkvMj8tMToxLGw9ci5pbmRleChhKSsoYz4wPzE6MCk7aWYoMT09cz9yLm5vZGUoYSkuY2FuUmVwbGFjZShsLGwsbyk6ci5ub2RlKGEpLmNvbnRlbnRNYXRjaEF0KGwpLmZpbmRXcmFwcGluZyhvLmZpcnN0Q2hpbGQudHlwZSkpcmV0dXJuIDA9PWM/ci5wb3M6YzwwP3IuYmVmb3JlKGErMSk6ci5hZnRlcihhKzEpfXJldHVybiBudWxsfWZ1bmN0aW9uIHoodCxlLG4pe2Zvcih2YXIgbz1bXSxpPTA7aTx0LmNoaWxkQ291bnQ7aSsrKXt2YXIgcz10LmNoaWxkKGkpO3MuY29udGVudC5zaXplJiYocz1zLmNvcHkoeihzLmNvbnRlbnQsZSxzKSkpLHMuaXNJbmxpbmUmJihzPWUocyxuLGkpKSxvLnB1c2gocyl9cmV0dXJuIHJbIkZyYWdtZW50Il0uZnJvbUFycmF5KG8pfWcuanNvbklEKCJyZXBsYWNlQXJvdW5kIix3KSxmLnByb3RvdHlwZS5saWZ0PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuJGZyb20sbz10LiR0byxpPXQuZGVwdGgscz1uLmJlZm9yZShpKzEpLGE9by5hZnRlcihpKzEpLGM9cyxsPWEsdT1yWyJGcmFnbWVudCJdLmVtcHR5LGQ9MCxwPWksZj0hMTtwPmU7cC0tKWZ8fG4uaW5kZXgocCk+MD8oZj0hMCx1PXJbIkZyYWdtZW50Il0uZnJvbShuLm5vZGUocCkuY29weSh1KSksZCsrKTpjLS07Zm9yKHZhciBoPXJbIkZyYWdtZW50Il0uZW1wdHksbT0wLHY9aSxnPSExO3Y+ZTt2LS0pZ3x8by5hZnRlcih2KzEpPG8uZW5kKHYpPyhnPSEwLGg9clsiRnJhZ21lbnQiXS5mcm9tKG8ubm9kZSh2KS5jb3B5KGgpKSxtKyspOmwrKztyZXR1cm4gdGhpcy5zdGVwKG5ldyB3KGMsbCxzLGEsbmV3IHJbIlNsaWNlIl0odS5hcHBlbmQoaCksZCxtKSx1LnNpemUtZCwhMCkpfSxmLnByb3RvdHlwZS53cmFwPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXJbIkZyYWdtZW50Il0uZW1wdHksbz1lLmxlbmd0aC0xO28+PTA7by0tKW49clsiRnJhZ21lbnQiXS5mcm9tKGVbb10udHlwZS5jcmVhdGUoZVtvXS5hdHRycyxuKSk7dmFyIGk9dC5zdGFydCxzPXQuZW5kO3JldHVybiB0aGlzLnN0ZXAobmV3IHcoaSxzLGkscyxuZXcgclsiU2xpY2UiXShuLDAsMCksZS5sZW5ndGgsITApKX0sZi5wcm90b3R5cGUuc2V0QmxvY2tUeXBlPWZ1bmN0aW9uKHQsZSxuLG8pe3ZhciBpPXRoaXM7aWYodm9pZCAwPT09ZSYmKGU9dCksIW4uaXNUZXh0YmxvY2spdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlR5cGUgZ2l2ZW4gdG8gc2V0QmxvY2tUeXBlIHNob3VsZCBiZSBhIHRleHRibG9jayIpO3ZhciBzPXRoaXMuc3RlcHMubGVuZ3RoO3JldHVybiB0aGlzLmRvYy5ub2Rlc0JldHdlZW4odCxlLChmdW5jdGlvbih0LGUpe2lmKHQuaXNUZXh0YmxvY2smJiF0Lmhhc01hcmt1cChuLG8pJiZUKGkuZG9jLGkubWFwcGluZy5zbGljZShzKS5tYXAoZSksbikpe2kuY2xlYXJJbmNvbXBhdGlibGUoaS5tYXBwaW5nLnNsaWNlKHMpLm1hcChlLDEpLG4pO3ZhciBhPWkubWFwcGluZy5zbGljZShzKSxjPWEubWFwKGUsMSksbD1hLm1hcChlK3Qubm9kZVNpemUsMSk7cmV0dXJuIGkuc3RlcChuZXcgdyhjLGwsYysxLGwtMSxuZXcgclsiU2xpY2UiXShyWyJGcmFnbWVudCJdLmZyb20obi5jcmVhdGUobyxudWxsLHQubWFya3MpKSwwLDApLDEsITApKSwhMX19KSksdGhpc30sZi5wcm90b3R5cGUuc2V0Tm9kZU1hcmt1cD1mdW5jdGlvbih0LGUsbixvKXt2YXIgaT10aGlzLmRvYy5ub2RlQXQodCk7aWYoIWkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vIG5vZGUgYXQgZ2l2ZW4gcG9zaXRpb24iKTtlfHwoZT1pLnR5cGUpO3ZhciBzPWUuY3JlYXRlKG4sbnVsbCxvfHxpLm1hcmtzKTtpZihpLmlzTGVhZilyZXR1cm4gdGhpcy5yZXBsYWNlV2l0aCh0LHQraS5ub2RlU2l6ZSxzKTtpZighZS52YWxpZENvbnRlbnQoaS5jb250ZW50KSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBjb250ZW50IGZvciBub2RlIHR5cGUgIitlLm5hbWUpO3JldHVybiB0aGlzLnN0ZXAobmV3IHcodCx0K2kubm9kZVNpemUsdCsxLHQraS5ub2RlU2l6ZS0xLG5ldyByWyJTbGljZSJdKHJbIkZyYWdtZW50Il0uZnJvbShzKSwwLDApLDEsITApKX0sZi5wcm90b3R5cGUuc3BsaXQ9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPTEpO2Zvcih2YXIgbz10aGlzLmRvYy5yZXNvbHZlKHQpLGk9clsiRnJhZ21lbnQiXS5lbXB0eSxzPXJbIkZyYWdtZW50Il0uZW1wdHksYT1vLmRlcHRoLGM9by5kZXB0aC1lLGw9ZS0xO2E+YzthLS0sbC0tKXtpPXJbIkZyYWdtZW50Il0uZnJvbShvLm5vZGUoYSkuY29weShpKSk7dmFyIHU9biYmbltsXTtzPXJbIkZyYWdtZW50Il0uZnJvbSh1P3UudHlwZS5jcmVhdGUodS5hdHRycyxzKTpvLm5vZGUoYSkuY29weShzKSl9cmV0dXJuIHRoaXMuc3RlcChuZXcgYih0LHQsbmV3IHJbIlNsaWNlIl0oaS5hcHBlbmQocyksZSxlKSwhMCkpfSxmLnByb3RvdHlwZS5qb2luPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9MSk7dmFyIG49bmV3IGIodC1lLHQrZSxyWyJTbGljZSJdLmVtcHR5LCEwKTtyZXR1cm4gdGhpcy5zdGVwKG4pfTt2YXIgST1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyKXt0LmNhbGwodGhpcyksdGhpcy5mcm9tPWUsdGhpcy50bz1uLHRoaXMubWFyaz1yfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5zbGljZSh0aGlzLmZyb20sdGhpcy50byksbz10LnJlc29sdmUodGhpcy5mcm9tKSxpPW8ubm9kZShvLnNoYXJlZERlcHRoKHRoaXMudG8pKSxzPW5ldyByWyJTbGljZSJdKHoobi5jb250ZW50LChmdW5jdGlvbih0LG4pe3JldHVybiBuLnR5cGUuYWxsb3dzTWFya1R5cGUoZS5tYXJrLnR5cGUpP3QubWFyayhlLm1hcmsuYWRkVG9TZXQodC5tYXJrcykpOnR9KSxpKSxuLm9wZW5TdGFydCxuLm9wZW5FbmQpO3JldHVybiB5LmZyb21SZXBsYWNlKHQsdGhpcy5mcm9tLHRoaXMudG8scyl9LGUucHJvdG90eXBlLmludmVydD1mdW5jdGlvbigpe3JldHVybiBuZXcgJCh0aGlzLmZyb20sdGhpcy50byx0aGlzLm1hcmspfSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7dmFyIG49dC5tYXBSZXN1bHQodGhpcy5mcm9tLDEpLHI9dC5tYXBSZXN1bHQodGhpcy50bywtMSk7cmV0dXJuIG4uZGVsZXRlZCYmci5kZWxldGVkfHxuLnBvcz49ci5wb3M/bnVsbDpuZXcgZShuLnBvcyxyLnBvcyx0aGlzLm1hcmspfSxlLnByb3RvdHlwZS5tZXJnZT1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgZSYmdC5tYXJrLmVxKHRoaXMubWFyaykmJnRoaXMuZnJvbTw9dC50byYmdGhpcy50bz49dC5mcm9tKXJldHVybiBuZXcgZShNYXRoLm1pbih0aGlzLmZyb20sdC5mcm9tKSxNYXRoLm1heCh0aGlzLnRvLHQudG8pLHRoaXMubWFyayl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybntzdGVwVHlwZToiYWRkTWFyayIsbWFyazp0aGlzLm1hcmsudG9KU09OKCksZnJvbTp0aGlzLmZyb20sdG86dGhpcy50b319LGUuZnJvbUpTT049ZnVuY3Rpb24odCxuKXtpZigibnVtYmVyIiE9dHlwZW9mIG4uZnJvbXx8Im51bWJlciIhPXR5cGVvZiBuLnRvKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBBZGRNYXJrU3RlcC5mcm9tSlNPTiIpO3JldHVybiBuZXcgZShuLmZyb20sbi50byx0Lm1hcmtGcm9tSlNPTihuLm1hcmspKX0sZX0oZyk7Zy5qc29uSUQoImFkZE1hcmsiLEkpO3ZhciAkPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIpe3QuY2FsbCh0aGlzKSx0aGlzLmZyb209ZSx0aGlzLnRvPW4sdGhpcy5tYXJrPXJ9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LnNsaWNlKHRoaXMuZnJvbSx0aGlzLnRvKSxvPW5ldyByWyJTbGljZSJdKHoobi5jb250ZW50LChmdW5jdGlvbih0KXtyZXR1cm4gdC5tYXJrKGUubWFyay5yZW1vdmVGcm9tU2V0KHQubWFya3MpKX0pKSxuLm9wZW5TdGFydCxuLm9wZW5FbmQpO3JldHVybiB5LmZyb21SZXBsYWNlKHQsdGhpcy5mcm9tLHRoaXMudG8sbyl9LGUucHJvdG90eXBlLmludmVydD1mdW5jdGlvbigpe3JldHVybiBuZXcgSSh0aGlzLmZyb20sdGhpcy50byx0aGlzLm1hcmspfSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7dmFyIG49dC5tYXBSZXN1bHQodGhpcy5mcm9tLDEpLHI9dC5tYXBSZXN1bHQodGhpcy50bywtMSk7cmV0dXJuIG4uZGVsZXRlZCYmci5kZWxldGVkfHxuLnBvcz49ci5wb3M/bnVsbDpuZXcgZShuLnBvcyxyLnBvcyx0aGlzLm1hcmspfSxlLnByb3RvdHlwZS5tZXJnZT1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgZSYmdC5tYXJrLmVxKHRoaXMubWFyaykmJnRoaXMuZnJvbTw9dC50byYmdGhpcy50bz49dC5mcm9tKXJldHVybiBuZXcgZShNYXRoLm1pbih0aGlzLmZyb20sdC5mcm9tKSxNYXRoLm1heCh0aGlzLnRvLHQudG8pLHRoaXMubWFyayl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybntzdGVwVHlwZToicmVtb3ZlTWFyayIsbWFyazp0aGlzLm1hcmsudG9KU09OKCksZnJvbTp0aGlzLmZyb20sdG86dGhpcy50b319LGUuZnJvbUpTT049ZnVuY3Rpb24odCxuKXtpZigibnVtYmVyIiE9dHlwZW9mIG4uZnJvbXx8Im51bWJlciIhPXR5cGVvZiBuLnRvKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBSZW1vdmVNYXJrU3RlcC5mcm9tSlNPTiIpO3JldHVybiBuZXcgZShuLmZyb20sbi50byx0Lm1hcmtGcm9tSlNPTihuLm1hcmspKX0sZX0oZyk7ZnVuY3Rpb24gVih0LGUsbixvKXtpZih2b2lkIDA9PT1uJiYobj1lKSx2b2lkIDA9PT1vJiYobz1yWyJTbGljZSJdLmVtcHR5KSxlPT1uJiYhby5zaXplKXJldHVybiBudWxsO3ZhciBpPXQucmVzb2x2ZShlKSxzPXQucmVzb2x2ZShuKTtyZXR1cm4gQihpLHMsbyk/bmV3IGIoZSxuLG8pOm5ldyBGKGkscyxvKS5maXQoKX1mdW5jdGlvbiBCKHQsZSxuKXtyZXR1cm4hbi5vcGVuU3RhcnQmJiFuLm9wZW5FbmQmJnQuc3RhcnQoKT09ZS5zdGFydCgpJiZ0LnBhcmVudC5jYW5SZXBsYWNlKHQuaW5kZXgoKSxlLmluZGV4KCksbi5jb250ZW50KX1nLmpzb25JRCgicmVtb3ZlTWFyayIsJCksZi5wcm90b3R5cGUuYWRkTWFyaz1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcyxvPVtdLGk9W10scz1udWxsLGE9bnVsbDtyZXR1cm4gdGhpcy5kb2Mubm9kZXNCZXR3ZWVuKHQsZSwoZnVuY3Rpb24ocixjLGwpe2lmKHIuaXNJbmxpbmUpe3ZhciB1PXIubWFya3M7aWYoIW4uaXNJblNldCh1KSYmbC50eXBlLmFsbG93c01hcmtUeXBlKG4udHlwZSkpe2Zvcih2YXIgZD1NYXRoLm1heChjLHQpLHA9TWF0aC5taW4oYytyLm5vZGVTaXplLGUpLGY9bi5hZGRUb1NldCh1KSxoPTA7aDx1Lmxlbmd0aDtoKyspdVtoXS5pc0luU2V0KGYpfHwocyYmcy50bz09ZCYmcy5tYXJrLmVxKHVbaF0pP3MudG89cDpvLnB1c2gocz1uZXcgJChkLHAsdVtoXSkpKTthJiZhLnRvPT1kP2EudG89cDppLnB1c2goYT1uZXcgSShkLHAsbikpfX19KSksby5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gci5zdGVwKHQpfSkpLGkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHIuc3RlcCh0KX0pKSx0aGlzfSxmLnByb3RvdHlwZS5yZW1vdmVNYXJrPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzO3ZvaWQgMD09PW4mJihuPW51bGwpO3ZhciBpPVtdLHM9MDtyZXR1cm4gdGhpcy5kb2Mubm9kZXNCZXR3ZWVuKHQsZSwoZnVuY3Rpb24obyxhKXtpZihvLmlzSW5saW5lKXtzKys7dmFyIGM9bnVsbDtpZihuIGluc3RhbmNlb2YgclsiTWFya1R5cGUiXSl7dmFyIGw9bi5pc0luU2V0KG8ubWFya3MpO2wmJihjPVtsXSl9ZWxzZSBuP24uaXNJblNldChvLm1hcmtzKSYmKGM9W25dKTpjPW8ubWFya3M7aWYoYyYmYy5sZW5ndGgpZm9yKHZhciB1PU1hdGgubWluKGErby5ub2RlU2l6ZSxlKSxkPTA7ZDxjLmxlbmd0aDtkKyspe2Zvcih2YXIgcD1jW2RdLGY9dm9pZCAwLGg9MDtoPGkubGVuZ3RoO2grKyl7dmFyIG09aVtoXTttLnN0ZXA9PXMtMSYmcC5lcShpW2hdLnN0eWxlKSYmKGY9bSl9Zj8oZi50bz11LGYuc3RlcD1zKTppLnB1c2goe3N0eWxlOnAsZnJvbTpNYXRoLm1heChhLHQpLHRvOnUsc3RlcDpzfSl9fX0pKSxpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBvLnN0ZXAobmV3ICQodC5mcm9tLHQudG8sdC5zdHlsZSkpfSkpLHRoaXN9LGYucHJvdG90eXBlLmNsZWFySW5jb21wYXRpYmxlPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj1lLmNvbnRlbnRNYXRjaCk7Zm9yKHZhciBvPXRoaXMuZG9jLm5vZGVBdCh0KSxpPVtdLHM9dCsxLGE9MDthPG8uY2hpbGRDb3VudDthKyspe3ZhciBjPW8uY2hpbGQoYSksbD1zK2Mubm9kZVNpemUsdT1uLm1hdGNoVHlwZShjLnR5cGUsYy5hdHRycyk7aWYodSl7bj11O2Zvcih2YXIgZD0wO2Q8Yy5tYXJrcy5sZW5ndGg7ZCsrKWUuYWxsb3dzTWFya1R5cGUoYy5tYXJrc1tkXS50eXBlKXx8dGhpcy5zdGVwKG5ldyAkKHMsbCxjLm1hcmtzW2RdKSl9ZWxzZSBpLnB1c2gobmV3IGIocyxsLHJbIlNsaWNlIl0uZW1wdHkpKTtzPWx9aWYoIW4udmFsaWRFbmQpe3ZhciBwPW4uZmlsbEJlZm9yZShyWyJGcmFnbWVudCJdLmVtcHR5LCEwKTt0aGlzLnJlcGxhY2UocyxzLG5ldyByWyJTbGljZSJdKHAsMCwwKSl9Zm9yKHZhciBmPWkubGVuZ3RoLTE7Zj49MDtmLS0pdGhpcy5zdGVwKGlbZl0pO3JldHVybiB0aGlzfSxmLnByb3RvdHlwZS5yZXBsYWNlPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT10KSx2b2lkIDA9PT1uJiYobj1yWyJTbGljZSJdLmVtcHR5KTt2YXIgbz1WKHRoaXMuZG9jLHQsZSxuKTtyZXR1cm4gbyYmdGhpcy5zdGVwKG8pLHRoaXN9LGYucHJvdG90eXBlLnJlcGxhY2VXaXRoPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5yZXBsYWNlKHQsZSxuZXcgclsiU2xpY2UiXShyWyJGcmFnbWVudCJdLmZyb20obiksMCwwKSl9LGYucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJlcGxhY2UodCxlLHJbIlNsaWNlIl0uZW1wdHkpfSxmLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5yZXBsYWNlV2l0aCh0LHQsZSl9O3ZhciBGPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLiR0bz1lLHRoaXMuJGZyb209dCx0aGlzLnVucGxhY2VkPW4sdGhpcy5mcm9udGllcj1bXTtmb3IodmFyIG89MDtvPD10LmRlcHRoO28rKyl7dmFyIGk9dC5ub2RlKG8pO3RoaXMuZnJvbnRpZXIucHVzaCh7dHlwZTppLnR5cGUsbWF0Y2g6aS5jb250ZW50TWF0Y2hBdCh0LmluZGV4QWZ0ZXIobykpfSl9dGhpcy5wbGFjZWQ9clsiRnJhZ21lbnQiXS5lbXB0eTtmb3IodmFyIHM9dC5kZXB0aDtzPjA7cy0tKXRoaXMucGxhY2VkPXJbIkZyYWdtZW50Il0uZnJvbSh0Lm5vZGUocykuY29weSh0aGlzLnBsYWNlZCkpfSxqPXtkZXB0aDp7Y29uZmlndXJhYmxlOiEwfX07ZnVuY3Rpb24gTCh0LGUsbil7cmV0dXJuIDA9PWU/dC5jdXRCeUluZGV4KG4pOnQucmVwbGFjZUNoaWxkKDAsdC5maXJzdENoaWxkLmNvcHkoTCh0LmZpcnN0Q2hpbGQuY29udGVudCxlLTEsbikpKX1mdW5jdGlvbiBIKHQsZSxuKXtyZXR1cm4gMD09ZT90LmFwcGVuZChuKTp0LnJlcGxhY2VDaGlsZCh0LmNoaWxkQ291bnQtMSx0Lmxhc3RDaGlsZC5jb3B5KEgodC5sYXN0Q2hpbGQuY29udGVudCxlLTEsbikpKX1mdW5jdGlvbiBxKHQsZSl7Zm9yKHZhciBuPTA7bjxlO24rKyl0PXQuZmlyc3RDaGlsZC5jb250ZW50O3JldHVybiB0fWZ1bmN0aW9uIFcodCxlLG4pe2lmKGU8PTApcmV0dXJuIHQ7dmFyIG89dC5jb250ZW50O3JldHVybiBlPjEmJihvPW8ucmVwbGFjZUNoaWxkKDAsVyhvLmZpcnN0Q2hpbGQsZS0xLDE9PW8uY2hpbGRDb3VudD9uLTE6MCkpKSxlPjAmJihvPXQudHlwZS5jb250ZW50TWF0Y2guZmlsbEJlZm9yZShvKS5hcHBlbmQobyksbjw9MCYmKG89by5hcHBlbmQodC50eXBlLmNvbnRlbnRNYXRjaC5tYXRjaEZyYWdtZW50KG8pLmZpbGxCZWZvcmUoclsiRnJhZ21lbnQiXS5lbXB0eSwhMCkpKSksdC5jb3B5KG8pfWZ1bmN0aW9uIEsodCxlLG4scixvKXt2YXIgaT10Lm5vZGUoZSkscz1vP3QuaW5kZXhBZnRlcihlKTp0LmluZGV4KGUpO2lmKHM9PWkuY2hpbGRDb3VudCYmIW4uY29tcGF0aWJsZUNvbnRlbnQoaS50eXBlKSlyZXR1cm4gbnVsbDt2YXIgYT1yLmZpbGxCZWZvcmUoaS5jb250ZW50LCEwLHMpO3JldHVybiBhJiYhSihuLGkuY29udGVudCxzKT9hOm51bGx9ZnVuY3Rpb24gSih0LGUsbil7Zm9yKHZhciByPW47cjxlLmNoaWxkQ291bnQ7cisrKWlmKCF0LmFsbG93c01hcmtzKGUuY2hpbGQocikubWFya3MpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIFUodCxlLG4sbyxpKXtpZihlPG4pe3ZhciBzPXQuZmlyc3RDaGlsZDt0PXQucmVwbGFjZUNoaWxkKDAscy5jb3B5KFUocy5jb250ZW50LGUrMSxuLG8scykpKX1pZihlPm8pe3ZhciBhPWkuY29udGVudE1hdGNoQXQoMCksYz1hLmZpbGxCZWZvcmUodCkuYXBwZW5kKHQpO3Q9Yy5hcHBlbmQoYS5tYXRjaEZyYWdtZW50KGMpLmZpbGxCZWZvcmUoclsiRnJhZ21lbnQiXS5lbXB0eSwhMCkpfXJldHVybiB0fWZ1bmN0aW9uIEcodCxlKXtmb3IodmFyIG49W10scj1NYXRoLm1pbih0LmRlcHRoLGUuZGVwdGgpLG89cjtvPj0wO28tLSl7dmFyIGk9dC5zdGFydChvKTtpZihpPHQucG9zLSh0LmRlcHRoLW8pfHxlLmVuZChvKT5lLnBvcysoZS5kZXB0aC1vKXx8dC5ub2RlKG8pLnR5cGUuc3BlYy5pc29sYXRpbmd8fGUubm9kZShvKS50eXBlLnNwZWMuaXNvbGF0aW5nKWJyZWFrO2k9PWUuc3RhcnQobykmJm4ucHVzaChvKX1yZXR1cm4gbn1qLmRlcHRoLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZyb250aWVyLmxlbmd0aC0xfSxGLnByb3RvdHlwZS5maXQ9ZnVuY3Rpb24oKXt3aGlsZSh0aGlzLnVucGxhY2VkLnNpemUpe3ZhciB0PXRoaXMuZmluZEZpdHRhYmxlKCk7dD90aGlzLnBsYWNlTm9kZXModCk6dGhpcy5vcGVuTW9yZSgpfHx0aGlzLmRyb3BOb2RlKCl9dmFyIGU9dGhpcy5tdXN0TW92ZUlubGluZSgpLG49dGhpcy5wbGFjZWQuc2l6ZS10aGlzLmRlcHRoLXRoaXMuJGZyb20uZGVwdGgsbz10aGlzLiRmcm9tLGk9dGhpcy5jbG9zZShlPDA/dGhpcy4kdG86by5kb2MucmVzb2x2ZShlKSk7aWYoIWkpcmV0dXJuIG51bGw7dmFyIHM9dGhpcy5wbGFjZWQsYT1vLmRlcHRoLGM9aS5kZXB0aDt3aGlsZShhJiZjJiYxPT1zLmNoaWxkQ291bnQpcz1zLmZpcnN0Q2hpbGQuY29udGVudCxhLS0sYy0tO3ZhciBsPW5ldyByWyJTbGljZSJdKHMsYSxjKTtyZXR1cm4gZT4tMT9uZXcgdyhvLnBvcyxlLHRoaXMuJHRvLnBvcyx0aGlzLiR0by5lbmQoKSxsLG4pOmwuc2l6ZXx8by5wb3MhPXRoaXMuJHRvLnBvcz9uZXcgYihvLnBvcyxpLnBvcyxsKTp2b2lkIDB9LEYucHJvdG90eXBlLmZpbmRGaXR0YWJsZT1mdW5jdGlvbigpe2Zvcih2YXIgdD0xO3Q8PTI7dCsrKWZvcih2YXIgZT10aGlzLnVucGxhY2VkLm9wZW5TdGFydDtlPj0wO2UtLSl7dmFyIG49dm9pZCAwLG89dm9pZCAwO2U/KG89cSh0aGlzLnVucGxhY2VkLmNvbnRlbnQsZS0xKS5maXJzdENoaWxkLG49by5jb250ZW50KTpuPXRoaXMudW5wbGFjZWQuY29udGVudDtmb3IodmFyIGk9bi5maXJzdENoaWxkLHM9dGhpcy5kZXB0aDtzPj0wO3MtLSl7dmFyIGE9dGhpcy5mcm9udGllcltzXSxjPWEudHlwZSxsPWEubWF0Y2gsdT12b2lkIDAsZD12b2lkIDA7aWYoMT09dCYmKGk/bC5tYXRjaFR5cGUoaS50eXBlKXx8KGQ9bC5maWxsQmVmb3JlKHJbIkZyYWdtZW50Il0uZnJvbShpKSwhMSkpOmMuY29tcGF0aWJsZUNvbnRlbnQoby50eXBlKSkpcmV0dXJue3NsaWNlRGVwdGg6ZSxmcm9udGllckRlcHRoOnMscGFyZW50Om8saW5qZWN0OmR9O2lmKDI9PXQmJmkmJih1PWwuZmluZFdyYXBwaW5nKGkudHlwZSkpKXJldHVybntzbGljZURlcHRoOmUsZnJvbnRpZXJEZXB0aDpzLHBhcmVudDpvLHdyYXA6dX07aWYobyYmbC5tYXRjaFR5cGUoby50eXBlKSlicmVha319fSxGLnByb3RvdHlwZS5vcGVuTW9yZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMudW5wbGFjZWQsZT10LmNvbnRlbnQsbj10Lm9wZW5TdGFydCxvPXQub3BlbkVuZCxpPXEoZSxuKTtyZXR1cm4hKCFpLmNoaWxkQ291bnR8fGkuZmlyc3RDaGlsZC5pc0xlYWYpJiYodGhpcy51bnBsYWNlZD1uZXcgclsiU2xpY2UiXShlLG4rMSxNYXRoLm1heChvLGkuc2l6ZStuPj1lLnNpemUtbz9uKzE6MCkpLCEwKX0sRi5wcm90b3R5cGUuZHJvcE5vZGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnVucGxhY2VkLGU9dC5jb250ZW50LG49dC5vcGVuU3RhcnQsbz10Lm9wZW5FbmQsaT1xKGUsbik7aWYoaS5jaGlsZENvdW50PD0xJiZuPjApe3ZhciBzPWUuc2l6ZS1uPD1uK2kuc2l6ZTt0aGlzLnVucGxhY2VkPW5ldyByWyJTbGljZSJdKEwoZSxuLTEsMSksbi0xLHM/bi0xOm8pfWVsc2UgdGhpcy51bnBsYWNlZD1uZXcgclsiU2xpY2UiXShMKGUsbiwxKSxuLG8pfSxGLnByb3RvdHlwZS5wbGFjZU5vZGVzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc2xpY2VEZXB0aCxuPXQuZnJvbnRpZXJEZXB0aCxvPXQucGFyZW50LGk9dC5pbmplY3Qscz10LndyYXA7d2hpbGUodGhpcy5kZXB0aD5uKXRoaXMuY2xvc2VGcm9udGllck5vZGUoKTtpZihzKWZvcih2YXIgYT0wO2E8cy5sZW5ndGg7YSsrKXRoaXMub3BlbkZyb250aWVyTm9kZShzW2FdKTt2YXIgYz10aGlzLnVucGxhY2VkLGw9bz9vLmNvbnRlbnQ6Yy5jb250ZW50LHU9Yy5vcGVuU3RhcnQtZSxkPTAscD1bXSxmPXRoaXMuZnJvbnRpZXJbbl0saD1mLm1hdGNoLG09Zi50eXBlO2lmKGkpe2Zvcih2YXIgdj0wO3Y8aS5jaGlsZENvdW50O3YrKylwLnB1c2goaS5jaGlsZCh2KSk7aD1oLm1hdGNoRnJhZ21lbnQoaSl9dmFyIGc9bC5zaXplK2UtKGMuY29udGVudC5zaXplLWMub3BlbkVuZCk7d2hpbGUoZDxsLmNoaWxkQ291bnQpe3ZhciB5PWwuY2hpbGQoZCksYj1oLm1hdGNoVHlwZSh5LnR5cGUpO2lmKCFiKWJyZWFrO2QrKywoZD4xfHwwPT11fHx5LmNvbnRlbnQuc2l6ZSkmJihoPWIscC5wdXNoKFcoeS5tYXJrKG0uYWxsb3dlZE1hcmtzKHkubWFya3MpKSwxPT1kP3U6MCxkPT1sLmNoaWxkQ291bnQ/ZzotMSkpKX12YXIgdz1kPT1sLmNoaWxkQ291bnQ7d3x8KGc9LTEpLHRoaXMucGxhY2VkPUgodGhpcy5wbGFjZWQsbixyWyJGcmFnbWVudCJdLmZyb20ocCkpLHRoaXMuZnJvbnRpZXJbbl0ubWF0Y2g9aCx3JiZnPDAmJm8mJm8udHlwZT09dGhpcy5mcm9udGllclt0aGlzLmRlcHRoXS50eXBlJiZ0aGlzLmZyb250aWVyLmxlbmd0aD4xJiZ0aGlzLmNsb3NlRnJvbnRpZXJOb2RlKCk7Zm9yKHZhciBTPTAseD1sO1M8ZztTKyspe3ZhciBrPXgubGFzdENoaWxkO3RoaXMuZnJvbnRpZXIucHVzaCh7dHlwZTprLnR5cGUsbWF0Y2g6ay5jb250ZW50TWF0Y2hBdChrLmNoaWxkQ291bnQpfSkseD1rLmNvbnRlbnR9dGhpcy51bnBsYWNlZD13PzA9PWU/clsiU2xpY2UiXS5lbXB0eTpuZXcgclsiU2xpY2UiXShMKGMuY29udGVudCxlLTEsMSksZS0xLGc8MD9jLm9wZW5FbmQ6ZS0xKTpuZXcgclsiU2xpY2UiXShMKGMuY29udGVudCxlLGQpLGMub3BlblN0YXJ0LGMub3BlbkVuZCl9LEYucHJvdG90eXBlLm11c3RNb3ZlSW5saW5lPWZ1bmN0aW9uKCl7aWYoIXRoaXMuJHRvLnBhcmVudC5pc1RleHRibG9ja3x8dGhpcy4kdG8uZW5kKCk9PXRoaXMuJHRvLnBvcylyZXR1cm4tMTt2YXIgdCxlPXRoaXMuZnJvbnRpZXJbdGhpcy5kZXB0aF07aWYoIWUudHlwZS5pc1RleHRibG9ja3x8IUsodGhpcy4kdG8sdGhpcy4kdG8uZGVwdGgsZS50eXBlLGUubWF0Y2gsITEpfHx0aGlzLiR0by5kZXB0aD09dGhpcy5kZXB0aCYmKHQ9dGhpcy5maW5kQ2xvc2VMZXZlbCh0aGlzLiR0bykpJiZ0LmRlcHRoPT10aGlzLmRlcHRoKXJldHVybi0xO3ZhciBuPXRoaXMuJHRvLHI9bi5kZXB0aCxvPXRoaXMuJHRvLmFmdGVyKHIpO3doaWxlKHI+MSYmbz09dGhpcy4kdG8uZW5kKC0tcikpKytvO3JldHVybiBvfSxGLnByb3RvdHlwZS5maW5kQ2xvc2VMZXZlbD1mdW5jdGlvbih0KXt0OmZvcih2YXIgZT1NYXRoLm1pbih0aGlzLmRlcHRoLHQuZGVwdGgpO2U+PTA7ZS0tKXt2YXIgbj10aGlzLmZyb250aWVyW2VdLHI9bi5tYXRjaCxvPW4udHlwZSxpPWU8dC5kZXB0aCYmdC5lbmQoZSsxKT09dC5wb3MrKHQuZGVwdGgtKGUrMSkpLHM9Syh0LGUsbyxyLGkpO2lmKHMpe2Zvcih2YXIgYT1lLTE7YT49MDthLS0pe3ZhciBjPXRoaXMuZnJvbnRpZXJbYV0sbD1jLm1hdGNoLHU9Yy50eXBlLGQ9Syh0LGEsdSxsLCEwKTtpZighZHx8ZC5jaGlsZENvdW50KWNvbnRpbnVlIHR9cmV0dXJue2RlcHRoOmUsZml0OnMsbW92ZTppP3QuZG9jLnJlc29sdmUodC5hZnRlcihlKzEpKTp0fX19fSxGLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmZpbmRDbG9zZUxldmVsKHQpO2lmKCFlKXJldHVybiBudWxsO3doaWxlKHRoaXMuZGVwdGg+ZS5kZXB0aCl0aGlzLmNsb3NlRnJvbnRpZXJOb2RlKCk7ZS5maXQuY2hpbGRDb3VudCYmKHRoaXMucGxhY2VkPUgodGhpcy5wbGFjZWQsZS5kZXB0aCxlLmZpdCkpLHQ9ZS5tb3ZlO2Zvcih2YXIgbj1lLmRlcHRoKzE7bjw9dC5kZXB0aDtuKyspe3ZhciByPXQubm9kZShuKSxvPXIudHlwZS5jb250ZW50TWF0Y2guZmlsbEJlZm9yZShyLmNvbnRlbnQsITAsdC5pbmRleChuKSk7dGhpcy5vcGVuRnJvbnRpZXJOb2RlKHIudHlwZSxyLmF0dHJzLG8pfXJldHVybiB0fSxGLnByb3RvdHlwZS5vcGVuRnJvbnRpZXJOb2RlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzLmZyb250aWVyW3RoaXMuZGVwdGhdO28ubWF0Y2g9by5tYXRjaC5tYXRjaFR5cGUodCksdGhpcy5wbGFjZWQ9SCh0aGlzLnBsYWNlZCx0aGlzLmRlcHRoLHJbIkZyYWdtZW50Il0uZnJvbSh0LmNyZWF0ZShlLG4pKSksdGhpcy5mcm9udGllci5wdXNoKHt0eXBlOnQsbWF0Y2g6dC5jb250ZW50TWF0Y2h9KX0sRi5wcm90b3R5cGUuY2xvc2VGcm9udGllck5vZGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmZyb250aWVyLnBvcCgpLGU9dC5tYXRjaC5maWxsQmVmb3JlKHJbIkZyYWdtZW50Il0uZW1wdHksITApO2UuY2hpbGRDb3VudCYmKHRoaXMucGxhY2VkPUgodGhpcy5wbGFjZWQsdGhpcy5mcm9udGllci5sZW5ndGgsZSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhGLnByb3RvdHlwZSxqKSxmLnByb3RvdHlwZS5yZXBsYWNlUmFuZ2U9ZnVuY3Rpb24odCxlLG4pe2lmKCFuLnNpemUpcmV0dXJuIHRoaXMuZGVsZXRlUmFuZ2UodCxlKTt2YXIgbz10aGlzLmRvYy5yZXNvbHZlKHQpLGk9dGhpcy5kb2MucmVzb2x2ZShlKTtpZihCKG8saSxuKSlyZXR1cm4gdGhpcy5zdGVwKG5ldyBiKHQsZSxuKSk7dmFyIHM9RyhvLHRoaXMuZG9jLnJlc29sdmUoZSkpOzA9PXNbcy5sZW5ndGgtMV0mJnMucG9wKCk7dmFyIGE9LShvLmRlcHRoKzEpO3MudW5zaGlmdChhKTtmb3IodmFyIGM9by5kZXB0aCxsPW8ucG9zLTE7Yz4wO2MtLSxsLS0pe3ZhciB1PW8ubm9kZShjKS50eXBlLnNwZWM7aWYodS5kZWZpbmluZ3x8dS5pc29sYXRpbmcpYnJlYWs7cy5pbmRleE9mKGMpPi0xP2E9YzpvLmJlZm9yZShjKT09bCYmcy5zcGxpY2UoMSwwLC1jKX1mb3IodmFyIGQ9cy5pbmRleE9mKGEpLHA9W10sZj1uLm9wZW5TdGFydCxoPW4uY29udGVudCxtPTA7O20rKyl7dmFyIHY9aC5maXJzdENoaWxkO2lmKHAucHVzaCh2KSxtPT1uLm9wZW5TdGFydClicmVhaztoPXYuY29udGVudH1mPjAmJnBbZi0xXS50eXBlLnNwZWMuZGVmaW5pbmcmJm8ubm9kZShkKS50eXBlIT1wW2YtMV0udHlwZT9mLT0xOmY+PTImJnBbZi0xXS5pc1RleHRibG9jayYmcFtmLTJdLnR5cGUuc3BlYy5kZWZpbmluZyYmby5ub2RlKGQpLnR5cGUhPXBbZi0yXS50eXBlJiYoZi09Mik7Zm9yKHZhciBnPW4ub3BlblN0YXJ0O2c+PTA7Zy0tKXt2YXIgeT0oZytmKzEpJShuLm9wZW5TdGFydCsxKSx3PXBbeV07aWYodylmb3IodmFyIFM9MDtTPHMubGVuZ3RoO1MrKyl7dmFyIHg9c1soUytkKSVzLmxlbmd0aF0saz0hMDt4PDAmJihrPSExLHg9LXgpO3ZhciBDPW8ubm9kZSh4LTEpLE89by5pbmRleCh4LTEpO2lmKEMuY2FuUmVwbGFjZVdpdGgoTyxPLHcudHlwZSx3Lm1hcmtzKSlyZXR1cm4gdGhpcy5yZXBsYWNlKG8uYmVmb3JlKHgpLGs/aS5hZnRlcih4KTplLG5ldyByWyJTbGljZSJdKFUobi5jb250ZW50LDAsbi5vcGVuU3RhcnQseSkseSxuLm9wZW5FbmQpKX19Zm9yKHZhciBNPXRoaXMuc3RlcHMubGVuZ3RoLE49cy5sZW5ndGgtMTtOPj0wO04tLSl7aWYodGhpcy5yZXBsYWNlKHQsZSxuKSx0aGlzLnN0ZXBzLmxlbmd0aD5NKWJyZWFrO3ZhciBUPXNbTl07TjwwfHwodD1vLmJlZm9yZShUKSxlPWkuYWZ0ZXIoVCkpfXJldHVybiB0aGlzfSxmLnByb3RvdHlwZS5yZXBsYWNlUmFuZ2VXaXRoPWZ1bmN0aW9uKHQsZSxuKXtpZighbi5pc0lubGluZSYmdD09ZSYmdGhpcy5kb2MucmVzb2x2ZSh0KS5wYXJlbnQuY29udGVudC5zaXplKXt2YXIgbz1fKHRoaXMuZG9jLHQsbi50eXBlKTtudWxsIT1vJiYodD1lPW8pfXJldHVybiB0aGlzLnJlcGxhY2VSYW5nZSh0LGUsbmV3IHJbIlNsaWNlIl0oclsiRnJhZ21lbnQiXS5mcm9tKG4pLDAsMCkpfSxmLnByb3RvdHlwZS5kZWxldGVSYW5nZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLmRvYy5yZXNvbHZlKHQpLHI9dGhpcy5kb2MucmVzb2x2ZShlKSxvPUcobixyKSxpPTA7aTxvLmxlbmd0aDtpKyspe3ZhciBzPW9baV0sYT1pPT1vLmxlbmd0aC0xO2lmKGEmJjA9PXN8fG4ubm9kZShzKS50eXBlLmNvbnRlbnRNYXRjaC52YWxpZEVuZClyZXR1cm4gdGhpcy5kZWxldGUobi5zdGFydChzKSxyLmVuZChzKSk7aWYocz4wJiYoYXx8bi5ub2RlKHMtMSkuY2FuUmVwbGFjZShuLmluZGV4KHMtMSksci5pbmRleEFmdGVyKHMtMSkpKSlyZXR1cm4gdGhpcy5kZWxldGUobi5iZWZvcmUocyksci5hZnRlcihzKSl9Zm9yKHZhciBjPTE7Yzw9bi5kZXB0aCYmYzw9ci5kZXB0aDtjKyspaWYodC1uLnN0YXJ0KGMpPT1uLmRlcHRoLWMmJmU+bi5lbmQoYykmJnIuZW5kKGMpLWUhPXIuZGVwdGgtYylyZXR1cm4gdGhpcy5kZWxldGUobi5iZWZvcmUoYyksZSk7cmV0dXJuIHRoaXMuZGVsZXRlKHQsZSl9fSwiMGNmYiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjgzYWIiKSxvPW4oImQwMzkiKSxpPW4oImNjMTIiKTt0LmV4cG9ydHM9IXImJiFvKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoaSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSkpfSwiMWFmYSI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuKCJlNzZjIil9LCIxYmU0IjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZDA2NiIpO3QuZXhwb3J0cz1yKCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIpfSwiMWMwYiI6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgVHlwZUVycm9yKFN0cmluZyh0KSsiIGlzIG5vdCBhIGZ1bmN0aW9uIik7cmV0dXJuIHR9fSwiMWM3ZSI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImI2MjIiKSxvPXIoIml0ZXJhdG9yIiksaT0hMTt0cnl7dmFyIHM9MCxhPXtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6ISFzKyt9fSxyZXR1cm46ZnVuY3Rpb24oKXtpPSEwfX07YVtvXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxBcnJheS5mcm9tKGEsKGZ1bmN0aW9uKCl7dGhyb3cgMn0pKX1jYXRjaChjKXt9dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoIWUmJiFpKXJldHVybiExO3ZhciBuPSExO3RyeXt2YXIgcj17fTtyW29dPWZ1bmN0aW9uKCl7cmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTpuPSEwfX19fSx0KHIpfWNhdGNoKGMpe31yZXR1cm4gbn19LCIxZDgwIjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZih2b2lkIDA9PXQpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAiK3QpO3JldHVybiB0fX0sIjFkZGUiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJkMDM5Iiksbz1uKCJiNjIyIiksaT1uKCIyZDAwIikscz1vKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpPj01MXx8IXIoKGZ1bmN0aW9uKCl7dmFyIGU9W10sbj1lLmNvbnN0cnVjdG9yPXt9O3JldHVybiBuW3NdPWZ1bmN0aW9uKCl7cmV0dXJue2ZvbzoxfX0sMSE9PWVbdF0oQm9vbGVhbikuZm9vfSkpfX0sIjIzY2IiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJhNjkxIiksbz1NYXRoLm1heCxpPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuPXIodCk7cmV0dXJuIG48MD9vKG4rZSwwKTppKG4sZSl9fSwiMjNlNyI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImRhODQiKSxvPW4oIjA2Y2YiKS5mLGk9bigiOTExMiIpLHM9bigiNmVlYiIpLGE9bigiY2U0ZSIpLGM9bigiZTg5MyIpLGw9bigiOTRjYSIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLHUsZCxwLGYsaCxtPXQudGFyZ2V0LHY9dC5nbG9iYWwsZz10LnN0YXQ7aWYodT12P3I6Zz9yW21dfHxhKG0se30pOihyW21dfHx7fSkucHJvdG90eXBlLHUpZm9yKGQgaW4gZSl7aWYoZj1lW2RdLHQubm9UYXJnZXRHZXQ/KGg9byh1LGQpLHA9aCYmaC52YWx1ZSk6cD11W2RdLG49bCh2P2Q6bSsoZz8iLiI6IiMiKStkLHQuZm9yY2VkKSwhbiYmdm9pZCAwIT09cCl7aWYodHlwZW9mIGY9PT10eXBlb2YgcCljb250aW51ZTtjKGYscCl9KHQuc2hhbXx8cCYmcC5zaGFtKSYmaShmLCJzaGFtIiwhMCkscyh1LGQsZix0KX19fSwiMjQxYyI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImNhODQiKSxvPW4oIjc4MzkiKSxpPW8uY29uY2F0KCJsZW5ndGgiLCJwcm90b3R5cGUiKTtlLmY9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fGZ1bmN0aW9uKHQpe3JldHVybiByKHQsaSl9fSwiMjVmMCI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCI2ZWViIiksbz1uKCI4MjVhIiksaT1uKCJkMDM5Iikscz1uKCJhZDZkIiksYT0idG9TdHJpbmciLGM9UmVnRXhwLnByb3RvdHlwZSxsPWNbYV0sdT1pKChmdW5jdGlvbigpe3JldHVybiIvYS9iIiE9bC5jYWxsKHtzb3VyY2U6ImEiLGZsYWdzOiJiIn0pfSkpLGQ9bC5uYW1lIT1hOyh1fHxkKSYmcihSZWdFeHAucHJvdG90eXBlLGEsKGZ1bmN0aW9uKCl7dmFyIHQ9byh0aGlzKSxlPVN0cmluZyh0LnNvdXJjZSksbj10LmZsYWdzLHI9U3RyaW5nKHZvaWQgMD09PW4mJnQgaW5zdGFuY2VvZiBSZWdFeHAmJiEoImZsYWdzImluIGMpP3MuY2FsbCh0KTpuKTtyZXR1cm4iLyIrZSsiLyIrcn0pLHt1bnNhZmU6ITB9KX0sIjJhNjIiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI4MjVhIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRbInJldHVybiJdO2lmKHZvaWQgMCE9PWUpcmV0dXJuIHIoZS5jYWxsKHQpKS52YWx1ZX19LCIyZDAwIjpmdW5jdGlvbih0LGUsbil7dmFyIHIsbyxpPW4oImRhODQiKSxzPW4oIjM0MmYiKSxhPWkucHJvY2VzcyxjPWEmJmEudmVyc2lvbnMsbD1jJiZjLnY4O2w/KHI9bC5zcGxpdCgiLiIpLG89clswXStyWzFdKTpzJiYocj1zLm1hdGNoKC9FZGdlXC8oXGQrKS8pLCghcnx8clsxXT49NzQpJiYocj1zLm1hdGNoKC9DaHJvbWVcLyhcZCspLyksciYmKG89clsxXSkpKSx0LmV4cG9ydHM9byYmK299LCIyZDFiIjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5kfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmR9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xOC41NTkgMy45MzJhNC45NDIgNC45NDIgMCAxMDAgOS44ODMgNC42MDkgNC42MDkgMCAwMDEuMTE1LS4xNDEuMjUuMjUgMCAwMS4yNzYuMzY4IDYuODMgNi44MyAwIDAxLTUuODc4IDMuNTIzIDEuMjUgMS4yNSAwIDAwMCAyLjUgOS43MSA5LjcxIDAgMDA5LjQyOC05Ljk1VjguODczYTQuOTQ3IDQuOTQ3IDAgMDAtNC45NDEtNC45NDF6TTYuMjM2IDMuOTMyYTQuOTQyIDQuOTQyIDAgMDAwIDkuODgzIDQuNiA0LjYgMCAwMDEuMTE1LS4xNDEuMjUuMjUgMCAwMS4yNzcuMzY4IDYuODMgNi44MyAwIDAxLTUuODc4IDMuNTIzIDEuMjUgMS4yNSAwIDAwMCAyLjUgOS43MTEgOS43MTEgMCAwMDkuNDI4LTkuOTVWOC44NzNhNC45NDcgNC45NDcgMCAwMC00Ljk0Mi00Ljk0MXoifX0pXSkpfX19LCIzMDRhIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7dGhpcy5jb250ZW50PXR9bi5yKGUpLG4uZChlLCJDb250ZW50TWF0Y2giLChmdW5jdGlvbigpe3JldHVybiBqfSkpLG4uZChlLCJET01QYXJzZXIiLChmdW5jdGlvbigpe3JldHVybiBmdH0pKSxuLmQoZSwiRE9NU2VyaWFsaXplciIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF0fSkpLG4uZChlLCJGcmFnbWVudCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKGUsIk1hcmsiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZChlLCJNYXJrVHlwZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV0fSkpLG4uZChlLCJOb2RlIiwoZnVuY3Rpb24oKXtyZXR1cm4gJH0pKSxuLmQoZSwiTm9kZVJhbmdlIiwoZnVuY3Rpb24oKXtyZXR1cm4gUH0pKSxuLmQoZSwiTm9kZVR5cGUiLChmdW5jdGlvbigpe3JldHVybiBzdH0pKSxuLmQoZSwiUmVwbGFjZUVycm9yIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKSxuLmQoZSwiUmVzb2x2ZWRQb3MiLChmdW5jdGlvbigpe3JldHVybiBBfSkpLG4uZChlLCJTY2hlbWEiLChmdW5jdGlvbigpe3JldHVybiBkdH0pKSxuLmQoZSwiU2xpY2UiLChmdW5jdGlvbigpe3JldHVybiBtfSkpLHIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpyLGZpbmQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmNvbnRlbnQubGVuZ3RoO2UrPTIpaWYodGhpcy5jb250ZW50W2VdPT09dClyZXR1cm4gZTtyZXR1cm4tMX0sZ2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZmluZCh0KTtyZXR1cm4tMT09ZT92b2lkIDA6dGhpcy5jb250ZW50W2UrMV19LHVwZGF0ZTpmdW5jdGlvbih0LGUsbil7dmFyIG89biYmbiE9dD90aGlzLnJlbW92ZShuKTp0aGlzLGk9by5maW5kKHQpLHM9by5jb250ZW50LnNsaWNlKCk7cmV0dXJuLTE9PWk/cy5wdXNoKG58fHQsZSk6KHNbaSsxXT1lLG4mJihzW2ldPW4pKSxuZXcgcihzKX0scmVtb3ZlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZmluZCh0KTtpZigtMT09ZSlyZXR1cm4gdGhpczt2YXIgbj10aGlzLmNvbnRlbnQuc2xpY2UoKTtyZXR1cm4gbi5zcGxpY2UoZSwyKSxuZXcgcihuKX0sYWRkVG9TdGFydDpmdW5jdGlvbih0LGUpe3JldHVybiBuZXcgcihbdCxlXS5jb25jYXQodGhpcy5yZW1vdmUodCkuY29udGVudCkpfSxhZGRUb0VuZDpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMucmVtb3ZlKHQpLmNvbnRlbnQuc2xpY2UoKTtyZXR1cm4gbi5wdXNoKHQsZSksbmV3IHIobil9LGFkZEJlZm9yZTpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcy5yZW1vdmUoZSksaT1vLmNvbnRlbnQuc2xpY2UoKSxzPW8uZmluZCh0KTtyZXR1cm4gaS5zcGxpY2UoLTE9PXM/aS5sZW5ndGg6cywwLGUsbiksbmV3IHIoaSl9LGZvckVhY2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmNvbnRlbnQubGVuZ3RoO2UrPTIpdCh0aGlzLmNvbnRlbnRbZV0sdGhpcy5jb250ZW50W2UrMV0pfSxwcmVwZW5kOmZ1bmN0aW9uKHQpe3JldHVybiB0PXIuZnJvbSh0KSx0LnNpemU/bmV3IHIodC5jb250ZW50LmNvbmNhdCh0aGlzLnN1YnRyYWN0KHQpLmNvbnRlbnQpKTp0aGlzfSxhcHBlbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9ci5mcm9tKHQpLHQuc2l6ZT9uZXcgcih0aGlzLnN1YnRyYWN0KHQpLmNvbnRlbnQuY29uY2F0KHQuY29udGVudCkpOnRoaXN9LHN1YnRyYWN0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dD1yLmZyb20odCk7Zm9yKHZhciBuPTA7bjx0LmNvbnRlbnQubGVuZ3RoO24rPTIpZT1lLnJlbW92ZSh0LmNvbnRlbnRbbl0pO3JldHVybiBlfSxnZXQgc2l6ZSgpe3JldHVybiB0aGlzLmNvbnRlbnQubGVuZ3RoPj4xfX0sci5mcm9tPWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiByKXJldHVybiB0O3ZhciBlPVtdO2lmKHQpZm9yKHZhciBuIGluIHQpZS5wdXNoKG4sdFtuXSk7cmV0dXJuIG5ldyByKGUpfTt2YXIgbz1yLGk9bztmdW5jdGlvbiBzKHQsZSxuKXtmb3IodmFyIHI9MDs7cisrKXtpZihyPT10LmNoaWxkQ291bnR8fHI9PWUuY2hpbGRDb3VudClyZXR1cm4gdC5jaGlsZENvdW50PT1lLmNoaWxkQ291bnQ/bnVsbDpuO3ZhciBvPXQuY2hpbGQociksaT1lLmNoaWxkKHIpO2lmKG8hPWkpe2lmKCFvLnNhbWVNYXJrdXAoaSkpcmV0dXJuIG47aWYoby5pc1RleHQmJm8udGV4dCE9aS50ZXh0KXtmb3IodmFyIGE9MDtvLnRleHRbYV09PWkudGV4dFthXTthKyspbisrO3JldHVybiBufWlmKG8uY29udGVudC5zaXplfHxpLmNvbnRlbnQuc2l6ZSl7dmFyIGM9cyhvLmNvbnRlbnQsaS5jb250ZW50LG4rMSk7aWYobnVsbCE9YylyZXR1cm4gY31uKz1vLm5vZGVTaXplfWVsc2Ugbis9by5ub2RlU2l6ZX19ZnVuY3Rpb24gYSh0LGUsbixyKXtmb3IodmFyIG89dC5jaGlsZENvdW50LGk9ZS5jaGlsZENvdW50Ozspe2lmKDA9PW98fDA9PWkpcmV0dXJuIG89PWk/bnVsbDp7YTpuLGI6cn07dmFyIHM9dC5jaGlsZCgtLW8pLGM9ZS5jaGlsZCgtLWkpLGw9cy5ub2RlU2l6ZTtpZihzIT1jKXtpZighcy5zYW1lTWFya3VwKGMpKXJldHVybnthOm4sYjpyfTtpZihzLmlzVGV4dCYmcy50ZXh0IT1jLnRleHQpe3ZhciB1PTAsZD1NYXRoLm1pbihzLnRleHQubGVuZ3RoLGMudGV4dC5sZW5ndGgpO3doaWxlKHU8ZCYmcy50ZXh0W3MudGV4dC5sZW5ndGgtdS0xXT09Yy50ZXh0W2MudGV4dC5sZW5ndGgtdS0xXSl1Kyssbi0tLHItLTtyZXR1cm57YTpuLGI6cn19aWYocy5jb250ZW50LnNpemV8fGMuY29udGVudC5zaXplKXt2YXIgcD1hKHMuY29udGVudCxjLmNvbnRlbnQsbi0xLHItMSk7aWYocClyZXR1cm4gcH1uLT1sLHItPWx9ZWxzZSBuLT1sLHItPWx9fXZhciBjPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5jb250ZW50PXQsdGhpcy5zaXplPWV8fDAsbnVsbD09ZSlmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl0aGlzLnNpemUrPXRbbl0ubm9kZVNpemV9LGw9e2ZpcnN0Q2hpbGQ6e2NvbmZpZ3VyYWJsZTohMH0sbGFzdENoaWxkOntjb25maWd1cmFibGU6ITB9LGNoaWxkQ291bnQ6e2NvbmZpZ3VyYWJsZTohMH19O2MucHJvdG90eXBlLm5vZGVzQmV0d2Vlbj1mdW5jdGlvbih0LGUsbixyLG8pe3ZvaWQgMD09PXImJihyPTApO2Zvcih2YXIgaT0wLHM9MDtzPGU7aSsrKXt2YXIgYT10aGlzLmNvbnRlbnRbaV0sYz1zK2Eubm9kZVNpemU7aWYoYz50JiYhMSE9PW4oYSxyK3MsbyxpKSYmYS5jb250ZW50LnNpemUpe3ZhciBsPXMrMTthLm5vZGVzQmV0d2VlbihNYXRoLm1heCgwLHQtbCksTWF0aC5taW4oYS5jb250ZW50LnNpemUsZS1sKSxuLHIrbCl9cz1jfX0sYy5wcm90b3R5cGUuZGVzY2VuZGFudHM9ZnVuY3Rpb24odCl7dGhpcy5ub2Rlc0JldHdlZW4oMCx0aGlzLnNpemUsdCl9LGMucHJvdG90eXBlLnRleHRCZXR3ZWVuPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPSIiLGk9ITA7cmV0dXJuIHRoaXMubm9kZXNCZXR3ZWVuKHQsZSwoZnVuY3Rpb24ocyxhKXtzLmlzVGV4dD8obys9cy50ZXh0LnNsaWNlKE1hdGgubWF4KHQsYSktYSxlLWEpLGk9IW4pOnMuaXNMZWFmJiZyPyhvKz1yLGk9IW4pOiFpJiZzLmlzQmxvY2smJihvKz1uLGk9ITApfSksMCksb30sYy5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKHQpe2lmKCF0LnNpemUpcmV0dXJuIHRoaXM7aWYoIXRoaXMuc2l6ZSlyZXR1cm4gdDt2YXIgZT10aGlzLmxhc3RDaGlsZCxuPXQuZmlyc3RDaGlsZCxyPXRoaXMuY29udGVudC5zbGljZSgpLG89MDtmb3IoZS5pc1RleHQmJmUuc2FtZU1hcmt1cChuKSYmKHJbci5sZW5ndGgtMV09ZS53aXRoVGV4dChlLnRleHQrbi50ZXh0KSxvPTEpO288dC5jb250ZW50Lmxlbmd0aDtvKyspci5wdXNoKHQuY29udGVudFtvXSk7cmV0dXJuIG5ldyBjKHIsdGhpcy5zaXplK3Quc2l6ZSl9LGMucHJvdG90eXBlLmN1dD1mdW5jdGlvbih0LGUpe2lmKG51bGw9PWUmJihlPXRoaXMuc2l6ZSksMD09dCYmZT09dGhpcy5zaXplKXJldHVybiB0aGlzO3ZhciBuPVtdLHI9MDtpZihlPnQpZm9yKHZhciBvPTAsaT0wO2k8ZTtvKyspe3ZhciBzPXRoaXMuY29udGVudFtvXSxhPWkrcy5ub2RlU2l6ZTthPnQmJigoaTx0fHxhPmUpJiYocz1zLmlzVGV4dD9zLmN1dChNYXRoLm1heCgwLHQtaSksTWF0aC5taW4ocy50ZXh0Lmxlbmd0aCxlLWkpKTpzLmN1dChNYXRoLm1heCgwLHQtaS0xKSxNYXRoLm1pbihzLmNvbnRlbnQuc2l6ZSxlLWktMSkpKSxuLnB1c2gocykscis9cy5ub2RlU2l6ZSksaT1hfXJldHVybiBuZXcgYyhuLHIpfSxjLnByb3RvdHlwZS5jdXRCeUluZGV4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9PWU/Yy5lbXB0eTowPT10JiZlPT10aGlzLmNvbnRlbnQubGVuZ3RoP3RoaXM6bmV3IGModGhpcy5jb250ZW50LnNsaWNlKHQsZSkpfSxjLnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmNvbnRlbnRbdF07aWYobj09ZSlyZXR1cm4gdGhpczt2YXIgcj10aGlzLmNvbnRlbnQuc2xpY2UoKSxvPXRoaXMuc2l6ZStlLm5vZGVTaXplLW4ubm9kZVNpemU7cmV0dXJuIHJbdF09ZSxuZXcgYyhyLG8pfSxjLnByb3RvdHlwZS5hZGRUb1N0YXJ0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgYyhbdF0uY29uY2F0KHRoaXMuY29udGVudCksdGhpcy5zaXplK3Qubm9kZVNpemUpfSxjLnByb3RvdHlwZS5hZGRUb0VuZD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGModGhpcy5jb250ZW50LmNvbmNhdCh0KSx0aGlzLnNpemUrdC5ub2RlU2l6ZSl9LGMucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe2lmKHRoaXMuY29udGVudC5sZW5ndGghPXQuY29udGVudC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBlPTA7ZTx0aGlzLmNvbnRlbnQubGVuZ3RoO2UrKylpZighdGhpcy5jb250ZW50W2VdLmVxKHQuY29udGVudFtlXSkpcmV0dXJuITE7cmV0dXJuITB9LGwuZmlyc3RDaGlsZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aD90aGlzLmNvbnRlbnRbMF06bnVsbH0sbC5sYXN0Q2hpbGQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGg/dGhpcy5jb250ZW50W3RoaXMuY29udGVudC5sZW5ndGgtMV06bnVsbH0sbC5jaGlsZENvdW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQubGVuZ3RofSxjLnByb3RvdHlwZS5jaGlsZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRlbnRbdF07aWYoIWUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4ICIrdCsiIG91dCBvZiByYW5nZSBmb3IgIit0aGlzKTtyZXR1cm4gZX0sYy5wcm90b3R5cGUubWF5YmVDaGlsZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250ZW50W3RdfSxjLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49MDtlPHRoaXMuY29udGVudC5sZW5ndGg7ZSsrKXt2YXIgcj10aGlzLmNvbnRlbnRbZV07dChyLG4sZSksbis9ci5ub2RlU2l6ZX19LGMucHJvdG90eXBlLmZpbmREaWZmU3RhcnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCkscyh0aGlzLHQsZSl9LGMucHJvdG90eXBlLmZpbmREaWZmRW5kPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9dGhpcy5zaXplKSx2b2lkIDA9PT1uJiYobj10LnNpemUpLGEodGhpcyx0LGUsbil9LGMucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PWUmJihlPS0xKSwwPT10KXJldHVybiBkKDAsdCk7aWYodD09dGhpcy5zaXplKXJldHVybiBkKHRoaXMuY29udGVudC5sZW5ndGgsdCk7aWYodD50aGlzLnNpemV8fHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiUG9zaXRpb24gIit0KyIgb3V0c2lkZSBvZiBmcmFnbWVudCAoIit0aGlzKyIpIik7Zm9yKHZhciBuPTAscj0wOztuKyspe3ZhciBvPXRoaXMuY2hpbGQobiksaT1yK28ubm9kZVNpemU7aWYoaT49dClyZXR1cm4gaT09dHx8ZT4wP2QobisxLGkpOmQobixyKTtyPWl9fSxjLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiI8Iit0aGlzLnRvU3RyaW5nSW5uZXIoKSsiPiJ9LGMucHJvdG90eXBlLnRvU3RyaW5nSW5uZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50LmpvaW4oIiwgIil9LGMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQubGVuZ3RoP3RoaXMuY29udGVudC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvSlNPTigpfSkpOm51bGx9LGMuZnJvbUpTT049ZnVuY3Rpb24odCxlKXtpZighZSlyZXR1cm4gYy5lbXB0eTtpZighQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgRnJhZ21lbnQuZnJvbUpTT04iKTtyZXR1cm4gbmV3IGMoZS5tYXAodC5ub2RlRnJvbUpTT04pKX0sYy5mcm9tQXJyYXk9ZnVuY3Rpb24odCl7aWYoIXQubGVuZ3RoKXJldHVybiBjLmVtcHR5O2Zvcih2YXIgZSxuPTAscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO24rPW8ubm9kZVNpemUsciYmby5pc1RleHQmJnRbci0xXS5zYW1lTWFya3VwKG8pPyhlfHwoZT10LnNsaWNlKDAscikpLGVbZS5sZW5ndGgtMV09by53aXRoVGV4dChlW2UubGVuZ3RoLTFdLnRleHQrby50ZXh0KSk6ZSYmZS5wdXNoKG8pfXJldHVybiBuZXcgYyhlfHx0LG4pfSxjLmZyb209ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIGMuZW1wdHk7aWYodCBpbnN0YW5jZW9mIGMpcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdGhpcy5mcm9tQXJyYXkodCk7aWYodC5hdHRycylyZXR1cm4gbmV3IGMoW3RdLHQubm9kZVNpemUpO3Rocm93IG5ldyBSYW5nZUVycm9yKCJDYW4gbm90IGNvbnZlcnQgIit0KyIgdG8gYSBGcmFnbWVudCIrKHQubm9kZXNCZXR3ZWVuPyIgKGxvb2tzIGxpa2UgbXVsdGlwbGUgdmVyc2lvbnMgb2YgcHJvc2VtaXJyb3ItbW9kZWwgd2VyZSBsb2FkZWQpIjoiIikpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjLnByb3RvdHlwZSxsKTt2YXIgdT17aW5kZXg6MCxvZmZzZXQ6MH07ZnVuY3Rpb24gZCh0LGUpe3JldHVybiB1LmluZGV4PXQsdS5vZmZzZXQ9ZSx1fWZ1bmN0aW9uIHAodCxlKXtpZih0PT09ZSlyZXR1cm4hMDtpZighdHx8Im9iamVjdCIhPXR5cGVvZiB0fHwhZXx8Im9iamVjdCIhPXR5cGVvZiBlKXJldHVybiExO3ZhciBuPUFycmF5LmlzQXJyYXkodCk7aWYoQXJyYXkuaXNBcnJheShlKSE9bilyZXR1cm4hMTtpZihuKXtpZih0Lmxlbmd0aCE9ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspaWYoIXAodFtyXSxlW3JdKSlyZXR1cm4hMX1lbHNle2Zvcih2YXIgbyBpbiB0KWlmKCEobyBpbiBlKXx8IXAodFtvXSxlW29dKSlyZXR1cm4hMTtmb3IodmFyIGkgaW4gZSlpZighKGkgaW4gdCkpcmV0dXJuITF9cmV0dXJuITB9Yy5lbXB0eT1uZXcgYyhbXSwwKTt2YXIgZj1mdW5jdGlvbih0LGUpe3RoaXMudHlwZT10LHRoaXMuYXR0cnM9ZX07ZnVuY3Rpb24gaCh0KXt2YXIgZT1FcnJvci5jYWxsKHRoaXMsdCk7cmV0dXJuIGUuX19wcm90b19fPWgucHJvdG90eXBlLGV9Zi5wcm90b3R5cGUuYWRkVG9TZXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49ITEscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO2lmKHRoaXMuZXEobykpcmV0dXJuIHQ7aWYodGhpcy50eXBlLmV4Y2x1ZGVzKG8udHlwZSkpZXx8KGU9dC5zbGljZSgwLHIpKTtlbHNle2lmKG8udHlwZS5leGNsdWRlcyh0aGlzLnR5cGUpKXJldHVybiB0OyFuJiZvLnR5cGUucmFuaz50aGlzLnR5cGUucmFuayYmKGV8fChlPXQuc2xpY2UoMCxyKSksZS5wdXNoKHRoaXMpLG49ITApLGUmJmUucHVzaChvKX19cmV0dXJuIGV8fChlPXQuc2xpY2UoKSksbnx8ZS5wdXNoKHRoaXMpLGV9LGYucHJvdG90eXBlLnJlbW92ZUZyb21TZXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodGhpcy5lcSh0W2VdKSlyZXR1cm4gdC5zbGljZSgwLGUpLmNvbmNhdCh0LnNsaWNlKGUrMSkpO3JldHVybiB0fSxmLnByb3RvdHlwZS5pc0luU2V0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRoaXMuZXEodFtlXSkpcmV0dXJuITA7cmV0dXJuITF9LGYucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT10fHx0aGlzLnR5cGU9PXQudHlwZSYmcCh0aGlzLmF0dHJzLHQuYXR0cnMpfSxmLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgdD17dHlwZTp0aGlzLnR5cGUubmFtZX07Zm9yKHZhciBlIGluIHRoaXMuYXR0cnMpe3QuYXR0cnM9dGhpcy5hdHRyczticmVha31yZXR1cm4gdH0sZi5mcm9tSlNPTj1mdW5jdGlvbih0LGUpe2lmKCFlKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBNYXJrLmZyb21KU09OIik7dmFyIG49dC5tYXJrc1tlLnR5cGVdO2lmKCFuKXRocm93IG5ldyBSYW5nZUVycm9yKCJUaGVyZSBpcyBubyBtYXJrIHR5cGUgIitlLnR5cGUrIiBpbiB0aGlzIHNjaGVtYSIpO3JldHVybiBuLmNyZWF0ZShlLmF0dHJzKX0sZi5zYW1lU2V0PWZ1bmN0aW9uKHQsZSl7aWYodD09ZSlyZXR1cm4hMDtpZih0Lmxlbmd0aCE9ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYoIXRbbl0uZXEoZVtuXSkpcmV0dXJuITE7cmV0dXJuITB9LGYuc2V0RnJvbT1mdW5jdGlvbih0KXtpZighdHx8MD09dC5sZW5ndGgpcmV0dXJuIGYubm9uZTtpZih0IGluc3RhbmNlb2YgZilyZXR1cm5bdF07dmFyIGU9dC5zbGljZSgpO3JldHVybiBlLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudHlwZS5yYW5rLWUudHlwZS5yYW5rfSkpLGV9LGYubm9uZT1bXSxoLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksaC5wcm90b3R5cGUuY29uc3RydWN0b3I9aCxoLnByb3RvdHlwZS5uYW1lPSJSZXBsYWNlRXJyb3IiO3ZhciBtPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmNvbnRlbnQ9dCx0aGlzLm9wZW5TdGFydD1lLHRoaXMub3BlbkVuZD1ufSx2PXtzaXplOntjb25maWd1cmFibGU6ITB9fTtmdW5jdGlvbiBnKHQsZSxuKXt2YXIgcj10LmZpbmRJbmRleChlKSxvPXIuaW5kZXgsaT1yLm9mZnNldCxzPXQubWF5YmVDaGlsZChvKSxhPXQuZmluZEluZGV4KG4pLGM9YS5pbmRleCxsPWEub2Zmc2V0O2lmKGk9PWV8fHMuaXNUZXh0KXtpZihsIT1uJiYhdC5jaGlsZChjKS5pc1RleHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlJlbW92aW5nIG5vbi1mbGF0IHJhbmdlIik7cmV0dXJuIHQuY3V0KDAsZSkuYXBwZW5kKHQuY3V0KG4pKX1pZihvIT1jKXRocm93IG5ldyBSYW5nZUVycm9yKCJSZW1vdmluZyBub24tZmxhdCByYW5nZSIpO3JldHVybiB0LnJlcGxhY2VDaGlsZChvLHMuY29weShnKHMuY29udGVudCxlLWktMSxuLWktMSkpKX1mdW5jdGlvbiB5KHQsZSxuLHIpe3ZhciBvPXQuZmluZEluZGV4KGUpLGk9by5pbmRleCxzPW8ub2Zmc2V0LGE9dC5tYXliZUNoaWxkKGkpO2lmKHM9PWV8fGEuaXNUZXh0KXJldHVybiByJiYhci5jYW5SZXBsYWNlKGksaSxuKT9udWxsOnQuY3V0KDAsZSkuYXBwZW5kKG4pLmFwcGVuZCh0LmN1dChlKSk7dmFyIGM9eShhLmNvbnRlbnQsZS1zLTEsbik7cmV0dXJuIGMmJnQucmVwbGFjZUNoaWxkKGksYS5jb3B5KGMpKX1mdW5jdGlvbiBiKHQsZSxuKXtpZihuLm9wZW5TdGFydD50LmRlcHRoKXRocm93IG5ldyBoKCJJbnNlcnRlZCBjb250ZW50IGRlZXBlciB0aGFuIGluc2VydGlvbiBwb3NpdGlvbiIpO2lmKHQuZGVwdGgtbi5vcGVuU3RhcnQhPWUuZGVwdGgtbi5vcGVuRW5kKXRocm93IG5ldyBoKCJJbmNvbnNpc3RlbnQgb3BlbiBkZXB0aHMiKTtyZXR1cm4gdyh0LGUsbiwwKX1mdW5jdGlvbiB3KHQsZSxuLHIpe3ZhciBvPXQuaW5kZXgociksaT10Lm5vZGUocik7aWYobz09ZS5pbmRleChyKSYmcjx0LmRlcHRoLW4ub3BlblN0YXJ0KXt2YXIgcz13KHQsZSxuLHIrMSk7cmV0dXJuIGkuY29weShpLmNvbnRlbnQucmVwbGFjZUNoaWxkKG8scykpfWlmKG4uY29udGVudC5zaXplKXtpZihuLm9wZW5TdGFydHx8bi5vcGVuRW5kfHx0LmRlcHRoIT1yfHxlLmRlcHRoIT1yKXt2YXIgYT1UKG4sdCksYz1hLnN0YXJ0LGw9YS5lbmQ7cmV0dXJuIE8oaSxNKHQsYyxsLGUscikpfXZhciB1PXQucGFyZW50LGQ9dS5jb250ZW50O3JldHVybiBPKHUsZC5jdXQoMCx0LnBhcmVudE9mZnNldCkuYXBwZW5kKG4uY29udGVudCkuYXBwZW5kKGQuY3V0KGUucGFyZW50T2Zmc2V0KSkpfXJldHVybiBPKGksTih0LGUscikpfWZ1bmN0aW9uIFModCxlKXtpZighZS50eXBlLmNvbXBhdGlibGVDb250ZW50KHQudHlwZSkpdGhyb3cgbmV3IGgoIkNhbm5vdCBqb2luICIrZS50eXBlLm5hbWUrIiBvbnRvICIrdC50eXBlLm5hbWUpfWZ1bmN0aW9uIHgodCxlLG4pe3ZhciByPXQubm9kZShuKTtyZXR1cm4gUyhyLGUubm9kZShuKSkscn1mdW5jdGlvbiBrKHQsZSl7dmFyIG49ZS5sZW5ndGgtMTtuPj0wJiZ0LmlzVGV4dCYmdC5zYW1lTWFya3VwKGVbbl0pP2Vbbl09dC53aXRoVGV4dChlW25dLnRleHQrdC50ZXh0KTplLnB1c2godCl9ZnVuY3Rpb24gQyh0LGUsbixyKXt2YXIgbz0oZXx8dCkubm9kZShuKSxpPTAscz1lP2UuaW5kZXgobik6by5jaGlsZENvdW50O3QmJihpPXQuaW5kZXgobiksdC5kZXB0aD5uP2krKzp0LnRleHRPZmZzZXQmJihrKHQubm9kZUFmdGVyLHIpLGkrKykpO2Zvcih2YXIgYT1pO2E8czthKyspayhvLmNoaWxkKGEpLHIpO2UmJmUuZGVwdGg9PW4mJmUudGV4dE9mZnNldCYmayhlLm5vZGVCZWZvcmUscil9ZnVuY3Rpb24gTyh0LGUpe2lmKCF0LnR5cGUudmFsaWRDb250ZW50KGUpKXRocm93IG5ldyBoKCJJbnZhbGlkIGNvbnRlbnQgZm9yIG5vZGUgIit0LnR5cGUubmFtZSk7cmV0dXJuIHQuY29weShlKX1mdW5jdGlvbiBNKHQsZSxuLHIsbyl7dmFyIGk9dC5kZXB0aD5vJiZ4KHQsZSxvKzEpLHM9ci5kZXB0aD5vJiZ4KG4scixvKzEpLGE9W107cmV0dXJuIEMobnVsbCx0LG8sYSksaSYmcyYmZS5pbmRleChvKT09bi5pbmRleChvKT8oUyhpLHMpLGsoTyhpLE0odCxlLG4scixvKzEpKSxhKSk6KGkmJmsoTyhpLE4odCxlLG8rMSkpLGEpLEMoZSxuLG8sYSkscyYmayhPKHMsTihuLHIsbysxKSksYSkpLEMocixudWxsLG8sYSksbmV3IGMoYSl9ZnVuY3Rpb24gTih0LGUsbil7dmFyIHI9W107aWYoQyhudWxsLHQsbixyKSx0LmRlcHRoPm4pe3ZhciBvPXgodCxlLG4rMSk7ayhPKG8sTih0LGUsbisxKSkscil9cmV0dXJuIEMoZSxudWxsLG4sciksbmV3IGMocil9ZnVuY3Rpb24gVCh0LGUpe2Zvcih2YXIgbj1lLmRlcHRoLXQub3BlblN0YXJ0LHI9ZS5ub2RlKG4pLG89ci5jb3B5KHQuY29udGVudCksaT1uLTE7aT49MDtpLS0pbz1lLm5vZGUoaSkuY29weShjLmZyb20obykpO3JldHVybntzdGFydDpvLnJlc29sdmVOb0NhY2hlKHQub3BlblN0YXJ0K24pLGVuZDpvLnJlc29sdmVOb0NhY2hlKG8uY29udGVudC5zaXplLXQub3BlbkVuZC1uKX19di5zaXplLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQuc2l6ZS10aGlzLm9wZW5TdGFydC10aGlzLm9wZW5FbmR9LG0ucHJvdG90eXBlLmluc2VydEF0PWZ1bmN0aW9uKHQsZSl7dmFyIG49eSh0aGlzLmNvbnRlbnQsdCt0aGlzLm9wZW5TdGFydCxlLG51bGwpO3JldHVybiBuJiZuZXcgbShuLHRoaXMub3BlblN0YXJ0LHRoaXMub3BlbkVuZCl9LG0ucHJvdG90eXBlLnJlbW92ZUJldHdlZW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IG0oZyh0aGlzLmNvbnRlbnQsdCt0aGlzLm9wZW5TdGFydCxlK3RoaXMub3BlblN0YXJ0KSx0aGlzLm9wZW5TdGFydCx0aGlzLm9wZW5FbmQpfSxtLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250ZW50LmVxKHQuY29udGVudCkmJnRoaXMub3BlblN0YXJ0PT10Lm9wZW5TdGFydCYmdGhpcy5vcGVuRW5kPT10Lm9wZW5FbmR9LG0ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudCsiKCIrdGhpcy5vcGVuU3RhcnQrIiwiK3RoaXMub3BlbkVuZCsiKSJ9LG0ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe2lmKCF0aGlzLmNvbnRlbnQuc2l6ZSlyZXR1cm4gbnVsbDt2YXIgdD17Y29udGVudDp0aGlzLmNvbnRlbnQudG9KU09OKCl9O3JldHVybiB0aGlzLm9wZW5TdGFydD4wJiYodC5vcGVuU3RhcnQ9dGhpcy5vcGVuU3RhcnQpLHRoaXMub3BlbkVuZD4wJiYodC5vcGVuRW5kPXRoaXMub3BlbkVuZCksdH0sbS5mcm9tSlNPTj1mdW5jdGlvbih0LGUpe2lmKCFlKXJldHVybiBtLmVtcHR5O3ZhciBuPWUub3BlblN0YXJ0fHwwLHI9ZS5vcGVuRW5kfHwwO2lmKCJudW1iZXIiIT10eXBlb2Ygbnx8Im51bWJlciIhPXR5cGVvZiByKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBTbGljZS5mcm9tSlNPTiIpO3JldHVybiBuZXcgbShjLmZyb21KU09OKHQsZS5jb250ZW50KSxlLm9wZW5TdGFydHx8MCxlLm9wZW5FbmR8fDApfSxtLm1heE9wZW49ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0hMCk7Zm9yKHZhciBuPTAscj0wLG89dC5maXJzdENoaWxkO28mJiFvLmlzTGVhZiYmKGV8fCFvLnR5cGUuc3BlYy5pc29sYXRpbmcpO289by5maXJzdENoaWxkKW4rKztmb3IodmFyIGk9dC5sYXN0Q2hpbGQ7aSYmIWkuaXNMZWFmJiYoZXx8IWkudHlwZS5zcGVjLmlzb2xhdGluZyk7aT1pLmxhc3RDaGlsZClyKys7cmV0dXJuIG5ldyBtKHQsbixyKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobS5wcm90b3R5cGUsdiksbS5lbXB0eT1uZXcgbShjLmVtcHR5LDAsMCk7dmFyIEE9ZnVuY3Rpb24odCxlLG4pe3RoaXMucG9zPXQsdGhpcy5wYXRoPWUsdGhpcy5kZXB0aD1lLmxlbmd0aC8zLTEsdGhpcy5wYXJlbnRPZmZzZXQ9bn0sRD17cGFyZW50Ontjb25maWd1cmFibGU6ITB9LGRvYzp7Y29uZmlndXJhYmxlOiEwfSx0ZXh0T2Zmc2V0Ontjb25maWd1cmFibGU6ITB9LG5vZGVBZnRlcjp7Y29uZmlndXJhYmxlOiEwfSxub2RlQmVmb3JlOntjb25maWd1cmFibGU6ITB9fTtBLnByb3RvdHlwZS5yZXNvbHZlRGVwdGg9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/dGhpcy5kZXB0aDp0PDA/dGhpcy5kZXB0aCt0OnR9LEQucGFyZW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUodGhpcy5kZXB0aCl9LEQuZG9jLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUoMCl9LEEucHJvdG90eXBlLm5vZGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucGF0aFszKnRoaXMucmVzb2x2ZURlcHRoKHQpXX0sQS5wcm90b3R5cGUuaW5kZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucGF0aFszKnRoaXMucmVzb2x2ZURlcHRoKHQpKzFdfSxBLnByb3RvdHlwZS5pbmRleEFmdGVyPWZ1bmN0aW9uKHQpe3JldHVybiB0PXRoaXMucmVzb2x2ZURlcHRoKHQpLHRoaXMuaW5kZXgodCkrKHQhPXRoaXMuZGVwdGh8fHRoaXMudGV4dE9mZnNldD8xOjApfSxBLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLnJlc29sdmVEZXB0aCh0KSwwPT10PzA6dGhpcy5wYXRoWzMqdC0xXSsxfSxBLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dGhpcy5yZXNvbHZlRGVwdGgodCksdGhpcy5zdGFydCh0KSt0aGlzLm5vZGUodCkuY29udGVudC5zaXplfSxBLnByb3RvdHlwZS5iZWZvcmU9ZnVuY3Rpb24odCl7aWYodD10aGlzLnJlc29sdmVEZXB0aCh0KSwhdCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGhlcmUgaXMgbm8gcG9zaXRpb24gYmVmb3JlIHRoZSB0b3AtbGV2ZWwgbm9kZSIpO3JldHVybiB0PT10aGlzLmRlcHRoKzE/dGhpcy5wb3M6dGhpcy5wYXRoWzMqdC0xXX0sQS5wcm90b3R5cGUuYWZ0ZXI9ZnVuY3Rpb24odCl7aWYodD10aGlzLnJlc29sdmVEZXB0aCh0KSwhdCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGhlcmUgaXMgbm8gcG9zaXRpb24gYWZ0ZXIgdGhlIHRvcC1sZXZlbCBub2RlIik7cmV0dXJuIHQ9PXRoaXMuZGVwdGgrMT90aGlzLnBvczp0aGlzLnBhdGhbMyp0LTFdK3RoaXMucGF0aFszKnRdLm5vZGVTaXplfSxELnRleHRPZmZzZXQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zLXRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoLTFdfSxELm5vZGVBZnRlci5nZXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhcmVudCxlPXRoaXMuaW5kZXgodGhpcy5kZXB0aCk7aWYoZT09dC5jaGlsZENvdW50KXJldHVybiBudWxsO3ZhciBuPXRoaXMucG9zLXRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoLTFdLHI9dC5jaGlsZChlKTtyZXR1cm4gbj90LmNoaWxkKGUpLmN1dChuKTpyfSxELm5vZGVCZWZvcmUuZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5pbmRleCh0aGlzLmRlcHRoKSxlPXRoaXMucG9zLXRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoLTFdO3JldHVybiBlP3RoaXMucGFyZW50LmNoaWxkKHQpLmN1dCgwLGUpOjA9PXQ/bnVsbDp0aGlzLnBhcmVudC5jaGlsZCh0LTEpfSxBLnByb3RvdHlwZS5tYXJrcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMucGFyZW50LGU9dGhpcy5pbmRleCgpO2lmKDA9PXQuY29udGVudC5zaXplKXJldHVybiBmLm5vbmU7aWYodGhpcy50ZXh0T2Zmc2V0KXJldHVybiB0LmNoaWxkKGUpLm1hcmtzO3ZhciBuPXQubWF5YmVDaGlsZChlLTEpLHI9dC5tYXliZUNoaWxkKGUpO2lmKCFuKXt2YXIgbz1uO249cixyPW99Zm9yKHZhciBpPW4ubWFya3Mscz0wO3M8aS5sZW5ndGg7cysrKSExIT09aVtzXS50eXBlLnNwZWMuaW5jbHVzaXZlfHxyJiZpW3NdLmlzSW5TZXQoci5tYXJrcyl8fChpPWlbcy0tXS5yZW1vdmVGcm9tU2V0KGkpKTtyZXR1cm4gaX0sQS5wcm90b3R5cGUubWFya3NBY3Jvc3M9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wYXJlbnQubWF5YmVDaGlsZCh0aGlzLmluZGV4KCkpO2lmKCFlfHwhZS5pc0lubGluZSlyZXR1cm4gbnVsbDtmb3IodmFyIG49ZS5tYXJrcyxyPXQucGFyZW50Lm1heWJlQ2hpbGQodC5pbmRleCgpKSxvPTA7bzxuLmxlbmd0aDtvKyspITEhPT1uW29dLnR5cGUuc3BlYy5pbmNsdXNpdmV8fHImJm5bb10uaXNJblNldChyLm1hcmtzKXx8KG49bltvLS1dLnJlbW92ZUZyb21TZXQobikpO3JldHVybiBufSxBLnByb3RvdHlwZS5zaGFyZWREZXB0aD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5kZXB0aDtlPjA7ZS0tKWlmKHRoaXMuc3RhcnQoZSk8PXQmJnRoaXMuZW5kKGUpPj10KXJldHVybiBlO3JldHVybiAwfSxBLnByb3RvdHlwZS5ibG9ja1JhbmdlPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09dCYmKHQ9dGhpcyksdC5wb3M8dGhpcy5wb3MpcmV0dXJuIHQuYmxvY2tSYW5nZSh0aGlzKTtmb3IodmFyIG49dGhpcy5kZXB0aC0odGhpcy5wYXJlbnQuaW5saW5lQ29udGVudHx8dGhpcy5wb3M9PXQucG9zPzE6MCk7bj49MDtuLS0paWYodC5wb3M8PXRoaXMuZW5kKG4pJiYoIWV8fGUodGhpcy5ub2RlKG4pKSkpcmV0dXJuIG5ldyBQKHRoaXMsdCxuKX0sQS5wcm90b3R5cGUuc2FtZVBhcmVudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wb3MtdGhpcy5wYXJlbnRPZmZzZXQ9PXQucG9zLXQucGFyZW50T2Zmc2V0fSxBLnByb3RvdHlwZS5tYXg9ZnVuY3Rpb24odCl7cmV0dXJuIHQucG9zPnRoaXMucG9zP3Q6dGhpc30sQS5wcm90b3R5cGUubWluPWZ1bmN0aW9uKHQpe3JldHVybiB0LnBvczx0aGlzLnBvcz90OnRoaXN9LEEucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PSIiLGU9MTtlPD10aGlzLmRlcHRoO2UrKyl0Kz0odD8iLyI6IiIpK3RoaXMubm9kZShlKS50eXBlLm5hbWUrIl8iK3RoaXMuaW5kZXgoZS0xKTtyZXR1cm4gdCsiOiIrdGhpcy5wYXJlbnRPZmZzZXR9LEEucmVzb2x2ZT1mdW5jdGlvbih0LGUpe2lmKCEoZT49MCYmZTw9dC5jb250ZW50LnNpemUpKXRocm93IG5ldyBSYW5nZUVycm9yKCJQb3NpdGlvbiAiK2UrIiBvdXQgb2YgcmFuZ2UiKTtmb3IodmFyIG49W10scj0wLG89ZSxpPXQ7Oyl7dmFyIHM9aS5jb250ZW50LmZpbmRJbmRleChvKSxhPXMuaW5kZXgsYz1zLm9mZnNldCxsPW8tYztpZihuLnB1c2goaSxhLHIrYyksIWwpYnJlYWs7aWYoaT1pLmNoaWxkKGEpLGkuaXNUZXh0KWJyZWFrO289bC0xLHIrPWMrMX1yZXR1cm4gbmV3IEEoZSxuLG8pfSxBLnJlc29sdmVDYWNoZWQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPEUubGVuZ3RoO24rKyl7dmFyIHI9RVtuXTtpZihyLnBvcz09ZSYmci5kb2M9PXQpcmV0dXJuIHJ9dmFyIG89RVtSXT1BLnJlc29sdmUodCxlKTtyZXR1cm4gUj0oUisxKSVfLG99LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEEucHJvdG90eXBlLEQpO3ZhciBFPVtdLFI9MCxfPTEyLFA9ZnVuY3Rpb24odCxlLG4pe3RoaXMuJGZyb209dCx0aGlzLiR0bz1lLHRoaXMuZGVwdGg9bn0sej17c3RhcnQ6e2NvbmZpZ3VyYWJsZTohMH0sZW5kOntjb25maWd1cmFibGU6ITB9LHBhcmVudDp7Y29uZmlndXJhYmxlOiEwfSxzdGFydEluZGV4Ontjb25maWd1cmFibGU6ITB9LGVuZEluZGV4Ontjb25maWd1cmFibGU6ITB9fTt6LnN0YXJ0LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRmcm9tLmJlZm9yZSh0aGlzLmRlcHRoKzEpfSx6LmVuZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kdG8uYWZ0ZXIodGhpcy5kZXB0aCsxKX0sei5wYXJlbnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGZyb20ubm9kZSh0aGlzLmRlcHRoKX0sei5zdGFydEluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRmcm9tLmluZGV4KHRoaXMuZGVwdGgpfSx6LmVuZEluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiR0by5pbmRleEFmdGVyKHRoaXMuZGVwdGgpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQLnByb3RvdHlwZSx6KTt2YXIgST1PYmplY3QuY3JlYXRlKG51bGwpLCQ9ZnVuY3Rpb24odCxlLG4scil7dGhpcy50eXBlPXQsdGhpcy5hdHRycz1lLHRoaXMuY29udGVudD1ufHxjLmVtcHR5LHRoaXMubWFya3M9cnx8Zi5ub25lfSxWPXtub2RlU2l6ZTp7Y29uZmlndXJhYmxlOiEwfSxjaGlsZENvdW50Ontjb25maWd1cmFibGU6ITB9LHRleHRDb250ZW50Ontjb25maWd1cmFibGU6ITB9LGZpcnN0Q2hpbGQ6e2NvbmZpZ3VyYWJsZTohMH0sbGFzdENoaWxkOntjb25maWd1cmFibGU6ITB9LGlzQmxvY2s6e2NvbmZpZ3VyYWJsZTohMH0saXNUZXh0YmxvY2s6e2NvbmZpZ3VyYWJsZTohMH0saW5saW5lQ29udGVudDp7Y29uZmlndXJhYmxlOiEwfSxpc0lubGluZTp7Y29uZmlndXJhYmxlOiEwfSxpc1RleHQ6e2NvbmZpZ3VyYWJsZTohMH0saXNMZWFmOntjb25maWd1cmFibGU6ITB9LGlzQXRvbTp7Y29uZmlndXJhYmxlOiEwfX07Vi5ub2RlU2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0xlYWY/MToyK3RoaXMuY29udGVudC5zaXplfSxWLmNoaWxkQ291bnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudC5jaGlsZENvdW50fSwkLnByb3RvdHlwZS5jaGlsZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250ZW50LmNoaWxkKHQpfSwkLnByb3RvdHlwZS5tYXliZUNoaWxkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbnRlbnQubWF5YmVDaGlsZCh0KX0sJC5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0KXt0aGlzLmNvbnRlbnQuZm9yRWFjaCh0KX0sJC5wcm90b3R5cGUubm9kZXNCZXR3ZWVuPWZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PXImJihyPTApLHRoaXMuY29udGVudC5ub2Rlc0JldHdlZW4odCxlLG4scix0aGlzKX0sJC5wcm90b3R5cGUuZGVzY2VuZGFudHM9ZnVuY3Rpb24odCl7dGhpcy5ub2Rlc0JldHdlZW4oMCx0aGlzLmNvbnRlbnQuc2l6ZSx0KX0sVi50ZXh0Q29udGVudC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0QmV0d2VlbigwLHRoaXMuY29udGVudC5zaXplLCIiKX0sJC5wcm90b3R5cGUudGV4dEJldHdlZW49ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHRoaXMuY29udGVudC50ZXh0QmV0d2Vlbih0LGUsbixyKX0sVi5maXJzdENoaWxkLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQuZmlyc3RDaGlsZH0sVi5sYXN0Q2hpbGQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudC5sYXN0Q2hpbGR9LCQucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT10fHx0aGlzLnNhbWVNYXJrdXAodCkmJnRoaXMuY29udGVudC5lcSh0LmNvbnRlbnQpfSwkLnByb3RvdHlwZS5zYW1lTWFya3VwPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhhc01hcmt1cCh0LnR5cGUsdC5hdHRycyx0Lm1hcmtzKX0sJC5wcm90b3R5cGUuaGFzTWFya3VwPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy50eXBlPT10JiZwKHRoaXMuYXR0cnMsZXx8dC5kZWZhdWx0QXR0cnN8fEkpJiZmLnNhbWVTZXQodGhpcy5tYXJrcyxufHxmLm5vbmUpfSwkLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1udWxsKSx0PT10aGlzLmNvbnRlbnQ/dGhpczpuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLnR5cGUsdGhpcy5hdHRycyx0LHRoaXMubWFya3MpfSwkLnByb3RvdHlwZS5tYXJrPWZ1bmN0aW9uKHQpe3JldHVybiB0PT10aGlzLm1hcmtzP3RoaXM6bmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy50eXBlLHRoaXMuYXR0cnMsdGhpcy5jb250ZW50LHQpfSwkLnByb3RvdHlwZS5jdXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gMD09dCYmZT09dGhpcy5jb250ZW50LnNpemU/dGhpczp0aGlzLmNvcHkodGhpcy5jb250ZW50LmN1dCh0LGUpKX0sJC5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCxlLG4pe2lmKHZvaWQgMD09PWUmJihlPXRoaXMuY29udGVudC5zaXplKSx2b2lkIDA9PT1uJiYobj0hMSksdD09ZSlyZXR1cm4gbS5lbXB0eTt2YXIgcj10aGlzLnJlc29sdmUodCksbz10aGlzLnJlc29sdmUoZSksaT1uPzA6ci5zaGFyZWREZXB0aChlKSxzPXIuc3RhcnQoaSksYT1yLm5vZGUoaSksYz1hLmNvbnRlbnQuY3V0KHIucG9zLXMsby5wb3Mtcyk7cmV0dXJuIG5ldyBtKGMsci5kZXB0aC1pLG8uZGVwdGgtaSl9LCQucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBiKHRoaXMucmVzb2x2ZSh0KSx0aGlzLnJlc29sdmUoZSksbil9LCQucHJvdG90eXBlLm5vZGVBdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpczs7KXt2YXIgbj1lLmNvbnRlbnQuZmluZEluZGV4KHQpLHI9bi5pbmRleCxvPW4ub2Zmc2V0O2lmKGU9ZS5tYXliZUNoaWxkKHIpLCFlKXJldHVybiBudWxsO2lmKG89PXR8fGUuaXNUZXh0KXJldHVybiBlO3QtPW8rMX19LCQucHJvdG90eXBlLmNoaWxkQWZ0ZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZW50LmZpbmRJbmRleCh0KSxuPWUuaW5kZXgscj1lLm9mZnNldDtyZXR1cm57bm9kZTp0aGlzLmNvbnRlbnQubWF5YmVDaGlsZChuKSxpbmRleDpuLG9mZnNldDpyfX0sJC5wcm90b3R5cGUuY2hpbGRCZWZvcmU9ZnVuY3Rpb24odCl7aWYoMD09dClyZXR1cm57bm9kZTpudWxsLGluZGV4OjAsb2Zmc2V0OjB9O3ZhciBlPXRoaXMuY29udGVudC5maW5kSW5kZXgodCksbj1lLmluZGV4LHI9ZS5vZmZzZXQ7aWYocjx0KXJldHVybntub2RlOnRoaXMuY29udGVudC5jaGlsZChuKSxpbmRleDpuLG9mZnNldDpyfTt2YXIgbz10aGlzLmNvbnRlbnQuY2hpbGQobi0xKTtyZXR1cm57bm9kZTpvLGluZGV4Om4tMSxvZmZzZXQ6ci1vLm5vZGVTaXplfX0sJC5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0KXtyZXR1cm4gQS5yZXNvbHZlQ2FjaGVkKHRoaXMsdCl9LCQucHJvdG90eXBlLnJlc29sdmVOb0NhY2hlPWZ1bmN0aW9uKHQpe3JldHVybiBBLnJlc29sdmUodGhpcyx0KX0sJC5wcm90b3R5cGUucmFuZ2VIYXNNYXJrPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0hMTtyZXR1cm4gZT50JiZ0aGlzLm5vZGVzQmV0d2Vlbih0LGUsKGZ1bmN0aW9uKHQpe3JldHVybiBuLmlzSW5TZXQodC5tYXJrcykmJihyPSEwKSwhcn0pKSxyfSxWLmlzQmxvY2suZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5pc0Jsb2NrfSxWLmlzVGV4dGJsb2NrLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUuaXNUZXh0YmxvY2t9LFYuaW5saW5lQ29udGVudC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLmlubGluZUNvbnRlbnR9LFYuaXNJbmxpbmUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5pc0lubGluZX0sVi5pc1RleHQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5pc1RleHR9LFYuaXNMZWFmLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUuaXNMZWFmfSxWLmlzQXRvbS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLmlzQXRvbX0sJC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLnR5cGUuc3BlYy50b0RlYnVnU3RyaW5nKXJldHVybiB0aGlzLnR5cGUuc3BlYy50b0RlYnVnU3RyaW5nKHRoaXMpO3ZhciB0PXRoaXMudHlwZS5uYW1lO3JldHVybiB0aGlzLmNvbnRlbnQuc2l6ZSYmKHQrPSIoIit0aGlzLmNvbnRlbnQudG9TdHJpbmdJbm5lcigpKyIpIiksRih0aGlzLm1hcmtzLHQpfSwkLnByb3RvdHlwZS5jb250ZW50TWF0Y2hBdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnR5cGUuY29udGVudE1hdGNoLm1hdGNoRnJhZ21lbnQodGhpcy5jb250ZW50LDAsdCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJDYWxsZWQgY29udGVudE1hdGNoQXQgb24gYSBub2RlIHdpdGggaW52YWxpZCBjb250ZW50Iik7cmV0dXJuIGV9LCQucHJvdG90eXBlLmNhblJlcGxhY2U9ZnVuY3Rpb24odCxlLG4scixvKXt2b2lkIDA9PT1uJiYobj1jLmVtcHR5KSx2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT1vJiYobz1uLmNoaWxkQ291bnQpO3ZhciBpPXRoaXMuY29udGVudE1hdGNoQXQodCkubWF0Y2hGcmFnbWVudChuLHIsbykscz1pJiZpLm1hdGNoRnJhZ21lbnQodGhpcy5jb250ZW50LGUpO2lmKCFzfHwhcy52YWxpZEVuZClyZXR1cm4hMTtmb3IodmFyIGE9cjthPG87YSsrKWlmKCF0aGlzLnR5cGUuYWxsb3dzTWFya3Mobi5jaGlsZChhKS5tYXJrcykpcmV0dXJuITE7cmV0dXJuITB9LCQucHJvdG90eXBlLmNhblJlcGxhY2VXaXRoPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHImJiF0aGlzLnR5cGUuYWxsb3dzTWFya3MocikpcmV0dXJuITE7dmFyIG89dGhpcy5jb250ZW50TWF0Y2hBdCh0KS5tYXRjaFR5cGUobiksaT1vJiZvLm1hdGNoRnJhZ21lbnQodGhpcy5jb250ZW50LGUpO3JldHVybiEhaSYmaS52YWxpZEVuZH0sJC5wcm90b3R5cGUuY2FuQXBwZW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbnRlbnQuc2l6ZT90aGlzLmNhblJlcGxhY2UodGhpcy5jaGlsZENvdW50LHRoaXMuY2hpbGRDb3VudCx0LmNvbnRlbnQpOnRoaXMudHlwZS5jb21wYXRpYmxlQ29udGVudCh0LnR5cGUpfSwkLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbigpe2lmKCF0aGlzLnR5cGUudmFsaWRDb250ZW50KHRoaXMuY29udGVudCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgY29udGVudCBmb3Igbm9kZSAiK3RoaXMudHlwZS5uYW1lKyI6ICIrdGhpcy5jb250ZW50LnRvU3RyaW5nKCkuc2xpY2UoMCw1MCkpO3RoaXMuY29udGVudC5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jaGVjaygpfSkpfSwkLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgdD17dHlwZTp0aGlzLnR5cGUubmFtZX07Zm9yKHZhciBlIGluIHRoaXMuYXR0cnMpe3QuYXR0cnM9dGhpcy5hdHRyczticmVha31yZXR1cm4gdGhpcy5jb250ZW50LnNpemUmJih0LmNvbnRlbnQ9dGhpcy5jb250ZW50LnRvSlNPTigpKSx0aGlzLm1hcmtzLmxlbmd0aCYmKHQubWFya3M9dGhpcy5tYXJrcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvSlNPTigpfSkpKSx0fSwkLmZyb21KU09OPWZ1bmN0aW9uKHQsZSl7aWYoIWUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIE5vZGUuZnJvbUpTT04iKTt2YXIgbj1udWxsO2lmKGUubWFya3Mpe2lmKCFBcnJheS5pc0FycmF5KGUubWFya3MpKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIG1hcmsgZGF0YSBmb3IgTm9kZS5mcm9tSlNPTiIpO249ZS5tYXJrcy5tYXAodC5tYXJrRnJvbUpTT04pfWlmKCJ0ZXh0Ij09ZS50eXBlKXtpZigic3RyaW5nIiE9dHlwZW9mIGUudGV4dCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCB0ZXh0IG5vZGUgaW4gSlNPTiIpO3JldHVybiB0LnRleHQoZS50ZXh0LG4pfXZhciByPWMuZnJvbUpTT04odCxlLmNvbnRlbnQpO3JldHVybiB0Lm5vZGVUeXBlKGUudHlwZSkuY3JlYXRlKGUuYXR0cnMscixuKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoJC5wcm90b3R5cGUsVik7dmFyIEI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvKXtpZih0LmNhbGwodGhpcyxlLG4sbnVsbCxvKSwhcil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRW1wdHkgdGV4dCBub2RlcyBhcmUgbm90IGFsbG93ZWQiKTt0aGlzLnRleHQ9cn10JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17dGV4dENvbnRlbnQ6e2NvbmZpZ3VyYWJsZTohMH0sbm9kZVNpemU6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUuc3BlYy50b0RlYnVnU3RyaW5nP3RoaXMudHlwZS5zcGVjLnRvRGVidWdTdHJpbmcodGhpcyk6Rih0aGlzLm1hcmtzLEpTT04uc3RyaW5naWZ5KHRoaXMudGV4dCkpfSxuLnRleHRDb250ZW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHR9LGUucHJvdG90eXBlLnRleHRCZXR3ZWVuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudGV4dC5zbGljZSh0LGUpfSxuLm5vZGVTaXplLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHQubGVuZ3RofSxlLnByb3RvdHlwZS5tYXJrPWZ1bmN0aW9uKHQpe3JldHVybiB0PT10aGlzLm1hcmtzP3RoaXM6bmV3IGUodGhpcy50eXBlLHRoaXMuYXR0cnMsdGhpcy50ZXh0LHQpfSxlLnByb3RvdHlwZS53aXRoVGV4dD1mdW5jdGlvbih0KXtyZXR1cm4gdD09dGhpcy50ZXh0P3RoaXM6bmV3IGUodGhpcy50eXBlLHRoaXMuYXR0cnMsdCx0aGlzLm1hcmtzKX0sZS5wcm90b3R5cGUuY3V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPXRoaXMudGV4dC5sZW5ndGgpLDA9PXQmJmU9PXRoaXMudGV4dC5sZW5ndGg/dGhpczp0aGlzLndpdGhUZXh0KHRoaXMudGV4dC5zbGljZSh0LGUpKX0sZS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2FtZU1hcmt1cCh0KSYmdGhpcy50ZXh0PT10LnRleHR9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPXQucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO3JldHVybiBlLnRleHQ9dGhpcy50ZXh0LGV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLG4pLGV9KCQpO2Z1bmN0aW9uIEYodCxlKXtmb3IodmFyIG49dC5sZW5ndGgtMTtuPj0wO24tLSllPXRbbl0udHlwZS5uYW1lKyIoIitlKyIpIjtyZXR1cm4gZX12YXIgaj1mdW5jdGlvbih0KXt0aGlzLnZhbGlkRW5kPXQsdGhpcy5uZXh0PVtdLHRoaXMud3JhcENhY2hlPVtdfSxMPXtpbmxpbmVDb250ZW50Ontjb25maWd1cmFibGU6ITB9LGRlZmF1bHRUeXBlOntjb25maWd1cmFibGU6ITB9LGVkZ2VDb3VudDp7Y29uZmlndXJhYmxlOiEwfX07ai5wYXJzZT1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBIKHQsZSk7aWYobnVsbD09bi5uZXh0KXJldHVybiBqLmVtcHR5O3ZhciByPVcobik7bi5uZXh0JiZuLmVycigiVW5leHBlY3RlZCB0cmFpbGluZyB0ZXh0Iik7dmFyIG89ZXQoWihyKSk7cmV0dXJuIG50KG8sbiksb30sai5wcm90b3R5cGUubWF0Y2hUeXBlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5uZXh0Lmxlbmd0aDtlKz0yKWlmKHRoaXMubmV4dFtlXT09dClyZXR1cm4gdGhpcy5uZXh0W2UrMV07cmV0dXJuIG51bGx9LGoucHJvdG90eXBlLm1hdGNoRnJhZ21lbnQ9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PW4mJihuPXQuY2hpbGRDb3VudCk7Zm9yKHZhciByPXRoaXMsbz1lO3ImJm88bjtvKyspcj1yLm1hdGNoVHlwZSh0LmNoaWxkKG8pLnR5cGUpO3JldHVybiByfSxMLmlubGluZUNvbnRlbnQuZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5uZXh0WzBdO3JldHVybiEhdCYmdC5pc0lubGluZX0sTC5kZWZhdWx0VHlwZS5nZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMubmV4dC5sZW5ndGg7dCs9Mil7dmFyIGU9dGhpcy5uZXh0W3RdO2lmKCFlLmlzVGV4dCYmIWUuaGFzUmVxdWlyZWRBdHRycygpKXJldHVybiBlfX0sai5wcm90b3R5cGUuY29tcGF0aWJsZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMubmV4dC5sZW5ndGg7ZSs9Milmb3IodmFyIG49MDtuPHQubmV4dC5sZW5ndGg7bis9MilpZih0aGlzLm5leHRbZV09PXQubmV4dFtuXSlyZXR1cm4hMDtyZXR1cm4hMX0sai5wcm90b3R5cGUuZmlsbEJlZm9yZT1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9ITEpLHZvaWQgMD09PW4mJihuPTApO3ZhciByPVt0aGlzXTtmdW5jdGlvbiBvKGkscyl7dmFyIGE9aS5tYXRjaEZyYWdtZW50KHQsbik7aWYoYSYmKCFlfHxhLnZhbGlkRW5kKSlyZXR1cm4gYy5mcm9tKHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jcmVhdGVBbmRGaWxsKCl9KSkpO2Zvcih2YXIgbD0wO2w8aS5uZXh0Lmxlbmd0aDtsKz0yKXt2YXIgdT1pLm5leHRbbF0sZD1pLm5leHRbbCsxXTtpZighdS5pc1RleHQmJiF1Lmhhc1JlcXVpcmVkQXR0cnMoKSYmLTE9PXIuaW5kZXhPZihkKSl7ci5wdXNoKGQpO3ZhciBwPW8oZCxzLmNvbmNhdCh1KSk7aWYocClyZXR1cm4gcH19fXJldHVybiBvKHRoaXMsW10pfSxqLnByb3RvdHlwZS5maW5kV3JhcHBpbmc9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLndyYXBDYWNoZS5sZW5ndGg7ZSs9MilpZih0aGlzLndyYXBDYWNoZVtlXT09dClyZXR1cm4gdGhpcy53cmFwQ2FjaGVbZSsxXTt2YXIgbj10aGlzLmNvbXB1dGVXcmFwcGluZyh0KTtyZXR1cm4gdGhpcy53cmFwQ2FjaGUucHVzaCh0LG4pLG59LGoucHJvdG90eXBlLmNvbXB1dGVXcmFwcGluZz1mdW5jdGlvbih0KXt2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpLG49W3ttYXRjaDp0aGlzLHR5cGU6bnVsbCx2aWE6bnVsbH1dO3doaWxlKG4ubGVuZ3RoKXt2YXIgcj1uLnNoaWZ0KCksbz1yLm1hdGNoO2lmKG8ubWF0Y2hUeXBlKHQpKXtmb3IodmFyIGk9W10scz1yO3MudHlwZTtzPXMudmlhKWkucHVzaChzLnR5cGUpO3JldHVybiBpLnJldmVyc2UoKX1mb3IodmFyIGE9MDthPG8ubmV4dC5sZW5ndGg7YSs9Mil7dmFyIGM9by5uZXh0W2FdO2MuaXNMZWFmfHxjLmhhc1JlcXVpcmVkQXR0cnMoKXx8Yy5uYW1lIGluIGV8fHIudHlwZSYmIW8ubmV4dFthKzFdLnZhbGlkRW5kfHwobi5wdXNoKHttYXRjaDpjLmNvbnRlbnRNYXRjaCx0eXBlOmMsdmlhOnJ9KSxlW2MubmFtZV09ITApfX19LEwuZWRnZUNvdW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5leHQubGVuZ3RoPj4xfSxqLnByb3RvdHlwZS5lZGdlPWZ1bmN0aW9uKHQpe3ZhciBlPXQ8PDE7aWYoZT49dGhpcy5uZXh0Lmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGhlcmUncyBubyAiK3QrInRoIGVkZ2UgaW4gdGhpcyBjb250ZW50IG1hdGNoIik7cmV0dXJue3R5cGU6dGhpcy5uZXh0W2VdLG5leHQ6dGhpcy5uZXh0W2UrMV19fSxqLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PVtdO2Z1bmN0aW9uIGUobil7dC5wdXNoKG4pO2Zvcih2YXIgcj0xO3I8bi5uZXh0Lmxlbmd0aDtyKz0yKS0xPT10LmluZGV4T2Yobi5uZXh0W3JdKSYmZShuLm5leHRbcl0pfXJldHVybiBlKHRoaXMpLHQubWFwKChmdW5jdGlvbihlLG4pe2Zvcih2YXIgcj1uKyhlLnZhbGlkRW5kPyIqIjoiICIpKyIgIixvPTA7bzxlLm5leHQubGVuZ3RoO28rPTIpcis9KG8/IiwgIjoiIikrZS5uZXh0W29dLm5hbWUrIi0+Iit0LmluZGV4T2YoZS5uZXh0W28rMV0pO3JldHVybiByfSkpLmpvaW4oIlxuIil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGoucHJvdG90eXBlLEwpLGouZW1wdHk9bmV3IGooITApO3ZhciBIPWZ1bmN0aW9uKHQsZSl7dGhpcy5zdHJpbmc9dCx0aGlzLm5vZGVUeXBlcz1lLHRoaXMuaW5saW5lPW51bGwsdGhpcy5wb3M9MCx0aGlzLnRva2Vucz10LnNwbGl0KC9ccyooPz1cYnxcV3wkKS8pLCIiPT10aGlzLnRva2Vuc1t0aGlzLnRva2Vucy5sZW5ndGgtMV0mJnRoaXMudG9rZW5zLnBvcCgpLCIiPT10aGlzLnRva2Vuc1swXSYmdGhpcy50b2tlbnMudW5zaGlmdCgpfSxxPXtuZXh0Ontjb25maWd1cmFibGU6ITB9fTtmdW5jdGlvbiBXKHQpe3ZhciBlPVtdO2Rve2UucHVzaChLKHQpKX13aGlsZSh0LmVhdCgifCIpKTtyZXR1cm4gMT09ZS5sZW5ndGg/ZVswXTp7dHlwZToiY2hvaWNlIixleHByczplfX1mdW5jdGlvbiBLKHQpe3ZhciBlPVtdO2Rve2UucHVzaChKKHQpKX13aGlsZSh0Lm5leHQmJiIpIiE9dC5uZXh0JiYifCIhPXQubmV4dCk7cmV0dXJuIDE9PWUubGVuZ3RoP2VbMF06e3R5cGU6InNlcSIsZXhwcnM6ZX19ZnVuY3Rpb24gSih0KXtmb3IodmFyIGU9WSh0KTs7KWlmKHQuZWF0KCIrIikpZT17dHlwZToicGx1cyIsZXhwcjplfTtlbHNlIGlmKHQuZWF0KCIqIikpZT17dHlwZToic3RhciIsZXhwcjplfTtlbHNlIGlmKHQuZWF0KCI/IikpZT17dHlwZToib3B0IixleHByOmV9O2Vsc2V7aWYoIXQuZWF0KCJ7IikpYnJlYWs7ZT1HKHQsZSl9cmV0dXJuIGV9ZnVuY3Rpb24gVSh0KXsvXEQvLnRlc3QodC5uZXh0KSYmdC5lcnIoIkV4cGVjdGVkIG51bWJlciwgZ290ICciK3QubmV4dCsiJyIpO3ZhciBlPU51bWJlcih0Lm5leHQpO3JldHVybiB0LnBvcysrLGV9ZnVuY3Rpb24gRyh0LGUpe3ZhciBuPVUodCkscj1uO3JldHVybiB0LmVhdCgiLCIpJiYocj0ifSIhPXQubmV4dD9VKHQpOi0xKSx0LmVhdCgifSIpfHx0LmVycigiVW5jbG9zZWQgYnJhY2VkIHJhbmdlIikse3R5cGU6InJhbmdlIixtaW46bixtYXg6cixleHByOmV9fWZ1bmN0aW9uIFgodCxlKXt2YXIgbj10Lm5vZGVUeXBlcyxyPW5bZV07aWYocilyZXR1cm5bcl07dmFyIG89W107Zm9yKHZhciBpIGluIG4pe3ZhciBzPW5baV07cy5ncm91cHMuaW5kZXhPZihlKT4tMSYmby5wdXNoKHMpfXJldHVybiAwPT1vLmxlbmd0aCYmdC5lcnIoIk5vIG5vZGUgdHlwZSBvciBncm91cCAnIitlKyInIGZvdW5kIiksb31mdW5jdGlvbiBZKHQpe2lmKHQuZWF0KCIoIikpe3ZhciBlPVcodCk7cmV0dXJuIHQuZWF0KCIpIil8fHQuZXJyKCJNaXNzaW5nIGNsb3NpbmcgcGFyZW4iKSxlfWlmKCEvXFcvLnRlc3QodC5uZXh0KSl7dmFyIG49WCh0LHQubmV4dCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09dC5pbmxpbmU/dC5pbmxpbmU9ZS5pc0lubGluZTp0LmlubGluZSE9ZS5pc0lubGluZSYmdC5lcnIoIk1peGluZyBpbmxpbmUgYW5kIGJsb2NrIGNvbnRlbnQiKSx7dHlwZToibmFtZSIsdmFsdWU6ZX19KSk7cmV0dXJuIHQucG9zKyssMT09bi5sZW5ndGg/blswXTp7dHlwZToiY2hvaWNlIixleHByczpufX10LmVycigiVW5leHBlY3RlZCB0b2tlbiAnIit0Lm5leHQrIiciKX1mdW5jdGlvbiBaKHQpe3ZhciBlPVtbXV07cmV0dXJuIG8oaSh0LDApLG4oKSksZTtmdW5jdGlvbiBuKCl7cmV0dXJuIGUucHVzaChbXSktMX1mdW5jdGlvbiByKHQsbixyKXt2YXIgbz17dGVybTpyLHRvOm59O3JldHVybiBlW3RdLnB1c2gobyksb31mdW5jdGlvbiBvKHQsZSl7dC5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC50bz1lfSkpfWZ1bmN0aW9uIGkodCxlKXtpZigiY2hvaWNlIj09dC50eXBlKXJldHVybiB0LmV4cHJzLnJlZHVjZSgoZnVuY3Rpb24odCxuKXtyZXR1cm4gdC5jb25jYXQoaShuLGUpKX0pLFtdKTtpZigic2VxIj09dC50eXBlKWZvcih2YXIgcz0wOztzKyspe3ZhciBhPWkodC5leHByc1tzXSxlKTtpZihzPT10LmV4cHJzLmxlbmd0aC0xKXJldHVybiBhO28oYSxlPW4oKSl9ZWxzZXtpZigic3RhciI9PXQudHlwZSl7dmFyIGM9bigpO3JldHVybiByKGUsYyksbyhpKHQuZXhwcixjKSxjKSxbcihjKV19aWYoInBsdXMiPT10LnR5cGUpe3ZhciBsPW4oKTtyZXR1cm4gbyhpKHQuZXhwcixlKSxsKSxvKGkodC5leHByLGwpLGwpLFtyKGwpXX1pZigib3B0Ij09dC50eXBlKXJldHVybltyKGUpXS5jb25jYXQoaSh0LmV4cHIsZSkpO2lmKCJyYW5nZSI9PXQudHlwZSl7Zm9yKHZhciB1PWUsZD0wO2Q8dC5taW47ZCsrKXt2YXIgcD1uKCk7byhpKHQuZXhwcix1KSxwKSx1PXB9aWYoLTE9PXQubWF4KW8oaSh0LmV4cHIsdSksdSk7ZWxzZSBmb3IodmFyIGY9dC5taW47Zjx0Lm1heDtmKyspe3ZhciBoPW4oKTtyKHUsaCksbyhpKHQuZXhwcix1KSxoKSx1PWh9cmV0dXJuW3IodSldfWlmKCJuYW1lIj09dC50eXBlKXJldHVybltyKGUsbnVsbCx0LnZhbHVlKV19fX1mdW5jdGlvbiBRKHQsZSl7cmV0dXJuIGUtdH1mdW5jdGlvbiB0dCh0LGUpe3ZhciBuPVtdO3JldHVybiByKGUpLG4uc29ydChRKTtmdW5jdGlvbiByKGUpe3ZhciBvPXRbZV07aWYoMT09by5sZW5ndGgmJiFvWzBdLnRlcm0pcmV0dXJuIHIob1swXS50byk7bi5wdXNoKGUpO2Zvcih2YXIgaT0wO2k8by5sZW5ndGg7aSsrKXt2YXIgcz1vW2ldLGE9cy50ZXJtLGM9cy50bzthfHwtMSE9bi5pbmRleE9mKGMpfHxyKGMpfX19ZnVuY3Rpb24gZXQodCl7dmFyIGU9T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gbih0dCh0LDApKTtmdW5jdGlvbiBuKHIpe3ZhciBvPVtdO3IuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLnRlcm0scj1lLnRvO2lmKG4pe3ZhciBpPW8uaW5kZXhPZihuKSxzPWk+LTEmJm9baSsxXTt0dCh0LHIpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3N8fG8ucHVzaChuLHM9W10pLC0xPT1zLmluZGV4T2YodCkmJnMucHVzaCh0KX0pKX19KSl9KSk7Zm9yKHZhciBpPWVbci5qb2luKCIsIildPW5ldyBqKHIuaW5kZXhPZih0Lmxlbmd0aC0xKT4tMSkscz0wO3M8by5sZW5ndGg7cys9Mil7dmFyIGE9b1tzKzFdLnNvcnQoUSk7aS5uZXh0LnB1c2gob1tzXSxlW2Euam9pbigiLCIpXXx8bihhKSl9cmV0dXJuIGl9fWZ1bmN0aW9uIG50KHQsZSl7Zm9yKHZhciBuPTAscj1bdF07bjxyLmxlbmd0aDtuKyspe2Zvcih2YXIgbz1yW25dLGk9IW8udmFsaWRFbmQscz1bXSxhPTA7YTxvLm5leHQubGVuZ3RoO2ErPTIpe3ZhciBjPW8ubmV4dFthXSxsPW8ubmV4dFthKzFdO3MucHVzaChjLm5hbWUpLCFpfHxjLmlzVGV4dHx8Yy5oYXNSZXF1aXJlZEF0dHJzKCl8fChpPSExKSwtMT09ci5pbmRleE9mKGwpJiZyLnB1c2gobCl9aSYmZS5lcnIoIk9ubHkgbm9uLWdlbmVyYXRhYmxlIG5vZGVzICgiK3Muam9pbigiLCAiKSsiKSBpbiBhIHJlcXVpcmVkIHBvc2l0aW9uIil9fWZ1bmN0aW9uIHJ0KHQpe3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKHZhciBuIGluIHQpe3ZhciByPXRbbl07aWYoIXIuaGFzRGVmYXVsdClyZXR1cm4gbnVsbDtlW25dPXIuZGVmYXVsdH1yZXR1cm4gZX1mdW5jdGlvbiBvdCh0LGUpe3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKHZhciByIGluIHQpe3ZhciBvPWUmJmVbcl07aWYodm9pZCAwPT09byl7dmFyIGk9dFtyXTtpZighaS5oYXNEZWZhdWx0KXRocm93IG5ldyBSYW5nZUVycm9yKCJObyB2YWx1ZSBzdXBwbGllZCBmb3IgYXR0cmlidXRlICIrcik7bz1pLmRlZmF1bHR9bltyXT1vfXJldHVybiBufWZ1bmN0aW9uIGl0KHQpe3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCk7aWYodClmb3IodmFyIG4gaW4gdCllW25dPW5ldyBjdCh0W25dKTtyZXR1cm4gZX1xLm5leHQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9rZW5zW3RoaXMucG9zXX0sSC5wcm90b3R5cGUuZWF0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5leHQ9PXQmJih0aGlzLnBvcysrfHwhMCl9LEgucHJvdG90eXBlLmVycj1mdW5jdGlvbih0KXt0aHJvdyBuZXcgU3ludGF4RXJyb3IodCsiIChpbiBjb250ZW50IGV4cHJlc3Npb24gJyIrdGhpcy5zdHJpbmcrIicpIil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEgucHJvdG90eXBlLHEpO3ZhciBzdD1mdW5jdGlvbih0LGUsbil7dGhpcy5uYW1lPXQsdGhpcy5zY2hlbWE9ZSx0aGlzLnNwZWM9bix0aGlzLmdyb3Vwcz1uLmdyb3VwP24uZ3JvdXAuc3BsaXQoIiAiKTpbXSx0aGlzLmF0dHJzPWl0KG4uYXR0cnMpLHRoaXMuZGVmYXVsdEF0dHJzPXJ0KHRoaXMuYXR0cnMpLHRoaXMuY29udGVudE1hdGNoPW51bGwsdGhpcy5tYXJrU2V0PW51bGwsdGhpcy5pbmxpbmVDb250ZW50PW51bGwsdGhpcy5pc0Jsb2NrPSEobi5pbmxpbmV8fCJ0ZXh0Ij09dCksdGhpcy5pc1RleHQ9InRleHQiPT10fSxhdD17aXNJbmxpbmU6e2NvbmZpZ3VyYWJsZTohMH0saXNUZXh0YmxvY2s6e2NvbmZpZ3VyYWJsZTohMH0saXNMZWFmOntjb25maWd1cmFibGU6ITB9LGlzQXRvbTp7Y29uZmlndXJhYmxlOiEwfX07YXQuaXNJbmxpbmUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNCbG9ja30sYXQuaXNUZXh0YmxvY2suZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNCbG9jayYmdGhpcy5pbmxpbmVDb250ZW50fSxhdC5pc0xlYWYuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudE1hdGNoPT1qLmVtcHR5fSxhdC5pc0F0b20uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNMZWFmfHx0aGlzLnNwZWMuYXRvbX0sc3QucHJvdG90eXBlLmhhc1JlcXVpcmVkQXR0cnM9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5hdHRycylpZih0aGlzLmF0dHJzW3RdLmlzUmVxdWlyZWQpcmV0dXJuITA7cmV0dXJuITF9LHN0LnByb3RvdHlwZS5jb21wYXRpYmxlQ29udGVudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09dHx8dGhpcy5jb250ZW50TWF0Y2guY29tcGF0aWJsZSh0LmNvbnRlbnRNYXRjaCl9LHN0LnByb3RvdHlwZS5jb21wdXRlQXR0cnM9ZnVuY3Rpb24odCl7cmV0dXJuIXQmJnRoaXMuZGVmYXVsdEF0dHJzP3RoaXMuZGVmYXVsdEF0dHJzOm90KHRoaXMuYXR0cnMsdCl9LHN0LnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCxlLG4pe2lmKHRoaXMuaXNUZXh0KXRocm93IG5ldyBFcnJvcigiTm9kZVR5cGUuY3JlYXRlIGNhbid0IGNvbnN0cnVjdCB0ZXh0IG5vZGVzIik7cmV0dXJuIG5ldyAkKHRoaXMsdGhpcy5jb21wdXRlQXR0cnModCksYy5mcm9tKGUpLGYuc2V0RnJvbShuKSl9LHN0LnByb3RvdHlwZS5jcmVhdGVDaGVja2VkPWZ1bmN0aW9uKHQsZSxuKXtpZihlPWMuZnJvbShlKSwhdGhpcy52YWxpZENvbnRlbnQoZSkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgY29udGVudCBmb3Igbm9kZSAiK3RoaXMubmFtZSk7cmV0dXJuIG5ldyAkKHRoaXMsdGhpcy5jb21wdXRlQXR0cnModCksZSxmLnNldEZyb20obikpfSxzdC5wcm90b3R5cGUuY3JlYXRlQW5kRmlsbD1mdW5jdGlvbih0LGUsbil7aWYodD10aGlzLmNvbXB1dGVBdHRycyh0KSxlPWMuZnJvbShlKSxlLnNpemUpe3ZhciByPXRoaXMuY29udGVudE1hdGNoLmZpbGxCZWZvcmUoZSk7aWYoIXIpcmV0dXJuIG51bGw7ZT1yLmFwcGVuZChlKX12YXIgbz10aGlzLmNvbnRlbnRNYXRjaC5tYXRjaEZyYWdtZW50KGUpLmZpbGxCZWZvcmUoYy5lbXB0eSwhMCk7cmV0dXJuIG8/bmV3ICQodGhpcyx0LGUuYXBwZW5kKG8pLGYuc2V0RnJvbShuKSk6bnVsbH0sc3QucHJvdG90eXBlLnZhbGlkQ29udGVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRlbnRNYXRjaC5tYXRjaEZyYWdtZW50KHQpO2lmKCFlfHwhZS52YWxpZEVuZClyZXR1cm4hMTtmb3IodmFyIG49MDtuPHQuY2hpbGRDb3VudDtuKyspaWYoIXRoaXMuYWxsb3dzTWFya3ModC5jaGlsZChuKS5tYXJrcykpcmV0dXJuITE7cmV0dXJuITB9LHN0LnByb3RvdHlwZS5hbGxvd3NNYXJrVHlwZT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dGhpcy5tYXJrU2V0fHx0aGlzLm1hcmtTZXQuaW5kZXhPZih0KT4tMX0sc3QucHJvdG90eXBlLmFsbG93c01hcmtzPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXRoaXMubWFya1NldClyZXR1cm4hMDtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpZighdGhpcy5hbGxvd3NNYXJrVHlwZSh0W2VdLnR5cGUpKXJldHVybiExO3JldHVybiEwfSxzdC5wcm90b3R5cGUuYWxsb3dlZE1hcmtzPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXRoaXMubWFya1NldClyZXR1cm4gdDtmb3IodmFyIGUsbj0wO248dC5sZW5ndGg7bisrKXRoaXMuYWxsb3dzTWFya1R5cGUodFtuXS50eXBlKT9lJiZlLnB1c2godFtuXSk6ZXx8KGU9dC5zbGljZSgwLG4pKTtyZXR1cm4gZT9lLmxlbmd0aD9lOmYuZW1wdHk6dH0sc3QuY29tcGlsZT1mdW5jdGlvbih0LGUpe3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7dC5mb3JFYWNoKChmdW5jdGlvbih0LHIpe3JldHVybiBuW3RdPW5ldyBzdCh0LGUscil9KSk7dmFyIHI9ZS5zcGVjLnRvcE5vZGV8fCJkb2MiO2lmKCFuW3JdKXRocm93IG5ldyBSYW5nZUVycm9yKCJTY2hlbWEgaXMgbWlzc2luZyBpdHMgdG9wIG5vZGUgdHlwZSAoJyIrcisiJykiKTtpZighbi50ZXh0KXRocm93IG5ldyBSYW5nZUVycm9yKCJFdmVyeSBzY2hlbWEgbmVlZHMgYSAndGV4dCcgdHlwZSIpO2Zvcih2YXIgbyBpbiBuLnRleHQuYXR0cnMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRoZSB0ZXh0IG5vZGUgdHlwZSBzaG91bGQgbm90IGhhdmUgYXR0cmlidXRlcyIpO3JldHVybiBufSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzdC5wcm90b3R5cGUsYXQpO3ZhciBjdD1mdW5jdGlvbih0KXt0aGlzLmhhc0RlZmF1bHQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsImRlZmF1bHQiKSx0aGlzLmRlZmF1bHQ9dC5kZWZhdWx0fSxsdD17aXNSZXF1aXJlZDp7Y29uZmlndXJhYmxlOiEwfX07bHQuaXNSZXF1aXJlZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5oYXNEZWZhdWx0fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjdC5wcm90b3R5cGUsbHQpO3ZhciB1dD1mdW5jdGlvbih0LGUsbixyKXt0aGlzLm5hbWU9dCx0aGlzLnNjaGVtYT1uLHRoaXMuc3BlYz1yLHRoaXMuYXR0cnM9aXQoci5hdHRycyksdGhpcy5yYW5rPWUsdGhpcy5leGNsdWRlZD1udWxsO3ZhciBvPXJ0KHRoaXMuYXR0cnMpO3RoaXMuaW5zdGFuY2U9byYmbmV3IGYodGhpcyxvKX07dXQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4hdCYmdGhpcy5pbnN0YW5jZT90aGlzLmluc3RhbmNlOm5ldyBmKHRoaXMsb3QodGhpcy5hdHRycyx0KSl9LHV0LmNvbXBpbGU9ZnVuY3Rpb24odCxlKXt2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpLHI9MDtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0LG8pe3JldHVybiBuW3RdPW5ldyB1dCh0LHIrKyxlLG8pfSkpLG59LHV0LnByb3RvdHlwZS5yZW1vdmVGcm9tU2V0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRbZV0udHlwZT09dGhpcylyZXR1cm4gdC5zbGljZSgwLGUpLmNvbmNhdCh0LnNsaWNlKGUrMSkpO3JldHVybiB0fSx1dC5wcm90b3R5cGUuaXNJblNldD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpZih0W2VdLnR5cGU9PXRoaXMpcmV0dXJuIHRbZV19LHV0LnByb3RvdHlwZS5leGNsdWRlcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5leGNsdWRlZC5pbmRleE9mKHQpPi0xfTt2YXIgZHQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuc3BlYz17fSx0KXRoaXMuc3BlY1tlXT10W2VdO3RoaXMuc3BlYy5ub2Rlcz1pLmZyb20odC5ub2RlcyksdGhpcy5zcGVjLm1hcmtzPWkuZnJvbSh0Lm1hcmtzKSx0aGlzLm5vZGVzPXN0LmNvbXBpbGUodGhpcy5zcGVjLm5vZGVzLHRoaXMpLHRoaXMubWFya3M9dXQuY29tcGlsZSh0aGlzLnNwZWMubWFya3MsdGhpcyk7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIHIgaW4gdGhpcy5ub2Rlcyl7aWYociBpbiB0aGlzLm1hcmtzKXRocm93IG5ldyBSYW5nZUVycm9yKHIrIiBjYW4gbm90IGJlIGJvdGggYSBub2RlIGFuZCBhIG1hcmsiKTt2YXIgbz10aGlzLm5vZGVzW3JdLHM9by5zcGVjLmNvbnRlbnR8fCIiLGE9by5zcGVjLm1hcmtzO28uY29udGVudE1hdGNoPW5bc118fChuW3NdPWoucGFyc2Uocyx0aGlzLm5vZGVzKSksby5pbmxpbmVDb250ZW50PW8uY29udGVudE1hdGNoLmlubGluZUNvbnRlbnQsby5tYXJrU2V0PSJfIj09YT9udWxsOmE/cHQodGhpcyxhLnNwbGl0KCIgIikpOiIiIT1hJiZvLmlubGluZUNvbnRlbnQ/bnVsbDpbXX1mb3IodmFyIGMgaW4gdGhpcy5tYXJrcyl7dmFyIGw9dGhpcy5tYXJrc1tjXSx1PWwuc3BlYy5leGNsdWRlcztsLmV4Y2x1ZGVkPW51bGw9PXU/W2xdOiIiPT11P1tdOnB0KHRoaXMsdS5zcGxpdCgiICIpKX10aGlzLm5vZGVGcm9tSlNPTj10aGlzLm5vZGVGcm9tSlNPTi5iaW5kKHRoaXMpLHRoaXMubWFya0Zyb21KU09OPXRoaXMubWFya0Zyb21KU09OLmJpbmQodGhpcyksdGhpcy50b3BOb2RlVHlwZT10aGlzLm5vZGVzW3RoaXMuc3BlYy50b3BOb2RlfHwiZG9jIl0sdGhpcy5jYWNoZWQ9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLmNhY2hlZC53cmFwcGluZ3M9T2JqZWN0LmNyZWF0ZShudWxsKX07ZnVuY3Rpb24gcHQodCxlKXtmb3IodmFyIG49W10scj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdLGk9dC5tYXJrc1tvXSxzPWk7aWYoaSluLnB1c2goaSk7ZWxzZSBmb3IodmFyIGEgaW4gdC5tYXJrcyl7dmFyIGM9dC5tYXJrc1thXTsoIl8iPT1vfHxjLnNwZWMuZ3JvdXAmJmMuc3BlYy5ncm91cC5zcGxpdCgiICIpLmluZGV4T2Yobyk+LTEpJiZuLnB1c2gocz1jKX1pZighcyl0aHJvdyBuZXcgU3ludGF4RXJyb3IoIlVua25vd24gbWFyayB0eXBlOiAnIitlW3JdKyInIil9cmV0dXJuIG59ZHQucHJvdG90eXBlLm5vZGU9ZnVuY3Rpb24odCxlLG4scil7aWYoInN0cmluZyI9PXR5cGVvZiB0KXQ9dGhpcy5ub2RlVHlwZSh0KTtlbHNle2lmKCEodCBpbnN0YW5jZW9mIHN0KSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBub2RlIHR5cGU6ICIrdCk7aWYodC5zY2hlbWEhPXRoaXMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vZGUgdHlwZSBmcm9tIGRpZmZlcmVudCBzY2hlbWEgdXNlZCAoIit0Lm5hbWUrIikiKX1yZXR1cm4gdC5jcmVhdGVDaGVja2VkKGUsbixyKX0sZHQucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm5vZGVzLnRleHQ7cmV0dXJuIG5ldyBCKG4sbi5kZWZhdWx0QXR0cnMsdCxmLnNldEZyb20oZSkpfSxkdC5wcm90b3R5cGUubWFyaz1mdW5jdGlvbih0LGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdCYmKHQ9dGhpcy5tYXJrc1t0XSksdC5jcmVhdGUoZSl9LGR0LnByb3RvdHlwZS5ub2RlRnJvbUpTT049ZnVuY3Rpb24odCl7cmV0dXJuICQuZnJvbUpTT04odGhpcyx0KX0sZHQucHJvdG90eXBlLm1hcmtGcm9tSlNPTj1mdW5jdGlvbih0KXtyZXR1cm4gZi5mcm9tSlNPTih0aGlzLHQpfSxkdC5wcm90b3R5cGUubm9kZVR5cGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ub2Rlc1t0XTtpZighZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVW5rbm93biBub2RlIHR5cGU6ICIrdCk7cmV0dXJuIGV9O3ZhciBmdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy5zY2hlbWE9dCx0aGlzLnJ1bGVzPWUsdGhpcy50YWdzPVtdLHRoaXMuc3R5bGVzPVtdLGUuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC50YWc/bi50YWdzLnB1c2godCk6dC5zdHlsZSYmbi5zdHlsZXMucHVzaCh0KX0pKX07ZnQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuPW5ldyB4dCh0aGlzLGUsITEpO3JldHVybiBuLmFkZEFsbCh0LG51bGwsZS5mcm9tLGUudG8pLG4uZmluaXNoKCl9LGZ0LnByb3RvdHlwZS5wYXJzZVNsaWNlPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuPW5ldyB4dCh0aGlzLGUsITApO3JldHVybiBuLmFkZEFsbCh0LG51bGwsZS5mcm9tLGUudG8pLG0ubWF4T3BlbihuLmZpbmlzaCgpKX0sZnQucHJvdG90eXBlLm1hdGNoVGFnPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjx0aGlzLnRhZ3MubGVuZ3RoO24rKyl7dmFyIHI9dGhpcy50YWdzW25dO2lmKE90KHQsci50YWcpJiYodm9pZCAwPT09ci5uYW1lc3BhY2V8fHQubmFtZXNwYWNlVVJJPT1yLm5hbWVzcGFjZSkmJighci5jb250ZXh0fHxlLm1hdGNoZXNDb250ZXh0KHIuY29udGV4dCkpKXtpZihyLmdldEF0dHJzKXt2YXIgbz1yLmdldEF0dHJzKHQpO2lmKCExPT09byljb250aW51ZTtyLmF0dHJzPW99cmV0dXJuIHJ9fX0sZnQucHJvdG90eXBlLm1hdGNoU3R5bGU9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj0wO3I8dGhpcy5zdHlsZXMubGVuZ3RoO3IrKyl7dmFyIG89dGhpcy5zdHlsZXNbcl07aWYoISgwIT1vLnN0eWxlLmluZGV4T2YodCl8fG8uY29udGV4dCYmIW4ubWF0Y2hlc0NvbnRleHQoby5jb250ZXh0KXx8by5zdHlsZS5sZW5ndGg+dC5sZW5ndGgmJig2MSE9by5zdHlsZS5jaGFyQ29kZUF0KHQubGVuZ3RoKXx8by5zdHlsZS5zbGljZSh0Lmxlbmd0aCsxKSE9ZSkpKXtpZihvLmdldEF0dHJzKXt2YXIgaT1vLmdldEF0dHJzKGUpO2lmKCExPT09aSljb250aW51ZTtvLmF0dHJzPWl9cmV0dXJuIG99fX0sZnQuc2NoZW1hUnVsZXM9ZnVuY3Rpb24odCl7dmFyIGU9W107ZnVuY3Rpb24gbih0KXtmb3IodmFyIG49bnVsbD09dC5wcmlvcml0eT81MDp0LnByaW9yaXR5LHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89ZVtyXSxpPW51bGw9PW8ucHJpb3JpdHk/NTA6by5wcmlvcml0eTtpZihpPG4pYnJlYWt9ZS5zcGxpY2UociwwLHQpfXZhciByPWZ1bmN0aW9uKGUpe3ZhciByPXQubWFya3NbZV0uc3BlYy5wYXJzZURPTTtyJiZyLmZvckVhY2goKGZ1bmN0aW9uKHQpe24odD1OdCh0KSksdC5tYXJrPWV9KSl9O2Zvcih2YXIgbyBpbiB0Lm1hcmtzKXIobyk7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHI9dC5ub2Rlc1tzXS5zcGVjLnBhcnNlRE9NO3ImJnIuZm9yRWFjaCgoZnVuY3Rpb24odCl7bih0PU50KHQpKSx0Lm5vZGU9c30pKX07Zm9yKHZhciBzIGluIHQubm9kZXMpaSgpO3JldHVybiBlfSxmdC5mcm9tU2NoZW1hPWZ1bmN0aW9uKHQpe3JldHVybiB0LmNhY2hlZC5kb21QYXJzZXJ8fCh0LmNhY2hlZC5kb21QYXJzZXI9bmV3IGZ0KHQsZnQuc2NoZW1hUnVsZXModCkpKX07dmFyIGh0PXthZGRyZXNzOiEwLGFydGljbGU6ITAsYXNpZGU6ITAsYmxvY2txdW90ZTohMCxjYW52YXM6ITAsZGQ6ITAsZGl2OiEwLGRsOiEwLGZpZWxkc2V0OiEwLGZpZ2NhcHRpb246ITAsZmlndXJlOiEwLGZvb3RlcjohMCxmb3JtOiEwLGgxOiEwLGgyOiEwLGgzOiEwLGg0OiEwLGg1OiEwLGg2OiEwLGhlYWRlcjohMCxoZ3JvdXA6ITAsaHI6ITAsbGk6ITAsbm9zY3JpcHQ6ITAsb2w6ITAsb3V0cHV0OiEwLHA6ITAscHJlOiEwLHNlY3Rpb246ITAsdGFibGU6ITAsdGZvb3Q6ITAsdWw6ITB9LG10PXtoZWFkOiEwLG5vc2NyaXB0OiEwLG9iamVjdDohMCxzY3JpcHQ6ITAsc3R5bGU6ITAsdGl0bGU6ITB9LHZ0PXtvbDohMCx1bDohMH0sZ3Q9MSx5dD0yLGJ0PTQ7ZnVuY3Rpb24gd3QodCl7cmV0dXJuKHQ/Z3Q6MCl8KCJmdWxsIj09PXQ/eXQ6MCl9dmFyIFN0PWZ1bmN0aW9uKHQsZSxuLHIsbyxpLHMpe3RoaXMudHlwZT10LHRoaXMuYXR0cnM9ZSx0aGlzLnNvbGlkPW8sdGhpcy5tYXRjaD1pfHwocyZidD9udWxsOnQuY29udGVudE1hdGNoKSx0aGlzLm9wdGlvbnM9cyx0aGlzLmNvbnRlbnQ9W10sdGhpcy5tYXJrcz1uLHRoaXMuYWN0aXZlTWFya3M9Zi5ub25lLHRoaXMucGVuZGluZ01hcmtzPXJ9O1N0LnByb3RvdHlwZS5maW5kV3JhcHBpbmc9ZnVuY3Rpb24odCl7aWYoIXRoaXMubWF0Y2gpe2lmKCF0aGlzLnR5cGUpcmV0dXJuW107dmFyIGU9dGhpcy50eXBlLmNvbnRlbnRNYXRjaC5maWxsQmVmb3JlKGMuZnJvbSh0KSk7aWYoIWUpe3ZhciBuLHI9dGhpcy50eXBlLmNvbnRlbnRNYXRjaDtyZXR1cm4obj1yLmZpbmRXcmFwcGluZyh0LnR5cGUpKT8odGhpcy5tYXRjaD1yLG4pOm51bGx9dGhpcy5tYXRjaD10aGlzLnR5cGUuY29udGVudE1hdGNoLm1hdGNoRnJhZ21lbnQoZSl9cmV0dXJuIHRoaXMubWF0Y2guZmluZFdyYXBwaW5nKHQudHlwZSl9LFN0LnByb3RvdHlwZS5maW5pc2g9ZnVuY3Rpb24odCl7aWYoISh0aGlzLm9wdGlvbnMmZ3QpKXt2YXIgZSxuPXRoaXMuY29udGVudFt0aGlzLmNvbnRlbnQubGVuZ3RoLTFdO24mJm4uaXNUZXh0JiYoZT0vWyBcdFxyXG5cdTAwMGNdKyQvLmV4ZWMobi50ZXh0KSkmJihuLnRleHQubGVuZ3RoPT1lWzBdLmxlbmd0aD90aGlzLmNvbnRlbnQucG9wKCk6dGhpcy5jb250ZW50W3RoaXMuY29udGVudC5sZW5ndGgtMV09bi53aXRoVGV4dChuLnRleHQuc2xpY2UoMCxuLnRleHQubGVuZ3RoLWVbMF0ubGVuZ3RoKSkpfXZhciByPWMuZnJvbSh0aGlzLmNvbnRlbnQpO3JldHVybiF0JiZ0aGlzLm1hdGNoJiYocj1yLmFwcGVuZCh0aGlzLm1hdGNoLmZpbGxCZWZvcmUoYy5lbXB0eSwhMCkpKSx0aGlzLnR5cGU/dGhpcy50eXBlLmNyZWF0ZSh0aGlzLmF0dHJzLHIsdGhpcy5tYXJrcyk6cn0sU3QucHJvdG90eXBlLmFwcGx5UGVuZGluZz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMucGVuZGluZ01hcmtzO2U8bi5sZW5ndGg7ZSsrKXt2YXIgcj1uW2VdOyh0aGlzLnR5cGU/dGhpcy50eXBlLmFsbG93c01hcmtUeXBlKHIudHlwZSk6VHQoci50eXBlLHQpKSYmIXIuaXNJblNldCh0aGlzLmFjdGl2ZU1hcmtzKSYmKHRoaXMuYWN0aXZlTWFya3M9ci5hZGRUb1NldCh0aGlzLmFjdGl2ZU1hcmtzKSx0aGlzLnBlbmRpbmdNYXJrcz1yLnJlbW92ZUZyb21TZXQodGhpcy5wZW5kaW5nTWFya3MpKX19O3ZhciB4dD1mdW5jdGlvbih0LGUsbil7dGhpcy5wYXJzZXI9dCx0aGlzLm9wdGlvbnM9ZSx0aGlzLmlzT3Blbj1uO3ZhciByLG89ZS50b3BOb2RlLGk9d3QoZS5wcmVzZXJ2ZVdoaXRlc3BhY2UpfChuP2J0OjApO3I9bz9uZXcgU3Qoby50eXBlLG8uYXR0cnMsZi5ub25lLGYubm9uZSwhMCxlLnRvcE1hdGNofHxvLnR5cGUuY29udGVudE1hdGNoLGkpOm5ldyBTdChuP251bGw6dC5zY2hlbWEudG9wTm9kZVR5cGUsbnVsbCxmLm5vbmUsZi5ub25lLCEwLG51bGwsaSksdGhpcy5ub2Rlcz1bcl0sdGhpcy5vcGVuPTAsdGhpcy5maW5kPWUuZmluZFBvc2l0aW9ucyx0aGlzLm5lZWRzQmxvY2s9ITF9LGt0PXt0b3A6e2NvbmZpZ3VyYWJsZTohMH0sY3VycmVudFBvczp7Y29uZmlndXJhYmxlOiEwfX07ZnVuY3Rpb24gQ3QodCl7Zm9yKHZhciBlPXQuZmlyc3RDaGlsZCxuPW51bGw7ZTtlPWUubmV4dFNpYmxpbmcpe3ZhciByPTE9PWUubm9kZVR5cGU/ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOm51bGw7ciYmdnQuaGFzT3duUHJvcGVydHkocikmJm4/KG4uYXBwZW5kQ2hpbGQoZSksZT1uKToibGkiPT1yP249ZTpyJiYobj1udWxsKX19ZnVuY3Rpb24gT3QodCxlKXtyZXR1cm4odC5tYXRjaGVzfHx0Lm1zTWF0Y2hlc1NlbGVjdG9yfHx0LndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8dC5tb3pNYXRjaGVzU2VsZWN0b3IpLmNhbGwodCxlKX1mdW5jdGlvbiBNdCh0KXt2YXIgZSxuPS9ccyooW1x3LV0rKVxzKjpccyooW147XSspL2cscj1bXTt3aGlsZShlPW4uZXhlYyh0KSlyLnB1c2goZVsxXSxlWzJdLnRyaW0oKSk7cmV0dXJuIHJ9ZnVuY3Rpb24gTnQodCl7dmFyIGU9e307Zm9yKHZhciBuIGluIHQpZVtuXT10W25dO3JldHVybiBlfWZ1bmN0aW9uIFR0KHQsZSl7dmFyIG49ZS5zY2hlbWEubm9kZXMscj1mdW5jdGlvbihyKXt2YXIgbz1uW3JdO2lmKG8uYWxsb3dzTWFya1R5cGUodCkpe3ZhciBpPVtdLHM9ZnVuY3Rpb24odCl7aS5wdXNoKHQpO2Zvcih2YXIgbj0wO248dC5lZGdlQ291bnQ7bisrKXt2YXIgcj10LmVkZ2Uobiksbz1yLnR5cGUsYT1yLm5leHQ7aWYobz09ZSlyZXR1cm4hMDtpZihpLmluZGV4T2YoYSk8MCYmcyhhKSlyZXR1cm4hMH19O3JldHVybiBzKG8uY29udGVudE1hdGNoKT97djohMH06dm9pZCAwfX07Zm9yKHZhciBvIGluIG4pe3ZhciBpPXIobyk7aWYoaSlyZXR1cm4gaS52fX1rdC50b3AuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZXNbdGhpcy5vcGVuXX0seHQucHJvdG90eXBlLmFkZERPTT1mdW5jdGlvbih0KXtpZigzPT10Lm5vZGVUeXBlKXRoaXMuYWRkVGV4dE5vZGUodCk7ZWxzZSBpZigxPT10Lm5vZGVUeXBlKXt2YXIgZT10LmdldEF0dHJpYnV0ZSgic3R5bGUiKSxuPWU/dGhpcy5yZWFkU3R5bGVzKE10KGUpKTpudWxsLHI9dGhpcy50b3A7aWYobnVsbCE9bilmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKyl0aGlzLmFkZFBlbmRpbmdNYXJrKG5bb10pO2lmKHRoaXMuYWRkRWxlbWVudCh0KSxudWxsIT1uKWZvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXRoaXMucmVtb3ZlUGVuZGluZ01hcmsobltpXSxyKX19LHh0LnByb3RvdHlwZS5hZGRUZXh0Tm9kZT1mdW5jdGlvbih0KXt2YXIgZT10Lm5vZGVWYWx1ZSxuPXRoaXMudG9wO2lmKChuLnR5cGU/bi50eXBlLmlubGluZUNvbnRlbnQ6bi5jb250ZW50Lmxlbmd0aCYmbi5jb250ZW50WzBdLmlzSW5saW5lKXx8L1teIFx0XHJcblx1MDAwY10vLnRlc3QoZSkpe2lmKG4ub3B0aW9ucyZndCluLm9wdGlvbnMmeXR8fChlPWUucmVwbGFjZSgvXHI/XG58XHIvZywiICIpKTtlbHNlIGlmKGU9ZS5yZXBsYWNlKC9bIFx0XHJcblx1MDAwY10rL2csIiAiKSwvXlsgXHRcclxuXHUwMDBjXS8udGVzdChlKSYmdGhpcy5vcGVuPT10aGlzLm5vZGVzLmxlbmd0aC0xKXt2YXIgcj1uLmNvbnRlbnRbbi5jb250ZW50Lmxlbmd0aC0xXSxvPXQucHJldmlvdXNTaWJsaW5nOyghcnx8byYmIkJSIj09by5ub2RlTmFtZXx8ci5pc1RleHQmJi9bIFx0XHJcblx1MDAwY10kLy50ZXN0KHIudGV4dCkpJiYoZT1lLnNsaWNlKDEpKX1lJiZ0aGlzLmluc2VydE5vZGUodGhpcy5wYXJzZXIuc2NoZW1hLnRleHQoZSkpLHRoaXMuZmluZEluVGV4dCh0KX1lbHNlIHRoaXMuZmluZEluc2lkZSh0KX0seHQucHJvdG90eXBlLmFkZEVsZW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3Z0Lmhhc093blByb3BlcnR5KGUpJiZDdCh0KTt2YXIgbj10aGlzLm9wdGlvbnMucnVsZUZyb21Ob2RlJiZ0aGlzLm9wdGlvbnMucnVsZUZyb21Ob2RlKHQpfHx0aGlzLnBhcnNlci5tYXRjaFRhZyh0LHRoaXMpO2lmKG4/bi5pZ25vcmU6bXQuaGFzT3duUHJvcGVydHkoZSkpdGhpcy5maW5kSW5zaWRlKHQpO2Vsc2UgaWYoIW58fG4uc2tpcCl7biYmbi5za2lwLm5vZGVUeXBlJiYodD1uLnNraXApO3ZhciByLG89dGhpcy50b3AsaT10aGlzLm5lZWRzQmxvY2s7aWYoaHQuaGFzT3duUHJvcGVydHkoZSkpcj0hMCxvLnR5cGV8fCh0aGlzLm5lZWRzQmxvY2s9ITApO2Vsc2UgaWYoIXQuZmlyc3RDaGlsZClyZXR1cm4gdm9pZCB0aGlzLmxlYWZGYWxsYmFjayh0KTt0aGlzLmFkZEFsbCh0KSxyJiZ0aGlzLnN5bmMobyksdGhpcy5uZWVkc0Jsb2NrPWl9ZWxzZSB0aGlzLmFkZEVsZW1lbnRCeVJ1bGUodCxuKX0seHQucHJvdG90eXBlLmxlYWZGYWxsYmFjaz1mdW5jdGlvbih0KXsiQlIiPT10Lm5vZGVOYW1lJiZ0aGlzLnRvcC50eXBlJiZ0aGlzLnRvcC50eXBlLmlubGluZUNvbnRlbnQmJnRoaXMuYWRkVGV4dE5vZGUodC5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCJcbiIpKX0seHQucHJvdG90eXBlLnJlYWRTdHlsZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWYubm9uZSxuPTA7bjx0Lmxlbmd0aDtuKz0yKXt2YXIgcj10aGlzLnBhcnNlci5tYXRjaFN0eWxlKHRbbl0sdFtuKzFdLHRoaXMpO2lmKHIpe2lmKHIuaWdub3JlKXJldHVybiBudWxsO2U9dGhpcy5wYXJzZXIuc2NoZW1hLm1hcmtzW3IubWFya10uY3JlYXRlKHIuYXR0cnMpLmFkZFRvU2V0KGUpfX1yZXR1cm4gZX0seHQucHJvdG90eXBlLmFkZEVsZW1lbnRCeVJ1bGU9ZnVuY3Rpb24odCxlKXt2YXIgbixyLG8saSxzPXRoaXM7ZS5ub2RlPyhyPXRoaXMucGFyc2VyLnNjaGVtYS5ub2Rlc1tlLm5vZGVdLHIuaXNMZWFmP3RoaXMuaW5zZXJ0Tm9kZShyLmNyZWF0ZShlLmF0dHJzKSl8fHRoaXMubGVhZkZhbGxiYWNrKHQpOm49dGhpcy5lbnRlcihyLGUuYXR0cnMsZS5wcmVzZXJ2ZVdoaXRlc3BhY2UpKToobz10aGlzLnBhcnNlci5zY2hlbWEubWFya3NbZS5tYXJrXSxpPW8uY3JlYXRlKGUuYXR0cnMpLHRoaXMuYWRkUGVuZGluZ01hcmsoaSkpO3ZhciBhPXRoaXMudG9wO2lmKHImJnIuaXNMZWFmKXRoaXMuZmluZEluc2lkZSh0KTtlbHNlIGlmKGUuZ2V0Q29udGVudCl0aGlzLmZpbmRJbnNpZGUodCksZS5nZXRDb250ZW50KHQsdGhpcy5wYXJzZXIuc2NoZW1hKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gcy5pbnNlcnROb2RlKHQpfSkpO2Vsc2V7dmFyIGM9ZS5jb250ZW50RWxlbWVudDsic3RyaW5nIj09dHlwZW9mIGM/Yz10LnF1ZXJ5U2VsZWN0b3IoYyk6ImZ1bmN0aW9uIj09dHlwZW9mIGMmJihjPWModCkpLGN8fChjPXQpLHRoaXMuZmluZEFyb3VuZCh0LGMsITApLHRoaXMuYWRkQWxsKGMsbil9biYmKHRoaXMuc3luYyhhKSx0aGlzLm9wZW4tLSksaSYmdGhpcy5yZW1vdmVQZW5kaW5nTWFyayhpLGEpfSx4dC5wcm90b3R5cGUuYWRkQWxsPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgbz1ufHwwLGk9bj90LmNoaWxkTm9kZXNbbl06dC5maXJzdENoaWxkLHM9bnVsbD09cj9udWxsOnQuY2hpbGROb2Rlc1tyXTtpIT1zO2k9aS5uZXh0U2libGluZywrK28pdGhpcy5maW5kQXRQb2ludCh0LG8pLHRoaXMuYWRkRE9NKGkpLGUmJmh0Lmhhc093blByb3BlcnR5KGkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkmJnRoaXMuc3luYyhlKTt0aGlzLmZpbmRBdFBvaW50KHQsbyl9LHh0LnByb3RvdHlwZS5maW5kUGxhY2U9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG4scj10aGlzLm9wZW47cj49MDtyLS0pe3ZhciBvPXRoaXMubm9kZXNbcl0saT1vLmZpbmRXcmFwcGluZyh0KTtpZihpJiYoIWV8fGUubGVuZ3RoPmkubGVuZ3RoKSYmKGU9aSxuPW8sIWkubGVuZ3RoKSlicmVhaztpZihvLnNvbGlkKWJyZWFrfWlmKCFlKXJldHVybiExO3RoaXMuc3luYyhuKTtmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKyl0aGlzLmVudGVySW5uZXIoZVtzXSxudWxsLCExKTtyZXR1cm4hMH0seHQucHJvdG90eXBlLmluc2VydE5vZGU9ZnVuY3Rpb24odCl7aWYodC5pc0lubGluZSYmdGhpcy5uZWVkc0Jsb2NrJiYhdGhpcy50b3AudHlwZSl7dmFyIGU9dGhpcy50ZXh0YmxvY2tGcm9tQ29udGV4dCgpO2UmJnRoaXMuZW50ZXJJbm5lcihlKX1pZih0aGlzLmZpbmRQbGFjZSh0KSl7dGhpcy5jbG9zZUV4dHJhKCk7dmFyIG49dGhpcy50b3A7bi5hcHBseVBlbmRpbmcodC50eXBlKSxuLm1hdGNoJiYobi5tYXRjaD1uLm1hdGNoLm1hdGNoVHlwZSh0LnR5cGUpKTtmb3IodmFyIHI9bi5hY3RpdmVNYXJrcyxvPTA7bzx0Lm1hcmtzLmxlbmd0aDtvKyspbi50eXBlJiYhbi50eXBlLmFsbG93c01hcmtUeXBlKHQubWFya3Nbb10udHlwZSl8fChyPXQubWFya3Nbb10uYWRkVG9TZXQocikpO3JldHVybiBuLmNvbnRlbnQucHVzaCh0Lm1hcmsocikpLCEwfXJldHVybiExfSx4dC5wcm90b3R5cGUuZW50ZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuZmluZFBsYWNlKHQuY3JlYXRlKGUpKTtyZXR1cm4gciYmdGhpcy5lbnRlcklubmVyKHQsZSwhMCxuKSxyfSx4dC5wcm90b3R5cGUuZW50ZXJJbm5lcj1mdW5jdGlvbih0LGUsbixyKXt0aGlzLmNsb3NlRXh0cmEoKTt2YXIgbz10aGlzLnRvcDtvLmFwcGx5UGVuZGluZyh0KSxvLm1hdGNoPW8ubWF0Y2gmJm8ubWF0Y2gubWF0Y2hUeXBlKHQsZSk7dmFyIGk9bnVsbD09cj9vLm9wdGlvbnMmfmJ0Ond0KHIpO28ub3B0aW9ucyZidCYmMD09by5jb250ZW50Lmxlbmd0aCYmKGl8PWJ0KSx0aGlzLm5vZGVzLnB1c2gobmV3IFN0KHQsZSxvLmFjdGl2ZU1hcmtzLG8ucGVuZGluZ01hcmtzLG4sbnVsbCxpKSksdGhpcy5vcGVuKyt9LHh0LnByb3RvdHlwZS5jbG9zZUV4dHJhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubm9kZXMubGVuZ3RoLTE7aWYoZT50aGlzLm9wZW4pe2Zvcig7ZT50aGlzLm9wZW47ZS0tKXRoaXMubm9kZXNbZS0xXS5jb250ZW50LnB1c2godGhpcy5ub2Rlc1tlXS5maW5pc2godCkpO3RoaXMubm9kZXMubGVuZ3RoPXRoaXMub3BlbisxfX0seHQucHJvdG90eXBlLmZpbmlzaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wZW49MCx0aGlzLmNsb3NlRXh0cmEodGhpcy5pc09wZW4pLHRoaXMubm9kZXNbMF0uZmluaXNoKHRoaXMuaXNPcGVufHx0aGlzLm9wdGlvbnMudG9wT3Blbil9LHh0LnByb3RvdHlwZS5zeW5jPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLm9wZW47ZT49MDtlLS0paWYodGhpcy5ub2Rlc1tlXT09dClyZXR1cm4gdm9pZCh0aGlzLm9wZW49ZSl9LGt0LmN1cnJlbnRQb3MuZ2V0PWZ1bmN0aW9uKCl7dGhpcy5jbG9zZUV4dHJhKCk7Zm9yKHZhciB0PTAsZT10aGlzLm9wZW47ZT49MDtlLS0pe2Zvcih2YXIgbj10aGlzLm5vZGVzW2VdLmNvbnRlbnQscj1uLmxlbmd0aC0xO3I+PTA7ci0tKXQrPW5bcl0ubm9kZVNpemU7ZSYmdCsrfXJldHVybiB0fSx4dC5wcm90b3R5cGUuZmluZEF0UG9pbnQ9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmZpbmQpZm9yKHZhciBuPTA7bjx0aGlzLmZpbmQubGVuZ3RoO24rKyl0aGlzLmZpbmRbbl0ubm9kZT09dCYmdGhpcy5maW5kW25dLm9mZnNldD09ZSYmKHRoaXMuZmluZFtuXS5wb3M9dGhpcy5jdXJyZW50UG9zKX0seHQucHJvdG90eXBlLmZpbmRJbnNpZGU9ZnVuY3Rpb24odCl7aWYodGhpcy5maW5kKWZvcih2YXIgZT0wO2U8dGhpcy5maW5kLmxlbmd0aDtlKyspbnVsbD09dGhpcy5maW5kW2VdLnBvcyYmMT09dC5ub2RlVHlwZSYmdC5jb250YWlucyh0aGlzLmZpbmRbZV0ubm9kZSkmJih0aGlzLmZpbmRbZV0ucG9zPXRoaXMuY3VycmVudFBvcyl9LHh0LnByb3RvdHlwZS5maW5kQXJvdW5kPWZ1bmN0aW9uKHQsZSxuKXtpZih0IT1lJiZ0aGlzLmZpbmQpZm9yKHZhciByPTA7cjx0aGlzLmZpbmQubGVuZ3RoO3IrKylpZihudWxsPT10aGlzLmZpbmRbcl0ucG9zJiYxPT10Lm5vZGVUeXBlJiZ0LmNvbnRhaW5zKHRoaXMuZmluZFtyXS5ub2RlKSl7dmFyIG89ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0aGlzLmZpbmRbcl0ubm9kZSk7byYobj8yOjQpJiYodGhpcy5maW5kW3JdLnBvcz10aGlzLmN1cnJlbnRQb3MpfX0seHQucHJvdG90eXBlLmZpbmRJblRleHQ9ZnVuY3Rpb24odCl7aWYodGhpcy5maW5kKWZvcih2YXIgZT0wO2U8dGhpcy5maW5kLmxlbmd0aDtlKyspdGhpcy5maW5kW2VdLm5vZGU9PXQmJih0aGlzLmZpbmRbZV0ucG9zPXRoaXMuY3VycmVudFBvcy0odC5ub2RlVmFsdWUubGVuZ3RoLXRoaXMuZmluZFtlXS5vZmZzZXQpKX0seHQucHJvdG90eXBlLm1hdGNoZXNDb250ZXh0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodC5pbmRleE9mKCJ8Iik+LTEpcmV0dXJuIHQuc3BsaXQoL1xzKlx8XHMqLykuc29tZSh0aGlzLm1hdGNoZXNDb250ZXh0LHRoaXMpO3ZhciBuPXQuc3BsaXQoIi8iKSxyPXRoaXMub3B0aW9ucy5jb250ZXh0LG89IXRoaXMuaXNPcGVuJiYoIXJ8fHIucGFyZW50LnR5cGU9PXRoaXMubm9kZXNbMF0udHlwZSksaT0tKHI/ci5kZXB0aCsxOjApKyhvPzA6MSkscz1mdW5jdGlvbih0LGEpe2Zvcig7dD49MDt0LS0pe3ZhciBjPW5bdF07aWYoIiI9PWMpe2lmKHQ9PW4ubGVuZ3RoLTF8fDA9PXQpY29udGludWU7Zm9yKDthPj1pO2EtLSlpZihzKHQtMSxhKSlyZXR1cm4hMDtyZXR1cm4hMX12YXIgbD1hPjB8fDA9PWEmJm8/ZS5ub2Rlc1thXS50eXBlOnImJmE+PWk/ci5ub2RlKGEtaSkudHlwZTpudWxsO2lmKCFsfHxsLm5hbWUhPWMmJi0xPT1sLmdyb3Vwcy5pbmRleE9mKGMpKXJldHVybiExO2EtLX1yZXR1cm4hMH07cmV0dXJuIHMobi5sZW5ndGgtMSx0aGlzLm9wZW4pfSx4dC5wcm90b3R5cGUudGV4dGJsb2NrRnJvbUNvbnRleHQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuY29udGV4dDtpZih0KWZvcih2YXIgZT10LmRlcHRoO2U+PTA7ZS0tKXt2YXIgbj10Lm5vZGUoZSkuY29udGVudE1hdGNoQXQodC5pbmRleEFmdGVyKGUpKS5kZWZhdWx0VHlwZTtpZihuJiZuLmlzVGV4dGJsb2NrJiZuLmRlZmF1bHRBdHRycylyZXR1cm4gbn1mb3IodmFyIHIgaW4gdGhpcy5wYXJzZXIuc2NoZW1hLm5vZGVzKXt2YXIgbz10aGlzLnBhcnNlci5zY2hlbWEubm9kZXNbcl07aWYoby5pc1RleHRibG9jayYmby5kZWZhdWx0QXR0cnMpcmV0dXJuIG99fSx4dC5wcm90b3R5cGUuYWRkUGVuZGluZ01hcms9ZnVuY3Rpb24odCl7dGhpcy50b3AucGVuZGluZ01hcmtzPXQuYWRkVG9TZXQodGhpcy50b3AucGVuZGluZ01hcmtzKX0seHQucHJvdG90eXBlLnJlbW92ZVBlbmRpbmdNYXJrPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMub3BlbjtuPj0wO24tLSl7dmFyIHI9dGhpcy5ub2Rlc1tuXSxvPXIucGVuZGluZ01hcmtzLmxhc3RJbmRleE9mKHQpO2lmKG8+LTE/ci5wZW5kaW5nTWFya3M9dC5yZW1vdmVGcm9tU2V0KHIucGVuZGluZ01hcmtzKTpyLmFjdGl2ZU1hcmtzPXQucmVtb3ZlRnJvbVNldChyLmFjdGl2ZU1hcmtzKSxyPT1lKWJyZWFrfX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoeHQucHJvdG90eXBlLGt0KTt2YXIgQXQ9ZnVuY3Rpb24odCxlKXt0aGlzLm5vZGVzPXR8fHt9LHRoaXMubWFya3M9ZXx8e319O2Z1bmN0aW9uIER0KHQpe3ZhciBlPXt9O2Zvcih2YXIgbiBpbiB0KXt2YXIgcj10W25dLnNwZWMudG9ET007ciYmKGVbbl09cil9cmV0dXJuIGV9ZnVuY3Rpb24gRXQodCl7cmV0dXJuIHQuZG9jdW1lbnR8fHdpbmRvdy5kb2N1bWVudH1BdC5wcm90b3R5cGUuc2VyaWFsaXplRnJhZ21lbnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7dm9pZCAwPT09ZSYmKGU9e30pLG58fChuPUV0KGUpLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7dmFyIG89bixpPW51bGw7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoaXx8dC5tYXJrcy5sZW5ndGgpe2l8fChpPVtdKTt2YXIgbj0wLHM9MDt3aGlsZShuPGkubGVuZ3RoJiZzPHQubWFya3MubGVuZ3RoKXt2YXIgYT10Lm1hcmtzW3NdO2lmKHIubWFya3NbYS50eXBlLm5hbWVdKXtpZighYS5lcShpW25dKXx8ITE9PT1hLnR5cGUuc3BlYy5zcGFubmluZylicmVhaztuKz0yLHMrK31lbHNlIHMrK313aGlsZShuPGkubGVuZ3RoKW89aS5wb3AoKSxpLnBvcCgpO3doaWxlKHM8dC5tYXJrcy5sZW5ndGgpe3ZhciBjPXQubWFya3NbcysrXSxsPXIuc2VyaWFsaXplTWFyayhjLHQuaXNJbmxpbmUsZSk7bCYmKGkucHVzaChjLG8pLG8uYXBwZW5kQ2hpbGQobC5kb20pLG89bC5jb250ZW50RE9NfHxsLmRvbSl9fW8uYXBwZW5kQ2hpbGQoci5zZXJpYWxpemVOb2RlKHQsZSkpfSkpLG59LEF0LnByb3RvdHlwZS5zZXJpYWxpemVOb2RlPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuPUF0LnJlbmRlclNwZWMoRXQoZSksdGhpcy5ub2Rlc1t0LnR5cGUubmFtZV0odCkpLHI9bi5kb20sbz1uLmNvbnRlbnRET007aWYobyl7aWYodC5pc0xlYWYpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkNvbnRlbnQgaG9sZSBub3QgYWxsb3dlZCBpbiBhIGxlYWYgbm9kZSBzcGVjIik7ZS5vbkNvbnRlbnQ/ZS5vbkNvbnRlbnQodCxvLGUpOnRoaXMuc2VyaWFsaXplRnJhZ21lbnQodC5jb250ZW50LGUsbyl9cmV0dXJuIHJ9LEF0LnByb3RvdHlwZS5zZXJpYWxpemVOb2RlQW5kTWFya3M9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7Zm9yKHZhciBuPXRoaXMuc2VyaWFsaXplTm9kZSh0LGUpLHI9dC5tYXJrcy5sZW5ndGgtMTtyPj0wO3ItLSl7dmFyIG89dGhpcy5zZXJpYWxpemVNYXJrKHQubWFya3Nbcl0sdC5pc0lubGluZSxlKTtvJiYoKG8uY29udGVudERPTXx8by5kb20pLmFwcGVuZENoaWxkKG4pLG49by5kb20pfXJldHVybiBufSxBdC5wcm90b3R5cGUuc2VyaWFsaXplTWFyaz1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49e30pO3ZhciByPXRoaXMubWFya3NbdC50eXBlLm5hbWVdO3JldHVybiByJiZBdC5yZW5kZXJTcGVjKEV0KG4pLHIodCxlKSl9LEF0LnJlbmRlclNwZWM9ZnVuY3Rpb24odCxlLG4pe2lmKHZvaWQgMD09PW4mJihuPW51bGwpLCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm57ZG9tOnQuY3JlYXRlVGV4dE5vZGUoZSl9O2lmKG51bGwhPWUubm9kZVR5cGUpcmV0dXJue2RvbTplfTt2YXIgcj1lWzBdLG89ci5pbmRleE9mKCIgIik7bz4wJiYobj1yLnNsaWNlKDAsbykscj1yLnNsaWNlKG8rMSkpO3ZhciBpPW51bGwscz1uP3QuY3JlYXRlRWxlbWVudE5TKG4scik6dC5jcmVhdGVFbGVtZW50KHIpLGE9ZVsxXSxjPTE7aWYoYSYmIm9iamVjdCI9PXR5cGVvZiBhJiZudWxsPT1hLm5vZGVUeXBlJiYhQXJyYXkuaXNBcnJheShhKSlmb3IodmFyIGwgaW4gYz0yLGEpaWYobnVsbCE9YVtsXSl7dmFyIHU9bC5pbmRleE9mKCIgIik7dT4wP3Muc2V0QXR0cmlidXRlTlMobC5zbGljZSgwLHUpLGwuc2xpY2UodSsxKSxhW2xdKTpzLnNldEF0dHJpYnV0ZShsLGFbbF0pfWZvcih2YXIgZD1jO2Q8ZS5sZW5ndGg7ZCsrKXt2YXIgcD1lW2RdO2lmKDA9PT1wKXtpZihkPGUubGVuZ3RoLTF8fGQ+Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQ29udGVudCBob2xlIG11c3QgYmUgdGhlIG9ubHkgY2hpbGQgb2YgaXRzIHBhcmVudCBub2RlIik7cmV0dXJue2RvbTpzLGNvbnRlbnRET006c319dmFyIGY9QXQucmVuZGVyU3BlYyh0LHAsbiksaD1mLmRvbSxtPWYuY29udGVudERPTTtpZihzLmFwcGVuZENoaWxkKGgpLG0pe2lmKGkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk11bHRpcGxlIGNvbnRlbnQgaG9sZXMiKTtpPW19fXJldHVybntkb206cyxjb250ZW50RE9NOml9fSxBdC5mcm9tU2NoZW1hPWZ1bmN0aW9uKHQpe3JldHVybiB0LmNhY2hlZC5kb21TZXJpYWxpemVyfHwodC5jYWNoZWQuZG9tU2VyaWFsaXplcj1uZXcgQXQodGhpcy5ub2Rlc0Zyb21TY2hlbWEodCksdGhpcy5tYXJrc0Zyb21TY2hlbWEodCkpKX0sQXQubm9kZXNGcm9tU2NoZW1hPWZ1bmN0aW9uKHQpe3ZhciBlPUR0KHQubm9kZXMpO3JldHVybiBlLnRleHR8fChlLnRleHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQudGV4dH0pLGV9LEF0Lm1hcmtzRnJvbVNjaGVtYT1mdW5jdGlvbih0KXtyZXR1cm4gRHQodC5tYXJrcyl9fSwiMzQyZiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImQwNjYiKTt0LmV4cG9ydHM9cigibmF2aWdhdG9yIiwidXNlckFnZW50Iil8fCIifSwiMzVhMSI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImY1ZGYiKSxvPW4oIjNmOGMiKSxpPW4oImI2MjIiKSxzPWkoIml0ZXJhdG9yIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9dClyZXR1cm4gdFtzXXx8dFsiQEBpdGVyYXRvciJdfHxvW3IodCldfX0sIjM3ZTgiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI4M2FiIiksbz1uKCI5YmYyIiksaT1uKCI4MjVhIikscz1uKCJkZjc1Iik7dC5leHBvcnRzPXI/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24odCxlKXtpKHQpO3ZhciBuLHI9cyhlKSxhPXIubGVuZ3RoLGM9MDt3aGlsZShhPmMpby5mKHQsbj1yW2MrK10sZVtuXSk7cmV0dXJuIHR9fSwzOTIyOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmR9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTIxIDBIM2EzIDMgMCAwMC0zIDN2MThhMyAzIDAgMDAzIDNoMThhMyAzIDAgMDAzLTNWM2EzIDMgMCAwMC0zLTN6bTEgMjFhMSAxIDAgMDEtMSAxSDNhMSAxIDAgMDEtMS0xVjNhMSAxIDAgMDExLTFoMThhMSAxIDAgMDExIDF6In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xMS4yNDkgNC41YTEuMjUxIDEuMjUxIDAgMDAtMS43NS4yNUw3LjM2NSA3LjZsLS40ODItLjQ4MWExLjI1IDEuMjUgMCAwMC0xLjc2NyAxLjc2NGwxLjUgMS41YTEuMjYyIDEuMjYyIDAgMDAxLjg4NC0uMTM0bDMtNGExLjI1IDEuMjUgMCAwMC0uMjUxLTEuNzQ5ek0xMS4yNDkgMTMuNWExLjI1MSAxLjI1MSAwIDAwLTEuNzUuMjVMNy4zNjUgMTYuNmwtLjQ4Mi0uNDgxYTEuMjUgMS4yNSAwIDEwLTEuNzY3IDEuNzY4bDEuNSAxLjVhMS4yNjUgMS4yNjUgMCAwMDEuODg0LS4xMzhsMy00YTEuMjUgMS4yNSAwIDAwLS4yNTEtMS43NDl6TTE4LjUgNy43NDlIMTRhMS4yNSAxLjI1IDAgMDAwIDIuNWg0LjVhMS4yNSAxLjI1IDAgMDAwLTIuNXpNMTguNSAxNS43NDlIMTRhMS4yNSAxLjI1IDAgMDAwIDIuNWg0LjVhMS4yNSAxLjI1IDAgMTAwLTIuNXoifX0pXSkpfX19LCIzYmJlIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiODYxZCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighcih0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBzZXQgIitTdHJpbmcodCkrIiBhcyBhIHByb3RvdHlwZSIpO3JldHVybiB0fX0sIjNjYTMiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiNjU0NyIpLmNoYXJBdCxvPW4oIjY5ZjMiKSxpPW4oIjdkZDAiKSxzPSJTdHJpbmcgSXRlcmF0b3IiLGE9by5zZXQsYz1vLmdldHRlckZvcihzKTtpKFN0cmluZywiU3RyaW5nIiwoZnVuY3Rpb24odCl7YSh0aGlzLHt0eXBlOnMsc3RyaW5nOlN0cmluZyh0KSxpbmRleDowfSl9KSwoZnVuY3Rpb24oKXt2YXIgdCxlPWModGhpcyksbj1lLnN0cmluZyxvPWUuaW5kZXg7cmV0dXJuIG8+PW4ubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KHQ9cihuLG8pLGUuaW5kZXgrPXQubGVuZ3RoLHt2YWx1ZTp0LGRvbmU6ITF9KX0pKX0sIjNjZTQiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiZTJiZSIpLG89bigiMDczZSIpO2UuaGlnaGxpZ2h0PXMsZS5oaWdobGlnaHRBdXRvPWEsZS5yZWdpc3Rlckxhbmd1YWdlPWMsZS5saXN0TGFuZ3VhZ2VzPWwsZS5yZWdpc3RlckFsaWFzPXUsZC5wcm90b3R5cGUuYWRkVGV4dD1oLGQucHJvdG90eXBlLmFkZEtleXdvcmQ9cCxkLnByb3RvdHlwZS5hZGRTdWJsYW5ndWFnZT1mLGQucHJvdG90eXBlLm9wZW5Ob2RlPW0sZC5wcm90b3R5cGUuY2xvc2VOb2RlPXYsZC5wcm90b3R5cGUuY2xvc2VBbGxOb2Rlcz15LGQucHJvdG90eXBlLmZpbmFsaXplPXksZC5wcm90b3R5cGUudG9IVE1MPWc7dmFyIGk9ImhsanMtIjtmdW5jdGlvbiBzKHQsZSxuKXt2YXIgcyxhPXIuY29uZmlndXJlKHt9KSxjPW58fHt9LGw9Yy5wcmVmaXg7aWYoInN0cmluZyIhPT10eXBlb2YgdCl0aHJvdyBvKCJFeHBlY3RlZCBgc3RyaW5nYCBmb3IgbmFtZSwgZ290IGAlc2AiLHQpO2lmKCFyLmdldExhbmd1YWdlKHQpKXRocm93IG8oIlVua25vd24gbGFuZ3VhZ2U6IGAlc2AgaXMgbm90IHJlZ2lzdGVyZWQiLHQpO2lmKCJzdHJpbmciIT09dHlwZW9mIGUpdGhyb3cgbygiRXhwZWN0ZWQgYHN0cmluZ2AgZm9yIHZhbHVlLCBnb3QgYCVzYCIsZSk7aWYobnVsbCE9PWwmJnZvaWQgMCE9PWx8fChsPWkpLHIuY29uZmlndXJlKHtfX2VtaXR0ZXI6ZCxjbGFzc1ByZWZpeDpsfSkscz1yLmhpZ2hsaWdodCh0LGUsITApLHIuY29uZmlndXJlKGF8fHt9KSxzLmVycm9yUmFpc2VkKXRocm93IHMuZXJyb3JSYWlzZWQ7cmV0dXJue3JlbGV2YW5jZTpzLnJlbGV2YW5jZSxsYW5ndWFnZTpzLmxhbmd1YWdlLHZhbHVlOnMuZW1pdHRlci5yb290Tm9kZS5jaGlsZHJlbn19ZnVuY3Rpb24gYSh0LGUpe3ZhciBuLGEsYyxsLHU9ZXx8e30sZD11LnN1YnNldHx8ci5saXN0TGFuZ3VhZ2VzKCkscD11LnByZWZpeCxmPWQubGVuZ3RoLGg9LTE7aWYobnVsbCE9PXAmJnZvaWQgMCE9PXB8fChwPWkpLCJzdHJpbmciIT09dHlwZW9mIHQpdGhyb3cgbygiRXhwZWN0ZWQgYHN0cmluZ2AgZm9yIHZhbHVlLCBnb3QgYCVzYCIsdCk7YT17cmVsZXZhbmNlOjAsbGFuZ3VhZ2U6bnVsbCx2YWx1ZTpbXX0sbj17cmVsZXZhbmNlOjAsbGFuZ3VhZ2U6bnVsbCx2YWx1ZTpbXX07d2hpbGUoKytoPGYpbD1kW2hdLHIuZ2V0TGFuZ3VhZ2UobCkmJihjPXMobCx0LGUpLGMubGFuZ3VhZ2U9bCxjLnJlbGV2YW5jZT5hLnJlbGV2YW5jZSYmKGE9YyksYy5yZWxldmFuY2U+bi5yZWxldmFuY2UmJihhPW4sbj1jKSk7cmV0dXJuIGEubGFuZ3VhZ2UmJihuLnNlY29uZEJlc3Q9YSksbn1mdW5jdGlvbiBjKHQsZSl7ci5yZWdpc3Rlckxhbmd1YWdlKHQsZSl9ZnVuY3Rpb24gbCgpe3JldHVybiByLmxpc3RMYW5ndWFnZXMoKX1mdW5jdGlvbiB1KHQsZSl7dmFyIG4sbz10O2ZvcihuIGluIGUmJihvPXt9LG9bdF09ZSksbylyLnJlZ2lzdGVyQWxpYXNlcyhvW25dLHtsYW5ndWFnZU5hbWU6bn0pfWZ1bmN0aW9uIGQodCl7dGhpcy5vcHRpb25zPXQsdGhpcy5yb290Tm9kZT17Y2hpbGRyZW46W119LHRoaXMuc3RhY2s9W3RoaXMucm9vdE5vZGVdfWZ1bmN0aW9uIHAodCxlKXt0aGlzLm9wZW5Ob2RlKGUpLHRoaXMuYWRkVGV4dCh0KSx0aGlzLmNsb3NlTm9kZSgpfWZ1bmN0aW9uIGYodCxlKXt2YXIgbj10aGlzLnN0YWNrLHI9bltuLmxlbmd0aC0xXSxvPXQucm9vdE5vZGUuY2hpbGRyZW4saT1lP3t0eXBlOiJlbGVtZW50Iix0YWdOYW1lOiJzcGFuIixwcm9wZXJ0aWVzOntjbGFzc05hbWU6W2VdfSxjaGlsZHJlbjpvfTpvO3IuY2hpbGRyZW49ci5jaGlsZHJlbi5jb25jYXQoaSl9ZnVuY3Rpb24gaCh0KXt2YXIgZSxuLHI9dGhpcy5zdGFjazsiIiE9PXQmJihlPXJbci5sZW5ndGgtMV0sbj1lLmNoaWxkcmVuW2UuY2hpbGRyZW4ubGVuZ3RoLTFdLG4mJiJ0ZXh0Ij09PW4udHlwZT9uLnZhbHVlKz10OmUuY2hpbGRyZW4ucHVzaCh7dHlwZToidGV4dCIsdmFsdWU6dH0pKX1mdW5jdGlvbiBtKHQpe3ZhciBlPXRoaXMuc3RhY2ssbj10aGlzLm9wdGlvbnMuY2xhc3NQcmVmaXgrdCxyPWVbZS5sZW5ndGgtMV0sbz17dHlwZToiZWxlbWVudCIsdGFnTmFtZToic3BhbiIscHJvcGVydGllczp7Y2xhc3NOYW1lOltuXX0sY2hpbGRyZW46W119O3IuY2hpbGRyZW4ucHVzaChvKSxlLnB1c2gobyl9ZnVuY3Rpb24gdigpe3RoaXMuc3RhY2sucG9wKCl9ZnVuY3Rpb24gZygpe3JldHVybiIifWZ1bmN0aW9uIHkoKXt9fSwiM2ViMyI6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5kfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMTcuMTk0IDEwLjk2MkE2LjI3MSA2LjI3MSAwIDAwMTIuODQ0LjI0OEg0LjNhMS4yNSAxLjI1IDAgMDAwIDIuNWgxLjAxM2EuMjUuMjUgMCAwMS4yNS4yNVYyMWEuMjUuMjUgMCAwMS0uMjUuMjVINC4zYTEuMjUgMS4yNSAwIDEwMCAyLjVoOS45NjNhNi43NDIgNi43NDIgMCAwMDIuOTMtMTIuNzg2em0tNC4zNS04LjIxNGEzLjc2MiAzLjc2MiAwIDAxMCA3LjUyM0g4LjMxM2EuMjUuMjUgMCAwMS0uMjUtLjI1VjNhLjI1LjI1IDAgMDEuMjUtLjI1em0xLjQyIDE4LjVIOC4zMTNhLjI1LjI1IDAgMDEtLjI1LS4yNXYtNy45NzdhLjI1LjI1IDAgMDEuMjUtLjI1SDE0LjI2NGE0LjIzOSA0LjIzOSAwIDAxMCA4LjQ3N3oifX0pXSkpfX19LCIzZjhjIjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17fX0sIjQyOGYiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJkYTg0Iik7dC5leHBvcnRzPXJ9LCI0M2NhIjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5kfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmR9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik05LjE0NyAyMS41NTJhMS4yNDQgMS4yNDQgMCAwMS0uODk1LS4zNzhMLjg0IDEzLjU2MWEyLjI1NyAyLjI1NyAwIDAxMC0zLjEyNWw3LjQxMi03LjYxM2ExLjI1IDEuMjUgMCAwMTEuNzkxIDEuNzQ0bC02LjkgNy4wODNhLjUuNSAwIDAwMCAuN2w2LjkgNy4wODJhMS4yNSAxLjI1IDAgMDEtLjkgMi4xMjJ6TTE0Ljg1NCAyMS41NTJhMS4yNSAxLjI1IDAgMDEtLjktMi4xMjJsNi45LTcuMDgzYS41LjUgMCAwMDAtLjdsLTYuOS03LjA4MmExLjI1IDEuMjUgMCAwMTEuNzkxLTEuNzQ0bDcuNDExIDcuNjEyYTIuMjU3IDIuMjU3IDAgMDEwIDMuMTI1bC03LjQxMiA3LjYxNGExLjI0NCAxLjI0NCAwIDAxLS44OS4zOHptNi41MTQtOS4zNzN6In19KV0pKX19fSwiNDRhZCI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImQwMzkiKSxvPW4oImM2YjYiKSxpPSIiLnNwbGl0O3QuZXhwb3J0cz1yKChmdW5jdGlvbigpe3JldHVybiFPYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKX0pKT9mdW5jdGlvbih0KXtyZXR1cm4iU3RyaW5nIj09byh0KT9pLmNhbGwodCwiIik6T2JqZWN0KHQpfTpPYmplY3R9LCI0NGQyIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiYjYyMiIpLG89bigiN2M3MyIpLGk9bigiOWJmMiIpLHM9cigidW5zY29wYWJsZXMiKSxhPUFycmF5LnByb3RvdHlwZTt2b2lkIDA9PWFbc10mJmkuZihhLHMse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTpvKG51bGwpfSksdC5leHBvcnRzPWZ1bmN0aW9uKHQpe2Fbc11bdF09ITB9fSw0OTMwOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJkMDM5Iik7dC5leHBvcnRzPSEhT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyYmIXIoKGZ1bmN0aW9uKCl7cmV0dXJuIVN0cmluZyhTeW1ib2woKSl9KSl9LCI0OThjIjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5kfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmR9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik03Ljc1IDQuNWgxNWExIDEgMCAwMDAtMmgtMTVhMSAxIDAgMDAwIDJ6TTIyLjc1IDExaC0xNWExIDEgMCAxMDAgMmgxNWExIDEgMCAwMDAtMnpNMjIuNzUgMTkuNWgtMTVhMSAxIDAgMDAwIDJoMTVhMSAxIDAgMDAwLTJ6TTIuMjEyIDE3LjI0OGEyIDIgMCAwMC0xLjkzMyAxLjQ4NC43NS43NSAwIDEwMS40NS4zODYuNS41IDAgMTEuNDgzLjYzLjc1Ljc1IDAgMTAwIDEuNS41LjUgMCAxMS0uNDgyLjYzNS43NS43NSAwIDEwLTEuNDQ1LjQgMiAyIDAgMTAzLjU4OS0xLjY0OC4yNTEuMjUxIDAgMDEwLS4yNzggMiAyIDAgMDAtMS42NjItMy4xMTF6TTQuMjUgMTAuNzQ4YTIgMiAwIDAwLTQgMCAuNzUuNzUgMCAwMDEuNSAwIC41LjUgMCAwMTEgMCAxLjAzMSAxLjAzMSAwIDAxLS4yMjcuNjQ1TC40MTQgMTQuMDI5QS43NS43NSAwIDAwMSAxNS4yNDhoMi41YS43NS43NSAwIDAwMC0xLjVoLS40MTlhLjI0OS4yNDkgMCAwMS0uMTk1LS40MDZMMy43IDEyLjMzYTIuNTQ0IDIuNTQ0IDAgMDAuNTUtMS41ODJ6TTQgNS4yNDhoLS4yNUEuMjUuMjUgMCAwMTMuNSA1VjEuNjIzQTEuMzc3IDEuMzc3IDAgMDAyLjEyNS4yNDhIMS41YS43NS43NSAwIDAwMCAxLjVoLjI1QS4yNS4yNSAwIDAxMiAydjNhLjI1LjI1IDAgMDEtLjI1LjI1SDEuNWEuNzUuNzUgMCAwMDAgMS41SDRhLjc1Ljc1IDAgMDAwLTEuNXoifX0pXSkpfX19LCI0ZDY0IjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZmM2YSIpLG89bigiNTBjNCIpLGk9bigiMjNjYiIpLHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixzKXt2YXIgYSxjPXIoZSksbD1vKGMubGVuZ3RoKSx1PWkocyxsKTtpZih0JiZuIT1uKXt3aGlsZShsPnUpaWYoYT1jW3UrK10sYSE9YSlyZXR1cm4hMH1lbHNlIGZvcig7bD51O3UrKylpZigodHx8dSBpbiBjKSYmY1t1XT09PW4pcmV0dXJuIHR8fHV8fDA7cmV0dXJuIXQmJi0xfX07dC5leHBvcnRzPXtpbmNsdWRlczpzKCEwKSxpbmRleE9mOnMoITEpfX0sIjRkZjQiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiMDM2NiIpLG89bigiN2IwYiIpLGk9bigiOWJkZCIpLHM9bigiZTk1YSIpLGE9bigiNTBjNCIpLGM9bigiODQxOCIpLGw9bigiMzVhMSIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZSxuLHUsZCxwLGYsaD1vKHQpLG09ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpBcnJheSx2PWFyZ3VtZW50cy5sZW5ndGgsZz12PjE/YXJndW1lbnRzWzFdOnZvaWQgMCx5PXZvaWQgMCE9PWcsYj1sKGgpLHc9MDtpZih5JiYoZz1yKGcsdj4yP2FyZ3VtZW50c1syXTp2b2lkIDAsMikpLHZvaWQgMD09Ynx8bT09QXJyYXkmJnMoYikpZm9yKGU9YShoLmxlbmd0aCksbj1uZXcgbShlKTtlPnc7dysrKWY9eT9nKGhbd10sdyk6aFt3XSxjKG4sdyxmKTtlbHNlIGZvcihkPWIuY2FsbChoKSxwPWQubmV4dCxuPW5ldyBtOyEodT1wLmNhbGwoZCkpLmRvbmU7dysrKWY9eT9pKGQsZyxbdS52YWx1ZSx3XSwhMCk6dS52YWx1ZSxjKG4sdyxmKTtyZXR1cm4gbi5sZW5ndGg9dyxufX0sIjRmMzUiOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmR9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTUgMTNhMSAxIDAgMDEwLTJoMTRhMSAxIDAgMDEwIDJINXoifX0pXSkpfX19LCI0ZjY2IjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5kfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmR9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xMiAuNUExMS42MzQgMTEuNjM0IDAgMDAuMjYyIDEyIDExLjYzNCAxMS42MzQgMCAwMDEyIDIzLjVhMTEuODM2IDExLjgzNiAwIDAwNi42MjQtMiAxLjI1IDEuMjUgMCAxMC0xLjM5My0yLjA3NkE5LjM0IDkuMzQgMCAwMTEyIDIxYTkuMTMyIDkuMTMyIDAgMDEtOS4yMzgtOUE5LjEzMiA5LjEzMiAwIDAxMTIgM2E5LjEzMiA5LjEzMiAwIDAxOS4yMzggOXYuODkxYTEuOTQzIDEuOTQzIDAgMDEtMy44ODQgMFYxMkE1LjM1NSA1LjM1NSAwIDEwMTIgMTcuMjYxYTUuMzc2IDUuMzc2IDAgMDAzLjg2MS0xLjYzNCA0LjQzOCA0LjQzOCAwIDAwNy44NzctMi43MzZWMTJBMTEuNjM0IDExLjYzNCAwIDAwMTIgLjV6bTAgMTQuMjYxQTIuNzYzIDIuNzYzIDAgMTExNC44NTQgMTIgMi44MTIgMi44MTIgMCAwMTEyIDE0Ljc2MXoifX0pXSkpfX19LCI0ZmFkIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiMjNlNyIpLG89bigiNmY1MyIpLmVudHJpZXM7cih7dGFyZ2V0OiJPYmplY3QiLHN0YXQ6ITB9LHtlbnRyaWVzOmZ1bmN0aW9uKHQpe3JldHVybiBvKHQpfX0pfSwiNTBjNCI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImE2OTEiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP28ocih0KSw5MDA3MTk5MjU0NzQwOTkxKTowfX0sNTEzNTpmdW5jdGlvbih0LGUpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBuLmNhbGwodCxlKX19LDUzMTM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLnIoZSksbi5kKGUsIkFsbFNlbGVjdGlvbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksbi5kKGUsIkVkaXRvclN0YXRlIiwoZnVuY3Rpb24oKXtyZXR1cm4gT30pKSxuLmQoZSwiTm9kZVNlbGVjdGlvbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKGUsIlBsdWdpbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF9KSksbi5kKGUsIlBsdWdpbktleSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ9KSksbi5kKGUsIlNlbGVjdGlvbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKGUsIlNlbGVjdGlvblJhbmdlIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQoZSwiVGV4dFNlbGVjdGlvbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksbi5kKGUsIlRyYW5zYWN0aW9uIiwoZnVuY3Rpb24oKXtyZXR1cm4gd30pKTt2YXIgcj1uKCIzMDRhIiksbz1uKCIwYWMwIiksaT1PYmplY3QuY3JlYXRlKG51bGwpLHM9ZnVuY3Rpb24odCxlLG4pe3RoaXMucmFuZ2VzPW58fFtuZXcgYyh0Lm1pbihlKSx0Lm1heChlKSldLHRoaXMuJGFuY2hvcj10LHRoaXMuJGhlYWQ9ZX0sYT17YW5jaG9yOntjb25maWd1cmFibGU6ITB9LGhlYWQ6e2NvbmZpZ3VyYWJsZTohMH0sZnJvbTp7Y29uZmlndXJhYmxlOiEwfSx0bzp7Y29uZmlndXJhYmxlOiEwfSwkZnJvbTp7Y29uZmlndXJhYmxlOiEwfSwkdG86e2NvbmZpZ3VyYWJsZTohMH0sZW1wdHk6e2NvbmZpZ3VyYWJsZTohMH19O2EuYW5jaG9yLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRhbmNob3IucG9zfSxhLmhlYWQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGhlYWQucG9zfSxhLmZyb20uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGZyb20ucG9zfSxhLnRvLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiR0by5wb3N9LGEuJGZyb20uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmFuZ2VzWzBdLiRmcm9tfSxhLiR0by5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYW5nZXNbMF0uJHRvfSxhLmVtcHR5LmdldD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnJhbmdlcyxlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodFtlXS4kZnJvbS5wb3MhPXRbZV0uJHRvLnBvcylyZXR1cm4hMTtyZXR1cm4hMH0scy5wcm90b3R5cGUuY29udGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRmcm9tLm5vZGUoMCkuc2xpY2UodGhpcy5mcm9tLHRoaXMudG8sITApfSxzLnByb3RvdHlwZS5yZXBsYWNlPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9clsiU2xpY2UiXS5lbXB0eSk7Zm9yKHZhciBuPWUuY29udGVudC5sYXN0Q2hpbGQsbz1udWxsLGk9MDtpPGUub3BlbkVuZDtpKyspbz1uLG49bi5sYXN0Q2hpbGQ7Zm9yKHZhciBzPXQuc3RlcHMubGVuZ3RoLGE9dGhpcy5yYW5nZXMsYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgbD1hW2NdLHU9bC4kZnJvbSxkPWwuJHRvLHA9dC5tYXBwaW5nLnNsaWNlKHMpO3QucmVwbGFjZVJhbmdlKHAubWFwKHUucG9zKSxwLm1hcChkLnBvcyksYz9yWyJTbGljZSJdLmVtcHR5OmUpLDA9PWMmJnYodCxzLChuP24uaXNJbmxpbmU6byYmby5pc1RleHRibG9jayk/LTE6MSl9fSxzLnByb3RvdHlwZS5yZXBsYWNlV2l0aD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LnN0ZXBzLmxlbmd0aCxyPXRoaXMucmFuZ2VzLG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGk9cltvXSxzPWkuJGZyb20sYT1pLiR0byxjPXQubWFwcGluZy5zbGljZShuKSxsPWMubWFwKHMucG9zKSx1PWMubWFwKGEucG9zKTtvP3QuZGVsZXRlUmFuZ2UobCx1KToodC5yZXBsYWNlUmFuZ2VXaXRoKGwsdSxlKSx2KHQsbixlLmlzSW5saW5lPy0xOjEpKX19LHMuZmluZEZyb209ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQucGFyZW50LmlubGluZUNvbnRlbnQ/bmV3IGwodCk6bSh0Lm5vZGUoMCksdC5wYXJlbnQsdC5wb3MsdC5pbmRleCgpLGUsbik7aWYocilyZXR1cm4gcjtmb3IodmFyIG89dC5kZXB0aC0xO28+PTA7by0tKXt2YXIgaT1lPDA/bSh0Lm5vZGUoMCksdC5ub2RlKG8pLHQuYmVmb3JlKG8rMSksdC5pbmRleChvKSxlLG4pOm0odC5ub2RlKDApLHQubm9kZShvKSx0LmFmdGVyKG8rMSksdC5pbmRleChvKSsxLGUsbik7aWYoaSlyZXR1cm4gaX19LHMubmVhcj1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0xKSx0aGlzLmZpbmRGcm9tKHQsZSl8fHRoaXMuZmluZEZyb20odCwtZSl8fG5ldyBmKHQubm9kZSgwKSl9LHMuYXRTdGFydD1mdW5jdGlvbih0KXtyZXR1cm4gbSh0LHQsMCwwLDEpfHxuZXcgZih0KX0scy5hdEVuZD1mdW5jdGlvbih0KXtyZXR1cm4gbSh0LHQsdC5jb250ZW50LnNpemUsdC5jaGlsZENvdW50LC0xKXx8bmV3IGYodCl9LHMuZnJvbUpTT049ZnVuY3Rpb24odCxlKXtpZighZXx8IWUudHlwZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgU2VsZWN0aW9uLmZyb21KU09OIik7dmFyIG49aVtlLnR5cGVdO2lmKCFuKXRocm93IG5ldyBSYW5nZUVycm9yKCJObyBzZWxlY3Rpb24gdHlwZSAiK2UudHlwZSsiIGRlZmluZWQiKTtyZXR1cm4gbi5mcm9tSlNPTih0LGUpfSxzLmpzb25JRD1mdW5jdGlvbih0LGUpe2lmKHQgaW4gaSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRHVwbGljYXRlIHVzZSBvZiBzZWxlY3Rpb24gSlNPTiBJRCAiK3QpO3JldHVybiBpW3RdPWUsZS5wcm90b3R5cGUuanNvbklEPXQsZX0scy5wcm90b3R5cGUuZ2V0Qm9va21hcms9ZnVuY3Rpb24oKXtyZXR1cm4gbC5iZXR3ZWVuKHRoaXMuJGFuY2hvcix0aGlzLiRoZWFkKS5nZXRCb29rbWFyaygpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzLnByb3RvdHlwZSxhKSxzLnByb3RvdHlwZS52aXNpYmxlPSEwO3ZhciBjPWZ1bmN0aW9uKHQsZSl7dGhpcy4kZnJvbT10LHRoaXMuJHRvPWV9LGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZvaWQgMD09PW4mJihuPWUpLHQuY2FsbCh0aGlzLGUsbil9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49eyRjdXJzb3I6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBuLiRjdXJzb3IuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGFuY2hvci5wb3M9PXRoaXMuJGhlYWQucG9zP3RoaXMuJGhlYWQ6bnVsbH0sZS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKG4scil7dmFyIG89bi5yZXNvbHZlKHIubWFwKHRoaXMuaGVhZCkpO2lmKCFvLnBhcmVudC5pbmxpbmVDb250ZW50KXJldHVybiB0Lm5lYXIobyk7dmFyIGk9bi5yZXNvbHZlKHIubWFwKHRoaXMuYW5jaG9yKSk7cmV0dXJuIG5ldyBlKGkucGFyZW50LmlubGluZUNvbnRlbnQ/aTpvLG8pfSxlLnByb3RvdHlwZS5yZXBsYWNlPWZ1bmN0aW9uKGUsbil7aWYodm9pZCAwPT09biYmKG49clsiU2xpY2UiXS5lbXB0eSksdC5wcm90b3R5cGUucmVwbGFjZS5jYWxsKHRoaXMsZSxuKSxuPT1yWyJTbGljZSJdLmVtcHR5KXt2YXIgbz10aGlzLiRmcm9tLm1hcmtzQWNyb3NzKHRoaXMuJHRvKTtvJiZlLmVuc3VyZU1hcmtzKG8pfX0sZS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlJiZ0LmFuY2hvcj09dGhpcy5hbmNob3ImJnQuaGVhZD09dGhpcy5oZWFkfSxlLnByb3RvdHlwZS5nZXRCb29rbWFyaz1mdW5jdGlvbigpe3JldHVybiBuZXcgdSh0aGlzLmFuY2hvcix0aGlzLmhlYWQpfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZToidGV4dCIsYW5jaG9yOnRoaXMuYW5jaG9yLGhlYWQ6dGhpcy5oZWFkfX0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbi5hbmNob3J8fCJudW1iZXIiIT10eXBlb2Ygbi5oZWFkKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBUZXh0U2VsZWN0aW9uLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKHQucmVzb2x2ZShuLmFuY2hvciksdC5yZXNvbHZlKG4uaGVhZCkpfSxlLmNyZWF0ZT1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49ZSk7dmFyIHI9dC5yZXNvbHZlKGUpO3JldHVybiBuZXcgdGhpcyhyLG49PWU/cjp0LnJlc29sdmUobikpfSxlLmJldHdlZW49ZnVuY3Rpb24obixyLG8pe3ZhciBpPW4ucG9zLXIucG9zO2lmKG8mJiFpfHwobz1pPj0wPzE6LTEpLCFyLnBhcmVudC5pbmxpbmVDb250ZW50KXt2YXIgcz10LmZpbmRGcm9tKHIsbywhMCl8fHQuZmluZEZyb20ociwtbywhMCk7aWYoIXMpcmV0dXJuIHQubmVhcihyLG8pO3I9cy4kaGVhZH1yZXR1cm4gbi5wYXJlbnQuaW5saW5lQ29udGVudHx8KDA9PWk/bj1yOihuPSh0LmZpbmRGcm9tKG4sLW8sITApfHx0LmZpbmRGcm9tKG4sbywhMCkpLiRhbmNob3Isbi5wb3M8ci5wb3MhPWk8MCYmKG49cikpKSxuZXcgZShuLHIpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfShzKTtzLmpzb25JRCgidGV4dCIsbCk7dmFyIHU9ZnVuY3Rpb24odCxlKXt0aGlzLmFuY2hvcj10LHRoaXMuaGVhZD1lfTt1LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB1KHQubWFwKHRoaXMuYW5jaG9yKSx0Lm1hcCh0aGlzLmhlYWQpKX0sdS5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0KXtyZXR1cm4gbC5iZXR3ZWVuKHQucmVzb2x2ZSh0aGlzLmFuY2hvciksdC5yZXNvbHZlKHRoaXMuaGVhZCkpfTt2YXIgZD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPWUubm9kZUFmdGVyLHI9ZS5ub2RlKDApLnJlc29sdmUoZS5wb3Mrbi5ub2RlU2l6ZSk7dC5jYWxsKHRoaXMsZSxyKSx0aGlzLm5vZGU9bn1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKG4scil7dmFyIG89ci5tYXBSZXN1bHQodGhpcy5hbmNob3IpLGk9by5kZWxldGVkLHM9by5wb3MsYT1uLnJlc29sdmUocyk7cmV0dXJuIGk/dC5uZWFyKGEpOm5ldyBlKGEpfSxlLnByb3RvdHlwZS5jb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByWyJTbGljZSJdKHJbIkZyYWdtZW50Il0uZnJvbSh0aGlzLm5vZGUpLDAsMCl9LGUucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZSYmdC5hbmNob3I9PXRoaXMuYW5jaG9yfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZToibm9kZSIsYW5jaG9yOnRoaXMuYW5jaG9yfX0sZS5wcm90b3R5cGUuZ2V0Qm9va21hcms9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHAodGhpcy5hbmNob3IpfSxlLmZyb21KU09OPWZ1bmN0aW9uKHQsbil7aWYoIm51bWJlciIhPXR5cGVvZiBuLmFuY2hvcil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgTm9kZVNlbGVjdGlvbi5mcm9tSlNPTiIpO3JldHVybiBuZXcgZSh0LnJlc29sdmUobi5hbmNob3IpKX0sZS5jcmVhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHRoaXModC5yZXNvbHZlKGUpKX0sZS5pc1NlbGVjdGFibGU9ZnVuY3Rpb24odCl7cmV0dXJuIXQuaXNUZXh0JiYhMSE9PXQudHlwZS5zcGVjLnNlbGVjdGFibGV9LGV9KHMpO2QucHJvdG90eXBlLnZpc2libGU9ITEscy5qc29uSUQoIm5vZGUiLGQpO3ZhciBwPWZ1bmN0aW9uKHQpe3RoaXMuYW5jaG9yPXR9O3AucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXt2YXIgZT10Lm1hcFJlc3VsdCh0aGlzLmFuY2hvciksbj1lLmRlbGV0ZWQscj1lLnBvcztyZXR1cm4gbj9uZXcgdShyLHIpOm5ldyBwKHIpfSxwLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKHQpe3ZhciBlPXQucmVzb2x2ZSh0aGlzLmFuY2hvciksbj1lLm5vZGVBZnRlcjtyZXR1cm4gbiYmZC5pc1NlbGVjdGFibGUobik/bmV3IGQoZSk6cy5uZWFyKGUpfTt2YXIgZj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUucmVzb2x2ZSgwKSxlLnJlc29sdmUoZS5jb250ZW50LnNpemUpKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbihlLG4pe2lmKHZvaWQgMD09PW4mJihuPXJbIlNsaWNlIl0uZW1wdHkpLG49PXJbIlNsaWNlIl0uZW1wdHkpe2UuZGVsZXRlKDAsZS5kb2MuY29udGVudC5zaXplKTt2YXIgbz10LmF0U3RhcnQoZS5kb2MpO28uZXEoZS5zZWxlY3Rpb24pfHxlLnNldFNlbGVjdGlvbihvKX1lbHNlIHQucHJvdG90eXBlLnJlcGxhY2UuY2FsbCh0aGlzLGUsbil9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJhbGwifX0sZS5mcm9tSlNPTj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGUucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZX0sZS5wcm90b3R5cGUuZ2V0Qm9va21hcms9ZnVuY3Rpb24oKXtyZXR1cm4gaH0sZX0ocyk7cy5qc29uSUQoImFsbCIsZik7dmFyIGg9e21hcDpmdW5jdGlvbigpe3JldHVybiB0aGlzfSxyZXNvbHZlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZih0KX19O2Z1bmN0aW9uIG0odCxlLG4scixvLGkpe2lmKGUuaW5saW5lQ29udGVudClyZXR1cm4gbC5jcmVhdGUodCxuKTtmb3IodmFyIHM9ci0obz4wPzA6MSk7bz4wP3M8ZS5jaGlsZENvdW50OnM+PTA7cys9byl7dmFyIGE9ZS5jaGlsZChzKTtpZihhLmlzQXRvbSl7aWYoIWkmJmQuaXNTZWxlY3RhYmxlKGEpKXJldHVybiBkLmNyZWF0ZSh0LG4tKG88MD9hLm5vZGVTaXplOjApKX1lbHNle3ZhciBjPW0odCxhLG4rbyxvPDA/YS5jaGlsZENvdW50OjAsbyxpKTtpZihjKXJldHVybiBjfW4rPWEubm9kZVNpemUqb319ZnVuY3Rpb24gdih0LGUsbil7dmFyIHI9dC5zdGVwcy5sZW5ndGgtMTtpZighKHI8ZSkpe3ZhciBpPXQuc3RlcHNbcl07aWYoaSBpbnN0YW5jZW9mIG9bImMiXXx8aSBpbnN0YW5jZW9mIG9bImIiXSl7dmFyIGEsYz10Lm1hcHBpbmcubWFwc1tyXTtjLmZvckVhY2goKGZ1bmN0aW9uKHQsZSxuLHIpe251bGw9PWEmJihhPXIpfSkpLHQuc2V0U2VsZWN0aW9uKHMubmVhcih0LmRvYy5yZXNvbHZlKGEpLG4pKX19fXZhciBnPTEseT0yLGI9NCx3PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZS5kb2MpLHRoaXMudGltZT1EYXRlLm5vdygpLHRoaXMuY3VyU2VsZWN0aW9uPWUuc2VsZWN0aW9uLHRoaXMuY3VyU2VsZWN0aW9uRm9yPTAsdGhpcy5zdG9yZWRNYXJrcz1lLnN0b3JlZE1hcmtzLHRoaXMudXBkYXRlZD0wLHRoaXMubWV0YT1PYmplY3QuY3JlYXRlKG51bGwpfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXtzZWxlY3Rpb246e2NvbmZpZ3VyYWJsZTohMH0sc2VsZWN0aW9uU2V0Ontjb25maWd1cmFibGU6ITB9LHN0b3JlZE1hcmtzU2V0Ontjb25maWd1cmFibGU6ITB9LGlzR2VuZXJpYzp7Y29uZmlndXJhYmxlOiEwfSxzY3JvbGxlZEludG9WaWV3Ontjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gbi5zZWxlY3Rpb24uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VyU2VsZWN0aW9uRm9yPHRoaXMuc3RlcHMubGVuZ3RoJiYodGhpcy5jdXJTZWxlY3Rpb249dGhpcy5jdXJTZWxlY3Rpb24ubWFwKHRoaXMuZG9jLHRoaXMubWFwcGluZy5zbGljZSh0aGlzLmN1clNlbGVjdGlvbkZvcikpLHRoaXMuY3VyU2VsZWN0aW9uRm9yPXRoaXMuc3RlcHMubGVuZ3RoKSx0aGlzLmN1clNlbGVjdGlvbn0sZS5wcm90b3R5cGUuc2V0U2VsZWN0aW9uPWZ1bmN0aW9uKHQpe2lmKHQuJGZyb20uZG9jIT10aGlzLmRvYyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VsZWN0aW9uIHBhc3NlZCB0byBzZXRTZWxlY3Rpb24gbXVzdCBwb2ludCBhdCB0aGUgY3VycmVudCBkb2N1bWVudCIpO3JldHVybiB0aGlzLmN1clNlbGVjdGlvbj10LHRoaXMuY3VyU2VsZWN0aW9uRm9yPXRoaXMuc3RlcHMubGVuZ3RoLHRoaXMudXBkYXRlZD0odGhpcy51cGRhdGVkfGcpJn55LHRoaXMuc3RvcmVkTWFya3M9bnVsbCx0aGlzfSxuLnNlbGVjdGlvblNldC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy51cGRhdGVkJmcpPjB9LGUucHJvdG90eXBlLnNldFN0b3JlZE1hcmtzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0b3JlZE1hcmtzPXQsdGhpcy51cGRhdGVkfD15LHRoaXN9LGUucHJvdG90eXBlLmVuc3VyZU1hcmtzPWZ1bmN0aW9uKHQpe3JldHVybiByWyJNYXJrIl0uc2FtZVNldCh0aGlzLnN0b3JlZE1hcmtzfHx0aGlzLnNlbGVjdGlvbi4kZnJvbS5tYXJrcygpLHQpfHx0aGlzLnNldFN0b3JlZE1hcmtzKHQpLHRoaXN9LGUucHJvdG90eXBlLmFkZFN0b3JlZE1hcms9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZW5zdXJlTWFya3ModC5hZGRUb1NldCh0aGlzLnN0b3JlZE1hcmtzfHx0aGlzLnNlbGVjdGlvbi4kaGVhZC5tYXJrcygpKSl9LGUucHJvdG90eXBlLnJlbW92ZVN0b3JlZE1hcms9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZW5zdXJlTWFya3ModC5yZW1vdmVGcm9tU2V0KHRoaXMuc3RvcmVkTWFya3N8fHRoaXMuc2VsZWN0aW9uLiRoZWFkLm1hcmtzKCkpKX0sbi5zdG9yZWRNYXJrc1NldC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy51cGRhdGVkJnkpPjB9LGUucHJvdG90eXBlLmFkZFN0ZXA9ZnVuY3Rpb24oZSxuKXt0LnByb3RvdHlwZS5hZGRTdGVwLmNhbGwodGhpcyxlLG4pLHRoaXMudXBkYXRlZD10aGlzLnVwZGF0ZWQmfnksdGhpcy5zdG9yZWRNYXJrcz1udWxsfSxlLnByb3RvdHlwZS5zZXRUaW1lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRpbWU9dCx0aGlzfSxlLnByb3RvdHlwZS5yZXBsYWNlU2VsZWN0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNlbGVjdGlvbi5yZXBsYWNlKHRoaXMsdCksdGhpc30sZS5wcm90b3R5cGUucmVwbGFjZVNlbGVjdGlvbldpdGg9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnNlbGVjdGlvbjtyZXR1cm4hMSE9PWUmJih0PXQubWFyayh0aGlzLnN0b3JlZE1hcmtzfHwobi5lbXB0eT9uLiRmcm9tLm1hcmtzKCk6bi4kZnJvbS5tYXJrc0Fjcm9zcyhuLiR0byl8fHJbIk1hcmsiXS5ub25lKSkpLG4ucmVwbGFjZVdpdGgodGhpcyx0KSx0aGlzfSxlLnByb3RvdHlwZS5kZWxldGVTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb24ucmVwbGFjZSh0aGlzKSx0aGlzfSxlLnByb3RvdHlwZS5pbnNlcnRUZXh0PWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj1lKTt2YXIgcj10aGlzLmRvYy50eXBlLnNjaGVtYTtpZihudWxsPT1lKXJldHVybiB0P3RoaXMucmVwbGFjZVNlbGVjdGlvbldpdGgoci50ZXh0KHQpLCEwKTp0aGlzLmRlbGV0ZVNlbGVjdGlvbigpO2lmKCF0KXJldHVybiB0aGlzLmRlbGV0ZVJhbmdlKGUsbik7dmFyIG89dGhpcy5zdG9yZWRNYXJrcztpZighbyl7dmFyIGk9dGhpcy5kb2MucmVzb2x2ZShlKTtvPW49PWU/aS5tYXJrcygpOmkubWFya3NBY3Jvc3ModGhpcy5kb2MucmVzb2x2ZShuKSl9cmV0dXJuIHRoaXMucmVwbGFjZVJhbmdlV2l0aChlLG4sci50ZXh0KHQsbykpLHRoaXMuc2VsZWN0aW9uLmVtcHR5fHx0aGlzLnNldFNlbGVjdGlvbihzLm5lYXIodGhpcy5zZWxlY3Rpb24uJHRvKSksdGhpc30sZS5wcm90b3R5cGUuc2V0TWV0YT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm1ldGFbInN0cmluZyI9PXR5cGVvZiB0P3Q6dC5rZXldPWUsdGhpc30sZS5wcm90b3R5cGUuZ2V0TWV0YT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5tZXRhWyJzdHJpbmciPT10eXBlb2YgdD90OnQua2V5XX0sbi5pc0dlbmVyaWMuZ2V0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMubWV0YSlyZXR1cm4hMTtyZXR1cm4hMH0sZS5wcm90b3R5cGUuc2Nyb2xsSW50b1ZpZXc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cGRhdGVkfD1iLHRoaXN9LG4uc2Nyb2xsZWRJbnRvVmlldy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy51cGRhdGVkJmIpPjB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLG4pLGV9KG9bImUiXSk7ZnVuY3Rpb24gUyh0LGUpe3JldHVybiBlJiZ0P3QuYmluZChlKTp0fXZhciB4PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLm5hbWU9dCx0aGlzLmluaXQ9UyhlLmluaXQsbiksdGhpcy5hcHBseT1TKGUuYXBwbHksbil9LGs9W25ldyB4KCJkb2MiLHtpbml0OmZ1bmN0aW9uKHQpe3JldHVybiB0LmRvY3x8dC5zY2hlbWEudG9wTm9kZVR5cGUuY3JlYXRlQW5kRmlsbCgpfSxhcHBseTpmdW5jdGlvbih0KXtyZXR1cm4gdC5kb2N9fSksbmV3IHgoInNlbGVjdGlvbiIse2luaXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zZWxlY3Rpb258fHMuYXRTdGFydChlLmRvYyl9LGFwcGx5OmZ1bmN0aW9uKHQpe3JldHVybiB0LnNlbGVjdGlvbn19KSxuZXcgeCgic3RvcmVkTWFya3MiLHtpbml0OmZ1bmN0aW9uKHQpe3JldHVybiB0LnN0b3JlZE1hcmtzfHxudWxsfSxhcHBseTpmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gci5zZWxlY3Rpb24uJGN1cnNvcj90LnN0b3JlZE1hcmtzOm51bGx9fSksbmV3IHgoInNjcm9sbFRvU2VsZWN0aW9uIix7aW5pdDpmdW5jdGlvbigpe3JldHVybiAwfSxhcHBseTpmdW5jdGlvbih0LGUpe3JldHVybiB0LnNjcm9sbGVkSW50b1ZpZXc/ZSsxOmV9fSldLEM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3RoaXMuc2NoZW1hPXQsdGhpcy5maWVsZHM9ay5jb25jYXQoKSx0aGlzLnBsdWdpbnM9W10sdGhpcy5wbHVnaW5zQnlLZXk9T2JqZWN0LmNyZWF0ZShudWxsKSxlJiZlLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKG4ucGx1Z2luc0J5S2V5W3Qua2V5XSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQWRkaW5nIGRpZmZlcmVudCBpbnN0YW5jZXMgb2YgYSBrZXllZCBwbHVnaW4gKCIrdC5rZXkrIikiKTtuLnBsdWdpbnMucHVzaCh0KSxuLnBsdWdpbnNCeUtleVt0LmtleV09dCx0LnNwZWMuc3RhdGUmJm4uZmllbGRzLnB1c2gobmV3IHgodC5rZXksdC5zcGVjLnN0YXRlLHQpKX0pKX0sTz1mdW5jdGlvbih0KXt0aGlzLmNvbmZpZz10fSxNPXtzY2hlbWE6e2NvbmZpZ3VyYWJsZTohMH0scGx1Z2luczp7Y29uZmlndXJhYmxlOiEwfSx0cjp7Y29uZmlndXJhYmxlOiEwfX07TS5zY2hlbWEuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnLnNjaGVtYX0sTS5wbHVnaW5zLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbmZpZy5wbHVnaW5zfSxPLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hcHBseVRyYW5zYWN0aW9uKHQpLnN0YXRlfSxPLnByb3RvdHlwZS5maWx0ZXJUcmFuc2FjdGlvbj1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPS0xKTtmb3IodmFyIG49MDtuPHRoaXMuY29uZmlnLnBsdWdpbnMubGVuZ3RoO24rKylpZihuIT1lKXt2YXIgcj10aGlzLmNvbmZpZy5wbHVnaW5zW25dO2lmKHIuc3BlYy5maWx0ZXJUcmFuc2FjdGlvbiYmIXIuc3BlYy5maWx0ZXJUcmFuc2FjdGlvbi5jYWxsKHIsdCx0aGlzKSlyZXR1cm4hMX1yZXR1cm4hMH0sTy5wcm90b3R5cGUuYXBwbHlUcmFuc2FjdGlvbj1mdW5jdGlvbih0KXtpZighdGhpcy5maWx0ZXJUcmFuc2FjdGlvbih0KSlyZXR1cm57c3RhdGU6dGhpcyx0cmFuc2FjdGlvbnM6W119O2Zvcih2YXIgZT1bdF0sbj10aGlzLmFwcGx5SW5uZXIodCkscj1udWxsOzspe2Zvcih2YXIgbz0hMSxpPTA7aTx0aGlzLmNvbmZpZy5wbHVnaW5zLmxlbmd0aDtpKyspe3ZhciBzPXRoaXMuY29uZmlnLnBsdWdpbnNbaV07aWYocy5zcGVjLmFwcGVuZFRyYW5zYWN0aW9uKXt2YXIgYT1yP3JbaV0ubjowLGM9cj9yW2ldLnN0YXRlOnRoaXMsbD1hPGUubGVuZ3RoJiZzLnNwZWMuYXBwZW5kVHJhbnNhY3Rpb24uY2FsbChzLGE/ZS5zbGljZShhKTplLGMsbik7aWYobCYmbi5maWx0ZXJUcmFuc2FjdGlvbihsLGkpKXtpZihsLnNldE1ldGEoImFwcGVuZGVkVHJhbnNhY3Rpb24iLHQpLCFyKXtyPVtdO2Zvcih2YXIgdT0wO3U8dGhpcy5jb25maWcucGx1Z2lucy5sZW5ndGg7dSsrKXIucHVzaCh1PGk/e3N0YXRlOm4sbjplLmxlbmd0aH06e3N0YXRlOnRoaXMsbjowfSl9ZS5wdXNoKGwpLG49bi5hcHBseUlubmVyKGwpLG89ITB9ciYmKHJbaV09e3N0YXRlOm4sbjplLmxlbmd0aH0pfX1pZighbylyZXR1cm57c3RhdGU6bix0cmFuc2FjdGlvbnM6ZX19fSxPLnByb3RvdHlwZS5hcHBseUlubmVyPWZ1bmN0aW9uKHQpe2lmKCF0LmJlZm9yZS5lcSh0aGlzLmRvYykpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkFwcGx5aW5nIGEgbWlzbWF0Y2hlZCB0cmFuc2FjdGlvbiIpO2Zvcih2YXIgZT1uZXcgTyh0aGlzLmNvbmZpZyksbj10aGlzLmNvbmZpZy5maWVsZHMscj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgbz1uW3JdO2Vbby5uYW1lXT1vLmFwcGx5KHQsdGhpc1tvLm5hbWVdLHRoaXMsZSl9Zm9yKHZhciBpPTA7aTxOLmxlbmd0aDtpKyspTltpXSh0aGlzLHQsZSk7cmV0dXJuIGV9LE0udHIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB3KHRoaXMpfSxPLmNyZWF0ZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IEModC5zY2hlbWF8fHQuZG9jLnR5cGUuc2NoZW1hLHQucGx1Z2lucyksbj1uZXcgTyhlKSxyPTA7cjxlLmZpZWxkcy5sZW5ndGg7cisrKW5bZS5maWVsZHNbcl0ubmFtZV09ZS5maWVsZHNbcl0uaW5pdCh0LG4pO3JldHVybiBufSxPLnByb3RvdHlwZS5yZWNvbmZpZ3VyZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IEModC5zY2hlbWF8fHRoaXMuc2NoZW1hLHQucGx1Z2lucyksbj1lLmZpZWxkcyxyPW5ldyBPKGUpLG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGk9bltvXS5uYW1lO3JbaV09dGhpcy5oYXNPd25Qcm9wZXJ0eShpKT90aGlzW2ldOm5bb10uaW5pdCh0LHIpfXJldHVybiByfSxPLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24odCl7dmFyIGU9e2RvYzp0aGlzLmRvYy50b0pTT04oKSxzZWxlY3Rpb246dGhpcy5zZWxlY3Rpb24udG9KU09OKCl9O2lmKHRoaXMuc3RvcmVkTWFya3MmJihlLnN0b3JlZE1hcmtzPXRoaXMuc3RvcmVkTWFya3MubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50b0pTT04oKX0pKSksdCYmIm9iamVjdCI9PXR5cGVvZiB0KWZvcih2YXIgbiBpbiB0KXtpZigiZG9jIj09bnx8InNlbGVjdGlvbiI9PW4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRoZSBKU09OIGZpZWxkcyBgZG9jYCBhbmQgYHNlbGVjdGlvbmAgYXJlIHJlc2VydmVkIik7dmFyIHI9dFtuXSxvPXIuc3BlYy5zdGF0ZTtvJiZvLnRvSlNPTiYmKGVbbl09by50b0pTT04uY2FsbChyLHRoaXNbci5rZXldKSl9cmV0dXJuIGV9LE8uZnJvbUpTT049ZnVuY3Rpb24odCxlLG4pe2lmKCFlKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBFZGl0b3JTdGF0ZS5mcm9tSlNPTiIpO2lmKCF0LnNjaGVtYSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiUmVxdWlyZWQgY29uZmlnIGZpZWxkICdzY2hlbWEnIG1pc3NpbmciKTt2YXIgbz1uZXcgQyh0LnNjaGVtYSx0LnBsdWdpbnMpLGk9bmV3IE8obyk7cmV0dXJuIG8uZmllbGRzLmZvckVhY2goKGZ1bmN0aW9uKG8pe2lmKCJkb2MiPT1vLm5hbWUpaS5kb2M9clsiTm9kZSJdLmZyb21KU09OKHQuc2NoZW1hLGUuZG9jKTtlbHNlIGlmKCJzZWxlY3Rpb24iPT1vLm5hbWUpaS5zZWxlY3Rpb249cy5mcm9tSlNPTihpLmRvYyxlLnNlbGVjdGlvbik7ZWxzZSBpZigic3RvcmVkTWFya3MiPT1vLm5hbWUpZS5zdG9yZWRNYXJrcyYmKGkuc3RvcmVkTWFya3M9ZS5zdG9yZWRNYXJrcy5tYXAodC5zY2hlbWEubWFya0Zyb21KU09OKSk7ZWxzZXtpZihuKWZvcih2YXIgYSBpbiBuKXt2YXIgYz1uW2FdLGw9Yy5zcGVjLnN0YXRlO2lmKGMua2V5PT1vLm5hbWUmJmwmJmwuZnJvbUpTT04mJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGEpKXJldHVybiB2b2lkKGlbby5uYW1lXT1sLmZyb21KU09OLmNhbGwoYyx0LGVbYV0saSkpfWlbby5uYW1lXT1vLmluaXQodCxpKX19KSksaX0sTy5hZGRBcHBseUxpc3RlbmVyPWZ1bmN0aW9uKHQpe04ucHVzaCh0KX0sTy5yZW1vdmVBcHBseUxpc3RlbmVyPWZ1bmN0aW9uKHQpe3ZhciBlPU4uaW5kZXhPZih0KTtlPi0xJiZOLnNwbGljZShlLDEpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhPLnByb3RvdHlwZSxNKTt2YXIgTj1bXTtmdW5jdGlvbiBUKHQsZSxuKXtmb3IodmFyIHIgaW4gdCl7dmFyIG89dFtyXTtvIGluc3RhbmNlb2YgRnVuY3Rpb24/bz1vLmJpbmQoZSk6ImhhbmRsZURPTUV2ZW50cyI9PXImJihvPVQobyxlLHt9KSksbltyXT1vfXJldHVybiBufXZhciBBPWZ1bmN0aW9uKHQpe3RoaXMucHJvcHM9e30sdC5wcm9wcyYmVCh0LnByb3BzLHRoaXMsdGhpcy5wcm9wcyksdGhpcy5zcGVjPXQsdGhpcy5rZXk9dC5rZXk/dC5rZXkua2V5OkUoInBsdWdpbiIpfTtBLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0aGlzLmtleV19O3ZhciBEPU9iamVjdC5jcmVhdGUobnVsbCk7ZnVuY3Rpb24gRSh0KXtyZXR1cm4gdCBpbiBEP3QrIiQiKyArK0RbdF06KERbdF09MCx0KyIkIil9dmFyIFI9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9ImtleSIpLHRoaXMua2V5PUUodCl9O1IucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdC5jb25maWcucGx1Z2luc0J5S2V5W3RoaXMua2V5XX0sUi5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdGhpcy5rZXldfX0sNTUwNDpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5kfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmR9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMy43NSAxMi45NTJBMS4yNSAxLjI1IDAgMDAyMi41IDExLjdoLTguOTM2YS40OTIuNDkyIDAgMDEtLjI4Mi0uMDljLS43MjItLjUxMy0xLjQ4Mi0uOTgxLTIuMjE4LTEuNDMyLTIuOC0xLjcxNS00LjUtMi45LTQuNS00Ljg2MyAwLTIuMjM1IDIuMjA3LTIuNTY5IDMuNTIzLTIuNTY5YTQuNTQgNC41NCAwIDAxMy4wODEuNzY0IDIuNjYyIDIuNjYyIDAgMDEuNDQ3IDEuOTl2LjNhMS4yNSAxLjI1IDAgMTAyLjUgMHYtLjI2OGE0Ljg4NyA0Ljg4NyAwIDAwLTEuMTY1LTMuNzc3QzEzLjk0OS43NDEgMTIuMzU5LjI0OCAxMC4wOTEuMjQ4Yy0zLjY1OCAwLTYuMDIzIDEuOTg5LTYuMDIzIDUuMDY5IDAgMi43NzMgMS44OTIgNC41MTIgNCA1LjkyN2EuMjUuMjUgMCAwMS0uMTM5LjQ1OEgxLjVhMS4yNSAxLjI1IDAgMDAwIDIuNWgxMC45NzdhLjI1MS4yNTEgMCAwMS4xNTkuMDU4IDQuMzM5IDQuMzM5IDAgMDExLjkzMiAzLjQ2NmMwIDMuMjY4LTMuNDI2IDMuNTIyLTQuNDc3IDMuNTIyLTEuODE0IDAtMy4xMzktLjQwNS0zLjgzNC0xLjE3M2EzLjM5NCAzLjM5NCAwIDAxLS42NS0yLjcgMS4yNSAxLjI1IDAgMDAtMi40ODgtLjI0NkE1Ljc2IDUuNzYgMCAwMDQuNCAyMS43NTNjMS4yIDEuMzI0IDMuMTE0IDIgNS42ODggMiA0LjE3NCAwIDYuOTc3LTIuNDIgNi45NzctNi4wMjJhNi4wNTkgNi4wNTkgMCAwMC0uODQ5LTMuMTQ3LjI1LjI1IDAgMDEuMjE2LS4zNzdIMjIuNWExLjI1IDEuMjUgMCAwMDEuMjUtMS4yNTV6In19KV0pKX19fSwiNTViZSI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLnIoZSksbi5kKGUsIkNlbGxTZWxlY3Rpb24iLChmdW5jdGlvbigpe3JldHVybiBGfSkpLG4uZChlLCJUYWJsZU1hcCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSksbi5kKGUsIlRhYmxlVmlldyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEx0fSkpLG4uZChlLCJfX2NsaXBDZWxscyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEd9KSksbi5kKGUsIl9faW5zZXJ0Q2VsbHMiLChmdW5jdGlvbigpe3JldHVybiBRfSkpLG4uZChlLCJfX3Bhc3RlZENlbGxzIiwoZnVuY3Rpb24oKXtyZXR1cm4gS30pKSxuLmQoZSwiYWRkQ29sU3BhbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIFZ9KSksbi5kKGUsImFkZENvbHVtbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ0fSkpLG4uZChlLCJhZGRDb2x1bW5BZnRlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHl0fSkpLG4uZChlLCJhZGRDb2x1bW5CZWZvcmUiLChmdW5jdGlvbigpe3JldHVybiBndH0pKSxuLmQoZSwiYWRkUm93IiwoZnVuY3Rpb24oKXtyZXR1cm4geHR9KSksbi5kKGUsImFkZFJvd0FmdGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ3R9KSksbi5kKGUsImFkZFJvd0JlZm9yZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGt0fSkpLG4uZChlLCJjZWxsQXJvdW5kIiwoZnVuY3Rpb24oKXtyZXR1cm4gT30pKSxuLmQoZSwiY29sQ291bnQiLChmdW5jdGlvbigpe3JldHVybiBQfSkpLG4uZChlLCJjb2x1bW5Jc0hlYWRlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJ9KSksbi5kKGUsImNvbHVtblJlc2l6aW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4gV3R9KSksbi5kKGUsImNvbHVtblJlc2l6aW5nUGx1Z2luS2V5IiwoZnVuY3Rpb24oKXtyZXR1cm4gcXR9KSksbi5kKGUsImRlbGV0ZUNvbHVtbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHd0fSkpLG4uZChlLCJkZWxldGVSb3ciLChmdW5jdGlvbigpe3JldHVybiBNdH0pKSxuLmQoZSwiZGVsZXRlVGFibGUiLChmdW5jdGlvbigpe3JldHVybiBqdH0pKSxuLmQoZSwiZmluZENlbGwiLChmdW5jdGlvbigpe3JldHVybiBffSkpLG4uZChlLCJmaXhUYWJsZXMiLChmdW5jdGlvbigpe3JldHVybiBmdH0pKSxuLmQoZSwiZml4VGFibGVzS2V5IiwoZnVuY3Rpb24oKXtyZXR1cm4gZHR9KSksbi5kKGUsImdvVG9OZXh0Q2VsbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEZ0fSkpLG4uZChlLCJoYW5kbGVQYXN0ZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN0fSkpLG4uZChlLCJpblNhbWVUYWJsZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ9KSksbi5kKGUsImlzSW5UYWJsZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIE59KSksbi5kKGUsIm1lcmdlQ2VsbHMiLChmdW5jdGlvbigpe3JldHVybiBBdH0pKSxuLmQoZSwibW92ZUNlbGxGb3J3YXJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gRX0pKSxuLmQoZSwibmV4dENlbGwiLChmdW5jdGlvbigpe3JldHVybiB6fSkpLG4uZChlLCJwb2ludHNBdENlbGwiLChmdW5jdGlvbigpe3JldHVybiBEfSkpLG4uZChlLCJyZW1vdmVDb2xTcGFuIiwoZnVuY3Rpb24oKXtyZXR1cm4gJH0pKSxuLmQoZSwicmVtb3ZlQ29sdW1uIiwoZnVuY3Rpb24oKXtyZXR1cm4gYnR9KSksbi5kKGUsInJlbW92ZVJvdyIsKGZ1bmN0aW9uKCl7cmV0dXJuIE90fSkpLG4uZChlLCJyb3dJc0hlYWRlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN0fSkpLG4uZChlLCJzZWxlY3RlZFJlY3QiLChmdW5jdGlvbigpe3JldHVybiBtdH0pKSxuLmQoZSwic2VsZWN0aW9uQ2VsbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFR9KSksbi5kKGUsInNldEF0dHIiLChmdW5jdGlvbigpe3JldHVybiBJfSkpLG4uZChlLCJzZXRDZWxsQXR0ciIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ0fSkpLG4uZChlLCJzcGxpdENlbGwiLChmdW5jdGlvbigpe3JldHVybiBEdH0pKSxuLmQoZSwic3BsaXRDZWxsV2l0aFR5cGUiLChmdW5jdGlvbigpe3JldHVybiBFdH0pKSxuLmQoZSwidGFibGVFZGl0aW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4gaWV9KSksbi5kKGUsInRhYmxlRWRpdGluZ0tleSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSksbi5kKGUsInRhYmxlTm9kZVR5cGVzIiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKSxuLmQoZSwidGFibGVOb2RlcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSksbi5kKGUsInRvZ2dsZUhlYWRlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHp0fSkpLG4uZChlLCJ0b2dnbGVIZWFkZXJDZWxsIiwoZnVuY3Rpb24oKXtyZXR1cm4gVnR9KSksbi5kKGUsInRvZ2dsZUhlYWRlckNvbHVtbiIsKGZ1bmN0aW9uKCl7cmV0dXJuICR0fSkpLG4uZChlLCJ0b2dnbGVIZWFkZXJSb3ciLChmdW5jdGlvbigpe3JldHVybiBJdH0pKSxuLmQoZSwidXBkYXRlQ29sdW1uc09uUmVzaXplIiwoZnVuY3Rpb24oKXtyZXR1cm4gSHR9KSk7dmFyIHIsbyxpPW4oIjUzMTMiKSxzPW4oIjMwNGEiKSxhPW4oIjdmMDYiKSxjPW4oIjU3NmEiKSxsPW4oIjBhYzAiKTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFdlYWtNYXApe3ZhciB1PW5ldyBXZWFrTWFwO3I9ZnVuY3Rpb24odCl7cmV0dXJuIHUuZ2V0KHQpfSxvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHUuc2V0KHQsZSksZX19ZWxzZXt2YXIgZD1bXSxwPTEwLGY9MDtyPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSs9MilpZihkW2VdPT10KXJldHVybiBkW2UrMV19LG89ZnVuY3Rpb24odCxlKXtyZXR1cm4gZj09cCYmKGY9MCksZFtmKytdPXQsZFtmKytdPWV9fXZhciBoPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMubGVmdD10LHRoaXMudG9wPWUsdGhpcy5yaWdodD1uLHRoaXMuYm90dG9tPXJ9LG09ZnVuY3Rpb24odCxlLG4scil7dGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWUsdGhpcy5tYXA9bix0aGlzLnByb2JsZW1zPXJ9O2Z1bmN0aW9uIHYodCl7aWYoInRhYmxlIiE9dC50eXBlLnNwZWMudGFibGVSb2xlKXRocm93IG5ldyBSYW5nZUVycm9yKCJOb3QgYSB0YWJsZSBub2RlOiAiK3QudHlwZS5uYW1lKTtmb3IodmFyIGU9Zyh0KSxuPXQuY2hpbGRDb3VudCxyPVtdLG89MCxpPW51bGwscz1bXSxhPTAsYz1lKm47YTxjO2ErKylyW2FdPTA7Zm9yKHZhciBsPTAsdT0wO2w8bjtsKyspe3ZhciBkPXQuY2hpbGQobCk7dSsrO2Zvcih2YXIgcD0wOztwKyspe3doaWxlKG88ci5sZW5ndGgmJjAhPXJbb10pbysrO2lmKHA9PWQuY2hpbGRDb3VudClicmVhaztmb3IodmFyIGY9ZC5jaGlsZChwKSxoPWYuYXR0cnMsdj1oLmNvbHNwYW4sYj1oLnJvd3NwYW4sdz1oLmNvbHdpZHRoLFM9MDtTPGI7UysrKXtpZihTK2w+PW4peyhpfHwoaT1bXSkpLnB1c2goe3R5cGU6Im92ZXJsb25nX3Jvd3NwYW4iLHBvczp1LG46Yi1TfSk7YnJlYWt9Zm9yKHZhciB4PW8rUyplLGs9MDtrPHY7aysrKXswPT1yW3gra10/clt4K2tdPXU6KGl8fChpPVtdKSkucHVzaCh7dHlwZToiY29sbGlzaW9uIixyb3c6bCxwb3M6dSxuOnYta30pO3ZhciBDPXcmJndba107aWYoQyl7dmFyIE89KHgrayklZSoyLE09c1tPXTtudWxsPT1NfHxNIT1DJiYxPT1zW08rMV0/KHNbT109QyxzW08rMV09MSk6TT09QyYmc1tPKzFdKyt9fX1vKz12LHUrPWYubm9kZVNpemV9dmFyIE49KGwrMSkqZSxUPTA7d2hpbGUobzxOKTA9PXJbbysrXSYmVCsrO1QmJihpfHwoaT1bXSkpLnB1c2goe3R5cGU6Im1pc3NpbmciLHJvdzpsLG46VH0pLHUrK31mb3IodmFyIEE9bmV3IG0oZSxuLHIsaSksRD0hMSxFPTA7IUQmJkU8cy5sZW5ndGg7RSs9MiludWxsIT1zW0VdJiZzW0UrMV08biYmKEQ9ITApO3JldHVybiBEJiZ5KEEscyx0KSxBfWZ1bmN0aW9uIGcodCl7Zm9yKHZhciBlPS0xLG49ITEscj0wO3I8dC5jaGlsZENvdW50O3IrKyl7dmFyIG89dC5jaGlsZChyKSxpPTA7aWYobilmb3IodmFyIHM9MDtzPHI7cysrKWZvcih2YXIgYT10LmNoaWxkKHMpLGM9MDtjPGEuY2hpbGRDb3VudDtjKyspe3ZhciBsPWEuY2hpbGQoYyk7cytsLmF0dHJzLnJvd3NwYW4+ciYmKGkrPWwuYXR0cnMuY29sc3Bhbil9Zm9yKHZhciB1PTA7dTxvLmNoaWxkQ291bnQ7dSsrKXt2YXIgZD1vLmNoaWxkKHUpO2krPWQuYXR0cnMuY29sc3BhbixkLmF0dHJzLnJvd3NwYW4+MSYmKG49ITApfS0xPT1lP2U9aTplIT1pJiYoZT1NYXRoLm1heChlLGkpKX1yZXR1cm4gZX1mdW5jdGlvbiB5KHQsZSxuKXt0LnByb2JsZW1zfHwodC5wcm9ibGVtcz1bXSk7Zm9yKHZhciByPTAsbz17fTtyPHQubWFwLmxlbmd0aDtyKyspe3ZhciBpPXQubWFwW3JdO2lmKCFvW2ldKXtvW2ldPSEwO2Zvcih2YXIgcz1uLm5vZGVBdChpKSxhPW51bGwsYz0wO2M8cy5hdHRycy5jb2xzcGFuO2MrKyl7dmFyIGw9KHIrYykldC53aWR0aCx1PWVbMipsXTtudWxsPT11fHxzLmF0dHJzLmNvbHdpZHRoJiZzLmF0dHJzLmNvbHdpZHRoW2NdPT11fHwoKGF8fChhPWIocy5hdHRycykpKVtjXT11KX1hJiZ0LnByb2JsZW1zLnVuc2hpZnQoe3R5cGU6ImNvbHdpZHRoIG1pc21hdGNoIixwb3M6aSxjb2x3aWR0aDphfSl9fX1mdW5jdGlvbiBiKHQpe2lmKHQuY29sd2lkdGgpcmV0dXJuIHQuY29sd2lkdGguc2xpY2UoKTtmb3IodmFyIGU9W10sbj0wO248dC5jb2xzcGFuO24rKyllLnB1c2goMCk7cmV0dXJuIGV9ZnVuY3Rpb24gdyh0LGUpe3ZhciBuPXQuZ2V0QXR0cmlidXRlKCJkYXRhLWNvbHdpZHRoIikscj1uJiYvXlxkKygsXGQrKSokLy50ZXN0KG4pP24uc3BsaXQoIiwiKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBOdW1iZXIodCl9KSk6bnVsbCxvPU51bWJlcih0LmdldEF0dHJpYnV0ZSgiY29sc3BhbiIpfHwxKSxpPXtjb2xzcGFuOm8scm93c3BhbjpOdW1iZXIodC5nZXRBdHRyaWJ1dGUoInJvd3NwYW4iKXx8MSksY29sd2lkdGg6ciYmci5sZW5ndGg9PW8/cjpudWxsfTtmb3IodmFyIHMgaW4gZSl7dmFyIGE9ZVtzXS5nZXRGcm9tRE9NLGM9YSYmYSh0KTtudWxsIT1jJiYoaVtzXT1jKX1yZXR1cm4gaX1mdW5jdGlvbiBTKHQsZSl7dmFyIG49e307Zm9yKHZhciByIGluIDEhPXQuYXR0cnMuY29sc3BhbiYmKG4uY29sc3Bhbj10LmF0dHJzLmNvbHNwYW4pLDEhPXQuYXR0cnMucm93c3BhbiYmKG4ucm93c3Bhbj10LmF0dHJzLnJvd3NwYW4pLHQuYXR0cnMuY29sd2lkdGgmJihuWyJkYXRhLWNvbHdpZHRoIl09dC5hdHRycy5jb2x3aWR0aC5qb2luKCIsIikpLGUpe3ZhciBvPWVbcl0uc2V0RE9NQXR0cjtvJiZvKHQuYXR0cnNbcl0sbil9cmV0dXJuIG59ZnVuY3Rpb24geCh0KXt2YXIgZT10LmNlbGxBdHRyaWJ1dGVzfHx7fSxuPXtjb2xzcGFuOntkZWZhdWx0OjF9LHJvd3NwYW46e2RlZmF1bHQ6MX0sY29sd2lkdGg6e2RlZmF1bHQ6bnVsbH19O2Zvcih2YXIgciBpbiBlKW5bcl09e2RlZmF1bHQ6ZVtyXS5kZWZhdWx0fTtyZXR1cm57dGFibGU6e2NvbnRlbnQ6InRhYmxlX3JvdysiLHRhYmxlUm9sZToidGFibGUiLGlzb2xhdGluZzohMCxncm91cDp0LnRhYmxlR3JvdXAscGFyc2VET006W3t0YWc6InRhYmxlIn1dLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuWyJ0YWJsZSIsWyJ0Ym9keSIsMF1dfX0sdGFibGVfcm93Ontjb250ZW50OiIodGFibGVfY2VsbCB8IHRhYmxlX2hlYWRlcikqIix0YWJsZVJvbGU6InJvdyIscGFyc2VET006W3t0YWc6InRyIn1dLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuWyJ0ciIsMF19fSx0YWJsZV9jZWxsOntjb250ZW50OnQuY2VsbENvbnRlbnQsYXR0cnM6bix0YWJsZVJvbGU6ImNlbGwiLGlzb2xhdGluZzohMCxwYXJzZURPTTpbe3RhZzoidGQiLGdldEF0dHJzOmZ1bmN0aW9uKHQpe3JldHVybiB3KHQsZSl9fV0sdG9ET006ZnVuY3Rpb24odCl7cmV0dXJuWyJ0ZCIsUyh0LGUpLDBdfX0sdGFibGVfaGVhZGVyOntjb250ZW50OnQuY2VsbENvbnRlbnQsYXR0cnM6bix0YWJsZVJvbGU6ImhlYWRlcl9jZWxsIixpc29sYXRpbmc6ITAscGFyc2VET006W3t0YWc6InRoIixnZXRBdHRyczpmdW5jdGlvbih0KXtyZXR1cm4gdyh0LGUpfX1dLHRvRE9NOmZ1bmN0aW9uKHQpe3JldHVyblsidGgiLFModCxlKSwwXX19fX1mdW5jdGlvbiBrKHQpe3ZhciBlPXQuY2FjaGVkLnRhYmxlTm9kZVR5cGVzO2lmKCFlKWZvcih2YXIgbiBpbiBlPXQuY2FjaGVkLnRhYmxlTm9kZVR5cGVzPXt9LHQubm9kZXMpe3ZhciByPXQubm9kZXNbbl0sbz1yLnNwZWMudGFibGVSb2xlO28mJihlW29dPXIpfXJldHVybiBlfW0ucHJvdG90eXBlLmZpbmRDZWxsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5tYXAubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5tYXBbZV07aWYobj09dCl7Zm9yKHZhciByPWUldGhpcy53aWR0aCxvPWUvdGhpcy53aWR0aHwwLGk9cisxLHM9bysxLGE9MTtpPHRoaXMud2lkdGgmJnRoaXMubWFwW2UrYV09PW47YSsrKWkrKztmb3IodmFyIGM9MTtzPHRoaXMuaGVpZ2h0JiZ0aGlzLm1hcFtlK3RoaXMud2lkdGgqY109PW47YysrKXMrKztyZXR1cm4gbmV3IGgocixvLGkscyl9fXRocm93IG5ldyBSYW5nZUVycm9yKCJObyBjZWxsIHdpdGggb2Zmc2V0ICIrdCsiIGZvdW5kIil9LG0ucHJvdG90eXBlLmNvbENvdW50PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5tYXAubGVuZ3RoO2UrKylpZih0aGlzLm1hcFtlXT09dClyZXR1cm4gZSV0aGlzLndpZHRoO3Rocm93IG5ldyBSYW5nZUVycm9yKCJObyBjZWxsIHdpdGggb2Zmc2V0ICIrdCsiIGZvdW5kIil9LG0ucHJvdG90eXBlLm5leHRDZWxsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLmZpbmRDZWxsKHQpLG89ci5sZWZ0LGk9ci5yaWdodCxzPXIudG9wLGE9ci5ib3R0b207cmV0dXJuImhvcml6Ij09ZT8objwwPzA9PW86aT09dGhpcy53aWR0aCk/bnVsbDp0aGlzLm1hcFtzKnRoaXMud2lkdGgrKG48MD9vLTE6aSldOihuPDA/MD09czphPT10aGlzLmhlaWdodCk/bnVsbDp0aGlzLm1hcFtvK3RoaXMud2lkdGgqKG48MD9zLTE6YSldfSxtLnByb3RvdHlwZS5yZWN0QmV0d2Vlbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZmluZENlbGwodCkscj1uLmxlZnQsbz1uLnJpZ2h0LGk9bi50b3Ascz1uLmJvdHRvbSxhPXRoaXMuZmluZENlbGwoZSksYz1hLmxlZnQsbD1hLnJpZ2h0LHU9YS50b3AsZD1hLmJvdHRvbTtyZXR1cm4gbmV3IGgoTWF0aC5taW4ocixjKSxNYXRoLm1pbihpLHUpLE1hdGgubWF4KG8sbCksTWF0aC5tYXgocyxkKSl9LG0ucHJvdG90eXBlLmNlbGxzSW5SZWN0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPXt9LHI9dC50b3A7cjx0LmJvdHRvbTtyKyspZm9yKHZhciBvPXQubGVmdDtvPHQucmlnaHQ7bysrKXt2YXIgaT1yKnRoaXMud2lkdGgrbyxzPXRoaXMubWFwW2ldO25bc118fChuW3NdPSEwLG89PXQubGVmdCYmbyYmdGhpcy5tYXBbaS0xXT09c3x8cj09dC50b3AmJnImJnRoaXMubWFwW2ktdGhpcy53aWR0aF09PXN8fGUucHVzaChzKSl9cmV0dXJuIGV9LG0ucHJvdG90eXBlLnBvc2l0aW9uQXQ9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj0wLG89MDs7cisrKXt2YXIgaT1vK24uY2hpbGQocikubm9kZVNpemU7aWYocj09dCl7dmFyIHM9ZSt0KnRoaXMud2lkdGgsYT0odCsxKSp0aGlzLndpZHRoO3doaWxlKHM8YSYmdGhpcy5tYXBbc108bylzKys7cmV0dXJuIHM9PWE/aS0xOnRoaXMubWFwW3NdfW89aX19LG0uZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiByKHQpfHxvKHQsdih0KSl9O3ZhciBDPW5ldyBpWyJQbHVnaW5LZXkiXSgic2VsZWN0aW5nQ2VsbHMiKTtmdW5jdGlvbiBPKHQpe2Zvcih2YXIgZT10LmRlcHRoLTE7ZT4wO2UtLSlpZigicm93Ij09dC5ub2RlKGUpLnR5cGUuc3BlYy50YWJsZVJvbGUpcmV0dXJuIHQubm9kZSgwKS5yZXNvbHZlKHQuYmVmb3JlKGUrMSkpO3JldHVybiBudWxsfWZ1bmN0aW9uIE0odCl7Zm9yKHZhciBlPXQuZGVwdGg7ZT4wO2UtLSl7dmFyIG49dC5ub2RlKGUpLnR5cGUuc3BlYy50YWJsZVJvbGU7aWYoImNlbGwiPT09bnx8ImhlYWRlcl9jZWxsIj09PW4pcmV0dXJuIHQubm9kZShlKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBOKHQpe2Zvcih2YXIgZT10LnNlbGVjdGlvbi4kaGVhZCxuPWUuZGVwdGg7bj4wO24tLSlpZigicm93Ij09ZS5ub2RlKG4pLnR5cGUuc3BlYy50YWJsZVJvbGUpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gVCh0KXt2YXIgZT10LnNlbGVjdGlvbjtyZXR1cm4gZS4kYW5jaG9yQ2VsbD9lLiRhbmNob3JDZWxsLnBvcz5lLiRoZWFkQ2VsbC5wb3M/ZS4kYW5jaG9yQ2VsbDplLiRoZWFkQ2VsbDplLm5vZGUmJiJjZWxsIj09ZS5ub2RlLnR5cGUuc3BlYy50YWJsZVJvbGU/ZS4kYW5jaG9yOk8oZS4kaGVhZCl8fEEoZS4kaGVhZCl9ZnVuY3Rpb24gQSh0KXtmb3IodmFyIGU9dC5ub2RlQWZ0ZXIsbj10LnBvcztlO2U9ZS5maXJzdENoaWxkLG4rKyl7dmFyIHI9ZS50eXBlLnNwZWMudGFibGVSb2xlO2lmKCJjZWxsIj09cnx8ImhlYWRlcl9jZWxsIj09cilyZXR1cm4gdC5kb2MucmVzb2x2ZShuKX1mb3IodmFyIG89dC5ub2RlQmVmb3JlLGk9dC5wb3M7bztvPW8ubGFzdENoaWxkLGktLSl7dmFyIHM9by50eXBlLnNwZWMudGFibGVSb2xlO2lmKCJjZWxsIj09c3x8ImhlYWRlcl9jZWxsIj09cylyZXR1cm4gdC5kb2MucmVzb2x2ZShpLW8ubm9kZVNpemUpfX1mdW5jdGlvbiBEKHQpe3JldHVybiJyb3ciPT10LnBhcmVudC50eXBlLnNwZWMudGFibGVSb2xlJiZ0Lm5vZGVBZnRlcn1mdW5jdGlvbiBFKHQpe3JldHVybiB0Lm5vZGUoMCkucmVzb2x2ZSh0LnBvcyt0Lm5vZGVBZnRlci5ub2RlU2l6ZSl9ZnVuY3Rpb24gUih0LGUpe3JldHVybiB0LmRlcHRoPT1lLmRlcHRoJiZ0LnBvcz49ZS5zdGFydCgtMSkmJnQucG9zPD1lLmVuZCgtMSl9ZnVuY3Rpb24gXyh0KXtyZXR1cm4gbS5nZXQodC5ub2RlKC0xKSkuZmluZENlbGwodC5wb3MtdC5zdGFydCgtMSkpfWZ1bmN0aW9uIFAodCl7cmV0dXJuIG0uZ2V0KHQubm9kZSgtMSkpLmNvbENvdW50KHQucG9zLXQuc3RhcnQoLTEpKX1mdW5jdGlvbiB6KHQsZSxuKXt2YXIgcj10LnN0YXJ0KC0xKSxvPW0uZ2V0KHQubm9kZSgtMSkpLGk9by5uZXh0Q2VsbCh0LnBvcy1yLGUsbik7cmV0dXJuIG51bGw9PWk/bnVsbDp0Lm5vZGUoMCkucmVzb2x2ZShyK2kpfWZ1bmN0aW9uIEkodCxlLG4pe3ZhciByPXt9O2Zvcih2YXIgbyBpbiB0KXJbb109dFtvXTtyZXR1cm4gcltlXT1uLHJ9ZnVuY3Rpb24gJCh0LGUsbil7dm9pZCAwPT09biYmKG49MSk7dmFyIHI9SSh0LCJjb2xzcGFuIix0LmNvbHNwYW4tbik7cmV0dXJuIHIuY29sd2lkdGgmJihyLmNvbHdpZHRoPXIuY29sd2lkdGguc2xpY2UoKSxyLmNvbHdpZHRoLnNwbGljZShlLG4pLHIuY29sd2lkdGguc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIHQ+MH0pKXx8KHIuY29sd2lkdGg9bnVsbCkpLHJ9ZnVuY3Rpb24gVih0LGUsbil7dm9pZCAwPT09biYmKG49MSk7dmFyIHI9SSh0LCJjb2xzcGFuIix0LmNvbHNwYW4rbik7aWYoci5jb2x3aWR0aCl7ci5jb2x3aWR0aD1yLmNvbHdpZHRoLnNsaWNlKCk7Zm9yKHZhciBvPTA7bzxuO28rKylyLmNvbHdpZHRoLnNwbGljZShlLDAsMCl9cmV0dXJuIHJ9ZnVuY3Rpb24gQih0LGUsbil7Zm9yKHZhciByPWsoZS50eXBlLnNjaGVtYSkuaGVhZGVyX2NlbGwsbz0wO288dC5oZWlnaHQ7bysrKWlmKGUubm9kZUF0KHQubWFwW24rbyp0LndpZHRoXSkudHlwZSE9cilyZXR1cm4hMTtyZXR1cm4hMH12YXIgRj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dm9pZCAwPT09biYmKG49ZSk7dmFyIHI9ZS5ub2RlKC0xKSxvPW0uZ2V0KHIpLHM9ZS5zdGFydCgtMSksYT1vLnJlY3RCZXR3ZWVuKGUucG9zLXMsbi5wb3MtcyksYz1lLm5vZGUoMCksbD1vLmNlbGxzSW5SZWN0KGEpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQhPW4ucG9zLXN9KSk7bC51bnNoaWZ0KG4ucG9zLXMpO3ZhciB1PWwubWFwKChmdW5jdGlvbih0KXt2YXIgZT1yLm5vZGVBdCh0KSxuPXQrcysxO3JldHVybiBuZXcgaVsiU2VsZWN0aW9uUmFuZ2UiXShjLnJlc29sdmUobiksYy5yZXNvbHZlKG4rZS5jb250ZW50LnNpemUpKX0pKTt0LmNhbGwodGhpcyx1WzBdLiRmcm9tLHVbMF0uJHRvLHUpLHRoaXMuJGFuY2hvckNlbGw9ZSx0aGlzLiRoZWFkQ2VsbD1ufXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxuKXt2YXIgcj10LnJlc29sdmUobi5tYXAodGhpcy4kYW5jaG9yQ2VsbC5wb3MpKSxvPXQucmVzb2x2ZShuLm1hcCh0aGlzLiRoZWFkQ2VsbC5wb3MpKTtpZihEKHIpJiZEKG8pJiZSKHIsbykpe3ZhciBzPXRoaXMuJGFuY2hvckNlbGwubm9kZSgtMSkhPXIubm9kZSgtMSk7cmV0dXJuIHMmJnRoaXMuaXNSb3dTZWxlY3Rpb24oKT9lLnJvd1NlbGVjdGlvbihyLG8pOnMmJnRoaXMuaXNDb2xTZWxlY3Rpb24oKT9lLmNvbFNlbGVjdGlvbihyLG8pOm5ldyBlKHIsbyl9cmV0dXJuIGlbIlRleHRTZWxlY3Rpb24iXS5iZXR3ZWVuKHIsbyl9LGUucHJvdG90eXBlLmNvbnRlbnQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy4kYW5jaG9yQ2VsbC5ub2RlKC0xKSxlPW0uZ2V0KHQpLG49dGhpcy4kYW5jaG9yQ2VsbC5zdGFydCgtMSkscj1lLnJlY3RCZXR3ZWVuKHRoaXMuJGFuY2hvckNlbGwucG9zLW4sdGhpcy4kaGVhZENlbGwucG9zLW4pLG89e30saT1bXSxhPXIudG9wO2E8ci5ib3R0b207YSsrKXtmb3IodmFyIGM9W10sbD1hKmUud2lkdGgrci5sZWZ0LHU9ci5sZWZ0O3U8ci5yaWdodDt1KyssbCsrKXt2YXIgZD1lLm1hcFtsXTtpZighb1tkXSl7b1tkXT0hMDt2YXIgcD1lLmZpbmRDZWxsKGQpLGY9dC5ub2RlQXQoZCksaD1yLmxlZnQtcC5sZWZ0LHY9cC5yaWdodC1yLnJpZ2h0O2lmKGg+MHx8dj4wKXt2YXIgZz1mLmF0dHJzO2g+MCYmKGc9JChnLDAsaCkpLHY+MCYmKGc9JChnLGcuY29sc3Bhbi12LHYpKSxmPXAubGVmdDxyLmxlZnQ/Zi50eXBlLmNyZWF0ZUFuZEZpbGwoZyk6Zi50eXBlLmNyZWF0ZShnLGYuY29udGVudCl9aWYocC50b3A8ci50b3B8fHAuYm90dG9tPnIuYm90dG9tKXt2YXIgeT1JKGYuYXR0cnMsInJvd3NwYW4iLE1hdGgubWluKHAuYm90dG9tLHIuYm90dG9tKS1NYXRoLm1heChwLnRvcCxyLnRvcCkpO2Y9cC50b3A8ci50b3A/Zi50eXBlLmNyZWF0ZUFuZEZpbGwoeSk6Zi50eXBlLmNyZWF0ZSh5LGYuY29udGVudCl9Yy5wdXNoKGYpfX1pLnB1c2godC5jaGlsZChhKS5jb3B5KHNbIkZyYWdtZW50Il0uZnJvbShjKSkpfXZhciBiPXRoaXMuaXNDb2xTZWxlY3Rpb24oKSYmdGhpcy5pc1Jvd1NlbGVjdGlvbigpP3Q6aTtyZXR1cm4gbmV3IHNbIlNsaWNlIl0oc1siRnJhZ21lbnQiXS5mcm9tKGIpLDEsMSl9LGUucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24oZSxuKXt2b2lkIDA9PT1uJiYobj1zWyJTbGljZSJdLmVtcHR5KTtmb3IodmFyIHI9ZS5zdGVwcy5sZW5ndGgsbz10aGlzLnJhbmdlcyxpPTA7aTxvLmxlbmd0aDtpKyspe3ZhciBhPW9baV0sYz1hLiRmcm9tLGw9YS4kdG8sdT1lLm1hcHBpbmcuc2xpY2Uocik7ZS5yZXBsYWNlKHUubWFwKGMucG9zKSx1Lm1hcChsLnBvcyksaT9zWyJTbGljZSJdLmVtcHR5Om4pfXZhciBkPXQuZmluZEZyb20oZS5kb2MucmVzb2x2ZShlLm1hcHBpbmcuc2xpY2UocikubWFwKHRoaXMudG8pKSwtMSk7ZCYmZS5zZXRTZWxlY3Rpb24oZCl9LGUucHJvdG90eXBlLnJlcGxhY2VXaXRoPWZ1bmN0aW9uKHQsZSl7dGhpcy5yZXBsYWNlKHQsbmV3IHNbIlNsaWNlIl0oc1siRnJhZ21lbnQiXS5mcm9tKGUpLDAsMCkpfSxlLnByb3RvdHlwZS5mb3JFYWNoQ2VsbD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy4kYW5jaG9yQ2VsbC5ub2RlKC0xKSxuPW0uZ2V0KGUpLHI9dGhpcy4kYW5jaG9yQ2VsbC5zdGFydCgtMSksbz1uLmNlbGxzSW5SZWN0KG4ucmVjdEJldHdlZW4odGhpcy4kYW5jaG9yQ2VsbC5wb3Mtcix0aGlzLiRoZWFkQ2VsbC5wb3MtcikpLGk9MDtpPG8ubGVuZ3RoO2krKyl0KGUubm9kZUF0KG9baV0pLHIrb1tpXSl9LGUucHJvdG90eXBlLmlzQ29sU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy4kYW5jaG9yQ2VsbC5pbmRleCgtMSksZT10aGlzLiRoZWFkQ2VsbC5pbmRleCgtMSk7aWYoTWF0aC5taW4odCxlKT4wKXJldHVybiExO3ZhciBuPXQrdGhpcy4kYW5jaG9yQ2VsbC5ub2RlQWZ0ZXIuYXR0cnMucm93c3BhbixyPWUrdGhpcy4kaGVhZENlbGwubm9kZUFmdGVyLmF0dHJzLnJvd3NwYW47cmV0dXJuIE1hdGgubWF4KG4scik9PXRoaXMuJGhlYWRDZWxsLm5vZGUoLTEpLmNoaWxkQ291bnR9LGUuY29sU2VsZWN0aW9uPWZ1bmN0aW9uKHQsbil7dm9pZCAwPT09biYmKG49dCk7dmFyIHI9bS5nZXQodC5ub2RlKC0xKSksbz10LnN0YXJ0KC0xKSxpPXIuZmluZENlbGwodC5wb3Mtbykscz1yLmZpbmRDZWxsKG4ucG9zLW8pLGE9dC5ub2RlKDApO3JldHVybiBpLnRvcDw9cy50b3A/KGkudG9wPjAmJih0PWEucmVzb2x2ZShvK3IubWFwW2kubGVmdF0pKSxzLmJvdHRvbTxyLmhlaWdodCYmKG49YS5yZXNvbHZlKG8rci5tYXBbci53aWR0aCooci5oZWlnaHQtMSkrcy5yaWdodC0xXSkpKToocy50b3A+MCYmKG49YS5yZXNvbHZlKG8rci5tYXBbcy5sZWZ0XSkpLGkuYm90dG9tPHIuaGVpZ2h0JiYodD1hLnJlc29sdmUobytyLm1hcFtyLndpZHRoKihyLmhlaWdodC0xKStpLnJpZ2h0LTFdKSkpLG5ldyBlKHQsbil9LGUucHJvdG90eXBlLmlzUm93U2VsZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9bS5nZXQodGhpcy4kYW5jaG9yQ2VsbC5ub2RlKC0xKSksZT10aGlzLiRhbmNob3JDZWxsLnN0YXJ0KC0xKSxuPXQuY29sQ291bnQodGhpcy4kYW5jaG9yQ2VsbC5wb3MtZSkscj10LmNvbENvdW50KHRoaXMuJGhlYWRDZWxsLnBvcy1lKTtpZihNYXRoLm1pbihuLHIpPjApcmV0dXJuITE7dmFyIG89bit0aGlzLiRhbmNob3JDZWxsLm5vZGVBZnRlci5hdHRycy5jb2xzcGFuLGk9cit0aGlzLiRoZWFkQ2VsbC5ub2RlQWZ0ZXIuYXR0cnMuY29sc3BhbjtyZXR1cm4gTWF0aC5tYXgobyxpKT09dC53aWR0aH0sZS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlJiZ0LiRhbmNob3JDZWxsLnBvcz09dGhpcy4kYW5jaG9yQ2VsbC5wb3MmJnQuJGhlYWRDZWxsLnBvcz09dGhpcy4kaGVhZENlbGwucG9zfSxlLnJvd1NlbGVjdGlvbj1mdW5jdGlvbih0LG4pe3ZvaWQgMD09PW4mJihuPXQpO3ZhciByPW0uZ2V0KHQubm9kZSgtMSkpLG89dC5zdGFydCgtMSksaT1yLmZpbmRDZWxsKHQucG9zLW8pLHM9ci5maW5kQ2VsbChuLnBvcy1vKSxhPXQubm9kZSgwKTtyZXR1cm4gaS5sZWZ0PD1zLmxlZnQ/KGkubGVmdD4wJiYodD1hLnJlc29sdmUobytyLm1hcFtpLnRvcCpyLndpZHRoXSkpLHMucmlnaHQ8ci53aWR0aCYmKG49YS5yZXNvbHZlKG8rci5tYXBbci53aWR0aCoocy50b3ArMSktMV0pKSk6KHMubGVmdD4wJiYobj1hLnJlc29sdmUobytyLm1hcFtzLnRvcCpyLndpZHRoXSkpLGkucmlnaHQ8ci53aWR0aCYmKHQ9YS5yZXNvbHZlKG8rci5tYXBbci53aWR0aCooaS50b3ArMSktMV0pKSksbmV3IGUodCxuKX0sZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6ImNlbGwiLGFuY2hvcjp0aGlzLiRhbmNob3JDZWxsLnBvcyxoZWFkOnRoaXMuJGhlYWRDZWxsLnBvc319LGUuZnJvbUpTT049ZnVuY3Rpb24odCxuKXtyZXR1cm4gbmV3IGUodC5yZXNvbHZlKG4uYW5jaG9yKSx0LnJlc29sdmUobi5oZWFkKSl9LGUuY3JlYXRlPWZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9biksbmV3IGUodC5yZXNvbHZlKG4pLHQucmVzb2x2ZShyKSl9LGUucHJvdG90eXBlLmdldEJvb2ttYXJrPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBqKHRoaXMuJGFuY2hvckNlbGwucG9zLHRoaXMuJGhlYWRDZWxsLnBvcyl9LGV9KGlbIlNlbGVjdGlvbiJdKTtGLnByb3RvdHlwZS52aXNpYmxlPSExLGlbIlNlbGVjdGlvbiJdLmpzb25JRCgiY2VsbCIsRik7dmFyIGo9ZnVuY3Rpb24odCxlKXt0aGlzLmFuY2hvcj10LHRoaXMuaGVhZD1lfTtmdW5jdGlvbiBMKHQpe2lmKCEodC5zZWxlY3Rpb24gaW5zdGFuY2VvZiBGKSlyZXR1cm4gbnVsbDt2YXIgZT1bXTtyZXR1cm4gdC5zZWxlY3Rpb24uZm9yRWFjaENlbGwoKGZ1bmN0aW9uKHQsbil7ZS5wdXNoKGNbImEiXS5ub2RlKG4sbit0Lm5vZGVTaXplLHtjbGFzczoic2VsZWN0ZWRDZWxsIn0pKX0pKSxjWyJiIl0uY3JlYXRlKHQuZG9jLGUpfWZ1bmN0aW9uIEgodCl7dmFyIGU9dC4kZnJvbSxuPXQuJHRvO2lmKGUucG9zPT1uLnBvc3x8ZS5wb3M8ZS5wb3MtNilyZXR1cm4hMTtmb3IodmFyIHI9ZS5wb3Msbz1uLnBvcyxpPWUuZGVwdGg7aT49MDtpLS0scisrKWlmKGUuYWZ0ZXIoaSsxKTxlLmVuZChpKSlicmVhaztmb3IodmFyIHM9bi5kZXB0aDtzPj0wO3MtLSxvLS0paWYobi5iZWZvcmUocysxKT5uLnN0YXJ0KHMpKWJyZWFrO3JldHVybiByPT1vJiYvcm93fHRhYmxlLy50ZXN0KGUubm9kZShpKS50eXBlLnNwZWMudGFibGVSb2xlKX1mdW5jdGlvbiBxKHQpe2Zvcih2YXIgZSxuLHI9dC4kZnJvbSxvPXQuJHRvLGk9ci5kZXB0aDtpPjA7aS0tKXt2YXIgcz1yLm5vZGUoaSk7aWYoImNlbGwiPT09cy50eXBlLnNwZWMudGFibGVSb2xlfHwiaGVhZGVyX2NlbGwiPT09cy50eXBlLnNwZWMudGFibGVSb2xlKXtlPXM7YnJlYWt9fWZvcih2YXIgYT1vLmRlcHRoO2E+MDthLS0pe3ZhciBjPW8ubm9kZShhKTtpZigiY2VsbCI9PT1jLnR5cGUuc3BlYy50YWJsZVJvbGV8fCJoZWFkZXJfY2VsbCI9PT1jLnR5cGUuc3BlYy50YWJsZVJvbGUpe249YzticmVha319cmV0dXJuIGUhPT1uJiYwPT09by5wYXJlbnRPZmZzZXR9ZnVuY3Rpb24gVyh0LGUsbil7dmFyIHIsbyxzPShlfHx0KS5zZWxlY3Rpb24sYT0oZXx8dCkuZG9jO2lmKHMgaW5zdGFuY2VvZiBpWyJOb2RlU2VsZWN0aW9uIl0mJihvPXMubm9kZS50eXBlLnNwZWMudGFibGVSb2xlKSl7aWYoImNlbGwiPT1vfHwiaGVhZGVyX2NlbGwiPT1vKXI9Ri5jcmVhdGUoYSxzLmZyb20pO2Vsc2UgaWYoInJvdyI9PW8pe3ZhciBjPWEucmVzb2x2ZShzLmZyb20rMSk7cj1GLnJvd1NlbGVjdGlvbihjLGMpfWVsc2UgaWYoIW4pe3ZhciBsPW0uZ2V0KHMubm9kZSksdT1zLmZyb20rMSxkPXUrbC5tYXBbbC53aWR0aCpsLmhlaWdodC0xXTtyPUYuY3JlYXRlKGEsdSsxLGQpfX1lbHNlIHMgaW5zdGFuY2VvZiBpWyJUZXh0U2VsZWN0aW9uIl0mJkgocyk/cj1pWyJUZXh0U2VsZWN0aW9uIl0uY3JlYXRlKGEscy5mcm9tKTpzIGluc3RhbmNlb2YgaVsiVGV4dFNlbGVjdGlvbiJdJiZxKHMpJiYocj1pWyJUZXh0U2VsZWN0aW9uIl0uY3JlYXRlKGEscy4kZnJvbS5zdGFydCgpLHMuJGZyb20uZW5kKCkpKTtyZXR1cm4gciYmKGV8fChlPXQudHIpKS5zZXRTZWxlY3Rpb24ociksZX1mdW5jdGlvbiBLKHQpe2lmKCF0LnNpemUpcmV0dXJuIG51bGw7dmFyIGU9dC5jb250ZW50LG49dC5vcGVuU3RhcnQscj10Lm9wZW5FbmQ7d2hpbGUoMT09ZS5jaGlsZENvdW50JiYobj4wJiZyPjB8fCJ0YWJsZSI9PWUuZmlyc3RDaGlsZC50eXBlLnNwZWMudGFibGVSb2xlKSluLS0sci0tLGU9ZS5maXJzdENoaWxkLmNvbnRlbnQ7dmFyIG89ZS5maXJzdENoaWxkLGk9by50eXBlLnNwZWMudGFibGVSb2xlLGE9by50eXBlLnNjaGVtYSxjPVtdO2lmKCJyb3ciPT1pKWZvcih2YXIgbD0wO2w8ZS5jaGlsZENvdW50O2wrKyl7dmFyIHU9ZS5jaGlsZChsKS5jb250ZW50LGQ9bD8wOk1hdGgubWF4KDAsbi0xKSxwPWw8ZS5jaGlsZENvdW50LTE/MDpNYXRoLm1heCgwLHItMSk7KGR8fHApJiYodT1VKGsoYSkucm93LG5ldyBzWyJTbGljZSJdKHUsZCxwKSkuY29udGVudCksYy5wdXNoKHUpfWVsc2V7aWYoImNlbGwiIT1pJiYiaGVhZGVyX2NlbGwiIT1pKXJldHVybiBudWxsO2MucHVzaChufHxyP1UoayhhKS5yb3csbmV3IHNbIlNsaWNlIl0oZSxuLHIpKS5jb250ZW50OmUpfXJldHVybiBKKGEsYyl9ZnVuY3Rpb24gSih0LGUpe2Zvcih2YXIgbj1bXSxyPTA7cjxlLmxlbmd0aDtyKyspZm9yKHZhciBvPWVbcl0saT1vLmNoaWxkQ291bnQtMTtpPj0wO2ktLSlmb3IodmFyIGE9by5jaGlsZChpKS5hdHRycyxjPWEucm93c3BhbixsPWEuY29sc3Bhbix1PXI7dTxyK2M7dSsrKW5bdV09KG5bdV18fDApK2w7Zm9yKHZhciBkPTAscD0wO3A8bi5sZW5ndGg7cCsrKWQ9TWF0aC5tYXgoZCxuW3BdKTtmb3IodmFyIGY9MDtmPG4ubGVuZ3RoO2YrKylpZihmPj1lLmxlbmd0aCYmZS5wdXNoKHNbIkZyYWdtZW50Il0uZW1wdHkpLG5bZl08ZCl7Zm9yKHZhciBoPWsodCkuY2VsbC5jcmVhdGVBbmRGaWxsKCksbT1bXSx2PW5bZl07djxkO3YrKyltLnB1c2goaCk7ZVtmXT1lW2ZdLmFwcGVuZChzWyJGcmFnbWVudCJdLmZyb20obSkpfXJldHVybntoZWlnaHQ6ZS5sZW5ndGgsd2lkdGg6ZCxyb3dzOmV9fWZ1bmN0aW9uIFUodCxlKXt2YXIgbj10LmNyZWF0ZUFuZEZpbGwoKSxyPW5ldyBsWyJlIl0obikucmVwbGFjZSgwLG4uY29udGVudC5zaXplLGUpO3JldHVybiByLmRvY31mdW5jdGlvbiBHKHQsZSxuKXt2YXIgcj10LndpZHRoLG89dC5oZWlnaHQsaT10LnJvd3M7aWYociE9ZSl7Zm9yKHZhciBhPVtdLGM9W10sbD0wO2w8aS5sZW5ndGg7bCsrKXtmb3IodmFyIHU9aVtsXSxkPVtdLHA9YVtsXXx8MCxmPTA7cDxlO2YrKyl7dmFyIGg9dS5jaGlsZChmJXUuY2hpbGRDb3VudCk7cCtoLmF0dHJzLmNvbHNwYW4+ZSYmKGg9aC50eXBlLmNyZWF0ZSgkKGguYXR0cnMsaC5hdHRycy5jb2xzcGFuLHAraC5hdHRycy5jb2xzcGFuLWUpLGguY29udGVudCkpLGQucHVzaChoKSxwKz1oLmF0dHJzLmNvbHNwYW47Zm9yKHZhciBtPTE7bTxoLmF0dHJzLnJvd3NwYW47bSsrKWFbbCttXT0oYVtsK21dfHwwKStoLmF0dHJzLmNvbHNwYW59Yy5wdXNoKHNbIkZyYWdtZW50Il0uZnJvbShkKSl9aT1jLHI9ZX1pZihvIT1uKXtmb3IodmFyIHY9W10sZz0wLHk9MDtnPG47ZysrLHkrKyl7Zm9yKHZhciBiPVtdLHc9aVt5JW9dLFM9MDtTPHcuY2hpbGRDb3VudDtTKyspe3ZhciB4PXcuY2hpbGQoUyk7Zyt4LmF0dHJzLnJvd3NwYW4+biYmKHg9eC50eXBlLmNyZWF0ZShJKHguYXR0cnMsInJvd3NwYW4iLE1hdGgubWF4KDEsbi14LmF0dHJzLnJvd3NwYW4pKSx4LmNvbnRlbnQpKSxiLnB1c2goeCl9di5wdXNoKHNbIkZyYWdtZW50Il0uZnJvbShiKSl9aT12LG89bn1yZXR1cm57d2lkdGg6cixoZWlnaHQ6byxyb3dzOml9fWZ1bmN0aW9uIFgodCxlLG4scixvLGksYSl7dmFyIGMsbCx1PXQuZG9jLnR5cGUuc2NoZW1hLGQ9ayh1KTtpZihvPmUud2lkdGgpZm9yKHZhciBwPTAsZj0wO3A8ZS5oZWlnaHQ7cCsrKXt2YXIgaD1uLmNoaWxkKHApO2YrPWgubm9kZVNpemU7dmFyIG09W10sdj12b2lkIDA7dj1udWxsPT1oLmxhc3RDaGlsZHx8aC5sYXN0Q2hpbGQudHlwZT09ZC5jZWxsP2N8fChjPWQuY2VsbC5jcmVhdGVBbmRGaWxsKCkpOmx8fChsPWQuaGVhZGVyX2NlbGwuY3JlYXRlQW5kRmlsbCgpKTtmb3IodmFyIGc9ZS53aWR0aDtnPG87ZysrKW0ucHVzaCh2KTt0Lmluc2VydCh0Lm1hcHBpbmcuc2xpY2UoYSkubWFwKGYtMStyKSxtKX1pZihpPmUuaGVpZ2h0KXtmb3IodmFyIHk9W10sYj0wLHc9KGUuaGVpZ2h0LTEpKmUud2lkdGg7YjxNYXRoLm1heChlLndpZHRoLG8pO2IrKyl7dmFyIFM9IShiPj1lLndpZHRoKSYmbi5ub2RlQXQoZS5tYXBbdytiXSkudHlwZT09ZC5oZWFkZXJfY2VsbDt5LnB1c2goUz9sfHwobD1kLmhlYWRlcl9jZWxsLmNyZWF0ZUFuZEZpbGwoKSk6Y3x8KGM9ZC5jZWxsLmNyZWF0ZUFuZEZpbGwoKSkpfWZvcih2YXIgeD1kLnJvdy5jcmVhdGUobnVsbCxzWyJGcmFnbWVudCJdLmZyb20oeSkpLEM9W10sTz1lLmhlaWdodDtPPGk7TysrKUMucHVzaCh4KTt0Lmluc2VydCh0Lm1hcHBpbmcuc2xpY2UoYSkubWFwKHIrbi5ub2RlU2l6ZS0yKSxDKX1yZXR1cm4hKCFjJiYhbCl9ZnVuY3Rpb24gWSh0LGUsbixyLG8saSxzLGEpe2lmKDA9PXN8fHM9PWUuaGVpZ2h0KXJldHVybiExO2Zvcih2YXIgYz0hMSxsPW87bDxpO2wrKyl7dmFyIHU9cyplLndpZHRoK2wsZD1lLm1hcFt1XTtpZihlLm1hcFt1LWUud2lkdGhdPT1kKXtjPSEwO3ZhciBwPW4ubm9kZUF0KGQpLGY9ZS5maW5kQ2VsbChkKSxoPWYudG9wLG09Zi5sZWZ0O3Quc2V0Tm9kZU1hcmt1cCh0Lm1hcHBpbmcuc2xpY2UoYSkubWFwKGQrciksbnVsbCxJKHAuYXR0cnMsInJvd3NwYW4iLHMtaCkpLHQuaW5zZXJ0KHQubWFwcGluZy5zbGljZShhKS5tYXAoZS5wb3NpdGlvbkF0KHMsbSxuKSkscC50eXBlLmNyZWF0ZUFuZEZpbGwoSShwLmF0dHJzLCJyb3dzcGFuIixoK3AuYXR0cnMucm93c3Bhbi1zKSkpLGwrPXAuYXR0cnMuY29sc3Bhbi0xfX1yZXR1cm4gY31mdW5jdGlvbiBaKHQsZSxuLHIsbyxpLHMsYSl7aWYoMD09c3x8cz09ZS53aWR0aClyZXR1cm4hMTtmb3IodmFyIGM9ITEsbD1vO2w8aTtsKyspe3ZhciB1PWwqZS53aWR0aCtzLGQ9ZS5tYXBbdV07aWYoZS5tYXBbdS0xXT09ZCl7Yz0hMDt2YXIgcD1uLm5vZGVBdChkKSxmPWUuY29sQ291bnQoZCksaD10Lm1hcHBpbmcuc2xpY2UoYSkubWFwKGQrcik7dC5zZXROb2RlTWFya3VwKGgsbnVsbCwkKHAuYXR0cnMscy1mLHAuYXR0cnMuY29sc3Bhbi0ocy1mKSkpLHQuaW5zZXJ0KGgrcC5ub2RlU2l6ZSxwLnR5cGUuY3JlYXRlQW5kRmlsbCgkKHAuYXR0cnMsMCxzLWYpKSksbCs9cC5hdHRycy5yb3dzcGFuLTF9fXJldHVybiBjfWZ1bmN0aW9uIFEodCxlLG4scixvKXt2YXIgaT1uP3QuZG9jLm5vZGVBdChuLTEpOnQuZG9jLGE9bS5nZXQoaSksYz1yLnRvcCxsPXIubGVmdCx1PWwrby53aWR0aCxkPWMrby5oZWlnaHQscD10LnRyLGY9MDtmdW5jdGlvbiBoKCl7aT1uP3AuZG9jLm5vZGVBdChuLTEpOnAuZG9jLGE9bS5nZXQoaSksZj1wLm1hcHBpbmcubWFwcy5sZW5ndGh9WChwLGEsaSxuLHUsZCxmKSYmaCgpLFkocCxhLGksbixsLHUsYyxmKSYmaCgpLFkocCxhLGksbixsLHUsZCxmKSYmaCgpLFoocCxhLGksbixjLGQsbCxmKSYmaCgpLFoocCxhLGksbixjLGQsdSxmKSYmaCgpO2Zvcih2YXIgdj1jO3Y8ZDt2Kyspe3ZhciBnPWEucG9zaXRpb25BdCh2LGwsaSkseT1hLnBvc2l0aW9uQXQodix1LGkpO3AucmVwbGFjZShwLm1hcHBpbmcuc2xpY2UoZikubWFwKGcrbikscC5tYXBwaW5nLnNsaWNlKGYpLm1hcCh5K24pLG5ldyBzWyJTbGljZSJdKG8ucm93c1t2LWNdLDAsMCkpfWgoKSxwLnNldFNlbGVjdGlvbihuZXcgRihwLmRvYy5yZXNvbHZlKG4rYS5wb3NpdGlvbkF0KGMsbCxpKSkscC5kb2MucmVzb2x2ZShuK2EucG9zaXRpb25BdChkLTEsdS0xLGkpKSkpLGUocCl9ai5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgaih0Lm1hcCh0aGlzLmFuY2hvciksdC5tYXAodGhpcy5oZWFkKSl9LGoucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24odCl7dmFyIGU9dC5yZXNvbHZlKHRoaXMuYW5jaG9yKSxuPXQucmVzb2x2ZSh0aGlzLmhlYWQpO3JldHVybiJyb3ciPT1lLnBhcmVudC50eXBlLnNwZWMudGFibGVSb2xlJiYicm93Ij09bi5wYXJlbnQudHlwZS5zcGVjLnRhYmxlUm9sZSYmZS5pbmRleCgpPGUucGFyZW50LmNoaWxkQ291bnQmJm4uaW5kZXgoKTxuLnBhcmVudC5jaGlsZENvdW50JiZSKGUsbik/bmV3IEYoZSxuKTppWyJTZWxlY3Rpb24iXS5uZWFyKG4sMSl9O3ZhciB0dD1PYmplY3QoYVsiYSJdKSh7QXJyb3dMZWZ0Om50KCJob3JpeiIsLTEpLEFycm93UmlnaHQ6bnQoImhvcml6IiwxKSxBcnJvd1VwOm50KCJ2ZXJ0IiwtMSksQXJyb3dEb3duOm50KCJ2ZXJ0IiwxKSwiU2hpZnQtQXJyb3dMZWZ0IjpydCgiaG9yaXoiLC0xKSwiU2hpZnQtQXJyb3dSaWdodCI6cnQoImhvcml6IiwxKSwiU2hpZnQtQXJyb3dVcCI6cnQoInZlcnQiLC0xKSwiU2hpZnQtQXJyb3dEb3duIjpydCgidmVydCIsMSksQmFja3NwYWNlOm90LCJNb2QtQmFja3NwYWNlIjpvdCxEZWxldGU6b3QsIk1vZC1EZWxldGUiOm90fSk7ZnVuY3Rpb24gZXQodCxlLG4pe3JldHVybiFuLmVxKHQuc2VsZWN0aW9uKSYmKGUmJmUodC50ci5zZXRTZWxlY3Rpb24obikuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIG50KHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scixvKXt2YXIgcz1uLnNlbGVjdGlvbjtpZihzIGluc3RhbmNlb2YgRilyZXR1cm4gZXQobixyLGlbIlNlbGVjdGlvbiJdLm5lYXIocy4kaGVhZENlbGwsZSkpO2lmKCJob3JpeiIhPXQmJiFzLmVtcHR5KXJldHVybiExO3ZhciBhPWN0KG8sdCxlKTtpZihudWxsPT1hKXJldHVybiExO2lmKCJob3JpeiI9PXQpcmV0dXJuIGV0KG4scixpWyJTZWxlY3Rpb24iXS5uZWFyKG4uZG9jLnJlc29sdmUocy5oZWFkK2UpLGUpKTt2YXIgYyxsPW4uZG9jLnJlc29sdmUoYSksdT16KGwsdCxlKTtyZXR1cm4gYz11P2lbIlNlbGVjdGlvbiJdLm5lYXIodSwxKTplPDA/aVsiU2VsZWN0aW9uIl0ubmVhcihuLmRvYy5yZXNvbHZlKGwuYmVmb3JlKC0xKSksLTEpOmlbIlNlbGVjdGlvbiJdLm5lYXIobi5kb2MucmVzb2x2ZShsLmFmdGVyKC0xKSksMSksZXQobixyLGMpfX1mdW5jdGlvbiBydCh0LGUpe3JldHVybiBmdW5jdGlvbihuLHIsbyl7dmFyIGk9bi5zZWxlY3Rpb247aWYoIShpIGluc3RhbmNlb2YgRikpe3ZhciBzPWN0KG8sdCxlKTtpZihudWxsPT1zKXJldHVybiExO2k9bmV3IEYobi5kb2MucmVzb2x2ZShzKSl9dmFyIGE9eihpLiRoZWFkQ2VsbCx0LGUpO3JldHVybiEhYSYmZXQobixyLG5ldyBGKGkuJGFuY2hvckNlbGwsYSkpfX1mdW5jdGlvbiBvdCh0LGUpe3ZhciBuPXQuc2VsZWN0aW9uO2lmKCEobiBpbnN0YW5jZW9mIEYpKXJldHVybiExO2lmKGUpe3ZhciByPXQudHIsbz1rKHQuc2NoZW1hKS5jZWxsLmNyZWF0ZUFuZEZpbGwoKS5jb250ZW50O24uZm9yRWFjaENlbGwoKGZ1bmN0aW9uKHQsZSl7dC5jb250ZW50LmVxKG8pfHxyLnJlcGxhY2Uoci5tYXBwaW5nLm1hcChlKzEpLHIubWFwcGluZy5tYXAoZSt0Lm5vZGVTaXplLTEpLG5ldyBzWyJTbGljZSJdKG8sMCwwKSl9KSksci5kb2NDaGFuZ2VkJiZlKHIpfXJldHVybiEwfWZ1bmN0aW9uIGl0KHQsZSl7dmFyIG49dC5zdGF0ZS5kb2Mscj1PKG4ucmVzb2x2ZShlKSk7cmV0dXJuISFyJiYodC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldFNlbGVjdGlvbihuZXcgRihyKSkpLCEwKX1mdW5jdGlvbiBzdCh0LGUsbil7aWYoIU4odC5zdGF0ZSkpcmV0dXJuITE7dmFyIHI9SyhuKSxvPXQuc3RhdGUuc2VsZWN0aW9uO2lmKG8gaW5zdGFuY2VvZiBGKXtyfHwocj17d2lkdGg6MSxoZWlnaHQ6MSxyb3dzOltzWyJGcmFnbWVudCJdLmZyb20oVShrKHQuc3RhdGUuc2NoZW1hKS5jZWxsLG4pKV19KTt2YXIgaT1vLiRhbmNob3JDZWxsLm5vZGUoLTEpLGE9by4kYW5jaG9yQ2VsbC5zdGFydCgtMSksYz1tLmdldChpKS5yZWN0QmV0d2VlbihvLiRhbmNob3JDZWxsLnBvcy1hLG8uJGhlYWRDZWxsLnBvcy1hKTtyZXR1cm4gcj1HKHIsYy5yaWdodC1jLmxlZnQsYy5ib3R0b20tYy50b3ApLFEodC5zdGF0ZSx0LmRpc3BhdGNoLGEsYyxyKSwhMH1pZihyKXt2YXIgbD1UKHQuc3RhdGUpLHU9bC5zdGFydCgtMSk7cmV0dXJuIFEodC5zdGF0ZSx0LmRpc3BhdGNoLHUsbS5nZXQobC5ub2RlKC0xKSkuZmluZENlbGwobC5wb3MtdSksciksITB9cmV0dXJuITF9ZnVuY3Rpb24gYXQodCxlKXtpZighZS5jdHJsS2V5JiYhZS5tZXRhS2V5KXt2YXIgbixyPWx0KHQsZS50YXJnZXQpO2lmKGUuc2hpZnRLZXkmJnQuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgRilvKHQuc3RhdGUuc2VsZWN0aW9uLiRhbmNob3JDZWxsLGUpLGUucHJldmVudERlZmF1bHQoKTtlbHNlIGlmKGUuc2hpZnRLZXkmJnImJm51bGwhPShuPU8odC5zdGF0ZS5zZWxlY3Rpb24uJGFuY2hvcikpJiZ1dCh0LGUpLnBvcyE9bi5wb3MpbyhuLGUpLGUucHJldmVudERlZmF1bHQoKTtlbHNlIGlmKCFyKXJldHVybjt0LnJvb3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsaSksdC5yb290LmFkZEV2ZW50TGlzdGVuZXIoImRyYWdzdGFydCIsaSksdC5yb290LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIscyl9ZnVuY3Rpb24gbyhlLG4pe3ZhciByPXV0KHQsbiksbz1udWxsPT1DLmdldFN0YXRlKHQuc3RhdGUpO2lmKCFyfHwhUihlLHIpKXtpZighbylyZXR1cm47cj1lfXZhciBpPW5ldyBGKGUscik7aWYob3x8IXQuc3RhdGUuc2VsZWN0aW9uLmVxKGkpKXt2YXIgcz10LnN0YXRlLnRyLnNldFNlbGVjdGlvbihpKTtvJiZzLnNldE1ldGEoQyxlLnBvcyksdC5kaXNwYXRjaChzKX19ZnVuY3Rpb24gaSgpe3Qucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZXVwIixpKSx0LnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZHJhZ3N0YXJ0IixpKSx0LnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIixzKSxudWxsIT1DLmdldFN0YXRlKHQuc3RhdGUpJiZ0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0TWV0YShDLC0xKSl9ZnVuY3Rpb24gcyhuKXt2YXIgcyxhPUMuZ2V0U3RhdGUodC5zdGF0ZSk7aWYobnVsbCE9YSlzPXQuc3RhdGUuZG9jLnJlc29sdmUoYSk7ZWxzZSBpZihsdCh0LG4udGFyZ2V0KSE9ciYmKHM9dXQodCxlKSwhcykpcmV0dXJuIGkoKTtzJiZvKHMsbil9fWZ1bmN0aW9uIGN0KHQsZSxuKXtpZighKHQuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgaVsiVGV4dFNlbGVjdGlvbiJdKSlyZXR1cm4gbnVsbDtmb3IodmFyIHI9dC5zdGF0ZS5zZWxlY3Rpb24sbz1yLiRoZWFkLHM9by5kZXB0aC0xO3M+PTA7cy0tKXt2YXIgYT1vLm5vZGUocyksYz1uPDA/by5pbmRleChzKTpvLmluZGV4QWZ0ZXIocyk7aWYoYyE9KG48MD8wOmEuY2hpbGRDb3VudCkpcmV0dXJuIG51bGw7aWYoImNlbGwiPT1hLnR5cGUuc3BlYy50YWJsZVJvbGV8fCJoZWFkZXJfY2VsbCI9PWEudHlwZS5zcGVjLnRhYmxlUm9sZSl7dmFyIGw9by5iZWZvcmUocyksdT0idmVydCI9PWU/bj4wPyJkb3duIjoidXAiOm4+MD8icmlnaHQiOiJsZWZ0IjtyZXR1cm4gdC5lbmRPZlRleHRibG9jayh1KT9sOm51bGx9fXJldHVybiBudWxsfWZ1bmN0aW9uIGx0KHQsZSl7Zm9yKDtlJiZlIT10LmRvbTtlPWUucGFyZW50Tm9kZSlpZigiVEQiPT1lLm5vZGVOYW1lfHwiVEgiPT1lLm5vZGVOYW1lKXJldHVybiBlfWZ1bmN0aW9uIHV0KHQsZSl7dmFyIG49dC5wb3NBdENvb3Jkcyh7bGVmdDplLmNsaWVudFgsdG9wOmUuY2xpZW50WX0pO3JldHVybiBuJiZuP08odC5zdGF0ZS5kb2MucmVzb2x2ZShuLnBvcykpOm51bGx9dmFyIGR0PW5ldyBpWyJQbHVnaW5LZXkiXSgiZml4LXRhYmxlcyIpO2Z1bmN0aW9uIHB0KHQsZSxuLHIpe3ZhciBvPXQuY2hpbGRDb3VudCxpPWUuY2hpbGRDb3VudDt0OmZvcih2YXIgcz0wLGE9MDtzPGk7cysrKXtmb3IodmFyIGM9ZS5jaGlsZChzKSxsPWEsdT1NYXRoLm1pbihvLHMrMyk7bDx1O2wrKylpZih0LmNoaWxkKGwpPT1jKXthPWwrMSxuKz1jLm5vZGVTaXplO2NvbnRpbnVlIHR9cihjLG4pLGE8byYmdC5jaGlsZChhKS5zYW1lTWFya3VwKGMpP3B0KHQuY2hpbGQoYSksYyxuKzEscik6Yy5ub2Rlc0JldHdlZW4oMCxjLmNvbnRlbnQuc2l6ZSxyLG4rMSksbis9Yy5ub2RlU2l6ZX19ZnVuY3Rpb24gZnQodCxlKXt2YXIgbixyPWZ1bmN0aW9uKGUscil7InRhYmxlIj09ZS50eXBlLnNwZWMudGFibGVSb2xlJiYobj1odCh0LGUscixuKSl9O3JldHVybiBlP2UuZG9jIT10LmRvYyYmcHQoZS5kb2MsdC5kb2MsMCxyKTp0LmRvYy5kZXNjZW5kYW50cyhyKSxufWZ1bmN0aW9uIGh0KHQsZSxuLHIpe3ZhciBvPW0uZ2V0KGUpO2lmKCFvLnByb2JsZW1zKXJldHVybiByO3J8fChyPXQudHIpO2Zvcih2YXIgaSxzLGE9W10sYz0wO2M8by5oZWlnaHQ7YysrKWEucHVzaCgwKTtmb3IodmFyIGw9MDtsPG8ucHJvYmxlbXMubGVuZ3RoO2wrKyl7dmFyIHU9by5wcm9ibGVtc1tsXTtpZigiY29sbGlzaW9uIj09dS50eXBlKXtmb3IodmFyIGQ9ZS5ub2RlQXQodS5wb3MpLHA9MDtwPGQuYXR0cnMucm93c3BhbjtwKyspYVt1LnJvdytwXSs9dS5uO3Iuc2V0Tm9kZU1hcmt1cChyLm1hcHBpbmcubWFwKG4rMSt1LnBvcyksbnVsbCwkKGQuYXR0cnMsZC5hdHRycy5jb2xzcGFuLXUubix1Lm4pKX1lbHNlIGlmKCJtaXNzaW5nIj09dS50eXBlKWFbdS5yb3ddKz11Lm47ZWxzZSBpZigib3Zlcmxvbmdfcm93c3BhbiI9PXUudHlwZSl7dmFyIGY9ZS5ub2RlQXQodS5wb3MpO3Iuc2V0Tm9kZU1hcmt1cChyLm1hcHBpbmcubWFwKG4rMSt1LnBvcyksbnVsbCxJKGYuYXR0cnMsInJvd3NwYW4iLGYuYXR0cnMucm93c3Bhbi11Lm4pKX1lbHNlIGlmKCJjb2x3aWR0aCBtaXNtYXRjaCI9PXUudHlwZSl7dmFyIGg9ZS5ub2RlQXQodS5wb3MpO3Iuc2V0Tm9kZU1hcmt1cChyLm1hcHBpbmcubWFwKG4rMSt1LnBvcyksbnVsbCxJKGguYXR0cnMsImNvbHdpZHRoIix1LmNvbHdpZHRoKSl9fWZvcih2YXIgdj0wO3Y8YS5sZW5ndGg7disrKWFbdl0mJihudWxsPT1pJiYoaT12KSxzPXYpO2Zvcih2YXIgZz0wLHk9bisxO2c8by5oZWlnaHQ7ZysrKXt2YXIgYj1lLmNoaWxkKGcpLHc9eStiLm5vZGVTaXplLFM9YVtnXTtpZihTPjApe3ZhciB4PSJjZWxsIjtiLmZpcnN0Q2hpbGQmJih4PWIuZmlyc3RDaGlsZC50eXBlLnNwZWMudGFibGVSb2xlKTtmb3IodmFyIEM9W10sTz0wO088UztPKyspQy5wdXNoKGsodC5zY2hlbWEpW3hdLmNyZWF0ZUFuZEZpbGwoKSk7dmFyIE09MCE9ZyYmaSE9Zy0xfHxzIT1nP3ctMTp5KzE7ci5pbnNlcnQoci5tYXBwaW5nLm1hcChNKSxDKX15PXd9cmV0dXJuIHIuc2V0TWV0YShkdCx7Zml4VGFibGVzOiEwfSl9ZnVuY3Rpb24gbXQodCl7dmFyIGUsbj10LnNlbGVjdGlvbixyPVQodCksbz1yLm5vZGUoLTEpLGk9ci5zdGFydCgtMSkscz1tLmdldChvKTtyZXR1cm4gZT1uIGluc3RhbmNlb2YgRj9zLnJlY3RCZXR3ZWVuKG4uJGFuY2hvckNlbGwucG9zLWksbi4kaGVhZENlbGwucG9zLWkpOnMuZmluZENlbGwoci5wb3MtaSksZS50YWJsZVN0YXJ0PWksZS5tYXA9cyxlLnRhYmxlPW8sZX1mdW5jdGlvbiB2dCh0LGUsbil7dmFyIHI9ZS5tYXAsbz1lLnRhYmxlU3RhcnQsaT1lLnRhYmxlLHM9bj4wPy0xOjA7QihyLGksbitzKSYmKHM9MD09bnx8bj09ci53aWR0aD9udWxsOjApO2Zvcih2YXIgYT0wO2E8ci5oZWlnaHQ7YSsrKXt2YXIgYz1hKnIud2lkdGgrbjtpZihuPjAmJm48ci53aWR0aCYmci5tYXBbYy0xXT09ci5tYXBbY10pe3ZhciBsPXIubWFwW2NdLHU9aS5ub2RlQXQobCk7dC5zZXROb2RlTWFya3VwKHQubWFwcGluZy5tYXAobytsKSxudWxsLFYodS5hdHRycyxuLXIuY29sQ291bnQobCkpKSxhKz11LmF0dHJzLnJvd3NwYW4tMX1lbHNle3ZhciBkPW51bGw9PXM/ayhpLnR5cGUuc2NoZW1hKS5jZWxsOmkubm9kZUF0KHIubWFwW2Mrc10pLnR5cGUscD1yLnBvc2l0aW9uQXQoYSxuLGkpO3QuaW5zZXJ0KHQubWFwcGluZy5tYXAobytwKSxkLmNyZWF0ZUFuZEZpbGwoKSl9fXJldHVybiB0fWZ1bmN0aW9uIGd0KHQsZSl7aWYoIU4odCkpcmV0dXJuITE7aWYoZSl7dmFyIG49bXQodCk7ZSh2dCh0LnRyLG4sbi5sZWZ0KSl9cmV0dXJuITB9ZnVuY3Rpb24geXQodCxlKXtpZighTih0KSlyZXR1cm4hMTtpZihlKXt2YXIgbj1tdCh0KTtlKHZ0KHQudHIsbixuLnJpZ2h0KSl9cmV0dXJuITB9ZnVuY3Rpb24gYnQodCxlLG4pe2Zvcih2YXIgcj1lLm1hcCxvPWUudGFibGUsaT1lLnRhYmxlU3RhcnQscz10Lm1hcHBpbmcubWFwcy5sZW5ndGgsYT0wO2E8ci5oZWlnaHQ7KXt2YXIgYz1hKnIud2lkdGgrbixsPXIubWFwW2NdLHU9by5ub2RlQXQobCk7aWYobj4wJiZyLm1hcFtjLTFdPT1sfHxuPHIud2lkdGgtMSYmci5tYXBbYysxXT09bCl0LnNldE5vZGVNYXJrdXAodC5tYXBwaW5nLnNsaWNlKHMpLm1hcChpK2wpLG51bGwsJCh1LmF0dHJzLG4tci5jb2xDb3VudChsKSkpO2Vsc2V7dmFyIGQ9dC5tYXBwaW5nLnNsaWNlKHMpLm1hcChpK2wpO3QuZGVsZXRlKGQsZCt1Lm5vZGVTaXplKX1hKz11LmF0dHJzLnJvd3NwYW59fWZ1bmN0aW9uIHd0KHQsZSl7aWYoIU4odCkpcmV0dXJuITE7aWYoZSl7dmFyIG49bXQodCkscj10LnRyO2lmKDA9PW4ubGVmdCYmbi5yaWdodD09bi5tYXAud2lkdGgpcmV0dXJuITE7Zm9yKHZhciBvPW4ucmlnaHQtMTs7by0tKXtpZihidChyLG4sbyksbz09bi5sZWZ0KWJyZWFrO24udGFibGU9bi50YWJsZVN0YXJ0P3IuZG9jLm5vZGVBdChuLnRhYmxlU3RhcnQtMSk6ci5kb2Msbi5tYXA9bS5nZXQobi50YWJsZSl9ZShyKX1yZXR1cm4hMH1mdW5jdGlvbiBTdCh0LGUsbil7Zm9yKHZhciByPWsoZS50eXBlLnNjaGVtYSkuaGVhZGVyX2NlbGwsbz0wO288dC53aWR0aDtvKyspaWYoZS5ub2RlQXQodC5tYXBbbytuKnQud2lkdGhdKS50eXBlIT1yKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHh0KHQsZSxuKXtmb3IodmFyIHI9ZS5tYXAsbz1lLnRhYmxlU3RhcnQsaT1lLnRhYmxlLHM9byxhPTA7YTxuO2ErKylzKz1pLmNoaWxkKGEpLm5vZGVTaXplO3ZhciBjPVtdLGw9bj4wPy0xOjA7U3QocixpLG4rbCkmJihsPTA9PW58fG49PXIuaGVpZ2h0P251bGw6MCk7Zm9yKHZhciB1PTAsZD1yLndpZHRoKm47dTxyLndpZHRoO3UrKyxkKyspaWYobj4wJiZuPHIuaGVpZ2h0JiZyLm1hcFtkXT09ci5tYXBbZC1yLndpZHRoXSl7dmFyIHA9ci5tYXBbZF0sZj1pLm5vZGVBdChwKS5hdHRyczt0LnNldE5vZGVNYXJrdXAobytwLG51bGwsSShmLCJyb3dzcGFuIixmLnJvd3NwYW4rMSkpLHUrPWYuY29sc3Bhbi0xfWVsc2V7dmFyIGg9bnVsbD09bD9rKGkudHlwZS5zY2hlbWEpLmNlbGw6aS5ub2RlQXQoci5tYXBbZCtsKnIud2lkdGhdKS50eXBlO2MucHVzaChoLmNyZWF0ZUFuZEZpbGwoKSl9cmV0dXJuIHQuaW5zZXJ0KHMsayhpLnR5cGUuc2NoZW1hKS5yb3cuY3JlYXRlKG51bGwsYykpLHR9ZnVuY3Rpb24ga3QodCxlKXtpZighTih0KSlyZXR1cm4hMTtpZihlKXt2YXIgbj1tdCh0KTtlKHh0KHQudHIsbixuLnRvcCkpfXJldHVybiEwfWZ1bmN0aW9uIEN0KHQsZSl7aWYoIU4odCkpcmV0dXJuITE7aWYoZSl7dmFyIG49bXQodCk7ZSh4dCh0LnRyLG4sbi5ib3R0b20pKX1yZXR1cm4hMH1mdW5jdGlvbiBPdCh0LGUsbil7Zm9yKHZhciByPWUubWFwLG89ZS50YWJsZSxpPWUudGFibGVTdGFydCxzPTAsYT0wO2E8bjthKyspcys9by5jaGlsZChhKS5ub2RlU2l6ZTt2YXIgYz1zK28uY2hpbGQobikubm9kZVNpemUsbD10Lm1hcHBpbmcubWFwcy5sZW5ndGg7dC5kZWxldGUocytpLGMraSk7Zm9yKHZhciB1PTAsZD1uKnIud2lkdGg7dTxyLndpZHRoO3UrKyxkKyspe3ZhciBwPXIubWFwW2RdO2lmKG4+MCYmcD09ci5tYXBbZC1yLndpZHRoXSl7dmFyIGY9by5ub2RlQXQocCkuYXR0cnM7dC5zZXROb2RlTWFya3VwKHQubWFwcGluZy5zbGljZShsKS5tYXAocCtpKSxudWxsLEkoZiwicm93c3BhbiIsZi5yb3dzcGFuLTEpKSx1Kz1mLmNvbHNwYW4tMX1lbHNlIGlmKG48ci53aWR0aCYmcD09ci5tYXBbZCtyLndpZHRoXSl7dmFyIGg9by5ub2RlQXQocCksbT1oLnR5cGUuY3JlYXRlKEkoaC5hdHRycywicm93c3BhbiIsaC5hdHRycy5yb3dzcGFuLTEpLGguY29udGVudCksdj1yLnBvc2l0aW9uQXQobisxLHUsbyk7dC5pbnNlcnQodC5tYXBwaW5nLnNsaWNlKGwpLm1hcChpK3YpLG0pLHUrPWguYXR0cnMuY29sc3Bhbi0xfX19ZnVuY3Rpb24gTXQodCxlKXtpZighTih0KSlyZXR1cm4hMTtpZihlKXt2YXIgbj1tdCh0KSxyPXQudHI7aWYoMD09bi50b3AmJm4uYm90dG9tPT1uLm1hcC5oZWlnaHQpcmV0dXJuITE7Zm9yKHZhciBvPW4uYm90dG9tLTE7O28tLSl7aWYoT3QocixuLG8pLG89PW4udG9wKWJyZWFrO24udGFibGU9bi50YWJsZVN0YXJ0P3IuZG9jLm5vZGVBdChuLnRhYmxlU3RhcnQtMSk6ci5kb2Msbi5tYXA9bS5nZXQobi50YWJsZSl9ZShyKX1yZXR1cm4hMH1mdW5jdGlvbiBOdCh0KXt2YXIgZT10LmNvbnRlbnQ7cmV0dXJuIDE9PWUuY2hpbGRDb3VudCYmZS5maXJzdENoaWxkLmlzVGV4dGJsb2NrJiYwPT1lLmZpcnN0Q2hpbGQuY2hpbGRDb3VudH1mdW5jdGlvbiBUdCh0LGUpe2Zvcih2YXIgbj10LndpZHRoLHI9dC5oZWlnaHQsbz10Lm1hcCxpPWUudG9wKm4rZS5sZWZ0LHM9aSxhPShlLmJvdHRvbS0xKSpuK2UubGVmdCxjPWkrKGUucmlnaHQtZS5sZWZ0LTEpLGw9ZS50b3A7bDxlLmJvdHRvbTtsKyspe2lmKGUubGVmdD4wJiZvW3NdPT1vW3MtMV18fGUucmlnaHQ8biYmb1tjXT09b1tjKzFdKXJldHVybiEwO3MrPW4sYys9bn1mb3IodmFyIHU9ZS5sZWZ0O3U8ZS5yaWdodDt1Kyspe2lmKGUudG9wPjAmJm9baV09PW9baS1uXXx8ZS5ib3R0b208ciYmb1thXT09b1thK25dKXJldHVybiEwO2krKyxhKyt9cmV0dXJuITF9ZnVuY3Rpb24gQXQodCxlKXt2YXIgbj10LnNlbGVjdGlvbjtpZighKG4gaW5zdGFuY2VvZiBGKXx8bi4kYW5jaG9yQ2VsbC5wb3M9PW4uJGhlYWRDZWxsLnBvcylyZXR1cm4hMTt2YXIgcj1tdCh0KSxvPXIubWFwO2lmKFR0KG8scikpcmV0dXJuITE7aWYoZSl7Zm9yKHZhciBpLGEsYz10LnRyLGw9e30sdT1zWyJGcmFnbWVudCJdLmVtcHR5LGQ9ci50b3A7ZDxyLmJvdHRvbTtkKyspZm9yKHZhciBwPXIubGVmdDtwPHIucmlnaHQ7cCsrKXt2YXIgZj1vLm1hcFtkKm8ud2lkdGgrcF0saD1yLnRhYmxlLm5vZGVBdChmKTtpZighbFtmXSlpZihsW2ZdPSEwLG51bGw9PWkpaT1mLGE9aDtlbHNle050KGgpfHwodT11LmFwcGVuZChoLmNvbnRlbnQpKTt2YXIgbT1jLm1hcHBpbmcubWFwKGYrci50YWJsZVN0YXJ0KTtjLmRlbGV0ZShtLG0raC5ub2RlU2l6ZSl9fWlmKGMuc2V0Tm9kZU1hcmt1cChpK3IudGFibGVTdGFydCxudWxsLEkoVihhLmF0dHJzLGEuYXR0cnMuY29sc3BhbixyLnJpZ2h0LXIubGVmdC1hLmF0dHJzLmNvbHNwYW4pLCJyb3dzcGFuIixyLmJvdHRvbS1yLnRvcCkpLHUuc2l6ZSl7dmFyIHY9aSsxK2EuY29udGVudC5zaXplLGc9TnQoYSk/aSsxOnY7Yy5yZXBsYWNlV2l0aChnK3IudGFibGVTdGFydCx2K3IudGFibGVTdGFydCx1KX1jLnNldFNlbGVjdGlvbihuZXcgRihjLmRvYy5yZXNvbHZlKGkrci50YWJsZVN0YXJ0KSkpLGUoYyl9cmV0dXJuITB9ZnVuY3Rpb24gRHQodCxlKXt2YXIgbj1rKHQuc2NoZW1hKTtyZXR1cm4gRXQoKGZ1bmN0aW9uKHQpe3ZhciBlPXQubm9kZTtyZXR1cm4gbltlLnR5cGUuc3BlYy50YWJsZVJvbGVdfSkpKHQsZSl9ZnVuY3Rpb24gRXQodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIHIsbyxpPWUuc2VsZWN0aW9uO2lmKGkgaW5zdGFuY2VvZiBGKXtpZihpLiRhbmNob3JDZWxsLnBvcyE9aS4kaGVhZENlbGwucG9zKXJldHVybiExO3I9aS4kYW5jaG9yQ2VsbC5ub2RlQWZ0ZXIsbz1pLiRhbmNob3JDZWxsLnBvc31lbHNle2lmKHI9TShpLiRmcm9tKSwhcilyZXR1cm4hMTtvPU8oaS4kZnJvbSkucG9zfWlmKDE9PXIuYXR0cnMuY29sc3BhbiYmMT09ci5hdHRycy5yb3dzcGFuKXJldHVybiExO2lmKG4pe3ZhciBzPXIuYXR0cnMsYT1bXSxjPXMuY29sd2lkdGg7cy5yb3dzcGFuPjEmJihzPUkocywicm93c3BhbiIsMSkpLHMuY29sc3Bhbj4xJiYocz1JKHMsImNvbHNwYW4iLDEpKTtmb3IodmFyIGwsdT1tdChlKSxkPWUudHIscD0wO3A8dS5yaWdodC11LmxlZnQ7cCsrKWEucHVzaChjP0kocywiY29sd2lkdGgiLGMmJmNbcF0/W2NbcF1dOm51bGwpOnMpO2Zvcih2YXIgZj11LnRvcDtmPHUuYm90dG9tO2YrKyl7dmFyIGg9dS5tYXAucG9zaXRpb25BdChmLHUubGVmdCx1LnRhYmxlKTtmPT11LnRvcCYmKGgrPXIubm9kZVNpemUpO2Zvcih2YXIgbT11LmxlZnQsdj0wO208dS5yaWdodDttKyssdisrKW09PXUubGVmdCYmZj09dS50b3B8fGQuaW5zZXJ0KGw9ZC5tYXBwaW5nLm1hcChoK3UudGFibGVTdGFydCwxKSx0KHtub2RlOnIscm93OmYsY29sOm19KS5jcmVhdGVBbmRGaWxsKGFbdl0pKX1kLnNldE5vZGVNYXJrdXAobyx0KHtub2RlOnIscm93OnUudG9wLGNvbDp1LmxlZnR9KSxhWzBdKSxpIGluc3RhbmNlb2YgRiYmZC5zZXRTZWxlY3Rpb24obmV3IEYoZC5kb2MucmVzb2x2ZShpLiRhbmNob3JDZWxsLnBvcyksbCYmZC5kb2MucmVzb2x2ZShsKSkpLG4oZCl9cmV0dXJuITB9fWZ1bmN0aW9uIFJ0KHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7aWYoIU4obikpcmV0dXJuITE7dmFyIG89VChuKTtpZihvLm5vZGVBZnRlci5hdHRyc1t0XT09PWUpcmV0dXJuITE7aWYocil7dmFyIGk9bi50cjtuLnNlbGVjdGlvbiBpbnN0YW5jZW9mIEY/bi5zZWxlY3Rpb24uZm9yRWFjaENlbGwoKGZ1bmN0aW9uKG4scil7bi5hdHRyc1t0XSE9PWUmJmkuc2V0Tm9kZU1hcmt1cChyLG51bGwsSShuLmF0dHJzLHQsZSkpfSkpOmkuc2V0Tm9kZU1hcmt1cChvLnBvcyxudWxsLEkoby5ub2RlQWZ0ZXIuYXR0cnMsdCxlKSkscihpKX1yZXR1cm4hMH19ZnVuY3Rpb24gX3QodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7aWYoIU4oZSkpcmV0dXJuITE7aWYobil7Zm9yKHZhciByPWsoZS5zY2hlbWEpLG89bXQoZSksaT1lLnRyLHM9by5tYXAuY2VsbHNJblJlY3QoImNvbHVtbiI9PXQ/bmV3IGgoby5sZWZ0LDAsby5yaWdodCxvLm1hcC5oZWlnaHQpOiJyb3ciPT10P25ldyBoKDAsby50b3Asby5tYXAud2lkdGgsby5ib3R0b20pOm8pLGE9cy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBvLnRhYmxlLm5vZGVBdCh0KX0pKSxjPTA7YzxzLmxlbmd0aDtjKyspYVtjXS50eXBlPT1yLmhlYWRlcl9jZWxsJiZpLnNldE5vZGVNYXJrdXAoby50YWJsZVN0YXJ0K3NbY10sci5jZWxsLGFbY10uYXR0cnMpO2lmKDA9PWkuc3RlcHMubGVuZ3RoKWZvcih2YXIgbD0wO2w8cy5sZW5ndGg7bCsrKWkuc2V0Tm9kZU1hcmt1cChvLnRhYmxlU3RhcnQrc1tsXSxyLmhlYWRlcl9jZWxsLGFbbF0uYXR0cnMpO24oaSl9cmV0dXJuITB9fWZ1bmN0aW9uIFB0KHQsZSxuKXtmb3IodmFyIHI9ZS5tYXAuY2VsbHNJblJlY3Qoe2xlZnQ6MCx0b3A6MCxyaWdodDoicm93Ij09dD9lLm1hcC53aWR0aDoxLGJvdHRvbToiY29sdW1uIj09dD9lLm1hcC5oZWlnaHQ6MX0pLG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGk9ZS50YWJsZS5ub2RlQXQocltvXSk7aWYoaSYmaS50eXBlIT09bi5oZWFkZXJfY2VsbClyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiB6dCh0LGUpe3JldHVybiBlPWV8fHt1c2VEZXByZWNhdGVkTG9naWM6ITF9LGUudXNlRGVwcmVjYXRlZExvZ2ljP190KHQpOmZ1bmN0aW9uKGUsbil7aWYoIU4oZSkpcmV0dXJuITE7aWYobil7dmFyIHI9ayhlLnNjaGVtYSksbz1tdChlKSxpPWUudHIscz1QdCgicm93IixvLHIpLGE9UHQoImNvbHVtbiIsbyxyKSxjPSJjb2x1bW4iPT09dD9zOiJyb3ciPT09dCYmYSxsPWM/MTowLHU9ImNvbHVtbiI9PXQ/bmV3IGgoMCxsLDEsby5tYXAuaGVpZ2h0KToicm93Ij09dD9uZXcgaChsLDAsby5tYXAud2lkdGgsMSk6byxkPSJjb2x1bW4iPT10P2E/ci5jZWxsOnIuaGVhZGVyX2NlbGw6InJvdyI9PXQ/cz9yLmNlbGw6ci5oZWFkZXJfY2VsbDpyLmNlbGw7by5tYXAuY2VsbHNJblJlY3QodSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9dCtvLnRhYmxlU3RhcnQsbj1pLmRvYy5ub2RlQXQoZSk7biYmaS5zZXROb2RlTWFya3VwKGUsZCxuLmF0dHJzKX0pKSxuKGkpfXJldHVybiEwfX12YXIgSXQ9enQoInJvdyIse3VzZURlcHJlY2F0ZWRMb2dpYzohMH0pLCR0PXp0KCJjb2x1bW4iLHt1c2VEZXByZWNhdGVkTG9naWM6ITB9KSxWdD16dCgiY2VsbCIse3VzZURlcHJlY2F0ZWRMb2dpYzohMH0pO2Z1bmN0aW9uIEJ0KHQsZSl7aWYoZTwwKXt2YXIgbj10Lm5vZGVCZWZvcmU7aWYobilyZXR1cm4gdC5wb3Mtbi5ub2RlU2l6ZTtmb3IodmFyIHI9dC5pbmRleCgtMSktMSxvPXQuYmVmb3JlKCk7cj49MDtyLS0pe3ZhciBpPXQubm9kZSgtMSkuY2hpbGQocik7aWYoaS5jaGlsZENvdW50KXJldHVybiBvLTEtaS5sYXN0Q2hpbGQubm9kZVNpemU7by09aS5ub2RlU2l6ZX19ZWxzZXtpZih0LmluZGV4KCk8dC5wYXJlbnQuY2hpbGRDb3VudC0xKXJldHVybiB0LnBvcyt0Lm5vZGVBZnRlci5ub2RlU2l6ZTtmb3IodmFyIHM9dC5ub2RlKC0xKSxhPXQuaW5kZXhBZnRlcigtMSksYz10LmFmdGVyKCk7YTxzLmNoaWxkQ291bnQ7YSsrKXt2YXIgbD1zLmNoaWxkKGEpO2lmKGwuY2hpbGRDb3VudClyZXR1cm4gYysxO2MrPWwubm9kZVNpemV9fX1mdW5jdGlvbiBGdCh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtpZighTihlKSlyZXR1cm4hMTt2YXIgcj1CdChUKGUpLHQpO2lmKG51bGwhPXIpe2lmKG4pe3ZhciBvPWUuZG9jLnJlc29sdmUocik7bihlLnRyLnNldFNlbGVjdGlvbihpWyJUZXh0U2VsZWN0aW9uIl0uYmV0d2VlbihvLEUobykpKS5zY3JvbGxJbnRvVmlldygpKX1yZXR1cm4hMH19fWZ1bmN0aW9uIGp0KHQsZSl7Zm9yKHZhciBuPXQuc2VsZWN0aW9uLiRhbmNob3Iscj1uLmRlcHRoO3I+MDtyLS0pe3ZhciBvPW4ubm9kZShyKTtpZigidGFibGUiPT1vLnR5cGUuc3BlYy50YWJsZVJvbGUpcmV0dXJuIGUmJmUodC50ci5kZWxldGUobi5iZWZvcmUociksbi5hZnRlcihyKSkuc2Nyb2xsSW50b1ZpZXcoKSksITB9cmV0dXJuITF9dmFyIEx0PWZ1bmN0aW9uKHQsZSl7dGhpcy5ub2RlPXQsdGhpcy5jZWxsTWluV2lkdGg9ZSx0aGlzLmRvbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLmRvbS5jbGFzc05hbWU9InRhYmxlV3JhcHBlciIsdGhpcy50YWJsZT10aGlzLmRvbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpKSx0aGlzLmNvbGdyb3VwPXRoaXMudGFibGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY29sZ3JvdXAiKSksSHQodCx0aGlzLmNvbGdyb3VwLHRoaXMudGFibGUsZSksdGhpcy5jb250ZW50RE9NPXRoaXMudGFibGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSl9O2Z1bmN0aW9uIEh0KHQsZSxuLHIsbyxpKXtmb3IodmFyIHM9MCxhPSEwLGM9ZS5maXJzdENoaWxkLGw9dC5maXJzdENoaWxkLHU9MCxkPTA7dTxsLmNoaWxkQ291bnQ7dSsrKWZvcih2YXIgcD1sLmNoaWxkKHUpLmF0dHJzLGY9cC5jb2xzcGFuLGg9cC5jb2x3aWR0aCxtPTA7bTxmO20rKyxkKyspe3ZhciB2PW89PWQ/aTpoJiZoW21dLGc9dj92KyJweCI6IiI7cys9dnx8cix2fHwoYT0hMSksYz8oYy5zdHlsZS53aWR0aCE9ZyYmKGMuc3R5bGUud2lkdGg9ZyksYz1jLm5leHRTaWJsaW5nKTplLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNvbCIpKS5zdHlsZS53aWR0aD1nfXdoaWxlKGMpe3ZhciB5PWMubmV4dFNpYmxpbmc7Yy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpLGM9eX1hPyhuLnN0eWxlLndpZHRoPXMrInB4IixuLnN0eWxlLm1pbldpZHRoPSIiKToobi5zdHlsZS53aWR0aD0iIixuLnN0eWxlLm1pbldpZHRoPXMrInB4Iil9THQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlPT10aGlzLm5vZGUudHlwZSYmKHRoaXMubm9kZT10LEh0KHQsdGhpcy5jb2xncm91cCx0aGlzLnRhYmxlLHRoaXMuY2VsbE1pbldpZHRoKSwhMCl9LEx0LnByb3RvdHlwZS5pZ25vcmVNdXRhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4iYXR0cmlidXRlcyI9PXQudHlwZSYmKHQudGFyZ2V0PT10aGlzLnRhYmxlfHx0aGlzLmNvbGdyb3VwLmNvbnRhaW5zKHQudGFyZ2V0KSl9O3ZhciBxdD1uZXcgaVsiUGx1Z2luS2V5Il0oInRhYmxlQ29sdW1uUmVzaXppbmciKTtmdW5jdGlvbiBXdCh0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIGU9dC5oYW5kbGVXaWR0aDt2b2lkIDA9PT1lJiYoZT01KTt2YXIgbj10LmNlbGxNaW5XaWR0aDt2b2lkIDA9PT1uJiYobj0yNSk7dmFyIHI9dC5WaWV3O3ZvaWQgMD09PXImJihyPUx0KTt2YXIgbz10Lmxhc3RDb2x1bW5SZXNpemFibGU7dm9pZCAwPT09byYmKG89ITApO3ZhciBzPW5ldyBpWyJQbHVnaW4iXSh7a2V5OnF0LHN0YXRlOntpbml0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc3BlYy5wcm9wcy5ub2RlVmlld3NbayhlLnNjaGVtYSkudGFibGUubmFtZV09ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHIodCxuLGUpfSxuZXcgS3QoLTEsITEpfSxhcHBseTpmdW5jdGlvbih0LGUpe3JldHVybiBlLmFwcGx5KHQpfX0scHJvcHM6e2F0dHJpYnV0ZXM6ZnVuY3Rpb24odCl7dmFyIGU9cXQuZ2V0U3RhdGUodCk7cmV0dXJuIGUuYWN0aXZlSGFuZGxlPi0xP3tjbGFzczoicmVzaXplLWN1cnNvciJ9Om51bGx9LGhhbmRsZURPTUV2ZW50czp7bW91c2Vtb3ZlOmZ1bmN0aW9uKHQscil7SnQodCxyLGUsbixvKX0sbW91c2VsZWF2ZTpmdW5jdGlvbih0KXtVdCh0KX0sbW91c2Vkb3duOmZ1bmN0aW9uKHQsZSl7R3QodCxlLG4pfX0sZGVjb3JhdGlvbnM6ZnVuY3Rpb24odCl7dmFyIGU9cXQuZ2V0U3RhdGUodCk7aWYoZS5hY3RpdmVIYW5kbGU+LTEpcmV0dXJuIG9lKHQsZS5hY3RpdmVIYW5kbGUpfSxub2RlVmlld3M6e319fSk7cmV0dXJuIHN9dmFyIEt0PWZ1bmN0aW9uKHQsZSl7dGhpcy5hY3RpdmVIYW5kbGU9dCx0aGlzLmRyYWdnaW5nPWV9O2Z1bmN0aW9uIEp0KHQsZSxuLHIsbyl7dmFyIGk9cXQuZ2V0U3RhdGUodC5zdGF0ZSk7aWYoIWkuZHJhZ2dpbmcpe3ZhciBzPVl0KGUudGFyZ2V0KSxhPS0xO2lmKHMpe3ZhciBjPXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbD1jLmxlZnQsdT1jLnJpZ2h0O2UuY2xpZW50WC1sPD1uP2E9WnQodCxlLCJsZWZ0Iik6dS1lLmNsaWVudFg8PW4mJihhPVp0KHQsZSwicmlnaHQiKSl9aWYoYSE9aS5hY3RpdmVIYW5kbGUpe2lmKCFvJiYtMSE9PWEpe3ZhciBkPXQuc3RhdGUuZG9jLnJlc29sdmUoYSkscD1kLm5vZGUoLTEpLGY9bS5nZXQocCksaD1kLnN0YXJ0KC0xKSx2PWYuY29sQ291bnQoZC5wb3MtaCkrZC5ub2RlQWZ0ZXIuYXR0cnMuY29sc3Bhbi0xO2lmKHY9PWYud2lkdGgtMSlyZXR1cm59dGUodCxhKX19fWZ1bmN0aW9uIFV0KHQpe3ZhciBlPXF0LmdldFN0YXRlKHQuc3RhdGUpO2UuYWN0aXZlSGFuZGxlPi0xJiYhZS5kcmFnZ2luZyYmdGUodCwtMSl9ZnVuY3Rpb24gR3QodCxlLG4pe3ZhciByPXF0LmdldFN0YXRlKHQuc3RhdGUpO2lmKC0xPT1yLmFjdGl2ZUhhbmRsZXx8ci5kcmFnZ2luZylyZXR1cm4hMTt2YXIgbz10LnN0YXRlLmRvYy5ub2RlQXQoci5hY3RpdmVIYW5kbGUpLGk9WHQodCxyLmFjdGl2ZUhhbmRsZSxvLmF0dHJzKTtmdW5jdGlvbiBzKGUpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZXVwIixzKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIixhKTt2YXIgcj1xdC5nZXRTdGF0ZSh0LnN0YXRlKTtyLmRyYWdnaW5nJiYoZWUodCxyLmFjdGl2ZUhhbmRsZSxRdChyLmRyYWdnaW5nLGUsbikpLHQuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRNZXRhKHF0LHtzZXREcmFnZ2luZzpudWxsfSkpKX1mdW5jdGlvbiBhKGUpe2lmKCFlLndoaWNoKXJldHVybiBzKGUpO3ZhciByPXF0LmdldFN0YXRlKHQuc3RhdGUpLG89UXQoci5kcmFnZ2luZyxlLG4pO25lKHQsci5hY3RpdmVIYW5kbGUsbyxuKX1yZXR1cm4gdC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldE1ldGEocXQse3NldERyYWdnaW5nOntzdGFydFg6ZS5jbGllbnRYLHN0YXJ0V2lkdGg6aX19KSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLHMpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLGEpLGUucHJldmVudERlZmF1bHQoKSwhMH1mdW5jdGlvbiBYdCh0LGUsbil7dmFyIHI9bi5jb2xzcGFuLG89bi5jb2x3aWR0aCxpPW8mJm9bby5sZW5ndGgtMV07aWYoaSlyZXR1cm4gaTt2YXIgcz10LmRvbUF0UG9zKGUpLGE9cy5ub2RlLmNoaWxkTm9kZXNbcy5vZmZzZXRdLGM9YS5vZmZzZXRXaWR0aCxsPXI7aWYobylmb3IodmFyIHU9MDt1PHI7dSsrKW9bdV0mJihjLT1vW3VdLGwtLSk7cmV0dXJuIGMvbH1mdW5jdGlvbiBZdCh0KXt3aGlsZSh0JiYiVEQiIT10Lm5vZGVOYW1lJiYiVEgiIT10Lm5vZGVOYW1lKXQ9dC5jbGFzc0xpc3QuY29udGFpbnMoIlByb3NlTWlycm9yIik/bnVsbDp0LnBhcmVudE5vZGU7cmV0dXJuIHR9ZnVuY3Rpb24gWnQodCxlLG4pe3ZhciByPXQucG9zQXRDb29yZHMoe2xlZnQ6ZS5jbGllbnRYLHRvcDplLmNsaWVudFl9KTtpZighcilyZXR1cm4tMTt2YXIgbz1yLnBvcyxpPU8odC5zdGF0ZS5kb2MucmVzb2x2ZShvKSk7aWYoIWkpcmV0dXJuLTE7aWYoInJpZ2h0Ij09bilyZXR1cm4gaS5wb3M7dmFyIHM9bS5nZXQoaS5ub2RlKC0xKSksYT1pLnN0YXJ0KC0xKSxjPXMubWFwLmluZGV4T2YoaS5wb3MtYSk7cmV0dXJuIGMlcy53aWR0aD09MD8tMTphK3MubWFwW2MtMV19ZnVuY3Rpb24gUXQodCxlLG4pe3ZhciByPWUuY2xpZW50WC10LnN0YXJ0WDtyZXR1cm4gTWF0aC5tYXgobix0LnN0YXJ0V2lkdGgrcil9ZnVuY3Rpb24gdGUodCxlKXt0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0TWV0YShxdCx7c2V0SGFuZGxlOmV9KSl9ZnVuY3Rpb24gZWUodCxlLG4pe2Zvcih2YXIgcj10LnN0YXRlLmRvYy5yZXNvbHZlKGUpLG89ci5ub2RlKC0xKSxpPW0uZ2V0KG8pLHM9ci5zdGFydCgtMSksYT1pLmNvbENvdW50KHIucG9zLXMpK3Iubm9kZUFmdGVyLmF0dHJzLmNvbHNwYW4tMSxjPXQuc3RhdGUudHIsbD0wO2w8aS5oZWlnaHQ7bCsrKXt2YXIgdT1sKmkud2lkdGgrYTtpZighbHx8aS5tYXBbdV0hPWkubWFwW3UtaS53aWR0aF0pe3ZhciBkPWkubWFwW3VdLHA9by5ub2RlQXQoZCksZj1wLmF0dHJzLGg9MT09Zi5jb2xzcGFuPzA6YS1pLmNvbENvdW50KGQpO2lmKCFmLmNvbHdpZHRofHxmLmNvbHdpZHRoW2hdIT1uKXt2YXIgdj1mLmNvbHdpZHRoP2YuY29sd2lkdGguc2xpY2UoKTpyZShmLmNvbHNwYW4pO3ZbaF09bixjLnNldE5vZGVNYXJrdXAocytkLG51bGwsSShmLCJjb2x3aWR0aCIsdikpfX19Yy5kb2NDaGFuZ2VkJiZ0LmRpc3BhdGNoKGMpfWZ1bmN0aW9uIG5lKHQsZSxuLHIpe3ZhciBvPXQuc3RhdGUuZG9jLnJlc29sdmUoZSksaT1vLm5vZGUoLTEpLHM9by5zdGFydCgtMSksYT1tLmdldChpKS5jb2xDb3VudChvLnBvcy1zKStvLm5vZGVBZnRlci5hdHRycy5jb2xzcGFuLTEsYz10LmRvbUF0UG9zKG8uc3RhcnQoLTEpKS5ub2RlO3doaWxlKCJUQUJMRSIhPWMubm9kZU5hbWUpYz1jLnBhcmVudE5vZGU7SHQoaSxjLmZpcnN0Q2hpbGQsYyxyLGEsbil9ZnVuY3Rpb24gcmUodCl7Zm9yKHZhciBlPVtdLG49MDtuPHQ7bisrKWUucHVzaCgwKTtyZXR1cm4gZX1mdW5jdGlvbiBvZSh0LGUpe2Zvcih2YXIgbj1bXSxyPXQuZG9jLnJlc29sdmUoZSksbz1yLm5vZGUoLTEpLGk9bS5nZXQobykscz1yLnN0YXJ0KC0xKSxhPWkuY29sQ291bnQoci5wb3Mtcykrci5ub2RlQWZ0ZXIuYXR0cnMuY29sc3BhbixsPTA7bDxpLmhlaWdodDtsKyspe3ZhciB1PWErbCppLndpZHRoLTE7aWYoKGE9PWkud2lkdGh8fGkubWFwW3VdIT1pLm1hcFt1KzFdKSYmKDA9PWx8fGkubWFwW3UtMV0hPWkubWFwW3UtMS1pLndpZHRoXSkpe3ZhciBkPWkubWFwW3VdLHA9cytkK28ubm9kZUF0KGQpLm5vZGVTaXplLTEsZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtmLmNsYXNzTmFtZT0iY29sdW1uLXJlc2l6ZS1oYW5kbGUiLG4ucHVzaChjWyJhIl0ud2lkZ2V0KHAsZikpfX1yZXR1cm4gY1siYiJdLmNyZWF0ZSh0LmRvYyxuKX1mdW5jdGlvbiBpZSh0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIGU9dC5hbGxvd1RhYmxlTm9kZVNlbGVjdGlvbjtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITEpLG5ldyBpWyJQbHVnaW4iXSh7a2V5OkMsc3RhdGU6e2luaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sYXBwbHk6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldE1ldGEoQyk7aWYobnVsbCE9bilyZXR1cm4tMT09bj9udWxsOm47aWYobnVsbD09ZXx8IXQuZG9jQ2hhbmdlZClyZXR1cm4gZTt2YXIgcj10Lm1hcHBpbmcubWFwUmVzdWx0KGUpLG89ci5kZWxldGVkLGk9ci5wb3M7cmV0dXJuIG8/bnVsbDppfX0scHJvcHM6e2RlY29yYXRpb25zOkwsaGFuZGxlRE9NRXZlbnRzOnttb3VzZWRvd246YXR9LGNyZWF0ZVNlbGVjdGlvbkJldHdlZW46ZnVuY3Rpb24odCl7aWYobnVsbCE9Qy5nZXRTdGF0ZSh0LnN0YXRlKSlyZXR1cm4gdC5zdGF0ZS5zZWxlY3Rpb259LGhhbmRsZVRyaXBsZUNsaWNrOml0LGhhbmRsZUtleURvd246dHQsaGFuZGxlUGFzdGU6c3R9LGFwcGVuZFRyYW5zYWN0aW9uOmZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gVyhyLGZ0KHIsbiksZSl9fSl9S3QucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LmdldE1ldGEocXQpO2lmKG4mJm51bGwhPW4uc2V0SGFuZGxlKXJldHVybiBuZXcgS3Qobi5zZXRIYW5kbGUsbnVsbCk7aWYobiYmdm9pZCAwIT09bi5zZXREcmFnZ2luZylyZXR1cm4gbmV3IEt0KGUuYWN0aXZlSGFuZGxlLG4uc2V0RHJhZ2dpbmcpO2lmKGUuYWN0aXZlSGFuZGxlPi0xJiZ0LmRvY0NoYW5nZWQpe3ZhciByPXQubWFwcGluZy5tYXAoZS5hY3RpdmVIYW5kbGUsLTEpO0QodC5kb2MucmVzb2x2ZShyKSl8fChyPW51bGwpLGU9bmV3IEt0KHIsZS5kcmFnZ2luZyl9cmV0dXJuIGV9fSw1NjkyOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJjNDMwIiksbz1uKCJjNmNkIik7KHQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBvW3RdfHwob1t0XT12b2lkIDAhPT1lP2U6e30pfSkoInZlcnNpb25zIixbXSkucHVzaCh7dmVyc2lvbjoiMy43LjAiLG1vZGU6cj8icHVyZSI6Imdsb2JhbCIsY29weXJpZ2h0OiLCqSAyMDIwIERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpIn0pfSwiNTZlZiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImQwNjYiKSxvPW4oIjI0MWMiKSxpPW4oIjc0MTgiKSxzPW4oIjgyNWEiKTt0LmV4cG9ydHM9cigiUmVmbGVjdCIsIm93bktleXMiKXx8ZnVuY3Rpb24odCl7dmFyIGU9by5mKHModCkpLG49aS5mO3JldHVybiBuP2UuY29uY2F0KG4odCkpOmV9fSwiNTc2YSI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFNufSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gT259KSk7dmFyIHI9bigiNTMxMyIpLG89bigiMzA0YSIpLGk9bigiMGFjMCIpLHM9e307aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQpe3ZhciBhPS9FZGdlXC8oXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KSxjPS9NU0lFIFxkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGw9L1RyaWRlbnRcLyg/Ols3LTldfFxkezIsfSlcLi4qcnY6KFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7cy5tYWM9L01hYy8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO3ZhciB1PXMuaWU9ISEoY3x8bHx8YSk7cy5pZV92ZXJzaW9uPWM/ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw2Omw/K2xbMV06YT8rYVsxXTpudWxsLHMuZ2Vja289IXUmJi9nZWNrb1wvKFxkKykvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHMuZ2Vja29fdmVyc2lvbj1zLmdlY2tvJiYrKC9GaXJlZm94XC8oXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KXx8WzAsMF0pWzFdO3ZhciBkPSF1JiYvQ2hyb21lXC8oXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KTtzLmNocm9tZT0hIWQscy5jaHJvbWVfdmVyc2lvbj1kJiYrZFsxXSxzLmlvcz0hdSYmL0FwcGxlV2ViS2l0Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpJiYvTW9iaWxlXC9cdysvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkscy5hbmRyb2lkPS9BbmRyb2lkIFxkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHMud2Via2l0PSJ3ZWJraXRGb250U21vb3RoaW5nImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSxzLnNhZmFyaT0vQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2aWdhdG9yLnZlbmRvcikscy53ZWJraXRfdmVyc2lvbj1zLndlYmtpdCYmKygvXGJBcHBsZVdlYktpdFwvKFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCl8fFswLDBdKVsxXX12YXIgcD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDs7ZSsrKWlmKHQ9dC5wcmV2aW91c1NpYmxpbmcsIXQpcmV0dXJuIGV9LGY9ZnVuY3Rpb24odCl7dmFyIGU9dC5wYXJlbnROb2RlO3JldHVybiBlJiYxMT09ZS5ub2RlVHlwZT9lLmhvc3Q6ZX0saD1udWxsLG09ZnVuY3Rpb24odCxlLG4pe3ZhciByPWh8fChoPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpO3JldHVybiByLnNldEVuZCh0LG51bGw9PW4/dC5ub2RlVmFsdWUubGVuZ3RoOm4pLHIuc2V0U3RhcnQodCxlfHwwKSxyfSx2PWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBuJiYoeSh0LGUsbixyLC0xKXx8eSh0LGUsbixyLDEpKX0sZz0vXihpbWd8YnJ8aW5wdXR8dGV4dGFyZWF8aHIpJC9pO2Z1bmN0aW9uIHkodCxlLG4scixvKXtmb3IoOzspe2lmKHQ9PW4mJmU9PXIpcmV0dXJuITA7aWYoZT09KG88MD8wOmIodCkpKXt2YXIgaT10LnBhcmVudE5vZGU7aWYoMSE9aS5ub2RlVHlwZXx8Uyh0KXx8Zy50ZXN0KHQubm9kZU5hbWUpfHwiZmFsc2UiPT10LmNvbnRlbnRFZGl0YWJsZSlyZXR1cm4hMTtlPXAodCkrKG88MD8wOjEpLHQ9aX1lbHNle2lmKDEhPXQubm9kZVR5cGUpcmV0dXJuITE7aWYodD10LmNoaWxkTm9kZXNbZSsobzwwPy0xOjApXSwiZmFsc2UiPT10LmNvbnRlbnRFZGl0YWJsZSlyZXR1cm4hMTtlPW88MD9iKHQpOjB9fX1mdW5jdGlvbiBiKHQpe3JldHVybiAzPT10Lm5vZGVUeXBlP3Qubm9kZVZhbHVlLmxlbmd0aDp0LmNoaWxkTm9kZXMubGVuZ3RofWZ1bmN0aW9uIHcodCxlLG4pe2Zvcih2YXIgcj0wPT1lLG89ZT09Yih0KTtyfHxvOyl7aWYodD09bilyZXR1cm4hMDt2YXIgaT1wKHQpO2lmKHQ9dC5wYXJlbnROb2RlLCF0KXJldHVybiExO3I9ciYmMD09aSxvPW8mJmk9PWIodCl9fWZ1bmN0aW9uIFModCl7Zm9yKHZhciBlLG49dDtuO249bi5wYXJlbnROb2RlKWlmKGU9bi5wbVZpZXdEZXNjKWJyZWFrO3JldHVybiBlJiZlLm5vZGUmJmUubm9kZS5pc0Jsb2NrJiYoZS5kb209PXR8fGUuY29udGVudERPTT09dCl9dmFyIHg9ZnVuY3Rpb24odCl7dmFyIGU9dC5pc0NvbGxhcHNlZDtyZXR1cm4gZSYmcy5jaHJvbWUmJnQucmFuZ2VDb3VudCYmIXQuZ2V0UmFuZ2VBdCgwKS5jb2xsYXBzZWQmJihlPSExKSxlfTtmdW5jdGlvbiBrKHQsZSl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50Iik7cmV0dXJuIG4uaW5pdEV2ZW50KCJrZXlkb3duIiwhMCwhMCksbi5rZXlDb2RlPXQsbi5rZXk9bi5jb2RlPWUsbn1mdW5jdGlvbiBDKHQpe3JldHVybntsZWZ0OjAscmlnaHQ6dC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsdG9wOjAsYm90dG9tOnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodH19ZnVuY3Rpb24gTyh0LGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdD90OnRbZV19ZnVuY3Rpb24gTSh0KXt2YXIgZT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybntsZWZ0OmUubGVmdCxyaWdodDplLmxlZnQrdC5jbGllbnRXaWR0aCx0b3A6ZS50b3AsYm90dG9tOmUudG9wK3QuY2xpZW50SGVpZ2h0fX1mdW5jdGlvbiBOKHQsZSxuKXtmb3IodmFyIHI9dC5zb21lUHJvcCgic2Nyb2xsVGhyZXNob2xkIil8fDAsbz10LnNvbWVQcm9wKCJzY3JvbGxNYXJnaW4iKXx8NSxpPXQuZG9tLm93bmVyRG9jdW1lbnQscz1ufHx0LmRvbTs7cz1mKHMpKXtpZighcylicmVhaztpZigxPT1zLm5vZGVUeXBlKXt2YXIgYT1zPT1pLmJvZHl8fDEhPXMubm9kZVR5cGUsYz1hP0MoaSk6TShzKSxsPTAsdT0wO2lmKGUudG9wPGMudG9wK08ociwidG9wIik/dT0tKGMudG9wLWUudG9wK08obywidG9wIikpOmUuYm90dG9tPmMuYm90dG9tLU8ociwiYm90dG9tIikmJih1PWUuYm90dG9tLWMuYm90dG9tK08obywiYm90dG9tIikpLGUubGVmdDxjLmxlZnQrTyhyLCJsZWZ0Iik/bD0tKGMubGVmdC1lLmxlZnQrTyhvLCJsZWZ0IikpOmUucmlnaHQ+Yy5yaWdodC1PKHIsInJpZ2h0IikmJihsPWUucmlnaHQtYy5yaWdodCtPKG8sInJpZ2h0IikpLGx8fHUpaWYoYSlpLmRlZmF1bHRWaWV3LnNjcm9sbEJ5KGwsdSk7ZWxzZXt2YXIgZD1zLnNjcm9sbExlZnQscD1zLnNjcm9sbFRvcDt1JiYocy5zY3JvbGxUb3ArPXUpLGwmJihzLnNjcm9sbExlZnQrPWwpO3ZhciBoPXMuc2Nyb2xsTGVmdC1kLG09cy5zY3JvbGxUb3AtcDtlPXtsZWZ0OmUubGVmdC1oLHRvcDplLnRvcC1tLHJpZ2h0OmUucmlnaHQtaCxib3R0b206ZS5ib3R0b20tbX19aWYoYSlicmVha319fWZ1bmN0aW9uIFQodCl7Zm9yKHZhciBlLG4scj10LmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPU1hdGgubWF4KDAsci50b3ApLGk9KHIubGVmdCtyLnJpZ2h0KS8yLHM9bysxO3M8TWF0aC5taW4oaW5uZXJIZWlnaHQsci5ib3R0b20pO3MrPTUpe3ZhciBhPXQucm9vdC5lbGVtZW50RnJvbVBvaW50KGkscyk7aWYoYSE9dC5kb20mJnQuZG9tLmNvbnRhaW5zKGEpKXt2YXIgYz1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKGMudG9wPj1vLTIwKXtlPWEsbj1jLnRvcDticmVha319fXJldHVybntyZWZET006ZSxyZWZUb3A6bixzdGFjazpBKHQuZG9tKX19ZnVuY3Rpb24gQSh0KXtmb3IodmFyIGU9W10sbj10Lm93bmVyRG9jdW1lbnQ7dDt0PWYodCkpaWYoZS5wdXNoKHtkb206dCx0b3A6dC5zY3JvbGxUb3AsbGVmdDp0LnNjcm9sbExlZnR9KSx0PT1uKWJyZWFrO3JldHVybiBlfWZ1bmN0aW9uIEQodCl7dmFyIGU9dC5yZWZET00sbj10LnJlZlRvcCxyPXQuc3RhY2ssbz1lP2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wOjA7RShyLDA9PW8/MDpvLW4pfWZ1bmN0aW9uIEUodCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXSxvPXIuZG9tLGk9ci50b3Ascz1yLmxlZnQ7by5zY3JvbGxUb3AhPWkrZSYmKG8uc2Nyb2xsVG9wPWkrZSksby5zY3JvbGxMZWZ0IT1zJiYoby5zY3JvbGxMZWZ0PXMpfX12YXIgUj1udWxsO2Z1bmN0aW9uIF8odCl7aWYodC5zZXRBY3RpdmUpcmV0dXJuIHQuc2V0QWN0aXZlKCk7aWYoUilyZXR1cm4gdC5mb2N1cyhSKTt2YXIgZT1BKHQpO3QuZm9jdXMobnVsbD09Uj97Z2V0IHByZXZlbnRTY3JvbGwoKXtyZXR1cm4gUj17cHJldmVudFNjcm9sbDohMH0sITB9fTp2b2lkIDApLFJ8fChSPSExLEUoZSwwKSl9ZnVuY3Rpb24gUCh0LGUpe2Zvcih2YXIgbixyLG89MmU4LGk9MCxzPWUudG9wLGE9ZS50b3AsYz10LmZpcnN0Q2hpbGQsbD0wO2M7Yz1jLm5leHRTaWJsaW5nLGwrKyl7dmFyIHU9dm9pZCAwO2lmKDE9PWMubm9kZVR5cGUpdT1jLmdldENsaWVudFJlY3RzKCk7ZWxzZXtpZigzIT1jLm5vZGVUeXBlKWNvbnRpbnVlO3U9bShjKS5nZXRDbGllbnRSZWN0cygpfWZvcih2YXIgZD0wO2Q8dS5sZW5ndGg7ZCsrKXt2YXIgcD11W2RdO2lmKHAudG9wPD1zJiZwLmJvdHRvbT49YSl7cz1NYXRoLm1heChwLmJvdHRvbSxzKSxhPU1hdGgubWluKHAudG9wLGEpO3ZhciBmPXAubGVmdD5lLmxlZnQ/cC5sZWZ0LWUubGVmdDpwLnJpZ2h0PGUubGVmdD9lLmxlZnQtcC5yaWdodDowO2lmKGY8byl7bj1jLG89ZixyPWYmJjM9PW4ubm9kZVR5cGU/e2xlZnQ6cC5yaWdodDxlLmxlZnQ/cC5yaWdodDpwLmxlZnQsdG9wOmUudG9wfTplLDE9PWMubm9kZVR5cGUmJmYmJihpPWwrKGUubGVmdD49KHAubGVmdCtwLnJpZ2h0KS8yPzE6MCkpO2NvbnRpbnVlfX0hbiYmKGUubGVmdD49cC5yaWdodCYmZS50b3A+PXAudG9wfHxlLmxlZnQ+PXAubGVmdCYmZS50b3A+PXAuYm90dG9tKSYmKGk9bCsxKX19cmV0dXJuIG4mJjM9PW4ubm9kZVR5cGU/eihuLHIpOiFufHxvJiYxPT1uLm5vZGVUeXBlP3tub2RlOnQsb2Zmc2V0Oml9OlAobixyKX1mdW5jdGlvbiB6KHQsZSl7Zm9yKHZhciBuPXQubm9kZVZhbHVlLmxlbmd0aCxyPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCksbz0wO288bjtvKyspe3Iuc2V0RW5kKHQsbysxKSxyLnNldFN0YXJ0KHQsbyk7dmFyIGk9TChyLDEpO2lmKGkudG9wIT1pLmJvdHRvbSYmSShlLGkpKXJldHVybntub2RlOnQsb2Zmc2V0Om8rKGUubGVmdD49KGkubGVmdCtpLnJpZ2h0KS8yPzE6MCl9fXJldHVybntub2RlOnQsb2Zmc2V0OjB9fWZ1bmN0aW9uIEkodCxlKXtyZXR1cm4gdC5sZWZ0Pj1lLmxlZnQtMSYmdC5sZWZ0PD1lLnJpZ2h0KzEmJnQudG9wPj1lLnRvcC0xJiZ0LnRvcDw9ZS5ib3R0b20rMX1mdW5jdGlvbiAkKHQsZSl7dmFyIG49dC5wYXJlbnROb2RlO3JldHVybiBuJiYvXmxpJC9pLnRlc3Qobi5ub2RlTmFtZSkmJmUubGVmdDx0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ/bjp0fWZ1bmN0aW9uIFYodCxlLG4pe3ZhciByPVAoZSxuKSxvPXIubm9kZSxpPXIub2Zmc2V0LHM9LTE7aWYoMT09by5ub2RlVHlwZSYmIW8uZmlyc3RDaGlsZCl7dmFyIGE9by5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtzPWEubGVmdCE9YS5yaWdodCYmbi5sZWZ0PihhLmxlZnQrYS5yaWdodCkvMj8xOi0xfXJldHVybiB0LmRvY1ZpZXcucG9zRnJvbURPTShvLGkscyl9ZnVuY3Rpb24gQih0LGUsbixyKXtmb3IodmFyIG89LTEsaT1lOzspe2lmKGk9PXQuZG9tKWJyZWFrO3ZhciBzPXQuZG9jVmlldy5uZWFyZXN0RGVzYyhpLCEwKTtpZighcylyZXR1cm4gbnVsbDtpZihzLm5vZGUuaXNCbG9jayYmcy5wYXJlbnQpe3ZhciBhPXMuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKGEubGVmdD5yLmxlZnR8fGEudG9wPnIudG9wKW89cy5wb3NCZWZvcmU7ZWxzZXtpZighKGEucmlnaHQ8ci5sZWZ0fHxhLmJvdHRvbTxyLnRvcCkpYnJlYWs7bz1zLnBvc0FmdGVyfX1pPXMuZG9tLnBhcmVudE5vZGV9cmV0dXJuIG8+LTE/bzp0LmRvY1ZpZXcucG9zRnJvbURPTShlLG4pfWZ1bmN0aW9uIEYodCxlLG4pe3ZhciByPXQuY2hpbGROb2Rlcy5sZW5ndGg7aWYociYmbi50b3A8bi5ib3R0b20pZm9yKHZhciBvPU1hdGgubWF4KDAsTWF0aC5taW4oci0xLE1hdGguZmxvb3IociooZS50b3Atbi50b3ApLyhuLmJvdHRvbS1uLnRvcCkpLTIpKSxpPW87Oyl7dmFyIHM9dC5jaGlsZE5vZGVzW2ldO2lmKDE9PXMubm9kZVR5cGUpZm9yKHZhciBhPXMuZ2V0Q2xpZW50UmVjdHMoKSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBsPWFbY107aWYoSShlLGwpKXJldHVybiBGKHMsZSxsKX1pZigoaT0oaSsxKSVyKT09bylicmVha31yZXR1cm4gdH1mdW5jdGlvbiBqKHQsZSl7dmFyIG4scixvLGksYT10LnJvb3Q7aWYoYS5jYXJldFBvc2l0aW9uRnJvbVBvaW50KXRyeXt2YXIgYz1hLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQoZS5sZWZ0LGUudG9wKTtjJiYobj1jLG89bi5vZmZzZXROb2RlLGk9bi5vZmZzZXQpfWNhdGNoKHYpe31pZighbyYmYS5jYXJldFJhbmdlRnJvbVBvaW50KXt2YXIgbD1hLmNhcmV0UmFuZ2VGcm9tUG9pbnQoZS5sZWZ0LGUudG9wKTtsJiYocj1sLG89ci5zdGFydENvbnRhaW5lcixpPXIuc3RhcnRPZmZzZXQpfXZhciB1LGQ9YS5lbGVtZW50RnJvbVBvaW50KGUubGVmdCxlLnRvcCsxKTtpZighZHx8IXQuZG9tLmNvbnRhaW5zKDEhPWQubm9kZVR5cGU/ZC5wYXJlbnROb2RlOmQpKXt2YXIgcD10LmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZighSShlLHApKXJldHVybiBudWxsO2lmKGQ9Rih0LmRvbSxlLHApLCFkKXJldHVybiBudWxsfWlmKHMuc2FmYXJpJiZkLmRyYWdnYWJsZSYmKG89aT1udWxsKSxkPSQoZCxlKSxvKXtpZihzLmdlY2tvJiYxPT1vLm5vZGVUeXBlJiYoaT1NYXRoLm1pbihpLG8uY2hpbGROb2Rlcy5sZW5ndGgpLGk8by5jaGlsZE5vZGVzLmxlbmd0aCkpe3ZhciBmLGg9by5jaGlsZE5vZGVzW2ldOyJJTUciPT1oLm5vZGVOYW1lJiYoZj1oLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKS5yaWdodDw9ZS5sZWZ0JiZmLmJvdHRvbT5lLnRvcCYmaSsrfW89PXQuZG9tJiZpPT1vLmNoaWxkTm9kZXMubGVuZ3RoLTEmJjE9PW8ubGFzdENoaWxkLm5vZGVUeXBlJiZlLnRvcD5vLmxhc3RDaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20/dT10LnN0YXRlLmRvYy5jb250ZW50LnNpemU6MCE9aSYmMT09by5ub2RlVHlwZSYmIkJSIj09by5jaGlsZE5vZGVzW2ktMV0ubm9kZU5hbWV8fCh1PUIodCxvLGksZSkpfW51bGw9PXUmJih1PVYodCxkLGUpKTt2YXIgbT10LmRvY1ZpZXcubmVhcmVzdERlc2MoZCwhMCk7cmV0dXJue3Bvczp1LGluc2lkZTptP20ucG9zQXRTdGFydC1tLmJvcmRlcjotMX19ZnVuY3Rpb24gTCh0LGUpe3ZhciBuPXQuZ2V0Q2xpZW50UmVjdHMoKTtyZXR1cm4gbi5sZW5ndGg/bltlPDA/MDpuLmxlbmd0aC0xXTp0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfXZhciBIPS9bXHUwNTkwLVx1MDVmNFx1MDYwMC1cdTA2ZmZcdTA3MDAtXHUwOGFjXS87ZnVuY3Rpb24gcSh0LGUsbil7dmFyIHI9dC5kb2NWaWV3LmRvbUZyb21Qb3MoZSksbz1yLm5vZGUsaT1yLm9mZnNldCxhPXQuc3RhdGUuZG9jLnJlc29sdmUoZSksYz1hLnBhcmVudC5pbmxpbmVDb250ZW50LGw9cy53ZWJraXR8fHMuZ2Vja287aWYoMz09by5ub2RlVHlwZSYmbCYmSC50ZXN0KG8ubm9kZVZhbHVlKSl7dmFyIHU9TChtKG8saSxpKSxuKTtpZihzLmdlY2tvJiZpJiYvXHMvLnRlc3Qoby5ub2RlVmFsdWVbaS0xXSkmJmk8by5ub2RlVmFsdWUubGVuZ3RoKXt2YXIgZD1MKG0obyxpLTEsaS0xKSwtMSk7aWYoZC50b3A9PXUudG9wKXt2YXIgZj1MKG0obyxpLGkrMSksLTEpO2lmKGYudG9wIT11LnRvcClyZXR1cm4gVyhmLGYubGVmdDxkLmxlZnQpfX1yZXR1cm4gdX1pZihjKXt2YXIgaD1hLmRlcHRoP3QuZG9jVmlldy5kb21BZnRlclBvcyhhLmJlZm9yZSgpKTp0LmRvbTt3aGlsZShuPDAmJiFpJiZvIT1oKWk9cChvKSxvPW8ucGFyZW50Tm9kZTt3aGlsZShuPj0wJiZpPT1iKG8pJiZvIT1oKWk9cChvKSsxLG89by5wYXJlbnROb2RlfWlmKDM9PW8ubm9kZVR5cGUpcmV0dXJuIG48MD9XKEwobShvLGktMSxpKSwxKSwhMSk6VyhMKG0obyxpLGkrMSksLTEpLCEwKTtpZighYyl7aWYoaSYmKG48MHx8aT09YihvKSkpe3ZhciB2PW8uY2hpbGROb2Rlc1tpLTFdO2lmKDE9PXYubm9kZVR5cGUpcmV0dXJuIEsodi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwhMSl9aWYoaTxiKG8pKXt2YXIgZz1vLmNoaWxkTm9kZXNbaV07aWYoMT09Zy5ub2RlVHlwZSlyZXR1cm4gSyhnLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCEwKX1yZXR1cm4gSyhvLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG4+PTApfWlmKGkmJihuPDB8fGk9PWIobykpKXt2YXIgeT1vLmNoaWxkTm9kZXNbaS0xXSx3PTM9PXkubm9kZVR5cGU/bSh5LGIoeSktKGw/MDoxKSk6MT09eS5ub2RlVHlwZSYmIkJSIiE9eS5ub2RlTmFtZT95Om51bGw7aWYodylyZXR1cm4gVyhMKHcsMSksITEpfWlmKGk8YihvKSl7dmFyIFM9by5jaGlsZE5vZGVzW2ldLHg9Mz09Uy5ub2RlVHlwZT9tKFMsMCxsPzA6MSk6MT09Uy5ub2RlVHlwZT9TOm51bGw7aWYoeClyZXR1cm4gVyhMKHgsLTEpLCEwKX1yZXR1cm4gVyhMKDM9PW8ubm9kZVR5cGU/bShvKTpvLC1uKSxuPj0wKX1mdW5jdGlvbiBXKHQsZSl7aWYoMD09dC53aWR0aClyZXR1cm4gdDt2YXIgbj1lP3QubGVmdDp0LnJpZ2h0O3JldHVybnt0b3A6dC50b3AsYm90dG9tOnQuYm90dG9tLGxlZnQ6bixyaWdodDpufX1mdW5jdGlvbiBLKHQsZSl7aWYoMD09dC5oZWlnaHQpcmV0dXJuIHQ7dmFyIG49ZT90LnRvcDp0LmJvdHRvbTtyZXR1cm57dG9wOm4sYm90dG9tOm4sbGVmdDp0LmxlZnQscmlnaHQ6dC5yaWdodH19ZnVuY3Rpb24gSih0LGUsbil7dmFyIHI9dC5zdGF0ZSxvPXQucm9vdC5hY3RpdmVFbGVtZW50O3IhPWUmJnQudXBkYXRlU3RhdGUoZSksbyE9dC5kb20mJnQuZm9jdXMoKTt0cnl7cmV0dXJuIG4oKX1maW5hbGx5e3IhPWUmJnQudXBkYXRlU3RhdGUociksbyE9dC5kb20mJm8mJm8uZm9jdXMoKX19ZnVuY3Rpb24gVSh0LGUsbil7dmFyIHI9ZS5zZWxlY3Rpb24sbz0idXAiPT1uP3IuJGFuY2hvci5taW4oci4kaGVhZCk6ci4kYW5jaG9yLm1heChyLiRoZWFkKTtyZXR1cm4gSih0LGUsKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPXQuZG9jVmlldy5kb21Gcm9tUG9zKG8ucG9zKSxyPWUubm9kZTs7KXt2YXIgaT10LmRvY1ZpZXcubmVhcmVzdERlc2MociwhMCk7aWYoIWkpYnJlYWs7aWYoaS5ub2RlLmlzQmxvY2spe3I9aS5kb207YnJlYWt9cj1pLmRvbS5wYXJlbnROb2RlfWZvcih2YXIgcz1xKHQsby5wb3MsMSksYT1yLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpe3ZhciBjPXZvaWQgMDtpZigxPT1hLm5vZGVUeXBlKWM9YS5nZXRDbGllbnRSZWN0cygpO2Vsc2V7aWYoMyE9YS5ub2RlVHlwZSljb250aW51ZTtjPW0oYSwwLGEubm9kZVZhbHVlLmxlbmd0aCkuZ2V0Q2xpZW50UmVjdHMoKX1mb3IodmFyIGw9MDtsPGMubGVuZ3RoO2wrKyl7dmFyIHU9Y1tsXTtpZih1LmJvdHRvbT51LnRvcCYmKCJ1cCI9PW4/dS5ib3R0b208cy50b3ArMTp1LnRvcD5zLmJvdHRvbS0xKSlyZXR1cm4hMX19cmV0dXJuITB9KSl9dmFyIEc9L1tcdTA1OTAtXHUwOGFjXS87ZnVuY3Rpb24gWCh0LGUsbil7dmFyIHI9ZS5zZWxlY3Rpb24sbz1yLiRoZWFkO2lmKCFvLnBhcmVudC5pc1RleHRibG9jaylyZXR1cm4hMTt2YXIgaT1vLnBhcmVudE9mZnNldCxzPSFpLGE9aT09by5wYXJlbnQuY29udGVudC5zaXplLGM9Z2V0U2VsZWN0aW9uKCk7cmV0dXJuIEcudGVzdChvLnBhcmVudC50ZXh0Q29udGVudCkmJmMubW9kaWZ5P0oodCxlLChmdW5jdGlvbigpe3ZhciBlPWMuZ2V0UmFuZ2VBdCgwKSxyPWMuZm9jdXNOb2RlLGk9Yy5mb2N1c09mZnNldCxzPWMuY2FyZXRCaWRpTGV2ZWw7Yy5tb2RpZnkoIm1vdmUiLG4sImNoYXJhY3RlciIpO3ZhciBhPW8uZGVwdGg/dC5kb2NWaWV3LmRvbUFmdGVyUG9zKG8uYmVmb3JlKCkpOnQuZG9tLGw9IWEuY29udGFpbnMoMT09Yy5mb2N1c05vZGUubm9kZVR5cGU/Yy5mb2N1c05vZGU6Yy5mb2N1c05vZGUucGFyZW50Tm9kZSl8fHI9PWMuZm9jdXNOb2RlJiZpPT1jLmZvY3VzT2Zmc2V0O3JldHVybiBjLnJlbW92ZUFsbFJhbmdlcygpLGMuYWRkUmFuZ2UoZSksbnVsbCE9cyYmKGMuY2FyZXRCaWRpTGV2ZWw9cyksbH0pKToibGVmdCI9PW58fCJiYWNrd2FyZCI9PW4/czphfXZhciBZPW51bGwsWj1udWxsLFE9ITE7ZnVuY3Rpb24gdHQodCxlLG4pe3JldHVybiBZPT1lJiZaPT1uP1E6KFk9ZSxaPW4sUT0idXAiPT1ufHwiZG93biI9PW4/VSh0LGUsbik6WCh0LGUsbikpfXZhciBldD0wLG50PTEscnQ9MixvdD0zLGl0PWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMucGFyZW50PXQsdGhpcy5jaGlsZHJlbj1lLHRoaXMuZG9tPW4sbi5wbVZpZXdEZXNjPXRoaXMsdGhpcy5jb250ZW50RE9NPXIsdGhpcy5kaXJ0eT1ldH0sc3Q9e2JlZm9yZVBvc2l0aW9uOntjb25maWd1cmFibGU6ITB9LHNpemU6e2NvbmZpZ3VyYWJsZTohMH0sYm9yZGVyOntjb25maWd1cmFibGU6ITB9LHBvc0JlZm9yZTp7Y29uZmlndXJhYmxlOiEwfSxwb3NBdFN0YXJ0Ontjb25maWd1cmFibGU6ITB9LHBvc0FmdGVyOntjb25maWd1cmFibGU6ITB9LHBvc0F0RW5kOntjb25maWd1cmFibGU6ITB9LGNvbnRlbnRMb3N0Ontjb25maWd1cmFibGU6ITB9fTtpdC5wcm90b3R5cGUubWF0Y2hlc1dpZGdldD1mdW5jdGlvbigpe3JldHVybiExfSxpdC5wcm90b3R5cGUubWF0Y2hlc01hcms9ZnVuY3Rpb24oKXtyZXR1cm4hMX0saXQucHJvdG90eXBlLm1hdGNoZXNOb2RlPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGl0LnByb3RvdHlwZS5tYXRjaGVzSGFjaz1mdW5jdGlvbigpe3JldHVybiExfSxzdC5iZWZvcmVQb3NpdGlvbi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0saXQucHJvdG90eXBlLnBhcnNlUnVsZT1mdW5jdGlvbigpe3JldHVybiBudWxsfSxpdC5wcm90b3R5cGUuc3RvcEV2ZW50PWZ1bmN0aW9uKCl7cmV0dXJuITF9LHN0LnNpemUuZ2V0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT0wO2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKXQrPXRoaXMuY2hpbGRyZW5bZV0uc2l6ZTtyZXR1cm4gdH0sc3QuYm9yZGVyLmdldD1mdW5jdGlvbigpe3JldHVybiAwfSxpdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMucGFyZW50PW51bGwsdGhpcy5kb20ucG1WaWV3RGVzYz09dGhpcyYmKHRoaXMuZG9tLnBtVmlld0Rlc2M9bnVsbCk7Zm9yKHZhciB0PTA7dDx0aGlzLmNoaWxkcmVuLmxlbmd0aDt0KyspdGhpcy5jaGlsZHJlblt0XS5kZXN0cm95KCl9LGl0LnByb3RvdHlwZS5wb3NCZWZvcmVDaGlsZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMucG9zQXRTdGFydDtlPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2UrKyl7dmFyIHI9dGhpcy5jaGlsZHJlbltlXTtpZihyPT10KXJldHVybiBuO24rPXIuc2l6ZX19LHN0LnBvc0JlZm9yZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQucG9zQmVmb3JlQ2hpbGQodGhpcyl9LHN0LnBvc0F0U3RhcnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50LnBvc0JlZm9yZUNoaWxkKHRoaXMpK3RoaXMuYm9yZGVyOjB9LHN0LnBvc0FmdGVyLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc0JlZm9yZSt0aGlzLnNpemV9LHN0LnBvc0F0RW5kLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc0F0U3RhcnQrdGhpcy5zaXplLTIqdGhpcy5ib3JkZXJ9LGl0LnByb3RvdHlwZS5sb2NhbFBvc0Zyb21ET009ZnVuY3Rpb24odCxlLG4pe2lmKHRoaXMuY29udGVudERPTSYmdGhpcy5jb250ZW50RE9NLmNvbnRhaW5zKDE9PXQubm9kZVR5cGU/dDp0LnBhcmVudE5vZGUpKXtpZihuPDApe3ZhciByLG87aWYodD09dGhpcy5jb250ZW50RE9NKXI9dC5jaGlsZE5vZGVzW2UtMV07ZWxzZXt3aGlsZSh0LnBhcmVudE5vZGUhPXRoaXMuY29udGVudERPTSl0PXQucGFyZW50Tm9kZTtyPXQucHJldmlvdXNTaWJsaW5nfXdoaWxlKHImJighKG89ci5wbVZpZXdEZXNjKXx8by5wYXJlbnQhPXRoaXMpKXI9ci5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIHI/dGhpcy5wb3NCZWZvcmVDaGlsZChvKStvLnNpemU6dGhpcy5wb3NBdFN0YXJ0fXZhciBpLHM7aWYodD09dGhpcy5jb250ZW50RE9NKWk9dC5jaGlsZE5vZGVzW2VdO2Vsc2V7d2hpbGUodC5wYXJlbnROb2RlIT10aGlzLmNvbnRlbnRET00pdD10LnBhcmVudE5vZGU7aT10Lm5leHRTaWJsaW5nfXdoaWxlKGkmJighKHM9aS5wbVZpZXdEZXNjKXx8cy5wYXJlbnQhPXRoaXMpKWk9aS5uZXh0U2libGluZztyZXR1cm4gaT90aGlzLnBvc0JlZm9yZUNoaWxkKHMpOnRoaXMucG9zQXRFbmR9dmFyIGE7aWYodGhpcy5jb250ZW50RE9NJiZ0aGlzLmNvbnRlbnRET00hPXRoaXMuZG9tJiZ0aGlzLmRvbS5jb250YWlucyh0aGlzLmNvbnRlbnRET00pKWE9MiZ0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHRoaXMuY29udGVudERPTSk7ZWxzZSBpZih0aGlzLmRvbS5maXJzdENoaWxkKXtpZigwPT1lKWZvcih2YXIgYz10OztjPWMucGFyZW50Tm9kZSl7aWYoYz09dGhpcy5kb20pe2E9ITE7YnJlYWt9aWYoYy5wYXJlbnROb2RlLmZpcnN0Q2hpbGQhPWMpYnJlYWt9aWYobnVsbD09YSYmZT09dC5jaGlsZE5vZGVzLmxlbmd0aClmb3IodmFyIGw9dDs7bD1sLnBhcmVudE5vZGUpe2lmKGw9PXRoaXMuZG9tKXthPSEwO2JyZWFrfWlmKGwucGFyZW50Tm9kZS5sYXN0Q2hpbGQhPWwpYnJlYWt9fXJldHVybihudWxsPT1hP24+MDphKT90aGlzLnBvc0F0RW5kOnRoaXMucG9zQXRTdGFydH0saXQucHJvdG90eXBlLm5lYXJlc3REZXNjPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPSEwLHI9dDtyO3I9ci5wYXJlbnROb2RlKXt2YXIgbz10aGlzLmdldERlc2Mocik7aWYobyYmKCFlfHxvLm5vZGUpKXtpZighbnx8IW8ubm9kZURPTXx8KDE9PW8ubm9kZURPTS5ub2RlVHlwZT9vLm5vZGVET00uY29udGFpbnMoMT09dC5ub2RlVHlwZT90OnQucGFyZW50Tm9kZSk6by5ub2RlRE9NPT10KSlyZXR1cm4gbztuPSExfX19LGl0LnByb3RvdHlwZS5nZXREZXNjPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnBtVmlld0Rlc2Msbj1lO247bj1uLnBhcmVudClpZihuPT10aGlzKXJldHVybiBlfSxpdC5wcm90b3R5cGUucG9zRnJvbURPTT1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPXQ7cjtyPXIucGFyZW50Tm9kZSl7dmFyIG89dGhpcy5nZXREZXNjKHIpO2lmKG8pcmV0dXJuIG8ubG9jYWxQb3NGcm9tRE9NKHQsZSxuKX1yZXR1cm4tMX0saXQucHJvdG90eXBlLmRlc2NBdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPTA7ZTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtlKyspe3ZhciByPXRoaXMuY2hpbGRyZW5bZV0sbz1uK3Iuc2l6ZTtpZihuPT10JiZvIT1uKXt3aGlsZSghci5ib3JkZXImJnIuY2hpbGRyZW4ubGVuZ3RoKXI9ci5jaGlsZHJlblswXTtyZXR1cm4gcn1pZih0PG8pcmV0dXJuIHIuZGVzY0F0KHQtbi1yLmJvcmRlcik7bj1vfX0saXQucHJvdG90eXBlLmRvbUZyb21Qb3M9ZnVuY3Rpb24odCl7aWYoIXRoaXMuY29udGVudERPTSlyZXR1cm57bm9kZTp0aGlzLmRvbSxvZmZzZXQ6MH07Zm9yKHZhciBlPTAsbj0wOztuKyspe2lmKGU9PXQpe3doaWxlKG48dGhpcy5jaGlsZHJlbi5sZW5ndGgmJih0aGlzLmNoaWxkcmVuW25dLmJlZm9yZVBvc2l0aW9ufHx0aGlzLmNoaWxkcmVuW25dLmRvbS5wYXJlbnROb2RlIT10aGlzLmNvbnRlbnRET00pKW4rKztyZXR1cm57bm9kZTp0aGlzLmNvbnRlbnRET00sb2Zmc2V0Om49PXRoaXMuY2hpbGRyZW4ubGVuZ3RoP3RoaXMuY29udGVudERPTS5jaGlsZE5vZGVzLmxlbmd0aDpwKHRoaXMuY2hpbGRyZW5bbl0uZG9tKX19aWYobj09dGhpcy5jaGlsZHJlbi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBvc2l0aW9uICIrdCk7dmFyIHI9dGhpcy5jaGlsZHJlbltuXSxvPWUrci5zaXplO2lmKHQ8bylyZXR1cm4gci5kb21Gcm9tUG9zKHQtZS1yLmJvcmRlcik7ZT1vfX0saXQucHJvdG90eXBlLnBhcnNlUmFuZ2U9ZnVuY3Rpb24odCxlLG4pe2lmKHZvaWQgMD09PW4mJihuPTApLDA9PXRoaXMuY2hpbGRyZW4ubGVuZ3RoKXJldHVybntub2RlOnRoaXMuY29udGVudERPTSxmcm9tOnQsdG86ZSxmcm9tT2Zmc2V0OjAsdG9PZmZzZXQ6dGhpcy5jb250ZW50RE9NLmNoaWxkTm9kZXMubGVuZ3RofTtmb3IodmFyIHI9LTEsbz0tMSxpPW4scz0wOztzKyspe3ZhciBhPXRoaXMuY2hpbGRyZW5bc10sYz1pK2Euc2l6ZTtpZigtMT09ciYmdDw9Yyl7dmFyIGw9aSthLmJvcmRlcjtpZih0Pj1sJiZlPD1jLWEuYm9yZGVyJiZhLm5vZGUmJmEuY29udGVudERPTSYmdGhpcy5jb250ZW50RE9NLmNvbnRhaW5zKGEuY29udGVudERPTSkpcmV0dXJuIGEucGFyc2VSYW5nZSh0LGUsbCk7dD1pO2Zvcih2YXIgdT1zO3U+MDt1LS0pe3ZhciBkPXRoaXMuY2hpbGRyZW5bdS0xXTtpZihkLnNpemUmJmQuZG9tLnBhcmVudE5vZGU9PXRoaXMuY29udGVudERPTSYmIWQuZW1wdHlDaGlsZEF0KDEpKXtyPXAoZC5kb20pKzE7YnJlYWt9dC09ZC5zaXplfS0xPT1yJiYocj0wKX1pZihyPi0xJiYoYz5lfHxzPT10aGlzLmNoaWxkcmVuLmxlbmd0aC0xKSl7ZT1jO2Zvcih2YXIgZj1zKzE7Zjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtmKyspe3ZhciBoPXRoaXMuY2hpbGRyZW5bZl07aWYoaC5zaXplJiZoLmRvbS5wYXJlbnROb2RlPT10aGlzLmNvbnRlbnRET00mJiFoLmVtcHR5Q2hpbGRBdCgtMSkpe289cChoLmRvbSk7YnJlYWt9ZSs9aC5zaXplfS0xPT1vJiYobz10aGlzLmNvbnRlbnRET00uY2hpbGROb2Rlcy5sZW5ndGgpO2JyZWFrfWk9Y31yZXR1cm57bm9kZTp0aGlzLmNvbnRlbnRET00sZnJvbTp0LHRvOmUsZnJvbU9mZnNldDpyLHRvT2Zmc2V0Om99fSxpdC5wcm90b3R5cGUuZW1wdHlDaGlsZEF0PWZ1bmN0aW9uKHQpe2lmKHRoaXMuYm9yZGVyfHwhdGhpcy5jb250ZW50RE9NfHwhdGhpcy5jaGlsZHJlbi5sZW5ndGgpcmV0dXJuITE7dmFyIGU9dGhpcy5jaGlsZHJlblt0PDA/MDp0aGlzLmNoaWxkcmVuLmxlbmd0aC0xXTtyZXR1cm4gMD09ZS5zaXplfHxlLmVtcHR5Q2hpbGRBdCh0KX0saXQucHJvdG90eXBlLmRvbUFmdGVyUG9zPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZG9tRnJvbVBvcyh0KSxuPWUubm9kZSxyPWUub2Zmc2V0O2lmKDEhPW4ubm9kZVR5cGV8fHI9PW4uY2hpbGROb2Rlcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vIG5vZGUgYWZ0ZXIgcG9zICIrdCk7cmV0dXJuIG4uY2hpbGROb2Rlc1tyXX0saXQucHJvdG90eXBlLnNldFNlbGVjdGlvbj1mdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIG89TWF0aC5taW4odCxlKSxpPU1hdGgubWF4KHQsZSksYT0wLGM9MDthPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2ErKyl7dmFyIGw9dGhpcy5jaGlsZHJlblthXSx1PWMrbC5zaXplO2lmKG8+YyYmaTx1KXJldHVybiBsLnNldFNlbGVjdGlvbih0LWMtbC5ib3JkZXIsZS1jLWwuYm9yZGVyLG4scik7Yz11fXZhciBkPXRoaXMuZG9tRnJvbVBvcyh0KSxwPXRoaXMuZG9tRnJvbVBvcyhlKSxmPW4uZ2V0U2VsZWN0aW9uKCksaD0hMTtpZigocy5nZWNrb3x8cy5zYWZhcmkpJiZ0PT1lKXt2YXIgbT1kLm5vZGUuY2hpbGROb2Rlc1tkLm9mZnNldC0xXTtoPW0mJigiQlIiPT1tLm5vZGVOYW1lfHwiZmFsc2UiPT1tLmNvbnRlbnRFZGl0YWJsZSl9aWYocnx8aCYmcy5zYWZhcml8fCF2KGQubm9kZSxkLm9mZnNldCxmLmFuY2hvck5vZGUsZi5hbmNob3JPZmZzZXQpfHwhdihwLm5vZGUscC5vZmZzZXQsZi5mb2N1c05vZGUsZi5mb2N1c09mZnNldCkpe3ZhciBnPSExO2lmKChmLmV4dGVuZHx8dD09ZSkmJiFoKXtmLmNvbGxhcHNlKGQubm9kZSxkLm9mZnNldCk7dHJ5e3QhPWUmJmYuZXh0ZW5kKHAubm9kZSxwLm9mZnNldCksZz0hMH1jYXRjaCh3KXtpZighKHcgaW5zdGFuY2VvZiBET01FeGNlcHRpb24pKXRocm93IHd9fWlmKCFnKXtpZih0PmUpe3ZhciB5PWQ7ZD1wLHA9eX12YXIgYj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO2Iuc2V0RW5kKHAubm9kZSxwLm9mZnNldCksYi5zZXRTdGFydChkLm5vZGUsZC5vZmZzZXQpLGYucmVtb3ZlQWxsUmFuZ2VzKCksZi5hZGRSYW5nZShiKX19fSxpdC5wcm90b3R5cGUuaWdub3JlTXV0YXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIXRoaXMuY29udGVudERPTSYmInNlbGVjdGlvbiIhPXQudHlwZX0sc3QuY29udGVudExvc3QuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudERPTSYmdGhpcy5jb250ZW50RE9NIT10aGlzLmRvbSYmIXRoaXMuZG9tLmNvbnRhaW5zKHRoaXMuY29udGVudERPTSl9LGl0LnByb3RvdHlwZS5tYXJrRGlydHk9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxyPTA7cjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtyKyspe3ZhciBvPXRoaXMuY2hpbGRyZW5bcl0saT1uK28uc2l6ZTtpZihuPT1pP3Q8PWkmJmU+PW46dDxpJiZlPm4pe3ZhciBzPW4rby5ib3JkZXIsYT1pLW8uYm9yZGVyO2lmKHQ+PXMmJmU8PWEpcmV0dXJuIHRoaXMuZGlydHk9dD09bnx8ZT09aT9ydDpudCx2b2lkKHQhPXN8fGUhPWF8fCFvLmNvbnRlbnRMb3N0JiZvLmRvbS5wYXJlbnROb2RlPT10aGlzLmNvbnRlbnRET00/by5tYXJrRGlydHkodC1zLGUtcyk6by5kaXJ0eT1vdCk7by5kaXJ0eT1vdH1uPWl9dGhpcy5kaXJ0eT1ydH0saXQucHJvdG90eXBlLm1hcmtQYXJlbnRzRGlydHk9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MSxlPXRoaXMucGFyZW50O2U7ZT1lLnBhcmVudCx0Kyspe3ZhciBuPTE9PXQ/cnQ6bnQ7ZS5kaXJ0eTxuJiYoZS5kaXJ0eT1uKX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGl0LnByb3RvdHlwZSxzdCk7dmFyIGF0PVtdLGN0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyl7dmFyIGkscz1uLnR5cGUudG9ET007aWYoImZ1bmN0aW9uIj09dHlwZW9mIHMmJihzPXMociwoZnVuY3Rpb24oKXtyZXR1cm4gaT9pLnBhcmVudD9pLnBhcmVudC5wb3NCZWZvcmVDaGlsZChpKTp2b2lkIDA6b30pKSksIW4udHlwZS5zcGVjLnJhdyl7aWYoMSE9cy5ub2RlVHlwZSl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO2EuYXBwZW5kQ2hpbGQocykscz1hfXMuY29udGVudEVkaXRhYmxlPSExLHMuY2xhc3NMaXN0LmFkZCgiUHJvc2VNaXJyb3Itd2lkZ2V0Iil9dC5jYWxsKHRoaXMsZSxhdCxzLG51bGwpLHRoaXMud2lkZ2V0PW4saT10aGlzfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXtiZWZvcmVQb3NpdGlvbjp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIG4uYmVmb3JlUG9zaXRpb24uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2lkZ2V0LnR5cGUuc2lkZTwwfSxlLnByb3RvdHlwZS5tYXRjaGVzV2lkZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRpcnR5PT1ldCYmdC50eXBlLmVxKHRoaXMud2lkZ2V0LnR5cGUpfSxlLnByb3RvdHlwZS5wYXJzZVJ1bGU9ZnVuY3Rpb24oKXtyZXR1cm57aWdub3JlOiEwfX0sZS5wcm90b3R5cGUuc3RvcEV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMud2lkZ2V0LnNwZWMuc3RvcEV2ZW50O3JldHVybiEhZSYmZSh0KX0sZS5wcm90b3R5cGUuaWdub3JlTXV0YXRpb249ZnVuY3Rpb24odCl7cmV0dXJuInNlbGVjdGlvbiIhPXQudHlwZXx8dGhpcy53aWRnZXQuc3BlYy5pZ25vcmVTZWxlY3Rpb259LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLG4pLGV9KGl0KSxsdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8pe3QuY2FsbCh0aGlzLGUsYXQsbixudWxsKSx0aGlzLnRleHRET009cix0aGlzLnRleHQ9b310JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17c2l6ZTp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIG4uc2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0Lmxlbmd0aH0sZS5wcm90b3R5cGUubG9jYWxQb3NGcm9tRE9NPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQhPXRoaXMudGV4dERPTT90aGlzLnBvc0F0U3RhcnQrKGU/dGhpcy5zaXplOjApOnRoaXMucG9zQXRTdGFydCtlfSxlLnByb3RvdHlwZS5kb21Gcm9tUG9zPWZ1bmN0aW9uKHQpe3JldHVybntub2RlOnRoaXMudGV4dERPTSxvZmZzZXQ6dH19LGUucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiJjaGFyYWN0ZXJEYXRhIj09PXQudHlwZSYmdC50YXJnZXQubm9kZVZhbHVlPT10Lm9sZFZhbHVlfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfShpdCksdXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvKXt0LmNhbGwodGhpcyxlLFtdLHIsbyksdGhpcy5tYXJrPW59cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUuY3JlYXRlPWZ1bmN0aW9uKHQsbixyLGkpe3ZhciBzPWkubm9kZVZpZXdzW24udHlwZS5uYW1lXSxhPXMmJnMobixpLHIpO3JldHVybiBhJiZhLmRvbXx8KGE9b1siRE9NU2VyaWFsaXplciJdLnJlbmRlclNwZWMoZG9jdW1lbnQsbi50eXBlLnNwZWMudG9ET00obixyKSkpLG5ldyBlKHQsbixhLmRvbSxhLmNvbnRlbnRET018fGEuZG9tKX0sZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7cmV0dXJue21hcms6dGhpcy5tYXJrLnR5cGUubmFtZSxhdHRyczp0aGlzLm1hcmsuYXR0cnMsY29udGVudEVsZW1lbnQ6dGhpcy5jb250ZW50RE9NfX0sZS5wcm90b3R5cGUubWF0Y2hlc01hcms9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGlydHkhPW90JiZ0aGlzLm1hcmsuZXEodCl9LGUucHJvdG90eXBlLm1hcmtEaXJ0eT1mdW5jdGlvbihlLG4pe2lmKHQucHJvdG90eXBlLm1hcmtEaXJ0eS5jYWxsKHRoaXMsZSxuKSx0aGlzLmRpcnR5IT1ldCl7dmFyIHI9dGhpcy5wYXJlbnQ7d2hpbGUoIXIubm9kZSlyPXIucGFyZW50O3IuZGlydHk8dGhpcy5kaXJ0eSYmKHIuZGlydHk9dGhpcy5kaXJ0eSksdGhpcy5kaXJ0eT1ldH19LGUucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsbixyKXt2YXIgbz1lLmNyZWF0ZSh0aGlzLnBhcmVudCx0aGlzLm1hcmssITAsciksaT10aGlzLmNoaWxkcmVuLHM9dGhpcy5zaXplO248cyYmKGk9UnQoaSxuLHMscikpLHQ+MCYmKGk9UnQoaSwwLHQscikpO2Zvcih2YXIgYT0wO2E8aS5sZW5ndGg7YSsrKWlbYV0ucGFyZW50PW87cmV0dXJuIG8uY2hpbGRyZW49aSxvfSxlfShpdCksZHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvLGkscyxhLGMsbCl7dC5jYWxsKHRoaXMsZSxuLmlzTGVhZj9hdDpbXSxpLHMpLHRoaXMubm9kZURPTT1hLHRoaXMubm9kZT1uLHRoaXMub3V0ZXJEZWNvPXIsdGhpcy5pbm5lckRlY289byxzJiZ0aGlzLnVwZGF0ZUNoaWxkcmVuKGMsbCl9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e3NpemU6e2NvbmZpZ3VyYWJsZTohMH0sYm9yZGVyOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gZS5jcmVhdGU9ZnVuY3Rpb24odCxuLHIsaSxzLGEpe3ZhciBjLGwsdT1zLm5vZGVWaWV3c1tuLnR5cGUubmFtZV0sZD11JiZ1KG4scywoZnVuY3Rpb24oKXtyZXR1cm4gbD9sLnBhcmVudD9sLnBhcmVudC5wb3NCZWZvcmVDaGlsZChsKTp2b2lkIDA6YX0pLHIpLHA9ZCYmZC5kb20sZj1kJiZkLmNvbnRlbnRET007aWYobi5pc1RleHQpaWYocCl7aWYoMyE9cC5ub2RlVHlwZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGV4dCBtdXN0IGJlIHJlbmRlcmVkIGFzIGEgRE9NIHRleHQgbm9kZSIpfWVsc2UgcD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuLnRleHQpO2Vsc2UgcHx8KGM9b1siRE9NU2VyaWFsaXplciJdLnJlbmRlclNwZWMoZG9jdW1lbnQsbi50eXBlLnNwZWMudG9ET00obikpLHA9Yy5kb20sZj1jLmNvbnRlbnRET00pO2Z8fG4uaXNUZXh0fHwiQlIiPT1wLm5vZGVOYW1lfHwocC5oYXNBdHRyaWJ1dGUoImNvbnRlbnRlZGl0YWJsZSIpfHwocC5jb250ZW50RWRpdGFibGU9ITEpLG4udHlwZS5zcGVjLmRyYWdnYWJsZSYmKHAuZHJhZ2dhYmxlPSEwKSk7dmFyIGg9cDtyZXR1cm4gcD14dChwLHIsbiksZD9sPW5ldyBtdCh0LG4scixpLHAsZixoLGQscyxhKzEpOm4uaXNUZXh0P25ldyBmdCh0LG4scixpLHAsaCxzKTpuZXcgZSh0LG4scixpLHAsZixoLHMsYSsxKX0sZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLm5vZGUudHlwZS5zcGVjLnJlcGFyc2VJblZpZXcpcmV0dXJuIG51bGw7dmFyIGU9e25vZGU6dGhpcy5ub2RlLnR5cGUubmFtZSxhdHRyczp0aGlzLm5vZGUuYXR0cnN9O3JldHVybiB0aGlzLm5vZGUudHlwZS5zcGVjLmNvZGUmJihlLnByZXNlcnZlV2hpdGVzcGFjZT0iZnVsbCIpLHRoaXMuY29udGVudERPTSYmIXRoaXMuY29udGVudExvc3Q/ZS5jb250ZW50RWxlbWVudD10aGlzLmNvbnRlbnRET006ZS5nZXRDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29udGVudERPTT9vWyJGcmFnbWVudCJdLmVtcHR5OnQubm9kZS5jb250ZW50fSxlfSxlLnByb3RvdHlwZS5tYXRjaGVzTm9kZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuZGlydHk9PWV0JiZ0LmVxKHRoaXMubm9kZSkmJmt0KGUsdGhpcy5vdXRlckRlY28pJiZuLmVxKHRoaXMuaW5uZXJEZWNvKX0sbi5zaXplLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUubm9kZVNpemV9LG4uYm9yZGVyLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuaXNMZWFmPzA6MX0sZS5wcm90b3R5cGUudXBkYXRlQ2hpbGRyZW49ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9dGhpcy5ub2RlLmlubGluZUNvbnRlbnQsaT1lLGE9ciYmdC5jb21wb3NpbmcmJnRoaXMubG9jYWxDb21wb3NpdGlvbk5vZGUodCxlKSxjPW5ldyBPdCh0aGlzLGEmJmEubm9kZSk7VHQodGhpcy5ub2RlLHRoaXMuaW5uZXJEZWNvLChmdW5jdGlvbihlLHMsYSl7ZS5zcGVjLm1hcmtzP2Muc3luY1RvTWFya3MoZS5zcGVjLm1hcmtzLHIsdCk6ZS50eXBlLnNpZGU+PTAmJiFhJiZjLnN5bmNUb01hcmtzKHM9PW4ubm9kZS5jaGlsZENvdW50P29bIk1hcmsiXS5ub25lOm4ubm9kZS5jaGlsZChzKS5tYXJrcyxyLHQpLGMucGxhY2VXaWRnZXQoZSx0LGkpfSksKGZ1bmN0aW9uKGUsbixvLHMpe2Muc3luY1RvTWFya3MoZS5tYXJrcyxyLHQpLGMuZmluZE5vZGVNYXRjaChlLG4sbyxzKXx8Yy51cGRhdGVOZXh0Tm9kZShlLG4sbyx0LHMpfHxjLmFkZE5vZGUoZSxuLG8sdCxpKSxpKz1lLm5vZGVTaXplfSkpLGMuc3luY1RvTWFya3MoYXQscix0KSx0aGlzLm5vZGUuaXNUZXh0YmxvY2smJmMuYWRkVGV4dGJsb2NrSGFja3MoKSxjLmRlc3Ryb3lSZXN0KCksKGMuY2hhbmdlZHx8dGhpcy5kaXJ0eT09cnQpJiYoYSYmdGhpcy5wcm90ZWN0TG9jYWxDb21wb3NpdGlvbih0LGEpLHZ0KHRoaXMuY29udGVudERPTSx0aGlzLmNoaWxkcmVuLHQpLHMuaW9zJiZBdCh0aGlzLmRvbSkpfSxlLnByb3RvdHlwZS5sb2NhbENvbXBvc2l0aW9uTm9kZT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuc3RhdGUuc2VsZWN0aW9uLG89bi5mcm9tLGk9bi50bztpZighKCEodC5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiByWyJUZXh0U2VsZWN0aW9uIl0pfHxvPGV8fGk+ZSt0aGlzLm5vZGUuY29udGVudC5zaXplKSl7dmFyIHM9dC5yb290LmdldFNlbGVjdGlvbigpLGE9RHQocy5mb2N1c05vZGUscy5mb2N1c09mZnNldCk7aWYoYSYmdGhpcy5kb20uY29udGFpbnMoYS5wYXJlbnROb2RlKSl7dmFyIGM9YS5ub2RlVmFsdWUsbD1FdCh0aGlzLm5vZGUuY29udGVudCxjLG8tZSxpLWUpO3JldHVybiBsPDA/bnVsbDp7bm9kZTphLHBvczpsLHRleHQ6Y319fX0sZS5wcm90b3R5cGUucHJvdGVjdExvY2FsQ29tcG9zaXRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj1lLm5vZGUscj1lLnBvcyxvPWUudGV4dDtpZighdGhpcy5nZXREZXNjKG4pKXtmb3IodmFyIGk9bjs7aT1pLnBhcmVudE5vZGUpe2lmKGkucGFyZW50Tm9kZT09dGhpcy5jb250ZW50RE9NKWJyZWFrO3doaWxlKGkucHJldmlvdXNTaWJsaW5nKWkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpLnByZXZpb3VzU2libGluZyk7d2hpbGUoaS5uZXh0U2libGluZylpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaS5uZXh0U2libGluZyk7aS5wbVZpZXdEZXNjJiYoaS5wbVZpZXdEZXNjPW51bGwpfXZhciBzPW5ldyBsdCh0aGlzLGksbixvKTt0LmNvbXBvc2l0aW9uTm9kZXMucHVzaChzKSx0aGlzLmNoaWxkcmVuPVJ0KHRoaXMuY2hpbGRyZW4scixyK28ubGVuZ3RoLHQscyl9fSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuISh0aGlzLmRpcnR5PT1vdHx8IXQuc2FtZU1hcmt1cCh0aGlzLm5vZGUpKSYmKHRoaXMudXBkYXRlSW5uZXIodCxlLG4sciksITApfSxlLnByb3RvdHlwZS51cGRhdGVJbm5lcj1mdW5jdGlvbih0LGUsbixyKXt0aGlzLnVwZGF0ZU91dGVyRGVjbyhlKSx0aGlzLm5vZGU9dCx0aGlzLmlubmVyRGVjbz1uLHRoaXMuY29udGVudERPTSYmdGhpcy51cGRhdGVDaGlsZHJlbihyLHRoaXMucG9zQXRTdGFydCksdGhpcy5kaXJ0eT1ldH0sZS5wcm90b3R5cGUudXBkYXRlT3V0ZXJEZWNvPWZ1bmN0aW9uKHQpe2lmKCFrdCh0LHRoaXMub3V0ZXJEZWNvKSl7dmFyIGU9MSE9dGhpcy5ub2RlRE9NLm5vZGVUeXBlLG49dGhpcy5kb207dGhpcy5kb209d3QodGhpcy5kb20sdGhpcy5ub2RlRE9NLGJ0KHRoaXMub3V0ZXJEZWNvLHRoaXMubm9kZSxlKSxidCh0LHRoaXMubm9kZSxlKSksdGhpcy5kb20hPW4mJihuLnBtVmlld0Rlc2M9bnVsbCx0aGlzLmRvbS5wbVZpZXdEZXNjPXRoaXMpLHRoaXMub3V0ZXJEZWNvPXR9fSxlLnByb3RvdHlwZS5zZWxlY3ROb2RlPWZ1bmN0aW9uKCl7dGhpcy5ub2RlRE9NLmNsYXNzTGlzdC5hZGQoIlByb3NlTWlycm9yLXNlbGVjdGVkbm9kZSIpLCF0aGlzLmNvbnRlbnRET00mJnRoaXMubm9kZS50eXBlLnNwZWMuZHJhZ2dhYmxlfHwodGhpcy5kb20uZHJhZ2dhYmxlPSEwKX0sZS5wcm90b3R5cGUuZGVzZWxlY3ROb2RlPWZ1bmN0aW9uKCl7dGhpcy5ub2RlRE9NLmNsYXNzTGlzdC5yZW1vdmUoIlByb3NlTWlycm9yLXNlbGVjdGVkbm9kZSIpLCF0aGlzLmNvbnRlbnRET00mJnRoaXMubm9kZS50eXBlLnNwZWMuZHJhZ2dhYmxlfHx0aGlzLmRvbS5yZW1vdmVBdHRyaWJ1dGUoImRyYWdnYWJsZSIpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfShpdCk7ZnVuY3Rpb24gcHQodCxlLG4scixvKXtyZXR1cm4geHQocixlLHQpLG5ldyBkdChudWxsLHQsZSxuLHIscixyLG8sMCl9dmFyIGZ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyxpLHMsYSl7dC5jYWxsKHRoaXMsZSxuLHIsbyxpLG51bGwscyxhKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ub2RlRE9NLnBhcmVudE5vZGU7d2hpbGUodCYmdCE9dGhpcy5kb20mJiF0LnBtSXNEZWNvKXQ9dC5wYXJlbnROb2RlO3JldHVybntza2lwOnR8fCEwfX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiEodGhpcy5kaXJ0eT09b3R8fHRoaXMuZGlydHkhPWV0JiYhdGhpcy5pblBhcmVudCgpfHwhdC5zYW1lTWFya3VwKHRoaXMubm9kZSkpJiYodGhpcy51cGRhdGVPdXRlckRlY28oZSksdGhpcy5kaXJ0eT09ZXQmJnQudGV4dD09dGhpcy5ub2RlLnRleHR8fHQudGV4dD09dGhpcy5ub2RlRE9NLm5vZGVWYWx1ZXx8KHRoaXMubm9kZURPTS5ub2RlVmFsdWU9dC50ZXh0LHIudHJhY2tXcml0ZXM9PXRoaXMubm9kZURPTSYmKHIudHJhY2tXcml0ZXM9bnVsbCkpLHRoaXMubm9kZT10LHRoaXMuZGlydHk9ZXQsITApfSxlLnByb3RvdHlwZS5pblBhcmVudD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnBhcmVudC5jb250ZW50RE9NLGU9dGhpcy5ub2RlRE9NO2U7ZT1lLnBhcmVudE5vZGUpaWYoZT09dClyZXR1cm4hMDtyZXR1cm4hMX0sZS5wcm90b3R5cGUuZG9tRnJvbVBvcz1mdW5jdGlvbih0KXtyZXR1cm57bm9kZTp0aGlzLm5vZGVET00sb2Zmc2V0OnR9fSxlLnByb3RvdHlwZS5sb2NhbFBvc0Zyb21ET009ZnVuY3Rpb24oZSxuLHIpe3JldHVybiBlPT10aGlzLm5vZGVET00/dGhpcy5wb3NBdFN0YXJ0K01hdGgubWluKG4sdGhpcy5ub2RlLnRleHQubGVuZ3RoKTp0LnByb3RvdHlwZS5sb2NhbFBvc0Zyb21ET00uY2FsbCh0aGlzLGUsbixyKX0sZS5wcm90b3R5cGUuaWdub3JlTXV0YXRpb249ZnVuY3Rpb24odCl7cmV0dXJuImNoYXJhY3RlckRhdGEiIT10LnR5cGUmJiJzZWxlY3Rpb24iIT10LnR5cGV9LGUucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsbixyKXt2YXIgbz10aGlzLm5vZGUuY3V0KHQsbiksaT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShvLnRleHQpO3JldHVybiBuZXcgZSh0aGlzLnBhcmVudCxvLHRoaXMub3V0ZXJEZWNvLHRoaXMuaW5uZXJEZWNvLGksaSxyKX0sZX0oZHQpLGh0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7cmV0dXJue2lnbm9yZTohMH19LGUucHJvdG90eXBlLm1hdGNoZXNIYWNrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlydHk9PWV0fSxlfShpdCksbXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvLGkscyxhLGMsbCx1KXt0LmNhbGwodGhpcyxlLG4scixvLGkscyxhLGwsdSksdGhpcy5zcGVjPWN9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlLG4scixvKXtpZih0aGlzLmRpcnR5PT1vdClyZXR1cm4hMTtpZih0aGlzLnNwZWMudXBkYXRlKXt2YXIgaT10aGlzLnNwZWMudXBkYXRlKGUsbik7cmV0dXJuIGkmJnRoaXMudXBkYXRlSW5uZXIoZSxuLHIsbyksaX1yZXR1cm4hKCF0aGlzLmNvbnRlbnRET00mJiFlLmlzTGVhZikmJnQucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMsZSxuLHIsbyl9LGUucHJvdG90eXBlLnNlbGVjdE5vZGU9ZnVuY3Rpb24oKXt0aGlzLnNwZWMuc2VsZWN0Tm9kZT90aGlzLnNwZWMuc2VsZWN0Tm9kZSgpOnQucHJvdG90eXBlLnNlbGVjdE5vZGUuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuZGVzZWxlY3ROb2RlPWZ1bmN0aW9uKCl7dGhpcy5zcGVjLmRlc2VsZWN0Tm9kZT90aGlzLnNwZWMuZGVzZWxlY3ROb2RlKCk6dC5wcm90b3R5cGUuZGVzZWxlY3ROb2RlLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnNldFNlbGVjdGlvbj1mdW5jdGlvbihlLG4scixvKXt0aGlzLnNwZWMuc2V0U2VsZWN0aW9uP3RoaXMuc3BlYy5zZXRTZWxlY3Rpb24oZSxuLHIpOnQucHJvdG90eXBlLnNldFNlbGVjdGlvbi5jYWxsKHRoaXMsZSxuLHIsbyl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnNwZWMuZGVzdHJveSYmdGhpcy5zcGVjLmRlc3Ryb3koKSx0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnN0b3BFdmVudD1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuc3BlYy5zdG9wRXZlbnQmJnRoaXMuc3BlYy5zdG9wRXZlbnQodCl9LGUucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNwZWMuaWdub3JlTXV0YXRpb24/dGhpcy5zcGVjLmlnbm9yZU11dGF0aW9uKGUpOnQucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uLmNhbGwodGhpcyxlKX0sZX0oZHQpO2Z1bmN0aW9uIHZ0KHQsZSxuKXtmb3IodmFyIHI9dC5maXJzdENoaWxkLG89ITEsaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgcz1lW2ldLGE9cy5kb207aWYoYS5wYXJlbnROb2RlPT10KXt3aGlsZShhIT1yKXI9Q3Qociksbz0hMDtyPXIubmV4dFNpYmxpbmd9ZWxzZSBvPSEwLHQuaW5zZXJ0QmVmb3JlKGEscik7aWYocyBpbnN0YW5jZW9mIHV0KXt2YXIgYz1yP3IucHJldmlvdXNTaWJsaW5nOnQubGFzdENoaWxkO3Z0KHMuY29udGVudERPTSxzLmNoaWxkcmVuLG4pLHI9Yz9jLm5leHRTaWJsaW5nOnQuZmlyc3RDaGlsZH19d2hpbGUocilyPUN0KHIpLG89ITA7byYmbi50cmFja1dyaXRlcz09dCYmKG4udHJhY2tXcml0ZXM9bnVsbCl9ZnVuY3Rpb24gZ3QodCl7dCYmKHRoaXMubm9kZU5hbWU9dCl9Z3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobnVsbCk7dmFyIHl0PVtuZXcgZ3RdO2Z1bmN0aW9uIGJ0KHQsZSxuKXtpZigwPT10Lmxlbmd0aClyZXR1cm4geXQ7Zm9yKHZhciByPW4/eXRbMF06bmV3IGd0LG89W3JdLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIHM9dFtpXS50eXBlLmF0dHJzLGE9cjtpZihzKWZvcih2YXIgYyBpbiBzLm5vZGVOYW1lJiZvLnB1c2goYT1uZXcgZ3Qocy5ub2RlTmFtZSkpLHMpe3ZhciBsPXNbY107bnVsbCE9bCYmKG4mJjE9PW8ubGVuZ3RoJiZvLnB1c2goYT1yPW5ldyBndChlLmlzSW5saW5lPyJzcGFuIjoiZGl2IikpLCJjbGFzcyI9PWM/YS5jbGFzcz0oYS5jbGFzcz9hLmNsYXNzKyIgIjoiIikrbDoic3R5bGUiPT1jP2Euc3R5bGU9KGEuc3R5bGU/YS5zdHlsZSsiOyI6IiIpK2w6Im5vZGVOYW1lIiE9YyYmKGFbY109bCkpfX1yZXR1cm4gb31mdW5jdGlvbiB3dCh0LGUsbixyKXtpZihuPT15dCYmcj09eXQpcmV0dXJuIGU7Zm9yKHZhciBvPWUsaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgcz1yW2ldLGE9bltpXTtpZihpKXt2YXIgYz12b2lkIDA7YSYmYS5ub2RlTmFtZT09cy5ub2RlTmFtZSYmbyE9dCYmKGM9by5wYXJlbnROb2RlKSYmYy50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PXMubm9kZU5hbWV8fChjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQocy5ub2RlTmFtZSksYy5wbUlzRGVjbz0hMCxjLmFwcGVuZENoaWxkKG8pLGE9eXRbMF0pLG89Y31TdChvLGF8fHl0WzBdLHMpfXJldHVybiBvfWZ1bmN0aW9uIFN0KHQsZSxuKXtmb3IodmFyIHIgaW4gZSkiY2xhc3MiPT1yfHwic3R5bGUiPT1yfHwibm9kZU5hbWUiPT1yfHxyIGluIG58fHQucmVtb3ZlQXR0cmlidXRlKHIpO2Zvcih2YXIgbyBpbiBuKSJjbGFzcyIhPW8mJiJzdHlsZSIhPW8mJiJub2RlTmFtZSIhPW8mJm5bb10hPWVbb10mJnQuc2V0QXR0cmlidXRlKG8sbltvXSk7aWYoZS5jbGFzcyE9bi5jbGFzcyl7Zm9yKHZhciBpPWUuY2xhc3M/ZS5jbGFzcy5zcGxpdCgiICIpOmF0LHM9bi5jbGFzcz9uLmNsYXNzLnNwbGl0KCIgIik6YXQsYT0wO2E8aS5sZW5ndGg7YSsrKS0xPT1zLmluZGV4T2YoaVthXSkmJnQuY2xhc3NMaXN0LnJlbW92ZShpW2FdKTtmb3IodmFyIGM9MDtjPHMubGVuZ3RoO2MrKyktMT09aS5pbmRleE9mKHNbY10pJiZ0LmNsYXNzTGlzdC5hZGQoc1tjXSl9aWYoZS5zdHlsZSE9bi5zdHlsZSl7aWYoZS5zdHlsZSl7dmFyIGwsdT0vXHMqKFtcd1wtXHhhMS1cdWZmZmZdKylccyo6KD86Iig/OlxcLnxbXiJdKSoifCcoPzpcXC58W14nXSkqJ3xcKC4qP1wpfFteO10pKi9nO3doaWxlKGw9dS5leGVjKGUuc3R5bGUpKXQuc3R5bGUucmVtb3ZlUHJvcGVydHkobFsxXSl9bi5zdHlsZSYmKHQuc3R5bGUuY3NzVGV4dCs9bi5zdHlsZSl9fWZ1bmN0aW9uIHh0KHQsZSxuKXtyZXR1cm4gd3QodCx0LHl0LGJ0KGUsbiwxIT10Lm5vZGVUeXBlKSl9ZnVuY3Rpb24ga3QodCxlKXtpZih0Lmxlbmd0aCE9ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYoIXRbbl0udHlwZS5lcShlW25dLnR5cGUpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIEN0KHQpe3ZhciBlPXQubmV4dFNpYmxpbmc7cmV0dXJuIHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSxlfXZhciBPdD1mdW5jdGlvbih0LGUpe3RoaXMudG9wPXQsdGhpcy5sb2NrPWUsdGhpcy5pbmRleD0wLHRoaXMuc3RhY2s9W10sdGhpcy5jaGFuZ2VkPSExO3ZhciBuPU10KHQubm9kZS5jb250ZW50LHQuY2hpbGRyZW4pO3RoaXMucHJlTWF0Y2hlZD1uLm5vZGVzLHRoaXMucHJlTWF0Y2hPZmZzZXQ9bi5vZmZzZXR9O2Z1bmN0aW9uIE10KHQsZSl7Zm9yKHZhciBuPVtdLHI9dC5jaGlsZENvdW50LG89ZS5sZW5ndGgtMTtyPjAmJm8+PTA7by0tKXt2YXIgaT1lW29dLHM9aS5ub2RlO2lmKHMpe2lmKHMhPXQuY2hpbGQoci0xKSlicmVhaztuLnB1c2goaSksLS1yfX1yZXR1cm57bm9kZXM6bi5yZXZlcnNlKCksb2Zmc2V0OnJ9fWZ1bmN0aW9uIE50KHQsZSl7cmV0dXJuIHQudHlwZS5zaWRlLWUudHlwZS5zaWRlfWZ1bmN0aW9uIFR0KHQsZSxuLHIpe3ZhciBvPWUubG9jYWxzKHQpLGk9MDtpZigwIT1vLmxlbmd0aClmb3IodmFyIHM9MCxhPVtdLGM9bnVsbCxsPTA7Oyl7aWYoczxvLmxlbmd0aCYmb1tzXS50bz09aSl7dmFyIHU9b1tzKytdLGQ9dm9pZCAwO3doaWxlKHM8by5sZW5ndGgmJm9bc10udG89PWkpKGR8fChkPVt1XSkpLnB1c2gob1tzKytdKTtpZihkKXtkLnNvcnQoTnQpO2Zvcih2YXIgcD0wO3A8ZC5sZW5ndGg7cCsrKW4oZFtwXSxsLCEhYyl9ZWxzZSBuKHUsbCwhIWMpfXZhciBmPXZvaWQgMCxoPXZvaWQgMDtpZihjKWg9LTEsZj1jLGM9bnVsbDtlbHNle2lmKCEobDx0LmNoaWxkQ291bnQpKWJyZWFrO2g9bCxmPXQuY2hpbGQobCsrKX1mb3IodmFyIG09MDttPGEubGVuZ3RoO20rKylhW21dLnRvPD1pJiZhLnNwbGljZShtLS0sMSk7d2hpbGUoczxvLmxlbmd0aCYmb1tzXS5mcm9tPD1pJiZvW3NdLnRvPmkpYS5wdXNoKG9bcysrXSk7dmFyIHY9aStmLm5vZGVTaXplO2lmKGYuaXNUZXh0KXt2YXIgZz12O3M8by5sZW5ndGgmJm9bc10uZnJvbTxnJiYoZz1vW3NdLmZyb20pO2Zvcih2YXIgeT0wO3k8YS5sZW5ndGg7eSsrKWFbeV0udG88ZyYmKGc9YVt5XS50byk7Zzx2JiYoYz1mLmN1dChnLWkpLGY9Zi5jdXQoMCxnLWkpLHY9ZyxoPS0xKX12YXIgYj1hLmxlbmd0aD9mLmlzSW5saW5lJiYhZi5pc0xlYWY/YS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiF0LmlubGluZX0pKTphLnNsaWNlKCk6YXQ7cihmLGIsZS5mb3JDaGlsZChpLGYpLGgpLGk9dn1lbHNlIGZvcih2YXIgdz0wO3c8dC5jaGlsZENvdW50O3crKyl7dmFyIFM9dC5jaGlsZCh3KTtyKFMsbyxlLmZvckNoaWxkKGksUyksdyksaSs9Uy5ub2RlU2l6ZX19ZnVuY3Rpb24gQXQodCl7aWYoIlVMIj09dC5ub2RlTmFtZXx8Ik9MIj09dC5ub2RlTmFtZSl7dmFyIGU9dC5zdHlsZS5jc3NUZXh0O3Quc3R5bGUuY3NzVGV4dD1lKyI7IGxpc3Qtc3R5bGU6IHNxdWFyZSAhaW1wb3J0YW50Iix3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0KS5saXN0U3R5bGUsdC5zdHlsZS5jc3NUZXh0PWV9fWZ1bmN0aW9uIER0KHQsZSl7Zm9yKDs7KXtpZigzPT10Lm5vZGVUeXBlKXJldHVybiB0O2lmKDE9PXQubm9kZVR5cGUmJmU+MCl7aWYodC5jaGlsZE5vZGVzLmxlbmd0aD5lJiYzPT10LmNoaWxkTm9kZXNbZV0ubm9kZVR5cGUpcmV0dXJuIHQuY2hpbGROb2Rlc1tlXTt0PXQuY2hpbGROb2Rlc1tlLTFdLGU9Yih0KX1lbHNle2lmKCEoMT09dC5ub2RlVHlwZSYmZTx0LmNoaWxkTm9kZXMubGVuZ3RoKSlyZXR1cm4gbnVsbDt0PXQuY2hpbGROb2Rlc1tlXSxlPTB9fX1mdW5jdGlvbiBFdCh0LGUsbixyKXtmb3IodmFyIG89MCxpPTA7bzx0LmNoaWxkQ291bnQmJmk8PXI7KXt2YXIgcz10LmNoaWxkKG8rKyksYT1pO2lmKGkrPXMubm9kZVNpemUscy5pc1RleHQpe3ZhciBjPXMudGV4dDt3aGlsZShvPHQuY2hpbGRDb3VudCl7dmFyIGw9dC5jaGlsZChvKyspO2lmKGkrPWwubm9kZVNpemUsIWwuaXNUZXh0KWJyZWFrO2MrPWwudGV4dH1pZihpPj1uKXt2YXIgdT1jLmxhc3RJbmRleE9mKGUsci1hKTtpZih1Pj0wJiZ1K2UubGVuZ3RoK2E+PW4pcmV0dXJuIGErdX19fXJldHVybi0xfWZ1bmN0aW9uIFJ0KHQsZSxuLHIsbyl7Zm9yKHZhciBpPVtdLHM9MCxhPTA7czx0Lmxlbmd0aDtzKyspe3ZhciBjPXRbc10sbD1hLHU9YSs9Yy5zaXplO2w+PW58fHU8PWU/aS5wdXNoKGMpOihsPGUmJmkucHVzaChjLnNsaWNlKDAsZS1sLHIpKSxvJiYoaS5wdXNoKG8pLG89bnVsbCksdT5uJiZpLnB1c2goYy5zbGljZShuLWwsYy5zaXplLHIpKSl9cmV0dXJuIGl9ZnVuY3Rpb24gX3QodCxlKXt2YXIgbj10LnJvb3QuZ2V0U2VsZWN0aW9uKCksbz10LnN0YXRlLmRvYztpZighbi5mb2N1c05vZGUpcmV0dXJuIG51bGw7dmFyIGk9dC5kb2NWaWV3Lm5lYXJlc3REZXNjKG4uZm9jdXNOb2RlKSxzPWkmJjA9PWkuc2l6ZSxhPXQuZG9jVmlldy5wb3NGcm9tRE9NKG4uZm9jdXNOb2RlLG4uZm9jdXNPZmZzZXQpO2lmKGE8MClyZXR1cm4gbnVsbDt2YXIgYyxsLHU9by5yZXNvbHZlKGEpO2lmKHgobikpe2M9dTt3aGlsZShpJiYhaS5ub2RlKWk9aS5wYXJlbnQ7aWYoaSYmaS5ub2RlLmlzQXRvbSYmclsiTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZShpLm5vZGUpJiZpLnBhcmVudCYmKCFpLm5vZGUuaXNJbmxpbmV8fCF3KG4uZm9jdXNOb2RlLG4uZm9jdXNPZmZzZXQsaS5kb20pKSl7dmFyIGQ9aS5wb3NCZWZvcmU7bD1uZXcgclsiTm9kZVNlbGVjdGlvbiJdKGE9PWQ/dTpvLnJlc29sdmUoZCkpfX1lbHNle3ZhciBwPXQuZG9jVmlldy5wb3NGcm9tRE9NKG4uYW5jaG9yTm9kZSxuLmFuY2hvck9mZnNldCk7aWYocDwwKXJldHVybiBudWxsO2M9by5yZXNvbHZlKHApfWlmKCFsKXt2YXIgZj0icG9pbnRlciI9PWV8fHQuc3RhdGUuc2VsZWN0aW9uLmhlYWQ8dS5wb3MmJiFzPzE6LTE7bD1IdCh0LGMsdSxmKX1yZXR1cm4gbH1mdW5jdGlvbiBQdCh0LGUpe3ZhciBuPXQuc3RhdGUuc2VsZWN0aW9uO2lmKGp0KHQsbiksdC5lZGl0YWJsZT90Lmhhc0ZvY3VzKCk6V3QodCkmJmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQmJmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuY29udGFpbnModC5kb20pKXtpZih0LmRvbU9ic2VydmVyLmRpc2Nvbm5lY3RTZWxlY3Rpb24oKSx0LmN1cnNvcldyYXBwZXIpRnQodCk7ZWxzZXt2YXIgbyxpLHM9bi5hbmNob3IsYT1uLmhlYWQ7IXp0fHxuIGluc3RhbmNlb2YgclsiVGV4dFNlbGVjdGlvbiJdfHwobi4kZnJvbS5wYXJlbnQuaW5saW5lQ29udGVudHx8KG89SXQodCxuLmZyb20pKSxuLmVtcHR5fHxuLiRmcm9tLnBhcmVudC5pbmxpbmVDb250ZW50fHwoaT1JdCh0LG4udG8pKSksdC5kb2NWaWV3LnNldFNlbGVjdGlvbihzLGEsdC5yb290LGUpLHp0JiYobyYmVnQobyksaSYmVnQoaSkpLG4udmlzaWJsZT90LmRvbS5jbGFzc0xpc3QucmVtb3ZlKCJQcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uIik6KHQuZG9tLmNsYXNzTGlzdC5hZGQoIlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb24iKSwib25zZWxlY3Rpb25jaGFuZ2UiaW4gZG9jdW1lbnQmJkJ0KHQpKX10LmRvbU9ic2VydmVyLnNldEN1clNlbGVjdGlvbigpLHQuZG9tT2JzZXJ2ZXIuY29ubmVjdFNlbGVjdGlvbigpfX1PdC5wcm90b3R5cGUuZ2V0UHJlTWF0Y2g9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PXRoaXMucHJlTWF0Y2hPZmZzZXQ/dGhpcy5wcmVNYXRjaGVkW3QtdGhpcy5wcmVNYXRjaE9mZnNldF06bnVsbH0sT3QucHJvdG90eXBlLmRlc3Ryb3lCZXR3ZWVuPWZ1bmN0aW9uKHQsZSl7aWYodCE9ZSl7Zm9yKHZhciBuPXQ7bjxlO24rKyl0aGlzLnRvcC5jaGlsZHJlbltuXS5kZXN0cm95KCk7dGhpcy50b3AuY2hpbGRyZW4uc3BsaWNlKHQsZS10KSx0aGlzLmNoYW5nZWQ9ITB9fSxPdC5wcm90b3R5cGUuZGVzdHJveVJlc3Q9ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3lCZXR3ZWVuKHRoaXMuaW5kZXgsdGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoKX0sT3QucHJvdG90eXBlLnN5bmNUb01hcmtzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0wLG89dGhpcy5zdGFjay5sZW5ndGg+PjEsaT1NYXRoLm1pbihvLHQubGVuZ3RoKTt3aGlsZShyPGkmJihyPT1vLTE/dGhpcy50b3A6dGhpcy5zdGFja1tyKzE8PDFdKS5tYXRjaGVzTWFyayh0W3JdKSYmITEhPT10W3JdLnR5cGUuc3BlYy5zcGFubmluZylyKys7d2hpbGUocjxvKXRoaXMuZGVzdHJveVJlc3QoKSx0aGlzLnRvcC5kaXJ0eT1ldCx0aGlzLmluZGV4PXRoaXMuc3RhY2sucG9wKCksdGhpcy50b3A9dGhpcy5zdGFjay5wb3AoKSxvLS07d2hpbGUobzx0Lmxlbmd0aCl7dGhpcy5zdGFjay5wdXNoKHRoaXMudG9wLHRoaXMuaW5kZXgrMSk7Zm9yKHZhciBzPS0xLGE9dGhpcy5pbmRleDthPE1hdGgubWluKHRoaXMuaW5kZXgrMyx0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGgpO2ErKylpZih0aGlzLnRvcC5jaGlsZHJlblthXS5tYXRjaGVzTWFyayh0W29dKSl7cz1hO2JyZWFrfWlmKHM+LTEpcz50aGlzLmluZGV4JiYodGhpcy5jaGFuZ2VkPSEwLHRoaXMuZGVzdHJveUJldHdlZW4odGhpcy5pbmRleCxzKSksdGhpcy50b3A9dGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleF07ZWxzZXt2YXIgYz11dC5jcmVhdGUodGhpcy50b3AsdFtvXSxlLG4pO3RoaXMudG9wLmNoaWxkcmVuLnNwbGljZSh0aGlzLmluZGV4LDAsYyksdGhpcy50b3A9Yyx0aGlzLmNoYW5nZWQ9ITB9dGhpcy5pbmRleD0wLG8rK319LE90LnByb3RvdHlwZS5maW5kTm9kZU1hdGNoPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPS0xLGk9cjwwP3ZvaWQgMDp0aGlzLmdldFByZU1hdGNoKHIpLHM9dGhpcy50b3AuY2hpbGRyZW47aWYoaSYmaS5tYXRjaGVzTm9kZSh0LGUsbikpbz1zLmluZGV4T2YoaSk7ZWxzZSBmb3IodmFyIGE9dGhpcy5pbmRleCxjPU1hdGgubWluKHMubGVuZ3RoLGErNSk7YTxjO2ErKyl7dmFyIGw9c1thXTtpZihsLm1hdGNoZXNOb2RlKHQsZSxuKSYmdGhpcy5wcmVNYXRjaGVkLmluZGV4T2YobCk8MCl7bz1hO2JyZWFrfX1yZXR1cm4hKG88MCkmJih0aGlzLmRlc3Ryb3lCZXR3ZWVuKHRoaXMuaW5kZXgsbyksdGhpcy5pbmRleCsrLCEwKX0sT3QucHJvdG90eXBlLnVwZGF0ZU5leHROb2RlPWZ1bmN0aW9uKHQsZSxuLHIsbyl7Zm9yKHZhciBpPXRoaXMuaW5kZXg7aTx0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGg7aSsrKXt2YXIgcz10aGlzLnRvcC5jaGlsZHJlbltpXTtpZihzIGluc3RhbmNlb2YgZHQpe3ZhciBhPXRoaXMucHJlTWF0Y2hlZC5pbmRleE9mKHMpO2lmKGE+LTEmJmErdGhpcy5wcmVNYXRjaE9mZnNldCE9bylyZXR1cm4hMTt2YXIgYz1zLmRvbSxsPXRoaXMubG9jayYmKGM9PXRoaXMubG9ja3x8MT09Yy5ub2RlVHlwZSYmYy5jb250YWlucyh0aGlzLmxvY2sucGFyZW50Tm9kZSkpJiYhKHQuaXNUZXh0JiZzLm5vZGUmJnMubm9kZS5pc1RleHQmJnMubm9kZURPTS5ub2RlVmFsdWU9PXQudGV4dCYmcy5kaXJ0eSE9b3QmJmt0KGUscy5vdXRlckRlY28pKTtpZighbCYmcy51cGRhdGUodCxlLG4scikpcmV0dXJuIHRoaXMuZGVzdHJveUJldHdlZW4odGhpcy5pbmRleCxpKSxzLmRvbSE9YyYmKHRoaXMuY2hhbmdlZD0hMCksdGhpcy5pbmRleCsrLCEwO2JyZWFrfX1yZXR1cm4hMX0sT3QucHJvdG90eXBlLmFkZE5vZGU9ZnVuY3Rpb24odCxlLG4scixvKXt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCsrLDAsZHQuY3JlYXRlKHRoaXMudG9wLHQsZSxuLHIsbykpLHRoaXMuY2hhbmdlZD0hMH0sT3QucHJvdG90eXBlLnBsYWNlV2lkZ2V0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLmluZGV4PHRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aD90aGlzLnRvcC5jaGlsZHJlblt0aGlzLmluZGV4XTpudWxsO2lmKCFyfHwhci5tYXRjaGVzV2lkZ2V0KHQpfHx0IT1yLndpZGdldCYmci53aWRnZXQudHlwZS50b0RPTS5wYXJlbnROb2RlKXt2YXIgbz1uZXcgY3QodGhpcy50b3AsdCxlLG4pO3RoaXMudG9wLmNoaWxkcmVuLnNwbGljZSh0aGlzLmluZGV4KyssMCxvKSx0aGlzLmNoYW5nZWQ9ITB9ZWxzZSB0aGlzLmluZGV4Kyt9LE90LnByb3RvdHlwZS5hZGRUZXh0YmxvY2tIYWNrcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXgtMV07d2hpbGUodCBpbnN0YW5jZW9mIHV0KXQ9dC5jaGlsZHJlblt0LmNoaWxkcmVuLmxlbmd0aC0xXTtpZighdHx8ISh0IGluc3RhbmNlb2YgZnQpfHwvXG4kLy50ZXN0KHQubm9kZS50ZXh0KSlpZih0aGlzLmluZGV4PHRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aCYmdGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleF0ubWF0Y2hlc0hhY2soKSl0aGlzLmluZGV4Kys7ZWxzZXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiciIpO3RoaXMudG9wLmNoaWxkcmVuLnNwbGljZSh0aGlzLmluZGV4KyssMCxuZXcgaHQodGhpcy50b3AsYXQsZSxudWxsKSksdGhpcy5jaGFuZ2VkPSEwfX07dmFyIHp0PXMuc2FmYXJpfHxzLmNocm9tZSYmcy5jaHJvbWVfdmVyc2lvbjw2MztmdW5jdGlvbiBJdCh0LGUpe3ZhciBuPXQuZG9jVmlldy5kb21Gcm9tUG9zKGUpLHI9bi5ub2RlLG89bi5vZmZzZXQsaT1vPHIuY2hpbGROb2Rlcy5sZW5ndGg/ci5jaGlsZE5vZGVzW29dOm51bGwsYT1vP3IuY2hpbGROb2Rlc1tvLTFdOm51bGw7aWYocy5zYWZhcmkmJmkmJiJmYWxzZSI9PWkuY29udGVudEVkaXRhYmxlKXJldHVybiAkdChpKTtpZigoIWl8fCJmYWxzZSI9PWkuY29udGVudEVkaXRhYmxlKSYmKCFhfHwiZmFsc2UiPT1hLmNvbnRlbnRFZGl0YWJsZSkpe2lmKGkpcmV0dXJuICR0KGkpO2lmKGEpcmV0dXJuICR0KGEpfX1mdW5jdGlvbiAkdCh0KXtyZXR1cm4gdC5jb250ZW50RWRpdGFibGU9InRydWUiLHMuc2FmYXJpJiZ0LmRyYWdnYWJsZSYmKHQuZHJhZ2dhYmxlPSExLHQud2FzRHJhZ2dhYmxlPSEwKSx0fWZ1bmN0aW9uIFZ0KHQpe3QuY29udGVudEVkaXRhYmxlPSJmYWxzZSIsdC53YXNEcmFnZ2FibGUmJih0LmRyYWdnYWJsZT0hMCx0Lndhc0RyYWdnYWJsZT1udWxsKX1mdW5jdGlvbiBCdCh0KXt2YXIgZT10LmRvbS5vd25lckRvY3VtZW50O2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIix0LmhpZGVTZWxlY3Rpb25HdWFyZCk7dmFyIG49dC5yb290LmdldFNlbGVjdGlvbigpLHI9bi5hbmNob3JOb2RlLG89bi5hbmNob3JPZmZzZXQ7ZS5hZGRFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLHQuaGlkZVNlbGVjdGlvbkd1YXJkPWZ1bmN0aW9uKCl7bi5hbmNob3JOb2RlPT1yJiZuLmFuY2hvck9mZnNldD09b3x8KGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIix0LmhpZGVTZWxlY3Rpb25HdWFyZCksdC5kb20uY2xhc3NMaXN0LnJlbW92ZSgiUHJvc2VNaXJyb3ItaGlkZXNlbGVjdGlvbiIpKX0pfWZ1bmN0aW9uIEZ0KHQpe3ZhciBlPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxuPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCkscj10LmN1cnNvcldyYXBwZXIuZG9tLG89IklNRyI9PXIubm9kZU5hbWU7bz9uLnNldEVuZChyLnBhcmVudE5vZGUscChyKSsxKTpuLnNldEVuZChyLDApLG4uY29sbGFwc2UoITEpLGUucmVtb3ZlQWxsUmFuZ2VzKCksZS5hZGRSYW5nZShuKSwhbyYmIXQuc3RhdGUuc2VsZWN0aW9uLnZpc2libGUmJnMuaWUmJnMuaWVfdmVyc2lvbjw9MTEmJihyLmRpc2FibGVkPSEwLHIuZGlzYWJsZWQ9ITEpfWZ1bmN0aW9uIGp0KHQsZSl7aWYoZSBpbnN0YW5jZW9mIHJbIk5vZGVTZWxlY3Rpb24iXSl7dmFyIG49dC5kb2NWaWV3LmRlc2NBdChlLmZyb20pO24hPXQubGFzdFNlbGVjdGVkVmlld0Rlc2MmJihMdCh0KSxuJiZuLnNlbGVjdE5vZGUoKSx0Lmxhc3RTZWxlY3RlZFZpZXdEZXNjPW4pfWVsc2UgTHQodCl9ZnVuY3Rpb24gTHQodCl7dC5sYXN0U2VsZWN0ZWRWaWV3RGVzYyYmKHQubGFzdFNlbGVjdGVkVmlld0Rlc2MucGFyZW50JiZ0Lmxhc3RTZWxlY3RlZFZpZXdEZXNjLmRlc2VsZWN0Tm9kZSgpLHQubGFzdFNlbGVjdGVkVmlld0Rlc2M9bnVsbCl9ZnVuY3Rpb24gSHQodCxlLG4sbyl7cmV0dXJuIHQuc29tZVByb3AoImNyZWF0ZVNlbGVjdGlvbkJldHdlZW4iLChmdW5jdGlvbihyKXtyZXR1cm4gcih0LGUsbil9KSl8fHJbIlRleHRTZWxlY3Rpb24iXS5iZXR3ZWVuKGUsbixvKX1mdW5jdGlvbiBxdCh0KXtyZXR1cm4oIXQuZWRpdGFibGV8fHQucm9vdC5hY3RpdmVFbGVtZW50PT10LmRvbSkmJld0KHQpfWZ1bmN0aW9uIFd0KHQpe3ZhciBlPXQucm9vdC5nZXRTZWxlY3Rpb24oKTtpZighZS5hbmNob3JOb2RlKXJldHVybiExO3RyeXtyZXR1cm4gdC5kb20uY29udGFpbnMoMz09ZS5hbmNob3JOb2RlLm5vZGVUeXBlP2UuYW5jaG9yTm9kZS5wYXJlbnROb2RlOmUuYW5jaG9yTm9kZSkmJih0LmVkaXRhYmxlfHx0LmRvbS5jb250YWlucygzPT1lLmZvY3VzTm9kZS5ub2RlVHlwZT9lLmZvY3VzTm9kZS5wYXJlbnROb2RlOmUuZm9jdXNOb2RlKSl9Y2F0Y2gobil7cmV0dXJuITF9fWZ1bmN0aW9uIEt0KHQpe3ZhciBlPXQuZG9jVmlldy5kb21Gcm9tUG9zKHQuc3RhdGUuc2VsZWN0aW9uLmFuY2hvciksbj10LnJvb3QuZ2V0U2VsZWN0aW9uKCk7cmV0dXJuIHYoZS5ub2RlLGUub2Zmc2V0LG4uYW5jaG9yTm9kZSxuLmFuY2hvck9mZnNldCl9ZnVuY3Rpb24gSnQodCxlKXt2YXIgbj10LnNlbGVjdGlvbixvPW4uJGFuY2hvcixpPW4uJGhlYWQscz1lPjA/by5tYXgoaSk6by5taW4oaSksYT1zLnBhcmVudC5pbmxpbmVDb250ZW50P3MuZGVwdGg/dC5kb2MucmVzb2x2ZShlPjA/cy5hZnRlcigpOnMuYmVmb3JlKCkpOm51bGw6cztyZXR1cm4gYSYmclsiU2VsZWN0aW9uIl0uZmluZEZyb20oYSxlKX1mdW5jdGlvbiBVdCh0LGUpe3JldHVybiB0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKGUpLnNjcm9sbEludG9WaWV3KCkpLCEwfWZ1bmN0aW9uIEd0KHQsZSxuKXt2YXIgbz10LnN0YXRlLnNlbGVjdGlvbjtpZighKG8gaW5zdGFuY2VvZiByWyJUZXh0U2VsZWN0aW9uIl0pKXtpZihvIGluc3RhbmNlb2YgclsiTm9kZVNlbGVjdGlvbiJdJiZvLm5vZGUuaXNJbmxpbmUpcmV0dXJuIFV0KHQsbmV3IHJbIlRleHRTZWxlY3Rpb24iXShlPjA/by4kdG86by4kZnJvbSkpO3ZhciBpPUp0KHQuc3RhdGUsZSk7cmV0dXJuISFpJiZVdCh0LGkpfWlmKCFvLmVtcHR5fHxuLmluZGV4T2YoInMiKT4tMSlyZXR1cm4hMTtpZih0LmVuZE9mVGV4dGJsb2NrKGU+MD8icmlnaHQiOiJsZWZ0Iikpe3ZhciBhPUp0KHQuc3RhdGUsZSk7cmV0dXJuISEoYSYmYSBpbnN0YW5jZW9mIHJbIk5vZGVTZWxlY3Rpb24iXSkmJlV0KHQsYSl9aWYoIShzLm1hYyYmbi5pbmRleE9mKCJtIik+LTEpKXt2YXIgYyxsPW8uJGhlYWQsdT1sLnRleHRPZmZzZXQ/bnVsbDplPDA/bC5ub2RlQmVmb3JlOmwubm9kZUFmdGVyO2lmKCF1fHx1LmlzVGV4dClyZXR1cm4hMTt2YXIgZD1lPDA/bC5wb3MtdS5ub2RlU2l6ZTpsLnBvcztyZXR1cm4hISh1LmlzQXRvbXx8KGM9dC5kb2NWaWV3LmRlc2NBdChkKSkmJiFjLmNvbnRlbnRET00pJiYoclsiTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZSh1KT9VdCh0LG5ldyByWyJOb2RlU2VsZWN0aW9uIl0oZTwwP3Quc3RhdGUuZG9jLnJlc29sdmUobC5wb3MtdS5ub2RlU2l6ZSk6bCkpOiEhcy53ZWJraXQmJlV0KHQsbmV3IHJbIlRleHRTZWxlY3Rpb24iXSh0LnN0YXRlLmRvYy5yZXNvbHZlKGU8MD9kOmQrdS5ub2RlU2l6ZSkpKSl9fWZ1bmN0aW9uIFh0KHQpe3JldHVybiAzPT10Lm5vZGVUeXBlP3Qubm9kZVZhbHVlLmxlbmd0aDp0LmNoaWxkTm9kZXMubGVuZ3RofWZ1bmN0aW9uIFl0KHQpe3ZhciBlPXQucG1WaWV3RGVzYztyZXR1cm4gZSYmMD09ZS5zaXplJiYodC5uZXh0U2libGluZ3x8IkJSIiE9dC5ub2RlTmFtZSl9ZnVuY3Rpb24gWnQodCl7dmFyIGU9dC5yb290LmdldFNlbGVjdGlvbigpLG49ZS5mb2N1c05vZGUscj1lLmZvY3VzT2Zmc2V0O2lmKG4pe3ZhciBvLGksYT0hMTtmb3Iocy5nZWNrbyYmMT09bi5ub2RlVHlwZSYmcjxYdChuKSYmWXQobi5jaGlsZE5vZGVzW3JdKSYmKGE9ITApOzspaWYocj4wKXtpZigxIT1uLm5vZGVUeXBlKWJyZWFrO3ZhciBjPW4uY2hpbGROb2Rlc1tyLTFdO2lmKFl0KGMpKW89bixpPS0tcjtlbHNle2lmKDMhPWMubm9kZVR5cGUpYnJlYWs7bj1jLHI9bi5ub2RlVmFsdWUubGVuZ3RofX1lbHNle2lmKHRlKG4pKWJyZWFrO3ZhciBsPW4ucHJldmlvdXNTaWJsaW5nO3doaWxlKGwmJll0KGwpKW89bi5wYXJlbnROb2RlLGk9cChsKSxsPWwucHJldmlvdXNTaWJsaW5nO2lmKGwpbj1sLHI9WHQobik7ZWxzZXtpZihuPW4ucGFyZW50Tm9kZSxuPT10LmRvbSlicmVhaztyPTB9fWE/ZWUodCxlLG4scik6byYmZWUodCxlLG8saSl9fWZ1bmN0aW9uIFF0KHQpe3ZhciBlPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxuPWUuZm9jdXNOb2RlLHI9ZS5mb2N1c09mZnNldDtpZihuKXtmb3IodmFyIG8saSxzPVh0KG4pOzspaWYocjxzKXtpZigxIT1uLm5vZGVUeXBlKWJyZWFrO3ZhciBhPW4uY2hpbGROb2Rlc1tyXTtpZighWXQoYSkpYnJlYWs7bz1uLGk9KytyfWVsc2V7aWYodGUobikpYnJlYWs7dmFyIGM9bi5uZXh0U2libGluZzt3aGlsZShjJiZZdChjKSlvPWMucGFyZW50Tm9kZSxpPXAoYykrMSxjPWMubmV4dFNpYmxpbmc7aWYoYyluPWMscj0wLHM9WHQobik7ZWxzZXtpZihuPW4ucGFyZW50Tm9kZSxuPT10LmRvbSlicmVhaztyPXM9MH19byYmZWUodCxlLG8saSl9fWZ1bmN0aW9uIHRlKHQpe3ZhciBlPXQucG1WaWV3RGVzYztyZXR1cm4gZSYmZS5ub2RlJiZlLm5vZGUuaXNCbG9ja31mdW5jdGlvbiBlZSh0LGUsbixyKXtpZih4KGUpKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO28uc2V0RW5kKG4sciksby5zZXRTdGFydChuLHIpLGUucmVtb3ZlQWxsUmFuZ2VzKCksZS5hZGRSYW5nZShvKX1lbHNlIGUuZXh0ZW5kJiZlLmV4dGVuZChuLHIpO3QuZG9tT2JzZXJ2ZXIuc2V0Q3VyU2VsZWN0aW9uKCk7dmFyIGk9dC5zdGF0ZTtzZXRUaW1lb3V0KChmdW5jdGlvbigpe3Quc3RhdGU9PWkmJlB0KHQpfSksNTApfWZ1bmN0aW9uIG5lKHQsZSxuKXt2YXIgbz10LnN0YXRlLnNlbGVjdGlvbjtpZihvIGluc3RhbmNlb2YgclsiVGV4dFNlbGVjdGlvbiJdJiYhby5lbXB0eXx8bi5pbmRleE9mKCJzIik+LTEpcmV0dXJuITE7aWYocy5tYWMmJm4uaW5kZXhPZigibSIpPi0xKXJldHVybiExO3ZhciBpPW8uJGZyb20sYT1vLiR0bztpZighaS5wYXJlbnQuaW5saW5lQ29udGVudHx8dC5lbmRPZlRleHRibG9jayhlPDA/InVwIjoiZG93biIpKXt2YXIgYz1KdCh0LnN0YXRlLGUpO2lmKGMmJmMgaW5zdGFuY2VvZiByWyJOb2RlU2VsZWN0aW9uIl0pcmV0dXJuIFV0KHQsYyl9aWYoIWkucGFyZW50LmlubGluZUNvbnRlbnQpe3ZhciBsPXJbIlNlbGVjdGlvbiJdLmZpbmRGcm9tKGU8MD9pOmEsZSk7cmV0dXJuIWx8fFV0KHQsbCl9cmV0dXJuITF9ZnVuY3Rpb24gcmUodCxlKXtpZighKHQuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgclsiVGV4dFNlbGVjdGlvbiJdKSlyZXR1cm4hMDt2YXIgbj10LnN0YXRlLnNlbGVjdGlvbixvPW4uJGhlYWQsaT1uLiRhbmNob3Iscz1uLmVtcHR5O2lmKCFvLnNhbWVQYXJlbnQoaSkpcmV0dXJuITA7aWYoIXMpcmV0dXJuITE7aWYodC5lbmRPZlRleHRibG9jayhlPjA/ImZvcndhcmQiOiJiYWNrd2FyZCIpKXJldHVybiEwO3ZhciBhPSFvLnRleHRPZmZzZXQmJihlPDA/by5ub2RlQmVmb3JlOm8ubm9kZUFmdGVyKTtpZihhJiYhYS5pc1RleHQpe3ZhciBjPXQuc3RhdGUudHI7cmV0dXJuIGU8MD9jLmRlbGV0ZShvLnBvcy1hLm5vZGVTaXplLG8ucG9zKTpjLmRlbGV0ZShvLnBvcyxvLnBvcythLm5vZGVTaXplKSx0LmRpc3BhdGNoKGMpLCEwfXJldHVybiExfWZ1bmN0aW9uIG9lKHQsZSxuKXt0LmRvbU9ic2VydmVyLnN0b3AoKSxlLmNvbnRlbnRFZGl0YWJsZT1uLHQuZG9tT2JzZXJ2ZXIuc3RhcnQoKX1mdW5jdGlvbiBpZSh0KXtpZihzLnNhZmFyaSYmISh0LnN0YXRlLnNlbGVjdGlvbi4kaGVhZC5wYXJlbnRPZmZzZXQ+MCkpe3ZhciBlPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxuPWUuZm9jdXNOb2RlLHI9ZS5mb2N1c09mZnNldDtpZihuJiYxPT1uLm5vZGVUeXBlJiYwPT1yJiZuLmZpcnN0Q2hpbGQmJiJmYWxzZSI9PW4uZmlyc3RDaGlsZC5jb250ZW50RWRpdGFibGUpe3ZhciBvPW4uZmlyc3RDaGlsZDtvZSh0LG8sITApLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIG9lKHQsbywhMSl9KSwyMCl9fX1mdW5jdGlvbiBzZSh0KXt2YXIgZT0iIjtyZXR1cm4gdC5jdHJsS2V5JiYoZSs9ImMiKSx0Lm1ldGFLZXkmJihlKz0ibSIpLHQuYWx0S2V5JiYoZSs9ImEiKSx0LnNoaWZ0S2V5JiYoZSs9InMiKSxlfWZ1bmN0aW9uIGFlKHQsZSl7dmFyIG49ZS5rZXlDb2RlLHI9c2UoZSk7cmV0dXJuIDg9PW58fHMubWFjJiY3Mj09biYmImMiPT1yP3JlKHQsLTEpfHxadCh0KTo0Nj09bnx8cy5tYWMmJjY4PT1uJiYiYyI9PXI/cmUodCwxKXx8UXQodCk6MTM9PW58fDI3PT1ufHwoMzc9PW4/R3QodCwtMSxyKXx8WnQodCk6Mzk9PW4/R3QodCwxLHIpfHxRdCh0KTozOD09bj9uZSh0LC0xLHIpfHxadCh0KTo0MD09bj9pZSh0KXx8bmUodCwxLHIpfHxRdCh0KTpyPT0ocy5tYWM/Im0iOiJjIikmJig2Nj09bnx8NzM9PW58fDg5PT1ufHw5MD09bikpfWZ1bmN0aW9uIGNlKHQsZSxuKXt2YXIgcj10LmRvY1ZpZXcucGFyc2VSYW5nZShlLG4pLGk9ci5ub2RlLGE9ci5mcm9tT2Zmc2V0LGM9ci50b09mZnNldCxsPXIuZnJvbSx1PXIudG8sZD10LnJvb3QuZ2V0U2VsZWN0aW9uKCkscD1udWxsLGY9ZC5hbmNob3JOb2RlO2lmKGYmJnQuZG9tLmNvbnRhaW5zKDE9PWYubm9kZVR5cGU/ZjpmLnBhcmVudE5vZGUpJiYocD1be25vZGU6ZixvZmZzZXQ6ZC5hbmNob3JPZmZzZXR9XSx4KGQpfHxwLnB1c2goe25vZGU6ZC5mb2N1c05vZGUsb2Zmc2V0OmQuZm9jdXNPZmZzZXR9KSkscy5jaHJvbWUmJjg9PT10Lmxhc3RLZXlDb2RlKWZvcih2YXIgaD1jO2g+YTtoLS0pe3ZhciBtPWkuY2hpbGROb2Rlc1toLTFdLHY9bS5wbVZpZXdEZXNjO2lmKCJCUiI9PW0ubm9kZVR5cGUmJiF2KXtjPWg7YnJlYWt9aWYoIXZ8fHYuc2l6ZSlicmVha312YXIgZz10LnN0YXRlLmRvYyx5PXQuc29tZVByb3AoImRvbVBhcnNlciIpfHxvWyJET01QYXJzZXIiXS5mcm9tU2NoZW1hKHQuc3RhdGUuc2NoZW1hKSxiPWcucmVzb2x2ZShsKSx3PW51bGwsUz15LnBhcnNlKGkse3RvcE5vZGU6Yi5wYXJlbnQsdG9wTWF0Y2g6Yi5wYXJlbnQuY29udGVudE1hdGNoQXQoYi5pbmRleCgpKSx0b3BPcGVuOiEwLGZyb206YSx0bzpjLHByZXNlcnZlV2hpdGVzcGFjZTohYi5wYXJlbnQudHlwZS5zcGVjLmNvZGV8fCJmdWxsIixlZGl0YWJsZUNvbnRlbnQ6ITAsZmluZFBvc2l0aW9uczpwLHJ1bGVGcm9tTm9kZTpsZSxjb250ZXh0OmJ9KTtpZihwJiZudWxsIT1wWzBdLnBvcyl7dmFyIGs9cFswXS5wb3MsQz1wWzFdJiZwWzFdLnBvcztudWxsPT1DJiYoQz1rKSx3PXthbmNob3I6aytsLGhlYWQ6QytsfX1yZXR1cm57ZG9jOlMsc2VsOncsZnJvbTpsLHRvOnV9fWZ1bmN0aW9uIGxlKHQpe3ZhciBlPXQucG1WaWV3RGVzYztpZihlKXJldHVybiBlLnBhcnNlUnVsZSgpO2lmKCJCUiI9PXQubm9kZU5hbWUmJnQucGFyZW50Tm9kZSl7aWYocy5zYWZhcmkmJi9eKHVsfG9sKSQvaS50ZXN0KHQucGFyZW50Tm9kZS5ub2RlTmFtZSkpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBuLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIikpLHtza2lwOm59fWlmKHQucGFyZW50Tm9kZS5sYXN0Q2hpbGQ9PXR8fHMuc2FmYXJpJiYvXih0cnx0YWJsZSkkL2kudGVzdCh0LnBhcmVudE5vZGUubm9kZU5hbWUpKXJldHVybntpZ25vcmU6ITB9fWVsc2UgaWYoIklNRyI9PXQubm9kZU5hbWUmJnQuZ2V0QXR0cmlidXRlKCJtYXJrLXBsYWNlaG9sZGVyIikpcmV0dXJue2lnbm9yZTohMH19ZnVuY3Rpb24gdWUodCxlLG4sbyxpKXtpZihlPDApe3ZhciBhPXQubGFzdFNlbGVjdGlvblRpbWU+RGF0ZS5ub3coKS01MD90Lmxhc3RTZWxlY3Rpb25PcmlnaW46bnVsbCxjPV90KHQsYSk7aWYoYyYmIXQuc3RhdGUuc2VsZWN0aW9uLmVxKGMpKXt2YXIgbD10LnN0YXRlLnRyLnNldFNlbGVjdGlvbihjKTsicG9pbnRlciI9PWE/bC5zZXRNZXRhKCJwb2ludGVyIiwhMCk6ImtleSI9PWEmJmwuc2Nyb2xsSW50b1ZpZXcoKSx0LmRpc3BhdGNoKGwpfX1lbHNle3ZhciB1PXQuc3RhdGUuZG9jLnJlc29sdmUoZSksZD11LnNoYXJlZERlcHRoKG4pO2U9dS5iZWZvcmUoZCsxKSxuPXQuc3RhdGUuZG9jLnJlc29sdmUobikuYWZ0ZXIoZCsxKTt2YXIgcCxmLGg9dC5zdGF0ZS5zZWxlY3Rpb24sbT1jZSh0LGUsbiksdj10LnN0YXRlLmRvYyxnPXYuc2xpY2UobS5mcm9tLG0udG8pOzg9PT10Lmxhc3RLZXlDb2RlJiZEYXRlLm5vdygpLTEwMDx0Lmxhc3RLZXlDb2RlVGltZT8ocD10LnN0YXRlLnNlbGVjdGlvbi50byxmPSJlbmQiKToocD10LnN0YXRlLnNlbGVjdGlvbi5mcm9tLGY9InN0YXJ0IiksdC5sYXN0S2V5Q29kZT1udWxsO3ZhciB5PW1lKGcuY29udGVudCxtLmRvYy5jb250ZW50LG0uZnJvbSxwLGYpO2lmKCF5KXtpZighKG8mJmggaW5zdGFuY2VvZiByWyJUZXh0U2VsZWN0aW9uIl0mJiFoLmVtcHR5JiZoLiRoZWFkLnNhbWVQYXJlbnQoaC4kYW5jaG9yKSl8fHQuY29tcG9zaW5nfHxtLnNlbCYmbS5zZWwuYW5jaG9yIT1tLnNlbC5oZWFkKXtpZihtLnNlbCl7dmFyIGI9ZGUodCx0LnN0YXRlLmRvYyxtLnNlbCk7YiYmIWIuZXEodC5zdGF0ZS5zZWxlY3Rpb24pJiZ0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKGIpKX1yZXR1cm59eT17c3RhcnQ6aC5mcm9tLGVuZEE6aC50byxlbmRCOmgudG99fXQuZG9tQ2hhbmdlQ291bnQrKyx0LnN0YXRlLnNlbGVjdGlvbi5mcm9tPHQuc3RhdGUuc2VsZWN0aW9uLnRvJiZ5LnN0YXJ0PT15LmVuZEImJnQuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgclsiVGV4dFNlbGVjdGlvbiJdJiYoeS5zdGFydD50LnN0YXRlLnNlbGVjdGlvbi5mcm9tJiZ5LnN0YXJ0PD10LnN0YXRlLnNlbGVjdGlvbi5mcm9tKzI/eS5zdGFydD10LnN0YXRlLnNlbGVjdGlvbi5mcm9tOnkuZW5kQTx0LnN0YXRlLnNlbGVjdGlvbi50byYmeS5lbmRBPj10LnN0YXRlLnNlbGVjdGlvbi50by0yJiYoeS5lbmRCKz10LnN0YXRlLnNlbGVjdGlvbi50by15LmVuZEEseS5lbmRBPXQuc3RhdGUuc2VsZWN0aW9uLnRvKSkscy5pZSYmcy5pZV92ZXJzaW9uPD0xMSYmeS5lbmRCPT15LnN0YXJ0KzEmJnkuZW5kQT09eS5zdGFydCYmeS5zdGFydD5tLmZyb20mJiIgwqAiPT1tLmRvYy50ZXh0QmV0d2Vlbih5LnN0YXJ0LW0uZnJvbS0xLHkuc3RhcnQtbS5mcm9tKzEpJiYoeS5zdGFydC0tLHkuZW5kQS0tLHkuZW5kQi0tKTt2YXIgdyxTPW0uZG9jLnJlc29sdmVOb0NhY2hlKHkuc3RhcnQtbS5mcm9tKSx4PW0uZG9jLnJlc29sdmVOb0NhY2hlKHkuZW5kQi1tLmZyb20pLEM9Uy5zYW1lUGFyZW50KHgpJiZTLnBhcmVudC5pbmxpbmVDb250ZW50O2lmKChzLmlvcyYmdC5sYXN0SU9TRW50ZXI+RGF0ZS5ub3coKS0yMjUmJighQ3x8aS5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4iRElWIj09dC5ub2RlTmFtZXx8IlAiPT10Lm5vZGVOYW1lfSkpKXx8IUMmJlMucG9zPG0uZG9jLmNvbnRlbnQuc2l6ZSYmKHc9clsiU2VsZWN0aW9uIl0uZmluZEZyb20obS5kb2MucmVzb2x2ZShTLnBvcysxKSwxLCEwKSkmJncuaGVhZD09eC5wb3MpJiZ0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCxrKDEzLCJFbnRlciIpKX0pKSl0Lmxhc3RJT1NFbnRlcj0wO2Vsc2UgaWYodC5zdGF0ZS5zZWxlY3Rpb24uYW5jaG9yPnkuc3RhcnQmJmZlKHYseS5zdGFydCx5LmVuZEEsUyx4KSYmdC5zb21lUHJvcCgiaGFuZGxlS2V5RG93biIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQsayg4LCJCYWNrc3BhY2UiKSl9KSkpcy5hbmRyb2lkJiZzLmNocm9tZSYmdC5kb21PYnNlcnZlci5zdXBwcmVzc1NlbGVjdGlvblVwZGF0ZXMoKTtlbHNle3MuYW5kcm9pZCYmIUMmJlMuc3RhcnQoKSE9eC5zdGFydCgpJiYwPT14LnBhcmVudE9mZnNldCYmUy5kZXB0aD09eC5kZXB0aCYmbS5zZWwmJm0uc2VsLmFuY2hvcj09bS5zZWwuaGVhZCYmbS5zZWwuaGVhZD09eS5lbmRBJiYoeS5lbmRCLT0yLHg9bS5kb2MucmVzb2x2ZU5vQ2FjaGUoeS5lbmRCLW0uZnJvbSksc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCxrKDEzLCJFbnRlciIpKX0pKX0pLDIwKSk7dmFyIE8sTSxOLFQsQT15LnN0YXJ0LEQ9eS5lbmRBO2lmKEMpaWYoUy5wb3M9PXgucG9zKXMuaWUmJnMuaWVfdmVyc2lvbjw9MTEmJjA9PVMucGFyZW50T2Zmc2V0JiYodC5kb21PYnNlcnZlci5zdXBwcmVzc1NlbGVjdGlvblVwZGF0ZXMoKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBQdCh0KX0pLDIwKSksTz10LnN0YXRlLnRyLmRlbGV0ZShBLEQpLE09di5yZXNvbHZlKHkuc3RhcnQpLm1hcmtzQWNyb3NzKHYucmVzb2x2ZSh5LmVuZEEpKTtlbHNlIGlmKHkuZW5kQT09eS5lbmRCJiYoVD12LnJlc29sdmUoeS5zdGFydCkpJiYoTj1wZShTLnBhcmVudC5jb250ZW50LmN1dChTLnBhcmVudE9mZnNldCx4LnBhcmVudE9mZnNldCksVC5wYXJlbnQuY29udGVudC5jdXQoVC5wYXJlbnRPZmZzZXQseS5lbmRBLVQuc3RhcnQoKSkpKSlPPXQuc3RhdGUudHIsImFkZCI9PU4udHlwZT9PLmFkZE1hcmsoQSxELE4ubWFyayk6Ty5yZW1vdmVNYXJrKEEsRCxOLm1hcmspO2Vsc2UgaWYoUy5wYXJlbnQuY2hpbGQoUy5pbmRleCgpKS5pc1RleHQmJlMuaW5kZXgoKT09eC5pbmRleCgpLSh4LnRleHRPZmZzZXQ/MDoxKSl7dmFyIEU9Uy5wYXJlbnQudGV4dEJldHdlZW4oUy5wYXJlbnRPZmZzZXQseC5wYXJlbnRPZmZzZXQpO2lmKHQuc29tZVByb3AoImhhbmRsZVRleHRJbnB1dCIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQsQSxELEUpfSkpKXJldHVybjtPPXQuc3RhdGUudHIuaW5zZXJ0VGV4dChFLEEsRCl9aWYoT3x8KE89dC5zdGF0ZS50ci5yZXBsYWNlKEEsRCxtLmRvYy5zbGljZSh5LnN0YXJ0LW0uZnJvbSx5LmVuZEItbS5mcm9tKSkpLG0uc2VsKXt2YXIgUj1kZSh0LE8uZG9jLG0uc2VsKTtSJiYhKHMuY2hyb21lJiZzLmFuZHJvaWQmJnQuY29tcG9zaW5nJiZSLmVtcHR5JiYoUi5oZWFkPT1BfHxSLmhlYWQ9PU8ubWFwcGluZy5tYXAoRCktMSl8fHMuaWUmJlIuZW1wdHkmJlIuaGVhZD09QSkmJk8uc2V0U2VsZWN0aW9uKFIpfU0mJk8uZW5zdXJlTWFya3MoTSksdC5kaXNwYXRjaChPLnNjcm9sbEludG9WaWV3KCkpfX19ZnVuY3Rpb24gZGUodCxlLG4pe3JldHVybiBNYXRoLm1heChuLmFuY2hvcixuLmhlYWQpPmUuY29udGVudC5zaXplP251bGw6SHQodCxlLnJlc29sdmUobi5hbmNob3IpLGUucmVzb2x2ZShuLmhlYWQpKX1mdW5jdGlvbiBwZSh0LGUpe2Zvcih2YXIgbixyLGkscz10LmZpcnN0Q2hpbGQubWFya3MsYT1lLmZpcnN0Q2hpbGQubWFya3MsYz1zLGw9YSx1PTA7dTxhLmxlbmd0aDt1KyspYz1hW3VdLnJlbW92ZUZyb21TZXQoYyk7Zm9yKHZhciBkPTA7ZDxzLmxlbmd0aDtkKyspbD1zW2RdLnJlbW92ZUZyb21TZXQobCk7aWYoMT09Yy5sZW5ndGgmJjA9PWwubGVuZ3RoKXI9Y1swXSxuPSJhZGQiLGk9ZnVuY3Rpb24odCl7cmV0dXJuIHQubWFyayhyLmFkZFRvU2V0KHQubWFya3MpKX07ZWxzZXtpZigwIT1jLmxlbmd0aHx8MSE9bC5sZW5ndGgpcmV0dXJuIG51bGw7cj1sWzBdLG49InJlbW92ZSIsaT1mdW5jdGlvbih0KXtyZXR1cm4gdC5tYXJrKHIucmVtb3ZlRnJvbVNldCh0Lm1hcmtzKSl9fWZvcih2YXIgcD1bXSxmPTA7ZjxlLmNoaWxkQ291bnQ7ZisrKXAucHVzaChpKGUuY2hpbGQoZikpKTtpZihvWyJGcmFnbWVudCJdLmZyb20ocCkuZXEodCkpcmV0dXJue21hcms6cix0eXBlOm59fWZ1bmN0aW9uIGZlKHQsZSxuLHIsbyl7aWYoIXIucGFyZW50LmlzVGV4dGJsb2NrfHxuLWU8PW8ucG9zLXIucG9zfHxoZShyLCEwLCExKTxvLnBvcylyZXR1cm4hMTt2YXIgaT10LnJlc29sdmUoZSk7aWYoaS5wYXJlbnRPZmZzZXQ8aS5wYXJlbnQuY29udGVudC5zaXplfHwhaS5wYXJlbnQuaXNUZXh0YmxvY2spcmV0dXJuITE7dmFyIHM9dC5yZXNvbHZlKGhlKGksITAsITApKTtyZXR1cm4hKCFzLnBhcmVudC5pc1RleHRibG9ja3x8cy5wb3M+bnx8aGUocywhMCwhMSk8bikmJnIucGFyZW50LmNvbnRlbnQuY3V0KHIucGFyZW50T2Zmc2V0KS5lcShzLnBhcmVudC5jb250ZW50KX1mdW5jdGlvbiBoZSh0LGUsbil7dmFyIHI9dC5kZXB0aCxvPWU/dC5lbmQoKTp0LnBvczt3aGlsZShyPjAmJihlfHx0LmluZGV4QWZ0ZXIocik9PXQubm9kZShyKS5jaGlsZENvdW50KSlyLS0sbysrLGU9ITE7aWYobil7dmFyIGk9dC5ub2RlKHIpLm1heWJlQ2hpbGQodC5pbmRleEFmdGVyKHIpKTt3aGlsZShpJiYhaS5pc0xlYWYpaT1pLmZpcnN0Q2hpbGQsbysrfXJldHVybiBvfWZ1bmN0aW9uIG1lKHQsZSxuLHIsbyl7dmFyIGk9dC5maW5kRGlmZlN0YXJ0KGUsbik7aWYobnVsbD09aSlyZXR1cm4gbnVsbDt2YXIgcz10LmZpbmREaWZmRW5kKGUsbit0LnNpemUsbitlLnNpemUpLGE9cy5hLGM9cy5iO2lmKCJlbmQiPT1vKXt2YXIgbD1NYXRoLm1heCgwLGktTWF0aC5taW4oYSxjKSk7ci09YStsLWl9aWYoYTxpJiZ0LnNpemU8ZS5zaXplKXt2YXIgdT1yPD1pJiZyPj1hP2ktcjowO2ktPXUsYz1pKyhjLWEpLGE9aX1lbHNlIGlmKGM8aSl7dmFyIGQ9cjw9aSYmcj49Yz9pLXI6MDtpLT1kLGE9aSsoYS1jKSxjPWl9cmV0dXJue3N0YXJ0OmksZW5kQTphLGVuZEI6Y319ZnVuY3Rpb24gdmUodCxlKXt2YXIgbj1bXSxyPWUuY29udGVudCxpPWUub3BlblN0YXJ0LHM9ZS5vcGVuRW5kO3doaWxlKGk+MSYmcz4xJiYxPT1yLmNoaWxkQ291bnQmJjE9PXIuZmlyc3RDaGlsZC5jaGlsZENvdW50KXtpLS0scy0tO3ZhciBhPXIuZmlyc3RDaGlsZDtuLnB1c2goYS50eXBlLm5hbWUsYS5hdHRycyE9YS50eXBlLmRlZmF1bHRBdHRycz9hLmF0dHJzOm51bGwpLHI9YS5jb250ZW50fXZhciBjPXQuc29tZVByb3AoImNsaXBib2FyZFNlcmlhbGl6ZXIiKXx8b1siRE9NU2VyaWFsaXplciJdLmZyb21TY2hlbWEodC5zdGF0ZS5zY2hlbWEpLGw9TWUoKSx1PWwuY3JlYXRlRWxlbWVudCgiZGl2Iik7dS5hcHBlbmRDaGlsZChjLnNlcmlhbGl6ZUZyYWdtZW50KHIse2RvY3VtZW50Omx9KSk7dmFyIGQscD11LmZpcnN0Q2hpbGQ7d2hpbGUocCYmMT09cC5ub2RlVHlwZSYmKGQ9Q2VbcC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkpe2Zvcih2YXIgZj1kLmxlbmd0aC0xO2Y+PTA7Zi0tKXt2YXIgaD1sLmNyZWF0ZUVsZW1lbnQoZFtmXSk7d2hpbGUodS5maXJzdENoaWxkKWguYXBwZW5kQ2hpbGQodS5maXJzdENoaWxkKTt1LmFwcGVuZENoaWxkKGgpfXA9dS5maXJzdENoaWxkfXAmJjE9PXAubm9kZVR5cGUmJnAuc2V0QXR0cmlidXRlKCJkYXRhLXBtLXNsaWNlIixpKyIgIitzKyIgIitKU09OLnN0cmluZ2lmeShuKSk7dmFyIG09dC5zb21lUHJvcCgiY2xpcGJvYXJkVGV4dFNlcmlhbGl6ZXIiLChmdW5jdGlvbih0KXtyZXR1cm4gdChlKX0pKXx8ZS5jb250ZW50LnRleHRCZXR3ZWVuKDAsZS5jb250ZW50LnNpemUsIlxuXG4iKTtyZXR1cm57ZG9tOnUsdGV4dDptfX1mdW5jdGlvbiBnZSh0LGUsbixyLGkpe3ZhciBzLGEsYz1pLnBhcmVudC50eXBlLnNwZWMuY29kZTtpZighbiYmIWUpcmV0dXJuIG51bGw7dmFyIGw9ZSYmKHJ8fGN8fCFuKTtpZihsKXtpZih0LnNvbWVQcm9wKCJ0cmFuc2Zvcm1QYXN0ZWRUZXh0IiwoZnVuY3Rpb24odCl7ZT10KGUsY3x8cil9KSksYylyZXR1cm4gbmV3IG9bIlNsaWNlIl0ob1siRnJhZ21lbnQiXS5mcm9tKHQuc3RhdGUuc2NoZW1hLnRleHQoZSkpLDAsMCk7dmFyIHU9dC5zb21lUHJvcCgiY2xpcGJvYXJkVGV4dFBhcnNlciIsKGZ1bmN0aW9uKHQpe3JldHVybiB0KGUsaSxyKX0pKTt1P2E9dToocz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxlLnRyaW0oKS5zcGxpdCgvKD86XHJcbj98XG4pKy8pLmZvckVhY2goKGZ1bmN0aW9uKHQpe3MuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpKS50ZXh0Q29udGVudD10fSkpKX1lbHNlIHQuc29tZVByb3AoInRyYW5zZm9ybVBhc3RlZEhUTUwiLChmdW5jdGlvbih0KXtuPXQobil9KSkscz1OZShuKTt2YXIgZD1zJiZzLnF1ZXJ5U2VsZWN0b3IoIltkYXRhLXBtLXNsaWNlXSIpLHA9ZCYmL14oXGQrKSAoXGQrKSAoLiopLy5leGVjKGQuZ2V0QXR0cmlidXRlKCJkYXRhLXBtLXNsaWNlIikpO2lmKCFhKXt2YXIgZj10LnNvbWVQcm9wKCJjbGlwYm9hcmRQYXJzZXIiKXx8dC5zb21lUHJvcCgiZG9tUGFyc2VyIil8fG9bIkRPTVBhcnNlciJdLmZyb21TY2hlbWEodC5zdGF0ZS5zY2hlbWEpO2E9Zi5wYXJzZVNsaWNlKHMse3ByZXNlcnZlV2hpdGVzcGFjZTohKCFsJiYhcCksY29udGV4dDppfSl9cmV0dXJuIGE9cD9UZShrZShhLCtwWzFdLCtwWzJdKSxwWzNdKTpvWyJTbGljZSJdLm1heE9wZW4oeWUoYS5jb250ZW50LGkpLCExKSx0LnNvbWVQcm9wKCJ0cmFuc2Zvcm1QYXN0ZWQiLChmdW5jdGlvbih0KXthPXQoYSl9KSksYX1mdW5jdGlvbiB5ZSh0LGUpe2lmKHQuY2hpbGRDb3VudDwyKXJldHVybiB0O2Zvcih2YXIgbj1mdW5jdGlvbihuKXt2YXIgcj1lLm5vZGUobiksaT1yLmNvbnRlbnRNYXRjaEF0KGUuaW5kZXgobikpLHM9dm9pZCAwLGE9W107aWYodC5mb3JFYWNoKChmdW5jdGlvbih0KXtpZihhKXt2YXIgZSxuPWkuZmluZFdyYXBwaW5nKHQudHlwZSk7aWYoIW4pcmV0dXJuIGE9bnVsbDtpZihlPWEubGVuZ3RoJiZzLmxlbmd0aCYmd2UobixzLHQsYVthLmxlbmd0aC0xXSwwKSlhW2EubGVuZ3RoLTFdPWU7ZWxzZXthLmxlbmd0aCYmKGFbYS5sZW5ndGgtMV09U2UoYVthLmxlbmd0aC0xXSxzLmxlbmd0aCkpO3ZhciByPWJlKHQsbik7YS5wdXNoKHIpLGk9aS5tYXRjaFR5cGUoci50eXBlLHIuYXR0cnMpLHM9bn19fSkpLGEpcmV0dXJue3Y6b1siRnJhZ21lbnQiXS5mcm9tKGEpfX0scj1lLmRlcHRoO3I+PTA7ci0tKXt2YXIgaT1uKHIpO2lmKGkpcmV0dXJuIGkudn1yZXR1cm4gdH1mdW5jdGlvbiBiZSh0LGUsbil7dm9pZCAwPT09biYmKG49MCk7Zm9yKHZhciByPWUubGVuZ3RoLTE7cj49bjtyLS0pdD1lW3JdLmNyZWF0ZShudWxsLG9bIkZyYWdtZW50Il0uZnJvbSh0KSk7cmV0dXJuIHR9ZnVuY3Rpb24gd2UodCxlLG4scixpKXtpZihpPHQubGVuZ3RoJiZpPGUubGVuZ3RoJiZ0W2ldPT1lW2ldKXt2YXIgcz13ZSh0LGUsbixyLmxhc3RDaGlsZCxpKzEpO2lmKHMpcmV0dXJuIHIuY29weShyLmNvbnRlbnQucmVwbGFjZUNoaWxkKHIuY2hpbGRDb3VudC0xLHMpKTt2YXIgYT1yLmNvbnRlbnRNYXRjaEF0KHIuY2hpbGRDb3VudCk7aWYoYS5tYXRjaFR5cGUoaT09dC5sZW5ndGgtMT9uLnR5cGU6dFtpKzFdKSlyZXR1cm4gci5jb3B5KHIuY29udGVudC5hcHBlbmQob1siRnJhZ21lbnQiXS5mcm9tKGJlKG4sdCxpKzEpKSkpfX1mdW5jdGlvbiBTZSh0LGUpe2lmKDA9PWUpcmV0dXJuIHQ7dmFyIG49dC5jb250ZW50LnJlcGxhY2VDaGlsZCh0LmNoaWxkQ291bnQtMSxTZSh0Lmxhc3RDaGlsZCxlLTEpKSxyPXQuY29udGVudE1hdGNoQXQodC5jaGlsZENvdW50KS5maWxsQmVmb3JlKG9bIkZyYWdtZW50Il0uZW1wdHksITApO3JldHVybiB0LmNvcHkobi5hcHBlbmQocikpfWZ1bmN0aW9uIHhlKHQsZSxuLHIsaSxzKXt2YXIgYT1lPDA/dC5maXJzdENoaWxkOnQubGFzdENoaWxkLGM9YS5jb250ZW50O3JldHVybiBpPHItMSYmKGM9eGUoYyxlLG4scixpKzEscykpLGk+PW4mJihjPWU8MD9hLmNvbnRlbnRNYXRjaEF0KDApLmZpbGxCZWZvcmUoYyx0LmNoaWxkQ291bnQ+MXx8czw9aSkuYXBwZW5kKGMpOmMuYXBwZW5kKGEuY29udGVudE1hdGNoQXQoYS5jaGlsZENvdW50KS5maWxsQmVmb3JlKG9bIkZyYWdtZW50Il0uZW1wdHksITApKSksdC5yZXBsYWNlQ2hpbGQoZTwwPzA6dC5jaGlsZENvdW50LTEsYS5jb3B5KGMpKX1mdW5jdGlvbiBrZSh0LGUsbil7cmV0dXJuIGU8dC5vcGVuU3RhcnQmJih0PW5ldyBvWyJTbGljZSJdKHhlKHQuY29udGVudCwtMSxlLHQub3BlblN0YXJ0LDAsdC5vcGVuRW5kKSxlLHQub3BlbkVuZCkpLG48dC5vcGVuRW5kJiYodD1uZXcgb1siU2xpY2UiXSh4ZSh0LmNvbnRlbnQsMSxuLHQub3BlbkVuZCwwLDApLHQub3BlblN0YXJ0LG4pKSx0fXZhciBDZT17dGhlYWQ6WyJ0YWJsZSJdLHRib2R5OlsidGFibGUiXSx0Zm9vdDpbInRhYmxlIl0sY2FwdGlvbjpbInRhYmxlIl0sY29sZ3JvdXA6WyJ0YWJsZSJdLGNvbDpbInRhYmxlIiwiY29sZ3JvdXAiXSx0cjpbInRhYmxlIiwidGJvZHkiXSx0ZDpbInRhYmxlIiwidGJvZHkiLCJ0ciJdLHRoOlsidGFibGUiLCJ0Ym9keSIsInRyIl19LE9lPW51bGw7ZnVuY3Rpb24gTWUoKXtyZXR1cm4gT2V8fChPZT1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoInRpdGxlIikpfWZ1bmN0aW9uIE5lKHQpe3ZhciBlPS8oXHMqPG1ldGEgW14+XSo+KSovLmV4ZWModCk7ZSYmKHQ9dC5zbGljZShlWzBdLmxlbmd0aCkpO3ZhciBuLHI9TWUoKS5jcmVhdGVFbGVtZW50KCJkaXYiKSxvPS8oPzo8bWV0YSBbXj5dKj4pKjwoW2Etel1bXj5cc10rKS9pLmV4ZWModCksaT0wOyhuPW8mJkNlW29bMV0udG9Mb3dlckNhc2UoKV0pJiYodD1uLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIjwiK3QrIj4ifSkpLmpvaW4oIiIpK3Qrbi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiI8LyIrdCsiPiJ9KSkucmV2ZXJzZSgpLmpvaW4oIiIpLGk9bi5sZW5ndGgpLHIuaW5uZXJIVE1MPXQ7Zm9yKHZhciBzPTA7czxpO3MrKylyPXIuZmlyc3RDaGlsZDtyZXR1cm4gcn1mdW5jdGlvbiBUZSh0LGUpe2lmKCF0LnNpemUpcmV0dXJuIHQ7dmFyIG4scj10LmNvbnRlbnQuZmlyc3RDaGlsZC50eXBlLnNjaGVtYTt0cnl7bj1KU09OLnBhcnNlKGUpfWNhdGNoKHUpe3JldHVybiB0fWZvcih2YXIgaT10LmNvbnRlbnQscz10Lm9wZW5TdGFydCxhPXQub3BlbkVuZCxjPW4ubGVuZ3RoLTI7Yz49MDtjLT0yKXt2YXIgbD1yLm5vZGVzW25bY11dO2lmKCFsfHxsLmhhc1JlcXVpcmVkQXR0cnMoKSlicmVhaztpPW9bIkZyYWdtZW50Il0uZnJvbShsLmNyZWF0ZShuW2MrMV0saSkpLHMrKyxhKyt9cmV0dXJuIG5ldyBvWyJTbGljZSJdKGkscyxhKX12YXIgQWU9e2NoaWxkTGlzdDohMCxjaGFyYWN0ZXJEYXRhOiEwLGNoYXJhY3RlckRhdGFPbGRWYWx1ZTohMCxhdHRyaWJ1dGVzOiEwLGF0dHJpYnV0ZU9sZFZhbHVlOiEwLHN1YnRyZWU6ITB9LERlPXMuaWUmJnMuaWVfdmVyc2lvbjw9MTEsRWU9ZnVuY3Rpb24oKXt0aGlzLmFuY2hvck5vZGU9dGhpcy5hbmNob3JPZmZzZXQ9dGhpcy5mb2N1c05vZGU9dGhpcy5mb2N1c09mZnNldD1udWxsfTtFZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuYW5jaG9yTm9kZT10LmFuY2hvck5vZGUsdGhpcy5hbmNob3JPZmZzZXQ9dC5hbmNob3JPZmZzZXQsdGhpcy5mb2N1c05vZGU9dC5mb2N1c05vZGUsdGhpcy5mb2N1c09mZnNldD10LmZvY3VzT2Zmc2V0fSxFZS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHQuYW5jaG9yTm9kZT09dGhpcy5hbmNob3JOb2RlJiZ0LmFuY2hvck9mZnNldD09dGhpcy5hbmNob3JPZmZzZXQmJnQuZm9jdXNOb2RlPT10aGlzLmZvY3VzTm9kZSYmdC5mb2N1c09mZnNldD09dGhpcy5mb2N1c09mZnNldH07dmFyIFJlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0aGlzLnZpZXc9dCx0aGlzLmhhbmRsZURPTUNoYW5nZT1lLHRoaXMucXVldWU9W10sdGhpcy5mbHVzaGluZ1Nvb249LTEsdGhpcy5vYnNlcnZlcj13aW5kb3cuTXV0YXRpb25PYnNlcnZlciYmbmV3IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyKChmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyluLnF1ZXVlLnB1c2godFtlXSk7cy5pZSYmcy5pZV92ZXJzaW9uPD0xMSYmdC5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4iY2hpbGRMaXN0Ij09dC50eXBlJiZ0LnJlbW92ZWROb2Rlcy5sZW5ndGh8fCJjaGFyYWN0ZXJEYXRhIj09dC50eXBlJiZ0Lm9sZFZhbHVlLmxlbmd0aD50LnRhcmdldC5ub2RlVmFsdWUubGVuZ3RofSkpP24uZmx1c2hTb29uKCk6bi5mbHVzaCgpfSkpLHRoaXMuY3VycmVudFNlbGVjdGlvbj1uZXcgRWUsRGUmJih0aGlzLm9uQ2hhckRhdGE9ZnVuY3Rpb24odCl7bi5xdWV1ZS5wdXNoKHt0YXJnZXQ6dC50YXJnZXQsdHlwZToiY2hhcmFjdGVyRGF0YSIsb2xkVmFsdWU6dC5wcmV2VmFsdWV9KSxuLmZsdXNoU29vbigpfSksdGhpcy5vblNlbGVjdGlvbkNoYW5nZT10aGlzLm9uU2VsZWN0aW9uQ2hhbmdlLmJpbmQodGhpcyksdGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXM9ITF9O1JlLnByb3RvdHlwZS5mbHVzaFNvb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZmx1c2hpbmdTb29uPDAmJih0aGlzLmZsdXNoaW5nU29vbj13aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmZsdXNoaW5nU29vbj0tMSx0LmZsdXNoKCl9KSwyMCkpfSxSZS5wcm90b3R5cGUuZm9yY2VGbHVzaD1mdW5jdGlvbigpe3RoaXMuZmx1c2hpbmdTb29uPi0xJiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLmZsdXNoaW5nU29vbiksdGhpcy5mbHVzaGluZ1Nvb249LTEsdGhpcy5mbHVzaCgpKX0sUmUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5vYnNlcnZlciYmdGhpcy5vYnNlcnZlci5vYnNlcnZlKHRoaXMudmlldy5kb20sQWUpLERlJiZ0aGlzLnZpZXcuZG9tLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcy5vbkNoYXJEYXRhKSx0aGlzLmNvbm5lY3RTZWxlY3Rpb24oKX0sUmUucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMub2JzZXJ2ZXIpe3ZhciBlPXRoaXMub2JzZXJ2ZXIudGFrZVJlY29yZHMoKTtpZihlLmxlbmd0aCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdGhpcy5xdWV1ZS5wdXNoKGVbbl0pO3dpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0LmZsdXNoKCl9KSwyMCl9dGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCl9RGUmJnRoaXMudmlldy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIix0aGlzLm9uQ2hhckRhdGEpLHRoaXMuZGlzY29ubmVjdFNlbGVjdGlvbigpfSxSZS5wcm90b3R5cGUuY29ubmVjdFNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMudmlldy5kb20ub3duZXJEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLHRoaXMub25TZWxlY3Rpb25DaGFuZ2UpfSxSZS5wcm90b3R5cGUuZGlzY29ubmVjdFNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMudmlldy5kb20ub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLHRoaXMub25TZWxlY3Rpb25DaGFuZ2UpfSxSZS5wcm90b3R5cGUuc3VwcHJlc3NTZWxlY3Rpb25VcGRhdGVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcz0hMCxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0LnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcz0hMX0pLDUwKX0sUmUucHJvdG90eXBlLm9uU2VsZWN0aW9uQ2hhbmdlPWZ1bmN0aW9uKCl7aWYocXQodGhpcy52aWV3KSl7aWYodGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMpcmV0dXJuIFB0KHRoaXMudmlldyk7aWYocy5pZSYmcy5pZV92ZXJzaW9uPD0xMSYmIXRoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24uZW1wdHkpe3ZhciB0PXRoaXMudmlldy5yb290LmdldFNlbGVjdGlvbigpO2lmKHQuZm9jdXNOb2RlJiZ2KHQuZm9jdXNOb2RlLHQuZm9jdXNPZmZzZXQsdC5hbmNob3JOb2RlLHQuYW5jaG9yT2Zmc2V0KSlyZXR1cm4gdGhpcy5mbHVzaFNvb24oKX10aGlzLmZsdXNoKCl9fSxSZS5wcm90b3R5cGUuc2V0Q3VyU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50U2VsZWN0aW9uLnNldCh0aGlzLnZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKSl9LFJlLnByb3RvdHlwZS5pZ25vcmVTZWxlY3Rpb25DaGFuZ2U9ZnVuY3Rpb24odCl7aWYoMD09dC5yYW5nZUNvdW50KXJldHVybiEwO3ZhciBlPXQuZ2V0UmFuZ2VBdCgwKS5jb21tb25BbmNlc3RvckNvbnRhaW5lcixuPXRoaXMudmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKGUpO3JldHVybiBuJiZuLmlnbm9yZU11dGF0aW9uKHt0eXBlOiJzZWxlY3Rpb24iLHRhcmdldDozPT1lLm5vZGVUeXBlP2UucGFyZW50Tm9kZTplfSk/KHRoaXMuc2V0Q3VyU2VsZWN0aW9uKCksITApOnZvaWQgMH0sUmUucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7aWYodGhpcy52aWV3LmRvY1ZpZXcmJiEodGhpcy5mbHVzaGluZ1Nvb24+LTEpKXt2YXIgdD10aGlzLm9ic2VydmVyP3RoaXMub2JzZXJ2ZXIudGFrZVJlY29yZHMoKTpbXTt0aGlzLnF1ZXVlLmxlbmd0aCYmKHQ9dGhpcy5xdWV1ZS5jb25jYXQodCksdGhpcy5xdWV1ZS5sZW5ndGg9MCk7dmFyIGU9dGhpcy52aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj0hdGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMmJiF0aGlzLmN1cnJlbnRTZWxlY3Rpb24uZXEoZSkmJld0KHRoaXMudmlldykmJiF0aGlzLmlnbm9yZVNlbGVjdGlvbkNoYW5nZShlKSxyPS0xLG89LTEsaT0hMSxhPVtdO2lmKHRoaXMudmlldy5lZGl0YWJsZSlmb3IodmFyIGM9MDtjPHQubGVuZ3RoO2MrKyl7dmFyIGw9dGhpcy5yZWdpc3Rlck11dGF0aW9uKHRbY10sYSk7bCYmKHI9cjwwP2wuZnJvbTpNYXRoLm1pbihsLmZyb20sciksbz1vPDA/bC50bzpNYXRoLm1heChsLnRvLG8pLGwudHlwZU92ZXImJihpPSEwKSl9aWYocy5nZWNrbyYmYS5sZW5ndGg+MSl7dmFyIHU9YS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiJCUiI9PXQubm9kZU5hbWV9KSk7aWYoMj09dS5sZW5ndGgpe3ZhciBkPXVbMF0scD11WzFdO2QucGFyZW50Tm9kZSYmZC5wYXJlbnROb2RlLnBhcmVudE5vZGU9PXAucGFyZW50Tm9kZT9wLnJlbW92ZSgpOmQucmVtb3ZlKCl9fShyPi0xfHxuKSYmKHI+LTEmJih0aGlzLnZpZXcuZG9jVmlldy5tYXJrRGlydHkocixvKSxQZSh0aGlzLnZpZXcpKSx0aGlzLmhhbmRsZURPTUNoYW5nZShyLG8saSxhKSx0aGlzLnZpZXcuZG9jVmlldy5kaXJ0eT90aGlzLnZpZXcudXBkYXRlU3RhdGUodGhpcy52aWV3LnN0YXRlKTp0aGlzLmN1cnJlbnRTZWxlY3Rpb24uZXEoZSl8fFB0KHRoaXMudmlldykpfX0sUmUucHJvdG90eXBlLnJlZ2lzdGVyTXV0YXRpb249ZnVuY3Rpb24odCxlKXtpZihlLmluZGV4T2YodC50YXJnZXQpPi0xKXJldHVybiBudWxsO3ZhciBuPXRoaXMudmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKHQudGFyZ2V0KTtpZigiYXR0cmlidXRlcyI9PXQudHlwZSYmKG49PXRoaXMudmlldy5kb2NWaWV3fHwiY29udGVudGVkaXRhYmxlIj09dC5hdHRyaWJ1dGVOYW1lfHwic3R5bGUiPT10LmF0dHJpYnV0ZU5hbWUmJiF0Lm9sZFZhbHVlJiYhdC50YXJnZXQuZ2V0QXR0cmlidXRlKCJzdHlsZSIpKSlyZXR1cm4gbnVsbDtpZighbnx8bi5pZ25vcmVNdXRhdGlvbih0KSlyZXR1cm4gbnVsbDtpZigiY2hpbGRMaXN0Ij09dC50eXBlKXt2YXIgcj10LnByZXZpb3VzU2libGluZyxvPXQubmV4dFNpYmxpbmc7aWYocy5pZSYmcy5pZV92ZXJzaW9uPD0xMSYmdC5hZGRlZE5vZGVzLmxlbmd0aClmb3IodmFyIGk9MDtpPHQuYWRkZWROb2Rlcy5sZW5ndGg7aSsrKXt2YXIgYT10LmFkZGVkTm9kZXNbaV0sYz1hLnByZXZpb3VzU2libGluZyxsPWEubmV4dFNpYmxpbmc7KCFjfHxBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHQuYWRkZWROb2RlcyxjKTwwKSYmKHI9YyksKCFsfHxBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHQuYWRkZWROb2RlcyxsKTwwKSYmKG89bCl9Zm9yKHZhciB1PXImJnIucGFyZW50Tm9kZT09dC50YXJnZXQ/cChyKSsxOjAsZD1uLmxvY2FsUG9zRnJvbURPTSh0LnRhcmdldCx1LC0xKSxmPW8mJm8ucGFyZW50Tm9kZT09dC50YXJnZXQ/cChvKTp0LnRhcmdldC5jaGlsZE5vZGVzLmxlbmd0aCxoPTA7aDx0LmFkZGVkTm9kZXMubGVuZ3RoO2grKyllLnB1c2godC5hZGRlZE5vZGVzW2hdKTt2YXIgbT1uLmxvY2FsUG9zRnJvbURPTSh0LnRhcmdldCxmLDEpO3JldHVybntmcm9tOmQsdG86bX19cmV0dXJuImF0dHJpYnV0ZXMiPT10LnR5cGU/e2Zyb206bi5wb3NBdFN0YXJ0LW4uYm9yZGVyLHRvOm4ucG9zQXRFbmQrbi5ib3JkZXJ9Ontmcm9tOm4ucG9zQXRTdGFydCx0bzpuLnBvc0F0RW5kLHR5cGVPdmVyOnQudGFyZ2V0Lm5vZGVWYWx1ZT09dC5vbGRWYWx1ZX19O3ZhciBfZT0hMTtmdW5jdGlvbiBQZSh0KXtfZXx8KF9lPSEwLCJub3JtYWwiPT1nZXRDb21wdXRlZFN0eWxlKHQuZG9tKS53aGl0ZVNwYWNlJiZjb25zb2xlWyJ3YXJuIl0oIlByb3NlTWlycm9yIGV4cGVjdHMgdGhlIENTUyB3aGl0ZS1zcGFjZSBwcm9wZXJ0eSB0byBiZSBzZXQsIHByZWZlcmFibHkgdG8gJ3ByZS13cmFwJy4gSXQgaXMgcmVjb21tZW5kZWQgdG8gbG9hZCBzdHlsZS9wcm9zZW1pcnJvci5jc3MgZnJvbSB0aGUgcHJvc2VtaXJyb3ItdmlldyBwYWNrYWdlLiIpKX12YXIgemU9e30sSWU9e307ZnVuY3Rpb24gJGUodCl7dC5zaGlmdEtleT0hMSx0Lm1vdXNlRG93bj1udWxsLHQubGFzdEtleUNvZGU9bnVsbCx0Lmxhc3RLZXlDb2RlVGltZT0wLHQubGFzdENsaWNrPXt0aW1lOjAseDowLHk6MCx0eXBlOiIifSx0Lmxhc3RTZWxlY3Rpb25PcmlnaW49bnVsbCx0Lmxhc3RTZWxlY3Rpb25UaW1lPTAsdC5sYXN0SU9TRW50ZXI9MCx0Lmxhc3RJT1NFbnRlckZhbGxiYWNrVGltZW91dD1udWxsLHQuY29tcG9zaW5nPSExLHQuY29tcG9zaW5nVGltZW91dD1udWxsLHQuY29tcG9zaXRpb25Ob2Rlcz1bXSx0LmNvbXBvc2l0aW9uRW5kZWRBdD0tMmU4LHQuZG9tT2JzZXJ2ZXI9bmV3IFJlKHQsKGZ1bmN0aW9uKGUsbixyLG8pe3JldHVybiB1ZSh0LGUsbixyLG8pfSkpLHQuZG9tT2JzZXJ2ZXIuc3RhcnQoKSx0LmRvbUNoYW5nZUNvdW50PTAsdC5ldmVudEhhbmRsZXJzPU9iamVjdC5jcmVhdGUobnVsbCk7dmFyIGU9ZnVuY3Rpb24oZSl7dmFyIG49emVbZV07dC5kb20uYWRkRXZlbnRMaXN0ZW5lcihlLHQuZXZlbnRIYW5kbGVyc1tlXT1mdW5jdGlvbihlKXshTGUodCxlKXx8amUodCxlKXx8IXQuZWRpdGFibGUmJmUudHlwZSBpbiBJZXx8bih0LGUpfSl9O2Zvcih2YXIgbiBpbiB6ZSllKG4pO3Muc2FmYXJpJiZ0LmRvbS5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9KSksRmUodCl9ZnVuY3Rpb24gVmUodCxlKXt0Lmxhc3RTZWxlY3Rpb25PcmlnaW49ZSx0Lmxhc3RTZWxlY3Rpb25UaW1lPURhdGUubm93KCl9ZnVuY3Rpb24gQmUodCl7Zm9yKHZhciBlIGluIHQuZG9tT2JzZXJ2ZXIuc3RvcCgpLHQuZXZlbnRIYW5kbGVycyl0LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKGUsdC5ldmVudEhhbmRsZXJzW2VdKTtjbGVhclRpbWVvdXQodC5jb21wb3NpbmdUaW1lb3V0KSxjbGVhclRpbWVvdXQodC5sYXN0SU9TRW50ZXJGYWxsYmFja1RpbWVvdXQpfWZ1bmN0aW9uIEZlKHQpe3Quc29tZVByb3AoImhhbmRsZURPTUV2ZW50cyIsKGZ1bmN0aW9uKGUpe2Zvcih2YXIgbiBpbiBlKXQuZXZlbnRIYW5kbGVyc1tuXXx8dC5kb20uYWRkRXZlbnRMaXN0ZW5lcihuLHQuZXZlbnRIYW5kbGVyc1tuXT1mdW5jdGlvbihlKXtyZXR1cm4gamUodCxlKX0pfSkpfWZ1bmN0aW9uIGplKHQsZSl7cmV0dXJuIHQuc29tZVByb3AoImhhbmRsZURPTUV2ZW50cyIsKGZ1bmN0aW9uKG4pe3ZhciByPW5bZS50eXBlXTtyZXR1cm4hIXImJihyKHQsZSl8fGUuZGVmYXVsdFByZXZlbnRlZCl9KSl9ZnVuY3Rpb24gTGUodCxlKXtpZighZS5idWJibGVzKXJldHVybiEwO2lmKGUuZGVmYXVsdFByZXZlbnRlZClyZXR1cm4hMTtmb3IodmFyIG49ZS50YXJnZXQ7biE9dC5kb207bj1uLnBhcmVudE5vZGUpaWYoIW58fDExPT1uLm5vZGVUeXBlfHxuLnBtVmlld0Rlc2MmJm4ucG1WaWV3RGVzYy5zdG9wRXZlbnQoZSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gSGUodCxlKXtqZSh0LGUpfHwhemVbZS50eXBlXXx8IXQuZWRpdGFibGUmJmUudHlwZSBpbiBJZXx8emVbZS50eXBlXSh0LGUpfWZ1bmN0aW9uIHFlKHQpe3JldHVybntsZWZ0OnQuY2xpZW50WCx0b3A6dC5jbGllbnRZfX1mdW5jdGlvbiBXZSh0LGUpe3ZhciBuPWUueC10LmNsaWVudFgscj1lLnktdC5jbGllbnRZO3JldHVybiBuKm4rcipyPDEwMH1mdW5jdGlvbiBLZSh0LGUsbixyLG8pe2lmKC0xPT1yKXJldHVybiExO2Zvcih2YXIgaT10LnN0YXRlLmRvYy5yZXNvbHZlKHIpLHM9ZnVuY3Rpb24ocil7aWYodC5zb21lUHJvcChlLChmdW5jdGlvbihlKXtyZXR1cm4gcj5pLmRlcHRoP2UodCxuLGkubm9kZUFmdGVyLGkuYmVmb3JlKHIpLG8sITApOmUodCxuLGkubm9kZShyKSxpLmJlZm9yZShyKSxvLCExKX0pKSlyZXR1cm57djohMH19LGE9aS5kZXB0aCsxO2E+MDthLS0pe3ZhciBjPXMoYSk7aWYoYylyZXR1cm4gYy52fXJldHVybiExfWZ1bmN0aW9uIEplKHQsZSxuKXt0LmZvY3VzZWR8fHQuZm9jdXMoKTt2YXIgcj10LnN0YXRlLnRyLnNldFNlbGVjdGlvbihlKTsicG9pbnRlciI9PW4mJnIuc2V0TWV0YSgicG9pbnRlciIsITApLHQuZGlzcGF0Y2gocil9ZnVuY3Rpb24gVWUodCxlKXtpZigtMT09ZSlyZXR1cm4hMTt2YXIgbj10LnN0YXRlLmRvYy5yZXNvbHZlKGUpLG89bi5ub2RlQWZ0ZXI7cmV0dXJuISEobyYmby5pc0F0b20mJnJbIk5vZGVTZWxlY3Rpb24iXS5pc1NlbGVjdGFibGUobykpJiYoSmUodCxuZXcgclsiTm9kZVNlbGVjdGlvbiJdKG4pLCJwb2ludGVyIiksITApfWZ1bmN0aW9uIEdlKHQsZSl7aWYoLTE9PWUpcmV0dXJuITE7dmFyIG4sbyxpPXQuc3RhdGUuc2VsZWN0aW9uO2kgaW5zdGFuY2VvZiByWyJOb2RlU2VsZWN0aW9uIl0mJihuPWkubm9kZSk7Zm9yKHZhciBzPXQuc3RhdGUuZG9jLnJlc29sdmUoZSksYT1zLmRlcHRoKzE7YT4wO2EtLSl7dmFyIGM9YT5zLmRlcHRoP3Mubm9kZUFmdGVyOnMubm9kZShhKTtpZihyWyJOb2RlU2VsZWN0aW9uIl0uaXNTZWxlY3RhYmxlKGMpKXtvPW4mJmkuJGZyb20uZGVwdGg+MCYmYT49aS4kZnJvbS5kZXB0aCYmcy5iZWZvcmUoaS4kZnJvbS5kZXB0aCsxKT09aS4kZnJvbS5wb3M/cy5iZWZvcmUoaS4kZnJvbS5kZXB0aCk6cy5iZWZvcmUoYSk7YnJlYWt9fXJldHVybiBudWxsIT1vJiYoSmUodCxyWyJOb2RlU2VsZWN0aW9uIl0uY3JlYXRlKHQuc3RhdGUuZG9jLG8pLCJwb2ludGVyIiksITApfWZ1bmN0aW9uIFhlKHQsZSxuLHIsbyl7cmV0dXJuIEtlKHQsImhhbmRsZUNsaWNrT24iLGUsbixyKXx8dC5zb21lUHJvcCgiaGFuZGxlQ2xpY2siLChmdW5jdGlvbihuKXtyZXR1cm4gbih0LGUscil9KSl8fChvP0dlKHQsbik6VWUodCxuKSl9ZnVuY3Rpb24gWWUodCxlLG4scil7cmV0dXJuIEtlKHQsImhhbmRsZURvdWJsZUNsaWNrT24iLGUsbixyKXx8dC5zb21lUHJvcCgiaGFuZGxlRG91YmxlQ2xpY2siLChmdW5jdGlvbihuKXtyZXR1cm4gbih0LGUscil9KSl9ZnVuY3Rpb24gWmUodCxlLG4scil7cmV0dXJuIEtlKHQsImhhbmRsZVRyaXBsZUNsaWNrT24iLGUsbixyKXx8dC5zb21lUHJvcCgiaGFuZGxlVHJpcGxlQ2xpY2siLChmdW5jdGlvbihuKXtyZXR1cm4gbih0LGUscil9KSl8fFFlKHQsbil9ZnVuY3Rpb24gUWUodCxlKXt2YXIgbj10LnN0YXRlLmRvYztpZigtMT09ZSlyZXR1cm4hIW4uaW5saW5lQ29udGVudCYmKEplKHQsclsiVGV4dFNlbGVjdGlvbiJdLmNyZWF0ZShuLDAsbi5jb250ZW50LnNpemUpLCJwb2ludGVyIiksITApO2Zvcih2YXIgbz1uLnJlc29sdmUoZSksaT1vLmRlcHRoKzE7aT4wO2ktLSl7dmFyIHM9aT5vLmRlcHRoP28ubm9kZUFmdGVyOm8ubm9kZShpKSxhPW8uYmVmb3JlKGkpO2lmKHMuaW5saW5lQ29udGVudClKZSh0LHJbIlRleHRTZWxlY3Rpb24iXS5jcmVhdGUobixhKzEsYSsxK3MuY29udGVudC5zaXplKSwicG9pbnRlciIpO2Vsc2V7aWYoIXJbIk5vZGVTZWxlY3Rpb24iXS5pc1NlbGVjdGFibGUocykpY29udGludWU7SmUodCxyWyJOb2RlU2VsZWN0aW9uIl0uY3JlYXRlKG4sYSksInBvaW50ZXIiKX1yZXR1cm4hMH19ZnVuY3Rpb24gdG4odCl7cmV0dXJuIGNuKHQpfUllLmtleWRvd249ZnVuY3Rpb24odCxlKXtpZih0LnNoaWZ0S2V5PTE2PT1lLmtleUNvZGV8fGUuc2hpZnRLZXksIXJuKHQsZSkpaWYodC5kb21PYnNlcnZlci5mb3JjZUZsdXNoKCksdC5sYXN0S2V5Q29kZT1lLmtleUNvZGUsdC5sYXN0S2V5Q29kZVRpbWU9RGF0ZS5ub3coKSwhcy5pb3N8fDEzIT1lLmtleUNvZGV8fGUuY3RybEtleXx8ZS5hbHRLZXl8fGUubWV0YUtleSl0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlKX0pKXx8YWUodCxlKT9lLnByZXZlbnREZWZhdWx0KCk6VmUodCwia2V5Iik7ZWxzZXt2YXIgbj1EYXRlLm5vdygpO3QubGFzdElPU0VudGVyPW4sdC5sYXN0SU9TRW50ZXJGYWxsYmFja1RpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0Lmxhc3RJT1NFbnRlcj09biYmKHQuc29tZVByb3AoImhhbmRsZUtleURvd24iLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0LGsoMTMsIkVudGVyIikpfSkpLHQubGFzdElPU0VudGVyPTApfSksMjAwKX19LEllLmtleXVwPWZ1bmN0aW9uKHQsZSl7MTY9PWUua2V5Q29kZSYmKHQuc2hpZnRLZXk9ITEpfSxJZS5rZXlwcmVzcz1mdW5jdGlvbih0LGUpe2lmKCEocm4odCxlKXx8IWUuY2hhckNvZGV8fGUuY3RybEtleSYmIWUuYWx0S2V5fHxzLm1hYyYmZS5tZXRhS2V5KSlpZih0LnNvbWVQcm9wKCJoYW5kbGVLZXlQcmVzcyIsKGZ1bmN0aW9uKG4pe3JldHVybiBuKHQsZSl9KSkpZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2V7dmFyIG49dC5zdGF0ZS5zZWxlY3Rpb247aWYoIShuIGluc3RhbmNlb2YgclsiVGV4dFNlbGVjdGlvbiJdKXx8IW4uJGZyb20uc2FtZVBhcmVudChuLiR0bykpe3ZhciBvPVN0cmluZy5mcm9tQ2hhckNvZGUoZS5jaGFyQ29kZSk7dC5zb21lUHJvcCgiaGFuZGxlVGV4dElucHV0IiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCxuLiRmcm9tLnBvcyxuLiR0by5wb3Msbyl9KSl8fHQuZGlzcGF0Y2godC5zdGF0ZS50ci5pbnNlcnRUZXh0KG8pLnNjcm9sbEludG9WaWV3KCkpLGUucHJldmVudERlZmF1bHQoKX19fTt2YXIgZW49cy5tYWM/Im1ldGFLZXkiOiJjdHJsS2V5Ijt6ZS5tb3VzZWRvd249ZnVuY3Rpb24odCxlKXt0LnNoaWZ0S2V5PWUuc2hpZnRLZXk7dmFyIG49dG4odCkscj1EYXRlLm5vdygpLG89InNpbmdsZUNsaWNrIjtyLXQubGFzdENsaWNrLnRpbWU8NTAwJiZXZShlLHQubGFzdENsaWNrKSYmIWVbZW5dJiYoInNpbmdsZUNsaWNrIj09dC5sYXN0Q2xpY2sudHlwZT9vPSJkb3VibGVDbGljayI6ImRvdWJsZUNsaWNrIj09dC5sYXN0Q2xpY2sudHlwZSYmKG89InRyaXBsZUNsaWNrIikpLHQubGFzdENsaWNrPXt0aW1lOnIseDplLmNsaWVudFgseTplLmNsaWVudFksdHlwZTpvfTt2YXIgaT10LnBvc0F0Q29vcmRzKHFlKGUpKTtpJiYoInNpbmdsZUNsaWNrIj09bz90Lm1vdXNlRG93bj1uZXcgbm4odCxpLGUsbik6KCJkb3VibGVDbGljayI9PW8/WWU6WmUpKHQsaS5wb3MsaS5pbnNpZGUsZSk/ZS5wcmV2ZW50RGVmYXVsdCgpOlZlKHQsInBvaW50ZXIiKSl9O3ZhciBubj1mdW5jdGlvbih0LGUsbixvKXt2YXIgaSxhLGM9dGhpcztpZih0aGlzLnZpZXc9dCx0aGlzLnN0YXJ0RG9jPXQuc3RhdGUuZG9jLHRoaXMucG9zPWUsdGhpcy5ldmVudD1uLHRoaXMuZmx1c2hlZD1vLHRoaXMuc2VsZWN0Tm9kZT1uW2VuXSx0aGlzLmFsbG93RGVmYXVsdD1uLnNoaWZ0S2V5LGUuaW5zaWRlPi0xKWk9dC5zdGF0ZS5kb2Mubm9kZUF0KGUuaW5zaWRlKSxhPWUuaW5zaWRlO2Vsc2V7dmFyIGw9dC5zdGF0ZS5kb2MucmVzb2x2ZShlLnBvcyk7aT1sLnBhcmVudCxhPWwuZGVwdGg/bC5iZWZvcmUoKTowfXRoaXMubWlnaHREcmFnPW51bGw7dmFyIHU9bz9udWxsOm4udGFyZ2V0LGQ9dT90LmRvY1ZpZXcubmVhcmVzdERlc2ModSwhMCk6bnVsbDt0aGlzLnRhcmdldD1kP2QuZG9tOm51bGwsKGkudHlwZS5zcGVjLmRyYWdnYWJsZSYmITEhPT1pLnR5cGUuc3BlYy5zZWxlY3RhYmxlfHx0LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIHJbIk5vZGVTZWxlY3Rpb24iXSYmYT09dC5zdGF0ZS5zZWxlY3Rpb24uZnJvbSkmJih0aGlzLm1pZ2h0RHJhZz17bm9kZTppLHBvczphLGFkZEF0dHI6dGhpcy50YXJnZXQmJiF0aGlzLnRhcmdldC5kcmFnZ2FibGUsc2V0VW5lZGl0YWJsZTp0aGlzLnRhcmdldCYmcy5nZWNrbyYmIXRoaXMudGFyZ2V0Lmhhc0F0dHJpYnV0ZSgiY29udGVudEVkaXRhYmxlIil9KSx0aGlzLnRhcmdldCYmdGhpcy5taWdodERyYWcmJih0aGlzLm1pZ2h0RHJhZy5hZGRBdHRyfHx0aGlzLm1pZ2h0RHJhZy5zZXRVbmVkaXRhYmxlKSYmKHRoaXMudmlldy5kb21PYnNlcnZlci5zdG9wKCksdGhpcy5taWdodERyYWcuYWRkQXR0ciYmKHRoaXMudGFyZ2V0LmRyYWdnYWJsZT0hMCksdGhpcy5taWdodERyYWcuc2V0VW5lZGl0YWJsZSYmc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gYy50YXJnZXQuc2V0QXR0cmlidXRlKCJjb250ZW50RWRpdGFibGUiLCJmYWxzZSIpfSksMjApLHRoaXMudmlldy5kb21PYnNlcnZlci5zdGFydCgpKSx0LnJvb3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsdGhpcy51cD10aGlzLnVwLmJpbmQodGhpcykpLHQucm9vdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLHRoaXMubW92ZT10aGlzLm1vdmUuYmluZCh0aGlzKSksVmUodCwicG9pbnRlciIpfTtmdW5jdGlvbiBybih0LGUpe3JldHVybiEhdC5jb21wb3Npbmd8fCEhKHMuc2FmYXJpJiZNYXRoLmFicyhlLnRpbWVTdGFtcC10LmNvbXBvc2l0aW9uRW5kZWRBdCk8NTAwKSYmKHQuY29tcG9zaXRpb25FbmRlZEF0PS0yZTgsITApfW5uLnByb3RvdHlwZS5kb25lPWZ1bmN0aW9uKCl7dGhpcy52aWV3LnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsdGhpcy51cCksdGhpcy52aWV3LnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIix0aGlzLm1vdmUpLHRoaXMubWlnaHREcmFnJiZ0aGlzLnRhcmdldCYmKHRoaXMudmlldy5kb21PYnNlcnZlci5zdG9wKCksdGhpcy5taWdodERyYWcuYWRkQXR0ciYmdGhpcy50YXJnZXQucmVtb3ZlQXR0cmlidXRlKCJkcmFnZ2FibGUiKSx0aGlzLm1pZ2h0RHJhZy5zZXRVbmVkaXRhYmxlJiZ0aGlzLnRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoImNvbnRlbnRFZGl0YWJsZSIpLHRoaXMudmlldy5kb21PYnNlcnZlci5zdGFydCgpKSx0aGlzLnZpZXcubW91c2VEb3duPW51bGx9LG5uLnByb3RvdHlwZS51cD1mdW5jdGlvbih0KXtpZih0aGlzLmRvbmUoKSx0aGlzLnZpZXcuZG9tLmNvbnRhaW5zKDM9PXQudGFyZ2V0Lm5vZGVUeXBlP3QudGFyZ2V0LnBhcmVudE5vZGU6dC50YXJnZXQpKXt2YXIgZT10aGlzLnBvczt0aGlzLnZpZXcuc3RhdGUuZG9jIT10aGlzLnN0YXJ0RG9jJiYoZT10aGlzLnZpZXcucG9zQXRDb29yZHMocWUodCkpKSx0aGlzLmFsbG93RGVmYXVsdHx8IWU/VmUodGhpcy52aWV3LCJwb2ludGVyIik6WGUodGhpcy52aWV3LGUucG9zLGUuaW5zaWRlLHQsdGhpcy5zZWxlY3ROb2RlKT90LnByZXZlbnREZWZhdWx0KCk6dGhpcy5mbHVzaGVkfHxzLnNhZmFyaSYmdGhpcy5taWdodERyYWcmJiF0aGlzLm1pZ2h0RHJhZy5ub2RlLmlzQXRvbXx8cy5jaHJvbWUmJiEodGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIHJbIlRleHRTZWxlY3Rpb24iXSkmJihlLnBvcz09dGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbi5mcm9tfHxlLnBvcz09dGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbi50byk/KEplKHRoaXMudmlldyxyWyJTZWxlY3Rpb24iXS5uZWFyKHRoaXMudmlldy5zdGF0ZS5kb2MucmVzb2x2ZShlLnBvcykpLCJwb2ludGVyIiksdC5wcmV2ZW50RGVmYXVsdCgpKTpWZSh0aGlzLnZpZXcsInBvaW50ZXIiKX19LG5uLnByb3RvdHlwZS5tb3ZlPWZ1bmN0aW9uKHQpeyF0aGlzLmFsbG93RGVmYXVsdCYmKE1hdGguYWJzKHRoaXMuZXZlbnQueC10LmNsaWVudFgpPjR8fE1hdGguYWJzKHRoaXMuZXZlbnQueS10LmNsaWVudFkpPjQpJiYodGhpcy5hbGxvd0RlZmF1bHQ9ITApLFZlKHRoaXMudmlldywicG9pbnRlciIpfSx6ZS50b3VjaGRvd249ZnVuY3Rpb24odCl7dG4odCksVmUodCwicG9pbnRlciIpfSx6ZS5jb250ZXh0bWVudT1mdW5jdGlvbih0KXtyZXR1cm4gdG4odCl9O3ZhciBvbj1zLmFuZHJvaWQ/NWUzOi0xO2Z1bmN0aW9uIHNuKHQsZSl7Y2xlYXJUaW1lb3V0KHQuY29tcG9zaW5nVGltZW91dCksZT4tMSYmKHQuY29tcG9zaW5nVGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBjbih0KX0pLGUpKX1mdW5jdGlvbiBhbih0KXt0LmNvbXBvc2luZz0hMTt3aGlsZSh0LmNvbXBvc2l0aW9uTm9kZXMubGVuZ3RoPjApdC5jb21wb3NpdGlvbk5vZGVzLnBvcCgpLm1hcmtQYXJlbnRzRGlydHkoKX1mdW5jdGlvbiBjbih0LGUpe2lmKHQuZG9tT2JzZXJ2ZXIuZm9yY2VGbHVzaCgpLGFuKHQpLGV8fHQuZG9jVmlldy5kaXJ0eSl7dmFyIG49X3QodCk7cmV0dXJuIG4mJiFuLmVxKHQuc3RhdGUuc2VsZWN0aW9uKT90LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKG4pKTp0LnVwZGF0ZVN0YXRlKHQuc3RhdGUpLCEwfXJldHVybiExfWZ1bmN0aW9uIGxuKHQsZSl7aWYodC5kb20ucGFyZW50Tm9kZSl7dmFyIG49dC5kb20ucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSk7bi5hcHBlbmRDaGlsZChlKSxuLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOiBmaXhlZDsgbGVmdDogLTEwMDAwcHg7IHRvcDogMTBweCI7dmFyIHI9Z2V0U2VsZWN0aW9uKCksbz1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO28uc2VsZWN0Tm9kZUNvbnRlbnRzKGUpLHQuZG9tLmJsdXIoKSxyLnJlbW92ZUFsbFJhbmdlcygpLHIuYWRkUmFuZ2Uobyksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtuLnBhcmVudE5vZGUmJm4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSx0LmZvY3VzKCl9KSw1MCl9fUllLmNvbXBvc2l0aW9uc3RhcnQ9SWUuY29tcG9zaXRpb251cGRhdGU9ZnVuY3Rpb24odCl7aWYoIXQuY29tcG9zaW5nKXt0LmRvbU9ic2VydmVyLmZsdXNoKCk7dmFyIGU9dC5zdGF0ZSxuPWUuc2VsZWN0aW9uLiRmcm9tO2lmKGUuc2VsZWN0aW9uLmVtcHR5JiYoZS5zdG9yZWRNYXJrc3x8IW4udGV4dE9mZnNldCYmbi5wYXJlbnRPZmZzZXQmJm4ubm9kZUJlZm9yZS5tYXJrcy5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4hMT09PXQudHlwZS5zcGVjLmluY2x1c2l2ZX0pKSkpdC5tYXJrQ3Vyc29yPXQuc3RhdGUuc3RvcmVkTWFya3N8fG4ubWFya3MoKSxjbih0LCEwKSx0Lm1hcmtDdXJzb3I9bnVsbDtlbHNlIGlmKGNuKHQpLHMuZ2Vja28mJmUuc2VsZWN0aW9uLmVtcHR5JiZuLnBhcmVudE9mZnNldCYmIW4udGV4dE9mZnNldCYmbi5ub2RlQmVmb3JlLm1hcmtzLmxlbmd0aClmb3IodmFyIHI9dC5yb290LmdldFNlbGVjdGlvbigpLG89ci5mb2N1c05vZGUsaT1yLmZvY3VzT2Zmc2V0O28mJjE9PW8ubm9kZVR5cGUmJjAhPWk7KXt2YXIgYT1pPDA/by5sYXN0Q2hpbGQ6by5jaGlsZE5vZGVzW2ktMV07aWYoIWEpYnJlYWs7aWYoMz09YS5ub2RlVHlwZSl7ci5jb2xsYXBzZShhLGEubm9kZVZhbHVlLmxlbmd0aCk7YnJlYWt9bz1hLGk9LTF9dC5jb21wb3Npbmc9ITB9c24odCxvbil9LEllLmNvbXBvc2l0aW9uZW5kPWZ1bmN0aW9uKHQsZSl7dC5jb21wb3NpbmcmJih0LmNvbXBvc2luZz0hMSx0LmNvbXBvc2l0aW9uRW5kZWRBdD1lLnRpbWVTdGFtcCxzbih0LDIwKSl9O3ZhciB1bj1zLmllJiZzLmllX3ZlcnNpb248MTV8fHMuaW9zJiZzLndlYmtpdF92ZXJzaW9uPDYwNDtmdW5jdGlvbiBkbih0KXtyZXR1cm4gMD09dC5vcGVuU3RhcnQmJjA9PXQub3BlbkVuZCYmMT09dC5jb250ZW50LmNoaWxkQ291bnQ/dC5jb250ZW50LmZpcnN0Q2hpbGQ6bnVsbH1mdW5jdGlvbiBwbih0LGUpe2lmKHQuZG9tLnBhcmVudE5vZGUpe3ZhciBuPXQuc2hpZnRLZXl8fHQuc3RhdGUuc2VsZWN0aW9uLiRmcm9tLnBhcmVudC50eXBlLnNwZWMuY29kZSxyPXQuZG9tLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuPyJ0ZXh0YXJlYSI6ImRpdiIpKTtufHwoci5jb250ZW50RWRpdGFibGU9InRydWUiKSxyLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOiBmaXhlZDsgbGVmdDogLTEwMDAwcHg7IHRvcDogMTBweCIsci5mb2N1cygpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5mb2N1cygpLHIucGFyZW50Tm9kZSYmci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHIpLG4/Zm4odCxyLnZhbHVlLG51bGwsZSk6Zm4odCxyLnRleHRDb250ZW50LHIuaW5uZXJIVE1MLGUpfSksNTApfX1mdW5jdGlvbiBmbih0LGUsbixyKXt2YXIgaT1nZSh0LGUsbix0LnNoaWZ0S2V5LHQuc3RhdGUuc2VsZWN0aW9uLiRmcm9tKTtpZighdC5zb21lUHJvcCgiaGFuZGxlUGFzdGUiLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0LHIsaXx8b1siU2xpY2UiXS5lbXB0eSl9KSkmJmkpe3ZhciBzPWRuKGkpLGE9cz90LnN0YXRlLnRyLnJlcGxhY2VTZWxlY3Rpb25XaXRoKHMsdC5zaGlmdEtleSk6dC5zdGF0ZS50ci5yZXBsYWNlU2VsZWN0aW9uKGkpO3QuZGlzcGF0Y2goYS5zY3JvbGxJbnRvVmlldygpLnNldE1ldGEoInBhc3RlIiwhMCkuc2V0TWV0YSgidWlFdmVudCIsInBhc3RlIikpfX16ZS5jb3B5PUllLmN1dD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuc3RhdGUuc2VsZWN0aW9uLHI9ImN1dCI9PWUudHlwZTtpZighbi5lbXB0eSl7dmFyIG89dW4/bnVsbDplLmNsaXBib2FyZERhdGEsaT1uLmNvbnRlbnQoKSxzPXZlKHQsaSksYT1zLmRvbSxjPXMudGV4dDtvPyhlLnByZXZlbnREZWZhdWx0KCksby5jbGVhckRhdGEoKSxvLnNldERhdGEoInRleHQvaHRtbCIsYS5pbm5lckhUTUwpLG8uc2V0RGF0YSgidGV4dC9wbGFpbiIsYykpOmxuKHQsYSksciYmdC5kaXNwYXRjaCh0LnN0YXRlLnRyLmRlbGV0ZVNlbGVjdGlvbigpLnNjcm9sbEludG9WaWV3KCkuc2V0TWV0YSgidWlFdmVudCIsImN1dCIpKX19LEllLnBhc3RlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dW4/bnVsbDplLmNsaXBib2FyZERhdGEscj1uJiZuLmdldERhdGEoInRleHQvaHRtbCIpLG89biYmbi5nZXREYXRhKCJ0ZXh0L3BsYWluIik7biYmKHJ8fG98fG4uZmlsZXMubGVuZ3RoKT8oZm4odCxvLHIsZSksZS5wcmV2ZW50RGVmYXVsdCgpKTpwbih0LGUpfTt2YXIgaG49ZnVuY3Rpb24odCxlKXt0aGlzLnNsaWNlPXQsdGhpcy5tb3ZlPWV9LG1uPXMubWFjPyJhbHRLZXkiOiJjdHJsS2V5Ijtmb3IodmFyIHZuIGluIHplLmRyYWdzdGFydD1mdW5jdGlvbih0LGUpe3ZhciBuPXQubW91c2VEb3duO2lmKG4mJm4uZG9uZSgpLGUuZGF0YVRyYW5zZmVyKXt2YXIgbz10LnN0YXRlLnNlbGVjdGlvbixpPW8uZW1wdHk/bnVsbDp0LnBvc0F0Q29vcmRzKHFlKGUpKTtpZihpJiZpLnBvcz49by5mcm9tJiZpLnBvczw9KG8gaW5zdGFuY2VvZiByWyJOb2RlU2VsZWN0aW9uIl0/by50by0xOm8udG8pKTtlbHNlIGlmKG4mJm4ubWlnaHREcmFnKXQuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oclsiTm9kZVNlbGVjdGlvbiJdLmNyZWF0ZSh0LnN0YXRlLmRvYyxuLm1pZ2h0RHJhZy5wb3MpKSk7ZWxzZSBpZihlLnRhcmdldCYmMT09ZS50YXJnZXQubm9kZVR5cGUpe3ZhciBzPXQuZG9jVmlldy5uZWFyZXN0RGVzYyhlLnRhcmdldCwhMCk7aWYoIXN8fCFzLm5vZGUudHlwZS5zcGVjLmRyYWdnYWJsZXx8cz09dC5kb2NWaWV3KXJldHVybjt0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKHJbIk5vZGVTZWxlY3Rpb24iXS5jcmVhdGUodC5zdGF0ZS5kb2Mscy5wb3NCZWZvcmUpKSl9dmFyIGE9dC5zdGF0ZS5zZWxlY3Rpb24uY29udGVudCgpLGM9dmUodCxhKSxsPWMuZG9tLHU9Yy50ZXh0O2UuZGF0YVRyYW5zZmVyLmNsZWFyRGF0YSgpLGUuZGF0YVRyYW5zZmVyLnNldERhdGEodW4/IlRleHQiOiJ0ZXh0L2h0bWwiLGwuaW5uZXJIVE1MKSx1bnx8ZS5kYXRhVHJhbnNmZXIuc2V0RGF0YSgidGV4dC9wbGFpbiIsdSksdC5kcmFnZ2luZz1uZXcgaG4oYSwhZVttbl0pfX0semUuZHJhZ2VuZD1mdW5jdGlvbih0KXt2YXIgZT10LmRyYWdnaW5nO3dpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuZHJhZ2dpbmc9PWUmJih0LmRyYWdnaW5nPW51bGwpfSksNTApfSxJZS5kcmFnb3Zlcj1JZS5kcmFnZW50ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpfSxJZS5kcm9wPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5kcmFnZ2luZztpZih0LmRyYWdnaW5nPW51bGwsZS5kYXRhVHJhbnNmZXIpe3ZhciBzPXQucG9zQXRDb29yZHMocWUoZSkpO2lmKHMpe3ZhciBhPXQuc3RhdGUuZG9jLnJlc29sdmUocy5wb3MpO2lmKGEpe3ZhciBjPW4mJm4uc2xpY2V8fGdlKHQsZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSh1bj8iVGV4dCI6InRleHQvcGxhaW4iKSx1bj9udWxsOmUuZGF0YVRyYW5zZmVyLmdldERhdGEoInRleHQvaHRtbCIpLCExLGEpLGw9biYmIWVbbW5dO2lmKHQuc29tZVByb3AoImhhbmRsZURyb3AiLChmdW5jdGlvbihuKXtyZXR1cm4gbih0LGUsY3x8b1siU2xpY2UiXS5lbXB0eSxsKX0pKSllLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBpZihjKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIHU9Yz9PYmplY3QoaVsiaCJdKSh0LnN0YXRlLmRvYyxhLnBvcyxjKTphLnBvcztudWxsPT11JiYodT1hLnBvcyk7dmFyIGQ9dC5zdGF0ZS50cjtsJiZkLmRlbGV0ZVNlbGVjdGlvbigpO3ZhciBwPWQubWFwcGluZy5tYXAodSksZj0wPT1jLm9wZW5TdGFydCYmMD09Yy5vcGVuRW5kJiYxPT1jLmNvbnRlbnQuY2hpbGRDb3VudCxoPWQuZG9jO2lmKGY/ZC5yZXBsYWNlUmFuZ2VXaXRoKHAscCxjLmNvbnRlbnQuZmlyc3RDaGlsZCk6ZC5yZXBsYWNlUmFuZ2UocCxwLGMpLCFkLmRvYy5lcShoKSl7dmFyIG09ZC5kb2MucmVzb2x2ZShwKTtpZihmJiZyWyJOb2RlU2VsZWN0aW9uIl0uaXNTZWxlY3RhYmxlKGMuY29udGVudC5maXJzdENoaWxkKSYmbS5ub2RlQWZ0ZXImJm0ubm9kZUFmdGVyLnNhbWVNYXJrdXAoYy5jb250ZW50LmZpcnN0Q2hpbGQpKWQuc2V0U2VsZWN0aW9uKG5ldyByWyJOb2RlU2VsZWN0aW9uIl0obSkpO2Vsc2V7dmFyIHY9ZC5tYXBwaW5nLm1hcCh1KTtkLm1hcHBpbmcubWFwc1tkLm1hcHBpbmcubWFwcy5sZW5ndGgtMV0uZm9yRWFjaCgoZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHY9cn0pKSxkLnNldFNlbGVjdGlvbihIdCh0LG0sZC5kb2MucmVzb2x2ZSh2KSkpfXQuZm9jdXMoKSx0LmRpc3BhdGNoKGQuc2V0TWV0YSgidWlFdmVudCIsImRyb3AiKSl9fX19fX0semUuZm9jdXM9ZnVuY3Rpb24odCl7dC5mb2N1c2VkfHwodC5kb21PYnNlcnZlci5zdG9wKCksdC5kb20uY2xhc3NMaXN0LmFkZCgiUHJvc2VNaXJyb3ItZm9jdXNlZCIpLHQuZG9tT2JzZXJ2ZXIuc3RhcnQoKSx0LmZvY3VzZWQ9ITAsc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmRvY1ZpZXcmJnQuaGFzRm9jdXMoKSYmIXQuZG9tT2JzZXJ2ZXIuY3VycmVudFNlbGVjdGlvbi5lcSh0LnJvb3QuZ2V0U2VsZWN0aW9uKCkpJiZQdCh0KX0pLDIwKSl9LHplLmJsdXI9ZnVuY3Rpb24odCl7dC5mb2N1c2VkJiYodC5kb21PYnNlcnZlci5zdG9wKCksdC5kb20uY2xhc3NMaXN0LnJlbW92ZSgiUHJvc2VNaXJyb3ItZm9jdXNlZCIpLHQuZG9tT2JzZXJ2ZXIuc3RhcnQoKSx0LmRvbU9ic2VydmVyLmN1cnJlbnRTZWxlY3Rpb24uc2V0KHt9KSx0LmZvY3VzZWQ9ITEpfSx6ZS5iZWZvcmVpbnB1dD1mdW5jdGlvbih0LGUpe2lmKHMuY2hyb21lJiZzLmFuZHJvaWQmJiJkZWxldGVDb250ZW50QmFja3dhcmQiPT1lLmlucHV0VHlwZSl7dmFyIG49dC5kb21DaGFuZ2VDb3VudDtzZXRUaW1lb3V0KChmdW5jdGlvbigpe2lmKHQuZG9tQ2hhbmdlQ291bnQ9PW4mJih0LmRvbS5ibHVyKCksdC5mb2N1cygpLCF0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCxrKDgsIkJhY2tzcGFjZSIpKX0pKSkpe3ZhciBlPXQuc3RhdGUuc2VsZWN0aW9uLHI9ZS4kY3Vyc29yO3ImJnIucG9zPjAmJnQuZGlzcGF0Y2godC5zdGF0ZS50ci5kZWxldGUoci5wb3MtMSxyLnBvcykuc2Nyb2xsSW50b1ZpZXcoKSl9fSksNTApfX0sSWUpemVbdm5dPUllW3ZuXTtmdW5jdGlvbiBnbih0LGUpe2lmKHQ9PWUpcmV0dXJuITA7Zm9yKHZhciBuIGluIHQpaWYodFtuXSE9PWVbbl0pcmV0dXJuITE7Zm9yKHZhciByIGluIGUpaWYoIShyIGluIHQpKXJldHVybiExO3JldHVybiEwfXZhciB5bj1mdW5jdGlvbih0LGUpe3RoaXMuc3BlYz1lfHxDbix0aGlzLnNpZGU9dGhpcy5zcGVjLnNpZGV8fDAsdGhpcy50b0RPTT10fTt5bi5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQubWFwUmVzdWx0KGUuZnJvbStyLHRoaXMuc2lkZTwwPy0xOjEpLGk9by5wb3Mscz1vLmRlbGV0ZWQ7cmV0dXJuIHM/bnVsbDpuZXcgU24oaS1uLGktbix0aGlzKX0seW4ucHJvdG90eXBlLnZhbGlkPWZ1bmN0aW9uKCl7cmV0dXJuITB9LHluLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09dHx8dCBpbnN0YW5jZW9mIHluJiYodGhpcy5zcGVjLmtleSYmdGhpcy5zcGVjLmtleT09dC5zcGVjLmtleXx8dGhpcy50b0RPTT09dC50b0RPTSYmZ24odGhpcy5zcGVjLHQuc3BlYykpfTt2YXIgYm49ZnVuY3Rpb24odCxlKXt0aGlzLnNwZWM9ZXx8Q24sdGhpcy5hdHRycz10fTtibi5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQubWFwKGUuZnJvbStyLHRoaXMuc3BlYy5pbmNsdXNpdmVTdGFydD8tMToxKS1uLGk9dC5tYXAoZS50bytyLHRoaXMuc3BlYy5pbmNsdXNpdmVFbmQ/MTotMSktbjtyZXR1cm4gbz49aT9udWxsOm5ldyBTbihvLGksdGhpcyl9LGJuLnByb3RvdHlwZS52YWxpZD1mdW5jdGlvbih0LGUpe3JldHVybiBlLmZyb208ZS50b30sYm4ucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT10fHx0IGluc3RhbmNlb2YgYm4mJmduKHRoaXMuYXR0cnMsdC5hdHRycykmJmduKHRoaXMuc3BlYyx0LnNwZWMpfSxibi5pcz1mdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlIGluc3RhbmNlb2YgYm59O3ZhciB3bj1mdW5jdGlvbih0LGUpe3RoaXMuc3BlYz1lfHxDbix0aGlzLmF0dHJzPXR9O3duLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89dC5tYXBSZXN1bHQoZS5mcm9tK3IsMSk7aWYoby5kZWxldGVkKXJldHVybiBudWxsO3ZhciBpPXQubWFwUmVzdWx0KGUudG8rciwtMSk7cmV0dXJuIGkuZGVsZXRlZHx8aS5wb3M8PW8ucG9zP251bGw6bmV3IFNuKG8ucG9zLW4saS5wb3Mtbix0aGlzKX0sd24ucHJvdG90eXBlLnZhbGlkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jb250ZW50LmZpbmRJbmRleChlLmZyb20pLHI9bi5pbmRleCxvPW4ub2Zmc2V0O3JldHVybiBvPT1lLmZyb20mJm8rdC5jaGlsZChyKS5ub2RlU2l6ZT09ZS50b30sd24ucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT10fHx0IGluc3RhbmNlb2Ygd24mJmduKHRoaXMuYXR0cnMsdC5hdHRycykmJmduKHRoaXMuc3BlYyx0LnNwZWMpfTt2YXIgU249ZnVuY3Rpb24odCxlLG4pe3RoaXMuZnJvbT10LHRoaXMudG89ZSx0aGlzLnR5cGU9bn0seG49e3NwZWM6e2NvbmZpZ3VyYWJsZTohMH0saW5saW5lOntjb25maWd1cmFibGU6ITB9fTtTbi5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgU24odCxlLHRoaXMudHlwZSl9LFNuLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0wKSx0aGlzLnR5cGUuZXEodC50eXBlKSYmdGhpcy5mcm9tK2U9PXQuZnJvbSYmdGhpcy50bytlPT10LnRvfSxTbi5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy50eXBlLm1hcCh0LHRoaXMsZSxuKX0sU24ud2lkZ2V0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IFNuKHQsdCxuZXcgeW4oZSxuKSl9LFNuLmlubGluZT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gbmV3IFNuKHQsZSxuZXcgYm4obixyKSl9LFNuLm5vZGU9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIG5ldyBTbih0LGUsbmV3IHduKG4scikpfSx4bi5zcGVjLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUuc3BlY30seG4uaW5saW5lLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUgaW5zdGFuY2VvZiBibn0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoU24ucHJvdG90eXBlLHhuKTt2YXIga249W10sQ249e30sT249ZnVuY3Rpb24odCxlKXt0aGlzLmxvY2FsPXQmJnQubGVuZ3RoP3Q6a24sdGhpcy5jaGlsZHJlbj1lJiZlLmxlbmd0aD9lOmtufTtPbi5jcmVhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5sZW5ndGg/X24oZSx0LDAsQ24pOk1ufSxPbi5wcm90b3R5cGUuZmluZD1mdW5jdGlvbih0LGUsbil7dmFyIHI9W107cmV0dXJuIHRoaXMuZmluZElubmVyKG51bGw9PXQ/MDp0LG51bGw9PWU/MWU5OmUsciwwLG4pLHJ9LE9uLnByb3RvdHlwZS5maW5kSW5uZXI9ZnVuY3Rpb24odCxlLG4scixvKXtmb3IodmFyIGk9MDtpPHRoaXMubG9jYWwubGVuZ3RoO2krKyl7dmFyIHM9dGhpcy5sb2NhbFtpXTtzLmZyb208PWUmJnMudG8+PXQmJighb3x8byhzLnNwZWMpKSYmbi5wdXNoKHMuY29weShzLmZyb20rcixzLnRvK3IpKX1mb3IodmFyIGE9MDthPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2ErPTMpaWYodGhpcy5jaGlsZHJlblthXTxlJiZ0aGlzLmNoaWxkcmVuW2ErMV0+dCl7dmFyIGM9dGhpcy5jaGlsZHJlblthXSsxO3RoaXMuY2hpbGRyZW5bYSsyXS5maW5kSW5uZXIodC1jLGUtYyxuLHIrYyxvKX19LE9uLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzPT1Nbnx8MD09dC5tYXBzLmxlbmd0aD90aGlzOnRoaXMubWFwSW5uZXIodCxlLDAsMCxufHxDbil9LE9uLnByb3RvdHlwZS5tYXBJbm5lcj1mdW5jdGlvbih0LGUsbixyLG8pe2Zvcih2YXIgaSxzPTA7czx0aGlzLmxvY2FsLmxlbmd0aDtzKyspe3ZhciBhPXRoaXMubG9jYWxbc10ubWFwKHQsbixyKTthJiZhLnR5cGUudmFsaWQoZSxhKT8oaXx8KGk9W10pKS5wdXNoKGEpOm8ub25SZW1vdmUmJm8ub25SZW1vdmUodGhpcy5sb2NhbFtzXS5zcGVjKX1yZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGg/VG4odGhpcy5jaGlsZHJlbixpLHQsZSxuLHIsbyk6aT9uZXcgT24oaS5zb3J0KFBuKSk6TW59LE9uLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5sZW5ndGg/dGhpcz09TW4/T24uY3JlYXRlKHQsZSk6dGhpcy5hZGRJbm5lcih0LGUsMCk6dGhpc30sT24ucHJvdG90eXBlLmFkZElubmVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixvPXRoaXMsaT0wO3QuZm9yRWFjaCgoZnVuY3Rpb24odCxzKXt2YXIgYSxjPXMrbjtpZihhPUVuKGUsdCxjKSl7cnx8KHI9by5jaGlsZHJlbi5zbGljZSgpKTt3aGlsZShpPHIubGVuZ3RoJiZyW2ldPHMpaSs9MztyW2ldPT1zP3JbaSsyXT1yW2krMl0uYWRkSW5uZXIodCxhLGMrMSk6ci5zcGxpY2UoaSwwLHMscyt0Lm5vZGVTaXplLF9uKGEsdCxjKzEsQ24pKSxpKz0zfX0pKTt2YXIgcz1BbihpP1JuKGUpOmUsLW4pO3JldHVybiBuZXcgT24ocy5sZW5ndGg/dGhpcy5sb2NhbC5jb25jYXQocykuc29ydChQbik6dGhpcy5sb2NhbCxyfHx0aGlzLmNoaWxkcmVuKX0sT24ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXtyZXR1cm4gMD09dC5sZW5ndGh8fHRoaXM9PU1uP3RoaXM6dGhpcy5yZW1vdmVJbm5lcih0LDApfSxPbi5wcm90b3R5cGUucmVtb3ZlSW5uZXI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5jaGlsZHJlbixyPXRoaXMubG9jYWwsbz0wO288bi5sZW5ndGg7bys9Myl7Zm9yKHZhciBpPXZvaWQgMCxzPW5bb10rZSxhPW5bbysxXStlLGM9MCxsPXZvaWQgMDtjPHQubGVuZ3RoO2MrKykobD10W2NdKSYmbC5mcm9tPnMmJmwudG88YSYmKHRbY109bnVsbCwoaXx8KGk9W10pKS5wdXNoKGwpKTtpZihpKXtuPT10aGlzLmNoaWxkcmVuJiYobj10aGlzLmNoaWxkcmVuLnNsaWNlKCkpO3ZhciB1PW5bbysyXS5yZW1vdmVJbm5lcihpLHMrMSk7dSE9TW4/bltvKzJdPXU6KG4uc3BsaWNlKG8sMyksby09Myl9fWlmKHIubGVuZ3RoKWZvcih2YXIgZD0wLHA9dm9pZCAwO2Q8dC5sZW5ndGg7ZCsrKWlmKHA9dFtkXSlmb3IodmFyIGY9MDtmPHIubGVuZ3RoO2YrKylyW2ZdLmVxKHAsZSkmJihyPT10aGlzLmxvY2FsJiYocj10aGlzLmxvY2FsLnNsaWNlKCkpLHIuc3BsaWNlKGYtLSwxKSk7cmV0dXJuIG49PXRoaXMuY2hpbGRyZW4mJnI9PXRoaXMubG9jYWw/dGhpczpyLmxlbmd0aHx8bi5sZW5ndGg/bmV3IE9uKHIsbik6TW59LE9uLnByb3RvdHlwZS5mb3JDaGlsZD1mdW5jdGlvbih0LGUpe2lmKHRoaXM9PU1uKXJldHVybiB0aGlzO2lmKGUuaXNMZWFmKXJldHVybiBPbi5lbXB0eTtmb3IodmFyIG4scixvPTA7bzx0aGlzLmNoaWxkcmVuLmxlbmd0aDtvKz0zKWlmKHRoaXMuY2hpbGRyZW5bb10+PXQpe3RoaXMuY2hpbGRyZW5bb109PXQmJihuPXRoaXMuY2hpbGRyZW5bbysyXSk7YnJlYWt9Zm9yKHZhciBpPXQrMSxzPWkrZS5jb250ZW50LnNpemUsYT0wO2E8dGhpcy5sb2NhbC5sZW5ndGg7YSsrKXt2YXIgYz10aGlzLmxvY2FsW2FdO2lmKGMuZnJvbTxzJiZjLnRvPmkmJmMudHlwZSBpbnN0YW5jZW9mIGJuKXt2YXIgbD1NYXRoLm1heChpLGMuZnJvbSktaSx1PU1hdGgubWluKHMsYy50byktaTtsPHUmJihyfHwocj1bXSkpLnB1c2goYy5jb3B5KGwsdSkpfX1pZihyKXt2YXIgZD1uZXcgT24oci5zb3J0KFBuKSk7cmV0dXJuIG4/bmV3IE5uKFtkLG5dKTpkfXJldHVybiBufHxNbn0sT24ucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe2lmKHRoaXM9PXQpcmV0dXJuITA7aWYoISh0IGluc3RhbmNlb2YgT24pfHx0aGlzLmxvY2FsLmxlbmd0aCE9dC5sb2NhbC5sZW5ndGh8fHRoaXMuY2hpbGRyZW4ubGVuZ3RoIT10LmNoaWxkcmVuLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGU9MDtlPHRoaXMubG9jYWwubGVuZ3RoO2UrKylpZighdGhpcy5sb2NhbFtlXS5lcSh0LmxvY2FsW2VdKSlyZXR1cm4hMTtmb3IodmFyIG49MDtuPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO24rPTMpaWYodGhpcy5jaGlsZHJlbltuXSE9dC5jaGlsZHJlbltuXXx8dGhpcy5jaGlsZHJlbltuKzFdIT10LmNoaWxkcmVuW24rMV18fCF0aGlzLmNoaWxkcmVuW24rMl0uZXEodC5jaGlsZHJlbltuKzJdKSlyZXR1cm4hMTtyZXR1cm4hMH0sT24ucHJvdG90eXBlLmxvY2Fscz1mdW5jdGlvbih0KXtyZXR1cm4gem4odGhpcy5sb2NhbHNJbm5lcih0KSl9LE9uLnByb3RvdHlwZS5sb2NhbHNJbm5lcj1mdW5jdGlvbih0KXtpZih0aGlzPT1NbilyZXR1cm4ga247aWYodC5pbmxpbmVDb250ZW50fHwhdGhpcy5sb2NhbC5zb21lKGJuLmlzKSlyZXR1cm4gdGhpcy5sb2NhbDtmb3IodmFyIGU9W10sbj0wO248dGhpcy5sb2NhbC5sZW5ndGg7bisrKXRoaXMubG9jYWxbbl0udHlwZSBpbnN0YW5jZW9mIGJufHxlLnB1c2godGhpcy5sb2NhbFtuXSk7cmV0dXJuIGV9O3ZhciBNbj1uZXcgT247T24uZW1wdHk9TW4sT24ucmVtb3ZlT3ZlcmxhcD16bjt2YXIgTm49ZnVuY3Rpb24odCl7dGhpcy5tZW1iZXJzPXR9O2Z1bmN0aW9uIFRuKHQsZSxuLHIsbyxpLHMpe2Zvcih2YXIgYT10LnNsaWNlKCksYz1mdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIHM9MDtzPGEubGVuZ3RoO3MrPTMpe3ZhciBjPWFbcysxXSxsPXZvaWQgMDstMT09Y3x8dD5jK2l8fChlPj1hW3NdK2k/YVtzKzFdPS0xOm4+PW8mJihsPXItbi0oZS10KSkmJihhW3NdKz1sLGFbcysxXSs9bCkpfX0sbD0wO2w8bi5tYXBzLmxlbmd0aDtsKyspbi5tYXBzW2xdLmZvckVhY2goYyk7Zm9yKHZhciB1PSExLGQ9MDtkPGEubGVuZ3RoO2QrPTMpaWYoLTE9PWFbZCsxXSl7dmFyIHA9bi5tYXAodFtkXStpKSxmPXAtbztpZihmPDB8fGY+PXIuY29udGVudC5zaXplKXt1PSEwO2NvbnRpbnVlfXZhciBoPW4ubWFwKHRbZCsxXStpLC0xKSxtPWgtbyx2PXIuY29udGVudC5maW5kSW5kZXgoZiksZz12LmluZGV4LHk9di5vZmZzZXQsYj1yLm1heWJlQ2hpbGQoZyk7aWYoYiYmeT09ZiYmeStiLm5vZGVTaXplPT1tKXt2YXIgdz1hW2QrMl0ubWFwSW5uZXIobixiLHArMSx0W2RdK2krMSxzKTt3IT1Nbj8oYVtkXT1mLGFbZCsxXT1tLGFbZCsyXT13KTooYVtkKzFdPS0yLHU9ITApfWVsc2UgdT0hMH1pZih1KXt2YXIgUz1EbihhLHQsZXx8W10sbixvLGkscykseD1fbihTLHIsMCxzKTtlPXgubG9jYWw7Zm9yKHZhciBrPTA7azxhLmxlbmd0aDtrKz0zKWFbaysxXTwwJiYoYS5zcGxpY2UoaywzKSxrLT0zKTtmb3IodmFyIEM9MCxPPTA7Qzx4LmNoaWxkcmVuLmxlbmd0aDtDKz0zKXt2YXIgTT14LmNoaWxkcmVuW0NdO3doaWxlKE88YS5sZW5ndGgmJmFbT108TSlPKz0zO2Euc3BsaWNlKE8sMCx4LmNoaWxkcmVuW0NdLHguY2hpbGRyZW5bQysxXSx4LmNoaWxkcmVuW0MrMl0pfX1yZXR1cm4gbmV3IE9uKGUmJmUuc29ydChQbiksYSl9ZnVuY3Rpb24gQW4odCxlKXtpZighZXx8IXQubGVuZ3RoKXJldHVybiB0O2Zvcih2YXIgbj1bXSxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07bi5wdXNoKG5ldyBTbihvLmZyb20rZSxvLnRvK2Usby50eXBlKSl9cmV0dXJuIG59ZnVuY3Rpb24gRG4odCxlLG4scixvLGkscyl7ZnVuY3Rpb24gYSh0LGUpe2Zvcih2YXIgaT0wO2k8dC5sb2NhbC5sZW5ndGg7aSsrKXt2YXIgYz10LmxvY2FsW2ldLm1hcChyLG8sZSk7Yz9uLnB1c2goYyk6cy5vblJlbW92ZSYmcy5vblJlbW92ZSh0LmxvY2FsW2ldLnNwZWMpfWZvcih2YXIgbD0wO2w8dC5jaGlsZHJlbi5sZW5ndGg7bCs9MylhKHQuY2hpbGRyZW5bbCsyXSx0LmNoaWxkcmVuW2xdK2UrMSl9Zm9yKHZhciBjPTA7Yzx0Lmxlbmd0aDtjKz0zKS0xPT10W2MrMV0mJmEodFtjKzJdLGVbY10raSsxKTtyZXR1cm4gbn1mdW5jdGlvbiBFbih0LGUsbil7aWYoZS5pc0xlYWYpcmV0dXJuIG51bGw7Zm9yKHZhciByPW4rZS5ub2RlU2l6ZSxvPW51bGwsaT0wLHM9dm9pZCAwO2k8dC5sZW5ndGg7aSsrKShzPXRbaV0pJiZzLmZyb20+biYmcy50bzxyJiYoKG98fChvPVtdKSkucHVzaChzKSx0W2ldPW51bGwpO3JldHVybiBvfWZ1bmN0aW9uIFJuKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDtuKyspbnVsbCE9dFtuXSYmZS5wdXNoKHRbbl0pO3JldHVybiBlfWZ1bmN0aW9uIF9uKHQsZSxuLHIpe3ZhciBvPVtdLGk9ITE7ZS5mb3JFYWNoKChmdW5jdGlvbihlLHMpe3ZhciBhPUVuKHQsZSxzK24pO2lmKGEpe2k9ITA7dmFyIGM9X24oYSxlLG4rcysxLHIpO2MhPU1uJiZvLnB1c2gocyxzK2Uubm9kZVNpemUsYyl9fSkpO2Zvcih2YXIgcz1BbihpP1JuKHQpOnQsLW4pLnNvcnQoUG4pLGE9MDthPHMubGVuZ3RoO2ErKylzW2FdLnR5cGUudmFsaWQoZSxzW2FdKXx8KHIub25SZW1vdmUmJnIub25SZW1vdmUoc1thXS5zcGVjKSxzLnNwbGljZShhLS0sMSkpO3JldHVybiBzLmxlbmd0aHx8by5sZW5ndGg/bmV3IE9uKHMsbyk6TW59ZnVuY3Rpb24gUG4odCxlKXtyZXR1cm4gdC5mcm9tLWUuZnJvbXx8dC50by1lLnRvfWZ1bmN0aW9uIHpuKHQpe2Zvcih2YXIgZT10LG49MDtuPGUubGVuZ3RoLTE7bisrKXt2YXIgcj1lW25dO2lmKHIuZnJvbSE9ci50bylmb3IodmFyIG89bisxO288ZS5sZW5ndGg7bysrKXt2YXIgaT1lW29dO2lmKGkuZnJvbSE9ci5mcm9tKXtpLmZyb208ci50byYmKGU9PXQmJihlPXQuc2xpY2UoKSksZVtuXT1yLmNvcHkoci5mcm9tLGkuZnJvbSksSW4oZSxvLHIuY29weShpLmZyb20sci50bykpKTticmVha31pLnRvIT1yLnRvJiYoZT09dCYmKGU9dC5zbGljZSgpKSxlW29dPWkuY29weShpLmZyb20sci50byksSW4oZSxvKzEsaS5jb3B5KHIudG8saS50bykpKX19cmV0dXJuIGV9ZnVuY3Rpb24gSW4odCxlLG4pe3doaWxlKGU8dC5sZW5ndGgmJlBuKG4sdFtlXSk+MCllKys7dC5zcGxpY2UoZSwwLG4pfWZ1bmN0aW9uICRuKHQpe3ZhciBlPVtdO3JldHVybiB0LnNvbWVQcm9wKCJkZWNvcmF0aW9ucyIsKGZ1bmN0aW9uKG4pe3ZhciByPW4odC5zdGF0ZSk7ciYmciE9TW4mJmUucHVzaChyKX0pKSx0LmN1cnNvcldyYXBwZXImJmUucHVzaChPbi5jcmVhdGUodC5zdGF0ZS5kb2MsW3QuY3Vyc29yV3JhcHBlci5kZWNvXSkpLE5uLmZyb20oZSl9Tm4ucHJvdG90eXBlLmZvckNoaWxkPWZ1bmN0aW9uKHQsZSl7aWYoZS5pc0xlYWYpcmV0dXJuIE9uLmVtcHR5O2Zvcih2YXIgbj1bXSxyPTA7cjx0aGlzLm1lbWJlcnMubGVuZ3RoO3IrKyl7dmFyIG89dGhpcy5tZW1iZXJzW3JdLmZvckNoaWxkKHQsZSk7byE9TW4mJihvIGluc3RhbmNlb2YgTm4/bj1uLmNvbmNhdChvLm1lbWJlcnMpOm4ucHVzaChvKSl9cmV0dXJuIE5uLmZyb20obil9LE5uLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtpZighKHQgaW5zdGFuY2VvZiBObil8fHQubWVtYmVycy5sZW5ndGghPXRoaXMubWVtYmVycy5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBlPTA7ZTx0aGlzLm1lbWJlcnMubGVuZ3RoO2UrKylpZighdGhpcy5tZW1iZXJzW2VdLmVxKHQubWVtYmVyc1tlXSkpcmV0dXJuITE7cmV0dXJuITB9LE5uLnByb3RvdHlwZS5sb2NhbHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49ITAscj0wO3I8dGhpcy5tZW1iZXJzLmxlbmd0aDtyKyspe3ZhciBvPXRoaXMubWVtYmVyc1tyXS5sb2NhbHNJbm5lcih0KTtpZihvLmxlbmd0aClpZihlKXtuJiYoZT1lLnNsaWNlKCksbj0hMSk7Zm9yKHZhciBpPTA7aTxvLmxlbmd0aDtpKyspZS5wdXNoKG9baV0pfWVsc2UgZT1vfXJldHVybiBlP3puKG4/ZTplLnNvcnQoUG4pKTprbn0sTm4uZnJvbT1mdW5jdGlvbih0KXtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gTW47Y2FzZSAxOnJldHVybiB0WzBdO2RlZmF1bHQ6cmV0dXJuIG5ldyBObih0KX19O3ZhciBWbj1mdW5jdGlvbih0LGUpe3RoaXMuX3Byb3BzPWUsdGhpcy5zdGF0ZT1lLnN0YXRlLHRoaXMuZGlzcGF0Y2g9dGhpcy5kaXNwYXRjaC5iaW5kKHRoaXMpLHRoaXMuX3Jvb3Q9bnVsbCx0aGlzLmZvY3VzZWQ9ITEsdGhpcy50cmFja1dyaXRlcz1udWxsLHRoaXMuZG9tPXQmJnQubW91bnR8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHQmJih0LmFwcGVuZENoaWxkP3QuYXBwZW5kQ2hpbGQodGhpcy5kb20pOnQuYXBwbHk/dCh0aGlzLmRvbSk6dC5tb3VudCYmKHRoaXMubW91bnRlZD0hMCkpLHRoaXMuZWRpdGFibGU9TG4odGhpcyksdGhpcy5tYXJrQ3Vyc29yPW51bGwsdGhpcy5jdXJzb3JXcmFwcGVyPW51bGwsam4odGhpcyksdGhpcy5ub2RlVmlld3M9cW4odGhpcyksdGhpcy5kb2NWaWV3PXB0KHRoaXMuc3RhdGUuZG9jLEZuKHRoaXMpLCRuKHRoaXMpLHRoaXMuZG9tLHRoaXMpLHRoaXMubGFzdFNlbGVjdGVkVmlld0Rlc2M9bnVsbCx0aGlzLmRyYWdnaW5nPW51bGwsJGUodGhpcyksdGhpcy5wbHVnaW5WaWV3cz1bXSx0aGlzLnVwZGF0ZVBsdWdpblZpZXdzKCl9LEJuPXtwcm9wczp7Y29uZmlndXJhYmxlOiEwfSxyb290Ontjb25maWd1cmFibGU6ITB9fTtmdW5jdGlvbiBGbih0KXt2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybiBlLmNsYXNzPSJQcm9zZU1pcnJvciIsZS5jb250ZW50ZWRpdGFibGU9U3RyaW5nKHQuZWRpdGFibGUpLHQuc29tZVByb3AoImF0dHJpYnV0ZXMiLChmdW5jdGlvbihuKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgbiYmKG49bih0LnN0YXRlKSksbilmb3IodmFyIHIgaW4gbikiY2xhc3MiPT1yP2UuY2xhc3MrPSIgIituW3JdOmVbcl18fCJjb250ZW50ZWRpdGFibGUiPT1yfHwibm9kZU5hbWUiPT1yfHwoZVtyXT1TdHJpbmcobltyXSkpfSkpLFtTbi5ub2RlKDAsdC5zdGF0ZS5kb2MuY29udGVudC5zaXplLGUpXX1mdW5jdGlvbiBqbih0KXtpZih0Lm1hcmtDdXJzb3Ipe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO2Uuc2V0QXR0cmlidXRlKCJtYXJrLXBsYWNlaG9sZGVyIiwidHJ1ZSIpLHQuY3Vyc29yV3JhcHBlcj17ZG9tOmUsZGVjbzpTbi53aWRnZXQodC5zdGF0ZS5zZWxlY3Rpb24uaGVhZCxlLHtyYXc6ITAsbWFya3M6dC5tYXJrQ3Vyc29yfSl9fWVsc2UgdC5jdXJzb3JXcmFwcGVyPW51bGx9ZnVuY3Rpb24gTG4odCl7cmV0dXJuIXQuc29tZVByb3AoImVkaXRhYmxlIiwoZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1lKHQuc3RhdGUpfSkpfWZ1bmN0aW9uIEhuKHQsZSl7dmFyIG49TWF0aC5taW4odC4kYW5jaG9yLnNoYXJlZERlcHRoKHQuaGVhZCksZS4kYW5jaG9yLnNoYXJlZERlcHRoKGUuaGVhZCkpO3JldHVybiB0LiRhbmNob3Iuc3RhcnQobikhPWUuJGFuY2hvci5zdGFydChuKX1mdW5jdGlvbiBxbih0KXt2YXIgZT17fTtyZXR1cm4gdC5zb21lUHJvcCgibm9kZVZpZXdzIiwoZnVuY3Rpb24odCl7Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbil8fChlW25dPXRbbl0pfSkpLGV9ZnVuY3Rpb24gV24odCxlKXt2YXIgbj0wLHI9MDtmb3IodmFyIG8gaW4gdCl7aWYodFtvXSE9ZVtvXSlyZXR1cm4hMDtuKyt9Zm9yKHZhciBpIGluIGUpcisrO3JldHVybiBuIT1yfUJuLnByb3BzLmdldD1mdW5jdGlvbigpe2lmKHRoaXMuX3Byb3BzLnN0YXRlIT10aGlzLnN0YXRlKXt2YXIgdD10aGlzLl9wcm9wcztmb3IodmFyIGUgaW4gdGhpcy5fcHJvcHM9e30sdCl0aGlzLl9wcm9wc1tlXT10W2VdO3RoaXMuX3Byb3BzLnN0YXRlPXRoaXMuc3RhdGV9cmV0dXJuIHRoaXMuX3Byb3BzfSxWbi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3QuaGFuZGxlRE9NRXZlbnRzIT10aGlzLl9wcm9wcy5oYW5kbGVET01FdmVudHMmJkZlKHRoaXMpLHRoaXMuX3Byb3BzPXQsdGhpcy51cGRhdGVTdGF0ZUlubmVyKHQuc3RhdGUsITApfSxWbi5wcm90b3R5cGUuc2V0UHJvcHM9ZnVuY3Rpb24odCl7dmFyIGU9e307Zm9yKHZhciBuIGluIHRoaXMuX3Byb3BzKWVbbl09dGhpcy5fcHJvcHNbbl07Zm9yKHZhciByIGluIGUuc3RhdGU9dGhpcy5zdGF0ZSx0KWVbcl09dFtyXTt0aGlzLnVwZGF0ZShlKX0sVm4ucHJvdG90eXBlLnVwZGF0ZVN0YXRlPWZ1bmN0aW9uKHQpe3RoaXMudXBkYXRlU3RhdGVJbm5lcih0LHRoaXMuc3RhdGUucGx1Z2lucyE9dC5wbHVnaW5zKX0sVm4ucHJvdG90eXBlLnVwZGF0ZVN0YXRlSW5uZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLG89dGhpcy5zdGF0ZSxpPSExLGE9ITE7aWYodC5zdG9yZWRNYXJrcyYmdGhpcy5jb21wb3NpbmcmJihhbih0aGlzKSxhPSEwKSx0aGlzLnN0YXRlPXQsZSl7dmFyIGM9cW4odGhpcyk7V24oYyx0aGlzLm5vZGVWaWV3cykmJih0aGlzLm5vZGVWaWV3cz1jLGk9ITApLEZlKHRoaXMpfXRoaXMuZWRpdGFibGU9TG4odGhpcyksam4odGhpcyk7dmFyIGw9JG4odGhpcyksdT1Gbih0aGlzKSxkPWU/InJlc2V0Ijp0LnNjcm9sbFRvU2VsZWN0aW9uPm8uc2Nyb2xsVG9TZWxlY3Rpb24/InRvIHNlbGVjdGlvbiI6InByZXNlcnZlIixwPWl8fCF0aGlzLmRvY1ZpZXcubWF0Y2hlc05vZGUodC5kb2MsdSxsKTshcCYmdC5zZWxlY3Rpb24uZXEoby5zZWxlY3Rpb24pfHwoYT0hMCk7dmFyIGY9InByZXNlcnZlIj09ZCYmYSYmbnVsbD09dGhpcy5kb20uc3R5bGUub3ZlcmZsb3dBbmNob3ImJlQodGhpcyk7aWYoYSl7dGhpcy5kb21PYnNlcnZlci5zdG9wKCk7dmFyIGg9cCYmKHMuaWV8fHMuY2hyb21lKSYmIXRoaXMuY29tcG9zaW5nJiYhby5zZWxlY3Rpb24uZW1wdHkmJiF0LnNlbGVjdGlvbi5lbXB0eSYmSG4oby5zZWxlY3Rpb24sdC5zZWxlY3Rpb24pO2lmKHApe3ZhciBtPXMuY2hyb21lP3RoaXMudHJhY2tXcml0ZXM9dGhpcy5yb290LmdldFNlbGVjdGlvbigpLmZvY3VzTm9kZTpudWxsOyFpJiZ0aGlzLmRvY1ZpZXcudXBkYXRlKHQuZG9jLHUsbCx0aGlzKXx8KHRoaXMuZG9jVmlldy51cGRhdGVPdXRlckRlY28oW10pLHRoaXMuZG9jVmlldy5kZXN0cm95KCksdGhpcy5kb2NWaWV3PXB0KHQuZG9jLHUsbCx0aGlzLmRvbSx0aGlzKSksbSYmIXRoaXMudHJhY2tXcml0ZXMmJihoPSEwKX1ofHwhKHRoaXMubW91c2VEb3duJiZ0aGlzLmRvbU9ic2VydmVyLmN1cnJlbnRTZWxlY3Rpb24uZXEodGhpcy5yb290LmdldFNlbGVjdGlvbigpKSYmS3QodGhpcykpP1B0KHRoaXMsaCk6KGp0KHRoaXMsdC5zZWxlY3Rpb24pLHRoaXMuZG9tT2JzZXJ2ZXIuc2V0Q3VyU2VsZWN0aW9uKCkpLHRoaXMuZG9tT2JzZXJ2ZXIuc3RhcnQoKX1pZih0aGlzLnVwZGF0ZVBsdWdpblZpZXdzKG8pLCJyZXNldCI9PWQpdGhpcy5kb20uc2Nyb2xsVG9wPTA7ZWxzZSBpZigidG8gc2VsZWN0aW9uIj09ZCl7dmFyIHY9dGhpcy5yb290LmdldFNlbGVjdGlvbigpLmZvY3VzTm9kZTt0aGlzLnNvbWVQcm9wKCJoYW5kbGVTY3JvbGxUb1NlbGVjdGlvbiIsKGZ1bmN0aW9uKHQpe3JldHVybiB0KG4pfSkpfHwodC5zZWxlY3Rpb24gaW5zdGFuY2VvZiByWyJOb2RlU2VsZWN0aW9uIl0/Tih0aGlzLHRoaXMuZG9jVmlldy5kb21BZnRlclBvcyh0LnNlbGVjdGlvbi5mcm9tKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx2KTpOKHRoaXMsdGhpcy5jb29yZHNBdFBvcyh0LnNlbGVjdGlvbi5oZWFkLDEpLHYpKX1lbHNlIGYmJkQoZil9LFZuLnByb3RvdHlwZS5kZXN0cm95UGx1Z2luVmlld3M9ZnVuY3Rpb24oKXt2YXIgdDt3aGlsZSh0PXRoaXMucGx1Z2luVmlld3MucG9wKCkpdC5kZXN0cm95JiZ0LmRlc3Ryb3koKX0sVm4ucHJvdG90eXBlLnVwZGF0ZVBsdWdpblZpZXdzPWZ1bmN0aW9uKHQpe2lmKHQmJnQucGx1Z2lucz09dGhpcy5zdGF0ZS5wbHVnaW5zKWZvcih2YXIgZT0wO2U8dGhpcy5wbHVnaW5WaWV3cy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLnBsdWdpblZpZXdzW2VdO24udXBkYXRlJiZuLnVwZGF0ZSh0aGlzLHQpfWVsc2V7dGhpcy5kZXN0cm95UGx1Z2luVmlld3MoKTtmb3IodmFyIHI9MDtyPHRoaXMuc3RhdGUucGx1Z2lucy5sZW5ndGg7cisrKXt2YXIgbz10aGlzLnN0YXRlLnBsdWdpbnNbcl07by5zcGVjLnZpZXcmJnRoaXMucGx1Z2luVmlld3MucHVzaChvLnNwZWMudmlldyh0aGlzKSl9fX0sVm4ucHJvdG90eXBlLnNvbWVQcm9wPWZ1bmN0aW9uKHQsZSl7dmFyIG4scj10aGlzLl9wcm9wcyYmdGhpcy5fcHJvcHNbdF07aWYobnVsbCE9ciYmKG49ZT9lKHIpOnIpKXJldHVybiBuO3ZhciBvPXRoaXMuc3RhdGUucGx1Z2lucztpZihvKWZvcih2YXIgaT0wO2k8by5sZW5ndGg7aSsrKXt2YXIgcz1vW2ldLnByb3BzW3RdO2lmKG51bGwhPXMmJihuPWU/ZShzKTpzKSlyZXR1cm4gbn19LFZuLnByb3RvdHlwZS5oYXNGb2N1cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJvb3QuYWN0aXZlRWxlbWVudD09dGhpcy5kb219LFZuLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe3RoaXMuZG9tT2JzZXJ2ZXIuc3RvcCgpLHRoaXMuZWRpdGFibGUmJl8odGhpcy5kb20pLFB0KHRoaXMpLHRoaXMuZG9tT2JzZXJ2ZXIuc3RhcnQoKX0sQm4ucm9vdC5nZXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yb290O2lmKG51bGw9PXQpZm9yKHZhciBlPXRoaXMuZG9tLnBhcmVudE5vZGU7ZTtlPWUucGFyZW50Tm9kZSlpZig5PT1lLm5vZGVUeXBlfHwxMT09ZS5ub2RlVHlwZSYmZS5ob3N0KXJldHVybiBlLmdldFNlbGVjdGlvbnx8KE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCl9KSx0aGlzLl9yb290PWU7cmV0dXJuIHR8fGRvY3VtZW50fSxWbi5wcm90b3R5cGUucG9zQXRDb29yZHM9ZnVuY3Rpb24odCl7cmV0dXJuIGoodGhpcyx0KX0sVm4ucHJvdG90eXBlLmNvb3Jkc0F0UG9zPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTEpLHEodGhpcyx0LGUpfSxWbi5wcm90b3R5cGUuZG9tQXRQb3M9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZG9jVmlldy5kb21Gcm9tUG9zKHQpfSxWbi5wcm90b3R5cGUubm9kZURPTT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRvY1ZpZXcuZGVzY0F0KHQpO3JldHVybiBlP2Uubm9kZURPTTpudWxsfSxWbi5wcm90b3R5cGUucG9zQXRET009ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPS0xKTt2YXIgcj10aGlzLmRvY1ZpZXcucG9zRnJvbURPTSh0LGUsbik7aWYobnVsbD09cil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRE9NIHBvc2l0aW9uIG5vdCBpbnNpZGUgdGhlIGVkaXRvciIpO3JldHVybiByfSxWbi5wcm90b3R5cGUuZW5kT2ZUZXh0YmxvY2s9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdHQodGhpcyxlfHx0aGlzLnN0YXRlLHQpfSxWbi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZG9jVmlldyYmKEJlKHRoaXMpLHRoaXMuZGVzdHJveVBsdWdpblZpZXdzKCksdGhpcy5tb3VudGVkPyh0aGlzLmRvY1ZpZXcudXBkYXRlKHRoaXMuc3RhdGUuZG9jLFtdLCRuKHRoaXMpLHRoaXMpLHRoaXMuZG9tLnRleHRDb250ZW50PSIiKTp0aGlzLmRvbS5wYXJlbnROb2RlJiZ0aGlzLmRvbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tKSx0aGlzLmRvY1ZpZXcuZGVzdHJveSgpLHRoaXMuZG9jVmlldz1udWxsKX0sVm4ucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIEhlKHRoaXMsdCl9LFZuLnByb3RvdHlwZS5kaXNwYXRjaD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wcm9wcy5kaXNwYXRjaFRyYW5zYWN0aW9uO2U/ZS5jYWxsKHRoaXMsdCk6dGhpcy51cGRhdGVTdGF0ZSh0aGlzLnN0YXRlLmFwcGx5KHQpKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoVm4ucHJvdG90eXBlLEJuKX0sIjViYjEiOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmR9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTEzLjI1NSAxNWE2Ljk3MiA2Ljk3MiAwIDAwLS45NjUgMkg1QTUgNSAwIDAxNSA3aDE0YTUgNSAwIDAxNC42NzEgNi43ODcgNy4wMSA3LjAxIDAgMDAtMS43NC0xLjE0NkEzIDMgMCAwMDE5IDlINWEzIDMgMCAwMDAgNmg4LjI1NXpNMTkgMTRhNSA1IDAgMTEwIDEwIDUgNSAwIDAxMC0xMHptLTIuNSA1LjkzOGg1YS45MzcuOTM3IDAgMTAwLTEuODc1aC01YS45MzcuOTM3IDAgMTAwIDEuODc1eiJ9fSldKSl9fX0sIjVjNmMiOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJue2VudW1lcmFibGU6ISgxJnQpLGNvbmZpZ3VyYWJsZTohKDImdCksd3JpdGFibGU6ISg0JnQpLHZhbHVlOmV9fX0sIjVkNzUiOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmR9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTEyLjQwNiAxNC45MDVhMSAxIDAgMDAtLjU0MyAxLjMwNyAxIDEgMCAwMS0uMjE3IDEuMDlsLTIuODI4IDIuODI5YTIgMiAwIDAxLTIuODI4IDBMMy44NjggMTguMDFhMiAyIDAgMDEwLTIuODI5TDYuNyAxMi4zNTNhMS4wMTMgMS4wMTMgMCAwMTEuMDkxLS4yMTcgMSAxIDAgMDAuNzYzLTEuODQ5IDMuMDM0IDMuMDM0IDAgMDAtMy4yNjguNjUybC0yLjgzMiAyLjgyOGE0LjAwNiA0LjAwNiAwIDAwMCA1LjY1N2wyLjEyMiAyLjEyMWE0IDQgMCAwMDUuNjU2IDBsMi44MjktMi44MjhhMy4wMDggMy4wMDggMCAwMC42NTEtMy4yNyAxIDEgMCAwMC0xLjMwNi0uNTQyeiJ9fSksbigicGF0aCIse2F0dHJzOntkOiJNNy43NTcgMTYuMjQxYTEuMDExIDEuMDExIDAgMDAxLjQxNCAwbDcuNzc5LTcuNzc4YTEgMSAwIDAwLTEuNDE0LTEuNDE0bC03Ljc3OSA3Ljc3OGExIDEgMCAwMDAgMS40MTR6In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMS41NDYgNC41NzRsLTIuMTIxLTIuMTIxYTQuMDA2IDQuMDA2IDAgMDAtNS42NTcgMGwtMi44MjkgMi44MjhhMy4wMDYgMy4wMDYgMCAwMC0uNjUxIDMuMjY5IDEgMSAwIDEwMS44NDktLjc2NCAxIDEgMCAwMS4yMTctMS4wODZsMi44MjgtMi44MjhhMiAyIDAgMDEyLjgyOSAwbDIuMTIxIDIuMTIxYTIgMiAwIDAxMCAyLjgyOUwxNy4zIDExLjY0NWExLjAxNSAxLjAxNSAwIDAxLTEuMDkxLjIxNyAxIDEgMCAwMC0uNzY1IDEuODQ5IDMuMDI2IDMuMDI2IDAgMDAzLjI3LS42NTFsMi44MjgtMi44MjhhNC4wMDcgNC4wMDcgMCAwMC4wMDQtNS42NTh6In19KV0pKX19fSwiNWRiZSI6ZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbigpe3ZhciBlO2Z1bmN0aW9uIG4oKXtjb25zb2xlLmxvZyhvLmFwcGx5KG51bGwsYXJndW1lbnRzKSl9ZnVuY3Rpb24gcih0LGUpe3JldHVybiBvLmFwcGx5KG51bGwsW3RdLmNvbmNhdChlKSl9ZnVuY3Rpb24gbyh0KXtmb3IodmFyIGUsbixyLG8saT0xLHM9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpLGE9MCxjPXQubGVuZ3RoLGw9IiIsdT0hMSxkPSExLHA9ZnVuY3Rpb24oKXtyZXR1cm4gc1tpKytdfSxmPWZ1bmN0aW9uKCl7dmFyIG49IiI7d2hpbGUoL1xkLy50ZXN0KHRbYV0pKW4rPXRbYSsrXSxlPXRbYV07cmV0dXJuIG4ubGVuZ3RoPjA/cGFyc2VJbnQobik6bnVsbH07YTxjOysrYSlpZihlPXRbYV0sdSlzd2l0Y2godT0hMSwiLiI9PWU/KGQ9ITEsZT10WysrYV0pOiIwIj09ZSYmIi4iPT10W2ErMV0/KGQ9ITAsYSs9MixlPXRbYV0pOmQ9ITAsbz1mKCksZSl7Y2FzZSJiIjpsKz1wYXJzZUludChwKCksMTApLnRvU3RyaW5nKDIpO2JyZWFrO2Nhc2UiYyI6bj1wKCksbCs9InN0cmluZyI9PT10eXBlb2Ygbnx8biBpbnN0YW5jZW9mIFN0cmluZz9uOlN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQobiwxMCkpO2JyZWFrO2Nhc2UiZCI6bCs9cGFyc2VJbnQocCgpLDEwKTticmVhaztjYXNlImYiOnI9U3RyaW5nKHBhcnNlRmxvYXQocCgpKS50b0ZpeGVkKG98fDYpKSxsKz1kP3I6ci5yZXBsYWNlKC9eMC8sIiIpO2JyZWFrO2Nhc2UiaiI6bCs9SlNPTi5zdHJpbmdpZnkocCgpKTticmVhaztjYXNlIm8iOmwrPSIwIitwYXJzZUludChwKCksMTApLnRvU3RyaW5nKDgpO2JyZWFrO2Nhc2UicyI6bCs9cCgpO2JyZWFrO2Nhc2UieCI6bCs9IjB4IitwYXJzZUludChwKCksMTApLnRvU3RyaW5nKDE2KTticmVhaztjYXNlIlgiOmwrPSIweCIrcGFyc2VJbnQocCgpLDEwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTticmVhaztkZWZhdWx0OmwrPWU7YnJlYWt9ZWxzZSIlIj09PWU/dT0hMDpsKz1lO3JldHVybiBsfWU9dC5leHBvcnRzPW8sZS5mb3JtYXQ9byxlLnZzcHJpbnRmPXIsInVuZGVmaW5lZCIhPT10eXBlb2YgY29uc29sZSYmImZ1bmN0aW9uIj09PXR5cGVvZiBjb25zb2xlLmxvZyYmKGUucHJpbnRmPW4pfSkoKX0sIjVmZWQiOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmR9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTE5IDBhNSA1IDAgMTEwIDEwIDUgNSAwIDAxMC0xMHptMi41IDUuOTM4YS45MzcuOTM3IDAgMTAwLTEuODc1aC0xLjI1YS4zMTIuMzEyIDAgMDEtLjMxMy0uMzEzVjIuNWEuOTM3LjkzNyAwIDEwLTEuODc1IDB2MS4yNWMwIC4xNzMtLjE0LjMxMy0uMzEyLjMxM0gxNi41YS45MzcuOTM3IDAgMTAwIDEuODc1aDEuMjVjLjE3MyAwIC4zMTMuMTQuMzEzLjMxMlY3LjVhLjkzNy45MzcgMCAxMDEuODc1IDBWNi4yNWMwLS4xNzMuMTQtLjMxMy4zMTItLjMxM2gxLjI1ek01IDE2YTMgMyAwIDAwMCA2aDE0YTMgMyAwIDAwMC02SDV6bTAtMmgxNGE1IDUgMCAwMTAgMTBINWE1IDUgMCAwMTAtMTB6In19KV0pKX19fSw2NTQ3OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJhNjkxIiksbz1uKCIxZDgwIiksaT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgaSxzLGE9U3RyaW5nKG8oZSkpLGM9cihuKSxsPWEubGVuZ3RoO3JldHVybiBjPDB8fGM+PWw/dD8iIjp2b2lkIDA6KGk9YS5jaGFyQ29kZUF0KGMpLGk8NTUyOTZ8fGk+NTYzMTl8fGMrMT09PWx8fChzPWEuY2hhckNvZGVBdChjKzEpKTw1NjMyMHx8cz41NzM0Mz90P2EuY2hhckF0KGMpOmk6dD9hLnNsaWNlKGMsYysyKTpzLTU2MzIwKyhpLTU1Mjk2PDwxMCkrNjU1MzYpfX07dC5leHBvcnRzPXtjb2RlQXQ6aSghMSksY2hhckF0OmkoITApfX0sIjY1ZjAiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI4NjFkIiksbz1uKCJlOGI1IiksaT1uKCJiNjIyIikscz1pKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIG8odCkmJihuPXQuY29uc3RydWN0b3IsImZ1bmN0aW9uIiE9dHlwZW9mIG58fG4hPT1BcnJheSYmIW8obi5wcm90b3R5cGUpP3IobikmJihuPW5bc10sbnVsbD09PW4mJihuPXZvaWQgMCkpOm49dm9pZCAwKSxuZXcodm9pZCAwPT09bj9BcnJheTpuKSgwPT09ZT8wOmUpfX0sIjY5ZjMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcixvLGkscz1uKCI3ZjlhIiksYT1uKCJkYTg0IiksYz1uKCI4NjFkIiksbD1uKCI5MTEyIiksdT1uKCI1MTM1IiksZD1uKCJjNmNkIikscD1uKCJmNzcyIiksZj1uKCJkMDEyIiksaD1hLldlYWtNYXAsbT1mdW5jdGlvbih0KXtyZXR1cm4gaSh0KT9vKHQpOnIodCx7fSl9LHY9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuO2lmKCFjKGUpfHwobj1vKGUpKS50eXBlIT09dCl0aHJvdyBUeXBlRXJyb3IoIkluY29tcGF0aWJsZSByZWNlaXZlciwgIit0KyIgcmVxdWlyZWQiKTtyZXR1cm4gbn19O2lmKHMpe3ZhciBnPWQuc3RhdGV8fChkLnN0YXRlPW5ldyBoKSx5PWcuZ2V0LGI9Zy5oYXMsdz1nLnNldDtyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuZmFjYWRlPXQsdy5jYWxsKGcsdCxlKSxlfSxvPWZ1bmN0aW9uKHQpe3JldHVybiB5LmNhbGwoZyx0KXx8e319LGk9ZnVuY3Rpb24odCl7cmV0dXJuIGIuY2FsbChnLHQpfX1lbHNle3ZhciBTPXAoInN0YXRlIik7ZltTXT0hMCxyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuZmFjYWRlPXQsbCh0LFMsZSksZX0sbz1mdW5jdGlvbih0KXtyZXR1cm4gdSh0LFMpP3RbU106e319LGk9ZnVuY3Rpb24odCl7cmV0dXJuIHUodCxTKX19dC5leHBvcnRzPXtzZXQ6cixnZXQ6byxoYXM6aSxlbmZvcmNlOm0sZ2V0dGVyRm9yOnZ9fSwiNmQ1NCI6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5kfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOnsiZmlsbC1ydWxlIjoiZXZlbm9kZCIsZDoiTTE3IDE3djVoMmEzIDMgMCAwMDMtM3YtMmgtNXptLTIgMEg5djVoNnYtNXptMi0yaDVWOWgtNXY2em0tMiAwVjlIOXY2aDZ6bTItOGg1VjVhMyAzIDAgMDAtMy0zaC0ydjV6bS0yIDBWMkg5djVoNnptOSA5LjE3N1YxOWE1IDUgMCAwMS01IDVINWE1IDUgMCAwMS01LTVWNWE1IDUgMCAwMTUtNWgxNGE1IDUgMCAwMTUgNXYyLjgyM2EuODQzLjg0MyAwIDAxMCAuMzU0djcuNjQ2YS44NDMuODQzIDAgMDEwIC4zNTR6TTcgMkg1YTMgMyAwIDAwLTMgM3YyaDVWMnpNMiA5djZoNVY5SDJ6bTAgOHYyYTMgMyAwIDAwMyAzaDJ2LTVIMnoifX0pXSkpfX19LCI2ZWViIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZGE4NCIpLG89bigiOTExMiIpLGk9bigiNTEzNSIpLHM9bigiY2U0ZSIpLGE9bigiODkyNSIpLGM9bigiNjlmMyIpLGw9Yy5nZXQsdT1jLmVuZm9yY2UsZD1TdHJpbmcoU3RyaW5nKS5zcGxpdCgiU3RyaW5nIik7KHQuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixhKXt2YXIgYyxsPSEhYSYmISFhLnVuc2FmZSxwPSEhYSYmISFhLmVudW1lcmFibGUsZj0hIWEmJiEhYS5ub1RhcmdldEdldDsiZnVuY3Rpb24iPT10eXBlb2YgbiYmKCJzdHJpbmciIT10eXBlb2YgZXx8aShuLCJuYW1lIil8fG8obiwibmFtZSIsZSksYz11KG4pLGMuc291cmNlfHwoYy5zb3VyY2U9ZC5qb2luKCJzdHJpbmciPT10eXBlb2YgZT9lOiIiKSkpLHQhPT1yPyhsPyFmJiZ0W2VdJiYocD0hMCk6ZGVsZXRlIHRbZV0scD90W2VdPW46byh0LGUsbikpOnA/dFtlXT1uOnMoZSxuKX0pKEZ1bmN0aW9uLnByb3RvdHlwZSwidG9TdHJpbmciLChmdW5jdGlvbigpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzJiZsKHRoaXMpLnNvdXJjZXx8YSh0aGlzKX0pKX0sIjZmNTMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI4M2FiIiksbz1uKCJkZjc1IiksaT1uKCJmYzZhIikscz1uKCJkMWU3IikuZixhPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbixhPWkoZSksYz1vKGEpLGw9Yy5sZW5ndGgsdT0wLGQ9W107d2hpbGUobD51KW49Y1t1KytdLHImJiFzLmNhbGwoYSxuKXx8ZC5wdXNoKHQ/W24sYVtuXV06YVtuXSk7cmV0dXJuIGR9fTt0LmV4cG9ydHM9e2VudHJpZXM6YSghMCksdmFsdWVzOmEoITEpfX0sIjcwYzciOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmR9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTUgMTRhNSA1IDAgMTEwIDEwIDUgNSAwIDAxMC0xMHptMi41IDUuOTM4YS45MzcuOTM3IDAgMTAwLTEuODc1SDYuMjVhLjMxMi4zMTIgMCAwMS0uMzEzLS4zMTNWMTYuNWEuOTM3LjkzNyAwIDEwLTEuODc1IDB2MS4yNWMwIC4xNzMtLjE0LjMxMy0uMzEyLjMxM0gyLjVhLjkzNy45MzcgMCAxMDAgMS44NzVoMS4yNWMuMTczIDAgLjMxMy4xNC4zMTMuMzEydjEuMjVhLjkzNy45MzcgMCAxMDEuODc1IDB2LTEuMjVjMC0uMTczLjE0LS4zMTMuMzEyLS4zMTNINy41ek0xNiAxOWEzIDMgMCAwMDYgMFY1YTMgMyAwIDAwLTYgMHYxNHptLTIgMFY1YTUgNSAwIDAxMTAgMHYxNGE1IDUgMCAwMS0xMCAweiJ9fSldKSl9fX0sNzQxODpmdW5jdGlvbih0LGUpe2UuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzfSwiNzQ2ZiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjQyOGYiKSxvPW4oIjUxMzUiKSxpPW4oImU1MzgiKSxzPW4oIjliZjIiKS5mO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1yLlN5bWJvbHx8KHIuU3ltYm9sPXt9KTtvKGUsdCl8fHMoZSx0LHt2YWx1ZTppLmYodCl9KX19LDc4Mzk6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9WyJjb25zdHJ1Y3RvciIsImhhc093blByb3BlcnR5IiwiaXNQcm90b3R5cGVPZiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwidG9Mb2NhbGVTdHJpbmciLCJ0b1N0cmluZyIsInZhbHVlT2YiXX0sIjdiMGIiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCIxZDgwIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qocih0KSl9fSwiN2M3MyI6ZnVuY3Rpb24odCxlLG4pe3ZhciByLG89bigiODI1YSIpLGk9bigiMzdlOCIpLHM9bigiNzgzOSIpLGE9bigiZDAxMiIpLGM9bigiMWJlNCIpLGw9bigiY2MxMiIpLHU9bigiZjc3MiIpLGQ9Ij4iLHA9IjwiLGY9InByb3RvdHlwZSIsaD0ic2NyaXB0IixtPXUoIklFX1BST1RPIiksdj1mdW5jdGlvbigpe30sZz1mdW5jdGlvbih0KXtyZXR1cm4gcCtoK2QrdCtwKyIvIitoK2R9LHk9ZnVuY3Rpb24odCl7dC53cml0ZShnKCIiKSksdC5jbG9zZSgpO3ZhciBlPXQucGFyZW50V2luZG93Lk9iamVjdDtyZXR1cm4gdD1udWxsLGV9LGI9ZnVuY3Rpb24oKXt2YXIgdCxlPWwoImlmcmFtZSIpLG49ImphdmEiK2grIjoiO3JldHVybiBlLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGMuYXBwZW5kQ2hpbGQoZSksZS5zcmM9U3RyaW5nKG4pLHQ9ZS5jb250ZW50V2luZG93LmRvY3VtZW50LHQub3BlbigpLHQud3JpdGUoZygiZG9jdW1lbnQuRj1PYmplY3QiKSksdC5jbG9zZSgpLHQuRn0sdz1mdW5jdGlvbigpe3RyeXtyPWRvY3VtZW50LmRvbWFpbiYmbmV3IEFjdGl2ZVhPYmplY3QoImh0bWxmaWxlIil9Y2F0Y2goZSl7fXc9cj95KHIpOmIoKTt2YXIgdD1zLmxlbmd0aDt3aGlsZSh0LS0pZGVsZXRlIHdbZl1bc1t0XV07cmV0dXJuIHcoKX07YVttXT0hMCx0LmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbnVsbCE9PXQ/KHZbZl09byh0KSxuPW5ldyB2LHZbZl09bnVsbCxuW21dPXQpOm49dygpLHZvaWQgMD09PWU/bjppKG4sZSl9fSwiN2RkMCI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCIyM2U3Iiksbz1uKCI5ZWQzIiksaT1uKCJlMTYzIikscz1uKCJkMmJiIiksYT1uKCJkNDRlIiksYz1uKCI5MTEyIiksbD1uKCI2ZWViIiksdT1uKCJiNjIyIiksZD1uKCJjNDMwIikscD1uKCIzZjhjIiksZj1uKCJhZTkzIiksaD1mLkl0ZXJhdG9yUHJvdG90eXBlLG09Zi5CVUdHWV9TQUZBUklfSVRFUkFUT1JTLHY9dSgiaXRlcmF0b3IiKSxnPSJrZXlzIix5PSJ2YWx1ZXMiLGI9ImVudHJpZXMiLHc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLHUsZixTLHgpe28obixlLHUpO3ZhciBrLEMsTyxNPWZ1bmN0aW9uKHQpe2lmKHQ9PT1mJiZFKXJldHVybiBFO2lmKCFtJiZ0IGluIEEpcmV0dXJuIEFbdF07c3dpdGNoKHQpe2Nhc2UgZzpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyx0KX07Y2FzZSB5OnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLHQpfTtjYXNlIGI6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMsdCl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzKX19LE49ZSsiIEl0ZXJhdG9yIixUPSExLEE9dC5wcm90b3R5cGUsRD1BW3ZdfHxBWyJAQGl0ZXJhdG9yIl18fGYmJkFbZl0sRT0hbSYmRHx8TShmKSxSPSJBcnJheSI9PWUmJkEuZW50cmllc3x8RDtpZihSJiYoaz1pKFIuY2FsbChuZXcgdCkpLGghPT1PYmplY3QucHJvdG90eXBlJiZrLm5leHQmJihkfHxpKGspPT09aHx8KHM/cyhrLGgpOiJmdW5jdGlvbiIhPXR5cGVvZiBrW3ZdJiZjKGssdix3KSksYShrLE4sITAsITApLGQmJihwW05dPXcpKSksZj09eSYmRCYmRC5uYW1lIT09eSYmKFQ9ITAsRT1mdW5jdGlvbigpe3JldHVybiBELmNhbGwodGhpcyl9KSxkJiYheHx8QVt2XT09PUV8fGMoQSx2LEUpLHBbZV09RSxmKWlmKEM9e3ZhbHVlczpNKHkpLGtleXM6Uz9FOk0oZyksZW50cmllczpNKGIpfSx4KWZvcihPIGluIEMpKG18fFR8fCEoTyBpbiBBKSkmJmwoQSxPLENbT10pO2Vsc2Ugcih7dGFyZ2V0OmUscHJvdG86ITAsZm9yY2VkOm18fFR9LEMpO3JldHVybiBDfX0sIjdmMDYiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiB3fSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKTtmb3IodmFyIHI9ezg6IkJhY2tzcGFjZSIsOToiVGFiIiwxMDoiRW50ZXIiLDEyOiJOdW1Mb2NrIiwxMzoiRW50ZXIiLDE2OiJTaGlmdCIsMTc6IkNvbnRyb2wiLDE4OiJBbHQiLDIwOiJDYXBzTG9jayIsMjc6IkVzY2FwZSIsMzI6IiAiLDMzOiJQYWdlVXAiLDM0OiJQYWdlRG93biIsMzU6IkVuZCIsMzY6IkhvbWUiLDM3OiJBcnJvd0xlZnQiLDM4OiJBcnJvd1VwIiwzOToiQXJyb3dSaWdodCIsNDA6IkFycm93RG93biIsNDQ6IlByaW50U2NyZWVuIiw0NToiSW5zZXJ0Iiw0NjoiRGVsZXRlIiw1OToiOyIsNjE6Ij0iLDkxOiJNZXRhIiw5MjoiTWV0YSIsMTA2OiIqIiwxMDc6IisiLDEwODoiLCIsMTA5OiItIiwxMTA6Ii4iLDExMToiLyIsMTQ0OiJOdW1Mb2NrIiwxNDU6IlNjcm9sbExvY2siLDE2MDoiU2hpZnQiLDE2MToiU2hpZnQiLDE2MjoiQ29udHJvbCIsMTYzOiJDb250cm9sIiwxNjQ6IkFsdCIsMTY1OiJBbHQiLDE3MzoiLSIsMTg2OiI7IiwxODc6Ij0iLDE4ODoiLCIsMTg5OiItIiwxOTA6Ii4iLDE5MToiLyIsMTkyOiJgIiwyMTk6IlsiLDIyMDoiXFwiLDIyMToiXSIsMjIyOiInIiwyMjk6InEifSxvPXs0ODoiKSIsNDk6IiEiLDUwOiJAIiw1MToiIyIsNTI6IiQiLDUzOiIlIiw1NDoiXiIsNTU6IiYiLDU2OiIqIiw1NzoiKCIsNTk6IjoiLDYxOiIrIiwxNzM6Il8iLDE4NjoiOiIsMTg3OiIrIiwxODg6IjwiLDE4OToiXyIsMTkwOiI+IiwxOTE6Ij8iLDE5MjoifiIsMjE5OiJ7IiwyMjA6InwiLDIyMToifSIsMjIyOiciJywyMjk6IlEifSxpPSJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiYvQ2hyb21lXC8oXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KSxzPSJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiYvQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2aWdhdG9yLnZlbmRvciksYT0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmL0dlY2tvXC9cZCsvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksYz0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmL01hYy8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pLGw9InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9NU0lFIFxkfFRyaWRlbnRcLyg/Ols3LTldfFxkezIsfSlcLi4qcnY6KFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCksdT1pJiYoY3x8K2lbMV08NTcpfHxhJiZjLGQ9MDtkPDEwO2QrKylyWzQ4K2RdPXJbOTYrZF09U3RyaW5nKGQpO2ZvcihkPTE7ZDw9MjQ7ZCsrKXJbZCsxMTFdPSJGIitkO2ZvcihkPTY1O2Q8PTkwO2QrKylyW2RdPVN0cmluZy5mcm9tQ2hhckNvZGUoZCszMiksb1tkXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGQpO2Zvcih2YXIgcCBpbiByKW8uaGFzT3duUHJvcGVydHkocCl8fChvW3BdPXJbcF0pO2Z1bmN0aW9uIGYodCl7dmFyIGU9dSYmKHQuY3RybEtleXx8dC5hbHRLZXl8fHQubWV0YUtleSl8fChzfHxsKSYmdC5zaGlmdEtleSYmdC5rZXkmJjE9PXQua2V5Lmxlbmd0aCxuPSFlJiZ0LmtleXx8KHQuc2hpZnRLZXk/bzpyKVt0LmtleUNvZGVdfHx0LmtleXx8IlVuaWRlbnRpZmllZCI7cmV0dXJuIkVzYyI9PW4mJihuPSJFc2NhcGUiKSwiRGVsIj09biYmKG49IkRlbGV0ZSIpLCJMZWZ0Ij09biYmKG49IkFycm93TGVmdCIpLCJVcCI9PW4mJihuPSJBcnJvd1VwIiksIlJpZ2h0Ij09biYmKG49IkFycm93UmlnaHQiKSwiRG93biI9PW4mJihuPSJBcnJvd0Rvd24iKSxufXZhciBoPW4oIjUzMTMiKSxtPSJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiYvTWFjLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk7ZnVuY3Rpb24gdih0KXt2YXIgZSxuLHIsbyxpPXQuc3BsaXQoLy0oPyEkKS8pLHM9aVtpLmxlbmd0aC0xXTsiU3BhY2UiPT1zJiYocz0iICIpO2Zvcih2YXIgYT0wO2E8aS5sZW5ndGgtMTthKyspe3ZhciBjPWlbYV07aWYoL14oY21kfG1ldGF8bSkkL2kudGVzdChjKSlvPSEwO2Vsc2UgaWYoL15hKGx0KT8kL2kudGVzdChjKSllPSEwO2Vsc2UgaWYoL14oY3xjdHJsfGNvbnRyb2wpJC9pLnRlc3QoYykpbj0hMDtlbHNlIGlmKC9ecyhoaWZ0KT8kL2kudGVzdChjKSlyPSEwO2Vsc2V7aWYoIS9ebW9kJC9pLnRlc3QoYykpdGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgbW9kaWZpZXIgbmFtZTogIitjKTttP289ITA6bj0hMH19cmV0dXJuIGUmJihzPSJBbHQtIitzKSxuJiYocz0iQ3RybC0iK3MpLG8mJihzPSJNZXRhLSIrcyksciYmKHM9IlNoaWZ0LSIrcyksc31mdW5jdGlvbiBnKHQpe3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKHZhciBuIGluIHQpZVt2KG4pXT10W25dO3JldHVybiBlfWZ1bmN0aW9uIHkodCxlLG4pe3JldHVybiBlLmFsdEtleSYmKHQ9IkFsdC0iK3QpLGUuY3RybEtleSYmKHQ9IkN0cmwtIit0KSxlLm1ldGFLZXkmJih0PSJNZXRhLSIrdCksITEhPT1uJiZlLnNoaWZ0S2V5JiYodD0iU2hpZnQtIit0KSx0fWZ1bmN0aW9uIGIodCl7cmV0dXJuIG5ldyBoWyJQbHVnaW4iXSh7cHJvcHM6e2hhbmRsZUtleURvd246dyh0KX19KX1mdW5jdGlvbiB3KHQpe3ZhciBlPWcodCk7cmV0dXJuIGZ1bmN0aW9uKHQsbil7dmFyIG8saT1mKG4pLHM9MT09aS5sZW5ndGgmJiIgIiE9aSxhPWVbeShpLG4sIXMpXTtpZihhJiZhKHQuc3RhdGUsdC5kaXNwYXRjaCx0KSlyZXR1cm4hMDtpZihzJiYobi5zaGlmdEtleXx8bi5hbHRLZXl8fG4ubWV0YUtleXx8aS5jaGFyQ29kZUF0KDApPjEyNykmJihvPXJbbi5rZXlDb2RlXSkmJm8hPWkpe3ZhciBjPWVbeShvLG4sITApXTtpZihjJiZjKHQuc3RhdGUsdC5kaXNwYXRjaCx0KSlyZXR1cm4hMH1lbHNlIGlmKHMmJm4uc2hpZnRLZXkpe3ZhciBsPWVbeShpLG4sITApXTtpZihsJiZsKHQuc3RhdGUsdC5kaXNwYXRjaCx0KSlyZXR1cm4hMH1yZXR1cm4hMX19fSwiN2Y5YSI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImRhODQiKSxvPW4oIjg5MjUiKSxpPXIuV2Vha01hcDt0LmV4cG9ydHM9ImZ1bmN0aW9uIj09PXR5cGVvZiBpJiYvbmF0aXZlIGNvZGUvLnRlc3QobyhpKSl9LCI4MjVhIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiODYxZCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighcih0KSl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKHQpKyIgaXMgbm90IGFuIG9iamVjdCIpO3JldHVybiB0fX0sIjgzYWIiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJkMDM5Iik7dC5leHBvcnRzPSFyKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sMSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSlbMV19KSl9LDg0MTg6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJjMDRlIiksbz1uKCI5YmYyIiksaT1uKCI1YzZjIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcz1yKGUpO3MgaW4gdD9vLmYodCxzLGkoMCxuKSk6dFtzXT1ufX0sIjg2MWQiOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiJvYmplY3QiPT09dHlwZW9mIHQ/bnVsbCE9PXQ6ImZ1bmN0aW9uIj09PXR5cGVvZiB0fX0sODg3NTpmdW5jdGlvbih0LGUsbil7dmFyIHIsbyxpOyhmdW5jdGlvbihuLHMpe289W10scj1zLGk9ImZ1bmN0aW9uIj09PXR5cGVvZiByP3IuYXBwbHkoZSxvKTpyLHZvaWQgMD09PWl8fCh0LmV4cG9ydHM9aSl9KSgidW5kZWZpbmVkIiE9PXR5cGVvZiBzZWxmJiZzZWxmLChmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRvY3VtZW50LCJjdXJyZW50U2NyaXB0Iik7aWYoIWUmJiJjdXJyZW50U2NyaXB0ImluIGRvY3VtZW50JiZkb2N1bWVudC5jdXJyZW50U2NyaXB0KXJldHVybiBkb2N1bWVudC5jdXJyZW50U2NyaXB0O2lmKGUmJmUuZ2V0IT09dCYmZG9jdW1lbnQuY3VycmVudFNjcmlwdClyZXR1cm4gZG9jdW1lbnQuY3VycmVudFNjcmlwdDt0cnl7dGhyb3cgbmV3IEVycm9yfWNhdGNoKGYpe3ZhciBuLHIsbyxpPS8uKmF0IFteKF0qXCgoLiopOiguKyk6KC4rKVwpJC9naSxzPS9AKFteQF0qKTooXGQrKTooXGQrKVxzKiQvZ2ksYT1pLmV4ZWMoZi5zdGFjayl8fHMuZXhlYyhmLnN0YWNrKSxjPWEmJmFbMV18fCExLGw9YSYmYVsyXXx8ITEsdT1kb2N1bWVudC5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoZG9jdW1lbnQubG9jYXRpb24uaGFzaCwiIiksZD1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0Iik7Yz09PXUmJihuPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUwscj1uZXcgUmVnRXhwKCIoPzpbXlxcbl0rP1xcbil7MCwiKyhsLTIpKyJ9W148XSo8c2NyaXB0PihbXFxkXFxEXSo/KTxcXC9zY3JpcHQ+W1xcZFxcRF0qIiwiaSIpLG89bi5yZXBsYWNlKHIsIiQxIikudHJpbSgpKTtmb3IodmFyIHA9MDtwPGQubGVuZ3RoO3ArKyl7aWYoImludGVyYWN0aXZlIj09PWRbcF0ucmVhZHlTdGF0ZSlyZXR1cm4gZFtwXTtpZihkW3BdLnNyYz09PWMpcmV0dXJuIGRbcF07aWYoYz09PXUmJmRbcF0uaW5uZXJIVE1MJiZkW3BdLmlubmVySFRNTC50cmltKCk9PT1vKXJldHVybiBkW3BdfXJldHVybiBudWxsfX1yZXR1cm4gdH0pKX0sODkyNTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiYzZjZCIpLG89RnVuY3Rpb24udG9TdHJpbmc7ImZ1bmN0aW9uIiE9dHlwZW9mIHIuaW5zcGVjdFNvdXJjZSYmKHIuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gby5jYWxsKHQpfSksdC5leHBvcnRzPXIuaW5zcGVjdFNvdXJjZX0sIjhiYmYiOmZ1bmN0aW9uKGUsbil7ZS5leHBvcnRzPXR9LCI5MGUzIjpmdW5jdGlvbih0LGUpe3ZhciBuPTAscj1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4iU3ltYm9sKCIrU3RyaW5nKHZvaWQgMD09PXQ/IiI6dCkrIilfIisoKytuK3IpLnRvU3RyaW5nKDM2KX19LDkxMTI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjgzYWIiKSxvPW4oIjliZjIiKSxpPW4oIjVjNmMiKTt0LmV4cG9ydHM9cj9mdW5jdGlvbih0LGUsbil7cmV0dXJuIG8uZih0LGUsaSgxLG4pKX06ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW4sdH19LCI5MmNmIjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5kfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmR9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xNy43ODYgMy43N2ExMi41NDIgMTIuNTQyIDAgMDAtMTIuOTY1LS44NjUuMjQ5LjI0OSAwIDAxLS4yOTItLjA0NUwxLjkzNy4yNjlBLjUwNy41MDcgMCAwMDEuMzkyLjE2YS41LjUgMCAwMC0uMzA4LjQ2MnY2LjdhLjUuNSAwIDAwLjUuNWg2LjdhLjUuNSAwIDAwLjM1NC0uODU0TDYuNzgzIDUuMTE1YS4yNTMuMjUzIDAgMDEtLjA2OC0uMjI4LjI0OS4yNDkgMCAwMS4xNTItLjE4MSAxMCAxMCAwIDAxOS40NjYgMS4xIDkuNzU5IDkuNzU5IDAgMDEuMDk0IDE1LjgwOSAxLjI1IDEuMjUgMCAwMDEuNDczIDIuMDE2IDEyLjEyMiAxMi4xMjIgMCAwMDUuMDEzLTkuOTYxIDEyLjEyNSAxMi4xMjUgMCAwMC01LjEyNy05Ljl6In19KV0pKX19fSwiOTRjYSI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImQwMzkiKSxvPS8jfFwucHJvdG90eXBlXC4vLGk9ZnVuY3Rpb24odCxlKXt2YXIgbj1hW3ModCldO3JldHVybiBuPT1sfHxuIT1jJiYoImZ1bmN0aW9uIj09dHlwZW9mIGU/cihlKTohIWUpfSxzPWkubm9ybWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBTdHJpbmcodCkucmVwbGFjZShvLCIuIikudG9Mb3dlckNhc2UoKX0sYT1pLmRhdGE9e30sYz1pLk5BVElWRT0iTiIsbD1pLlBPTFlGSUxMPSJQIjt0LmV4cG9ydHM9aX0sIjk4NmQiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciByPW4oIjUzMTMiKSxvPW4oIjMwNGEiKSxpPW4oIjU1YmUiKSxzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1qKHQpKGUuc2VsZWN0aW9uKTtyZXR1cm4gbj9rKG4ucG9zKShlKTplfX0sYT1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pO2Zvcih2YXIgcj0wLG89dC5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9aih0W3JdKShuLnNlbGVjdGlvbik7aWYoaSl7dmFyIHM9UyhpLnBvcyxlKShuKTtpZihzIT09bilyZXR1cm4gc319cmV0dXJuIG59fSxjPWZ1bmN0aW9uKHQpe2lmKHkodC5zZWxlY3Rpb24pKXt2YXIgZT10LnNlbGVjdGlvbi4kZnJvbS5wb3Msbj10LnNlbGVjdGlvbi4kdG8ucG9zO3JldHVybiB3KHQuZGVsZXRlKGUsbikpfXJldHVybiB0fSxsPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtpZih5KGUuc2VsZWN0aW9uKSl7dmFyIG49ZS5zZWxlY3Rpb24saT1uLiRmcm9tLHM9bi4kdG87aWYodCBpbnN0YW5jZW9mIG8uRnJhZ21lbnQmJmkucGFyZW50LmNhblJlcGxhY2UoaS5pbmRleCgpLGkuaW5kZXhBZnRlcigpLHQpfHxpLnBhcmVudC5jYW5SZXBsYWNlV2l0aChpLmluZGV4KCksaS5pbmRleEFmdGVyKCksdC50eXBlKSlyZXR1cm4gdyhlLnJlcGxhY2VXaXRoKGkucG9zLHMucG9zLHQpLnNldFNlbGVjdGlvbihuZXcgci5Ob2RlU2VsZWN0aW9uKGUuZG9jLnJlc29sdmUoaS5wb3MpKSkpfXJldHVybiBlfX0sdT1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG89ci5TZWxlY3Rpb24uZmluZEZyb20obi5kb2MucmVzb2x2ZSh0KSxlLCEwKTtyZXR1cm4gbz9uLnNldFNlbGVjdGlvbihvKTpufX0sZD1mdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlJiZ0LnR5cGUuc3BlYy5zZWxlY3RhYmxlfSxwPWZ1bmN0aW9uKHQpe3JldHVybiBkKHQpJiZ0LnR5cGUuaXNMZWFmfSxmPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gcCh0KT9uLnNldFNlbGVjdGlvbihuZXcgci5Ob2RlU2VsZWN0aW9uKG4uZG9jLnJlc29sdmUoZSkpKTp1KGUpKG4pfSxoPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIG89Im51bWJlciI9PT10eXBlb2YgZSxpPXIuc2VsZWN0aW9uLiRmcm9tLHM9bz9yLmRvYy5yZXNvbHZlKGUpOnkoci5zZWxlY3Rpb24pP3IuZG9jLnJlc29sdmUoaS5wb3MrMSk6aSxjPXMucGFyZW50O2lmKHkoci5zZWxlY3Rpb24pJiZuKXt2YXIgdT1yO2lmKHI9bCh0KShyKSx1IT09cilyZXR1cm4gcn1pZihNKGMpKXt2YXIgcD1yO2lmKHI9YShjLnR5cGUsdCkocikscCE9PXIpe3ZhciBoPWQodCk/cy5iZWZvcmUocy5kZXB0aCk6cy5wb3M7cmV0dXJuIGYodCxoLHIpfX1pZihPKHMsdCkpe3IuaW5zZXJ0KHMucG9zLHQpO3ZhciBtPW8/cy5wb3M6ZCh0KT9yLnNlbGVjdGlvbi4kYW5jaG9yLnBvcy0xOnIuc2VsZWN0aW9uLiRhbmNob3IucG9zO3JldHVybiB3KGYodCxtLHIpKX1mb3IodmFyIHY9cy5kZXB0aDt2PjA7di0tKXt2YXIgZz1zLmFmdGVyKHYpLGI9ci5kb2MucmVzb2x2ZShnKTtpZihPKGIsdCkpcmV0dXJuIHIuaW5zZXJ0KGcsdCksdyhmKHQsZyxyKSl9cmV0dXJuIHJ9fSxtPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBmdW5jdGlvbihvKXt2YXIgaT1qKHQpKG8uc2VsZWN0aW9uKTtyZXR1cm4gaT93KG8uc2V0Tm9kZU1hcmt1cChpLnBvcyxlLE9iamVjdC5hc3NpZ24oe30saS5ub2RlLmF0dHJzLG4pLHIpKTpvfX0sdj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoIXkoZS5zZWxlY3Rpb24pKXt2YXIgbj1qKHQpKGUuc2VsZWN0aW9uKTtpZihuKXJldHVybiB3KGUuc2V0U2VsZWN0aW9uKHIuTm9kZVNlbGVjdGlvbi5jcmVhdGUoZS5kb2Msbi5wb3MpKSl9cmV0dXJuIGV9fSxnPWZ1bmN0aW9uKHQpe3ZhciBlPUsodC5zZWxlY3Rpb24pO3JldHVybiJudW1iZXIiPT09dHlwZW9mIGU/ayhlKSh0KTp0fSx5PWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygci5Ob2RlU2VsZWN0aW9ufSxiPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCkmJnQuaW5kZXhPZihlLnR5cGUpPi0xfHxlLnR5cGU9PT10fSx3PWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUodCksdCkuc2V0VGltZShEYXRlLm5vdygpKX0sUz1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgcj1uLmRvYy5ub2RlQXQodCksbz1uLmRvYy5yZXNvbHZlKHQpO2lmKHgobyxlKSl7bj1uLnJlcGxhY2VXaXRoKHQsdCtyLm5vZGVTaXplLGUpO3ZhciBpPW4uc2VsZWN0aW9uLiRmcm9tLnBvcy0xO3JldHVybiBuPXUoTWF0aC5tYXgoaSwwKSwtMSkobiksbj11KG4uc2VsZWN0aW9uLiRmcm9tLnN0YXJ0KCkpKG4pLHcobil9cmV0dXJuIG59fSx4PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5ub2RlKHQuZGVwdGgpO3JldHVybiBuJiZuLnR5cGUudmFsaWRDb250ZW50KGUgaW5zdGFuY2VvZiBvLkZyYWdtZW50P2U6by5GcmFnbWVudC5mcm9tKGUpKX0saz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49ZS5kb2Mubm9kZUF0KHQpO3JldHVybiB3KGUuZGVsZXRlKHQsdCtuLm5vZGVTaXplKSl9fSxDPWZ1bmN0aW9uKHQpe2lmKHQuY2FjaGVkLnRhYmxlTm9kZVR5cGVzKXJldHVybiB0LmNhY2hlZC50YWJsZU5vZGVUeXBlczt2YXIgZT17fTtyZXR1cm4gT2JqZWN0LmtleXModC5ub2RlcykuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIHI9dC5ub2Rlc1tuXTtyLnNwZWMudGFibGVSb2xlJiYoZVtyLnNwZWMudGFibGVSb2xlXT1yKX0pKSx0LmNhY2hlZC50YWJsZU5vZGVUeXBlcz1lLGV9LE89ZnVuY3Rpb24odCxlKXt2YXIgbj10LmluZGV4KCk7cmV0dXJuIGUgaW5zdGFuY2VvZiBvLkZyYWdtZW50P3QucGFyZW50LmNhblJlcGxhY2UobixuLGUpOmUgaW5zdGFuY2VvZiBvLk5vZGUmJnQucGFyZW50LmNhblJlcGxhY2VXaXRoKG4sbixlLnR5cGUpfSxNPWZ1bmN0aW9uKHQpe3JldHVybiF0fHwicGFyYWdyYXBoIj09PXQudHlwZS5uYW1lJiYyPT09dC5ub2RlU2l6ZX0sTj1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlLnNwZWMudGFibGVSb2xlJiYvdGFibGUvaS50ZXN0KHQudHlwZS5zcGVjLnRhYmxlUm9sZSl9O3JldHVybiBWKHQsZSl9LFQ9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGw7cmV0dXJuIGU/dC5jcmVhdGVDaGVja2VkKG51bGwsZSk6dC5jcmVhdGVBbmRGaWxsKCl9LEE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Zvcih2YXIgbj1pLlRhYmxlTWFwLmdldChlLiRhbmNob3JDZWxsLm5vZGUoLTEpKSxyPWUuJGFuY2hvckNlbGwuc3RhcnQoLTEpLG89bi5jZWxsc0luUmVjdCh0KSxzPW4uY2VsbHNJblJlY3Qobi5yZWN0QmV0d2VlbihlLiRhbmNob3JDZWxsLnBvcy1yLGUuJGhlYWRDZWxsLnBvcy1yKSksYT0wLGM9by5sZW5ndGg7YTxjO2ErKylpZigtMT09PXMuaW5kZXhPZihvW2FdKSlyZXR1cm4hMTtyZXR1cm4hMH19LEQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRbMF0ubWFwKChmdW5jdGlvbihlLG4pe3JldHVybiB0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbbl19KSl9KSl9LEU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWkuVGFibGVNYXAuZ2V0KHQpLG49W10scj0wO3I8ZS5oZWlnaHQ7cisrKXtmb3IodmFyIG89W10scz17fSxhPTA7YTxlLndpZHRoO2ErKyl7dmFyIGM9ZS5tYXBbciplLndpZHRoK2FdLGw9dC5ub2RlQXQoYyksdT1lLmZpbmRDZWxsKGMpO3NbY118fHUudG9wIT09cj9vLnB1c2gobnVsbCk6KHNbY109ITAsby5wdXNoKGwpKX1uLnB1c2gobyl9cmV0dXJuIG59LFI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10scj1pLlRhYmxlTWFwLmdldCh0KSxvPTA7bzxyLmhlaWdodDtvKyspe2Zvcih2YXIgcz10LmNoaWxkKG8pLGE9W10sYz0wO2M8ci53aWR0aDtjKyspaWYoZVtvXVtjXSl7dmFyIGw9ci5tYXBbbypyLndpZHRoK2NdLHU9ZVtvXVtjXSxkPXQubm9kZUF0KGwpLHA9ZC50eXBlLmNyZWF0ZUNoZWNrZWQoT2JqZWN0LmFzc2lnbih7fSx1LmF0dHJzKSx1LmNvbnRlbnQsdS5tYXJrcyk7YS5wdXNoKHApfW4ucHVzaChzLnR5cGUuY3JlYXRlQ2hlY2tlZChzLmF0dHJzLGEscy5tYXJrcykpfXZhciBmPXQudHlwZS5jcmVhdGVDaGVja2VkKHQuYXR0cnMsbix0Lm1hcmtzKTtyZXR1cm4gZn0sXz1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz1EKEUodC5ub2RlKSk7cmV0dXJuIG89eihvLGUsbixyKSxvPUQobyksUih0Lm5vZGUsbyl9LFA9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89RSh0Lm5vZGUpO3JldHVybiBvPXoobyxlLG4sciksUih0Lm5vZGUsbyl9LHo9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89ZVswXT5uWzBdPy0xOjEsaT10LnNwbGljZShlWzBdLGUubGVuZ3RoKSxzPWkubGVuZ3RoJTI9PT0wPzE6MCxhPXZvaWQgMDtyZXR1cm4gYT0tMT09PXImJjE9PT1vP25bMF0tMToxPT09ciYmLTE9PT1vP25bbi5sZW5ndGgtMV0tcysxOi0xPT09bz9uWzBdOm5bbi5sZW5ndGgtMV0tcyx0LnNwbGljZS5hcHBseSh0LFthLDBdLmNvbmNhdChpKSksdH0sST1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10PmU/LTE6MSxpPSJUYXJnZXQgcG9zaXRpb24gaXMgaW52YWxpZCwgeW91IGNhbid0IG1vdmUgdGhlICIrcisiICIrdCsiIHRvICIrZSsiLCB0aGUgdGFyZ2V0IGNhbid0IGJlIHNwbGl0LiBZb3UgY291bGQgdXNlIHRyeVRvRml0IG9wdGlvbi4iO2lmKDE9PT1vKXtpZigtMSE9PW4uc2xpY2UoMCxuLmxlbmd0aC0xKS5pbmRleE9mKGUpKXRocm93IG5ldyBFcnJvcihpKX1lbHNlIGlmKC0xIT09bi5zbGljZSgxKS5pbmRleE9mKGUpKXRocm93IG5ldyBFcnJvcihpKTtyZXR1cm4hMH0sJD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49ZS4kZnJvbTtyZXR1cm4gVihuLHQpfX0sVj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LmRlcHRoO24+MDtuLS0pe3ZhciByPXQubm9kZShuKTtpZihlKHIpKXJldHVybntwb3M6bj4wP3QuYmVmb3JlKG4pOjAsc3RhcnQ6dC5zdGFydChuKSxkZXB0aDpuLG5vZGU6cn19fSxCPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciByPSQodCkobik7aWYocilyZXR1cm4gSihyLnBvcyxlKX19LEY9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiEhJCh0KShlKX19LGo9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiAkKChmdW5jdGlvbihlKXtyZXR1cm4gYih0LGUpfSkpKGUpfX0sTD1mdW5jdGlvbih0LGUpe3JldHVybiBWKHQsKGZ1bmN0aW9uKHQpe3JldHVybiBiKGUsdCl9KSl9LEg9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBGKChmdW5jdGlvbihlKXtyZXR1cm4gYih0LGUpfSkpKGUpfX0scT1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gQigoZnVuY3Rpb24oZSl7cmV0dXJuIGIodCxlKX0pLGUpKG4pfX0sVz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoeShlKSl7dmFyIG49ZS5ub2RlLHI9ZS4kZnJvbTtpZihiKHQsbikpcmV0dXJue25vZGU6bixwb3M6ci5wb3MsZGVwdGg6ci5kZXB0aH19fX0sSz1mdW5jdGlvbih0KXt2YXIgZT10LiRmcm9tLm5vZGVCZWZvcmUsbj1yLlNlbGVjdGlvbi5maW5kRnJvbSh0LiRmcm9tLC0xKTtpZihuJiZlKXt2YXIgbz1qKGUudHlwZSkobik7cmV0dXJuIG8/by5wb3M6bi4kZnJvbS5wb3N9fSxKPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZSh0KSxyPW4ubm9kZS5jaGlsZE5vZGVzW24ub2Zmc2V0XTtyZXR1cm4gbi5ub2RlLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREU/bi5ub2RlLnBhcmVudE5vZGU6ciYmci5ub2RlVHlwZSE9PU5vZGUuVEVYVF9OT0RFP3I6bi5ub2RlfSxVPWZ1bmN0aW9uKHQpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07aWYoIXQpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkICJub2RlIiBwYXJhbWV0ZXInKTt2YXIgbj1bXTtyZXR1cm4gdC5kZXNjZW5kYW50cygoZnVuY3Rpb24odCxyKXtpZihuLnB1c2goe25vZGU6dCxwb3M6cn0pLCFlKXJldHVybiExfSkpLG59LEc9ZnVuY3Rpb24odCxlLG4pe2lmKCF0KXRocm93IG5ldyBFcnJvcignSW52YWxpZCAibm9kZSIgcGFyYW1ldGVyJyk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkICJwcmVkaWNhdGUiIHBhcmFtZXRlcicpO3JldHVybiBVKHQsbikuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZSh0Lm5vZGUpfSkpfSxYPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEcodCwoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNUZXh0fSksZSl9LFk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gRyh0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5pc0lubGluZX0pLGUpfSxaPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEcodCwoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNCbG9ja30pLGUpfSxRPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gRyh0LChmdW5jdGlvbih0KXtyZXR1cm4hIWUodC5hdHRycyl9KSxuKX0sdHQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBHKHQsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PT1lfSksbil9LGV0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gRyh0LChmdW5jdGlvbih0KXtyZXR1cm4gZS5pc0luU2V0KHQubWFya3MpfSksbil9LG50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuISF0dCh0LGUpLmxlbmd0aH07ZnVuY3Rpb24gcnQodCl7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBlPTAsbj1BcnJheSh0Lmxlbmd0aCk7ZTx0Lmxlbmd0aDtlKyspbltlXT10W2VdO3JldHVybiBufXJldHVybiBBcnJheS5mcm9tKHQpfXZhciBvdD1mdW5jdGlvbih0KXtyZXR1cm4gJCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudHlwZS5zcGVjLnRhYmxlUm9sZSYmInRhYmxlIj09PXQudHlwZS5zcGVjLnRhYmxlUm9sZX0pKSh0KX0saXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBpLkNlbGxTZWxlY3Rpb259LHN0PWZ1bmN0aW9uKHQpe2lmKGl0KHQpKXt2YXIgZT10LiRhbmNob3JDZWxsLnN0YXJ0KC0xKSxuPWkuVGFibGVNYXAuZ2V0KHQuJGFuY2hvckNlbGwubm9kZSgtMSkpO3JldHVybiBuLnJlY3RCZXR3ZWVuKHQuJGFuY2hvckNlbGwucG9zLWUsdC4kaGVhZENlbGwucG9zLWUpfX0sYXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKGl0KGUpKXt2YXIgbj1pLlRhYmxlTWFwLmdldChlLiRhbmNob3JDZWxsLm5vZGUoLTEpKTtyZXR1cm4gQSh7bGVmdDp0LHJpZ2h0OnQrMSx0b3A6MCxib3R0b206bi5oZWlnaHR9KShlKX1yZXR1cm4hMX19LGN0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihpdChlKSl7dmFyIG49aS5UYWJsZU1hcC5nZXQoZS4kYW5jaG9yQ2VsbC5ub2RlKC0xKSk7cmV0dXJuIEEoe2xlZnQ6MCxyaWdodDpuLndpZHRoLHRvcDp0LGJvdHRvbTp0KzF9KShlKX1yZXR1cm4hMX19LGx0PWZ1bmN0aW9uKHQpe2lmKGl0KHQpKXt2YXIgZT1pLlRhYmxlTWFwLmdldCh0LiRhbmNob3JDZWxsLm5vZGUoLTEpKTtyZXR1cm4gQSh7bGVmdDowLHJpZ2h0OmUud2lkdGgsdG9wOjAsYm90dG9tOmUuaGVpZ2h0fSkodCl9cmV0dXJuITF9LHV0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1vdChlKTtpZihuKXt2YXIgcj1pLlRhYmxlTWFwLmdldChuLm5vZGUpLG89QXJyYXkuaXNBcnJheSh0KT90OkFycmF5LmZyb20oW3RdKTtyZXR1cm4gby5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7aWYoZT49MCYmZTw9ci53aWR0aC0xKXt2YXIgbz1yLmNlbGxzSW5SZWN0KHtsZWZ0OmUscmlnaHQ6ZSsxLHRvcDowLGJvdHRvbTpyLmhlaWdodH0pO3JldHVybiB0LmNvbmNhdChvLm1hcCgoZnVuY3Rpb24odCl7dmFyIGU9bi5ub2RlLm5vZGVBdCh0KSxyPXQrbi5zdGFydDtyZXR1cm57cG9zOnIsc3RhcnQ6cisxLG5vZGU6ZX19KSkpfX0pLFtdKX19fSxkdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49b3QoZSk7aWYobil7dmFyIHI9aS5UYWJsZU1hcC5nZXQobi5ub2RlKSxvPUFycmF5LmlzQXJyYXkodCk/dDpBcnJheS5mcm9tKFt0XSk7cmV0dXJuIG8ucmVkdWNlKChmdW5jdGlvbih0LGUpe2lmKGU+PTAmJmU8PXIuaGVpZ2h0LTEpe3ZhciBvPXIuY2VsbHNJblJlY3Qoe2xlZnQ6MCxyaWdodDpyLndpZHRoLHRvcDplLGJvdHRvbTplKzF9KTtyZXR1cm4gdC5jb25jYXQoby5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBlPW4ubm9kZS5ub2RlQXQodCkscj10K24uc3RhcnQ7cmV0dXJue3BvczpyLHN0YXJ0OnIrMSxub2RlOmV9fSkpKX19KSxbXSl9fX0scHQ9ZnVuY3Rpb24odCl7dmFyIGU9b3QodCk7aWYoZSl7dmFyIG49aS5UYWJsZU1hcC5nZXQoZS5ub2RlKSxyPW4uY2VsbHNJblJlY3Qoe2xlZnQ6MCxyaWdodDpuLndpZHRoLHRvcDowLGJvdHRvbTpuLmhlaWdodH0pO3JldHVybiByLm1hcCgoZnVuY3Rpb24odCl7dmFyIG49ZS5ub2RlLm5vZGVBdCh0KSxyPXQrZS5zdGFydDtyZXR1cm57cG9zOnIsc3RhcnQ6cisxLG5vZGU6bn19KSl9fSxmdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIG89b3Qoci5zZWxlY3Rpb24pLHM9InJvdyI9PT10O2lmKG8pe3ZhciBhPWkuVGFibGVNYXAuZ2V0KG8ubm9kZSk7aWYoZT49MCYmZTwocz9hLmhlaWdodDphLndpZHRoKSl7dmFyIGM9cz8wOmUsbD1zP2U6MCx1PXM/YS53aWR0aDplKzEsZD1zP2UrMTphLmhlaWdodDtpZihuKXt2YXIgcD1QdChyLnNlbGVjdGlvbi4kZnJvbSk7aWYoIXApcmV0dXJuIHI7dmFyIGY9YS5maW5kQ2VsbChwLnBvcy1vLnN0YXJ0KTtzPyhsPU1hdGgubWluKGwsZi50b3ApLGQ9TWF0aC5tYXgoZCxmLmJvdHRvbSkpOihjPU1hdGgubWluKGMsZi5sZWZ0KSx1PU1hdGgubWF4KHUsZi5yaWdodCkpfXZhciBoPWEuY2VsbHNJblJlY3Qoe2xlZnQ6Yyx0b3A6bCxyaWdodDpzP3U6YysxLGJvdHRvbTpzP2wrMTpkfSksbT1kLWw9PT0xP2g6YS5jZWxsc0luUmVjdCh7bGVmdDpzP2M6dS0xLHRvcDpzP2QtMTpsLHJpZ2h0OnUsYm90dG9tOmR9KSx2PW8uc3RhcnQraFswXSxnPW8uc3RhcnQrbVttLmxlbmd0aC0xXSx5PXIuZG9jLnJlc29sdmUodiksYj1yLmRvYy5yZXNvbHZlKGcpO3JldHVybiB3KHIuc2V0U2VsZWN0aW9uKG5ldyBpLkNlbGxTZWxlY3Rpb24oYix5KSkpfX1yZXR1cm4gcn19fSxodD1mdCgiY29sdW1uIiksbXQ9ZnQoInJvdyIpLHZ0PWZ1bmN0aW9uKHQpe3ZhciBlPW90KHQuc2VsZWN0aW9uKTtpZihlKXt2YXIgbj1pLlRhYmxlTWFwLmdldChlLm5vZGUpLHI9bi5tYXA7aWYociYmci5sZW5ndGgpe3ZhciBvPWUuc3RhcnQrclswXSxzPWUuc3RhcnQrcltyLmxlbmd0aC0xXSxhPXQuZG9jLnJlc29sdmUobyksYz10LmRvYy5yZXNvbHZlKHMpO3JldHVybiB3KHQuc2V0U2VsZWN0aW9uKG5ldyBpLkNlbGxTZWxlY3Rpb24oYyxhKSkpfX1yZXR1cm4gdH0sZ3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7aWYodCl7dmFyIHI9QyhlKS5jZWxsLmNyZWF0ZUFuZEZpbGwoKSxvPXIuY29udGVudDtpZighdC5ub2RlLmNvbnRlbnQuZXEobykpcmV0dXJuIG4ucmVwbGFjZVdpdGgodC5wb3MrMSx0LnBvcyt0Lm5vZGUubm9kZVNpemUsbyksdyhuKX1yZXR1cm4gbn19LHl0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1vdChlLnNlbGVjdGlvbik7aWYobil7dmFyIHI9aS5UYWJsZU1hcC5nZXQobi5ub2RlKTtpZih0Pj0wJiZ0PD1yLndpZHRoKXJldHVybiB3KGkuYWRkQ29sdW1uKGUse21hcDpyLHRhYmxlU3RhcnQ6bi5zdGFydCx0YWJsZTpuLm5vZGV9LHQpKX1yZXR1cm4gZX19LGJ0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIG89e3RyeVRvRml0OiExLGRpcmVjdGlvbjowfSxpPU9iamVjdC5hc3NpZ24obyxuKSxzPW90KHIuc2VsZWN0aW9uKTtpZighcylyZXR1cm4gcjt2YXIgYT1WdCh0KShyKSxjPWEuaW5kZXhlcyxsPVZ0KGUpKHIpLHU9bC5pbmRleGVzO2lmKGMuaW5kZXhPZihlKT4tMSlyZXR1cm4gcjshaS50cnlUb0ZpdCYmdS5sZW5ndGg+MSYmSSh0LGUsdSwicm93Iik7dmFyIGQ9UChzLGMsdSxpLmRpcmVjdGlvbik7cmV0dXJuIHcocikucmVwbGFjZVdpdGgocy5wb3Mscy5wb3Mrcy5ub2RlLm5vZGVTaXplLGQpfX0sd3Q9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbihyKXt2YXIgbz17dHJ5VG9GaXQ6ITEsZGlyZWN0aW9uOjB9LGk9T2JqZWN0LmFzc2lnbihvLG4pLHM9b3Qoci5zZWxlY3Rpb24pO2lmKCFzKXJldHVybiByO3ZhciBhPSR0KHQpKHIpLGM9YS5pbmRleGVzLGw9JHQoZSkociksdT1sLmluZGV4ZXM7aWYoYy5pbmRleE9mKGUpPi0xKXJldHVybiByOyFpLnRyeVRvRml0JiZ1Lmxlbmd0aD4xJiZJKHQsZSx1LCJjb2x1bW4iKTt2YXIgZD1fKHMsYyx1LGkuZGlyZWN0aW9uKTtyZXR1cm4gdyhyKS5yZXBsYWNlV2l0aChzLnBvcyxzLnBvcytzLm5vZGUubm9kZVNpemUsZCl9fSxTdD1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgcj1vdChuLnNlbGVjdGlvbik7aWYocil7dmFyIG89aS5UYWJsZU1hcC5nZXQoci5ub2RlKSxzPXQtMTtpZihlJiZzPj0wKXJldHVybiB3KHh0KHMpKG4pKTtpZih0Pj0wJiZ0PD1vLmhlaWdodClyZXR1cm4gdyhpLmFkZFJvdyhuLHttYXA6byx0YWJsZVN0YXJ0OnIuc3RhcnQsdGFibGU6ci5ub2RlfSx0KSl9cmV0dXJuIG59fSx4dD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49b3QoZS5zZWxlY3Rpb24pO2lmKG4pe3ZhciByPWkuVGFibGVNYXAuZ2V0KG4ubm9kZSk7aWYodD49MCYmdDw9ci5oZWlnaHQpe2Zvcih2YXIgbz1uLm5vZGUscz1DKG8udHlwZS5zY2hlbWEpLGE9bi5zdGFydCxjPTA7Yzx0KzE7YysrKWErPW8uY2hpbGQoYykubm9kZVNpemU7dmFyIGw9by5jaGlsZCh0KSx1PVtdLGQ9MDtpZihsLmZvckVhY2goKGZ1bmN0aW9uKHQpezE9PT10LmF0dHJzLnJvd3NwYW4mJihkKz10LmF0dHJzLmNvbHNwYW4sdS5wdXNoKHNbdC50eXBlLnNwZWMudGFibGVSb2xlXS5jcmVhdGVBbmRGaWxsKHQuYXR0cnMsdC5tYXJrcykpKX0pKSxkPHIud2lkdGgpe2Zvcih2YXIgcD1bXSxmPWZ1bmN0aW9uKG4pe3ZhciByPUl0KG4sKGZ1bmN0aW9uKGUscil7dmFyIG89ZS5ub2RlLmF0dHJzLnJvd3NwYW4saT1uK287cmV0dXJuIG8+MSYmaT50fSkpKGUpO3AucHVzaC5hcHBseShwLHJ0KHIpKX0sbT10O20+PTA7bS0tKWYobSk7cC5sZW5ndGgmJnAuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZT1SdCh0LHtyb3dzcGFuOnQubm9kZS5hdHRycy5yb3dzcGFuKzF9KShlKX0pKX1yZXR1cm4gaChzLnJvdy5jcmVhdGUobC5hdHRycyx1KSxhKShlKX19cmV0dXJuIGV9fSxrdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49b3QoZS5zZWxlY3Rpb24pO2lmKG4pe3ZhciByPWkuVGFibGVNYXAuZ2V0KG4ubm9kZSk7aWYoMD09PXQmJjE9PT1yLndpZHRoKXJldHVybiBPdChlKTtpZih0Pj0wJiZ0PD1yLndpZHRoKXJldHVybiBpLnJlbW92ZUNvbHVtbihlLHttYXA6cix0YWJsZVN0YXJ0Om4uc3RhcnQsdGFibGU6bi5ub2RlfSx0KSx3KGUpfXJldHVybiBlfX0sQ3Q9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPW90KGUuc2VsZWN0aW9uKTtpZihuKXt2YXIgcj1pLlRhYmxlTWFwLmdldChuLm5vZGUpO2lmKDA9PT10JiYxPT09ci5oZWlnaHQpcmV0dXJuIE90KGUpO2lmKHQ+PTAmJnQ8PXIuaGVpZ2h0KXJldHVybiBpLnJlbW92ZVJvdyhlLHttYXA6cix0YWJsZVN0YXJ0Om4uc3RhcnQsdGFibGU6bi5ub2RlfSx0KSx3KGUpfXJldHVybiBlfX0sT3Q9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuc2VsZWN0aW9uLiRmcm9tLG49ZS5kZXB0aDtuPjA7bi0tKXt2YXIgcj1lLm5vZGUobik7aWYoInRhYmxlIj09PXIudHlwZS5zcGVjLnRhYmxlUm9sZSlyZXR1cm4gdyh0LmRlbGV0ZShlLmJlZm9yZShuKSxlLmFmdGVyKG4pKSl9cmV0dXJuIHR9LE10PWZ1bmN0aW9uKHQpe3ZhciBlPXQuc2VsZWN0aW9uO2lmKGx0KGUpKXJldHVybiBPdCh0KTtpZihpdChlKSl7dmFyIG49b3QoZSk7aWYobil7dmFyIHI9aS5UYWJsZU1hcC5nZXQobi5ub2RlKSxvPXIucmVjdEJldHdlZW4oZS4kYW5jaG9yQ2VsbC5wb3Mtbi5zdGFydCxlLiRoZWFkQ2VsbC5wb3Mtbi5zdGFydCk7aWYoMD09by5sZWZ0JiZvLnJpZ2h0PT1yLndpZHRoKXJldHVybiExO2Zvcih2YXIgcz1PYmplY3QuYXNzaWduKHt9LG8se21hcDpyLHRhYmxlOm4ubm9kZSx0YWJsZVN0YXJ0Om4uc3RhcnR9KSxhPXMucmlnaHQtMTs7YS0tKXtpZihpLnJlbW92ZUNvbHVtbih0LHMsYSksYT09PXMubGVmdClicmVhaztzLnRhYmxlPXMudGFibGVTdGFydD90LmRvYy5ub2RlQXQocy50YWJsZVN0YXJ0LTEpOnQuZG9jLHMubWFwPWkuVGFibGVNYXAuZ2V0KHMudGFibGUpfXJldHVybiB3KHQpfX1yZXR1cm4gdH0sTnQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5zZWxlY3Rpb247aWYobHQoZSkpcmV0dXJuIE90KHQpO2lmKGl0KGUpKXt2YXIgbj1vdChlKTtpZihuKXt2YXIgcj1pLlRhYmxlTWFwLmdldChuLm5vZGUpLG89ci5yZWN0QmV0d2VlbihlLiRhbmNob3JDZWxsLnBvcy1uLnN0YXJ0LGUuJGhlYWRDZWxsLnBvcy1uLnN0YXJ0KTtpZigwPT1vLnRvcCYmby5ib3R0b209PXIuaGVpZ2h0KXJldHVybiExO2Zvcih2YXIgcz1PYmplY3QuYXNzaWduKHt9LG8se21hcDpyLHRhYmxlOm4ubm9kZSx0YWJsZVN0YXJ0Om4uc3RhcnR9KSxhPXMuYm90dG9tLTE7O2EtLSl7aWYoaS5yZW1vdmVSb3codCxzLGEpLGE9PT1zLnRvcClicmVhaztzLnRhYmxlPXMudGFibGVTdGFydD90LmRvYy5ub2RlQXQocy50YWJsZVN0YXJ0LTEpOnQuZG9jLHMubWFwPWkuVGFibGVNYXAuZ2V0KHMudGFibGUpfXJldHVybiB3KHQpfX1yZXR1cm4gdH0sVHQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPXp0KHQpO3JldHVybiBuP2t0KG4ubGVmdCkodSh0LnBvcykoZSkpOmV9fSxBdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49enQodCk7cmV0dXJuIG4/Q3Qobi50b3ApKHUodC5wb3MpKGUpKTplfX0sRHQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbihvKXt2YXIgaT11dCh0KShvLnNlbGVjdGlvbik7aWYoaSl7Zm9yKHZhciBzPWkubGVuZ3RoLTE7cz49MDtzLS0pbz1lKGlbc10sbyk7aWYobil7dmFyIGE9by5kb2MucmVzb2x2ZShvLm1hcHBpbmcubWFwKGlbaS5sZW5ndGgtMV0ucG9zKSk7by5zZXRTZWxlY3Rpb24oci5TZWxlY3Rpb24ubmVhcihhKSl9cmV0dXJuIHcobyl9cmV0dXJuIG99fSxFdD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKG8pe3ZhciBpPWR0KHQpKG8uc2VsZWN0aW9uKTtpZihpKXtmb3IodmFyIHM9aS5sZW5ndGgtMTtzPj0wO3MtLSlvPWUoaVtzXSxvKTtpZihuKXt2YXIgYT1vLmRvYy5yZXNvbHZlKG8ubWFwcGluZy5tYXAoaVtpLmxlbmd0aC0xXS5wb3MpKTtvLnNldFNlbGVjdGlvbihyLlNlbGVjdGlvbi5uZWFyKGEpKX19cmV0dXJuIG99fSxSdD1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdD8obi5zZXROb2RlTWFya3VwKHQucG9zLG51bGwsT2JqZWN0LmFzc2lnbih7fSx0Lm5vZGUuYXR0cnMsZSkpLHcobikpOm59fSxfdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjMsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MyxyPSEoYXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10pfHxhcmd1bWVudHNbM10sbz1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06bnVsbCxpPUModCkscz1pLmNlbGwsYT1pLmhlYWRlcl9jZWxsLGM9aS5yb3csbD1pLnRhYmxlLHU9W10sZD1bXSxwPTA7cDxuO3ArKyl1LnB1c2goVChzLG8pKSxyJiZkLnB1c2goVChhLG8pKTtmb3IodmFyIGY9W10saD0wO2g8ZTtoKyspZi5wdXNoKGMuY3JlYXRlQ2hlY2tlZChudWxsLHImJjA9PT1oP2Q6dSkpO3JldHVybiBsLmNyZWF0ZUNoZWNrZWQobnVsbCxmKX0sUHQ9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQudHlwZS5zcGVjLnRhYmxlUm9sZSYmL2NlbGwvaS50ZXN0KHQudHlwZS5zcGVjLnRhYmxlUm9sZSl9O3JldHVybiBWKHQsZSl9LHp0PWZ1bmN0aW9uKHQpe3ZhciBlPVB0KHQpO2lmKGUpe3ZhciBuPU4odCkscj1pLlRhYmxlTWFwLmdldChuLm5vZGUpLG89ZS5wb3Mtbi5zdGFydDtyZXR1cm4gci5yZWN0QmV0d2VlbihvLG8pfX0sSXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHI9W10sbz1kdCh0KShuLnNlbGVjdGlvbik7aWYobylmb3IodmFyIGk9by5sZW5ndGgtMTtpPj0wO2ktLSllKG9baV0sbikmJnIucHVzaChvW2ldKTtyZXR1cm4gcn19LCR0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIG49dCxyPXQsbz1mdW5jdGlvbih0KXt2YXIgbz11dCh0KShlLnNlbGVjdGlvbik7byYmby5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbz1lLm5vZGUuYXR0cnMuY29sc3Bhbit0LTE7bz49biYmKG49dCksbz5yJiYocj1vKX0pKX0saT10O2k+PTA7aS0tKW8oaSk7dmFyIHM9ZnVuY3Rpb24odCl7dmFyIG49dXQodCkoZS5zZWxlY3Rpb24pO24mJm4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZS5ub2RlLmF0dHJzLmNvbHNwYW4rdC0xO2Uubm9kZS5hdHRycy5jb2xzcGFuPjEmJm4+ciYmKHI9bil9KSl9O2ZvcihpPXQ7aTw9cjtpKyspcyhpKTt2YXIgYT1bXTtmb3IoaT1uO2k8PXI7aSsrKXt2YXIgYz11dChpKShlLnNlbGVjdGlvbik7YyYmYy5sZW5ndGgmJmEucHVzaChpKX1uPWFbMF0scj1hW2EubGVuZ3RoLTFdO2Zvcih2YXIgbD11dChuKShlLnNlbGVjdGlvbiksdT1kdCgwKShlLnNlbGVjdGlvbiksZD1lLmRvYy5yZXNvbHZlKGxbbC5sZW5ndGgtMV0ucG9zKSxwPXZvaWQgMCxmPXI7Zj49bjtmLS0pe3ZhciBoPXV0KGYpKGUuc2VsZWN0aW9uKTtpZihoJiZoLmxlbmd0aCl7Zm9yKHZhciBtPXUubGVuZ3RoLTE7bT49MDttLS0paWYodVttXS5wb3M9PT1oWzBdLnBvcyl7cD1oWzBdO2JyZWFrfWlmKHApYnJlYWt9fXZhciB2PWUuZG9jLnJlc29sdmUocC5wb3MpO3JldHVybnskYW5jaG9yOmQsJGhlYWQ6dixpbmRleGVzOmF9fX0sVnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Zvcih2YXIgbj10LHI9dCxvPWZ1bmN0aW9uKHQpe3ZhciBvPWR0KHQpKGUuc2VsZWN0aW9uKTtvLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBvPWUubm9kZS5hdHRycy5yb3dzcGFuK3QtMTtvPj1uJiYobj10KSxvPnImJihyPW8pfSkpfSxpPXQ7aT49MDtpLS0pbyhpKTt2YXIgcz1mdW5jdGlvbih0KXt2YXIgbj1kdCh0KShlLnNlbGVjdGlvbik7bi5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLm5vZGUuYXR0cnMucm93c3Bhbit0LTE7ZS5ub2RlLmF0dHJzLnJvd3NwYW4+MSYmbj5yJiYocj1uKX0pKX07Zm9yKGk9dDtpPD1yO2krKylzKGkpO3ZhciBhPVtdO2ZvcihpPW47aTw9cjtpKyspe3ZhciBjPWR0KGkpKGUuc2VsZWN0aW9uKTtjJiZjLmxlbmd0aCYmYS5wdXNoKGkpfW49YVswXSxyPWFbYS5sZW5ndGgtMV07Zm9yKHZhciBsPWR0KG4pKGUuc2VsZWN0aW9uKSx1PXV0KDApKGUuc2VsZWN0aW9uKSxkPWUuZG9jLnJlc29sdmUobFtsLmxlbmd0aC0xXS5wb3MpLHA9dm9pZCAwLGY9cjtmPj1uO2YtLSl7dmFyIGg9ZHQoZikoZS5zZWxlY3Rpb24pO2lmKGgmJmgubGVuZ3RoKXtmb3IodmFyIG09dS5sZW5ndGgtMTttPj0wO20tLSlpZih1W21dLnBvcz09PWhbMF0ucG9zKXtwPWhbMF07YnJlYWt9aWYocClicmVha319dmFyIHY9ZS5kb2MucmVzb2x2ZShwLnBvcyk7cmV0dXJueyRhbmNob3I6ZCwkaGVhZDp2LGluZGV4ZXM6YX19fTtlLmlzTm9kZVNlbGVjdGlvbj15LGUuY2FuSW5zZXJ0PU8sZS5jb252ZXJ0VGFibGVOb2RlVG9BcnJheU9mUm93cz1FLGUuY29udmVydEFycmF5T2ZSb3dzVG9UYWJsZU5vZGU9UixlLmZpbmRQYXJlbnROb2RlPSQsZS5maW5kUGFyZW50Tm9kZUNsb3Nlc3RUb1Bvcz1WLGUuZmluZFBhcmVudERvbVJlZj1CLGUuaGFzUGFyZW50Tm9kZT1GLGUuZmluZFBhcmVudE5vZGVPZlR5cGU9aixlLmZpbmRQYXJlbnROb2RlT2ZUeXBlQ2xvc2VzdFRvUG9zPUwsZS5oYXNQYXJlbnROb2RlT2ZUeXBlPUgsZS5maW5kUGFyZW50RG9tUmVmT2ZUeXBlPXEsZS5maW5kU2VsZWN0ZWROb2RlT2ZUeXBlPVcsZS5maW5kUG9zaXRpb25PZk5vZGVCZWZvcmU9SyxlLmZpbmREb21SZWZBdFBvcz1KLGUuZmxhdHRlbj1VLGUuZmluZENoaWxkcmVuPUcsZS5maW5kVGV4dE5vZGVzPVgsZS5maW5kSW5saW5lTm9kZXM9WSxlLmZpbmRCbG9ja05vZGVzPVosZS5maW5kQ2hpbGRyZW5CeUF0dHI9USxlLmZpbmRDaGlsZHJlbkJ5VHlwZT10dCxlLmZpbmRDaGlsZHJlbkJ5TWFyaz1ldCxlLmNvbnRhaW5zPW50LGUuZmluZFRhYmxlPW90LGUuaXNDZWxsU2VsZWN0aW9uPWl0LGUuZ2V0U2VsZWN0aW9uUmVjdD1zdCxlLmlzQ29sdW1uU2VsZWN0ZWQ9YXQsZS5pc1Jvd1NlbGVjdGVkPWN0LGUuaXNUYWJsZVNlbGVjdGVkPWx0LGUuZ2V0Q2VsbHNJbkNvbHVtbj11dCxlLmdldENlbGxzSW5Sb3c9ZHQsZS5nZXRDZWxsc0luVGFibGU9cHQsZS5zZWxlY3RDb2x1bW49aHQsZS5zZWxlY3RSb3c9bXQsZS5zZWxlY3RUYWJsZT12dCxlLmVtcHR5Q2VsbD1ndCxlLmFkZENvbHVtbkF0PXl0LGUubW92ZVJvdz1idCxlLm1vdmVDb2x1bW49d3QsZS5hZGRSb3dBdD1TdCxlLmNsb25lUm93QXQ9eHQsZS5yZW1vdmVDb2x1bW5BdD1rdCxlLnJlbW92ZVJvd0F0PUN0LGUucmVtb3ZlVGFibGU9T3QsZS5yZW1vdmVTZWxlY3RlZENvbHVtbnM9TXQsZS5yZW1vdmVTZWxlY3RlZFJvd3M9TnQsZS5yZW1vdmVDb2x1bW5DbG9zZXN0VG9Qb3M9VHQsZS5yZW1vdmVSb3dDbG9zZXN0VG9Qb3M9QXQsZS5mb3JFYWNoQ2VsbEluQ29sdW1uPUR0LGUuZm9yRWFjaENlbGxJblJvdz1FdCxlLnNldENlbGxBdHRycz1SdCxlLmNyZWF0ZVRhYmxlPV90LGUuZmluZENlbGxDbG9zZXN0VG9Qb3M9UHQsZS5maW5kQ2VsbFJlY3RDbG9zZXN0VG9Qb3M9enQsZS5nZXRTZWxlY3Rpb25SYW5nZUluQ29sdW1uPSR0LGUuZ2V0U2VsZWN0aW9uUmFuZ2VJblJvdz1WdCxlLnJlbW92ZVBhcmVudE5vZGVPZlR5cGU9cyxlLnJlcGxhY2VQYXJlbnROb2RlT2ZUeXBlPWEsZS5yZW1vdmVTZWxlY3RlZE5vZGU9YyxlLnJlcGxhY2VTZWxlY3RlZE5vZGU9bCxlLnNldFRleHRTZWxlY3Rpb249dSxlLnNhZmVJbnNlcnQ9aCxlLnNldFBhcmVudE5vZGVNYXJrdXA9bSxlLnNlbGVjdFBhcmVudE5vZGVPZlR5cGU9dixlLnJlbW92ZU5vZGVCZWZvcmU9Z30sIjliZGQiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI4MjVhIiksbz1uKCIyYTYyIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLGkpe3RyeXtyZXR1cm4gaT9lKHIobilbMF0sblsxXSk6ZShuKX1jYXRjaChzKXt0aHJvdyBvKHQpLHN9fX0sIjliZjIiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI4M2FiIiksbz1uKCIwY2ZiIiksaT1uKCI4MjVhIikscz1uKCJjMDRlIiksYT1PYmplY3QuZGVmaW5lUHJvcGVydHk7ZS5mPXI/YTpmdW5jdGlvbih0LGUsbil7aWYoaSh0KSxlPXMoZSwhMCksaShuKSxvKXRyeXtyZXR1cm4gYSh0LGUsbil9Y2F0Y2gocil7fWlmKCJnZXQiaW4gbnx8InNldCJpbiBuKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQiKTtyZXR1cm4idmFsdWUiaW4gbiYmKHRbZV09bi52YWx1ZSksdH19LCI5ZWQzIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImFlOTMiKS5JdGVyYXRvclByb3RvdHlwZSxvPW4oIjdjNzMiKSxpPW4oIjVjNmMiKSxzPW4oImQ0NGUiKSxhPW4oIjNmOGMiKSxjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dmFyIGw9ZSsiIEl0ZXJhdG9yIjtyZXR1cm4gdC5wcm90b3R5cGU9byhyLHtuZXh0OmkoMSxuKX0pLHModCxsLCExLCEwKSxhW2xdPWMsdH19LCI5ZjYxIjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5kfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmR9LGkuY29uY2F0KFtuKCJjaXJjbGUiLHthdHRyczp7Y3g6IjkuNzUiLGN5OiI2LjI0NyIscjoiMi4yNSJ9fSksbigicGF0aCIse2F0dHJzOntkOiJNMTYuOTE2IDguNzFBMS4wMjcgMS4wMjcgMCAwMDE2IDguMTU4YTEuMDA3IDEuMDA3IDAgMDAtLjg5Mi41ODZsLTEuNTU4IDMuNDM0YS4yNDkuMjQ5IDAgMDEtLjQyMi4wNTNsLS44Mi0xLjAyNGExIDEgMCAwMC0uODEzLS4zNzYgMS4wMDcgMS4wMDcgMCAwMC0uNzg3LjQyNkw3LjU5IDE1LjcxYS41LjUgMCAwMC40MS43OWgxMmEuNS41IDAgMDAuNDI1LS4yMzcuNS41IDAgMDAuMDIyLS40ODZ6In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMiAwSDUuNWEyIDIgMCAwMC0yIDJ2MTYuNWEyIDIgMCAwMDIgMkgyMmEyIDIgMCAwMDItMlYyYTIgMiAwIDAwLTItMnptLS4xNDUgMTguMzU0YS41LjUgMCAwMS0uMzU0LjE0Nkg2YS41LjUgMCAwMS0uNS0uNVYyLjVBLjUuNSAwIDAxNiAyaDE1LjVhLjUuNSAwIDAxLjUuNVYxOGEuNS41IDAgMDEtLjE0NS4zNTF6In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xOS41IDIyaC0xN2EuNS41IDAgMDEtLjUtLjV2LTE3YTEgMSAwIDAwLTIgMFYyMmEyIDIgMCAwMDIgMmgxNy41YTEgMSAwIDAwMC0yeiJ9fSldKSl9fX0sYTRkMzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjIzZTciKSxvPW4oImRhODQiKSxpPW4oImQwNjYiKSxzPW4oImM0MzAiKSxhPW4oIjgzYWIiKSxjPW4oIjQ5MzAiKSxsPW4oImZkYmYiKSx1PW4oImQwMzkiKSxkPW4oIjUxMzUiKSxwPW4oImU4YjUiKSxmPW4oIjg2MWQiKSxoPW4oIjgyNWEiKSxtPW4oIjdiMGIiKSx2PW4oImZjNmEiKSxnPW4oImMwNGUiKSx5PW4oIjVjNmMiKSxiPW4oIjdjNzMiKSx3PW4oImRmNzUiKSxTPW4oIjI0MWMiKSx4PW4oIjA1N2YiKSxrPW4oIjc0MTgiKSxDPW4oIjA2Y2YiKSxPPW4oIjliZjIiKSxNPW4oImQxZTciKSxOPW4oIjkxMTIiKSxUPW4oIjZlZWIiKSxBPW4oIjU2OTIiKSxEPW4oImY3NzIiKSxFPW4oImQwMTIiKSxSPW4oIjkwZTMiKSxfPW4oImI2MjIiKSxQPW4oImU1MzgiKSx6PW4oIjc0NmYiKSxJPW4oImQ0NGUiKSwkPW4oIjY5ZjMiKSxWPW4oImI3MjciKS5mb3JFYWNoLEI9RCgiaGlkZGVuIiksRj0iU3ltYm9sIixqPSJwcm90b3R5cGUiLEw9XygidG9QcmltaXRpdmUiKSxIPSQuc2V0LHE9JC5nZXR0ZXJGb3IoRiksVz1PYmplY3Rbal0sSz1vLlN5bWJvbCxKPWkoIkpTT04iLCJzdHJpbmdpZnkiKSxVPUMuZixHPU8uZixYPXguZixZPU0uZixaPUEoInN5bWJvbHMiKSxRPUEoIm9wLXN5bWJvbHMiKSx0dD1BKCJzdHJpbmctdG8tc3ltYm9sLXJlZ2lzdHJ5IiksZXQ9QSgic3ltYm9sLXRvLXN0cmluZy1yZWdpc3RyeSIpLG50PUEoIndrcyIpLHJ0PW8uUU9iamVjdCxvdD0hcnR8fCFydFtqXXx8IXJ0W2pdLmZpbmRDaGlsZCxpdD1hJiZ1KChmdW5jdGlvbigpe3JldHVybiA3IT1iKEcoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRyh0aGlzLCJhIix7dmFsdWU6N30pLmF9fSkpLmF9KSk/ZnVuY3Rpb24odCxlLG4pe3ZhciByPVUoVyxlKTtyJiZkZWxldGUgV1tlXSxHKHQsZSxuKSxyJiZ0IT09VyYmRyhXLGUscil9Okcsc3Q9ZnVuY3Rpb24odCxlKXt2YXIgbj1aW3RdPWIoS1tqXSk7cmV0dXJuIEgobix7dHlwZTpGLHRhZzp0LGRlc2NyaXB0aW9uOmV9KSxhfHwobi5kZXNjcmlwdGlvbj1lKSxufSxhdD1sP2Z1bmN0aW9uKHQpe3JldHVybiJzeW1ib2wiPT10eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdCh0KWluc3RhbmNlb2YgS30sY3Q9ZnVuY3Rpb24odCxlLG4pe3Q9PT1XJiZjdChRLGUsbiksaCh0KTt2YXIgcj1nKGUsITApO3JldHVybiBoKG4pLGQoWixyKT8obi5lbnVtZXJhYmxlPyhkKHQsQikmJnRbQl1bcl0mJih0W0JdW3JdPSExKSxuPWIobix7ZW51bWVyYWJsZTp5KDAsITEpfSkpOihkKHQsQil8fEcodCxCLHkoMSx7fSkpLHRbQl1bcl09ITApLGl0KHQscixuKSk6Ryh0LHIsbil9LGx0PWZ1bmN0aW9uKHQsZSl7aCh0KTt2YXIgbj12KGUpLHI9dyhuKS5jb25jYXQoaHQobikpO3JldHVybiBWKHIsKGZ1bmN0aW9uKGUpe2EmJiFkdC5jYWxsKG4sZSl8fGN0KHQsZSxuW2VdKX0pKSx0fSx1dD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lP2IodCk6bHQoYih0KSxlKX0sZHQ9ZnVuY3Rpb24odCl7dmFyIGU9Zyh0LCEwKSxuPVkuY2FsbCh0aGlzLGUpO3JldHVybiEodGhpcz09PVcmJmQoWixlKSYmIWQoUSxlKSkmJighKG58fCFkKHRoaXMsZSl8fCFkKFosZSl8fGQodGhpcyxCKSYmdGhpc1tCXVtlXSl8fG4pfSxwdD1mdW5jdGlvbih0LGUpe3ZhciBuPXYodCkscj1nKGUsITApO2lmKG4hPT1XfHwhZChaLHIpfHxkKFEscikpe3ZhciBvPVUobixyKTtyZXR1cm4hb3x8IWQoWixyKXx8ZChuLEIpJiZuW0JdW3JdfHwoby5lbnVtZXJhYmxlPSEwKSxvfX0sZnQ9ZnVuY3Rpb24odCl7dmFyIGU9WCh2KHQpKSxuPVtdO3JldHVybiBWKGUsKGZ1bmN0aW9uKHQpe2QoWix0KXx8ZChFLHQpfHxuLnB1c2godCl9KSksbn0saHQ9ZnVuY3Rpb24odCl7dmFyIGU9dD09PVcsbj1YKGU/UTp2KHQpKSxyPVtdO3JldHVybiBWKG4sKGZ1bmN0aW9uKHQpeyFkKFosdCl8fGUmJiFkKFcsdCl8fHIucHVzaChaW3RdKX0pKSxyfTtpZihjfHwoSz1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBLKXRocm93IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yIik7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP1N0cmluZyhhcmd1bWVudHNbMF0pOnZvaWQgMCxlPVIodCksbj1mdW5jdGlvbih0KXt0aGlzPT09VyYmbi5jYWxsKFEsdCksZCh0aGlzLEIpJiZkKHRoaXNbQl0sZSkmJih0aGlzW0JdW2VdPSExKSxpdCh0aGlzLGUseSgxLHQpKX07cmV0dXJuIGEmJm90JiZpdChXLGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6bn0pLHN0KGUsdCl9LFQoS1tqXSwidG9TdHJpbmciLChmdW5jdGlvbigpe3JldHVybiBxKHRoaXMpLnRhZ30pKSxUKEssIndpdGhvdXRTZXR0ZXIiLChmdW5jdGlvbih0KXtyZXR1cm4gc3QoUih0KSx0KX0pKSxNLmY9ZHQsTy5mPWN0LEMuZj1wdCxTLmY9eC5mPWZ0LGsuZj1odCxQLmY9ZnVuY3Rpb24odCl7cmV0dXJuIHN0KF8odCksdCl9LGEmJihHKEtbal0sImRlc2NyaXB0aW9uIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBxKHRoaXMpLmRlc2NyaXB0aW9ufX0pLHN8fFQoVywicHJvcGVydHlJc0VudW1lcmFibGUiLGR0LHt1bnNhZmU6ITB9KSkpLHIoe2dsb2JhbDohMCx3cmFwOiEwLGZvcmNlZDohYyxzaGFtOiFjfSx7U3ltYm9sOkt9KSxWKHcobnQpLChmdW5jdGlvbih0KXt6KHQpfSkpLHIoe3RhcmdldDpGLHN0YXQ6ITAsZm9yY2VkOiFjfSx7Zm9yOmZ1bmN0aW9uKHQpe3ZhciBlPVN0cmluZyh0KTtpZihkKHR0LGUpKXJldHVybiB0dFtlXTt2YXIgbj1LKGUpO3JldHVybiB0dFtlXT1uLGV0W25dPWUsbn0sa2V5Rm9yOmZ1bmN0aW9uKHQpe2lmKCFhdCh0KSl0aHJvdyBUeXBlRXJyb3IodCsiIGlzIG5vdCBhIHN5bWJvbCIpO2lmKGQoZXQsdCkpcmV0dXJuIGV0W3RdfSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtvdD0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7b3Q9ITF9fSkscih7dGFyZ2V0OiJPYmplY3QiLHN0YXQ6ITAsZm9yY2VkOiFjLHNoYW06IWF9LHtjcmVhdGU6dXQsZGVmaW5lUHJvcGVydHk6Y3QsZGVmaW5lUHJvcGVydGllczpsdCxnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6cHR9KSxyKHt0YXJnZXQ6Ik9iamVjdCIsc3RhdDohMCxmb3JjZWQ6IWN9LHtnZXRPd25Qcm9wZXJ0eU5hbWVzOmZ0LGdldE93blByb3BlcnR5U3ltYm9sczpodH0pLHIoe3RhcmdldDoiT2JqZWN0IixzdGF0OiEwLGZvcmNlZDp1KChmdW5jdGlvbigpe2suZigxKX0pKX0se2dldE93blByb3BlcnR5U3ltYm9sczpmdW5jdGlvbih0KXtyZXR1cm4gay5mKG0odCkpfX0pLEope3ZhciBtdD0hY3x8dSgoZnVuY3Rpb24oKXt2YXIgdD1LKCk7cmV0dXJuIltudWxsXSIhPUooW3RdKXx8Int9IiE9Sih7YTp0fSl8fCJ7fSIhPUooT2JqZWN0KHQpKX0pKTtyKHt0YXJnZXQ6IkpTT04iLHN0YXQ6ITAsZm9yY2VkOm10fSx7c3RyaW5naWZ5OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcixvPVt0XSxpPTE7d2hpbGUoYXJndW1lbnRzLmxlbmd0aD5pKW8ucHVzaChhcmd1bWVudHNbaSsrXSk7aWYocj1lLChmKGUpfHx2b2lkIDAhPT10KSYmIWF0KHQpKXJldHVybiBwKGUpfHwoZT1mdW5jdGlvbih0LGUpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiByJiYoZT1yLmNhbGwodGhpcyx0LGUpKSwhYXQoZSkpcmV0dXJuIGV9KSxvWzFdPWUsSi5hcHBseShudWxsLG8pfX0pfUtbal1bTF18fE4oS1tqXSxMLEtbal0udmFsdWVPZiksSShLLEYpLEVbQl09ITB9LGE2MzA6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjIzZTciKSxvPW4oIjRkZjQiKSxpPW4oIjFjN2UiKSxzPSFpKChmdW5jdGlvbih0KXtBcnJheS5mcm9tKHQpfSkpO3Ioe3RhcmdldDoiQXJyYXkiLHN0YXQ6ITAsZm9yY2VkOnN9LHtmcm9tOm99KX0sYTY5MTpmdW5jdGlvbih0LGUpe3ZhciBuPU1hdGguY2VpbCxyPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpc05hTih0PSt0KT8wOih0PjA/cjpuKSh0KX19LGE3MDc6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5kfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMjAuNDg1IDMuNTExQTEyLjAxIDEyLjAxIDAgMTAyNCAxMmExMi4wMDkgMTIuMDA5IDAgMDAtMy41MTUtOC40ODl6bS0xLjc2NyAxNS4yMUE5LjUxIDkuNTEgMCAxMTIxLjUgMTJhOS41MDggOS41MDggMCAwMS0yLjc4MiA2LjcyMXoifX0pLG4oInBhdGgiLHthdHRyczp7ZDoiTTE2Ljk4NyA3LjAxYTEuMjc1IDEuMjc1IDAgMDAtMS44IDBsLTMuMTc3IDMuMTc3TDguODI5IDcuMDFhMS4yNzcgMS4yNzcgMCAwMC0xLjgwNSAxLjgwNmwzLjE3NiAzLjE3Ny0zLjE3NiAzLjE3OGExLjI3NyAxLjI3NyAwIDAwMS44MDUgMS44MDZsMy4xNzYtMy4xNzcgMy4xNzcgMy4xNzhhMS4yNzcgMS4yNzcgMCAwMDEuOC0xLjgwNmwtMy4xNzYtMy4xNzggMy4xNzYtMy4xNzdhMS4yNzggMS4yNzggMCAwMC4wMDUtMS44MDd6In19KV0pKX19fSxhNzBkOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmR9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDQ3NC41NTcgNDc0LjU1NyIsd2lkdGg6IjI0IixoZWlnaHQ6IjI0In0sdSksLi4uZH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTAgMi4wMjhWNDcyLjUzaDQ3NC41NTdWMi4wMjhIMHptNDM1LjQ3MSA0MzEuNDM3SDM5LjEwOFY0MS4xMzZoMzk2LjM2M3YzOTIuMzI5eiJ9fSksbigicGF0aCIse2F0dHJzOntkOiJNMTI0LjkxNiAyNzMuNjI1YzEuMjk0IDQuNTMgMi4wMDYgMTQuNDA5IDIuMDA2IDI5LjU3NCAwIDEzLjAwNy42NjkgMjIuNTYzIDIuMDcxIDI4LjYyNCAxLjQwMiA2LjAxOCA0LjE0MiAxMS4xNzQgOC4yNCAxNS4yNzIgNC4wNzcgNC4wOTggOS4wODEgNy4wNzUgMTUuMDEzIDguODY2IDUuOTU0IDEuNzY5IDE0LjQ5NiAyLjY1MyAyNS42MDUgMi42NTNoNi41Nzl2LTI5LjY2Yy04Ljg2NiAwLTE0LjYyNS0uNTYxLTE3LjMtMS42ODItMi42NTMtMS4xNDMtNC42MzgtMi43MTgtNS45NTQtNC44OTctMS4yOTQtMi4xNTctMS45NDEtNS45MS0xLjk0MS0xMS4zMjUgMC0zLjg0LS4zNDUtMTIuNTc2LS45OTItMjYuMjk1LS40OTYtOC45NzMtMS41NzUtMTYuMTM1LTMuMjM2LTIxLjQ4NC0xLjYzOS01LjM5My00LjAxMi05Ljk0NC03LjExOC0xMy42OTctMy4wODUtMy43NzUtNy4wNTQtNy4wMzItMTEuOTA3LTkuODE1IDUuNTAxLTMuNTgxIDkuNTc3LTYuOTY3IDEyLjI3NC0xMC4zMTEgMi42NzUtMy4yNTcgNC44NzUtNy40NDIgNi42MDEtMTIuNTExIDEuNzA0LTUuMDY5IDIuNzgzLTExLjY5MSAzLjIxNC0xOS44NDUuNzMzLTE0LjQ1MiAxLjE0My0yNC4yODkgMS4xNDMtMjkuNDg3IDAtNS4wOTEuNjI2LTguNzE1IDEuODU1LTEwLjgwNyAxLjI1MS0yLjA3MSAzLjE0OS0zLjY0NSA1LjczOC00LjcwMiAyLjU4OC0xLjAxNCA4LjQ3Ny0xLjUzMiAxNy42MjMtMS41MzJ2LTI5LjUwOWgtNi41NzljLTEwLjgwNyAwLTE4LjcyMy43NTUtMjMuNzI4IDIuMjQzLTcuNDIgMi4yMjItMTMuMDcyIDUuMjQyLTE2Ljk3NiA5LjA2LTMuODgzIDMuODQtNi41NTggOC45MDktOC4wNDYgMTUuMjI5LTEuNDY3IDYuMjc3LTIuMTc5IDE3LjQyOS0yLjE3OSAzMy4zNDggMCA5Ljg1OC0uMzY3IDE2LjY3NC0xLjAzNSAyMC42NDMtLjgyIDUuMjYzLTIuMzUxIDkuNjQyLTQuNTUxIDEzLjE1OC0yLjI0MyAzLjUxNi00LjgzMiA1Ljk5Ny03LjkxNiA3LjQ4NS0zLjAyIDEuNDQ1LTcuNTI4IDIuMzczLTEzLjU2OCAyLjczOXYyOS42ODFjNy41OTMuMzg4IDEzLjIwMSAyLjAyOCAxNi44OSA0Ljg5NyAzLjY0NSAyLjgwNiA2LjM4NCA3LjQ4NyA4LjE3NCAxNC4wODd6TTIxMi4wODQgMzMxLjM5Mmw2LjczIDE0LjM2NmM3LjQyLTIuNjUzIDEzLjU2OC02LjMyIDE4LjQtMTAuOTE1IDQuODMyLTQuNTk1IDguMDg5LTkuODE1IDkuODE1LTE1LjYxNyAxLjc0Ny01Ljg0NiAyLjYxLTEzLjgwNSAyLjYxLTIzLjgxNHYtMjQuNzg1aC0zNC43NTF2MzQuNzI5aDE2Ljc2MWMtLjEyOSA2LjgzOC0xLjcyNiAxMi4yOTUtNC42NTkgMTYuNDgtMi45NTYgNC4wMzQtNy45MzkgNy4yNjktMTQuOTA2IDkuNTU2ek0yMTQuODg4IDE3NC4wMTJoMzQuNzUxdjM0Ljc3MmgtMzQuNzUxek0zMTEuMTggMzU2LjM0OWM3LjQ2NC0yLjI0MyAxMy4yMDEtNS4yMiAxNy4xMDYtOS4wODEgMy44ODMtMy44MTggNi41MzYtOC45MyA3LjkzOC0xNS4yNzIgMS40MDItNi4zNjMgMi4xNzktMTcuNTE1IDIuMTc5LTMzLjQ5OSAwLTkuNzUuMzY3LTE2LjYwOSAxLjAxNC0yMC41NTcuODg0LTUuMjYzIDIuNDM4LTkuNjQyIDQuNjU5LTEzLjEzNyAyLjE3OS0zLjQ5NCA0Ljc2Ny02LjAxOCA3LjgwOS03LjQ4NSAzLjA0Mi0xLjQ2NyA3LjU1LTIuMzczIDEzLjU2OC0yLjY5NmgtLjA0M3YtMjkuNjZjLTcuNjE1LS40NTMtMTMuMTgtMi4wNzEtMTYuOTMzLTQuOTE4LTMuNjY3LTIuODI2LTYuNDA3LTcuNTcxLTguMjYyLTE0LjEwNy0xLjI1MS00LjYxNi0xLjg1NS0xNC40NTItMS44NTUtMjkuNTA5IDAtMTMuMDI5LS43MTItMjIuNTQxLTIuMTU3LTI4LjU2LTEuNDI0LTYuMTA1LTQuMTYzLTExLjE5NS04LjE5Ny0xNS4zNTgtNC4wNTUtNC4xNDItOS4wMzgtNy4wNTQtMTQuOTctOC44MDEtNS45NzUtMS43MjYtMTQuNTE3LTIuNjEtMjUuNjI2LTIuNjFoLTYuNTU3djI5LjQ2NmM5LjM0IDAgMTUuMzM3LjU2MSAxNy45OSAxLjY4MyAyLjY5NiAxLjEgNC41NTEgMi42NzUgNS41NjUgNC43MjQgMS4wNTcgMi4wNDkgMS41NTMgNi4xNjkgMS42MzkgMTIuMzYuNDUzIDE5LjYwOCAxLjE4NiAzMi4yOTEgMi4wNzEgMzguMDcyIDEuMzgxIDguMzY5IDQuMDU1IDE1LjI5NCA3Ljg3MyAyMC42ODYgMi44MjYgMy44NCA3LjI0OCA3LjY1OCAxMy4zNTIgMTEuNjI3LTQuNzAyIDIuNjk2LTguNTIgNS44NDYtMTEuNTQgOS40NDgtMy4wNDEgMy41NTktNS40MzYgNy45Ni03LjIwNSAxMy4wNzItMS44MTIgNS4xNzctMi45NTUgMTIuMDgtMy4zMjIgMjAuNi0uNjY5IDE0LjE3Mi0xLjEgMjMuODE0LTEuMSAyOC44MTktLjA4NiA1LjAyNi0uNjY5IDguNTg1LTEuOTg0IDEwLjY5OS0xLjMxNiAyLjEzNi0zLjI3OSAzLjcxLTUuOTc1IDQuODUzLTIuNzE4IDEuMTIyLTguNTIgMS42MzktMTcuMzY0IDEuNjM5djI5LjY2aDYuNjIyYzEwLjc0MS4wNjQgMTguNjc5LS43MTIgMjMuNzA1LTIuMTU4eiJ9fSldKSl9fX0sYWM0ZTpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5kfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmR9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yIDE5YTMgMyAwIDAwMyAzaDE0YTMgMyAwIDAwMy0zVjVhMyAzIDAgMDAtMy0zSDVhMyAzIDAgMDAtMyAzdjE0em0tMiAwVjVhNSA1IDAgMDE1LTVoMTRhNSA1IDAgMDE1IDV2MTRhNSA1IDAgMDEtNSA1SDVhNSA1IDAgMDEtNS01em0xMi05YTEgMSAwIDAxMSAxdjJhMSAxIDAgMDEtMiAwdi0yYTEgMSAwIDAxMS0xem0wIDZhMSAxIDAgMDExIDF2M2ExIDEgMCAwMS0yIDB2LTNhMSAxIDAgMDExLTF6bTAtMTNhMSAxIDAgMDExIDF2M2ExIDEgMCAwMS0yIDBWNGExIDEgMCAwMTEtMXoifX0pXSkpfX19LGFkNmQ6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCI4MjVhIik7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQ9cih0aGlzKSxlPSIiO3JldHVybiB0Lmdsb2JhbCYmKGUrPSJnIiksdC5pZ25vcmVDYXNlJiYoZSs9ImkiKSx0Lm11bHRpbGluZSYmKGUrPSJtIiksdC5kb3RBbGwmJihlKz0icyIpLHQudW5pY29kZSYmKGUrPSJ1IiksdC5zdGlja3kmJihlKz0ieSIpLGV9fSxhZDZlOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmR9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTEyLjY0MSAyMS45MzFhNy4wMSA3LjAxIDAgMDAxLjE0NiAxLjc0QTUgNSAwIDAxNyAxOVY1YTUgNSAwIDExMTAgMHY3LjI5YTYuOTcyIDYuOTcyIDAgMDAtMiAuOTY1VjVhMyAzIDAgMDAtNiAwdjE0YTMgMyAwIDAwMy42NDEgMi45MzF6TTE5IDE0YTUgNSAwIDExMCAxMCA1IDUgMCAwMTAtMTB6bS0yLjUgNS45MzhoNWEuOTM3LjkzNyAwIDEwMC0xLjg3NWgtNWEuOTM3LjkzNyAwIDEwMCAxLjg3NXoifX0pXSkpfX19LGFlNDA6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjgzYWIiKSxvPW4oImQwMzkiKSxpPW4oIjUxMzUiKSxzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxhPXt9LGM9ZnVuY3Rpb24odCl7dGhyb3cgdH07dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoaShhLHQpKXJldHVybiBhW3RdO2V8fChlPXt9KTt2YXIgbj1bXVt0XSxsPSEhaShlLCJBQ0NFU1NPUlMiKSYmZS5BQ0NFU1NPUlMsdT1pKGUsMCk/ZVswXTpjLGQ9aShlLDEpP2VbMV06dm9pZCAwO3JldHVybiBhW3RdPSEhbiYmIW8oKGZ1bmN0aW9uKCl7aWYobCYmIXIpcmV0dXJuITA7dmFyIHQ9e2xlbmd0aDotMX07bD9zKHQsMSx7ZW51bWVyYWJsZTohMCxnZXQ6Y30pOnRbMV09MSxuLmNhbGwodCx1LGQpfSkpfX0sYWU5MzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByLG8saSxzPW4oImUxNjMiKSxhPW4oIjkxMTIiKSxjPW4oIjUxMzUiKSxsPW4oImI2MjIiKSx1PW4oImM0MzAiKSxkPWwoIml0ZXJhdG9yIikscD0hMSxmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O1tdLmtleXMmJihpPVtdLmtleXMoKSwibmV4dCJpbiBpPyhvPXMocyhpKSksbyE9PU9iamVjdC5wcm90b3R5cGUmJihyPW8pKTpwPSEwKSx2b2lkIDA9PXImJihyPXt9KSx1fHxjKHIsZCl8fGEocixkLGYpLHQuZXhwb3J0cz17SXRlcmF0b3JQcm90b3R5cGU6cixCVUdHWV9TQUZBUklfSVRFUkFUT1JTOnB9fSxhZWMyOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmR9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTIyLjUuMjQ4SDcuMjI4YTYuOTc3IDYuOTc3IDAgMTAwIDEzLjk1NGgyLjMxOGEuMjUuMjUgMCAwMS4yNS4yNVYyMi41YTEuMjUgMS4yNSAwIDAwMi41IDBWM2EuMjUuMjUgMCAwMS4yNS0uMjVoMy42ODJhLjI1LjI1IDAgMDEuMjUuMjV2MTkuNWExLjI1IDEuMjUgMCAwMDIuNSAwVjNhLjI0OS4yNDkgMCAwMS4yNS0uMjVIMjIuNWExLjI1IDEuMjUgMCAwMDAtMi41ek05LjggMTEuNDUyYS4yNS4yNSAwIDAxLS4yNS4yNUg3LjIyOGE0LjQ3NyA0LjQ3NyAwIDExMC04Ljk1NGgyLjMxOEEuMjUuMjUgMCAwMTkuOCAzeiJ9fSldKSl9fX0sYjA0MTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjAwZWUiKSxvPW4oImY1ZGYiKTt0LmV4cG9ydHM9cj97fS50b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJbb2JqZWN0ICIrbyh0aGlzKSsiXSJ9fSxiMGMwOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI4M2FiIiksbz1uKCI5YmYyIikuZixpPUZ1bmN0aW9uLnByb3RvdHlwZSxzPWkudG9TdHJpbmcsYT0vXlxzKmZ1bmN0aW9uIChbXiAoXSopLyxjPSJuYW1lIjtyJiYhKGMgaW4gaSkmJm8oaSxjLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBzLmNhbGwodGhpcykubWF0Y2goYSlbMV19Y2F0Y2godCl7cmV0dXJuIiJ9fX0pfSxiNjIyOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJkYTg0Iiksbz1uKCI1NjkyIiksaT1uKCI1MTM1Iikscz1uKCI5MGUzIiksYT1uKCI0OTMwIiksYz1uKCJmZGJmIiksbD1vKCJ3a3MiKSx1PXIuU3ltYm9sLGQ9Yz91OnUmJnUud2l0aG91dFNldHRlcnx8czt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGkobCx0KXx8KGEmJmkodSx0KT9sW3RdPXVbdF06bFt0XT1kKCJTeW1ib2wuIit0KSksbFt0XX19LGI3Mjc6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjAzNjYiKSxvPW4oIjQ0YWQiKSxpPW4oIjdiMGIiKSxzPW4oIjUwYzQiKSxhPW4oIjY1ZjAiKSxjPVtdLnB1c2gsbD1mdW5jdGlvbih0KXt2YXIgZT0xPT10LG49Mj09dCxsPTM9PXQsdT00PT10LGQ9Nj09dCxwPTU9PXR8fGQ7cmV0dXJuIGZ1bmN0aW9uKGYsaCxtLHYpe2Zvcih2YXIgZyx5LGI9aShmKSx3PW8oYiksUz1yKGgsbSwzKSx4PXMody5sZW5ndGgpLGs9MCxDPXZ8fGEsTz1lP0MoZix4KTpuP0MoZiwwKTp2b2lkIDA7eD5rO2srKylpZigocHx8ayBpbiB3KSYmKGc9d1trXSx5PVMoZyxrLGIpLHQpKWlmKGUpT1trXT15O2Vsc2UgaWYoeSlzd2l0Y2godCl7Y2FzZSAzOnJldHVybiEwO2Nhc2UgNTpyZXR1cm4gZztjYXNlIDY6cmV0dXJuIGs7Y2FzZSAyOmMuY2FsbChPLGcpfWVsc2UgaWYodSlyZXR1cm4hMTtyZXR1cm4gZD8tMTpsfHx1P3U6T319O3QuZXhwb3J0cz17Zm9yRWFjaDpsKDApLG1hcDpsKDEpLGZpbHRlcjpsKDIpLHNvbWU6bCgzKSxldmVyeTpsKDQpLGZpbmQ6bCg1KSxmaW5kSW5kZXg6bCg2KX19LGMwNGU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjg2MWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZighcih0KSlyZXR1cm4gdDt2YXIgbixvO2lmKGUmJiJmdW5jdGlvbiI9PXR5cGVvZihuPXQudG9TdHJpbmcpJiYhcihvPW4uY2FsbCh0KSkpcmV0dXJuIG87aWYoImZ1bmN0aW9uIj09dHlwZW9mKG49dC52YWx1ZU9mKSYmIXIobz1uLmNhbGwodCkpKXJldHVybiBvO2lmKCFlJiYiZnVuY3Rpb24iPT10eXBlb2Yobj10LnRvU3RyaW5nKSYmIXIobz1uLmNhbGwodCkpKXJldHVybiBvO3Rocm93IFR5cGVFcnJvcigiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlIil9fSxjNDMwOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSExfSxjNmI2OmZ1bmN0aW9uKHQsZSl7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuLmNhbGwodCkuc2xpY2UoOCwtMSl9fSxjNmNkOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJkYTg0Iiksbz1uKCJjZTRlIiksaT0iX19jb3JlLWpzX3NoYXJlZF9fIixzPXJbaV18fG8oaSx7fSk7dC5leHBvcnRzPXN9LGM2ZWU6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5kfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMTkgMTRhNSA1IDAgMTEwIDEwIDUgNSAwIDAxMC0xMHptLTIuNSA1LjkzOGg1YS45MzcuOTM3IDAgMTAwLTEuODc1aC01YS45MzcuOTM3IDAgMTAwIDEuODc1ek0xMi4yOSAxN0g5djVoMy42NzRjLjM1Ni43NS44NDEgMS40MjYgMS40MjcgMkg1YTUgNSAwIDAxLTUtNVY1YTUgNSAwIDAxNS01aDE0YTUgNSAwIDAxNSA1djIuODIzYS44NDMuODQzIDAgMDEwIC4zNTRWMTQuMWE3LjAxOCA3LjAxOCAwIDAwLTItMS40MjdWOWgtNXYzLjI5YTYuOTcyIDYuOTcyIDAgMDAtMiAuOTY1VjlIOXY2aDQuMjU1YTYuOTcyIDYuOTcyIDAgMDAtLjk2NSAyek0xNyA3aDVWNWEzIDMgMCAwMC0zLTNoLTJ2NXptLTIgMFYySDl2NWg2ek03IDJINWEzIDMgMCAwMC0zIDN2Mmg1VjJ6TTIgOXY2aDVWOUgyem0wIDh2MmEzIDMgMCAwMDMgM2gydi01SDJ6In19KV0pKX19fSxjOGJhOmZ1bmN0aW9uKHQsZSl7dmFyIG47bj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtuPW58fG5ldyBGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfWNhdGNoKHIpeyJvYmplY3QiPT09dHlwZW9mIHdpbmRvdyYmKG49d2luZG93KX10LmV4cG9ydHM9bn0sYzk0MzpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5kfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmR9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xMS45OTkuNUM1LjY0OS41LjUgNS42NDguNSAxMmMwIDUuMDgyIDMuMjk0IDkuMzkyIDcuODY1IDEwLjkxNC41NzQuMTAzLjc1Ni0uMjM2Ljc1Ni0uNTQxIDAtLjI3NC4wMDYtMS4wMzcgMC0xLjk5Ny0zLjE5OC42OTQtMy44NjEtMS41MTUtMy44NjEtMS41MTUtLjUyMy0xLjMyOS0xLjI3NS0xLjY4Mi0xLjI3NS0xLjY4Mi0xLjA0NS0uNzE0LjA3Ny0uNjk5LjA3Ny0uNjk5IDEuMTUzLjA4IDEuNzYyIDEuMTg0IDEuNzYyIDEuMTg0IDEuMDI2IDEuNzU4IDIuNjkxIDEuMjUgMy4zNDYuOTU2LjEwNi0uNzQyLjQwMi0xLjI1MS43MzEtMS41MzYtMi41NTQtLjI5Mi01LjIzOC0xLjI3Ny01LjIzOC01LjY4NiAwLTEuMjU1LjQ0OC0yLjI4MSAxLjE4NC0zLjA4Ni0uMTE4LS4yODktLjUxNC0xLjQ2LjExMi0zLjA0MyAwIDAgLjk2Ny0uMzA5IDMuMTYyIDEuMThhMTEuMDExIDExLjAxMSAwIDAxMi44OC0uMzg4Yy45NzYuMDA1IDEuOTYuMTMyIDIuODguMzg4IDIuMTk1LTEuNDg4IDMuMTU5LTEuMTggMy4xNTktMS4xOC42MjcgMS41ODMuMjMyIDIuNzU0LjExNCAzLjA0My43MzYuODA1IDEuMTgzIDEuODMxIDEuMTgzIDMuMDg2IDAgNC40Mi0yLjY4OSA1LjM5MS01LjI1MSA1LjY3NC40MTIuMzU3Ljc4NyAxLjA0Ny43ODcgMi4xMnYzLjE4NGMwIC4zMDguMTg2LjY0Ny43Ny41MzZDMjAuMjA5IDIxLjM4OSAyMy41IDE3LjA4IDIzLjUgMTIgMjMuNSA1LjY0OCAxOC4zNTIuNSAxMS45OTkuNXoifX0pXSkpfX19LGNhODQ6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjUxMzUiKSxvPW4oImZjNmEiKSxpPW4oIjRkNjQiKS5pbmRleE9mLHM9bigiZDAxMiIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLGE9byh0KSxjPTAsbD1bXTtmb3IobiBpbiBhKSFyKHMsbikmJnIoYSxuKSYmbC5wdXNoKG4pO3doaWxlKGUubGVuZ3RoPmMpcihhLG49ZVtjKytdKSYmKH5pKGwsbil8fGwucHVzaChuKSk7cmV0dXJuIGx9fSxjYzEyOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJkYTg0Iiksbz1uKCI4NjFkIiksaT1yLmRvY3VtZW50LHM9byhpKSYmbyhpLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gcz9pLmNyZWF0ZUVsZW1lbnQodCk6e319fSxjZTRlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJkYTg0Iiksbz1uKCI5MTEyIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dHJ5e28ocix0LGUpfWNhdGNoKG4pe3JbdF09ZX1yZXR1cm4gZX19LGQwMTI6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e319LGQwMzk6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiEhdCgpfWNhdGNoKGUpe3JldHVybiEwfX19LGQwNjY6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjQyOGYiKSxvPW4oImRhODQiKSxpPWZ1bmN0aW9uKHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6dm9pZCAwfTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyP2koclt0XSl8fGkob1t0XSk6clt0XSYmclt0XVtlXXx8b1t0XSYmb1t0XVtlXX19LGQxZTc6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsaT1vJiYhci5jYWxsKHsxOjJ9LDEpO2UuZj1pP2Z1bmN0aW9uKHQpe3ZhciBlPW8odGhpcyx0KTtyZXR1cm4hIWUmJmUuZW51bWVyYWJsZX06cn0sZDI4YjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiNzQ2ZiIpO3IoIml0ZXJhdG9yIil9LGQyYmI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjgyNWEiKSxvPW4oIjNiYmUiKTt0LmV4cG9ydHM9T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKCl7dmFyIHQsZT0hMSxuPXt9O3RyeXt0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LHQuY2FsbChuLFtdKSxlPW4gaW5zdGFuY2VvZiBBcnJheX1jYXRjaChpKXt9cmV0dXJuIGZ1bmN0aW9uKG4saSl7cmV0dXJuIHIobiksbyhpKSxlP3QuY2FsbChuLGkpOm4uX19wcm90b19fPWksbn19KCk6dm9pZCAwKX0sZDNiNzpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiMDBlZSIpLG89bigiNmVlYiIpLGk9bigiYjA0MSIpO3J8fG8oT2JqZWN0LnByb3RvdHlwZSwidG9TdHJpbmciLGkse3Vuc2FmZTohMH0pfSxkNDRlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI5YmYyIikuZixvPW4oIjUxMzUiKSxpPW4oImI2MjIiKSxzPWkoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt0JiYhbyh0PW4/dDp0LnByb3RvdHlwZSxzKSYmcih0LHMse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTplfSl9fSxkN2I2OmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmR9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTIyLjUuMjQ4aC03LjYzN2ExLjI1IDEuMjUgMCAwMDAgMi41aDEuMDg2YS4yNS4yNSAwIDAxLjIxMS4zODRMNC43OCAyMS4wMTdhLjUuNSAwIDAxLS40MjIuMjMxSDEuNWExLjI1IDEuMjUgMCAwMDAgMi41aDcuNjM3YTEuMjUgMS4yNSAwIDAwMC0yLjVIOC4wNTFhLjI1LjI1IDAgMDEtLjIxMS0uMzg0TDE5LjIyIDIuOThhLjUuNSAwIDAxLjQyMi0uMjMySDIyLjVhMS4yNSAxLjI1IDAgMDAwLTIuNXoifX0pXSkpfX19LGRhODQ6ZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbihlKXt2YXIgbj1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5NYXRoPT1NYXRoJiZ0fTt0LmV4cG9ydHM9bigib2JqZWN0Ij09dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXMpfHxuKCJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cpfHxuKCJvYmplY3QiPT10eXBlb2Ygc2VsZiYmc2VsZil8fG4oIm9iamVjdCI9PXR5cGVvZiBlJiZlKXx8ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKXx8RnVuY3Rpb24oInJldHVybiB0aGlzIikoKX0pLmNhbGwodGhpcyxuKCJjOGJhIikpfSxkYzQ0OmZ1bmN0aW9uKHQsZSxuKXt9LGRkYjA6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImRhODQiKSxvPW4oImZkYmMiKSxpPW4oImUyNjAiKSxzPW4oIjkxMTIiKSxhPW4oImI2MjIiKSxjPWEoIml0ZXJhdG9yIiksbD1hKCJ0b1N0cmluZ1RhZyIpLHU9aS52YWx1ZXM7Zm9yKHZhciBkIGluIG8pe3ZhciBwPXJbZF0sZj1wJiZwLnByb3RvdHlwZTtpZihmKXtpZihmW2NdIT09dSl0cnl7cyhmLGMsdSl9Y2F0Y2gobSl7ZltjXT11fWlmKGZbbF18fHMoZixsLGQpLG9bZF0pZm9yKHZhciBoIGluIGkpaWYoZltoXSE9PWlbaF0pdHJ5e3MoZixoLGlbaF0pfWNhdGNoKG0pe2ZbaF09aVtoXX19fX0sZGY3NTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiY2E4NCIpLG89bigiNzgzOSIpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24odCl7cmV0dXJuIHIodCxvKX19LGUwMWE6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCIyM2U3Iiksbz1uKCI4M2FiIiksaT1uKCJkYTg0Iikscz1uKCI1MTM1IiksYT1uKCI4NjFkIiksYz1uKCI5YmYyIikuZixsPW4oImU4OTMiKSx1PWkuU3ltYm9sO2lmKG8mJiJmdW5jdGlvbiI9PXR5cGVvZiB1JiYoISgiZGVzY3JpcHRpb24iaW4gdS5wcm90b3R5cGUpfHx2b2lkIDAhPT11KCkuZGVzY3JpcHRpb24pKXt2YXIgZD17fSxwPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aDwxfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/dm9pZCAwOlN0cmluZyhhcmd1bWVudHNbMF0pLGU9dGhpcyBpbnN0YW5jZW9mIHA/bmV3IHUodCk6dm9pZCAwPT09dD91KCk6dSh0KTtyZXR1cm4iIj09PXQmJihkW2VdPSEwKSxlfTtsKHAsdSk7dmFyIGY9cC5wcm90b3R5cGU9dS5wcm90b3R5cGU7Zi5jb25zdHJ1Y3Rvcj1wO3ZhciBoPWYudG9TdHJpbmcsbT0iU3ltYm9sKHRlc3QpIj09U3RyaW5nKHUoInRlc3QiKSksdj0vXlN5bWJvbFwoKC4qKVwpW14pXSskLztjKGYsImRlc2NyaXB0aW9uIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3ZhciB0PWEodGhpcyk/dGhpcy52YWx1ZU9mKCk6dGhpcyxlPWguY2FsbCh0KTtpZihzKGQsdCkpcmV0dXJuIiI7dmFyIG49bT9lLnNsaWNlKDcsLTEpOmUucmVwbGFjZSh2LCIkMSIpO3JldHVybiIiPT09bj92b2lkIDA6bn19KSxyKHtnbG9iYWw6ITAsZm9yY2VkOiEwfSx7U3ltYm9sOnB9KX19LGUxNjM6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjUxMzUiKSxvPW4oIjdiMGIiKSxpPW4oImY3NzIiKSxzPW4oImUxNzciKSxhPWkoIklFX1BST1RPIiksYz1PYmplY3QucHJvdG90eXBlO3QuZXhwb3J0cz1zP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbih0KXtyZXR1cm4gdD1vKHQpLHIodCxhKT90W2FdOiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNvbnN0cnVjdG9yJiZ0IGluc3RhbmNlb2YgdC5jb25zdHJ1Y3Rvcj90LmNvbnN0cnVjdG9yLnByb3RvdHlwZTp0IGluc3RhbmNlb2YgT2JqZWN0P2M6bnVsbH19LGUxNzc6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImQwMzkiKTt0LmV4cG9ydHM9IXIoKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuY29uc3RydWN0b3I9bnVsbCxPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IHQpIT09dC5wcm90b3R5cGV9KSl9LGUyNjA6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJmYzZhIiksbz1uKCI0NGQyIiksaT1uKCIzZjhjIikscz1uKCI2OWYzIiksYT1uKCI3ZGQwIiksYz0iQXJyYXkgSXRlcmF0b3IiLGw9cy5zZXQsdT1zLmdldHRlckZvcihjKTt0LmV4cG9ydHM9YShBcnJheSwiQXJyYXkiLChmdW5jdGlvbih0LGUpe2wodGhpcyx7dHlwZTpjLHRhcmdldDpyKHQpLGluZGV4OjAsa2luZDplfSl9KSwoZnVuY3Rpb24oKXt2YXIgdD11KHRoaXMpLGU9dC50YXJnZXQsbj10LmtpbmQscj10LmluZGV4Kys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0LnRhcmdldD12b2lkIDAse3ZhbHVlOnZvaWQgMCxkb25lOiEwfSk6ImtleXMiPT1uP3t2YWx1ZTpyLGRvbmU6ITF9OiJ2YWx1ZXMiPT1uP3t2YWx1ZTplW3JdLGRvbmU6ITF9Ont2YWx1ZTpbcixlW3JdXSxkb25lOiExfX0pLCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG8oImtleXMiKSxvKCJ2YWx1ZXMiKSxvKCJlbnRyaWVzIil9LGUyYmU6ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQpe09iamVjdC5mcmVlemUodCk7dmFyIGU9ImZ1bmN0aW9uIj09PXR5cGVvZiB0O3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KS5mb3JFYWNoKChmdW5jdGlvbihyKXshT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodCxyKXx8bnVsbD09PXRbcl18fCJvYmplY3QiIT09dHlwZW9mIHRbcl0mJiJmdW5jdGlvbiIhPT10eXBlb2YgdFtyXXx8ZSYmKCJjYWxsZXIiPT09cnx8ImNhbGxlZSI9PT1yfHwiYXJndW1lbnRzIj09PXIpfHxPYmplY3QuaXNGcm96ZW4odFtyXSl8fG4odFtyXSl9KSksdH1jbGFzcyBye2NvbnN0cnVjdG9yKHQpe3ZvaWQgMD09PXQuZGF0YSYmKHQuZGF0YT17fSksdGhpcy5kYXRhPXQuZGF0YX1pZ25vcmVNYXRjaCgpe3RoaXMuaWdub3JlPSEwfX1mdW5jdGlvbiBvKHQpe3JldHVybiB0LnJlcGxhY2UoLyYvZywiJmFtcDsiKS5yZXBsYWNlKC88L2csIiZsdDsiKS5yZXBsYWNlKC8+L2csIiZndDsiKS5yZXBsYWNlKC8iL2csIiZxdW90OyIpLnJlcGxhY2UoLycvZywiJiN4Mjc7Iil9ZnVuY3Rpb24gaSh0LC4uLmUpe3ZhciBuPXt9O2Zvcihjb25zdCByIGluIHQpbltyXT10W3JdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKHQpe2Zvcihjb25zdCBlIGluIHQpbltlXT10W2VdfSkpLG59ZnVuY3Rpb24gcyh0KXtyZXR1cm4gdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGEodCl7dmFyIGU9W107cmV0dXJuIGZ1bmN0aW9uIHQobixyKXtmb3IodmFyIG89bi5maXJzdENoaWxkO287bz1vLm5leHRTaWJsaW5nKTM9PT1vLm5vZGVUeXBlP3IrPW8ubm9kZVZhbHVlLmxlbmd0aDoxPT09by5ub2RlVHlwZSYmKGUucHVzaCh7ZXZlbnQ6InN0YXJ0IixvZmZzZXQ6cixub2RlOm99KSxyPXQobyxyKSxzKG8pLm1hdGNoKC9icnxocnxpbWd8aW5wdXQvKXx8ZS5wdXNoKHtldmVudDoic3RvcCIsb2Zmc2V0OnIsbm9kZTpvfSkpO3JldHVybiByfSh0LDApLGV9ZnVuY3Rpb24gYyh0LGUsbil7dmFyIHI9MCxpPSIiLGE9W107ZnVuY3Rpb24gYygpe3JldHVybiB0Lmxlbmd0aCYmZS5sZW5ndGg/dFswXS5vZmZzZXQhPT1lWzBdLm9mZnNldD90WzBdLm9mZnNldDxlWzBdLm9mZnNldD90OmU6InN0YXJ0Ij09PWVbMF0uZXZlbnQ/dDplOnQubGVuZ3RoP3Q6ZX1mdW5jdGlvbiBsKHQpe2Z1bmN0aW9uIGUodCl7cmV0dXJuIiAiK3Qubm9kZU5hbWUrJz0iJytvKHQudmFsdWUpKyciJ31pKz0iPCIrcyh0KStbXS5tYXAuY2FsbCh0LmF0dHJpYnV0ZXMsZSkuam9pbigiIikrIj4ifWZ1bmN0aW9uIHUodCl7aSs9IjwvIitzKHQpKyI+In1mdW5jdGlvbiBkKHQpeygic3RhcnQiPT09dC5ldmVudD9sOnUpKHQubm9kZSl9d2hpbGUodC5sZW5ndGh8fGUubGVuZ3RoKXt2YXIgcD1jKCk7aWYoaSs9byhuLnN1YnN0cmluZyhyLHBbMF0ub2Zmc2V0KSkscj1wWzBdLm9mZnNldCxwPT09dCl7YS5yZXZlcnNlKCkuZm9yRWFjaCh1KTtkb3tkKHAuc3BsaWNlKDAsMSlbMF0pLHA9YygpfXdoaWxlKHA9PT10JiZwLmxlbmd0aCYmcFswXS5vZmZzZXQ9PT1yKTthLnJldmVyc2UoKS5mb3JFYWNoKGwpfWVsc2Uic3RhcnQiPT09cFswXS5ldmVudD9hLnB1c2gocFswXS5ub2RlKTphLnBvcCgpLGQocC5zcGxpY2UoMCwxKVswXSl9cmV0dXJuIGkrbyhuLnN1YnN0cihyKSl9dmFyIGw9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZXNjYXBlSFRNTDpvLGluaGVyaXQ6aSxub2RlU3RyZWFtOmEsbWVyZ2VTdHJlYW1zOmN9KTtjb25zdCB1PSI8L3NwYW4+IixkPXQ9PiEhdC5raW5kO2NsYXNzIHB7Y29uc3RydWN0b3IodCxlKXt0aGlzLmJ1ZmZlcj0iIix0aGlzLmNsYXNzUHJlZml4PWUuY2xhc3NQcmVmaXgsdC53YWxrKHRoaXMpfWFkZFRleHQodCl7dGhpcy5idWZmZXIrPW8odCl9b3Blbk5vZGUodCl7aWYoIWQodCkpcmV0dXJuO2xldCBlPXQua2luZDt0LnN1Ymxhbmd1YWdlfHwoZT1gJHt0aGlzLmNsYXNzUHJlZml4fSR7ZX1gKSx0aGlzLnNwYW4oZSl9Y2xvc2VOb2RlKHQpe2QodCkmJih0aGlzLmJ1ZmZlcis9dSl9dmFsdWUoKXtyZXR1cm4gdGhpcy5idWZmZXJ9c3Bhbih0KXt0aGlzLmJ1ZmZlcis9YDxzcGFuIGNsYXNzPSIke3R9Ij5gfX1jbGFzcyBme2NvbnN0cnVjdG9yKCl7dGhpcy5yb290Tm9kZT17Y2hpbGRyZW46W119LHRoaXMuc3RhY2s9W3RoaXMucm9vdE5vZGVdfWdldCB0b3AoKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLnN0YWNrLmxlbmd0aC0xXX1nZXQgcm9vdCgpe3JldHVybiB0aGlzLnJvb3ROb2RlfWFkZCh0KXt0aGlzLnRvcC5jaGlsZHJlbi5wdXNoKHQpfW9wZW5Ob2RlKHQpe2NvbnN0IGU9e2tpbmQ6dCxjaGlsZHJlbjpbXX07dGhpcy5hZGQoZSksdGhpcy5zdGFjay5wdXNoKGUpfWNsb3NlTm9kZSgpe2lmKHRoaXMuc3RhY2subGVuZ3RoPjEpcmV0dXJuIHRoaXMuc3RhY2sucG9wKCl9Y2xvc2VBbGxOb2Rlcygpe3doaWxlKHRoaXMuY2xvc2VOb2RlKCkpO310b0pTT04oKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5yb290Tm9kZSxudWxsLDQpfXdhbGsodCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IuX3dhbGsodCx0aGlzLnJvb3ROb2RlKX1zdGF0aWMgX3dhbGsodCxlKXtyZXR1cm4ic3RyaW5nIj09PXR5cGVvZiBlP3QuYWRkVGV4dChlKTplLmNoaWxkcmVuJiYodC5vcGVuTm9kZShlKSxlLmNoaWxkcmVuLmZvckVhY2goZT0+dGhpcy5fd2Fsayh0LGUpKSx0LmNsb3NlTm9kZShlKSksdH1zdGF0aWMgX2NvbGxhcHNlKHQpeyJzdHJpbmciIT09dHlwZW9mIHQmJnQuY2hpbGRyZW4mJih0LmNoaWxkcmVuLmV2ZXJ5KHQ9PiJzdHJpbmciPT09dHlwZW9mIHQpP3QuY2hpbGRyZW49W3QuY2hpbGRyZW4uam9pbigiIildOnQuY2hpbGRyZW4uZm9yRWFjaCh0PT57Zi5fY29sbGFwc2UodCl9KSl9fWNsYXNzIGggZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5vcHRpb25zPXR9YWRkS2V5d29yZCh0LGUpeyIiIT09dCYmKHRoaXMub3Blbk5vZGUoZSksdGhpcy5hZGRUZXh0KHQpLHRoaXMuY2xvc2VOb2RlKCkpfWFkZFRleHQodCl7IiIhPT10JiZ0aGlzLmFkZCh0KX1hZGRTdWJsYW5ndWFnZSh0LGUpe2NvbnN0IG49dC5yb290O24ua2luZD1lLG4uc3VibGFuZ3VhZ2U9ITAsdGhpcy5hZGQobil9dG9IVE1MKCl7Y29uc3QgdD1uZXcgcCh0aGlzLHRoaXMub3B0aW9ucyk7cmV0dXJuIHQudmFsdWUoKX1maW5hbGl6ZSgpe3JldHVybiEwfX1mdW5jdGlvbiBtKHQpe3JldHVybiBuZXcgUmVnRXhwKHQucmVwbGFjZSgvWy0vXFxeJCorPy4oKXxbXF17fV0vZywiXFwkJiIpLCJtIil9ZnVuY3Rpb24gdih0KXtyZXR1cm4gdD8ic3RyaW5nIj09PXR5cGVvZiB0P3Q6dC5zb3VyY2U6bnVsbH1mdW5jdGlvbiBnKC4uLnQpe2NvbnN0IGU9dC5tYXAodD0+dih0KSkuam9pbigiIik7cmV0dXJuIGV9ZnVuY3Rpb24geSh0KXtyZXR1cm4gbmV3IFJlZ0V4cCh0LnRvU3RyaW5nKCkrInwiKS5leGVjKCIiKS5sZW5ndGgtMX1mdW5jdGlvbiBiKHQsZSl7dmFyIG49dCYmdC5leGVjKGUpO3JldHVybiBuJiYwPT09bi5pbmRleH1mdW5jdGlvbiB3KHQsZT0ifCIpe2Zvcih2YXIgbj0vXFsoPzpbXlxcXF1dfFxcLikqXF18XChcPz98XFwoWzEtOV1bMC05XSopfFxcLi8scj0wLG89IiIsaT0wO2k8dC5sZW5ndGg7aSsrKXtyKz0xO3ZhciBzPXIsYT12KHRbaV0pO2k+MCYmKG8rPWUpLG8rPSIoIjt3aGlsZShhLmxlbmd0aD4wKXt2YXIgYz1uLmV4ZWMoYSk7aWYobnVsbD09Yyl7bys9YTticmVha31vKz1hLnN1YnN0cmluZygwLGMuaW5kZXgpLGE9YS5zdWJzdHJpbmcoYy5pbmRleCtjWzBdLmxlbmd0aCksIlxcIj09PWNbMF1bMF0mJmNbMV0/bys9IlxcIitTdHJpbmcoTnVtYmVyKGNbMV0pK3MpOihvKz1jWzBdLCIoIj09PWNbMF0mJnIrKyl9bys9IikifXJldHVybiBvfWNvbnN0IFM9IlthLXpBLVpdXFx3KiIseD0iW2EtekEtWl9dXFx3KiIsaz0iXFxiXFxkKyhcXC5cXGQrKT8iLEM9IigtPykoXFxiMFt4WF1bYS1mQS1GMC05XSt8KFxcYlxcZCsoXFwuXFxkKik/fFxcLlxcZCspKFtlRV1bLStdP1xcZCspPykiLE89IlxcYigwYlswMV0rKSIsTT0iIXwhPXwhPT18JXwlPXwmfCYmfCY9fFxcKnxcXCo9fFxcK3xcXCs9fCx8LXwtPXwvPXwvfDp8O3w8PHw8PD18PD18PHw9PT18PT18PXw+Pj49fD4+PXw+PXw+Pj58Pj58PnxcXD98XFxbfFxce3xcXCh8XFxefFxcXj18XFx8fFxcfD18XFx8XFx8fH4iLE49KHQ9e30pPT57Y29uc3QgZT0vXiMhWyBdKlwvLztyZXR1cm4gdC5iaW5hcnkmJih0LmJlZ2luPWcoZSwvLipcYi8sdC5iaW5hcnksL1xiLiovKSksaSh7Y2xhc3NOYW1lOiJtZXRhIixiZWdpbjplLGVuZDovJC8scmVsZXZhbmNlOjAsIm9uOmJlZ2luIjoodCxlKT0+ezAhPT10LmluZGV4JiZlLmlnbm9yZU1hdGNoKCl9fSx0KX0sVD17YmVnaW46IlxcXFxbXFxzXFxTXSIscmVsZXZhbmNlOjB9LEE9e2NsYXNzTmFtZToic3RyaW5nIixiZWdpbjoiJyIsZW5kOiInIixpbGxlZ2FsOiJcXG4iLGNvbnRhaW5zOltUXX0sRD17Y2xhc3NOYW1lOiJzdHJpbmciLGJlZ2luOiciJyxlbmQ6JyInLGlsbGVnYWw6IlxcbiIsY29udGFpbnM6W1RdfSxFPXtiZWdpbjovXGIoYXxhbnx0aGV8YXJlfEknbXxpc24ndHxkb24ndHxkb2Vzbid0fHdvbid0fGJ1dHxqdXN0fHNob3VsZHxwcmV0dHl8c2ltcGx5fGVub3VnaHxnb25uYXxnb2luZ3x3dGZ8c298c3VjaHx3aWxsfHlvdXx5b3VyfHRoZXl8bGlrZXxtb3JlKVxiL30sUj1mdW5jdGlvbih0LGUsbj17fSl7dmFyIHI9aSh7Y2xhc3NOYW1lOiJjb21tZW50IixiZWdpbjp0LGVuZDplLGNvbnRhaW5zOltdfSxuKTtyZXR1cm4gci5jb250YWlucy5wdXNoKEUpLHIuY29udGFpbnMucHVzaCh7Y2xhc3NOYW1lOiJkb2N0YWciLGJlZ2luOiIoPzpUT0RPfEZJWE1FfE5PVEV8QlVHfE9QVElNSVpFfEhBQ0t8WFhYKToiLHJlbGV2YW5jZTowfSkscn0sXz1SKCIvLyIsIiQiKSxQPVIoIi9cXCoiLCJcXCovIiksej1SKCIjIiwiJCIpLEk9e2NsYXNzTmFtZToibnVtYmVyIixiZWdpbjprLHJlbGV2YW5jZTowfSwkPXtjbGFzc05hbWU6Im51bWJlciIsYmVnaW46QyxyZWxldmFuY2U6MH0sVj17Y2xhc3NOYW1lOiJudW1iZXIiLGJlZ2luOk8scmVsZXZhbmNlOjB9LEI9e2NsYXNzTmFtZToibnVtYmVyIixiZWdpbjprKyIoJXxlbXxleHxjaHxyZW18dnd8dmh8dm1pbnx2bWF4fGNtfG1tfGlufHB0fHBjfHB4fGRlZ3xncmFkfHJhZHx0dXJufHN8bXN8SHp8a0h6fGRwaXxkcGNtfGRwcHgpPyIscmVsZXZhbmNlOjB9LEY9e2JlZ2luOi8oPz1cL1teL1xuXSpcLykvLGNvbnRhaW5zOlt7Y2xhc3NOYW1lOiJyZWdleHAiLGJlZ2luOi9cLy8sZW5kOi9cL1tnaW11eV0qLyxpbGxlZ2FsOi9cbi8sY29udGFpbnM6W1Qse2JlZ2luOi9cWy8sZW5kOi9cXS8scmVsZXZhbmNlOjAsY29udGFpbnM6W1RdfV19XX0saj17Y2xhc3NOYW1lOiJ0aXRsZSIsYmVnaW46UyxyZWxldmFuY2U6MH0sTD17Y2xhc3NOYW1lOiJ0aXRsZSIsYmVnaW46eCxyZWxldmFuY2U6MH0sSD17YmVnaW46IlxcLlxccyoiK3gscmVsZXZhbmNlOjB9LHE9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5hc3NpZ24odCx7Im9uOmJlZ2luIjoodCxlKT0+e2UuZGF0YS5fYmVnaW5NYXRjaD10WzFdfSwib246ZW5kIjoodCxlKT0+e2UuZGF0YS5fYmVnaW5NYXRjaCE9PXRbMV0mJmUuaWdub3JlTWF0Y2goKX19KX07dmFyIFc9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsSURFTlRfUkU6UyxVTkRFUlNDT1JFX0lERU5UX1JFOngsTlVNQkVSX1JFOmssQ19OVU1CRVJfUkU6QyxCSU5BUllfTlVNQkVSX1JFOk8sUkVfU1RBUlRFUlNfUkU6TSxTSEVCQU5HOk4sQkFDS1NMQVNIX0VTQ0FQRTpULEFQT1NfU1RSSU5HX01PREU6QSxRVU9URV9TVFJJTkdfTU9ERTpELFBIUkFTQUxfV09SRFNfTU9ERTpFLENPTU1FTlQ6UixDX0xJTkVfQ09NTUVOVF9NT0RFOl8sQ19CTE9DS19DT01NRU5UX01PREU6UCxIQVNIX0NPTU1FTlRfTU9ERTp6LE5VTUJFUl9NT0RFOkksQ19OVU1CRVJfTU9ERTokLEJJTkFSWV9OVU1CRVJfTU9ERTpWLENTU19OVU1CRVJfTU9ERTpCLFJFR0VYUF9NT0RFOkYsVElUTEVfTU9ERTpqLFVOREVSU0NPUkVfVElUTEVfTU9ERTpMLE1FVEhPRF9HVUFSRDpILEVORF9TQU1FX0FTX0JFR0lOOnF9KSxLPSJvZiBhbmQgZm9yIGluIG5vdCBvciBpZiB0aGVuIi5zcGxpdCgiICIpO2Z1bmN0aW9uIEoodCl7ZnVuY3Rpb24gZShlLG4pe3JldHVybiBuZXcgUmVnRXhwKHYoZSksIm0iKyh0LmNhc2VfaW5zZW5zaXRpdmU/ImkiOiIiKSsobj8iZyI6IiIpKX1jbGFzcyBue2NvbnN0cnVjdG9yKCl7dGhpcy5tYXRjaEluZGV4ZXM9e30sdGhpcy5yZWdleGVzPVtdLHRoaXMubWF0Y2hBdD0xLHRoaXMucG9zaXRpb249MH1hZGRSdWxlKHQsZSl7ZS5wb3NpdGlvbj10aGlzLnBvc2l0aW9uKyssdGhpcy5tYXRjaEluZGV4ZXNbdGhpcy5tYXRjaEF0XT1lLHRoaXMucmVnZXhlcy5wdXNoKFtlLHRdKSx0aGlzLm1hdGNoQXQrPXkodCkrMX1jb21waWxlKCl7MD09PXRoaXMucmVnZXhlcy5sZW5ndGgmJih0aGlzLmV4ZWM9KCk9Pm51bGwpO2NvbnN0IHQ9dGhpcy5yZWdleGVzLm1hcCh0PT50WzFdKTt0aGlzLm1hdGNoZXJSZT1lKHcodCksITApLHRoaXMubGFzdEluZGV4PTB9ZXhlYyh0KXt0aGlzLm1hdGNoZXJSZS5sYXN0SW5kZXg9dGhpcy5sYXN0SW5kZXg7Y29uc3QgZT10aGlzLm1hdGNoZXJSZS5leGVjKHQpO2lmKCFlKXJldHVybiBudWxsO2NvbnN0IG49ZS5maW5kSW5kZXgoKHQsZSk9PmU+MCYmdm9pZCAwIT09dCkscj10aGlzLm1hdGNoSW5kZXhlc1tuXTtyZXR1cm4gZS5zcGxpY2UoMCxuKSxPYmplY3QuYXNzaWduKGUscil9fWNsYXNzIHJ7Y29uc3RydWN0b3IoKXt0aGlzLnJ1bGVzPVtdLHRoaXMubXVsdGlSZWdleGVzPVtdLHRoaXMuY291bnQ9MCx0aGlzLmxhc3RJbmRleD0wLHRoaXMucmVnZXhJbmRleD0wfWdldE1hdGNoZXIodCl7aWYodGhpcy5tdWx0aVJlZ2V4ZXNbdF0pcmV0dXJuIHRoaXMubXVsdGlSZWdleGVzW3RdO2NvbnN0IGU9bmV3IG47cmV0dXJuIHRoaXMucnVsZXMuc2xpY2UodCkuZm9yRWFjaCgoW3Qsbl0pPT5lLmFkZFJ1bGUodCxuKSksZS5jb21waWxlKCksdGhpcy5tdWx0aVJlZ2V4ZXNbdF09ZSxlfXJlc3VtaW5nU2NhbkF0U2FtZVBvc2l0aW9uKCl7cmV0dXJuIDAhPT10aGlzLnJlZ2V4SW5kZXh9Y29uc2lkZXJBbGwoKXt0aGlzLnJlZ2V4SW5kZXg9MH1hZGRSdWxlKHQsZSl7dGhpcy5ydWxlcy5wdXNoKFt0LGVdKSwiYmVnaW4iPT09ZS50eXBlJiZ0aGlzLmNvdW50Kyt9ZXhlYyh0KXtjb25zdCBlPXRoaXMuZ2V0TWF0Y2hlcih0aGlzLnJlZ2V4SW5kZXgpO2UubGFzdEluZGV4PXRoaXMubGFzdEluZGV4O2xldCBuPWUuZXhlYyh0KTtpZih0aGlzLnJlc3VtaW5nU2NhbkF0U2FtZVBvc2l0aW9uKCkpaWYobiYmbi5pbmRleD09PXRoaXMubGFzdEluZGV4KTtlbHNle2NvbnN0IGU9dGhpcy5nZXRNYXRjaGVyKDApO2UubGFzdEluZGV4PXRoaXMubGFzdEluZGV4KzEsbj1lLmV4ZWModCl9cmV0dXJuIG4mJih0aGlzLnJlZ2V4SW5kZXgrPW4ucG9zaXRpb24rMSx0aGlzLnJlZ2V4SW5kZXg9PT10aGlzLmNvdW50JiZ0aGlzLmNvbnNpZGVyQWxsKCkpLG59fWZ1bmN0aW9uIG8odCl7Y29uc3QgZT1uZXcgcjtyZXR1cm4gdC5jb250YWlucy5mb3JFYWNoKHQ9PmUuYWRkUnVsZSh0LmJlZ2luLHtydWxlOnQsdHlwZToiYmVnaW4ifSkpLHQudGVybWluYXRvcl9lbmQmJmUuYWRkUnVsZSh0LnRlcm1pbmF0b3JfZW5kLHt0eXBlOiJlbmQifSksdC5pbGxlZ2FsJiZlLmFkZFJ1bGUodC5pbGxlZ2FsLHt0eXBlOiJpbGxlZ2FsIn0pLGV9ZnVuY3Rpb24gaSh0LGUpe2NvbnN0IG49dC5pbnB1dFt0LmluZGV4LTFdLHI9dC5pbnB1dFt0LmluZGV4K3RbMF0ubGVuZ3RoXTsiLiIhPT1uJiYiLiIhPT1yfHxlLmlnbm9yZU1hdGNoKCl9ZnVuY3Rpb24gcyhuLHIpe2NvbnN0IGE9bjtpZihuLmNvbXBpbGVkKXJldHVybiBhO24uY29tcGlsZWQ9ITAsbi5fX2JlZm9yZUJlZ2luPW51bGwsbi5rZXl3b3Jkcz1uLmtleXdvcmRzfHxuLmJlZ2luS2V5d29yZHM7bGV0IGM9bnVsbDtpZigib2JqZWN0Ij09PXR5cGVvZiBuLmtleXdvcmRzJiYoYz1uLmtleXdvcmRzLiRwYXR0ZXJuLGRlbGV0ZSBuLmtleXdvcmRzLiRwYXR0ZXJuKSxuLmtleXdvcmRzJiYobi5rZXl3b3Jkcz1YKG4ua2V5d29yZHMsdC5jYXNlX2luc2Vuc2l0aXZlKSksbi5sZXhlbWVzJiZjKXRocm93IG5ldyBFcnJvcigiRVJSOiBQcmVmZXIgYGtleXdvcmRzLiRwYXR0ZXJuYCB0byBgbW9kZS5sZXhlbWVzYCwgQk9USCBhcmUgbm90IGFsbG93ZWQuIChzZWUgbW9kZSByZWZlcmVuY2UpICIpO3JldHVybiBhLmtleXdvcmRQYXR0ZXJuUmU9ZShuLmxleGVtZXN8fGN8fC9cdysvLCEwKSxyJiYobi5iZWdpbktleXdvcmRzJiYobi5iZWdpbj0iXFxiKCIrbi5iZWdpbktleXdvcmRzLnNwbGl0KCIgIikuam9pbigifCIpKyIpKD89XFxifFxccykiLG4uX19iZWZvcmVCZWdpbj1pKSxuLmJlZ2lufHwobi5iZWdpbj0vXEJ8XGIvKSxhLmJlZ2luUmU9ZShuLmJlZ2luKSxuLmVuZFNhbWVBc0JlZ2luJiYobi5lbmQ9bi5iZWdpbiksbi5lbmR8fG4uZW5kc1dpdGhQYXJlbnR8fChuLmVuZD0vXEJ8XGIvKSxuLmVuZCYmKGEuZW5kUmU9ZShuLmVuZCkpLGEudGVybWluYXRvcl9lbmQ9dihuLmVuZCl8fCIiLG4uZW5kc1dpdGhQYXJlbnQmJnIudGVybWluYXRvcl9lbmQmJihhLnRlcm1pbmF0b3JfZW5kKz0obi5lbmQ/InwiOiIiKStyLnRlcm1pbmF0b3JfZW5kKSksbi5pbGxlZ2FsJiYoYS5pbGxlZ2FsUmU9ZShuLmlsbGVnYWwpKSx2b2lkIDA9PT1uLnJlbGV2YW5jZSYmKG4ucmVsZXZhbmNlPTEpLG4uY29udGFpbnN8fChuLmNvbnRhaW5zPVtdKSxuLmNvbnRhaW5zPVtdLmNvbmNhdCguLi5uLmNvbnRhaW5zLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIEcoInNlbGYiPT09dD9uOnQpfSkpKSxuLmNvbnRhaW5zLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ModCxhKX0pKSxuLnN0YXJ0cyYmcyhuLnN0YXJ0cyxyKSxhLm1hdGNoZXI9byhhKSxhfWlmKHQuY29udGFpbnMmJnQuY29udGFpbnMuaW5jbHVkZXMoInNlbGYiKSl0aHJvdyBuZXcgRXJyb3IoIkVSUjogY29udGFpbnMgYHNlbGZgIGlzIG5vdCBzdXBwb3J0ZWQgYXQgdGhlIHRvcC1sZXZlbCBvZiBhIGxhbmd1YWdlLiAgU2VlIGRvY3VtZW50YXRpb24uIik7cmV0dXJuIHModCl9ZnVuY3Rpb24gVSh0KXtyZXR1cm4hIXQmJih0LmVuZHNXaXRoUGFyZW50fHxVKHQuc3RhcnRzKSl9ZnVuY3Rpb24gRyh0KXtyZXR1cm4gdC52YXJpYW50cyYmIXQuY2FjaGVkX3ZhcmlhbnRzJiYodC5jYWNoZWRfdmFyaWFudHM9dC52YXJpYW50cy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBpKHQse3ZhcmlhbnRzOm51bGx9LGUpfSkpKSx0LmNhY2hlZF92YXJpYW50cz90LmNhY2hlZF92YXJpYW50czpVKHQpP2kodCx7c3RhcnRzOnQuc3RhcnRzP2kodC5zdGFydHMpOm51bGx9KTpPYmplY3QuaXNGcm96ZW4odCk/aSh0KTp0fWZ1bmN0aW9uIFgodCxlKXt2YXIgbj17fTtyZXR1cm4ic3RyaW5nIj09PXR5cGVvZiB0P3IoImtleXdvcmQiLHQpOk9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3IoZSx0W2VdKX0pKSxuO2Z1bmN0aW9uIHIodCxyKXtlJiYocj1yLnRvTG93ZXJDYXNlKCkpLHIuc3BsaXQoIiAiKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1lLnNwbGl0KCJ8Iik7bltyWzBdXT1bdCxZKHJbMF0sclsxXSldfSkpfX1mdW5jdGlvbiBZKHQsZSl7cmV0dXJuIGU/TnVtYmVyKGUpOloodCk/MDoxfWZ1bmN0aW9uIFoodCl7cmV0dXJuIEsuaW5jbHVkZXModC50b0xvd2VyQ2FzZSgpKX12YXIgUT0iMTAuMy4yIjtmdW5jdGlvbiB0dCh0KXtyZXR1cm4gQm9vbGVhbih0fHwiIj09PXQpfWNvbnN0IGV0PXtwcm9wczpbImxhbmd1YWdlIiwiY29kZSIsImF1dG9kZXRlY3QiXSxkYXRhOmZ1bmN0aW9uKCl7cmV0dXJue2RldGVjdGVkTGFuZ3VhZ2U6IiIsdW5rbm93bkxhbmd1YWdlOiExfX0sY29tcHV0ZWQ6e2NsYXNzTmFtZSgpe3JldHVybiB0aGlzLnVua25vd25MYW5ndWFnZT8iIjoiaGxqcyAiK3RoaXMuZGV0ZWN0ZWRMYW5ndWFnZX0saGlnaGxpZ2h0ZWQoKXtpZighdGhpcy5hdXRvRGV0ZWN0JiYhaGxqcy5nZXRMYW5ndWFnZSh0aGlzLmxhbmd1YWdlKSlyZXR1cm4gY29uc29sZS53YXJuKGBUaGUgbGFuZ3VhZ2UgIiR7dGhpcy5sYW5ndWFnZX0iIHlvdSBzcGVjaWZpZWQgY291bGQgbm90IGJlIGZvdW5kLmApLHRoaXMudW5rbm93bkxhbmd1YWdlPSEwLG8odGhpcy5jb2RlKTtsZXQgdDtyZXR1cm4gdGhpcy5hdXRvRGV0ZWN0Pyh0PWhsanMuaGlnaGxpZ2h0QXV0byh0aGlzLmNvZGUpLHRoaXMuZGV0ZWN0ZWRMYW5ndWFnZT10Lmxhbmd1YWdlKToodD1obGpzLmhpZ2hsaWdodCh0aGlzLmxhbmd1YWdlLHRoaXMuY29kZSx0aGlzLmlnbm9yZUlsbGVnYWxzKSx0aGlzLmRldGVjdGVjdExhbmd1YWdlPXRoaXMubGFuZ3VhZ2UpLHQudmFsdWV9LGF1dG9EZXRlY3QoKXtyZXR1cm4hdGhpcy5sYW5ndWFnZXx8dHQodGhpcy5hdXRvZGV0ZWN0KX0saWdub3JlSWxsZWdhbHMoKXtyZXR1cm4hMH19LHJlbmRlcih0KXtyZXR1cm4gdCgicHJlIix7fSxbdCgiY29kZSIse2NsYXNzOnRoaXMuY2xhc3NOYW1lLGRvbVByb3BzOntpbm5lckhUTUw6dGhpcy5oaWdobGlnaHRlZH19KV0pfX0sbnQ9e2luc3RhbGwodCl7dC5jb21wb25lbnQoImhpZ2hsaWdodGpzIixldCl9fSxydD1vLG90PWkse25vZGVTdHJlYW06aXQsbWVyZ2VTdHJlYW1zOnN0fT1sLGF0PVN5bWJvbCgibm9tYXRjaCIpLGN0PWZ1bmN0aW9uKHQpe3ZhciBlPVtdLG89T2JqZWN0LmNyZWF0ZShudWxsKSxpPU9iamVjdC5jcmVhdGUobnVsbCkscz1bXSxhPSEwLGM9LyheKDxbXj5dKz58XHR8KSt8XG4pL2dtLGw9IkNvdWxkIG5vdCBmaW5kIHRoZSBsYW5ndWFnZSAne30nLCBkaWQgeW91IGZvcmdldCB0byBsb2FkL2luY2x1ZGUgYSBsYW5ndWFnZSBtb2R1bGU/Ijtjb25zdCB1PXtkaXNhYmxlQXV0b2RldGVjdDohMCxuYW1lOiJQbGFpbiB0ZXh0Iixjb250YWluczpbXX07dmFyIGQ9e25vSGlnaGxpZ2h0UmU6L14obm8tP2hpZ2hsaWdodCkkL2ksbGFuZ3VhZ2VEZXRlY3RSZTovXGJsYW5nKD86dWFnZSk/LShbXHctXSspXGIvaSxjbGFzc1ByZWZpeDoiaGxqcy0iLHRhYlJlcGxhY2U6bnVsbCx1c2VCUjohMSxsYW5ndWFnZXM6bnVsbCxfX2VtaXR0ZXI6aH07ZnVuY3Rpb24gcCh0KXtyZXR1cm4gZC5ub0hpZ2hsaWdodFJlLnRlc3QodCl9ZnVuY3Rpb24gZih0KXt2YXIgZT10LmNsYXNzTmFtZSsiICI7ZSs9dC5wYXJlbnROb2RlP3QucGFyZW50Tm9kZS5jbGFzc05hbWU6IiI7Y29uc3Qgbj1kLmxhbmd1YWdlRGV0ZWN0UmUuZXhlYyhlKTtpZihuKXt2YXIgcj1EKG5bMV0pO3JldHVybiByfHwoY29uc29sZS53YXJuKGwucmVwbGFjZSgie30iLG5bMV0pKSxjb25zb2xlLndhcm4oIkZhbGxpbmcgYmFjayB0byBuby1oaWdobGlnaHQgbW9kZSBmb3IgdGhpcyBibG9jay4iLHQpKSxyP25bMV06Im5vLWhpZ2hsaWdodCJ9cmV0dXJuIGUuc3BsaXQoL1xzKy8pLmZpbmQodD0+cCh0KXx8RCh0KSl9ZnVuY3Rpb24gdih0LGUsbixyKXt2YXIgbz17Y29kZTplLGxhbmd1YWdlOnR9O1AoImJlZm9yZTpoaWdobGlnaHQiLG8pO3ZhciBpPW8ucmVzdWx0P28ucmVzdWx0Omcoby5sYW5ndWFnZSxvLmNvZGUsbixyKTtyZXR1cm4gaS5jb2RlPW8uY29kZSxQKCJhZnRlcjpoaWdobGlnaHQiLGkpLGl9ZnVuY3Rpb24gZyh0LGUsbixpKXt2YXIgcz1lO2Z1bmN0aW9uIGModCxlKXt2YXIgbj1NLmNhc2VfaW5zZW5zaXRpdmU/ZVswXS50b0xvd2VyQ2FzZSgpOmVbMF07cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LmtleXdvcmRzLG4pJiZ0LmtleXdvcmRzW25dfWZ1bmN0aW9uIHUoKXtpZighQS5rZXl3b3JkcylyZXR1cm4gdm9pZCBSLmFkZFRleHQoXyk7bGV0IHQ9MDtBLmtleXdvcmRQYXR0ZXJuUmUubGFzdEluZGV4PTA7bGV0IGU9QS5rZXl3b3JkUGF0dGVyblJlLmV4ZWMoXyksbj0iIjt3aGlsZShlKXtuKz1fLnN1YnN0cmluZyh0LGUuaW5kZXgpO2NvbnN0IHI9YyhBLGUpO2lmKHIpe2NvbnN0W3Qsb109cjtSLmFkZFRleHQobiksbj0iIixQKz1vLFIuYWRkS2V5d29yZChlWzBdLHQpfWVsc2Ugbis9ZVswXTt0PUEua2V5d29yZFBhdHRlcm5SZS5sYXN0SW5kZXgsZT1BLmtleXdvcmRQYXR0ZXJuUmUuZXhlYyhfKX1uKz1fLnN1YnN0cih0KSxSLmFkZFRleHQobil9ZnVuY3Rpb24gcCgpe2lmKCIiIT09Xyl7dmFyIHQ9bnVsbDtpZigic3RyaW5nIj09PXR5cGVvZiBBLnN1Ykxhbmd1YWdlKXtpZighb1tBLnN1Ykxhbmd1YWdlXSlyZXR1cm4gdm9pZCBSLmFkZFRleHQoXyk7dD1nKEEuc3ViTGFuZ3VhZ2UsXywhMCxFW0Euc3ViTGFuZ3VhZ2VdKSxFW0Euc3ViTGFuZ3VhZ2VdPXQudG9wfWVsc2UgdD13KF8sQS5zdWJMYW5ndWFnZS5sZW5ndGg/QS5zdWJMYW5ndWFnZTpudWxsKTtBLnJlbGV2YW5jZT4wJiYoUCs9dC5yZWxldmFuY2UpLFIuYWRkU3VibGFuZ3VhZ2UodC5lbWl0dGVyLHQubGFuZ3VhZ2UpfX1mdW5jdGlvbiBmKCl7bnVsbCE9QS5zdWJMYW5ndWFnZT9wKCk6dSgpLF89IiJ9ZnVuY3Rpb24gaCh0KXtyZXR1cm4gdC5jbGFzc05hbWUmJlIub3Blbk5vZGUodC5jbGFzc05hbWUpLEE9T2JqZWN0LmNyZWF0ZSh0LHtwYXJlbnQ6e3ZhbHVlOkF9fSksQX1mdW5jdGlvbiB2KHQsZSxuKXtsZXQgbz1iKHQuZW5kUmUsbik7aWYobyl7aWYodFsib246ZW5kIl0pe2NvbnN0IG49bmV3IHIodCk7dFsib246ZW5kIl0oZSxuKSxuLmlnbm9yZSYmKG89ITEpfWlmKG8pe3doaWxlKHQuZW5kc1BhcmVudCYmdC5wYXJlbnQpdD10LnBhcmVudDtyZXR1cm4gdH19aWYodC5lbmRzV2l0aFBhcmVudClyZXR1cm4gdih0LnBhcmVudCxlLG4pfWZ1bmN0aW9uIHkodCl7cmV0dXJuIDA9PT1BLm1hdGNoZXIucmVnZXhJbmRleD8oXys9dFswXSwxKTooJD0hMCwwKX1mdW5jdGlvbiBTKHQpe3ZhciBlPXRbMF0sbj10LnJ1bGU7Y29uc3Qgbz1uZXcgcihuKSxpPVtuLl9fYmVmb3JlQmVnaW4sblsib246YmVnaW4iXV07Zm9yKGNvbnN0IHIgb2YgaSlpZihyJiYocih0LG8pLG8uaWdub3JlKSlyZXR1cm4geShlKTtyZXR1cm4gbiYmbi5lbmRTYW1lQXNCZWdpbiYmKG4uZW5kUmU9bShlKSksbi5za2lwP18rPWU6KG4uZXhjbHVkZUJlZ2luJiYoXys9ZSksZigpLG4ucmV0dXJuQmVnaW58fG4uZXhjbHVkZUJlZ2lufHwoXz1lKSksaChuKSxuLnJldHVybkJlZ2luPzA6ZS5sZW5ndGh9ZnVuY3Rpb24geCh0KXt2YXIgZT10WzBdLG49cy5zdWJzdHIodC5pbmRleCkscj12KEEsdCxuKTtpZighcilyZXR1cm4gYXQ7dmFyIG89QTtvLnNraXA/Xys9ZTooby5yZXR1cm5FbmR8fG8uZXhjbHVkZUVuZHx8KF8rPWUpLGYoKSxvLmV4Y2x1ZGVFbmQmJihfPWUpKTtkb3tBLmNsYXNzTmFtZSYmUi5jbG9zZU5vZGUoKSxBLnNraXB8fEEuc3ViTGFuZ3VhZ2V8fChQKz1BLnJlbGV2YW5jZSksQT1BLnBhcmVudH13aGlsZShBIT09ci5wYXJlbnQpO3JldHVybiByLnN0YXJ0cyYmKHIuZW5kU2FtZUFzQmVnaW4mJihyLnN0YXJ0cy5lbmRSZT1yLmVuZFJlKSxoKHIuc3RhcnRzKSksby5yZXR1cm5FbmQ/MDplLmxlbmd0aH1mdW5jdGlvbiBrKCl7Zm9yKHZhciB0PVtdLGU9QTtlIT09TTtlPWUucGFyZW50KWUuY2xhc3NOYW1lJiZ0LnVuc2hpZnQoZS5jbGFzc05hbWUpO3QuZm9yRWFjaCh0PT5SLm9wZW5Ob2RlKHQpKX12YXIgQz17fTtmdW5jdGlvbiBPKGUscil7dmFyIG89ciYmclswXTtpZihfKz1lLG51bGw9PW8pcmV0dXJuIGYoKSwwO2lmKCJiZWdpbiI9PT1DLnR5cGUmJiJlbmQiPT09ci50eXBlJiZDLmluZGV4PT09ci5pbmRleCYmIiI9PT1vKXtpZihfKz1zLnNsaWNlKHIuaW5kZXgsci5pbmRleCsxKSwhYSl7Y29uc3QgZT1uZXcgRXJyb3IoIjAgd2lkdGggbWF0Y2ggcmVnZXgiKTt0aHJvdyBlLmxhbmd1YWdlTmFtZT10LGUuYmFkUnVsZT1DLnJ1bGUsZX1yZXR1cm4gMX1pZihDPXIsImJlZ2luIj09PXIudHlwZSlyZXR1cm4gUyhyKTtpZigiaWxsZWdhbCI9PT1yLnR5cGUmJiFuKXtjb25zdCB0PW5ldyBFcnJvcignSWxsZWdhbCBsZXhlbWUgIicrbysnIiBmb3IgbW9kZSAiJysoQS5jbGFzc05hbWV8fCI8dW5uYW1lZD4iKSsnIicpO3Rocm93IHQubW9kZT1BLHR9aWYoImVuZCI9PT1yLnR5cGUpe3ZhciBpPXgocik7aWYoaSE9PWF0KXJldHVybiBpfWlmKCJpbGxlZ2FsIj09PXIudHlwZSYmIiI9PT1vKXJldHVybiAxO2lmKEk+MWU1JiZJPjMqci5pbmRleCl7Y29uc3QgdD1uZXcgRXJyb3IoInBvdGVudGlhbCBpbmZpbml0ZSBsb29wLCB3YXkgbW9yZSBpdGVyYXRpb25zIHRoYW4gbWF0Y2hlcyIpO3Rocm93IHR9cmV0dXJuIF8rPW8sby5sZW5ndGh9dmFyIE09RCh0KTtpZighTSl0aHJvdyBjb25zb2xlLmVycm9yKGwucmVwbGFjZSgie30iLHQpKSxuZXcgRXJyb3IoJ1Vua25vd24gbGFuZ3VhZ2U6ICInK3QrJyInKTt2YXIgTj1KKE0pLFQ9IiIsQT1pfHxOLEU9e30sUj1uZXcgZC5fX2VtaXR0ZXIoZCk7aygpO3ZhciBfPSIiLFA9MCx6PTAsST0wLCQ9ITE7dHJ5e2ZvcihBLm1hdGNoZXIuY29uc2lkZXJBbGwoKTs7KXtJKyssJD8kPSExOkEubWF0Y2hlci5jb25zaWRlckFsbCgpLEEubWF0Y2hlci5sYXN0SW5kZXg9ejtjb25zdCB0PUEubWF0Y2hlci5leGVjKHMpO2lmKCF0KWJyZWFrO2NvbnN0IGU9cy5zdWJzdHJpbmcoeix0LmluZGV4KSxuPU8oZSx0KTt6PXQuaW5kZXgrbn1yZXR1cm4gTyhzLnN1YnN0cih6KSksUi5jbG9zZUFsbE5vZGVzKCksUi5maW5hbGl6ZSgpLFQ9Ui50b0hUTUwoKSx7cmVsZXZhbmNlOlAsdmFsdWU6VCxsYW5ndWFnZTp0LGlsbGVnYWw6ITEsZW1pdHRlcjpSLHRvcDpBfX1jYXRjaChWKXtpZihWLm1lc3NhZ2UmJlYubWVzc2FnZS5pbmNsdWRlcygiSWxsZWdhbCIpKXJldHVybntpbGxlZ2FsOiEwLGlsbGVnYWxCeTp7bXNnOlYubWVzc2FnZSxjb250ZXh0OnMuc2xpY2Uoei0xMDAseisxMDApLG1vZGU6Vi5tb2RlfSxzb2ZhcjpULHJlbGV2YW5jZTowLHZhbHVlOnJ0KHMpLGVtaXR0ZXI6Un07aWYoYSlyZXR1cm57aWxsZWdhbDohMSxyZWxldmFuY2U6MCx2YWx1ZTpydChzKSxlbWl0dGVyOlIsbGFuZ3VhZ2U6dCx0b3A6QSxlcnJvclJhaXNlZDpWfTt0aHJvdyBWfX1mdW5jdGlvbiB5KHQpe2NvbnN0IGU9e3JlbGV2YW5jZTowLGVtaXR0ZXI6bmV3IGQuX19lbWl0dGVyKGQpLHZhbHVlOnJ0KHQpLGlsbGVnYWw6ITEsdG9wOnV9O3JldHVybiBlLmVtaXR0ZXIuYWRkVGV4dCh0KSxlfWZ1bmN0aW9uIHcodCxlKXtlPWV8fGQubGFuZ3VhZ2VzfHxPYmplY3Qua2V5cyhvKTt2YXIgbj15KHQpLHI9bjtyZXR1cm4gZS5maWx0ZXIoRCkuZmlsdGVyKFIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBvPWcoZSx0LCExKTtvLmxhbmd1YWdlPWUsby5yZWxldmFuY2U+ci5yZWxldmFuY2UmJihyPW8pLG8ucmVsZXZhbmNlPm4ucmVsZXZhbmNlJiYocj1uLG49byl9KSksci5sYW5ndWFnZSYmKG4uc2Vjb25kX2Jlc3Q9ciksbn1mdW5jdGlvbiBTKHQpe3JldHVybiBkLnRhYlJlcGxhY2V8fGQudXNlQlI/dC5yZXBsYWNlKGMsdD0+IlxuIj09PXQ/ZC51c2VCUj8iPGJyPiI6dDpkLnRhYlJlcGxhY2U/dC5yZXBsYWNlKC9cdC9nLGQudGFiUmVwbGFjZSk6dCk6dH1mdW5jdGlvbiB4KHQsZSxuKXt2YXIgcj1lP2lbZV06bixvPVt0LnRyaW0oKV07cmV0dXJuIHQubWF0Y2goL1xiaGxqc1xiLyl8fG8ucHVzaCgiaGxqcyIpLHQuaW5jbHVkZXMocil8fG8ucHVzaChyKSxvLmpvaW4oIiAiKS50cmltKCl9ZnVuY3Rpb24gayh0KXtsZXQgZT1udWxsO2NvbnN0IG49Zih0KTtpZihwKG4pKXJldHVybjtQKCJiZWZvcmU6aGlnaGxpZ2h0QmxvY2siLHtibG9jazp0LGxhbmd1YWdlOm59KSxkLnVzZUJSPyhlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGUuaW5uZXJIVE1MPXQuaW5uZXJIVE1MLnJlcGxhY2UoL1xuL2csIiIpLnJlcGxhY2UoLzxiclsgL10qPi9nLCJcbiIpKTplPXQ7Y29uc3Qgcj1lLnRleHRDb250ZW50LG89bj92KG4sciwhMCk6dyhyKSxpPWl0KGUpO2lmKGkubGVuZ3RoKXtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3QuaW5uZXJIVE1MPW8udmFsdWUsby52YWx1ZT1zdChpLGl0KHQpLHIpfW8udmFsdWU9UyhvLnZhbHVlKSxQKCJhZnRlcjpoaWdobGlnaHRCbG9jayIse2Jsb2NrOnQscmVzdWx0Om99KSx0LmlubmVySFRNTD1vLnZhbHVlLHQuY2xhc3NOYW1lPXgodC5jbGFzc05hbWUsbixvLmxhbmd1YWdlKSx0LnJlc3VsdD17bGFuZ3VhZ2U6by5sYW5ndWFnZSxyZTpvLnJlbGV2YW5jZSxyZWxhdmFuY2U6by5yZWxldmFuY2V9LG8uc2Vjb25kX2Jlc3QmJih0LnNlY29uZF9iZXN0PXtsYW5ndWFnZTpvLnNlY29uZF9iZXN0Lmxhbmd1YWdlLHJlOm8uc2Vjb25kX2Jlc3QucmVsZXZhbmNlLHJlbGF2YW5jZTpvLnNlY29uZF9iZXN0LnJlbGV2YW5jZX0pfWZ1bmN0aW9uIEModCl7dC51c2VCUiYmKGNvbnNvbGUud2FybigiJ3VzZUJSJyBvcHRpb24gaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGVudGlyZWx5IGluIHYxMS4wIiksY29uc29sZS53YXJuKCJQbGVhc2Ugc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9oaWdobGlnaHRqcy9oaWdobGlnaHQuanMvaXNzdWVzLzI1NTkiKSksZD1vdChkLHQpfWNvbnN0IE89KCk9PntpZighTy5jYWxsZWQpe08uY2FsbGVkPSEwO3ZhciB0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInByZSBjb2RlIik7ZS5mb3JFYWNoLmNhbGwodCxrKX19O2Z1bmN0aW9uIE0oKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsTywhMSl9ZnVuY3Rpb24gTihlLG4pe3ZhciByPW51bGw7dHJ5e3I9bih0KX1jYXRjaChpKXtpZihjb25zb2xlLmVycm9yKCJMYW5ndWFnZSBkZWZpbml0aW9uIGZvciAne30nIGNvdWxkIG5vdCBiZSByZWdpc3RlcmVkLiIucmVwbGFjZSgie30iLGUpKSwhYSl0aHJvdyBpO2NvbnNvbGUuZXJyb3IoaSkscj11fXIubmFtZXx8KHIubmFtZT1lKSxvW2VdPXIsci5yYXdEZWZpbml0aW9uPW4uYmluZChudWxsLHQpLHIuYWxpYXNlcyYmRShyLmFsaWFzZXMse2xhbmd1YWdlTmFtZTplfSl9ZnVuY3Rpb24gVCgpe3JldHVybiBPYmplY3Qua2V5cyhvKX1mdW5jdGlvbiBBKHQpe3ZhciBlPUQodCk7aWYoZSlyZXR1cm4gZTt2YXIgbj1uZXcgRXJyb3IoIlRoZSAne30nIGxhbmd1YWdlIGlzIHJlcXVpcmVkLCBidXQgbm90IGxvYWRlZC4iLnJlcGxhY2UoInt9Iix0KSk7dGhyb3cgbn1mdW5jdGlvbiBEKHQpe3JldHVybiB0PSh0fHwiIikudG9Mb3dlckNhc2UoKSxvW3RdfHxvW2lbdF1dfWZ1bmN0aW9uIEUodCx7bGFuZ3VhZ2VOYW1lOmV9KXsic3RyaW5nIj09PXR5cGVvZiB0JiYodD1bdF0pLHQuZm9yRWFjaCh0PT57aVt0XT1lfSl9ZnVuY3Rpb24gUih0KXt2YXIgZT1EKHQpO3JldHVybiBlJiYhZS5kaXNhYmxlQXV0b2RldGVjdH1mdW5jdGlvbiBfKHQpe3MucHVzaCh0KX1mdW5jdGlvbiBQKHQsZSl7dmFyIG49dDtzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3Rbbl0mJnRbbl0oZSl9KSl9ZnVuY3Rpb24geih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJmaXhNYXJrdXAgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGVudGlyZWx5IGluIHYxMS4wIiksY29uc29sZS53YXJuKCJQbGVhc2Ugc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9oaWdobGlnaHRqcy9oaWdobGlnaHQuanMvaXNzdWVzLzI1MzQiKSxTKHQpfU9iamVjdC5hc3NpZ24odCx7aGlnaGxpZ2h0OnYsaGlnaGxpZ2h0QXV0bzp3LGZpeE1hcmt1cDp6LGhpZ2hsaWdodEJsb2NrOmssY29uZmlndXJlOkMsaW5pdEhpZ2hsaWdodGluZzpPLGluaXRIaWdobGlnaHRpbmdPbkxvYWQ6TSxyZWdpc3Rlckxhbmd1YWdlOk4sbGlzdExhbmd1YWdlczpULGdldExhbmd1YWdlOkQscmVnaXN0ZXJBbGlhc2VzOkUscmVxdWlyZUxhbmd1YWdlOkEsYXV0b0RldGVjdGlvbjpSLGluaGVyaXQ6b3QsYWRkUGx1Z2luOl8sdnVlUGx1Z2luOm50fSksdC5kZWJ1Z01vZGU9ZnVuY3Rpb24oKXthPSExfSx0LnNhZmVNb2RlPWZ1bmN0aW9uKCl7YT0hMH0sdC52ZXJzaW9uU3RyaW5nPVE7Zm9yKGNvbnN0IHIgaW4gVykib2JqZWN0Ij09PXR5cGVvZiBXW3JdJiZuKFdbcl0pO3JldHVybiBPYmplY3QuYXNzaWduKHQsVyksdH07dmFyIGx0PWN0KHt9KTt0LmV4cG9ydHM9bHR9LGU0OGM6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5kfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMjIuNjA4LjE2MWEuNS41IDAgMDAtLjU0NS4xMDhMMTkuNDcyIDIuODZhLjI1LjI1IDAgMDEtLjI5Mi4wNDUgMTIuNTM3IDEyLjUzNyAwIDAwLTEyLjk2Ni44NjVBMTIuMjU5IDEyLjI1OSAwIDAwNi4xIDIzLjYzMmExLjI1IDEuMjUgMCAwMDEuNDc2LTIuMDE4IDkuNzU5IDkuNzU5IDAgMDEuMDkxLTE1LjgwOSAxMCAxMCAwIDAxOS40NjYtMS4xLjI1LjI1IDAgMDEuMDg0LjQwOWwtMS44NSAxLjg1YS41LjUgMCAwMC4zNTQuODUzaDYuN2EuNS41IDAgMDAuNS0uNVYuNjIzYS41LjUgMCAwMC0uMzEzLS40NjJ6In19KV0pKX19fSxlNTM4OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJiNjIyIik7ZS5mPXJ9LGU3NmM6ZnVuY3Rpb24odCxlLG4pe30sZTg5MzpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiNTEzNSIpLG89bigiNTZlZiIpLGk9bigiMDZjZiIpLHM9bigiOWJmMiIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1vKGUpLGE9cy5mLGM9aS5mLGw9MDtsPG4ubGVuZ3RoO2wrKyl7dmFyIHU9bltsXTtyKHQsdSl8fGEodCx1LGMoZSx1KSl9fX0sZThiNTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiYzZiNiIpO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm4iQXJyYXkiPT1yKHQpfX0sZTk1YTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiYjYyMiIpLG89bigiM2Y4YyIpLGk9cigiaXRlcmF0b3IiKSxzPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXQmJihvLkFycmF5PT09dHx8c1tpXT09PXQpfX0sZWQ1MzpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOnMsc3RhdGljQ2xhc3M6YSxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5kfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbcyxhXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmR9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xOSAxNGE1IDUgMCAxMTAgMTAgNSA1IDAgMDEwLTEwem0yLjUgNS45MzhhLjkzNy45MzcgMCAxMDAtMS44NzVoLTEuMjVhLjMxMi4zMTIgMCAwMS0uMzEzLS4zMTNWMTYuNWEuOTM3LjkzNyAwIDEwLTEuODc1IDB2MS4yNWMwIC4xNzMtLjE0LjMxMy0uMzEyLjMxM0gxNi41YS45MzcuOTM3IDAgMTAwIDEuODc1aDEuMjVjLjE3MyAwIC4zMTMuMTQuMzEzLjMxMnYxLjI1YS45MzcuOTM3IDAgMTAxLjg3NSAwdi0xLjI1YzAtLjE3My4xNC0uMzEzLjMxMi0uMzEzaDEuMjV6TTIgMTlhMyAzIDAgMDA2IDBWNWEzIDMgMCAxMC02IDB2MTR6bS0yIDBWNWE1IDUgMCAxMTEwIDB2MTRhNSA1IDAgMDEtMTAgMHoifX0pXSkpfX19LGY1ZGY6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjAwZWUiKSxvPW4oImM2YjYiKSxpPW4oImI2MjIiKSxzPWkoInRvU3RyaW5nVGFnIiksYT0iQXJndW1lbnRzIj09byhmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLGM9ZnVuY3Rpb24odCxlKXt0cnl7cmV0dXJuIHRbZV19Y2F0Y2gobil7fX07dC5leHBvcnRzPXI/bzpmdW5jdGlvbih0KXt2YXIgZSxuLHI7cmV0dXJuIHZvaWQgMD09PXQ/IlVuZGVmaW5lZCI6bnVsbD09PXQ/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yobj1jKGU9T2JqZWN0KHQpLHMpKT9uOmE/byhlKToiT2JqZWN0Ij09KHI9byhlKSkmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNhbGxlZT8iQXJndW1lbnRzIjpyfX0sZjc3MjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiNTY5MiIpLG89bigiOTBlMyIpLGk9cigia2V5cyIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaVt0XXx8KGlbdF09byh0KSl9fSxmOTM5OmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6cyxzdGF0aWNDbGFzczphLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmR9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOltzLGFdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZH0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTE5IDE0YTUgNSAwIDExMCAxMCA1IDUgMCAwMTAtMTB6bTIuNSA1LjkzOGEuOTM3LjkzNyAwIDEwMC0xLjg3NWgtMS4yNWEuMzEyLjMxMiAwIDAxLS4zMTMtLjMxM1YxNi41YS45MzcuOTM3IDAgMTAtMS44NzUgMHYxLjI1YzAgLjE3My0uMTQuMzEzLS4zMTIuMzEzSDE2LjVhLjkzNy45MzcgMCAxMDAgMS44NzVoMS4yNWMuMTczIDAgLjMxMy4xNC4zMTMuMzEydjEuMjVhLjkzNy45MzcgMCAxMDEuODc1IDB2LTEuMjVjMC0uMTczLjE0LS4zMTMuMzEyLS4zMTNoMS4yNXpNNSAyYTMgMyAwIDEwMCA2aDE0YTMgMyAwIDAwMC02SDV6bTAtMmgxNGE1IDUgMCAwMTAgMTBINUE1IDUgMCAxMTUgMHoifX0pXSkpfX19LGZhMGI6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczpzLHN0YXRpY0NsYXNzOmEsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZH09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W3MsYV0sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5kfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMjIuNSAyMS4yNDhoLTIxYTEuMjUgMS4yNSAwIDAwMCAyLjVoMjFhMS4yNSAxLjI1IDAgMDAwLTIuNXpNMS45NzggMi43NDhoMS4zNjNhLjI1LjI1IDAgMDEuMjUuMjV2OC41MjNhOC40MDkgOC40MDkgMCAwMDE2LjgxOCAwVjNhLjI1LjI1IDAgMDEuMjUtLjI1aDEuMzYzYTEuMjUgMS4yNSAwIDAwMC0yLjVIMTYuM2ExLjI1IDEuMjUgMCAwMDAgMi41aDEuMzYzYS4yNS4yNSAwIDAxLjI1LjI1djguNTIzYTUuOTA5IDUuOTA5IDAgMDEtMTEuODE4IDBWM2EuMjUuMjUgMCAwMS4yNS0uMjVINy43YTEuMjUgMS4yNSAwIDEwMC0yLjVIMS45NzhhMS4yNSAxLjI1IDAgMDAwIDIuNXoifX0pXSkpfX19LGZhZTM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtpZihuLnIoZSksInVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93KXt2YXIgcj13aW5kb3cuZG9jdW1lbnQuY3VycmVudFNjcmlwdCxvPW4oIjg4NzUiKTtyPW8oKSwiY3VycmVudFNjcmlwdCJpbiBkb2N1bWVudHx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCJjdXJyZW50U2NyaXB0Iix7Z2V0Om99KTt2YXIgaT1yJiZyLnNyYy5tYXRjaCgvKC4rXC8pW14vXStcLmpzKFw/LiopPyQvKTtpJiYobi5wPWlbMV0pfXZhciBzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuJGNyZWF0ZUVsZW1lbnQsbj10Ll9zZWxmLl9jfHxlO3JldHVybiBuKCJkaXYiLHtzdGF0aWNDbGFzczoidGlwdGFwLWVkaXRvciJ9LFtuKCJlZGl0b3ItbWVudS1iYXIiLHthdHRyczp7ZWRpdG9yOnQuZWRpdG9yfSxzY29wZWRTbG90czp0Ll91KFt7a2V5OiJkZWZhdWx0IixmbjpmdW5jdGlvbihlKXt2YXIgcj1lLmNvbW1hbmRzLG89ZS5pc0FjdGl2ZTtyZXR1cm5bbigiZGl2Iix7c3RhdGljQ2xhc3M6Im1lbnViYXIifSxbbigiZGl2Iix7c3RhdGljQ2xhc3M6InRvb2xiYXIifSxbbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8uaGVhZGluZyh7bGV2ZWw6MX0pfSxvbjp7Y2xpY2s6ZnVuY3Rpb24odCl7cmV0dXJuIHIuaGVhZGluZyh7bGV2ZWw6MX0pfX19LFt0Ll92KCIgSDEgIildKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5oZWFkaW5nKHtsZXZlbDoyfSl9LG9uOntjbGljazpmdW5jdGlvbih0KXtyZXR1cm4gci5oZWFkaW5nKHtsZXZlbDoyfSl9fX0sW3QuX3YoIiBIMiAiKV0pLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLmhlYWRpbmcoe2xldmVsOjN9KX0sb246e2NsaWNrOmZ1bmN0aW9uKHQpe3JldHVybiByLmhlYWRpbmcoe2xldmVsOjN9KX19fSxbdC5fdigiIEgzICIpXSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8uYnVsbGV0X2xpc3QoKX0sb246e2NsaWNrOnIuYnVsbGV0X2xpc3R9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJ1bCJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLm9yZGVyZWRfbGlzdCgpfSxvbjp7Y2xpY2s6ci5vcmRlcmVkX2xpc3R9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJvbCJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLmJvbGQoKX0sb246e2NsaWNrOnIuYm9sZH19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImJvbGQifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5pdGFsaWMoKX0sb246e2NsaWNrOnIuaXRhbGljfX0sW24oImljb24iLHthdHRyczp7bmFtZToiaXRhbGljIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8uc3RyaWtlKCl9LG9uOntjbGljazpyLnN0cmlrZX19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6InN0cmlrZSJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLnVuZGVybGluZSgpfSxvbjp7Y2xpY2s6ci51bmRlcmxpbmV9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJ1bmRlcmxpbmUifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5jb2RlKCl9LG9uOntjbGljazpyLmNvZGV9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJjb2RlIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8ucGFyYWdyYXBoKCl9LG9uOntjbGljazpyLnBhcmFncmFwaH19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6InBhcmFncmFwaCJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLmJsb2NrcXVvdGUoKX0sb246e2NsaWNrOnIuYmxvY2txdW90ZX19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6InF1b3RlIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8uY29kZV9ibG9jaygpfSxvbjp7Y2xpY2s6ci5jb2RlX2Jsb2NrfX0sW24oImljb24iLHthdHRyczp7bmFtZToiY29kZV9ibG9jayJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLG9uOntjbGljazpmdW5jdGlvbih0KXtyZXR1cm4gci5jcmVhdGVUYWJsZSh7cm93c0NvdW50OjMsY29sc0NvdW50OjMsd2l0aEhlYWRlclJvdzohMX0pfX19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6InRhYmxlIn19KV0sMSksby50YWJsZSgpP24oInNwYW4iLFtuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixvbjp7Y2xpY2s6ci5kZWxldGVUYWJsZX19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImRlbGV0ZV90YWJsZSJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLG9uOntjbGljazpyLmFkZENvbHVtbkJlZm9yZX19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImFkZF9jb2xfYmVmb3JlIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsb246e2NsaWNrOnIuYWRkQ29sdW1uQWZ0ZXJ9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJhZGRfY29sX2FmdGVyIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsb246e2NsaWNrOnIuZGVsZXRlQ29sdW1ufX0sW24oImljb24iLHthdHRyczp7bmFtZToiZGVsZXRlX2NvbCJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLG9uOntjbGljazpyLmFkZFJvd0JlZm9yZX19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImFkZF9yb3dfYmVmb3JlIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsb246e2NsaWNrOnIuYWRkUm93QWZ0ZXJ9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJhZGRfcm93X2FmdGVyIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsb246e2NsaWNrOnIuZGVsZXRlUm93fX0sW24oImljb24iLHthdHRyczp7bmFtZToiZGVsZXRlX3JvdyJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLG9uOntjbGljazpyLnRvZ2dsZUNlbGxNZXJnZX19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImNvbWJpbmVfY2VsbHMifX0pXSwxKV0pOnQuX2UoKV0pXSldfX1dKX0pLG4oImVkaXRvci1jb250ZW50Iix7c3RhdGljQ2xhc3M6InRpcHRhcC1lZGl0b3JfX2NvbnRlbnQiLGF0dHJzOntlZGl0b3I6dC5lZGl0b3J9fSldLDEpfSxhPVtdLGM9KG4oImRjNDQiKSxuKCI1MzEzIikpLGw9bigiMzA0YSIpLHU9bigiMGFjMCIpLGQ9e307aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQpe3ZhciBwPS9FZGdlXC8oXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KSxmPS9NU0lFIFxkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGg9L1RyaWRlbnRcLyg/Ols3LTldfFxkezIsfSlcLi4qcnY6KFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7ZC5tYWM9L01hYy8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO3ZhciBtPWQuaWU9ISEoZnx8aHx8cCk7ZC5pZV92ZXJzaW9uPWY/ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw2Omg/K2hbMV06cD8rcFsxXTpudWxsLGQuZ2Vja289IW0mJi9nZWNrb1wvKFxkKykvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGQuZ2Vja29fdmVyc2lvbj1kLmdlY2tvJiYrKC9GaXJlZm94XC8oXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KXx8WzAsMF0pWzFdO3ZhciB2PSFtJiYvQ2hyb21lXC8oXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KTtkLmNocm9tZT0hIXYsZC5jaHJvbWVfdmVyc2lvbj12JiYrdlsxXSxkLmlvcz0hbSYmL0FwcGxlV2ViS2l0Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpJiYvTW9iaWxlXC9cdysvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksZC5hbmRyb2lkPS9BbmRyb2lkIFxkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGQud2Via2l0PSJ3ZWJraXRGb250U21vb3RoaW5nImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSxkLnNhZmFyaT0vQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2aWdhdG9yLnZlbmRvciksZC53ZWJraXRfdmVyc2lvbj1kLndlYmtpdCYmKygvXGJBcHBsZVdlYktpdFwvKFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCl8fFswLDBdKVsxXX12YXIgZz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDs7ZSsrKWlmKHQ9dC5wcmV2aW91c1NpYmxpbmcsIXQpcmV0dXJuIGV9LHk9ZnVuY3Rpb24odCl7dmFyIGU9dC5wYXJlbnROb2RlO3JldHVybiBlJiYxMT09ZS5ub2RlVHlwZT9lLmhvc3Q6ZX0sYj1mdW5jdGlvbih0LGUsbil7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtyZXR1cm4gci5zZXRFbmQodCxudWxsPT1uP3Qubm9kZVZhbHVlLmxlbmd0aDpuKSxyLnNldFN0YXJ0KHQsZXx8MCkscn0sdz1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gbiYmKHgodCxlLG4sciwtMSl8fHgodCxlLG4sciwxKSl9LFM9L14oaW1nfGJyfGlucHV0fHRleHRhcmVhfGhyKSQvaTtmdW5jdGlvbiB4KHQsZSxuLHIsbyl7Zm9yKDs7KXtpZih0PT1uJiZlPT1yKXJldHVybiEwO2lmKGU9PShvPDA/MDprKHQpKSl7dmFyIGk9dC5wYXJlbnROb2RlO2lmKDEhPWkubm9kZVR5cGV8fE8odCl8fFMudGVzdCh0Lm5vZGVOYW1lKXx8ImZhbHNlIj09dC5jb250ZW50RWRpdGFibGUpcmV0dXJuITE7ZT1nKHQpKyhvPDA/MDoxKSx0PWl9ZWxzZXtpZigxIT10Lm5vZGVUeXBlKXJldHVybiExO2lmKHQ9dC5jaGlsZE5vZGVzW2UrKG88MD8tMTowKV0sImZhbHNlIj09dC5jb250ZW50RWRpdGFibGUpcmV0dXJuITE7ZT1vPDA/ayh0KTowfX19ZnVuY3Rpb24gayh0KXtyZXR1cm4gMz09dC5ub2RlVHlwZT90Lm5vZGVWYWx1ZS5sZW5ndGg6dC5jaGlsZE5vZGVzLmxlbmd0aH1mdW5jdGlvbiBDKHQsZSxuKXtmb3IodmFyIHI9MD09ZSxvPWU9PWsodCk7cnx8bzspe2lmKHQ9PW4pcmV0dXJuITA7dmFyIGk9Zyh0KTtpZih0PXQucGFyZW50Tm9kZSwhdClyZXR1cm4hMTtyPXImJjA9PWksbz1vJiZpPT1rKHQpfX1mdW5jdGlvbiBPKHQpe2Zvcih2YXIgZSxuPXQ7bjtuPW4ucGFyZW50Tm9kZSlpZihlPW4ucG1WaWV3RGVzYylicmVhaztyZXR1cm4gZSYmZS5ub2RlJiZlLm5vZGUuaXNCbG9jayYmKGUuZG9tPT10fHxlLmNvbnRlbnRET009PXQpfXZhciBNPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaXNDb2xsYXBzZWQ7cmV0dXJuIGUmJmQuY2hyb21lJiZ0LnJhbmdlQ291bnQmJiF0LmdldFJhbmdlQXQoMCkuY29sbGFwc2VkJiYoZT0hMSksZX07ZnVuY3Rpb24gTih0LGUpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJFdmVudCIpO3JldHVybiBuLmluaXRFdmVudCgia2V5ZG93biIsITAsITApLG4ua2V5Q29kZT10LG4ua2V5PW4uY29kZT1lLG59ZnVuY3Rpb24gVCh0KXtyZXR1cm57bGVmdDowLHJpZ2h0OnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLHRvcDowLGJvdHRvbTp0LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHR9fWZ1bmN0aW9uIEEodCxlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIHQ/dDp0W2VdfWZ1bmN0aW9uIEQodCl7dmFyIGU9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm57bGVmdDplLmxlZnQscmlnaHQ6ZS5sZWZ0K3QuY2xpZW50V2lkdGgsdG9wOmUudG9wLGJvdHRvbTplLnRvcCt0LmNsaWVudEhlaWdodH19ZnVuY3Rpb24gRSh0LGUsbil7Zm9yKHZhciByPXQuc29tZVByb3AoInNjcm9sbFRocmVzaG9sZCIpfHwwLG89dC5zb21lUHJvcCgic2Nyb2xsTWFyZ2luIil8fDUsaT10LmRvbS5vd25lckRvY3VtZW50LHM9bnx8dC5kb207O3M9eShzKSl7aWYoIXMpYnJlYWs7aWYoMT09cy5ub2RlVHlwZSl7dmFyIGE9cz09aS5ib2R5fHwxIT1zLm5vZGVUeXBlLGM9YT9UKGkpOkQocyksbD0wLHU9MDtpZihlLnRvcDxjLnRvcCtBKHIsInRvcCIpP3U9LShjLnRvcC1lLnRvcCtBKG8sInRvcCIpKTplLmJvdHRvbT5jLmJvdHRvbS1BKHIsImJvdHRvbSIpJiYodT1lLmJvdHRvbS1jLmJvdHRvbStBKG8sImJvdHRvbSIpKSxlLmxlZnQ8Yy5sZWZ0K0EociwibGVmdCIpP2w9LShjLmxlZnQtZS5sZWZ0K0EobywibGVmdCIpKTplLnJpZ2h0PmMucmlnaHQtQShyLCJyaWdodCIpJiYobD1lLnJpZ2h0LWMucmlnaHQrQShvLCJyaWdodCIpKSxsfHx1KWlmKGEpaS5kZWZhdWx0Vmlldy5zY3JvbGxCeShsLHUpO2Vsc2V7dmFyIGQ9cy5zY3JvbGxMZWZ0LHA9cy5zY3JvbGxUb3A7dSYmKHMuc2Nyb2xsVG9wKz11KSxsJiYocy5zY3JvbGxMZWZ0Kz1sKTt2YXIgZj1zLnNjcm9sbExlZnQtZCxoPXMuc2Nyb2xsVG9wLXA7ZT17bGVmdDplLmxlZnQtZix0b3A6ZS50b3AtaCxyaWdodDplLnJpZ2h0LWYsYm90dG9tOmUuYm90dG9tLWh9fWlmKGEpYnJlYWt9fX1mdW5jdGlvbiBSKHQpe2Zvcih2YXIgZSxuLHI9dC5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1NYXRoLm1heCgwLHIudG9wKSxpPShyLmxlZnQrci5yaWdodCkvMixzPW8rMTtzPE1hdGgubWluKGlubmVySGVpZ2h0LHIuYm90dG9tKTtzKz01KXt2YXIgYT10LnJvb3QuZWxlbWVudEZyb21Qb2ludChpLHMpO2lmKGEhPXQuZG9tJiZ0LmRvbS5jb250YWlucyhhKSl7dmFyIGM9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZihjLnRvcD49by0yMCl7ZT1hLG49Yy50b3A7YnJlYWt9fX1yZXR1cm57cmVmRE9NOmUscmVmVG9wOm4sc3RhY2s6Xyh0LmRvbSl9fWZ1bmN0aW9uIF8odCl7Zm9yKHZhciBlPVtdLG49dC5vd25lckRvY3VtZW50O3Q7dD15KHQpKWlmKGUucHVzaCh7ZG9tOnQsdG9wOnQuc2Nyb2xsVG9wLGxlZnQ6dC5zY3JvbGxMZWZ0fSksdD09bilicmVhaztyZXR1cm4gZX1mdW5jdGlvbiBQKHQpe3ZhciBlPXQucmVmRE9NLG49dC5yZWZUb3Ascj10LnN0YWNrLG89ZT9lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDowO3oociwwPT1vPzA6by1uKX1mdW5jdGlvbiB6KHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl0sbz1yLmRvbSxpPXIudG9wLHM9ci5sZWZ0O28uc2Nyb2xsVG9wIT1pK2UmJihvLnNjcm9sbFRvcD1pK2UpLG8uc2Nyb2xsTGVmdCE9cyYmKG8uc2Nyb2xsTGVmdD1zKX19dmFyIEk9bnVsbDtmdW5jdGlvbiAkKHQpe2lmKHQuc2V0QWN0aXZlKXJldHVybiB0LnNldEFjdGl2ZSgpO2lmKEkpcmV0dXJuIHQuZm9jdXMoSSk7dmFyIGU9Xyh0KTt0LmZvY3VzKG51bGw9PUk/e2dldCBwcmV2ZW50U2Nyb2xsKCl7cmV0dXJuIEk9e3ByZXZlbnRTY3JvbGw6ITB9LCEwfX06dm9pZCAwKSxJfHwoST0hMSx6KGUsMCkpfWZ1bmN0aW9uIFYodCxlKXtmb3IodmFyIG4scixvPTJlOCxpPTAscz1lLnRvcCxhPWUudG9wLGM9dC5maXJzdENoaWxkLGw9MDtjO2M9Yy5uZXh0U2libGluZyxsKyspe3ZhciB1PXZvaWQgMDtpZigxPT1jLm5vZGVUeXBlKXU9Yy5nZXRDbGllbnRSZWN0cygpO2Vsc2V7aWYoMyE9Yy5ub2RlVHlwZSljb250aW51ZTt1PWIoYykuZ2V0Q2xpZW50UmVjdHMoKX1mb3IodmFyIGQ9MDtkPHUubGVuZ3RoO2QrKyl7dmFyIHA9dVtkXTtpZihwLnRvcDw9cyYmcC5ib3R0b20+PWEpe3M9TWF0aC5tYXgocC5ib3R0b20scyksYT1NYXRoLm1pbihwLnRvcCxhKTt2YXIgZj1wLmxlZnQ+ZS5sZWZ0P3AubGVmdC1lLmxlZnQ6cC5yaWdodDxlLmxlZnQ/ZS5sZWZ0LXAucmlnaHQ6MDtpZihmPG8pe249YyxvPWYscj1mJiYzPT1uLm5vZGVUeXBlP3tsZWZ0OnAucmlnaHQ8ZS5sZWZ0P3AucmlnaHQ6cC5sZWZ0LHRvcDplLnRvcH06ZSwxPT1jLm5vZGVUeXBlJiZmJiYoaT1sKyhlLmxlZnQ+PShwLmxlZnQrcC5yaWdodCkvMj8xOjApKTtjb250aW51ZX19IW4mJihlLmxlZnQ+PXAucmlnaHQmJmUudG9wPj1wLnRvcHx8ZS5sZWZ0Pj1wLmxlZnQmJmUudG9wPj1wLmJvdHRvbSkmJihpPWwrMSl9fXJldHVybiBuJiYzPT1uLm5vZGVUeXBlP0IobixyKTohbnx8byYmMT09bi5ub2RlVHlwZT97bm9kZTp0LG9mZnNldDppfTpWKG4scil9ZnVuY3Rpb24gQih0LGUpe2Zvcih2YXIgbj10Lm5vZGVWYWx1ZS5sZW5ndGgscj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpLG89MDtvPG47bysrKXtyLnNldEVuZCh0LG8rMSksci5zZXRTdGFydCh0LG8pO3ZhciBpPUsociwxKTtpZihpLnRvcCE9aS5ib3R0b20mJkYoZSxpKSlyZXR1cm57bm9kZTp0LG9mZnNldDpvKyhlLmxlZnQ+PShpLmxlZnQraS5yaWdodCkvMj8xOjApfX1yZXR1cm57bm9kZTp0LG9mZnNldDowfX1mdW5jdGlvbiBGKHQsZSl7cmV0dXJuIHQubGVmdD49ZS5sZWZ0LTEmJnQubGVmdDw9ZS5yaWdodCsxJiZ0LnRvcD49ZS50b3AtMSYmdC50b3A8PWUuYm90dG9tKzF9ZnVuY3Rpb24gaih0LGUpe3ZhciBuPXQucGFyZW50Tm9kZTtyZXR1cm4gbiYmL15saSQvaS50ZXN0KG4ubm9kZU5hbWUpJiZlLmxlZnQ8dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0P246dH1mdW5jdGlvbiBMKHQsZSxuKXt2YXIgcj1WKGUsbiksbz1yLm5vZGUsaT1yLm9mZnNldCxzPS0xO2lmKDE9PW8ubm9kZVR5cGUmJiFvLmZpcnN0Q2hpbGQpe3ZhciBhPW8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cz1hLmxlZnQhPWEucmlnaHQmJm4ubGVmdD4oYS5sZWZ0K2EucmlnaHQpLzI/MTotMX1yZXR1cm4gdC5kb2NWaWV3LnBvc0Zyb21ET00obyxpLHMpfWZ1bmN0aW9uIEgodCxlLG4scil7Zm9yKHZhciBvPS0xLGk9ZTs7KXtpZihpPT10LmRvbSlicmVhazt2YXIgcz10LmRvY1ZpZXcubmVhcmVzdERlc2MoaSwhMCk7aWYoIXMpcmV0dXJuIG51bGw7aWYocy5ub2RlLmlzQmxvY2smJnMucGFyZW50KXt2YXIgYT1zLmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZihhLmxlZnQ+ci5sZWZ0fHxhLnRvcD5yLnRvcClvPXMucG9zQmVmb3JlO2Vsc2V7aWYoIShhLnJpZ2h0PHIubGVmdHx8YS5ib3R0b208ci50b3ApKWJyZWFrO289cy5wb3NBZnRlcn19aT1zLmRvbS5wYXJlbnROb2RlfXJldHVybiBvPi0xP286dC5kb2NWaWV3LnBvc0Zyb21ET00oZSxuKX1mdW5jdGlvbiBxKHQsZSxuKXt2YXIgcj10LmNoaWxkTm9kZXMubGVuZ3RoO2lmKHImJm4udG9wPG4uYm90dG9tKWZvcih2YXIgbz1NYXRoLm1heCgwLE1hdGgubWluKHItMSxNYXRoLmZsb29yKHIqKGUudG9wLW4udG9wKS8obi5ib3R0b20tbi50b3ApKS0yKSksaT1vOzspe3ZhciBzPXQuY2hpbGROb2Rlc1tpXTtpZigxPT1zLm5vZGVUeXBlKWZvcih2YXIgYT1zLmdldENsaWVudFJlY3RzKCksYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgbD1hW2NdO2lmKEYoZSxsKSlyZXR1cm4gcShzLGUsbCl9aWYoKGk9KGkrMSklcik9PW8pYnJlYWt9cmV0dXJuIHR9ZnVuY3Rpb24gVyh0LGUpe3ZhciBuLHIsbyxpLHM9dC5yb290O2lmKHMuY2FyZXRQb3NpdGlvbkZyb21Qb2ludCl0cnl7dmFyIGE9cy5jYXJldFBvc2l0aW9uRnJvbVBvaW50KGUubGVmdCxlLnRvcCk7YSYmKG49YSxvPW4ub2Zmc2V0Tm9kZSxpPW4ub2Zmc2V0KX1jYXRjaCh2KXt9aWYoIW8mJnMuY2FyZXRSYW5nZUZyb21Qb2ludCl7dmFyIGM9cy5jYXJldFJhbmdlRnJvbVBvaW50KGUubGVmdCxlLnRvcCk7YyYmKHI9YyxvPXIuc3RhcnRDb250YWluZXIsaT1yLnN0YXJ0T2Zmc2V0KX12YXIgbCx1PXMuZWxlbWVudEZyb21Qb2ludChlLmxlZnQsZS50b3ArMSk7aWYoIXV8fCF0LmRvbS5jb250YWlucygxIT11Lm5vZGVUeXBlP3UucGFyZW50Tm9kZTp1KSl7dmFyIHA9dC5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYoIUYoZSxwKSlyZXR1cm4gbnVsbDtpZih1PXEodC5kb20sZSxwKSwhdSlyZXR1cm4gbnVsbH1pZihkLnNhZmFyaSYmdS5kcmFnZ2FibGUmJihvPWk9bnVsbCksdT1qKHUsZSksbyl7aWYoZC5nZWNrbyYmMT09by5ub2RlVHlwZSYmKGk9TWF0aC5taW4oaSxvLmNoaWxkTm9kZXMubGVuZ3RoKSxpPG8uY2hpbGROb2Rlcy5sZW5ndGgpKXt2YXIgZixoPW8uY2hpbGROb2Rlc1tpXTsiSU1HIj09aC5ub2RlTmFtZSYmKGY9aC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSkucmlnaHQ8PWUubGVmdCYmZi5ib3R0b20+ZS50b3AmJmkrK31vPT10LmRvbSYmaT09by5jaGlsZE5vZGVzLmxlbmd0aC0xJiYxPT1vLmxhc3RDaGlsZC5ub2RlVHlwZSYmZS50b3A+by5sYXN0Q2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tP2w9dC5zdGF0ZS5kb2MuY29udGVudC5zaXplOjAhPWkmJjE9PW8ubm9kZVR5cGUmJiJCUiI9PW8uY2hpbGROb2Rlc1tpLTFdLm5vZGVOYW1lfHwobD1IKHQsbyxpLGUpKX1udWxsPT1sJiYobD1MKHQsdSxlKSk7dmFyIG09dC5kb2NWaWV3Lm5lYXJlc3REZXNjKHUsITApO3JldHVybntwb3M6bCxpbnNpZGU6bT9tLnBvc0F0U3RhcnQtbS5ib3JkZXI6LTF9fWZ1bmN0aW9uIEsodCxlKXt2YXIgbj10LmdldENsaWVudFJlY3RzKCk7cmV0dXJuIG4ubGVuZ3RoP25bZTwwPzA6bi5sZW5ndGgtMV06dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1mdW5jdGlvbiBKKHQsZSl7dmFyIG49dC5kb2NWaWV3LmRvbUZyb21Qb3MoZSkscj1uLm5vZGUsbz1uLm9mZnNldDtpZigzPT1yLm5vZGVUeXBlJiYoZC53ZWJraXR8fGQuZ2Vja28pKXt2YXIgaT1LKGIocixvLG8pLDApO2lmKGQuZ2Vja28mJm8mJi9ccy8udGVzdChyLm5vZGVWYWx1ZVtvLTFdKSYmbzxyLm5vZGVWYWx1ZS5sZW5ndGgpe3ZhciBzPUsoYihyLG8tMSxvLTEpLC0xKTtpZihzLnRvcD09aS50b3Ape3ZhciBhPUsoYihyLG8sbysxKSwtMSk7aWYoYS50b3AhPWkudG9wKXJldHVybiBVKGEsYS5sZWZ0PHMubGVmdCl9fXJldHVybiBpfWlmKDE9PXIubm9kZVR5cGUmJiF0LnN0YXRlLmRvYy5yZXNvbHZlKGUpLnBhcmVudC5pbmxpbmVDb250ZW50KXt2YXIgYyxsPSEwO2lmKG88ci5jaGlsZE5vZGVzLmxlbmd0aCl7dmFyIHU9ci5jaGlsZE5vZGVzW29dOzE9PXUubm9kZVR5cGUmJihjPXUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpfWlmKCFjJiZvKXt2YXIgcD1yLmNoaWxkTm9kZXNbby0xXTsxPT1wLm5vZGVUeXBlJiYoYz1wLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGw9ITEpfXJldHVybiBHKGN8fHIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbCl9Zm9yKHZhciBmPS0xO2Y8MjtmKz0yKWlmKGY8MCYmbyl7dmFyIGg9dm9pZCAwLG09Mz09ci5ub2RlVHlwZT9iKHIsby0xLG8pOjM9PShoPXIuY2hpbGROb2Rlc1tvLTFdKS5ub2RlVHlwZT9iKGgpOjE9PWgubm9kZVR5cGUmJiJCUiIhPWgubm9kZU5hbWU/aDpudWxsO2lmKG0pe3ZhciB2PUsobSwxKTtpZih2LnRvcDx2LmJvdHRvbSlyZXR1cm4gVSh2LCExKX19ZWxzZSBpZihmPjAmJm88ayhyKSl7dmFyIGc9dm9pZCAwLHk9Mz09ci5ub2RlVHlwZT9iKHIsbyxvKzEpOjM9PShnPXIuY2hpbGROb2Rlc1tvXSkubm9kZVR5cGU/YihnKToxPT1nLm5vZGVUeXBlP2c6bnVsbDtpZih5KXt2YXIgdz1LKHksLTEpO2lmKHcudG9wPHcuYm90dG9tKXJldHVybiBVKHcsITApfX1yZXR1cm4gVShLKDM9PXIubm9kZVR5cGU/YihyKTpyLDApLCExKX1mdW5jdGlvbiBVKHQsZSl7aWYoMD09dC53aWR0aClyZXR1cm4gdDt2YXIgbj1lP3QubGVmdDp0LnJpZ2h0O3JldHVybnt0b3A6dC50b3AsYm90dG9tOnQuYm90dG9tLGxlZnQ6bixyaWdodDpufX1mdW5jdGlvbiBHKHQsZSl7aWYoMD09dC5oZWlnaHQpcmV0dXJuIHQ7dmFyIG49ZT90LnRvcDp0LmJvdHRvbTtyZXR1cm57dG9wOm4sYm90dG9tOm4sbGVmdDp0LmxlZnQscmlnaHQ6dC5yaWdodH19ZnVuY3Rpb24gWCh0LGUsbil7dmFyIHI9dC5zdGF0ZSxvPXQucm9vdC5hY3RpdmVFbGVtZW50O3IhPWUmJnQudXBkYXRlU3RhdGUoZSksbyE9dC5kb20mJnQuZm9jdXMoKTt0cnl7cmV0dXJuIG4oKX1maW5hbGx5e3IhPWUmJnQudXBkYXRlU3RhdGUociksbyE9dC5kb20mJm8mJm8uZm9jdXMoKX19ZnVuY3Rpb24gWSh0LGUsbil7dmFyIHI9ZS5zZWxlY3Rpb24sbz0idXAiPT1uP3IuJGFuY2hvci5taW4oci4kaGVhZCk6ci4kYW5jaG9yLm1heChyLiRoZWFkKTtyZXR1cm4gWCh0LGUsKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPXQuZG9jVmlldy5kb21Gcm9tUG9zKG8ucG9zKSxyPWUubm9kZTs7KXt2YXIgaT10LmRvY1ZpZXcubmVhcmVzdERlc2MociwhMCk7aWYoIWkpYnJlYWs7aWYoaS5ub2RlLmlzQmxvY2spe3I9aS5kb207YnJlYWt9cj1pLmRvbS5wYXJlbnROb2RlfWZvcih2YXIgcz1KKHQsby5wb3MpLGE9ci5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKXt2YXIgYz12b2lkIDA7aWYoMT09YS5ub2RlVHlwZSljPWEuZ2V0Q2xpZW50UmVjdHMoKTtlbHNle2lmKDMhPWEubm9kZVR5cGUpY29udGludWU7Yz1iKGEsMCxhLm5vZGVWYWx1ZS5sZW5ndGgpLmdldENsaWVudFJlY3RzKCl9Zm9yKHZhciBsPTA7bDxjLmxlbmd0aDtsKyspe3ZhciB1PWNbbF07aWYodS5ib3R0b20+dS50b3AmJigidXAiPT1uP3UuYm90dG9tPHMudG9wKzE6dS50b3A+cy5ib3R0b20tMSkpcmV0dXJuITF9fXJldHVybiEwfSkpfXZhciBaPS9bXHUwNTkwLVx1MDhhY10vO2Z1bmN0aW9uIFEodCxlLG4pe3ZhciByPWUuc2VsZWN0aW9uLG89ci4kaGVhZDtpZighby5wYXJlbnQuaXNUZXh0YmxvY2spcmV0dXJuITE7dmFyIGk9by5wYXJlbnRPZmZzZXQscz0haSxhPWk9PW8ucGFyZW50LmNvbnRlbnQuc2l6ZSxjPWdldFNlbGVjdGlvbigpO3JldHVybiBaLnRlc3Qoby5wYXJlbnQudGV4dENvbnRlbnQpJiZjLm1vZGlmeT9YKHQsZSwoZnVuY3Rpb24oKXt2YXIgZT1jLmdldFJhbmdlQXQoMCkscj1jLmZvY3VzTm9kZSxpPWMuZm9jdXNPZmZzZXQscz1jLmNhcmV0QmlkaUxldmVsO2MubW9kaWZ5KCJtb3ZlIixuLCJjaGFyYWN0ZXIiKTt2YXIgYT1vLmRlcHRoP3QuZG9jVmlldy5kb21BZnRlclBvcyhvLmJlZm9yZSgpKTp0LmRvbSxsPSFhLmNvbnRhaW5zKDE9PWMuZm9jdXNOb2RlLm5vZGVUeXBlP2MuZm9jdXNOb2RlOmMuZm9jdXNOb2RlLnBhcmVudE5vZGUpfHxyPT1jLmZvY3VzTm9kZSYmaT09Yy5mb2N1c09mZnNldDtyZXR1cm4gYy5yZW1vdmVBbGxSYW5nZXMoKSxjLmFkZFJhbmdlKGUpLG51bGwhPXMmJihjLmNhcmV0QmlkaUxldmVsPXMpLGx9KSk6ImxlZnQiPT1ufHwiYmFja3dhcmQiPT1uP3M6YX12YXIgdHQ9bnVsbCxldD1udWxsLG50PSExO2Z1bmN0aW9uIHJ0KHQsZSxuKXtyZXR1cm4gdHQ9PWUmJmV0PT1uP250Oih0dD1lLGV0PW4sbnQ9InVwIj09bnx8ImRvd24iPT1uP1kodCxlLG4pOlEodCxlLG4pKX12YXIgb3Q9MCxpdD0xLHN0PTIsYXQ9MyxjdD1mdW5jdGlvbih0LGUsbixyKXt0aGlzLnBhcmVudD10LHRoaXMuY2hpbGRyZW49ZSx0aGlzLmRvbT1uLG4ucG1WaWV3RGVzYz10aGlzLHRoaXMuY29udGVudERPTT1yLHRoaXMuZGlydHk9b3R9LGx0PXtiZWZvcmVQb3NpdGlvbjp7Y29uZmlndXJhYmxlOiEwfSxzaXplOntjb25maWd1cmFibGU6ITB9LGJvcmRlcjp7Y29uZmlndXJhYmxlOiEwfSxwb3NCZWZvcmU6e2NvbmZpZ3VyYWJsZTohMH0scG9zQXRTdGFydDp7Y29uZmlndXJhYmxlOiEwfSxwb3NBZnRlcjp7Y29uZmlndXJhYmxlOiEwfSxwb3NBdEVuZDp7Y29uZmlndXJhYmxlOiEwfSxjb250ZW50TG9zdDp7Y29uZmlndXJhYmxlOiEwfX07Y3QucHJvdG90eXBlLm1hdGNoZXNXaWRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sY3QucHJvdG90eXBlLm1hdGNoZXNNYXJrPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGN0LnByb3RvdHlwZS5tYXRjaGVzTm9kZT1mdW5jdGlvbigpe3JldHVybiExfSxjdC5wcm90b3R5cGUubWF0Y2hlc0hhY2s9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sbHQuYmVmb3JlUG9zaXRpb24uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuITF9LGN0LnByb3RvdHlwZS5wYXJzZVJ1bGU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sY3QucHJvdG90eXBlLnN0b3BFdmVudD1mdW5jdGlvbigpe3JldHVybiExfSxsdC5zaXplLmdldD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9MDtlPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2UrKyl0Kz10aGlzLmNoaWxkcmVuW2VdLnNpemU7cmV0dXJuIHR9LGx0LmJvcmRlci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sY3QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnBhcmVudD1udWxsLHRoaXMuZG9tLnBtVmlld0Rlc2M9PXRoaXMmJih0aGlzLmRvbS5wbVZpZXdEZXNjPW51bGwpO2Zvcih2YXIgdD0wO3Q8dGhpcy5jaGlsZHJlbi5sZW5ndGg7dCsrKXRoaXMuY2hpbGRyZW5bdF0uZGVzdHJveSgpfSxjdC5wcm90b3R5cGUucG9zQmVmb3JlQ2hpbGQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLnBvc0F0U3RhcnQ7ZTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtlKyspe3ZhciByPXRoaXMuY2hpbGRyZW5bZV07aWYocj09dClyZXR1cm4gbjtuKz1yLnNpemV9fSxsdC5wb3NCZWZvcmUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50LnBvc0JlZm9yZUNoaWxkKHRoaXMpfSxsdC5wb3NBdFN0YXJ0LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudD90aGlzLnBhcmVudC5wb3NCZWZvcmVDaGlsZCh0aGlzKSt0aGlzLmJvcmRlcjowfSxsdC5wb3NBZnRlci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NCZWZvcmUrdGhpcy5zaXplfSxsdC5wb3NBdEVuZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NBdFN0YXJ0K3RoaXMuc2l6ZS0yKnRoaXMuYm9yZGVyfSxjdC5wcm90b3R5cGUubG9jYWxQb3NGcm9tRE9NPWZ1bmN0aW9uKHQsZSxuKXtpZih0aGlzLmNvbnRlbnRET00mJnRoaXMuY29udGVudERPTS5jb250YWlucygxPT10Lm5vZGVUeXBlP3Q6dC5wYXJlbnROb2RlKSl7aWYobjwwKXt2YXIgcixvO2lmKHQ9PXRoaXMuY29udGVudERPTSlyPXQuY2hpbGROb2Rlc1tlLTFdO2Vsc2V7d2hpbGUodC5wYXJlbnROb2RlIT10aGlzLmNvbnRlbnRET00pdD10LnBhcmVudE5vZGU7cj10LnByZXZpb3VzU2libGluZ313aGlsZShyJiYoIShvPXIucG1WaWV3RGVzYyl8fG8ucGFyZW50IT10aGlzKSlyPXIucHJldmlvdXNTaWJsaW5nO3JldHVybiByP3RoaXMucG9zQmVmb3JlQ2hpbGQobykrby5zaXplOnRoaXMucG9zQXRTdGFydH12YXIgaSxzO2lmKHQ9PXRoaXMuY29udGVudERPTSlpPXQuY2hpbGROb2Rlc1tlXTtlbHNle3doaWxlKHQucGFyZW50Tm9kZSE9dGhpcy5jb250ZW50RE9NKXQ9dC5wYXJlbnROb2RlO2k9dC5uZXh0U2libGluZ313aGlsZShpJiYoIShzPWkucG1WaWV3RGVzYyl8fHMucGFyZW50IT10aGlzKSlpPWkubmV4dFNpYmxpbmc7cmV0dXJuIGk/dGhpcy5wb3NCZWZvcmVDaGlsZChzKTp0aGlzLnBvc0F0RW5kfXZhciBhO2lmKHRoaXMuY29udGVudERPTSYmdGhpcy5jb250ZW50RE9NIT10aGlzLmRvbSYmdGhpcy5kb20uY29udGFpbnModGhpcy5jb250ZW50RE9NKSlhPTImdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0aGlzLmNvbnRlbnRET00pO2Vsc2UgaWYodGhpcy5kb20uZmlyc3RDaGlsZCl7aWYoMD09ZSlmb3IodmFyIGM9dDs7Yz1jLnBhcmVudE5vZGUpe2lmKGM9PXRoaXMuZG9tKXthPSExO2JyZWFrfWlmKGMucGFyZW50Tm9kZS5maXJzdENoaWxkIT1jKWJyZWFrfWlmKG51bGw9PWEmJmU9PXQuY2hpbGROb2Rlcy5sZW5ndGgpZm9yKHZhciBsPXQ7O2w9bC5wYXJlbnROb2RlKXtpZihsPT10aGlzLmRvbSl7YT0hMDticmVha31pZihsLnBhcmVudE5vZGUubGFzdENoaWxkIT1sKWJyZWFrfX1yZXR1cm4obnVsbD09YT9uPjA6YSk/dGhpcy5wb3NBdEVuZDp0aGlzLnBvc0F0U3RhcnR9LGN0LnByb3RvdHlwZS5uZWFyZXN0RGVzYz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0hMCxyPXQ7cjtyPXIucGFyZW50Tm9kZSl7dmFyIG89dGhpcy5nZXREZXNjKHIpO2lmKG8mJighZXx8by5ub2RlKSl7aWYoIW58fCFvLm5vZGVET018fCgxPT1vLm5vZGVET00ubm9kZVR5cGU/by5ub2RlRE9NLmNvbnRhaW5zKDE9PXQubm9kZVR5cGU/dDp0LnBhcmVudE5vZGUpOm8ubm9kZURPTT09dCkpcmV0dXJuIG87bj0hMX19fSxjdC5wcm90b3R5cGUuZ2V0RGVzYz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5wbVZpZXdEZXNjLG49ZTtuO249bi5wYXJlbnQpaWYobj09dGhpcylyZXR1cm4gZX0sY3QucHJvdG90eXBlLnBvc0Zyb21ET009ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj10O3I7cj1yLnBhcmVudE5vZGUpe3ZhciBvPXRoaXMuZ2V0RGVzYyhyKTtpZihvKXJldHVybiBvLmxvY2FsUG9zRnJvbURPTSh0LGUsbil9cmV0dXJuLTF9LGN0LnByb3RvdHlwZS5kZXNjQXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj0wO2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKXt2YXIgcj10aGlzLmNoaWxkcmVuW2VdLG89bityLnNpemU7aWYobj09dCYmbyE9bil7d2hpbGUoIXIuYm9yZGVyJiZyLmNoaWxkcmVuLmxlbmd0aClyPXIuY2hpbGRyZW5bMF07cmV0dXJuIHJ9aWYodDxvKXJldHVybiByLmRlc2NBdCh0LW4tci5ib3JkZXIpO249b319LGN0LnByb3RvdHlwZS5kb21Gcm9tUG9zPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmNvbnRlbnRET00pcmV0dXJue25vZGU6dGhpcy5kb20sb2Zmc2V0OjB9O2Zvcih2YXIgZT0wLG49MDs7bisrKXtpZihlPT10KXt3aGlsZShuPHRoaXMuY2hpbGRyZW4ubGVuZ3RoJiYodGhpcy5jaGlsZHJlbltuXS5iZWZvcmVQb3NpdGlvbnx8dGhpcy5jaGlsZHJlbltuXS5kb20ucGFyZW50Tm9kZSE9dGhpcy5jb250ZW50RE9NKSluKys7cmV0dXJue25vZGU6dGhpcy5jb250ZW50RE9NLG9mZnNldDpuPT10aGlzLmNoaWxkcmVuLmxlbmd0aD90aGlzLmNvbnRlbnRET00uY2hpbGROb2Rlcy5sZW5ndGg6Zyh0aGlzLmNoaWxkcmVuW25dLmRvbSl9fWlmKG49PXRoaXMuY2hpbGRyZW4ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwb3NpdGlvbiAiK3QpO3ZhciByPXRoaXMuY2hpbGRyZW5bbl0sbz1lK3Iuc2l6ZTtpZih0PG8pcmV0dXJuIHIuZG9tRnJvbVBvcyh0LWUtci5ib3JkZXIpO2U9b319LGN0LnByb3RvdHlwZS5wYXJzZVJhbmdlPWZ1bmN0aW9uKHQsZSxuKXtpZih2b2lkIDA9PT1uJiYobj0wKSwwPT10aGlzLmNoaWxkcmVuLmxlbmd0aClyZXR1cm57bm9kZTp0aGlzLmNvbnRlbnRET00sZnJvbTp0LHRvOmUsZnJvbU9mZnNldDowLHRvT2Zmc2V0OnRoaXMuY29udGVudERPTS5jaGlsZE5vZGVzLmxlbmd0aH07Zm9yKHZhciByPS0xLG89LTEsaT1uLHM9MDs7cysrKXt2YXIgYT10aGlzLmNoaWxkcmVuW3NdLGM9aSthLnNpemU7aWYoLTE9PXImJnQ8PWMpe3ZhciBsPWkrYS5ib3JkZXI7aWYodD49bCYmZTw9Yy1hLmJvcmRlciYmYS5ub2RlJiZhLmNvbnRlbnRET00mJnRoaXMuY29udGVudERPTS5jb250YWlucyhhLmNvbnRlbnRET00pKXJldHVybiBhLnBhcnNlUmFuZ2UodCxlLGwpO3Q9aTtmb3IodmFyIHU9czt1PjA7dS0tKXt2YXIgZD10aGlzLmNoaWxkcmVuW3UtMV07aWYoZC5zaXplJiZkLmRvbS5wYXJlbnROb2RlPT10aGlzLmNvbnRlbnRET00mJiFkLmVtcHR5Q2hpbGRBdCgxKSl7cj1nKGQuZG9tKSsxO2JyZWFrfXQtPWQuc2l6ZX0tMT09ciYmKHI9MCl9aWYocj4tMSYmKGM+ZXx8cz09dGhpcy5jaGlsZHJlbi5sZW5ndGgtMSkpe2U9Yztmb3IodmFyIHA9cysxO3A8dGhpcy5jaGlsZHJlbi5sZW5ndGg7cCsrKXt2YXIgZj10aGlzLmNoaWxkcmVuW3BdO2lmKGYuc2l6ZSYmZi5kb20ucGFyZW50Tm9kZT09dGhpcy5jb250ZW50RE9NJiYhZi5lbXB0eUNoaWxkQXQoLTEpKXtvPWcoZi5kb20pO2JyZWFrfWUrPWYuc2l6ZX0tMT09byYmKG89dGhpcy5jb250ZW50RE9NLmNoaWxkTm9kZXMubGVuZ3RoKTticmVha31pPWN9cmV0dXJue25vZGU6dGhpcy5jb250ZW50RE9NLGZyb206dCx0bzplLGZyb21PZmZzZXQ6cix0b09mZnNldDpvfX0sY3QucHJvdG90eXBlLmVtcHR5Q2hpbGRBdD1mdW5jdGlvbih0KXtpZih0aGlzLmJvcmRlcnx8IXRoaXMuY29udGVudERPTXx8IXRoaXMuY2hpbGRyZW4ubGVuZ3RoKXJldHVybiExO3ZhciBlPXRoaXMuY2hpbGRyZW5bdDwwPzA6dGhpcy5jaGlsZHJlbi5sZW5ndGgtMV07cmV0dXJuIDA9PWUuc2l6ZXx8ZS5lbXB0eUNoaWxkQXQodCl9LGN0LnByb3RvdHlwZS5kb21BZnRlclBvcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRvbUZyb21Qb3ModCksbj1lLm5vZGUscj1lLm9mZnNldDtpZigxIT1uLm5vZGVUeXBlfHxyPT1uLmNoaWxkTm9kZXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJObyBub2RlIGFmdGVyIHBvcyAiK3QpO3JldHVybiBuLmNoaWxkTm9kZXNbcl19LGN0LnByb3RvdHlwZS5zZXRTZWxlY3Rpb249ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBvPU1hdGgubWluKHQsZSksaT1NYXRoLm1heCh0LGUpLHM9MCxhPTA7czx0aGlzLmNoaWxkcmVuLmxlbmd0aDtzKyspe3ZhciBjPXRoaXMuY2hpbGRyZW5bc10sbD1hK2Muc2l6ZTtpZihvPmEmJmk8bClyZXR1cm4gYy5zZXRTZWxlY3Rpb24odC1hLWMuYm9yZGVyLGUtYS1jLmJvcmRlcixuLHIpO2E9bH12YXIgdT10aGlzLmRvbUZyb21Qb3ModCkscD10aGlzLmRvbUZyb21Qb3MoZSksZj1uLmdldFNlbGVjdGlvbigpLGg9ITE7aWYoKGQuZ2Vja298fGQuc2FmYXJpKSYmdD09ZSl7dmFyIG09dS5ub2RlLmNoaWxkTm9kZXNbdS5vZmZzZXQtMV07aD1tJiYoIkJSIj09bS5ub2RlTmFtZXx8ImZhbHNlIj09bS5jb250ZW50RWRpdGFibGUpfWlmKHJ8fGgmJmQuc2FmYXJpfHwhdyh1Lm5vZGUsdS5vZmZzZXQsZi5hbmNob3JOb2RlLGYuYW5jaG9yT2Zmc2V0KXx8IXcocC5ub2RlLHAub2Zmc2V0LGYuZm9jdXNOb2RlLGYuZm9jdXNPZmZzZXQpKXt2YXIgdj0hMTtpZigoZi5leHRlbmR8fHQ9PWUpJiYhaCl7Zi5jb2xsYXBzZSh1Lm5vZGUsdS5vZmZzZXQpO3RyeXt0IT1lJiZmLmV4dGVuZChwLm5vZGUscC5vZmZzZXQpLHY9ITB9Y2F0Y2goYil7aWYoIShiIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uKSl0aHJvdyBifX1pZighdil7aWYodD5lKXt2YXIgZz11O3U9cCxwPWd9dmFyIHk9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTt5LnNldEVuZChwLm5vZGUscC5vZmZzZXQpLHkuc2V0U3RhcnQodS5ub2RlLHUub2Zmc2V0KSxmLnJlbW92ZUFsbFJhbmdlcygpLGYuYWRkUmFuZ2UoeSl9fX0sY3QucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiF0aGlzLmNvbnRlbnRET00mJiJzZWxlY3Rpb24iIT10LnR5cGV9LGx0LmNvbnRlbnRMb3N0LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRET00mJnRoaXMuY29udGVudERPTSE9dGhpcy5kb20mJiF0aGlzLmRvbS5jb250YWlucyh0aGlzLmNvbnRlbnRET00pfSxjdC5wcm90b3R5cGUubWFya0RpcnR5PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAscj0wO3I8dGhpcy5jaGlsZHJlbi5sZW5ndGg7cisrKXt2YXIgbz10aGlzLmNoaWxkcmVuW3JdLGk9bitvLnNpemU7aWYobj09aT90PD1pJiZlPj1uOnQ8aSYmZT5uKXt2YXIgcz1uK28uYm9yZGVyLGE9aS1vLmJvcmRlcjtpZih0Pj1zJiZlPD1hKXJldHVybiB0aGlzLmRpcnR5PXQ9PW58fGU9PWk/c3Q6aXQsdm9pZCh0IT1zfHxlIT1hfHwhby5jb250ZW50TG9zdCYmby5kb20ucGFyZW50Tm9kZT09dGhpcy5jb250ZW50RE9NP28ubWFya0RpcnR5KHQtcyxlLXMpOm8uZGlydHk9YXQpO28uZGlydHk9YXR9bj1pfXRoaXMuZGlydHk9c3R9LGN0LnByb3RvdHlwZS5tYXJrUGFyZW50c0RpcnR5PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTEsZT10aGlzLnBhcmVudDtlO2U9ZS5wYXJlbnQsdCsrKXt2YXIgbj0xPT10P3N0Oml0O2UuZGlydHk8biYmKGUuZGlydHk9bil9fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjdC5wcm90b3R5cGUsbHQpO3ZhciB1dD1bXSxkdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8pe3ZhciBpLHM9bi50eXBlLnRvRE9NO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBzJiYocz1zKHIsKGZ1bmN0aW9uKCl7cmV0dXJuIGk/aS5wYXJlbnQ/aS5wYXJlbnQucG9zQmVmb3JlQ2hpbGQoaSk6dm9pZCAwOm99KSkpLCFuLnR5cGUuc3BlYy5yYXcpe2lmKDEhPXMubm9kZVR5cGUpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTthLmFwcGVuZENoaWxkKHMpLHM9YX1zLmNvbnRlbnRFZGl0YWJsZT0hMSxzLmNsYXNzTGlzdC5hZGQoIlByb3NlTWlycm9yLXdpZGdldCIpfXQuY2FsbCh0aGlzLGUsdXQscyxudWxsKSx0aGlzLndpZGdldD1uLGk9dGhpc310JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17YmVmb3JlUG9zaXRpb246e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBuLmJlZm9yZVBvc2l0aW9uLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLndpZGdldC50eXBlLnNpZGU8MH0sZS5wcm90b3R5cGUubWF0Y2hlc1dpZGdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kaXJ0eT09b3QmJnQudHlwZS5lcSh0aGlzLndpZGdldC50eXBlKX0sZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7cmV0dXJue2lnbm9yZTohMH19LGUucHJvdG90eXBlLnN0b3BFdmVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLndpZGdldC5zcGVjLnN0b3BFdmVudDtyZXR1cm4hIWUmJmUodCl9LGUucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiJzZWxlY3Rpb24iIT10LnR5cGV8fHRoaXMud2lkZ2V0LnNwZWMuaWdub3JlU2VsZWN0aW9ufSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfShjdCkscHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvKXt0LmNhbGwodGhpcyxlLHV0LG4sbnVsbCksdGhpcy50ZXh0RE9NPXIsdGhpcy50ZXh0PW99dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e3NpemU6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBuLnNpemUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dC5sZW5ndGh9LGUucHJvdG90eXBlLmxvY2FsUG9zRnJvbURPTT1mdW5jdGlvbih0LGUpe3JldHVybiB0IT10aGlzLnRleHRET00/dGhpcy5wb3NBdFN0YXJ0KyhlP3RoaXMuc2l6ZTowKTp0aGlzLnBvc0F0U3RhcnQrZX0sZS5wcm90b3R5cGUuZG9tRnJvbVBvcz1mdW5jdGlvbih0KXtyZXR1cm57bm9kZTp0aGlzLnRleHRET00sb2Zmc2V0OnR9fSxlLnByb3RvdHlwZS5pZ25vcmVNdXRhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4iY2hhcmFjdGVyRGF0YSI9PT10LnR5cGUmJnQudGFyZ2V0Lm5vZGVWYWx1ZT09dC5vbGRWYWx1ZX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsbiksZX0oY3QpLGZ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyl7dC5jYWxsKHRoaXMsZSxbXSxyLG8pLHRoaXMubWFyaz1ufXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLmNyZWF0ZT1mdW5jdGlvbih0LG4scixvKXt2YXIgaT1vLm5vZGVWaWV3c1tuLnR5cGUubmFtZV0scz1pJiZpKG4sbyxyKTtyZXR1cm4gcyYmcy5kb218fChzPWxbIkRPTVNlcmlhbGl6ZXIiXS5yZW5kZXJTcGVjKGRvY3VtZW50LG4udHlwZS5zcGVjLnRvRE9NKG4scikpKSxuZXcgZSh0LG4scy5kb20scy5jb250ZW50RE9NfHxzLmRvbSl9LGUucHJvdG90eXBlLnBhcnNlUnVsZT1mdW5jdGlvbigpe3JldHVybnttYXJrOnRoaXMubWFyay50eXBlLm5hbWUsYXR0cnM6dGhpcy5tYXJrLmF0dHJzLGNvbnRlbnRFbGVtZW50OnRoaXMuY29udGVudERPTX19LGUucHJvdG90eXBlLm1hdGNoZXNNYXJrPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRpcnR5IT1hdCYmdGhpcy5tYXJrLmVxKHQpfSxlLnByb3RvdHlwZS5tYXJrRGlydHk9ZnVuY3Rpb24oZSxuKXtpZih0LnByb3RvdHlwZS5tYXJrRGlydHkuY2FsbCh0aGlzLGUsbiksdGhpcy5kaXJ0eSE9b3Qpe3ZhciByPXRoaXMucGFyZW50O3doaWxlKCFyLm5vZGUpcj1yLnBhcmVudDtyLmRpcnR5PHRoaXMuZGlydHkmJihyLmRpcnR5PXRoaXMuZGlydHkpLHRoaXMuZGlydHk9b3R9fSxlLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LG4scil7dmFyIG89ZS5jcmVhdGUodGhpcy5wYXJlbnQsdGhpcy5tYXJrLCEwLHIpLGk9dGhpcy5jaGlsZHJlbixzPXRoaXMuc2l6ZTtuPHMmJihpPXp0KGksbixzLHIpKSx0PjAmJihpPXp0KGksMCx0LHIpKTtmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKylpW2FdLnBhcmVudD1vO3JldHVybiBvLmNoaWxkcmVuPWksb30sZX0oY3QpLGh0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyxpLHMsYSxjLGwpe3QuY2FsbCh0aGlzLGUsbi5pc0xlYWY/dXQ6W10saSxzKSx0aGlzLm5vZGVET009YSx0aGlzLm5vZGU9bix0aGlzLm91dGVyRGVjbz1yLHRoaXMuaW5uZXJEZWNvPW8scyYmdGhpcy51cGRhdGVDaGlsZHJlbihjLGwpfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXtzaXplOntjb25maWd1cmFibGU6ITB9LGJvcmRlcjp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIGUuY3JlYXRlPWZ1bmN0aW9uKHQsbixyLG8saSxzKXt2YXIgYSxjLHU9aS5ub2RlVmlld3Nbbi50eXBlLm5hbWVdLGQ9dSYmdShuLGksKGZ1bmN0aW9uKCl7cmV0dXJuIGM/Yy5wYXJlbnQ/Yy5wYXJlbnQucG9zQmVmb3JlQ2hpbGQoYyk6dm9pZCAwOnN9KSxyKSxwPWQmJmQuZG9tLGY9ZCYmZC5jb250ZW50RE9NO2lmKG4uaXNUZXh0KWlmKHApe2lmKDMhPXAubm9kZVR5cGUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRleHQgbXVzdCBiZSByZW5kZXJlZCBhcyBhIERPTSB0ZXh0IG5vZGUiKX1lbHNlIHA9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobi50ZXh0KTtlbHNlIHB8fChhPWxbIkRPTVNlcmlhbGl6ZXIiXS5yZW5kZXJTcGVjKGRvY3VtZW50LG4udHlwZS5zcGVjLnRvRE9NKG4pKSxwPWEuZG9tLGY9YS5jb250ZW50RE9NKTtmfHxuLmlzVGV4dHx8IkJSIj09cC5ub2RlTmFtZXx8KHAuaGFzQXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKXx8KHAuY29udGVudEVkaXRhYmxlPSExKSxuLnR5cGUuc3BlYy5kcmFnZ2FibGUmJihwLmRyYWdnYWJsZT0hMCkpO3ZhciBoPXA7cmV0dXJuIHA9T3QocCxyLG4pLGQ/Yz1uZXcgeXQodCxuLHIsbyxwLGYsaCxkLGkscysxKTpuLmlzVGV4dD9uZXcgdnQodCxuLHIsbyxwLGgsaSk6bmV3IGUodCxuLHIsbyxwLGYsaCxpLHMrMSl9LGUucHJvdG90eXBlLnBhcnNlUnVsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodGhpcy5ub2RlLnR5cGUuc3BlYy5yZXBhcnNlSW5WaWV3KXJldHVybiBudWxsO3ZhciBlPXtub2RlOnRoaXMubm9kZS50eXBlLm5hbWUsYXR0cnM6dGhpcy5ub2RlLmF0dHJzfTtyZXR1cm4gdGhpcy5ub2RlLnR5cGUuc3BlYy5jb2RlJiYoZS5wcmVzZXJ2ZVdoaXRlc3BhY2U9ImZ1bGwiKSx0aGlzLmNvbnRlbnRET00mJiF0aGlzLmNvbnRlbnRMb3N0P2UuY29udGVudEVsZW1lbnQ9dGhpcy5jb250ZW50RE9NOmUuZ2V0Q29udGVudD1mdW5jdGlvbigpe3JldHVybiB0LmNvbnRlbnRET00/bFsiRnJhZ21lbnQiXS5lbXB0eTp0Lm5vZGUuY29udGVudH0sZX0sZS5wcm90b3R5cGUubWF0Y2hlc05vZGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLmRpcnR5PT1vdCYmdC5lcSh0aGlzLm5vZGUpJiZNdChlLHRoaXMub3V0ZXJEZWNvKSYmbi5lcSh0aGlzLmlubmVyRGVjbyl9LG4uc2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLm5vZGVTaXplfSxuLmJvcmRlci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLmlzTGVhZj8wOjF9LGUucHJvdG90eXBlLnVwZGF0ZUNoaWxkcmVuPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXRoaXMubm9kZS5pbmxpbmVDb250ZW50LG89ZSxpPXImJnQuY29tcG9zaW5nJiZ0aGlzLmxvY2FsQ29tcG9zaXRpb25Ob2RlKHQsZSkscz1uZXcgVHQodGhpcyxpJiZpLm5vZGUpO0V0KHRoaXMubm9kZSx0aGlzLmlubmVyRGVjbywoZnVuY3Rpb24oZSxpLGEpe2Uuc3BlYy5tYXJrcz9zLnN5bmNUb01hcmtzKGUuc3BlYy5tYXJrcyxyLHQpOmUudHlwZS5zaWRlPj0wJiYhYSYmcy5zeW5jVG9NYXJrcyhpPT1uLm5vZGUuY2hpbGRDb3VudD9sWyJNYXJrIl0ubm9uZTpuLm5vZGUuY2hpbGQoaSkubWFya3Mscix0KSxzLnBsYWNlV2lkZ2V0KGUsdCxvKX0pLChmdW5jdGlvbihlLG4saSxhKXtzLnN5bmNUb01hcmtzKGUubWFya3Mscix0KSxzLmZpbmROb2RlTWF0Y2goZSxuLGksYSl8fHMudXBkYXRlTmV4dE5vZGUoZSxuLGksdCxhKXx8cy5hZGROb2RlKGUsbixpLHQsbyksbys9ZS5ub2RlU2l6ZX0pKSxzLnN5bmNUb01hcmtzKHV0LHIsdCksdGhpcy5ub2RlLmlzVGV4dGJsb2NrJiZzLmFkZFRleHRibG9ja0hhY2tzKCkscy5kZXN0cm95UmVzdCgpLChzLmNoYW5nZWR8fHRoaXMuZGlydHk9PXN0KSYmKGkmJnRoaXMucHJvdGVjdExvY2FsQ29tcG9zaXRpb24odCxpKSxidCh0aGlzLmNvbnRlbnRET00sdGhpcy5jaGlsZHJlbix0KSxkLmlvcyYmUnQodGhpcy5kb20pKX0sZS5wcm90b3R5cGUubG9jYWxDb21wb3NpdGlvbk5vZGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LnN0YXRlLnNlbGVjdGlvbixyPW4uZnJvbSxvPW4udG87aWYoISghKHQuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgY1siVGV4dFNlbGVjdGlvbiJdKXx8cjxlfHxvPmUrdGhpcy5ub2RlLmNvbnRlbnQuc2l6ZSkpe3ZhciBpPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxzPV90KGkuZm9jdXNOb2RlLGkuZm9jdXNPZmZzZXQpO2lmKHMmJnRoaXMuZG9tLmNvbnRhaW5zKHMucGFyZW50Tm9kZSkpe3ZhciBhPXMubm9kZVZhbHVlLGw9UHQodGhpcy5ub2RlLmNvbnRlbnQsYSxyLWUsby1lKTtyZXR1cm4gbDwwP251bGw6e25vZGU6cyxwb3M6bCx0ZXh0OmF9fX19LGUucHJvdG90eXBlLnByb3RlY3RMb2NhbENvbXBvc2l0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5ub2RlLHI9ZS5wb3Msbz1lLnRleHQ7aWYoIXRoaXMuZ2V0RGVzYyhuKSl7Zm9yKHZhciBpPW47O2k9aS5wYXJlbnROb2RlKXtpZihpLnBhcmVudE5vZGU9PXRoaXMuY29udGVudERPTSlicmVhazt3aGlsZShpLnByZXZpb3VzU2libGluZylpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaS5wcmV2aW91c1NpYmxpbmcpO3doaWxlKGkubmV4dFNpYmxpbmcpaS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkubmV4dFNpYmxpbmcpO2kucG1WaWV3RGVzYyYmKGkucG1WaWV3RGVzYz1udWxsKX12YXIgcz1uZXcgcHQodGhpcyxpLG4sbyk7dC5jb21wb3NpdGlvbk5vZGVzLnB1c2gocyksdGhpcy5jaGlsZHJlbj16dCh0aGlzLmNoaWxkcmVuLHIscitvLmxlbmd0aCx0LHMpfX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiEodGhpcy5kaXJ0eT09YXR8fCF0LnNhbWVNYXJrdXAodGhpcy5ub2RlKSkmJih0aGlzLnVwZGF0ZUlubmVyKHQsZSxuLHIpLCEwKX0sZS5wcm90b3R5cGUudXBkYXRlSW5uZXI9ZnVuY3Rpb24odCxlLG4scil7dGhpcy51cGRhdGVPdXRlckRlY28oZSksdGhpcy5ub2RlPXQsdGhpcy5pbm5lckRlY289bix0aGlzLmNvbnRlbnRET00mJnRoaXMudXBkYXRlQ2hpbGRyZW4ocix0aGlzLnBvc0F0U3RhcnQpLHRoaXMuZGlydHk9b3R9LGUucHJvdG90eXBlLnVwZGF0ZU91dGVyRGVjbz1mdW5jdGlvbih0KXtpZighTXQodCx0aGlzLm91dGVyRGVjbykpe3ZhciBlPTEhPXRoaXMubm9kZURPTS5ub2RlVHlwZSxuPXRoaXMuZG9tO3RoaXMuZG9tPWt0KHRoaXMuZG9tLHRoaXMubm9kZURPTSx4dCh0aGlzLm91dGVyRGVjbyx0aGlzLm5vZGUsZSkseHQodCx0aGlzLm5vZGUsZSkpLHRoaXMuZG9tIT1uJiYobi5wbVZpZXdEZXNjPW51bGwsdGhpcy5kb20ucG1WaWV3RGVzYz10aGlzKSx0aGlzLm91dGVyRGVjbz10fX0sZS5wcm90b3R5cGUuc2VsZWN0Tm9kZT1mdW5jdGlvbigpe3RoaXMubm9kZURPTS5jbGFzc0xpc3QuYWRkKCJQcm9zZU1pcnJvci1zZWxlY3RlZG5vZGUiKSwhdGhpcy5jb250ZW50RE9NJiZ0aGlzLm5vZGUudHlwZS5zcGVjLmRyYWdnYWJsZXx8KHRoaXMuZG9tLmRyYWdnYWJsZT0hMCl9LGUucHJvdG90eXBlLmRlc2VsZWN0Tm9kZT1mdW5jdGlvbigpe3RoaXMubm9kZURPTS5jbGFzc0xpc3QucmVtb3ZlKCJQcm9zZU1pcnJvci1zZWxlY3RlZG5vZGUiKSwhdGhpcy5jb250ZW50RE9NJiZ0aGlzLm5vZGUudHlwZS5zcGVjLmRyYWdnYWJsZXx8dGhpcy5kb20ucmVtb3ZlQXR0cmlidXRlKCJkcmFnZ2FibGUiKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsbiksZX0oY3QpO2Z1bmN0aW9uIG10KHQsZSxuLHIsbyl7cmV0dXJuIE90KHIsZSx0KSxuZXcgaHQobnVsbCx0LGUsbixyLHIscixvLDApfXZhciB2dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8saSxzLGEpe3QuY2FsbCh0aGlzLGUsbixyLG8saSxudWxsLHMsYSl9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnBhcnNlUnVsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMubm9kZURPTS5wYXJlbnROb2RlO3doaWxlKHQmJnQhPXRoaXMuZG9tJiYhdC5wbUlzRGVjbyl0PXQucGFyZW50Tm9kZTtyZXR1cm57c2tpcDp0fHwhMH19LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4hKHRoaXMuZGlydHk9PWF0fHx0aGlzLmRpcnR5IT1vdCYmIXRoaXMuaW5QYXJlbnQoKXx8IXQuc2FtZU1hcmt1cCh0aGlzLm5vZGUpKSYmKHRoaXMudXBkYXRlT3V0ZXJEZWNvKGUpLHRoaXMuZGlydHk9PW90JiZ0LnRleHQ9PXRoaXMubm9kZS50ZXh0fHx0LnRleHQ9PXRoaXMubm9kZURPTS5ub2RlVmFsdWV8fCh0aGlzLm5vZGVET00ubm9kZVZhbHVlPXQudGV4dCxyLnRyYWNrV3JpdGVzPT10aGlzLm5vZGVET00mJihyLnRyYWNrV3JpdGVzPW51bGwpKSx0aGlzLm5vZGU9dCx0aGlzLmRpcnR5PW90LCEwKX0sZS5wcm90b3R5cGUuaW5QYXJlbnQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5wYXJlbnQuY29udGVudERPTSxlPXRoaXMubm9kZURPTTtlO2U9ZS5wYXJlbnROb2RlKWlmKGU9PXQpcmV0dXJuITA7cmV0dXJuITF9LGUucHJvdG90eXBlLmRvbUZyb21Qb3M9ZnVuY3Rpb24odCl7cmV0dXJue25vZGU6dGhpcy5ub2RlRE9NLG9mZnNldDp0fX0sZS5wcm90b3R5cGUubG9jYWxQb3NGcm9tRE9NPWZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gZT09dGhpcy5ub2RlRE9NP3RoaXMucG9zQXRTdGFydCtNYXRoLm1pbihuLHRoaXMubm9kZS50ZXh0Lmxlbmd0aCk6dC5wcm90b3R5cGUubG9jYWxQb3NGcm9tRE9NLmNhbGwodGhpcyxlLG4scil9LGUucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiJjaGFyYWN0ZXJEYXRhIiE9dC50eXBlJiYic2VsZWN0aW9uIiE9dC50eXBlfSxlLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LG4scil7dmFyIG89dGhpcy5ub2RlLmN1dCh0LG4pLGk9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoby50ZXh0KTtyZXR1cm4gbmV3IGUodGhpcy5wYXJlbnQsbyx0aGlzLm91dGVyRGVjbyx0aGlzLmlubmVyRGVjbyxpLGkscil9LGV9KGh0KSxndD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnBhcnNlUnVsZT1mdW5jdGlvbigpe3JldHVybntpZ25vcmU6ITB9fSxlLnByb3RvdHlwZS5tYXRjaGVzSGFjaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRpcnR5PT1vdH0sZX0oY3QpLHl0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyxpLHMsYSxjLGwsdSl7dC5jYWxsKHRoaXMsZSxuLHIsbyxpLHMsYSxsLHUpLHRoaXMuc3BlYz1jfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSxuLHIsbyl7aWYodGhpcy5kaXJ0eT09YXQpcmV0dXJuITE7aWYodGhpcy5zcGVjLnVwZGF0ZSl7dmFyIGk9dGhpcy5zcGVjLnVwZGF0ZShlLG4pO3JldHVybiBpJiZ0aGlzLnVwZGF0ZUlubmVyKGUsbixyLG8pLGl9cmV0dXJuISghdGhpcy5jb250ZW50RE9NJiYhZS5pc0xlYWYpJiZ0LnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzLGUsbixyLG8pfSxlLnByb3RvdHlwZS5zZWxlY3ROb2RlPWZ1bmN0aW9uKCl7dGhpcy5zcGVjLnNlbGVjdE5vZGU/dGhpcy5zcGVjLnNlbGVjdE5vZGUoKTp0LnByb3RvdHlwZS5zZWxlY3ROb2RlLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLmRlc2VsZWN0Tm9kZT1mdW5jdGlvbigpe3RoaXMuc3BlYy5kZXNlbGVjdE5vZGU/dGhpcy5zcGVjLmRlc2VsZWN0Tm9kZSgpOnQucHJvdG90eXBlLmRlc2VsZWN0Tm9kZS5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5zZXRTZWxlY3Rpb249ZnVuY3Rpb24oZSxuLHIsbyl7dGhpcy5zcGVjLnNldFNlbGVjdGlvbj90aGlzLnNwZWMuc2V0U2VsZWN0aW9uKGUsbixyKTp0LnByb3RvdHlwZS5zZXRTZWxlY3Rpb24uY2FsbCh0aGlzLGUsbixyLG8pfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5zcGVjLmRlc3Ryb3kmJnRoaXMuc3BlYy5kZXN0cm95KCksdC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5zdG9wRXZlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLnNwZWMuc3RvcEV2ZW50JiZ0aGlzLnNwZWMuc3RvcEV2ZW50KHQpfSxlLnByb3RvdHlwZS5pZ25vcmVNdXRhdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zcGVjLmlnbm9yZU11dGF0aW9uP3RoaXMuc3BlYy5pZ25vcmVNdXRhdGlvbihlKTp0LnByb3RvdHlwZS5pZ25vcmVNdXRhdGlvbi5jYWxsKHRoaXMsZSl9LGV9KGh0KTtmdW5jdGlvbiBidCh0LGUsbil7Zm9yKHZhciByPXQuZmlyc3RDaGlsZCxvPSExLGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIHM9ZVtpXSxhPXMuZG9tO2lmKGEucGFyZW50Tm9kZT09dCl7d2hpbGUoYSE9cilyPU50KHIpLG89ITA7cj1yLm5leHRTaWJsaW5nfWVsc2Ugbz0hMCx0Lmluc2VydEJlZm9yZShhLHIpO2lmKHMgaW5zdGFuY2VvZiBmdCl7dmFyIGM9cj9yLnByZXZpb3VzU2libGluZzp0Lmxhc3RDaGlsZDtidChzLmNvbnRlbnRET00scy5jaGlsZHJlbixuKSxyPWM/Yy5uZXh0U2libGluZzp0LmZpcnN0Q2hpbGR9fXdoaWxlKHIpcj1OdChyKSxvPSEwO28mJm4udHJhY2tXcml0ZXM9PXQmJihuLnRyYWNrV3JpdGVzPW51bGwpfWZ1bmN0aW9uIHd0KHQpe3QmJih0aGlzLm5vZGVOYW1lPXQpfXd0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG51bGwpO3ZhciBTdD1bbmV3IHd0XTtmdW5jdGlvbiB4dCh0LGUsbil7aWYoMD09dC5sZW5ndGgpcmV0dXJuIFN0O2Zvcih2YXIgcj1uP1N0WzBdOm5ldyB3dCxvPVtyXSxpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBzPXRbaV0udHlwZS5hdHRycyxhPXI7aWYocylmb3IodmFyIGMgaW4gcy5ub2RlTmFtZSYmby5wdXNoKGE9bmV3IHd0KHMubm9kZU5hbWUpKSxzKXt2YXIgbD1zW2NdO251bGwhPWwmJihuJiYxPT1vLmxlbmd0aCYmby5wdXNoKGE9cj1uZXcgd3QoZS5pc0lubGluZT8ic3BhbiI6ImRpdiIpKSwiY2xhc3MiPT1jP2EuY2xhc3M9KGEuY2xhc3M/YS5jbGFzcysiICI6IiIpK2w6InN0eWxlIj09Yz9hLnN0eWxlPShhLnN0eWxlP2Euc3R5bGUrIjsiOiIiKStsOiJub2RlTmFtZSIhPWMmJihhW2NdPWwpKX19cmV0dXJuIG99ZnVuY3Rpb24ga3QodCxlLG4scil7aWYobj09U3QmJnI9PVN0KXJldHVybiBlO2Zvcih2YXIgbz1lLGk9MDtpPHIubGVuZ3RoO2krKyl7dmFyIHM9cltpXSxhPW5baV07aWYoaSl7dmFyIGM9dm9pZCAwO2EmJmEubm9kZU5hbWU9PXMubm9kZU5hbWUmJm8hPXQmJihjPW8ucGFyZW50Tm9kZSkmJmMudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT1zLm5vZGVOYW1lfHwoYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KHMubm9kZU5hbWUpLGMucG1Jc0RlY289ITAsYy5hcHBlbmRDaGlsZChvKSxhPVN0WzBdKSxvPWN9Q3QobyxhfHxTdFswXSxzKX1yZXR1cm4gb31mdW5jdGlvbiBDdCh0LGUsbil7Zm9yKHZhciByIGluIGUpImNsYXNzIj09cnx8InN0eWxlIj09cnx8Im5vZGVOYW1lIj09cnx8ciBpbiBufHx0LnJlbW92ZUF0dHJpYnV0ZShyKTtmb3IodmFyIG8gaW4gbikiY2xhc3MiIT1vJiYic3R5bGUiIT1vJiYibm9kZU5hbWUiIT1vJiZuW29dIT1lW29dJiZ0LnNldEF0dHJpYnV0ZShvLG5bb10pO2lmKGUuY2xhc3MhPW4uY2xhc3Mpe2Zvcih2YXIgaT1lLmNsYXNzP2UuY2xhc3Muc3BsaXQoIiAiKTp1dCxzPW4uY2xhc3M/bi5jbGFzcy5zcGxpdCgiICIpOnV0LGE9MDthPGkubGVuZ3RoO2ErKyktMT09cy5pbmRleE9mKGlbYV0pJiZ0LmNsYXNzTGlzdC5yZW1vdmUoaVthXSk7Zm9yKHZhciBjPTA7YzxzLmxlbmd0aDtjKyspLTE9PWkuaW5kZXhPZihzW2NdKSYmdC5jbGFzc0xpc3QuYWRkKHNbY10pfWlmKGUuc3R5bGUhPW4uc3R5bGUpe2lmKGUuc3R5bGUpe3ZhciBsLHU9L1xzKihbXHdcLVx4YTEtXHVmZmZmXSspXHMqOig/OiIoPzpcXC58W14iXSkqInwnKD86XFwufFteJ10pKid8XCguKj9cKXxbXjtdKSovZzt3aGlsZShsPXUuZXhlYyhlLnN0eWxlKSl0LnN0eWxlLnJlbW92ZVByb3BlcnR5KGxbMV0pfW4uc3R5bGUmJih0LnN0eWxlLmNzc1RleHQrPW4uc3R5bGUpfX1mdW5jdGlvbiBPdCh0LGUsbil7cmV0dXJuIGt0KHQsdCxTdCx4dChlLG4sMSE9dC5ub2RlVHlwZSkpfWZ1bmN0aW9uIE10KHQsZSl7aWYodC5sZW5ndGghPWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKCF0W25dLnR5cGUuZXEoZVtuXS50eXBlKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBOdCh0KXt2YXIgZT10Lm5leHRTaWJsaW5nO3JldHVybiB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksZX12YXIgVHQ9ZnVuY3Rpb24odCxlKXt0aGlzLnRvcD10LHRoaXMubG9jaz1lLHRoaXMuaW5kZXg9MCx0aGlzLnN0YWNrPVtdLHRoaXMuY2hhbmdlZD0hMTt2YXIgbj1BdCh0Lm5vZGUuY29udGVudCx0LmNoaWxkcmVuKTt0aGlzLnByZU1hdGNoZWQ9bi5ub2Rlcyx0aGlzLnByZU1hdGNoT2Zmc2V0PW4ub2Zmc2V0fTtmdW5jdGlvbiBBdCh0LGUpe2Zvcih2YXIgbj1bXSxyPXQuY2hpbGRDb3VudCxvPWUubGVuZ3RoLTE7cj4wJiZvPj0wO28tLSl7dmFyIGk9ZVtvXSxzPWkubm9kZTtpZihzKXtpZihzIT10LmNoaWxkKHItMSkpYnJlYWs7bi5wdXNoKGkpLC0tcn19cmV0dXJue25vZGVzOm4ucmV2ZXJzZSgpLG9mZnNldDpyfX1mdW5jdGlvbiBEdCh0LGUpe3JldHVybiB0LnR5cGUuc2lkZS1lLnR5cGUuc2lkZX1mdW5jdGlvbiBFdCh0LGUsbixyKXt2YXIgbz1lLmxvY2Fscyh0KSxpPTA7aWYoMCE9by5sZW5ndGgpZm9yKHZhciBzPTAsYT1bXSxjPW51bGwsbD0wOzspe2lmKHM8by5sZW5ndGgmJm9bc10udG89PWkpe3ZhciB1PW9bcysrXSxkPXZvaWQgMDt3aGlsZShzPG8ubGVuZ3RoJiZvW3NdLnRvPT1pKShkfHwoZD1bdV0pKS5wdXNoKG9bcysrXSk7aWYoZCl7ZC5zb3J0KER0KTtmb3IodmFyIHA9MDtwPGQubGVuZ3RoO3ArKyluKGRbcF0sbCwhIWMpfWVsc2Ugbih1LGwsISFjKX12YXIgZj12b2lkIDAsaD12b2lkIDA7aWYoYyloPS0xLGY9YyxjPW51bGw7ZWxzZXtpZighKGw8dC5jaGlsZENvdW50KSlicmVhaztoPWwsZj10LmNoaWxkKGwrKyl9Zm9yKHZhciBtPTA7bTxhLmxlbmd0aDttKyspYVttXS50bzw9aSYmYS5zcGxpY2UobS0tLDEpO3doaWxlKHM8by5sZW5ndGgmJm9bc10uZnJvbTw9aSYmb1tzXS50bz5pKWEucHVzaChvW3MrK10pO3ZhciB2PWkrZi5ub2RlU2l6ZTtpZihmLmlzVGV4dCl7dmFyIGc9djtzPG8ubGVuZ3RoJiZvW3NdLmZyb208ZyYmKGc9b1tzXS5mcm9tKTtmb3IodmFyIHk9MDt5PGEubGVuZ3RoO3krKylhW3ldLnRvPGcmJihnPWFbeV0udG8pO2c8diYmKGM9Zi5jdXQoZy1pKSxmPWYuY3V0KDAsZy1pKSx2PWcsaD0tMSl9dmFyIGI9YS5sZW5ndGg/Zi5pc0lubGluZSYmIWYuaXNMZWFmP2EuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hdC5pbmxpbmV9KSk6YS5zbGljZSgpOnV0O3IoZixiLGUuZm9yQ2hpbGQoaSxmKSxoKSxpPXZ9ZWxzZSBmb3IodmFyIHc9MDt3PHQuY2hpbGRDb3VudDt3Kyspe3ZhciBTPXQuY2hpbGQodyk7cihTLG8sZS5mb3JDaGlsZChpLFMpLHcpLGkrPVMubm9kZVNpemV9fWZ1bmN0aW9uIFJ0KHQpe2lmKCJVTCI9PXQubm9kZU5hbWV8fCJPTCI9PXQubm9kZU5hbWUpe3ZhciBlPXQuc3R5bGUuY3NzVGV4dDt0LnN0eWxlLmNzc1RleHQ9ZSsiOyBsaXN0LXN0eWxlOiBzcXVhcmUgIWltcG9ydGFudCIsd2luZG93LmdldENvbXB1dGVkU3R5bGUodCkubGlzdFN0eWxlLHQuc3R5bGUuY3NzVGV4dD1lfX1mdW5jdGlvbiBfdCh0LGUpe2Zvcig7Oyl7aWYoMz09dC5ub2RlVHlwZSlyZXR1cm4gdDtpZigxPT10Lm5vZGVUeXBlJiZlPjApe2lmKHQuY2hpbGROb2Rlcy5sZW5ndGg+ZSYmMz09dC5jaGlsZE5vZGVzW2VdLm5vZGVUeXBlKXJldHVybiB0LmNoaWxkTm9kZXNbZV07dD10LmNoaWxkTm9kZXNbZS0xXSxlPWsodCl9ZWxzZXtpZighKDE9PXQubm9kZVR5cGUmJmU8dC5jaGlsZE5vZGVzLmxlbmd0aCkpcmV0dXJuIG51bGw7dD10LmNoaWxkTm9kZXNbZV0sZT0wfX19ZnVuY3Rpb24gUHQodCxlLG4scil7Zm9yKHZhciBvPTAsaT0wO288dC5jaGlsZENvdW50JiZpPD1yOyl7dmFyIHM9dC5jaGlsZChvKyspLGE9aTtpZihpKz1zLm5vZGVTaXplLHMuaXNUZXh0KXt2YXIgYz1zLnRleHQ7d2hpbGUobzx0LmNoaWxkQ291bnQpe3ZhciBsPXQuY2hpbGQobysrKTtpZihpKz1sLm5vZGVTaXplLCFsLmlzVGV4dClicmVhaztjKz1sLnRleHR9aWYoaT49bil7dmFyIHU9Yy5sYXN0SW5kZXhPZihlLHItYSk7aWYodT49MCYmdStlLmxlbmd0aCthPj1uKXJldHVybiBhK3V9fX1yZXR1cm4tMX1mdW5jdGlvbiB6dCh0LGUsbixyLG8pe2Zvcih2YXIgaT1bXSxzPTAsYT0wO3M8dC5sZW5ndGg7cysrKXt2YXIgYz10W3NdLGw9YSx1PWErPWMuc2l6ZTtsPj1ufHx1PD1lP2kucHVzaChjKToobDxlJiZpLnB1c2goYy5zbGljZSgwLGUtbCxyKSksbyYmKGkucHVzaChvKSxvPW51bGwpLHU+biYmaS5wdXNoKGMuc2xpY2Uobi1sLGMuc2l6ZSxyKSkpfXJldHVybiBpfWZ1bmN0aW9uIEl0KHQsZSl7dmFyIG49dC5yb290LmdldFNlbGVjdGlvbigpLHI9dC5zdGF0ZS5kb2M7aWYoIW4uZm9jdXNOb2RlKXJldHVybiBudWxsO3ZhciBvPXQuZG9jVmlldy5uZWFyZXN0RGVzYyhuLmZvY3VzTm9kZSksaT1vJiYwPT1vLnNpemUscz10LmRvY1ZpZXcucG9zRnJvbURPTShuLmZvY3VzTm9kZSxuLmZvY3VzT2Zmc2V0KTtpZihzPDApcmV0dXJuIG51bGw7dmFyIGEsbCx1PXIucmVzb2x2ZShzKTtpZihNKG4pKXthPXU7d2hpbGUobyYmIW8ubm9kZSlvPW8ucGFyZW50O2lmKG8mJm8ubm9kZS5pc0F0b20mJmNbIk5vZGVTZWxlY3Rpb24iXS5pc1NlbGVjdGFibGUoby5ub2RlKSYmby5wYXJlbnQmJighby5ub2RlLmlzSW5saW5lfHwhQyhuLmZvY3VzTm9kZSxuLmZvY3VzT2Zmc2V0LG8uZG9tKSkpe3ZhciBkPW8ucG9zQmVmb3JlO2w9bmV3IGNbIk5vZGVTZWxlY3Rpb24iXShzPT1kP3U6ci5yZXNvbHZlKGQpKX19ZWxzZXt2YXIgcD10LmRvY1ZpZXcucG9zRnJvbURPTShuLmFuY2hvck5vZGUsbi5hbmNob3JPZmZzZXQpO2lmKHA8MClyZXR1cm4gbnVsbDthPXIucmVzb2x2ZShwKX1pZighbCl7dmFyIGY9InBvaW50ZXIiPT1lfHx0LnN0YXRlLnNlbGVjdGlvbi5oZWFkPHUucG9zJiYhaT8xOi0xO2w9S3QodCxhLHUsZil9cmV0dXJuIGx9ZnVuY3Rpb24gJHQodCxlKXt2YXIgbj10LnN0YXRlLnNlbGVjdGlvbjtpZihxdCh0LG4pLHQuZWRpdGFibGU/dC5oYXNGb2N1cygpOlV0KHQpJiZkb2N1bWVudC5hY3RpdmVFbGVtZW50JiZkb2N1bWVudC5hY3RpdmVFbGVtZW50LmNvbnRhaW5zKHQuZG9tKSl7aWYodC5kb21PYnNlcnZlci5kaXNjb25uZWN0U2VsZWN0aW9uKCksdC5jdXJzb3JXcmFwcGVyKUh0KHQpO2Vsc2V7dmFyIHIsbyxpPW4uYW5jaG9yLHM9bi5oZWFkOyFWdHx8biBpbnN0YW5jZW9mIGNbIlRleHRTZWxlY3Rpb24iXXx8KG4uJGZyb20ucGFyZW50LmlubGluZUNvbnRlbnR8fChyPUJ0KHQsbi5mcm9tKSksbi5lbXB0eXx8bi4kZnJvbS5wYXJlbnQuaW5saW5lQ29udGVudHx8KG89QnQodCxuLnRvKSkpLHQuZG9jVmlldy5zZXRTZWxlY3Rpb24oaSxzLHQucm9vdCxlKSxWdCYmKHImJmp0KHIpLG8mJmp0KG8pKSxuLnZpc2libGU/dC5kb20uY2xhc3NMaXN0LnJlbW92ZSgiUHJvc2VNaXJyb3ItaGlkZXNlbGVjdGlvbiIpOih0LmRvbS5jbGFzc0xpc3QuYWRkKCJQcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uIiksIm9uc2VsZWN0aW9uY2hhbmdlImluIGRvY3VtZW50JiZMdCh0KSl9dC5kb21PYnNlcnZlci5zZXRDdXJTZWxlY3Rpb24oKSx0LmRvbU9ic2VydmVyLmNvbm5lY3RTZWxlY3Rpb24oKX19VHQucHJvdG90eXBlLmdldFByZU1hdGNoPWZ1bmN0aW9uKHQpe3JldHVybiB0Pj10aGlzLnByZU1hdGNoT2Zmc2V0P3RoaXMucHJlTWF0Y2hlZFt0LXRoaXMucHJlTWF0Y2hPZmZzZXRdOm51bGx9LFR0LnByb3RvdHlwZS5kZXN0cm95QmV0d2Vlbj1mdW5jdGlvbih0LGUpe2lmKHQhPWUpe2Zvcih2YXIgbj10O248ZTtuKyspdGhpcy50b3AuY2hpbGRyZW5bbl0uZGVzdHJveSgpO3RoaXMudG9wLmNoaWxkcmVuLnNwbGljZSh0LGUtdCksdGhpcy5jaGFuZ2VkPSEwfX0sVHQucHJvdG90eXBlLmRlc3Ryb3lSZXN0PWZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95QmV0d2Vlbih0aGlzLmluZGV4LHRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aCl9LFR0LnByb3RvdHlwZS5zeW5jVG9NYXJrcz1mdW5jdGlvbih0LGUsbil7dmFyIHI9MCxvPXRoaXMuc3RhY2subGVuZ3RoPj4xLGk9TWF0aC5taW4obyx0Lmxlbmd0aCk7d2hpbGUocjxpJiYocj09by0xP3RoaXMudG9wOnRoaXMuc3RhY2tbcisxPDwxXSkubWF0Y2hlc01hcmsodFtyXSkmJiExIT09dFtyXS50eXBlLnNwZWMuc3Bhbm5pbmcpcisrO3doaWxlKHI8byl0aGlzLmRlc3Ryb3lSZXN0KCksdGhpcy50b3AuZGlydHk9b3QsdGhpcy5pbmRleD10aGlzLnN0YWNrLnBvcCgpLHRoaXMudG9wPXRoaXMuc3RhY2sucG9wKCksby0tO3doaWxlKG88dC5sZW5ndGgpe3RoaXMuc3RhY2sucHVzaCh0aGlzLnRvcCx0aGlzLmluZGV4KzEpO2Zvcih2YXIgcz0tMSxhPXRoaXMuaW5kZXg7YTxNYXRoLm1pbih0aGlzLmluZGV4KzMsdGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoKTthKyspaWYodGhpcy50b3AuY2hpbGRyZW5bYV0ubWF0Y2hlc01hcmsodFtvXSkpe3M9YTticmVha31pZihzPi0xKXM+dGhpcy5pbmRleCYmKHRoaXMuY2hhbmdlZD0hMCx0aGlzLmRlc3Ryb3lCZXR3ZWVuKHRoaXMuaW5kZXgscykpLHRoaXMudG9wPXRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXhdO2Vsc2V7dmFyIGM9ZnQuY3JlYXRlKHRoaXMudG9wLHRbb10sZSxuKTt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCwwLGMpLHRoaXMudG9wPWMsdGhpcy5jaGFuZ2VkPSEwfXRoaXMuaW5kZXg9MCxvKyt9fSxUdC5wcm90b3R5cGUuZmluZE5vZGVNYXRjaD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz0tMSxpPXI8MD92b2lkIDA6dGhpcy5nZXRQcmVNYXRjaChyKSxzPXRoaXMudG9wLmNoaWxkcmVuO2lmKGkmJmkubWF0Y2hlc05vZGUodCxlLG4pKW89cy5pbmRleE9mKGkpO2Vsc2UgZm9yKHZhciBhPXRoaXMuaW5kZXgsYz1NYXRoLm1pbihzLmxlbmd0aCxhKzUpO2E8YzthKyspe3ZhciBsPXNbYV07aWYobC5tYXRjaGVzTm9kZSh0LGUsbikmJnRoaXMucHJlTWF0Y2hlZC5pbmRleE9mKGwpPDApe289YTticmVha319cmV0dXJuIShvPDApJiYodGhpcy5kZXN0cm95QmV0d2Vlbih0aGlzLmluZGV4LG8pLHRoaXMuaW5kZXgrKywhMCl9LFR0LnByb3RvdHlwZS51cGRhdGVOZXh0Tm9kZT1mdW5jdGlvbih0LGUsbixyLG8pe2Zvcih2YXIgaT10aGlzLmluZGV4O2k8dGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoO2krKyl7dmFyIHM9dGhpcy50b3AuY2hpbGRyZW5baV07aWYocyBpbnN0YW5jZW9mIGh0KXt2YXIgYT10aGlzLnByZU1hdGNoZWQuaW5kZXhPZihzKTtpZihhPi0xJiZhK3RoaXMucHJlTWF0Y2hPZmZzZXQhPW8pcmV0dXJuITE7dmFyIGM9cy5kb20sbD10aGlzLmxvY2smJihjPT10aGlzLmxvY2t8fDE9PWMubm9kZVR5cGUmJmMuY29udGFpbnModGhpcy5sb2NrLnBhcmVudE5vZGUpKSYmISh0LmlzVGV4dCYmcy5ub2RlJiZzLm5vZGUuaXNUZXh0JiZzLm5vZGVET00ubm9kZVZhbHVlPT10LnRleHQmJnMuZGlydHkhPWF0JiZNdChlLHMub3V0ZXJEZWNvKSk7aWYoIWwmJnMudXBkYXRlKHQsZSxuLHIpKXJldHVybiB0aGlzLmRlc3Ryb3lCZXR3ZWVuKHRoaXMuaW5kZXgsaSkscy5kb20hPWMmJih0aGlzLmNoYW5nZWQ9ITApLHRoaXMuaW5kZXgrKywhMDticmVha319cmV0dXJuITF9LFR0LnByb3RvdHlwZS5hZGROb2RlPWZ1bmN0aW9uKHQsZSxuLHIsbyl7dGhpcy50b3AuY2hpbGRyZW4uc3BsaWNlKHRoaXMuaW5kZXgrKywwLGh0LmNyZWF0ZSh0aGlzLnRvcCx0LGUsbixyLG8pKSx0aGlzLmNoYW5nZWQ9ITB9LFR0LnByb3RvdHlwZS5wbGFjZVdpZGdldD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5pbmRleDx0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGg/dGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleF06bnVsbDtpZighcnx8IXIubWF0Y2hlc1dpZGdldCh0KXx8dCE9ci53aWRnZXQmJnIud2lkZ2V0LnR5cGUudG9ET00ucGFyZW50Tm9kZSl7dmFyIG89bmV3IGR0KHRoaXMudG9wLHQsZSxuKTt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCsrLDAsbyksdGhpcy5jaGFuZ2VkPSEwfWVsc2UgdGhpcy5pbmRleCsrfSxUdC5wcm90b3R5cGUuYWRkVGV4dGJsb2NrSGFja3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRvcC5jaGlsZHJlblt0aGlzLmluZGV4LTFdO3doaWxlKHQgaW5zdGFuY2VvZiBmdCl0PXQuY2hpbGRyZW5bdC5jaGlsZHJlbi5sZW5ndGgtMV07aWYoIXR8fCEodCBpbnN0YW5jZW9mIHZ0KXx8L1xuJC8udGVzdCh0Lm5vZGUudGV4dCkpaWYodGhpcy5pbmRleDx0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGgmJnRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXhdLm1hdGNoZXNIYWNrKCkpdGhpcy5pbmRleCsrO2Vsc2V7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKTt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCsrLDAsbmV3IGd0KHRoaXMudG9wLHV0LGUsbnVsbCkpLHRoaXMuY2hhbmdlZD0hMH19O3ZhciBWdD1kLnNhZmFyaXx8ZC5jaHJvbWUmJmQuY2hyb21lX3ZlcnNpb248NjM7ZnVuY3Rpb24gQnQodCxlKXt2YXIgbj10LmRvY1ZpZXcuZG9tRnJvbVBvcyhlKSxyPW4ubm9kZSxvPW4ub2Zmc2V0LGk9bzxyLmNoaWxkTm9kZXMubGVuZ3RoP3IuY2hpbGROb2Rlc1tvXTpudWxsLHM9bz9yLmNoaWxkTm9kZXNbby0xXTpudWxsO2lmKGQuc2FmYXJpJiZpJiYiZmFsc2UiPT1pLmNvbnRlbnRFZGl0YWJsZSlyZXR1cm4gRnQoaSk7aWYoKCFpfHwiZmFsc2UiPT1pLmNvbnRlbnRFZGl0YWJsZSkmJighc3x8ImZhbHNlIj09cy5jb250ZW50RWRpdGFibGUpKXtpZihpKXJldHVybiBGdChpKTtpZihzKXJldHVybiBGdChzKX19ZnVuY3Rpb24gRnQodCl7cmV0dXJuIHQuY29udGVudEVkaXRhYmxlPSJ0cnVlIixkLnNhZmFyaSYmdC5kcmFnZ2FibGUmJih0LmRyYWdnYWJsZT0hMSx0Lndhc0RyYWdnYWJsZT0hMCksdH1mdW5jdGlvbiBqdCh0KXt0LmNvbnRlbnRFZGl0YWJsZT0iZmFsc2UiLHQud2FzRHJhZ2dhYmxlJiYodC5kcmFnZ2FibGU9ITAsdC53YXNEcmFnZ2FibGU9bnVsbCl9ZnVuY3Rpb24gTHQodCl7dmFyIGU9dC5kb20ub3duZXJEb2N1bWVudDtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsdC5oaWRlU2VsZWN0aW9uR3VhcmQpO3ZhciBuPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxyPW4uYW5jaG9yTm9kZSxvPW4uYW5jaG9yT2Zmc2V0O2UuYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIix0LmhpZGVTZWxlY3Rpb25HdWFyZD1mdW5jdGlvbigpe24uYW5jaG9yTm9kZT09ciYmbi5hbmNob3JPZmZzZXQ9PW98fChlLnJlbW92ZUV2ZW50TGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsdC5oaWRlU2VsZWN0aW9uR3VhcmQpLHQuZG9tLmNsYXNzTGlzdC5yZW1vdmUoIlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb24iKSl9KX1mdW5jdGlvbiBIdCh0KXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpLHI9dC5jdXJzb3JXcmFwcGVyLmRvbSxvPSJJTUciPT1yLm5vZGVOYW1lO28/bi5zZXRFbmQoci5wYXJlbnROb2RlLGcocikrMSk6bi5zZXRFbmQociwwKSxuLmNvbGxhcHNlKCExKSxlLnJlbW92ZUFsbFJhbmdlcygpLGUuYWRkUmFuZ2UobiksIW8mJiF0LnN0YXRlLnNlbGVjdGlvbi52aXNpYmxlJiZkLmllJiZkLmllX3ZlcnNpb248PTExJiYoci5kaXNhYmxlZD0hMCxyLmRpc2FibGVkPSExKX1mdW5jdGlvbiBxdCh0LGUpe2lmKGUgaW5zdGFuY2VvZiBjWyJOb2RlU2VsZWN0aW9uIl0pe3ZhciBuPXQuZG9jVmlldy5kZXNjQXQoZS5mcm9tKTtuIT10Lmxhc3RTZWxlY3RlZFZpZXdEZXNjJiYoV3QodCksbiYmbi5zZWxlY3ROb2RlKCksdC5sYXN0U2VsZWN0ZWRWaWV3RGVzYz1uKX1lbHNlIFd0KHQpfWZ1bmN0aW9uIFd0KHQpe3QubGFzdFNlbGVjdGVkVmlld0Rlc2MmJih0Lmxhc3RTZWxlY3RlZFZpZXdEZXNjLnBhcmVudCYmdC5sYXN0U2VsZWN0ZWRWaWV3RGVzYy5kZXNlbGVjdE5vZGUoKSx0Lmxhc3RTZWxlY3RlZFZpZXdEZXNjPW51bGwpfWZ1bmN0aW9uIEt0KHQsZSxuLHIpe3JldHVybiB0LnNvbWVQcm9wKCJjcmVhdGVTZWxlY3Rpb25CZXR3ZWVuIiwoZnVuY3Rpb24ocil7cmV0dXJuIHIodCxlLG4pfSkpfHxjWyJUZXh0U2VsZWN0aW9uIl0uYmV0d2VlbihlLG4scil9ZnVuY3Rpb24gSnQodCl7cmV0dXJuKCF0LmVkaXRhYmxlfHx0LnJvb3QuYWN0aXZlRWxlbWVudD09dC5kb20pJiZVdCh0KX1mdW5jdGlvbiBVdCh0KXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCk7aWYoIWUuYW5jaG9yTm9kZSlyZXR1cm4hMTt0cnl7cmV0dXJuIHQuZG9tLmNvbnRhaW5zKDM9PWUuYW5jaG9yTm9kZS5ub2RlVHlwZT9lLmFuY2hvck5vZGUucGFyZW50Tm9kZTplLmFuY2hvck5vZGUpJiYodC5lZGl0YWJsZXx8dC5kb20uY29udGFpbnMoMz09ZS5mb2N1c05vZGUubm9kZVR5cGU/ZS5mb2N1c05vZGUucGFyZW50Tm9kZTplLmZvY3VzTm9kZSkpfWNhdGNoKG4pe3JldHVybiExfX1mdW5jdGlvbiBHdCh0KXt2YXIgZT10LmRvY1ZpZXcuZG9tRnJvbVBvcyh0LnN0YXRlLnNlbGVjdGlvbi5hbmNob3IpLG49dC5yb290LmdldFNlbGVjdGlvbigpO3JldHVybiB3KGUubm9kZSxlLm9mZnNldCxuLmFuY2hvck5vZGUsbi5hbmNob3JPZmZzZXQpfWZ1bmN0aW9uIFh0KHQsZSl7dmFyIG49dC5zZWxlY3Rpb24scj1uLiRhbmNob3Isbz1uLiRoZWFkLGk9ZT4wP3IubWF4KG8pOnIubWluKG8pLHM9aS5wYXJlbnQuaW5saW5lQ29udGVudD9pLmRlcHRoP3QuZG9jLnJlc29sdmUoZT4wP2kuYWZ0ZXIoKTppLmJlZm9yZSgpKTpudWxsOmk7cmV0dXJuIHMmJmNbIlNlbGVjdGlvbiJdLmZpbmRGcm9tKHMsZSl9ZnVuY3Rpb24gWXQodCxlKXtyZXR1cm4gdC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldFNlbGVjdGlvbihlKS5zY3JvbGxJbnRvVmlldygpKSwhMH1mdW5jdGlvbiBadCh0LGUsbil7dmFyIHI9dC5zdGF0ZS5zZWxlY3Rpb247aWYoIShyIGluc3RhbmNlb2YgY1siVGV4dFNlbGVjdGlvbiJdKSl7aWYociBpbnN0YW5jZW9mIGNbIk5vZGVTZWxlY3Rpb24iXSYmci5ub2RlLmlzSW5saW5lKXJldHVybiBZdCh0LG5ldyBjWyJUZXh0U2VsZWN0aW9uIl0oZT4wP3IuJHRvOnIuJGZyb20pKTt2YXIgbz1YdCh0LnN0YXRlLGUpO3JldHVybiEhbyYmWXQodCxvKX1pZighci5lbXB0eXx8bi5pbmRleE9mKCJzIik+LTEpcmV0dXJuITE7aWYodC5lbmRPZlRleHRibG9jayhlPjA/InJpZ2h0IjoibGVmdCIpKXt2YXIgaT1YdCh0LnN0YXRlLGUpO3JldHVybiEhKGkmJmkgaW5zdGFuY2VvZiBjWyJOb2RlU2VsZWN0aW9uIl0pJiZZdCh0LGkpfWlmKCEoZC5tYWMmJm4uaW5kZXhPZigibSIpPi0xKSl7dmFyIHMsYT1yLiRoZWFkLGw9YS50ZXh0T2Zmc2V0P251bGw6ZTwwP2Eubm9kZUJlZm9yZTphLm5vZGVBZnRlcjtpZighbHx8bC5pc1RleHQpcmV0dXJuITE7dmFyIHU9ZTwwP2EucG9zLWwubm9kZVNpemU6YS5wb3M7cmV0dXJuISEobC5pc0F0b218fChzPXQuZG9jVmlldy5kZXNjQXQodSkpJiYhcy5jb250ZW50RE9NKSYmKGNbIk5vZGVTZWxlY3Rpb24iXS5pc1NlbGVjdGFibGUobCk/WXQodCxuZXcgY1siTm9kZVNlbGVjdGlvbiJdKGU8MD90LnN0YXRlLmRvYy5yZXNvbHZlKGEucG9zLWwubm9kZVNpemUpOmEpKTohIWQud2Via2l0JiZZdCh0LG5ldyBjWyJUZXh0U2VsZWN0aW9uIl0odC5zdGF0ZS5kb2MucmVzb2x2ZShlPDA/dTp1K2wubm9kZVNpemUpKSkpfX1mdW5jdGlvbiBRdCh0KXtyZXR1cm4gMz09dC5ub2RlVHlwZT90Lm5vZGVWYWx1ZS5sZW5ndGg6dC5jaGlsZE5vZGVzLmxlbmd0aH1mdW5jdGlvbiB0ZSh0KXt2YXIgZT10LnBtVmlld0Rlc2M7cmV0dXJuIGUmJjA9PWUuc2l6ZSYmKHQubmV4dFNpYmxpbmd8fCJCUiIhPXQubm9kZU5hbWUpfWZ1bmN0aW9uIGVlKHQpe3ZhciBlPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxuPWUuZm9jdXNOb2RlLHI9ZS5mb2N1c09mZnNldDtpZihuKXt2YXIgbyxpLHM9ITE7Zm9yKGQuZ2Vja28mJjE9PW4ubm9kZVR5cGUmJnI8UXQobikmJnRlKG4uY2hpbGROb2Rlc1tyXSkmJihzPSEwKTs7KWlmKHI+MCl7aWYoMSE9bi5ub2RlVHlwZSlicmVhazt2YXIgYT1uLmNoaWxkTm9kZXNbci0xXTtpZih0ZShhKSlvPW4saT0tLXI7ZWxzZXtpZigzIT1hLm5vZGVUeXBlKWJyZWFrO249YSxyPW4ubm9kZVZhbHVlLmxlbmd0aH19ZWxzZXtpZihyZShuKSlicmVhazt2YXIgYz1uLnByZXZpb3VzU2libGluZzt3aGlsZShjJiZ0ZShjKSlvPW4ucGFyZW50Tm9kZSxpPWcoYyksYz1jLnByZXZpb3VzU2libGluZztpZihjKW49YyxyPVF0KG4pO2Vsc2V7aWYobj1uLnBhcmVudE5vZGUsbj09dC5kb20pYnJlYWs7cj0wfX1zP29lKHQsZSxuLHIpOm8mJm9lKHQsZSxvLGkpfX1mdW5jdGlvbiBuZSh0KXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj1lLmZvY3VzTm9kZSxyPWUuZm9jdXNPZmZzZXQ7aWYobil7Zm9yKHZhciBvLGkscz1RdChuKTs7KWlmKHI8cyl7aWYoMSE9bi5ub2RlVHlwZSlicmVhazt2YXIgYT1uLmNoaWxkTm9kZXNbcl07aWYoIXRlKGEpKWJyZWFrO289bixpPSsrcn1lbHNle2lmKHJlKG4pKWJyZWFrO3ZhciBjPW4ubmV4dFNpYmxpbmc7d2hpbGUoYyYmdGUoYykpbz1jLnBhcmVudE5vZGUsaT1nKGMpKzEsYz1jLm5leHRTaWJsaW5nO2lmKGMpbj1jLHI9MCxzPVF0KG4pO2Vsc2V7aWYobj1uLnBhcmVudE5vZGUsbj09dC5kb20pYnJlYWs7cj1zPTB9fW8mJm9lKHQsZSxvLGkpfX1mdW5jdGlvbiByZSh0KXt2YXIgZT10LnBtVmlld0Rlc2M7cmV0dXJuIGUmJmUubm9kZSYmZS5ub2RlLmlzQmxvY2t9ZnVuY3Rpb24gb2UodCxlLG4scil7aWYoTShlKSl7dmFyIG89ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtvLnNldEVuZChuLHIpLG8uc2V0U3RhcnQobixyKSxlLnJlbW92ZUFsbFJhbmdlcygpLGUuYWRkUmFuZ2Uobyl9ZWxzZSBlLmV4dGVuZCYmZS5leHRlbmQobixyKTt0LmRvbU9ic2VydmVyLnNldEN1clNlbGVjdGlvbigpO3ZhciBpPXQuc3RhdGU7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LnN0YXRlPT1pJiYkdCh0KX0pLDUwKX1mdW5jdGlvbiBpZSh0LGUsbil7dmFyIHI9dC5zdGF0ZS5zZWxlY3Rpb247aWYociBpbnN0YW5jZW9mIGNbIlRleHRTZWxlY3Rpb24iXSYmIXIuZW1wdHl8fG4uaW5kZXhPZigicyIpPi0xKXJldHVybiExO2lmKGQubWFjJiZuLmluZGV4T2YoIm0iKT4tMSlyZXR1cm4hMTt2YXIgbz1yLiRmcm9tLGk9ci4kdG87aWYoIW8ucGFyZW50LmlubGluZUNvbnRlbnR8fHQuZW5kT2ZUZXh0YmxvY2soZTwwPyJ1cCI6ImRvd24iKSl7dmFyIHM9WHQodC5zdGF0ZSxlKTtpZihzJiZzIGluc3RhbmNlb2YgY1siTm9kZVNlbGVjdGlvbiJdKXJldHVybiBZdCh0LHMpfWlmKCFvLnBhcmVudC5pbmxpbmVDb250ZW50KXt2YXIgYT1jWyJTZWxlY3Rpb24iXS5maW5kRnJvbShlPDA/bzppLGUpO3JldHVybiFhfHxZdCh0LGEpfXJldHVybiExfWZ1bmN0aW9uIHNlKHQsZSl7aWYoISh0LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIGNbIlRleHRTZWxlY3Rpb24iXSkpcmV0dXJuITA7dmFyIG49dC5zdGF0ZS5zZWxlY3Rpb24scj1uLiRoZWFkLG89bi4kYW5jaG9yLGk9bi5lbXB0eTtpZighci5zYW1lUGFyZW50KG8pKXJldHVybiEwO2lmKCFpKXJldHVybiExO2lmKHQuZW5kT2ZUZXh0YmxvY2soZT4wPyJmb3J3YXJkIjoiYmFja3dhcmQiKSlyZXR1cm4hMDt2YXIgcz0hci50ZXh0T2Zmc2V0JiYoZTwwP3Iubm9kZUJlZm9yZTpyLm5vZGVBZnRlcik7aWYocyYmIXMuaXNUZXh0KXt2YXIgYT10LnN0YXRlLnRyO3JldHVybiBlPDA/YS5kZWxldGUoci5wb3Mtcy5ub2RlU2l6ZSxyLnBvcyk6YS5kZWxldGUoci5wb3Msci5wb3Mrcy5ub2RlU2l6ZSksdC5kaXNwYXRjaChhKSwhMH1yZXR1cm4hMX1mdW5jdGlvbiBhZSh0LGUsbil7dC5kb21PYnNlcnZlci5zdG9wKCksZS5jb250ZW50RWRpdGFibGU9bix0LmRvbU9ic2VydmVyLnN0YXJ0KCl9ZnVuY3Rpb24gY2UodCl7aWYoZC5zYWZhcmkmJiEodC5zdGF0ZS5zZWxlY3Rpb24uJGhlYWQucGFyZW50T2Zmc2V0PjApKXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj1lLmZvY3VzTm9kZSxyPWUuZm9jdXNPZmZzZXQ7aWYobiYmMT09bi5ub2RlVHlwZSYmMD09ciYmbi5maXJzdENoaWxkJiYiZmFsc2UiPT1uLmZpcnN0Q2hpbGQuY29udGVudEVkaXRhYmxlKXt2YXIgbz1uLmZpcnN0Q2hpbGQ7YWUodCxvLCEwKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBhZSh0LG8sITEpfSksMjApfX19ZnVuY3Rpb24gbGUodCl7dmFyIGU9IiI7cmV0dXJuIHQuY3RybEtleSYmKGUrPSJjIiksdC5tZXRhS2V5JiYoZSs9Im0iKSx0LmFsdEtleSYmKGUrPSJhIiksdC5zaGlmdEtleSYmKGUrPSJzIiksZX1mdW5jdGlvbiB1ZSh0LGUpe3ZhciBuPWUua2V5Q29kZSxyPWxlKGUpO3JldHVybiA4PT1ufHxkLm1hYyYmNzI9PW4mJiJjIj09cj9zZSh0LC0xKXx8ZWUodCk6NDY9PW58fGQubWFjJiY2OD09biYmImMiPT1yP3NlKHQsMSl8fG5lKHQpOjEzPT1ufHwyNz09bnx8KDM3PT1uP1p0KHQsLTEscil8fGVlKHQpOjM5PT1uP1p0KHQsMSxyKXx8bmUodCk6Mzg9PW4/aWUodCwtMSxyKXx8ZWUodCk6NDA9PW4/Y2UodCl8fGllKHQsMSxyKXx8bmUodCk6cj09KGQubWFjPyJtIjoiYyIpJiYoNjY9PW58fDczPT1ufHw4OT09bnx8OTA9PW4pKX1mdW5jdGlvbiBkZSh0LGUsbil7dmFyIHI9dC5kb2NWaWV3LnBhcnNlUmFuZ2UoZSxuKSxvPXIubm9kZSxpPXIuZnJvbU9mZnNldCxzPXIudG9PZmZzZXQsYT1yLmZyb20sYz1yLnRvLHU9dC5yb290LmdldFNlbGVjdGlvbigpLHA9bnVsbCxmPXUuYW5jaG9yTm9kZTtpZihmJiZ0LmRvbS5jb250YWlucygxPT1mLm5vZGVUeXBlP2Y6Zi5wYXJlbnROb2RlKSYmKHA9W3tub2RlOmYsb2Zmc2V0OnUuYW5jaG9yT2Zmc2V0fV0sTSh1KXx8cC5wdXNoKHtub2RlOnUuZm9jdXNOb2RlLG9mZnNldDp1LmZvY3VzT2Zmc2V0fSkpLGQuY2hyb21lJiY4PT09dC5sYXN0S2V5Q29kZSlmb3IodmFyIGg9cztoPmk7aC0tKXt2YXIgbT1vLmNoaWxkTm9kZXNbaC0xXSx2PW0ucG1WaWV3RGVzYztpZigiQlIiPT1tLm5vZGVUeXBlJiYhdil7cz1oO2JyZWFrfWlmKCF2fHx2LnNpemUpYnJlYWt9dmFyIGc9dC5zdGF0ZS5kb2MseT10LnNvbWVQcm9wKCJkb21QYXJzZXIiKXx8bFsiRE9NUGFyc2VyIl0uZnJvbVNjaGVtYSh0LnN0YXRlLnNjaGVtYSksYj1nLnJlc29sdmUoYSksdz1udWxsLFM9eS5wYXJzZShvLHt0b3BOb2RlOmIucGFyZW50LHRvcE1hdGNoOmIucGFyZW50LmNvbnRlbnRNYXRjaEF0KGIuaW5kZXgoKSksdG9wT3BlbjohMCxmcm9tOmksdG86cyxwcmVzZXJ2ZVdoaXRlc3BhY2U6IWIucGFyZW50LnR5cGUuc3BlYy5jb2RlfHwiZnVsbCIsZWRpdGFibGVDb250ZW50OiEwLGZpbmRQb3NpdGlvbnM6cCxydWxlRnJvbU5vZGU6cGUsY29udGV4dDpifSk7aWYocCYmbnVsbCE9cFswXS5wb3Mpe3ZhciB4PXBbMF0ucG9zLGs9cFsxXSYmcFsxXS5wb3M7bnVsbD09ayYmKGs9eCksdz17YW5jaG9yOngrYSxoZWFkOmsrYX19cmV0dXJue2RvYzpTLHNlbDp3LGZyb206YSx0bzpjfX1mdW5jdGlvbiBwZSh0KXt2YXIgZT10LnBtVmlld0Rlc2M7aWYoZSlyZXR1cm4gZS5wYXJzZVJ1bGUoKTtpZigiQlIiPT10Lm5vZGVOYW1lJiZ0LnBhcmVudE5vZGUpe2lmKGQuc2FmYXJpJiYvXih1bHxvbCkkL2kudGVzdCh0LnBhcmVudE5vZGUubm9kZU5hbWUpKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaSIpKSx7c2tpcDpufX1pZih0LnBhcmVudE5vZGUubGFzdENoaWxkPT10fHxkLnNhZmFyaSYmL14odHJ8dGFibGUpJC9pLnRlc3QodC5wYXJlbnROb2RlLm5vZGVOYW1lKSlyZXR1cm57aWdub3JlOiEwfX1lbHNlIGlmKCJJTUciPT10Lm5vZGVOYW1lJiZ0LmdldEF0dHJpYnV0ZSgibWFyay1wbGFjZWhvbGRlciIpKXJldHVybntpZ25vcmU6ITB9fWZ1bmN0aW9uIGZlKHQsZSxuLHIsbyl7aWYoZTwwKXt2YXIgaT10Lmxhc3RTZWxlY3Rpb25UaW1lPkRhdGUubm93KCktNTA/dC5sYXN0U2VsZWN0aW9uT3JpZ2luOm51bGwscz1JdCh0LGkpO2lmKHMmJiF0LnN0YXRlLnNlbGVjdGlvbi5lcShzKSl7dmFyIGE9dC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24ocyk7InBvaW50ZXIiPT1pP2Euc2V0TWV0YSgicG9pbnRlciIsITApOiJrZXkiPT1pJiZhLnNjcm9sbEludG9WaWV3KCksdC5kaXNwYXRjaChhKX19ZWxzZXt2YXIgbD10LnN0YXRlLmRvYy5yZXNvbHZlKGUpLHU9bC5zaGFyZWREZXB0aChuKTtlPWwuYmVmb3JlKHUrMSksbj10LnN0YXRlLmRvYy5yZXNvbHZlKG4pLmFmdGVyKHUrMSk7dmFyIHAsZixoPXQuc3RhdGUuc2VsZWN0aW9uLG09ZGUodCxlLG4pLHY9dC5zdGF0ZS5kb2MsZz12LnNsaWNlKG0uZnJvbSxtLnRvKTs4PT09dC5sYXN0S2V5Q29kZSYmRGF0ZS5ub3coKS0xMDA8dC5sYXN0S2V5Q29kZVRpbWU/KHA9dC5zdGF0ZS5zZWxlY3Rpb24udG8sZj0iZW5kIik6KHA9dC5zdGF0ZS5zZWxlY3Rpb24uZnJvbSxmPSJzdGFydCIpLHQubGFzdEtleUNvZGU9bnVsbDt2YXIgeT15ZShnLmNvbnRlbnQsbS5kb2MuY29udGVudCxtLmZyb20scCxmKTtpZigheSl7aWYoIShyJiZoIGluc3RhbmNlb2YgY1siVGV4dFNlbGVjdGlvbiJdJiYhaC5lbXB0eSYmaC4kaGVhZC5zYW1lUGFyZW50KGguJGFuY2hvcikpfHx0LmNvbXBvc2luZ3x8bS5zZWwmJm0uc2VsLmFuY2hvciE9bS5zZWwuaGVhZCl7aWYobS5zZWwpe3ZhciBiPWhlKHQsdC5zdGF0ZS5kb2MsbS5zZWwpO2ImJiFiLmVxKHQuc3RhdGUuc2VsZWN0aW9uKSYmdC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldFNlbGVjdGlvbihiKSl9cmV0dXJufXk9e3N0YXJ0OmguZnJvbSxlbmRBOmgudG8sZW5kQjpoLnRvfX10LmRvbUNoYW5nZUNvdW50KyssdC5zdGF0ZS5zZWxlY3Rpb24uZnJvbTx0LnN0YXRlLnNlbGVjdGlvbi50byYmeS5zdGFydD09eS5lbmRCJiZ0LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIGNbIlRleHRTZWxlY3Rpb24iXSYmKHkuc3RhcnQ+dC5zdGF0ZS5zZWxlY3Rpb24uZnJvbSYmeS5zdGFydDw9dC5zdGF0ZS5zZWxlY3Rpb24uZnJvbSsyP3kuc3RhcnQ9dC5zdGF0ZS5zZWxlY3Rpb24uZnJvbTp5LmVuZEE8dC5zdGF0ZS5zZWxlY3Rpb24udG8mJnkuZW5kQT49dC5zdGF0ZS5zZWxlY3Rpb24udG8tMiYmKHkuZW5kQis9dC5zdGF0ZS5zZWxlY3Rpb24udG8teS5lbmRBLHkuZW5kQT10LnN0YXRlLnNlbGVjdGlvbi50bykpLGQuaWUmJmQuaWVfdmVyc2lvbjw9MTEmJnkuZW5kQj09eS5zdGFydCsxJiZ5LmVuZEE9PXkuc3RhcnQmJnkuc3RhcnQ+bS5mcm9tJiYiIMKgIj09bS5kb2MudGV4dEJldHdlZW4oeS5zdGFydC1tLmZyb20tMSx5LnN0YXJ0LW0uZnJvbSsxKSYmKHkuc3RhcnQtLSx5LmVuZEEtLSx5LmVuZEItLSk7dmFyIHcsUz1tLmRvYy5yZXNvbHZlTm9DYWNoZSh5LnN0YXJ0LW0uZnJvbSkseD1tLmRvYy5yZXNvbHZlTm9DYWNoZSh5LmVuZEItbS5mcm9tKSxrPVMuc2FtZVBhcmVudCh4KSYmUy5wYXJlbnQuaW5saW5lQ29udGVudDtpZigoZC5pb3MmJnQubGFzdElPU0VudGVyPkRhdGUubm93KCktMjI1JiYoIWt8fG8uc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIkRJViI9PXQubm9kZU5hbWV8fCJQIj09dC5ub2RlTmFtZX0pKSl8fCFrJiZTLnBvczxtLmRvYy5jb250ZW50LnNpemUmJih3PWNbIlNlbGVjdGlvbiJdLmZpbmRGcm9tKG0uZG9jLnJlc29sdmUoUy5wb3MrMSksMSwhMCkpJiZ3LmhlYWQ9PXgucG9zKSYmdC5zb21lUHJvcCgiaGFuZGxlS2V5RG93biIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQsTigxMywiRW50ZXIiKSl9KSkpdC5sYXN0SU9TRW50ZXI9MDtlbHNlIGlmKHQuc3RhdGUuc2VsZWN0aW9uLmFuY2hvcj55LnN0YXJ0JiZ2ZSh2LHkuc3RhcnQseS5lbmRBLFMseCkmJnQuc29tZVByb3AoImhhbmRsZUtleURvd24iLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0LE4oOCwiQmFja3NwYWNlIikpfSkpKWQuYW5kcm9pZCYmZC5jaHJvbWUmJnQuZG9tT2JzZXJ2ZXIuc3VwcHJlc3NTZWxlY3Rpb25VcGRhdGVzKCk7ZWxzZXtkLmFuZHJvaWQmJiFrJiZTLnN0YXJ0KCkhPXguc3RhcnQoKSYmMD09eC5wYXJlbnRPZmZzZXQmJlMuZGVwdGg9PXguZGVwdGgmJm0uc2VsJiZtLnNlbC5hbmNob3I9PW0uc2VsLmhlYWQmJm0uc2VsLmhlYWQ9PXkuZW5kQSYmKHkuZW5kQi09Mix4PW0uZG9jLnJlc29sdmVOb0NhY2hlKHkuZW5kQi1tLmZyb20pLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5zb21lUHJvcCgiaGFuZGxlS2V5RG93biIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQsTigxMywiRW50ZXIiKSl9KSl9KSwyMCkpO3ZhciBDLE8sTSxULEE9eS5zdGFydCxEPXkuZW5kQTtpZihrKWlmKFMucG9zPT14LnBvcylkLmllJiZkLmllX3ZlcnNpb248PTExJiYwPT1TLnBhcmVudE9mZnNldCYmKHQuZG9tT2JzZXJ2ZXIuc3VwcHJlc3NTZWxlY3Rpb25VcGRhdGVzKCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gJHQodCl9KSwyMCkpLEM9dC5zdGF0ZS50ci5kZWxldGUoQSxEKSxPPXYucmVzb2x2ZSh5LnN0YXJ0KS5tYXJrc0Fjcm9zcyh2LnJlc29sdmUoeS5lbmRBKSk7ZWxzZSBpZih5LmVuZEE9PXkuZW5kQiYmKFQ9di5yZXNvbHZlKHkuc3RhcnQpKSYmKE09bWUoUy5wYXJlbnQuY29udGVudC5jdXQoUy5wYXJlbnRPZmZzZXQseC5wYXJlbnRPZmZzZXQpLFQucGFyZW50LmNvbnRlbnQuY3V0KFQucGFyZW50T2Zmc2V0LHkuZW5kQS1ULnN0YXJ0KCkpKSkpQz10LnN0YXRlLnRyLCJhZGQiPT1NLnR5cGU/Qy5hZGRNYXJrKEEsRCxNLm1hcmspOkMucmVtb3ZlTWFyayhBLEQsTS5tYXJrKTtlbHNlIGlmKFMucGFyZW50LmNoaWxkKFMuaW5kZXgoKSkuaXNUZXh0JiZTLmluZGV4KCk9PXguaW5kZXgoKS0oeC50ZXh0T2Zmc2V0PzA6MSkpe3ZhciBFPVMucGFyZW50LnRleHRCZXR3ZWVuKFMucGFyZW50T2Zmc2V0LHgucGFyZW50T2Zmc2V0KTtpZih0LnNvbWVQcm9wKCJoYW5kbGVUZXh0SW5wdXQiLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0LEEsRCxFKX0pKSlyZXR1cm47Qz10LnN0YXRlLnRyLmluc2VydFRleHQoRSxBLEQpfWlmKEN8fChDPXQuc3RhdGUudHIucmVwbGFjZShBLEQsbS5kb2Muc2xpY2UoeS5zdGFydC1tLmZyb20seS5lbmRCLW0uZnJvbSkpKSxtLnNlbCl7dmFyIFI9aGUodCxDLmRvYyxtLnNlbCk7UiYmIShkLmNocm9tZSYmZC5hbmRyb2lkJiZ0LmNvbXBvc2luZyYmUi5lbXB0eSYmKFIuaGVhZD09QXx8Ui5oZWFkPT1DLm1hcHBpbmcubWFwKEQpLTEpfHxkLmllJiZSLmVtcHR5JiZSLmhlYWQ9PUEpJiZDLnNldFNlbGVjdGlvbihSKX1PJiZDLmVuc3VyZU1hcmtzKE8pLHQuZGlzcGF0Y2goQy5zY3JvbGxJbnRvVmlldygpKX19fWZ1bmN0aW9uIGhlKHQsZSxuKXtyZXR1cm4gTWF0aC5tYXgobi5hbmNob3Isbi5oZWFkKT5lLmNvbnRlbnQuc2l6ZT9udWxsOkt0KHQsZS5yZXNvbHZlKG4uYW5jaG9yKSxlLnJlc29sdmUobi5oZWFkKSl9ZnVuY3Rpb24gbWUodCxlKXtmb3IodmFyIG4scixvLGk9dC5maXJzdENoaWxkLm1hcmtzLHM9ZS5maXJzdENoaWxkLm1hcmtzLGE9aSxjPXMsdT0wO3U8cy5sZW5ndGg7dSsrKWE9c1t1XS5yZW1vdmVGcm9tU2V0KGEpO2Zvcih2YXIgZD0wO2Q8aS5sZW5ndGg7ZCsrKWM9aVtkXS5yZW1vdmVGcm9tU2V0KGMpO2lmKDE9PWEubGVuZ3RoJiYwPT1jLmxlbmd0aClyPWFbMF0sbj0iYWRkIixvPWZ1bmN0aW9uKHQpe3JldHVybiB0Lm1hcmsoci5hZGRUb1NldCh0Lm1hcmtzKSl9O2Vsc2V7aWYoMCE9YS5sZW5ndGh8fDEhPWMubGVuZ3RoKXJldHVybiBudWxsO3I9Y1swXSxuPSJyZW1vdmUiLG89ZnVuY3Rpb24odCl7cmV0dXJuIHQubWFyayhyLnJlbW92ZUZyb21TZXQodC5tYXJrcykpfX1mb3IodmFyIHA9W10sZj0wO2Y8ZS5jaGlsZENvdW50O2YrKylwLnB1c2gobyhlLmNoaWxkKGYpKSk7aWYobFsiRnJhZ21lbnQiXS5mcm9tKHApLmVxKHQpKXJldHVybnttYXJrOnIsdHlwZTpufX1mdW5jdGlvbiB2ZSh0LGUsbixyLG8pe2lmKCFyLnBhcmVudC5pc1RleHRibG9ja3x8bi1lPD1vLnBvcy1yLnBvc3x8Z2UociwhMCwhMSk8by5wb3MpcmV0dXJuITE7dmFyIGk9dC5yZXNvbHZlKGUpO2lmKGkucGFyZW50T2Zmc2V0PGkucGFyZW50LmNvbnRlbnQuc2l6ZXx8IWkucGFyZW50LmlzVGV4dGJsb2NrKXJldHVybiExO3ZhciBzPXQucmVzb2x2ZShnZShpLCEwLCEwKSk7cmV0dXJuISghcy5wYXJlbnQuaXNUZXh0YmxvY2t8fHMucG9zPm58fGdlKHMsITAsITEpPG4pJiZyLnBhcmVudC5jb250ZW50LmN1dChyLnBhcmVudE9mZnNldCkuZXEocy5wYXJlbnQuY29udGVudCl9ZnVuY3Rpb24gZ2UodCxlLG4pe3ZhciByPXQuZGVwdGgsbz1lP3QuZW5kKCk6dC5wb3M7d2hpbGUocj4wJiYoZXx8dC5pbmRleEFmdGVyKHIpPT10Lm5vZGUocikuY2hpbGRDb3VudCkpci0tLG8rKyxlPSExO2lmKG4pe3ZhciBpPXQubm9kZShyKS5tYXliZUNoaWxkKHQuaW5kZXhBZnRlcihyKSk7d2hpbGUoaSYmIWkuaXNMZWFmKWk9aS5maXJzdENoaWxkLG8rK31yZXR1cm4gb31mdW5jdGlvbiB5ZSh0LGUsbixyLG8pe3ZhciBpPXQuZmluZERpZmZTdGFydChlLG4pO2lmKG51bGw9PWkpcmV0dXJuIG51bGw7dmFyIHM9dC5maW5kRGlmZkVuZChlLG4rdC5zaXplLG4rZS5zaXplKSxhPXMuYSxjPXMuYjtpZigiZW5kIj09byl7dmFyIGw9TWF0aC5tYXgoMCxpLU1hdGgubWluKGEsYykpO3ItPWErbC1pfWlmKGE8aSYmdC5zaXplPGUuc2l6ZSl7dmFyIHU9cjw9aSYmcj49YT9pLXI6MDtpLT11LGM9aSsoYy1hKSxhPWl9ZWxzZSBpZihjPGkpe3ZhciBkPXI8PWkmJnI+PWM/aS1yOjA7aS09ZCxhPWkrKGEtYyksYz1pfXJldHVybntzdGFydDppLGVuZEE6YSxlbmRCOmN9fWZ1bmN0aW9uIGJlKHQsZSl7dmFyIG49W10scj1lLmNvbnRlbnQsbz1lLm9wZW5TdGFydCxpPWUub3BlbkVuZDt3aGlsZShvPjEmJmk+MSYmMT09ci5jaGlsZENvdW50JiYxPT1yLmZpcnN0Q2hpbGQuY2hpbGRDb3VudCl7by0tLGktLTt2YXIgcz1yLmZpcnN0Q2hpbGQ7bi5wdXNoKHMudHlwZS5uYW1lLHMudHlwZS5oYXNSZXF1aXJlZEF0dHJzKCk/cy5hdHRyczpudWxsKSxyPXMuY29udGVudH12YXIgYT10LnNvbWVQcm9wKCJjbGlwYm9hcmRTZXJpYWxpemVyIil8fGxbIkRPTVNlcmlhbGl6ZXIiXS5mcm9tU2NoZW1hKHQuc3RhdGUuc2NoZW1hKSxjPUFlKCksdT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3UuYXBwZW5kQ2hpbGQoYS5zZXJpYWxpemVGcmFnbWVudChyLHtkb2N1bWVudDpjfSkpO3ZhciBkLHA9dS5maXJzdENoaWxkO3doaWxlKHAmJjE9PXAubm9kZVR5cGUmJihkPU5lW3Aubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pKXtmb3IodmFyIGY9ZC5sZW5ndGgtMTtmPj0wO2YtLSl7dmFyIGg9Yy5jcmVhdGVFbGVtZW50KGRbZl0pO3doaWxlKHUuZmlyc3RDaGlsZCloLmFwcGVuZENoaWxkKHUuZmlyc3RDaGlsZCk7dS5hcHBlbmRDaGlsZChoKX1wPXUuZmlyc3RDaGlsZH1wJiYxPT1wLm5vZGVUeXBlJiZwLnNldEF0dHJpYnV0ZSgiZGF0YS1wbS1zbGljZSIsbysiICIraSsiICIrSlNPTi5zdHJpbmdpZnkobikpO3ZhciBtPXQuc29tZVByb3AoImNsaXBib2FyZFRleHRTZXJpYWxpemVyIiwoZnVuY3Rpb24odCl7cmV0dXJuIHQoZSl9KSl8fGUuY29udGVudC50ZXh0QmV0d2VlbigwLGUuY29udGVudC5zaXplLCJcblxuIik7cmV0dXJue2RvbTp1LHRleHQ6bX19ZnVuY3Rpb24gd2UodCxlLG4scixvKXt2YXIgaSxzLGE9by5wYXJlbnQudHlwZS5zcGVjLmNvZGU7aWYoIW4mJiFlKXJldHVybiBudWxsO3ZhciBjPWUmJihyfHxhfHwhbik7aWYoYyl7aWYodC5zb21lUHJvcCgidHJhbnNmb3JtUGFzdGVkVGV4dCIsKGZ1bmN0aW9uKHQpe2U9dChlLGF8fHIpfSkpLGEpcmV0dXJuIG5ldyBsWyJTbGljZSJdKGxbIkZyYWdtZW50Il0uZnJvbSh0LnN0YXRlLnNjaGVtYS50ZXh0KGUpKSwwLDApO3ZhciB1PXQuc29tZVByb3AoImNsaXBib2FyZFRleHRQYXJzZXIiLChmdW5jdGlvbih0KXtyZXR1cm4gdChlLG8scil9KSk7dT9zPXU6KGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksZS50cmltKCkuc3BsaXQoLyg/OlxyXG4/fFxuKSsvKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKSkudGV4dENvbnRlbnQ9dH0pKSl9ZWxzZSB0LnNvbWVQcm9wKCJ0cmFuc2Zvcm1QYXN0ZWRIVE1MIiwoZnVuY3Rpb24odCl7bj10KG4pfSkpLGk9RGUobik7dmFyIGQ9aSYmaS5xdWVyeVNlbGVjdG9yKCJbZGF0YS1wbS1zbGljZV0iKSxwPWQmJi9eKFxkKykgKFxkKykgKC4qKS8uZXhlYyhkLmdldEF0dHJpYnV0ZSgiZGF0YS1wbS1zbGljZSIpKTtpZighcyl7dmFyIGY9dC5zb21lUHJvcCgiY2xpcGJvYXJkUGFyc2VyIil8fHQuc29tZVByb3AoImRvbVBhcnNlciIpfHxsWyJET01QYXJzZXIiXS5mcm9tU2NoZW1hKHQuc3RhdGUuc2NoZW1hKTtzPWYucGFyc2VTbGljZShpLHtwcmVzZXJ2ZVdoaXRlc3BhY2U6ISghYyYmIXApLGNvbnRleHQ6b30pfXJldHVybiBzPXA/RWUoTWUocywrcFsxXSwrcFsyXSkscFszXSk6bFsiU2xpY2UiXS5tYXhPcGVuKFNlKHMuY29udGVudCxvKSwhMSksdC5zb21lUHJvcCgidHJhbnNmb3JtUGFzdGVkIiwoZnVuY3Rpb24odCl7cz10KHMpfSkpLHN9ZnVuY3Rpb24gU2UodCxlKXtpZih0LmNoaWxkQ291bnQ8MilyZXR1cm4gdDtmb3IodmFyIG49ZnVuY3Rpb24obil7dmFyIHI9ZS5ub2RlKG4pLG89ci5jb250ZW50TWF0Y2hBdChlLmluZGV4KG4pKSxpPXZvaWQgMCxzPVtdO2lmKHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYocyl7dmFyIGUsbj1vLmZpbmRXcmFwcGluZyh0LnR5cGUpO2lmKCFuKXJldHVybiBzPW51bGw7aWYoZT1zLmxlbmd0aCYmaS5sZW5ndGgmJmtlKG4saSx0LHNbcy5sZW5ndGgtMV0sMCkpc1tzLmxlbmd0aC0xXT1lO2Vsc2V7cy5sZW5ndGgmJihzW3MubGVuZ3RoLTFdPUNlKHNbcy5sZW5ndGgtMV0saS5sZW5ndGgpKTt2YXIgcj14ZSh0LG4pO3MucHVzaChyKSxvPW8ubWF0Y2hUeXBlKHIudHlwZSxyLmF0dHJzKSxpPW59fX0pKSxzKXJldHVybnt2OmxbIkZyYWdtZW50Il0uZnJvbShzKX19LHI9ZS5kZXB0aDtyPj0wO3ItLSl7dmFyIG89bihyKTtpZihvKXJldHVybiBvLnZ9cmV0dXJuIHR9ZnVuY3Rpb24geGUodCxlLG4pe3ZvaWQgMD09PW4mJihuPTApO2Zvcih2YXIgcj1lLmxlbmd0aC0xO3I+PW47ci0tKXQ9ZVtyXS5jcmVhdGUobnVsbCxsWyJGcmFnbWVudCJdLmZyb20odCkpO3JldHVybiB0fWZ1bmN0aW9uIGtlKHQsZSxuLHIsbyl7aWYobzx0Lmxlbmd0aCYmbzxlLmxlbmd0aCYmdFtvXT09ZVtvXSl7dmFyIGk9a2UodCxlLG4sci5sYXN0Q2hpbGQsbysxKTtpZihpKXJldHVybiByLmNvcHkoci5jb250ZW50LnJlcGxhY2VDaGlsZChyLmNoaWxkQ291bnQtMSxpKSk7dmFyIHM9ci5jb250ZW50TWF0Y2hBdChyLmNoaWxkQ291bnQpO2lmKHMubWF0Y2hUeXBlKG89PXQubGVuZ3RoLTE/bi50eXBlOnRbbysxXSkpcmV0dXJuIHIuY29weShyLmNvbnRlbnQuYXBwZW5kKGxbIkZyYWdtZW50Il0uZnJvbSh4ZShuLHQsbysxKSkpKX19ZnVuY3Rpb24gQ2UodCxlKXtpZigwPT1lKXJldHVybiB0O3ZhciBuPXQuY29udGVudC5yZXBsYWNlQ2hpbGQodC5jaGlsZENvdW50LTEsQ2UodC5sYXN0Q2hpbGQsZS0xKSkscj10LmNvbnRlbnRNYXRjaEF0KHQuY2hpbGRDb3VudCkuZmlsbEJlZm9yZShsWyJGcmFnbWVudCJdLmVtcHR5LCEwKTtyZXR1cm4gdC5jb3B5KG4uYXBwZW5kKHIpKX1mdW5jdGlvbiBPZSh0LGUsbixyLG8saSl7dmFyIHM9ZTwwP3QuZmlyc3RDaGlsZDp0Lmxhc3RDaGlsZCxhPXMuY29udGVudDtyZXR1cm4gbzxyLTEmJihhPU9lKGEsZSxuLHIsbysxLGkpKSxvPj1uJiYoYT1lPDA/cy5jb250ZW50TWF0Y2hBdCgwKS5maWxsQmVmb3JlKGEsdC5jaGlsZENvdW50PjF8fGk8PW8pLmFwcGVuZChhKTphLmFwcGVuZChzLmNvbnRlbnRNYXRjaEF0KHMuY2hpbGRDb3VudCkuZmlsbEJlZm9yZShsWyJGcmFnbWVudCJdLmVtcHR5LCEwKSkpLHQucmVwbGFjZUNoaWxkKGU8MD8wOnQuY2hpbGRDb3VudC0xLHMuY29weShhKSl9ZnVuY3Rpb24gTWUodCxlLG4pe3JldHVybiBlPHQub3BlblN0YXJ0JiYodD1uZXcgbFsiU2xpY2UiXShPZSh0LmNvbnRlbnQsLTEsZSx0Lm9wZW5TdGFydCwwLHQub3BlbkVuZCksZSx0Lm9wZW5FbmQpKSxuPHQub3BlbkVuZCYmKHQ9bmV3IGxbIlNsaWNlIl0oT2UodC5jb250ZW50LDEsbix0Lm9wZW5FbmQsMCwwKSx0Lm9wZW5TdGFydCxuKSksdH12YXIgTmU9e3RoZWFkOlsidGFibGUiXSx0Ym9keTpbInRhYmxlIl0sdGZvb3Q6WyJ0YWJsZSJdLGNhcHRpb246WyJ0YWJsZSJdLGNvbGdyb3VwOlsidGFibGUiXSxjb2w6WyJ0YWJsZSIsImNvbGdyb3VwIl0sdHI6WyJ0YWJsZSIsInRib2R5Il0sdGQ6WyJ0YWJsZSIsInRib2R5IiwidHIiXSx0aDpbInRhYmxlIiwidGJvZHkiLCJ0ciJdfSxUZT1udWxsO2Z1bmN0aW9uIEFlKCl7cmV0dXJuIFRlfHwoVGU9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCJ0aXRsZSIpKX1mdW5jdGlvbiBEZSh0KXt2YXIgZT0vKFxzKjxtZXRhIFtePl0qPikqLy5leGVjKHQpO2UmJih0PXQuc2xpY2UoZVswXS5sZW5ndGgpKTt2YXIgbixyPUFlKCkuY3JlYXRlRWxlbWVudCgiZGl2Iiksbz0vKD86PG1ldGEgW14+XSo+KSo8KFthLXpdW14+XHNdKykvaS5leGVjKHQpLGk9MDsobj1vJiZOZVtvWzFdLnRvTG93ZXJDYXNlKCldKSYmKHQ9bi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiI8Iit0KyI+In0pKS5qb2luKCIiKSt0K24ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4iPC8iK3QrIj4ifSkpLnJldmVyc2UoKS5qb2luKCIiKSxpPW4ubGVuZ3RoKSxyLmlubmVySFRNTD10O2Zvcih2YXIgcz0wO3M8aTtzKyspcj1yLmZpcnN0Q2hpbGQ7cmV0dXJuIHJ9ZnVuY3Rpb24gRWUodCxlKXtpZighdC5zaXplKXJldHVybiB0O3ZhciBuLHI9dC5jb250ZW50LmZpcnN0Q2hpbGQudHlwZS5zY2hlbWE7dHJ5e249SlNPTi5wYXJzZShlKX1jYXRjaCh1KXtyZXR1cm4gdH1mb3IodmFyIG89dC5jb250ZW50LGk9dC5vcGVuU3RhcnQscz10Lm9wZW5FbmQsYT1uLmxlbmd0aC0yO2E+PTA7YS09Mil7dmFyIGM9ci5ub2Rlc1tuW2FdXTtpZighY3x8Yy5oYXNSZXF1aXJlZEF0dHJzKCkpYnJlYWs7bz1sWyJGcmFnbWVudCJdLmZyb20oYy5jcmVhdGUoblthKzFdLG8pKSxpKysscysrfXJldHVybiBuZXcgbFsiU2xpY2UiXShvLGkscyl9dmFyIFJlPXtjaGlsZExpc3Q6ITAsY2hhcmFjdGVyRGF0YTohMCxjaGFyYWN0ZXJEYXRhT2xkVmFsdWU6ITAsYXR0cmlidXRlczohMCxhdHRyaWJ1dGVPbGRWYWx1ZTohMCxzdWJ0cmVlOiEwfSxfZT1kLmllJiZkLmllX3ZlcnNpb248PTExLFBlPWZ1bmN0aW9uKCl7dGhpcy5hbmNob3JOb2RlPXRoaXMuYW5jaG9yT2Zmc2V0PXRoaXMuZm9jdXNOb2RlPXRoaXMuZm9jdXNPZmZzZXQ9bnVsbH07UGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt0aGlzLmFuY2hvck5vZGU9dC5hbmNob3JOb2RlLHRoaXMuYW5jaG9yT2Zmc2V0PXQuYW5jaG9yT2Zmc2V0LHRoaXMuZm9jdXNOb2RlPXQuZm9jdXNOb2RlLHRoaXMuZm9jdXNPZmZzZXQ9dC5mb2N1c09mZnNldH0sUGUucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0LmFuY2hvck5vZGU9PXRoaXMuYW5jaG9yTm9kZSYmdC5hbmNob3JPZmZzZXQ9PXRoaXMuYW5jaG9yT2Zmc2V0JiZ0LmZvY3VzTm9kZT09dGhpcy5mb2N1c05vZGUmJnQuZm9jdXNPZmZzZXQ9PXRoaXMuZm9jdXNPZmZzZXR9O3ZhciB6ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy52aWV3PXQsdGhpcy5oYW5kbGVET01DaGFuZ2U9ZSx0aGlzLnF1ZXVlPVtdLHRoaXMuZmx1c2hpbmdTb29uPS0xLHRoaXMub2JzZXJ2ZXI9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXImJm5ldyB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcigoZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspbi5xdWV1ZS5wdXNoKHRbZV0pO2QuaWUmJmQuaWVfdmVyc2lvbjw9MTEmJnQuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuImNoaWxkTGlzdCI9PXQudHlwZSYmdC5yZW1vdmVkTm9kZXMubGVuZ3RofHwiY2hhcmFjdGVyRGF0YSI9PXQudHlwZSYmdC5vbGRWYWx1ZS5sZW5ndGg+dC50YXJnZXQubm9kZVZhbHVlLmxlbmd0aH0pKT9uLmZsdXNoU29vbigpOm4uZmx1c2goKX0pKSx0aGlzLmN1cnJlbnRTZWxlY3Rpb249bmV3IFBlLF9lJiYodGhpcy5vbkNoYXJEYXRhPWZ1bmN0aW9uKHQpe24ucXVldWUucHVzaCh7dGFyZ2V0OnQudGFyZ2V0LHR5cGU6ImNoYXJhY3RlckRhdGEiLG9sZFZhbHVlOnQucHJldlZhbHVlfSksbi5mbHVzaFNvb24oKX0pLHRoaXMub25TZWxlY3Rpb25DaGFuZ2U9dGhpcy5vblNlbGVjdGlvbkNoYW5nZS5iaW5kKHRoaXMpLHRoaXMuc3VwcHJlc3NpbmdTZWxlY3Rpb25VcGRhdGVzPSExfTt6ZS5wcm90b3R5cGUuZmx1c2hTb29uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmZsdXNoaW5nU29vbjwwJiYodGhpcy5mbHVzaGluZ1Nvb249d2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5mbHVzaGluZ1Nvb249LTEsdC5mbHVzaCgpfSksMjApKX0semUucHJvdG90eXBlLmZvcmNlRmx1c2g9ZnVuY3Rpb24oKXt0aGlzLmZsdXNoaW5nU29vbj4tMSYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5mbHVzaGluZ1Nvb24pLHRoaXMuZmx1c2hpbmdTb29uPS0xLHRoaXMuZmx1c2goKSl9LHplLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe3RoaXMub2JzZXJ2ZXImJnRoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnZpZXcuZG9tLFJlKSxfZSYmdGhpcy52aWV3LmRvbS5hZGRFdmVudExpc3RlbmVyKCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQiLHRoaXMub25DaGFyRGF0YSksdGhpcy5jb25uZWN0U2VsZWN0aW9uKCl9LHplLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLm9ic2VydmVyKXt2YXIgZT10aGlzLm9ic2VydmVyLnRha2VSZWNvcmRzKCk7aWYoZS5sZW5ndGgpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXRoaXMucXVldWUucHVzaChlW25dKTt3aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5mbHVzaCgpfSksMjApfXRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpfV9lJiZ0aGlzLnZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcy5vbkNoYXJEYXRhKSx0aGlzLmRpc2Nvbm5lY3RTZWxlY3Rpb24oKX0semUucHJvdG90eXBlLmNvbm5lY3RTZWxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLnZpZXcuZG9tLm93bmVyRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIix0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKX0semUucHJvdG90eXBlLmRpc2Nvbm5lY3RTZWxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLnZpZXcuZG9tLm93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIix0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKX0semUucHJvdG90eXBlLnN1cHByZXNzU2VsZWN0aW9uVXBkYXRlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXM9ITAsc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXM9ITF9KSw1MCl9LHplLnByb3RvdHlwZS5vblNlbGVjdGlvbkNoYW5nZT1mdW5jdGlvbigpe2lmKEp0KHRoaXMudmlldykpe2lmKHRoaXMuc3VwcHJlc3NpbmdTZWxlY3Rpb25VcGRhdGVzKXJldHVybiAkdCh0aGlzLnZpZXcpO2lmKGQuaWUmJmQuaWVfdmVyc2lvbjw9MTEmJiF0aGlzLnZpZXcuc3RhdGUuc2VsZWN0aW9uLmVtcHR5KXt2YXIgdD10aGlzLnZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKTtpZih0LmZvY3VzTm9kZSYmdyh0LmZvY3VzTm9kZSx0LmZvY3VzT2Zmc2V0LHQuYW5jaG9yTm9kZSx0LmFuY2hvck9mZnNldCkpcmV0dXJuIHRoaXMuZmx1c2hTb29uKCl9dGhpcy5mbHVzaCgpfX0semUucHJvdG90eXBlLnNldEN1clNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMuY3VycmVudFNlbGVjdGlvbi5zZXQodGhpcy52aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKCkpfSx6ZS5wcm90b3R5cGUuaWdub3JlU2VsZWN0aW9uQ2hhbmdlPWZ1bmN0aW9uKHQpe2lmKDA9PXQucmFuZ2VDb3VudClyZXR1cm4hMDt2YXIgZT10LmdldFJhbmdlQXQoMCkuY29tbW9uQW5jZXN0b3JDb250YWluZXIsbj10aGlzLnZpZXcuZG9jVmlldy5uZWFyZXN0RGVzYyhlKTtyZXR1cm4gbiYmbi5pZ25vcmVNdXRhdGlvbih7dHlwZToic2VsZWN0aW9uIix0YXJnZXQ6Mz09ZS5ub2RlVHlwZT9lLnBhcmVudE5vZGU6ZX0pPyh0aGlzLnNldEN1clNlbGVjdGlvbigpLCEwKTp2b2lkIDB9LHplLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe2lmKHRoaXMudmlldy5kb2NWaWV3JiYhKHRoaXMuZmx1c2hpbmdTb29uPi0xKSl7dmFyIHQ9dGhpcy5vYnNlcnZlcj90aGlzLm9ic2VydmVyLnRha2VSZWNvcmRzKCk6W107dGhpcy5xdWV1ZS5sZW5ndGgmJih0PXRoaXMucXVldWUuY29uY2F0KHQpLHRoaXMucXVldWUubGVuZ3RoPTApO3ZhciBlPXRoaXMudmlldy5yb290LmdldFNlbGVjdGlvbigpLG49IXRoaXMuc3VwcHJlc3NpbmdTZWxlY3Rpb25VcGRhdGVzJiYhdGhpcy5jdXJyZW50U2VsZWN0aW9uLmVxKGUpJiZVdCh0aGlzLnZpZXcpJiYhdGhpcy5pZ25vcmVTZWxlY3Rpb25DaGFuZ2UoZSkscj0tMSxvPS0xLGk9ITEscz1bXTtpZih0aGlzLnZpZXcuZWRpdGFibGUpZm9yKHZhciBhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciBjPXRoaXMucmVnaXN0ZXJNdXRhdGlvbih0W2FdLHMpO2MmJihyPXI8MD9jLmZyb206TWF0aC5taW4oYy5mcm9tLHIpLG89bzwwP2MudG86TWF0aC5tYXgoYy50byxvKSxjLnR5cGVPdmVyJiYoaT0hMCkpfWlmKGQuZ2Vja28mJnMubGVuZ3RoPjEpe3ZhciBsPXMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4iQlIiPT10Lm5vZGVOYW1lfSkpO2lmKDI9PWwubGVuZ3RoKXt2YXIgdT1sWzBdLHA9bFsxXTt1LnBhcmVudE5vZGUmJnUucGFyZW50Tm9kZS5wYXJlbnROb2RlPT1wLnBhcmVudE5vZGU/cC5yZW1vdmUoKTp1LnJlbW92ZSgpfX0ocj4tMXx8bikmJihyPi0xJiYodGhpcy52aWV3LmRvY1ZpZXcubWFya0RpcnR5KHIsbyksJGUodGhpcy52aWV3KSksdGhpcy5oYW5kbGVET01DaGFuZ2UocixvLGkscyksdGhpcy52aWV3LmRvY1ZpZXcuZGlydHk/dGhpcy52aWV3LnVwZGF0ZVN0YXRlKHRoaXMudmlldy5zdGF0ZSk6dGhpcy5jdXJyZW50U2VsZWN0aW9uLmVxKGUpfHwkdCh0aGlzLnZpZXcpKX19LHplLnByb3RvdHlwZS5yZWdpc3Rlck11dGF0aW9uPWZ1bmN0aW9uKHQsZSl7aWYoZS5pbmRleE9mKHQudGFyZ2V0KT4tMSlyZXR1cm4gbnVsbDt2YXIgbj10aGlzLnZpZXcuZG9jVmlldy5uZWFyZXN0RGVzYyh0LnRhcmdldCk7aWYoImF0dHJpYnV0ZXMiPT10LnR5cGUmJihuPT10aGlzLnZpZXcuZG9jVmlld3x8ImNvbnRlbnRlZGl0YWJsZSI9PXQuYXR0cmlidXRlTmFtZXx8InN0eWxlIj09dC5hdHRyaWJ1dGVOYW1lJiYhdC5vbGRWYWx1ZSYmIXQudGFyZ2V0LmdldEF0dHJpYnV0ZSgic3R5bGUiKSkpcmV0dXJuIG51bGw7aWYoIW58fG4uaWdub3JlTXV0YXRpb24odCkpcmV0dXJuIG51bGw7aWYoImNoaWxkTGlzdCI9PXQudHlwZSl7dmFyIHI9dC5wcmV2aW91c1NpYmxpbmcsbz10Lm5leHRTaWJsaW5nO2lmKGQuaWUmJmQuaWVfdmVyc2lvbjw9MTEmJnQuYWRkZWROb2Rlcy5sZW5ndGgpZm9yKHZhciBpPTA7aTx0LmFkZGVkTm9kZXMubGVuZ3RoO2krKyl7dmFyIHM9dC5hZGRlZE5vZGVzW2ldLGE9cy5wcmV2aW91c1NpYmxpbmcsYz1zLm5leHRTaWJsaW5nOyghYXx8QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbCh0LmFkZGVkTm9kZXMsYSk8MCkmJihyPWEpLCghY3x8QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbCh0LmFkZGVkTm9kZXMsYyk8MCkmJihvPWMpfWZvcih2YXIgbD1yJiZyLnBhcmVudE5vZGU9PXQudGFyZ2V0P2cocikrMTowLHU9bi5sb2NhbFBvc0Zyb21ET00odC50YXJnZXQsbCwtMSkscD1vJiZvLnBhcmVudE5vZGU9PXQudGFyZ2V0P2cobyk6dC50YXJnZXQuY2hpbGROb2Rlcy5sZW5ndGgsZj0wO2Y8dC5hZGRlZE5vZGVzLmxlbmd0aDtmKyspZS5wdXNoKHQuYWRkZWROb2Rlc1tmXSk7dmFyIGg9bi5sb2NhbFBvc0Zyb21ET00odC50YXJnZXQscCwxKTtyZXR1cm57ZnJvbTp1LHRvOmh9fXJldHVybiJhdHRyaWJ1dGVzIj09dC50eXBlP3tmcm9tOm4ucG9zQXRTdGFydC1uLmJvcmRlcix0bzpuLnBvc0F0RW5kK24uYm9yZGVyfTp7ZnJvbTpuLnBvc0F0U3RhcnQsdG86bi5wb3NBdEVuZCx0eXBlT3Zlcjp0LnRhcmdldC5ub2RlVmFsdWU9PXQub2xkVmFsdWV9fTt2YXIgSWU9ITE7ZnVuY3Rpb24gJGUodCl7SWV8fChJZT0hMCwibm9ybWFsIj09Z2V0Q29tcHV0ZWRTdHlsZSh0LmRvbSkud2hpdGVTcGFjZSYmY29uc29sZVsid2FybiJdKCJQcm9zZU1pcnJvciBleHBlY3RzIHRoZSBDU1Mgd2hpdGUtc3BhY2UgcHJvcGVydHkgdG8gYmUgc2V0LCBwcmVmZXJhYmx5IHRvICdwcmUtd3JhcCcuIEl0IGlzIHJlY29tbWVuZGVkIHRvIGxvYWQgc3R5bGUvcHJvc2VtaXJyb3IuY3NzIGZyb20gdGhlIHByb3NlbWlycm9yLXZpZXcgcGFja2FnZS4iKSl9dmFyIFZlPXt9LEJlPXt9O2Z1bmN0aW9uIEZlKHQpe3Quc2hpZnRLZXk9ITEsdC5tb3VzZURvd249bnVsbCx0Lmxhc3RLZXlDb2RlPW51bGwsdC5sYXN0S2V5Q29kZVRpbWU9MCx0Lmxhc3RDbGljaz17dGltZTowLHg6MCx5OjAsdHlwZToiIn0sdC5sYXN0U2VsZWN0aW9uT3JpZ2luPW51bGwsdC5sYXN0U2VsZWN0aW9uVGltZT0wLHQubGFzdElPU0VudGVyPTAsdC5sYXN0SU9TRW50ZXJGYWxsYmFja1RpbWVvdXQ9bnVsbCx0LmNvbXBvc2luZz0hMSx0LmNvbXBvc2luZ1RpbWVvdXQ9bnVsbCx0LmNvbXBvc2l0aW9uTm9kZXM9W10sdC5jb21wb3NpdGlvbkVuZGVkQXQ9LTJlOCx0LmRvbU9ic2VydmVyPW5ldyB6ZSh0LChmdW5jdGlvbihlLG4scixvKXtyZXR1cm4gZmUodCxlLG4scixvKX0pKSx0LmRvbU9ic2VydmVyLnN0YXJ0KCksdC5kb21DaGFuZ2VDb3VudD0wLHQuZXZlbnRIYW5kbGVycz1PYmplY3QuY3JlYXRlKG51bGwpO3ZhciBlPWZ1bmN0aW9uKGUpe3ZhciBuPVZlW2VdO3QuZG9tLmFkZEV2ZW50TGlzdGVuZXIoZSx0LmV2ZW50SGFuZGxlcnNbZV09ZnVuY3Rpb24oZSl7IVdlKHQsZSl8fHFlKHQsZSl8fCF0LmVkaXRhYmxlJiZlLnR5cGUgaW4gQmV8fG4odCxlKX0pfTtmb3IodmFyIG4gaW4gVmUpZShuKTtkLnNhZmFyaSYmdC5kb20uYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLChmdW5jdGlvbigpe3JldHVybiBudWxsfSkpLEhlKHQpfWZ1bmN0aW9uIGplKHQsZSl7dC5sYXN0U2VsZWN0aW9uT3JpZ2luPWUsdC5sYXN0U2VsZWN0aW9uVGltZT1EYXRlLm5vdygpfWZ1bmN0aW9uIExlKHQpe2Zvcih2YXIgZSBpbiB0LmRvbU9ic2VydmVyLnN0b3AoKSx0LmV2ZW50SGFuZGxlcnMpdC5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQuZXZlbnRIYW5kbGVyc1tlXSk7Y2xlYXJUaW1lb3V0KHQuY29tcG9zaW5nVGltZW91dCksY2xlYXJUaW1lb3V0KHQubGFzdElPU0VudGVyRmFsbGJhY2tUaW1lb3V0KX1mdW5jdGlvbiBIZSh0KXt0LnNvbWVQcm9wKCJoYW5kbGVET01FdmVudHMiLChmdW5jdGlvbihlKXtmb3IodmFyIG4gaW4gZSl0LmV2ZW50SGFuZGxlcnNbbl18fHQuZG9tLmFkZEV2ZW50TGlzdGVuZXIobix0LmV2ZW50SGFuZGxlcnNbbl09ZnVuY3Rpb24oZSl7cmV0dXJuIHFlKHQsZSl9KX0pKX1mdW5jdGlvbiBxZSh0LGUpe3JldHVybiB0LnNvbWVQcm9wKCJoYW5kbGVET01FdmVudHMiLChmdW5jdGlvbihuKXt2YXIgcj1uW2UudHlwZV07cmV0dXJuISFyJiYocih0LGUpfHxlLmRlZmF1bHRQcmV2ZW50ZWQpfSkpfWZ1bmN0aW9uIFdlKHQsZSl7aWYoIWUuYnViYmxlcylyZXR1cm4hMDtpZihlLmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuITE7Zm9yKHZhciBuPWUudGFyZ2V0O24hPXQuZG9tO249bi5wYXJlbnROb2RlKWlmKCFufHwxMT09bi5ub2RlVHlwZXx8bi5wbVZpZXdEZXNjJiZuLnBtVmlld0Rlc2Muc3RvcEV2ZW50KGUpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIEtlKHQsZSl7cWUodCxlKXx8IVZlW2UudHlwZV18fCF0LmVkaXRhYmxlJiZlLnR5cGUgaW4gQmV8fFZlW2UudHlwZV0odCxlKX1mdW5jdGlvbiBKZSh0KXtyZXR1cm57bGVmdDp0LmNsaWVudFgsdG9wOnQuY2xpZW50WX19ZnVuY3Rpb24gVWUodCxlKXt2YXIgbj1lLngtdC5jbGllbnRYLHI9ZS55LXQuY2xpZW50WTtyZXR1cm4gbipuK3IqcjwxMDB9ZnVuY3Rpb24gR2UodCxlLG4scixvKXtpZigtMT09cilyZXR1cm4hMTtmb3IodmFyIGk9dC5zdGF0ZS5kb2MucmVzb2x2ZShyKSxzPWZ1bmN0aW9uKHIpe2lmKHQuc29tZVByb3AoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIHI+aS5kZXB0aD9lKHQsbixpLm5vZGVBZnRlcixpLmJlZm9yZShyKSxvLCEwKTplKHQsbixpLm5vZGUociksaS5iZWZvcmUociksbywhMSl9KSkpcmV0dXJue3Y6ITB9fSxhPWkuZGVwdGgrMTthPjA7YS0tKXt2YXIgYz1zKGEpO2lmKGMpcmV0dXJuIGMudn1yZXR1cm4hMX1mdW5jdGlvbiBYZSh0LGUsbil7dC5mb2N1c2VkfHx0LmZvY3VzKCk7dmFyIHI9dC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oZSk7InBvaW50ZXIiPT1uJiZyLnNldE1ldGEoInBvaW50ZXIiLCEwKSx0LmRpc3BhdGNoKHIpfWZ1bmN0aW9uIFllKHQsZSl7aWYoLTE9PWUpcmV0dXJuITE7dmFyIG49dC5zdGF0ZS5kb2MucmVzb2x2ZShlKSxyPW4ubm9kZUFmdGVyO3JldHVybiEhKHImJnIuaXNBdG9tJiZjWyJOb2RlU2VsZWN0aW9uIl0uaXNTZWxlY3RhYmxlKHIpKSYmKFhlKHQsbmV3IGNbIk5vZGVTZWxlY3Rpb24iXShuKSwicG9pbnRlciIpLCEwKX1mdW5jdGlvbiBaZSh0LGUpe2lmKC0xPT1lKXJldHVybiExO3ZhciBuLHIsbz10LnN0YXRlLnNlbGVjdGlvbjtvIGluc3RhbmNlb2YgY1siTm9kZVNlbGVjdGlvbiJdJiYobj1vLm5vZGUpO2Zvcih2YXIgaT10LnN0YXRlLmRvYy5yZXNvbHZlKGUpLHM9aS5kZXB0aCsxO3M+MDtzLS0pe3ZhciBhPXM+aS5kZXB0aD9pLm5vZGVBZnRlcjppLm5vZGUocyk7aWYoY1siTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZShhKSl7cj1uJiZvLiRmcm9tLmRlcHRoPjAmJnM+PW8uJGZyb20uZGVwdGgmJmkuYmVmb3JlKG8uJGZyb20uZGVwdGgrMSk9PW8uJGZyb20ucG9zP2kuYmVmb3JlKG8uJGZyb20uZGVwdGgpOmkuYmVmb3JlKHMpO2JyZWFrfX1yZXR1cm4gbnVsbCE9ciYmKFhlKHQsY1siTm9kZVNlbGVjdGlvbiJdLmNyZWF0ZSh0LnN0YXRlLmRvYyxyKSwicG9pbnRlciIpLCEwKX1mdW5jdGlvbiBRZSh0LGUsbixyLG8pe3JldHVybiBHZSh0LCJoYW5kbGVDbGlja09uIixlLG4scil8fHQuc29tZVByb3AoImhhbmRsZUNsaWNrIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlLHIpfSkpfHwobz9aZSh0LG4pOlllKHQsbikpfWZ1bmN0aW9uIHRuKHQsZSxuLHIpe3JldHVybiBHZSh0LCJoYW5kbGVEb3VibGVDbGlja09uIixlLG4scil8fHQuc29tZVByb3AoImhhbmRsZURvdWJsZUNsaWNrIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlLHIpfSkpfWZ1bmN0aW9uIGVuKHQsZSxuLHIpe3JldHVybiBHZSh0LCJoYW5kbGVUcmlwbGVDbGlja09uIixlLG4scil8fHQuc29tZVByb3AoImhhbmRsZVRyaXBsZUNsaWNrIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlLHIpfSkpfHxubih0LG4pfWZ1bmN0aW9uIG5uKHQsZSl7dmFyIG49dC5zdGF0ZS5kb2M7aWYoLTE9PWUpcmV0dXJuISFuLmlubGluZUNvbnRlbnQmJihYZSh0LGNbIlRleHRTZWxlY3Rpb24iXS5jcmVhdGUobiwwLG4uY29udGVudC5zaXplKSwicG9pbnRlciIpLCEwKTtmb3IodmFyIHI9bi5yZXNvbHZlKGUpLG89ci5kZXB0aCsxO28+MDtvLS0pe3ZhciBpPW8+ci5kZXB0aD9yLm5vZGVBZnRlcjpyLm5vZGUobykscz1yLmJlZm9yZShvKTtpZihpLmlubGluZUNvbnRlbnQpWGUodCxjWyJUZXh0U2VsZWN0aW9uIl0uY3JlYXRlKG4scysxLHMrMStpLmNvbnRlbnQuc2l6ZSksInBvaW50ZXIiKTtlbHNle2lmKCFjWyJOb2RlU2VsZWN0aW9uIl0uaXNTZWxlY3RhYmxlKGkpKWNvbnRpbnVlO1hlKHQsY1siTm9kZVNlbGVjdGlvbiJdLmNyZWF0ZShuLHMpLCJwb2ludGVyIil9cmV0dXJuITB9fWZ1bmN0aW9uIHJuKHQpe3JldHVybiBkbih0KX1CZS5rZXlkb3duPWZ1bmN0aW9uKHQsZSl7aWYodC5zaGlmdEtleT0xNj09ZS5rZXlDb2RlfHxlLnNoaWZ0S2V5LCFhbih0LGUpKWlmKHQuZG9tT2JzZXJ2ZXIuZm9yY2VGbHVzaCgpLHQubGFzdEtleUNvZGU9ZS5rZXlDb2RlLHQubGFzdEtleUNvZGVUaW1lPURhdGUubm93KCksIWQuaW9zfHwxMyE9ZS5rZXlDb2RlfHxlLmN0cmxLZXl8fGUuYWx0S2V5fHxlLm1ldGFLZXkpdC5zb21lUHJvcCgiaGFuZGxlS2V5RG93biIsKGZ1bmN0aW9uKG4pe3JldHVybiBuKHQsZSl9KSl8fHVlKHQsZSk/ZS5wcmV2ZW50RGVmYXVsdCgpOmplKHQsImtleSIpO2Vsc2V7dmFyIG49RGF0ZS5ub3coKTt0Lmxhc3RJT1NFbnRlcj1uLHQubGFzdElPU0VudGVyRmFsbGJhY2tUaW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5sYXN0SU9TRW50ZXI9PW4mJih0LnNvbWVQcm9wKCJoYW5kbGVLZXlEb3duIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCxOKDEzLCJFbnRlciIpKX0pKSx0Lmxhc3RJT1NFbnRlcj0wKX0pLDIwMCl9fSxCZS5rZXl1cD1mdW5jdGlvbih0LGUpezE2PT1lLmtleUNvZGUmJih0LnNoaWZ0S2V5PSExKX0sQmUua2V5cHJlc3M9ZnVuY3Rpb24odCxlKXtpZighKGFuKHQsZSl8fCFlLmNoYXJDb2RlfHxlLmN0cmxLZXkmJiFlLmFsdEtleXx8ZC5tYWMmJmUubWV0YUtleSkpaWYodC5zb21lUHJvcCgiaGFuZGxlS2V5UHJlc3MiLChmdW5jdGlvbihuKXtyZXR1cm4gbih0LGUpfSkpKWUucHJldmVudERlZmF1bHQoKTtlbHNle3ZhciBuPXQuc3RhdGUuc2VsZWN0aW9uO2lmKCEobiBpbnN0YW5jZW9mIGNbIlRleHRTZWxlY3Rpb24iXSl8fCFuLiRmcm9tLnNhbWVQYXJlbnQobi4kdG8pKXt2YXIgcj1TdHJpbmcuZnJvbUNoYXJDb2RlKGUuY2hhckNvZGUpO3Quc29tZVByb3AoImhhbmRsZVRleHRJbnB1dCIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQsbi4kZnJvbS5wb3Msbi4kdG8ucG9zLHIpfSkpfHx0LmRpc3BhdGNoKHQuc3RhdGUudHIuaW5zZXJ0VGV4dChyKS5zY3JvbGxJbnRvVmlldygpKSxlLnByZXZlbnREZWZhdWx0KCl9fX07dmFyIG9uPWQubWFjPyJtZXRhS2V5IjoiY3RybEtleSI7VmUubW91c2Vkb3duPWZ1bmN0aW9uKHQsZSl7dC5zaGlmdEtleT1lLnNoaWZ0S2V5O3ZhciBuPXJuKHQpLHI9RGF0ZS5ub3coKSxvPSJzaW5nbGVDbGljayI7ci10Lmxhc3RDbGljay50aW1lPDUwMCYmVWUoZSx0Lmxhc3RDbGljaykmJiFlW29uXSYmKCJzaW5nbGVDbGljayI9PXQubGFzdENsaWNrLnR5cGU/bz0iZG91YmxlQ2xpY2siOiJkb3VibGVDbGljayI9PXQubGFzdENsaWNrLnR5cGUmJihvPSJ0cmlwbGVDbGljayIpKSx0Lmxhc3RDbGljaz17dGltZTpyLHg6ZS5jbGllbnRYLHk6ZS5jbGllbnRZLHR5cGU6b307dmFyIGk9dC5wb3NBdENvb3JkcyhKZShlKSk7aSYmKCJzaW5nbGVDbGljayI9PW8/dC5tb3VzZURvd249bmV3IHNuKHQsaSxlLG4pOigiZG91YmxlQ2xpY2siPT1vP3RuOmVuKSh0LGkucG9zLGkuaW5zaWRlLGUpP2UucHJldmVudERlZmF1bHQoKTpqZSh0LCJwb2ludGVyIikpfTt2YXIgc249ZnVuY3Rpb24odCxlLG4scil7dmFyIG8saSxzPXRoaXM7aWYodGhpcy52aWV3PXQsdGhpcy5zdGFydERvYz10LnN0YXRlLmRvYyx0aGlzLnBvcz1lLHRoaXMuZXZlbnQ9bix0aGlzLmZsdXNoZWQ9cix0aGlzLnNlbGVjdE5vZGU9bltvbl0sdGhpcy5hbGxvd0RlZmF1bHQ9bi5zaGlmdEtleSxlLmluc2lkZT4tMSlvPXQuc3RhdGUuZG9jLm5vZGVBdChlLmluc2lkZSksaT1lLmluc2lkZTtlbHNle3ZhciBhPXQuc3RhdGUuZG9jLnJlc29sdmUoZS5wb3MpO289YS5wYXJlbnQsaT1hLmRlcHRoP2EuYmVmb3JlKCk6MH10aGlzLm1pZ2h0RHJhZz1udWxsO3ZhciBsPXI/bnVsbDpuLnRhcmdldCx1PWw/dC5kb2NWaWV3Lm5lYXJlc3REZXNjKGwsITApOm51bGw7dGhpcy50YXJnZXQ9dT91LmRvbTpudWxsLChvLnR5cGUuc3BlYy5kcmFnZ2FibGUmJiExIT09by50eXBlLnNwZWMuc2VsZWN0YWJsZXx8dC5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBjWyJOb2RlU2VsZWN0aW9uIl0mJmk9PXQuc3RhdGUuc2VsZWN0aW9uLmZyb20pJiYodGhpcy5taWdodERyYWc9e25vZGU6byxwb3M6aSxhZGRBdHRyOnRoaXMudGFyZ2V0JiYhdGhpcy50YXJnZXQuZHJhZ2dhYmxlLHNldFVuZWRpdGFibGU6dGhpcy50YXJnZXQmJmQuZ2Vja28mJiF0aGlzLnRhcmdldC5oYXNBdHRyaWJ1dGUoImNvbnRlbnRFZGl0YWJsZSIpfSksdGhpcy50YXJnZXQmJnRoaXMubWlnaHREcmFnJiYodGhpcy5taWdodERyYWcuYWRkQXR0cnx8dGhpcy5taWdodERyYWcuc2V0VW5lZGl0YWJsZSkmJih0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RvcCgpLHRoaXMubWlnaHREcmFnLmFkZEF0dHImJih0aGlzLnRhcmdldC5kcmFnZ2FibGU9ITApLHRoaXMubWlnaHREcmFnLnNldFVuZWRpdGFibGUmJnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHMudGFyZ2V0LnNldEF0dHJpYnV0ZSgiY29udGVudEVkaXRhYmxlIiwiZmFsc2UiKX0pLDIwKSx0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RhcnQoKSksdC5yb290LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLHRoaXMudXA9dGhpcy51cC5iaW5kKHRoaXMpKSx0LnJvb3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIix0aGlzLm1vdmU9dGhpcy5tb3ZlLmJpbmQodGhpcykpLGplKHQsInBvaW50ZXIiKX07ZnVuY3Rpb24gYW4odCxlKXtyZXR1cm4hIXQuY29tcG9zaW5nfHwhIShkLnNhZmFyaSYmTWF0aC5hYnMoZS50aW1lU3RhbXAtdC5jb21wb3NpdGlvbkVuZGVkQXQpPDUwMCkmJih0LmNvbXBvc2l0aW9uRW5kZWRBdD0tMmU4LCEwKX1zbi5wcm90b3R5cGUuZG9uZT1mdW5jdGlvbigpe3RoaXMudmlldy5yb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLHRoaXMudXApLHRoaXMudmlldy5yb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsdGhpcy5tb3ZlKSx0aGlzLm1pZ2h0RHJhZyYmdGhpcy50YXJnZXQmJih0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RvcCgpLHRoaXMubWlnaHREcmFnLmFkZEF0dHImJnRoaXMudGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZSgiZHJhZ2dhYmxlIiksdGhpcy5taWdodERyYWcuc2V0VW5lZGl0YWJsZSYmdGhpcy50YXJnZXQucmVtb3ZlQXR0cmlidXRlKCJjb250ZW50RWRpdGFibGUiKSx0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RhcnQoKSksdGhpcy52aWV3Lm1vdXNlRG93bj1udWxsfSxzbi5wcm90b3R5cGUudXA9ZnVuY3Rpb24odCl7aWYodGhpcy5kb25lKCksdGhpcy52aWV3LmRvbS5jb250YWlucygzPT10LnRhcmdldC5ub2RlVHlwZT90LnRhcmdldC5wYXJlbnROb2RlOnQudGFyZ2V0KSl7dmFyIGU9dGhpcy5wb3M7dGhpcy52aWV3LnN0YXRlLmRvYyE9dGhpcy5zdGFydERvYyYmKGU9dGhpcy52aWV3LnBvc0F0Q29vcmRzKEplKHQpKSksdGhpcy5hbGxvd0RlZmF1bHR8fCFlP2plKHRoaXMudmlldywicG9pbnRlciIpOlFlKHRoaXMudmlldyxlLnBvcyxlLmluc2lkZSx0LHRoaXMuc2VsZWN0Tm9kZSk/dC5wcmV2ZW50RGVmYXVsdCgpOnRoaXMuZmx1c2hlZHx8ZC5zYWZhcmkmJnRoaXMubWlnaHREcmFnJiYhdGhpcy5taWdodERyYWcubm9kZS5pc0F0b218fGQuY2hyb21lJiYhKHRoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBjWyJUZXh0U2VsZWN0aW9uIl0pJiYoZS5wb3M9PXRoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24uZnJvbXx8ZS5wb3M9PXRoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24udG8pPyhYZSh0aGlzLnZpZXcsY1siU2VsZWN0aW9uIl0ubmVhcih0aGlzLnZpZXcuc3RhdGUuZG9jLnJlc29sdmUoZS5wb3MpKSwicG9pbnRlciIpLHQucHJldmVudERlZmF1bHQoKSk6amUodGhpcy52aWV3LCJwb2ludGVyIil9fSxzbi5wcm90b3R5cGUubW92ZT1mdW5jdGlvbih0KXshdGhpcy5hbGxvd0RlZmF1bHQmJihNYXRoLmFicyh0aGlzLmV2ZW50LngtdC5jbGllbnRYKT40fHxNYXRoLmFicyh0aGlzLmV2ZW50LnktdC5jbGllbnRZKT40KSYmKHRoaXMuYWxsb3dEZWZhdWx0PSEwKSxqZSh0aGlzLnZpZXcsInBvaW50ZXIiKX0sVmUudG91Y2hkb3duPWZ1bmN0aW9uKHQpe3JuKHQpLGplKHQsInBvaW50ZXIiKX0sVmUuY29udGV4dG1lbnU9ZnVuY3Rpb24odCl7cmV0dXJuIHJuKHQpfTt2YXIgY249ZC5hbmRyb2lkPzVlMzotMTtmdW5jdGlvbiBsbih0LGUpe2NsZWFyVGltZW91dCh0LmNvbXBvc2luZ1RpbWVvdXQpLGU+LTEmJih0LmNvbXBvc2luZ1RpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gZG4odCl9KSxlKSl9ZnVuY3Rpb24gdW4odCl7dC5jb21wb3Npbmc9ITE7d2hpbGUodC5jb21wb3NpdGlvbk5vZGVzLmxlbmd0aD4wKXQuY29tcG9zaXRpb25Ob2Rlcy5wb3AoKS5tYXJrUGFyZW50c0RpcnR5KCl9ZnVuY3Rpb24gZG4odCxlKXtpZih0LmRvbU9ic2VydmVyLmZvcmNlRmx1c2goKSx1bih0KSxlfHx0LmRvY1ZpZXcuZGlydHkpe3ZhciBuPUl0KHQpO3JldHVybiBuJiYhbi5lcSh0LnN0YXRlLnNlbGVjdGlvbik/dC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldFNlbGVjdGlvbihuKSk6dC51cGRhdGVTdGF0ZSh0LnN0YXRlKSwhMH1yZXR1cm4hMX1mdW5jdGlvbiBwbih0LGUpe2lmKHQuZG9tLnBhcmVudE5vZGUpe3ZhciBuPXQuZG9tLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpO24uYXBwZW5kQ2hpbGQoZSksbi5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6IC0xMDAwMHB4OyB0b3A6IDEwcHgiO3ZhciByPWdldFNlbGVjdGlvbigpLG89ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtvLnNlbGVjdE5vZGVDb250ZW50cyhlKSx0LmRvbS5ibHVyKCksci5yZW1vdmVBbGxSYW5nZXMoKSxyLmFkZFJhbmdlKG8pLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bi5wYXJlbnROb2RlJiZuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobiksdC5mb2N1cygpfSksNTApfX1CZS5jb21wb3NpdGlvbnN0YXJ0PUJlLmNvbXBvc2l0aW9udXBkYXRlPWZ1bmN0aW9uKHQpe2lmKCF0LmNvbXBvc2luZyl7dC5kb21PYnNlcnZlci5mbHVzaCgpO3ZhciBlPXQuc3RhdGUsbj1lLnNlbGVjdGlvbi4kZnJvbTtpZihlLnNlbGVjdGlvbi5lbXB0eSYmKGUuc3RvcmVkTWFya3N8fCFuLnRleHRPZmZzZXQmJm4ucGFyZW50T2Zmc2V0JiZuLm5vZGVCZWZvcmUubWFya3Muc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuITE9PT10LnR5cGUuc3BlYy5pbmNsdXNpdmV9KSkpKXQubWFya0N1cnNvcj10LnN0YXRlLnN0b3JlZE1hcmtzfHxuLm1hcmtzKCksZG4odCwhMCksdC5tYXJrQ3Vyc29yPW51bGw7ZWxzZSBpZihkbih0KSxkLmdlY2tvJiZlLnNlbGVjdGlvbi5lbXB0eSYmbi5wYXJlbnRPZmZzZXQmJiFuLnRleHRPZmZzZXQmJm4ubm9kZUJlZm9yZS5tYXJrcy5sZW5ndGgpZm9yKHZhciByPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxvPXIuZm9jdXNOb2RlLGk9ci5mb2N1c09mZnNldDtvJiYxPT1vLm5vZGVUeXBlJiYwIT1pOyl7dmFyIHM9aTwwP28ubGFzdENoaWxkOm8uY2hpbGROb2Rlc1tpLTFdO2lmKCFzKWJyZWFrO2lmKDM9PXMubm9kZVR5cGUpe3IuY29sbGFwc2UocyxzLm5vZGVWYWx1ZS5sZW5ndGgpO2JyZWFrfW89cyxpPS0xfXQuY29tcG9zaW5nPSEwfWxuKHQsY24pfSxCZS5jb21wb3NpdGlvbmVuZD1mdW5jdGlvbih0LGUpe3QuY29tcG9zaW5nJiYodC5jb21wb3Npbmc9ITEsdC5jb21wb3NpdGlvbkVuZGVkQXQ9ZS50aW1lU3RhbXAsbG4odCwyMCkpfTt2YXIgZm49ZC5pZSYmZC5pZV92ZXJzaW9uPDE1fHxkLmlvcyYmZC53ZWJraXRfdmVyc2lvbjw2MDQ7ZnVuY3Rpb24gaG4odCl7cmV0dXJuIDA9PXQub3BlblN0YXJ0JiYwPT10Lm9wZW5FbmQmJjE9PXQuY29udGVudC5jaGlsZENvdW50P3QuY29udGVudC5maXJzdENoaWxkOm51bGx9ZnVuY3Rpb24gbW4odCxlKXtpZih0LmRvbS5wYXJlbnROb2RlKXt2YXIgbj10LnNoaWZ0S2V5fHx0LnN0YXRlLnNlbGVjdGlvbi4kZnJvbS5wYXJlbnQudHlwZS5zcGVjLmNvZGUscj10LmRvbS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobj8idGV4dGFyZWEiOiJkaXYiKSk7bnx8KHIuY29udGVudEVkaXRhYmxlPSJ0cnVlIiksci5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6IC0xMDAwMHB4OyB0b3A6IDEwcHgiLHIuZm9jdXMoKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuZm9jdXMoKSxyLnBhcmVudE5vZGUmJnIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKSxuP3ZuKHQsci52YWx1ZSxudWxsLGUpOnZuKHQsci50ZXh0Q29udGVudCxyLmlubmVySFRNTCxlKX0pLDUwKX19ZnVuY3Rpb24gdm4odCxlLG4scil7dmFyIG89d2UodCxlLG4sdC5zaGlmdEtleSx0LnN0YXRlLnNlbGVjdGlvbi4kZnJvbSk7aWYoIXQuc29tZVByb3AoImhhbmRsZVBhc3RlIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCxyLG98fGxbIlNsaWNlIl0uZW1wdHkpfSkpJiZvKXt2YXIgaT1obihvKSxzPWk/dC5zdGF0ZS50ci5yZXBsYWNlU2VsZWN0aW9uV2l0aChpLHQuc2hpZnRLZXkpOnQuc3RhdGUudHIucmVwbGFjZVNlbGVjdGlvbihvKTt0LmRpc3BhdGNoKHMuc2Nyb2xsSW50b1ZpZXcoKS5zZXRNZXRhKCJwYXN0ZSIsITApLnNldE1ldGEoInVpRXZlbnQiLCJwYXN0ZSIpKX19VmUuY29weT1CZS5jdXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10LnN0YXRlLnNlbGVjdGlvbixyPSJjdXQiPT1lLnR5cGU7aWYoIW4uZW1wdHkpe3ZhciBvPWZuP251bGw6ZS5jbGlwYm9hcmREYXRhLGk9bi5jb250ZW50KCkscz1iZSh0LGkpLGE9cy5kb20sYz1zLnRleHQ7bz8oZS5wcmV2ZW50RGVmYXVsdCgpLG8uY2xlYXJEYXRhKCksby5zZXREYXRhKCJ0ZXh0L2h0bWwiLGEuaW5uZXJIVE1MKSxvLnNldERhdGEoInRleHQvcGxhaW4iLGMpKTpwbih0LGEpLHImJnQuZGlzcGF0Y2godC5zdGF0ZS50ci5kZWxldGVTZWxlY3Rpb24oKS5zY3JvbGxJbnRvVmlldygpLnNldE1ldGEoInVpRXZlbnQiLCJjdXQiKSl9fSxCZS5wYXN0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPWZuP251bGw6ZS5jbGlwYm9hcmREYXRhLHI9biYmbi5nZXREYXRhKCJ0ZXh0L2h0bWwiKSxvPW4mJm4uZ2V0RGF0YSgidGV4dC9wbGFpbiIpO24mJihyfHxvfHxuLmZpbGVzLmxlbmd0aCk/KHZuKHQsbyxyLGUpLGUucHJldmVudERlZmF1bHQoKSk6bW4odCxlKX07dmFyIGduPWZ1bmN0aW9uKHQsZSl7dGhpcy5zbGljZT10LHRoaXMubW92ZT1lfSx5bj1kLm1hYz8iYWx0S2V5IjoiY3RybEtleSI7Zm9yKHZhciBibiBpbiBWZS5kcmFnc3RhcnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10Lm1vdXNlRG93bjtpZihuJiZuLmRvbmUoKSxlLmRhdGFUcmFuc2Zlcil7dmFyIHI9dC5zdGF0ZS5zZWxlY3Rpb24sbz1yLmVtcHR5P251bGw6dC5wb3NBdENvb3JkcyhKZShlKSk7aWYobyYmby5wb3M+PXIuZnJvbSYmby5wb3M8PShyIGluc3RhbmNlb2YgY1siTm9kZVNlbGVjdGlvbiJdP3IudG8tMTpyLnRvKSk7ZWxzZSBpZihuJiZuLm1pZ2h0RHJhZyl0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKGNbIk5vZGVTZWxlY3Rpb24iXS5jcmVhdGUodC5zdGF0ZS5kb2Msbi5taWdodERyYWcucG9zKSkpO2Vsc2UgaWYoZS50YXJnZXQmJjE9PWUudGFyZ2V0Lm5vZGVUeXBlKXt2YXIgaT10LmRvY1ZpZXcubmVhcmVzdERlc2MoZS50YXJnZXQsITApO2lmKCFpfHwhaS5ub2RlLnR5cGUuc3BlYy5kcmFnZ2FibGV8fGk9PXQuZG9jVmlldylyZXR1cm47dC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldFNlbGVjdGlvbihjWyJOb2RlU2VsZWN0aW9uIl0uY3JlYXRlKHQuc3RhdGUuZG9jLGkucG9zQmVmb3JlKSkpfXZhciBzPXQuc3RhdGUuc2VsZWN0aW9uLmNvbnRlbnQoKSxhPWJlKHQscyksbD1hLmRvbSx1PWEudGV4dDtlLmRhdGFUcmFuc2Zlci5jbGVhckRhdGEoKSxlLmRhdGFUcmFuc2Zlci5zZXREYXRhKGZuPyJUZXh0IjoidGV4dC9odG1sIixsLmlubmVySFRNTCksZm58fGUuZGF0YVRyYW5zZmVyLnNldERhdGEoInRleHQvcGxhaW4iLHUpLHQuZHJhZ2dpbmc9bmV3IGduKHMsIWVbeW5dKX19LFZlLmRyYWdlbmQ9ZnVuY3Rpb24odCl7d2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuZHJhZ2dpbmc9bnVsbH0pLDUwKX0sQmUuZHJhZ292ZXI9QmUuZHJhZ2VudGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUucHJldmVudERlZmF1bHQoKX0sQmUuZHJvcD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZHJhZ2dpbmc7aWYodC5kcmFnZ2luZz1udWxsLGUuZGF0YVRyYW5zZmVyKXt2YXIgcj10LnBvc0F0Q29vcmRzKEplKGUpKTtpZihyKXt2YXIgbz10LnN0YXRlLmRvYy5yZXNvbHZlKHIucG9zKTtpZihvKXt2YXIgaT1uJiZuLnNsaWNlfHx3ZSh0LGUuZGF0YVRyYW5zZmVyLmdldERhdGEoZm4/IlRleHQiOiJ0ZXh0L3BsYWluIiksZm4/bnVsbDplLmRhdGFUcmFuc2Zlci5nZXREYXRhKCJ0ZXh0L2h0bWwiKSwhMSxvKSxzPW4mJiFlW3luXTtpZih0LnNvbWVQcm9wKCJoYW5kbGVEcm9wIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlLGl8fGxbIlNsaWNlIl0uZW1wdHkscyl9KSkpZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgaWYoaSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBhPWk/T2JqZWN0KHVbImgiXSkodC5zdGF0ZS5kb2Msby5wb3MsaSk6by5wb3M7bnVsbD09YSYmKGE9by5wb3MpO3ZhciBkPXQuc3RhdGUudHI7cyYmZC5kZWxldGVTZWxlY3Rpb24oKTt2YXIgcD1kLm1hcHBpbmcubWFwKGEpLGY9MD09aS5vcGVuU3RhcnQmJjA9PWkub3BlbkVuZCYmMT09aS5jb250ZW50LmNoaWxkQ291bnQsaD1kLmRvYztpZihmP2QucmVwbGFjZVJhbmdlV2l0aChwLHAsaS5jb250ZW50LmZpcnN0Q2hpbGQpOmQucmVwbGFjZVJhbmdlKHAscCxpKSwhZC5kb2MuZXEoaCkpe3ZhciBtPWQuZG9jLnJlc29sdmUocCk7aWYoZiYmY1siTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZShpLmNvbnRlbnQuZmlyc3RDaGlsZCkmJm0ubm9kZUFmdGVyJiZtLm5vZGVBZnRlci5zYW1lTWFya3VwKGkuY29udGVudC5maXJzdENoaWxkKSlkLnNldFNlbGVjdGlvbihuZXcgY1siTm9kZVNlbGVjdGlvbiJdKG0pKTtlbHNle3ZhciB2PWQubWFwcGluZy5tYXAoYSk7ZC5tYXBwaW5nLm1hcHNbZC5tYXBwaW5nLm1hcHMubGVuZ3RoLTFdLmZvckVhY2goKGZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB2PXJ9KSksZC5zZXRTZWxlY3Rpb24oS3QodCxtLGQuZG9jLnJlc29sdmUodikpKX10LmZvY3VzKCksdC5kaXNwYXRjaChkLnNldE1ldGEoInVpRXZlbnQiLCJkcm9wIikpfX19fX19LFZlLmZvY3VzPWZ1bmN0aW9uKHQpe3QuZm9jdXNlZHx8KHQuZG9tT2JzZXJ2ZXIuc3RvcCgpLHQuZG9tLmNsYXNzTGlzdC5hZGQoIlByb3NlTWlycm9yLWZvY3VzZWQiKSx0LmRvbU9ic2VydmVyLnN0YXJ0KCksdC5mb2N1c2VkPSEwLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5kb2NWaWV3JiZ0Lmhhc0ZvY3VzKCkmJiF0LmRvbU9ic2VydmVyLmN1cnJlbnRTZWxlY3Rpb24uZXEodC5yb290LmdldFNlbGVjdGlvbigpKSYmJHQodCl9KSwyMCkpfSxWZS5ibHVyPWZ1bmN0aW9uKHQpe3QuZm9jdXNlZCYmKHQuZG9tT2JzZXJ2ZXIuc3RvcCgpLHQuZG9tLmNsYXNzTGlzdC5yZW1vdmUoIlByb3NlTWlycm9yLWZvY3VzZWQiKSx0LmRvbU9ic2VydmVyLnN0YXJ0KCksdC5kb21PYnNlcnZlci5jdXJyZW50U2VsZWN0aW9uLnNldCh7fSksdC5mb2N1c2VkPSExKX0sVmUuYmVmb3JlaW5wdXQ9ZnVuY3Rpb24odCxlKXtpZihkLmNocm9tZSYmZC5hbmRyb2lkJiYiZGVsZXRlQ29udGVudEJhY2t3YXJkIj09ZS5pbnB1dFR5cGUpe3ZhciBuPXQuZG9tQ2hhbmdlQ291bnQ7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtpZih0LmRvbUNoYW5nZUNvdW50PT1uJiYodC5kb20uYmx1cigpLHQuZm9jdXMoKSwhdC5zb21lUHJvcCgiaGFuZGxlS2V5RG93biIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQsTig4LCJCYWNrc3BhY2UiKSl9KSkpKXt2YXIgZT10LnN0YXRlLnNlbGVjdGlvbixyPWUuJGN1cnNvcjtyJiZyLnBvcz4wJiZ0LmRpc3BhdGNoKHQuc3RhdGUudHIuZGVsZXRlKHIucG9zLTEsci5wb3MpLnNjcm9sbEludG9WaWV3KCkpfX0pLDUwKX19LEJlKVZlW2JuXT1CZVtibl07ZnVuY3Rpb24gd24odCxlKXtpZih0PT1lKXJldHVybiEwO2Zvcih2YXIgbiBpbiB0KWlmKHRbbl0hPT1lW25dKXJldHVybiExO2Zvcih2YXIgciBpbiBlKWlmKCEociBpbiB0KSlyZXR1cm4hMTtyZXR1cm4hMH12YXIgU249ZnVuY3Rpb24odCxlKXt0aGlzLnNwZWM9ZXx8Tm4sdGhpcy5zaWRlPXRoaXMuc3BlYy5zaWRlfHwwLHRoaXMudG9ET009dH07U24ucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10Lm1hcFJlc3VsdChlLmZyb20rcix0aGlzLnNpZGU8MD8tMToxKSxpPW8ucG9zLHM9by5kZWxldGVkO3JldHVybiBzP251bGw6bmV3IENuKGktbixpLW4sdGhpcyl9LFNuLnByb3RvdHlwZS52YWxpZD1mdW5jdGlvbigpe3JldHVybiEwfSxTbi5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PXR8fHQgaW5zdGFuY2VvZiBTbiYmKHRoaXMuc3BlYy5rZXkmJnRoaXMuc3BlYy5rZXk9PXQuc3BlYy5rZXl8fHRoaXMudG9ET009PXQudG9ET00mJnduKHRoaXMuc3BlYyx0LnNwZWMpKX07dmFyIHhuPWZ1bmN0aW9uKHQsZSl7dGhpcy5zcGVjPWV8fE5uLHRoaXMuYXR0cnM9dH07eG4ucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10Lm1hcChlLmZyb20rcix0aGlzLnNwZWMuaW5jbHVzaXZlU3RhcnQ/LTE6MSktbixpPXQubWFwKGUudG8rcix0aGlzLnNwZWMuaW5jbHVzaXZlRW5kPzE6LTEpLW47cmV0dXJuIG8+PWk/bnVsbDpuZXcgQ24obyxpLHRoaXMpfSx4bi5wcm90b3R5cGUudmFsaWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5mcm9tPGUudG99LHhuLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09dHx8dCBpbnN0YW5jZW9mIHhuJiZ3bih0aGlzLmF0dHJzLHQuYXR0cnMpJiZ3bih0aGlzLnNwZWMsdC5zcGVjKX0seG4uaXM9ZnVuY3Rpb24odCl7cmV0dXJuIHQudHlwZSBpbnN0YW5jZW9mIHhufTt2YXIga249ZnVuY3Rpb24odCxlKXt0aGlzLnNwZWM9ZXx8Tm4sdGhpcy5hdHRycz10fTtrbi5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQubWFwUmVzdWx0KGUuZnJvbStyLDEpO2lmKG8uZGVsZXRlZClyZXR1cm4gbnVsbDt2YXIgaT10Lm1hcFJlc3VsdChlLnRvK3IsLTEpO3JldHVybiBpLmRlbGV0ZWR8fGkucG9zPD1vLnBvcz9udWxsOm5ldyBDbihvLnBvcy1uLGkucG9zLW4sdGhpcyl9LGtuLnByb3RvdHlwZS52YWxpZD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuY29udGVudC5maW5kSW5kZXgoZS5mcm9tKSxyPW4uaW5kZXgsbz1uLm9mZnNldDtyZXR1cm4gbz09ZS5mcm9tJiZvK3QuY2hpbGQocikubm9kZVNpemU9PWUudG99LGtuLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09dHx8dCBpbnN0YW5jZW9mIGtuJiZ3bih0aGlzLmF0dHJzLHQuYXR0cnMpJiZ3bih0aGlzLnNwZWMsdC5zcGVjKX07dmFyIENuPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmZyb209dCx0aGlzLnRvPWUsdGhpcy50eXBlPW59LE9uPXtzcGVjOntjb25maWd1cmFibGU6ITB9LGlubGluZTp7Y29uZmlndXJhYmxlOiEwfX07Q24ucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IENuKHQsZSx0aGlzLnR5cGUpfSxDbi5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCksdGhpcy50eXBlLmVxKHQudHlwZSkmJnRoaXMuZnJvbStlPT10LmZyb20mJnRoaXMudG8rZT09dC50b30sQ24ucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMudHlwZS5tYXAodCx0aGlzLGUsbil9LENuLndpZGdldD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG5ldyBDbih0LHQsbmV3IFNuKGUsbikpfSxDbi5pbmxpbmU9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIG5ldyBDbih0LGUsbmV3IHhuKG4scikpfSxDbi5ub2RlPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBuZXcgQ24odCxlLG5ldyBrbihuLHIpKX0sT24uc3BlYy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLnNwZWN9LE9uLmlubGluZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlIGluc3RhbmNlb2YgeG59LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKENuLnByb3RvdHlwZSxPbik7dmFyIE1uPVtdLE5uPXt9LFRuPWZ1bmN0aW9uKHQsZSl7dGhpcy5sb2NhbD10JiZ0Lmxlbmd0aD90Ok1uLHRoaXMuY2hpbGRyZW49ZSYmZS5sZW5ndGg/ZTpNbn07VG4uY3JlYXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUubGVuZ3RoP0luKGUsdCwwLE5uKTpBbn0sVG4ucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPVtdO3JldHVybiB0aGlzLmZpbmRJbm5lcihudWxsPT10PzA6dCxudWxsPT1lPzFlOTplLHIsMCxuKSxyfSxUbi5wcm90b3R5cGUuZmluZElubmVyPWZ1bmN0aW9uKHQsZSxuLHIsbyl7Zm9yKHZhciBpPTA7aTx0aGlzLmxvY2FsLmxlbmd0aDtpKyspe3ZhciBzPXRoaXMubG9jYWxbaV07cy5mcm9tPD1lJiZzLnRvPj10JiYoIW98fG8ocy5zcGVjKSkmJm4ucHVzaChzLmNvcHkocy5mcm9tK3Iscy50bytyKSl9Zm9yKHZhciBhPTA7YTx0aGlzLmNoaWxkcmVuLmxlbmd0aDthKz0zKWlmKHRoaXMuY2hpbGRyZW5bYV08ZSYmdGhpcy5jaGlsZHJlblthKzFdPnQpe3ZhciBjPXRoaXMuY2hpbGRyZW5bYV0rMTt0aGlzLmNoaWxkcmVuW2ErMl0uZmluZElubmVyKHQtYyxlLWMsbixyK2Msbyl9fSxUbi5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcz09QW58fDA9PXQubWFwcy5sZW5ndGg/dGhpczp0aGlzLm1hcElubmVyKHQsZSwwLDAsbnx8Tm4pfSxUbi5wcm90b3R5cGUubWFwSW5uZXI9ZnVuY3Rpb24odCxlLG4scixvKXtmb3IodmFyIGkscz0wO3M8dGhpcy5sb2NhbC5sZW5ndGg7cysrKXt2YXIgYT10aGlzLmxvY2FsW3NdLm1hcCh0LG4scik7YSYmYS50eXBlLnZhbGlkKGUsYSk/KGl8fChpPVtdKSkucHVzaChhKTpvLm9uUmVtb3ZlJiZvLm9uUmVtb3ZlKHRoaXMubG9jYWxbc10uc3BlYyl9cmV0dXJuIHRoaXMuY2hpbGRyZW4ubGVuZ3RoP0VuKHRoaXMuY2hpbGRyZW4saSx0LGUsbixyLG8pOmk/bmV3IFRuKGkuc29ydCgkbikpOkFufSxUbi5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUubGVuZ3RoP3RoaXM9PUFuP1RuLmNyZWF0ZSh0LGUpOnRoaXMuYWRkSW5uZXIodCxlLDApOnRoaXN9LFRuLnByb3RvdHlwZS5hZGRJbm5lcj1mdW5jdGlvbih0LGUsbil7dmFyIHIsbz10aGlzLGk9MDt0LmZvckVhY2goKGZ1bmN0aW9uKHQscyl7dmFyIGEsYz1zK247aWYoYT1QbihlLHQsYykpe3J8fChyPW8uY2hpbGRyZW4uc2xpY2UoKSk7d2hpbGUoaTxyLmxlbmd0aCYmcltpXTxzKWkrPTM7cltpXT09cz9yW2krMl09cltpKzJdLmFkZElubmVyKHQsYSxjKzEpOnIuc3BsaWNlKGksMCxzLHMrdC5ub2RlU2l6ZSxJbihhLHQsYysxLE5uKSksaSs9M319KSk7dmFyIHM9Um4oaT96bihlKTplLC1uKTtyZXR1cm4gbmV3IFRuKHMubGVuZ3RoP3RoaXMubG9jYWwuY29uY2F0KHMpLnNvcnQoJG4pOnRoaXMubG9jYWwscnx8dGhpcy5jaGlsZHJlbil9LFRuLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7cmV0dXJuIDA9PXQubGVuZ3RofHx0aGlzPT1Bbj90aGlzOnRoaXMucmVtb3ZlSW5uZXIodCwwKX0sVG4ucHJvdG90eXBlLnJlbW92ZUlubmVyPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuY2hpbGRyZW4scj10aGlzLmxvY2FsLG89MDtvPG4ubGVuZ3RoO28rPTMpe2Zvcih2YXIgaT12b2lkIDAscz1uW29dK2UsYT1uW28rMV0rZSxjPTAsbD12b2lkIDA7Yzx0Lmxlbmd0aDtjKyspKGw9dFtjXSkmJmwuZnJvbT5zJiZsLnRvPGEmJih0W2NdPW51bGwsKGl8fChpPVtdKSkucHVzaChsKSk7aWYoaSl7bj09dGhpcy5jaGlsZHJlbiYmKG49dGhpcy5jaGlsZHJlbi5zbGljZSgpKTt2YXIgdT1uW28rMl0ucmVtb3ZlSW5uZXIoaSxzKzEpO3UhPUFuP25bbysyXT11OihuLnNwbGljZShvLDMpLG8tPTMpfX1pZihyLmxlbmd0aClmb3IodmFyIGQ9MCxwPXZvaWQgMDtkPHQubGVuZ3RoO2QrKylpZihwPXRbZF0pZm9yKHZhciBmPTA7ZjxyLmxlbmd0aDtmKyspcltmXS5lcShwLGUpJiYocj09dGhpcy5sb2NhbCYmKHI9dGhpcy5sb2NhbC5zbGljZSgpKSxyLnNwbGljZShmLS0sMSkpO3JldHVybiBuPT10aGlzLmNoaWxkcmVuJiZyPT10aGlzLmxvY2FsP3RoaXM6ci5sZW5ndGh8fG4ubGVuZ3RoP25ldyBUbihyLG4pOkFufSxUbi5wcm90b3R5cGUuZm9yQ2hpbGQ9ZnVuY3Rpb24odCxlKXtpZih0aGlzPT1BbilyZXR1cm4gdGhpcztpZihlLmlzTGVhZilyZXR1cm4gVG4uZW1wdHk7Zm9yKHZhciBuLHIsbz0wO288dGhpcy5jaGlsZHJlbi5sZW5ndGg7bys9MylpZih0aGlzLmNoaWxkcmVuW29dPj10KXt0aGlzLmNoaWxkcmVuW29dPT10JiYobj10aGlzLmNoaWxkcmVuW28rMl0pO2JyZWFrfWZvcih2YXIgaT10KzEscz1pK2UuY29udGVudC5zaXplLGE9MDthPHRoaXMubG9jYWwubGVuZ3RoO2ErKyl7dmFyIGM9dGhpcy5sb2NhbFthXTtpZihjLmZyb208cyYmYy50bz5pJiZjLnR5cGUgaW5zdGFuY2VvZiB4bil7dmFyIGw9TWF0aC5tYXgoaSxjLmZyb20pLWksdT1NYXRoLm1pbihzLGMudG8pLWk7bDx1JiYocnx8KHI9W10pKS5wdXNoKGMuY29weShsLHUpKX19aWYocil7dmFyIGQ9bmV3IFRuKHIuc29ydCgkbikpO3JldHVybiBuP25ldyBEbihbZCxuXSk6ZH1yZXR1cm4gbnx8QW59LFRuLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtpZih0aGlzPT10KXJldHVybiEwO2lmKCEodCBpbnN0YW5jZW9mIFRuKXx8dGhpcy5sb2NhbC5sZW5ndGghPXQubG9jYWwubGVuZ3RofHx0aGlzLmNoaWxkcmVuLmxlbmd0aCE9dC5jaGlsZHJlbi5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBlPTA7ZTx0aGlzLmxvY2FsLmxlbmd0aDtlKyspaWYoIXRoaXMubG9jYWxbZV0uZXEodC5sb2NhbFtlXSkpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtuKz0zKWlmKHRoaXMuY2hpbGRyZW5bbl0hPXQuY2hpbGRyZW5bbl18fHRoaXMuY2hpbGRyZW5bbisxXSE9dC5jaGlsZHJlbltuKzFdfHwhdGhpcy5jaGlsZHJlbltuKzJdLmVxKHQuY2hpbGRyZW5bbisyXSkpcmV0dXJuITE7cmV0dXJuITB9LFRuLnByb3RvdHlwZS5sb2NhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIFZuKHRoaXMubG9jYWxzSW5uZXIodCkpfSxUbi5wcm90b3R5cGUubG9jYWxzSW5uZXI9ZnVuY3Rpb24odCl7aWYodGhpcz09QW4pcmV0dXJuIE1uO2lmKHQuaW5saW5lQ29udGVudHx8IXRoaXMubG9jYWwuc29tZSh4bi5pcykpcmV0dXJuIHRoaXMubG9jYWw7Zm9yKHZhciBlPVtdLG49MDtuPHRoaXMubG9jYWwubGVuZ3RoO24rKyl0aGlzLmxvY2FsW25dLnR5cGUgaW5zdGFuY2VvZiB4bnx8ZS5wdXNoKHRoaXMubG9jYWxbbl0pO3JldHVybiBlfTt2YXIgQW49bmV3IFRuO1RuLmVtcHR5PUFuLFRuLnJlbW92ZU92ZXJsYXA9Vm47dmFyIERuPWZ1bmN0aW9uKHQpe3RoaXMubWVtYmVycz10fTtmdW5jdGlvbiBFbih0LGUsbixyLG8saSxzKXtmb3IodmFyIGE9dC5zbGljZSgpLGM9ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBzPTA7czxhLmxlbmd0aDtzKz0zKXt2YXIgYz1hW3MrMV0sbD12b2lkIDA7LTE9PWN8fHQ+YytpfHwoZT49YVtzXStpP2FbcysxXT0tMTpuPj1vJiYobD1yLW4tKGUtdCkpJiYoYVtzXSs9bCxhW3MrMV0rPWwpKX19LGw9MDtsPG4ubWFwcy5sZW5ndGg7bCsrKW4ubWFwc1tsXS5mb3JFYWNoKGMpO2Zvcih2YXIgdT0hMSxkPTA7ZDxhLmxlbmd0aDtkKz0zKWlmKC0xPT1hW2QrMV0pe3ZhciBwPW4ubWFwKHRbZF0raSksZj1wLW87aWYoZjwwfHxmPj1yLmNvbnRlbnQuc2l6ZSl7dT0hMDtjb250aW51ZX12YXIgaD1uLm1hcCh0W2QrMV0raSwtMSksbT1oLW8sdj1yLmNvbnRlbnQuZmluZEluZGV4KGYpLGc9di5pbmRleCx5PXYub2Zmc2V0LGI9ci5tYXliZUNoaWxkKGcpO2lmKGImJnk9PWYmJnkrYi5ub2RlU2l6ZT09bSl7dmFyIHc9YVtkKzJdLm1hcElubmVyKG4sYixwKzEsdFtkXStpKzEscyk7dyE9QW4/KGFbZF09ZixhW2QrMV09bSxhW2QrMl09dyk6KGFbZCsxXT0tMix1PSEwKX1lbHNlIHU9ITB9aWYodSl7dmFyIFM9X24oYSx0LGV8fFtdLG4sbyxpLHMpLHg9SW4oUyxyLDAscyk7ZT14LmxvY2FsO2Zvcih2YXIgaz0wO2s8YS5sZW5ndGg7ays9MylhW2srMV08MCYmKGEuc3BsaWNlKGssMyksay09Myk7Zm9yKHZhciBDPTAsTz0wO0M8eC5jaGlsZHJlbi5sZW5ndGg7Qys9Myl7dmFyIE09eC5jaGlsZHJlbltDXTt3aGlsZShPPGEubGVuZ3RoJiZhW09dPE0pTys9MzthLnNwbGljZShPLDAseC5jaGlsZHJlbltDXSx4LmNoaWxkcmVuW0MrMV0seC5jaGlsZHJlbltDKzJdKX19cmV0dXJuIG5ldyBUbihlJiZlLnNvcnQoJG4pLGEpfWZ1bmN0aW9uIFJuKHQsZSl7aWYoIWV8fCF0Lmxlbmd0aClyZXR1cm4gdDtmb3IodmFyIG49W10scj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO24ucHVzaChuZXcgQ24oby5mcm9tK2Usby50bytlLG8udHlwZSkpfXJldHVybiBufWZ1bmN0aW9uIF9uKHQsZSxuLHIsbyxpLHMpe2Z1bmN0aW9uIGEodCxlKXtmb3IodmFyIGk9MDtpPHQubG9jYWwubGVuZ3RoO2krKyl7dmFyIGM9dC5sb2NhbFtpXS5tYXAocixvLGUpO2M/bi5wdXNoKGMpOnMub25SZW1vdmUmJnMub25SZW1vdmUodC5sb2NhbFtpXS5zcGVjKX1mb3IodmFyIGw9MDtsPHQuY2hpbGRyZW4ubGVuZ3RoO2wrPTMpYSh0LmNoaWxkcmVuW2wrMl0sdC5jaGlsZHJlbltsXStlKzEpfWZvcih2YXIgYz0wO2M8dC5sZW5ndGg7Yys9MyktMT09dFtjKzFdJiZhKHRbYysyXSxlW2NdK2krMSk7cmV0dXJuIG59ZnVuY3Rpb24gUG4odCxlLG4pe2lmKGUuaXNMZWFmKXJldHVybiBudWxsO2Zvcih2YXIgcj1uK2Uubm9kZVNpemUsbz1udWxsLGk9MCxzPXZvaWQgMDtpPHQubGVuZ3RoO2krKykocz10W2ldKSYmcy5mcm9tPm4mJnMudG88ciYmKChvfHwobz1bXSkpLnB1c2gocyksdFtpXT1udWxsKTtyZXR1cm4gb31mdW5jdGlvbiB6bih0KXtmb3IodmFyIGU9W10sbj0wO248dC5sZW5ndGg7bisrKW51bGwhPXRbbl0mJmUucHVzaCh0W25dKTtyZXR1cm4gZX1mdW5jdGlvbiBJbih0LGUsbixyKXt2YXIgbz1bXSxpPSExO2UuZm9yRWFjaCgoZnVuY3Rpb24oZSxzKXt2YXIgYT1Qbih0LGUscytuKTtpZihhKXtpPSEwO3ZhciBjPUluKGEsZSxuK3MrMSxyKTtjIT1BbiYmby5wdXNoKHMscytlLm5vZGVTaXplLGMpfX0pKTtmb3IodmFyIHM9Um4oaT96bih0KTp0LC1uKS5zb3J0KCRuKSxhPTA7YTxzLmxlbmd0aDthKyspc1thXS50eXBlLnZhbGlkKGUsc1thXSl8fChyLm9uUmVtb3ZlJiZyLm9uUmVtb3ZlKHNbYV0uc3BlYykscy5zcGxpY2UoYS0tLDEpKTtyZXR1cm4gcy5sZW5ndGh8fG8ubGVuZ3RoP25ldyBUbihzLG8pOkFufWZ1bmN0aW9uICRuKHQsZSl7cmV0dXJuIHQuZnJvbS1lLmZyb218fHQudG8tZS50b31mdW5jdGlvbiBWbih0KXtmb3IodmFyIGU9dCxuPTA7bjxlLmxlbmd0aC0xO24rKyl7dmFyIHI9ZVtuXTtpZihyLmZyb20hPXIudG8pZm9yKHZhciBvPW4rMTtvPGUubGVuZ3RoO28rKyl7dmFyIGk9ZVtvXTtpZihpLmZyb20hPXIuZnJvbSl7aS5mcm9tPHIudG8mJihlPT10JiYoZT10LnNsaWNlKCkpLGVbbl09ci5jb3B5KHIuZnJvbSxpLmZyb20pLEJuKGUsbyxyLmNvcHkoaS5mcm9tLHIudG8pKSk7YnJlYWt9aS50byE9ci50byYmKGU9PXQmJihlPXQuc2xpY2UoKSksZVtvXT1pLmNvcHkoaS5mcm9tLHIudG8pLEJuKGUsbysxLGkuY29weShyLnRvLGkudG8pKSl9fXJldHVybiBlfWZ1bmN0aW9uIEJuKHQsZSxuKXt3aGlsZShlPHQubGVuZ3RoJiYkbihuLHRbZV0pPjApZSsrO3Quc3BsaWNlKGUsMCxuKX1mdW5jdGlvbiBGbih0KXt2YXIgZT1bXTtyZXR1cm4gdC5zb21lUHJvcCgiZGVjb3JhdGlvbnMiLChmdW5jdGlvbihuKXt2YXIgcj1uKHQuc3RhdGUpO3ImJnIhPUFuJiZlLnB1c2gocil9KSksdC5jdXJzb3JXcmFwcGVyJiZlLnB1c2goVG4uY3JlYXRlKHQuc3RhdGUuZG9jLFt0LmN1cnNvcldyYXBwZXIuZGVjb10pKSxEbi5mcm9tKGUpfURuLnByb3RvdHlwZS5mb3JDaGlsZD1mdW5jdGlvbih0LGUpe2lmKGUuaXNMZWFmKXJldHVybiBUbi5lbXB0eTtmb3IodmFyIG49W10scj0wO3I8dGhpcy5tZW1iZXJzLmxlbmd0aDtyKyspe3ZhciBvPXRoaXMubWVtYmVyc1tyXS5mb3JDaGlsZCh0LGUpO28hPUFuJiYobyBpbnN0YW5jZW9mIERuP249bi5jb25jYXQoby5tZW1iZXJzKTpuLnB1c2gobykpfXJldHVybiBEbi5mcm9tKG4pfSxEbi5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7aWYoISh0IGluc3RhbmNlb2YgRG4pfHx0Lm1lbWJlcnMubGVuZ3RoIT10aGlzLm1lbWJlcnMubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZT0wO2U8dGhpcy5tZW1iZXJzLmxlbmd0aDtlKyspaWYoIXRoaXMubWVtYmVyc1tlXS5lcSh0Lm1lbWJlcnNbZV0pKXJldHVybiExO3JldHVybiEwfSxEbi5wcm90b3R5cGUubG9jYWxzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPSEwLHI9MDtyPHRoaXMubWVtYmVycy5sZW5ndGg7cisrKXt2YXIgbz10aGlzLm1lbWJlcnNbcl0ubG9jYWxzSW5uZXIodCk7aWYoby5sZW5ndGgpaWYoZSl7biYmKGU9ZS5zbGljZSgpLG49ITEpO2Zvcih2YXIgaT0wO2k8by5sZW5ndGg7aSsrKWUucHVzaChvW2ldKX1lbHNlIGU9b31yZXR1cm4gZT9WbihuP2U6ZS5zb3J0KCRuKSk6TW59LERuLmZyb209ZnVuY3Rpb24odCl7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIEFuO2Nhc2UgMTpyZXR1cm4gdFswXTtkZWZhdWx0OnJldHVybiBuZXcgRG4odCl9fTt2YXIgam49ZnVuY3Rpb24odCxlKXt0aGlzLl9wcm9wcz1lLHRoaXMuc3RhdGU9ZS5zdGF0ZSx0aGlzLmRpc3BhdGNoPXRoaXMuZGlzcGF0Y2guYmluZCh0aGlzKSx0aGlzLl9yb290PW51bGwsdGhpcy5mb2N1c2VkPSExLHRoaXMudHJhY2tXcml0ZXM9bnVsbCx0aGlzLmRvbT10JiZ0Lm1vdW50fHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0JiYodC5hcHBlbmRDaGlsZD90LmFwcGVuZENoaWxkKHRoaXMuZG9tKTp0LmFwcGx5P3QodGhpcy5kb20pOnQubW91bnQmJih0aGlzLm1vdW50ZWQ9ITApKSx0aGlzLmVkaXRhYmxlPVduKHRoaXMpLHRoaXMubWFya0N1cnNvcj1udWxsLHRoaXMuY3Vyc29yV3JhcHBlcj1udWxsLHFuKHRoaXMpLHRoaXMubm9kZVZpZXdzPUpuKHRoaXMpLHRoaXMuZG9jVmlldz1tdCh0aGlzLnN0YXRlLmRvYyxIbih0aGlzKSxGbih0aGlzKSx0aGlzLmRvbSx0aGlzKSx0aGlzLmxhc3RTZWxlY3RlZFZpZXdEZXNjPW51bGwsdGhpcy5kcmFnZ2luZz1udWxsLEZlKHRoaXMpLHRoaXMucGx1Z2luVmlld3M9W10sdGhpcy51cGRhdGVQbHVnaW5WaWV3cygpfSxMbj17cHJvcHM6e2NvbmZpZ3VyYWJsZTohMH0scm9vdDp7Y29uZmlndXJhYmxlOiEwfX07ZnVuY3Rpb24gSG4odCl7dmFyIGU9T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gZS5jbGFzcz0iUHJvc2VNaXJyb3IiLGUuY29udGVudGVkaXRhYmxlPVN0cmluZyh0LmVkaXRhYmxlKSx0LnNvbWVQcm9wKCJhdHRyaWJ1dGVzIiwoZnVuY3Rpb24obil7aWYoImZ1bmN0aW9uIj09dHlwZW9mIG4mJihuPW4odC5zdGF0ZSkpLG4pZm9yKHZhciByIGluIG4pImNsYXNzIj09cj9lLmNsYXNzKz0iICIrbltyXTplW3JdfHwiY29udGVudGVkaXRhYmxlIj09cnx8Im5vZGVOYW1lIj09cnx8KGVbcl09U3RyaW5nKG5bcl0pKX0pKSxbQ24ubm9kZSgwLHQuc3RhdGUuZG9jLmNvbnRlbnQuc2l6ZSxlKV19ZnVuY3Rpb24gcW4odCl7aWYodC5tYXJrQ3Vyc29yKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtlLnNldEF0dHJpYnV0ZSgibWFyay1wbGFjZWhvbGRlciIsInRydWUiKSx0LmN1cnNvcldyYXBwZXI9e2RvbTplLGRlY286Q24ud2lkZ2V0KHQuc3RhdGUuc2VsZWN0aW9uLmhlYWQsZSx7cmF3OiEwLG1hcmtzOnQubWFya0N1cnNvcn0pfX1lbHNlIHQuY3Vyc29yV3JhcHBlcj1udWxsfWZ1bmN0aW9uIFduKHQpe3JldHVybiF0LnNvbWVQcm9wKCJlZGl0YWJsZSIsKGZ1bmN0aW9uKGUpe3JldHVybiExPT09ZSh0LnN0YXRlKX0pKX1mdW5jdGlvbiBLbih0LGUpe3ZhciBuPU1hdGgubWluKHQuJGFuY2hvci5zaGFyZWREZXB0aCh0LmhlYWQpLGUuJGFuY2hvci5zaGFyZWREZXB0aChlLmhlYWQpKTtyZXR1cm4gdC4kYW5jaG9yLnN0YXJ0KG4pIT1lLiRhbmNob3Iuc3RhcnQobil9ZnVuY3Rpb24gSm4odCl7dmFyIGU9e307cmV0dXJuIHQuc29tZVByb3AoIm5vZGVWaWV3cyIsKGZ1bmN0aW9uKHQpe2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pfHwoZVtuXT10W25dKX0pKSxlfWZ1bmN0aW9uIFVuKHQsZSl7dmFyIG49MCxyPTA7Zm9yKHZhciBvIGluIHQpe2lmKHRbb10hPWVbb10pcmV0dXJuITA7bisrfWZvcih2YXIgaSBpbiBlKXIrKztyZXR1cm4gbiE9cn1mdW5jdGlvbiBHbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9e30pLG5ldyBjWyJQbHVnaW4iXSh7dmlldzpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFhuKGUsdCl9fSl9TG4ucHJvcHMuZ2V0PWZ1bmN0aW9uKCl7aWYodGhpcy5fcHJvcHMuc3RhdGUhPXRoaXMuc3RhdGUpe3ZhciB0PXRoaXMuX3Byb3BzO2Zvcih2YXIgZSBpbiB0aGlzLl9wcm9wcz17fSx0KXRoaXMuX3Byb3BzW2VdPXRbZV07dGhpcy5fcHJvcHMuc3RhdGU9dGhpcy5zdGF0ZX1yZXR1cm4gdGhpcy5fcHJvcHN9LGpuLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dC5oYW5kbGVET01FdmVudHMhPXRoaXMuX3Byb3BzLmhhbmRsZURPTUV2ZW50cyYmSGUodGhpcyksdGhpcy5fcHJvcHM9dCx0aGlzLnVwZGF0ZVN0YXRlSW5uZXIodC5zdGF0ZSwhMCl9LGpuLnByb3RvdHlwZS5zZXRQcm9wcz1mdW5jdGlvbih0KXt2YXIgZT17fTtmb3IodmFyIG4gaW4gdGhpcy5fcHJvcHMpZVtuXT10aGlzLl9wcm9wc1tuXTtmb3IodmFyIHIgaW4gZS5zdGF0ZT10aGlzLnN0YXRlLHQpZVtyXT10W3JdO3RoaXMudXBkYXRlKGUpfSxqbi5wcm90b3R5cGUudXBkYXRlU3RhdGU9ZnVuY3Rpb24odCl7dGhpcy51cGRhdGVTdGF0ZUlubmVyKHQsdGhpcy5zdGF0ZS5wbHVnaW5zIT10LnBsdWdpbnMpfSxqbi5wcm90b3R5cGUudXBkYXRlU3RhdGVJbm5lcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj10aGlzLnN0YXRlLG89ITEsaT0hMTtpZih0LnN0b3JlZE1hcmtzJiZ0aGlzLmNvbXBvc2luZyYmKHVuKHRoaXMpLGk9ITApLHRoaXMuc3RhdGU9dCxlKXt2YXIgcz1Kbih0aGlzKTtVbihzLHRoaXMubm9kZVZpZXdzKSYmKHRoaXMubm9kZVZpZXdzPXMsbz0hMCksSGUodGhpcyl9dGhpcy5lZGl0YWJsZT1Xbih0aGlzKSxxbih0aGlzKTt2YXIgYT1Gbih0aGlzKSxsPUhuKHRoaXMpLHU9ZT8icmVzZXQiOnQuc2Nyb2xsVG9TZWxlY3Rpb24+ci5zY3JvbGxUb1NlbGVjdGlvbj8idG8gc2VsZWN0aW9uIjoicHJlc2VydmUiLHA9b3x8IXRoaXMuZG9jVmlldy5tYXRjaGVzTm9kZSh0LmRvYyxsLGEpOyFwJiZ0LnNlbGVjdGlvbi5lcShyLnNlbGVjdGlvbil8fChpPSEwKTt2YXIgZj0icHJlc2VydmUiPT11JiZpJiZudWxsPT10aGlzLmRvbS5zdHlsZS5vdmVyZmxvd0FuY2hvciYmUih0aGlzKTtpZihpKXt0aGlzLmRvbU9ic2VydmVyLnN0b3AoKTt2YXIgaD1wJiYoZC5pZXx8ZC5jaHJvbWUpJiYhdGhpcy5jb21wb3NpbmcmJiFyLnNlbGVjdGlvbi5lbXB0eSYmIXQuc2VsZWN0aW9uLmVtcHR5JiZLbihyLnNlbGVjdGlvbix0LnNlbGVjdGlvbik7aWYocCl7dmFyIG09ZC5jaHJvbWU/dGhpcy50cmFja1dyaXRlcz10aGlzLnJvb3QuZ2V0U2VsZWN0aW9uKCkuZm9jdXNOb2RlOm51bGw7IW8mJnRoaXMuZG9jVmlldy51cGRhdGUodC5kb2MsbCxhLHRoaXMpfHwodGhpcy5kb2NWaWV3LnVwZGF0ZU91dGVyRGVjbyhbXSksdGhpcy5kb2NWaWV3LmRlc3Ryb3koKSx0aGlzLmRvY1ZpZXc9bXQodC5kb2MsbCxhLHRoaXMuZG9tLHRoaXMpKSxtJiYhdGhpcy50cmFja1dyaXRlcyYmKGg9ITApfWh8fCEodGhpcy5tb3VzZURvd24mJnRoaXMuZG9tT2JzZXJ2ZXIuY3VycmVudFNlbGVjdGlvbi5lcSh0aGlzLnJvb3QuZ2V0U2VsZWN0aW9uKCkpJiZHdCh0aGlzKSk/JHQodGhpcyxoKToocXQodGhpcyx0LnNlbGVjdGlvbiksdGhpcy5kb21PYnNlcnZlci5zZXRDdXJTZWxlY3Rpb24oKSksdGhpcy5kb21PYnNlcnZlci5zdGFydCgpfWlmKHRoaXMudXBkYXRlUGx1Z2luVmlld3MociksInJlc2V0Ij09dSl0aGlzLmRvbS5zY3JvbGxUb3A9MDtlbHNlIGlmKCJ0byBzZWxlY3Rpb24iPT11KXt2YXIgdj10aGlzLnJvb3QuZ2V0U2VsZWN0aW9uKCkuZm9jdXNOb2RlO3RoaXMuc29tZVByb3AoImhhbmRsZVNjcm9sbFRvU2VsZWN0aW9uIiwoZnVuY3Rpb24odCl7cmV0dXJuIHQobil9KSl8fCh0LnNlbGVjdGlvbiBpbnN0YW5jZW9mIGNbIk5vZGVTZWxlY3Rpb24iXT9FKHRoaXMsdGhpcy5kb2NWaWV3LmRvbUFmdGVyUG9zKHQuc2VsZWN0aW9uLmZyb20pLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHYpOkUodGhpcyx0aGlzLmNvb3Jkc0F0UG9zKHQuc2VsZWN0aW9uLmhlYWQpLHYpKX1lbHNlIGYmJlAoZil9LGpuLnByb3RvdHlwZS5kZXN0cm95UGx1Z2luVmlld3M9ZnVuY3Rpb24oKXt2YXIgdDt3aGlsZSh0PXRoaXMucGx1Z2luVmlld3MucG9wKCkpdC5kZXN0cm95JiZ0LmRlc3Ryb3koKX0sam4ucHJvdG90eXBlLnVwZGF0ZVBsdWdpblZpZXdzPWZ1bmN0aW9uKHQpe2lmKHQmJnQucGx1Z2lucz09dGhpcy5zdGF0ZS5wbHVnaW5zKWZvcih2YXIgZT0wO2U8dGhpcy5wbHVnaW5WaWV3cy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLnBsdWdpblZpZXdzW2VdO24udXBkYXRlJiZuLnVwZGF0ZSh0aGlzLHQpfWVsc2V7dGhpcy5kZXN0cm95UGx1Z2luVmlld3MoKTtmb3IodmFyIHI9MDtyPHRoaXMuc3RhdGUucGx1Z2lucy5sZW5ndGg7cisrKXt2YXIgbz10aGlzLnN0YXRlLnBsdWdpbnNbcl07by5zcGVjLnZpZXcmJnRoaXMucGx1Z2luVmlld3MucHVzaChvLnNwZWMudmlldyh0aGlzKSl9fX0sam4ucHJvdG90eXBlLnNvbWVQcm9wPWZ1bmN0aW9uKHQsZSl7dmFyIG4scj10aGlzLl9wcm9wcyYmdGhpcy5fcHJvcHNbdF07aWYobnVsbCE9ciYmKG49ZT9lKHIpOnIpKXJldHVybiBuO3ZhciBvPXRoaXMuc3RhdGUucGx1Z2lucztpZihvKWZvcih2YXIgaT0wO2k8by5sZW5ndGg7aSsrKXt2YXIgcz1vW2ldLnByb3BzW3RdO2lmKG51bGwhPXMmJihuPWU/ZShzKTpzKSlyZXR1cm4gbn19LGpuLnByb3RvdHlwZS5oYXNGb2N1cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJvb3QuYWN0aXZlRWxlbWVudD09dGhpcy5kb219LGpuLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe3RoaXMuZG9tT2JzZXJ2ZXIuc3RvcCgpLHRoaXMuZWRpdGFibGUmJiQodGhpcy5kb20pLCR0KHRoaXMpLHRoaXMuZG9tT2JzZXJ2ZXIuc3RhcnQoKX0sTG4ucm9vdC5nZXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yb290O2lmKG51bGw9PXQpZm9yKHZhciBlPXRoaXMuZG9tLnBhcmVudE5vZGU7ZTtlPWUucGFyZW50Tm9kZSlpZig5PT1lLm5vZGVUeXBlfHwxMT09ZS5ub2RlVHlwZSYmZS5ob3N0KXJldHVybiBlLmdldFNlbGVjdGlvbnx8KE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCl9KSx0aGlzLl9yb290PWU7cmV0dXJuIHR8fGRvY3VtZW50fSxqbi5wcm90b3R5cGUucG9zQXRDb29yZHM9ZnVuY3Rpb24odCl7cmV0dXJuIFcodGhpcyx0KX0sam4ucHJvdG90eXBlLmNvb3Jkc0F0UG9zPWZ1bmN0aW9uKHQpe3JldHVybiBKKHRoaXMsdCl9LGpuLnByb3RvdHlwZS5kb21BdFBvcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kb2NWaWV3LmRvbUZyb21Qb3ModCl9LGpuLnByb3RvdHlwZS5ub2RlRE9NPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZG9jVmlldy5kZXNjQXQodCk7cmV0dXJuIGU/ZS5ub2RlRE9NOm51bGx9LGpuLnByb3RvdHlwZS5wb3NBdERPTT1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49LTEpO3ZhciByPXRoaXMuZG9jVmlldy5wb3NGcm9tRE9NKHQsZSxuKTtpZihudWxsPT1yKXRocm93IG5ldyBSYW5nZUVycm9yKCJET00gcG9zaXRpb24gbm90IGluc2lkZSB0aGUgZWRpdG9yIik7cmV0dXJuIHJ9LGpuLnByb3RvdHlwZS5lbmRPZlRleHRibG9jaz1mdW5jdGlvbih0LGUpe3JldHVybiBydCh0aGlzLGV8fHRoaXMuc3RhdGUsdCl9LGpuLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5kb2NWaWV3JiYoTGUodGhpcyksdGhpcy5kZXN0cm95UGx1Z2luVmlld3MoKSx0aGlzLm1vdW50ZWQ/KHRoaXMuZG9jVmlldy51cGRhdGUodGhpcy5zdGF0ZS5kb2MsW10sRm4odGhpcyksdGhpcyksdGhpcy5kb20udGV4dENvbnRlbnQ9IiIpOnRoaXMuZG9tLnBhcmVudE5vZGUmJnRoaXMuZG9tLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kb20pLHRoaXMuZG9jVmlldy5kZXN0cm95KCksdGhpcy5kb2NWaWV3PW51bGwpfSxqbi5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbih0KXtyZXR1cm4gS2UodGhpcyx0KX0sam4ucHJvdG90eXBlLmRpc3BhdGNoPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3Byb3BzLmRpc3BhdGNoVHJhbnNhY3Rpb247ZT9lLmNhbGwodGhpcyx0KTp0aGlzLnVwZGF0ZVN0YXRlKHRoaXMuc3RhdGUuYXBwbHkodCkpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhqbi5wcm90b3R5cGUsTG4pO3ZhciBYbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy5lZGl0b3JWaWV3PXQsdGhpcy53aWR0aD1lLndpZHRofHwxLHRoaXMuY29sb3I9ZS5jb2xvcnx8ImJsYWNrIix0aGlzLmNsYXNzPWUuY2xhc3MsdGhpcy5jdXJzb3JQb3M9bnVsbCx0aGlzLmVsZW1lbnQ9bnVsbCx0aGlzLnRpbWVvdXQ9bnVsbCx0aGlzLmhhbmRsZXJzPVsiZHJhZ292ZXIiLCJkcmFnZW5kIiwiZHJvcCIsImRyYWdsZWF2ZSJdLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24odCl7cmV0dXJuIG5bZV0odCl9O3JldHVybiB0LmRvbS5hZGRFdmVudExpc3RlbmVyKGUscikse25hbWU6ZSxoYW5kbGVyOnJ9fSkpfTtYbi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5oYW5kbGVycy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLm5hbWUscj1lLmhhbmRsZXI7cmV0dXJuIHQuZWRpdG9yVmlldy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLHIpfSkpfSxYbi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7bnVsbCE9dGhpcy5jdXJzb3JQb3MmJmUuZG9jIT10LnN0YXRlLmRvYyYmdGhpcy51cGRhdGVPdmVybGF5KCl9LFhuLnByb3RvdHlwZS5zZXRDdXJzb3I9ZnVuY3Rpb24odCl7dCE9dGhpcy5jdXJzb3JQb3MmJih0aGlzLmN1cnNvclBvcz10LG51bGw9PXQ/KHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudCksdGhpcy5lbGVtZW50PW51bGwpOnRoaXMudXBkYXRlT3ZlcmxheSgpKX0sWG4ucHJvdG90eXBlLnVwZGF0ZU92ZXJsYXk9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuZWRpdG9yVmlldy5zdGF0ZS5kb2MucmVzb2x2ZSh0aGlzLmN1cnNvclBvcyk7aWYoIWUucGFyZW50LmlubGluZUNvbnRlbnQpe3ZhciBuPWUubm9kZUJlZm9yZSxyPWUubm9kZUFmdGVyO2lmKG58fHIpe3ZhciBvPXRoaXMuZWRpdG9yVmlldy5ub2RlRE9NKHRoaXMuY3Vyc29yUG9zLShuP24ubm9kZVNpemU6MCkpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGk9bj9vLmJvdHRvbTpvLnRvcDtuJiZyJiYoaT0oaSt0aGlzLmVkaXRvclZpZXcubm9kZURPTSh0aGlzLmN1cnNvclBvcykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wKS8yKSx0PXtsZWZ0Om8ubGVmdCxyaWdodDpvLnJpZ2h0LHRvcDppLXRoaXMud2lkdGgvMixib3R0b206aSt0aGlzLndpZHRoLzJ9fX1pZighdCl7dmFyIHM9dGhpcy5lZGl0b3JWaWV3LmNvb3Jkc0F0UG9zKHRoaXMuY3Vyc29yUG9zKTt0PXtsZWZ0OnMubGVmdC10aGlzLndpZHRoLzIscmlnaHQ6cy5sZWZ0K3RoaXMud2lkdGgvMix0b3A6cy50b3AsYm90dG9tOnMuYm90dG9tfX12YXIgYT10aGlzLmVkaXRvclZpZXcuZG9tLm9mZnNldFBhcmVudDt0aGlzLmVsZW1lbnR8fCh0aGlzLmVsZW1lbnQ9YS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSksdGhpcy5jbGFzcyYmKHRoaXMuZWxlbWVudC5jbGFzc05hbWU9dGhpcy5jbGFzcyksdGhpcy5lbGVtZW50LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOiBhYnNvbHV0ZTsgei1pbmRleDogNTA7IHBvaW50ZXItZXZlbnRzOiBub25lOyBiYWNrZ3JvdW5kLWNvbG9yOiAiK3RoaXMuY29sb3IpO3ZhciBjPSFhfHxhPT1kb2N1bWVudC5ib2R5JiYic3RhdGljIj09Z2V0Q29tcHV0ZWRTdHlsZShhKS5wb3NpdGlvbj97bGVmdDotcGFnZVhPZmZzZXQsdG9wOi1wYWdlWU9mZnNldH06YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0aGlzLmVsZW1lbnQuc3R5bGUubGVmdD10LmxlZnQtYy5sZWZ0KyJweCIsdGhpcy5lbGVtZW50LnN0eWxlLnRvcD10LnRvcC1jLnRvcCsicHgiLHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aD10LnJpZ2h0LXQubGVmdCsicHgiLHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQ9dC5ib3R0b20tdC50b3ArInB4In0sWG4ucHJvdG90eXBlLnNjaGVkdWxlUmVtb3ZhbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2NsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpLHRoaXMudGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBlLnNldEN1cnNvcihudWxsKX0pLHQpfSxYbi5wcm90b3R5cGUuZHJhZ292ZXI9ZnVuY3Rpb24odCl7aWYodGhpcy5lZGl0b3JWaWV3LmVkaXRhYmxlKXt2YXIgZT10aGlzLmVkaXRvclZpZXcucG9zQXRDb29yZHMoe2xlZnQ6dC5jbGllbnRYLHRvcDp0LmNsaWVudFl9KTtpZihlKXt2YXIgbj1lLnBvczt0aGlzLmVkaXRvclZpZXcuZHJhZ2dpbmcmJnRoaXMuZWRpdG9yVmlldy5kcmFnZ2luZy5zbGljZSYmKG49T2JqZWN0KHVbImgiXSkodGhpcy5lZGl0b3JWaWV3LnN0YXRlLmRvYyxuLHRoaXMuZWRpdG9yVmlldy5kcmFnZ2luZy5zbGljZSksbnVsbD09biYmKG49ZS5wb3MpKSx0aGlzLnNldEN1cnNvcihuKSx0aGlzLnNjaGVkdWxlUmVtb3ZhbCg1ZTMpfX19LFhuLnByb3RvdHlwZS5kcmFnZW5kPWZ1bmN0aW9uKCl7dGhpcy5zY2hlZHVsZVJlbW92YWwoMjApfSxYbi5wcm90b3R5cGUuZHJvcD1mdW5jdGlvbigpe3RoaXMuc2NoZWR1bGVSZW1vdmFsKDIwKX0sWG4ucHJvdG90eXBlLmRyYWdsZWF2ZT1mdW5jdGlvbih0KXt0LnRhcmdldCE9dGhpcy5lZGl0b3JWaWV3LmRvbSYmdGhpcy5lZGl0b3JWaWV3LmRvbS5jb250YWlucyh0LnJlbGF0ZWRUYXJnZXQpfHx0aGlzLnNldEN1cnNvcihudWxsKX07dmFyIFluPW4oIjdmMDYiKSxabj1uKCI1NzZhIiksUW49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyxlLGUpfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24obixyKXt2YXIgbz1uLnJlc29sdmUoci5tYXAodGhpcy5oZWFkKSk7cmV0dXJuIGUudmFsaWQobyk/bmV3IGUobyk6dC5uZWFyKG8pfSxlLnByb3RvdHlwZS5jb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIGxbIlNsaWNlIl0uZW1wdHl9LGUucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZSYmdC5oZWFkPT10aGlzLmhlYWR9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJnYXBjdXJzb3IiLHBvczp0aGlzLmhlYWR9fSxlLmZyb21KU09OPWZ1bmN0aW9uKHQsbil7aWYoIm51bWJlciIhPXR5cGVvZiBuLnBvcyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgR2FwQ3Vyc29yLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKHQucmVzb2x2ZShuLnBvcykpfSxlLnByb3RvdHlwZS5nZXRCb29rbWFyaz1mdW5jdGlvbigpe3JldHVybiBuZXcgdHIodGhpcy5hbmNob3IpfSxlLnZhbGlkPWZ1bmN0aW9uKHQpe3ZhciBlPXQucGFyZW50O2lmKGUuaXNUZXh0YmxvY2t8fCFlcih0KXx8IW5yKHQpKXJldHVybiExO3ZhciBuPWUudHlwZS5zcGVjLmFsbG93R2FwQ3Vyc29yO2lmKG51bGwhPW4pcmV0dXJuIG47dmFyIHI9ZS5jb250ZW50TWF0Y2hBdCh0LmluZGV4KCkpLmRlZmF1bHRUeXBlO3JldHVybiByJiZyLmlzVGV4dGJsb2NrfSxlLmZpbmRGcm9tPWZ1bmN0aW9uKHQsbixyKXt0OmZvcig7Oyl7aWYoIXImJmUudmFsaWQodCkpcmV0dXJuIHQ7Zm9yKHZhciBvPXQucG9zLGk9bnVsbCxzPXQuZGVwdGg7O3MtLSl7dmFyIGE9dC5ub2RlKHMpO2lmKG4+MD90LmluZGV4QWZ0ZXIocyk8YS5jaGlsZENvdW50OnQuaW5kZXgocyk+MCl7aT1hLmNoaWxkKG4+MD90LmluZGV4QWZ0ZXIocyk6dC5pbmRleChzKS0xKTticmVha31pZigwPT1zKXJldHVybiBudWxsO28rPW47dmFyIGw9dC5kb2MucmVzb2x2ZShvKTtpZihlLnZhbGlkKGwpKXJldHVybiBsfWZvcig7Oyl7dmFyIHU9bj4wP2kuZmlyc3RDaGlsZDppLmxhc3RDaGlsZDtpZighdSl7aWYoaS5pc0F0b20mJiFpLmlzVGV4dCYmIWNbIk5vZGVTZWxlY3Rpb24iXS5pc1NlbGVjdGFibGUoaSkpe3Q9dC5kb2MucmVzb2x2ZShvK2kubm9kZVNpemUqbikscj0hMTtjb250aW51ZSB0fWJyZWFrfWk9dSxvKz1uO3ZhciBkPXQuZG9jLnJlc29sdmUobyk7aWYoZS52YWxpZChkKSlyZXR1cm4gZH1yZXR1cm4gbnVsbH19LGV9KGNbIlNlbGVjdGlvbiJdKTtRbi5wcm90b3R5cGUudmlzaWJsZT0hMSxjWyJTZWxlY3Rpb24iXS5qc29uSUQoImdhcGN1cnNvciIsUW4pO3ZhciB0cj1mdW5jdGlvbih0KXt0aGlzLnBvcz10fTtmdW5jdGlvbiBlcih0KXtmb3IodmFyIGU9dC5kZXB0aDtlPj0wO2UtLSl7dmFyIG49dC5pbmRleChlKTtpZigwIT1uKWZvcih2YXIgcj10Lm5vZGUoZSkuY2hpbGQobi0xKTs7cj1yLmxhc3RDaGlsZCl7aWYoMD09ci5jaGlsZENvdW50JiYhci5pbmxpbmVDb250ZW50fHxyLmlzQXRvbXx8ci50eXBlLnNwZWMuaXNvbGF0aW5nKXJldHVybiEwO2lmKHIuaW5saW5lQ29udGVudClyZXR1cm4hMX19cmV0dXJuITB9ZnVuY3Rpb24gbnIodCl7Zm9yKHZhciBlPXQuZGVwdGg7ZT49MDtlLS0pe3ZhciBuPXQuaW5kZXhBZnRlcihlKSxyPXQubm9kZShlKTtpZihuIT1yLmNoaWxkQ291bnQpZm9yKHZhciBvPXIuY2hpbGQobik7O289by5maXJzdENoaWxkKXtpZigwPT1vLmNoaWxkQ291bnQmJiFvLmlubGluZUNvbnRlbnR8fG8uaXNBdG9tfHxvLnR5cGUuc3BlYy5pc29sYXRpbmcpcmV0dXJuITA7aWYoby5pbmxpbmVDb250ZW50KXJldHVybiExfX1yZXR1cm4hMH10ci5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdHIodC5tYXAodGhpcy5wb3MpKX0sdHIucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24odCl7dmFyIGU9dC5yZXNvbHZlKHRoaXMucG9zKTtyZXR1cm4gUW4udmFsaWQoZSk/bmV3IFFuKGUpOmNbIlNlbGVjdGlvbiJdLm5lYXIoZSl9O3ZhciBycj1mdW5jdGlvbigpe3JldHVybiBuZXcgY1siUGx1Z2luIl0oe3Byb3BzOntkZWNvcmF0aW9uczphcixjcmVhdGVTZWxlY3Rpb25CZXR3ZWVuOmZ1bmN0aW9uKHQsZSxuKXtpZihlLnBvcz09bi5wb3MmJlFuLnZhbGlkKG4pKXJldHVybiBuZXcgUW4obil9LGhhbmRsZUNsaWNrOnNyLGhhbmRsZUtleURvd246b3J9fSl9LG9yPU9iamVjdChZblsiYSJdKSh7QXJyb3dMZWZ0OmlyKCJob3JpeiIsLTEpLEFycm93UmlnaHQ6aXIoImhvcml6IiwxKSxBcnJvd1VwOmlyKCJ2ZXJ0IiwtMSksQXJyb3dEb3duOmlyKCJ2ZXJ0IiwxKX0pO2Z1bmN0aW9uIGlyKHQsZSl7dmFyIG49InZlcnQiPT10P2U+MD8iZG93biI6InVwIjplPjA/InJpZ2h0IjoibGVmdCI7cmV0dXJuIGZ1bmN0aW9uKHQscixvKXt2YXIgaT10LnNlbGVjdGlvbixzPWU+MD9pLiR0bzppLiRmcm9tLGE9aS5lbXB0eTtpZihpIGluc3RhbmNlb2YgY1siVGV4dFNlbGVjdGlvbiJdKXtpZighby5lbmRPZlRleHRibG9jayhuKXx8MD09cy5kZXB0aClyZXR1cm4hMTthPSExLHM9dC5kb2MucmVzb2x2ZShlPjA/cy5hZnRlcigpOnMuYmVmb3JlKCkpfXZhciBsPVFuLmZpbmRGcm9tKHMsZSxhKTtyZXR1cm4hIWwmJihyJiZyKHQudHIuc2V0U2VsZWN0aW9uKG5ldyBRbihsKSkpLCEwKX19ZnVuY3Rpb24gc3IodCxlLG4pe2lmKCF0LmVkaXRhYmxlKXJldHVybiExO3ZhciByPXQuc3RhdGUuZG9jLnJlc29sdmUoZSk7aWYoIVFuLnZhbGlkKHIpKXJldHVybiExO3ZhciBvPXQucG9zQXRDb29yZHMoe2xlZnQ6bi5jbGllbnRYLHRvcDpuLmNsaWVudFl9KSxpPW8uaW5zaWRlO3JldHVybiEoaT4tMSYmY1siTm9kZVNlbGVjdGlvbiJdLmlzU2VsZWN0YWJsZSh0LnN0YXRlLmRvYy5ub2RlQXQoaSkpKSYmKHQuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24obmV3IFFuKHIpKSksITApfWZ1bmN0aW9uIGFyKHQpe2lmKCEodC5zZWxlY3Rpb24gaW5zdGFuY2VvZiBRbikpcmV0dXJuIG51bGw7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGUuY2xhc3NOYW1lPSJQcm9zZU1pcnJvci1nYXBjdXJzb3IiLFpuWyJiIl0uY3JlYXRlKHQuZG9jLFtablsiYSJdLndpZGdldCh0LnNlbGVjdGlvbi5oZWFkLGUse2tleToiZ2FwY3Vyc29yIn0pXSl9ZnVuY3Rpb24gY3IodCxlKXtyZXR1cm4hdC5zZWxlY3Rpb24uZW1wdHkmJihlJiZlKHQudHIuZGVsZXRlU2VsZWN0aW9uKCkuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIGxyKHQsZSxuKXt2YXIgcj10LnNlbGVjdGlvbixvPXIuJGN1cnNvcjtpZighb3x8KG4/IW4uZW5kT2ZUZXh0YmxvY2soImJhY2t3YXJkIix0KTpvLnBhcmVudE9mZnNldD4wKSlyZXR1cm4hMTt2YXIgaT1wcihvKTtpZighaSl7dmFyIHM9by5ibG9ja1JhbmdlKCksYT1zJiZPYmplY3QodVsiayJdKShzKTtyZXR1cm4gbnVsbCE9YSYmKGUmJmUodC50ci5saWZ0KHMsYSkuc2Nyb2xsSW50b1ZpZXcoKSksITApfXZhciBsPWkubm9kZUJlZm9yZTtpZighbC50eXBlLnNwZWMuaXNvbGF0aW5nJiZPcih0LGksZSkpcmV0dXJuITA7aWYoMD09by5wYXJlbnQuY29udGVudC5zaXplJiYodXIobCwiZW5kIil8fGNbIk5vZGVTZWxlY3Rpb24iXS5pc1NlbGVjdGFibGUobCkpKXtpZihlKXt2YXIgZD10LnRyLmRlbGV0ZVJhbmdlKG8uYmVmb3JlKCksby5hZnRlcigpKTtkLnNldFNlbGVjdGlvbih1cihsLCJlbmQiKT9jWyJTZWxlY3Rpb24iXS5maW5kRnJvbShkLmRvYy5yZXNvbHZlKGQubWFwcGluZy5tYXAoaS5wb3MsLTEpKSwtMSk6Y1siTm9kZVNlbGVjdGlvbiJdLmNyZWF0ZShkLmRvYyxpLnBvcy1sLm5vZGVTaXplKSksZShkLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfXJldHVybiEoIWwuaXNBdG9tfHxpLmRlcHRoIT1vLmRlcHRoLTEpJiYoZSYmZSh0LnRyLmRlbGV0ZShpLnBvcy1sLm5vZGVTaXplLGkucG9zKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9ZnVuY3Rpb24gdXIodCxlKXtmb3IoO3Q7dD0ic3RhcnQiPT1lP3QuZmlyc3RDaGlsZDp0Lmxhc3RDaGlsZClpZih0LmlzVGV4dGJsb2NrKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGRyKHQsZSxuKXt2YXIgcj10LnNlbGVjdGlvbixvPXIuJGhlYWQsaT1yLmVtcHR5LHM9bztpZighaSlyZXR1cm4hMTtpZihvLnBhcmVudC5pc1RleHRibG9jayl7aWYobj8hbi5lbmRPZlRleHRibG9jaygiYmFja3dhcmQiLHQpOm8ucGFyZW50T2Zmc2V0PjApcmV0dXJuITE7cz1wcihvKX12YXIgYT1zJiZzLm5vZGVCZWZvcmU7cmV0dXJuISghYXx8IWNbIk5vZGVTZWxlY3Rpb24iXS5pc1NlbGVjdGFibGUoYSkpJiYoZSYmZSh0LnRyLnNldFNlbGVjdGlvbihjWyJOb2RlU2VsZWN0aW9uIl0uY3JlYXRlKHQuZG9jLHMucG9zLWEubm9kZVNpemUpKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9ZnVuY3Rpb24gcHIodCl7aWYoIXQucGFyZW50LnR5cGUuc3BlYy5pc29sYXRpbmcpZm9yKHZhciBlPXQuZGVwdGgtMTtlPj0wO2UtLSl7aWYodC5pbmRleChlKT4wKXJldHVybiB0LmRvYy5yZXNvbHZlKHQuYmVmb3JlKGUrMSkpO2lmKHQubm9kZShlKS50eXBlLnNwZWMuaXNvbGF0aW5nKWJyZWFrfXJldHVybiBudWxsfWZ1bmN0aW9uIGZyKHQsZSxuKXt2YXIgcj10LnNlbGVjdGlvbixvPXIuJGN1cnNvcjtpZighb3x8KG4/IW4uZW5kT2ZUZXh0YmxvY2soImZvcndhcmQiLHQpOm8ucGFyZW50T2Zmc2V0PG8ucGFyZW50LmNvbnRlbnQuc2l6ZSkpcmV0dXJuITE7dmFyIGk9bXIobyk7aWYoIWkpcmV0dXJuITE7dmFyIHM9aS5ub2RlQWZ0ZXI7aWYoT3IodCxpLGUpKXJldHVybiEwO2lmKDA9PW8ucGFyZW50LmNvbnRlbnQuc2l6ZSYmKHVyKHMsInN0YXJ0Iil8fGNbIk5vZGVTZWxlY3Rpb24iXS5pc1NlbGVjdGFibGUocykpKXtpZihlKXt2YXIgYT10LnRyLmRlbGV0ZVJhbmdlKG8uYmVmb3JlKCksby5hZnRlcigpKTthLnNldFNlbGVjdGlvbih1cihzLCJzdGFydCIpP2NbIlNlbGVjdGlvbiJdLmZpbmRGcm9tKGEuZG9jLnJlc29sdmUoYS5tYXBwaW5nLm1hcChpLnBvcykpLDEpOmNbIk5vZGVTZWxlY3Rpb24iXS5jcmVhdGUoYS5kb2MsYS5tYXBwaW5nLm1hcChpLnBvcykpKSxlKGEuc2Nyb2xsSW50b1ZpZXcoKSl9cmV0dXJuITB9cmV0dXJuISghcy5pc0F0b218fGkuZGVwdGghPW8uZGVwdGgtMSkmJihlJiZlKHQudHIuZGVsZXRlKGkucG9zLGkucG9zK3Mubm9kZVNpemUpLnNjcm9sbEludG9WaWV3KCkpLCEwKX1mdW5jdGlvbiBocih0LGUsbil7dmFyIHI9dC5zZWxlY3Rpb24sbz1yLiRoZWFkLGk9ci5lbXB0eSxzPW87aWYoIWkpcmV0dXJuITE7aWYoby5wYXJlbnQuaXNUZXh0YmxvY2spe2lmKG4/IW4uZW5kT2ZUZXh0YmxvY2soImZvcndhcmQiLHQpOm8ucGFyZW50T2Zmc2V0PG8ucGFyZW50LmNvbnRlbnQuc2l6ZSlyZXR1cm4hMTtzPW1yKG8pfXZhciBhPXMmJnMubm9kZUFmdGVyO3JldHVybiEoIWF8fCFjWyJOb2RlU2VsZWN0aW9uIl0uaXNTZWxlY3RhYmxlKGEpKSYmKGUmJmUodC50ci5zZXRTZWxlY3Rpb24oY1siTm9kZVNlbGVjdGlvbiJdLmNyZWF0ZSh0LmRvYyxzLnBvcykpLnNjcm9sbEludG9WaWV3KCkpLCEwKX1mdW5jdGlvbiBtcih0KXtpZighdC5wYXJlbnQudHlwZS5zcGVjLmlzb2xhdGluZylmb3IodmFyIGU9dC5kZXB0aC0xO2U+PTA7ZS0tKXt2YXIgbj10Lm5vZGUoZSk7aWYodC5pbmRleChlKSsxPG4uY2hpbGRDb3VudClyZXR1cm4gdC5kb2MucmVzb2x2ZSh0LmFmdGVyKGUrMSkpO2lmKG4udHlwZS5zcGVjLmlzb2xhdGluZylicmVha31yZXR1cm4gbnVsbH1mdW5jdGlvbiB2cih0LGUpe3ZhciBuPXQuc2VsZWN0aW9uLHI9bi4kZnJvbSxvPW4uJHRvLGk9ci5ibG9ja1JhbmdlKG8pLHM9aSYmT2JqZWN0KHVbImsiXSkoaSk7cmV0dXJuIG51bGwhPXMmJihlJiZlKHQudHIubGlmdChpLHMpLnNjcm9sbEludG9WaWV3KCkpLCEwKX1mdW5jdGlvbiBncih0LGUpe3ZhciBuPXQuc2VsZWN0aW9uLHI9bi4kaGVhZCxvPW4uJGFuY2hvcjtyZXR1cm4hKCFyLnBhcmVudC50eXBlLnNwZWMuY29kZXx8IXIuc2FtZVBhcmVudChvKSkmJihlJiZlKHQudHIuaW5zZXJ0VGV4dCgiXG4iKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9ZnVuY3Rpb24geXIodCl7Zm9yKHZhciBlPTA7ZTx0LmVkZ2VDb3VudDtlKyspe3ZhciBuPXQuZWRnZShlKSxyPW4udHlwZTtpZihyLmlzVGV4dGJsb2NrJiYhci5oYXNSZXF1aXJlZEF0dHJzKCkpcmV0dXJuIHJ9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYnIodCxlKXt2YXIgbj10LnNlbGVjdGlvbixyPW4uJGhlYWQsbz1uLiRhbmNob3I7aWYoIXIucGFyZW50LnR5cGUuc3BlYy5jb2RlfHwhci5zYW1lUGFyZW50KG8pKXJldHVybiExO3ZhciBpPXIubm9kZSgtMSkscz1yLmluZGV4QWZ0ZXIoLTEpLGE9eXIoaS5jb250ZW50TWF0Y2hBdChzKSk7aWYoIWkuY2FuUmVwbGFjZVdpdGgocyxzLGEpKXJldHVybiExO2lmKGUpe3ZhciBsPXIuYWZ0ZXIoKSx1PXQudHIucmVwbGFjZVdpdGgobCxsLGEuY3JlYXRlQW5kRmlsbCgpKTt1LnNldFNlbGVjdGlvbihjWyJTZWxlY3Rpb24iXS5uZWFyKHUuZG9jLnJlc29sdmUobCksMSkpLGUodS5zY3JvbGxJbnRvVmlldygpKX1yZXR1cm4hMH1mdW5jdGlvbiB3cih0LGUpe3ZhciBuPXQuc2VsZWN0aW9uLHI9bi4kZnJvbSxvPW4uJHRvO2lmKHIucGFyZW50LmlubGluZUNvbnRlbnR8fG8ucGFyZW50LmlubGluZUNvbnRlbnQpcmV0dXJuITE7dmFyIGk9eXIoci5wYXJlbnQuY29udGVudE1hdGNoQXQoby5pbmRleEFmdGVyKCkpKTtpZighaXx8IWkuaXNUZXh0YmxvY2spcmV0dXJuITE7aWYoZSl7dmFyIHM9KCFyLnBhcmVudE9mZnNldCYmby5pbmRleCgpPG8ucGFyZW50LmNoaWxkQ291bnQ/cjpvKS5wb3MsYT10LnRyLmluc2VydChzLGkuY3JlYXRlQW5kRmlsbCgpKTthLnNldFNlbGVjdGlvbihjWyJUZXh0U2VsZWN0aW9uIl0uY3JlYXRlKGEuZG9jLHMrMSkpLGUoYS5zY3JvbGxJbnRvVmlldygpKX1yZXR1cm4hMH1mdW5jdGlvbiBTcih0LGUpe3ZhciBuPXQuc2VsZWN0aW9uLHI9bi4kY3Vyc29yO2lmKCFyfHxyLnBhcmVudC5jb250ZW50LnNpemUpcmV0dXJuITE7aWYoci5kZXB0aD4xJiZyLmFmdGVyKCkhPXIuZW5kKC0xKSl7dmFyIG89ci5iZWZvcmUoKTtpZihPYmplY3QodVsiZyJdKSh0LmRvYyxvKSlyZXR1cm4gZSYmZSh0LnRyLnNwbGl0KG8pLnNjcm9sbEludG9WaWV3KCkpLCEwfXZhciBpPXIuYmxvY2tSYW5nZSgpLHM9aSYmT2JqZWN0KHVbImsiXSkoaSk7cmV0dXJuIG51bGwhPXMmJihlJiZlKHQudHIubGlmdChpLHMpLnNjcm9sbEludG9WaWV3KCkpLCEwKX1mdW5jdGlvbiB4cih0LGUpe3ZhciBuPXQuc2VsZWN0aW9uLHI9bi4kZnJvbSxvPW4uJHRvO2lmKHQuc2VsZWN0aW9uIGluc3RhbmNlb2YgY1siTm9kZVNlbGVjdGlvbiJdJiZ0LnNlbGVjdGlvbi5ub2RlLmlzQmxvY2spcmV0dXJuISghci5wYXJlbnRPZmZzZXR8fCFPYmplY3QodVsiZyJdKSh0LmRvYyxyLnBvcykpJiYoZSYmZSh0LnRyLnNwbGl0KHIucG9zKS5zY3JvbGxJbnRvVmlldygpKSwhMCk7aWYoIXIucGFyZW50LmlzQmxvY2spcmV0dXJuITE7aWYoZSl7dmFyIGk9by5wYXJlbnRPZmZzZXQ9PW8ucGFyZW50LmNvbnRlbnQuc2l6ZSxzPXQudHI7dC5zZWxlY3Rpb24gaW5zdGFuY2VvZiBjWyJUZXh0U2VsZWN0aW9uIl0mJnMuZGVsZXRlU2VsZWN0aW9uKCk7dmFyIGE9MD09ci5kZXB0aD9udWxsOnlyKHIubm9kZSgtMSkuY29udGVudE1hdGNoQXQoci5pbmRleEFmdGVyKC0xKSkpLGQ9aSYmYT9be3R5cGU6YX1dOm51bGwscD1PYmplY3QodVsiZyJdKShzLmRvYyxzLm1hcHBpbmcubWFwKHIucG9zKSwxLGQpO2R8fHB8fCFPYmplY3QodVsiZyJdKShzLmRvYyxzLm1hcHBpbmcubWFwKHIucG9zKSwxLGEmJlt7dHlwZTphfV0pfHwoZD1be3R5cGU6YX1dLHA9ITApLHAmJihzLnNwbGl0KHMubWFwcGluZy5tYXAoci5wb3MpLDEsZCksaXx8ci5wYXJlbnRPZmZzZXR8fHIucGFyZW50LnR5cGU9PWF8fCFyLm5vZGUoLTEpLmNhblJlcGxhY2Uoci5pbmRleCgtMSksci5pbmRleEFmdGVyKC0xKSxsWyJGcmFnbWVudCJdLmZyb20oYS5jcmVhdGUoKSxyLnBhcmVudCkpfHxzLnNldE5vZGVNYXJrdXAocy5tYXBwaW5nLm1hcChyLmJlZm9yZSgpKSxhKSksZShzLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfWZ1bmN0aW9uIGtyKHQsZSl7cmV0dXJuIGUmJmUodC50ci5zZXRTZWxlY3Rpb24obmV3IGNbIkFsbFNlbGVjdGlvbiJdKHQuZG9jKSkpLCEwfWZ1bmN0aW9uIENyKHQsZSxuKXt2YXIgcj1lLm5vZGVCZWZvcmUsbz1lLm5vZGVBZnRlcixpPWUuaW5kZXgoKTtyZXR1cm4hIShyJiZvJiZyLnR5cGUuY29tcGF0aWJsZUNvbnRlbnQoby50eXBlKSkmJighci5jb250ZW50LnNpemUmJmUucGFyZW50LmNhblJlcGxhY2UoaS0xLGkpPyhuJiZuKHQudHIuZGVsZXRlKGUucG9zLXIubm9kZVNpemUsZS5wb3MpLnNjcm9sbEludG9WaWV3KCkpLCEwKTohKCFlLnBhcmVudC5jYW5SZXBsYWNlKGksaSsxKXx8IW8uaXNUZXh0YmxvY2smJiFPYmplY3QodVsiZiJdKSh0LmRvYyxlLnBvcykpJiYobiYmbih0LnRyLmNsZWFySW5jb21wYXRpYmxlKGUucG9zLHIudHlwZSxyLmNvbnRlbnRNYXRjaEF0KHIuY2hpbGRDb3VudCkpLmpvaW4oZS5wb3MpLnNjcm9sbEludG9WaWV3KCkpLCEwKSl9ZnVuY3Rpb24gT3IodCxlLG4pe3ZhciByLG8saT1lLm5vZGVCZWZvcmUscz1lLm5vZGVBZnRlcjtpZihpLnR5cGUuc3BlYy5pc29sYXRpbmd8fHMudHlwZS5zcGVjLmlzb2xhdGluZylyZXR1cm4hMTtpZihDcih0LGUsbikpcmV0dXJuITA7aWYoZS5wYXJlbnQuY2FuUmVwbGFjZShlLmluZGV4KCksZS5pbmRleCgpKzEpJiYocj0obz1pLmNvbnRlbnRNYXRjaEF0KGkuY2hpbGRDb3VudCkpLmZpbmRXcmFwcGluZyhzLnR5cGUpKSYmby5tYXRjaFR5cGUoclswXXx8cy50eXBlKS52YWxpZEVuZCl7aWYobil7Zm9yKHZhciBhPWUucG9zK3Mubm9kZVNpemUsZD1sWyJGcmFnbWVudCJdLmVtcHR5LHA9ci5sZW5ndGgtMTtwPj0wO3AtLSlkPWxbIkZyYWdtZW50Il0uZnJvbShyW3BdLmNyZWF0ZShudWxsLGQpKTtkPWxbIkZyYWdtZW50Il0uZnJvbShpLmNvcHkoZCkpO3ZhciBmPXQudHIuc3RlcChuZXcgdVsiYiJdKGUucG9zLTEsYSxlLnBvcyxhLG5ldyBsWyJTbGljZSJdKGQsMSwwKSxyLmxlbmd0aCwhMCkpLGg9YSsyKnIubGVuZ3RoO09iamVjdCh1WyJmIl0pKGYuZG9jLGgpJiZmLmpvaW4oaCksbihmLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfXZhciBtPWNbIlNlbGVjdGlvbiJdLmZpbmRGcm9tKGUsMSksdj1tJiZtLiRmcm9tLmJsb2NrUmFuZ2UobS4kdG8pLGc9diYmT2JqZWN0KHVbImsiXSkodik7cmV0dXJuIG51bGwhPWcmJmc+PWUuZGVwdGgmJihuJiZuKHQudHIubGlmdCh2LGcpLnNjcm9sbEludG9WaWV3KCkpLCEwKX1mdW5jdGlvbiBNcih0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciBvPW4uc2VsZWN0aW9uLGk9by4kZnJvbSxzPW8uJHRvLGE9aS5ibG9ja1JhbmdlKHMpLGM9YSYmT2JqZWN0KHVbImkiXSkoYSx0LGUpO3JldHVybiEhYyYmKHImJnIobi50ci53cmFwKGEsYykuc2Nyb2xsSW50b1ZpZXcoKSksITApfX1mdW5jdGlvbiBOcih0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciBvPW4uc2VsZWN0aW9uLGk9by5mcm9tLHM9by50byxhPSExO3JldHVybiBuLmRvYy5ub2Rlc0JldHdlZW4oaSxzLChmdW5jdGlvbihyLG8pe2lmKGEpcmV0dXJuITE7aWYoci5pc1RleHRibG9jayYmIXIuaGFzTWFya3VwKHQsZSkpaWYoci50eXBlPT10KWE9ITA7ZWxzZXt2YXIgaT1uLmRvYy5yZXNvbHZlKG8pLHM9aS5pbmRleCgpO2E9aS5wYXJlbnQuY2FuUmVwbGFjZVdpdGgocyxzKzEsdCl9fSkpLCEhYSYmKHImJnIobi50ci5zZXRCbG9ja1R5cGUoaSxzLHQsZSkuc2Nyb2xsSW50b1ZpZXcoKSksITApfX1mdW5jdGlvbiBUcih0LGUsbil7Zm9yKHZhciByPWZ1bmN0aW9uKHIpe3ZhciBvPWVbcl0saT1vLiRmcm9tLHM9by4kdG8sYT0wPT1pLmRlcHRoJiZ0LnR5cGUuYWxsb3dzTWFya1R5cGUobik7aWYodC5ub2Rlc0JldHdlZW4oaS5wb3Mscy5wb3MsKGZ1bmN0aW9uKHQpe2lmKGEpcmV0dXJuITE7YT10LmlubGluZUNvbnRlbnQmJnQudHlwZS5hbGxvd3NNYXJrVHlwZShuKX0pKSxhKXJldHVybnt2OiEwfX0sbz0wO288ZS5sZW5ndGg7bysrKXt2YXIgaT1yKG8pO2lmKGkpcmV0dXJuIGkudn1yZXR1cm4hMX1mdW5jdGlvbiBBcih0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciBvPW4uc2VsZWN0aW9uLGk9by5lbXB0eSxzPW8uJGN1cnNvcixhPW8ucmFuZ2VzO2lmKGkmJiFzfHwhVHIobi5kb2MsYSx0KSlyZXR1cm4hMTtpZihyKWlmKHMpdC5pc0luU2V0KG4uc3RvcmVkTWFya3N8fHMubWFya3MoKSk/cihuLnRyLnJlbW92ZVN0b3JlZE1hcmsodCkpOnIobi50ci5hZGRTdG9yZWRNYXJrKHQuY3JlYXRlKGUpKSk7ZWxzZXtmb3IodmFyIGM9ITEsbD1uLnRyLHU9MDshYyYmdTxhLmxlbmd0aDt1Kyspe3ZhciBkPWFbdV0scD1kLiRmcm9tLGY9ZC4kdG87Yz1uLmRvYy5yYW5nZUhhc01hcmsocC5wb3MsZi5wb3MsdCl9Zm9yKHZhciBoPTA7aDxhLmxlbmd0aDtoKyspe3ZhciBtPWFbaF0sdj1tLiRmcm9tLGc9bS4kdG87Yz9sLnJlbW92ZU1hcmsodi5wb3MsZy5wb3MsdCk6bC5hZGRNYXJrKHYucG9zLGcucG9zLHQuY3JlYXRlKGUpKX1yKGwuc2Nyb2xsSW50b1ZpZXcoKSl9cmV0dXJuITB9fWZ1bmN0aW9uIERyKCl7dmFyIHQ9W10sZT1hcmd1bWVudHMubGVuZ3RoO3doaWxlKGUtLSl0W2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gZnVuY3Rpb24oZSxuLHIpe2Zvcih2YXIgbz0wO288dC5sZW5ndGg7bysrKWlmKHRbb10oZSxuLHIpKXJldHVybiEwO3JldHVybiExfX12YXIgRXI9RHIoY3IsbHIsZHIpLFJyPURyKGNyLGZyLGhyKSxfcj17RW50ZXI6RHIoZ3Isd3IsU3IseHIpLCJNb2QtRW50ZXIiOmJyLEJhY2tzcGFjZTpFciwiTW9kLUJhY2tzcGFjZSI6RXIsRGVsZXRlOlJyLCJNb2QtRGVsZXRlIjpSciwiTW9kLWEiOmtyfSxQcj17IkN0cmwtaCI6X3JbIkJhY2tzcGFjZSJdLCJBbHQtQmFja3NwYWNlIjpfclsiTW9kLUJhY2tzcGFjZSJdLCJDdHJsLWQiOl9yWyJEZWxldGUiXSwiQ3RybC1BbHQtQmFja3NwYWNlIjpfclsiTW9kLURlbGV0ZSJdLCJBbHQtRGVsZXRlIjpfclsiTW9kLURlbGV0ZSJdLCJBbHQtZCI6X3JbIk1vZC1EZWxldGUiXX07Zm9yKHZhciB6ciBpbiBfcilQclt6cl09X3JbenJdO3ZhciBJcj0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvcj8vTWFjLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk6InVuZGVmaW5lZCIhPXR5cGVvZiBvcyYmImRhcndpbiI9PW9zLnBsYXRmb3JtKCksJHI9SXI/UHI6X3IsVnI9ZnVuY3Rpb24odCxlKXt0aGlzLm1hdGNoPXQsdGhpcy5oYW5kbGVyPSJzdHJpbmciPT10eXBlb2YgZT9CcihlKTplfTtmdW5jdGlvbiBCcih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLHIsbyl7dmFyIGk9dDtpZihuWzFdKXt2YXIgcz1uWzBdLmxhc3RJbmRleE9mKG5bMV0pO2krPW5bMF0uc2xpY2UocytuWzFdLmxlbmd0aCkscis9czt2YXIgYT1yLW87YT4wJiYoaT1uWzBdLnNsaWNlKHMtYSxzKStpLHI9byl9cmV0dXJuIGUudHIuaW5zZXJ0VGV4dChpLHIsbyl9fXZhciBGcj01MDA7ZnVuY3Rpb24ganIodCl7dmFyIGU9dC5ydWxlcyxuPW5ldyBjWyJQbHVnaW4iXSh7c3RhdGU6e2luaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sYXBwbHk6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldE1ldGEodGhpcyk7cmV0dXJuIG58fCh0LnNlbGVjdGlvblNldHx8dC5kb2NDaGFuZ2VkP251bGw6ZSl9fSxwcm9wczp7aGFuZGxlVGV4dElucHV0OmZ1bmN0aW9uKHQscixvLGkpe3JldHVybiBMcih0LHIsbyxpLGUsbil9LGhhbmRsZURPTUV2ZW50czp7Y29tcG9zaXRpb25lbmQ6ZnVuY3Rpb24odCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt2YXIgcj10LnN0YXRlLnNlbGVjdGlvbixvPXIuJGN1cnNvcjtvJiZMcih0LG8ucG9zLG8ucG9zLCIiLGUsbil9KSl9fX0saXNJbnB1dFJ1bGVzOiEwfSk7cmV0dXJuIG59ZnVuY3Rpb24gTHIodCxlLG4scixvLGkpe2lmKHQuY29tcG9zaW5nKXJldHVybiExO3ZhciBzPXQuc3RhdGUsYT1zLmRvYy5yZXNvbHZlKGUpO2lmKGEucGFyZW50LnR5cGUuc3BlYy5jb2RlKXJldHVybiExO2Zvcih2YXIgYz1hLnBhcmVudC50ZXh0QmV0d2VlbihNYXRoLm1heCgwLGEucGFyZW50T2Zmc2V0LUZyKSxhLnBhcmVudE9mZnNldCxudWxsLCLvv7wiKStyLGw9MDtsPG8ubGVuZ3RoO2wrKyl7dmFyIHU9b1tsXS5tYXRjaC5leGVjKGMpLGQ9dSYmb1tsXS5oYW5kbGVyKHMsdSxlLSh1WzBdLmxlbmd0aC1yLmxlbmd0aCksbik7aWYoZClyZXR1cm4gdC5kaXNwYXRjaChkLnNldE1ldGEoaSx7dHJhbnNmb3JtOmQsZnJvbTplLHRvOm4sdGV4dDpyfSkpLCEwfXJldHVybiExfWZ1bmN0aW9uIEhyKHQsZSl7Zm9yKHZhciBuPXQucGx1Z2lucyxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl0saT12b2lkIDA7aWYoby5zcGVjLmlzSW5wdXRSdWxlcyYmKGk9by5nZXRTdGF0ZSh0KSkpe2lmKGUpe2Zvcih2YXIgcz10LnRyLGE9aS50cmFuc2Zvcm0sYz1hLnN0ZXBzLmxlbmd0aC0xO2M+PTA7Yy0tKXMuc3RlcChhLnN0ZXBzW2NdLmludmVydChhLmRvY3NbY10pKTt2YXIgbD1zLmRvYy5yZXNvbHZlKGkuZnJvbSkubWFya3MoKTtlKHMucmVwbGFjZVdpdGgoaS5mcm9tLGkudG8sdC5zY2hlbWEudGV4dChpLnRleHQsbCkpKX1yZXR1cm4hMH19cmV0dXJuITF9bmV3IFZyKC8tLSQvLCLigJQiKSxuZXcgVnIoL1wuXC5cLiQvLCLigKYiKSxuZXcgVnIoLyg/Ol58W1xzXHtcW1woXDwnIlx1MjAxOFx1MjAxQ10pKCIpJC8sIuKAnCIpLG5ldyBWcigvIiQvLCLigJ0iKSxuZXcgVnIoLyg/Ol58W1xzXHtcW1woXDwnIlx1MjAxOFx1MjAxQ10pKCcpJC8sIuKAmCIpLG5ldyBWcigvJyQvLCLigJkiKTt2YXIgcXI9bigiOTg2ZCIpOwovKiEKICAgICogdGlwdGFwLXV0aWxzIHYxLjEwLjQKICAgICogKGMpIDIwMjAgw7xiZXJkb3NpcyBHYlIgKGxpbWl0ZWQgbGlhYmlsaXR5KQogICAgKiBAbGljZW5zZSBNSVQKICAgICovZnVuY3Rpb24gV3IodCxlKXtjb25zdHtmcm9tOm4sdG86cn09dC5zZWxlY3Rpb247bGV0IG89W107dC5kb2Mubm9kZXNCZXR3ZWVuKG4scix0PT57bz1bLi4ubywuLi50Lm1hcmtzXX0pO2NvbnN0IGk9by5maW5kKHQ9PnQudHlwZS5uYW1lPT09ZS5uYW1lKTtyZXR1cm4gaT9pLmF0dHJzOnt9fWZ1bmN0aW9uIEtyKHQsZSl7Y29uc3R7ZnJvbTpuLHRvOnJ9PXQuc2VsZWN0aW9uO2xldCBvPVtdO3QuZG9jLm5vZGVzQmV0d2VlbihuLHIsdD0+e289Wy4uLm8sdF19KTtjb25zdCBpPW8ucmV2ZXJzZSgpLmZpbmQodD0+dC50eXBlLm5hbWU9PT1lLm5hbWUpO3JldHVybiBpP2kuYXR0cnM6e319ZnVuY3Rpb24gSnIodD1udWxsLGU9bnVsbCl7aWYoIXR8fCFlKXJldHVybiExO2NvbnN0IG49dC5wYXJlbnQuY2hpbGRBZnRlcih0LnBhcmVudE9mZnNldCk7aWYoIW4ubm9kZSlyZXR1cm4hMTtjb25zdCByPW4ubm9kZS5tYXJrcy5maW5kKHQ9PnQudHlwZT09PWUpO2lmKCFyKXJldHVybiExO2xldCBvPXQuaW5kZXgoKSxpPXQuc3RhcnQoKStuLm9mZnNldCxzPW8rMSxhPWkrbi5ub2RlLm5vZGVTaXplO3doaWxlKG8+MCYmci5pc0luU2V0KHQucGFyZW50LmNoaWxkKG8tMSkubWFya3MpKW8tPTEsaS09dC5wYXJlbnQuY2hpbGQobykubm9kZVNpemU7d2hpbGUoczx0LnBhcmVudC5jaGlsZENvdW50JiZyLmlzSW5TZXQodC5wYXJlbnQuY2hpbGQocykubWFya3MpKWErPXQucGFyZW50LmNoaWxkKHMpLm5vZGVTaXplLHMrPTE7cmV0dXJue2Zyb206aSx0bzphfX1mdW5jdGlvbiBVcih0LGUpe2NvbnN0e2Zyb206biwkZnJvbTpyLHRvOm8sZW1wdHk6aX09dC5zZWxlY3Rpb247cmV0dXJuIGk/ISFlLmlzSW5TZXQodC5zdG9yZWRNYXJrc3x8ci5tYXJrcygpKTohIXQuZG9jLnJhbmdlSGFzTWFyayhuLG8sZSl9ZnVuY3Rpb24gR3IodCxlLG49e30pe2NvbnN0IHI9dD0+dC50eXBlPT09ZSxvPU9iamVjdChxclsiZmluZFNlbGVjdGVkTm9kZU9mVHlwZSJdKShlKSh0LnNlbGVjdGlvbil8fE9iamVjdChxclsiZmluZFBhcmVudE5vZGUiXSkocikodC5zZWxlY3Rpb24pO3JldHVybiBPYmplY3Qua2V5cyhuKS5sZW5ndGgmJm8/by5ub2RlLmhhc01hcmt1cChlLHsuLi5vLm5vZGUuYXR0cnMsLi4ubn0pOiEhb312YXIgWHI9bigiOGJiZiIpLFlyPW4ubihYcik7ZnVuY3Rpb24gWnIodCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXt2YXIgbz1uLnNlbGVjdGlvbixpPW8uJGZyb20scz1vLiR0byxhPWkuYmxvY2tSYW5nZShzKSxjPSExLGQ9YTtpZighYSlyZXR1cm4hMTtpZihhLmRlcHRoPj0yJiZpLm5vZGUoYS5kZXB0aC0xKS50eXBlLmNvbXBhdGlibGVDb250ZW50KHQpJiYwPT1hLnN0YXJ0SW5kZXgpe2lmKDA9PWkuaW5kZXgoYS5kZXB0aC0xKSlyZXR1cm4hMTt2YXIgcD1uLmRvYy5yZXNvbHZlKGEuc3RhcnQtMik7ZD1uZXcgbFsiTm9kZVJhbmdlIl0ocCxwLGEuZGVwdGgpLGEuZW5kSW5kZXg8YS5wYXJlbnQuY2hpbGRDb3VudCYmKGE9bmV3IGxbIk5vZGVSYW5nZSJdKGksbi5kb2MucmVzb2x2ZShzLmVuZChhLmRlcHRoKSksYS5kZXB0aCkpLGM9ITB9dmFyIGY9T2JqZWN0KHVbImkiXSkoZCx0LGUsYSk7cmV0dXJuISFmJiYociYmcihRcihuLnRyLGEsZixjLHQpLnNjcm9sbEludG9WaWV3KCkpLCEwKX19ZnVuY3Rpb24gUXIodCxlLG4scixvKXtmb3IodmFyIGk9bFsiRnJhZ21lbnQiXS5lbXB0eSxzPW4ubGVuZ3RoLTE7cz49MDtzLS0paT1sWyJGcmFnbWVudCJdLmZyb20obltzXS50eXBlLmNyZWF0ZShuW3NdLmF0dHJzLGkpKTt0LnN0ZXAobmV3IHVbImIiXShlLnN0YXJ0LShyPzI6MCksZS5lbmQsZS5zdGFydCxlLmVuZCxuZXcgbFsiU2xpY2UiXShpLDAsMCksbi5sZW5ndGgsITApKTtmb3IodmFyIGE9MCxjPTA7YzxuLmxlbmd0aDtjKyspbltjXS50eXBlPT1vJiYoYT1jKzEpO2Zvcih2YXIgZD1uLmxlbmd0aC1hLHA9ZS5zdGFydCtuLmxlbmd0aC0ocj8yOjApLGY9ZS5wYXJlbnQsaD1lLnN0YXJ0SW5kZXgsbT1lLmVuZEluZGV4LHY9ITA7aDxtO2grKyx2PSExKSF2JiZPYmplY3QodVsiZyJdKSh0LmRvYyxwLGQpJiYodC5zcGxpdChwLGQpLHArPTIqZCkscCs9Zi5jaGlsZChoKS5ub2RlU2l6ZTtyZXR1cm4gdH1mdW5jdGlvbiB0byh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgcj1lLnNlbGVjdGlvbixvPXIuJGZyb20saT1yLiR0byxzPXIubm9kZTtpZihzJiZzLmlzQmxvY2t8fG8uZGVwdGg8Mnx8IW8uc2FtZVBhcmVudChpKSlyZXR1cm4hMTt2YXIgYT1vLm5vZGUoLTEpO2lmKGEudHlwZSE9dClyZXR1cm4hMTtpZigwPT1vLnBhcmVudC5jb250ZW50LnNpemUmJm8ubm9kZSgtMSkuY2hpbGRDb3VudD09by5pbmRleEFmdGVyKC0xKSl7aWYoMj09by5kZXB0aHx8by5ub2RlKC0zKS50eXBlIT10fHxvLmluZGV4KC0yKSE9by5ub2RlKC0yKS5jaGlsZENvdW50LTEpcmV0dXJuITE7aWYobil7Zm9yKHZhciBjPWxbIkZyYWdtZW50Il0uZW1wdHksZD1vLmluZGV4KC0xKT4wLHA9by5kZXB0aC0oZD8xOjIpO3A+PW8uZGVwdGgtMztwLS0pYz1sWyJGcmFnbWVudCJdLmZyb20oby5ub2RlKHApLmNvcHkoYykpO2M9Yy5hcHBlbmQobFsiRnJhZ21lbnQiXS5mcm9tKHQuY3JlYXRlQW5kRmlsbCgpKSk7dmFyIGY9ZS50ci5yZXBsYWNlKG8uYmVmb3JlKGQ/bnVsbDotMSksby5hZnRlcigtMyksbmV3IGxbIlNsaWNlIl0oYyxkPzM6MiwyKSk7Zi5zZXRTZWxlY3Rpb24oZS5zZWxlY3Rpb24uY29uc3RydWN0b3IubmVhcihmLmRvYy5yZXNvbHZlKG8ucG9zKyhkPzM6MikpKSksbihmLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfXZhciBoPWkucG9zPT1vLmVuZCgpP2EuY29udGVudE1hdGNoQXQoMCkuZGVmYXVsdFR5cGU6bnVsbCxtPWUudHIuZGVsZXRlKG8ucG9zLGkucG9zKSx2PWgmJltudWxsLHt0eXBlOmh9XTtyZXR1cm4hIU9iamVjdCh1WyJnIl0pKG0uZG9jLG8ucG9zLDIsdikmJihuJiZuKG0uc3BsaXQoby5wb3MsMix2KS5zY3JvbGxJbnRvVmlldygpKSwhMCl9fWZ1bmN0aW9uIGVvKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciByPWUuc2VsZWN0aW9uLG89ci4kZnJvbSxpPXIuJHRvLHM9by5ibG9ja1JhbmdlKGksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoaWxkQ291bnQmJmUuZmlyc3RDaGlsZC50eXBlPT10fSkpO3JldHVybiEhcyYmKCFufHwoby5ub2RlKHMuZGVwdGgtMSkudHlwZT09dD9ubyhlLG4sdCxzKTpybyhlLG4scykpKX19ZnVuY3Rpb24gbm8odCxlLG4scil7dmFyIG89dC50cixpPXIuZW5kLHM9ci4kdG8uZW5kKHIuZGVwdGgpO3JldHVybiBpPHMmJihvLnN0ZXAobmV3IHVbImIiXShpLTEscyxpLHMsbmV3IGxbIlNsaWNlIl0obFsiRnJhZ21lbnQiXS5mcm9tKG4uY3JlYXRlKG51bGwsci5wYXJlbnQuY29weSgpKSksMSwwKSwxLCEwKSkscj1uZXcgbFsiTm9kZVJhbmdlIl0oby5kb2MucmVzb2x2ZShyLiRmcm9tLnBvcyksby5kb2MucmVzb2x2ZShzKSxyLmRlcHRoKSksZShvLmxpZnQocixPYmplY3QodVsiayJdKShyKSkuc2Nyb2xsSW50b1ZpZXcoKSksITB9ZnVuY3Rpb24gcm8odCxlLG4pe2Zvcih2YXIgcj10LnRyLG89bi5wYXJlbnQsaT1uLmVuZCxzPW4uZW5kSW5kZXgtMSxhPW4uc3RhcnRJbmRleDtzPmE7cy0tKWktPW8uY2hpbGQocykubm9kZVNpemUsci5kZWxldGUoaS0xLGkrMSk7dmFyIGM9ci5kb2MucmVzb2x2ZShuLnN0YXJ0KSxkPWMubm9kZUFmdGVyLHA9MD09bi5zdGFydEluZGV4LGY9bi5lbmRJbmRleD09by5jaGlsZENvdW50LGg9Yy5ub2RlKC0xKSxtPWMuaW5kZXgoLTEpO2lmKCFoLmNhblJlcGxhY2UobSsocD8wOjEpLG0rMSxkLmNvbnRlbnQuYXBwZW5kKGY/bFsiRnJhZ21lbnQiXS5lbXB0eTpsWyJGcmFnbWVudCJdLmZyb20obykpKSlyZXR1cm4hMTt2YXIgdj1jLnBvcyxnPXYrZC5ub2RlU2l6ZTtyZXR1cm4gci5zdGVwKG5ldyB1WyJiIl0odi0ocD8xOjApLGcrKGY/MTowKSx2KzEsZy0xLG5ldyBsWyJTbGljZSJdKChwP2xbIkZyYWdtZW50Il0uZW1wdHk6bFsiRnJhZ21lbnQiXS5mcm9tKG8uY29weShsWyJGcmFnbWVudCJdLmVtcHR5KSkpLmFwcGVuZChmP2xbIkZyYWdtZW50Il0uZW1wdHk6bFsiRnJhZ21lbnQiXS5mcm9tKG8uY29weShsWyJGcmFnbWVudCJdLmVtcHR5KSkpLHA/MDoxLGY/MDoxKSxwPzA6MSkpLGUoci5zY3JvbGxJbnRvVmlldygpKSwhMH1mdW5jdGlvbiBvbyh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgcj1lLnNlbGVjdGlvbixvPXIuJGZyb20saT1yLiR0byxzPW8uYmxvY2tSYW5nZShpLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGlsZENvdW50JiZlLmZpcnN0Q2hpbGQudHlwZT09dH0pKTtpZighcylyZXR1cm4hMTt2YXIgYT1zLnN0YXJ0SW5kZXg7aWYoMD09YSlyZXR1cm4hMTt2YXIgYz1zLnBhcmVudCxkPWMuY2hpbGQoYS0xKTtpZihkLnR5cGUhPXQpcmV0dXJuITE7aWYobil7dmFyIHA9ZC5sYXN0Q2hpbGQmJmQubGFzdENoaWxkLnR5cGU9PWMudHlwZSxmPWxbIkZyYWdtZW50Il0uZnJvbShwP3QuY3JlYXRlKCk6bnVsbCksaD1uZXcgbFsiU2xpY2UiXShsWyJGcmFnbWVudCJdLmZyb20odC5jcmVhdGUobnVsbCxsWyJGcmFnbWVudCJdLmZyb20oYy50eXBlLmNyZWF0ZShudWxsLGYpKSkpLHA/MzoxLDApLG09cy5zdGFydCx2PXMuZW5kO24oZS50ci5zdGVwKG5ldyB1WyJiIl0obS0ocD8zOjEpLHYsbSx2LGgsMSwhMCkpLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfX12YXIgaW89ZnVuY3Rpb24odCxlKXt0aGlzLm1hdGNoPXQsdGhpcy5oYW5kbGVyPSJzdHJpbmciPT10eXBlb2YgZT9zbyhlKTplfTtmdW5jdGlvbiBzbyh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLHIsbyl7dmFyIGk9dDtpZihuWzFdKXt2YXIgcz1uWzBdLmxhc3RJbmRleE9mKG5bMV0pO2krPW5bMF0uc2xpY2UocytuWzFdLmxlbmd0aCkscis9czt2YXIgYT1yLW87YT4wJiYoaT1uWzBdLnNsaWNlKHMtYSxzKStpLHI9byl9cmV0dXJuIGUudHIuaW5zZXJ0VGV4dChpLHIsbyl9fW5ldyBpbygvLS0kLywi4oCUIiksbmV3IGlvKC9cLlwuXC4kLywi4oCmIiksbmV3IGlvKC8oPzpefFtcc1x7XFtcKFw8JyJcdTIwMThcdTIwMUNdKSgiKSQvLCLigJwiKSxuZXcgaW8oLyIkLywi4oCdIiksbmV3IGlvKC8oPzpefFtcc1x7XFtcKFw8JyJcdTIwMThcdTIwMUNdKSgnKSQvLCLigJgiKSxuZXcgaW8oLyckLywi4oCZIik7ZnVuY3Rpb24gYW8odCxlLG4scil7cmV0dXJuIG5ldyBpbyh0LChmdW5jdGlvbih0LG8saSxzKXt2YXIgYT1uIGluc3RhbmNlb2YgRnVuY3Rpb24/bihvKTpuLGM9dC50ci5kZWxldGUoaSxzKSxsPWMuZG9jLnJlc29sdmUoaSksZD1sLmJsb2NrUmFuZ2UoKSxwPWQmJk9iamVjdCh1WyJpIl0pKGQsZSxhKTtpZighcClyZXR1cm4gbnVsbDtjLndyYXAoZCxwKTt2YXIgZj1jLmRvYy5yZXNvbHZlKGktMSkubm9kZUJlZm9yZTtyZXR1cm4gZiYmZi50eXBlPT1lJiZPYmplY3QodVsiZiJdKShjLmRvYyxpLTEpJiYoIXJ8fHIobyxmKSkmJmMuam9pbihpLTEpLGN9KSl9ZnVuY3Rpb24gY28odCxlLG4pe3JldHVybiBuZXcgaW8odCwoZnVuY3Rpb24odCxyLG8saSl7dmFyIHM9dC5kb2MucmVzb2x2ZShvKSxhPW4gaW5zdGFuY2VvZiBGdW5jdGlvbj9uKHIpOm47cmV0dXJuIHMubm9kZSgtMSkuY2FuUmVwbGFjZVdpdGgocy5pbmRleCgtMSkscy5pbmRleEFmdGVyKC0xKSxlKT90LnRyLmRlbGV0ZShvLGkpLnNldEJsb2NrVHlwZShvLG8sZSxhKTpudWxsfSkpfQovKiEKICAgICogdGlwdGFwLWNvbW1hbmRzIHYxLjE0LjYKICAgICogKGMpIDIwMjAgw7xiZXJkb3NpcyBHYlIgKGxpbWl0ZWQgbGlhYmlsaXR5KQogICAgKiBAbGljZW5zZSBNSVQKICAgICovZnVuY3Rpb24gbG8odCxlLG4pe2xldCByPVtdO3JldHVybiBuLmRvYy5ub2Rlc0JldHdlZW4odCxlLCh0LGUpPT57cj1bLi4uciwuLi50Lm1hcmtzLm1hcChuPT4oe3N0YXJ0OmUsZW5kOmUrdC5ub2RlU2l6ZSxtYXJrOm59KSldfSkscn1mdW5jdGlvbiB1byh0LGUsbil7cmV0dXJuIG5ldyBpbyh0LCh0LHIsbyxpKT0+e2NvbnN0IHM9biBpbnN0YW5jZW9mIEZ1bmN0aW9uP24ocik6bix7dHI6YX09dCxjPXIubGVuZ3RoLTE7bGV0IGw9aSx1PW87aWYocltjXSl7Y29uc3Qgbj1vK3JbMF0uaW5kZXhPZihyW2MtMV0pLHM9bityW2MtMV0ubGVuZ3RoLTEsZD1uK3JbYy0xXS5sYXN0SW5kZXhPZihyW2NdKSxwPWQrcltjXS5sZW5ndGgsZj1sbyhvLGksdCkuZmlsdGVyKHQ9Pntjb25zdHtleGNsdWRlZDpufT10Lm1hcmsudHlwZTtyZXR1cm4gbi5maW5kKHQ9PnQubmFtZT09PWUubmFtZSl9KS5maWx0ZXIodD0+dC5lbmQ+bik7aWYoZi5sZW5ndGgpcmV0dXJuITE7cDxzJiZhLmRlbGV0ZShwLHMpLGQ+biYmYS5kZWxldGUobixkKSx1PW4sbD11K3JbY10ubGVuZ3RofXJldHVybiBhLmFkZE1hcmsodSxsLGUuY3JlYXRlKHMpKSxhLnJlbW92ZVN0b3JlZE1hcmsoZSksYX0pfWZ1bmN0aW9uIHBvKHQsZSxuKXtjb25zdCByPW89Pntjb25zdCBpPVtdO3JldHVybiBvLmZvckVhY2gobz0+e2lmKG8uaXNUZXh0KXtjb25zdHt0ZXh0OnJ9PW87bGV0IHMsYT0wO2Rve2lmKHM9dC5leGVjKHIpLHMpe2NvbnN0IHQ9cy5pbmRleCxyPXQrc1swXS5sZW5ndGgsYz1uIGluc3RhbmNlb2YgRnVuY3Rpb24/bihzWzBdKTpuO3Q+MCYmaS5wdXNoKG8uY3V0KGEsdCkpLGkucHVzaChvLmN1dCh0LHIpLm1hcmsoZS5jcmVhdGUoYykuYWRkVG9TZXQoby5tYXJrcykpKSxhPXJ9fXdoaWxlKHMpO2E8ci5sZW5ndGgmJmkucHVzaChvLmN1dChhKSl9ZWxzZSBpLnB1c2goby5jb3B5KHIoby5jb250ZW50KSkpfSksbFsiRnJhZ21lbnQiXS5mcm9tQXJyYXkoaSl9O3JldHVybiBuZXcgY1siUGx1Z2luIl0oe3Byb3BzOnt0cmFuc2Zvcm1QYXN0ZWQ6dD0+bmV3IGxbIlNsaWNlIl0ocih0LmNvbnRlbnQpLHQub3BlblN0YXJ0LHQub3BlbkVuZCl9fSl9ZnVuY3Rpb24gZm8odCxlLG4pe2NvbnN0IHI9KG8saSk9Pntjb25zdCBzPVtdO3JldHVybiBvLmZvckVhY2gobz0+e2lmKG8uaXNUZXh0KXtjb25zdHt0ZXh0OnIsbWFya3M6YX09bztsZXQgYyxsPTA7Y29uc3QgdT0hIWEuZmlsdGVyKHQ9PiJsaW5rIj09PXQudHlwZS5uYW1lKVswXTt3aGlsZSghdSYmbnVsbCE9PShjPXQuZXhlYyhyKSkpaWYoaSYmaS50eXBlLmFsbG93c01hcmtUeXBlKGUpJiZjWzFdKXtjb25zdCB0PWMuaW5kZXgscj10K2NbMF0ubGVuZ3RoLGk9dCtjWzBdLmluZGV4T2YoY1sxXSksYT1pK2NbMV0ubGVuZ3RoLHU9biBpbnN0YW5jZW9mIEZ1bmN0aW9uP24oYyk6bjt0PjAmJnMucHVzaChvLmN1dChsLHQpKSxzLnB1c2goby5jdXQoaSxhKS5tYXJrKGUuY3JlYXRlKHUpLmFkZFRvU2V0KG8ubWFya3MpKSksbD1yfWw8ci5sZW5ndGgmJnMucHVzaChvLmN1dChsKSl9ZWxzZSBzLnB1c2goby5jb3B5KHIoby5jb250ZW50LG8pKSl9KSxsWyJGcmFnbWVudCJdLmZyb21BcnJheShzKX07cmV0dXJuIG5ldyBjWyJQbHVnaW4iXSh7cHJvcHM6e3RyYW5zZm9ybVBhc3RlZDp0PT5uZXcgbFsiU2xpY2UiXShyKHQuY29udGVudCksdC5vcGVuU3RhcnQsdC5vcGVuRW5kKX19KX1mdW5jdGlvbiBobyh0KXtyZXR1cm4oZSxuKT0+e2NvbnN0e3RyOnIsc2VsZWN0aW9uOm99PWU7bGV0e2Zyb206aSx0bzpzfT1vO2NvbnN0eyRmcm9tOmEsZW1wdHk6Y309bztpZihjKXtjb25zdCBlPUpyKGEsdCk7aT1lLmZyb20scz1lLnRvfXJldHVybiByLnJlbW92ZU1hcmsoaSxzLHQpLG4ocil9fWZ1bmN0aW9uIG1vKHQsZSxuPTEscil7Y29uc3Qgbz10LnJlc29sdmUoZSksaT1vLmRlcHRoLW4scz1yJiZyW3IubGVuZ3RoLTFdfHxvLnBhcmVudDtpZihpPDB8fG8ucGFyZW50LnR5cGUuc3BlYy5pc29sYXRpbmd8fCFvLnBhcmVudC5jYW5SZXBsYWNlKG8uaW5kZXgoKSxvLnBhcmVudC5jaGlsZENvdW50KXx8IXMudHlwZS52YWxpZENvbnRlbnQoby5wYXJlbnQuY29udGVudC5jdXRCeUluZGV4KG8uaW5kZXgoKSxvLnBhcmVudC5jaGlsZENvdW50KSkpcmV0dXJuITE7Zm9yKGxldCBsPW8uZGVwdGgtMSx1PW4tMjtsPmk7bC0tLHUtLSl7Y29uc3QgdD1vLm5vZGUobCksZT1vLmluZGV4KGwpO2lmKHQudHlwZS5zcGVjLmlzb2xhdGluZylyZXR1cm4hMTtsZXQgbj10LmNvbnRlbnQuY3V0QnlJbmRleChlLHQuY2hpbGRDb3VudCk7Y29uc3QgaT1yJiZyW3VdfHx0O2lmKGkhPXQmJihuPW4ucmVwbGFjZUNoaWxkKDAsaS50eXBlLmNyZWF0ZShpLmF0dHJzKSkpLCF0LmNhblJlcGxhY2UoZSsxLHQuY2hpbGRDb3VudCkpcmV0dXJuITF9Y29uc3QgYT1vLmluZGV4QWZ0ZXIoaSksYz1yJiZyWzBdO3JldHVybiBvLm5vZGUoaSkuY2FuUmVwbGFjZVdpdGgoYSxhLGM/Yy50eXBlOm8ubm9kZShpKzEpLnR5cGUpfWZ1bmN0aW9uIHZvKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe2NvbnN0eyRmcm9tOnIsJHRvOm8sbm9kZTppfT1lLnNlbGVjdGlvbjtpZihpJiZpLmlzQmxvY2t8fHIuZGVwdGg8Mnx8IXIuc2FtZVBhcmVudChvKSlyZXR1cm4hMTtjb25zdCBzPXIubm9kZSgtMSk7aWYocy50eXBlIT10KXJldHVybiExO2lmKDA9PXIucGFyZW50LmNvbnRlbnQuc2l6ZSl7aWYoMj09ci5kZXB0aHx8ci5ub2RlKC0zKS50eXBlIT10fHxyLmluZGV4KC0yKSE9ci5ub2RlKC0yKS5jaGlsZENvdW50LTEpcmV0dXJuITE7aWYobil7bGV0IG89bFsiRnJhZ21lbnQiXS5lbXB0eTtjb25zdCBpPXIuaW5kZXgoLTEpPjA7Zm9yKGxldCB0PXIuZGVwdGgtKGk/MToyKTt0Pj1yLmRlcHRoLTM7dC0tKW89bFsiRnJhZ21lbnQiXS5mcm9tKHIubm9kZSh0KS5jb3B5KG8pKTtvPW8uYXBwZW5kKGxbIkZyYWdtZW50Il0uZnJvbSh0LmNyZWF0ZUFuZEZpbGwoKSkpO2NvbnN0IHM9ZS50ci5yZXBsYWNlKHIuYmVmb3JlKGk/bnVsbDotMSksci5hZnRlcigtMyksbmV3IGxbIlNsaWNlIl0obyxpPzM6MiwyKSk7cy5zZXRTZWxlY3Rpb24oZS5zZWxlY3Rpb24uY29uc3RydWN0b3IubmVhcihzLmRvYy5yZXNvbHZlKHIucG9zKyhpPzM6MikpKSksbihzLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfWNvbnN0IGE9by5wb3M9PXIuZW5kKCk/cy5jb250ZW50TWF0Y2hBdChyLmluZGV4QWZ0ZXIoLTEpKS5kZWZhdWx0VHlwZTpudWxsLGM9ZS50ci5kZWxldGUoci5wb3Msby5wb3MpO2xldCB1PWEmJlt7dHlwZTp0fSx7dHlwZTphfV07cmV0dXJuIHV8fCh1PVt7dHlwZTp0fSxudWxsXSksISFtbyhjLmRvYyxyLnBvcywyLHUpJiYobiYmbihjLnNwbGl0KHIucG9zLDIsdSkuc2Nyb2xsSW50b1ZpZXcoKSksITApfX1mdW5jdGlvbiBnbyh0LGUsbj17fSl7cmV0dXJuKHIsbyxpKT0+e2NvbnN0IHM9R3Iocix0LG4pO3JldHVybiBzP05yKGUpKHIsbyxpKTpOcih0LG4pKHIsbyxpKX19ZnVuY3Rpb24geW8odCxlKXtyZXR1cm4gdC50eXBlPT09ZS5ub2Rlcy5idWxsZXRfbGlzdHx8dC50eXBlPT09ZS5ub2Rlcy5vcmRlcmVkX2xpc3R8fHQudHlwZT09PWUubm9kZXMudG9kb19saXN0fWZ1bmN0aW9uIGJvKHQsZSl7cmV0dXJuKG4scixvKT0+e2NvbnN0e3NjaGVtYTppLHNlbGVjdGlvbjpzfT1uLHskZnJvbTphLCR0bzpjfT1zLGw9YS5ibG9ja1JhbmdlKGMpO2lmKCFsKXJldHVybiExO2NvbnN0IHU9T2JqZWN0KHFyWyJmaW5kUGFyZW50Tm9kZSJdKSh0PT55byh0LGkpKShzKTtpZihsLmRlcHRoPj0xJiZ1JiZsLmRlcHRoLXUuZGVwdGg8PTEpe2lmKHUubm9kZS50eXBlPT09dClyZXR1cm4gZW8oZSkobixyLG8pO2lmKHlvKHUubm9kZSxpKSYmdC52YWxpZENvbnRlbnQodS5ub2RlLmNvbnRlbnQpKXtjb25zdHt0cjplfT1uO3JldHVybiBlLnNldE5vZGVNYXJrdXAodS5wb3MsdCksciYmcihlKSwhMX19cmV0dXJuIFpyKHQpKG4scixvKX19ZnVuY3Rpb24gd28odCxlPXt9KXtyZXR1cm4obixyLG8pPT57Y29uc3QgaT1HcihuLHQsZSk7cmV0dXJuIGk/dnIobixyKTpNcih0LGUpKG4scixvKX19ZnVuY3Rpb24gU28odCxlKXtyZXR1cm4obixyKT0+e2NvbnN0e3RyOm8sc2VsZWN0aW9uOmksZG9jOnN9PW4se3JhbmdlczphLGVtcHR5OmN9PWk7aWYoYyl7Y29uc3R7ZnJvbTpuLHRvOnJ9PUpyKGkuJGZyb20sdCk7cy5yYW5nZUhhc01hcmsobixyLHQpJiZvLnJlbW92ZU1hcmsobixyLHQpLG8uYWRkTWFyayhuLHIsdC5jcmVhdGUoZSkpfWVsc2UgYS5mb3JFYWNoKG49Pntjb25zdHskdG86ciwkZnJvbTppfT1uO3MucmFuZ2VIYXNNYXJrKGkucG9zLHIucG9zLHQpJiZvLnJlbW92ZU1hcmsoaS5wb3Msci5wb3MsdCksby5hZGRNYXJrKGkucG9zLHIucG9zLHQuY3JlYXRlKGUpKX0pO3JldHVybiByKG8pfX0KLyohCiAgICAqIHRpcHRhcCB2MS4yOS42CiAgICAqIChjKSAyMDIwIMO8YmVyZG9zaXMgR2JSIChsaW1pdGVkIGxpYWJpbGl0eSkKICAgICogQGxpY2Vuc2UgTUlUCiAgICAqL2Z1bmN0aW9uIHhvKHQpe3JldHVybiB0LnJlcGxhY2UoLyg/Ol5cd3xbQS1aXXxcYlx3KS9nLCh0LGUpPT4wPT09ZT90LnRvTG93ZXJDYXNlKCk6dC50b1VwcGVyQ2FzZSgpKS5yZXBsYWNlKC9ccysvZywiIil9Y2xhc3Mga297Y29uc3RydWN0b3IodCx7ZWRpdG9yOmUsZXh0ZW5zaW9uOm4scGFyZW50OnIsbm9kZTpvLHZpZXc6aSxkZWNvcmF0aW9uczpzLGdldFBvczphfSl7dGhpcy5jb21wb25lbnQ9dCx0aGlzLmVkaXRvcj1lLHRoaXMuZXh0ZW5zaW9uPW4sdGhpcy5wYXJlbnQ9cix0aGlzLm5vZGU9byx0aGlzLnZpZXc9aSx0aGlzLmRlY29yYXRpb25zPXMsdGhpcy5pc05vZGU9ISF0aGlzLm5vZGUubWFya3MsdGhpcy5pc01hcms9IXRoaXMuaXNOb2RlLHRoaXMuZ2V0UG9zPXRoaXMuaXNNYXJrP3RoaXMuZ2V0TWFya1BvczphLHRoaXMuY2FwdHVyZUV2ZW50cz0hMCx0aGlzLmRvbT10aGlzLmNyZWF0ZURPTSgpLHRoaXMuY29udGVudERPTT10aGlzLnZtLiRyZWZzLmNvbnRlbnR9Y3JlYXRlRE9NKCl7Y29uc3QgdD1Zci5hLmV4dGVuZCh0aGlzLmNvbXBvbmVudCksZT17ZWRpdG9yOnRoaXMuZWRpdG9yLG5vZGU6dGhpcy5ub2RlLHZpZXc6dGhpcy52aWV3LGdldFBvczooKT0+dGhpcy5nZXRQb3MoKSxkZWNvcmF0aW9uczp0aGlzLmRlY29yYXRpb25zLHNlbGVjdGVkOiExLG9wdGlvbnM6dGhpcy5leHRlbnNpb24ub3B0aW9ucyx1cGRhdGVBdHRyczp0PT50aGlzLnVwZGF0ZUF0dHJzKHQpfTtyZXR1cm4iZnVuY3Rpb24iPT09dHlwZW9mIHRoaXMuZXh0ZW5zaW9uLnNldFNlbGVjdGlvbiYmKHRoaXMuc2V0U2VsZWN0aW9uPXRoaXMuZXh0ZW5zaW9uLnNldFNlbGVjdGlvbiksImZ1bmN0aW9uIj09PXR5cGVvZiB0aGlzLmV4dGVuc2lvbi51cGRhdGUmJih0aGlzLnVwZGF0ZT10aGlzLmV4dGVuc2lvbi51cGRhdGUpLHRoaXMudm09bmV3IHQoe3BhcmVudDp0aGlzLnBhcmVudCxwcm9wc0RhdGE6ZX0pLiRtb3VudCgpLHRoaXMudm0uJGVsfXVwZGF0ZSh0LGUpe3JldHVybiB0LnR5cGU9PT10aGlzLm5vZGUudHlwZSYmKHQ9PT10aGlzLm5vZGUmJnRoaXMuZGVjb3JhdGlvbnM9PT1lfHwodGhpcy5ub2RlPXQsdGhpcy5kZWNvcmF0aW9ucz1lLHRoaXMudXBkYXRlQ29tcG9uZW50UHJvcHMoe25vZGU6dCxkZWNvcmF0aW9uczplfSkpLCEwKX11cGRhdGVDb21wb25lbnRQcm9wcyh0KXtpZighdGhpcy52bS5fcHJvcHMpcmV0dXJuO2NvbnN0IGU9WXIuYS5jb25maWcuc2lsZW50O1lyLmEuY29uZmlnLnNpbGVudD0hMCxPYmplY3QuZW50cmllcyh0KS5mb3JFYWNoKChbdCxlXSk9Pnt0aGlzLnZtLl9wcm9wc1t0XT1lfSksWXIuYS5jb25maWcuc2lsZW50PWV9dXBkYXRlQXR0cnModCl7aWYoIXRoaXMudmlldy5lZGl0YWJsZSlyZXR1cm47Y29uc3R7c3RhdGU6ZX09dGhpcy52aWV3LHt0eXBlOm59PXRoaXMubm9kZSxyPXRoaXMuZ2V0UG9zKCksbz17Li4udGhpcy5ub2RlLmF0dHJzLC4uLnR9LGk9dGhpcy5pc01hcms/ZS50ci5yZW1vdmVNYXJrKHIuZnJvbSxyLnRvLG4pLmFkZE1hcmsoci5mcm9tLHIudG8sbi5jcmVhdGUobykpOmUudHIuc2V0Tm9kZU1hcmt1cChyLG51bGwsbyk7dGhpcy52aWV3LmRpc3BhdGNoKGkpfWlnbm9yZU11dGF0aW9uKHQpe3JldHVybiJzZWxlY3Rpb24iIT09dC50eXBlJiYoIXRoaXMuY29udGVudERPTXx8IXRoaXMuY29udGVudERPTS5jb250YWlucyh0LnRhcmdldCkpfXN0b3BFdmVudCh0KXtpZigiZnVuY3Rpb24iPT09dHlwZW9mIHRoaXMuZXh0ZW5zaW9uLnN0b3BFdmVudClyZXR1cm4gdGhpcy5leHRlbnNpb24uc3RvcEV2ZW50KHQpO2NvbnN0IGU9ISF0aGlzLmV4dGVuc2lvbi5zY2hlbWEuZHJhZ2dhYmxlO2lmKGUmJiJtb3VzZWRvd24iPT09dC50eXBlKXtjb25zdCBlPXQudGFyZ2V0LmNsb3Nlc3QmJnQudGFyZ2V0LmNsb3Nlc3QoIltkYXRhLWRyYWctaGFuZGxlXSIpLG49ZSYmKHRoaXMuZG9tPT09ZXx8dGhpcy5kb20uY29udGFpbnMoZSkpO24mJih0aGlzLmNhcHR1cmVFdmVudHM9ITEsZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiZHJhZ2VuZCIsKCk9Pnt0aGlzLmNhcHR1cmVFdmVudHM9ITB9LHtvbmNlOiEwfSkpfWNvbnN0IG49ImNvcHkiPT09dC50eXBlLHI9InBhc3RlIj09PXQudHlwZSxvPSJjdXQiPT09dC50eXBlLGk9dC50eXBlLnN0YXJ0c1dpdGgoImRyYWciKXx8ImRyb3AiPT09dC50eXBlO3JldHVybiEoZSYmaXx8bnx8cnx8bykmJnRoaXMuY2FwdHVyZUV2ZW50c31zZWxlY3ROb2RlKCl7dGhpcy51cGRhdGVDb21wb25lbnRQcm9wcyh7c2VsZWN0ZWQ6ITB9KX1kZXNlbGVjdE5vZGUoKXt0aGlzLnVwZGF0ZUNvbXBvbmVudFByb3BzKHtzZWxlY3RlZDohMX0pfWdldE1hcmtQb3MoKXtjb25zdCB0PXRoaXMudmlldy5wb3NBdERPTSh0aGlzLmRvbSksZT10aGlzLnZpZXcuc3RhdGUuZG9jLnJlc29sdmUodCksbj1KcihlLHRoaXMubm9kZS50eXBlKTtyZXR1cm4gbn1kZXN0cm95KCl7dGhpcy52bS4kZGVzdHJveSgpfX1jbGFzcyBDb3tvbih0LGUpe3JldHVybiB0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fSx0aGlzLl9jYWxsYmFja3NbdF18fCh0aGlzLl9jYWxsYmFja3NbdF09W10pLHRoaXMuX2NhbGxiYWNrc1t0XS5wdXNoKGUpLHRoaXN9ZW1pdCh0LC4uLmUpe3RoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9O2NvbnN0IG49dGhpcy5fY2FsbGJhY2tzW3RdO3JldHVybiBuJiZuLmZvckVhY2godD0+dC5hcHBseSh0aGlzLGUpKSx0aGlzfW9mZih0LGUpe2lmKGFyZ3VtZW50cy5sZW5ndGgpe2NvbnN0IG49dGhpcy5fY2FsbGJhY2tzP3RoaXMuX2NhbGxiYWNrc1t0XTpudWxsO24mJihlP3RoaXMuX2NhbGxiYWNrc1t0XT1uLmZpbHRlcih0PT50IT09ZSk6ZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1t0XSl9ZWxzZSB0aGlzLl9jYWxsYmFja3M9e307cmV0dXJuIHRoaXN9fWNsYXNzIE9ve2NvbnN0cnVjdG9yKHQ9e30pe3RoaXMub3B0aW9ucz17Li4udGhpcy5kZWZhdWx0T3B0aW9ucywuLi50fX1pbml0KCl7cmV0dXJuIG51bGx9YmluZEVkaXRvcih0PW51bGwpe3RoaXMuZWRpdG9yPXR9Z2V0IG5hbWUoKXtyZXR1cm4gbnVsbH1nZXQgdHlwZSgpe3JldHVybiJleHRlbnNpb24ifWdldCBkZWZhdWx0T3B0aW9ucygpe3JldHVybnt9fWdldCBwbHVnaW5zKCl7cmV0dXJuW119aW5wdXRSdWxlcygpe3JldHVybltdfXBhc3RlUnVsZXMoKXtyZXR1cm5bXX1rZXlzKCl7cmV0dXJue319fWNsYXNzIE1ve2NvbnN0cnVjdG9yKHQ9W10sZSl7dC5mb3JFYWNoKHQ9Pnt0LmJpbmRFZGl0b3IoZSksdC5pbml0KCl9KSx0aGlzLmV4dGVuc2lvbnM9dH1nZXQgbm9kZXMoKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLmZpbHRlcih0PT4ibm9kZSI9PT10LnR5cGUpLnJlZHVjZSgodCx7bmFtZTplLHNjaGVtYTpufSk9Pih7Li4udCxbZV06bn0pLHt9KX1nZXQgb3B0aW9ucygpe2NvbnN0e3ZpZXc6dH09dGhpcztyZXR1cm4gdGhpcy5leHRlbnNpb25zLnJlZHVjZSgoZSxuKT0+KHsuLi5lLFtuLm5hbWVdOm5ldyBQcm94eShuLm9wdGlvbnMse3NldChlLG4scil7Y29uc3Qgbz1lW25dIT09cjtyZXR1cm4gT2JqZWN0LmFzc2lnbihlLHtbbl06cn0pLG8mJnQudXBkYXRlU3RhdGUodC5zdGF0ZSksITB9fSl9KSx7fSl9Z2V0IG1hcmtzKCl7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5maWx0ZXIodD0+Im1hcmsiPT09dC50eXBlKS5yZWR1Y2UoKHQse25hbWU6ZSxzY2hlbWE6bn0pPT4oey4uLnQsW2VdOm59KSx7fSl9Z2V0IHBsdWdpbnMoKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLmZpbHRlcih0PT50LnBsdWdpbnMpLnJlZHVjZSgodCx7cGx1Z2luczplfSk9PlsuLi50LC4uLmVdLFtdKX1rZXltYXBzKHtzY2hlbWE6dH0pe2NvbnN0IGU9dGhpcy5leHRlbnNpb25zLmZpbHRlcih0PT5bImV4dGVuc2lvbiJdLmluY2x1ZGVzKHQudHlwZSkpLmZpbHRlcih0PT50LmtleXMpLm1hcChlPT5lLmtleXMoe3NjaGVtYTp0fSkpLG49dGhpcy5leHRlbnNpb25zLmZpbHRlcih0PT5bIm5vZGUiLCJtYXJrIl0uaW5jbHVkZXModC50eXBlKSkuZmlsdGVyKHQ9PnQua2V5cykubWFwKGU9PmUua2V5cyh7dHlwZTp0WyIiLmNvbmNhdChlLnR5cGUsInMiKV1bZS5uYW1lXSxzY2hlbWE6dH0pKTtyZXR1cm5bLi4uZSwuLi5uXS5tYXAodD0+T2JqZWN0KFluWyJiIl0pKHQpKX1pbnB1dFJ1bGVzKHtzY2hlbWE6dCxleGNsdWRlZEV4dGVuc2lvbnM6ZX0pe2lmKCEoZSBpbnN0YW5jZW9mIEFycmF5KSYmZSlyZXR1cm5bXTtjb25zdCBuPWUgaW5zdGFuY2VvZiBBcnJheT90aGlzLmV4dGVuc2lvbnMuZmlsdGVyKHQ9PiFlLmluY2x1ZGVzKHQubmFtZSkpOnRoaXMuZXh0ZW5zaW9ucyxyPW4uZmlsdGVyKHQ9PlsiZXh0ZW5zaW9uIl0uaW5jbHVkZXModC50eXBlKSkuZmlsdGVyKHQ9PnQuaW5wdXRSdWxlcykubWFwKGU9PmUuaW5wdXRSdWxlcyh7c2NoZW1hOnR9KSksbz1uLmZpbHRlcih0PT5bIm5vZGUiLCJtYXJrIl0uaW5jbHVkZXModC50eXBlKSkuZmlsdGVyKHQ9PnQuaW5wdXRSdWxlcykubWFwKGU9PmUuaW5wdXRSdWxlcyh7dHlwZTp0WyIiLmNvbmNhdChlLnR5cGUsInMiKV1bZS5uYW1lXSxzY2hlbWE6dH0pKTtyZXR1cm5bLi4uciwuLi5vXS5yZWR1Y2UoKHQsZSk9PlsuLi50LC4uLmVdLFtdKX1wYXN0ZVJ1bGVzKHtzY2hlbWE6dCxleGNsdWRlZEV4dGVuc2lvbnM6ZX0pe2lmKCEoZSBpbnN0YW5jZW9mIEFycmF5KSYmZSlyZXR1cm5bXTtjb25zdCBuPWUgaW5zdGFuY2VvZiBBcnJheT90aGlzLmV4dGVuc2lvbnMuZmlsdGVyKHQ9PiFlLmluY2x1ZGVzKHQubmFtZSkpOnRoaXMuZXh0ZW5zaW9ucyxyPW4uZmlsdGVyKHQ9PlsiZXh0ZW5zaW9uIl0uaW5jbHVkZXModC50eXBlKSkuZmlsdGVyKHQ9PnQucGFzdGVSdWxlcykubWFwKGU9PmUucGFzdGVSdWxlcyh7c2NoZW1hOnR9KSksbz1uLmZpbHRlcih0PT5bIm5vZGUiLCJtYXJrIl0uaW5jbHVkZXModC50eXBlKSkuZmlsdGVyKHQ9PnQucGFzdGVSdWxlcykubWFwKGU9PmUucGFzdGVSdWxlcyh7dHlwZTp0WyIiLmNvbmNhdChlLnR5cGUsInMiKV1bZS5uYW1lXSxzY2hlbWE6dH0pKTtyZXR1cm5bLi4uciwuLi5vXS5yZWR1Y2UoKHQsZSk9PlsuLi50LC4uLmVdLFtdKX1jb21tYW5kcyh7c2NoZW1hOnQsdmlldzplfSl7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5maWx0ZXIodD0+dC5jb21tYW5kcykucmVkdWNlKChuLHIpPT57Y29uc3R7bmFtZTpvLHR5cGU6aX09cixzPXt9LGE9ci5jb21tYW5kcyh7c2NoZW1hOnQsLi4uWyJub2RlIiwibWFyayJdLmluY2x1ZGVzKGkpP3t0eXBlOnRbIiIuY29uY2F0KGksInMiKV1bb119Ont9fSksYz0odCxuKT0+ISFlLmVkaXRhYmxlJiYoZS5mb2N1cygpLHQobikoZS5zdGF0ZSxlLmRpc3BhdGNoLGUpKSxsPSh0LGUpPT57QXJyYXkuaXNBcnJheShlKT9zW3RdPXQ9PmUuZm9yRWFjaChlPT5jKGUsdCkpOiJmdW5jdGlvbiI9PT10eXBlb2YgZSYmKHNbdF09dD0+YyhlLHQpKX07cmV0dXJuIm9iamVjdCI9PT10eXBlb2YgYT9PYmplY3QuZW50cmllcyhhKS5mb3JFYWNoKChbdCxlXSk9PntsKHQsZSl9KTpsKG8sYSksey4uLm4sLi4uc319LHt9KX19ZnVuY3Rpb24gTm8odCl7e2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtlLnR5cGU9InRleHQvY3NzIixlLnRleHRDb250ZW50PXQ7Y29uc3R7aGVhZDpufT1kb2N1bWVudCx7Zmlyc3RDaGlsZDpyfT1uO3I/bi5pbnNlcnRCZWZvcmUoZSxyKTpuLmFwcGVuZENoaWxkKGUpfX1jbGFzcyBUbyBleHRlbmRzIE9ve2NvbnN0cnVjdG9yKHQ9e30pe3N1cGVyKHQpfWdldCB0eXBlKCl7cmV0dXJuIm1hcmsifWdldCB2aWV3KCl7cmV0dXJuIG51bGx9Z2V0IHNjaGVtYSgpe3JldHVybiBudWxsfWNvbW1hbmQoKXtyZXR1cm4oKT0+e319fWZ1bmN0aW9uIEFvKHQ9MCxlPTAsbj0wKXtyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgocGFyc2VJbnQodCwxMCksZSksbil9Y2xhc3MgRG8gZXh0ZW5kcyBPb3tjb25zdHJ1Y3Rvcih0PXt9KXtzdXBlcih0KX1nZXQgdHlwZSgpe3JldHVybiJub2RlIn1nZXQgdmlldygpe3JldHVybiBudWxsfWdldCBzY2hlbWEoKXtyZXR1cm4gbnVsbH1jb21tYW5kKCl7cmV0dXJuKCk9Pnt9fX1jbGFzcyBFbyBleHRlbmRzIERve2dldCBuYW1lKCl7cmV0dXJuImRvYyJ9Z2V0IHNjaGVtYSgpe3JldHVybntjb250ZW50OiJibG9jaysifX19Y2xhc3MgUm8gZXh0ZW5kcyBEb3tnZXQgbmFtZSgpe3JldHVybiJwYXJhZ3JhcGgifWdldCBzY2hlbWEoKXtyZXR1cm57Y29udGVudDoiaW5saW5lKiIsZ3JvdXA6ImJsb2NrIixkcmFnZ2FibGU6ITEscGFyc2VET006W3t0YWc6InAifV0sdG9ET006KCk9PlsicCIsMF19fWNvbW1hbmRzKHt0eXBlOnR9KXtyZXR1cm4oKT0+TnIodCl9fWNsYXNzIF9vIGV4dGVuZHMgRG97Z2V0IG5hbWUoKXtyZXR1cm4idGV4dCJ9Z2V0IHNjaGVtYSgpe3JldHVybntncm91cDoiaW5saW5lIn19fXZhciBQbz0nLlByb3NlTWlycm9yIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uUHJvc2VNaXJyb3Ige1xuICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XG4gIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbiAgLXdlYmtpdC1mb250LXZhcmlhbnQtbGlnYXR1cmVzOiBub25lO1xuICBmb250LXZhcmlhbnQtbGlnYXR1cmVzOiBub25lO1xufVxuXG4uUHJvc2VNaXJyb3IgcHJlIHtcbiAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xufVxuXG4uUHJvc2VNaXJyb3ItZ2FwY3Vyc29yIHtcbiAgZGlzcGxheTogbm9uZTtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbn1cblxuLlByb3NlTWlycm9yLWdhcGN1cnNvcjphZnRlciB7XG4gIGNvbnRlbnQ6ICIiO1xuICBkaXNwbGF5OiBibG9jaztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IC0ycHg7XG4gIHdpZHRoOiAyMHB4O1xuICBib3JkZXItdG9wOiAxcHggc29saWQgYmxhY2s7XG4gIGFuaW1hdGlvbjogUHJvc2VNaXJyb3ItY3Vyc29yLWJsaW5rIDEuMXMgc3RlcHMoMiwgc3RhcnQpIGluZmluaXRlO1xufVxuXG5Aa2V5ZnJhbWVzIFByb3NlTWlycm9yLWN1cnNvci1ibGluayB7XG4gIHRvIHtcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gIH1cbn1cblxuLlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb24gKjo6c2VsZWN0aW9uIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG5cbi5Qcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uICo6Oi1tb3otc2VsZWN0aW9uIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG5cbi5Qcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uICoge1xuICBjYXJldC1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG5cbi5Qcm9zZU1pcnJvci1mb2N1c2VkIC5Qcm9zZU1pcnJvci1nYXBjdXJzb3Ige1xuICBkaXNwbGF5OiBibG9jaztcbn1cbic7Y2xhc3Mgem8gZXh0ZW5kcyBDb3tjb25zdHJ1Y3Rvcih0PXt9KXtzdXBlcigpLHRoaXMuZGVmYXVsdE9wdGlvbnM9e2VkaXRvclByb3BzOnt9LGVkaXRhYmxlOiEwLGF1dG9Gb2N1czpudWxsLGV4dGVuc2lvbnM6W10sY29udGVudDoiIix0b3BOb2RlOiJkb2MiLGVtcHR5RG9jdW1lbnQ6e3R5cGU6ImRvYyIsY29udGVudDpbe3R5cGU6InBhcmFncmFwaCJ9XX0sdXNlQnVpbHRJbkV4dGVuc2lvbnM6ITAsZGlzYWJsZUlucHV0UnVsZXM6ITEsZGlzYWJsZVBhc3RlUnVsZXM6ITEsZHJvcEN1cnNvcjp7fSxlbmFibGVEcm9wQ3Vyc29yOiEwLGVuYWJsZUdhcEN1cnNvcjohMCxwYXJzZU9wdGlvbnM6e30saW5qZWN0Q1NTOiEwLG9uSW5pdDooKT0+e30sb25UcmFuc2FjdGlvbjooKT0+e30sb25VcGRhdGU6KCk9Pnt9LG9uRm9jdXM6KCk9Pnt9LG9uQmx1cjooKT0+e30sb25QYXN0ZTooKT0+e30sb25Ecm9wOigpPT57fX0sdGhpcy5ldmVudHM9WyJpbml0IiwidHJhbnNhY3Rpb24iLCJ1cGRhdGUiLCJmb2N1cyIsImJsdXIiLCJwYXN0ZSIsImRyb3AiXSx0aGlzLmluaXQodCl9aW5pdCh0PXt9KXt0aGlzLnNldE9wdGlvbnMoey4uLnRoaXMuZGVmYXVsdE9wdGlvbnMsLi4udH0pLHRoaXMuZm9jdXNlZD0hMSx0aGlzLnNlbGVjdGlvbj17ZnJvbTowLHRvOjB9LHRoaXMuZWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLmV4dGVuc2lvbnM9dGhpcy5jcmVhdGVFeHRlbnNpb25zKCksdGhpcy5ub2Rlcz10aGlzLmNyZWF0ZU5vZGVzKCksdGhpcy5tYXJrcz10aGlzLmNyZWF0ZU1hcmtzKCksdGhpcy5zY2hlbWE9dGhpcy5jcmVhdGVTY2hlbWEoKSx0aGlzLnBsdWdpbnM9dGhpcy5jcmVhdGVQbHVnaW5zKCksdGhpcy5rZXltYXBzPXRoaXMuY3JlYXRlS2V5bWFwcygpLHRoaXMuaW5wdXRSdWxlcz10aGlzLmNyZWF0ZUlucHV0UnVsZXMoKSx0aGlzLnBhc3RlUnVsZXM9dGhpcy5jcmVhdGVQYXN0ZVJ1bGVzKCksdGhpcy52aWV3PXRoaXMuY3JlYXRlVmlldygpLHRoaXMuY29tbWFuZHM9dGhpcy5jcmVhdGVDb21tYW5kcygpLHRoaXMuc2V0QWN0aXZlTm9kZXNBbmRNYXJrcygpLHRoaXMub3B0aW9ucy5pbmplY3RDU1MmJk5vKFBvKSxudWxsIT09dGhpcy5vcHRpb25zLmF1dG9Gb2N1cyYmdGhpcy5mb2N1cyh0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzKSx0aGlzLmV2ZW50cy5mb3JFYWNoKHQ9Pnt0aGlzLm9uKHQsdGhpcy5vcHRpb25zW3hvKCJvbiAiLmNvbmNhdCh0KSldfHwoKCk9Pnt9KSl9KSx0aGlzLmVtaXQoImluaXQiLHt2aWV3OnRoaXMudmlldyxzdGF0ZTp0aGlzLnN0YXRlfSksdGhpcy5leHRlbnNpb25zLnZpZXc9dGhpcy52aWV3fXNldE9wdGlvbnModCl7dGhpcy5vcHRpb25zPXsuLi50aGlzLm9wdGlvbnMsLi4udH0sdGhpcy52aWV3JiZ0aGlzLnN0YXRlJiZ0aGlzLnZpZXcudXBkYXRlU3RhdGUodGhpcy5zdGF0ZSl9Z2V0IGJ1aWx0SW5FeHRlbnNpb25zKCl7cmV0dXJuIHRoaXMub3B0aW9ucy51c2VCdWlsdEluRXh0ZW5zaW9ucz9bbmV3IEVvLG5ldyBfbyxuZXcgUm9dOltdfWdldCBzdGF0ZSgpe3JldHVybiB0aGlzLnZpZXc/dGhpcy52aWV3LnN0YXRlOm51bGx9Y3JlYXRlRXh0ZW5zaW9ucygpe3JldHVybiBuZXcgTW8oWy4uLnRoaXMuYnVpbHRJbkV4dGVuc2lvbnMsLi4udGhpcy5vcHRpb25zLmV4dGVuc2lvbnNdLHRoaXMpfWNyZWF0ZVBsdWdpbnMoKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLnBsdWdpbnN9Y3JlYXRlS2V5bWFwcygpe3JldHVybiB0aGlzLmV4dGVuc2lvbnMua2V5bWFwcyh7c2NoZW1hOnRoaXMuc2NoZW1hfSl9Y3JlYXRlSW5wdXRSdWxlcygpe3JldHVybiB0aGlzLmV4dGVuc2lvbnMuaW5wdXRSdWxlcyh7c2NoZW1hOnRoaXMuc2NoZW1hLGV4Y2x1ZGVkRXh0ZW5zaW9uczp0aGlzLm9wdGlvbnMuZGlzYWJsZUlucHV0UnVsZXN9KX1jcmVhdGVQYXN0ZVJ1bGVzKCl7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5wYXN0ZVJ1bGVzKHtzY2hlbWE6dGhpcy5zY2hlbWEsZXhjbHVkZWRFeHRlbnNpb25zOnRoaXMub3B0aW9ucy5kaXNhYmxlUGFzdGVSdWxlc30pfWNyZWF0ZUNvbW1hbmRzKCl7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5jb21tYW5kcyh7c2NoZW1hOnRoaXMuc2NoZW1hLHZpZXc6dGhpcy52aWV3fSl9Y3JlYXRlTm9kZXMoKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLm5vZGVzfWNyZWF0ZU1hcmtzKCl7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5tYXJrc31jcmVhdGVTY2hlbWEoKXtyZXR1cm4gbmV3IGxbIlNjaGVtYSJdKHt0b3BOb2RlOnRoaXMub3B0aW9ucy50b3BOb2RlLG5vZGVzOnRoaXMubm9kZXMsbWFya3M6dGhpcy5tYXJrc30pfWNyZWF0ZVN0YXRlKCl7cmV0dXJuIGNbIkVkaXRvclN0YXRlIl0uY3JlYXRlKHtzY2hlbWE6dGhpcy5zY2hlbWEsZG9jOnRoaXMuY3JlYXRlRG9jdW1lbnQodGhpcy5vcHRpb25zLmNvbnRlbnQpLHBsdWdpbnM6Wy4uLnRoaXMucGx1Z2lucyxqcih7cnVsZXM6dGhpcy5pbnB1dFJ1bGVzfSksLi4udGhpcy5wYXN0ZVJ1bGVzLC4uLnRoaXMua2V5bWFwcyxPYmplY3QoWW5bImIiXSkoe0JhY2tzcGFjZTpIcn0pLE9iamVjdChZblsiYiJdKSgkciksLi4udGhpcy5vcHRpb25zLmVuYWJsZURyb3BDdXJzb3I/W0duKHRoaXMub3B0aW9ucy5kcm9wQ3Vyc29yKV06W10sLi4udGhpcy5vcHRpb25zLmVuYWJsZUdhcEN1cnNvcj9bcnIoKV06W10sbmV3IGNbIlBsdWdpbiJdKHtrZXk6bmV3IGNbIlBsdWdpbktleSJdKCJlZGl0YWJsZSIpLHByb3BzOntlZGl0YWJsZTooKT0+dGhpcy5vcHRpb25zLmVkaXRhYmxlfX0pLG5ldyBjWyJQbHVnaW4iXSh7cHJvcHM6e2F0dHJpYnV0ZXM6e3RhYmluZGV4OjB9LGhhbmRsZURPTUV2ZW50czp7Zm9jdXM6KHQsZSk9Pnt0aGlzLmZvY3VzZWQ9ITAsdGhpcy5lbWl0KCJmb2N1cyIse2V2ZW50OmUsc3RhdGU6dC5zdGF0ZSx2aWV3OnR9KTtjb25zdCBuPXRoaXMuc3RhdGUudHIuc2V0TWV0YSgiZm9jdXNlZCIsITApO3RoaXMudmlldy5kaXNwYXRjaChuKX0sYmx1cjoodCxlKT0+e3RoaXMuZm9jdXNlZD0hMSx0aGlzLmVtaXQoImJsdXIiLHtldmVudDplLHN0YXRlOnQuc3RhdGUsdmlldzp0fSk7Y29uc3Qgbj10aGlzLnN0YXRlLnRyLnNldE1ldGEoImZvY3VzZWQiLCExKTt0aGlzLnZpZXcuZGlzcGF0Y2gobil9fX19KSxuZXcgY1siUGx1Z2luIl0oe3Byb3BzOnRoaXMub3B0aW9ucy5lZGl0b3JQcm9wc30pXX0pfWNyZWF0ZURvY3VtZW50KHQsZT10aGlzLm9wdGlvbnMucGFyc2VPcHRpb25zKXtpZihudWxsPT09dClyZXR1cm4gdGhpcy5zY2hlbWEubm9kZUZyb21KU09OKHRoaXMub3B0aW9ucy5lbXB0eURvY3VtZW50KTtpZigib2JqZWN0Ij09PXR5cGVvZiB0KXRyeXtyZXR1cm4gdGhpcy5zY2hlbWEubm9kZUZyb21KU09OKHQpfWNhdGNoKG4pe3JldHVybiBjb25zb2xlLndhcm4oIlt0aXB0YXAgd2Fybl06IEludmFsaWQgY29udGVudC4iLCJQYXNzZWQgdmFsdWU6Iix0LCJFcnJvcjoiLG4pLHRoaXMuc2NoZW1hLm5vZGVGcm9tSlNPTih0aGlzLm9wdGlvbnMuZW1wdHlEb2N1bWVudCl9aWYoInN0cmluZyI9PT10eXBlb2YgdCl7Y29uc3Qgbj0iPGRpdj4iLmNvbmNhdCh0LCI8L2Rpdj4iKSxyPW5ldyB3aW5kb3cuRE9NUGFyc2VyLG89ci5wYXJzZUZyb21TdHJpbmcobiwidGV4dC9odG1sIikuYm9keS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gbFsiRE9NUGFyc2VyIl0uZnJvbVNjaGVtYSh0aGlzLnNjaGVtYSkucGFyc2UobyxlKX1yZXR1cm4hMX1jcmVhdGVWaWV3KCl7cmV0dXJuIG5ldyBqbih0aGlzLmVsZW1lbnQse3N0YXRlOnRoaXMuY3JlYXRlU3RhdGUoKSxoYW5kbGVQYXN0ZTooLi4udCk9Pnt0aGlzLmVtaXQoInBhc3RlIiwuLi50KX0saGFuZGxlRHJvcDooLi4udCk9Pnt0aGlzLmVtaXQoImRyb3AiLC4uLnQpfSxkaXNwYXRjaFRyYW5zYWN0aW9uOnRoaXMuZGlzcGF0Y2hUcmFuc2FjdGlvbi5iaW5kKHRoaXMpfSl9c2V0UGFyZW50Q29tcG9uZW50KHQ9bnVsbCl7dCYmdGhpcy52aWV3LnNldFByb3BzKHtub2RlVmlld3M6dGhpcy5pbml0Tm9kZVZpZXdzKHtwYXJlbnQ6dCxleHRlbnNpb25zOlsuLi50aGlzLmJ1aWx0SW5FeHRlbnNpb25zLC4uLnRoaXMub3B0aW9ucy5leHRlbnNpb25zXX0pfSl9aW5pdE5vZGVWaWV3cyh7cGFyZW50OnQsZXh0ZW5zaW9uczplfSl7cmV0dXJuIGUuZmlsdGVyKHQ9Plsibm9kZSIsIm1hcmsiXS5pbmNsdWRlcyh0LnR5cGUpKS5maWx0ZXIodD0+dC52aWV3KS5yZWR1Y2UoKGUsbik9Pntjb25zdCByPShlLHIsbyxpKT0+e2NvbnN0IHM9bi52aWV3O3JldHVybiBuZXcga28ocyx7ZWRpdG9yOnRoaXMsZXh0ZW5zaW9uOm4scGFyZW50OnQsbm9kZTplLHZpZXc6cixnZXRQb3M6byxkZWNvcmF0aW9uczppfSl9O3JldHVybnsuLi5lLFtuLm5hbWVdOnJ9fSx7fSl9ZGlzcGF0Y2hUcmFuc2FjdGlvbih0KXtjb25zdCBlPXRoaXMuc3RhdGUuYXBwbHkodCk7dGhpcy52aWV3LnVwZGF0ZVN0YXRlKGUpLHRoaXMuc2VsZWN0aW9uPXtmcm9tOnRoaXMuc3RhdGUuc2VsZWN0aW9uLmZyb20sdG86dGhpcy5zdGF0ZS5zZWxlY3Rpb24udG99LHRoaXMuc2V0QWN0aXZlTm9kZXNBbmRNYXJrcygpLHRoaXMuZW1pdCgidHJhbnNhY3Rpb24iLHtnZXRIVE1MOnRoaXMuZ2V0SFRNTC5iaW5kKHRoaXMpLGdldEpTT046dGhpcy5nZXRKU09OLmJpbmQodGhpcyksc3RhdGU6dGhpcy5zdGF0ZSx0cmFuc2FjdGlvbjp0fSksdC5kb2NDaGFuZ2VkJiYhdC5nZXRNZXRhKCJwcmV2ZW50VXBkYXRlIikmJnRoaXMuZW1pdFVwZGF0ZSh0KX1lbWl0VXBkYXRlKHQpe3RoaXMuZW1pdCgidXBkYXRlIix7Z2V0SFRNTDp0aGlzLmdldEhUTUwuYmluZCh0aGlzKSxnZXRKU09OOnRoaXMuZ2V0SlNPTi5iaW5kKHRoaXMpLHN0YXRlOnRoaXMuc3RhdGUsdHJhbnNhY3Rpb246dH0pfXJlc29sdmVTZWxlY3Rpb24odD1udWxsKXtpZih0aGlzLnNlbGVjdGlvbiYmbnVsbD09PXQpcmV0dXJuIHRoaXMuc2VsZWN0aW9uO2lmKCJzdGFydCI9PT10fHwhMD09PXQpcmV0dXJue2Zyb206MCx0bzowfTtpZigiZW5kIj09PXQpe2NvbnN0e2RvYzp0fT10aGlzLnN0YXRlO3JldHVybntmcm9tOnQuY29udGVudC5zaXplLHRvOnQuY29udGVudC5zaXplfX1yZXR1cm57ZnJvbTp0LHRvOnR9fWZvY3VzKHQ9bnVsbCl7aWYodGhpcy52aWV3LmZvY3VzZWQmJm51bGw9PT10fHwhMT09PXQpcmV0dXJuO2NvbnN0e2Zyb206ZSx0bzpufT10aGlzLnJlc29sdmVTZWxlY3Rpb24odCk7dGhpcy5zZXRTZWxlY3Rpb24oZSxuKSxzZXRUaW1lb3V0KCgpPT50aGlzLnZpZXcuZm9jdXMoKSwxMCl9c2V0U2VsZWN0aW9uKHQ9MCxlPTApe2NvbnN0e2RvYzpuLHRyOnJ9PXRoaXMuc3RhdGUsbz1Bbyh0LDAsbi5jb250ZW50LnNpemUpLGk9QW8oZSwwLG4uY29udGVudC5zaXplKSxzPWNbIlRleHRTZWxlY3Rpb24iXS5jcmVhdGUobixvLGkpLGE9ci5zZXRTZWxlY3Rpb24ocyk7dGhpcy52aWV3LmRpc3BhdGNoKGEpfWJsdXIoKXt0aGlzLnZpZXcuZG9tLmJsdXIoKX1nZXRTY2hlbWFKU09OKCl7cmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoe25vZGVzOnRoaXMuZXh0ZW5zaW9ucy5ub2RlcyxtYXJrczp0aGlzLmV4dGVuc2lvbnMubWFya3N9KSl9Z2V0SFRNTCgpe2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksZT1sWyJET01TZXJpYWxpemVyIl0uZnJvbVNjaGVtYSh0aGlzLnNjaGVtYSkuc2VyaWFsaXplRnJhZ21lbnQodGhpcy5zdGF0ZS5kb2MuY29udGVudCk7cmV0dXJuIHQuYXBwZW5kQ2hpbGQoZSksdC5pbm5lckhUTUx9Z2V0SlNPTigpe3JldHVybiB0aGlzLnN0YXRlLmRvYy50b0pTT04oKX1zZXRDb250ZW50KHQ9e30sZT0hMSxuKXtjb25zdHtkb2M6cix0cjpvfT10aGlzLnN0YXRlLGk9dGhpcy5jcmVhdGVEb2N1bWVudCh0LG4pLHM9Y1siVGV4dFNlbGVjdGlvbiJdLmNyZWF0ZShyLDAsci5jb250ZW50LnNpemUpLGE9by5zZXRTZWxlY3Rpb24ocykucmVwbGFjZVNlbGVjdGlvbldpdGgoaSwhMSkuc2V0TWV0YSgicHJldmVudFVwZGF0ZSIsIWUpO3RoaXMudmlldy5kaXNwYXRjaChhKX1jbGVhckNvbnRlbnQodD0hMSl7dGhpcy5zZXRDb250ZW50KHRoaXMub3B0aW9ucy5lbXB0eURvY3VtZW50LHQpfXNldEFjdGl2ZU5vZGVzQW5kTWFya3MoKXt0aGlzLmFjdGl2ZU1hcmtzPU9iamVjdC5lbnRyaWVzKHRoaXMuc2NoZW1hLm1hcmtzKS5yZWR1Y2UoKHQsW2Usbl0pPT4oey4uLnQsW2VdOih0PXt9KT0+VXIodGhpcy5zdGF0ZSxuLHQpfSkse30pLHRoaXMuYWN0aXZlTWFya0F0dHJzPU9iamVjdC5lbnRyaWVzKHRoaXMuc2NoZW1hLm1hcmtzKS5yZWR1Y2UoKHQsW2Usbl0pPT4oey4uLnQsW2VdOldyKHRoaXMuc3RhdGUsbil9KSx7fSksdGhpcy5hY3RpdmVOb2Rlcz1PYmplY3QuZW50cmllcyh0aGlzLnNjaGVtYS5ub2RlcykucmVkdWNlKCh0LFtlLG5dKT0+KHsuLi50LFtlXToodD17fSk9PkdyKHRoaXMuc3RhdGUsbix0KX0pLHt9KX1nZXRNYXJrQXR0cnModD1udWxsKXtyZXR1cm4gdGhpcy5hY3RpdmVNYXJrQXR0cnNbdF19Z2V0Tm9kZUF0dHJzKHQ9bnVsbCl7cmV0dXJuey4uLktyKHRoaXMuc3RhdGUsdGhpcy5zY2hlbWEubm9kZXNbdF0pfX1nZXQgaXNBY3RpdmUoKXtyZXR1cm4gT2JqZWN0LmVudHJpZXMoey4uLnRoaXMuYWN0aXZlTWFya3MsLi4udGhpcy5hY3RpdmVOb2Rlc30pLnJlZHVjZSgodCxbZSxuXSk9Pih7Li4udCxbZV06KHQ9e30pPT5uKHQpfSkse30pfXJlZ2lzdGVyUGx1Z2luKHQ9bnVsbCxlKXtjb25zdCBuPSJmdW5jdGlvbiI9PT10eXBlb2YgZT9lKHQsdGhpcy5zdGF0ZS5wbHVnaW5zKTpbdCwuLi50aGlzLnN0YXRlLnBsdWdpbnNdLHI9dGhpcy5zdGF0ZS5yZWNvbmZpZ3VyZSh7cGx1Z2luczpufSk7dGhpcy52aWV3LnVwZGF0ZVN0YXRlKHIpfXVucmVnaXN0ZXJQbHVnaW4odD1udWxsKXtpZighdHx8IXRoaXMudmlldy5kb2NWaWV3KXJldHVybjtjb25zdCBlPXRoaXMuc3RhdGUucmVjb25maWd1cmUoe3BsdWdpbnM6dGhpcy5zdGF0ZS5wbHVnaW5zLmZpbHRlcihlPT4hZS5rZXkuc3RhcnRzV2l0aCgiIi5jb25jYXQodCwiJCIpKSl9KTt0aGlzLnZpZXcudXBkYXRlU3RhdGUoZSl9ZGVzdHJveSgpe3RoaXMudmlldyYmdGhpcy52aWV3LmRlc3Ryb3koKX19dmFyIElvPXtwcm9wczp7ZWRpdG9yOntkZWZhdWx0Om51bGwsdHlwZTpPYmplY3R9fSx3YXRjaDp7ZWRpdG9yOntpbW1lZGlhdGU6ITAsaGFuZGxlcih0KXt0JiZ0LmVsZW1lbnQmJnRoaXMuJG5leHRUaWNrKCgpPT57dGhpcy4kZWwuYXBwZW5kQ2hpbGQodC5lbGVtZW50LmZpcnN0Q2hpbGQpLHQuc2V0UGFyZW50Q29tcG9uZW50KHRoaXMpfSl9fX0scmVuZGVyKHQpe3JldHVybiB0KCJkaXYiKX0sYmVmb3JlRGVzdHJveSgpe3RoaXMuZWRpdG9yLmVsZW1lbnQ9dGhpcy4kZWx9fTtjbGFzcyAkb3tjb25zdHJ1Y3Rvcih7b3B0aW9uczp0fSl7dGhpcy5vcHRpb25zPXQsdGhpcy5wcmV2ZW50SGlkZT0hMSx0aGlzLm1vdXNlZG93bkhhbmRsZXI9dGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpLHRoaXMub3B0aW9ucy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsdGhpcy5tb3VzZWRvd25IYW5kbGVyLHtjYXB0dXJlOiEwfSksdGhpcy5ibHVySGFuZGxlcj0oKT0+e3RoaXMucHJldmVudEhpZGU/dGhpcy5wcmV2ZW50SGlkZT0hMTp0aGlzLm9wdGlvbnMuZWRpdG9yLmVtaXQoIm1lbnViYXI6Zm9jdXNVcGRhdGUiLCExKX0sdGhpcy5vcHRpb25zLmVkaXRvci5vbigiYmx1ciIsdGhpcy5ibHVySGFuZGxlcil9aGFuZGxlQ2xpY2soKXt0aGlzLnByZXZlbnRIaWRlPSEwfWRlc3Ryb3koKXt0aGlzLm9wdGlvbnMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLHRoaXMubW91c2Vkb3duSGFuZGxlciksdGhpcy5vcHRpb25zLmVkaXRvci5vZmYoImJsdXIiLHRoaXMuYmx1ckhhbmRsZXIpfX1mdW5jdGlvbiBWbyh0KXtyZXR1cm4gbmV3IGNbIlBsdWdpbiJdKHtrZXk6bmV3IGNbIlBsdWdpbktleSJdKCJtZW51X2JhciIpLHZpZXcoZSl7cmV0dXJuIG5ldyAkbyh7ZWRpdG9yVmlldzplLG9wdGlvbnM6dH0pfX0pfXZhciBCbz17cHJvcHM6e2VkaXRvcjp7ZGVmYXVsdDpudWxsLHR5cGU6T2JqZWN0fX0sZGF0YSgpe3JldHVybntmb2N1c2VkOiExfX0sd2F0Y2g6e2VkaXRvcjp7aW1tZWRpYXRlOiEwLGhhbmRsZXIodCl7dCYmdGhpcy4kbmV4dFRpY2soKCk9Pnt0LnJlZ2lzdGVyUGx1Z2luKFZvKHtlZGl0b3I6dCxlbGVtZW50OnRoaXMuJGVsfSkpLHRoaXMuZm9jdXNlZD10LmZvY3VzZWQsdC5vbigiZm9jdXMiLCgpPT57dGhpcy5mb2N1c2VkPSEwfSksdC5vbigibWVudWJhcjpmb2N1c1VwZGF0ZSIsdD0+e3RoaXMuZm9jdXNlZD10fSl9KX19fSxyZW5kZXIoKXtyZXR1cm4gdGhpcy5lZGl0b3I/dGhpcy4kc2NvcGVkU2xvdHMuZGVmYXVsdCh7Zm9jdXNlZDp0aGlzLmZvY3VzZWQsZm9jdXM6dGhpcy5lZGl0b3IuZm9jdXMsY29tbWFuZHM6dGhpcy5lZGl0b3IuY29tbWFuZHMsaXNBY3RpdmU6dGhpcy5lZGl0b3IuaXNBY3RpdmUsZ2V0TWFya0F0dHJzOnRoaXMuZWRpdG9yLmdldE1hcmtBdHRycy5iaW5kKHRoaXMuZWRpdG9yKSxnZXROb2RlQXR0cnM6dGhpcy5lZGl0b3IuZ2V0Tm9kZUF0dHJzLmJpbmQodGhpcy5lZGl0b3IpfSk6bnVsbH19O2Z1bmN0aW9uIEZvKHQsZSxuKXtjb25zdCByPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7cmV0dXJuIHIuc2V0RW5kKHQsbnVsbD09bj90Lm5vZGVWYWx1ZS5sZW5ndGg6biksci5zZXRTdGFydCh0LGV8fDApLHJ9ZnVuY3Rpb24gam8odCxlKXtjb25zdCBuPXQuZ2V0Q2xpZW50UmVjdHMoKTtyZXR1cm4gbi5sZW5ndGg/bltlPDA/MDpuLmxlbmd0aC0xXTp0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfWZ1bmN0aW9uIExvKHQsZSxuPSExKXtjb25zdHtub2RlOnIsb2Zmc2V0Om99PXQuZG9jVmlldy5kb21Gcm9tUG9zKGUpO2xldCBpLHM7aWYoMz09PXIubm9kZVR5cGUpbiYmbzxyLm5vZGVWYWx1ZS5sZW5ndGg/KGpvKEZvKHIsby0xLG8pLC0xKSwicmlnaHQiKTpvPHIubm9kZVZhbHVlLmxlbmd0aCYmKGpvKEZvKHIsbyxvKzEpLC0xKSwibGVmdCIpO2Vsc2UgaWYoci5maXJzdENoaWxkKXtpZihvPHIuY2hpbGROb2Rlcy5sZW5ndGgpe2NvbnN0IHQ9ci5jaGlsZE5vZGVzW29dO2pvKDM9PT10Lm5vZGVUeXBlP0ZvKHQpOnQsLTEpLCJsZWZ0In1pZigoIXN8fHMudG9wPT09cy5ib3R0b20pJiZvKXtjb25zdCB0PXIuY2hpbGROb2Rlc1tvLTFdO2pvKDM9PT10Lm5vZGVUeXBlP0ZvKHQpOnQsMSksInJpZ2h0In19ZWxzZSByLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCJsZWZ0Ijtjb25zdCBhPXNbaV07cmV0dXJue3RvcDpzLnRvcCxib3R0b206cy5ib3R0b20sbGVmdDphLHJpZ2h0OmF9fWNsYXNzIEhve2NvbnN0cnVjdG9yKHtvcHRpb25zOnQsZWRpdG9yVmlldzplfSl7dGhpcy5vcHRpb25zPXtlbGVtZW50Om51bGwsa2VlcEluQm91bmRzOiEwLG9uVXBkYXRlOigpPT4hMSwuLi50fSx0aGlzLmVkaXRvclZpZXc9ZSx0aGlzLmlzQWN0aXZlPSExLHRoaXMubGVmdD0wLHRoaXMuYm90dG9tPTAsdGhpcy50b3A9MCx0aGlzLnByZXZlbnRIaWRlPSExLHRoaXMubW91c2Vkb3duSGFuZGxlcj10aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcyksdGhpcy5vcHRpb25zLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIix0aGlzLm1vdXNlZG93bkhhbmRsZXIse2NhcHR1cmU6ITB9KSx0aGlzLmZvY3VzSGFuZGxlcj0oe3ZpZXc6dH0pPT57dGhpcy51cGRhdGUodCl9LHRoaXMub3B0aW9ucy5lZGl0b3Iub24oImZvY3VzIix0aGlzLmZvY3VzSGFuZGxlciksdGhpcy5ibHVySGFuZGxlcj0oe2V2ZW50OnR9KT0+e3RoaXMucHJldmVudEhpZGU/dGhpcy5wcmV2ZW50SGlkZT0hMTp0aGlzLmhpZGUodCl9LHRoaXMub3B0aW9ucy5lZGl0b3Iub24oImJsdXIiLHRoaXMuYmx1ckhhbmRsZXIpfWhhbmRsZUNsaWNrKCl7dGhpcy5wcmV2ZW50SGlkZT0hMH11cGRhdGUodCxlKXtjb25zdHtzdGF0ZTpufT10O2lmKHQuY29tcG9zaW5nKXJldHVybjtpZihlJiZlLmRvYy5lcShuLmRvYykmJmUuc2VsZWN0aW9uLmVxKG4uc2VsZWN0aW9uKSlyZXR1cm47aWYobi5zZWxlY3Rpb24uZW1wdHkpcmV0dXJuIHZvaWQgdGhpcy5oaWRlKCk7Y29uc3R7ZnJvbTpyLHRvOm99PW4uc2VsZWN0aW9uLGk9TG8odCxyKSxzPUxvKHQsbywhMCksYT10aGlzLm9wdGlvbnMuZWxlbWVudC5vZmZzZXRQYXJlbnQ7aWYoIWEpcmV0dXJuIHZvaWQgdGhpcy5oaWRlKCk7Y29uc3QgYz1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGw9dGhpcy5vcHRpb25zLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdT0oaS5sZWZ0K3MubGVmdCkvMi1jLmxlZnQ7dGhpcy5sZWZ0PU1hdGgucm91bmQodGhpcy5vcHRpb25zLmtlZXBJbkJvdW5kcz9NYXRoLm1pbihjLndpZHRoLWwud2lkdGgvMixNYXRoLm1heCh1LGwud2lkdGgvMikpOnUpLHRoaXMuYm90dG9tPU1hdGgucm91bmQoYy5ib3R0b20taS50b3ApLHRoaXMudG9wPU1hdGgucm91bmQocy5ib3R0b20tYy50b3ApLHRoaXMuaXNBY3RpdmU9ITAsdGhpcy5zZW5kVXBkYXRlKCl9c2VuZFVwZGF0ZSgpe3RoaXMub3B0aW9ucy5vblVwZGF0ZSh7aXNBY3RpdmU6dGhpcy5pc0FjdGl2ZSxsZWZ0OnRoaXMubGVmdCxib3R0b206dGhpcy5ib3R0b20sdG9wOnRoaXMudG9wfSl9aGlkZSh0KXt0JiZ0LnJlbGF0ZWRUYXJnZXQmJnRoaXMub3B0aW9ucy5lbGVtZW50LnBhcmVudE5vZGUmJnRoaXMub3B0aW9ucy5lbGVtZW50LnBhcmVudE5vZGUuY29udGFpbnModC5yZWxhdGVkVGFyZ2V0KXx8KHRoaXMuaXNBY3RpdmU9ITEsdGhpcy5zZW5kVXBkYXRlKCkpfWRlc3Ryb3koKXt0aGlzLm9wdGlvbnMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLHRoaXMubW91c2Vkb3duSGFuZGxlciksdGhpcy5vcHRpb25zLmVkaXRvci5vZmYoImZvY3VzIix0aGlzLmZvY3VzSGFuZGxlciksdGhpcy5vcHRpb25zLmVkaXRvci5vZmYoImJsdXIiLHRoaXMuYmx1ckhhbmRsZXIpfX1mdW5jdGlvbiBxbyh0KXtyZXR1cm4gbmV3IGNbIlBsdWdpbiJdKHtrZXk6bmV3IGNbIlBsdWdpbktleSJdKCJtZW51X2J1YmJsZSIpLHZpZXcoZSl7cmV0dXJuIG5ldyBIbyh7ZWRpdG9yVmlldzplLG9wdGlvbnM6dH0pfX0pfUJvb2xlYW47dmFyIFdvPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuJGNyZWF0ZUVsZW1lbnQsbj10Ll9zZWxmLl9jfHxlO3JldHVybiBuKCJkaXYiLHtzdGF0aWNDbGFzczoiaWNvbiIsY2xhc3M6WyJpY29uLS0iK3QubmFtZSwiaWNvbi0tIit0LnNpemVdfSxbbih0Lmljb24se3RhZzoiY29tcG9uZW50In0pXSwxKX0sS289W107bigiYjBjMCIpLG4oIjRmYWQiKTtmdW5jdGlvbiBKbyh0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0fW4oImE0ZDMiKSxuKCJlMDFhIiksbigiZDI4YiIpLG4oImUyNjAiKSxuKCJkM2I3IiksbigiM2NhMyIpLG4oImRkYjAiKTtmdW5jdGlvbiBVbyh0LGUpe2lmKCJ1bmRlZmluZWQiIT09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KSl7dmFyIG49W10scj0hMCxvPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIHMsYT10W1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KHM9YS5uZXh0KCkpLmRvbmUpO3I9ITApaWYobi5wdXNoKHMudmFsdWUpLGUmJm4ubGVuZ3RoPT09ZSlicmVha31jYXRjaChjKXtvPSEwLGk9Y31maW5hbGx5e3RyeXtyfHxudWxsPT1hWyJyZXR1cm4iXXx8YVsicmV0dXJuIl0oKX1maW5hbGx5e2lmKG8pdGhyb3cgaX19cmV0dXJuIG59fW4oImE2MzAiKSxuKCJmYjZhIiksbigiMjVmMCIpO2Z1bmN0aW9uIEdvKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkoZSk7bjxlO24rKylyW25dPXRbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gWG8odCxlKXtpZih0KXtpZigic3RyaW5nIj09PXR5cGVvZiB0KXJldHVybiBHbyh0LGUpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1ufHwiU2V0Ij09PW4/QXJyYXkuZnJvbSh0KToiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP0dvKHQsZSk6dm9pZCAwfX1mdW5jdGlvbiBZbygpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9ZnVuY3Rpb24gWm8odCxlKXtyZXR1cm4gSm8odCl8fFVvKHQsZSl8fFhvKHQsZSl8fFlvKCl9Zm9yKHZhciBRbz1uKCI3MGM3IiksdGk9bi5uKFFvKSxlaT1uKCJlZDUzIiksbmk9bi5uKGVpKSxyaT1uKCI1ZmVkIiksb2k9bi5uKHJpKSxpaT1uKCJmOTM5Iiksc2k9bi5uKGlpKSxhaT1uKCIzZWIzIiksY2k9bi5uKGFpKSxsaT1uKCIzOTIyIiksdWk9bi5uKGxpKSxkaT1uKCI0M2NhIikscGk9bi5uKGRpKSxmaT1uKCJhNzBkIiksaGk9bi5uKGZpKSxtaT1uKCJhYzRlIiksdmk9bi5uKG1pKSxnaT1uKCJhZDZlIikseWk9bi5uKGdpKSxiaT1uKCI1YmIxIiksd2k9bi5uKGJpKSxTaT1uKCJjNmVlIikseGk9bi5uKFNpKSxraT1uKCJjOTQzIiksQ2k9bi5uKGtpKSxPaT1uKCI0ZjM1IiksTWk9bi5uKE9pKSxOaT1uKCI5ZjYxIiksVGk9bi5uKE5pKSxBaT1uKCJkN2I2IiksRGk9bi5uKEFpKSxFaT1uKCI1ZDc1IiksUmk9bi5uKEVpKSxfaT1uKCI0ZjY2IiksUGk9bi5uKF9pKSx6aT1uKCI0OThjIiksSWk9bi5uKHppKSwkaT1uKCJhZWMyIiksVmk9bi5uKCRpKSxCaT1uKCIyZDFiIiksRmk9bi5uKEJpKSxqaT1uKCJlNDhjIiksTGk9bi5uKGppKSxIaT1uKCJhNzA3IikscWk9bi5uKEhpKSxXaT1uKCI1NTA0IiksS2k9bi5uKFdpKSxKaT1uKCI2ZDU0IiksVWk9bi5uKEppKSxHaT1uKCIwMTA5IiksWGk9bi5uKEdpKSxZaT1uKCJmYTBiIiksWmk9bi5uKFlpKSxRaT1uKCI5MmNmIiksdHM9bi5uKFFpKSxlcz17YWRkX2NvbF9hZnRlcjp0aS5hLGFkZF9jb2xfYmVmb3JlOm5pLmEsYWRkX3Jvd19hZnRlcjpvaS5hLGFkZF9yb3dfYmVmb3JlOnNpLmEsYm9sZDpjaS5hLGNoZWNrbGlzdDp1aS5hLGNvZGU6cGkuYSxjb2RlX2Jsb2NrOmhpLmEsY29tYmluZV9jZWxsczp2aS5hLGRlbGV0ZV9jb2w6eWkuYSxkZWxldGVfcm93OndpLmEsZGVsZXRlX3RhYmxlOnhpLmEsZ2l0aHViOkNpLmEsaHI6TWkuYSxpbWFnZTpUaS5hLGl0YWxpYzpEaS5hLGxpbms6UmkuYSxtZW50aW9uOlBpLmEsb2w6SWkuYSxwYXJhZ3JhcGg6VmkuYSxxdW90ZTpGaS5hLHJlZG86TGkuYSxyZW1vdmU6cWkuYSxzdHJpa2U6S2kuYSx0YWJsZTpVaS5hLHVsOlhpLmEsdW5kZXJsaW5lOlppLmEsdW5kbzp0cy5hfSxucz17fSxycz0wLGlzPU9iamVjdC5lbnRyaWVzKGVzKTtyczxpcy5sZW5ndGg7cnMrKyl7dmFyIHNzPVpvKGlzW3JzXSwyKSxhcz1zc1swXSxjcz1zc1sxXTtuc1siaWNvbl8iK2FzXT1jc312YXIgbHM9e2NvbXBvbmVudHM6bnMscHJvcHM6e25hbWU6e30sc2l6ZTp7ZGVmYXVsdDoibm9ybWFsIn0sbW9kaWZpZXI6e2RlZmF1bHQ6bnVsbH0sZml4QWxpZ246e2RlZmF1bHQ6ITB9fSxjb21wdXRlZDp7aWNvbjpmdW5jdGlvbigpe3JldHVybiJpY29uXyIrdGhpcy5uYW1lfX19LHVzPWxzO24oIjFhZmEiKTtmdW5jdGlvbiBkcyh0LGUsbixyLG8saSxzLGEpe3ZhciBjLGw9ImZ1bmN0aW9uIj09PXR5cGVvZiB0P3Qub3B0aW9uczp0O2lmKGUmJihsLnJlbmRlcj1lLGwuc3RhdGljUmVuZGVyRm5zPW4sbC5fY29tcGlsZWQ9ITApLHImJihsLmZ1bmN0aW9uYWw9ITApLGkmJihsLl9zY29wZUlkPSJkYXRhLXYtIitpKSxzPyhjPWZ1bmN0aW9uKHQpe3Q9dHx8dGhpcy4kdm5vZGUmJnRoaXMuJHZub2RlLnNzckNvbnRleHR8fHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC4kdm5vZGUmJnRoaXMucGFyZW50LiR2bm9kZS5zc3JDb250ZXh0LHR8fCJ1bmRlZmluZWQiPT09dHlwZW9mIF9fVlVFX1NTUl9DT05URVhUX198fCh0PV9fVlVFX1NTUl9DT05URVhUX18pLG8mJm8uY2FsbCh0aGlzLHQpLHQmJnQuX3JlZ2lzdGVyZWRDb21wb25lbnRzJiZ0Ll9yZWdpc3RlcmVkQ29tcG9uZW50cy5hZGQocyl9LGwuX3NzclJlZ2lzdGVyPWMpOm8mJihjPWE/ZnVuY3Rpb24oKXtvLmNhbGwodGhpcywobC5mdW5jdGlvbmFsP3RoaXMucGFyZW50OnRoaXMpLiRyb290LiRvcHRpb25zLnNoYWRvd1Jvb3QpfTpvKSxjKWlmKGwuZnVuY3Rpb25hbCl7bC5faW5qZWN0U3R5bGVzPWM7dmFyIHU9bC5yZW5kZXI7bC5yZW5kZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYy5jYWxsKGUpLHUodCxlKX19ZWxzZXt2YXIgZD1sLmJlZm9yZUNyZWF0ZTtsLmJlZm9yZUNyZWF0ZT1kP1tdLmNvbmNhdChkLGMpOltjXX1yZXR1cm57ZXhwb3J0czp0LG9wdGlvbnM6bH19dmFyIHBzPWRzKHVzLFdvLEtvLCExLG51bGwsImU1OWY3ODMyIixudWxsKSxmcz1wcy5leHBvcnRzLGhzPShuKCIzY2U0IiksbigiNTViZSIpKTtuZXcgY1siUGx1Z2luS2V5Il0oImNvbGxhYiIpO3ZhciBtcz0yMDAsdnM9ZnVuY3Rpb24oKXt9O3ZzLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQubGVuZ3RoPyh0PXZzLmZyb20odCksIXRoaXMubGVuZ3RoJiZ0fHx0Lmxlbmd0aDxtcyYmdGhpcy5sZWFmQXBwZW5kKHQpfHx0aGlzLmxlbmd0aDxtcyYmdC5sZWFmUHJlcGVuZCh0aGlzKXx8dGhpcy5hcHBlbmRJbm5lcih0KSk6dGhpc30sdnMucHJvdG90eXBlLnByZXBlbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQubGVuZ3RoP3ZzLmZyb20odCkuYXBwZW5kKHRoaXMpOnRoaXN9LHZzLnByb3RvdHlwZS5hcHBlbmRJbm5lcj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHlzKHRoaXMsdCl9LHZzLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT10aGlzLmxlbmd0aCksdD49ZT92cy5lbXB0eTp0aGlzLnNsaWNlSW5uZXIoTWF0aC5tYXgoMCx0KSxNYXRoLm1pbih0aGlzLmxlbmd0aCxlKSl9LHZzLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7aWYoISh0PDB8fHQ+PXRoaXMubGVuZ3RoKSlyZXR1cm4gdGhpcy5nZXRJbm5lcih0KX0sdnMucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PW4mJihuPXRoaXMubGVuZ3RoKSxlPD1uP3RoaXMuZm9yRWFjaElubmVyKHQsZSxuLDApOnRoaXMuZm9yRWFjaEludmVydGVkSW5uZXIodCxlLG4sMCl9LHZzLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PW4mJihuPXRoaXMubGVuZ3RoKTt2YXIgcj1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbihlLG4pe3JldHVybiByLnB1c2godChlLG4pKX0pLGUsbikscn0sdnMuZnJvbT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHZzP3Q6dCYmdC5sZW5ndGg/bmV3IGdzKHQpOnZzLmVtcHR5fTt2YXIgZ3M9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyksdGhpcy52YWx1ZXM9ZX10JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17bGVuZ3RoOntjb25maWd1cmFibGU6ITB9LGRlcHRoOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gZS5wcm90b3R5cGUuZmxhdHRlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlc30sZS5wcm90b3R5cGUuc2xpY2VJbm5lcj1mdW5jdGlvbih0LG4pe3JldHVybiAwPT10JiZuPT10aGlzLmxlbmd0aD90aGlzOm5ldyBlKHRoaXMudmFsdWVzLnNsaWNlKHQsbikpfSxlLnByb3RvdHlwZS5nZXRJbm5lcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy52YWx1ZXNbdF19LGUucHJvdG90eXBlLmZvckVhY2hJbm5lcj1mdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIG89ZTtvPG47bysrKWlmKCExPT09dCh0aGlzLnZhbHVlc1tvXSxyK28pKXJldHVybiExfSxlLnByb3RvdHlwZS5mb3JFYWNoSW52ZXJ0ZWRJbm5lcj1mdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIG89ZS0xO28+PW47by0tKWlmKCExPT09dCh0aGlzLnZhbHVlc1tvXSxyK28pKXJldHVybiExfSxlLnByb3RvdHlwZS5sZWFmQXBwZW5kPWZ1bmN0aW9uKHQpe2lmKHRoaXMubGVuZ3RoK3QubGVuZ3RoPD1tcylyZXR1cm4gbmV3IGUodGhpcy52YWx1ZXMuY29uY2F0KHQuZmxhdHRlbigpKSl9LGUucHJvdG90eXBlLmxlYWZQcmVwZW5kPWZ1bmN0aW9uKHQpe2lmKHRoaXMubGVuZ3RoK3QubGVuZ3RoPD1tcylyZXR1cm4gbmV3IGUodC5mbGF0dGVuKCkuY29uY2F0KHRoaXMudmFsdWVzKSl9LG4ubGVuZ3RoLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlcy5sZW5ndGh9LG4uZGVwdGguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLG4pLGV9KHZzKTt2cy5lbXB0eT1uZXcgZ3MoW10pO3ZhciB5cz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dC5jYWxsKHRoaXMpLHRoaXMubGVmdD1lLHRoaXMucmlnaHQ9bix0aGlzLmxlbmd0aD1lLmxlbmd0aCtuLmxlbmd0aCx0aGlzLmRlcHRoPU1hdGgubWF4KGUuZGVwdGgsbi5kZXB0aCkrMX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZmxhdHRlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlZnQuZmxhdHRlbigpLmNvbmNhdCh0aGlzLnJpZ2h0LmZsYXR0ZW4oKSl9LGUucHJvdG90eXBlLmdldElubmVyPWZ1bmN0aW9uKHQpe3JldHVybiB0PHRoaXMubGVmdC5sZW5ndGg/dGhpcy5sZWZ0LmdldCh0KTp0aGlzLnJpZ2h0LmdldCh0LXRoaXMubGVmdC5sZW5ndGgpfSxlLnByb3RvdHlwZS5mb3JFYWNoSW5uZXI9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89dGhpcy5sZWZ0Lmxlbmd0aDtyZXR1cm4hKGU8byYmITE9PT10aGlzLmxlZnQuZm9yRWFjaElubmVyKHQsZSxNYXRoLm1pbihuLG8pLHIpKSYmKCEobj5vJiYhMT09PXRoaXMucmlnaHQuZm9yRWFjaElubmVyKHQsTWF0aC5tYXgoZS1vLDApLE1hdGgubWluKHRoaXMubGVuZ3RoLG4pLW8scitvKSkmJnZvaWQgMCl9LGUucHJvdG90eXBlLmZvckVhY2hJbnZlcnRlZElubmVyPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXRoaXMubGVmdC5sZW5ndGg7cmV0dXJuIShlPm8mJiExPT09dGhpcy5yaWdodC5mb3JFYWNoSW52ZXJ0ZWRJbm5lcih0LGUtbyxNYXRoLm1heChuLG8pLW8scitvKSkmJighKG48byYmITE9PT10aGlzLmxlZnQuZm9yRWFjaEludmVydGVkSW5uZXIodCxNYXRoLm1pbihlLG8pLG4scikpJiZ2b2lkIDApfSxlLnByb3RvdHlwZS5zbGljZUlubmVyPWZ1bmN0aW9uKHQsZSl7aWYoMD09dCYmZT09dGhpcy5sZW5ndGgpcmV0dXJuIHRoaXM7dmFyIG49dGhpcy5sZWZ0Lmxlbmd0aDtyZXR1cm4gZTw9bj90aGlzLmxlZnQuc2xpY2UodCxlKTp0Pj1uP3RoaXMucmlnaHQuc2xpY2UodC1uLGUtbik6dGhpcy5sZWZ0LnNsaWNlKHQsbikuYXBwZW5kKHRoaXMucmlnaHQuc2xpY2UoMCxlLW4pKX0sZS5wcm90b3R5cGUubGVhZkFwcGVuZD1mdW5jdGlvbih0KXt2YXIgbj10aGlzLnJpZ2h0LmxlYWZBcHBlbmQodCk7aWYobilyZXR1cm4gbmV3IGUodGhpcy5sZWZ0LG4pfSxlLnByb3RvdHlwZS5sZWFmUHJlcGVuZD1mdW5jdGlvbih0KXt2YXIgbj10aGlzLmxlZnQubGVhZlByZXBlbmQodCk7aWYobilyZXR1cm4gbmV3IGUobix0aGlzLnJpZ2h0KX0sZS5wcm90b3R5cGUuYXBwZW5kSW5uZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubGVmdC5kZXB0aD49TWF0aC5tYXgodGhpcy5yaWdodC5kZXB0aCx0LmRlcHRoKSsxP25ldyBlKHRoaXMubGVmdCxuZXcgZSh0aGlzLnJpZ2h0LHQpKTpuZXcgZSh0aGlzLHQpfSxlfSh2cyksYnM9dnMsd3M9YnMsU3M9NTAwLHhzPWZ1bmN0aW9uKHQsZSl7dGhpcy5pdGVtcz10LHRoaXMuZXZlbnRDb3VudD1lfTtmdW5jdGlvbiBrcyh0LGUpe3ZhciBuO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQscil7aWYodC5zZWxlY3Rpb24mJjA9PWUtLSlyZXR1cm4gbj1yLCExfSkpLHQuc2xpY2Uobil9eHMucHJvdG90eXBlLnBvcEV2ZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztpZigwPT10aGlzLmV2ZW50Q291bnQpcmV0dXJuIG51bGw7Zm9yKHZhciByLG8saT10aGlzLml0ZW1zLmxlbmd0aDs7aS0tKXt2YXIgcz10aGlzLml0ZW1zLmdldChpLTEpO2lmKHMuc2VsZWN0aW9uKXstLWk7YnJlYWt9fWUmJihyPXRoaXMucmVtYXBwaW5nKGksdGhpcy5pdGVtcy5sZW5ndGgpLG89ci5tYXBzLmxlbmd0aCk7dmFyIGEsYyxsPXQudHIsdT1bXSxkPVtdO3JldHVybiB0aGlzLml0ZW1zLmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7aWYoIXQuc3RlcClyZXR1cm4gcnx8KHI9bi5yZW1hcHBpbmcoaSxlKzEpLG89ci5tYXBzLmxlbmd0aCksby0tLHZvaWQgZC5wdXNoKHQpO2lmKHIpe2QucHVzaChuZXcgQ3ModC5tYXApKTt2YXIgcyxwPXQuc3RlcC5tYXAoci5zbGljZShvKSk7cCYmbC5tYXliZVN0ZXAocCkuZG9jJiYocz1sLm1hcHBpbmcubWFwc1tsLm1hcHBpbmcubWFwcy5sZW5ndGgtMV0sdS5wdXNoKG5ldyBDcyhzLG51bGwsbnVsbCx1Lmxlbmd0aCtkLmxlbmd0aCkpKSxvLS0scyYmci5hcHBlbmRNYXAocyxvKX1lbHNlIGwubWF5YmVTdGVwKHQuc3RlcCk7cmV0dXJuIHQuc2VsZWN0aW9uPyhhPXI/dC5zZWxlY3Rpb24ubWFwKHIuc2xpY2UobykpOnQuc2VsZWN0aW9uLGM9bmV3IHhzKG4uaXRlbXMuc2xpY2UoMCxpKS5hcHBlbmQoZC5yZXZlcnNlKCkuY29uY2F0KHUpKSxuLmV2ZW50Q291bnQtMSksITEpOnZvaWQgMH0pLHRoaXMuaXRlbXMubGVuZ3RoLDApLHtyZW1haW5pbmc6Yyx0cmFuc2Zvcm06bCxzZWxlY3Rpb246YX19LHhzLnByb3RvdHlwZS5hZGRUcmFuc2Zvcm09ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBvPVtdLGk9dGhpcy5ldmVudENvdW50LHM9dGhpcy5pdGVtcyxhPSFyJiZzLmxlbmd0aD9zLmdldChzLmxlbmd0aC0xKTpudWxsLGM9MDtjPHQuc3RlcHMubGVuZ3RoO2MrKyl7dmFyIGw9dC5zdGVwc1tjXS5pbnZlcnQodC5kb2NzW2NdKSx1PW5ldyBDcyh0Lm1hcHBpbmcubWFwc1tjXSxsLGUpLGQ9dm9pZCAwOyhkPWEmJmEubWVyZ2UodSkpJiYodT1kLGM/by5wb3AoKTpzPXMuc2xpY2UoMCxzLmxlbmd0aC0xKSksby5wdXNoKHUpLGUmJihpKyssZT1udWxsKSxyfHwoYT11KX12YXIgcD1pLW4uZGVwdGg7cmV0dXJuIHA+TXMmJihzPWtzKHMscCksaS09cCksbmV3IHhzKHMuYXBwZW5kKG8pLGkpfSx4cy5wcm90b3R5cGUucmVtYXBwaW5nPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHVbImEiXTtyZXR1cm4gdGhpcy5pdGVtcy5mb3JFYWNoKChmdW5jdGlvbihlLHIpe3ZhciBvPW51bGwhPWUubWlycm9yT2Zmc2V0JiZyLWUubWlycm9yT2Zmc2V0Pj10P24ubWFwcy5sZW5ndGgtZS5taXJyb3JPZmZzZXQ6bnVsbDtuLmFwcGVuZE1hcChlLm1hcCxvKX0pLHQsZSksbn0seHMucHJvdG90eXBlLmFkZE1hcHM9ZnVuY3Rpb24odCl7cmV0dXJuIDA9PXRoaXMuZXZlbnRDb3VudD90aGlzOm5ldyB4cyh0aGlzLml0ZW1zLmFwcGVuZCh0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBDcyh0KX0pKSksdGhpcy5ldmVudENvdW50KX0seHMucHJvdG90eXBlLnJlYmFzZWQ9ZnVuY3Rpb24odCxlKXtpZighdGhpcy5ldmVudENvdW50KXJldHVybiB0aGlzO3ZhciBuPVtdLHI9TWF0aC5tYXgoMCx0aGlzLml0ZW1zLmxlbmd0aC1lKSxvPXQubWFwcGluZyxpPXQuc3RlcHMubGVuZ3RoLHM9dGhpcy5ldmVudENvdW50O3RoaXMuaXRlbXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5zZWxlY3Rpb24mJnMtLX0pLHIpO3ZhciBhPWU7dGhpcy5pdGVtcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1vLmdldE1pcnJvcigtLWEpO2lmKG51bGwhPXIpe2k9TWF0aC5taW4oaSxyKTt2YXIgYz1vLm1hcHNbcl07aWYoZS5zdGVwKXt2YXIgbD10LnN0ZXBzW3JdLmludmVydCh0LmRvY3Nbcl0pLHU9ZS5zZWxlY3Rpb24mJmUuc2VsZWN0aW9uLm1hcChvLnNsaWNlKGErMSxyKSk7dSYmcysrLG4ucHVzaChuZXcgQ3MoYyxsLHUpKX1lbHNlIG4ucHVzaChuZXcgQ3MoYykpfX0pLHIpO2Zvcih2YXIgYz1bXSxsPWU7bDxpO2wrKyljLnB1c2gobmV3IENzKG8ubWFwc1tsXSkpO3ZhciB1PXRoaXMuaXRlbXMuc2xpY2UoMCxyKS5hcHBlbmQoYykuYXBwZW5kKG4pLGQ9bmV3IHhzKHUscyk7cmV0dXJuIGQuZW1wdHlJdGVtQ291bnQoKT5TcyYmKGQ9ZC5jb21wcmVzcyh0aGlzLml0ZW1zLmxlbmd0aC1uLmxlbmd0aCkpLGR9LHhzLnByb3RvdHlwZS5lbXB0eUl0ZW1Db3VudD1mdW5jdGlvbigpe3ZhciB0PTA7cmV0dXJuIHRoaXMuaXRlbXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5zdGVwfHx0Kyt9KSksdH0seHMucHJvdG90eXBlLmNvbXByZXNzPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PXRoaXMuaXRlbXMubGVuZ3RoKTt2YXIgZT10aGlzLnJlbWFwcGluZygwLHQpLG49ZS5tYXBzLmxlbmd0aCxyPVtdLG89MDtyZXR1cm4gdGhpcy5pdGVtcy5mb3JFYWNoKChmdW5jdGlvbihpLHMpe2lmKHM+PXQpci5wdXNoKGkpLGkuc2VsZWN0aW9uJiZvKys7ZWxzZSBpZihpLnN0ZXApe3ZhciBhPWkuc3RlcC5tYXAoZS5zbGljZShuKSksYz1hJiZhLmdldE1hcCgpO2lmKG4tLSxjJiZlLmFwcGVuZE1hcChjLG4pLGEpe3ZhciBsPWkuc2VsZWN0aW9uJiZpLnNlbGVjdGlvbi5tYXAoZS5zbGljZShuKSk7bCYmbysrO3ZhciB1LGQ9bmV3IENzKGMuaW52ZXJ0KCksYSxsKSxwPXIubGVuZ3RoLTE7KHU9ci5sZW5ndGgmJnJbcF0ubWVyZ2UoZCkpP3JbcF09dTpyLnB1c2goZCl9fWVsc2UgaS5tYXAmJm4tLX0pLHRoaXMuaXRlbXMubGVuZ3RoLDApLG5ldyB4cyh3cy5mcm9tKHIucmV2ZXJzZSgpKSxvKX0seHMuZW1wdHk9bmV3IHhzKHdzLmVtcHR5LDApO3ZhciBDcz1mdW5jdGlvbih0LGUsbixyKXt0aGlzLm1hcD10LHRoaXMuc3RlcD1lLHRoaXMuc2VsZWN0aW9uPW4sdGhpcy5taXJyb3JPZmZzZXQ9cn07Q3MucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuc3RlcCYmdC5zdGVwJiYhdC5zZWxlY3Rpb24pe3ZhciBlPXQuc3RlcC5tZXJnZSh0aGlzLnN0ZXApO2lmKGUpcmV0dXJuIG5ldyBDcyhlLmdldE1hcCgpLmludmVydCgpLGUsdGhpcy5zZWxlY3Rpb24pfX07dmFyIE9zPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMuZG9uZT10LHRoaXMudW5kb25lPWUsdGhpcy5wcmV2UmFuZ2VzPW4sdGhpcy5wcmV2VGltZT1yfSxNcz0yMDtmdW5jdGlvbiBOcyh0LGUsbixyKXt2YXIgbyxpPW4uZ2V0TWV0YSh6cyk7aWYoaSlyZXR1cm4gaS5oaXN0b3J5U3RhdGU7bi5nZXRNZXRhKElzKSYmKHQ9bmV3IE9zKHQuZG9uZSx0LnVuZG9uZSxudWxsLDApKTt2YXIgcz1uLmdldE1ldGEoImFwcGVuZGVkVHJhbnNhY3Rpb24iKTtpZigwPT1uLnN0ZXBzLmxlbmd0aClyZXR1cm4gdDtpZihzJiZzLmdldE1ldGEoenMpKXJldHVybiBzLmdldE1ldGEoenMpLnJlZG8/bmV3IE9zKHQuZG9uZS5hZGRUcmFuc2Zvcm0obixudWxsLHIsUHMoZSkpLHQudW5kb25lLEFzKG4ubWFwcGluZy5tYXBzW24uc3RlcHMubGVuZ3RoLTFdKSx0LnByZXZUaW1lKTpuZXcgT3ModC5kb25lLHQudW5kb25lLmFkZFRyYW5zZm9ybShuLG51bGwscixQcyhlKSksbnVsbCx0LnByZXZUaW1lKTtpZighMT09PW4uZ2V0TWV0YSgiYWRkVG9IaXN0b3J5Iil8fHMmJiExPT09cy5nZXRNZXRhKCJhZGRUb0hpc3RvcnkiKSlyZXR1cm4obz1uLmdldE1ldGEoInJlYmFzZWQiKSk/bmV3IE9zKHQuZG9uZS5yZWJhc2VkKG4sbyksdC51bmRvbmUucmViYXNlZChuLG8pLERzKHQucHJldlJhbmdlcyxuLm1hcHBpbmcpLHQucHJldlRpbWUpOm5ldyBPcyh0LmRvbmUuYWRkTWFwcyhuLm1hcHBpbmcubWFwcyksdC51bmRvbmUuYWRkTWFwcyhuLm1hcHBpbmcubWFwcyksRHModC5wcmV2UmFuZ2VzLG4ubWFwcGluZyksdC5wcmV2VGltZSk7dmFyIGE9MD09dC5wcmV2VGltZXx8IXMmJih0LnByZXZUaW1lPChuLnRpbWV8fDApLXIubmV3R3JvdXBEZWxheXx8IVRzKG4sdC5wcmV2UmFuZ2VzKSksYz1zP0RzKHQucHJldlJhbmdlcyxuLm1hcHBpbmcpOkFzKG4ubWFwcGluZy5tYXBzW24uc3RlcHMubGVuZ3RoLTFdKTtyZXR1cm4gbmV3IE9zKHQuZG9uZS5hZGRUcmFuc2Zvcm0obixhP2Uuc2VsZWN0aW9uLmdldEJvb2ttYXJrKCk6bnVsbCxyLFBzKGUpKSx4cy5lbXB0eSxjLG4udGltZSl9ZnVuY3Rpb24gVHModCxlKXtpZighZSlyZXR1cm4hMTtpZighdC5kb2NDaGFuZ2VkKXJldHVybiEwO3ZhciBuPSExO3JldHVybiB0Lm1hcHBpbmcubWFwc1swXS5mb3JFYWNoKChmdW5jdGlvbih0LHIpe2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bys9Mil0PD1lW28rMV0mJnI+PWVbb10mJihuPSEwKX0pKSxufWZ1bmN0aW9uIEFzKHQpe3ZhciBlPVtdO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQsbixyLG8pe3JldHVybiBlLnB1c2gocixvKX0pKSxlfWZ1bmN0aW9uIERzKHQsZSl7aWYoIXQpcmV0dXJuIG51bGw7Zm9yKHZhciBuPVtdLHI9MDtyPHQubGVuZ3RoO3IrPTIpe3ZhciBvPWUubWFwKHRbcl0sMSksaT1lLm1hcCh0W3IrMV0sLTEpO288PWkmJm4ucHVzaChvLGkpfXJldHVybiBufWZ1bmN0aW9uIEVzKHQsZSxuLHIpe3ZhciBvPVBzKGUpLGk9enMuZ2V0KGUpLnNwZWMuY29uZmlnLHM9KHI/dC51bmRvbmU6dC5kb25lKS5wb3BFdmVudChlLG8pO2lmKHMpe3ZhciBhPXMuc2VsZWN0aW9uLnJlc29sdmUocy50cmFuc2Zvcm0uZG9jKSxjPShyP3QuZG9uZTp0LnVuZG9uZSkuYWRkVHJhbnNmb3JtKHMudHJhbnNmb3JtLGUuc2VsZWN0aW9uLmdldEJvb2ttYXJrKCksaSxvKSxsPW5ldyBPcyhyP2M6cy5yZW1haW5pbmcscj9zLnJlbWFpbmluZzpjLG51bGwsMCk7bihzLnRyYW5zZm9ybS5zZXRTZWxlY3Rpb24oYSkuc2V0TWV0YSh6cyx7cmVkbzpyLGhpc3RvcnlTdGF0ZTpsfSkuc2Nyb2xsSW50b1ZpZXcoKSl9fXZhciBScz0hMSxfcz1udWxsO2Z1bmN0aW9uIFBzKHQpe3ZhciBlPXQucGx1Z2lucztpZihfcyE9ZSl7UnM9ITEsX3M9ZTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZihlW25dLnNwZWMuaGlzdG9yeVByZXNlcnZlSXRlbXMpe1JzPSEwO2JyZWFrfX1yZXR1cm4gUnN9dmFyIHpzPW5ldyBjWyJQbHVnaW5LZXkiXSgiaGlzdG9yeSIpLElzPW5ldyBjWyJQbHVnaW5LZXkiXSgiY2xvc2VIaXN0b3J5Iik7ZnVuY3Rpb24gJHModCl7cmV0dXJuIHQ9e2RlcHRoOnQmJnQuZGVwdGh8fDEwMCxuZXdHcm91cERlbGF5OnQmJnQubmV3R3JvdXBEZWxheXx8NTAwfSxuZXcgY1siUGx1Z2luIl0oe2tleTp6cyxzdGF0ZTp7aW5pdDpmdW5jdGlvbigpe3JldHVybiBuZXcgT3MoeHMuZW1wdHkseHMuZW1wdHksbnVsbCwwKX0sYXBwbHk6ZnVuY3Rpb24oZSxuLHIpe3JldHVybiBOcyhuLHIsZSx0KX19LGNvbmZpZzp0fSl9ZnVuY3Rpb24gVnModCxlKXt2YXIgbj16cy5nZXRTdGF0ZSh0KTtyZXR1cm4hKCFufHwwPT1uLmRvbmUuZXZlbnRDb3VudCkmJihlJiZFcyhuLHQsZSwhMSksITApfWZ1bmN0aW9uIEJzKHQsZSl7dmFyIG49enMuZ2V0U3RhdGUodCk7cmV0dXJuISghbnx8MD09bi51bmRvbmUuZXZlbnRDb3VudCkmJihlJiZFcyhuLHQsZSwhMCksITApfWZ1bmN0aW9uIEZzKHQpe3ZhciBlPXpzLmdldFN0YXRlKHQpO3JldHVybiBlP2UuZG9uZS5ldmVudENvdW50OjB9ZnVuY3Rpb24ganModCl7dmFyIGU9enMuZ2V0U3RhdGUodCk7cmV0dXJuIGU/ZS51bmRvbmUuZXZlbnRDb3VudDowfQovKiEKICAgICogdGlwdGFwLWV4dGVuc2lvbnMgdjEuMzMuMQogICAgKiAoYykgMjAyMCDDvGJlcmRvc2lzIEdiUiAobGltaXRlZCBsaWFiaWxpdHkpCiAgICAqIEBsaWNlbnNlIE1JVAogICAgKi9jbGFzcyBMcyBleHRlbmRzIERve2dldCBuYW1lKCl7cmV0dXJuImJsb2NrcXVvdGUifWdldCBzY2hlbWEoKXtyZXR1cm57Y29udGVudDoiYmxvY2sqIixncm91cDoiYmxvY2siLGRlZmluaW5nOiEwLGRyYWdnYWJsZTohMSxwYXJzZURPTTpbe3RhZzoiYmxvY2txdW90ZSJ9XSx0b0RPTTooKT0+WyJibG9ja3F1b3RlIiwwXX19Y29tbWFuZHMoe3R5cGU6dH0pe3JldHVybigpPT53byh0KX1rZXlzKHt0eXBlOnR9KXtyZXR1cm57IkN0cmwtPiI6d28odCl9fWlucHV0UnVsZXMoe3R5cGU6dH0pe3JldHVyblthbygvXlxzKj5ccyQvLHQpXX19Y2xhc3MgSHMgZXh0ZW5kcyBEb3tnZXQgbmFtZSgpe3JldHVybiJidWxsZXRfbGlzdCJ9Z2V0IHNjaGVtYSgpe3JldHVybntjb250ZW50OiJsaXN0X2l0ZW0rIixncm91cDoiYmxvY2siLHBhcnNlRE9NOlt7dGFnOiJ1bCJ9XSx0b0RPTTooKT0+WyJ1bCIsMF19fWNvbW1hbmRzKHt0eXBlOnQsc2NoZW1hOmV9KXtyZXR1cm4oKT0+Ym8odCxlLm5vZGVzLmxpc3RfaXRlbSl9a2V5cyh7dHlwZTp0LHNjaGVtYTplfSl7cmV0dXJueyJTaGlmdC1DdHJsLTgiOmJvKHQsZS5ub2Rlcy5saXN0X2l0ZW0pfX1pbnB1dFJ1bGVzKHt0eXBlOnR9KXtyZXR1cm5bYW8oL15ccyooWy0rKl0pXHMkLyx0KV19fWNsYXNzIHFzIGV4dGVuZHMgRG97Z2V0IG5hbWUoKXtyZXR1cm4iY29kZV9ibG9jayJ9Z2V0IHNjaGVtYSgpe3JldHVybntjb250ZW50OiJ0ZXh0KiIsbWFya3M6IiIsZ3JvdXA6ImJsb2NrIixjb2RlOiEwLGRlZmluaW5nOiEwLGRyYWdnYWJsZTohMSxwYXJzZURPTTpbe3RhZzoicHJlIixwcmVzZXJ2ZVdoaXRlc3BhY2U6ImZ1bGwifV0sdG9ET006KCk9PlsicHJlIixbImNvZGUiLDBdXX19Y29tbWFuZHMoe3R5cGU6dCxzY2hlbWE6ZX0pe3JldHVybigpPT5nbyh0LGUubm9kZXMucGFyYWdyYXBoKX1rZXlzKHt0eXBlOnR9KXtyZXR1cm57IlNoaWZ0LUN0cmwtXFwiOk5yKHQpfX1pbnB1dFJ1bGVzKHt0eXBlOnR9KXtyZXR1cm5bY28oL15gYGAkLyx0KV19fWNsYXNzIFdzIGV4dGVuZHMgRG97Z2V0IG5hbWUoKXtyZXR1cm4iaGFyZF9icmVhayJ9Z2V0IHNjaGVtYSgpe3JldHVybntpbmxpbmU6ITAsZ3JvdXA6ImlubGluZSIsc2VsZWN0YWJsZTohMSxwYXJzZURPTTpbe3RhZzoiYnIifV0sdG9ET006KCk9PlsiYnIiXX19Y29tbWFuZHMoe3R5cGU6dH0pe3JldHVybigpPT5EcihiciwoZSxuKT0+KG4oZS50ci5yZXBsYWNlU2VsZWN0aW9uV2l0aCh0LmNyZWF0ZSgpKS5zY3JvbGxJbnRvVmlldygpKSwhMCkpfWtleXMoe3R5cGU6dH0pe2NvbnN0IGU9RHIoYnIsKGUsbik9PihuKGUudHIucmVwbGFjZVNlbGVjdGlvbldpdGgodC5jcmVhdGUoKSkuc2Nyb2xsSW50b1ZpZXcoKSksITApKTtyZXR1cm57Ik1vZC1FbnRlciI6ZSwiU2hpZnQtRW50ZXIiOmV9fX1jbGFzcyBLcyBleHRlbmRzIERve2dldCBuYW1lKCl7cmV0dXJuImhlYWRpbmcifWdldCBkZWZhdWx0T3B0aW9ucygpe3JldHVybntsZXZlbHM6WzEsMiwzLDQsNSw2XX19Z2V0IHNjaGVtYSgpe3JldHVybnthdHRyczp7bGV2ZWw6e2RlZmF1bHQ6MX19LGNvbnRlbnQ6ImlubGluZSoiLGdyb3VwOiJibG9jayIsZGVmaW5pbmc6ITAsZHJhZ2dhYmxlOiExLHBhcnNlRE9NOnRoaXMub3B0aW9ucy5sZXZlbHMubWFwKHQ9Pih7dGFnOiJoIi5jb25jYXQodCksYXR0cnM6e2xldmVsOnR9fSkpLHRvRE9NOnQ9PlsiaCIuY29uY2F0KHQuYXR0cnMubGV2ZWwpLDBdfX1jb21tYW5kcyh7dHlwZTp0LHNjaGVtYTplfSl7cmV0dXJuIG49PmdvKHQsZS5ub2Rlcy5wYXJhZ3JhcGgsbil9a2V5cyh7dHlwZTp0fSl7cmV0dXJuIHRoaXMub3B0aW9ucy5sZXZlbHMucmVkdWNlKChlLG4pPT4oey4uLmUsWyJTaGlmdC1DdHJsLSIuY29uY2F0KG4pXTpOcih0LHtsZXZlbDpufSl9KSx7fSl9aW5wdXRSdWxlcyh7dHlwZTp0fSl7cmV0dXJuIHRoaXMub3B0aW9ucy5sZXZlbHMubWFwKGU9PmNvKG5ldyBSZWdFeHAoIl4oI3sxLCIuY29uY2F0KGUsIn0pXFxzJCIpKSx0LCgpPT4oe2xldmVsOmV9KSkpfX1jbGFzcyBKcyBleHRlbmRzIERve2dldCBuYW1lKCl7cmV0dXJuImxpc3RfaXRlbSJ9Z2V0IHNjaGVtYSgpe3JldHVybntjb250ZW50OiJwYXJhZ3JhcGggYmxvY2sqIixkZWZpbmluZzohMCxkcmFnZ2FibGU6ITEscGFyc2VET006W3t0YWc6ImxpIn1dLHRvRE9NOigpPT5bImxpIiwwXX19a2V5cyh7dHlwZTp0fSl7cmV0dXJue0VudGVyOnRvKHQpLFRhYjpvbyh0KSwiU2hpZnQtVGFiIjplbyh0KX19fWNsYXNzIFVzIGV4dGVuZHMgRG97Z2V0IG5hbWUoKXtyZXR1cm4ib3JkZXJlZF9saXN0In1nZXQgc2NoZW1hKCl7cmV0dXJue2F0dHJzOntvcmRlcjp7ZGVmYXVsdDoxfX0sY29udGVudDoibGlzdF9pdGVtKyIsZ3JvdXA6ImJsb2NrIixwYXJzZURPTTpbe3RhZzoib2wiLGdldEF0dHJzOnQ9Pih7b3JkZXI6dC5oYXNBdHRyaWJ1dGUoInN0YXJ0Iik/K3QuZ2V0QXR0cmlidXRlKCJzdGFydCIpOjF9KX1dLHRvRE9NOnQ9PjE9PT10LmF0dHJzLm9yZGVyP1sib2wiLDBdOlsib2wiLHtzdGFydDp0LmF0dHJzLm9yZGVyfSwwXX19Y29tbWFuZHMoe3R5cGU6dCxzY2hlbWE6ZX0pe3JldHVybigpPT5ibyh0LGUubm9kZXMubGlzdF9pdGVtKX1rZXlzKHt0eXBlOnQsc2NoZW1hOmV9KXtyZXR1cm57IlNoaWZ0LUN0cmwtOSI6Ym8odCxlLm5vZGVzLmxpc3RfaXRlbSl9fWlucHV0UnVsZXMoe3R5cGU6dH0pe3JldHVyblthbygvXihcZCspXC5ccyQvLHQsdD0+KHtvcmRlcjordFsxXX0pLCh0LGUpPT5lLmNoaWxkQ291bnQrZS5hdHRycy5vcmRlcj09PSt0WzFdKV19fXZhciBHcz1PYmplY3QoaHNbInRhYmxlTm9kZXMiXSkoe3RhYmxlR3JvdXA6ImJsb2NrIixjZWxsQ29udGVudDoiYmxvY2srIixjZWxsQXR0cmlidXRlczp7YmFja2dyb3VuZDp7ZGVmYXVsdDpudWxsLGdldEZyb21ET00odCl7cmV0dXJuIHQuc3R5bGUuYmFja2dyb3VuZENvbG9yfHxudWxsfSxzZXRET01BdHRyKHQsZSl7aWYodCl7Y29uc3Qgbj17c3R5bGU6IiIuY29uY2F0KGUuc3R5bGV8fCIiLCJiYWNrZ3JvdW5kLWNvbG9yOiAiKS5jb25jYXQodCwiOyIpfTtPYmplY3QuYXNzaWduKGUsbil9fX19fSk7Y2xhc3MgWHMgZXh0ZW5kcyBEb3tnZXQgbmFtZSgpe3JldHVybiJ0YWJsZSJ9Z2V0IGRlZmF1bHRPcHRpb25zKCl7cmV0dXJue3Jlc2l6YWJsZTohMX19Z2V0IHNjaGVtYSgpe3JldHVybiBHcy50YWJsZX1jb21tYW5kcyh7c2NoZW1hOnR9KXtyZXR1cm57Y3JlYXRlVGFibGU6KHtyb3dzQ291bnQ6ZSxjb2xzQ291bnQ6bix3aXRoSGVhZGVyUm93OnJ9KT0+KG8saSk9Pntjb25zdCBzPW8udHIuc2VsZWN0aW9uLmFuY2hvcisxLGE9T2JqZWN0KHFyWyJjcmVhdGVUYWJsZSJdKSh0LGUsbixyKSxsPW8udHIucmVwbGFjZVNlbGVjdGlvbldpdGgoYSkuc2Nyb2xsSW50b1ZpZXcoKSx1PWwuZG9jLnJlc29sdmUocyk7bC5zZXRTZWxlY3Rpb24oY1siVGV4dFNlbGVjdGlvbiJdLm5lYXIodSkpLGkobCl9LGFkZENvbHVtbkJlZm9yZTooKT0+aHNbImFkZENvbHVtbkJlZm9yZSJdLGFkZENvbHVtbkFmdGVyOigpPT5oc1siYWRkQ29sdW1uQWZ0ZXIiXSxkZWxldGVDb2x1bW46KCk9PmhzWyJkZWxldGVDb2x1bW4iXSxhZGRSb3dCZWZvcmU6KCk9PmhzWyJhZGRSb3dCZWZvcmUiXSxhZGRSb3dBZnRlcjooKT0+aHNbImFkZFJvd0FmdGVyIl0sZGVsZXRlUm93OigpPT5oc1siZGVsZXRlUm93Il0sZGVsZXRlVGFibGU6KCk9PmhzWyJkZWxldGVUYWJsZSJdLHRvZ2dsZUNlbGxNZXJnZTooKT0+KHQsZSk9PntPYmplY3QoaHNbIm1lcmdlQ2VsbHMiXSkodCxlKXx8T2JqZWN0KGhzWyJzcGxpdENlbGwiXSkodCxlKX0sbWVyZ2VDZWxsczooKT0+aHNbIm1lcmdlQ2VsbHMiXSxzcGxpdENlbGw6KCk9PmhzWyJzcGxpdENlbGwiXSx0b2dnbGVIZWFkZXJDb2x1bW46KCk9PmhzWyJ0b2dnbGVIZWFkZXJDb2x1bW4iXSx0b2dnbGVIZWFkZXJSb3c6KCk9PmhzWyJ0b2dnbGVIZWFkZXJSb3ciXSx0b2dnbGVIZWFkZXJDZWxsOigpPT5oc1sidG9nZ2xlSGVhZGVyQ2VsbCJdLHNldENlbGxBdHRyOigpPT5oc1sic2V0Q2VsbEF0dHIiXSxmaXhUYWJsZXM6KCk9PmhzWyJmaXhUYWJsZXMiXX19a2V5cygpe3JldHVybntUYWI6T2JqZWN0KGhzWyJnb1RvTmV4dENlbGwiXSkoMSksIlNoaWZ0LVRhYiI6T2JqZWN0KGhzWyJnb1RvTmV4dENlbGwiXSkoLTEpfX1nZXQgcGx1Z2lucygpe3JldHVyblsuLi50aGlzLm9wdGlvbnMucmVzaXphYmxlP1tPYmplY3QoaHNbImNvbHVtblJlc2l6aW5nIl0pKCldOltdLE9iamVjdChoc1sidGFibGVFZGl0aW5nIl0pKCldfX1jbGFzcyBZcyBleHRlbmRzIERve2dldCBuYW1lKCl7cmV0dXJuInRhYmxlX2hlYWRlciJ9Z2V0IHNjaGVtYSgpe3JldHVybiBHcy50YWJsZV9oZWFkZXJ9fWNsYXNzIFpzIGV4dGVuZHMgRG97Z2V0IG5hbWUoKXtyZXR1cm4idGFibGVfY2VsbCJ9Z2V0IHNjaGVtYSgpe3JldHVybiBHcy50YWJsZV9jZWxsfX1jbGFzcyBRcyBleHRlbmRzIERve2dldCBuYW1lKCl7cmV0dXJuInRhYmxlX3JvdyJ9Z2V0IHNjaGVtYSgpe3JldHVybiBHcy50YWJsZV9yb3d9fWNsYXNzIHRhIGV4dGVuZHMgRG97Z2V0IG5hbWUoKXtyZXR1cm4idG9kb19pdGVtIn1nZXQgZGVmYXVsdE9wdGlvbnMoKXtyZXR1cm57bmVzdGVkOiExfX1nZXQgdmlldygpe3JldHVybntwcm9wczpbIm5vZGUiLCJ1cGRhdGVBdHRycyIsInZpZXciXSxtZXRob2RzOntvbkNoYW5nZSgpe3RoaXMudXBkYXRlQXR0cnMoe2RvbmU6IXRoaXMubm9kZS5hdHRycy5kb25lfSl9fSx0ZW1wbGF0ZTonXG4gICAgICAgIDxsaSA6ZGF0YS10eXBlPSJub2RlLnR5cGUubmFtZSIgOmRhdGEtZG9uZT0ibm9kZS5hdHRycy5kb25lLnRvU3RyaW5nKCkiIGRhdGEtZHJhZy1oYW5kbGU+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9InRvZG8tY2hlY2tib3giIGNvbnRlbnRlZGl0YWJsZT0iZmFsc2UiIEBjbGljaz0ib25DaGFuZ2UiPjwvc3Bhbj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPSJ0b2RvLWNvbnRlbnQiIHJlZj0iY29udGVudCIgOmNvbnRlbnRlZGl0YWJsZT0idmlldy5lZGl0YWJsZS50b1N0cmluZygpIj48L2Rpdj5cbiAgICAgICAgPC9saT5cbiAgICAgICd9fWdldCBzY2hlbWEoKXtyZXR1cm57YXR0cnM6e2RvbmU6e2RlZmF1bHQ6ITF9fSxkcmFnZ2FibGU6ITAsY29udGVudDp0aGlzLm9wdGlvbnMubmVzdGVkPyIocGFyYWdyYXBofHRvZG9fbGlzdCkrIjoicGFyYWdyYXBoKyIsdG9ET006dD0+e2NvbnN0e2RvbmU6ZX09dC5hdHRycztyZXR1cm5bImxpIix7ImRhdGEtdHlwZSI6dGhpcy5uYW1lLCJkYXRhLWRvbmUiOmUudG9TdHJpbmcoKX0sWyJzcGFuIix7Y2xhc3M6InRvZG8tY2hlY2tib3giLGNvbnRlbnRlZGl0YWJsZToiZmFsc2UifV0sWyJkaXYiLHtjbGFzczoidG9kby1jb250ZW50In0sMF1dfSxwYXJzZURPTTpbe3ByaW9yaXR5OjUxLHRhZzonW2RhdGEtdHlwZT0iJy5jb25jYXQodGhpcy5uYW1lLCciXScpLGdldEF0dHJzOnQ9Pih7ZG9uZToidHJ1ZSI9PT10LmdldEF0dHJpYnV0ZSgiZGF0YS1kb25lIil9KX1dfX1rZXlzKHt0eXBlOnR9KXtyZXR1cm57RW50ZXI6dm8odCksVGFiOnRoaXMub3B0aW9ucy5uZXN0ZWQ/b28odCk6KCk9Pnt9LCJTaGlmdC1UYWIiOmVvKHQpfX19Y2xhc3MgZWEgZXh0ZW5kcyBEb3tnZXQgbmFtZSgpe3JldHVybiJ0b2RvX2xpc3QifWdldCBzY2hlbWEoKXtyZXR1cm57Z3JvdXA6ImJsb2NrIixjb250ZW50OiJ0b2RvX2l0ZW0rIix0b0RPTTooKT0+WyJ1bCIseyJkYXRhLXR5cGUiOnRoaXMubmFtZX0sMF0scGFyc2VET006W3twcmlvcml0eTo1MSx0YWc6J1tkYXRhLXR5cGU9IicuY29uY2F0KHRoaXMubmFtZSwnIl0nKX1dfX1jb21tYW5kcyh7dHlwZTp0LHNjaGVtYTplfSl7cmV0dXJuKCk9PmJvKHQsZS5ub2Rlcy50b2RvX2l0ZW0pfWlucHV0UnVsZXMoe3R5cGU6dH0pe3JldHVyblthbygvXlxzKihcWyBcXSlccyQvLHQpXX19Y2xhc3MgbmEgZXh0ZW5kcyBUb3tnZXQgbmFtZSgpe3JldHVybiJib2xkIn1nZXQgc2NoZW1hKCl7cmV0dXJue3BhcnNlRE9NOlt7dGFnOiJzdHJvbmcifSx7dGFnOiJiIixnZXRBdHRyczp0PT4ibm9ybWFsIiE9PXQuc3R5bGUuZm9udFdlaWdodCYmbnVsbH0se3N0eWxlOiJmb250LXdlaWdodCIsZ2V0QXR0cnM6dD0+L14oYm9sZChlcik/fFs1LTldXGR7Mix9KSQvLnRlc3QodCkmJm51bGx9XSx0b0RPTTooKT0+WyJzdHJvbmciLDBdfX1rZXlzKHt0eXBlOnR9KXtyZXR1cm57Ik1vZC1iIjpBcih0KX19Y29tbWFuZHMoe3R5cGU6dH0pe3JldHVybigpPT5Bcih0KX1pbnB1dFJ1bGVzKHt0eXBlOnR9KXtyZXR1cm5bdW8oLyg/OlwqXCp8X18pKFteKl9dKykoPzpcKlwqfF9fKSQvLHQpXX1wYXN0ZVJ1bGVzKHt0eXBlOnR9KXtyZXR1cm5bZm8oLyg/OlwqXCp8X18pKFteKl9dKykoPzpcKlwqfF9fKS9nLHQpXX19Y2xhc3MgcmEgZXh0ZW5kcyBUb3tnZXQgbmFtZSgpe3JldHVybiJjb2RlIn1nZXQgc2NoZW1hKCl7cmV0dXJue2V4Y2x1ZGVzOiJfIixwYXJzZURPTTpbe3RhZzoiY29kZSJ9XSx0b0RPTTooKT0+WyJjb2RlIiwwXX19a2V5cyh7dHlwZTp0fSl7cmV0dXJueyJNb2QtYCI6QXIodCl9fWNvbW1hbmRzKHt0eXBlOnR9KXtyZXR1cm4oKT0+QXIodCl9aW5wdXRSdWxlcyh7dHlwZTp0fSl7cmV0dXJuW3VvKC8oPzpgKShbXmBdKykoPzpgKSQvLHQpXX1wYXN0ZVJ1bGVzKHt0eXBlOnR9KXtyZXR1cm5bZm8oLyg/OmApKFteYF0rKSg/OmApL2csdCldfX1jbGFzcyBvYSBleHRlbmRzIFRve2dldCBuYW1lKCl7cmV0dXJuIml0YWxpYyJ9Z2V0IHNjaGVtYSgpe3JldHVybntwYXJzZURPTTpbe3RhZzoiaSJ9LHt0YWc6ImVtIn0se3N0eWxlOiJmb250LXN0eWxlPWl0YWxpYyJ9XSx0b0RPTTooKT0+WyJlbSIsMF19fWtleXMoe3R5cGU6dH0pe3JldHVybnsiTW9kLWkiOkFyKHQpfX1jb21tYW5kcyh7dHlwZTp0fSl7cmV0dXJuKCk9PkFyKHQpfWlucHV0UnVsZXMoe3R5cGU6dH0pe3JldHVyblt1bygvKD86XnxbXl9dKShfKFteX10rKV8pJC8sdCksdW8oLyg/Ol58W14qXSkoXCooW14qXSspXCopJC8sdCldfXBhc3RlUnVsZXMoe3R5cGU6dH0pe3JldHVybltmbygvXyhbXl9dKylfL2csdCksZm8oL1wqKFteKl0rKVwqL2csdCldfX1jbGFzcyBpYSBleHRlbmRzIFRve2dldCBuYW1lKCl7cmV0dXJuImxpbmsifWdldCBkZWZhdWx0T3B0aW9ucygpe3JldHVybntvcGVuT25DbGljazohMCx0YXJnZXQ6bnVsbH19Z2V0IHNjaGVtYSgpe3JldHVybnthdHRyczp7aHJlZjp7ZGVmYXVsdDpudWxsfSx0YXJnZXQ6e2RlZmF1bHQ6bnVsbH19LGluY2x1c2l2ZTohMSxwYXJzZURPTTpbe3RhZzoiYVtocmVmXSIsZ2V0QXR0cnM6dD0+KHtocmVmOnQuZ2V0QXR0cmlidXRlKCJocmVmIiksdGFyZ2V0OnQuZ2V0QXR0cmlidXRlKCJ0YXJnZXQiKX0pfV0sdG9ET006dD0+WyJhIix7Li4udC5hdHRycyxyZWw6Im5vb3BlbmVyIG5vcmVmZXJyZXIgbm9mb2xsb3ciLHRhcmdldDp0aGlzLm9wdGlvbnMudGFyZ2V0fSwwXX19Y29tbWFuZHMoe3R5cGU6dH0pe3JldHVybiBlPT5lLmhyZWY/U28odCxlKTpobyh0KX1wYXN0ZVJ1bGVzKHt0eXBlOnR9KXtyZXR1cm5bcG8oL2h0dHBzPzpcL1wvKHd3d1wuKT9bLWEtekEtWjAtOUA6JS5fK34jPV17MSwyNTZ9XC5bYS16QS1aXXsyLH1cYihbLWEtekEtWjAtOUA6JV8rLn4jPyYvLz0sXSopL2dpLHQsdD0+KHtocmVmOnR9KSldfWdldCBwbHVnaW5zKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5vcGVuT25DbGljaz9bbmV3IGNbIlBsdWdpbiJdKHtwcm9wczp7aGFuZGxlQ2xpY2s6KHQsZSxuKT0+e2NvbnN0e3NjaGVtYTpyfT10LnN0YXRlLG89V3IodC5zdGF0ZSxyLm1hcmtzLmxpbmspO28uaHJlZiYmbi50YXJnZXQgaW5zdGFuY2VvZiBIVE1MQW5jaG9yRWxlbWVudCYmKG4uc3RvcFByb3BhZ2F0aW9uKCksd2luZG93Lm9wZW4oby5ocmVmLG8udGFyZ2V0KSl9fX0pXTpbXX19Y2xhc3Mgc2EgZXh0ZW5kcyBUb3tnZXQgbmFtZSgpe3JldHVybiJzdHJpa2UifWdldCBzY2hlbWEoKXtyZXR1cm57cGFyc2VET006W3t0YWc6InMifSx7dGFnOiJkZWwifSx7dGFnOiJzdHJpa2UifSx7c3R5bGU6InRleHQtZGVjb3JhdGlvbiIsZ2V0QXR0cnM6dD0+ImxpbmUtdGhyb3VnaCI9PT10fV0sdG9ET006KCk9PlsicyIsMF19fWtleXMoe3R5cGU6dH0pe3JldHVybnsiTW9kLWQiOkFyKHQpfX1jb21tYW5kcyh7dHlwZTp0fSl7cmV0dXJuKCk9PkFyKHQpfWlucHV0UnVsZXMoe3R5cGU6dH0pe3JldHVyblt1bygvfihbXn5dKyl+JC8sdCldfXBhc3RlUnVsZXMoe3R5cGU6dH0pe3JldHVybltmbygvfihbXn5dKyl+L2csdCldfX1jbGFzcyBhYSBleHRlbmRzIFRve2dldCBuYW1lKCl7cmV0dXJuInVuZGVybGluZSJ9Z2V0IHNjaGVtYSgpe3JldHVybntwYXJzZURPTTpbe3RhZzoidSJ9LHtzdHlsZToidGV4dC1kZWNvcmF0aW9uIixnZXRBdHRyczp0PT4idW5kZXJsaW5lIj09PXR9XSx0b0RPTTooKT0+WyJ1IiwwXX19a2V5cyh7dHlwZTp0fSl7cmV0dXJueyJNb2QtdSI6QXIodCl9fWNvbW1hbmRzKHt0eXBlOnR9KXtyZXR1cm4oKT0+QXIodCl9fWNsYXNzIGNhIGV4dGVuZHMgT297Z2V0IG5hbWUoKXtyZXR1cm4iaGlzdG9yeSJ9Z2V0IGRlZmF1bHRPcHRpb25zKCl7cmV0dXJue2RlcHRoOiIiLG5ld0dyb3VwRGVsYXk6IiJ9fWtleXMoKXtjb25zdCB0PXsiTW9kLXoiOlZzLCJNb2QteSI6QnMsIlNoaWZ0LU1vZC16IjpCcywiTW9kLdGPIjpWcywiU2hpZnQtTW9kLdGPIjpCc307cmV0dXJuIHR9Z2V0IHBsdWdpbnMoKXtyZXR1cm5bJHMoe2RlcHRoOnRoaXMub3B0aW9ucy5kZXB0aCxuZXdHcm91cERlbGF5OnRoaXMub3B0aW9ucy5uZXdHcm91cERlbGF5fSldfWNvbW1hbmRzKCl7cmV0dXJue3VuZG86KCk9PlZzLHJlZG86KCk9PkJzLHVuZG9EZXB0aDooKT0+RnMscmVkb0RlcHRoOigpPT5qc319fWZ1bmN0aW9uIGxhKCl7cmV0dXJuW25ldyBMcyxuZXcgSHMsbmV3IHFzLG5ldyBXcyxuZXcgS3MsbmV3IEpzLG5ldyBVcyxuZXcgdGEsbmV3IGVhLG5ldyBpYSxuZXcgWHMoe3Jlc2l6YWJsZTohMH0pLG5ldyBZcyxuZXcgWnMsbmV3IFFzLG5ldyBuYSxuZXcgcmEsbmV3IG9hLG5ldyBzYSxuZXcgYWEsbmV3IGNhXX12YXIgdWE9e2luamVjdDpbImNvcmUiXSxjb21wb25lbnRzOntFZGl0b3JDb250ZW50OklvLEVkaXRvck1lbnVCYXI6Qm8sSWNvbjpmc30scHJvcHM6e2ZpZWxkTmFtZTpTdHJpbmcsdmFsdWU6U3RyaW5nfSxtb3VudGVkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy4kcHJvcHMsZT10LnZhbHVlLG49dC5maWVsZE5hbWU7dGhpcy5jb3JlLnNldEZvcm1WYWx1ZShuLGUpfSxkYXRhOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuJHByb3BzLmZpZWxkTmFtZTtyZXR1cm57ZWRpdG9yOm5ldyB6byh7Y29udGVudDp0aGlzLiRwcm9wcy52YWx1ZSxleHRlbnNpb25zOmxhKCksb25VcGRhdGU6ZnVuY3Rpb24obil7dmFyIHI9bi5nZXRIVE1MLG89cigpO2UmJjAhPWUubGVuZ3RoJiZ0LmNvcmUuc2V0Rm9ybVZhbHVlKGUsbyl9fSl9fSxiZWZvcmVEZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lZGl0b3IuZGVzdHJveSgpfX0sZGE9dWEscGE9ZHMoZGEscyxhLCExLG51bGwsbnVsbCxudWxsKSxmYT1wYS5leHBvcnRzOyh3aW5kb3cuX19nb3BsYWlkVnVlQ29tcG9uZW50UmVnaXN0ZXJzPXdpbmRvdy5fX2dvcGxhaWRWdWVDb21wb25lbnRSZWdpc3RlcnN8fFtdKS5wdXNoKChmdW5jdGlvbih0KXt0LmNvbXBvbmVudCgidGlwdGFwLWVkaXRvciIsZmEpfSkpfSxmYjZhOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiMjNlNyIpLG89bigiODYxZCIpLGk9bigiZThiNSIpLHM9bigiMjNjYiIpLGE9bigiNTBjNCIpLGM9bigiZmM2YSIpLGw9bigiODQxOCIpLHU9bigiYjYyMiIpLGQ9bigiMWRkZSIpLHA9bigiYWU0MCIpLGY9ZCgic2xpY2UiKSxoPXAoInNsaWNlIix7QUNDRVNTT1JTOiEwLDA6MCwxOjJ9KSxtPXUoInNwZWNpZXMiKSx2PVtdLnNsaWNlLGc9TWF0aC5tYXg7cih7dGFyZ2V0OiJBcnJheSIscHJvdG86ITAsZm9yY2VkOiFmfHwhaH0se3NsaWNlOmZ1bmN0aW9uKHQsZSl7dmFyIG4scix1LGQ9Yyh0aGlzKSxwPWEoZC5sZW5ndGgpLGY9cyh0LHApLGg9cyh2b2lkIDA9PT1lP3A6ZSxwKTtpZihpKGQpJiYobj1kLmNvbnN0cnVjdG9yLCJmdW5jdGlvbiIhPXR5cGVvZiBufHxuIT09QXJyYXkmJiFpKG4ucHJvdG90eXBlKT9vKG4pJiYobj1uW21dLG51bGw9PT1uJiYobj12b2lkIDApKTpuPXZvaWQgMCxuPT09QXJyYXl8fHZvaWQgMD09PW4pKXJldHVybiB2LmNhbGwoZCxmLGgpO2ZvcihyPW5ldyh2b2lkIDA9PT1uP0FycmF5Om4pKGcoaC1mLDApKSx1PTA7ZjxoO2YrKyx1KyspZiBpbiBkJiZsKHIsdSxkW2ZdKTtyZXR1cm4gci5sZW5ndGg9dSxyfX0pfSxmYzZhOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI0NGFkIiksbz1uKCIxZDgwIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByKG8odCkpfX0sZmRiYzpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17Q1NTUnVsZUxpc3Q6MCxDU1NTdHlsZURlY2xhcmF0aW9uOjAsQ1NTVmFsdWVMaXN0OjAsQ2xpZW50UmVjdExpc3Q6MCxET01SZWN0TGlzdDowLERPTVN0cmluZ0xpc3Q6MCxET01Ub2tlbkxpc3Q6MSxEYXRhVHJhbnNmZXJJdGVtTGlzdDowLEZpbGVMaXN0OjAsSFRNTEFsbENvbGxlY3Rpb246MCxIVE1MQ29sbGVjdGlvbjowLEhUTUxGb3JtRWxlbWVudDowLEhUTUxTZWxlY3RFbGVtZW50OjAsTWVkaWFMaXN0OjAsTWltZVR5cGVBcnJheTowLE5hbWVkTm9kZU1hcDowLE5vZGVMaXN0OjEsUGFpbnRSZXF1ZXN0TGlzdDowLFBsdWdpbjowLFBsdWdpbkFycmF5OjAsU1ZHTGVuZ3RoTGlzdDowLFNWR051bWJlckxpc3Q6MCxTVkdQYXRoU2VnTGlzdDowLFNWR1BvaW50TGlzdDowLFNWR1N0cmluZ0xpc3Q6MCxTVkdUcmFuc2Zvcm1MaXN0OjAsU291cmNlQnVmZmVyTGlzdDowLFN0eWxlU2hlZXRMaXN0OjAsVGV4dFRyYWNrQ3VlTGlzdDowLFRleHRUcmFja0xpc3Q6MCxUb3VjaExpc3Q6MH19LGZkYmY6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjQ5MzAiKTt0LmV4cG9ydHM9ciYmIVN5bWJvbC5zaGFtJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcn19KVsiZGVmYXVsdCJdfSkpOw==\"")
}
