// Code generated by github.com/gobuffalo/packr. DO NOT EDIT.

package tiptap

import "github.com/gobuffalo/packr"

// You can use the "packr clean" command to clean up this,
// and any other packr generated files.
func init() {
	packr.PackJSONBytes("./tiptapjs/dist/", "tiptap.css", "\"KnttYXJnaW46MDtwYWRkaW5nOjA7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94Oy13ZWJraXQtdGV4dC1zaXplLWFkanVzdDoxMDAlOy1tb3otdGV4dC1zaXplLWFkanVzdDoxMDAlOy1tcy10ZXh0LXNpemUtYWRqdXN0OjEwMCU7dGV4dC1zaXplLWFkanVzdDoxMDAlOy13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjpyZ2JhKDAsMCwwLDApOy13ZWJraXQtdG91Y2gtY2FsbG91dDpub25lOy13ZWJraXQtZm9udC1zbW9vdGhpbmc6YW50aWFsaWFzZWQ7LW1vei1vc3gtZm9udC1zbW9vdGhpbmc6Z3JheXNjYWxlO3RleHQtcmVuZGVyaW5nOm9wdGltaXplTGVnaWJpbGl0eX06Zm9jdXN7b3V0bGluZTpub25lfTphZnRlciw6YmVmb3Jley13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveH1odG1se2ZvbnQtZmFtaWx5Oi1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LFNhbiBGcmFuY2lzY28sUm9ib3RvLFNlZ29lIFVJLEhlbHZldGljYSBOZXVlLHNhbnMtc2VyaWY7Zm9udC1zaXplOjE4cHg7Y29sb3I6IzAwMDtsaW5lLWhlaWdodDoxLjV9Ym9keXttYXJnaW46MH1he2NvbG9yOmluaGVyaXR9YmxvY2txdW90ZSxoMSxoMixoMyxvbCxwLHByZSx1bHttYXJnaW46MXJlbSAwfWJsb2NrcXVvdGU6Zmlyc3QtY2hpbGQsaDE6Zmlyc3QtY2hpbGQsaDI6Zmlyc3QtY2hpbGQsaDM6Zmlyc3QtY2hpbGQsb2w6Zmlyc3QtY2hpbGQscDpmaXJzdC1jaGlsZCxwcmU6Zmlyc3QtY2hpbGQsdWw6Zmlyc3QtY2hpbGR7bWFyZ2luLXRvcDowfWJsb2NrcXVvdGU6bGFzdC1jaGlsZCxoMTpsYXN0LWNoaWxkLGgyOmxhc3QtY2hpbGQsaDM6bGFzdC1jaGlsZCxvbDpsYXN0LWNoaWxkLHA6bGFzdC1jaGlsZCxwcmU6bGFzdC1jaGlsZCx1bDpsYXN0LWNoaWxke21hcmdpbi1ib3R0b206MH1oMSxoMixoM3tsaW5lLWhlaWdodDoxLjN9LmJ1dHRvbntmb250LXdlaWdodDo3MDA7ZGlzcGxheTotd2Via2l0LWlubGluZS1ib3g7ZGlzcGxheTotbXMtaW5saW5lLWZsZXhib3g7ZGlzcGxheTppbmxpbmUtZmxleDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JvcmRlcjowO2NvbG9yOiMwMDA7cGFkZGluZzouMnJlbSAuNXJlbTttYXJnaW4tcmlnaHQ6LjJyZW07Ym9yZGVyLXJhZGl1czozcHg7Y3Vyc29yOnBvaW50ZXI7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4xKX0uYnV0dG9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuMTUpfS5tZXNzYWdle2JhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuMDUpO2NvbG9yOnJnYmEoMCwwLDAsLjcpO3BhZGRpbmc6MXJlbTtib3JkZXItcmFkaXVzOjZweDttYXJnaW4tYm90dG9tOjEuNXJlbTtmb250LXN0eWxlOml0YWxpY30udGlwdGFwLWVkaXRvcntwb3NpdGlvbjpyZWxhdGl2ZX0udGlwdGFwLWVkaXRvcl9fY29udGVudHtvdmVyZmxvdy13cmFwOmJyZWFrLXdvcmQ7d29yZC13cmFwOmJyZWFrLXdvcmQ7d29yZC1icmVhazpicmVhay13b3JkfS50aXB0YXAtZWRpdG9yX19jb250ZW50ICp7Y2FyZXQtY29sb3I6Y3VycmVudENvbG9yfS50aXB0YXAtZWRpdG9yX19jb250ZW50IHByZXtwYWRkaW5nOi43cmVtIDFyZW07Ym9yZGVyLXJhZGl1czo1cHg7YmFja2dyb3VuZDojMDAwO2NvbG9yOiNmZmY7Zm9udC1zaXplOi44cmVtO292ZXJmbG93LXg6YXV0b30udGlwdGFwLWVkaXRvcl9fY29udGVudCBwcmUgY29kZXtkaXNwbGF5OmJsb2NrfS50aXB0YXAtZWRpdG9yX19jb250ZW50IHAgY29kZXtkaXNwbGF5OmlubGluZS1ibG9jaztwYWRkaW5nOjAgLjRyZW07Ym9yZGVyLXJhZGl1czo1cHg7Zm9udC1zaXplOi44cmVtO2ZvbnQtd2VpZ2h0OjcwMDtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjEpO2NvbG9yOnJnYmEoMCwwLDAsLjgpfS50aXB0YXAtZWRpdG9yX19jb250ZW50IG9sLC50aXB0YXAtZWRpdG9yX19jb250ZW50IHVse3BhZGRpbmctbGVmdDoxcmVtfS50aXB0YXAtZWRpdG9yX19jb250ZW50IGxpPm9sLC50aXB0YXAtZWRpdG9yX19jb250ZW50IGxpPnAsLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgbGk+dWx7bWFyZ2luOjB9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgYXtjb2xvcjppbmhlcml0fS50aXB0YXAtZWRpdG9yX19jb250ZW50IGJsb2NrcXVvdGV7Ym9yZGVyLWxlZnQ6M3B4IHNvbGlkIHJnYmEoMCwwLDAsLjEpO2NvbG9yOnJnYmEoMCwwLDAsLjgpO3BhZGRpbmctbGVmdDouOHJlbTtmb250LXN0eWxlOml0YWxpY30udGlwdGFwLWVkaXRvcl9fY29udGVudCBibG9ja3F1b3RlIHB7bWFyZ2luOjB9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgaW1ne21heC13aWR0aDoxMDAlO2JvcmRlci1yYWRpdXM6M3B4fS50aXB0YXAtZWRpdG9yX19jb250ZW50IHRhYmxle2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTt0YWJsZS1sYXlvdXQ6Zml4ZWQ7d2lkdGg6MTAwJTttYXJnaW46MDtvdmVyZmxvdzpoaWRkZW59LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgdGFibGUgdGQsLnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgdGFibGUgdGh7bWluLXdpZHRoOjFlbTtib3JkZXI6MnB4IHNvbGlkICNkZGQ7cGFkZGluZzozcHggNXB4O3ZlcnRpY2FsLWFsaWduOnRvcDstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246cmVsYXRpdmV9LnRpcHRhcC1lZGl0b3JfX2NvbnRlbnQgdGFibGUgdGQ+KiwudGlwdGFwLWVkaXRvcl9fY29udGVudCB0YWJsZSB0aD4qe21hcmdpbi1ib3R0b206MH0udGlwdGFwLWVkaXRvcl9fY29udGVudCB0YWJsZSB0aHtmb250LXdlaWdodDo3MDA7dGV4dC1hbGlnbjpsZWZ0fS50aXB0YXAtZWRpdG9yX19jb250ZW50IHRhYmxlIC5zZWxlY3RlZENlbGw6YWZ0ZXJ7ei1pbmRleDoyO3Bvc2l0aW9uOmFic29sdXRlO2NvbnRlbnQ6IiI7bGVmdDowO3JpZ2h0OjA7dG9wOjA7Ym90dG9tOjA7YmFja2dyb3VuZDpyZ2JhKDIwMCwyMDAsMjU1LC40KTtwb2ludGVyLWV2ZW50czpub25lfS50aXB0YXAtZWRpdG9yX19jb250ZW50IHRhYmxlIC5jb2x1bW4tcmVzaXplLWhhbmRsZXtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDotMnB4O3RvcDowO2JvdHRvbTowO3dpZHRoOjRweDt6LWluZGV4OjIwO2JhY2tncm91bmQtY29sb3I6I2FkZjtwb2ludGVyLWV2ZW50czpub25lfS50aXB0YXAtZWRpdG9yX19jb250ZW50IC50YWJsZVdyYXBwZXJ7bWFyZ2luOjFlbSAwO292ZXJmbG93LXg6YXV0b30udGlwdGFwLWVkaXRvcl9fY29udGVudCAucmVzaXplLWN1cnNvcntjdXJzb3I6ZXctcmVzaXplO2N1cnNvcjpjb2wtcmVzaXplfS5tZW51YmFye21hcmdpbi1ib3R0b206MXJlbTstd2Via2l0LXRyYW5zaXRpb246dmlzaWJpbGl0eSAuMnMgLjRzLG9wYWNpdHkgLjJzIC40czt0cmFuc2l0aW9uOnZpc2liaWxpdHkgLjJzIC40cyxvcGFjaXR5IC4ycyAuNHN9Lm1lbnViYXIuaXMtaGlkZGVue3Zpc2liaWxpdHk6aGlkZGVuO29wYWNpdHk6MH0ubWVudWJhci5pcy1mb2N1c2Vke3Zpc2liaWxpdHk6dmlzaWJsZTtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2l0aW9uOnZpc2liaWxpdHkgLjJzLG9wYWNpdHkgLjJzO3RyYW5zaXRpb246dmlzaWJpbGl0eSAuMnMsb3BhY2l0eSAuMnN9Lm1lbnViYXJfX2J1dHRvbntmb250LXdlaWdodDo3MDA7ZGlzcGxheTotd2Via2l0LWlubGluZS1ib3g7ZGlzcGxheTotbXMtaW5saW5lLWZsZXhib3g7ZGlzcGxheTppbmxpbmUtZmxleDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JvcmRlcjowO2NvbG9yOiMwMDA7cGFkZGluZzouMnJlbSAuNXJlbTttYXJnaW4tcmlnaHQ6LjJyZW07Ym9yZGVyLXJhZGl1czozcHg7Y3Vyc29yOnBvaW50ZXJ9Lm1lbnViYXJfX2J1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjA1KX0ubWVudWJhcl9fYnV0dG9uLmlzLWFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjEpfS5tZW51YmFyIHNwYW4ubWVudWJhcl9fYnV0dG9ue2ZvbnQtc2l6ZToxMy4zMzMzcHh9Lm1lbnVidWJibGV7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDt6LWluZGV4OjIwO2JhY2tncm91bmQ6IzAwMDtib3JkZXItcmFkaXVzOjVweDtwYWRkaW5nOi4zcmVtO21hcmdpbi1ib3R0b206LjVyZW07LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKTt2aXNpYmlsaXR5OmhpZGRlbjtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgLjJzLHZpc2liaWxpdHkgLjJzO3RyYW5zaXRpb246b3BhY2l0eSAuMnMsdmlzaWJpbGl0eSAuMnN9Lm1lbnVidWJibGUuaXMtYWN0aXZle29wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGV9Lm1lbnVidWJibGVfX2J1dHRvbntkaXNwbGF5Oi13ZWJraXQtaW5saW5lLWJveDtkaXNwbGF5Oi1tcy1pbmxpbmUtZmxleGJveDtkaXNwbGF5OmlubGluZS1mbGV4O2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Ym9yZGVyOjA7Y29sb3I6I2ZmZjtwYWRkaW5nOi4ycmVtIC41cmVtO21hcmdpbi1yaWdodDouMnJlbTtib3JkZXItcmFkaXVzOjNweDtjdXJzb3I6cG9pbnRlcn0ubWVudWJ1YmJsZV9fYnV0dG9uOmxhc3QtY2hpbGR7bWFyZ2luLXJpZ2h0OjB9Lm1lbnVidWJibGVfX2J1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOmhzbGEoMCwwJSwxMDAlLC4xKX0ubWVudWJ1YmJsZV9fYnV0dG9uLmlzLWFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOmhzbGEoMCwwJSwxMDAlLC4yKX0ubWVudWJ1YmJsZV9fZm9ybXtkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyfS5tZW51YnViYmxlX19pbnB1dHtmb250OmluaGVyaXQ7Ym9yZGVyOm5vbmU7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtjb2xvcjojZmZmfS5pY29uW2RhdGEtdi1lNTlmNzgzMl17cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246bWlkZGxlO3dpZHRoOi44cmVtO2hlaWdodDouOHJlbTttYXJnaW46MCAuM3JlbTt0b3A6LjA1cmVtO2ZpbGw6Y3VycmVudENvbG9yfS5pY29uIHN2Z1tkYXRhLXYtZTU5Zjc4MzJde2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOnRvcDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfS5pY29uW2RhdGEtdi1lNTlmNzgzMl06Zmlyc3QtY2hpbGR7bWFyZ2luLWxlZnQ6MH0uaWNvbltkYXRhLXYtZTU5Zjc4MzJdOmxhc3QtY2hpbGR7bWFyZ2luLXJpZ2h0OjB9\"")
	packr.PackJSONBytes("./tiptapjs/dist/", "tiptap.umd.min.js", "\"KGZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PT10eXBlb2YgZXhwb3J0cyYmIm9iamVjdCI9PT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUocmVxdWlyZSgiVnVlIikpOiJmdW5jdGlvbiI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbIlZ1ZSJdLGUpOiJvYmplY3QiPT09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0c1sidGlwdGFwIl09ZShyZXF1aXJlKCJWdWUiKSk6dFsidGlwdGFwIl09ZSh0WyJWdWUiXSl9KSgidW5kZWZpbmVkIiE9PXR5cGVvZiBzZWxmP3NlbGY6dGhpcywoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4ocil7aWYoZVtyXSlyZXR1cm4gZVtyXS5leHBvcnRzO3ZhciBvPWVbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W3JdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLG4pLG8ubD0hMCxvLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUscil7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5yPWZ1bmN0aW9uKHQpeyJ1bmRlZmluZWQiIT09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOiJNb2R1bGUifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24odCxlKXtpZigxJmUmJih0PW4odCkpLDgmZSlyZXR1cm4gdDtpZig0JmUmJiJvYmplY3QiPT09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkociwiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImZSYmInN0cmluZyIhPXR5cGVvZiB0KWZvcih2YXIgbyBpbiB0KW4uZChyLG8sZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19LmJpbmQobnVsbCxvKSk7cmV0dXJuIHJ9LG4ubj1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdFsiZGVmYXVsdCJdfTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gbi5kKGUsImEiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPSIiLG4obi5zPSJmYWUzIil9KHsiMDFmOSI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCIyZDAwIiksbz1uKCI1Y2ExIiksaT1uKCIyYWJhIiksYT1uKCIzMmU5Iikscz1uKCI4NGYyIiksYz1uKCI0MWEwIiksbD1uKCI3ZjIwIiksdT1uKCIzOGZkIiksZj1uKCIyYjRjIikoIml0ZXJhdG9yIikscD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSxoPSJAQGl0ZXJhdG9yIixkPSJrZXlzIix2PSJ2YWx1ZXMiLG09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLGcseSx3LGIpe2MobixlLGcpO3ZhciBrLFMseCxDPWZ1bmN0aW9uKHQpe2lmKCFwJiZ0IGluIFQpcmV0dXJuIFRbdF07c3dpdGNoKHQpe2Nhc2UgZDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyx0KX07Y2FzZSB2OnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLHQpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyx0KX19LE09ZSsiIEl0ZXJhdG9yIixPPXk9PXYsQT0hMSxUPXQucHJvdG90eXBlLE49VFtmXXx8VFtoXXx8eSYmVFt5XSxFPU58fEMoeSksXz15P08/QygiZW50cmllcyIpOkU6dm9pZCAwLFI9IkFycmF5Ij09ZSYmVC5lbnRyaWVzfHxOO2lmKFImJih4PXUoUi5jYWxsKG5ldyB0KSkseCE9PU9iamVjdC5wcm90b3R5cGUmJngubmV4dCYmKGwoeCxNLCEwKSxyfHwiZnVuY3Rpb24iPT10eXBlb2YgeFtmXXx8YSh4LGYsbSkpKSxPJiZOJiZOLm5hbWUhPT12JiYoQT0hMCxFPWZ1bmN0aW9uKCl7cmV0dXJuIE4uY2FsbCh0aGlzKX0pLHImJiFifHwhcCYmIUEmJlRbZl18fGEoVCxmLEUpLHNbZV09RSxzW01dPW0seSlpZihrPXt2YWx1ZXM6Tz9FOkModiksa2V5czp3P0U6QyhkKSxlbnRyaWVzOl99LGIpZm9yKFMgaW4gaylTIGluIFR8fGkoVCxTLGtbU10pO2Vsc2UgbyhvLlArby5GKihwfHxBKSxlLGspO3JldHVybiBrfX0sIjA3M2UiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiNWRiZSIpLG89aShFcnJvcik7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gZS5kaXNwbGF5TmFtZT10LmRpc3BsYXlOYW1lfHx0Lm5hbWUsZTtmdW5jdGlvbiBlKGUpe3JldHVybiBlJiYoZT1yLmFwcGx5KG51bGwsYXJndW1lbnRzKSksbmV3IHQoZSl9fXQuZXhwb3J0cz1vLG8uZXZhbD1pKEV2YWxFcnJvciksby5yYW5nZT1pKFJhbmdlRXJyb3IpLG8ucmVmZXJlbmNlPWkoUmVmZXJlbmNlRXJyb3IpLG8uc3ludGF4PWkoU3ludGF4RXJyb3IpLG8udHlwZT1pKFR5cGVFcnJvciksby51cmk9aShVUklFcnJvciksby5jcmVhdGU9aX0sIjA3ZTMiOmZ1bmN0aW9uKHQsZSl7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uY2FsbCh0LGUpfX0sIjBkNTgiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJjZTEwIiksbz1uKCJlMTFlIik7dC5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gcih0LG8pfX0sIjBmYzkiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCIzYTM4Iiksbz1NYXRoLm1heCxpPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiB0PXIodCksdDwwP28odCtlLDApOmkodCxlKX19LDE0OTU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjg2Y2MiKSxvPW4oImNiN2MiKSxpPW4oIjBkNTgiKTt0LmV4cG9ydHM9bigiOWUxZSIpP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKHQsZSl7byh0KTt2YXIgbixhPWkoZSkscz1hLmxlbmd0aCxjPTA7d2hpbGUocz5jKXIuZih0LG49YVtjKytdLGVbbl0pO3JldHVybiB0fX0sMTY1NDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjcxYzEiKSghMCk7bigiMzBmMSIpKFN0cmluZywiU3RyaW5nIiwoZnVuY3Rpb24odCl7dGhpcy5fdD1TdHJpbmcodCksdGhpcy5faT0wfSksKGZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLl90LG49dGhpcy5faTtyZXR1cm4gbj49ZS5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfToodD1yKGUsbiksdGhpcy5faSs9dC5sZW5ndGgse3ZhbHVlOnQsZG9uZTohMX0pfSkpfSwxNjkxOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSJjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YiLnNwbGl0KCIsIil9LCIxYWY2IjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiNjNiNiIpO3Ioci5TLCJBcnJheSIse2lzQXJyYXk6bigiOTAwMyIpfSl9LCIxYWZhIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImEwNjgiKSxvPW4ubihyKTtvLmF9LCIxYmMzIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZjc3MiIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFyKHQpKXJldHVybiB0O3ZhciBuLG87aWYoZSYmImZ1bmN0aW9uIj09dHlwZW9mKG49dC50b1N0cmluZykmJiFyKG89bi5jYWxsKHQpKSlyZXR1cm4gbztpZigiZnVuY3Rpb24iPT10eXBlb2Yobj10LnZhbHVlT2YpJiYhcihvPW4uY2FsbCh0KSkpcmV0dXJuIG87aWYoIWUmJiJmdW5jdGlvbiI9PXR5cGVvZihuPXQudG9TdHJpbmcpJiYhcihvPW4uY2FsbCh0KSkpcmV0dXJuIG87dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LCIxZWM5IjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZjc3MiIpLG89bigiZTUzZCIpLmRvY3VtZW50LGk9cihvKSYmcihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQodCk6e319fSwiMjI0ZCI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9bigiNTZlYyIpLG89bigiNmZmYiIpLGk9bigiNzAzZiIpLGE9bigiNmYyNyIpLHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyxlLGUpfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24obixyKXt2YXIgbz1uLnJlc29sdmUoci5tYXAodGhpcy5oZWFkKSk7cmV0dXJuIGUudmFsaWQobyk/bmV3IGUobyk6dC5uZWFyKG8pfSxlLnByb3RvdHlwZS5jb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIGEuU2xpY2UuZW1wdHl9LGUucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZSYmdC5oZWFkPT10aGlzLmhlYWR9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJnYXBjdXJzb3IiLHBvczp0aGlzLmhlYWR9fSxlLmZyb21KU09OPWZ1bmN0aW9uKHQsbil7aWYoIm51bWJlciIhPXR5cGVvZiBuLnBvcyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgR2FwQ3Vyc29yLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKHQucmVzb2x2ZShuLnBvcykpfSxlLnByb3RvdHlwZS5nZXRCb29rbWFyaz1mdW5jdGlvbigpe3JldHVybiBuZXcgYyh0aGlzLmFuY2hvcil9LGUudmFsaWQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5wYXJlbnQ7aWYoZS5pc1RleHRibG9ja3x8IWwodCl8fCF1KHQpKXJldHVybiExO3ZhciBuPWUudHlwZS5zcGVjLmFsbG93R2FwQ3Vyc29yO2lmKG51bGwhPW4pcmV0dXJuIG47dmFyIHI9ZS5jb250ZW50TWF0Y2hBdCh0LmluZGV4KCkpLmRlZmF1bHRUeXBlO3JldHVybiByJiZyLmlzVGV4dGJsb2NrfSxlLmZpbmRGcm9tPWZ1bmN0aW9uKHQsbixyKXtpZighciYmZS52YWxpZCh0KSlyZXR1cm4gdDtmb3IodmFyIG89dC5wb3MsaT1udWxsLGE9dC5kZXB0aDs7YS0tKXt2YXIgcz10Lm5vZGUoYSk7aWYobj4wP3QuaW5kZXhBZnRlcihhKTxzLmNoaWxkQ291bnQ6dC5pbmRleChhKT4wKXtpPXMubWF5YmVDaGlsZChuPjA/dC5pbmRleEFmdGVyKGEpOnQuaW5kZXgoYSktMSk7YnJlYWt9aWYoMD09YSlyZXR1cm4gbnVsbDtvKz1uO3ZhciBjPXQuZG9jLnJlc29sdmUobyk7aWYoZS52YWxpZChjKSlyZXR1cm4gY31mb3IoOzspe2lmKGk9bj4wP2kuZmlyc3RDaGlsZDppLmxhc3RDaGlsZCwhaSlicmVhaztvKz1uO3ZhciBsPXQuZG9jLnJlc29sdmUobyk7aWYoZS52YWxpZChsKSlyZXR1cm4gbH1yZXR1cm4gbnVsbH0sZX0oby5TZWxlY3Rpb24pO3MucHJvdG90eXBlLnZpc2libGU9ITEsby5TZWxlY3Rpb24uanNvbklEKCJnYXBjdXJzb3IiLHMpO3ZhciBjPWZ1bmN0aW9uKHQpe3RoaXMucG9zPXR9O2Z1bmN0aW9uIGwodCl7Zm9yKHZhciBlPXQuZGVwdGg7ZT49MDtlLS0pe3ZhciBuPXQuaW5kZXgoZSk7aWYoMCE9bilmb3IodmFyIHI9dC5ub2RlKGUpLmNoaWxkKG4tMSk7O3I9ci5sYXN0Q2hpbGQpe2lmKDA9PXIuY2hpbGRDb3VudCYmIXIuaW5saW5lQ29udGVudHx8ci5pc0F0b218fHIudHlwZS5zcGVjLmlzb2xhdGluZylyZXR1cm4hMDtpZihyLmlubGluZUNvbnRlbnQpcmV0dXJuITF9fXJldHVybiEwfWZ1bmN0aW9uIHUodCl7Zm9yKHZhciBlPXQuZGVwdGg7ZT49MDtlLS0pe3ZhciBuPXQuaW5kZXhBZnRlcihlKSxyPXQubm9kZShlKTtpZihuIT1yLmNoaWxkQ291bnQpZm9yKHZhciBvPXIuY2hpbGQobik7O289by5maXJzdENoaWxkKXtpZigwPT1vLmNoaWxkQ291bnQmJiFvLmlubGluZUNvbnRlbnR8fG8uaXNBdG9tfHxvLnR5cGUuc3BlYy5pc29sYXRpbmcpcmV0dXJuITA7aWYoby5pbmxpbmVDb250ZW50KXJldHVybiExfX1yZXR1cm4hMH1jLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBjKHQubWFwKHRoaXMucG9zKSl9LGMucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24odCl7dmFyIGU9dC5yZXNvbHZlKHRoaXMucG9zKTtyZXR1cm4gcy52YWxpZChlKT9uZXcgcyhlKTpvLlNlbGVjdGlvbi5uZWFyKGUpfTt2YXIgZj1mdW5jdGlvbigpe3JldHVybiBuZXcgby5QbHVnaW4oe3Byb3BzOntkZWNvcmF0aW9uczp2LGNyZWF0ZVNlbGVjdGlvbkJldHdlZW46ZnVuY3Rpb24odCxlLG4pe2lmKGUucG9zPT1uLnBvcyYmcy52YWxpZChuKSlyZXR1cm4gbmV3IHMobil9LGhhbmRsZUNsaWNrOmQsaGFuZGxlS2V5RG93bjpwfX0pfSxwPXIua2V5ZG93bkhhbmRsZXIoe0Fycm93TGVmdDpoKCJob3JpeiIsLTEpLEFycm93UmlnaHQ6aCgiaG9yaXoiLDEpLEFycm93VXA6aCgidmVydCIsLTEpLEFycm93RG93bjpoKCJ2ZXJ0IiwxKX0pO2Z1bmN0aW9uIGgodCxlKXt2YXIgbj0idmVydCI9PXQ/ZT4wPyJkb3duIjoidXAiOmU+MD8icmlnaHQiOiJsZWZ0IjtyZXR1cm4gZnVuY3Rpb24odCxyLGkpe3ZhciBhPXQuc2VsZWN0aW9uLGM9ZT4wP2EuJHRvOmEuJGZyb20sbD1hLmVtcHR5O2lmKGEgaW5zdGFuY2VvZiBvLlRleHRTZWxlY3Rpb24pe2lmKCFpLmVuZE9mVGV4dGJsb2NrKG4pKXJldHVybiExO2w9ITEsYz10LmRvYy5yZXNvbHZlKGU+MD9jLmFmdGVyKCk6Yy5iZWZvcmUoKSl9dmFyIHU9cy5maW5kRnJvbShjLGUsbCk7cmV0dXJuISF1JiYociYmcih0LnRyLnNldFNlbGVjdGlvbihuZXcgcyh1KSkpLCEwKX19ZnVuY3Rpb24gZCh0LGUsbil7aWYodC5zb21lUHJvcCgiZWRpdGFibGUiLChmdW5jdGlvbihlKXtyZXR1cm4hMT09PWUodC5zdGF0ZSl9KSkpcmV0dXJuITE7dmFyIHI9dC5zdGF0ZS5kb2MucmVzb2x2ZShlKTtpZighcy52YWxpZChyKSlyZXR1cm4hMTt2YXIgaT10LnBvc0F0Q29vcmRzKHtsZWZ0Om4uY2xpZW50WCx0b3A6bi5jbGllbnRZfSksYT1pLmluc2lkZTtyZXR1cm4hKGE+LTEmJm8uTm9kZVNlbGVjdGlvbi5pc1NlbGVjdGFibGUodC5zdGF0ZS5kb2Mubm9kZUF0KGEpKSkmJih0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKG5ldyBzKHIpKSksITApfWZ1bmN0aW9uIHYodCl7aWYoISh0LnNlbGVjdGlvbiBpbnN0YW5jZW9mIHMpKXJldHVybiBudWxsO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBlLmNsYXNzTmFtZT0iUHJvc2VNaXJyb3ItZ2FwY3Vyc29yIixpLkRlY29yYXRpb25TZXQuY3JlYXRlKHQuZG9jLFtpLkRlY29yYXRpb24ud2lkZ2V0KHQuc2VsZWN0aW9uLmhlYWQsZSx7a2V5OiJnYXBjdXJzb3IifSldKX1lLmdhcEN1cnNvcj1mLGUuR2FwQ3Vyc29yPXN9LCIyMzBlIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZDNmNCIpLG89bigiNzcyNiIpLmRvY3VtZW50LGk9cihvKSYmcihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQodCk6e319fSwiMjQxZSI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjI1ZWIiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChyKHQpKX19LCIyNWViIjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZih2b2lkIDA9PXQpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIit0KTtyZXR1cm4gdH19LCIyOTRjIjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuISF0KCl9Y2F0Y2goZSl7cmV0dXJuITB9fX0sIjJhYmEiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI3NzI2Iiksbz1uKCIzMmU5IiksaT1uKCI2OWE4IiksYT1uKCJjYTVhIikoInNyYyIpLHM9bigiZmE1YiIpLGM9InRvU3RyaW5nIixsPSgiIitzKS5zcGxpdChjKTtuKCI4Mzc4IikuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gcy5jYWxsKHQpfSwodC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLHMpe3ZhciBjPSJmdW5jdGlvbiI9PXR5cGVvZiBuO2MmJihpKG4sIm5hbWUiKXx8byhuLCJuYW1lIixlKSksdFtlXSE9PW4mJihjJiYoaShuLGEpfHxvKG4sYSx0W2VdPyIiK3RbZV06bC5qb2luKFN0cmluZyhlKSkpKSx0PT09cj90W2VdPW46cz90W2VdP3RbZV09bjpvKHQsZSxuKTooZGVsZXRlIHRbZV0sbyh0LGUsbikpKX0pKEZ1bmN0aW9uLnByb3RvdHlwZSxjLChmdW5jdGlvbigpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzJiZ0aGlzW2FdfHxzLmNhbGwodGhpcyl9KSl9LCIyYWViIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiY2I3YyIpLG89bigiMTQ5NSIpLGk9bigiZTExZSIpLGE9bigiNjEzYiIpKCJJRV9QUk9UTyIpLHM9ZnVuY3Rpb24oKXt9LGM9InByb3RvdHlwZSIsbD1mdW5jdGlvbigpe3ZhciB0LGU9bigiMjMwZSIpKCJpZnJhbWUiKSxyPWkubGVuZ3RoLG89IjwiLGE9Ij4iO2Uuc3R5bGUuZGlzcGxheT0ibm9uZSIsbigiZmFiMiIpLmFwcGVuZENoaWxkKGUpLGUuc3JjPSJqYXZhc2NyaXB0OiIsdD1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQsdC5vcGVuKCksdC53cml0ZShvKyJzY3JpcHQiK2ErImRvY3VtZW50LkY9T2JqZWN0IitvKyIvc2NyaXB0IithKSx0LmNsb3NlKCksbD10LkY7d2hpbGUoci0tKWRlbGV0ZSBsW2NdW2lbcl1dO3JldHVybiBsKCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBudWxsIT09dD8oc1tjXT1yKHQpLG49bmV3IHMsc1tjXT1udWxsLG5bYV09dCk6bj1sKCksdm9pZCAwPT09ZT9uOm8obixlKX19LCIyYjRjIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiNTUzNyIpKCJ3a3MiKSxvPW4oImNhNWEiKSxpPW4oIjc3MjYiKS5TeW1ib2wsYT0iZnVuY3Rpb24iPT10eXBlb2YgaSxzPXQuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gclt0XXx8KHJbdF09YSYmaVt0XXx8KGE/aTpvKSgiU3ltYm9sLiIrdCkpfTtzLnN0b3JlPXJ9LCIyZDAwIjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0hMX0sIjJkOTUiOmZ1bmN0aW9uKHQsZSl7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuLmNhbGwodCkuc2xpY2UoOCwtMSl9fSwiMmVjOCI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9bigiNmZmYiIpLG89bigiYjkyMyIpO2Z1bmN0aW9uIGkodCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PXt9KSxuZXcgci5QbHVnaW4oe3ZpZXc6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBhKGUsdCl9fSl9dmFyIGE9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3RoaXMuZWRpdG9yVmlldz10LHRoaXMud2lkdGg9ZS53aWR0aHx8MSx0aGlzLmNvbG9yPWUuY29sb3J8fCJibGFjayIsdGhpcy5jdXJzb3JQb3M9bnVsbCx0aGlzLmVsZW1lbnQ9bnVsbCx0aGlzLnRpbWVvdXQ9bnVsbCx0aGlzLmhhbmRsZXJzPVsiZHJhZ292ZXIiLCJkcmFnZW5kIiwiZHJvcCIsImRyYWdsZWF2ZSJdLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24odCl7cmV0dXJuIG5bZV0odCl9O3JldHVybiB0LmRvbS5hZGRFdmVudExpc3RlbmVyKGUscikse25hbWU6ZSxoYW5kbGVyOnJ9fSkpfTthLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmhhbmRsZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUubmFtZSxyPWUuaGFuZGxlcjtyZXR1cm4gdC5lZGl0b3JWaWV3LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKG4scil9KSl9LGEucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe251bGwhPXRoaXMuY3Vyc29yUG9zJiZlLmRvYyE9dC5zdGF0ZS5kb2MmJnRoaXMudXBkYXRlT3ZlcmxheSgpfSxhLnByb3RvdHlwZS5zZXRDdXJzb3I9ZnVuY3Rpb24odCl7dCE9dGhpcy5jdXJzb3JQb3MmJih0aGlzLmN1cnNvclBvcz10LG51bGw9PXQ/KHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudCksdGhpcy5lbGVtZW50PW51bGwpOnRoaXMudXBkYXRlT3ZlcmxheSgpKX0sYS5wcm90b3R5cGUudXBkYXRlT3ZlcmxheT1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5lZGl0b3JWaWV3LnN0YXRlLmRvYy5yZXNvbHZlKHRoaXMuY3Vyc29yUG9zKTtpZighZS5wYXJlbnQuaW5saW5lQ29udGVudCl7dmFyIG49ZS5ub2RlQmVmb3JlLHI9ZS5ub2RlQWZ0ZXI7aWYobnx8cil7dmFyIG89dGhpcy5lZGl0b3JWaWV3Lm5vZGVET00odGhpcy5jdXJzb3JQb3MtKG4/bi5ub2RlU2l6ZTowKSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT1uP28uYm90dG9tOm8udG9wO24mJnImJihpPShpK3RoaXMuZWRpdG9yVmlldy5ub2RlRE9NKHRoaXMuY3Vyc29yUG9zKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3ApLzIpLHQ9e2xlZnQ6by5sZWZ0LHJpZ2h0Om8ucmlnaHQsdG9wOmktdGhpcy53aWR0aC8yLGJvdHRvbTppK3RoaXMud2lkdGgvMn19fWlmKCF0KXt2YXIgYT10aGlzLmVkaXRvclZpZXcuY29vcmRzQXRQb3ModGhpcy5jdXJzb3JQb3MpO3Q9e2xlZnQ6YS5sZWZ0LXRoaXMud2lkdGgvMixyaWdodDphLmxlZnQrdGhpcy53aWR0aC8yLHRvcDphLnRvcCxib3R0b206YS5ib3R0b219fXZhciBzPXRoaXMuZWRpdG9yVmlldy5kb20ub2Zmc2V0UGFyZW50O3RoaXMuZWxlbWVudHx8KHRoaXMuZWxlbWVudD1zLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKSx0aGlzLmVsZW1lbnQuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246IGFic29sdXRlOyB6LWluZGV4OiA1MDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IGJhY2tncm91bmQtY29sb3I6ICIrdGhpcy5jb2xvcik7dmFyIGM9IXN8fHM9PWRvY3VtZW50LmJvZHkmJiJzdGF0aWMiPT1nZXRDb21wdXRlZFN0eWxlKHMpLnBvc2l0aW9uP3tsZWZ0Oi1wYWdlWE9mZnNldCx0b3A6LXBhZ2VZT2Zmc2V0fTpzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3RoaXMuZWxlbWVudC5zdHlsZS5sZWZ0PXQubGVmdC1jLmxlZnQrInB4Iix0aGlzLmVsZW1lbnQuc3R5bGUudG9wPXQudG9wLWMudG9wKyJweCIsdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoPXQucmlnaHQtdC5sZWZ0KyJweCIsdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodD10LmJvdHRvbS10LnRvcCsicHgifSxhLnByb3RvdHlwZS5zY2hlZHVsZVJlbW92YWw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KSx0aGlzLnRpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gZS5zZXRDdXJzb3IobnVsbCl9KSx0KX0sYS5wcm90b3R5cGUuZHJhZ292ZXI9ZnVuY3Rpb24odCl7aWYodGhpcy5lZGl0b3JWaWV3LmVkaXRhYmxlKXt2YXIgZT10aGlzLmVkaXRvclZpZXcucG9zQXRDb29yZHMoe2xlZnQ6dC5jbGllbnRYLHRvcDp0LmNsaWVudFl9KTtpZihlKXt2YXIgbj1lLnBvczt0aGlzLmVkaXRvclZpZXcuZHJhZ2dpbmcmJnRoaXMuZWRpdG9yVmlldy5kcmFnZ2luZy5zbGljZSYmKG49by5kcm9wUG9pbnQodGhpcy5lZGl0b3JWaWV3LnN0YXRlLmRvYyxuLHRoaXMuZWRpdG9yVmlldy5kcmFnZ2luZy5zbGljZSksbnVsbD09biYmKG49ZS5wb3MpKSx0aGlzLnNldEN1cnNvcihuKSx0aGlzLnNjaGVkdWxlUmVtb3ZhbCg1ZTMpfX19LGEucHJvdG90eXBlLmRyYWdlbmQ9ZnVuY3Rpb24oKXt0aGlzLnNjaGVkdWxlUmVtb3ZhbCgyMCl9LGEucHJvdG90eXBlLmRyb3A9ZnVuY3Rpb24oKXt0aGlzLnNjaGVkdWxlUmVtb3ZhbCgyMCl9LGEucHJvdG90eXBlLmRyYWdsZWF2ZT1mdW5jdGlvbih0KXt0LnRhcmdldCE9dGhpcy5lZGl0b3JWaWV3LmRvbSYmdGhpcy5lZGl0b3JWaWV3LmRvbS5jb250YWlucyh0LnJlbGF0ZWRUYXJnZXQpfHx0aGlzLnNldEN1cnNvcihudWxsKX0sZS5kcm9wQ3Vyc29yPWl9LCIzMGYxIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImI4ZTMiKSxvPW4oIjYzYjYiKSxpPW4oIjkxMzgiKSxhPW4oIjM1ZTgiKSxzPW4oIjQ4MWIiKSxjPW4oIjhmNjAiKSxsPW4oIjQ1ZjIiKSx1PW4oIjUzZTIiKSxmPW4oIjUxNjgiKSgiaXRlcmF0b3IiKSxwPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLGg9IkBAaXRlcmF0b3IiLGQ9ImtleXMiLHY9InZhbHVlcyIsbT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4sZyx5LHcsYil7YyhuLGUsZyk7dmFyIGssUyx4LEM9ZnVuY3Rpb24odCl7aWYoIXAmJnQgaW4gVClyZXR1cm4gVFt0XTtzd2l0Y2godCl7Y2FzZSBkOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLHQpfTtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMsdCl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLHQpfX0sTT1lKyIgSXRlcmF0b3IiLE89eT09dixBPSExLFQ9dC5wcm90b3R5cGUsTj1UW2ZdfHxUW2hdfHx5JiZUW3ldLEU9Tnx8Qyh5KSxfPXk/Tz9DKCJlbnRyaWVzIik6RTp2b2lkIDAsUj0iQXJyYXkiPT1lJiZULmVudHJpZXN8fE47aWYoUiYmKHg9dShSLmNhbGwobmV3IHQpKSx4IT09T2JqZWN0LnByb3RvdHlwZSYmeC5uZXh0JiYobCh4LE0sITApLHJ8fCJmdW5jdGlvbiI9PXR5cGVvZiB4W2ZdfHxhKHgsZixtKSkpLE8mJk4mJk4ubmFtZSE9PXYmJihBPSEwLEU9ZnVuY3Rpb24oKXtyZXR1cm4gTi5jYWxsKHRoaXMpfSksciYmIWJ8fCFwJiYhQSYmVFtmXXx8YShULGYsRSksc1tlXT1FLHNbTV09bSx5KWlmKGs9e3ZhbHVlczpPP0U6Qyh2KSxrZXlzOnc/RTpDKGQpLGVudHJpZXM6X30sYilmb3IoUyBpbiBrKVMgaW4gVHx8aShULFMsa1tTXSk7ZWxzZSBvKG8uUCtvLkYqKHB8fEEpLGUsayk7cmV0dXJuIGt9fSwiMzIxYSI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiYib2JqZWN0Ij09PXR5cGVvZiB0JiYiZGVmYXVsdCJpbiB0P3RbImRlZmF1bHQiXTp0fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1yKG4oImNkZDAiKSksaT1uKCJiOTIzIiksYT1uKCI2ZmZiIikscz01MDAsYz1mdW5jdGlvbih0LGUpe3RoaXMuaXRlbXM9dCx0aGlzLmV2ZW50Q291bnQ9ZX07ZnVuY3Rpb24gbCh0LGUpe3ZhciBuO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQscil7aWYodC5zZWxlY3Rpb24mJjA9PWUtLSlyZXR1cm4gbj1yLCExfSkpLHQuc2xpY2Uobil9Yy5wcm90b3R5cGUucG9wRXZlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKDA9PXRoaXMuZXZlbnRDb3VudClyZXR1cm4gbnVsbDtmb3IodmFyIHIsbyxpPXRoaXMuaXRlbXMubGVuZ3RoOztpLS0pe3ZhciBhPW4uaXRlbXMuZ2V0KGktMSk7aWYoYS5zZWxlY3Rpb24pey0taTticmVha319ZSYmKHI9dGhpcy5yZW1hcHBpbmcoaSx0aGlzLml0ZW1zLmxlbmd0aCksbz1yLm1hcHMubGVuZ3RoKTt2YXIgcyxsLGY9dC50cixwPVtdLGg9W107cmV0dXJuIHRoaXMuaXRlbXMuZm9yRWFjaCgoZnVuY3Rpb24odCxlKXtpZighdC5zdGVwKXJldHVybiByfHwocj1uLnJlbWFwcGluZyhpLGUrMSksbz1yLm1hcHMubGVuZ3RoKSxvLS0sdm9pZCBoLnB1c2godCk7aWYocil7aC5wdXNoKG5ldyB1KHQubWFwKSk7dmFyIGEsZD10LnN0ZXAubWFwKHIuc2xpY2UobykpO2QmJmYubWF5YmVTdGVwKGQpLmRvYyYmKGE9Zi5tYXBwaW5nLm1hcHNbZi5tYXBwaW5nLm1hcHMubGVuZ3RoLTFdLHAucHVzaChuZXcgdShhLG51bGwsbnVsbCxwLmxlbmd0aCtoLmxlbmd0aCkpKSxvLS0sYSYmci5hcHBlbmRNYXAoYSxvKX1lbHNlIGYubWF5YmVTdGVwKHQuc3RlcCk7cmV0dXJuIHQuc2VsZWN0aW9uPyhzPXI/dC5zZWxlY3Rpb24ubWFwKHIuc2xpY2UobykpOnQuc2VsZWN0aW9uLGw9bmV3IGMobi5pdGVtcy5zbGljZSgwLGkpLmFwcGVuZChoLnJldmVyc2UoKS5jb25jYXQocCkpLG4uZXZlbnRDb3VudC0xKSwhMSk6dm9pZCAwfSksdGhpcy5pdGVtcy5sZW5ndGgsMCkse3JlbWFpbmluZzpsLHRyYW5zZm9ybTpmLHNlbGVjdGlvbjpzfX0sYy5wcm90b3R5cGUuYWRkVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgbz1bXSxpPXRoaXMuZXZlbnRDb3VudCxhPXRoaXMuaXRlbXMscz0hciYmYS5sZW5ndGg/YS5nZXQoYS5sZW5ndGgtMSk6bnVsbCxmPTA7Zjx0LnN0ZXBzLmxlbmd0aDtmKyspe3ZhciBoPXQuc3RlcHNbZl0uaW52ZXJ0KHQuZG9jc1tmXSksZD1uZXcgdSh0Lm1hcHBpbmcubWFwc1tmXSxoLGUpLHY9dm9pZCAwOyh2PXMmJnMubWVyZ2UoZCkpJiYoZD12LGY/by5wb3AoKTphPWEuc2xpY2UoMCxhLmxlbmd0aC0xKSksby5wdXNoKGQpLGUmJihpKyssZT1udWxsKSxyfHwocz1kKX12YXIgbT1pLW4uZGVwdGg7cmV0dXJuIG0+cCYmKGE9bChhLG0pLGktPW0pLG5ldyBjKGEuYXBwZW5kKG8pLGkpfSxjLnByb3RvdHlwZS5yZW1hcHBpbmc9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgaS5NYXBwaW5nO3JldHVybiB0aGlzLml0ZW1zLmZvckVhY2goKGZ1bmN0aW9uKGUscil7dmFyIG89bnVsbCE9ZS5taXJyb3JPZmZzZXQmJnItZS5taXJyb3JPZmZzZXQ+PXQ/bz1uLm1hcHMubGVuZ3RoLWUubWlycm9yT2Zmc2V0Om51bGw7bi5hcHBlbmRNYXAoZS5tYXAsbyl9KSx0LGUpLG59LGMucHJvdG90eXBlLmFkZE1hcHM9ZnVuY3Rpb24odCl7cmV0dXJuIDA9PXRoaXMuZXZlbnRDb3VudD90aGlzOm5ldyBjKHRoaXMuaXRlbXMuYXBwZW5kKHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IHUodCl9KSkpLHRoaXMuZXZlbnRDb3VudCl9LGMucHJvdG90eXBlLnJlYmFzZWQ9ZnVuY3Rpb24odCxlKXtpZighdGhpcy5ldmVudENvdW50KXJldHVybiB0aGlzO3ZhciBuPVtdLHI9TWF0aC5tYXgoMCx0aGlzLml0ZW1zLmxlbmd0aC1lKSxvPXQubWFwcGluZyxpPXQuc3RlcHMubGVuZ3RoLGE9dGhpcy5ldmVudENvdW50O3RoaXMuaXRlbXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5zZWxlY3Rpb24mJmEtLX0pLHIpO3ZhciBsPWU7dGhpcy5pdGVtcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1vLmdldE1pcnJvcigtLWwpO2lmKG51bGwhPXIpe2k9TWF0aC5taW4oaSxyKTt2YXIgcz1vLm1hcHNbcl07aWYoZS5zdGVwKXt2YXIgYz10LnN0ZXBzW3JdLmludmVydCh0LmRvY3Nbcl0pLGY9ZS5zZWxlY3Rpb24mJmUuc2VsZWN0aW9uLm1hcChvLnNsaWNlKGwrMSxyKSk7ZiYmYSsrLG4ucHVzaChuZXcgdShzLGMsZikpfWVsc2Ugbi5wdXNoKG5ldyB1KHMpKX19KSxyKTtmb3IodmFyIGY9W10scD1lO3A8aTtwKyspZi5wdXNoKG5ldyB1KG8ubWFwc1twXSkpO3ZhciBoPXRoaXMuaXRlbXMuc2xpY2UoMCxyKS5hcHBlbmQoZikuYXBwZW5kKG4pLGQ9bmV3IGMoaCxhKTtyZXR1cm4gZC5lbXB0eUl0ZW1Db3VudCgpPnMmJihkPWQuY29tcHJlc3ModGhpcy5pdGVtcy5sZW5ndGgtbi5sZW5ndGgpKSxkfSxjLnByb3RvdHlwZS5lbXB0eUl0ZW1Db3VudD1mdW5jdGlvbigpe3ZhciB0PTA7cmV0dXJuIHRoaXMuaXRlbXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5zdGVwfHx0Kyt9KSksdH0sYy5wcm90b3R5cGUuY29tcHJlc3M9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9dGhpcy5pdGVtcy5sZW5ndGgpO3ZhciBlPXRoaXMucmVtYXBwaW5nKDAsdCksbj1lLm1hcHMubGVuZ3RoLHI9W10saT0wO3JldHVybiB0aGlzLml0ZW1zLmZvckVhY2goKGZ1bmN0aW9uKG8sYSl7aWYoYT49dClyLnB1c2gobyksby5zZWxlY3Rpb24mJmkrKztlbHNlIGlmKG8uc3RlcCl7dmFyIHM9by5zdGVwLm1hcChlLnNsaWNlKG4pKSxjPXMmJnMuZ2V0TWFwKCk7aWYobi0tLGMmJmUuYXBwZW5kTWFwKGMsbikscyl7dmFyIGw9by5zZWxlY3Rpb24mJm8uc2VsZWN0aW9uLm1hcChlLnNsaWNlKG4pKTtsJiZpKys7dmFyIGYscD1uZXcgdShjLmludmVydCgpLHMsbCksaD1yLmxlbmd0aC0xOyhmPXIubGVuZ3RoJiZyW2hdLm1lcmdlKHApKT9yW2hdPWY6ci5wdXNoKHApfX1lbHNlIG8ubWFwJiZuLS19KSx0aGlzLml0ZW1zLmxlbmd0aCwwKSxuZXcgYyhvLmZyb20oci5yZXZlcnNlKCkpLGkpfSxjLmVtcHR5PW5ldyBjKG8uZW1wdHksMCk7dmFyIHU9ZnVuY3Rpb24odCxlLG4scil7dGhpcy5tYXA9dCx0aGlzLnN0ZXA9ZSx0aGlzLnNlbGVjdGlvbj1uLHRoaXMubWlycm9yT2Zmc2V0PXJ9O3UucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuc3RlcCYmdC5zdGVwJiYhdC5zZWxlY3Rpb24pe3ZhciBlPXQuc3RlcC5tZXJnZSh0aGlzLnN0ZXApO2lmKGUpcmV0dXJuIG5ldyB1KGUuZ2V0TWFwKCkuaW52ZXJ0KCksZSx0aGlzLnNlbGVjdGlvbil9fTt2YXIgZj1mdW5jdGlvbih0LGUsbixyKXt0aGlzLmRvbmU9dCx0aGlzLnVuZG9uZT1lLHRoaXMucHJldlJhbmdlcz1uLHRoaXMucHJldlRpbWU9cn0scD0yMDtmdW5jdGlvbiBoKHQsZSxuLHIpe3ZhciBvLGk9bi5nZXRNZXRhKFMpO2lmKGkpcmV0dXJuIGkuaGlzdG9yeVN0YXRlO24uZ2V0TWV0YSh4KSYmKHQ9bmV3IGYodC5kb25lLHQudW5kb25lLG51bGwsMCkpO3ZhciBhPW4uZ2V0TWV0YSgiYXBwZW5kZWRUcmFuc2FjdGlvbiIpO2lmKDA9PW4uc3RlcHMubGVuZ3RoKXJldHVybiB0O2lmKGEmJmEuZ2V0TWV0YShTKSlyZXR1cm4gYS5nZXRNZXRhKFMpLnJlZG8/bmV3IGYodC5kb25lLmFkZFRyYW5zZm9ybShuLG51bGwscixiKGUpKSx0LnVuZG9uZSx2KG4ubWFwcGluZy5tYXBzW24uc3RlcHMubGVuZ3RoLTFdKSx0LnByZXZUaW1lKTpuZXcgZih0LmRvbmUsdC51bmRvbmUuYWRkVHJhbnNmb3JtKG4sbnVsbCxyLGIoZSkpLG51bGwsdC5wcmV2VGltZSk7aWYoITE9PT1uLmdldE1ldGEoImFkZFRvSGlzdG9yeSIpfHxhJiYhMT09PWEuZ2V0TWV0YSgiYWRkVG9IaXN0b3J5IikpcmV0dXJuKG89bi5nZXRNZXRhKCJyZWJhc2VkIikpP25ldyBmKHQuZG9uZS5yZWJhc2VkKG4sbyksdC51bmRvbmUucmViYXNlZChuLG8pLG0odC5wcmV2UmFuZ2VzLG4ubWFwcGluZyksdC5wcmV2VGltZSk6bmV3IGYodC5kb25lLmFkZE1hcHMobi5tYXBwaW5nLm1hcHMpLHQudW5kb25lLmFkZE1hcHMobi5tYXBwaW5nLm1hcHMpLG0odC5wcmV2UmFuZ2VzLG4ubWFwcGluZyksdC5wcmV2VGltZSk7dmFyIHM9dC5wcmV2VGltZTwobi50aW1lfHwwKS1yLm5ld0dyb3VwRGVsYXl8fCFhJiYhZChuLHQucHJldlJhbmdlcyksbD1hP20odC5wcmV2UmFuZ2VzLG4ubWFwcGluZyk6dihuLm1hcHBpbmcubWFwc1tuLnN0ZXBzLmxlbmd0aC0xXSk7cmV0dXJuIG5ldyBmKHQuZG9uZS5hZGRUcmFuc2Zvcm0obixzP2Uuc2VsZWN0aW9uLmdldEJvb2ttYXJrKCk6bnVsbCxyLGIoZSkpLGMuZW1wdHksbCxuLnRpbWUpfWZ1bmN0aW9uIGQodCxlKXtpZighZSlyZXR1cm4hMTtpZighdC5kb2NDaGFuZ2VkKXJldHVybiEwO3ZhciBuPSExO3JldHVybiB0Lm1hcHBpbmcubWFwc1swXS5mb3JFYWNoKChmdW5jdGlvbih0LHIpe2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bys9Mil0PD1lW28rMV0mJnI+PWVbb10mJihuPSEwKX0pKSxufWZ1bmN0aW9uIHYodCl7dmFyIGU9W107cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCxuLHIsbyl7cmV0dXJuIGUucHVzaChyLG8pfSkpLGV9ZnVuY3Rpb24gbSh0LGUpe2lmKCF0KXJldHVybiBudWxsO2Zvcih2YXIgbj1bXSxyPTA7cjx0Lmxlbmd0aDtyKz0yKXt2YXIgbz1lLm1hcCh0W3JdLDEpLGk9ZS5tYXAodFtyKzFdLC0xKTtvPD1pJiZuLnB1c2gobyxpKX1yZXR1cm4gbn1mdW5jdGlvbiBnKHQsZSxuLHIpe3ZhciBvPWIoZSksaT1TLmdldChlKS5zcGVjLmNvbmZpZyxhPShyP3QudW5kb25lOnQuZG9uZSkucG9wRXZlbnQoZSxvKTtpZihhKXt2YXIgcz1hLnNlbGVjdGlvbi5yZXNvbHZlKGEudHJhbnNmb3JtLmRvYyksYz0ocj90LmRvbmU6dC51bmRvbmUpLmFkZFRyYW5zZm9ybShhLnRyYW5zZm9ybSxlLnNlbGVjdGlvbi5nZXRCb29rbWFyaygpLGksbyksbD1uZXcgZihyP2M6YS5yZW1haW5pbmcscj9hLnJlbWFpbmluZzpjLG51bGwsMCk7bihhLnRyYW5zZm9ybS5zZXRTZWxlY3Rpb24ocykuc2V0TWV0YShTLHtyZWRvOnIsaGlzdG9yeVN0YXRlOmx9KS5zY3JvbGxJbnRvVmlldygpKX19dmFyIHk9ITEsdz1udWxsO2Z1bmN0aW9uIGIodCl7dmFyIGU9dC5wbHVnaW5zO2lmKHchPWUpe3k9ITEsdz1lO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWlmKGVbbl0uc3BlYy5oaXN0b3J5UHJlc2VydmVJdGVtcyl7eT0hMDticmVha319cmV0dXJuIHl9ZnVuY3Rpb24gayh0KXtyZXR1cm4gdC5zZXRNZXRhKHgsITApfXZhciBTPW5ldyBhLlBsdWdpbktleSgiaGlzdG9yeSIpLHg9bmV3IGEuUGx1Z2luS2V5KCJjbG9zZUhpc3RvcnkiKTtmdW5jdGlvbiBDKHQpe3JldHVybiB0PXtkZXB0aDp0JiZ0LmRlcHRofHwxMDAsbmV3R3JvdXBEZWxheTp0JiZ0Lm5ld0dyb3VwRGVsYXl8fDUwMH0sbmV3IGEuUGx1Z2luKHtrZXk6UyxzdGF0ZTp7aW5pdDpmdW5jdGlvbigpe3JldHVybiBuZXcgZihjLmVtcHR5LGMuZW1wdHksbnVsbCwwKX0sYXBwbHk6ZnVuY3Rpb24oZSxuLHIpe3JldHVybiBoKG4scixlLHQpfX0sY29uZmlnOnR9KX1mdW5jdGlvbiBNKHQsZSl7dmFyIG49Uy5nZXRTdGF0ZSh0KTtyZXR1cm4hKCFufHwwPT1uLmRvbmUuZXZlbnRDb3VudCkmJihlJiZnKG4sdCxlLCExKSwhMCl9ZnVuY3Rpb24gTyh0LGUpe3ZhciBuPVMuZ2V0U3RhdGUodCk7cmV0dXJuISghbnx8MD09bi51bmRvbmUuZXZlbnRDb3VudCkmJihlJiZnKG4sdCxlLCEwKSwhMCl9ZnVuY3Rpb24gQSh0KXt2YXIgZT1TLmdldFN0YXRlKHQpO3JldHVybiBlP2UuZG9uZS5ldmVudENvdW50OjB9ZnVuY3Rpb24gVCh0KXt2YXIgZT1TLmdldFN0YXRlKHQpO3JldHVybiBlP2UudW5kb25lLmV2ZW50Q291bnQ6MH1lLkhpc3RvcnlTdGF0ZT1mLGUuY2xvc2VIaXN0b3J5PWssZS5oaXN0b3J5PUMsZS51bmRvPU0sZS5yZWRvPU8sZS51bmRvRGVwdGg9QSxlLnJlZG9EZXB0aD1UfSwiMzJlOSI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjg2Y2MiKSxvPW4oIjQ2MzAiKTt0LmV4cG9ydHM9bigiOWUxZSIpP2Z1bmN0aW9uKHQsZSxuKXtyZXR1cm4gci5mKHQsZSxvKDEsbikpfTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bix0fX0sIjMyZmMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJlNTNkIikuZG9jdW1lbnQ7dC5leHBvcnRzPXImJnIuZG9jdW1lbnRFbGVtZW50fSwiMzM1YyI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjZiNGMiKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKHQpe3JldHVybiJTdHJpbmciPT1yKHQpP3Quc3BsaXQoIiIpOk9iamVjdCh0KX19LCIzNWU4IjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZDlmNiIpLG89bigiYWViZCIpO3QuZXhwb3J0cz1uKCI4ZTYwIik/ZnVuY3Rpb24odCxlLG4pe3JldHVybiByLmYodCxlLG8oMSxuKSl9OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFtlXT1uLHR9fSwiMzZjMyI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjMzNWMiKSxvPW4oIjI1ZWIiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIobyh0KSl9fSwiMzhmZCI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjY5YTgiKSxvPW4oIjRiZjgiKSxpPW4oIjYxM2IiKSgiSUVfUFJPVE8iKSxhPU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24odCl7cmV0dXJuIHQ9byh0KSxyKHQsaSk/dFtpXToiZnVuY3Rpb24iPT10eXBlb2YgdC5jb25zdHJ1Y3RvciYmdCBpbnN0YW5jZW9mIHQuY29uc3RydWN0b3I/dC5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6dCBpbnN0YW5jZW9mIE9iamVjdD9hOm51bGx9fSwiM2EzOCI6ZnVuY3Rpb24odCxlKXt2YXIgbj1NYXRoLmNlaWwscj1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaXNOYU4odD0rdCk/MDoodD4wP3I6bikodCl9fSwiM2I1MiI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9bigiNmZmYiIpLG89ZnVuY3Rpb24odCxlLG4pe3RoaXMuc3RlcD10LHRoaXMuaW52ZXJ0ZWQ9ZSx0aGlzLm9yaWdpbj1ufTtmdW5jdGlvbiBpKHQsZSxuKXtmb3IodmFyIHI9dC5sZW5ndGgtMTtyPj0wO3ItLSluLnN0ZXAodFtyXS5pbnZlcnRlZCk7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspbi5zdGVwKGVbaV0pO2Zvcih2YXIgYT1bXSxzPTAsYz10Lmxlbmd0aDtzPHQubGVuZ3RoO3MrKyl7dmFyIGw9dFtzXS5zdGVwLm1hcChuLm1hcHBpbmcuc2xpY2UoYykpO2MtLSxsJiYhbi5tYXliZVN0ZXAobCkuZmFpbGVkJiYobi5tYXBwaW5nLnNldE1pcnJvcihjLG4uc3RlcHMubGVuZ3RoLTEpLGEucHVzaChuZXcgbyhsLGwuaW52ZXJ0KG4uZG9jc1tuLmRvY3MubGVuZ3RoLTFdKSx0W3NdLm9yaWdpbikpKX1yZXR1cm4gYX12YXIgYT1mdW5jdGlvbih0LGUpe3RoaXMudmVyc2lvbj10LHRoaXMudW5jb25maXJtZWQ9ZX07ZnVuY3Rpb24gcyh0KXtmb3IodmFyIGU9W10sbj0wO248dC5zdGVwcy5sZW5ndGg7bisrKWUucHVzaChuZXcgbyh0LnN0ZXBzW25dLHQuc3RlcHNbbl0uaW52ZXJ0KHQuZG9jc1tuXSksdCkpO3JldHVybiBlfXZhciBjPW5ldyByLlBsdWdpbktleSgiY29sbGFiIik7ZnVuY3Rpb24gbCh0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9e30pLHQ9e3ZlcnNpb246dC52ZXJzaW9ufHwwLGNsaWVudElEOm51bGw9PXQuY2xpZW50SUQ/TWF0aC5mbG9vcig0Mjk0OTY3Mjk1Kk1hdGgucmFuZG9tKCkpOnQuY2xpZW50SUR9LG5ldyByLlBsdWdpbih7a2V5OmMsc3RhdGU6e2luaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGEodC52ZXJzaW9uLFtdKX0sYXBwbHk6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldE1ldGEoYyk7cmV0dXJuIG58fCh0LmRvY0NoYW5nZWQ/bmV3IGEoZS52ZXJzaW9uLGUudW5jb25maXJtZWQuY29uY2F0KHModCkpKTplKX19LGNvbmZpZzp0LGhpc3RvcnlQcmVzZXJ2ZUl0ZW1zOiEwfSl9ZnVuY3Rpb24gdSh0LGUsbixvKXt2YXIgcz1jLmdldFN0YXRlKHQpLGw9cy52ZXJzaW9uK2UubGVuZ3RoLHU9Yy5nZXQodCkuc3BlYy5jb25maWcuY2xpZW50SUQsZj0wO3doaWxlKGY8bi5sZW5ndGgmJm5bZl09PXUpKytmO3ZhciBwPXMudW5jb25maXJtZWQuc2xpY2UoZik7aWYoZT1mP2Uuc2xpY2UoZik6ZSwhZS5sZW5ndGgpcmV0dXJuIHQudHIuc2V0TWV0YShjLG5ldyBhKGwscCkpO3ZhciBoPXAubGVuZ3RoLGQ9dC50cjtpZihoKXA9aShwLGUsZCk7ZWxzZXtmb3IodmFyIHY9MDt2PGUubGVuZ3RoO3YrKylkLnN0ZXAoZVt2XSk7cD1bXX12YXIgbT1uZXcgYShsLHApO3JldHVybiBvJiZvLm1hcFNlbGVjdGlvbkJhY2t3YXJkJiZ0LnNlbGVjdGlvbiBpbnN0YW5jZW9mIHIuVGV4dFNlbGVjdGlvbiYmKGQuc2V0U2VsZWN0aW9uKHIuVGV4dFNlbGVjdGlvbi5iZXR3ZWVuKGQuZG9jLnJlc29sdmUoZC5tYXBwaW5nLm1hcCh0LnNlbGVjdGlvbi5hbmNob3IsLTEpKSxkLmRvYy5yZXNvbHZlKGQubWFwcGluZy5tYXAodC5zZWxlY3Rpb24uaGVhZCwtMSkpLC0xKSksZC51cGRhdGVkJj0tMiksZC5zZXRNZXRhKCJyZWJhc2VkIixoKS5zZXRNZXRhKCJhZGRUb0hpc3RvcnkiLCExKS5zZXRNZXRhKGMsbSl9ZnVuY3Rpb24gZih0KXt2YXIgZT1jLmdldFN0YXRlKHQpO3JldHVybiAwPT1lLnVuY29uZmlybWVkLmxlbmd0aD9udWxsOnt2ZXJzaW9uOmUudmVyc2lvbixzdGVwczplLnVuY29uZmlybWVkLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RlcH0pKSxjbGllbnRJRDpjLmdldCh0KS5zcGVjLmNvbmZpZy5jbGllbnRJRCxnZXQgb3JpZ2lucygpe3JldHVybiB0aGlzLl9vcmlnaW5zfHwodGhpcy5fb3JpZ2lucz1lLnVuY29uZmlybWVkLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQub3JpZ2lufSkpKX19fWZ1bmN0aW9uIHAodCl7cmV0dXJuIGMuZ2V0U3RhdGUodCkudmVyc2lvbn1lLnJlYmFzZVN0ZXBzPWksZS5jb2xsYWI9bCxlLnJlY2VpdmVUcmFuc2FjdGlvbj11LGUuc2VuZGFibGVTdGVwcz1mLGUuZ2V0VmVyc2lvbj1wfSwiM2NlNCI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJhNzBlIiksbz1uKCIwNzNlIik7ZnVuY3Rpb24gaSgpe31pLnByb3RvdHlwZT1yO3ZhciBhPW5ldyBpO3QuZXhwb3J0cz1hLGEuaGlnaGxpZ2h0PXcsYS5oaWdobGlnaHRBdXRvPXksYS5yZWdpc3Rlckxhbmd1YWdlPWIsYS5saXN0TGFuZ3VhZ2VzPWssYS5yZWdpc3RlckFsaWFzPVMsYS5nZXRMYW5ndWFnZT1OO3ZhciBzPXIuaW5oZXJpdCxjPXt9Lmhhc093blByb3BlcnR5LGw9W10uY29uY2F0LHU9ImhsanMtIixmPSJjYXNlX2luc2Vuc2l0aXZlIixwPSJjYWNoZWRfdmFyaWFudHMiLGg9IiAiLGQ9InwiLHY9W10sbT17fSxnPXt9O2Z1bmN0aW9uIHkodCxlKXt2YXIgbixyLGksYSxzPWV8fHt9LGM9cy5zdWJzZXR8fHYsbD1zLnByZWZpeCxmPWMubGVuZ3RoLHA9LTE7aWYobnVsbCE9PWwmJnZvaWQgMCE9PWx8fChsPXUpLCJzdHJpbmciIT09dHlwZW9mIHQpdGhyb3cgbygiRXhwZWN0ZWQgYHN0cmluZ2AgZm9yIHZhbHVlLCBnb3QgYCVzYCIsdCk7cj1PKHt9KSxuPU8oe30pO3doaWxlKCsrcDxmKWE9Y1twXSxOKGEpJiYoaT1PKHgoYSx0LCExLGwpKSxpLmxhbmd1YWdlPWEsaS5yZWxldmFuY2U+ci5yZWxldmFuY2UmJihyPWkpLGkucmVsZXZhbmNlPm4ucmVsZXZhbmNlJiYocj1uLG49aSkpO3JldHVybiByLmxhbmd1YWdlJiYobi5zZWNvbmRCZXN0PXIpLG59ZnVuY3Rpb24gdyh0LGUsbil7dmFyIHI9bnx8e30sbz1yLnByZWZpeDtyZXR1cm4gbnVsbCE9PW8mJnZvaWQgMCE9PW98fChvPXUpLE8oeCh0LGUsITAsbykpfWZ1bmN0aW9uIGIodCxlKXt2YXIgbj1lKGEpO21bdF09bix2LnB1c2godCksbi5hbGlhc2VzJiZTKHQsbi5hbGlhc2VzKX1mdW5jdGlvbiBrKCl7cmV0dXJuIHYuY29uY2F0KCl9ZnVuY3Rpb24gUyh0LGUpe3ZhciBuLHIsbyxpLGE9dDtmb3IobiBpbiBlJiYoYT17fSxhW3RdPWUpLGEpe3I9YVtuXSxyPSJzdHJpbmciPT09dHlwZW9mIHI/W3JdOnIsbz1yLmxlbmd0aCxpPS0xO3doaWxlKCsraTxvKWdbcltpXV09bn19ZnVuY3Rpb24geCh0LGUsbixyLGkpe3ZhciBhLHMsbCx1LHAsaCxkLHYsZz17fSx3PVtdLGI9IiIsaz0wO2lmKCJzdHJpbmciIT09dHlwZW9mIHQpdGhyb3cgbygiRXhwZWN0ZWQgYHN0cmluZ2AgZm9yIG5hbWUsIGdvdCBgJXNgIix0KTtpZigic3RyaW5nIiE9PXR5cGVvZiBlKXRocm93IG8oIkV4cGVjdGVkIGBzdHJpbmdgIGZvciB2YWx1ZSwgZ290IGAlc2AiLGUpO2lmKGE9Tih0KSxzPWl8fGEsdj1bXSxsPXMsdT12LCFhKXRocm93IG8oIlVua25vd24gbGFuZ3VhZ2U6IGAlc2AgaXMgbm90IHJlZ2lzdGVyZWQiLHQpO00oYSk7dHJ5e3MudGVybWluYXRvcnMubGFzdEluZGV4PTAscD0wLGQ9cy50ZXJtaW5hdG9ycy5leGVjKGUpO3doaWxlKGQpaD1TKGUuc3Vic3RyaW5nKHAsZC5pbmRleCksZFswXSkscD1kLmluZGV4K2gscy50ZXJtaW5hdG9ycy5sYXN0SW5kZXg9cCxkPXMudGVybWluYXRvcnMuZXhlYyhlKTtTKGUuc3Vic3RyKHApKSxsPXM7d2hpbGUobC5wYXJlbnQpbC5jbGFzc05hbWUmJiQoKSxsPWwucGFyZW50O3JldHVybntyZWxldmFuY2U6ayx2YWx1ZTp1LGxhbmd1YWdlOnQsdG9wOnN9fWNhdGNoKEYpe2lmKC0xPT09Ri5tZXNzYWdlLmluZGV4T2YoIklsbGVnYWwiKSl0aHJvdyBGO3JldHVybntyZWxldmFuY2U6MCx2YWx1ZTpSKGUsW10pfX1mdW5jdGlvbiBTKHQsZSl7dmFyIG4scixpO2lmKGIrPXQsdm9pZCAwPT09ZSlyZXR1cm4gXyhPKCksdSksMDtpZihuPUIoZSxzKSxuKXJldHVybiBfKE8oKSx1KSxDKG4sZSksbi5yZXR1cm5CZWdpbj8wOmUubGVuZ3RoO2lmKHI9aihzLGUpLHIpe2k9cyxpLnJldHVybkVuZHx8aS5leGNsdWRlRW5kfHwoYis9ZSksXyhPKCksdSk7ZG97cy5jbGFzc05hbWUmJiQoKSxrKz1zLnJlbGV2YW5jZSxzPXMucGFyZW50fXdoaWxlKHMhPT1yLnBhcmVudCk7cmV0dXJuIGkuZXhjbHVkZUVuZCYmUihlLHUpLGI9IiIsci5zdGFydHMmJkMoci5zdGFydHMsIiIpLGkucmV0dXJuRW5kPzA6ZS5sZW5ndGh9aWYoSShlLHMpKXRocm93IG8oJ0lsbGVnYWwgbGV4ZW1lICIlcyIgZm9yIG1vZGUgIiVzIicsZSxzLmNsYXNzTmFtZXx8Ijx1bm5hbWVkPiIpO3JldHVybiBiKz1lLGUubGVuZ3RofHwxfWZ1bmN0aW9uIEModCxlKXt2YXIgbjt0LmNsYXNzTmFtZSYmKG49UCh0LmNsYXNzTmFtZSxbXSkpLHQucmV0dXJuQmVnaW4/Yj0iIjp0LmV4Y2x1ZGVCZWdpbj8oUihlLHUpLGI9IiIpOmI9ZSxuJiYodS5wdXNoKG4pLHcucHVzaCh1KSx1PW4uY2hpbGRyZW4pLHM9T2JqZWN0LmNyZWF0ZSh0LHtwYXJlbnQ6e3ZhbHVlOnN9fSl9ZnVuY3Rpb24gTygpe3ZhciB0PXMuc3ViTGFuZ3VhZ2U/VCgpOkUoKTtyZXR1cm4gYj0iIix0fWZ1bmN0aW9uIFQoKXt2YXIgdCxlPSJzdHJpbmciPT09dHlwZW9mIHMuc3ViTGFuZ3VhZ2U7cmV0dXJuIGUmJiFtW3Muc3ViTGFuZ3VhZ2VdP1IoYixbXSk6KHQ9ZT94KHMuc3ViTGFuZ3VhZ2UsYiwhMCxyLGdbcy5zdWJMYW5ndWFnZV0pOnkoYix7c3Vic2V0OjA9PT1zLnN1Ykxhbmd1YWdlLmxlbmd0aD92b2lkIDA6cy5zdWJMYW5ndWFnZSxwcmVmaXg6cn0pLHQubGFuZ3VhZ2U/KHMucmVsZXZhbmNlPjAmJihrKz10LnJlbGV2YW5jZSksZSYmKGdbcy5zdWJMYW5ndWFnZV09dC50b3ApLFtQKHQubGFuZ3VhZ2UsdC52YWx1ZSwhMCldKTpbRChiKV0pfWZ1bmN0aW9uIEUoKXt2YXIgdCxlLG4scixvPVtdO2lmKCFzLmtleXdvcmRzKXJldHVybiBSKGIsbyk7dD0wLHMubGV4ZW1lc1JlLmxhc3RJbmRleD0wLGU9cy5sZXhlbWVzUmUuZXhlYyhiKTt3aGlsZShlKVIoYi5zdWJzdHJpbmcodCxlLmluZGV4KSxvKSxyPXoocyxlKSxyPyhrKz1yWzFdLG49UChyWzBdLFtdKSxvLnB1c2gobiksUihlWzBdLG4uY2hpbGRyZW4pKTpSKGVbMF0sbyksdD1zLmxleGVtZXNSZS5sYXN0SW5kZXgsZT1zLmxleGVtZXNSZS5leGVjKGIpO3JldHVybiBSKGIuc3Vic3RyKHQpLG8pLG99ZnVuY3Rpb24gXyh0LGUpe3ZhciBuLHI9dC5sZW5ndGgsbz0tMTt3aGlsZSgrK288ciluPXRbb10sInRleHQiPT09bi50eXBlP1Iobi52YWx1ZSxlKTplLnB1c2gobil9ZnVuY3Rpb24gUih0LGUpe3ZhciBuO3JldHVybiB0JiYobj1lW2UubGVuZ3RoLTFdLG4mJiJ0ZXh0Ij09PW4udHlwZT9uLnZhbHVlKz10OmUucHVzaChEKHQpKSksZX1mdW5jdGlvbiBEKHQpe3JldHVybnt0eXBlOiJ0ZXh0Iix2YWx1ZTp0fX1mdW5jdGlvbiBQKHQsZSxuKXtyZXR1cm57dHlwZToiZWxlbWVudCIsdGFnTmFtZToic3BhbiIscHJvcGVydGllczp7Y2xhc3NOYW1lOlsobj8iIjpyKSt0XX0sY2hpbGRyZW46ZX19ZnVuY3Rpb24geih0LGUpe3ZhciBuPWVbMF07cmV0dXJuIGFbZl0mJihuPW4udG9Mb3dlckNhc2UoKSksYy5jYWxsKHQua2V5d29yZHMsbikmJnQua2V5d29yZHNbbl19ZnVuY3Rpb24gSSh0LGUpe3JldHVybiFuJiZBKGUuaWxsZWdhbFJlLHQpfWZ1bmN0aW9uIGoodCxlKXtpZihBKHQuZW5kUmUsZSkpe3doaWxlKHQuZW5kc1BhcmVudCYmdC5wYXJlbnQpdD10LnBhcmVudDtyZXR1cm4gdH1pZih0LmVuZHNXaXRoUGFyZW50KXJldHVybiBqKHQucGFyZW50LGUpfWZ1bmN0aW9uIEIodCxlKXt2YXIgbj1lLmNvbnRhaW5zLHI9bi5sZW5ndGgsbz0tMTt3aGlsZSgrK288cilpZihBKG5bb10uYmVnaW5SZSx0KSlyZXR1cm4gbltvXX1mdW5jdGlvbiAkKCl7dT13LnBvcCgpfHx2fX1mdW5jdGlvbiBDKHQpe3ZhciBlLG4scixvO2lmKHQudmFyaWFudHMmJiF0W3BdKXtyPXQudmFyaWFudHMsZT1yLmxlbmd0aCxuPS0xLG89W107d2hpbGUoKytuPGUpb1tuXT1zKHQse3ZhcmlhbnRzOm51bGx9LHJbbl0pO3RbcF09b31yZXR1cm4gdFtwXXx8KHQuZW5kc1dpdGhQYXJlbnQ/W3ModCldOlt0XSl9ZnVuY3Rpb24gTSh0KXtmdW5jdGlvbiBlKG8saSl7dmFyIGEscz17fTtmdW5jdGlvbiBjKHQpe3JldHVybiB0LmJlZ2luS2V5d29yZHM/IlxcLj8oIit0LmJlZ2luKyIpXFwuPyI6dC5iZWdpbn1mdW5jdGlvbiB1KGUsbil7dmFyIHIsbyxpLGE7dFtmXSYmKG49bi50b0xvd2VyQ2FzZSgpKSxyPW4uc3BsaXQoaCksYT1yLmxlbmd0aCxpPS0xO3doaWxlKCsraTxhKW89cltpXS5zcGxpdChkKSxzW29bMF1dPVtlLG9bMV0/TnVtYmVyKG9bMV0pOjFdfW8uY29tcGlsZWR8fChvLmNvbXBpbGVkPSEwLG8ua2V5d29yZHM9by5rZXl3b3Jkc3x8by5iZWdpbktleXdvcmRzLG8ua2V5d29yZHMmJigic3RyaW5nIj09PXR5cGVvZiBvLmtleXdvcmRzP3UoImtleXdvcmQiLG8ua2V5d29yZHMpOk9iamVjdC5rZXlzKG8ua2V5d29yZHMpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3UodCxvLmtleXdvcmRzW3RdKX0pKSxvLmtleXdvcmRzPXMpLG8ubGV4ZW1lc1JlPW4oby5sZXhlbWVzfHwvXHcrLywhMCksaSYmKG8uYmVnaW5LZXl3b3JkcyYmKG8uYmVnaW49IlxcYigiK28uYmVnaW5LZXl3b3Jkcy5zcGxpdChoKS5qb2luKGQpKyIpXFxiIiksby5iZWdpbnx8KG8uYmVnaW49L1xCfFxiLyksby5iZWdpblJlPW4oby5iZWdpbiksby5lbmR8fG8uZW5kc1dpdGhQYXJlbnR8fChvLmVuZD0vXEJ8XGIvKSxvLmVuZCYmKG8uZW5kUmU9bihvLmVuZCkpLG8udGVybWluYXRvckVuZD1yKG8uZW5kKXx8IiIsby5lbmRzV2l0aFBhcmVudCYmaS50ZXJtaW5hdG9yRW5kJiYoby50ZXJtaW5hdG9yRW5kKz0oby5lbmQ/ZDoiIikraS50ZXJtaW5hdG9yRW5kKSksby5pbGxlZ2FsJiYoby5pbGxlZ2FsUmU9bihvLmlsbGVnYWwpKSx2b2lkIDA9PT1vLnJlbGV2YW5jZSYmKG8ucmVsZXZhbmNlPTEpLG8uY29udGFpbnN8fChvLmNvbnRhaW5zPVtdKSxvLmNvbnRhaW5zPWwuYXBwbHkoW10sby5jb250YWlucy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBDKCJzZWxmIj09PXQ/bzp0KX0pKSksby5jb250YWlucy5mb3JFYWNoKChmdW5jdGlvbih0KXtlKHQsbyl9KSksby5zdGFydHMmJmUoby5zdGFydHMsaSksYT1vLmNvbnRhaW5zLm1hcChjKS5jb25jYXQoW28udGVybWluYXRvckVuZCxvLmlsbGVnYWxdKS5tYXAocikuZmlsdGVyKEJvb2xlYW4pLG8udGVybWluYXRvcnM9MD09PWEubGVuZ3RoP3tleGVjOlR9Om4oYS5qb2luKGQpLCEwKSl9ZnVuY3Rpb24gbihlLG4pe3JldHVybiBuZXcgUmVnRXhwKHIoZSksIm0iKyh0W2ZdPyJpIjoiIikrKG4/ImciOiIiKSl9ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5zb3VyY2V8fHR9ZSh0KX1mdW5jdGlvbiBPKHQpe3JldHVybntyZWxldmFuY2U6dC5yZWxldmFuY2V8fDAsbGFuZ3VhZ2U6dC5sYW5ndWFnZXx8bnVsbCx2YWx1ZTp0LnZhbHVlfHxbXX19ZnVuY3Rpb24gQSh0LGUpe3ZhciBuPXQmJnQuZXhlYyhlKTtyZXR1cm4gbiYmMD09PW4uaW5kZXh9ZnVuY3Rpb24gVCgpe3JldHVybiBudWxsfWZ1bmN0aW9uIE4odCl7cmV0dXJuIHQ9dC50b0xvd2VyQ2FzZSgpLG1bdF18fG1bZ1t0XV19fSwiNDBjMyI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjZiNGMiKSxvPW4oIjUxNjgiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1yKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSksYT1mdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4gdFtlXX1jYXRjaChuKXt9fTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUsbixzO3JldHVybiB2b2lkIDA9PT10PyJVbmRlZmluZWQiOm51bGw9PT10PyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKG49YShlPU9iamVjdCh0KSxvKSk/bjppP3IoZSk6Ik9iamVjdCI9PShzPXIoZSkpJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5jYWxsZWU/IkFyZ3VtZW50cyI6c319LCI0MWEwIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjJhZWIiKSxvPW4oIjQ2MzAiKSxpPW4oIjdmMjAiKSxhPXt9O24oIjMyZTkiKShhLG4oIjJiNGMiKSgiaXRlcmF0b3IiKSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSx0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3QucHJvdG90eXBlPXIoYSx7bmV4dDpvKDEsbil9KSxpKHQsZSsiIEl0ZXJhdG9yIil9fSw0NTg4OmZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5jZWlsLHI9TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlzTmFOKHQ9K3QpPzA6KHQ+MD9yOm4pKHQpfX0sIjQ1ZjIiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJkOWY2IikuZixvPW4oIjA3ZTMiKSxpPW4oIjUxNjgiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3QmJiFvKHQ9bj90OnQucHJvdG90eXBlLGkpJiZyKHQsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOmV9KX19LDQ2MzA6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19fSwiNDY5ZiI6ZnVuY3Rpb24odCxlLG4pe24oIjZjMWMiKSxuKCIxNjU0IiksdC5leHBvcnRzPW4oIjdkN2IiKX0sIjQ4MWIiOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXt9fSwiNGJmOCI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImJlMTMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChyKHQpKX19LCI0Y2E0IjpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj17ODoiQmFja3NwYWNlIiw5OiJUYWIiLDEwOiJFbnRlciIsMTI6Ik51bUxvY2siLDEzOiJFbnRlciIsMTY6IlNoaWZ0IiwxNzoiQ29udHJvbCIsMTg6IkFsdCIsMjA6IkNhcHNMb2NrIiwyNzoiRXNjYXBlIiwzMjoiICIsMzM6IlBhZ2VVcCIsMzQ6IlBhZ2VEb3duIiwzNToiRW5kIiwzNjoiSG9tZSIsMzc6IkFycm93TGVmdCIsMzg6IkFycm93VXAiLDM5OiJBcnJvd1JpZ2h0Iiw0MDoiQXJyb3dEb3duIiw0NDoiUHJpbnRTY3JlZW4iLDQ1OiJJbnNlcnQiLDQ2OiJEZWxldGUiLDU5OiI7Iiw2MToiPSIsOTE6Ik1ldGEiLDkyOiJNZXRhIiwxMDY6IioiLDEwNzoiKyIsMTA4OiIsIiwxMDk6Ii0iLDExMDoiLiIsMTExOiIvIiwxNDQ6Ik51bUxvY2siLDE0NToiU2Nyb2xsTG9jayIsMTYwOiJTaGlmdCIsMTYxOiJTaGlmdCIsMTYyOiJDb250cm9sIiwxNjM6IkNvbnRyb2wiLDE2NDoiQWx0IiwxNjU6IkFsdCIsMTczOiItIiwxODY6IjsiLDE4NzoiPSIsMTg4OiIsIiwxODk6Ii0iLDE5MDoiLiIsMTkxOiIvIiwxOTI6ImAiLDIxOToiWyIsMjIwOiJcXCIsMjIxOiJdIiwyMjI6IiciLDIyOToicSJ9LHI9ezQ4OiIpIiw0OToiISIsNTA6IkAiLDUxOiIjIiw1MjoiJCIsNTM6IiUiLDU0OiJeIiw1NToiJiIsNTY6IioiLDU3OiIoIiw1OToiOyIsNjE6IisiLDE3MzoiXyIsMTg2OiI6IiwxODc6IisiLDE4ODoiPCIsMTg5OiJfIiwxOTA6Ij4iLDE5MToiPyIsMTkyOiJ+IiwyMTk6InsiLDIyMDoifCIsMjIxOiJ9IiwyMjI6JyInLDIyOToiUSJ9LG89InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9DaHJvbWVcLyhcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpLGk9InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9BcHBsZSBDb21wdXRlci8udGVzdChuYXZpZ2F0b3IudmVuZG9yKSxhPSJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiYvR2Vja29cL1xkKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxzPSJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiYvTWFjLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSksYz1vJiYoc3x8K29bMV08NTcpfHxhJiZzLGw9MDtsPDEwO2wrKyluWzQ4K2xdPW5bOTYrbF09U3RyaW5nKGwpO2ZvcihsPTE7bDw9MjQ7bCsrKW5bbCsxMTFdPSJGIitsO2ZvcihsPTY1O2w8PTkwO2wrKyluW2xdPVN0cmluZy5mcm9tQ2hhckNvZGUobCszMikscltsXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGwpO2Zvcih2YXIgdSBpbiBuKXIuaGFzT3duUHJvcGVydHkodSl8fChyW3VdPW5bdV0pO2Z1bmN0aW9uIGYodCl7dmFyIGU9YyYmKHQuY3RybEtleXx8dC5hbHRLZXl8fHQubWV0YUtleSl8fGkmJnQuc2hpZnRLZXkmJnQua2V5JiYxPT10LmtleS5sZW5ndGgsbz0hZSYmdC5rZXl8fCh0LnNoaWZ0S2V5P3I6bilbdC5rZXlDb2RlXXx8dC5rZXl8fCJVbmlkZW50aWZpZWQiO3JldHVybiJFc2MiPT1vJiYobz0iRXNjYXBlIiksIkRlbCI9PW8mJihvPSJEZWxldGUiKSwiTGVmdCI9PW8mJihvPSJBcnJvd0xlZnQiKSwiVXAiPT1vJiYobz0iQXJyb3dVcCIpLCJSaWdodCI9PW8mJihvPSJBcnJvd1JpZ2h0IiksIkRvd24iPT1vJiYobz0iQXJyb3dEb3duIiksb310LmV4cG9ydHM9ZixmLmJhc2U9bixmLnNoaWZ0PXJ9LCI1MDRjIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiOWUxZSIpLG89bigiMGQ1OCIpLGk9bigiNjgyMSIpLGE9bigiNTJhNyIpLmY7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbixzPWkoZSksYz1vKHMpLGw9Yy5sZW5ndGgsdT0wLGY9W107d2hpbGUobD51KW49Y1t1KytdLHImJiFhLmNhbGwocyxuKXx8Zi5wdXNoKHQ/W24sc1tuXV06c1tuXSk7cmV0dXJuIGZ9fX0sIjUwZWQiOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJue3ZhbHVlOmUsZG9uZTohIXR9fX0sNTE2ODpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZGJkYiIpKCJ3a3MiKSxvPW4oIjYyYTAiKSxpPW4oImU1M2QiKS5TeW1ib2wsYT0iZnVuY3Rpb24iPT10eXBlb2YgaSxzPXQuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gclt0XXx8KHJbdF09YSYmaVt0XXx8KGE/aTpvKSgiU3ltYm9sLiIrdCkpfTtzLnN0b3JlPXJ9LCI1MmE3IjpmdW5jdGlvbih0LGUpe2UuZj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZX0sIjUzZTIiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCIwN2UzIiksbz1uKCIyNDFlIiksaT1uKCI1NTU5IikoIklFX1BST1RPIiksYT1PYmplY3QucHJvdG90eXBlO3QuZXhwb3J0cz1PYmplY3QuZ2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKHQpe3JldHVybiB0PW8odCkscih0LGkpP3RbaV06ImZ1bmN0aW9uIj09dHlwZW9mIHQuY29uc3RydWN0b3ImJnQgaW5zdGFuY2VvZiB0LmNvbnN0cnVjdG9yP3QuY29uc3RydWN0b3IucHJvdG90eXBlOnQgaW5zdGFuY2VvZiBPYmplY3Q/YTpudWxsfX0sIjU0YTEiOmZ1bmN0aW9uKHQsZSxuKXtuKCI2YzFjIiksbigiMTY1NCIpLHQuZXhwb3J0cz1uKCI5NWQ1Iil9LDU1Mzc6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjgzNzgiKSxvPW4oIjc3MjYiKSxpPSJfX2NvcmUtanNfc2hhcmVkX18iLGE9b1tpXXx8KG9baV09e30pOyh0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYVt0XXx8KGFbdF09dm9pZCAwIT09ZT9lOnt9KX0pKCJ2ZXJzaW9ucyIsW10pLnB1c2goe3ZlcnNpb246ci52ZXJzaW9uLG1vZGU6bigiMmQwMCIpPyJwdXJlIjoiZ2xvYmFsIixjb3B5cmlnaHQ6IsKpIDIwMTkgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSkifSl9LDU1NTk6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImRiZGIiKSgia2V5cyIpLG89bigiNjJhMCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gclt0XXx8KHJbdF09byh0KSl9fSwiNTZlYyI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiYib2JqZWN0Ij09PXR5cGVvZiB0JiYiZGVmYXVsdCJpbiB0P3RbImRlZmF1bHQiXTp0fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1yKG4oIjRjYTQiKSksaT1uKCI2ZmZiIiksYT0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmL01hYy8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO2Z1bmN0aW9uIHModCl7dmFyIGUsbixyLG8saT10LnNwbGl0KC8tKD8hJCkvKSxzPWlbaS5sZW5ndGgtMV07IlNwYWNlIj09cyYmKHM9IiAiKTtmb3IodmFyIGM9MDtjPGkubGVuZ3RoLTE7YysrKXt2YXIgbD1pW2NdO2lmKC9eKGNtZHxtZXRhfG0pJC9pLnRlc3QobCkpbz0hMDtlbHNlIGlmKC9eYShsdCk/JC9pLnRlc3QobCkpZT0hMDtlbHNlIGlmKC9eKGN8Y3RybHxjb250cm9sKSQvaS50ZXN0KGwpKW49ITA7ZWxzZSBpZigvXnMoaGlmdCk/JC9pLnRlc3QobCkpcj0hMDtlbHNle2lmKCEvXm1vZCQvaS50ZXN0KGwpKXRocm93IG5ldyBFcnJvcigiVW5yZWNvZ25pemVkIG1vZGlmaWVyIG5hbWU6ICIrbCk7YT9vPSEwOm49ITB9fXJldHVybiBlJiYocz0iQWx0LSIrcyksbiYmKHM9IkN0cmwtIitzKSxvJiYocz0iTWV0YS0iK3MpLHImJihzPSJTaGlmdC0iK3MpLHN9ZnVuY3Rpb24gYyh0KXt2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcih2YXIgbiBpbiB0KWVbcyhuKV09dFtuXTtyZXR1cm4gZX1mdW5jdGlvbiBsKHQsZSxuKXtyZXR1cm4gZS5hbHRLZXkmJih0PSJBbHQtIit0KSxlLmN0cmxLZXkmJih0PSJDdHJsLSIrdCksZS5tZXRhS2V5JiYodD0iTWV0YS0iK3QpLCExIT09biYmZS5zaGlmdEtleSYmKHQ9IlNoaWZ0LSIrdCksdH1mdW5jdGlvbiB1KHQpe3JldHVybiBuZXcgaS5QbHVnaW4oe3Byb3BzOntoYW5kbGVLZXlEb3duOmYodCl9fSl9ZnVuY3Rpb24gZih0KXt2YXIgZT1jKHQpO3JldHVybiBmdW5jdGlvbih0LG4pe3ZhciByLGk9byhuKSxhPTE9PWkubGVuZ3RoJiYiICIhPWkscz1lW2woaSxuLCFhKV07aWYocyYmcyh0LnN0YXRlLHQuZGlzcGF0Y2gsdCkpcmV0dXJuITA7aWYoYSYmKG4uc2hpZnRLZXl8fG4uYWx0S2V5fHxuLm1ldGFLZXkpJiYocj1vLmJhc2Vbbi5rZXlDb2RlXSkmJnIhPWkpe3ZhciBjPWVbbChyLG4sITApXTtpZihjJiZjKHQuc3RhdGUsdC5kaXNwYXRjaCx0KSlyZXR1cm4hMH1yZXR1cm4hMX19ZS5rZXltYXA9dSxlLmtleWRvd25IYW5kbGVyPWZ9LCI1ODRhIjpmdW5jdGlvbih0LGUpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjoiMi42LjkifTsibnVtYmVyIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0sIjViNGUiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCIzNmMzIiksbz1uKCJiNDQ3IiksaT1uKCIwZmM5Iik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4sYSl7dmFyIHMsYz1yKGUpLGw9byhjLmxlbmd0aCksdT1pKGEsbCk7aWYodCYmbiE9bil7d2hpbGUobD51KWlmKHM9Y1t1KytdLHMhPXMpcmV0dXJuITB9ZWxzZSBmb3IoO2w+dTt1KyspaWYoKHR8fHUgaW4gYykmJmNbdV09PT1uKXJldHVybiB0fHx1fHwwO3JldHVybiF0JiYtMX19fSwiNWNhMSI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjc3MjYiKSxvPW4oIjgzNzgiKSxpPW4oIjMyZTkiKSxhPW4oIjJhYmEiKSxzPW4oIjliNDMiKSxjPSJwcm90b3R5cGUiLGw9ZnVuY3Rpb24odCxlLG4pe3ZhciB1LGYscCxoLGQ9dCZsLkYsdj10JmwuRyxtPXQmbC5TLGc9dCZsLlAseT10JmwuQix3PXY/cjptP3JbZV18fChyW2VdPXt9KToocltlXXx8e30pW2NdLGI9dj9vOm9bZV18fChvW2VdPXt9KSxrPWJbY118fChiW2NdPXt9KTtmb3IodSBpbiB2JiYobj1lKSxuKWY9IWQmJncmJnZvaWQgMCE9PXdbdV0scD0oZj93Om4pW3VdLGg9eSYmZj9zKHAscik6ZyYmImZ1bmN0aW9uIj09dHlwZW9mIHA/cyhGdW5jdGlvbi5jYWxsLHApOnAsdyYmYSh3LHUscCx0JmwuVSksYlt1XSE9cCYmaShiLHUsaCksZyYma1t1XSE9cCYmKGtbdV09cCl9O3IuY29yZT1vLGwuRj0xLGwuRz0yLGwuUz00LGwuUD04LGwuQj0xNixsLlc9MzIsbC5VPTY0LGwuUj0xMjgsdC5leHBvcnRzPWx9LCI1ZDczIjpmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oIjQ2OWYiKX0sIjVkYmUiOmZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24oKXt2YXIgZTtmdW5jdGlvbiBuKCl7Y29uc29sZS5sb2coby5hcHBseShudWxsLGFyZ3VtZW50cykpfWZ1bmN0aW9uIHIodCxlKXtyZXR1cm4gby5hcHBseShudWxsLFt0XS5jb25jYXQoZSkpfWZ1bmN0aW9uIG8odCl7Zm9yKHZhciBlLG4scixvLGk9MSxhPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxzPTAsYz10Lmxlbmd0aCxsPSIiLHU9ITEsZj0hMSxwPWZ1bmN0aW9uKCl7cmV0dXJuIGFbaSsrXX0saD1mdW5jdGlvbigpe3ZhciBuPSIiO3doaWxlKC9cZC8udGVzdCh0W3NdKSluKz10W3MrK10sZT10W3NdO3JldHVybiBuLmxlbmd0aD4wP3BhcnNlSW50KG4pOm51bGx9O3M8YzsrK3MpaWYoZT10W3NdLHUpc3dpdGNoKHU9ITEsIi4iPT1lPyhmPSExLGU9dFsrK3NdKToiMCI9PWUmJiIuIj09dFtzKzFdPyhmPSEwLHMrPTIsZT10W3NdKTpmPSEwLG89aCgpLGUpe2Nhc2UiYiI6bCs9cGFyc2VJbnQocCgpLDEwKS50b1N0cmluZygyKTticmVhaztjYXNlImMiOm49cCgpLCJzdHJpbmciPT09dHlwZW9mIG58fG4gaW5zdGFuY2VvZiBTdHJpbmc/bCs9bjpsKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KG4sMTApKTticmVhaztjYXNlImQiOmwrPXBhcnNlSW50KHAoKSwxMCk7YnJlYWs7Y2FzZSJmIjpyPVN0cmluZyhwYXJzZUZsb2F0KHAoKSkudG9GaXhlZChvfHw2KSksbCs9Zj9yOnIucmVwbGFjZSgvXjAvLCIiKTticmVhaztjYXNlImoiOmwrPUpTT04uc3RyaW5naWZ5KHAoKSk7YnJlYWs7Y2FzZSJvIjpsKz0iMCIrcGFyc2VJbnQocCgpLDEwKS50b1N0cmluZyg4KTticmVhaztjYXNlInMiOmwrPXAoKTticmVhaztjYXNlIngiOmwrPSIweCIrcGFyc2VJbnQocCgpLDEwKS50b1N0cmluZygxNik7YnJlYWs7Y2FzZSJYIjpsKz0iMHgiK3BhcnNlSW50KHAoKSwxMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7YnJlYWs7ZGVmYXVsdDpsKz1lO2JyZWFrfWVsc2UiJSI9PT1lP3U9ITA6bCs9ZTtyZXR1cm4gbH1lPXQuZXhwb3J0cz1vLGUuZm9ybWF0PW8sZS52c3ByaW50Zj1yLCJ1bmRlZmluZWQiIT09dHlwZW9mIGNvbnNvbGUmJiJmdW5jdGlvbiI9PT10eXBlb2YgY29uc29sZS5sb2cmJihlLnByaW50Zj1uKX0pKCl9LCI2MTNiIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiNTUzNyIpKCJrZXlzIiksbz1uKCJjYTVhIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByW3RdfHwoclt0XT1vKHQpKX19LCI2MjZhIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiMmQ5NSIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIlN0cmluZyI9PXIodCk/dC5zcGxpdCgiIik6T2JqZWN0KHQpfX0sIjYyYTAiOmZ1bmN0aW9uKHQsZSl7dmFyIG49MCxyPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09dD8iIjp0LCIpXyIsKCsrbityKS50b1N0cmluZygzNikpfX0sIjYzYjYiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJlNTNkIiksbz1uKCI1ODRhIiksaT1uKCJkODY0IiksYT1uKCIzNWU4Iikscz1uKCIwN2UzIiksYz0icHJvdG90eXBlIixsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgdSxmLHAsaD10JmwuRixkPXQmbC5HLHY9dCZsLlMsbT10JmwuUCxnPXQmbC5CLHk9dCZsLlcsdz1kP286b1tlXXx8KG9bZV09e30pLGI9d1tjXSxrPWQ/cjp2P3JbZV06KHJbZV18fHt9KVtjXTtmb3IodSBpbiBkJiYobj1lKSxuKWY9IWgmJmsmJnZvaWQgMCE9PWtbdV0sZiYmcyh3LHUpfHwocD1mP2tbdV06blt1XSx3W3VdPWQmJiJmdW5jdGlvbiIhPXR5cGVvZiBrW3VdP25bdV06ZyYmZj9pKHAscik6eSYma1t1XT09cD9mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbihlLG4scil7aWYodGhpcyBpbnN0YW5jZW9mIHQpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyB0O2Nhc2UgMTpyZXR1cm4gbmV3IHQoZSk7Y2FzZSAyOnJldHVybiBuZXcgdChlLG4pfXJldHVybiBuZXcgdChlLG4scil9cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gZVtjXT10W2NdLGV9KHApOm0mJiJmdW5jdGlvbiI9PXR5cGVvZiBwP2koRnVuY3Rpb24uY2FsbCxwKTpwLG0mJigody52aXJ0dWFsfHwody52aXJ0dWFsPXt9KSlbdV09cCx0JmwuUiYmYiYmIWJbdV0mJmEoYix1LHApKSl9O2wuRj0xLGwuRz0yLGwuUz00LGwuUD04LGwuQj0xNixsLlc9MzIsbC5VPTY0LGwuUj0xMjgsdC5leHBvcnRzPWx9LDY4MjE6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjYyNmEiKSxvPW4oImJlMTMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIobyh0KSl9fSwiNjlhOCI6ZnVuY3Rpb24odCxlKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5jYWxsKHQsZSl9fSwiNmE5OSI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImQzZjQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZighcih0KSlyZXR1cm4gdDt2YXIgbixvO2lmKGUmJiJmdW5jdGlvbiI9PXR5cGVvZihuPXQudG9TdHJpbmcpJiYhcihvPW4uY2FsbCh0KSkpcmV0dXJuIG87aWYoImZ1bmN0aW9uIj09dHlwZW9mKG49dC52YWx1ZU9mKSYmIXIobz1uLmNhbGwodCkpKXJldHVybiBvO2lmKCFlJiYiZnVuY3Rpb24iPT10eXBlb2Yobj10LnRvU3RyaW5nKSYmIXIobz1uLmNhbGwodCkpKXJldHVybiBvO3Rocm93IFR5cGVFcnJvcigiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlIil9fSwiNmI0YyI6ZnVuY3Rpb24odCxlKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG4uY2FsbCh0KS5zbGljZSg4LC0xKX19LCI2YzFjIjpmdW5jdGlvbih0LGUsbil7bigiYzM2NyIpO2Zvcih2YXIgcj1uKCJlNTNkIiksbz1uKCIzNWU4IiksaT1uKCI0ODFiIiksYT1uKCI1MTY4IikoInRvU3RyaW5nVGFnIikscz0iQ1NTUnVsZUxpc3QsQ1NTU3R5bGVEZWNsYXJhdGlvbixDU1NWYWx1ZUxpc3QsQ2xpZW50UmVjdExpc3QsRE9NUmVjdExpc3QsRE9NU3RyaW5nTGlzdCxET01Ub2tlbkxpc3QsRGF0YVRyYW5zZmVySXRlbUxpc3QsRmlsZUxpc3QsSFRNTEFsbENvbGxlY3Rpb24sSFRNTENvbGxlY3Rpb24sSFRNTEZvcm1FbGVtZW50LEhUTUxTZWxlY3RFbGVtZW50LE1lZGlhTGlzdCxNaW1lVHlwZUFycmF5LE5hbWVkTm9kZU1hcCxOb2RlTGlzdCxQYWludFJlcXVlc3RMaXN0LFBsdWdpbixQbHVnaW5BcnJheSxTVkdMZW5ndGhMaXN0LFNWR051bWJlckxpc3QsU1ZHUGF0aFNlZ0xpc3QsU1ZHUG9pbnRMaXN0LFNWR1N0cmluZ0xpc3QsU1ZHVHJhbnNmb3JtTGlzdCxTb3VyY2VCdWZmZXJMaXN0LFN0eWxlU2hlZXRMaXN0LFRleHRUcmFja0N1ZUxpc3QsVGV4dFRyYWNrTGlzdCxUb3VjaExpc3QiLnNwbGl0KCIsIiksYz0wO2M8cy5sZW5ndGg7YysrKXt2YXIgbD1zW2NdLHU9cltsXSxmPXUmJnUucHJvdG90eXBlO2YmJiFmW2FdJiZvKGYsYSxsKSxpW2xdPWkuQXJyYXl9fSwiNmYyNyI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiYib2JqZWN0Ij09PXR5cGVvZiB0JiYiZGVmYXVsdCJpbiB0P3RbImRlZmF1bHQiXTp0fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1yKG4oImZhYTEiKSk7ZnVuY3Rpb24gaSh0LGUsbil7Zm9yKHZhciByPTA7O3IrKyl7aWYocj09dC5jaGlsZENvdW50fHxyPT1lLmNoaWxkQ291bnQpcmV0dXJuIHQuY2hpbGRDb3VudD09ZS5jaGlsZENvdW50P251bGw6bjt2YXIgbz10LmNoaWxkKHIpLGE9ZS5jaGlsZChyKTtpZihvIT1hKXtpZighby5zYW1lTWFya3VwKGEpKXJldHVybiBuO2lmKG8uaXNUZXh0JiZvLnRleHQhPWEudGV4dCl7Zm9yKHZhciBzPTA7by50ZXh0W3NdPT1hLnRleHRbc107cysrKW4rKztyZXR1cm4gbn1pZihvLmNvbnRlbnQuc2l6ZXx8YS5jb250ZW50LnNpemUpe3ZhciBjPWkoby5jb250ZW50LGEuY29udGVudCxuKzEpO2lmKG51bGwhPWMpcmV0dXJuIGN9bis9by5ub2RlU2l6ZX1lbHNlIG4rPW8ubm9kZVNpemV9fWZ1bmN0aW9uIGEodCxlLG4scil7Zm9yKHZhciBvPXQuY2hpbGRDb3VudCxpPWUuY2hpbGRDb3VudDs7KXtpZigwPT1vfHwwPT1pKXJldHVybiBvPT1pP251bGw6e2E6bixiOnJ9O3ZhciBzPXQuY2hpbGQoLS1vKSxjPWUuY2hpbGQoLS1pKSxsPXMubm9kZVNpemU7aWYocyE9Yyl7aWYoIXMuc2FtZU1hcmt1cChjKSlyZXR1cm57YTpuLGI6cn07aWYocy5pc1RleHQmJnMudGV4dCE9Yy50ZXh0KXt2YXIgdT0wLGY9TWF0aC5taW4ocy50ZXh0Lmxlbmd0aCxjLnRleHQubGVuZ3RoKTt3aGlsZSh1PGYmJnMudGV4dFtzLnRleHQubGVuZ3RoLXUtMV09PWMudGV4dFtjLnRleHQubGVuZ3RoLXUtMV0pdSsrLG4tLSxyLS07cmV0dXJue2E6bixiOnJ9fWlmKHMuY29udGVudC5zaXplfHxjLmNvbnRlbnQuc2l6ZSl7dmFyIHA9YShzLmNvbnRlbnQsYy5jb250ZW50LG4tMSxyLTEpO2lmKHApcmV0dXJuIHB9bi09bCxyLT1sfWVsc2Ugbi09bCxyLT1sfX12YXIgcz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7aWYodGhpcy5jb250ZW50PXQsdGhpcy5zaXplPWV8fDAsbnVsbD09ZSlmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyluLnNpemUrPXRbcl0ubm9kZVNpemV9LGM9e2ZpcnN0Q2hpbGQ6e30sbGFzdENoaWxkOnt9LGNoaWxkQ291bnQ6e319O3MucHJvdG90eXBlLm5vZGVzQmV0d2Vlbj1mdW5jdGlvbih0LGUsbixyLG8pe3ZhciBpPXRoaXM7dm9pZCAwPT09ciYmKHI9MCk7Zm9yKHZhciBhPTAscz0wO3M8ZTthKyspe3ZhciBjPWkuY29udGVudFthXSxsPXMrYy5ub2RlU2l6ZTtpZihsPnQmJiExIT09bihjLHIrcyxvLGEpJiZjLmNvbnRlbnQuc2l6ZSl7dmFyIHU9cysxO2Mubm9kZXNCZXR3ZWVuKE1hdGgubWF4KDAsdC11KSxNYXRoLm1pbihjLmNvbnRlbnQuc2l6ZSxlLXUpLG4scit1KX1zPWx9fSxzLnByb3RvdHlwZS5kZXNjZW5kYW50cz1mdW5jdGlvbih0KXt0aGlzLm5vZGVzQmV0d2VlbigwLHRoaXMuc2l6ZSx0KX0scy5wcm90b3R5cGUudGV4dEJldHdlZW49ZnVuY3Rpb24odCxlLG4scil7dmFyIG89IiIsaT0hMDtyZXR1cm4gdGhpcy5ub2Rlc0JldHdlZW4odCxlLChmdW5jdGlvbihhLHMpe2EuaXNUZXh0PyhvKz1hLnRleHQuc2xpY2UoTWF0aC5tYXgodCxzKS1zLGUtcyksaT0hbik6YS5pc0xlYWYmJnI/KG8rPXIsaT0hbik6IWkmJmEuaXNCbG9jayYmKG8rPW4saT0hMCl9KSwwKSxvfSxzLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24odCl7aWYoIXQuc2l6ZSlyZXR1cm4gdGhpcztpZighdGhpcy5zaXplKXJldHVybiB0O3ZhciBlPXRoaXMubGFzdENoaWxkLG49dC5maXJzdENoaWxkLHI9dGhpcy5jb250ZW50LnNsaWNlKCksbz0wO2ZvcihlLmlzVGV4dCYmZS5zYW1lTWFya3VwKG4pJiYocltyLmxlbmd0aC0xXT1lLndpdGhUZXh0KGUudGV4dCtuLnRleHQpLG89MSk7bzx0LmNvbnRlbnQubGVuZ3RoO28rKylyLnB1c2godC5jb250ZW50W29dKTtyZXR1cm4gbmV3IHMocix0aGlzLnNpemUrdC5zaXplKX0scy5wcm90b3R5cGUuY3V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztpZihudWxsPT1lJiYoZT10aGlzLnNpemUpLDA9PXQmJmU9PXRoaXMuc2l6ZSlyZXR1cm4gdGhpczt2YXIgcj1bXSxvPTA7aWYoZT50KWZvcih2YXIgaT0wLGE9MDthPGU7aSsrKXt2YXIgYz1uLmNvbnRlbnRbaV0sbD1hK2Mubm9kZVNpemU7bD50JiYoKGE8dHx8bD5lKSYmKGM9Yy5pc1RleHQ/Yy5jdXQoTWF0aC5tYXgoMCx0LWEpLE1hdGgubWluKGMudGV4dC5sZW5ndGgsZS1hKSk6Yy5jdXQoTWF0aC5tYXgoMCx0LWEtMSksTWF0aC5taW4oYy5jb250ZW50LnNpemUsZS1hLTEpKSksci5wdXNoKGMpLG8rPWMubm9kZVNpemUpLGE9bH1yZXR1cm4gbmV3IHMocixvKX0scy5wcm90b3R5cGUuY3V0QnlJbmRleD1mdW5jdGlvbih0LGUpe3JldHVybiB0PT1lP3MuZW1wdHk6MD09dCYmZT09dGhpcy5jb250ZW50Lmxlbmd0aD90aGlzOm5ldyBzKHRoaXMuY29udGVudC5zbGljZSh0LGUpKX0scy5wcm90b3R5cGUucmVwbGFjZUNoaWxkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5jb250ZW50W3RdO2lmKG49PWUpcmV0dXJuIHRoaXM7dmFyIHI9dGhpcy5jb250ZW50LnNsaWNlKCksbz10aGlzLnNpemUrZS5ub2RlU2l6ZS1uLm5vZGVTaXplO3JldHVybiByW3RdPWUsbmV3IHMocixvKX0scy5wcm90b3R5cGUuYWRkVG9TdGFydD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHMoW3RdLmNvbmNhdCh0aGlzLmNvbnRlbnQpLHRoaXMuc2l6ZSt0Lm5vZGVTaXplKX0scy5wcm90b3R5cGUuYWRkVG9FbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBzKHRoaXMuY29udGVudC5jb25jYXQodCksdGhpcy5zaXplK3Qubm9kZVNpemUpfSxzLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKHRoaXMuY29udGVudC5sZW5ndGghPXQuY29udGVudC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0aGlzLmNvbnRlbnQubGVuZ3RoO24rKylpZighZS5jb250ZW50W25dLmVxKHQuY29udGVudFtuXSkpcmV0dXJuITE7cmV0dXJuITB9LGMuZmlyc3RDaGlsZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aD90aGlzLmNvbnRlbnRbMF06bnVsbH0sYy5sYXN0Q2hpbGQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGg/dGhpcy5jb250ZW50W3RoaXMuY29udGVudC5sZW5ndGgtMV06bnVsbH0sYy5jaGlsZENvdW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQubGVuZ3RofSxzLnByb3RvdHlwZS5jaGlsZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRlbnRbdF07aWYoIWUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4ICIrdCsiIG91dCBvZiByYW5nZSBmb3IgIit0aGlzKTtyZXR1cm4gZX0scy5wcm90b3R5cGUubWF5YmVDaGlsZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250ZW50W3RdfSxzLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLG49MCxyPTA7bjx0aGlzLmNvbnRlbnQubGVuZ3RoO24rKyl7dmFyIG89ZS5jb250ZW50W25dO3QobyxyLG4pLHIrPW8ubm9kZVNpemV9fSxzLnByb3RvdHlwZS5maW5kRGlmZlN0YXJ0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLGkodGhpcyx0LGUpfSxzLnByb3RvdHlwZS5maW5kRGlmZkVuZD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHZvaWQgMD09PWUmJihlPXRoaXMuc2l6ZSksdm9pZCAwPT09biYmKG49dC5zaXplKSxhKHRoaXMsdCxlLG4pfSxzLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKHZvaWQgMD09PWUmJihlPS0xKSwwPT10KXJldHVybiB1KDAsdCk7aWYodD09dGhpcy5zaXplKXJldHVybiB1KHRoaXMuY29udGVudC5sZW5ndGgsdCk7aWYodD50aGlzLnNpemV8fHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiUG9zaXRpb24gIit0KyIgb3V0c2lkZSBvZiBmcmFnbWVudCAoIit0aGlzKyIpIik7Zm9yKHZhciByPTAsbz0wOztyKyspe3ZhciBpPW4uY2hpbGQociksYT1vK2kubm9kZVNpemU7aWYoYT49dClyZXR1cm4gYT09dHx8ZT4wP3UocisxLGEpOnUocixvKTtvPWF9fSxzLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiI8Iit0aGlzLnRvU3RyaW5nSW5uZXIoKSsiPiJ9LHMucHJvdG90eXBlLnRvU3RyaW5nSW5uZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50LmpvaW4oIiwgIil9LHMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQubGVuZ3RoP3RoaXMuY29udGVudC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvSlNPTigpfSkpOm51bGx9LHMuZnJvbUpTT049ZnVuY3Rpb24odCxlKXtpZighZSlyZXR1cm4gcy5lbXB0eTtpZighQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgRnJhZ21lbnQuZnJvbUpTT04iKTtyZXR1cm4gbmV3IHMoZS5tYXAodC5ub2RlRnJvbUpTT04pKX0scy5mcm9tQXJyYXk9ZnVuY3Rpb24odCl7aWYoIXQubGVuZ3RoKXJldHVybiBzLmVtcHR5O2Zvcih2YXIgZSxuPTAscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO24rPW8ubm9kZVNpemUsciYmby5pc1RleHQmJnRbci0xXS5zYW1lTWFya3VwKG8pPyhlfHwoZT10LnNsaWNlKDAscikpLGVbZS5sZW5ndGgtMV09by53aXRoVGV4dChlW2UubGVuZ3RoLTFdLnRleHQrby50ZXh0KSk6ZSYmZS5wdXNoKG8pfXJldHVybiBuZXcgcyhlfHx0LG4pfSxzLmZyb209ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIHMuZW1wdHk7aWYodCBpbnN0YW5jZW9mIHMpcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdGhpcy5mcm9tQXJyYXkodCk7aWYodC5hdHRycylyZXR1cm4gbmV3IHMoW3RdLHQubm9kZVNpemUpO3Rocm93IG5ldyBSYW5nZUVycm9yKCJDYW4gbm90IGNvbnZlcnQgIit0KyIgdG8gYSBGcmFnbWVudCIrKHQubm9kZXNCZXR3ZWVuPyIgKGxvb2tzIGxpa2UgbXVsdGlwbGUgdmVyc2lvbnMgb2YgcHJvc2VtaXJyb3ItbW9kZWwgd2VyZSBsb2FkZWQpIjoiIikpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzLnByb3RvdHlwZSxjKTt2YXIgbD17aW5kZXg6MCxvZmZzZXQ6MH07ZnVuY3Rpb24gdSh0LGUpe3JldHVybiBsLmluZGV4PXQsbC5vZmZzZXQ9ZSxsfWZ1bmN0aW9uIGYodCxlKXtpZih0PT09ZSlyZXR1cm4hMDtpZighdHx8Im9iamVjdCIhPXR5cGVvZiB0fHwhZXx8Im9iamVjdCIhPXR5cGVvZiBlKXJldHVybiExO3ZhciBuPUFycmF5LmlzQXJyYXkodCk7aWYoQXJyYXkuaXNBcnJheShlKSE9bilyZXR1cm4hMTtpZihuKXtpZih0Lmxlbmd0aCE9ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspaWYoIWYodFtyXSxlW3JdKSlyZXR1cm4hMX1lbHNle2Zvcih2YXIgbyBpbiB0KWlmKCEobyBpbiBlKXx8IWYodFtvXSxlW29dKSlyZXR1cm4hMTtmb3IodmFyIGkgaW4gZSlpZighKGkgaW4gdCkpcmV0dXJuITF9cmV0dXJuITB9cy5lbXB0eT1uZXcgcyhbXSwwKTt2YXIgcD1mdW5jdGlvbih0LGUpe3RoaXMudHlwZT10LHRoaXMuYXR0cnM9ZX07ZnVuY3Rpb24gaCh0KXt2YXIgZT1FcnJvci5jYWxsKHRoaXMsdCk7cmV0dXJuIGUuX19wcm90b19fPWgucHJvdG90eXBlLGV9cC5wcm90b3R5cGUuYWRkVG9TZXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49dGhpcyxyPSExLG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIGk9dFtvXTtpZihuLmVxKGkpKXJldHVybiB0O2lmKG4udHlwZS5leGNsdWRlcyhpLnR5cGUpKWV8fChlPXQuc2xpY2UoMCxvKSk7ZWxzZXtpZihpLnR5cGUuZXhjbHVkZXMobi50eXBlKSlyZXR1cm4gdDshciYmaS50eXBlLnJhbms+bi50eXBlLnJhbmsmJihlfHwoZT10LnNsaWNlKDAsbykpLGUucHVzaChuKSxyPSEwKSxlJiZlLnB1c2goaSl9fXJldHVybiBlfHwoZT10LnNsaWNlKCkpLHJ8fGUucHVzaCh0aGlzKSxlfSxwLnByb3RvdHlwZS5yZW1vdmVGcm9tU2V0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLG49MDtuPHQubGVuZ3RoO24rKylpZihlLmVxKHRbbl0pKXJldHVybiB0LnNsaWNlKDAsbikuY29uY2F0KHQuc2xpY2UobisxKSk7cmV0dXJuIHR9LHAucHJvdG90eXBlLmlzSW5TZXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj0wO248dC5sZW5ndGg7bisrKWlmKGUuZXEodFtuXSkpcmV0dXJuITA7cmV0dXJuITF9LHAucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT10fHx0aGlzLnR5cGU9PXQudHlwZSYmZih0aGlzLmF0dHJzLHQuYXR0cnMpfSxwLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9e3R5cGU6dGhpcy50eXBlLm5hbWV9O2Zvcih2YXIgbiBpbiB0LmF0dHJzKXtlLmF0dHJzPXQuYXR0cnM7YnJlYWt9cmV0dXJuIGV9LHAuZnJvbUpTT049ZnVuY3Rpb24odCxlKXtpZighZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgTWFyay5mcm9tSlNPTiIpO3ZhciBuPXQubWFya3NbZS50eXBlXTtpZighbil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGhlcmUgaXMgbm8gbWFyayB0eXBlICIrZS50eXBlKyIgaW4gdGhpcyBzY2hlbWEiKTtyZXR1cm4gbi5jcmVhdGUoZS5hdHRycyl9LHAuc2FtZVNldD1mdW5jdGlvbih0LGUpe2lmKHQ9PWUpcmV0dXJuITA7aWYodC5sZW5ndGghPWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKCF0W25dLmVxKGVbbl0pKXJldHVybiExO3JldHVybiEwfSxwLnNldEZyb209ZnVuY3Rpb24odCl7aWYoIXR8fDA9PXQubGVuZ3RoKXJldHVybiBwLm5vbmU7aWYodCBpbnN0YW5jZW9mIHApcmV0dXJuW3RdO3ZhciBlPXQuc2xpY2UoKTtyZXR1cm4gZS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnR5cGUucmFuay1lLnR5cGUucmFua30pKSxlfSxwLm5vbmU9W10saC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLGgucHJvdG90eXBlLmNvbnN0cnVjdG9yPWgsaC5wcm90b3R5cGUubmFtZT0iUmVwbGFjZUVycm9yIjt2YXIgZD1mdW5jdGlvbih0LGUsbil7dGhpcy5jb250ZW50PXQsdGhpcy5vcGVuU3RhcnQ9ZSx0aGlzLm9wZW5FbmQ9bn0sdj17c2l6ZTp7fX07ZnVuY3Rpb24gbSh0LGUsbil7dmFyIHI9dC5maW5kSW5kZXgoZSksbz1yLmluZGV4LGk9ci5vZmZzZXQsYT10Lm1heWJlQ2hpbGQobykscz10LmZpbmRJbmRleChuKSxjPXMuaW5kZXgsbD1zLm9mZnNldDtpZihpPT1lfHxhLmlzVGV4dCl7aWYobCE9biYmIXQuY2hpbGQoYykuaXNUZXh0KXRocm93IG5ldyBSYW5nZUVycm9yKCJSZW1vdmluZyBub24tZmxhdCByYW5nZSIpO3JldHVybiB0LmN1dCgwLGUpLmFwcGVuZCh0LmN1dChuKSl9aWYobyE9Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiUmVtb3Zpbmcgbm9uLWZsYXQgcmFuZ2UiKTtyZXR1cm4gdC5yZXBsYWNlQ2hpbGQobyxhLmNvcHkobShhLmNvbnRlbnQsZS1pLTEsbi1pLTEpKSl9ZnVuY3Rpb24gZyh0LGUsbixyKXt2YXIgbz10LmZpbmRJbmRleChlKSxpPW8uaW5kZXgsYT1vLm9mZnNldCxzPXQubWF5YmVDaGlsZChpKTtpZihhPT1lfHxzLmlzVGV4dClyZXR1cm4gciYmIXIuY2FuUmVwbGFjZShpLGksbik/bnVsbDp0LmN1dCgwLGUpLmFwcGVuZChuKS5hcHBlbmQodC5jdXQoZSkpO3ZhciBjPWcocy5jb250ZW50LGUtYS0xLG4pO3JldHVybiBjJiZ0LnJlcGxhY2VDaGlsZChpLHMuY29weShjKSl9ZnVuY3Rpb24geSh0LGUsbil7aWYobi5vcGVuU3RhcnQ+dC5kZXB0aCl0aHJvdyBuZXcgaCgiSW5zZXJ0ZWQgY29udGVudCBkZWVwZXIgdGhhbiBpbnNlcnRpb24gcG9zaXRpb24iKTtpZih0LmRlcHRoLW4ub3BlblN0YXJ0IT1lLmRlcHRoLW4ub3BlbkVuZCl0aHJvdyBuZXcgaCgiSW5jb25zaXN0ZW50IG9wZW4gZGVwdGhzIik7cmV0dXJuIHcodCxlLG4sMCl9ZnVuY3Rpb24gdyh0LGUsbixyKXt2YXIgbz10LmluZGV4KHIpLGk9dC5ub2RlKHIpO2lmKG89PWUuaW5kZXgocikmJnI8dC5kZXB0aC1uLm9wZW5TdGFydCl7dmFyIGE9dyh0LGUsbixyKzEpO3JldHVybiBpLmNvcHkoaS5jb250ZW50LnJlcGxhY2VDaGlsZChvLGEpKX1pZihuLmNvbnRlbnQuc2l6ZSl7aWYobi5vcGVuU3RhcnR8fG4ub3BlbkVuZHx8dC5kZXB0aCE9cnx8ZS5kZXB0aCE9cil7dmFyIHM9QShuLHQpLGM9cy5zdGFydCxsPXMuZW5kO3JldHVybiBDKGksTSh0LGMsbCxlLHIpKX12YXIgdT10LnBhcmVudCxmPXUuY29udGVudDtyZXR1cm4gQyh1LGYuY3V0KDAsdC5wYXJlbnRPZmZzZXQpLmFwcGVuZChuLmNvbnRlbnQpLmFwcGVuZChmLmN1dChlLnBhcmVudE9mZnNldCkpKX1yZXR1cm4gQyhpLE8odCxlLHIpKX1mdW5jdGlvbiBiKHQsZSl7aWYoIWUudHlwZS5jb21wYXRpYmxlQ29udGVudCh0LnR5cGUpKXRocm93IG5ldyBoKCJDYW5ub3Qgam9pbiAiK2UudHlwZS5uYW1lKyIgb250byAiK3QudHlwZS5uYW1lKX1mdW5jdGlvbiBrKHQsZSxuKXt2YXIgcj10Lm5vZGUobik7cmV0dXJuIGIocixlLm5vZGUobikpLHJ9ZnVuY3Rpb24gUyh0LGUpe3ZhciBuPWUubGVuZ3RoLTE7bj49MCYmdC5pc1RleHQmJnQuc2FtZU1hcmt1cChlW25dKT9lW25dPXQud2l0aFRleHQoZVtuXS50ZXh0K3QudGV4dCk6ZS5wdXNoKHQpfWZ1bmN0aW9uIHgodCxlLG4scil7dmFyIG89KGV8fHQpLm5vZGUobiksaT0wLGE9ZT9lLmluZGV4KG4pOm8uY2hpbGRDb3VudDt0JiYoaT10LmluZGV4KG4pLHQuZGVwdGg+bj9pKys6dC50ZXh0T2Zmc2V0JiYoUyh0Lm5vZGVBZnRlcixyKSxpKyspKTtmb3IodmFyIHM9aTtzPGE7cysrKVMoby5jaGlsZChzKSxyKTtlJiZlLmRlcHRoPT1uJiZlLnRleHRPZmZzZXQmJlMoZS5ub2RlQmVmb3JlLHIpfWZ1bmN0aW9uIEModCxlKXtpZighdC50eXBlLnZhbGlkQ29udGVudChlKSl0aHJvdyBuZXcgaCgiSW52YWxpZCBjb250ZW50IGZvciBub2RlICIrdC50eXBlLm5hbWUpO3JldHVybiB0LmNvcHkoZSl9ZnVuY3Rpb24gTSh0LGUsbixyLG8pe3ZhciBpPXQuZGVwdGg+byYmayh0LGUsbysxKSxhPXIuZGVwdGg+byYmayhuLHIsbysxKSxjPVtdO3JldHVybiB4KG51bGwsdCxvLGMpLGkmJmEmJmUuaW5kZXgobyk9PW4uaW5kZXgobyk/KGIoaSxhKSxTKEMoaSxNKHQsZSxuLHIsbysxKSksYykpOihpJiZTKEMoaSxPKHQsZSxvKzEpKSxjKSx4KGUsbixvLGMpLGEmJlMoQyhhLE8obixyLG8rMSkpLGMpKSx4KHIsbnVsbCxvLGMpLG5ldyBzKGMpfWZ1bmN0aW9uIE8odCxlLG4pe3ZhciByPVtdO2lmKHgobnVsbCx0LG4sciksdC5kZXB0aD5uKXt2YXIgbz1rKHQsZSxuKzEpO1MoQyhvLE8odCxlLG4rMSkpLHIpfXJldHVybiB4KGUsbnVsbCxuLHIpLG5ldyBzKHIpfWZ1bmN0aW9uIEEodCxlKXtmb3IodmFyIG49ZS5kZXB0aC10Lm9wZW5TdGFydCxyPWUubm9kZShuKSxvPXIuY29weSh0LmNvbnRlbnQpLGk9bi0xO2k+PTA7aS0tKW89ZS5ub2RlKGkpLmNvcHkocy5mcm9tKG8pKTtyZXR1cm57c3RhcnQ6by5yZXNvbHZlTm9DYWNoZSh0Lm9wZW5TdGFydCtuKSxlbmQ6by5yZXNvbHZlTm9DYWNoZShvLmNvbnRlbnQuc2l6ZS10Lm9wZW5FbmQtbil9fXYuc2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50LnNpemUtdGhpcy5vcGVuU3RhcnQtdGhpcy5vcGVuRW5kfSxkLnByb3RvdHlwZS5pbnNlcnRBdD1mdW5jdGlvbih0LGUpe3ZhciBuPWcodGhpcy5jb250ZW50LHQrdGhpcy5vcGVuU3RhcnQsZSxudWxsKTtyZXR1cm4gbiYmbmV3IGQobix0aGlzLm9wZW5TdGFydCx0aGlzLm9wZW5FbmQpfSxkLnByb3RvdHlwZS5yZW1vdmVCZXR3ZWVuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBkKG0odGhpcy5jb250ZW50LHQrdGhpcy5vcGVuU3RhcnQsZSt0aGlzLm9wZW5TdGFydCksdGhpcy5vcGVuU3RhcnQsdGhpcy5vcGVuRW5kKX0sZC5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udGVudC5lcSh0LmNvbnRlbnQpJiZ0aGlzLm9wZW5TdGFydD09dC5vcGVuU3RhcnQmJnRoaXMub3BlbkVuZD09dC5vcGVuRW5kfSxkLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQrIigiK3RoaXMub3BlblN0YXJ0KyIsIit0aGlzLm9wZW5FbmQrIikifSxkLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtpZighdGhpcy5jb250ZW50LnNpemUpcmV0dXJuIG51bGw7dmFyIHQ9e2NvbnRlbnQ6dGhpcy5jb250ZW50LnRvSlNPTigpfTtyZXR1cm4gdGhpcy5vcGVuU3RhcnQ+MCYmKHQub3BlblN0YXJ0PXRoaXMub3BlblN0YXJ0KSx0aGlzLm9wZW5FbmQ+MCYmKHQub3BlbkVuZD10aGlzLm9wZW5FbmQpLHR9LGQuZnJvbUpTT049ZnVuY3Rpb24odCxlKXtpZighZSlyZXR1cm4gZC5lbXB0eTt2YXIgbj1lLm9wZW5TdGFydHx8MCxyPWUub3BlbkVuZHx8MDtpZigibnVtYmVyIiE9dHlwZW9mIG58fCJudW1iZXIiIT10eXBlb2Ygcil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgU2xpY2UuZnJvbUpTT04iKTtyZXR1cm4gbmV3IGQocy5mcm9tSlNPTih0LGUuY29udGVudCksZS5vcGVuU3RhcnR8fDAsZS5vcGVuRW5kfHwwKX0sZC5tYXhPcGVuPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITApO2Zvcih2YXIgbj0wLHI9MCxvPXQuZmlyc3RDaGlsZDtvJiYhby5pc0xlYWYmJihlfHwhby50eXBlLnNwZWMuaXNvbGF0aW5nKTtvPW8uZmlyc3RDaGlsZCluKys7Zm9yKHZhciBpPXQubGFzdENoaWxkO2kmJiFpLmlzTGVhZiYmKGV8fCFpLnR5cGUuc3BlYy5pc29sYXRpbmcpO2k9aS5sYXN0Q2hpbGQpcisrO3JldHVybiBuZXcgZCh0LG4scil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGQucHJvdG90eXBlLHYpLGQuZW1wdHk9bmV3IGQocy5lbXB0eSwwLDApO3ZhciBUPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnBvcz10LHRoaXMucGF0aD1lLHRoaXMuZGVwdGg9ZS5sZW5ndGgvMy0xLHRoaXMucGFyZW50T2Zmc2V0PW59LE49e3BhcmVudDp7fSxkb2M6e30sdGV4dE9mZnNldDp7fSxub2RlQWZ0ZXI6e30sbm9kZUJlZm9yZTp7fX07VC5wcm90b3R5cGUucmVzb2x2ZURlcHRoPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P3RoaXMuZGVwdGg6dDwwP3RoaXMuZGVwdGgrdDp0fSxOLnBhcmVudC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlKHRoaXMuZGVwdGgpfSxOLmRvYy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlKDApfSxULnByb3RvdHlwZS5ub2RlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBhdGhbMyp0aGlzLnJlc29sdmVEZXB0aCh0KV19LFQucHJvdG90eXBlLmluZGV4PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBhdGhbMyp0aGlzLnJlc29sdmVEZXB0aCh0KSsxXX0sVC5wcm90b3R5cGUuaW5kZXhBZnRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLnJlc29sdmVEZXB0aCh0KSx0aGlzLmluZGV4KHQpKyh0IT10aGlzLmRlcHRofHx0aGlzLnRleHRPZmZzZXQ/MTowKX0sVC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dGhpcy5yZXNvbHZlRGVwdGgodCksMD09dD8wOnRoaXMucGF0aFszKnQtMV0rMX0sVC5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0PXRoaXMucmVzb2x2ZURlcHRoKHQpLHRoaXMuc3RhcnQodCkrdGhpcy5ub2RlKHQpLmNvbnRlbnQuc2l6ZX0sVC5wcm90b3R5cGUuYmVmb3JlPWZ1bmN0aW9uKHQpe2lmKHQ9dGhpcy5yZXNvbHZlRGVwdGgodCksIXQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRoZXJlIGlzIG5vIHBvc2l0aW9uIGJlZm9yZSB0aGUgdG9wLWxldmVsIG5vZGUiKTtyZXR1cm4gdD09dGhpcy5kZXB0aCsxP3RoaXMucG9zOnRoaXMucGF0aFszKnQtMV19LFQucHJvdG90eXBlLmFmdGVyPWZ1bmN0aW9uKHQpe2lmKHQ9dGhpcy5yZXNvbHZlRGVwdGgodCksIXQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRoZXJlIGlzIG5vIHBvc2l0aW9uIGFmdGVyIHRoZSB0b3AtbGV2ZWwgbm9kZSIpO3JldHVybiB0PT10aGlzLmRlcHRoKzE/dGhpcy5wb3M6dGhpcy5wYXRoWzMqdC0xXSt0aGlzLnBhdGhbMyp0XS5ub2RlU2l6ZX0sTi50ZXh0T2Zmc2V0LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBvcy10aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aC0xXX0sTi5ub2RlQWZ0ZXIuZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wYXJlbnQsZT10aGlzLmluZGV4KHRoaXMuZGVwdGgpO2lmKGU9PXQuY2hpbGRDb3VudClyZXR1cm4gbnVsbDt2YXIgbj10aGlzLnBvcy10aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aC0xXSxyPXQuY2hpbGQoZSk7cmV0dXJuIG4/dC5jaGlsZChlKS5jdXQobik6cn0sTi5ub2RlQmVmb3JlLmdldD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuaW5kZXgodGhpcy5kZXB0aCksZT10aGlzLnBvcy10aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aC0xXTtyZXR1cm4gZT90aGlzLnBhcmVudC5jaGlsZCh0KS5jdXQoMCxlKTowPT10P251bGw6dGhpcy5wYXJlbnQuY2hpbGQodC0xKX0sVC5wcm90b3R5cGUubWFya3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhcmVudCxlPXRoaXMuaW5kZXgoKTtpZigwPT10LmNvbnRlbnQuc2l6ZSlyZXR1cm4gcC5ub25lO2lmKHRoaXMudGV4dE9mZnNldClyZXR1cm4gdC5jaGlsZChlKS5tYXJrczt2YXIgbj10Lm1heWJlQ2hpbGQoZS0xKSxyPXQubWF5YmVDaGlsZChlKTtpZighbil7dmFyIG89bjtuPXIscj1vfWZvcih2YXIgaT1uLm1hcmtzLGE9MDthPGkubGVuZ3RoO2ErKykhMSE9PWlbYV0udHlwZS5zcGVjLmluY2x1c2l2ZXx8ciYmaVthXS5pc0luU2V0KHIubWFya3MpfHwoaT1pW2EtLV0ucmVtb3ZlRnJvbVNldChpKSk7cmV0dXJuIGl9LFQucHJvdG90eXBlLm1hcmtzQWNyb3NzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucGFyZW50Lm1heWJlQ2hpbGQodGhpcy5pbmRleCgpKTtpZighZXx8IWUuaXNJbmxpbmUpcmV0dXJuIG51bGw7Zm9yKHZhciBuPWUubWFya3Mscj10LnBhcmVudC5tYXliZUNoaWxkKHQuaW5kZXgoKSksbz0wO288bi5sZW5ndGg7bysrKSExIT09bltvXS50eXBlLnNwZWMuaW5jbHVzaXZlfHxyJiZuW29dLmlzSW5TZXQoci5tYXJrcyl8fChuPW5bby0tXS5yZW1vdmVGcm9tU2V0KG4pKTtyZXR1cm4gbn0sVC5wcm90b3R5cGUuc2hhcmVkRGVwdGg9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj10aGlzLmRlcHRoO24+MDtuLS0paWYoZS5zdGFydChuKTw9dCYmZS5lbmQobik+PXQpcmV0dXJuIG47cmV0dXJuIDB9LFQucHJvdG90eXBlLmJsb2NrUmFuZ2U9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKHZvaWQgMD09PXQmJih0PXRoaXMpLHQucG9zPHRoaXMucG9zKXJldHVybiB0LmJsb2NrUmFuZ2UodGhpcyk7Zm9yKHZhciByPXRoaXMuZGVwdGgtKHRoaXMucGFyZW50LmlubGluZUNvbnRlbnR8fHRoaXMucG9zPT10LnBvcz8xOjApO3I+PTA7ci0tKWlmKHQucG9zPD1uLmVuZChyKSYmKCFlfHxlKG4ubm9kZShyKSkpKXJldHVybiBuZXcgRChuLHQscil9LFQucHJvdG90eXBlLnNhbWVQYXJlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucG9zLXRoaXMucGFyZW50T2Zmc2V0PT10LnBvcy10LnBhcmVudE9mZnNldH0sVC5wcm90b3R5cGUubWF4PWZ1bmN0aW9uKHQpe3JldHVybiB0LnBvcz50aGlzLnBvcz90OnRoaXN9LFQucHJvdG90eXBlLm1pbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5wb3M8dGhpcy5wb3M/dDp0aGlzfSxULnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLGU9IiIsbj0xO248PXRoaXMuZGVwdGg7bisrKWUrPShlPyIvIjoiIikrdC5ub2RlKG4pLnR5cGUubmFtZSsiXyIrdC5pbmRleChuLTEpO3JldHVybiBlKyI6Iit0aGlzLnBhcmVudE9mZnNldH0sVC5yZXNvbHZlPWZ1bmN0aW9uKHQsZSl7aWYoIShlPj0wJiZlPD10LmNvbnRlbnQuc2l6ZSkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlBvc2l0aW9uICIrZSsiIG91dCBvZiByYW5nZSIpO2Zvcih2YXIgbj1bXSxyPTAsbz1lLGk9dDs7KXt2YXIgYT1pLmNvbnRlbnQuZmluZEluZGV4KG8pLHM9YS5pbmRleCxjPWEub2Zmc2V0LGw9by1jO2lmKG4ucHVzaChpLHMscitjKSwhbClicmVhaztpZihpPWkuY2hpbGQocyksaS5pc1RleHQpYnJlYWs7bz1sLTEscis9YysxfXJldHVybiBuZXcgVChlLG4sbyl9LFQucmVzb2x2ZUNhY2hlZD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248RS5sZW5ndGg7bisrKXt2YXIgcj1FW25dO2lmKHIucG9zPT1lJiZyLmRvYz09dClyZXR1cm4gcn12YXIgbz1FW19dPVQucmVzb2x2ZSh0LGUpO3JldHVybiBfPShfKzEpJVIsb30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoVC5wcm90b3R5cGUsTik7dmFyIEU9W10sXz0wLFI9MTIsRD1mdW5jdGlvbih0LGUsbil7dGhpcy4kZnJvbT10LHRoaXMuJHRvPWUsdGhpcy5kZXB0aD1ufSxQPXtzdGFydDp7fSxlbmQ6e30scGFyZW50Ont9LHN0YXJ0SW5kZXg6e30sZW5kSW5kZXg6e319O1Auc3RhcnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGZyb20uYmVmb3JlKHRoaXMuZGVwdGgrMSl9LFAuZW5kLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiR0by5hZnRlcih0aGlzLmRlcHRoKzEpfSxQLnBhcmVudC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZnJvbS5ub2RlKHRoaXMuZGVwdGgpfSxQLnN0YXJ0SW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGZyb20uaW5kZXgodGhpcy5kZXB0aCl9LFAuZW5kSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHRvLmluZGV4QWZ0ZXIodGhpcy5kZXB0aCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEQucHJvdG90eXBlLFApO3ZhciB6PU9iamVjdC5jcmVhdGUobnVsbCksST1mdW5jdGlvbih0LGUsbixyKXt0aGlzLnR5cGU9dCx0aGlzLmF0dHJzPWUsdGhpcy5jb250ZW50PW58fHMuZW1wdHksdGhpcy5tYXJrcz1yfHxwLm5vbmV9LGo9e25vZGVTaXplOnt9LGNoaWxkQ291bnQ6e30sdGV4dENvbnRlbnQ6e30sZmlyc3RDaGlsZDp7fSxsYXN0Q2hpbGQ6e30saXNCbG9jazp7fSxpc1RleHRibG9jazp7fSxpbmxpbmVDb250ZW50Ont9LGlzSW5saW5lOnt9LGlzVGV4dDp7fSxpc0xlYWY6e30saXNBdG9tOnt9fTtqLm5vZGVTaXplLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzTGVhZj8xOjIrdGhpcy5jb250ZW50LnNpemV9LGouY2hpbGRDb3VudC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50LmNoaWxkQ291bnR9LEkucHJvdG90eXBlLmNoaWxkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbnRlbnQuY2hpbGQodCl9LEkucHJvdG90eXBlLm1heWJlQ2hpbGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udGVudC5tYXliZUNoaWxkKHQpfSxJLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHQpe3RoaXMuY29udGVudC5mb3JFYWNoKHQpfSxJLnByb3RvdHlwZS5ub2Rlc0JldHdlZW49ZnVuY3Rpb24odCxlLG4scil7dm9pZCAwPT09ciYmKHI9MCksdGhpcy5jb250ZW50Lm5vZGVzQmV0d2Vlbih0LGUsbixyLHRoaXMpfSxJLnByb3RvdHlwZS5kZXNjZW5kYW50cz1mdW5jdGlvbih0KXt0aGlzLm5vZGVzQmV0d2VlbigwLHRoaXMuY29udGVudC5zaXplLHQpfSxqLnRleHRDb250ZW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHRCZXR3ZWVuKDAsdGhpcy5jb250ZW50LnNpemUsIiIpfSxJLnByb3RvdHlwZS50ZXh0QmV0d2Vlbj1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gdGhpcy5jb250ZW50LnRleHRCZXR3ZWVuKHQsZSxuLHIpfSxqLmZpcnN0Q2hpbGQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudC5maXJzdENoaWxkfSxqLmxhc3RDaGlsZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50Lmxhc3RDaGlsZH0sSS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PXR8fHRoaXMuc2FtZU1hcmt1cCh0KSYmdGhpcy5jb250ZW50LmVxKHQuY29udGVudCl9LEkucHJvdG90eXBlLnNhbWVNYXJrdXA9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGFzTWFya3VwKHQudHlwZSx0LmF0dHJzLHQubWFya3MpfSxJLnByb3RvdHlwZS5oYXNNYXJrdXA9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLnR5cGU9PXQmJmYodGhpcy5hdHRycyxlfHx0LmRlZmF1bHRBdHRyc3x8eikmJnAuc2FtZVNldCh0aGlzLm1hcmtzLG58fHAubm9uZSl9LEkucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PW51bGwpLHQ9PXRoaXMuY29udGVudD90aGlzOm5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMudHlwZSx0aGlzLmF0dHJzLHQsdGhpcy5tYXJrcyl9LEkucHJvdG90eXBlLm1hcms9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PXRoaXMubWFya3M/dGhpczpuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLnR5cGUsdGhpcy5hdHRycyx0aGlzLmNvbnRlbnQsdCl9LEkucHJvdG90eXBlLmN1dD1mdW5jdGlvbih0LGUpe3JldHVybiAwPT10JiZlPT10aGlzLmNvbnRlbnQuc2l6ZT90aGlzOnRoaXMuY29weSh0aGlzLmNvbnRlbnQuY3V0KHQsZSkpfSxJLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUsbil7aWYodm9pZCAwPT09ZSYmKGU9dGhpcy5jb250ZW50LnNpemUpLHZvaWQgMD09PW4mJihuPSExKSx0PT1lKXJldHVybiBkLmVtcHR5O3ZhciByPXRoaXMucmVzb2x2ZSh0KSxvPXRoaXMucmVzb2x2ZShlKSxpPW4/MDpyLnNoYXJlZERlcHRoKGUpLGE9ci5zdGFydChpKSxzPXIubm9kZShpKSxjPXMuY29udGVudC5jdXQoci5wb3MtYSxvLnBvcy1hKTtyZXR1cm4gbmV3IGQoYyxyLmRlcHRoLWksby5kZXB0aC1pKX0sSS5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHkodGhpcy5yZXNvbHZlKHQpLHRoaXMucmVzb2x2ZShlKSxuKX0sSS5wcm90b3R5cGUubm9kZUF0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzOzspe3ZhciBuPWUuY29udGVudC5maW5kSW5kZXgodCkscj1uLmluZGV4LG89bi5vZmZzZXQ7aWYoZT1lLm1heWJlQ2hpbGQociksIWUpcmV0dXJuIG51bGw7aWYobz09dHx8ZS5pc1RleHQpcmV0dXJuIGU7dC09bysxfX0sSS5wcm90b3R5cGUuY2hpbGRBZnRlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRlbnQuZmluZEluZGV4KHQpLG49ZS5pbmRleCxyPWUub2Zmc2V0O3JldHVybntub2RlOnRoaXMuY29udGVudC5tYXliZUNoaWxkKG4pLGluZGV4Om4sb2Zmc2V0OnJ9fSxJLnByb3RvdHlwZS5jaGlsZEJlZm9yZT1mdW5jdGlvbih0KXtpZigwPT10KXJldHVybntub2RlOm51bGwsaW5kZXg6MCxvZmZzZXQ6MH07dmFyIGU9dGhpcy5jb250ZW50LmZpbmRJbmRleCh0KSxuPWUuaW5kZXgscj1lLm9mZnNldDtpZihyPHQpcmV0dXJue25vZGU6dGhpcy5jb250ZW50LmNoaWxkKG4pLGluZGV4Om4sb2Zmc2V0OnJ9O3ZhciBvPXRoaXMuY29udGVudC5jaGlsZChuLTEpO3JldHVybntub2RlOm8saW5kZXg6bi0xLG9mZnNldDpyLW8ubm9kZVNpemV9fSxJLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKHQpe3JldHVybiBULnJlc29sdmVDYWNoZWQodGhpcyx0KX0sSS5wcm90b3R5cGUucmVzb2x2ZU5vQ2FjaGU9ZnVuY3Rpb24odCl7cmV0dXJuIFQucmVzb2x2ZSh0aGlzLHQpfSxJLnByb3RvdHlwZS5yYW5nZUhhc01hcms9ZnVuY3Rpb24odCxlLG4pe3ZhciByPSExO3JldHVybiBlPnQmJnRoaXMubm9kZXNCZXR3ZWVuKHQsZSwoZnVuY3Rpb24odCl7cmV0dXJuIG4uaXNJblNldCh0Lm1hcmtzKSYmKHI9ITApLCFyfSkpLHJ9LGouaXNCbG9jay5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLmlzQmxvY2t9LGouaXNUZXh0YmxvY2suZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5pc1RleHRibG9ja30sai5pbmxpbmVDb250ZW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUuaW5saW5lQ29udGVudH0sai5pc0lubGluZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLmlzSW5saW5lfSxqLmlzVGV4dC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLmlzVGV4dH0sai5pc0xlYWYuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5pc0xlYWZ9LGouaXNBdG9tLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUuaXNBdG9tfSxJLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMudHlwZS5zcGVjLnRvRGVidWdTdHJpbmcpcmV0dXJuIHRoaXMudHlwZS5zcGVjLnRvRGVidWdTdHJpbmcodGhpcyk7dmFyIHQ9dGhpcy50eXBlLm5hbWU7cmV0dXJuIHRoaXMuY29udGVudC5zaXplJiYodCs9IigiK3RoaXMuY29udGVudC50b1N0cmluZ0lubmVyKCkrIikiKSwkKHRoaXMubWFya3MsdCl9LEkucHJvdG90eXBlLmNvbnRlbnRNYXRjaEF0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudHlwZS5jb250ZW50TWF0Y2gubWF0Y2hGcmFnbWVudCh0aGlzLmNvbnRlbnQsMCx0KTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIkNhbGxlZCBjb250ZW50TWF0Y2hBdCBvbiBhIG5vZGUgd2l0aCBpbnZhbGlkIGNvbnRlbnQiKTtyZXR1cm4gZX0sSS5wcm90b3R5cGUuY2FuUmVwbGFjZT1mdW5jdGlvbih0LGUsbixyLG8pe3ZhciBpPXRoaXM7dm9pZCAwPT09biYmKG49cy5lbXB0eSksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09byYmKG89bi5jaGlsZENvdW50KTt2YXIgYT10aGlzLmNvbnRlbnRNYXRjaEF0KHQpLm1hdGNoRnJhZ21lbnQobixyLG8pLGM9YSYmYS5tYXRjaEZyYWdtZW50KHRoaXMuY29udGVudCxlKTtpZighY3x8IWMudmFsaWRFbmQpcmV0dXJuITE7Zm9yKHZhciBsPXI7bDxvO2wrKylpZighaS50eXBlLmFsbG93c01hcmtzKG4uY2hpbGQobCkubWFya3MpKXJldHVybiExO3JldHVybiEwfSxJLnByb3RvdHlwZS5jYW5SZXBsYWNlV2l0aD1mdW5jdGlvbih0LGUsbixyKXtpZihyJiYhdGhpcy50eXBlLmFsbG93c01hcmtzKHIpKXJldHVybiExO3ZhciBvPXRoaXMuY29udGVudE1hdGNoQXQodCkubWF0Y2hUeXBlKG4pLGk9byYmby5tYXRjaEZyYWdtZW50KHRoaXMuY29udGVudCxlKTtyZXR1cm4hIWkmJmkudmFsaWRFbmR9LEkucHJvdG90eXBlLmNhbkFwcGVuZD1mdW5jdGlvbih0KXtyZXR1cm4gdC5jb250ZW50LnNpemU/dGhpcy5jYW5SZXBsYWNlKHRoaXMuY2hpbGRDb3VudCx0aGlzLmNoaWxkQ291bnQsdC5jb250ZW50KTp0aGlzLnR5cGUuY29tcGF0aWJsZUNvbnRlbnQodC50eXBlKX0sSS5wcm90b3R5cGUuZGVmYXVsdENvbnRlbnRUeXBlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbnRlbnRNYXRjaEF0KHQpLmRlZmF1bHRUeXBlfSxJLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbigpe2lmKCF0aGlzLnR5cGUudmFsaWRDb250ZW50KHRoaXMuY29udGVudCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgY29udGVudCBmb3Igbm9kZSAiK3RoaXMudHlwZS5uYW1lKyI6ICIrdGhpcy5jb250ZW50LnRvU3RyaW5nKCkuc2xpY2UoMCw1MCkpO3RoaXMuY29udGVudC5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jaGVjaygpfSkpfSxJLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9e3R5cGU6dGhpcy50eXBlLm5hbWV9O2Zvcih2YXIgbiBpbiB0LmF0dHJzKXtlLmF0dHJzPXQuYXR0cnM7YnJlYWt9cmV0dXJuIHRoaXMuY29udGVudC5zaXplJiYoZS5jb250ZW50PXRoaXMuY29udGVudC50b0pTT04oKSksdGhpcy5tYXJrcy5sZW5ndGgmJihlLm1hcmtzPXRoaXMubWFya3MubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50b0pTT04oKX0pKSksZX0sSS5mcm9tSlNPTj1mdW5jdGlvbih0LGUpe2lmKCFlKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBOb2RlLmZyb21KU09OIik7dmFyIG49bnVsbDtpZihlLm1hcmtzKXtpZighQXJyYXkuaXNBcnJheShlLm1hcmtzKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBtYXJrIGRhdGEgZm9yIE5vZGUuZnJvbUpTT04iKTtuPWUubWFya3MubWFwKHQubWFya0Zyb21KU09OKX1pZigidGV4dCI9PWUudHlwZSl7aWYoInN0cmluZyIhPXR5cGVvZiBlLnRleHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgdGV4dCBub2RlIGluIEpTT04iKTtyZXR1cm4gdC50ZXh0KGUudGV4dCxuKX12YXIgcj1zLmZyb21KU09OKHQsZS5jb250ZW50KTtyZXR1cm4gdC5ub2RlVHlwZShlLnR5cGUpLmNyZWF0ZShlLmF0dHJzLHIsbil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEkucHJvdG90eXBlLGopO3ZhciBCPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyl7aWYodC5jYWxsKHRoaXMsZSxuLG51bGwsbyksIXIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVtcHR5IHRleHQgbm9kZXMgYXJlIG5vdCBhbGxvd2VkIik7dGhpcy50ZXh0PXJ9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e3RleHRDb250ZW50Ont9LG5vZGVTaXplOnt9fTtyZXR1cm4gZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLnNwZWMudG9EZWJ1Z1N0cmluZz90aGlzLnR5cGUuc3BlYy50b0RlYnVnU3RyaW5nKHRoaXMpOiQodGhpcy5tYXJrcyxKU09OLnN0cmluZ2lmeSh0aGlzLnRleHQpKX0sbi50ZXh0Q29udGVudC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0fSxlLnByb3RvdHlwZS50ZXh0QmV0d2Vlbj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRleHQuc2xpY2UodCxlKX0sbi5ub2RlU2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0Lmxlbmd0aH0sZS5wcm90b3R5cGUubWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gdD09dGhpcy5tYXJrcz90aGlzOm5ldyBlKHRoaXMudHlwZSx0aGlzLmF0dHJzLHRoaXMudGV4dCx0KX0sZS5wcm90b3R5cGUud2l0aFRleHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PXRoaXMudGV4dD90aGlzOm5ldyBlKHRoaXMudHlwZSx0aGlzLmF0dHJzLHQsdGhpcy5tYXJrcyl9LGUucHJvdG90eXBlLmN1dD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT10aGlzLnRleHQubGVuZ3RoKSwwPT10JiZlPT10aGlzLnRleHQubGVuZ3RoP3RoaXM6dGhpcy53aXRoVGV4dCh0aGlzLnRleHQuc2xpY2UodCxlKSl9LGUucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNhbWVNYXJrdXAodCkmJnRoaXMudGV4dD09dC50ZXh0fSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgZT10LnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtyZXR1cm4gZS50ZXh0PXRoaXMudGV4dCxlfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfShJKTtmdW5jdGlvbiAkKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoLTE7bj49MDtuLS0pZT10W25dLnR5cGUubmFtZSsiKCIrZSsiKSI7cmV0dXJuIGV9dmFyIEY9ZnVuY3Rpb24odCl7dGhpcy52YWxpZEVuZD10LHRoaXMubmV4dD1bXSx0aGlzLndyYXBDYWNoZT1bXX0sVj17aW5saW5lQ29udGVudDp7fSxkZWZhdWx0VHlwZTp7fSxlZGdlQ291bnQ6e319O0YucGFyc2U9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgTCh0LGUpO2lmKG51bGw9PW4ubmV4dClyZXR1cm4gRi5lbXB0eTt2YXIgcj1XKG4pO24ubmV4dCYmbi5lcnIoIlVuZXhwZWN0ZWQgdHJhaWxpbmcgdGV4dCIpO3ZhciBvPXR0KFkocikpO3JldHVybiBldChvLG4pLG99LEYucHJvdG90eXBlLm1hdGNoVHlwZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxuPTA7bjx0aGlzLm5leHQubGVuZ3RoO24rPTIpaWYoZS5uZXh0W25dPT10KXJldHVybiBlLm5leHRbbisxXTtyZXR1cm4gbnVsbH0sRi5wcm90b3R5cGUubWF0Y2hGcmFnbWVudD1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09biYmKG49dC5jaGlsZENvdW50KTtmb3IodmFyIHI9dGhpcyxvPWU7ciYmbzxuO28rKylyPXIubWF0Y2hUeXBlKHQuY2hpbGQobykudHlwZSk7cmV0dXJuIHJ9LFYuaW5saW5lQ29udGVudC5nZXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm5leHRbMF07cmV0dXJuISF0JiZ0LmlzSW5saW5lfSxWLmRlZmF1bHRUeXBlLmdldD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLGU9MDtlPHRoaXMubmV4dC5sZW5ndGg7ZSs9Mil7dmFyIG49dC5uZXh0W2VdO2lmKCFuLmlzVGV4dCYmIW4uaGFzUmVxdWlyZWRBdHRycygpKXJldHVybiBufX0sRi5wcm90b3R5cGUuY29tcGF0aWJsZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxuPTA7bjx0aGlzLm5leHQubGVuZ3RoO24rPTIpZm9yKHZhciByPTA7cjx0Lm5leHQubGVuZ3RoO3IrPTIpaWYoZS5uZXh0W25dPT10Lm5leHRbcl0pcmV0dXJuITA7cmV0dXJuITF9LEYucHJvdG90eXBlLmZpbGxCZWZvcmU9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPSExKSx2b2lkIDA9PT1uJiYobj0wKTt2YXIgcj1bdGhpc107ZnVuY3Rpb24gbyhpLGEpe3ZhciBjPWkubWF0Y2hGcmFnbWVudCh0LG4pO2lmKGMmJighZXx8Yy52YWxpZEVuZCkpcmV0dXJuIHMuZnJvbShhLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY3JlYXRlQW5kRmlsbCgpfSkpKTtmb3IodmFyIGw9MDtsPGkubmV4dC5sZW5ndGg7bCs9Mil7dmFyIHU9aS5uZXh0W2xdLGY9aS5uZXh0W2wrMV07aWYoIXUuaXNUZXh0JiYhdS5oYXNSZXF1aXJlZEF0dHJzKCkmJi0xPT1yLmluZGV4T2YoZikpe3IucHVzaChmKTt2YXIgcD1vKGYsYS5jb25jYXQodSkpO2lmKHApcmV0dXJuIHB9fX1yZXR1cm4gbyh0aGlzLFtdKX0sRi5wcm90b3R5cGUuZmluZFdyYXBwaW5nPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLG49MDtuPHRoaXMud3JhcENhY2hlLmxlbmd0aDtuKz0yKWlmKGUud3JhcENhY2hlW25dPT10KXJldHVybiBlLndyYXBDYWNoZVtuKzFdO3ZhciByPXRoaXMuY29tcHV0ZVdyYXBwaW5nKHQpO3JldHVybiB0aGlzLndyYXBDYWNoZS5wdXNoKHQscikscn0sRi5wcm90b3R5cGUuY29tcHV0ZVdyYXBwaW5nPWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCksbj1be21hdGNoOnRoaXMsdHlwZTpudWxsLHZpYTpudWxsfV07d2hpbGUobi5sZW5ndGgpe3ZhciByPW4uc2hpZnQoKSxvPXIubWF0Y2g7aWYoby5tYXRjaFR5cGUodCkpe2Zvcih2YXIgaT1bXSxhPXI7YS50eXBlO2E9YS52aWEpaS5wdXNoKGEudHlwZSk7cmV0dXJuIGkucmV2ZXJzZSgpfWZvcih2YXIgcz0wO3M8by5uZXh0Lmxlbmd0aDtzKz0yKXt2YXIgYz1vLm5leHRbc107Yy5pc0xlYWZ8fGMuaGFzUmVxdWlyZWRBdHRycygpfHxjLm5hbWUgaW4gZXx8ci50eXBlJiYhby5uZXh0W3MrMV0udmFsaWRFbmR8fChuLnB1c2goe21hdGNoOmMuY29udGVudE1hdGNoLHR5cGU6Yyx2aWE6cn0pLGVbYy5uYW1lXT0hMCl9fX0sVi5lZGdlQ291bnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmV4dC5sZW5ndGg+PjF9LEYucHJvdG90eXBlLmVkZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dDw8MTtpZihlPnRoaXMubmV4dC5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRoZXJlJ3Mgbm8gIit0KyJ0aCBlZGdlIGluIHRoaXMgY29udGVudCBtYXRjaCIpO3JldHVybnt0eXBlOnRoaXMubmV4dFtlXSxuZXh0OnRoaXMubmV4dFtlKzFdfX0sRi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdD1bXTtmdW5jdGlvbiBlKG4pe3QucHVzaChuKTtmb3IodmFyIHI9MTtyPG4ubmV4dC5sZW5ndGg7cis9MiktMT09dC5pbmRleE9mKG4ubmV4dFtyXSkmJmUobi5uZXh0W3JdKX1yZXR1cm4gZSh0aGlzKSx0Lm1hcCgoZnVuY3Rpb24oZSxuKXtmb3IodmFyIHI9bisoZS52YWxpZEVuZD8iKiI6IiAiKSsiICIsbz0wO288ZS5uZXh0Lmxlbmd0aDtvKz0yKXIrPShvPyIsICI6IiIpK2UubmV4dFtvXS5uYW1lKyItPiIrdC5pbmRleE9mKGUubmV4dFtvKzFdKTtyZXR1cm4gcn0pKS5qb2luKCJcbiIpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhGLnByb3RvdHlwZSxWKSxGLmVtcHR5PW5ldyBGKCEwKTt2YXIgTD1mdW5jdGlvbih0LGUpe3RoaXMuc3RyaW5nPXQsdGhpcy5ub2RlVHlwZXM9ZSx0aGlzLmlubGluZT1udWxsLHRoaXMucG9zPTAsdGhpcy50b2tlbnM9dC5zcGxpdCgvXHMqKD89XGJ8XFd8JCkvKSwiIj09dGhpcy50b2tlbnNbdGhpcy50b2tlbnMubGVuZ3RoLTFdJiZ0aGlzLnRva2Vucy5wb3AoKSwiIj09dGhpcy50b2tlbnNbMF0mJnRoaXMudG9rZW5zLnVuc2hpZnQoKX0sSD17bmV4dDp7fX07ZnVuY3Rpb24gVyh0KXt2YXIgZT1bXTtkb3tlLnB1c2goSih0KSl9d2hpbGUodC5lYXQoInwiKSk7cmV0dXJuIDE9PWUubGVuZ3RoP2VbMF06e3R5cGU6ImNob2ljZSIsZXhwcnM6ZX19ZnVuY3Rpb24gSih0KXt2YXIgZT1bXTtkb3tlLnB1c2gocSh0KSl9d2hpbGUodC5uZXh0JiYiKSIhPXQubmV4dCYmInwiIT10Lm5leHQpO3JldHVybiAxPT1lLmxlbmd0aD9lWzBdOnt0eXBlOiJzZXEiLGV4cHJzOmV9fWZ1bmN0aW9uIHEodCl7Zm9yKHZhciBlPVgodCk7OylpZih0LmVhdCgiKyIpKWU9e3R5cGU6InBsdXMiLGV4cHI6ZX07ZWxzZSBpZih0LmVhdCgiKiIpKWU9e3R5cGU6InN0YXIiLGV4cHI6ZX07ZWxzZSBpZih0LmVhdCgiPyIpKWU9e3R5cGU6Im9wdCIsZXhwcjplfTtlbHNle2lmKCF0LmVhdCgieyIpKWJyZWFrO2U9VSh0LGUpfXJldHVybiBlfWZ1bmN0aW9uIEsodCl7L1xELy50ZXN0KHQubmV4dCkmJnQuZXJyKCJFeHBlY3RlZCBudW1iZXIsIGdvdCAnIit0Lm5leHQrIiciKTt2YXIgZT1OdW1iZXIodC5uZXh0KTtyZXR1cm4gdC5wb3MrKyxlfWZ1bmN0aW9uIFUodCxlKXt2YXIgbj1LKHQpLHI9bjtyZXR1cm4gdC5lYXQoIiwiKSYmKHI9In0iIT10Lm5leHQ/Syh0KTotMSksdC5lYXQoIn0iKXx8dC5lcnIoIlVuY2xvc2VkIGJyYWNlZCByYW5nZSIpLHt0eXBlOiJyYW5nZSIsbWluOm4sbWF4OnIsZXhwcjplfX1mdW5jdGlvbiBHKHQsZSl7dmFyIG49dC5ub2RlVHlwZXMscj1uW2VdO2lmKHIpcmV0dXJuW3JdO3ZhciBvPVtdO2Zvcih2YXIgaSBpbiBuKXt2YXIgYT1uW2ldO2EuZ3JvdXBzLmluZGV4T2YoZSk+LTEmJm8ucHVzaChhKX1yZXR1cm4gMD09by5sZW5ndGgmJnQuZXJyKCJObyBub2RlIHR5cGUgb3IgZ3JvdXAgJyIrZSsiJyBmb3VuZCIpLG99ZnVuY3Rpb24gWCh0KXtpZih0LmVhdCgiKCIpKXt2YXIgZT1XKHQpO3JldHVybiB0LmVhdCgiKSIpfHx0LmVycigiTWlzc2luZyBjbG9zaW5nIHBhcmVuIiksZX1pZighL1xXLy50ZXN0KHQubmV4dCkpe3ZhciBuPUcodCx0Lm5leHQpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PXQuaW5saW5lP3QuaW5saW5lPWUuaXNJbmxpbmU6dC5pbmxpbmUhPWUuaXNJbmxpbmUmJnQuZXJyKCJNaXhpbmcgaW5saW5lIGFuZCBibG9jayBjb250ZW50Iikse3R5cGU6Im5hbWUiLHZhbHVlOmV9fSkpO3JldHVybiB0LnBvcysrLDE9PW4ubGVuZ3RoP25bMF06e3R5cGU6ImNob2ljZSIsZXhwcnM6bn19dC5lcnIoIlVuZXhwZWN0ZWQgdG9rZW4gJyIrdC5uZXh0KyInIil9ZnVuY3Rpb24gWSh0KXt2YXIgZT1bW11dO3JldHVybiBvKGkodCwwKSxuKCkpLGU7ZnVuY3Rpb24gbigpe3JldHVybiBlLnB1c2goW10pLTF9ZnVuY3Rpb24gcih0LG4scil7dmFyIG89e3Rlcm06cix0bzpufTtyZXR1cm4gZVt0XS5wdXNoKG8pLG99ZnVuY3Rpb24gbyh0LGUpe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudG89ZX0pKX1mdW5jdGlvbiBpKHQsZSl7aWYoImNob2ljZSI9PXQudHlwZSlyZXR1cm4gdC5leHBycy5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHQuY29uY2F0KGkobixlKSl9KSxbXSk7aWYoInNlcSI9PXQudHlwZSlmb3IodmFyIGE9MDs7YSsrKXt2YXIgcz1pKHQuZXhwcnNbYV0sZSk7aWYoYT09dC5leHBycy5sZW5ndGgtMSlyZXR1cm4gcztvKHMsZT1uKCkpfWVsc2V7aWYoInN0YXIiPT10LnR5cGUpe3ZhciBjPW4oKTtyZXR1cm4gcihlLGMpLG8oaSh0LmV4cHIsYyksYyksW3IoYyldfWlmKCJwbHVzIj09dC50eXBlKXt2YXIgbD1uKCk7cmV0dXJuIG8oaSh0LmV4cHIsZSksbCksbyhpKHQuZXhwcixsKSxsKSxbcihsKV19aWYoIm9wdCI9PXQudHlwZSlyZXR1cm5bcihlKV0uY29uY2F0KGkodC5leHByLGUpKTtpZigicmFuZ2UiPT10LnR5cGUpe2Zvcih2YXIgdT1lLGY9MDtmPHQubWluO2YrKyl7dmFyIHA9bigpO28oaSh0LmV4cHIsdSkscCksdT1wfWlmKC0xPT10Lm1heClvKGkodC5leHByLHUpLHUpO2Vsc2UgZm9yKHZhciBoPXQubWluO2g8dC5tYXg7aCsrKXt2YXIgZD1uKCk7cih1LGQpLG8oaSh0LmV4cHIsdSksZCksdT1kfXJldHVybltyKHUpXX1pZigibmFtZSI9PXQudHlwZSlyZXR1cm5bcihlLG51bGwsdC52YWx1ZSldfX19ZnVuY3Rpb24gUSh0LGUpe3JldHVybiB0LWV9ZnVuY3Rpb24gWih0LGUpe3ZhciBuPVtdO3JldHVybiByKGUpLG4uc29ydChRKTtmdW5jdGlvbiByKGUpe3ZhciBvPXRbZV07aWYoMT09by5sZW5ndGgmJiFvWzBdLnRlcm0pcmV0dXJuIHIob1swXS50byk7bi5wdXNoKGUpO2Zvcih2YXIgaT0wO2k8by5sZW5ndGg7aSsrKXt2YXIgYT1vW2ldLHM9YS50ZXJtLGM9YS50bztzfHwtMSE9bi5pbmRleE9mKGMpfHxyKGMpfX19ZnVuY3Rpb24gdHQodCl7dmFyIGU9T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gbihaKHQsMCkpO2Z1bmN0aW9uIG4ocil7dmFyIG89W107ci5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2VdLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUudGVybSxyPWUudG87aWYobil7dmFyIGk9by5pbmRleE9mKG4pLGE9aT4tMSYmb1tpKzFdO1oodCxyKS5mb3JFYWNoKChmdW5jdGlvbih0KXthfHxvLnB1c2gobixhPVtdKSwtMT09YS5pbmRleE9mKHQpJiZhLnB1c2godCl9KSl9fSkpfSkpO2Zvcih2YXIgaT1lW3Iuam9pbigiLCIpXT1uZXcgRihyLmluZGV4T2YodC5sZW5ndGgtMSk+LTEpLGE9MDthPG8ubGVuZ3RoO2ErPTIpe3ZhciBzPW9bYSsxXS5zb3J0KFEpO2kubmV4dC5wdXNoKG9bYV0sZVtzLmpvaW4oIiwiKV18fG4ocykpfXJldHVybiBpfX1mdW5jdGlvbiBldCh0LGUpe2Zvcih2YXIgbj0wLHI9W3RdO248ci5sZW5ndGg7bisrKXtmb3IodmFyIG89cltuXSxpPSFvLnZhbGlkRW5kLGE9W10scz0wO3M8by5uZXh0Lmxlbmd0aDtzKz0yKXt2YXIgYz1vLm5leHRbc10sbD1vLm5leHRbcysxXTthLnB1c2goYy5uYW1lKSwhaXx8Yy5pc1RleHR8fGMuaGFzUmVxdWlyZWRBdHRycygpfHwoaT0hMSksLTE9PXIuaW5kZXhPZihsKSYmci5wdXNoKGwpfWkmJmUuZXJyKCJPbmx5IG5vbi1nZW5lcmF0YWJsZSBub2RlcyAoIithLmpvaW4oIiwgIikrIikgaW4gYSByZXF1aXJlZCBwb3NpdGlvbiIpfX1mdW5jdGlvbiBudCh0KXt2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcih2YXIgbiBpbiB0KXt2YXIgcj10W25dO2lmKCFyLmhhc0RlZmF1bHQpcmV0dXJuIG51bGw7ZVtuXT1yLmRlZmF1bHR9cmV0dXJuIGV9ZnVuY3Rpb24gcnQodCxlKXt2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcih2YXIgciBpbiB0KXt2YXIgbz1lJiZlW3JdO2lmKHZvaWQgMD09PW8pe3ZhciBpPXRbcl07aWYoIWkuaGFzRGVmYXVsdCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiTm8gdmFsdWUgc3VwcGxpZWQgZm9yIGF0dHJpYnV0ZSAiK3IpO289aS5kZWZhdWx0fW5bcl09b31yZXR1cm4gbn1mdW5jdGlvbiBvdCh0KXt2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpO2lmKHQpZm9yKHZhciBuIGluIHQpZVtuXT1uZXcgc3QodFtuXSk7cmV0dXJuIGV9SC5uZXh0LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRva2Vuc1t0aGlzLnBvc119LEwucHJvdG90eXBlLmVhdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uZXh0PT10JiYodGhpcy5wb3MrK3x8ITApfSxMLnByb3RvdHlwZS5lcnI9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IFN5bnRheEVycm9yKHQrIiAoaW4gY29udGVudCBleHByZXNzaW9uICciK3RoaXMuc3RyaW5nKyInKSIpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhMLnByb3RvdHlwZSxIKTt2YXIgaXQ9ZnVuY3Rpb24odCxlLG4pe3RoaXMubmFtZT10LHRoaXMuc2NoZW1hPWUsdGhpcy5zcGVjPW4sdGhpcy5ncm91cHM9bi5ncm91cD9uLmdyb3VwLnNwbGl0KCIgIik6W10sdGhpcy5hdHRycz1vdChuLmF0dHJzKSx0aGlzLmRlZmF1bHRBdHRycz1udCh0aGlzLmF0dHJzKSx0aGlzLmNvbnRlbnRNYXRjaD1udWxsLHRoaXMubWFya1NldD1udWxsLHRoaXMuaW5saW5lQ29udGVudD1udWxsLHRoaXMuaXNCbG9jaz0hKG4uaW5saW5lfHwidGV4dCI9PXQpLHRoaXMuaXNUZXh0PSJ0ZXh0Ij09dH0sYXQ9e2lzSW5saW5lOnt9LGlzVGV4dGJsb2NrOnt9LGlzTGVhZjp7fSxpc0F0b206e319O2F0LmlzSW5saW5lLmdldD1mdW5jdGlvbigpe3JldHVybiF0aGlzLmlzQmxvY2t9LGF0LmlzVGV4dGJsb2NrLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzQmxvY2smJnRoaXMuaW5saW5lQ29udGVudH0sYXQuaXNMZWFmLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRNYXRjaD09Ri5lbXB0eX0sYXQuaXNBdG9tLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzTGVhZnx8dGhpcy5zcGVjLmF0b219LGl0LnByb3RvdHlwZS5oYXNSZXF1aXJlZEF0dHJzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7Zm9yKHZhciBuIGluIGUuYXR0cnMpaWYoZS5hdHRyc1tuXS5pc1JlcXVpcmVkJiYoIXR8fCEobiBpbiB0KSkpcmV0dXJuITA7cmV0dXJuITF9LGl0LnByb3RvdHlwZS5jb21wYXRpYmxlQ29udGVudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09dHx8dGhpcy5jb250ZW50TWF0Y2guY29tcGF0aWJsZSh0LmNvbnRlbnRNYXRjaCl9LGl0LnByb3RvdHlwZS5jb21wdXRlQXR0cnM9ZnVuY3Rpb24odCl7cmV0dXJuIXQmJnRoaXMuZGVmYXVsdEF0dHJzP3RoaXMuZGVmYXVsdEF0dHJzOnJ0KHRoaXMuYXR0cnMsdCl9LGl0LnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCxlLG4pe2lmKHRoaXMuaXNUZXh0KXRocm93IG5ldyBFcnJvcigiTm9kZVR5cGUuY3JlYXRlIGNhbid0IGNvbnN0cnVjdCB0ZXh0IG5vZGVzIik7cmV0dXJuIG5ldyBJKHRoaXMsdGhpcy5jb21wdXRlQXR0cnModCkscy5mcm9tKGUpLHAuc2V0RnJvbShuKSl9LGl0LnByb3RvdHlwZS5jcmVhdGVDaGVja2VkPWZ1bmN0aW9uKHQsZSxuKXtpZihlPXMuZnJvbShlKSwhdGhpcy52YWxpZENvbnRlbnQoZSkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgY29udGVudCBmb3Igbm9kZSAiK3RoaXMubmFtZSk7cmV0dXJuIG5ldyBJKHRoaXMsdGhpcy5jb21wdXRlQXR0cnModCksZSxwLnNldEZyb20obikpfSxpdC5wcm90b3R5cGUuY3JlYXRlQW5kRmlsbD1mdW5jdGlvbih0LGUsbil7aWYodD10aGlzLmNvbXB1dGVBdHRycyh0KSxlPXMuZnJvbShlKSxlLnNpemUpe3ZhciByPXRoaXMuY29udGVudE1hdGNoLmZpbGxCZWZvcmUoZSk7aWYoIXIpcmV0dXJuIG51bGw7ZT1yLmFwcGVuZChlKX12YXIgbz10aGlzLmNvbnRlbnRNYXRjaC5tYXRjaEZyYWdtZW50KGUpLmZpbGxCZWZvcmUocy5lbXB0eSwhMCk7cmV0dXJuIG8/bmV3IEkodGhpcyx0LGUuYXBwZW5kKG8pLHAuc2V0RnJvbShuKSk6bnVsbH0saXQucHJvdG90eXBlLnZhbGlkQ29udGVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dGhpcy5jb250ZW50TWF0Y2gubWF0Y2hGcmFnbWVudCh0KTtpZighbnx8IW4udmFsaWRFbmQpcmV0dXJuITE7Zm9yKHZhciByPTA7cjx0LmNoaWxkQ291bnQ7cisrKWlmKCFlLmFsbG93c01hcmtzKHQuY2hpbGQocikubWFya3MpKXJldHVybiExO3JldHVybiEwfSxpdC5wcm90b3R5cGUuYWxsb3dzTWFya1R5cGU9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXRoaXMubWFya1NldHx8dGhpcy5tYXJrU2V0LmluZGV4T2YodCk+LTF9LGl0LnByb3RvdHlwZS5hbGxvd3NNYXJrcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKG51bGw9PXRoaXMubWFya1NldClyZXR1cm4hMDtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylpZighZS5hbGxvd3NNYXJrVHlwZSh0W25dLnR5cGUpKXJldHVybiExO3JldHVybiEwfSxpdC5wcm90b3R5cGUuYWxsb3dlZE1hcmtzPWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcztpZihudWxsPT10aGlzLm1hcmtTZXQpcmV0dXJuIHQ7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspbi5hbGxvd3NNYXJrVHlwZSh0W3JdLnR5cGUpP2UmJmUucHVzaCh0W3JdKTplfHwoZT10LnNsaWNlKDAscikpO3JldHVybiBlP2UubGVuZ3RoP2U6cC5lbXB0eTp0fSxpdC5jb21waWxlPWZ1bmN0aW9uKHQsZSl7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTt0LmZvckVhY2goKGZ1bmN0aW9uKHQscil7cmV0dXJuIG5bdF09bmV3IGl0KHQsZSxyKX0pKTt2YXIgcj1lLnNwZWMudG9wTm9kZXx8ImRvYyI7aWYoIW5bcl0pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlNjaGVtYSBpcyBtaXNzaW5nIGl0cyB0b3Agbm9kZSB0eXBlICgnIityKyInKSIpO2lmKCFuLnRleHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkV2ZXJ5IHNjaGVtYSBuZWVkcyBhICd0ZXh0JyB0eXBlIik7Zm9yKHZhciBvIGluIG4udGV4dC5hdHRycyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGhlIHRleHQgbm9kZSB0eXBlIHNob3VsZCBub3QgaGF2ZSBhdHRyaWJ1dGVzIik7cmV0dXJuIG59LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGl0LnByb3RvdHlwZSxhdCk7dmFyIHN0PWZ1bmN0aW9uKHQpe3RoaXMuaGFzRGVmYXVsdD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCwiZGVmYXVsdCIpLHRoaXMuZGVmYXVsdD10LmRlZmF1bHR9LGN0PXtpc1JlcXVpcmVkOnt9fTtjdC5pc1JlcXVpcmVkLmdldD1mdW5jdGlvbigpe3JldHVybiF0aGlzLmhhc0RlZmF1bHR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHN0LnByb3RvdHlwZSxjdCk7dmFyIGx0PWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMubmFtZT10LHRoaXMuc2NoZW1hPW4sdGhpcy5zcGVjPXIsdGhpcy5hdHRycz1vdChyLmF0dHJzKSx0aGlzLnJhbms9ZSx0aGlzLmV4Y2x1ZGVkPW51bGw7dmFyIG89bnQodGhpcy5hdHRycyk7dGhpcy5pbnN0YW5jZT1vJiZuZXcgcCh0aGlzLG8pfTtsdC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKHQpe3JldHVybiF0JiZ0aGlzLmluc3RhbmNlP3RoaXMuaW5zdGFuY2U6bmV3IHAodGhpcyxydCh0aGlzLmF0dHJzLHQpKX0sbHQuY29tcGlsZT1mdW5jdGlvbih0LGUpe3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCkscj0wO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQsbyl7cmV0dXJuIG5bdF09bmV3IGx0KHQscisrLGUsbyl9KSksbn0sbHQucHJvdG90eXBlLnJlbW92ZUZyb21TZXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj0wO248dC5sZW5ndGg7bisrKWlmKHRbbl0udHlwZT09ZSlyZXR1cm4gdC5zbGljZSgwLG4pLmNvbmNhdCh0LnNsaWNlKG4rMSkpO3JldHVybiB0fSxsdC5wcm90b3R5cGUuaXNJblNldD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxuPTA7bjx0Lmxlbmd0aDtuKyspaWYodFtuXS50eXBlPT1lKXJldHVybiB0W25dfSxsdC5wcm90b3R5cGUuZXhjbHVkZXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZXhjbHVkZWQuaW5kZXhPZih0KT4tMX07dmFyIHV0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7Zm9yKHZhciBuIGluIHRoaXMuc3BlYz17fSx0KWUuc3BlY1tuXT10W25dO3RoaXMuc3BlYy5ub2Rlcz1vLmZyb20odC5ub2RlcyksdGhpcy5zcGVjLm1hcmtzPW8uZnJvbSh0Lm1hcmtzKSx0aGlzLm5vZGVzPWl0LmNvbXBpbGUodGhpcy5zcGVjLm5vZGVzLHRoaXMpLHRoaXMubWFya3M9bHQuY29tcGlsZSh0aGlzLnNwZWMubWFya3MsdGhpcyk7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIGkgaW4gZS5ub2Rlcyl7aWYoaSBpbiBlLm1hcmtzKXRocm93IG5ldyBSYW5nZUVycm9yKGkrIiBjYW4gbm90IGJlIGJvdGggYSBub2RlIGFuZCBhIG1hcmsiKTt2YXIgYT1lLm5vZGVzW2ldLHM9YS5zcGVjLmNvbnRlbnR8fCIiLGM9YS5zcGVjLm1hcmtzO2EuY29udGVudE1hdGNoPXJbc118fChyW3NdPUYucGFyc2UocyxlLm5vZGVzKSksYS5pbmxpbmVDb250ZW50PWEuY29udGVudE1hdGNoLmlubGluZUNvbnRlbnQsYS5tYXJrU2V0PSJfIj09Yz9udWxsOmM/ZnQoZSxjLnNwbGl0KCIgIikpOiIiIT1jJiZhLmlubGluZUNvbnRlbnQ/bnVsbDpbXX1mb3IodmFyIGwgaW4gZS5tYXJrcyl7dmFyIHU9ZS5tYXJrc1tsXSxmPXUuc3BlYy5leGNsdWRlczt1LmV4Y2x1ZGVkPW51bGw9PWY/W3VdOiIiPT1mP1tdOmZ0KGUsZi5zcGxpdCgiICIpKX10aGlzLm5vZGVGcm9tSlNPTj10aGlzLm5vZGVGcm9tSlNPTi5iaW5kKHRoaXMpLHRoaXMubWFya0Zyb21KU09OPXRoaXMubWFya0Zyb21KU09OLmJpbmQodGhpcyksdGhpcy50b3BOb2RlVHlwZT10aGlzLm5vZGVzW3RoaXMuc3BlYy50b3BOb2RlfHwiZG9jIl0sdGhpcy5jYWNoZWQ9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLmNhY2hlZC53cmFwcGluZ3M9T2JqZWN0LmNyZWF0ZShudWxsKX07ZnVuY3Rpb24gZnQodCxlKXtmb3IodmFyIG49W10scj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdLGk9dC5tYXJrc1tvXSxhPWk7aWYoaSluLnB1c2goaSk7ZWxzZSBmb3IodmFyIHMgaW4gdC5tYXJrcyl7dmFyIGM9dC5tYXJrc1tzXTsoIl8iPT1vfHxjLnNwZWMuZ3JvdXAmJmMuc3BlYy5ncm91cC5zcGxpdCgiICIpLmluZGV4T2Yobyk+LTEpJiZuLnB1c2goYT1jKX1pZighYSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoIlVua25vd24gbWFyayB0eXBlOiAnIitlW3JdKyInIil9cmV0dXJuIG59dXQucHJvdG90eXBlLm5vZGU9ZnVuY3Rpb24odCxlLG4scil7aWYoInN0cmluZyI9PXR5cGVvZiB0KXQ9dGhpcy5ub2RlVHlwZSh0KTtlbHNle2lmKCEodCBpbnN0YW5jZW9mIGl0KSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBub2RlIHR5cGU6ICIrdCk7aWYodC5zY2hlbWEhPXRoaXMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vZGUgdHlwZSBmcm9tIGRpZmZlcmVudCBzY2hlbWEgdXNlZCAoIit0Lm5hbWUrIikiKX1yZXR1cm4gdC5jcmVhdGVDaGVja2VkKGUsbixyKX0sdXQucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm5vZGVzLnRleHQ7cmV0dXJuIG5ldyBCKG4sbi5kZWZhdWx0QXR0cnMsdCxwLnNldEZyb20oZSkpfSx1dC5wcm90b3R5cGUubWFyaz1mdW5jdGlvbih0LGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdCYmKHQ9dGhpcy5tYXJrc1t0XSksdC5jcmVhdGUoZSl9LHV0LnByb3RvdHlwZS5ub2RlRnJvbUpTT049ZnVuY3Rpb24odCl7cmV0dXJuIEkuZnJvbUpTT04odGhpcyx0KX0sdXQucHJvdG90eXBlLm1hcmtGcm9tSlNPTj1mdW5jdGlvbih0KXtyZXR1cm4gcC5mcm9tSlNPTih0aGlzLHQpfSx1dC5wcm90b3R5cGUubm9kZVR5cGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ub2Rlc1t0XTtpZighZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVW5rbm93biBub2RlIHR5cGU6ICIrdCk7cmV0dXJuIGV9O3ZhciBwdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy5zY2hlbWE9dCx0aGlzLnJ1bGVzPWUsdGhpcy50YWdzPVtdLHRoaXMuc3R5bGVzPVtdLGUuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC50YWc/bi50YWdzLnB1c2godCk6dC5zdHlsZSYmbi5zdHlsZXMucHVzaCh0KX0pKX07cHQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuPW5ldyBrdCh0aGlzLGUsITEpO3JldHVybiBuLmFkZEFsbCh0LG51bGwsZS5mcm9tLGUudG8pLG4uZmluaXNoKCl9LHB0LnByb3RvdHlwZS5wYXJzZVNsaWNlPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuPW5ldyBrdCh0aGlzLGUsITApO3JldHVybiBuLmFkZEFsbCh0LG51bGwsZS5mcm9tLGUudG8pLGQubWF4T3BlbihuLmZpbmlzaCgpKX0scHQucHJvdG90eXBlLm1hdGNoVGFnPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMscj0wO3I8dGhpcy50YWdzLmxlbmd0aDtyKyspe3ZhciBvPW4udGFnc1tyXTtpZihDdCh0LG8udGFnKSYmKHZvaWQgMD09PW8ubmFtZXNwYWNlfHx0Lm5hbWVzcGFjZVVSST09by5uYW1lc3BhY2UpJiYoIW8uY29udGV4dHx8ZS5tYXRjaGVzQ29udGV4dChvLmNvbnRleHQpKSl7aWYoby5nZXRBdHRycyl7dmFyIGk9by5nZXRBdHRycyh0KTtpZighMT09PWkpY29udGludWU7by5hdHRycz1pfXJldHVybiBvfX19LHB0LnByb3RvdHlwZS5tYXRjaFN0eWxlPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9dGhpcyxvPTA7bzx0aGlzLnN0eWxlcy5sZW5ndGg7bysrKXt2YXIgaT1yLnN0eWxlc1tvXTtpZighKDAhPWkuc3R5bGUuaW5kZXhPZih0KXx8aS5jb250ZXh0JiYhbi5tYXRjaGVzQ29udGV4dChpLmNvbnRleHQpfHxpLnN0eWxlLmxlbmd0aD50Lmxlbmd0aCYmKDYxIT1pLnN0eWxlLmNoYXJDb2RlQXQodC5sZW5ndGgpfHxpLnN0eWxlLnNsaWNlKHQubGVuZ3RoKzEpIT1lKSkpe2lmKGkuZ2V0QXR0cnMpe3ZhciBhPWkuZ2V0QXR0cnMoZSk7aWYoITE9PT1hKWNvbnRpbnVlO2kuYXR0cnM9YX1yZXR1cm4gaX19fSxwdC5zY2hlbWFSdWxlcz1mdW5jdGlvbih0KXt2YXIgZT1bXTtmdW5jdGlvbiBuKHQpe2Zvcih2YXIgbj1udWxsPT10LnByaW9yaXR5PzUwOnQucHJpb3JpdHkscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdLGk9bnVsbD09by5wcmlvcml0eT81MDpvLnByaW9yaXR5O2lmKGk8bilicmVha31lLnNwbGljZShyLDAsdCl9dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHI9dC5tYXJrc1tlXS5zcGVjLnBhcnNlRE9NO3ImJnIuZm9yRWFjaCgoZnVuY3Rpb24odCl7bih0PU90KHQpKSx0Lm1hcms9ZX0pKX07Zm9yKHZhciBvIGluIHQubWFya3MpcihvKTt2YXIgaT1mdW5jdGlvbihlKXt2YXIgcj10Lm5vZGVzW2FdLnNwZWMucGFyc2VET007ciYmci5mb3JFYWNoKChmdW5jdGlvbih0KXtuKHQ9T3QodCkpLHQubm9kZT1hfSkpfTtmb3IodmFyIGEgaW4gdC5ub2RlcylpKG8pO3JldHVybiBlfSxwdC5mcm9tU2NoZW1hPWZ1bmN0aW9uKHQpe3JldHVybiB0LmNhY2hlZC5kb21QYXJzZXJ8fCh0LmNhY2hlZC5kb21QYXJzZXI9bmV3IHB0KHQscHQuc2NoZW1hUnVsZXModCkpKX07dmFyIGh0PXthZGRyZXNzOiEwLGFydGljbGU6ITAsYXNpZGU6ITAsYmxvY2txdW90ZTohMCxjYW52YXM6ITAsZGQ6ITAsZGl2OiEwLGRsOiEwLGZpZWxkc2V0OiEwLGZpZ2NhcHRpb246ITAsZmlndXJlOiEwLGZvb3RlcjohMCxmb3JtOiEwLGgxOiEwLGgyOiEwLGgzOiEwLGg0OiEwLGg1OiEwLGg2OiEwLGhlYWRlcjohMCxoZ3JvdXA6ITAsaHI6ITAsbGk6ITAsbm9zY3JpcHQ6ITAsb2w6ITAsb3V0cHV0OiEwLHA6ITAscHJlOiEwLHNlY3Rpb246ITAsdGFibGU6ITAsdGZvb3Q6ITAsdWw6ITB9LGR0PXtoZWFkOiEwLG5vc2NyaXB0OiEwLG9iamVjdDohMCxzY3JpcHQ6ITAsc3R5bGU6ITAsdGl0bGU6ITB9LHZ0PXtvbDohMCx1bDohMH0sbXQ9MSxndD0yLHl0PTQ7ZnVuY3Rpb24gd3QodCl7cmV0dXJuKHQ/bXQ6MCl8KCJmdWxsIj09PXQ/Z3Q6MCl9dmFyIGJ0PWZ1bmN0aW9uKHQsZSxuLHIsbyxpKXt0aGlzLnR5cGU9dCx0aGlzLmF0dHJzPWUsdGhpcy5zb2xpZD1yLHRoaXMubWF0Y2g9b3x8KGkmeXQ/bnVsbDp0LmNvbnRlbnRNYXRjaCksdGhpcy5vcHRpb25zPWksdGhpcy5jb250ZW50PVtdLHRoaXMubWFya3M9bix0aGlzLmFjdGl2ZU1hcmtzPXAubm9uZX07YnQucHJvdG90eXBlLmZpbmRXcmFwcGluZz1mdW5jdGlvbih0KXtpZighdGhpcy5tYXRjaCl7aWYoIXRoaXMudHlwZSlyZXR1cm5bXTt2YXIgZT10aGlzLnR5cGUuY29udGVudE1hdGNoLmZpbGxCZWZvcmUocy5mcm9tKHQpKTtpZighZSl7dmFyIG4scj10aGlzLnR5cGUuY29udGVudE1hdGNoO3JldHVybihuPXIuZmluZFdyYXBwaW5nKHQudHlwZSkpPyh0aGlzLm1hdGNoPXIsbik6bnVsbH10aGlzLm1hdGNoPXRoaXMudHlwZS5jb250ZW50TWF0Y2gubWF0Y2hGcmFnbWVudChlKX1yZXR1cm4gdGhpcy5tYXRjaC5maW5kV3JhcHBpbmcodC50eXBlKX0sYnQucHJvdG90eXBlLmZpbmlzaD1mdW5jdGlvbih0KXtpZighKHRoaXMub3B0aW9ucyZtdCkpe3ZhciBlLG49dGhpcy5jb250ZW50W3RoaXMuY29udGVudC5sZW5ndGgtMV07biYmbi5pc1RleHQmJihlPS9ccyskLy5leGVjKG4udGV4dCkpJiYobi50ZXh0Lmxlbmd0aD09ZVswXS5sZW5ndGg/dGhpcy5jb250ZW50LnBvcCgpOnRoaXMuY29udGVudFt0aGlzLmNvbnRlbnQubGVuZ3RoLTFdPW4ud2l0aFRleHQobi50ZXh0LnNsaWNlKDAsbi50ZXh0Lmxlbmd0aC1lWzBdLmxlbmd0aCkpKX12YXIgcj1zLmZyb20odGhpcy5jb250ZW50KTtyZXR1cm4hdCYmdGhpcy5tYXRjaCYmKHI9ci5hcHBlbmQodGhpcy5tYXRjaC5maWxsQmVmb3JlKHMuZW1wdHksITApKSksdGhpcy50eXBlP3RoaXMudHlwZS5jcmVhdGUodGhpcy5hdHRycyxyLHRoaXMubWFya3MpOnJ9O3ZhciBrdD1mdW5jdGlvbih0LGUsbil7dGhpcy5wYXJzZXI9dCx0aGlzLm9wdGlvbnM9ZSx0aGlzLmlzT3Blbj1uLHRoaXMucGVuZGluZ01hcmtzPVtdO3ZhciByLG89ZS50b3BOb2RlLGk9d3QoZS5wcmVzZXJ2ZVdoaXRlc3BhY2UpfChuP3l0OjApO3I9bz9uZXcgYnQoby50eXBlLG8uYXR0cnMscC5ub25lLCEwLGUudG9wTWF0Y2h8fG8udHlwZS5jb250ZW50TWF0Y2gsaSk6bmV3IGJ0KG4/bnVsbDp0LnNjaGVtYS50b3BOb2RlVHlwZSxudWxsLHAubm9uZSwhMCxudWxsLGkpLHRoaXMubm9kZXM9W3JdLHRoaXMub3Blbj0wLHRoaXMuZmluZD1lLmZpbmRQb3NpdGlvbnMsdGhpcy5uZWVkc0Jsb2NrPSExfSxTdD17dG9wOnt9LGN1cnJlbnRQb3M6e319O2Z1bmN0aW9uIHh0KHQpe2Zvcih2YXIgZT10LmZpcnN0Q2hpbGQsbj1udWxsO2U7ZT1lLm5leHRTaWJsaW5nKXt2YXIgcj0xPT1lLm5vZGVUeXBlP2Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKTpudWxsO3ImJnZ0Lmhhc093blByb3BlcnR5KHIpJiZuPyhuLmFwcGVuZENoaWxkKGUpLGU9bik6ImxpIj09cj9uPWU6ciYmKG49bnVsbCl9fWZ1bmN0aW9uIEN0KHQsZSl7cmV0dXJuKHQubWF0Y2hlc3x8dC5tc01hdGNoZXNTZWxlY3Rvcnx8dC53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fHQubW96TWF0Y2hlc1NlbGVjdG9yKS5jYWxsKHQsZSl9ZnVuY3Rpb24gTXQodCl7dmFyIGUsbj0vXHMqKFtcdy1dKylccyo6XHMqKFteO10rKS9nLHI9W107d2hpbGUoZT1uLmV4ZWModCkpci5wdXNoKGVbMV0sZVsyXS50cmltKCkpO3JldHVybiByfWZ1bmN0aW9uIE90KHQpe3ZhciBlPXt9O2Zvcih2YXIgbiBpbiB0KWVbbl09dFtuXTtyZXR1cm4gZX1TdC50b3AuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZXNbdGhpcy5vcGVuXX0sa3QucHJvdG90eXBlLmFkZERPTT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKDM9PXQubm9kZVR5cGUpdGhpcy5hZGRUZXh0Tm9kZSh0KTtlbHNlIGlmKDE9PXQubm9kZVR5cGUpe3ZhciBuPXQuZ2V0QXR0cmlidXRlKCJzdHlsZSIpLHI9bj90aGlzLnJlYWRTdHlsZXMoTXQobikpOm51bGw7aWYobnVsbCE9cilmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKyllLmFkZFBlbmRpbmdNYXJrKHJbb10pO2lmKHRoaXMuYWRkRWxlbWVudCh0KSxudWxsIT1yKWZvcih2YXIgaT0wO2k8ci5sZW5ndGg7aSsrKWUucmVtb3ZlUGVuZGluZ01hcmsocltpXSl9fSxrdC5wcm90b3R5cGUuYWRkVGV4dE5vZGU9ZnVuY3Rpb24odCl7dmFyIGU9dC5ub2RlVmFsdWUsbj10aGlzLnRvcDtpZigobi50eXBlP24udHlwZS5pbmxpbmVDb250ZW50Om4uY29udGVudC5sZW5ndGgmJm4uY29udGVudFswXS5pc0lubGluZSl8fC9cUy8udGVzdChlKSl7aWYobi5vcHRpb25zJm10KW4ub3B0aW9ucyZndHx8KGU9ZS5yZXBsYWNlKC9ccj9cbnxcci9nLCIgIikpO2Vsc2UgaWYoZT1lLnJlcGxhY2UoL1xzKy9nLCIgIiksL15ccy8udGVzdChlKSYmdGhpcy5vcGVuPT10aGlzLm5vZGVzLmxlbmd0aC0xKXt2YXIgcj1uLmNvbnRlbnRbbi5jb250ZW50Lmxlbmd0aC0xXSxvPXQucHJldmlvdXNTaWJsaW5nOyghcnx8byYmIkJSIj09by5ub2RlTmFtZXx8ci5pc1RleHQmJi9ccyQvLnRlc3Qoci50ZXh0KSkmJihlPWUuc2xpY2UoMSkpfWUmJnRoaXMuaW5zZXJ0Tm9kZSh0aGlzLnBhcnNlci5zY2hlbWEudGV4dChlKSksdGhpcy5maW5kSW5UZXh0KHQpfWVsc2UgdGhpcy5maW5kSW5zaWRlKHQpfSxrdC5wcm90b3R5cGUuYWRkRWxlbWVudD1mdW5jdGlvbih0KXt2YXIgZT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7dnQuaGFzT3duUHJvcGVydHkoZSkmJnh0KHQpO3ZhciBuPXRoaXMub3B0aW9ucy5ydWxlRnJvbU5vZGUmJnRoaXMub3B0aW9ucy5ydWxlRnJvbU5vZGUodCl8fHRoaXMucGFyc2VyLm1hdGNoVGFnKHQsdGhpcyk7aWYobj9uLmlnbm9yZTpkdC5oYXNPd25Qcm9wZXJ0eShlKSl0aGlzLmZpbmRJbnNpZGUodCk7ZWxzZSBpZighbnx8bi5za2lwKXtuJiZuLnNraXAubm9kZVR5cGUmJih0PW4uc2tpcCk7dmFyIHIsbz10aGlzLnRvcCxpPXRoaXMubmVlZHNCbG9jaztpZihodC5oYXNPd25Qcm9wZXJ0eShlKSlyPSEwLG8udHlwZXx8KHRoaXMubmVlZHNCbG9jaz0hMCk7ZWxzZSBpZighdC5maXJzdENoaWxkKXJldHVybiB2b2lkIHRoaXMubGVhZkZhbGxiYWNrKHQpO3RoaXMuYWRkQWxsKHQpLHImJnRoaXMuc3luYyhvKSx0aGlzLm5lZWRzQmxvY2s9aX1lbHNlIHRoaXMuYWRkRWxlbWVudEJ5UnVsZSh0LG4pfSxrdC5wcm90b3R5cGUubGVhZkZhbGxiYWNrPWZ1bmN0aW9uKHQpeyJCUiI9PXQubm9kZU5hbWUmJnRoaXMudG9wLnR5cGUmJnRoaXMudG9wLnR5cGUuaW5saW5lQ29udGVudCYmdGhpcy5hZGRUZXh0Tm9kZSh0Lm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIlxuIikpfSxrdC5wcm90b3R5cGUucmVhZFN0eWxlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxuPXAubm9uZSxyPTA7cjx0Lmxlbmd0aDtyKz0yKXt2YXIgbz1lLnBhcnNlci5tYXRjaFN0eWxlKHRbcl0sdFtyKzFdLGUpO2lmKG8pe2lmKG8uaWdub3JlKXJldHVybiBudWxsO249ZS5wYXJzZXIuc2NoZW1hLm1hcmtzW28ubWFya10uY3JlYXRlKG8uYXR0cnMpLmFkZFRvU2V0KG4pfX1yZXR1cm4gbn0sa3QucHJvdG90eXBlLmFkZEVsZW1lbnRCeVJ1bGU9ZnVuY3Rpb24odCxlKXt2YXIgbixyLG8saSxhPXRoaXM7ZS5ub2RlPyhyPXRoaXMucGFyc2VyLnNjaGVtYS5ub2Rlc1tlLm5vZGVdLHIuaXNMZWFmP3RoaXMuaW5zZXJ0Tm9kZShyLmNyZWF0ZShlLmF0dHJzKSl8fHRoaXMubGVhZkZhbGxiYWNrKHQpOm49dGhpcy5lbnRlcihyLGUuYXR0cnMsZS5wcmVzZXJ2ZVdoaXRlc3BhY2UpKToobz10aGlzLnBhcnNlci5zY2hlbWEubWFya3NbZS5tYXJrXSxpPW8uY3JlYXRlKGUuYXR0cnMpLHRoaXMuYWRkUGVuZGluZ01hcmsoaSkpO3ZhciBzPXRoaXMudG9wO2lmKHImJnIuaXNMZWFmKXRoaXMuZmluZEluc2lkZSh0KTtlbHNlIGlmKGUuZ2V0Q29udGVudCl0aGlzLmZpbmRJbnNpZGUodCksZS5nZXRDb250ZW50KHQsdGhpcy5wYXJzZXIuc2NoZW1hKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gYS5pbnNlcnROb2RlKHQpfSkpO2Vsc2V7dmFyIGM9ZS5jb250ZW50RWxlbWVudDsic3RyaW5nIj09dHlwZW9mIGM/Yz10LnF1ZXJ5U2VsZWN0b3IoYyk6ImZ1bmN0aW9uIj09dHlwZW9mIGMmJihjPWModCkpLGN8fChjPXQpLHRoaXMuZmluZEFyb3VuZCh0LGMsITApLHRoaXMuYWRkQWxsKGMsbil9biYmKHRoaXMuc3luYyhzKSx0aGlzLm9wZW4tLSksaSYmdGhpcy5yZW1vdmVQZW5kaW5nTWFyayhpKX0sa3QucHJvdG90eXBlLmFkZEFsbD1mdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIG89dGhpcyxpPW58fDAsYT1uP3QuY2hpbGROb2Rlc1tuXTp0LmZpcnN0Q2hpbGQscz1udWxsPT1yP251bGw6dC5jaGlsZE5vZGVzW3JdO2EhPXM7YT1hLm5leHRTaWJsaW5nLCsraSlvLmZpbmRBdFBvaW50KHQsaSksby5hZGRET00oYSksZSYmaHQuaGFzT3duUHJvcGVydHkoYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSYmby5zeW5jKGUpO3RoaXMuZmluZEF0UG9pbnQodCxpKX0sa3QucHJvdG90eXBlLmZpbmRQbGFjZT1mdW5jdGlvbih0KXtmb3IodmFyIGUsbixyPXRoaXMsbz10aGlzLm9wZW47bz49MDtvLS0pe3ZhciBpPXIubm9kZXNbb10sYT1pLmZpbmRXcmFwcGluZyh0KTtpZihhJiYoIWV8fGUubGVuZ3RoPmEubGVuZ3RoKSYmKGU9YSxuPWksIWEubGVuZ3RoKSlicmVhaztpZihpLnNvbGlkKWJyZWFrfWlmKCFlKXJldHVybiExO3RoaXMuc3luYyhuKTtmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKylyLmVudGVySW5uZXIoZVtzXSxudWxsLCExKTtyZXR1cm4hMH0sa3QucHJvdG90eXBlLmluc2VydE5vZGU9ZnVuY3Rpb24odCl7aWYodC5pc0lubGluZSYmdGhpcy5uZWVkc0Jsb2NrJiYhdGhpcy50b3AudHlwZSl7dmFyIGU9dGhpcy50ZXh0YmxvY2tGcm9tQ29udGV4dCgpO2UmJnRoaXMuZW50ZXJJbm5lcihlKX1pZih0aGlzLmZpbmRQbGFjZSh0KSl7dGhpcy5jbG9zZUV4dHJhKCk7dmFyIG49dGhpcy50b3A7dGhpcy5hcHBseVBlbmRpbmdNYXJrcyhuKSxuLm1hdGNoJiYobi5tYXRjaD1uLm1hdGNoLm1hdGNoVHlwZSh0LnR5cGUpKTtmb3IodmFyIHI9bi5hY3RpdmVNYXJrcyxvPTA7bzx0Lm1hcmtzLmxlbmd0aDtvKyspbi50eXBlJiYhbi50eXBlLmFsbG93c01hcmtUeXBlKHQubWFya3Nbb10udHlwZSl8fChyPXQubWFya3Nbb10uYWRkVG9TZXQocikpO3JldHVybiBuLmNvbnRlbnQucHVzaCh0Lm1hcmsocikpLCEwfXJldHVybiExfSxrdC5wcm90b3R5cGUuYXBwbHlQZW5kaW5nTWFya3M9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj0wO248dGhpcy5wZW5kaW5nTWFya3MubGVuZ3RoO24rKyl7dmFyIHI9ZS5wZW5kaW5nTWFya3Nbbl07dC50eXBlJiYhdC50eXBlLmFsbG93c01hcmtUeXBlKHIudHlwZSl8fHIuaXNJblNldCh0LmFjdGl2ZU1hcmtzKXx8KHQuYWN0aXZlTWFya3M9ci5hZGRUb1NldCh0LmFjdGl2ZU1hcmtzKSxlLnBlbmRpbmdNYXJrcy5zcGxpY2Uobi0tLDEpKX19LGt0LnByb3RvdHlwZS5lbnRlcj1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5maW5kUGxhY2UodC5jcmVhdGUoZSkpO3JldHVybiByJiYodGhpcy5hcHBseVBlbmRpbmdNYXJrcyh0aGlzLnRvcCksdGhpcy5lbnRlcklubmVyKHQsZSwhMCxuKSkscn0sa3QucHJvdG90eXBlLmVudGVySW5uZXI9ZnVuY3Rpb24odCxlLG4scil7dGhpcy5jbG9zZUV4dHJhKCk7dmFyIG89dGhpcy50b3A7by5tYXRjaD1vLm1hdGNoJiZvLm1hdGNoLm1hdGNoVHlwZSh0LGUpO3ZhciBpPW51bGw9PXI/by5vcHRpb25zJn55dDp3dChyKTtvLm9wdGlvbnMmeXQmJjA9PW8uY29udGVudC5sZW5ndGgmJihpfD15dCksdGhpcy5ub2Rlcy5wdXNoKG5ldyBidCh0LGUsby5hY3RpdmVNYXJrcyxuLG51bGwsaSkpLHRoaXMub3BlbisrfSxrdC5wcm90b3R5cGUuY2xvc2VFeHRyYT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dGhpcy5ub2Rlcy5sZW5ndGgtMTtpZihuPnRoaXMub3Blbil7Zm9yKDtuPnRoaXMub3BlbjtuLS0pZS5ub2Rlc1tuLTFdLmNvbnRlbnQucHVzaChlLm5vZGVzW25dLmZpbmlzaCh0KSk7dGhpcy5ub2Rlcy5sZW5ndGg9dGhpcy5vcGVuKzF9fSxrdC5wcm90b3R5cGUuZmluaXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3Blbj0wLHRoaXMuY2xvc2VFeHRyYSh0aGlzLmlzT3BlbiksdGhpcy5ub2Rlc1swXS5maW5pc2godGhpcy5pc09wZW58fHRoaXMub3B0aW9ucy50b3BPcGVuKX0sa3QucHJvdG90eXBlLnN5bmM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj10aGlzLm9wZW47bj49MDtuLS0paWYoZS5ub2Rlc1tuXT09dClyZXR1cm4gdm9pZChlLm9wZW49bil9LGt0LnByb3RvdHlwZS5hZGRQZW5kaW5nTWFyaz1mdW5jdGlvbih0KXt0aGlzLnBlbmRpbmdNYXJrcy5wdXNoKHQpfSxrdC5wcm90b3R5cGUucmVtb3ZlUGVuZGluZ01hcms9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wZW5kaW5nTWFya3MubGFzdEluZGV4T2YodCk7aWYoZT4tMSl0aGlzLnBlbmRpbmdNYXJrcy5zcGxpY2UoZSwxKTtlbHNle3ZhciBuPXRoaXMudG9wO24uYWN0aXZlTWFya3M9dC5yZW1vdmVGcm9tU2V0KG4uYWN0aXZlTWFya3MpfX0sU3QuY3VycmVudFBvcy5nZXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuY2xvc2VFeHRyYSgpO2Zvcih2YXIgZT0wLG49dGhpcy5vcGVuO24+PTA7bi0tKXtmb3IodmFyIHI9dC5ub2Rlc1tuXS5jb250ZW50LG89ci5sZW5ndGgtMTtvPj0wO28tLSllKz1yW29dLm5vZGVTaXplO24mJmUrK31yZXR1cm4gZX0sa3QucHJvdG90eXBlLmZpbmRBdFBvaW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztpZih0aGlzLmZpbmQpZm9yKHZhciByPTA7cjx0aGlzLmZpbmQubGVuZ3RoO3IrKyluLmZpbmRbcl0ubm9kZT09dCYmbi5maW5kW3JdLm9mZnNldD09ZSYmKG4uZmluZFtyXS5wb3M9bi5jdXJyZW50UG9zKX0sa3QucHJvdG90eXBlLmZpbmRJbnNpZGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0aGlzLmZpbmQpZm9yKHZhciBuPTA7bjx0aGlzLmZpbmQubGVuZ3RoO24rKyludWxsPT1lLmZpbmRbbl0ucG9zJiYxPT10Lm5vZGVUeXBlJiZ0LmNvbnRhaW5zKGUuZmluZFtuXS5ub2RlKSYmKGUuZmluZFtuXS5wb3M9ZS5jdXJyZW50UG9zKX0sa3QucHJvdG90eXBlLmZpbmRBcm91bmQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7aWYodCE9ZSYmdGhpcy5maW5kKWZvcih2YXIgbz0wO288dGhpcy5maW5kLmxlbmd0aDtvKyspaWYobnVsbD09ci5maW5kW29dLnBvcyYmMT09dC5ub2RlVHlwZSYmdC5jb250YWlucyhyLmZpbmRbb10ubm9kZSkpe3ZhciBpPWUuY29tcGFyZURvY3VtZW50UG9zaXRpb24oci5maW5kW29dLm5vZGUpO2kmKG4/Mjo0KSYmKHIuZmluZFtvXS5wb3M9ci5jdXJyZW50UG9zKX19LGt0LnByb3RvdHlwZS5maW5kSW5UZXh0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodGhpcy5maW5kKWZvcih2YXIgbj0wO248dGhpcy5maW5kLmxlbmd0aDtuKyspZS5maW5kW25dLm5vZGU9PXQmJihlLmZpbmRbbl0ucG9zPWUuY3VycmVudFBvcy0odC5ub2RlVmFsdWUubGVuZ3RoLWUuZmluZFtuXS5vZmZzZXQpKX0sa3QucHJvdG90eXBlLm1hdGNoZXNDb250ZXh0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodC5pbmRleE9mKCJ8Iik+LTEpcmV0dXJuIHQuc3BsaXQoL1xzKlx8XHMqLykuc29tZSh0aGlzLm1hdGNoZXNDb250ZXh0LHRoaXMpO3ZhciBuPXQuc3BsaXQoIi8iKSxyPXRoaXMub3B0aW9ucy5jb250ZXh0LG89IXRoaXMuaXNPcGVuJiYoIXJ8fHIucGFyZW50LnR5cGU9PXRoaXMubm9kZXNbMF0udHlwZSksaT0tKHI/ci5kZXB0aCsxOjApKyhvPzA6MSksYT1mdW5jdGlvbih0LHMpe2Zvcig7dD49MDt0LS0pe3ZhciBjPW5bdF07aWYoIiI9PWMpe2lmKHQ9PW4ubGVuZ3RoLTF8fDA9PXQpY29udGludWU7Zm9yKDtzPj1pO3MtLSlpZihhKHQtMSxzKSlyZXR1cm4hMDtyZXR1cm4hMX12YXIgbD1zPjB8fDA9PXMmJm8/ZS5ub2Rlc1tzXS50eXBlOnImJnM+PWk/ci5ub2RlKHMtaSkudHlwZTpudWxsO2lmKCFsfHxsLm5hbWUhPWMmJi0xPT1sLmdyb3Vwcy5pbmRleE9mKGMpKXJldHVybiExO3MtLX1yZXR1cm4hMH07cmV0dXJuIGEobi5sZW5ndGgtMSx0aGlzLm9wZW4pfSxrdC5wcm90b3R5cGUudGV4dGJsb2NrRnJvbUNvbnRleHQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5vcHRpb25zLmNvbnRleHQ7aWYoZSlmb3IodmFyIG49ZS5kZXB0aDtuPj0wO24tLSl7dmFyIHI9ZS5ub2RlKG4pLmNvbnRlbnRNYXRjaEF0KGUuaW5kZXhBZnRlcihuKSkuZGVmYXVsdFR5cGU7aWYociYmci5pc1RleHRibG9jayYmci5kZWZhdWx0QXR0cnMpcmV0dXJuIHJ9Zm9yKHZhciBvIGluIHQucGFyc2VyLnNjaGVtYS5ub2Rlcyl7dmFyIGk9dC5wYXJzZXIuc2NoZW1hLm5vZGVzW29dO2lmKGkuaXNUZXh0YmxvY2smJmkuZGVmYXVsdEF0dHJzKXJldHVybiBpfX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoa3QucHJvdG90eXBlLFN0KTt2YXIgQXQ9ZnVuY3Rpb24odCxlKXt0aGlzLm5vZGVzPXR8fHt9LHRoaXMubWFya3M9ZXx8e319O2Z1bmN0aW9uIFR0KHQpe3ZhciBlPXt9O2Zvcih2YXIgbiBpbiB0KXt2YXIgcj10W25dLnNwZWMudG9ET007ciYmKGVbbl09cil9cmV0dXJuIGV9ZnVuY3Rpb24gTnQodCl7cmV0dXJuIHQuZG9jdW1lbnR8fHdpbmRvdy5kb2N1bWVudH1BdC5wcm90b3R5cGUuc2VyaWFsaXplRnJhZ21lbnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7dm9pZCAwPT09ZSYmKGU9e30pLG58fChuPU50KGUpLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7dmFyIG89bixpPW51bGw7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoaXx8dC5tYXJrcy5sZW5ndGgpe2l8fChpPVtdKTt2YXIgbj0wLGE9MDt3aGlsZShuPGkubGVuZ3RoJiZhPHQubWFya3MubGVuZ3RoKXt2YXIgcz10Lm1hcmtzW2FdO2lmKHIubWFya3Nbcy50eXBlLm5hbWVdKXtpZighcy5lcShpW25dKXx8ITE9PT1zLnR5cGUuc3BlYy5zcGFubmluZylicmVhaztuKz0yLGErK31lbHNlIGErK313aGlsZShuPGkubGVuZ3RoKW89aS5wb3AoKSxpLnBvcCgpO3doaWxlKGE8dC5tYXJrcy5sZW5ndGgpe3ZhciBjPXQubWFya3NbYSsrXSxsPXIuc2VyaWFsaXplTWFyayhjLHQuaXNJbmxpbmUsZSk7bCYmKGkucHVzaChjLG8pLG8uYXBwZW5kQ2hpbGQobC5kb20pLG89bC5jb250ZW50RE9NfHxsLmRvbSl9fW8uYXBwZW5kQ2hpbGQoci5zZXJpYWxpemVOb2RlKHQsZSkpfSkpLG59LEF0LnByb3RvdHlwZS5zZXJpYWxpemVOb2RlPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuPUF0LnJlbmRlclNwZWMoTnQoZSksdGhpcy5ub2Rlc1t0LnR5cGUubmFtZV0odCkpLHI9bi5kb20sbz1uLmNvbnRlbnRET007aWYobyl7aWYodC5pc0xlYWYpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkNvbnRlbnQgaG9sZSBub3QgYWxsb3dlZCBpbiBhIGxlYWYgbm9kZSBzcGVjIik7ZS5vbkNvbnRlbnQ/ZS5vbkNvbnRlbnQodCxvLGUpOnRoaXMuc2VyaWFsaXplRnJhZ21lbnQodC5jb250ZW50LGUsbyl9cmV0dXJuIHJ9LEF0LnByb3RvdHlwZS5zZXJpYWxpemVOb2RlQW5kTWFya3M9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3ZvaWQgMD09PWUmJihlPXt9KTtmb3IodmFyIHI9dGhpcy5zZXJpYWxpemVOb2RlKHQsZSksbz10Lm1hcmtzLmxlbmd0aC0xO28+PTA7by0tKXt2YXIgaT1uLnNlcmlhbGl6ZU1hcmsodC5tYXJrc1tvXSx0LmlzSW5saW5lLGUpO2kmJigoaS5jb250ZW50RE9NfHxpLmRvbSkuYXBwZW5kQ2hpbGQocikscj1pLmRvbSl9cmV0dXJuIHJ9LEF0LnByb3RvdHlwZS5zZXJpYWxpemVNYXJrPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj17fSk7dmFyIHI9dGhpcy5tYXJrc1t0LnR5cGUubmFtZV07cmV0dXJuIHImJkF0LnJlbmRlclNwZWMoTnQobikscih0LGUpKX0sQXQucmVuZGVyU3BlYz1mdW5jdGlvbih0LGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm57ZG9tOnQuY3JlYXRlVGV4dE5vZGUoZSl9O2lmKG51bGwhPWUubm9kZVR5cGUpcmV0dXJue2RvbTplfTt2YXIgbj10LmNyZWF0ZUVsZW1lbnQoZVswXSkscj1udWxsLG89ZVsxXSxpPTE7aWYobyYmIm9iamVjdCI9PXR5cGVvZiBvJiZudWxsPT1vLm5vZGVUeXBlJiYhQXJyYXkuaXNBcnJheShvKSlmb3IodmFyIGEgaW4gaT0yLG8pbnVsbCE9b1thXSYmbi5zZXRBdHRyaWJ1dGUoYSxvW2FdKTtmb3IodmFyIHM9aTtzPGUubGVuZ3RoO3MrKyl7dmFyIGM9ZVtzXTtpZigwPT09Yyl7aWYoczxlLmxlbmd0aC0xfHxzPmkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkNvbnRlbnQgaG9sZSBtdXN0IGJlIHRoZSBvbmx5IGNoaWxkIG9mIGl0cyBwYXJlbnQgbm9kZSIpO3JldHVybntkb206bixjb250ZW50RE9NOm59fXZhciBsPUF0LnJlbmRlclNwZWModCxjKSx1PWwuZG9tLGY9bC5jb250ZW50RE9NO2lmKG4uYXBwZW5kQ2hpbGQodSksZil7aWYocil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiTXVsdGlwbGUgY29udGVudCBob2xlcyIpO3I9Zn19cmV0dXJue2RvbTpuLGNvbnRlbnRET006cn19LEF0LmZyb21TY2hlbWE9ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2FjaGVkLmRvbVNlcmlhbGl6ZXJ8fCh0LmNhY2hlZC5kb21TZXJpYWxpemVyPW5ldyBBdCh0aGlzLm5vZGVzRnJvbVNjaGVtYSh0KSx0aGlzLm1hcmtzRnJvbVNjaGVtYSh0KSkpfSxBdC5ub2Rlc0Zyb21TY2hlbWE9ZnVuY3Rpb24odCl7dmFyIGU9VHQodC5ub2Rlcyk7cmV0dXJuIGUudGV4dHx8KGUudGV4dD1mdW5jdGlvbih0KXtyZXR1cm4gdC50ZXh0fSksZX0sQXQubWFya3NGcm9tU2NoZW1hPWZ1bmN0aW9uKHQpe3JldHVybiBUdCh0Lm1hcmtzKX0sZS5Ob2RlPUksZS5SZXNvbHZlZFBvcz1ULGUuTm9kZVJhbmdlPUQsZS5GcmFnbWVudD1zLGUuU2xpY2U9ZCxlLlJlcGxhY2VFcnJvcj1oLGUuTWFyaz1wLGUuU2NoZW1hPXV0LGUuTm9kZVR5cGU9aXQsZS5NYXJrVHlwZT1sdCxlLkNvbnRlbnRNYXRjaD1GLGUuRE9NUGFyc2VyPXB0LGUuRE9NU2VyaWFsaXplcj1BdH0sIjZmZmIiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciByPW4oIjZmMjciKSxvPW4oImI5MjMiKSxpPU9iamVjdC5jcmVhdGUobnVsbCksYT1mdW5jdGlvbih0LGUsbil7dGhpcy5yYW5nZXM9bnx8W25ldyBjKHQubWluKGUpLHQubWF4KGUpKV0sdGhpcy4kYW5jaG9yPXQsdGhpcy4kaGVhZD1lfSxzPXthbmNob3I6e30saGVhZDp7fSxmcm9tOnt9LHRvOnt9LCRmcm9tOnt9LCR0bzp7fSxlbXB0eTp7fX07cy5hbmNob3IuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGFuY2hvci5wb3N9LHMuaGVhZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kaGVhZC5wb3N9LHMuZnJvbS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZnJvbS5wb3N9LHMudG8uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHRvLnBvc30scy4kZnJvbS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYW5nZXNbMF0uJGZyb219LHMuJHRvLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJhbmdlc1swXS4kdG99LHMuZW1wdHkuZ2V0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMucmFuZ2VzLGU9MDtlPHQubGVuZ3RoO2UrKylpZih0W2VdLiRmcm9tLnBvcyE9dFtlXS4kdG8ucG9zKXJldHVybiExO3JldHVybiEwfSxhLnByb3RvdHlwZS5jb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGZyb20ubm9kZSgwKS5zbGljZSh0aGlzLmZyb20sdGhpcy50bywhMCl9LGEucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1yLlNsaWNlLmVtcHR5KTtmb3IodmFyIG49ZS5jb250ZW50Lmxhc3RDaGlsZCxvPW51bGwsaT0wO2k8ZS5vcGVuRW5kO2krKylvPW4sbj1uLmxhc3RDaGlsZDtmb3IodmFyIGE9dC5zdGVwcy5sZW5ndGgscz10aGlzLnJhbmdlcyxjPTA7YzxzLmxlbmd0aDtjKyspe3ZhciBsPXNbY10sdT1sLiRmcm9tLGY9bC4kdG8scD10Lm1hcHBpbmcuc2xpY2UoYSk7dC5yZXBsYWNlUmFuZ2UocC5tYXAodS5wb3MpLHAubWFwKGYucG9zKSxjP3IuU2xpY2UuZW1wdHk6ZSksMD09YyYmbSh0LGEsKG4/bi5pc0lubGluZTpvJiZvLmlzVGV4dGJsb2NrKT8tMToxKX19LGEucHJvdG90eXBlLnJlcGxhY2VXaXRoPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuc3RlcHMubGVuZ3RoLHI9dGhpcy5yYW5nZXMsbz0wO288ci5sZW5ndGg7bysrKXt2YXIgaT1yW29dLGE9aS4kZnJvbSxzPWkuJHRvLGM9dC5tYXBwaW5nLnNsaWNlKG4pLGw9Yy5tYXAoYS5wb3MpLHU9Yy5tYXAocy5wb3MpO28/dC5kZWxldGVSYW5nZShsLHUpOih0LnJlcGxhY2VSYW5nZVdpdGgobCx1LGUpLG0odCxuLGUuaXNJbmxpbmU/LTE6MSkpfX0sYS5maW5kRnJvbT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dC5wYXJlbnQuaW5saW5lQ29udGVudD9uZXcgbCh0KTp2KHQubm9kZSgwKSx0LnBhcmVudCx0LnBvcyx0LmluZGV4KCksZSxuKTtpZihyKXJldHVybiByO2Zvcih2YXIgbz10LmRlcHRoLTE7bz49MDtvLS0pe3ZhciBpPWU8MD92KHQubm9kZSgwKSx0Lm5vZGUobyksdC5iZWZvcmUobysxKSx0LmluZGV4KG8pLGUsbik6dih0Lm5vZGUoMCksdC5ub2RlKG8pLHQuYWZ0ZXIobysxKSx0LmluZGV4KG8pKzEsZSxuKTtpZihpKXJldHVybiBpfX0sYS5uZWFyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTEpLHRoaXMuZmluZEZyb20odCxlKXx8dGhpcy5maW5kRnJvbSh0LC1lKXx8bmV3IGgodC5ub2RlKDApKX0sYS5hdFN0YXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB2KHQsdCwwLDAsMSl8fG5ldyBoKHQpfSxhLmF0RW5kPWZ1bmN0aW9uKHQpe3JldHVybiB2KHQsdCx0LmNvbnRlbnQuc2l6ZSx0LmNoaWxkQ291bnQsLTEpfHxuZXcgaCh0KX0sYS5mcm9tSlNPTj1mdW5jdGlvbih0LGUpe2lmKCFlfHwhZS50eXBlKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBTZWxlY3Rpb24uZnJvbUpTT04iKTt2YXIgbj1pW2UudHlwZV07aWYoIW4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vIHNlbGVjdGlvbiB0eXBlICIrZS50eXBlKyIgZGVmaW5lZCIpO3JldHVybiBuLmZyb21KU09OKHQsZSl9LGEuanNvbklEPWZ1bmN0aW9uKHQsZSl7aWYodCBpbiBpKXRocm93IG5ldyBSYW5nZUVycm9yKCJEdXBsaWNhdGUgdXNlIG9mIHNlbGVjdGlvbiBKU09OIElEICIrdCk7cmV0dXJuIGlbdF09ZSxlLnByb3RvdHlwZS5qc29uSUQ9dCxlfSxhLnByb3RvdHlwZS5nZXRCb29rbWFyaz1mdW5jdGlvbigpe3JldHVybiBsLmJldHdlZW4odGhpcy4kYW5jaG9yLHRoaXMuJGhlYWQpLmdldEJvb2ttYXJrKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGEucHJvdG90eXBlLHMpLGEucHJvdG90eXBlLnZpc2libGU9ITA7dmFyIGM9ZnVuY3Rpb24odCxlKXt0aGlzLiRmcm9tPXQsdGhpcy4kdG89ZX0sbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dm9pZCAwPT09biYmKG49ZSksdC5jYWxsKHRoaXMsZSxuKX10JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17JGN1cnNvcjp7fX07cmV0dXJuIG4uJGN1cnNvci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kYW5jaG9yLnBvcz09dGhpcy4kaGVhZC5wb3M/dGhpcy4kaGVhZDpudWxsfSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24obixyKXt2YXIgbz1uLnJlc29sdmUoci5tYXAodGhpcy5oZWFkKSk7aWYoIW8ucGFyZW50LmlubGluZUNvbnRlbnQpcmV0dXJuIHQubmVhcihvKTt2YXIgaT1uLnJlc29sdmUoci5tYXAodGhpcy5hbmNob3IpKTtyZXR1cm4gbmV3IGUoaS5wYXJlbnQuaW5saW5lQ29udGVudD9pOm8sbyl9LGUucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24oZSxuKXtpZih2b2lkIDA9PT1uJiYobj1yLlNsaWNlLmVtcHR5KSx0LnByb3RvdHlwZS5yZXBsYWNlLmNhbGwodGhpcyxlLG4pLG49PXIuU2xpY2UuZW1wdHkpe3ZhciBvPXRoaXMuJGZyb20ubWFya3NBY3Jvc3ModGhpcy4kdG8pO28mJmUuZW5zdXJlTWFya3Mobyl9fSxlLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGUmJnQuYW5jaG9yPT10aGlzLmFuY2hvciYmdC5oZWFkPT10aGlzLmhlYWR9LGUucHJvdG90eXBlLmdldEJvb2ttYXJrPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1KHRoaXMuYW5jaG9yLHRoaXMuaGVhZCl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJ0ZXh0IixhbmNob3I6dGhpcy5hbmNob3IsaGVhZDp0aGlzLmhlYWR9fSxlLmZyb21KU09OPWZ1bmN0aW9uKHQsbil7aWYoIm51bWJlciIhPXR5cGVvZiBuLmFuY2hvcnx8Im51bWJlciIhPXR5cGVvZiBuLmhlYWQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIFRleHRTZWxlY3Rpb24uZnJvbUpTT04iKTtyZXR1cm4gbmV3IGUodC5yZXNvbHZlKG4uYW5jaG9yKSx0LnJlc29sdmUobi5oZWFkKSl9LGUuY3JlYXRlPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj1lKTt2YXIgcj10LnJlc29sdmUoZSk7cmV0dXJuIG5ldyB0aGlzKHIsbj09ZT9yOnQucmVzb2x2ZShuKSl9LGUuYmV0d2Vlbj1mdW5jdGlvbihuLHIsbyl7dmFyIGk9bi5wb3Mtci5wb3M7aWYobyYmIWl8fChvPWk+PTA/MTotMSksIXIucGFyZW50LmlubGluZUNvbnRlbnQpe3ZhciBhPXQuZmluZEZyb20ocixvLCEwKXx8dC5maW5kRnJvbShyLC1vLCEwKTtpZighYSlyZXR1cm4gdC5uZWFyKHIsbyk7cj1hLiRoZWFkfXJldHVybiBuLnBhcmVudC5pbmxpbmVDb250ZW50fHwoMD09aT9uPXI6KG49KHQuZmluZEZyb20obiwtbywhMCl8fHQuZmluZEZyb20obixvLCEwKSkuJGFuY2hvcixuLnBvczxyLnBvcyE9aTwwJiYobj1yKSkpLG5ldyBlKG4scil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLG4pLGV9KGEpO2EuanNvbklEKCJ0ZXh0IixsKTt2YXIgdT1mdW5jdGlvbih0LGUpe3RoaXMuYW5jaG9yPXQsdGhpcy5oZWFkPWV9O3UucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHUodC5tYXAodGhpcy5hbmNob3IpLHQubWFwKHRoaXMuaGVhZCkpfSx1LnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKHQpe3JldHVybiBsLmJldHdlZW4odC5yZXNvbHZlKHRoaXMuYW5jaG9yKSx0LnJlc29sdmUodGhpcy5oZWFkKSl9O3ZhciBmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49ZS5ub2RlQWZ0ZXIscj1lLm5vZGUoMCkucmVzb2x2ZShlLnBvcytuLm5vZGVTaXplKTt0LmNhbGwodGhpcyxlLHIpLHRoaXMubm9kZT1ufXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24obixyKXt2YXIgbz1yLm1hcFJlc3VsdCh0aGlzLmFuY2hvciksaT1vLmRlbGV0ZWQsYT1vLnBvcyxzPW4ucmVzb2x2ZShhKTtyZXR1cm4gaT90Lm5lYXIocyk6bmV3IGUocyl9LGUucHJvdG90eXBlLmNvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIuU2xpY2Uoci5GcmFnbWVudC5mcm9tKHRoaXMubm9kZSksMCwwKX0sZS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlJiZ0LmFuY2hvcj09dGhpcy5hbmNob3J9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJub2RlIixhbmNob3I6dGhpcy5hbmNob3J9fSxlLnByb3RvdHlwZS5nZXRCb29rbWFyaz1mdW5jdGlvbigpe3JldHVybiBuZXcgcCh0aGlzLmFuY2hvcil9LGUuZnJvbUpTT049ZnVuY3Rpb24odCxuKXtpZigibnVtYmVyIiE9dHlwZW9mIG4uYW5jaG9yKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBOb2RlU2VsZWN0aW9uLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKHQucmVzb2x2ZShuLmFuY2hvcikpfSxlLmNyZWF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgdGhpcyh0LnJlc29sdmUoZSkpfSxlLmlzU2VsZWN0YWJsZT1mdW5jdGlvbih0KXtyZXR1cm4hdC5pc1RleHQmJiExIT09dC50eXBlLnNwZWMuc2VsZWN0YWJsZX0sZX0oYSk7Zi5wcm90b3R5cGUudmlzaWJsZT0hMSxhLmpzb25JRCgibm9kZSIsZik7dmFyIHA9ZnVuY3Rpb24odCl7dGhpcy5hbmNob3I9dH07cC5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe3ZhciBlPXQubWFwUmVzdWx0KHRoaXMuYW5jaG9yKSxuPWUuZGVsZXRlZCxyPWUucG9zO3JldHVybiBuP25ldyB1KHIscik6bmV3IHAocil9LHAucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24odCl7dmFyIGU9dC5yZXNvbHZlKHRoaXMuYW5jaG9yKSxuPWUubm9kZUFmdGVyO3JldHVybiBuJiZmLmlzU2VsZWN0YWJsZShuKT9uZXcgZihlKTphLm5lYXIoZSl9O3ZhciBoPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZS5yZXNvbHZlKDApLGUucmVzb2x2ZShlLmNvbnRlbnQuc2l6ZSkpfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZToiYWxsIn19LGUuZnJvbUpTT049ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHQpfSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHQpfSxlLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGV9LGUucHJvdG90eXBlLmdldEJvb2ttYXJrPWZ1bmN0aW9uKCl7cmV0dXJuIGR9LGV9KGEpO2EuanNvbklEKCJhbGwiLGgpO3ZhciBkPXttYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30scmVzb2x2ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGgodCl9fTtmdW5jdGlvbiB2KHQsZSxuLHIsbyxpKXtpZihlLmlubGluZUNvbnRlbnQpcmV0dXJuIGwuY3JlYXRlKHQsbik7Zm9yKHZhciBhPXItKG8+MD8wOjEpO28+MD9hPGUuY2hpbGRDb3VudDphPj0wO2ErPW8pe3ZhciBzPWUuY2hpbGQoYSk7aWYocy5pc0F0b20pe2lmKCFpJiZmLmlzU2VsZWN0YWJsZShzKSlyZXR1cm4gZi5jcmVhdGUodCxuLShvPDA/cy5ub2RlU2l6ZTowKSl9ZWxzZXt2YXIgYz12KHQscyxuK28sbzwwP3MuY2hpbGRDb3VudDowLG8saSk7aWYoYylyZXR1cm4gY31uKz1zLm5vZGVTaXplKm99fWZ1bmN0aW9uIG0odCxlLG4pe3ZhciByPXQuc3RlcHMubGVuZ3RoLTE7aWYoIShyPGUpKXt2YXIgaT10LnN0ZXBzW3JdO2lmKGkgaW5zdGFuY2VvZiBvLlJlcGxhY2VTdGVwfHxpIGluc3RhbmNlb2Ygby5SZXBsYWNlQXJvdW5kU3RlcCl7dmFyIHMsYz10Lm1hcHBpbmcubWFwc1tyXTtjLmZvckVhY2goKGZ1bmN0aW9uKHQsZSxuLHIpe251bGw9PXMmJihzPXIpfSkpLHQuc2V0U2VsZWN0aW9uKGEubmVhcih0LmRvYy5yZXNvbHZlKHMpLG4pKX19fXZhciBnPTEseT0yLHc9NCxiPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZS5kb2MpLHRoaXMudGltZT1EYXRlLm5vdygpLHRoaXMuY3VyU2VsZWN0aW9uPWUuc2VsZWN0aW9uLHRoaXMuY3VyU2VsZWN0aW9uRm9yPTAsdGhpcy5zdG9yZWRNYXJrcz1lLnN0b3JlZE1hcmtzLHRoaXMudXBkYXRlZD0wLHRoaXMubWV0YT1PYmplY3QuY3JlYXRlKG51bGwpfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXtzZWxlY3Rpb246e30sc2VsZWN0aW9uU2V0Ont9LHN0b3JlZE1hcmtzU2V0Ont9LGlzR2VuZXJpYzp7fSxzY3JvbGxlZEludG9WaWV3Ont9fTtyZXR1cm4gbi5zZWxlY3Rpb24uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VyU2VsZWN0aW9uRm9yPHRoaXMuc3RlcHMubGVuZ3RoJiYodGhpcy5jdXJTZWxlY3Rpb249dGhpcy5jdXJTZWxlY3Rpb24ubWFwKHRoaXMuZG9jLHRoaXMubWFwcGluZy5zbGljZSh0aGlzLmN1clNlbGVjdGlvbkZvcikpLHRoaXMuY3VyU2VsZWN0aW9uRm9yPXRoaXMuc3RlcHMubGVuZ3RoKSx0aGlzLmN1clNlbGVjdGlvbn0sZS5wcm90b3R5cGUuc2V0U2VsZWN0aW9uPWZ1bmN0aW9uKHQpe2lmKHQuJGZyb20uZG9jIT10aGlzLmRvYyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VsZWN0aW9uIHBhc3NlZCB0byBzZXRTZWxlY3Rpb24gbXVzdCBwb2ludCBhdCB0aGUgY3VycmVudCBkb2N1bWVudCIpO3JldHVybiB0aGlzLmN1clNlbGVjdGlvbj10LHRoaXMuY3VyU2VsZWN0aW9uRm9yPXRoaXMuc3RlcHMubGVuZ3RoLHRoaXMudXBkYXRlZD0odGhpcy51cGRhdGVkfGcpJn55LHRoaXMuc3RvcmVkTWFya3M9bnVsbCx0aGlzfSxuLnNlbGVjdGlvblNldC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy51cGRhdGVkJmcpPjB9LGUucHJvdG90eXBlLnNldFN0b3JlZE1hcmtzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0b3JlZE1hcmtzPXQsdGhpcy51cGRhdGVkfD15LHRoaXN9LGUucHJvdG90eXBlLmVuc3VyZU1hcmtzPWZ1bmN0aW9uKHQpe3JldHVybiByLk1hcmsuc2FtZVNldCh0aGlzLnN0b3JlZE1hcmtzfHx0aGlzLnNlbGVjdGlvbi4kZnJvbS5tYXJrcygpLHQpfHx0aGlzLnNldFN0b3JlZE1hcmtzKHQpLHRoaXN9LGUucHJvdG90eXBlLmFkZFN0b3JlZE1hcms9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZW5zdXJlTWFya3ModC5hZGRUb1NldCh0aGlzLnN0b3JlZE1hcmtzfHx0aGlzLnNlbGVjdGlvbi4kaGVhZC5tYXJrcygpKSl9LGUucHJvdG90eXBlLnJlbW92ZVN0b3JlZE1hcms9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZW5zdXJlTWFya3ModC5yZW1vdmVGcm9tU2V0KHRoaXMuc3RvcmVkTWFya3N8fHRoaXMuc2VsZWN0aW9uLiRoZWFkLm1hcmtzKCkpKX0sbi5zdG9yZWRNYXJrc1NldC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy51cGRhdGVkJnkpPjB9LGUucHJvdG90eXBlLmFkZFN0ZXA9ZnVuY3Rpb24oZSxuKXt0LnByb3RvdHlwZS5hZGRTdGVwLmNhbGwodGhpcyxlLG4pLHRoaXMudXBkYXRlZD10aGlzLnVwZGF0ZWQmfnksdGhpcy5zdG9yZWRNYXJrcz1udWxsfSxlLnByb3RvdHlwZS5zZXRUaW1lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRpbWU9dCx0aGlzfSxlLnByb3RvdHlwZS5yZXBsYWNlU2VsZWN0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNlbGVjdGlvbi5yZXBsYWNlKHRoaXMsdCksdGhpc30sZS5wcm90b3R5cGUucmVwbGFjZVNlbGVjdGlvbldpdGg9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnNlbGVjdGlvbjtyZXR1cm4hMSE9PWUmJih0PXQubWFyayh0aGlzLnN0b3JlZE1hcmtzfHwobi5lbXB0eT9uLiRmcm9tLm1hcmtzKCk6bi4kZnJvbS5tYXJrc0Fjcm9zcyhuLiR0byl8fHIuTWFyay5ub25lKSkpLG4ucmVwbGFjZVdpdGgodGhpcyx0KSx0aGlzfSxlLnByb3RvdHlwZS5kZWxldGVTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb24ucmVwbGFjZSh0aGlzKSx0aGlzfSxlLnByb3RvdHlwZS5pbnNlcnRUZXh0PWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj1lKTt2YXIgcj10aGlzLmRvYy50eXBlLnNjaGVtYTtpZihudWxsPT1lKXJldHVybiB0P3RoaXMucmVwbGFjZVNlbGVjdGlvbldpdGgoci50ZXh0KHQpLCEwKTp0aGlzLmRlbGV0ZVNlbGVjdGlvbigpO2lmKCF0KXJldHVybiB0aGlzLmRlbGV0ZVJhbmdlKGUsbik7dmFyIG89dGhpcy5zdG9yZWRNYXJrcztpZighbyl7dmFyIGk9dGhpcy5kb2MucmVzb2x2ZShlKTtvPW49PWU/aS5tYXJrcygpOmkubWFya3NBY3Jvc3ModGhpcy5kb2MucmVzb2x2ZShuKSl9cmV0dXJuIHRoaXMucmVwbGFjZVJhbmdlV2l0aChlLG4sci50ZXh0KHQsbykpLHRoaXMuc2VsZWN0aW9uLmVtcHR5fHx0aGlzLnNldFNlbGVjdGlvbihhLm5lYXIodGhpcy5zZWxlY3Rpb24uJHRvKSksdGhpc30sZS5wcm90b3R5cGUuc2V0TWV0YT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm1ldGFbInN0cmluZyI9PXR5cGVvZiB0P3Q6dC5rZXldPWUsdGhpc30sZS5wcm90b3R5cGUuZ2V0TWV0YT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5tZXRhWyJzdHJpbmciPT10eXBlb2YgdD90OnQua2V5XX0sbi5pc0dlbmVyaWMuZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztmb3IodmFyIGUgaW4gdC5tZXRhKXJldHVybiExO3JldHVybiEwfSxlLnByb3RvdHlwZS5zY3JvbGxJbnRvVmlldz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVwZGF0ZWR8PXcsdGhpc30sbi5zY3JvbGxlZEludG9WaWV3LmdldD1mdW5jdGlvbigpe3JldHVybih0aGlzLnVwZGF0ZWQmdyk+MH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsbiksZX0oby5UcmFuc2Zvcm0pO2Z1bmN0aW9uIGsodCxlKXtyZXR1cm4gZSYmdD90LmJpbmQoZSk6dH12YXIgUz1mdW5jdGlvbih0LGUsbil7dGhpcy5uYW1lPXQsdGhpcy5pbml0PWsoZS5pbml0LG4pLHRoaXMuYXBwbHk9ayhlLmFwcGx5LG4pfSx4PVtuZXcgUygiZG9jIix7aW5pdDpmdW5jdGlvbih0KXtyZXR1cm4gdC5kb2N8fHQuc2NoZW1hLnRvcE5vZGVUeXBlLmNyZWF0ZUFuZEZpbGwoKX0sYXBwbHk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZG9jfX0pLG5ldyBTKCJzZWxlY3Rpb24iLHtpbml0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc2VsZWN0aW9ufHxhLmF0U3RhcnQoZS5kb2MpfSxhcHBseTpmdW5jdGlvbih0KXtyZXR1cm4gdC5zZWxlY3Rpb259fSksbmV3IFMoInN0b3JlZE1hcmtzIix7aW5pdDpmdW5jdGlvbih0KXtyZXR1cm4gdC5zdG9yZWRNYXJrc3x8bnVsbH0sYXBwbHk6ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHIuc2VsZWN0aW9uLiRjdXJzb3I/dC5zdG9yZWRNYXJrczpudWxsfX0pLG5ldyBTKCJzY3JvbGxUb1NlbGVjdGlvbiIse2luaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMH0sYXBwbHk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zY3JvbGxlZEludG9WaWV3P2UrMTplfX0pXSxDPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0aGlzLnNjaGVtYT10LHRoaXMuZmllbGRzPXguY29uY2F0KCksdGhpcy5wbHVnaW5zPVtdLHRoaXMucGx1Z2luc0J5S2V5PU9iamVjdC5jcmVhdGUobnVsbCksZSYmZS5mb3JFYWNoKChmdW5jdGlvbih0KXtpZihuLnBsdWdpbnNCeUtleVt0LmtleV0pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkFkZGluZyBkaWZmZXJlbnQgaW5zdGFuY2VzIG9mIGEga2V5ZWQgcGx1Z2luICgiK3Qua2V5KyIpIik7bi5wbHVnaW5zLnB1c2godCksbi5wbHVnaW5zQnlLZXlbdC5rZXldPXQsdC5zcGVjLnN0YXRlJiZuLmZpZWxkcy5wdXNoKG5ldyBTKHQua2V5LHQuc3BlYy5zdGF0ZSx0KSl9KSl9LE09ZnVuY3Rpb24odCl7dGhpcy5jb25maWc9dH0sTz17c2NoZW1hOnt9LHBsdWdpbnM6e30sdHI6e319O08uc2NoZW1hLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbmZpZy5zY2hlbWF9LE8ucGx1Z2lucy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25maWcucGx1Z2luc30sTS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYXBwbHlUcmFuc2FjdGlvbih0KS5zdGF0ZX0sTS5wcm90b3R5cGUuZmlsdGVyVHJhbnNhY3Rpb249ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3ZvaWQgMD09PWUmJihlPS0xKTtmb3IodmFyIHI9MDtyPHRoaXMuY29uZmlnLnBsdWdpbnMubGVuZ3RoO3IrKylpZihyIT1lKXt2YXIgbz1uLmNvbmZpZy5wbHVnaW5zW3JdO2lmKG8uc3BlYy5maWx0ZXJUcmFuc2FjdGlvbiYmIW8uc3BlYy5maWx0ZXJUcmFuc2FjdGlvbi5jYWxsKG8sdCxuKSlyZXR1cm4hMX1yZXR1cm4hMH0sTS5wcm90b3R5cGUuYXBwbHlUcmFuc2FjdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKCF0aGlzLmZpbHRlclRyYW5zYWN0aW9uKHQpKXJldHVybntzdGF0ZTp0aGlzLHRyYW5zYWN0aW9uczpbXX07Zm9yKHZhciBuPVt0XSxyPXRoaXMuYXBwbHlJbm5lcih0KSxvPW51bGw7Oyl7Zm9yKHZhciBpPSExLGE9MDthPHRoaXMuY29uZmlnLnBsdWdpbnMubGVuZ3RoO2ErKyl7dmFyIHM9ZS5jb25maWcucGx1Z2luc1thXTtpZihzLnNwZWMuYXBwZW5kVHJhbnNhY3Rpb24pe3ZhciBjPW8/b1thXS5uOjAsbD1vP29bYV0uc3RhdGU6ZSx1PWM8bi5sZW5ndGgmJnMuc3BlYy5hcHBlbmRUcmFuc2FjdGlvbi5jYWxsKHMsYz9uLnNsaWNlKGMpOm4sbCxyKTtpZih1JiZyLmZpbHRlclRyYW5zYWN0aW9uKHUsYSkpe2lmKHUuc2V0TWV0YSgiYXBwZW5kZWRUcmFuc2FjdGlvbiIsdCksIW8pe289W107Zm9yKHZhciBmPTA7Zjx0aGlzLmNvbmZpZy5wbHVnaW5zLmxlbmd0aDtmKyspby5wdXNoKGY8YT97c3RhdGU6cixuOm4ubGVuZ3RofTp7c3RhdGU6ZSxuOjB9KX1uLnB1c2godSkscj1yLmFwcGx5SW5uZXIodSksaT0hMH1vJiYob1thXT17c3RhdGU6cixuOm4ubGVuZ3RofSl9fWlmKCFpKXJldHVybntzdGF0ZTpyLHRyYW5zYWN0aW9uczpufX19LE0ucHJvdG90eXBlLmFwcGx5SW5uZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZighdC5iZWZvcmUuZXEodGhpcy5kb2MpKXRocm93IG5ldyBSYW5nZUVycm9yKCJBcHBseWluZyBhIG1pc21hdGNoZWQgdHJhbnNhY3Rpb24iKTtmb3IodmFyIG49bmV3IE0odGhpcy5jb25maWcpLHI9dGhpcy5jb25maWcuZmllbGRzLG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGk9cltvXTtuW2kubmFtZV09aS5hcHBseSh0LGVbaS5uYW1lXSxlLG4pfWZvcih2YXIgYT0wO2E8QS5sZW5ndGg7YSsrKUFbYV0oZSx0LG4pO3JldHVybiBufSxPLnRyLmdldD1mdW5jdGlvbigpe3JldHVybiBuZXcgYih0aGlzKX0sTS5jcmVhdGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBDKHQuc2NoZW1hfHx0LmRvYy50eXBlLnNjaGVtYSx0LnBsdWdpbnMpLG49bmV3IE0oZSkscj0wO3I8ZS5maWVsZHMubGVuZ3RoO3IrKyluW2UuZmllbGRzW3JdLm5hbWVdPWUuZmllbGRzW3JdLmluaXQodCxuKTtyZXR1cm4gbn0sTS5wcm90b3R5cGUucmVjb25maWd1cmU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj1uZXcgQyh0LnNjaGVtYXx8dGhpcy5zY2hlbWEsdC5wbHVnaW5zKSxyPW4uZmllbGRzLG89bmV3IE0obiksaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgYT1yW2ldLm5hbWU7b1thXT1lLmhhc093blByb3BlcnR5KGEpP2VbYV06cltpXS5pbml0KHQsbyl9cmV0dXJuIG99LE0ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49e2RvYzp0aGlzLmRvYy50b0pTT04oKSxzZWxlY3Rpb246dGhpcy5zZWxlY3Rpb24udG9KU09OKCl9O2lmKHRoaXMuc3RvcmVkTWFya3MmJihuLnN0b3JlZE1hcmtzPXRoaXMuc3RvcmVkTWFya3MubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50b0pTT04oKX0pKSksdCYmIm9iamVjdCI9PXR5cGVvZiB0KWZvcih2YXIgciBpbiB0KXtpZigiZG9jIj09cnx8InNlbGVjdGlvbiI9PXIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRoZSBKU09OIGZpZWxkcyBgZG9jYCBhbmQgYHNlbGVjdGlvbmAgYXJlIHJlc2VydmVkIik7dmFyIG89dFtyXSxpPW8uc3BlYy5zdGF0ZTtpJiZpLnRvSlNPTiYmKG5bcl09aS50b0pTT04uY2FsbChvLGVbby5rZXldKSl9cmV0dXJuIG59LE0uZnJvbUpTT049ZnVuY3Rpb24odCxlLG4pe2lmKCFlKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBFZGl0b3JTdGF0ZS5mcm9tSlNPTiIpO2lmKCF0LnNjaGVtYSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiUmVxdWlyZWQgY29uZmlnIGZpZWxkICdzY2hlbWEnIG1pc3NpbmciKTt2YXIgbz1uZXcgQyh0LnNjaGVtYSx0LnBsdWdpbnMpLGk9bmV3IE0obyk7cmV0dXJuIG8uZmllbGRzLmZvckVhY2goKGZ1bmN0aW9uKG8pe2lmKCJkb2MiPT1vLm5hbWUpaS5kb2M9ci5Ob2RlLmZyb21KU09OKHQuc2NoZW1hLGUuZG9jKTtlbHNlIGlmKCJzZWxlY3Rpb24iPT1vLm5hbWUpaS5zZWxlY3Rpb249YS5mcm9tSlNPTihpLmRvYyxlLnNlbGVjdGlvbik7ZWxzZSBpZigic3RvcmVkTWFya3MiPT1vLm5hbWUpZS5zdG9yZWRNYXJrcyYmKGkuc3RvcmVkTWFya3M9ZS5zdG9yZWRNYXJrcy5tYXAodC5zY2hlbWEubWFya0Zyb21KU09OKSk7ZWxzZXtpZihuKWZvcih2YXIgcyBpbiBuKXt2YXIgYz1uW3NdLGw9Yy5zcGVjLnN0YXRlO2lmKGMua2V5PT1vLm5hbWUmJmwmJmwuZnJvbUpTT04mJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHMpKXJldHVybiB2b2lkKGlbby5uYW1lXT1sLmZyb21KU09OLmNhbGwoYyx0LGVbc10saSkpfWlbby5uYW1lXT1vLmluaXQodCxpKX19KSksaX0sTS5hZGRBcHBseUxpc3RlbmVyPWZ1bmN0aW9uKHQpe0EucHVzaCh0KX0sTS5yZW1vdmVBcHBseUxpc3RlbmVyPWZ1bmN0aW9uKHQpe3ZhciBlPUEuaW5kZXhPZih0KTtlPi0xJiZBLnNwbGljZShlLDEpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhNLnByb3RvdHlwZSxPKTt2YXIgQT1bXTtmdW5jdGlvbiBUKHQsZSxuKXtmb3IodmFyIHIgaW4gdCl7dmFyIG89dFtyXTtvIGluc3RhbmNlb2YgRnVuY3Rpb24/bz1vLmJpbmQoZSk6ImhhbmRsZURPTUV2ZW50cyI9PXImJihvPVQobyxlLHt9KSksbltyXT1vfXJldHVybiBufXZhciBOPWZ1bmN0aW9uKHQpe3RoaXMucHJvcHM9e30sdC5wcm9wcyYmVCh0LnByb3BzLHRoaXMsdGhpcy5wcm9wcyksdGhpcy5zcGVjPXQsdGhpcy5rZXk9dC5rZXk/dC5rZXkua2V5Ol8oInBsdWdpbiIpfTtOLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0aGlzLmtleV19O3ZhciBFPU9iamVjdC5jcmVhdGUobnVsbCk7ZnVuY3Rpb24gXyh0KXtyZXR1cm4gdCBpbiBFP3QrIiQiKyArK0VbdF06KEVbdF09MCx0KyIkIil9dmFyIFI9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9ImtleSIpLHRoaXMua2V5PV8odCl9O1IucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdC5jb25maWcucGx1Z2luc0J5S2V5W3RoaXMua2V5XX0sUi5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdGhpcy5rZXldfSxlLlNlbGVjdGlvbj1hLGUuU2VsZWN0aW9uUmFuZ2U9YyxlLlRleHRTZWxlY3Rpb249bCxlLk5vZGVTZWxlY3Rpb249ZixlLkFsbFNlbGVjdGlvbj1oLGUuVHJhbnNhY3Rpb249YixlLkVkaXRvclN0YXRlPU0sZS5QbHVnaW49TixlLlBsdWdpbktleT1SfSwiNzAzZiI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9bigiNmZmYiIpLG89bigiNmYyNyIpLGk9bigiYjkyMyIpLGE9e307aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQpe3ZhciBzPS9FZGdlXC8oXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KSxjPS9NU0lFIFxkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGw9L1RyaWRlbnRcLyg/Ols3LTldfFxkezIsfSlcLi4qcnY6KFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7YS5tYWM9L01hYy8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO3ZhciB1PWEuaWU9ISEoY3x8bHx8cyk7YS5pZV92ZXJzaW9uPWM/ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw2Omw/K2xbMV06cz8rc1sxXTpudWxsLGEuZ2Vja289IXUmJi9nZWNrb1wvKFxkKykvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGEuZ2Vja29fdmVyc2lvbj1hLmdlY2tvJiYrKC9GaXJlZm94XC8oXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KXx8WzAsMF0pWzFdO3ZhciBmPSF1JiYvQ2hyb21lXC8oXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KTthLmNocm9tZT0hIWYsYS5jaHJvbWVfdmVyc2lvbj1mJiYrZlsxXSxhLmlvcz0hdSYmL0FwcGxlV2ViS2l0Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpJiYvTW9iaWxlXC9cdysvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksYS5hbmRyb2lkPS9BbmRyb2lkIFxkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGEud2Via2l0PSF1JiYiV2Via2l0QXBwZWFyYW5jZSJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUsYS5zYWZhcmk9L0FwcGxlIENvbXB1dGVyLy50ZXN0KG5hdmlnYXRvci52ZW5kb3IpLGEud2Via2l0X3ZlcnNpb249YS53ZWJraXQmJisoL1xiQXBwbGVXZWJLaXRcLyhcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpfHxbMCwwXSlbMV19dmFyIHA9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7O2UrKylpZih0PXQucHJldmlvdXNTaWJsaW5nLCF0KXJldHVybiBlfSxoPWZ1bmN0aW9uKHQpe3ZhciBlPXQucGFyZW50Tm9kZTtyZXR1cm4gZSYmMTE9PWUubm9kZVR5cGU/ZS5ob3N0OmV9LGQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7cmV0dXJuIHIuc2V0RW5kKHQsbnVsbD09bj90Lm5vZGVWYWx1ZS5sZW5ndGg6biksci5zZXRTdGFydCh0LGV8fDApLHJ9LHY9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIG4mJihnKHQsZSxuLHIsLTEpfHxnKHQsZSxuLHIsMSkpfSxtPS9eKGltZ3xicnxpbnB1dHx0ZXh0YXJlYXxocikkL2k7ZnVuY3Rpb24gZyh0LGUsbixyLG8pe2Zvcig7Oyl7aWYodD09biYmZT09cilyZXR1cm4hMDtpZihlPT0obzwwPzA6eSh0KSkpe3ZhciBpPXQucGFyZW50Tm9kZTtpZigxIT1pLm5vZGVUeXBlfHx3KHQpfHxtLnRlc3QodC5ub2RlTmFtZSl8fCJmYWxzZSI9PXQuY29udGVudEVkaXRhYmxlKXJldHVybiExO2U9cCh0KSsobzwwPzA6MSksdD1pfWVsc2V7aWYoMSE9dC5ub2RlVHlwZSlyZXR1cm4hMTt0PXQuY2hpbGROb2Rlc1tlKyhvPDA/LTE6MCldLGU9bzwwP3kodCk6MH19fWZ1bmN0aW9uIHkodCl7cmV0dXJuIDM9PXQubm9kZVR5cGU/dC5ub2RlVmFsdWUubGVuZ3RoOnQuY2hpbGROb2Rlcy5sZW5ndGh9ZnVuY3Rpb24gdyh0KXt2YXIgZT10LnBtVmlld0Rlc2M7cmV0dXJuIGUmJmUubm9kZSYmZS5ub2RlLmlzQmxvY2t9dmFyIGI9ZnVuY3Rpb24odCl7dmFyIGU9dC5pc0NvbGxhcHNlZDtyZXR1cm4gZSYmYS5jaHJvbWUmJnQucmFuZ2VDb3VudCYmIXQuZ2V0UmFuZ2VBdCgwKS5jb2xsYXBzZWQmJihlPSExKSxlfTtmdW5jdGlvbiBrKHQsZSl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50Iik7cmV0dXJuIG4uaW5pdEV2ZW50KCJrZXlkb3duIiwhMCwhMCksbi5rZXlDb2RlPXQsbi5rZXk9bi5jb2RlPWUsbn1mdW5jdGlvbiBTKHQpe3JldHVybntsZWZ0OjAscmlnaHQ6dC5pbm5lcldpZHRoLHRvcDowLGJvdHRvbTp0LmlubmVySGVpZ2h0fX1mdW5jdGlvbiB4KHQsZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0P3Q6dFtlXX1mdW5jdGlvbiBDKHQsZSxuKXtmb3IodmFyIHI9dC5zb21lUHJvcCgic2Nyb2xsVGhyZXNob2xkIil8fDAsbz10LnNvbWVQcm9wKCJzY3JvbGxNYXJnaW4iKXx8NSxpPXQuZG9tLm93bmVyRG9jdW1lbnQsYT1pLmRlZmF1bHRWaWV3LHM9bnx8dC5kb207O3M9aChzKSl7aWYoIXMpYnJlYWs7aWYoMT09cy5ub2RlVHlwZSl7dmFyIGM9cz09aS5ib2R5fHwxIT1zLm5vZGVUeXBlLGw9Yz9TKGEpOnMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdT0wLGY9MDtpZihlLnRvcDxsLnRvcCt4KHIsInRvcCIpP2Y9LShsLnRvcC1lLnRvcCt4KG8sInRvcCIpKTplLmJvdHRvbT5sLmJvdHRvbS14KHIsImJvdHRvbSIpJiYoZj1lLmJvdHRvbS1sLmJvdHRvbSt4KG8sImJvdHRvbSIpKSxlLmxlZnQ8bC5sZWZ0K3gociwibGVmdCIpP3U9LShsLmxlZnQtZS5sZWZ0K3gobywibGVmdCIpKTplLnJpZ2h0PmwucmlnaHQteChyLCJyaWdodCIpJiYodT1lLnJpZ2h0LWwucmlnaHQreChvLCJyaWdodCIpKSwodXx8ZikmJihjP2Euc2Nyb2xsQnkodSxmKTooZiYmKHMuc2Nyb2xsVG9wKz1mKSx1JiYocy5zY3JvbGxMZWZ0Kz11KSkpLGMpYnJlYWt9fX1mdW5jdGlvbiBNKHQpe2Zvcih2YXIgZSxuLHI9dC5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1NYXRoLm1heCgwLHIudG9wKSxpPXQuZG9tLm93bmVyRG9jdW1lbnQsYT0oci5sZWZ0K3IucmlnaHQpLzIscz1vKzE7czxNYXRoLm1pbihpbm5lckhlaWdodCxyLmJvdHRvbSk7cys9NSl7dmFyIGM9dC5yb290LmVsZW1lbnRGcm9tUG9pbnQoYSxzKTtpZihjIT10LmRvbSYmdC5kb20uY29udGFpbnMoYykpe3ZhciBsPWMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYobC50b3A+PW8tMjApe2U9YyxuPWwudG9wO2JyZWFrfX19Zm9yKHZhciB1PVtdLGY9dC5kb207ZjtmPWgoZikpaWYodS5wdXNoKHtkb206Zix0b3A6Zi5zY3JvbGxUb3AsbGVmdDpmLnNjcm9sbExlZnR9KSxmPT1pLmJvZHkpYnJlYWs7cmV0dXJue3JlZkRPTTplLHJlZlRvcDpuLHN0YWNrOnV9fWZ1bmN0aW9uIE8odCl7Zm9yKHZhciBlPXQucmVmRE9NLG49dC5yZWZUb3Ascj10LnN0YWNrLG89ZT9lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDowLGk9MD09bz8wOm8tbixhPTA7YTxyLmxlbmd0aDthKyspe3ZhciBzPXJbYV0sYz1zLmRvbSxsPXMudG9wLHU9cy5sZWZ0O2Muc2Nyb2xsVG9wIT1sK2kmJihjLnNjcm9sbFRvcD1sK2kpLGMuc2Nyb2xsTGVmdCE9dSYmKGMuc2Nyb2xsTGVmdD11KX19ZnVuY3Rpb24gQSh0LGUpe2Zvcih2YXIgbixyLG89MmU4LGk9MCxhPWUudG9wLHM9ZS50b3AsYz10LmZpcnN0Q2hpbGQsbD0wO2M7Yz1jLm5leHRTaWJsaW5nLGwrKyl7dmFyIHU9dm9pZCAwO2lmKDE9PWMubm9kZVR5cGUpdT1jLmdldENsaWVudFJlY3RzKCk7ZWxzZXtpZigzIT1jLm5vZGVUeXBlKWNvbnRpbnVlO3U9ZChjKS5nZXRDbGllbnRSZWN0cygpfWZvcih2YXIgZj0wO2Y8dS5sZW5ndGg7ZisrKXt2YXIgcD11W2ZdO2lmKHAudG9wPD1hJiZwLmJvdHRvbT49cyl7YT1NYXRoLm1heChwLmJvdHRvbSxhKSxzPU1hdGgubWluKHAudG9wLHMpO3ZhciBoPXAubGVmdD5lLmxlZnQ/cC5sZWZ0LWUubGVmdDpwLnJpZ2h0PGUubGVmdD9lLmxlZnQtcC5yaWdodDowO2lmKGg8byl7bj1jLG89aCxyPWgmJjM9PW4ubm9kZVR5cGU/e2xlZnQ6cC5yaWdodDxlLmxlZnQ/cC5yaWdodDpwLmxlZnQsdG9wOmUudG9wfTplLDE9PWMubm9kZVR5cGUmJmgmJihpPWwrKGUubGVmdD49KHAubGVmdCtwLnJpZ2h0KS8yPzE6MCkpO2NvbnRpbnVlfX0hbiYmKGUubGVmdD49cC5yaWdodCYmZS50b3A+PXAudG9wfHxlLmxlZnQ+PXAubGVmdCYmZS50b3A+PXAuYm90dG9tKSYmKGk9bCsxKX19cmV0dXJuIG4mJjM9PW4ubm9kZVR5cGU/VChuLHIpOiFufHxvJiYxPT1uLm5vZGVUeXBlP3tub2RlOnQsb2Zmc2V0Oml9OkEobixyKX1mdW5jdGlvbiBUKHQsZSl7Zm9yKHZhciBuPXQubm9kZVZhbHVlLmxlbmd0aCxyPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCksbz0wO288bjtvKyspe3Iuc2V0RW5kKHQsbysxKSxyLnNldFN0YXJ0KHQsbyk7dmFyIGk9eihyLDEpO2lmKGkudG9wIT1pLmJvdHRvbSYmTihlLGkpKXJldHVybntub2RlOnQsb2Zmc2V0Om8rKGUubGVmdD49KGkubGVmdCtpLnJpZ2h0KS8yPzE6MCl9fXJldHVybntub2RlOnQsb2Zmc2V0OjB9fWZ1bmN0aW9uIE4odCxlKXtyZXR1cm4gdC5sZWZ0Pj1lLmxlZnQtMSYmdC5sZWZ0PD1lLnJpZ2h0KzEmJnQudG9wPj1lLnRvcC0xJiZ0LnRvcDw9ZS5ib3R0b20rMX1mdW5jdGlvbiBFKHQsZSl7dmFyIG49dC5wYXJlbnROb2RlO3JldHVybiBuJiYvXmxpJC9pLnRlc3Qobi5ub2RlTmFtZSkmJmUubGVmdDx0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ/bjp0fWZ1bmN0aW9uIF8odCxlLG4pe3ZhciByPUEoZSxuKSxvPXIubm9kZSxpPXIub2Zmc2V0LGE9LTE7aWYoMT09by5ub2RlVHlwZSYmIW8uZmlyc3RDaGlsZCl7dmFyIHM9by5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTthPXMubGVmdCE9cy5yaWdodCYmbi5sZWZ0PihzLmxlZnQrcy5yaWdodCkvMj8xOi0xfXJldHVybiB0LmRvY1ZpZXcucG9zRnJvbURPTShvLGksYSl9ZnVuY3Rpb24gUih0LGUsbixyKXtmb3IodmFyIG89LTEsaT1lOzspe2lmKGk9PXQuZG9tKWJyZWFrO3ZhciBhPXQuZG9jVmlldy5uZWFyZXN0RGVzYyhpLCEwKTtpZighYSlyZXR1cm4gbnVsbDtpZihhLm5vZGUuaXNCbG9jayYmYS5wYXJlbnQpe3ZhciBzPWEuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKHMubGVmdD5yLmxlZnR8fHMudG9wPnIudG9wKW89YS5wb3NCZWZvcmU7ZWxzZXtpZighKHMucmlnaHQ8ci5sZWZ0fHxzLmJvdHRvbTxyLnRvcCkpYnJlYWs7bz1hLnBvc0FmdGVyfX1pPWEuZG9tLnBhcmVudE5vZGV9cmV0dXJuIG8+LTE/bzp0LmRvY1ZpZXcucG9zRnJvbURPTShlLG4pfWZ1bmN0aW9uIEQodCxlLG4pe3ZhciByPXQuY2hpbGROb2Rlcy5sZW5ndGg7aWYociYmbi50b3A8bi5ib3R0b20pZm9yKHZhciBvPU1hdGgubWF4KDAsTWF0aC5taW4oci0xLE1hdGguZmxvb3IociooZS50b3Atbi50b3ApLyhuLmJvdHRvbS1uLnRvcCkpLTIpKSxpPW87Oyl7dmFyIGE9dC5jaGlsZE5vZGVzW2ldO2lmKDE9PWEubm9kZVR5cGUpZm9yKHZhciBzPWEuZ2V0Q2xpZW50UmVjdHMoKSxjPTA7YzxzLmxlbmd0aDtjKyspe3ZhciBsPXNbY107aWYoTihlLGwpKXJldHVybiBEKGEsZSxsKX1pZigoaT0oaSsxKSVyKT09bylicmVha31yZXR1cm4gdH1mdW5jdGlvbiBQKHQsZSl7dmFyIG4scixvPXQucm9vdDtpZihvLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQpe3ZhciBpLGE9by5jYXJldFBvc2l0aW9uRnJvbVBvaW50KGUubGVmdCxlLnRvcCk7aWYoYSlpPWEsbj1pLm9mZnNldE5vZGUscj1pLm9mZnNldH1pZighbiYmby5jYXJldFJhbmdlRnJvbVBvaW50KXt2YXIgcyxjPW8uY2FyZXRSYW5nZUZyb21Qb2ludChlLmxlZnQsZS50b3ApO2lmKGMpcz1jLG49cy5zdGFydENvbnRhaW5lcixyPXMuc3RhcnRPZmZzZXR9dmFyIGwsdT1vLmVsZW1lbnRGcm9tUG9pbnQoZS5sZWZ0LGUudG9wKzEpO2lmKCF1fHwhdC5kb20uY29udGFpbnMoMSE9dS5ub2RlVHlwZT91LnBhcmVudE5vZGU6dSkpe3ZhciBmPXQuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKCFOKGUsZikpcmV0dXJuIG51bGw7aWYodT1EKHQuZG9tLGUsZiksIXUpcmV0dXJuIG51bGx9dT1FKHUsZSksbiYmKDE9PW4ubm9kZVR5cGUmJihyPU1hdGgubWluKHIsbi5jaGlsZE5vZGVzLmxlbmd0aCkpLG49PXQuZG9tJiZyPT1uLmNoaWxkTm9kZXMubGVuZ3RoLTEmJjE9PW4ubGFzdENoaWxkLm5vZGVUeXBlJiZlLnRvcD5uLmxhc3RDaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20/bD10LnN0YXRlLmRvYy5jb250ZW50LnNpemU6MCE9ciYmMT09bi5ub2RlVHlwZSYmIkJSIj09bi5jaGlsZE5vZGVzW3ItMV0ubm9kZU5hbWV8fChsPVIodCxuLHIsZSkpKSxudWxsPT1sJiYobD1fKHQsdSxlKSk7dmFyIHA9dC5kb2NWaWV3Lm5lYXJlc3REZXNjKHUsITApO3JldHVybntwb3M6bCxpbnNpZGU6cD9wLnBvc0F0U3RhcnQtcC5ib3JkZXI6LTF9fWZ1bmN0aW9uIHoodCxlKXt2YXIgbj10LmdldENsaWVudFJlY3RzKCk7cmV0dXJuIG4ubGVuZ3RoP25bZTwwPzA6bi5sZW5ndGgtMV06dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1mdW5jdGlvbiBJKHQsZSl7dmFyIG49dC5kb2NWaWV3LmRvbUZyb21Qb3MoZSkscj1uLm5vZGUsbz1uLm9mZnNldDtpZigzPT1yLm5vZGVUeXBlJiYoYS5jaHJvbWV8fGEuZ2Vja28pKXt2YXIgaT16KGQocixvLG8pLDApO2lmKGEuZ2Vja28mJm8mJi9ccy8udGVzdChyLm5vZGVWYWx1ZVtvLTFdKSYmbzxyLm5vZGVWYWx1ZS5sZW5ndGgpe3ZhciBzPXooZChyLG8tMSxvLTEpLC0xKTtpZihNYXRoLmFicyhzLmxlZnQtaS5sZWZ0KTwxJiZzLnRvcD09aS50b3Ape3ZhciBjPXooZChyLG8sbysxKSwtMSk7cmV0dXJuIGooYyxjLmxlZnQ8cy5sZWZ0KX19cmV0dXJuIGl9aWYoMT09ci5ub2RlVHlwZSYmIXQuc3RhdGUuZG9jLnJlc29sdmUoZSkucGFyZW50LmlubGluZUNvbnRlbnQpe3ZhciBsLHU9ITA7aWYobzxyLmNoaWxkTm9kZXMubGVuZ3RoKXt2YXIgZj1yLmNoaWxkTm9kZXNbb107MT09Zi5ub2RlVHlwZSYmKGw9Zi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSl9aWYoIWwmJm8pe3ZhciBwPXIuY2hpbGROb2Rlc1tvLTFdOzE9PXAubm9kZVR5cGUmJihsPXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdT0hMSl9cmV0dXJuIEIobHx8ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx1KX1mb3IodmFyIGg9LTE7aDwyO2grPTIpaWYoaDwwJiZvKXt2YXIgdj12b2lkIDAsbT0zPT1yLm5vZGVUeXBlP2QocixvLTEsbyk6Mz09KHY9ci5jaGlsZE5vZGVzW28tMV0pLm5vZGVUeXBlP2Qodik6MT09di5ub2RlVHlwZSYmIkJSIiE9di5ub2RlTmFtZT92Om51bGw7aWYobSl7dmFyIGc9eihtLDEpO2lmKGcudG9wPGcuYm90dG9tKXJldHVybiBqKGcsITEpfX1lbHNlIGlmKGg+MCYmbzx5KHIpKXt2YXIgdz12b2lkIDAsYj0zPT1yLm5vZGVUeXBlP2QocixvLG8rMSk6Mz09KHc9ci5jaGlsZE5vZGVzW29dKS5ub2RlVHlwZT9kKHcpOjE9PXcubm9kZVR5cGU/dzpudWxsO2lmKGIpe3ZhciBrPXooYiwtMSk7aWYoay50b3A8ay5ib3R0b20pcmV0dXJuIGooaywhMCl9fXJldHVybiBqKHooMz09ci5ub2RlVHlwZT9kKHIpOnIsMCksITEpfWZ1bmN0aW9uIGoodCxlKXtpZigwPT10LndpZHRoKXJldHVybiB0O3ZhciBuPWU/dC5sZWZ0OnQucmlnaHQ7cmV0dXJue3RvcDp0LnRvcCxib3R0b206dC5ib3R0b20sbGVmdDpuLHJpZ2h0Om59fWZ1bmN0aW9uIEIodCxlKXtpZigwPT10LmhlaWdodClyZXR1cm4gdDt2YXIgbj1lP3QudG9wOnQuYm90dG9tO3JldHVybnt0b3A6bixib3R0b206bixsZWZ0OnQubGVmdCxyaWdodDp0LnJpZ2h0fX1mdW5jdGlvbiAkKHQsZSxuKXt2YXIgcj10LnN0YXRlLG89dC5yb290LmFjdGl2ZUVsZW1lbnQ7ciE9ZSYmdC51cGRhdGVTdGF0ZShlKSxvIT10LmRvbSYmdC5mb2N1cygpO3RyeXtyZXR1cm4gbigpfWZpbmFsbHl7ciE9ZSYmdC51cGRhdGVTdGF0ZShyKSxvIT10LmRvbSYmby5mb2N1cygpfX1mdW5jdGlvbiBGKHQsZSxuKXt2YXIgcj1lLnNlbGVjdGlvbixvPSJ1cCI9PW4/ci4kYW5jaG9yLm1pbihyLiRoZWFkKTpyLiRhbmNob3IubWF4KHIuJGhlYWQpO3JldHVybiAkKHQsZSwoZnVuY3Rpb24oKXtmb3IodmFyIGU9dC5kb2NWaWV3LmRvbUZyb21Qb3Moby5wb3MpLHI9ZS5ub2RlOzspe3ZhciBpPXQuZG9jVmlldy5uZWFyZXN0RGVzYyhyLCEwKTtpZighaSlicmVhaztpZihpLm5vZGUuaXNCbG9jayl7cj1pLmRvbTticmVha31yPWkuZG9tLnBhcmVudE5vZGV9Zm9yKHZhciBhPUkodCxvLnBvcykscz1yLmZpcnN0Q2hpbGQ7cztzPXMubmV4dFNpYmxpbmcpe3ZhciBjPXZvaWQgMDtpZigxPT1zLm5vZGVUeXBlKWM9cy5nZXRDbGllbnRSZWN0cygpO2Vsc2V7aWYoMyE9cy5ub2RlVHlwZSljb250aW51ZTtjPWQocywwLHMubm9kZVZhbHVlLmxlbmd0aCkuZ2V0Q2xpZW50UmVjdHMoKX1mb3IodmFyIGw9MDtsPGMubGVuZ3RoO2wrKyl7dmFyIHU9Y1tsXTtpZih1LmJvdHRvbT51LnRvcCYmKCJ1cCI9PW4/dS5ib3R0b208YS50b3ArMTp1LnRvcD5hLmJvdHRvbS0xKSlyZXR1cm4hMX19cmV0dXJuITB9KSl9dmFyIFY9L1tcdTA1OTAtXHUwOGFjXS87ZnVuY3Rpb24gTCh0LGUsbil7dmFyIHI9ZS5zZWxlY3Rpb24sbz1yLiRoZWFkO2lmKCFvLnBhcmVudC5pc1RleHRibG9jaylyZXR1cm4hMTt2YXIgaT1vLnBhcmVudE9mZnNldCxhPSFpLHM9aT09by5wYXJlbnQuY29udGVudC5zaXplLGM9Z2V0U2VsZWN0aW9uKCk7cmV0dXJuIFYudGVzdChvLnBhcmVudC50ZXh0Q29udGVudCkmJmMubW9kaWZ5PyQodCxlLChmdW5jdGlvbigpe3ZhciBlPWMuZ2V0UmFuZ2VBdCgwKSxyPWMuZm9jdXNOb2RlLGk9Yy5mb2N1c09mZnNldCxhPWMuY2FyZXRCaWRpTGV2ZWw7Yy5tb2RpZnkoIm1vdmUiLG4sImNoYXJhY3RlciIpO3ZhciBzPW8uZGVwdGg/dC5kb2NWaWV3LmRvbUFmdGVyUG9zKG8uYmVmb3JlKCkpOnQuZG9tLGw9IXMuY29udGFpbnMoMT09Yy5mb2N1c05vZGUubm9kZVR5cGU/Yy5mb2N1c05vZGU6Yy5mb2N1c05vZGUucGFyZW50Tm9kZSl8fHI9PWMuZm9jdXNOb2RlJiZpPT1jLmZvY3VzT2Zmc2V0O3JldHVybiBjLnJlbW92ZUFsbFJhbmdlcygpLGMuYWRkUmFuZ2UoZSksbnVsbCE9YSYmKGMuY2FyZXRCaWRpTGV2ZWw9YSksbH0pKToibGVmdCI9PW58fCJiYWNrd2FyZCI9PW4/YTpzfXZhciBIPW51bGwsVz1udWxsLEo9ITE7ZnVuY3Rpb24gcSh0LGUsbil7cmV0dXJuIEg9PWUmJlc9PW4/SjooSD1lLFc9bixKPSJ1cCI9PW58fCJkb3duIj09bj9GKHQsZSxuKTpMKHQsZSxuKSl9dmFyIEs9MCxVPTEsRz0yLFg9MyxZPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMucGFyZW50PXQsdGhpcy5jaGlsZHJlbj1lLHRoaXMuZG9tPW4sbi5wbVZpZXdEZXNjPXRoaXMsdGhpcy5jb250ZW50RE9NPXIsdGhpcy5kaXJ0eT1LfSxRPXtiZWZvcmVQb3NpdGlvbjp7fSxzaXplOnt9LGJvcmRlcjp7fSxwb3NCZWZvcmU6e30scG9zQXRTdGFydDp7fSxwb3NBZnRlcjp7fSxwb3NBdEVuZDp7fSxjb250ZW50TG9zdDp7fX07WS5wcm90b3R5cGUubWF0Y2hlc1dpZGdldD1mdW5jdGlvbigpe3JldHVybiExfSxZLnByb3RvdHlwZS5tYXRjaGVzTWFyaz1mdW5jdGlvbigpe3JldHVybiExfSxZLnByb3RvdHlwZS5tYXRjaGVzTm9kZT1mdW5jdGlvbigpe3JldHVybiExfSxZLnByb3RvdHlwZS5tYXRjaGVzSGFjaz1mdW5jdGlvbigpe3JldHVybiExfSxRLmJlZm9yZVBvc2l0aW9uLmdldD1mdW5jdGlvbigpe3JldHVybiExfSxZLnByb3RvdHlwZS5wYXJzZVJ1bGU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sWS5wcm90b3R5cGUuc3RvcEV2ZW50PWZ1bmN0aW9uKCl7cmV0dXJuITF9LFEuc2l6ZS5nZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcyxlPTAsbj0wO248dGhpcy5jaGlsZHJlbi5sZW5ndGg7bisrKWUrPXQuY2hpbGRyZW5bbl0uc2l6ZTtyZXR1cm4gZX0sUS5ib3JkZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LFkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMucGFyZW50PW51bGwsdGhpcy5kb20ucG1WaWV3RGVzYz09dGhpcyYmKHRoaXMuZG9tLnBtVmlld0Rlc2M9bnVsbCk7Zm9yKHZhciBlPTA7ZTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtlKyspdC5jaGlsZHJlbltlXS5kZXN0cm95KCl9LFkucHJvdG90eXBlLnBvc0JlZm9yZUNoaWxkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLG49MCxyPXRoaXMucG9zQXRTdGFydDtuPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO24rKyl7dmFyIG89ZS5jaGlsZHJlbltuXTtpZihvPT10KXJldHVybiByO3IrPW8uc2l6ZX19LFEucG9zQmVmb3JlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudC5wb3NCZWZvcmVDaGlsZCh0aGlzKX0sUS5wb3NBdFN0YXJ0LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudD90aGlzLnBhcmVudC5wb3NCZWZvcmVDaGlsZCh0aGlzKSt0aGlzLmJvcmRlcjowfSxRLnBvc0FmdGVyLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc0JlZm9yZSt0aGlzLnNpemV9LFEucG9zQXRFbmQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zQXRTdGFydCt0aGlzLnNpemUtMip0aGlzLmJvcmRlcn0sWS5wcm90b3R5cGUubG9jYWxQb3NGcm9tRE9NPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixvPXRoaXM7aWYodGhpcy5jb250ZW50RE9NJiZ0aGlzLmNvbnRlbnRET00uY29udGFpbnMoMT09dC5ub2RlVHlwZT90OnQucGFyZW50Tm9kZSkpe2lmKG48MCl7dmFyIGksYTtpZih0PT10aGlzLmNvbnRlbnRET00paT10LmNoaWxkTm9kZXNbZS0xXTtlbHNle3doaWxlKHQucGFyZW50Tm9kZSE9dGhpcy5jb250ZW50RE9NKXQ9dC5wYXJlbnROb2RlO2k9dC5wcmV2aW91c1NpYmxpbmd9d2hpbGUoaSYmKCEoYT1pLnBtVmlld0Rlc2MpfHxhLnBhcmVudCE9dGhpcykpaT1pLnByZXZpb3VzU2libGluZztyZXR1cm4gaT90aGlzLnBvc0JlZm9yZUNoaWxkKGEpK2Euc2l6ZTp0aGlzLnBvc0F0U3RhcnR9dmFyIHMsYztpZih0PT10aGlzLmNvbnRlbnRET00pcz10LmNoaWxkTm9kZXNbZV07ZWxzZXt3aGlsZSh0LnBhcmVudE5vZGUhPXRoaXMuY29udGVudERPTSl0PXQucGFyZW50Tm9kZTtzPXQubmV4dFNpYmxpbmd9d2hpbGUocyYmKCEoYz1zLnBtVmlld0Rlc2MpfHxjLnBhcmVudCE9dGhpcykpcz1zLm5leHRTaWJsaW5nO3JldHVybiBzP3RoaXMucG9zQmVmb3JlQ2hpbGQoYyk6dGhpcy5wb3NBdEVuZH1pZih0aGlzLmNvbnRlbnRET00mJnRoaXMuY29udGVudERPTSE9dGhpcy5kb20mJnRoaXMuZG9tLmNvbnRhaW5zKHRoaXMuY29udGVudERPTSkpcj0yJnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24odGhpcy5jb250ZW50RE9NKTtlbHNlIGlmKHRoaXMuZG9tLmZpcnN0Q2hpbGQpe2lmKDA9PWUpZm9yKHZhciBsPXQ7O2w9bC5wYXJlbnROb2RlKXtpZihsPT1vLmRvbSl7cj0hMTticmVha31pZihsLnBhcmVudE5vZGUuZmlyc3RDaGlsZCE9bClicmVha31pZihudWxsPT1yJiZlPT10LmNoaWxkTm9kZXMubGVuZ3RoKWZvcih2YXIgdT10Ozt1PXUucGFyZW50Tm9kZSl7aWYodT09by5kb20pe3I9ITA7YnJlYWt9aWYodS5wYXJlbnROb2RlLmxhc3RDaGlsZCE9dSlicmVha319cmV0dXJuKG51bGw9PXI/bj4wOnIpP3RoaXMucG9zQXRFbmQ6dGhpcy5wb3NBdFN0YXJ0fSxZLnByb3RvdHlwZS5uZWFyZXN0RGVzYz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLHI9ITAsbz10O287bz1vLnBhcmVudE5vZGUpe3ZhciBpPW4uZ2V0RGVzYyhvKTtpZihpJiYoIWV8fGkubm9kZSkpe2lmKCFyfHwhaS5ub2RlRE9NfHwoMT09aS5ub2RlRE9NLm5vZGVUeXBlP2kubm9kZURPTS5jb250YWlucyh0KTppLm5vZGVET009PXQpKXJldHVybiBpO3I9ITF9fX0sWS5wcm90b3R5cGUuZ2V0RGVzYz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxuPXQucG1WaWV3RGVzYyxyPW47cjtyPXIucGFyZW50KWlmKHI9PWUpcmV0dXJuIG59LFkucHJvdG90eXBlLnBvc0Zyb21ET009ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj10aGlzLG89dDs7bz1vLnBhcmVudE5vZGUpe3ZhciBpPXIuZ2V0RGVzYyhvKTtpZihpKXJldHVybiBpLmxvY2FsUG9zRnJvbURPTSh0LGUsbil9fSxZLnByb3RvdHlwZS5kZXNjQXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj0wLHI9MDtuPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO24rKyl7dmFyIG89ZS5jaGlsZHJlbltuXSxpPXIrby5zaXplO2lmKHI9PXQmJmkhPXIpe3doaWxlKCFvLmJvcmRlciYmby5jaGlsZHJlbi5sZW5ndGgpbz1vLmNoaWxkcmVuWzBdO3JldHVybiBvfWlmKHQ8aSlyZXR1cm4gby5kZXNjQXQodC1yLW8uYm9yZGVyKTtyPWl9fSxZLnByb3RvdHlwZS5kb21Gcm9tUG9zPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoIXRoaXMuY29udGVudERPTSlyZXR1cm57bm9kZTp0aGlzLmRvbSxvZmZzZXQ6MH07Zm9yKHZhciBuPTAscj0wOztyKyspe2lmKG49PXQpe3doaWxlKHI8dGhpcy5jaGlsZHJlbi5sZW5ndGgmJih0aGlzLmNoaWxkcmVuW3JdLmJlZm9yZVBvc2l0aW9ufHx0aGlzLmNoaWxkcmVuW3JdLmRvbS5wYXJlbnROb2RlIT10aGlzLmNvbnRlbnRET00pKXIrKztyZXR1cm57bm9kZTplLmNvbnRlbnRET00sb2Zmc2V0OnI9PWUuY2hpbGRyZW4ubGVuZ3RoP2UuY29udGVudERPTS5jaGlsZE5vZGVzLmxlbmd0aDpwKGUuY2hpbGRyZW5bcl0uZG9tKX19aWYocj09ZS5jaGlsZHJlbi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBvc2l0aW9uICIrdCk7dmFyIG89ZS5jaGlsZHJlbltyXSxpPW4rby5zaXplO2lmKHQ8aSlyZXR1cm4gby5kb21Gcm9tUG9zKHQtbi1vLmJvcmRlcik7bj1pfX0sWS5wcm90b3R5cGUucGFyc2VSYW5nZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcztpZih2b2lkIDA9PT1uJiYobj0wKSwwPT10aGlzLmNoaWxkcmVuLmxlbmd0aClyZXR1cm57bm9kZTp0aGlzLmNvbnRlbnRET00sZnJvbTp0LHRvOmUsZnJvbU9mZnNldDowLHRvT2Zmc2V0OnRoaXMuY29udGVudERPTS5jaGlsZE5vZGVzLmxlbmd0aH07Zm9yKHZhciBvPS0xLGk9LTEsYT1uLHM9MDs7cysrKXt2YXIgYz1yLmNoaWxkcmVuW3NdLGw9YStjLnNpemU7aWYoLTE9PW8mJnQ8PWwpe3ZhciB1PWErYy5ib3JkZXI7aWYodD49dSYmZTw9bC1jLmJvcmRlciYmYy5ub2RlJiZjLmNvbnRlbnRET00mJnIuY29udGVudERPTS5jb250YWlucyhjLmNvbnRlbnRET00pKXJldHVybiBjLnBhcnNlUmFuZ2UodCxlLHUpO3Q9YTtmb3IodmFyIGY9cztmPjA7Zi0tKXt2YXIgaD1yLmNoaWxkcmVuW2YtMV07aWYoaC5zaXplJiZoLmRvbS5wYXJlbnROb2RlPT1yLmNvbnRlbnRET00mJiFoLmVtcHR5Q2hpbGRBdCgxKSl7bz1wKGguZG9tKSsxO2JyZWFrfXQtPWguc2l6ZX0tMT09byYmKG89MCl9aWYobz4tMSYmZTw9bCl7ZT1sO2Zvcih2YXIgZD1zKzE7ZDx0aGlzLmNoaWxkcmVuLmxlbmd0aDtkKyspe3ZhciB2PXIuY2hpbGRyZW5bZF07aWYodi5zaXplJiZ2LmRvbS5wYXJlbnROb2RlPT1yLmNvbnRlbnRET00mJiF2LmVtcHR5Q2hpbGRBdCgtMSkpe2k9cCh2LmRvbSk7YnJlYWt9ZSs9di5zaXplfS0xPT1pJiYoaT1yLmNvbnRlbnRET00uY2hpbGROb2Rlcy5sZW5ndGgpO2JyZWFrfWE9bH1yZXR1cm57bm9kZTp0aGlzLmNvbnRlbnRET00sZnJvbTp0LHRvOmUsZnJvbU9mZnNldDpvLHRvT2Zmc2V0Oml9fSxZLnByb3RvdHlwZS5lbXB0eUNoaWxkQXQ9ZnVuY3Rpb24odCl7aWYodGhpcy5ib3JkZXJ8fCF0aGlzLmNvbnRlbnRET018fCF0aGlzLmNoaWxkcmVuLmxlbmd0aClyZXR1cm4hMTt2YXIgZT10aGlzLmNoaWxkcmVuW3Q8MD8wOnRoaXMuY2hpbGRyZW4ubGVuZ3RoLTFdO3JldHVybiAwPT1lLnNpemV8fGUuZW1wdHlDaGlsZEF0KHQpfSxZLnByb3RvdHlwZS5kb21BZnRlclBvcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRvbUZyb21Qb3ModCksbj1lLm5vZGUscj1lLm9mZnNldDtpZigxIT1uLm5vZGVUeXBlfHxyPT1uLmNoaWxkTm9kZXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJObyBub2RlIGFmdGVyIHBvcyAiK3QpO3JldHVybiBuLmNoaWxkTm9kZXNbcl19LFkucHJvdG90eXBlLnNldFNlbGVjdGlvbj1mdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIG89dGhpcyxpPU1hdGgubWluKHQsZSksYT1NYXRoLm1heCh0LGUpLHM9MCxjPTA7czx0aGlzLmNoaWxkcmVuLmxlbmd0aDtzKyspe3ZhciBsPW8uY2hpbGRyZW5bc10sdT1jK2wuc2l6ZTtpZihpPmMmJmE8dSlyZXR1cm4gbC5zZXRTZWxlY3Rpb24odC1jLWwuYm9yZGVyLGUtYy1sLmJvcmRlcixuLHIpO2M9dX12YXIgZj10aGlzLmRvbUZyb21Qb3ModCkscD10aGlzLmRvbUZyb21Qb3MoZSksaD1uLmdldFNlbGVjdGlvbigpLGQ9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtpZihyfHwhdihmLm5vZGUsZi5vZmZzZXQsaC5hbmNob3JOb2RlLGguYW5jaG9yT2Zmc2V0KXx8IXYocC5ub2RlLHAub2Zmc2V0LGguZm9jdXNOb2RlLGguZm9jdXNPZmZzZXQpKXtpZihoLmV4dGVuZClkLnNldEVuZChmLm5vZGUsZi5vZmZzZXQpLGQuY29sbGFwc2UoITEpO2Vsc2V7aWYodD5lKXt2YXIgbT1mO2Y9cCxwPW19ZC5zZXRFbmQocC5ub2RlLHAub2Zmc2V0KSxkLnNldFN0YXJ0KGYubm9kZSxmLm9mZnNldCl9aC5yZW1vdmVBbGxSYW5nZXMoKSxoLmFkZFJhbmdlKGQpLGguZXh0ZW5kJiZoLmV4dGVuZChwLm5vZGUscC5vZmZzZXQpfX0sWS5wcm90b3R5cGUuaWdub3JlTXV0YXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIXRoaXMuY29udGVudERPTX0sUS5jb250ZW50TG9zdC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50RE9NJiZ0aGlzLmNvbnRlbnRET00hPXRoaXMuZG9tJiYhdGhpcy5kb20uY29udGFpbnModGhpcy5jb250ZW50RE9NKX0sWS5wcm90b3R5cGUubWFya0RpcnR5PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMscj0wLG89MDtvPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO28rKyl7dmFyIGk9bi5jaGlsZHJlbltvXSxhPXIraS5zaXplO2lmKHI9PWE/dDw9YSYmZT49cjp0PGEmJmU+cil7dmFyIHM9citpLmJvcmRlcixjPWEtaS5ib3JkZXI7aWYodD49cyYmZTw9YylyZXR1cm4gbi5kaXJ0eT10PT1yfHxlPT1hP0c6VSx2b2lkKHQ9PXMmJmU9PWMmJmkuY29udGVudExvc3Q/aS5kaXJ0eT1YOmkubWFya0RpcnR5KHQtcyxlLXMpKTtpLmRpcnR5PVh9cj1hfXRoaXMuZGlydHk9R30sWS5wcm90b3R5cGUubWFya1BhcmVudHNEaXJ0eT1mdW5jdGlvbigpe2Zvcih2YXIgdD0xLGU9dGhpcy5wYXJlbnQ7ZTtlPWUucGFyZW50KXt2YXIgbj0xPT10P0c6VTtlLmRpcnR5PG4mJihlLmRpcnR5PW4pfX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoWS5wcm90b3R5cGUsUSk7dmFyIFo9W10sdHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvKXt2YXIgaSxhPW4udHlwZS50b0RPTTtpZigiZnVuY3Rpb24iPT10eXBlb2YgYSYmKGE9YShyLChmdW5jdGlvbigpe3JldHVybiBpP2kucGFyZW50P2kucGFyZW50LnBvc0JlZm9yZUNoaWxkKGkpOnZvaWQgMDpvfSkpKSwhbi50eXBlLnNwZWMucmF3KXtpZigxIT1hLm5vZGVUeXBlKXt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7cy5hcHBlbmRDaGlsZChhKSxhPXN9YS5jb250ZW50RWRpdGFibGU9ITEsYS5jbGFzc0xpc3QuYWRkKCJQcm9zZU1pcnJvci13aWRnZXQiKX10LmNhbGwodGhpcyxlLFosYSxudWxsKSx0aGlzLndpZGdldD1uLGk9dGhpc310JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17YmVmb3JlUG9zaXRpb246e319O3JldHVybiBuLmJlZm9yZVBvc2l0aW9uLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLndpZGdldC50eXBlLnNpZGU8MH0sZS5wcm90b3R5cGUubWF0Y2hlc1dpZGdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kaXJ0eT09SyYmdC50eXBlLmVxKHRoaXMud2lkZ2V0LnR5cGUpfSxlLnByb3RvdHlwZS5wYXJzZVJ1bGU9ZnVuY3Rpb24oKXtyZXR1cm57aWdub3JlOiEwfX0sZS5wcm90b3R5cGUuc3RvcEV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMud2lkZ2V0LnNwZWMuc3RvcEV2ZW50O3JldHVybiEhZSYmZSh0KX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsbiksZX0oWSksZXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixvKXt0LmNhbGwodGhpcyxlLFosbixudWxsKSx0aGlzLnRleHRET009cix0aGlzLnRleHQ9b310JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17c2l6ZTp7fX07cmV0dXJuIG4uc2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0Lmxlbmd0aH0sZS5wcm90b3R5cGUubG9jYWxQb3NGcm9tRE9NPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQhPXRoaXMudGV4dERPTT90aGlzLnBvc0F0U3RhcnQrKGU/dGhpcy5zaXplOjApOnRoaXMucG9zQXRTdGFydCtlfSxlLnByb3RvdHlwZS5kb21Gcm9tUG9zPWZ1bmN0aW9uKHQpe3JldHVybntub2RlOnRoaXMudGV4dERPTSxvZmZzZXQ6dH19LGUucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiJjaGFyYWN0ZXJEYXRhIj09PXQudHlwZSYmdC50YXJnZXQubm9kZVZhbHVlPT10Lm9sZFZhbHVlfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxuKSxlfShZKSxudD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8pe3QuY2FsbCh0aGlzLGUsW10scixvKSx0aGlzLm1hcms9bn1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5jcmVhdGU9ZnVuY3Rpb24odCxuLHIsaSl7dmFyIGE9aS5ub2RlVmlld3Nbbi50eXBlLm5hbWVdLHM9YSYmYShuLGkscik7cmV0dXJuIHMmJnMuZG9tfHwocz1vLkRPTVNlcmlhbGl6ZXIucmVuZGVyU3BlYyhkb2N1bWVudCxuLnR5cGUuc3BlYy50b0RPTShuLHIpKSksbmV3IGUodCxuLHMuZG9tLHMuY29udGVudERPTXx8cy5kb20pfSxlLnByb3RvdHlwZS5wYXJzZVJ1bGU9ZnVuY3Rpb24oKXtyZXR1cm57bWFyazp0aGlzLm1hcmsudHlwZS5uYW1lLGF0dHJzOnRoaXMubWFyay5hdHRycyxjb250ZW50RWxlbWVudDp0aGlzLmNvbnRlbnRET019fSxlLnByb3RvdHlwZS5tYXRjaGVzTWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kaXJ0eSE9WCYmdGhpcy5tYXJrLmVxKHQpfSxlLnByb3RvdHlwZS5tYXJrRGlydHk9ZnVuY3Rpb24oZSxuKXtpZih0LnByb3RvdHlwZS5tYXJrRGlydHkuY2FsbCh0aGlzLGUsbiksdGhpcy5kaXJ0eSE9Syl7dmFyIHI9dGhpcy5wYXJlbnQ7d2hpbGUoIXIubm9kZSlyPXIucGFyZW50O3IuZGlydHk8dGhpcy5kaXJ0eSYmKHIuZGlydHk9dGhpcy5kaXJ0eSksdGhpcy5kaXJ0eT1LfX0sZS5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCxuLHIpe3ZhciBvPWUuY3JlYXRlKHRoaXMucGFyZW50LHRoaXMubWFyaywhMCxyKSxpPXRoaXMuY2hpbGRyZW4sYT10aGlzLnNpemU7bjxhJiYoaT1DdChpLG4sYSxyKSksdD4wJiYoaT1DdChpLDAsdCxyKSk7Zm9yKHZhciBzPTA7czxpLmxlbmd0aDtzKyspaVtzXS5wYXJlbnQ9bztyZXR1cm4gby5jaGlsZHJlbj1pLG99LGV9KFkpLHJ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyxpLGEscyxjLGwpe3QuY2FsbCh0aGlzLGUsbi5pc0xlYWY/WjpbXSxpLGEpLHRoaXMubm9kZURPTT1zLHRoaXMubm9kZT1uLHRoaXMub3V0ZXJEZWNvPXIsdGhpcy5pbm5lckRlY289byxhJiZ0aGlzLnVwZGF0ZUNoaWxkcmVuKGMsbCl9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e3NpemU6e30sYm9yZGVyOnt9fTtyZXR1cm4gZS5jcmVhdGU9ZnVuY3Rpb24odCxuLHIsaSxhLHMpe3ZhciBjLGw9YS5ub2RlVmlld3Nbbi50eXBlLm5hbWVdLHU9bCYmbChuLGEsKGZ1bmN0aW9uKCl7cmV0dXJuIGM/Yy5wYXJlbnQ/Yy5wYXJlbnQucG9zQmVmb3JlQ2hpbGQoYyk6dm9pZCAwOnN9KSxyKSxmPXUmJnUuZG9tLHA9dSYmdS5jb250ZW50RE9NO2lmKG4uaXNUZXh0KWlmKGYpe2lmKDMhPWYubm9kZVR5cGUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRleHQgbXVzdCBiZSByZW5kZXJlZCBhcyBhIERPTSB0ZXh0IG5vZGUiKX1lbHNlIGY9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobi50ZXh0KTtlbHNlIGlmKCFmKXt2YXIgaDtoPW8uRE9NU2VyaWFsaXplci5yZW5kZXJTcGVjKGRvY3VtZW50LG4udHlwZS5zcGVjLnRvRE9NKG4pKSxmPWguZG9tLHA9aC5jb250ZW50RE9NfXB8fG4uaXNUZXh0fHwiQlIiPT1mLm5vZGVOYW1lfHwoZi5oYXNBdHRyaWJ1dGUoImNvbnRlbnRlZGl0YWJsZSIpfHwoZi5jb250ZW50RWRpdGFibGU9ITEpLG4udHlwZS5zcGVjLmRyYWdnYWJsZSYmKGYuZHJhZ2dhYmxlPSEwKSk7dmFyIGQ9ZjtyZXR1cm4gZj1kdChmLHIsbiksdT9jPW5ldyBzdCh0LG4scixpLGYscCxkLHUsYSxzKzEpOm4uaXNUZXh0P25ldyBpdCh0LG4scixpLGYsZCxhKTpuZXcgZSh0LG4scixpLGYscCxkLGEscysxKX0sZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLm5vZGUudHlwZS5zcGVjLnJlcGFyc2VJblZpZXcpcmV0dXJuIG51bGw7dmFyIGU9e25vZGU6dGhpcy5ub2RlLnR5cGUubmFtZSxhdHRyczp0aGlzLm5vZGUuYXR0cnN9O3JldHVybiB0aGlzLm5vZGUudHlwZS5zcGVjLmNvZGUmJihlLnByZXNlcnZlV2hpdGVzcGFjZT0iZnVsbCIpLHRoaXMuY29udGVudERPTSYmIXRoaXMuY29udGVudExvc3Q/ZS5jb250ZW50RWxlbWVudD10aGlzLmNvbnRlbnRET006ZS5nZXRDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29udGVudERPTT9vLkZyYWdtZW50LmVtcHR5OnQubm9kZS5jb250ZW50fSxlfSxlLnByb3RvdHlwZS5tYXRjaGVzTm9kZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuZGlydHk9PUsmJnQuZXEodGhpcy5ub2RlKSYmdnQoZSx0aGlzLm91dGVyRGVjbykmJm4uZXEodGhpcy5pbm5lckRlY28pfSxuLnNpemUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS5ub2RlU2l6ZX0sbi5ib3JkZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS5pc0xlYWY/MDoxfSxlLnByb3RvdHlwZS51cGRhdGVDaGlsZHJlbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj10aGlzLm5vZGUuaW5saW5lQ29udGVudCxpPWUsYT1yJiZ0LmNvbXBvc2luZyYmdGhpcy5sb2NhbENvbXBvc2l0aW9uTm9kZSh0LGUpLHM9bmV3IGd0KHRoaXMsYSYmYS5ub2RlKTtidCh0aGlzLm5vZGUsdGhpcy5pbm5lckRlY28sKGZ1bmN0aW9uKGUsYSl7ZS5zcGVjLm1hcmtzP3Muc3luY1RvTWFya3MoZS5zcGVjLm1hcmtzLHIsdCk6ZS50eXBlLnNpZGU+PTAmJnMuc3luY1RvTWFya3MoYT09bi5ub2RlLmNoaWxkQ291bnQ/by5NYXJrLm5vbmU6bi5ub2RlLmNoaWxkKGEpLm1hcmtzLHIsdCkscy5wbGFjZVdpZGdldChlLHQsaSl9KSwoZnVuY3Rpb24oZSxuLG8sYSl7cy5zeW5jVG9NYXJrcyhlLm1hcmtzLHIsdCkscy5maW5kTm9kZU1hdGNoKGUsbixvLGEpfHxzLnVwZGF0ZU5leHROb2RlKGUsbixvLHQsYSl8fHMuYWRkTm9kZShlLG4sbyx0LGkpLGkrPWUubm9kZVNpemV9KSkscy5zeW5jVG9NYXJrcyhaLHIsdCksdGhpcy5ub2RlLmlzVGV4dGJsb2NrJiZzLmFkZFRleHRibG9ja0hhY2tzKCkscy5kZXN0cm95UmVzdCgpLChzLmNoYW5nZWR8fHRoaXMuZGlydHk9PUcpJiYoYSYmdGhpcy5wcm90ZWN0TG9jYWxDb21wb3NpdGlvbih0LGEpLHRoaXMucmVuZGVyQ2hpbGRyZW4oKSl9LGUucHJvdG90eXBlLnJlbmRlckNoaWxkcmVuPWZ1bmN0aW9uKCl7Y3QodGhpcy5jb250ZW50RE9NLHRoaXMuY2hpbGRyZW4sZS5pcyksYS5pb3MmJmt0KHRoaXMuZG9tKX0sZS5wcm90b3R5cGUubG9jYWxDb21wb3NpdGlvbk5vZGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LnN0YXRlLnNlbGVjdGlvbixvPW4uZnJvbSxpPW4udG87aWYoISghKHQuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2Ygci5UZXh0U2VsZWN0aW9uKXx8bzxlfHxpPmUrdGhpcy5ub2RlLmNvbnRlbnQuc2l6ZSkpe3ZhciBhPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxzPVN0KGEuZm9jdXNOb2RlLGEuZm9jdXNPZmZzZXQpO2lmKHMmJnRoaXMuZG9tLmNvbnRhaW5zKHMucGFyZW50Tm9kZSkpe3ZhciBjPXMubm9kZVZhbHVlLGw9eHQodGhpcy5ub2RlLmNvbnRlbnQsYyxvLWUsaS1lKTtyZXR1cm4gbDwwP251bGw6e25vZGU6cyxwb3M6bCx0ZXh0OmN9fX19LGUucHJvdG90eXBlLnByb3RlY3RMb2NhbENvbXBvc2l0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPWUubm9kZSxvPWUucG9zLGk9ZS50ZXh0O2lmKCF0aGlzLmdldERlc2Mocikpe2Zvcih2YXIgYT1yOzthPWEucGFyZW50Tm9kZSl7aWYoYS5wYXJlbnROb2RlPT1uLmNvbnRlbnRET00pYnJlYWs7d2hpbGUoYS5wcmV2aW91c1NpYmxpbmcpYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEucHJldmlvdXNTaWJsaW5nKTt3aGlsZShhLm5leHRTaWJsaW5nKWEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhLm5leHRTaWJsaW5nKTthLnBtVmlld0Rlc2MmJihhLnBtVmlld0Rlc2M9bnVsbCl9dmFyIHM9bmV3IGV0KHRoaXMsYSxyLGkpO3QuY29tcG9zaXRpb25Ob2Rlcy5wdXNoKHMpLHRoaXMuY2hpbGRyZW49Q3QodGhpcy5jaGlsZHJlbixvLG8raS5sZW5ndGgsdCxzKX19LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4hKHRoaXMuZGlydHk9PVh8fCF0LnNhbWVNYXJrdXAodGhpcy5ub2RlKSkmJih0aGlzLnVwZGF0ZUlubmVyKHQsZSxuLHIpLCEwKX0sZS5wcm90b3R5cGUudXBkYXRlSW5uZXI9ZnVuY3Rpb24odCxlLG4scil7dGhpcy51cGRhdGVPdXRlckRlY28oZSksdGhpcy5ub2RlPXQsdGhpcy5pbm5lckRlY289bix0aGlzLmNvbnRlbnRET00mJnRoaXMudXBkYXRlQ2hpbGRyZW4ocix0aGlzLnBvc0F0U3RhcnQpLHRoaXMuZGlydHk9S30sZS5wcm90b3R5cGUudXBkYXRlT3V0ZXJEZWNvPWZ1bmN0aW9uKHQpe2lmKCF2dCh0LHRoaXMub3V0ZXJEZWNvKSl7dmFyIGU9MSE9dGhpcy5ub2RlRE9NLm5vZGVUeXBlLG49dGhpcy5kb207dGhpcy5kb209cHQodGhpcy5kb20sdGhpcy5ub2RlRE9NLGZ0KHRoaXMub3V0ZXJEZWNvLHRoaXMubm9kZSxlKSxmdCh0LHRoaXMubm9kZSxlKSksdGhpcy5kb20hPW4mJihuLnBtVmlld0Rlc2M9bnVsbCx0aGlzLmRvbS5wbVZpZXdEZXNjPXRoaXMpLHRoaXMub3V0ZXJEZWNvPXR9fSxlLnByb3RvdHlwZS5zZWxlY3ROb2RlPWZ1bmN0aW9uKCl7dGhpcy5ub2RlRE9NLmNsYXNzTGlzdC5hZGQoIlByb3NlTWlycm9yLXNlbGVjdGVkbm9kZSIpLCF0aGlzLmNvbnRlbnRET00mJnRoaXMubm9kZS50eXBlLnNwZWMuZHJhZ2dhYmxlfHwodGhpcy5kb20uZHJhZ2dhYmxlPSEwKX0sZS5wcm90b3R5cGUuZGVzZWxlY3ROb2RlPWZ1bmN0aW9uKCl7dGhpcy5ub2RlRE9NLmNsYXNzTGlzdC5yZW1vdmUoIlByb3NlTWlycm9yLXNlbGVjdGVkbm9kZSIpLCF0aGlzLmNvbnRlbnRET00mJnRoaXMubm9kZS50eXBlLnNwZWMuZHJhZ2dhYmxlfHwodGhpcy5kb20uZHJhZ2dhYmxlPSExKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsbiksZX0oWSk7ZnVuY3Rpb24gb3QodCxlLG4scixvKXtyZXR1cm4gZHQocixlLHQpLG5ldyBydChudWxsLHQsZSxuLHIscixyLG8sMCl9dmFyIGl0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyxpLGEscyl7dC5jYWxsKHRoaXMsZSxuLHIsbyxpLG51bGwsYSxzKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ub2RlRE9NLnBhcmVudE5vZGU7cmV0dXJuIHQ/e3NraXA6dH06e2lnbm9yZTohMH19LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiEodGhpcy5kaXJ0eT09WHx8dGhpcy5kaXJ0eSE9SyYmIXRoaXMuaW5QYXJlbnQoKXx8IXQuc2FtZU1hcmt1cCh0aGlzLm5vZGUpKSYmKHRoaXMudXBkYXRlT3V0ZXJEZWNvKGUpLHRoaXMuZGlydHk9PUsmJnQudGV4dD09dGhpcy5ub2RlLnRleHR8fHQudGV4dD09dGhpcy5ub2RlRE9NLm5vZGVWYWx1ZXx8KHRoaXMubm9kZURPTS5ub2RlVmFsdWU9dC50ZXh0KSx0aGlzLm5vZGU9dCx0aGlzLmRpcnR5PUssITApfSxlLnByb3RvdHlwZS5pblBhcmVudD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnBhcmVudC5jb250ZW50RE9NLGU9dGhpcy5ub2RlRE9NO2U7ZT1lLnBhcmVudE5vZGUpaWYoZT09dClyZXR1cm4hMDtyZXR1cm4hMX0sZS5wcm90b3R5cGUuZG9tRnJvbVBvcz1mdW5jdGlvbih0KXtyZXR1cm57bm9kZTp0aGlzLm5vZGVET00sb2Zmc2V0OnR9fSxlLnByb3RvdHlwZS5sb2NhbFBvc0Zyb21ET009ZnVuY3Rpb24oZSxuLHIpe3JldHVybiBlPT10aGlzLm5vZGVET00/dGhpcy5wb3NBdFN0YXJ0K01hdGgubWluKG4sdGhpcy5ub2RlLnRleHQubGVuZ3RoKTp0LnByb3RvdHlwZS5sb2NhbFBvc0Zyb21ET00uY2FsbCh0aGlzLGUsbixyKX0sZS5wcm90b3R5cGUuaWdub3JlTXV0YXRpb249ZnVuY3Rpb24odCl7cmV0dXJuImNoYXJhY3RlckRhdGEiIT10LnR5cGUmJiJzZWxlY3Rpb24iIT10LnR5cGV9LGUucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsbixyKXt2YXIgbz10aGlzLm5vZGUuY3V0KHQsbiksaT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShvLnRleHQpO3JldHVybiBuZXcgZSh0aGlzLnBhcmVudCxvLHRoaXMub3V0ZXJEZWNvLHRoaXMuaW5uZXJEZWNvLGksaSxyKX0sZX0ocnQpLGF0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUucGFyc2VSdWxlPWZ1bmN0aW9uKCl7cmV0dXJue2lnbm9yZTohMH19LGUucHJvdG90eXBlLm1hdGNoZXNIYWNrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlydHk9PUt9LGV9KFkpLHN0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyxpLGEscyxjLGwsdSl7dC5jYWxsKHRoaXMsZSxuLHIsbyxpLGEscyxsLHUpLHRoaXMuc3BlYz1jfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSxuLHIsbyl7aWYodGhpcy5kaXJ0eT09WClyZXR1cm4hMTtpZih0aGlzLnNwZWMudXBkYXRlKXt2YXIgaT10aGlzLnNwZWMudXBkYXRlKGUsbik7cmV0dXJuIGkmJnRoaXMudXBkYXRlSW5uZXIoZSxuLHIsbyksaX1yZXR1cm4hKCF0aGlzLmNvbnRlbnRET00mJiFlLmlzTGVhZikmJnQucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMsZSxuLHIsbyl9LGUucHJvdG90eXBlLnNlbGVjdE5vZGU9ZnVuY3Rpb24oKXt0aGlzLnNwZWMuc2VsZWN0Tm9kZT90aGlzLnNwZWMuc2VsZWN0Tm9kZSgpOnQucHJvdG90eXBlLnNlbGVjdE5vZGUuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuZGVzZWxlY3ROb2RlPWZ1bmN0aW9uKCl7dGhpcy5zcGVjLmRlc2VsZWN0Tm9kZT90aGlzLnNwZWMuZGVzZWxlY3ROb2RlKCk6dC5wcm90b3R5cGUuZGVzZWxlY3ROb2RlLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnNldFNlbGVjdGlvbj1mdW5jdGlvbihlLG4scixvKXt0aGlzLnNwZWMuc2V0U2VsZWN0aW9uP3RoaXMuc3BlYy5zZXRTZWxlY3Rpb24oZSxuLHIpOnQucHJvdG90eXBlLnNldFNlbGVjdGlvbi5jYWxsKHRoaXMsZSxuLHIsbyl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnNwZWMuZGVzdHJveSYmdGhpcy5zcGVjLmRlc3Ryb3koKSx0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnN0b3BFdmVudD1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuc3BlYy5zdG9wRXZlbnQmJnRoaXMuc3BlYy5zdG9wRXZlbnQodCl9LGUucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNwZWMuaWdub3JlTXV0YXRpb24/dGhpcy5zcGVjLmlnbm9yZU11dGF0aW9uKGUpOnQucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uLmNhbGwodGhpcyxlKX0sZX0ocnQpO2Z1bmN0aW9uIGN0KHQsZSl7Zm9yKHZhciBuPXQuZmlyc3RDaGlsZCxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBvPWVbcl0saT1vLmRvbTtpZihpLnBhcmVudE5vZGU9PXQpe3doaWxlKGkhPW4pbj1tdChuKTtuPW4ubmV4dFNpYmxpbmd9ZWxzZSB0Lmluc2VydEJlZm9yZShpLG4pO2lmKG8gaW5zdGFuY2VvZiBudCl7dmFyIGE9bj9uLnByZXZpb3VzU2libGluZzp0Lmxhc3RDaGlsZDtjdChvLmNvbnRlbnRET00sby5jaGlsZHJlbiksbj1hP2EubmV4dFNpYmxpbmc6dC5maXJzdENoaWxkfX13aGlsZShuKW49bXQobil9ZnVuY3Rpb24gbHQodCl7dCYmKHRoaXMubm9kZU5hbWU9dCl9bHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobnVsbCk7dmFyIHV0PVtuZXcgbHRdO2Z1bmN0aW9uIGZ0KHQsZSxuKXtpZigwPT10Lmxlbmd0aClyZXR1cm4gdXQ7Zm9yKHZhciByPW4/dXRbMF06bmV3IGx0LG89W3JdLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIGE9dFtpXS50eXBlLmF0dHJzLHM9cjtpZihhKWZvcih2YXIgYyBpbiBhLm5vZGVOYW1lJiZvLnB1c2gocz1uZXcgbHQoYS5ub2RlTmFtZSkpLGEpe3ZhciBsPWFbY107bnVsbCE9bCYmKG4mJjE9PW8ubGVuZ3RoJiZvLnB1c2gocz1yPW5ldyBsdChlLmlzSW5saW5lPyJzcGFuIjoiZGl2IikpLCJjbGFzcyI9PWM/cy5jbGFzcz0ocy5jbGFzcz9zLmNsYXNzKyIgIjoiIikrbDoic3R5bGUiPT1jP3Muc3R5bGU9KHMuc3R5bGU/cy5zdHlsZSsiOyI6IiIpK2w6Im5vZGVOYW1lIiE9YyYmKHNbY109bCkpfX1yZXR1cm4gb31mdW5jdGlvbiBwdCh0LGUsbixyKXtpZihuPT11dCYmcj09dXQpcmV0dXJuIGU7Zm9yKHZhciBvPWUsaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgYT1yW2ldLHM9bltpXTtpZihpKXt2YXIgYz12b2lkIDA7cyYmcy5ub2RlTmFtZT09YS5ub2RlTmFtZSYmbyE9dCYmKGM9ZS5wYXJlbnROb2RlKSYmYy50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PWEubm9kZU5hbWU/bz1jOihjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYS5ub2RlTmFtZSksYy5hcHBlbmRDaGlsZChvKSxvPWMpfWh0KG8sc3x8dXRbMF0sYSl9cmV0dXJuIG99ZnVuY3Rpb24gaHQodCxlLG4pe2Zvcih2YXIgciBpbiBlKSJjbGFzcyI9PXJ8fCJzdHlsZSI9PXJ8fCJub2RlTmFtZSI9PXJ8fHIgaW4gbnx8dC5yZW1vdmVBdHRyaWJ1dGUocik7Zm9yKHZhciBvIGluIG4pImNsYXNzIiE9byYmInN0eWxlIiE9byYmIm5vZGVOYW1lIiE9byYmbltvXSE9ZVtvXSYmdC5zZXRBdHRyaWJ1dGUobyxuW29dKTtpZihlLmNsYXNzIT1uLmNsYXNzKXtmb3IodmFyIGk9ZS5jbGFzcz9lLmNsYXNzLnNwbGl0KCIgIik6WixhPW4uY2xhc3M/bi5jbGFzcy5zcGxpdCgiICIpOloscz0wO3M8aS5sZW5ndGg7cysrKS0xPT1hLmluZGV4T2YoaVtzXSkmJnQuY2xhc3NMaXN0LnJlbW92ZShpW3NdKTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyktMT09aS5pbmRleE9mKGFbY10pJiZ0LmNsYXNzTGlzdC5hZGQoYVtjXSl9aWYoZS5zdHlsZSE9bi5zdHlsZSl7aWYoZS5zdHlsZSl7dmFyIGwsdT0vXHMqKFtcd1wtXHhhMS1cdWZmZmZdKylccyo6KD86Iig/OlxcLnxbXiJdKSoifCcoPzpcXC58W14nXSkqJ3xcKC4qP1wpfFteO10pKi9nO3doaWxlKGw9dS5leGVjKGUuc3R5bGUpKXQuc3R5bGVbbFsxXS50b0xvd2VyQ2FzZSgpXT0iIn1uLnN0eWxlJiYodC5zdHlsZS5jc3NUZXh0Kz1uLnN0eWxlKX19ZnVuY3Rpb24gZHQodCxlLG4pe3JldHVybiBwdCh0LHQsdXQsZnQoZSxuLDEhPXQubm9kZVR5cGUpKX1mdW5jdGlvbiB2dCh0LGUpe2lmKHQubGVuZ3RoIT1lLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylpZighdFtuXS50eXBlLmVxKGVbbl0udHlwZSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gbXQodCl7dmFyIGU9dC5uZXh0U2libGluZztyZXR1cm4gdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpLGV9dmFyIGd0PWZ1bmN0aW9uKHQsZSl7dGhpcy50b3A9dCx0aGlzLmxvY2s9ZSx0aGlzLmluZGV4PTAsdGhpcy5zdGFjaz1bXSx0aGlzLmNoYW5nZWQ9ITE7dmFyIG49eXQodC5ub2RlLmNvbnRlbnQsdC5jaGlsZHJlbik7dGhpcy5wcmVNYXRjaGVkPW4ubm9kZXMsdGhpcy5wcmVNYXRjaE9mZnNldD1uLm9mZnNldH07ZnVuY3Rpb24geXQodCxlKXtmb3IodmFyIG49W10scj10LmNoaWxkQ291bnQsbz1lLmxlbmd0aC0xO3I+MCYmbz49MDtvLS0pe3ZhciBpPWVbb10sYT1pLm5vZGU7aWYoYSl7aWYoYSE9dC5jaGlsZChyLTEpKWJyZWFrO24ucHVzaChpKSwtLXJ9fXJldHVybntub2RlczpuLnJldmVyc2UoKSxvZmZzZXQ6cn19ZnVuY3Rpb24gd3QodCxlKXtyZXR1cm4gdC50eXBlLnNpZGUtZS50eXBlLnNpZGV9ZnVuY3Rpb24gYnQodCxlLG4scil7dmFyIG89ZS5sb2NhbHModCksaT0wO2lmKDAhPW8ubGVuZ3RoKWZvcih2YXIgYT0wLHM9W10sYz1udWxsLGw9MDs7KXtpZihhPG8ubGVuZ3RoJiZvW2FdLnRvPT1pKXt2YXIgdT1vW2ErK10sZj12b2lkIDA7d2hpbGUoYTxvLmxlbmd0aCYmb1thXS50bz09aSkoZnx8KGY9W3VdKSkucHVzaChvW2ErK10pO2lmKGYpe2Yuc29ydCh3dCk7Zm9yKHZhciBwPTA7cDxmLmxlbmd0aDtwKyspbihmW3BdLGwpfWVsc2Ugbih1LGwpfXZhciBoPXZvaWQgMCxkPXZvaWQgMDtpZihjKWQ9LTEsaD1jLGM9bnVsbDtlbHNle2lmKCEobDx0LmNoaWxkQ291bnQpKWJyZWFrO2Q9bCxoPXQuY2hpbGQobCsrKX1mb3IodmFyIHY9MDt2PHMubGVuZ3RoO3YrKylzW3ZdLnRvPD1pJiZzLnNwbGljZSh2LS0sMSk7d2hpbGUoYTxvLmxlbmd0aCYmb1thXS5mcm9tPT1pKXMucHVzaChvW2ErK10pO3ZhciBtPWkraC5ub2RlU2l6ZTtpZihoLmlzVGV4dCl7dmFyIGc9bTthPG8ubGVuZ3RoJiZvW2FdLmZyb208ZyYmKGc9b1thXS5mcm9tKTtmb3IodmFyIHk9MDt5PHMubGVuZ3RoO3krKylzW3ldLnRvPGcmJihnPXNbeV0udG8pO2c8bSYmKGM9aC5jdXQoZy1pKSxoPWguY3V0KDAsZy1pKSxtPWcsZD0tMSl9cihoLHMubGVuZ3RoP3Muc2xpY2UoKTpaLGUuZm9yQ2hpbGQoaSxoKSxkKSxpPW19ZWxzZSBmb3IodmFyIHc9MDt3PHQuY2hpbGRDb3VudDt3Kyspe3ZhciBiPXQuY2hpbGQodyk7cihiLG8sZS5mb3JDaGlsZChpLGIpLHcpLGkrPWIubm9kZVNpemV9fWZ1bmN0aW9uIGt0KHQpe2lmKCJVTCI9PXQubm9kZU5hbWV8fCJPTCI9PXQubm9kZU5hbWUpe3ZhciBlPXQuc3R5bGUuY3NzVGV4dDt0LnN0eWxlLmNzc1RleHQ9ZSsiOyBsaXN0LXN0eWxlOiBzcXVhcmUgIWltcG9ydGFudCIsd2luZG93LmdldENvbXB1dGVkU3R5bGUodCkubGlzdFN0eWxlLHQuc3R5bGUuY3NzVGV4dD1lfX1mdW5jdGlvbiBTdCh0LGUpe2Zvcig7Oyl7aWYoMz09dC5ub2RlVHlwZSlyZXR1cm4gdDtpZigxPT10Lm5vZGVUeXBlJiZlPjApe2lmKHQuY2hpbGROb2Rlcy5sZW5ndGg+ZSYmMz09dC5jaGlsZE5vZGVzW2VdLm5vZGVUeXBlKXJldHVybiB0LmNoaWxkTm9kZXNbZV07dD10LmNoaWxkTm9kZXNbZS0xXSxlPXkodCl9ZWxzZXtpZighKDE9PXQubm9kZVR5cGUmJmU8dC5jaGlsZE5vZGVzLmxlbmd0aCkpcmV0dXJuIG51bGw7dD10LmNoaWxkTm9kZXNbZV0sZT0wfX19ZnVuY3Rpb24geHQodCxlLG4scil7Zm9yKHZhciBvPSIiLGk9MCxhPTA7aTx0LmNoaWxkQ291bnQ7aSsrKXt2YXIgcz10LmNoaWxkKGkpLGM9YStzLm5vZGVTaXplO2lmKHMuaXNUZXh0KXtpZihvKz1zLnRleHQsYz49cil7dmFyIGw9Yy1vLmxlbmd0aCx1PW8ubGFzdEluZGV4T2YoZSk7d2hpbGUodT4tMSYmbCt1Pm4pdT1vLmxhc3RJbmRleE9mKGUsdS0xKTtpZih1Pi0xJiZsK3UrZS5sZW5ndGg+PXIpcmV0dXJuIGwrdTtpZihjPnIpYnJlYWt9fWVsc2Ugbz0iIjthPWN9cmV0dXJuLTF9ZnVuY3Rpb24gQ3QodCxlLG4scixvKXtmb3IodmFyIGk9W10sYT0wLHM9MDthPHQubGVuZ3RoO2ErKyl7dmFyIGM9dFthXSxsPXMsdT1zKz1jLnNpemU7bD49bnx8dTw9ZT9pLnB1c2goYyk6KGw8ZSYmaS5wdXNoKGMuc2xpY2UoMCxlLWwscikpLG8mJihpLnB1c2gobyksbz1udWxsKSx1Pm4mJmkucHVzaChjLnNsaWNlKG4tbCxjLnNpemUscikpKX1yZXR1cm4gaX1mdW5jdGlvbiBNdCh0LGUpe3ZhciBuPXQuc2VsZWN0aW9uLG89bi4kYW5jaG9yLGk9bi4kaGVhZCxhPWU+MD9vLm1heChpKTpvLm1pbihpKSxzPWEucGFyZW50LmlubGluZUNvbnRlbnQ/YS5kZXB0aD90LmRvYy5yZXNvbHZlKGU+MD9hLmFmdGVyKCk6YS5iZWZvcmUoKSk6bnVsbDphO3JldHVybiBzJiZyLlNlbGVjdGlvbi5maW5kRnJvbShzLGUpfWZ1bmN0aW9uIE90KHQsZSl7cmV0dXJuIHQuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oZSkuc2Nyb2xsSW50b1ZpZXcoKSksITB9ZnVuY3Rpb24gQXQodCxlLG4pe3ZhciBvPXQuc3RhdGUuc2VsZWN0aW9uO2lmKG8gaW5zdGFuY2VvZiByLlRleHRTZWxlY3Rpb24pe2lmKCFvLmVtcHR5fHxuLmluZGV4T2YoInMiKT4tMSlyZXR1cm4hMTtpZih0LmVuZE9mVGV4dGJsb2NrKGU+MD8icmlnaHQiOiJsZWZ0Iikpe3ZhciBpPU10KHQuc3RhdGUsZSk7cmV0dXJuISEoaSYmaSBpbnN0YW5jZW9mIHIuTm9kZVNlbGVjdGlvbikmJk90KHQsaSl9dmFyIHMsYz1vLiRoZWFkLGw9Yy50ZXh0T2Zmc2V0P251bGw6ZTwwP2Mubm9kZUJlZm9yZTpjLm5vZGVBZnRlcjtpZighbHx8bC5pc1RleHQpcmV0dXJuITE7dmFyIHU9ZTwwP2MucG9zLWwubm9kZVNpemU6Yy5wb3M7cmV0dXJuISEobC5pc0F0b218fChzPXQuZG9jVmlldy5kZXNjQXQodSkpJiYhcy5jb250ZW50RE9NKSYmKHIuTm9kZVNlbGVjdGlvbi5pc1NlbGVjdGFibGUobCk/T3QodCxuZXcgci5Ob2RlU2VsZWN0aW9uKGU8MD90LnN0YXRlLmRvYy5yZXNvbHZlKGMucG9zLWwubm9kZVNpemUpOmMpKTohIWEud2Via2l0JiZPdCh0LG5ldyByLlRleHRTZWxlY3Rpb24odC5zdGF0ZS5kb2MucmVzb2x2ZShlPDA/dTp1K2wubm9kZVNpemUpKSkpfWlmKG8gaW5zdGFuY2VvZiByLk5vZGVTZWxlY3Rpb24mJm8ubm9kZS5pc0lubGluZSlyZXR1cm4gT3QodCxuZXcgci5UZXh0U2VsZWN0aW9uKGU+MD9vLiR0bzpvLiRmcm9tKSk7dmFyIGY9TXQodC5zdGF0ZSxlKTtyZXR1cm4hIWYmJk90KHQsZil9ZnVuY3Rpb24gVHQodCl7cmV0dXJuIDM9PXQubm9kZVR5cGU/dC5ub2RlVmFsdWUubGVuZ3RoOnQuY2hpbGROb2Rlcy5sZW5ndGh9ZnVuY3Rpb24gTnQodCl7dmFyIGU9dC5wbVZpZXdEZXNjO3JldHVybiBlJiYwPT1lLnNpemUmJih0Lm5leHRTaWJsaW5nfHwiQlIiIT10Lm5vZGVOYW1lKX1mdW5jdGlvbiBFdCh0KXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj1lLmZvY3VzTm9kZSxyPWUuZm9jdXNPZmZzZXQ7aWYobil7dmFyIG8saSxzPSExO2ZvcihhLmdlY2tvJiYxPT1uLm5vZGVUeXBlJiZyPFR0KG4pJiZOdChuLmNoaWxkTm9kZXNbcl0pJiYocz0hMCk7OylpZihyPjApe2lmKDEhPW4ubm9kZVR5cGUpYnJlYWs7dmFyIGM9bi5jaGlsZE5vZGVzW3ItMV07aWYoTnQoYykpbz1uLGk9LS1yO2Vsc2V7aWYoMyE9Yy5ub2RlVHlwZSlicmVhaztuPWMscj1uLm5vZGVWYWx1ZS5sZW5ndGh9fWVsc2V7aWYoUnQobikpYnJlYWs7dmFyIGw9bi5wcmV2aW91c1NpYmxpbmc7d2hpbGUobCYmTnQobCkpbz1uLnBhcmVudE5vZGUsaT1wKGwpLGw9bC5wcmV2aW91c1NpYmxpbmc7aWYobCluPWwscj1UdChuKTtlbHNle2lmKG49bi5wYXJlbnROb2RlLG49PXQuZG9tKWJyZWFrO3I9MH19cz9EdCh0LGUsbixyKTpvJiZEdCh0LGUsbyxpKX19ZnVuY3Rpb24gX3QodCl7dmFyIGU9dC5yb290LmdldFNlbGVjdGlvbigpLG49ZS5mb2N1c05vZGUscj1lLmZvY3VzT2Zmc2V0O2lmKG4pe2Zvcih2YXIgbyxpLGE9VHQobik7OylpZihyPGEpe2lmKDEhPW4ubm9kZVR5cGUpYnJlYWs7dmFyIHM9bi5jaGlsZE5vZGVzW3JdO2lmKCFOdChzKSlicmVhaztvPW4saT0rK3J9ZWxzZXtpZihSdChuKSlicmVhazt2YXIgYz1uLm5leHRTaWJsaW5nO3doaWxlKGMmJk50KGMpKW89Yy5wYXJlbnROb2RlLGk9cChjKSsxLGM9Yy5uZXh0U2libGluZztpZihjKW49YyxyPTAsYT1UdChuKTtlbHNle2lmKG49bi5wYXJlbnROb2RlLG49PXQuZG9tKWJyZWFrO3I9YT0wfX1vJiZEdCh0LGUsbyxpKX19ZnVuY3Rpb24gUnQodCl7dmFyIGU9dC5wbVZpZXdEZXNjO3JldHVybiBlJiZlLm5vZGUmJmUubm9kZS5pc0Jsb2NrfWZ1bmN0aW9uIER0KHQsZSxuLHIpe2lmKGIoZSkpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7by5zZXRFbmQobixyKSxvLnNldFN0YXJ0KG4sciksZS5yZW1vdmVBbGxSYW5nZXMoKSxlLmFkZFJhbmdlKG8pfWVsc2UgZS5leHRlbmQmJmUuZXh0ZW5kKG4scik7dC5kb21PYnNlcnZlci5zZXRDdXJTZWxlY3Rpb24oKX1mdW5jdGlvbiBQdCh0LGUsbil7dmFyIG89dC5zdGF0ZS5zZWxlY3Rpb247aWYobyBpbnN0YW5jZW9mIHIuVGV4dFNlbGVjdGlvbiYmIW8uZW1wdHl8fG4uaW5kZXhPZigicyIpPi0xKXJldHVybiExO3ZhciBpPW8uJGZyb20sYT1vLiR0bztpZighaS5wYXJlbnQuaW5saW5lQ29udGVudHx8dC5lbmRPZlRleHRibG9jayhlPDA/InVwIjoiZG93biIpKXt2YXIgcz1NdCh0LnN0YXRlLGUpO2lmKHMmJnMgaW5zdGFuY2VvZiByLk5vZGVTZWxlY3Rpb24pcmV0dXJuIE90KHQscyl9aWYoIWkucGFyZW50LmlubGluZUNvbnRlbnQpe3ZhciBjPXIuU2VsZWN0aW9uLmZpbmRGcm9tKGU8MD9pOmEsZSk7cmV0dXJuIWN8fE90KHQsYyl9cmV0dXJuITF9ZnVuY3Rpb24genQodCxlKXtpZighKHQuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2Ygci5UZXh0U2VsZWN0aW9uKSlyZXR1cm4hMDt2YXIgbj10LnN0YXRlLnNlbGVjdGlvbixvPW4uJGhlYWQsaT1uLiRhbmNob3IsYT1uLmVtcHR5O2lmKCFvLnNhbWVQYXJlbnQoaSkpcmV0dXJuITA7aWYoIWEpcmV0dXJuITE7aWYodC5lbmRPZlRleHRibG9jayhlPjA/ImZvcndhcmQiOiJiYWNrd2FyZCIpKXJldHVybiEwO3ZhciBzPSFvLnRleHRPZmZzZXQmJihlPDA/by5ub2RlQmVmb3JlOm8ubm9kZUFmdGVyKTtpZihzJiYhcy5pc1RleHQpe3ZhciBjPXQuc3RhdGUudHI7cmV0dXJuIGU8MD9jLmRlbGV0ZShvLnBvcy1zLm5vZGVTaXplLG8ucG9zKTpjLmRlbGV0ZShvLnBvcyxvLnBvcytzLm5vZGVTaXplKSx0LmRpc3BhdGNoKGMpLCEwfXJldHVybiExfWZ1bmN0aW9uIEl0KHQsZSxuKXt0LmRvbU9ic2VydmVyLnN0b3AoKSxlLmNvbnRlbnRFZGl0YWJsZT1uLHQuZG9tT2JzZXJ2ZXIuc3RhcnQoKX1mdW5jdGlvbiBqdCh0KXtpZihhLmNocm9tZSYmISh0LnN0YXRlLnNlbGVjdGlvbi4kaGVhZC5wYXJlbnRPZmZzZXQ+MCkpe3ZhciBlPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxuPWUuZm9jdXNOb2RlLHI9ZS5mb2N1c09mZnNldDtpZihuJiYxPT1uLm5vZGVUeXBlJiYwPT1yJiZuLmZpcnN0Q2hpbGQmJiJmYWxzZSI9PW4uZmlyc3RDaGlsZC5jb250ZW50RWRpdGFibGUpe3ZhciBvPW4uZmlyc3RDaGlsZDtJdCh0LG8sITApLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIEl0KHQsbywhMSl9KSwyMCl9fX1mdW5jdGlvbiBCdCh0KXt2YXIgZT0iIjtyZXR1cm4gdC5jdHJsS2V5JiYoZSs9ImMiKSx0Lm1ldGFLZXkmJihlKz0ibSIpLHQuYWx0S2V5JiYoZSs9ImEiKSx0LnNoaWZ0S2V5JiYoZSs9InMiKSxlfWZ1bmN0aW9uICR0KHQsZSl7dmFyIG49ZS5rZXlDb2RlLHI9QnQoZSk7cmV0dXJuIDg9PW58fGEubWFjJiY3Mj09biYmImMiPT1yP3p0KHQsLTEpfHxFdCh0KTo0Nj09bnx8YS5tYWMmJjY4PT1uJiYiYyI9PXI/enQodCwxKXx8X3QodCk6MTM9PW58fDI3PT1ufHwoMzc9PW4/QXQodCwtMSxyKXx8RXQodCk6Mzk9PW4/QXQodCwxLHIpfHxfdCh0KTozOD09bj9QdCh0LC0xLHIpfHxFdCh0KTo0MD09bj9qdCh0KXx8UHQodCwxLHIpfHxfdCh0KTpyPT0oYS5tYWM/Im0iOiJjIikmJig2Nj09bnx8NzM9PW58fDg5PT1ufHw5MD09bikpfWZ1bmN0aW9uIEZ0KHQsZSl7dmFyIG4sbyxpPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxhPXQuc3RhdGUuZG9jLHM9dC5kb2NWaWV3Lm5lYXJlc3REZXNjKGkuZm9jdXNOb2RlKSxjPXMmJjA9PXMuc2l6ZSxsPXQuZG9jVmlldy5wb3NGcm9tRE9NKGkuZm9jdXNOb2RlLGkuZm9jdXNPZmZzZXQpLHU9YS5yZXNvbHZlKGwpO2lmKGIoaSkpe249dTt3aGlsZShzJiYhcy5ub2RlKXM9cy5wYXJlbnQ7aWYocyYmcy5ub2RlLmlzQXRvbSYmci5Ob2RlU2VsZWN0aW9uLmlzU2VsZWN0YWJsZShzLm5vZGUpJiZzLnBhcmVudCl7dmFyIGY9cy5wb3NCZWZvcmU7bz1uZXcgci5Ob2RlU2VsZWN0aW9uKGw9PWY/dTphLnJlc29sdmUoZikpfX1lbHNlIG49YS5yZXNvbHZlKHQuZG9jVmlldy5wb3NGcm9tRE9NKGkuYW5jaG9yTm9kZSxpLmFuY2hvck9mZnNldCkpO2lmKCFvKXt2YXIgcD0icG9pbnRlciI9PWV8fHQuc3RhdGUuc2VsZWN0aW9uLmhlYWQ8dS5wb3MmJiFjPzE6LTE7bz1VdCh0LG4sdSxwKX1yZXR1cm4gb31mdW5jdGlvbiBWdCh0LGUsbil7dmFyIG89dC5zdGF0ZS5zZWxlY3Rpb247aWYocXQodCxvKSx0LmVkaXRhYmxlJiYhdC5oYXNGb2N1cygpKXtpZighZSlyZXR1cm47YS5nZWNrbyYmYS5nZWNrb192ZXJzaW9uPD01NSYmKHQuZG9tT2JzZXJ2ZXIuZGlzY29ubmVjdFNlbGVjdGlvbigpLHQuZG9tLmZvY3VzKCksdC5kb21PYnNlcnZlci5jb25uZWN0U2VsZWN0aW9uKCkpfWVsc2UgaWYoIXQuZWRpdGFibGUmJighWHQodCl8fCFkb2N1bWVudC5hY3RpdmVFbGVtZW50LmNvbnRhaW5zKHQuZG9tKSkmJiFlKXJldHVybjtpZih0LmRvbU9ic2VydmVyLmRpc2Nvbm5lY3RTZWxlY3Rpb24oKSx0LmN1cnNvcldyYXBwZXIpSnQodCk7ZWxzZXt2YXIgaSxzLGM9by5hbmNob3IsbD1vLmhlYWQ7IUx0fHxvIGluc3RhbmNlb2Ygci5UZXh0U2VsZWN0aW9ufHwoby4kZnJvbS5wYXJlbnQuaW5saW5lQ29udGVudHx8KGk9SHQodCxvLmZyb20pKSxvLmVtcHR5fHxvLiRmcm9tLnBhcmVudC5pbmxpbmVDb250ZW50fHwocz1IdCh0LG8udG8pKSksdC5kb2NWaWV3LnNldFNlbGVjdGlvbihjLGwsdC5yb290LG4pLEx0JiYoaSYmKGkuY29udGVudEVkaXRhYmxlPSJmYWxzZSIpLHMmJihzLmNvbnRlbnRFZGl0YWJsZT0iZmFsc2UiKSksby52aXNpYmxlP3QuZG9tLmNsYXNzTGlzdC5yZW1vdmUoIlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb24iKTpjIT1sJiYodC5kb20uY2xhc3NMaXN0LmFkZCgiUHJvc2VNaXJyb3ItaGlkZXNlbGVjdGlvbiIpLCJvbnNlbGVjdGlvbmNoYW5nZSJpbiBkb2N1bWVudCYmV3QodCkpfXQuZG9tT2JzZXJ2ZXIuc2V0Q3VyU2VsZWN0aW9uKCksdC5kb21PYnNlcnZlci5jb25uZWN0U2VsZWN0aW9uKCl9Z3QucHJvdG90eXBlLmdldFByZU1hdGNoPWZ1bmN0aW9uKHQpe3JldHVybiB0Pj10aGlzLnByZU1hdGNoT2Zmc2V0P3RoaXMucHJlTWF0Y2hlZFt0LXRoaXMucHJlTWF0Y2hPZmZzZXRdOm51bGx9LGd0LnByb3RvdHlwZS5kZXN0cm95QmV0d2Vlbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7aWYodCE9ZSl7Zm9yKHZhciByPXQ7cjxlO3IrKyluLnRvcC5jaGlsZHJlbltyXS5kZXN0cm95KCk7dGhpcy50b3AuY2hpbGRyZW4uc3BsaWNlKHQsZS10KSx0aGlzLmNoYW5nZWQ9ITB9fSxndC5wcm90b3R5cGUuZGVzdHJveVJlc3Q9ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3lCZXR3ZWVuKHRoaXMuaW5kZXgsdGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoKX0sZ3QucHJvdG90eXBlLnN5bmNUb01hcmtzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLG89MCxpPXRoaXMuc3RhY2subGVuZ3RoPj4xLGE9TWF0aC5taW4oaSx0Lmxlbmd0aCk7d2hpbGUobzxhJiYobz09aS0xP3RoaXMudG9wOnRoaXMuc3RhY2tbbysxPDwxXSkubWF0Y2hlc01hcmsodFtvXSkmJiExIT09dFtvXS50eXBlLnNwZWMuc3Bhbm5pbmcpbysrO3doaWxlKG88aSlyLmRlc3Ryb3lSZXN0KCksci50b3AuZGlydHk9SyxyLmluZGV4PXIuc3RhY2sucG9wKCksci50b3A9ci5zdGFjay5wb3AoKSxpLS07d2hpbGUoaTx0Lmxlbmd0aCl7ci5zdGFjay5wdXNoKHIudG9wLHIuaW5kZXgrMSk7Zm9yKHZhciBzPS0xLGM9dGhpcy5pbmRleDtjPE1hdGgubWluKHRoaXMuaW5kZXgrMyx0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGgpO2MrKylpZihyLnRvcC5jaGlsZHJlbltjXS5tYXRjaGVzTWFyayh0W2ldKSl7cz1jO2JyZWFrfWlmKHM+LTEpcz5yLmluZGV4JiYoci5jaGFuZ2VkPSEwLHIuZGVzdHJveUJldHdlZW4oci5pbmRleCxzKSksci50b3A9ci50b3AuY2hpbGRyZW5bci5pbmRleF07ZWxzZXt2YXIgbD1udC5jcmVhdGUoci50b3AsdFtpXSxlLG4pO3IudG9wLmNoaWxkcmVuLnNwbGljZShyLmluZGV4LDAsbCksci50b3A9bCxyLmNoYW5nZWQ9ITB9ci5pbmRleD0wLGkrK319LGd0LnByb3RvdHlwZS5maW5kTm9kZU1hdGNoPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXRoaXMsaT0tMSxhPXI8MD92b2lkIDA6dGhpcy5nZXRQcmVNYXRjaChyKSxzPXRoaXMudG9wLmNoaWxkcmVuO2lmKGEmJmEubWF0Y2hlc05vZGUodCxlLG4pKWk9cy5pbmRleE9mKGEpO2Vsc2UgZm9yKHZhciBjPXRoaXMuaW5kZXgsbD1NYXRoLm1pbihzLmxlbmd0aCxjKzUpO2M8bDtjKyspe3ZhciB1PXNbY107aWYodS5tYXRjaGVzTm9kZSh0LGUsbikmJm8ucHJlTWF0Y2hlZC5pbmRleE9mKHUpPDApe2k9YzticmVha319cmV0dXJuIShpPDApJiYodGhpcy5kZXN0cm95QmV0d2Vlbih0aGlzLmluZGV4LGkpLHRoaXMuaW5kZXgrKywhMCl9LGd0LnByb3RvdHlwZS51cGRhdGVOZXh0Tm9kZT1mdW5jdGlvbih0LGUsbixyLG8pe2lmKHRoaXMuaW5kZXg9PXRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aClyZXR1cm4hMTt2YXIgaT10aGlzLnRvcC5jaGlsZHJlblt0aGlzLmluZGV4XTtpZihpIGluc3RhbmNlb2YgcnQpe3ZhciBhPXRoaXMucHJlTWF0Y2hlZC5pbmRleE9mKGkpO2lmKGE+LTEmJmErdGhpcy5wcmVNYXRjaE9mZnNldCE9bylyZXR1cm4hMTt2YXIgcz1pLmRvbSxjPXRoaXMubG9jayYmKHM9PXRoaXMubG9ja3x8MT09cy5ub2RlVHlwZSYmcy5jb250YWlucyh0aGlzLmxvY2sucGFyZW50Tm9kZSkpJiYhKHQuaXNUZXh0JiZpLm5vZGUmJmkubm9kZS5pc1RleHQmJmkubm9kZURPTS5ub2RlVmFsdWU9PXQudGV4dCYmaS5kaXJ0eSE9WCYmdnQoZSxpLm91dGVyRGVjbykpO2lmKCFjJiZpLnVwZGF0ZSh0LGUsbixyKSlyZXR1cm4gaS5kb20hPXMmJih0aGlzLmNoYW5nZWQ9ITApLHRoaXMuaW5kZXgrKywhMH1yZXR1cm4hMX0sZ3QucHJvdG90eXBlLmFkZE5vZGU9ZnVuY3Rpb24odCxlLG4scixvKXt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCsrLDAscnQuY3JlYXRlKHRoaXMudG9wLHQsZSxuLHIsbykpLHRoaXMuY2hhbmdlZD0hMH0sZ3QucHJvdG90eXBlLnBsYWNlV2lkZ2V0PWZ1bmN0aW9uKHQsZSxuKXtpZih0aGlzLmluZGV4PHRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aCYmdGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleF0ubWF0Y2hlc1dpZGdldCh0KSl0aGlzLmluZGV4Kys7ZWxzZXt2YXIgcj1uZXcgdHQodGhpcy50b3AsdCxlLG4pO3RoaXMudG9wLmNoaWxkcmVuLnNwbGljZSh0aGlzLmluZGV4KyssMCxyKSx0aGlzLmNoYW5nZWQ9ITB9fSxndC5wcm90b3R5cGUuYWRkVGV4dGJsb2NrSGFja3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRvcC5jaGlsZHJlblt0aGlzLmluZGV4LTFdO3doaWxlKHQgaW5zdGFuY2VvZiBudCl0PXQuY2hpbGRyZW5bdC5jaGlsZHJlbi5sZW5ndGgtMV07aWYoIXR8fCEodCBpbnN0YW5jZW9mIGl0KXx8L1xuJC8udGVzdCh0Lm5vZGUudGV4dCkpaWYodGhpcy5pbmRleDx0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGgmJnRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXhdLm1hdGNoZXNIYWNrKCkpdGhpcy5pbmRleCsrO2Vsc2V7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKTt0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCsrLDAsbmV3IGF0KHRoaXMudG9wLFosZSxudWxsKSksdGhpcy5jaGFuZ2VkPSEwfX07dmFyIEx0PWEuc2FmYXJpfHxhLmNocm9tZSYmYS5jaHJvbWVfdmVyc2lvbjw2MztmdW5jdGlvbiBIdCh0LGUpe3ZhciBuPXQuZG9jVmlldy5kb21Gcm9tUG9zKGUpLHI9bi5ub2RlLG89bi5vZmZzZXQsaT1vPHIuY2hpbGROb2Rlcy5sZW5ndGg/ci5jaGlsZE5vZGVzW29dOm51bGwsYT1vP3IuY2hpbGROb2Rlc1tvLTFdOm51bGw7aWYoKCFpfHwiZmFsc2UiPT1pLmNvbnRlbnRFZGl0YWJsZSkmJighYXx8ImZhbHNlIj09YS5jb250ZW50RWRpdGFibGUpKXtpZihpKXJldHVybiBpLmNvbnRlbnRFZGl0YWJsZT0idHJ1ZSIsaTtpZihhKXJldHVybiBhLmNvbnRlbnRFZGl0YWJsZT0idHJ1ZSIsYX19ZnVuY3Rpb24gV3QodCl7dmFyIGU9dC5kb20ub3duZXJEb2N1bWVudDtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsdC5oaWRlU2VsZWN0aW9uR3VhcmQpO3ZhciBuPXQucm9vdC5nZXRTZWxlY3Rpb24oKSxyPW4uYW5jaG9yTm9kZSxvPW4uYW5jaG9yT2Zmc2V0O2UuYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIix0LmhpZGVTZWxlY3Rpb25HdWFyZD1mdW5jdGlvbigpe24uYW5jaG9yTm9kZT09ciYmbi5hbmNob3JPZmZzZXQ9PW98fChlLnJlbW92ZUV2ZW50TGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsdC5oaWRlU2VsZWN0aW9uR3VhcmQpLHQuZG9tLmNsYXNzTGlzdC5yZW1vdmUoIlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb24iKSl9KX1mdW5jdGlvbiBKdCh0KXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCksbj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpLHI9dC5jdXJzb3JXcmFwcGVyLmRvbSxvPSJJTUciPT1yLm5vZGVOYW1lO28/bi5zZXRFbmQoci5wYXJlbnROb2RlLHAocikrMSk6bi5zZXRFbmQociwwKSxuLmNvbGxhcHNlKCExKSxlLnJlbW92ZUFsbFJhbmdlcygpLGUuYWRkUmFuZ2UobiksIW8mJiF0LnN0YXRlLnNlbGVjdGlvbi52aXNpYmxlJiZhLmllJiZhLmllX3ZlcnNpb248PTExJiYoci5kaXNhYmxlZD0hMCxyLmRpc2FibGVkPSExKX1mdW5jdGlvbiBxdCh0LGUpe2lmKGUgaW5zdGFuY2VvZiByLk5vZGVTZWxlY3Rpb24pe3ZhciBuPXQuZG9jVmlldy5kZXNjQXQoZS5mcm9tKTtuIT10Lmxhc3RTZWxlY3RlZFZpZXdEZXNjJiYoS3QodCksbiYmbi5zZWxlY3ROb2RlKCksdC5sYXN0U2VsZWN0ZWRWaWV3RGVzYz1uKX1lbHNlIEt0KHQpfWZ1bmN0aW9uIEt0KHQpe3QubGFzdFNlbGVjdGVkVmlld0Rlc2MmJih0Lmxhc3RTZWxlY3RlZFZpZXdEZXNjLnBhcmVudCYmdC5sYXN0U2VsZWN0ZWRWaWV3RGVzYy5kZXNlbGVjdE5vZGUoKSx0Lmxhc3RTZWxlY3RlZFZpZXdEZXNjPW51bGwpfWZ1bmN0aW9uIFV0KHQsZSxuLG8pe3JldHVybiB0LnNvbWVQcm9wKCJjcmVhdGVTZWxlY3Rpb25CZXR3ZWVuIiwoZnVuY3Rpb24ocil7cmV0dXJuIHIodCxlLG4pfSkpfHxyLlRleHRTZWxlY3Rpb24uYmV0d2VlbihlLG4sbyl9ZnVuY3Rpb24gR3QodCl7cmV0dXJuKCF0LmVkaXRhYmxlfHx0LnJvb3QuYWN0aXZlRWxlbWVudD09dC5kb20pJiZYdCh0KX1mdW5jdGlvbiBYdCh0KXt2YXIgZT10LnJvb3QuZ2V0U2VsZWN0aW9uKCk7aWYoIWUuYW5jaG9yTm9kZSlyZXR1cm4hMTt0cnl7cmV0dXJuIHQuZG9tLmNvbnRhaW5zKDM9PWUuYW5jaG9yTm9kZS5ub2RlVHlwZT9lLmFuY2hvck5vZGUucGFyZW50Tm9kZTplLmFuY2hvck5vZGUpJiYodC5lZGl0YWJsZXx8dC5kb20uY29udGFpbnMoMz09ZS5mb2N1c05vZGUubm9kZVR5cGU/ZS5mb2N1c05vZGUucGFyZW50Tm9kZTplLmZvY3VzTm9kZSkpfWNhdGNoKG4pe3JldHVybiExfX1mdW5jdGlvbiBZdCh0KXt2YXIgZT10LmRvY1ZpZXcuZG9tRnJvbVBvcyh0LnN0YXRlLnNlbGVjdGlvbi5hbmNob3IpLG49dC5yb290LmdldFNlbGVjdGlvbigpO3JldHVybiB2KGUubm9kZSxlLm9mZnNldCxuLmFuY2hvck5vZGUsbi5hbmNob3JPZmZzZXQpfWZ1bmN0aW9uIFF0KHQsZSxuKXt2YXIgcj10LmRvY1ZpZXcucGFyc2VSYW5nZShlLG4pLGk9ci5ub2RlLHM9ci5mcm9tT2Zmc2V0LGM9ci50b09mZnNldCxsPXIuZnJvbSx1PXIudG8sZj10LnJvb3QuZ2V0U2VsZWN0aW9uKCkscD1udWxsLGg9Zi5hbmNob3JOb2RlO2lmKGgmJnQuZG9tLmNvbnRhaW5zKDE9PWgubm9kZVR5cGU/aDpoLnBhcmVudE5vZGUpJiYocD1be25vZGU6aCxvZmZzZXQ6Zi5hbmNob3JPZmZzZXR9XSxiKGYpfHxwLnB1c2goe25vZGU6Zi5mb2N1c05vZGUsb2Zmc2V0OmYuZm9jdXNPZmZzZXR9KSksYS5jaHJvbWUmJjg9PT10Lmxhc3RLZXlDb2RlKWZvcih2YXIgZD1jO2Q+cztkLS0pe3ZhciB2PWkuY2hpbGROb2Rlc1tkLTFdLG09di5wbVZpZXdEZXNjO2lmKCJCUiI9PXYubm9kZVR5cGUmJiFtKXtjPWQ7YnJlYWt9aWYoIW18fG0uc2l6ZSlicmVha312YXIgZz10LnN0YXRlLmRvYyx5PXQuc29tZVByb3AoImRvbVBhcnNlciIpfHxvLkRPTVBhcnNlci5mcm9tU2NoZW1hKHQuc3RhdGUuc2NoZW1hKSx3PWcucmVzb2x2ZShsKSxrPW51bGwsUz15LnBhcnNlKGkse3RvcE5vZGU6dy5wYXJlbnQsdG9wTWF0Y2g6dy5wYXJlbnQuY29udGVudE1hdGNoQXQody5pbmRleCgpKSx0b3BPcGVuOiEwLGZyb206cyx0bzpjLHByZXNlcnZlV2hpdGVzcGFjZTohdy5wYXJlbnQudHlwZS5zcGVjLmNvZGV8fCJmdWxsIixlZGl0YWJsZUNvbnRlbnQ6ITAsZmluZFBvc2l0aW9uczpwLHJ1bGVGcm9tTm9kZTpadCh5LHcpLGNvbnRleHQ6d30pO2lmKHAmJm51bGwhPXBbMF0ucG9zKXt2YXIgeD1wWzBdLnBvcyxDPXBbMV0mJnBbMV0ucG9zO251bGw9PUMmJihDPXgpLGs9e2FuY2hvcjp4K2wsaGVhZDpDK2x9fXJldHVybntkb2M6UyxzZWw6ayxmcm9tOmwsdG86dX19ZnVuY3Rpb24gWnQodCxlKXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHI9bi5wbVZpZXdEZXNjO2lmKHIpcmV0dXJuIHIucGFyc2VSdWxlKCk7aWYoIkJSIj09bi5ub2RlTmFtZSYmbi5wYXJlbnROb2RlKXtpZihhLnNhZmFyaSYmL14odWx8b2wpJC9pLnRlc3Qobi5wYXJlbnROb2RlLm5vZGVOYW1lKSlyZXR1cm4gdC5tYXRjaFRhZyhkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaSIpLGUpO2lmKG4ucGFyZW50Tm9kZS5sYXN0Q2hpbGQ9PW58fGEuc2FmYXJpJiYvXih0cnx0YWJsZSkkL2kudGVzdChuLnBhcmVudE5vZGUubm9kZU5hbWUpKXJldHVybntpZ25vcmU6ITB9fWVsc2UgaWYoIklNRyI9PW4ubm9kZU5hbWUmJm4uZ2V0QXR0cmlidXRlKCJtYXJrLXBsYWNlaG9sZGVyIikpcmV0dXJue2lnbm9yZTohMH19fWZ1bmN0aW9uIHRlKHQsZSxuLG8pe2lmKGU8MCl7dmFyIGk9dC5sYXN0U2VsZWN0aW9uVGltZT5EYXRlLm5vdygpLTUwP3QubGFzdFNlbGVjdGlvbk9yaWdpbjpudWxsLHM9RnQodCxpKTtpZighdC5zdGF0ZS5zZWxlY3Rpb24uZXEocykpe3ZhciBjPXQuc3RhdGUudHIuc2V0U2VsZWN0aW9uKHMpOyJwb2ludGVyIj09aT9jLnNldE1ldGEoInBvaW50ZXIiLCEwKToia2V5Ij09aSYmYy5zY3JvbGxJbnRvVmlldygpLHQuZGlzcGF0Y2goYyl9fWVsc2V7dmFyIGw9dC5zdGF0ZS5kb2MucmVzb2x2ZShlKSx1PWwuc2hhcmVkRGVwdGgobik7ZT1sLmJlZm9yZSh1KzEpLG49dC5zdGF0ZS5kb2MucmVzb2x2ZShuKS5hZnRlcih1KzEpO3ZhciBmLHAsaD10LnN0YXRlLnNlbGVjdGlvbixkPVF0KHQsZSxuKSx2PXQuc3RhdGUuZG9jLG09di5zbGljZShkLmZyb20sZC50byk7OD09PXQubGFzdEtleUNvZGUmJkRhdGUubm93KCktMTAwPHQubGFzdEtleUNvZGVUaW1lPyhmPXQuc3RhdGUuc2VsZWN0aW9uLnRvLHA9ImVuZCIpOihmPXQuc3RhdGUuc2VsZWN0aW9uLmZyb20scD0ic3RhcnQiKSx0Lmxhc3RLZXlDb2RlPW51bGw7dmFyIGc9aWUobS5jb250ZW50LGQuZG9jLmNvbnRlbnQsZC5mcm9tLGYscCk7aWYoZyl7dC5kb21DaGFuZ2VDb3VudCsrLHQuc3RhdGUuc2VsZWN0aW9uLmZyb208dC5zdGF0ZS5zZWxlY3Rpb24udG8mJmcuc3RhcnQ9PWcuZW5kQiYmdC5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiByLlRleHRTZWxlY3Rpb24mJihnLnN0YXJ0PnQuc3RhdGUuc2VsZWN0aW9uLmZyb20mJmcuc3RhcnQ8PXQuc3RhdGUuc2VsZWN0aW9uLmZyb20rMj9nLnN0YXJ0PXQuc3RhdGUuc2VsZWN0aW9uLmZyb206Zy5lbmRBPHQuc3RhdGUuc2VsZWN0aW9uLnRvJiZnLmVuZEE+PXQuc3RhdGUuc2VsZWN0aW9uLnRvLTImJihnLmVuZEIrPXQuc3RhdGUuc2VsZWN0aW9uLnRvLWcuZW5kQSxnLmVuZEE9dC5zdGF0ZS5zZWxlY3Rpb24udG8pKTt2YXIgeSx3PWQuZG9jLnJlc29sdmVOb0NhY2hlKGcuc3RhcnQtZC5mcm9tKSxiPWQuZG9jLnJlc29sdmVOb0NhY2hlKGcuZW5kQi1kLmZyb20pO2lmKCEoIXcuc2FtZVBhcmVudChiKSYmdy5wb3M8ZC5kb2MuY29udGVudC5zaXplJiYoeT1yLlNlbGVjdGlvbi5maW5kRnJvbShkLmRvYy5yZXNvbHZlKHcucG9zKzEpLDEsITApKSYmeS5oZWFkPT1iLnBvcyYmdC5zb21lUHJvcCgiaGFuZGxlS2V5RG93biIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQsaygxMywiRW50ZXIiKSl9KSkpKWlmKHQuc3RhdGUuc2VsZWN0aW9uLmFuY2hvcj5nLnN0YXJ0JiZyZSh2LGcuc3RhcnQsZy5lbmRBLHcsYikmJnQuc29tZVByb3AoImhhbmRsZUtleURvd24iLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0LGsoOCwiQmFja3NwYWNlIikpfSkpKWEuYW5kcm9pZCYmYS5jaHJvbWUmJnQuZG9tT2JzZXJ2ZXIuc3VwcHJlc3NTZWxlY3Rpb25VcGRhdGVzKCk7ZWxzZXt2YXIgUyx4LEMsTSxPPWcuc3RhcnQsQT1nLmVuZEE7aWYody5zYW1lUGFyZW50KGIpJiZ3LnBhcmVudC5pbmxpbmVDb250ZW50KWlmKHcucG9zPT1iLnBvcylhLmllJiZhLmllX3ZlcnNpb248PTExJiYwPT13LnBhcmVudE9mZnNldCYmKHQuZG9tT2JzZXJ2ZXIuc3VwcHJlc3NTZWxlY3Rpb25VcGRhdGVzKCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gVnQodCl9KSwyMCkpLFM9dC5zdGF0ZS50ci5kZWxldGUoTyxBKSx4PXYucmVzb2x2ZShnLnN0YXJ0KS5tYXJrc0Fjcm9zcyh2LnJlc29sdmUoZy5lbmRBKSk7ZWxzZSBpZihnLmVuZEE9PWcuZW5kQiYmKE09di5yZXNvbHZlKGcuc3RhcnQpKSYmKEM9bmUody5wYXJlbnQuY29udGVudC5jdXQody5wYXJlbnRPZmZzZXQsYi5wYXJlbnRPZmZzZXQpLE0ucGFyZW50LmNvbnRlbnQuY3V0KE0ucGFyZW50T2Zmc2V0LGcuZW5kQS1NLnN0YXJ0KCkpKSkpUz10LnN0YXRlLnRyLCJhZGQiPT1DLnR5cGU/Uy5hZGRNYXJrKE8sQSxDLm1hcmspOlMucmVtb3ZlTWFyayhPLEEsQy5tYXJrKTtlbHNlIGlmKHcucGFyZW50LmNoaWxkKHcuaW5kZXgoKSkuaXNUZXh0JiZ3LmluZGV4KCk9PWIuaW5kZXgoKS0oYi50ZXh0T2Zmc2V0PzA6MSkpe3ZhciBUPXcucGFyZW50LnRleHRCZXR3ZWVuKHcucGFyZW50T2Zmc2V0LGIucGFyZW50T2Zmc2V0KTtpZih0LnNvbWVQcm9wKCJoYW5kbGVUZXh0SW5wdXQiLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0LE8sQSxUKX0pKSlyZXR1cm47Uz10LnN0YXRlLnRyLmluc2VydFRleHQoVCxPLEEpfWlmKFN8fChTPXQuc3RhdGUudHIucmVwbGFjZShPLEEsZC5kb2Muc2xpY2UoZy5zdGFydC1kLmZyb20sZy5lbmRCLWQuZnJvbSkpKSxkLnNlbCl7dmFyIE49ZWUodCxTLmRvYyxkLnNlbCk7TiYmUy5zZXRTZWxlY3Rpb24oTil9eCYmUy5lbnN1cmVNYXJrcyh4KSx0LmRpc3BhdGNoKFMuc2Nyb2xsSW50b1ZpZXcoKSl9fWVsc2UgaWYoIShvJiZoIGluc3RhbmNlb2Ygci5UZXh0U2VsZWN0aW9uJiYhaC5lbXB0eSYmaC4kaGVhZC5zYW1lUGFyZW50KGguJGFuY2hvcikpfHx0LmNvbXBvc2luZ3x8ZC5zZWwmJmQuc2VsLmFuY2hvciE9ZC5zZWwuaGVhZCl7aWYoZC5zZWwpe3ZhciBFPWVlKHQsdC5zdGF0ZS5kb2MsZC5zZWwpO0UmJiFFLmVxKHQuc3RhdGUuc2VsZWN0aW9uKSYmdC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldFNlbGVjdGlvbihFKSl9fWVsc2V7dmFyIF89dC5zdGF0ZSxSPV8uc2VsZWN0aW9uO3QuZGlzcGF0Y2goXy50ci5yZXBsYWNlU2VsZWN0aW9uV2l0aChfLnNjaGVtYS50ZXh0KF8uZG9jLnRleHRCZXR3ZWVuKFIuZnJvbSxSLnRvKSksITApLnNjcm9sbEludG9WaWV3KCkpfX19ZnVuY3Rpb24gZWUodCxlLG4pe3JldHVybiBNYXRoLm1heChuLmFuY2hvcixuLmhlYWQpPmUuY29udGVudC5zaXplP251bGw6VXQodCxlLnJlc29sdmUobi5hbmNob3IpLGUucmVzb2x2ZShuLmhlYWQpKX1mdW5jdGlvbiBuZSh0LGUpe2Zvcih2YXIgbixyLGksYT10LmZpcnN0Q2hpbGQubWFya3Mscz1lLmZpcnN0Q2hpbGQubWFya3MsYz1hLGw9cyx1PTA7dTxzLmxlbmd0aDt1KyspYz1zW3VdLnJlbW92ZUZyb21TZXQoYyk7Zm9yKHZhciBmPTA7ZjxhLmxlbmd0aDtmKyspbD1hW2ZdLnJlbW92ZUZyb21TZXQobCk7aWYoMT09Yy5sZW5ndGgmJjA9PWwubGVuZ3RoKXI9Y1swXSxuPSJhZGQiLGk9ZnVuY3Rpb24odCl7cmV0dXJuIHQubWFyayhyLmFkZFRvU2V0KHQubWFya3MpKX07ZWxzZXtpZigwIT1jLmxlbmd0aHx8MSE9bC5sZW5ndGgpcmV0dXJuIG51bGw7cj1sWzBdLG49InJlbW92ZSIsaT1mdW5jdGlvbih0KXtyZXR1cm4gdC5tYXJrKHIucmVtb3ZlRnJvbVNldCh0Lm1hcmtzKSl9fWZvcih2YXIgcD1bXSxoPTA7aDxlLmNoaWxkQ291bnQ7aCsrKXAucHVzaChpKGUuY2hpbGQoaCkpKTtpZihvLkZyYWdtZW50LmZyb20ocCkuZXEodCkpcmV0dXJue21hcms6cix0eXBlOm59fWZ1bmN0aW9uIHJlKHQsZSxuLHIsbyl7aWYoIXIucGFyZW50LmlzVGV4dGJsb2NrfHxuLWU8PW8ucG9zLXIucG9zfHxvZShyLCEwLCExKTxvLnBvcylyZXR1cm4hMTt2YXIgaT10LnJlc29sdmUoZSk7aWYoaS5wYXJlbnRPZmZzZXQ8aS5wYXJlbnQuY29udGVudC5zaXplfHwhaS5wYXJlbnQuaXNUZXh0YmxvY2spcmV0dXJuITE7dmFyIGE9dC5yZXNvbHZlKG9lKGksITAsITApKTtyZXR1cm4hKCFhLnBhcmVudC5pc1RleHRibG9ja3x8YS5wb3M+bnx8b2UoYSwhMCwhMSk8bikmJnIucGFyZW50LmNvbnRlbnQuY3V0KHIucGFyZW50T2Zmc2V0KS5lcShhLnBhcmVudC5jb250ZW50KX1mdW5jdGlvbiBvZSh0LGUsbil7dmFyIHI9dC5kZXB0aCxvPWU/dC5lbmQoKTp0LnBvczt3aGlsZShyPjAmJihlfHx0LmluZGV4QWZ0ZXIocik9PXQubm9kZShyKS5jaGlsZENvdW50KSlyLS0sbysrLGU9ITE7aWYobil7dmFyIGk9dC5ub2RlKHIpLm1heWJlQ2hpbGQodC5pbmRleEFmdGVyKHIpKTt3aGlsZShpJiYhaS5pc0xlYWYpaT1pLmZpcnN0Q2hpbGQsbysrfXJldHVybiBvfWZ1bmN0aW9uIGllKHQsZSxuLHIsbyl7dmFyIGk9dC5maW5kRGlmZlN0YXJ0KGUsbik7aWYobnVsbD09aSlyZXR1cm4gbnVsbDt2YXIgYT10LmZpbmREaWZmRW5kKGUsbit0LnNpemUsbitlLnNpemUpLHM9YS5hLGM9YS5iO2lmKCJlbmQiPT1vKXt2YXIgbD1NYXRoLm1heCgwLGktTWF0aC5taW4ocyxjKSk7ci09cytsLWl9aWYoczxpJiZ0LnNpemU8ZS5zaXplKXt2YXIgdT1yPD1pJiZyPj1zP2ktcjowO2ktPXUsYz1pKyhjLXMpLHM9aX1lbHNlIGlmKGM8aSl7dmFyIGY9cjw9aSYmcj49Yz9pLXI6MDtpLT1mLHM9aSsocy1jKSxjPWl9cmV0dXJue3N0YXJ0OmksZW5kQTpzLGVuZEI6Y319ZnVuY3Rpb24gYWUodCxlKXt2YXIgbj1bXSxyPWUuY29udGVudCxpPWUub3BlblN0YXJ0LGE9ZS5vcGVuRW5kO3doaWxlKGk+MSYmYT4xJiYxPT1yLmNoaWxkQ291bnQmJjE9PXIuZmlyc3RDaGlsZC5jaGlsZENvdW50KXtpLS0sYS0tO3ZhciBzPXIuZmlyc3RDaGlsZDtuLnB1c2gocy50eXBlLm5hbWUscy50eXBlLmhhc1JlcXVpcmVkQXR0cnMoKT9zLmF0dHJzOm51bGwpLHI9cy5jb250ZW50fXZhciBjPXQuc29tZVByb3AoImNsaXBib2FyZFNlcmlhbGl6ZXIiKXx8by5ET01TZXJpYWxpemVyLmZyb21TY2hlbWEodC5zdGF0ZS5zY2hlbWEpLGw9bWUoKSx1PWwuY3JlYXRlRWxlbWVudCgiZGl2Iik7dS5hcHBlbmRDaGlsZChjLnNlcmlhbGl6ZUZyYWdtZW50KHIse2RvY3VtZW50Omx9KSk7dmFyIGYscD11LmZpcnN0Q2hpbGQ7d2hpbGUocCYmMT09cC5ub2RlVHlwZSYmKGY9ZGVbcC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkpe2Zvcih2YXIgaD1mLmxlbmd0aC0xO2g+PTA7aC0tKXt2YXIgZD1sLmNyZWF0ZUVsZW1lbnQoZltoXSk7d2hpbGUodS5maXJzdENoaWxkKWQuYXBwZW5kQ2hpbGQodS5maXJzdENoaWxkKTt1LmFwcGVuZENoaWxkKGQpfXA9dS5maXJzdENoaWxkfXAmJjE9PXAubm9kZVR5cGUmJnAuc2V0QXR0cmlidXRlKCJkYXRhLXBtLXNsaWNlIixpKyIgIithKyIgIitKU09OLnN0cmluZ2lmeShuKSk7dmFyIHY9dC5zb21lUHJvcCgiY2xpcGJvYXJkVGV4dFNlcmlhbGl6ZXIiLChmdW5jdGlvbih0KXtyZXR1cm4gdChlKX0pKXx8ZS5jb250ZW50LnRleHRCZXR3ZWVuKDAsZS5jb250ZW50LnNpemUsIlxuXG4iKTtyZXR1cm57ZG9tOnUsdGV4dDp2fX1mdW5jdGlvbiBzZSh0LGUsbixyLGkpe3ZhciBhLHMsYz1pLnBhcmVudC50eXBlLnNwZWMuY29kZTtpZighbiYmIWUpcmV0dXJuIG51bGw7dmFyIGw9ZSYmKHJ8fGN8fCFuKTtpZihsKXtpZih0LnNvbWVQcm9wKCJ0cmFuc2Zvcm1QYXN0ZWRUZXh0IiwoZnVuY3Rpb24odCl7ZT10KGUpfSkpLGMpcmV0dXJuIG5ldyBvLlNsaWNlKG8uRnJhZ21lbnQuZnJvbSh0LnN0YXRlLnNjaGVtYS50ZXh0KGUpKSwwLDApO3ZhciB1PXQuc29tZVByb3AoImNsaXBib2FyZFRleHRQYXJzZXIiLChmdW5jdGlvbih0KXtyZXR1cm4gdChlLGkpfSkpO3U/cz11OihhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGUudHJpbSgpLnNwbGl0KC8oPzpcclxuP3xcbikrLykuZm9yRWFjaCgoZnVuY3Rpb24odCl7YS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIikpLnRleHRDb250ZW50PXR9KSkpfWVsc2UgdC5zb21lUHJvcCgidHJhbnNmb3JtUGFzdGVkSFRNTCIsKGZ1bmN0aW9uKHQpe249dChuKX0pKSxhPWdlKG4pO3ZhciBmPWEmJmEucXVlcnlTZWxlY3RvcigiW2RhdGEtcG0tc2xpY2VdIikscD1mJiYvXihcZCspIChcZCspICguKikvLmV4ZWMoZi5nZXRBdHRyaWJ1dGUoImRhdGEtcG0tc2xpY2UiKSk7aWYoIXMpe3ZhciBoPXQuc29tZVByb3AoImNsaXBib2FyZFBhcnNlciIpfHx0LnNvbWVQcm9wKCJkb21QYXJzZXIiKXx8by5ET01QYXJzZXIuZnJvbVNjaGVtYSh0LnN0YXRlLnNjaGVtYSk7cz1oLnBhcnNlU2xpY2UoYSx7cHJlc2VydmVXaGl0ZXNwYWNlOiEoIWwmJiFwKSxjb250ZXh0Oml9KX1yZXR1cm4gcz1wP3llKGhlKHMsK3BbMV0sK3BbMl0pLHBbM10pOm8uU2xpY2UubWF4T3BlbihjZShzLmNvbnRlbnQsaSksITEpLHQuc29tZVByb3AoInRyYW5zZm9ybVBhc3RlZCIsKGZ1bmN0aW9uKHQpe3M9dChzKX0pKSxzfWZ1bmN0aW9uIGNlKHQsZSl7aWYodC5jaGlsZENvdW50PDIpcmV0dXJuIHQ7Zm9yKHZhciBuPWZ1bmN0aW9uKG4pe3ZhciByPWUubm9kZShuKSxpPXIuY29udGVudE1hdGNoQXQoZS5pbmRleChuKSksYT12b2lkIDAscz1bXTtpZih0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKHMpe3ZhciBlLG49aS5maW5kV3JhcHBpbmcodC50eXBlKTtpZighbilyZXR1cm4gcz1udWxsO2lmKGU9cy5sZW5ndGgmJmEubGVuZ3RoJiZ1ZShuLGEsdCxzW3MubGVuZ3RoLTFdLDApKXNbcy5sZW5ndGgtMV09ZTtlbHNle3MubGVuZ3RoJiYoc1tzLmxlbmd0aC0xXT1mZShzW3MubGVuZ3RoLTFdLGEubGVuZ3RoKSk7dmFyIHI9bGUodCxuKTtzLnB1c2gociksaT1pLm1hdGNoVHlwZShyLnR5cGUsci5hdHRycyksYT1ufX19KSkscylyZXR1cm57djpvLkZyYWdtZW50LmZyb20ocyl9fSxyPWUuZGVwdGg7cj49MDtyLS0pe3ZhciBpPW4ocik7aWYoaSlyZXR1cm4gaS52fXJldHVybiB0fWZ1bmN0aW9uIGxlKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0wKTtmb3IodmFyIHI9ZS5sZW5ndGgtMTtyPj1uO3ItLSl0PWVbcl0uY3JlYXRlKG51bGwsby5GcmFnbWVudC5mcm9tKHQpKTtyZXR1cm4gdH1mdW5jdGlvbiB1ZSh0LGUsbixyLGkpe2lmKGk8dC5sZW5ndGgmJmk8ZS5sZW5ndGgmJnRbaV09PWVbaV0pe3ZhciBhPXVlKHQsZSxuLHIubGFzdENoaWxkLGkrMSk7aWYoYSlyZXR1cm4gci5jb3B5KHIuY29udGVudC5yZXBsYWNlQ2hpbGQoci5jaGlsZENvdW50LTEsYSkpO3ZhciBzPXIuY29udGVudE1hdGNoQXQoci5jaGlsZENvdW50KTtpZihzLm1hdGNoVHlwZShpPT10Lmxlbmd0aC0xP24udHlwZTp0W2krMV0pKXJldHVybiByLmNvcHkoci5jb250ZW50LmFwcGVuZChvLkZyYWdtZW50LmZyb20obGUobix0LGkrMSkpKSl9fWZ1bmN0aW9uIGZlKHQsZSl7aWYoMD09ZSlyZXR1cm4gdDt2YXIgbj10LmNvbnRlbnQucmVwbGFjZUNoaWxkKHQuY2hpbGRDb3VudC0xLGZlKHQubGFzdENoaWxkLGUtMSkpLHI9dC5jb250ZW50TWF0Y2hBdCh0LmNoaWxkQ291bnQpLmZpbGxCZWZvcmUoby5GcmFnbWVudC5lbXB0eSwhMCk7cmV0dXJuIHQuY29weShuLmFwcGVuZChyKSl9ZnVuY3Rpb24gcGUodCxlLG4scixpLGEpe3ZhciBzPWU8MD90LmZpcnN0Q2hpbGQ6dC5sYXN0Q2hpbGQsYz1zLmNvbnRlbnQ7cmV0dXJuIGk8ci0xJiYoYz1wZShjLGUsbixyLGkrMSxhKSksaT49biYmKGM9ZTwwP3MuY29udGVudE1hdGNoQXQoMCkuZmlsbEJlZm9yZShjLHQuY2hpbGRDb3VudD4xfHxhPD1pKS5hcHBlbmQoYyk6Yy5hcHBlbmQocy5jb250ZW50TWF0Y2hBdChzLmNoaWxkQ291bnQpLmZpbGxCZWZvcmUoby5GcmFnbWVudC5lbXB0eSwhMCkpKSx0LnJlcGxhY2VDaGlsZChlPDA/MDp0LmNoaWxkQ291bnQtMSxzLmNvcHkoYykpfWZ1bmN0aW9uIGhlKHQsZSxuKXtyZXR1cm4gZTx0Lm9wZW5TdGFydCYmKHQ9bmV3IG8uU2xpY2UocGUodC5jb250ZW50LC0xLGUsdC5vcGVuU3RhcnQsMCx0Lm9wZW5FbmQpLGUsdC5vcGVuRW5kKSksbjx0Lm9wZW5FbmQmJih0PW5ldyBvLlNsaWNlKHBlKHQuY29udGVudCwxLG4sdC5vcGVuRW5kLDAsMCksdC5vcGVuU3RhcnQsbikpLHR9dmFyIGRlPXt0aGVhZDpbInRhYmxlIl0sY29sZ3JvdXA6WyJ0YWJsZSJdLGNvbDpbInRhYmxlIiwiY29sZ3JvdXAiXSx0cjpbInRhYmxlIiwidGJvZHkiXSx0ZDpbInRhYmxlIiwidGJvZHkiLCJ0ciJdLHRoOlsidGFibGUiLCJ0Ym9keSIsInRyIl19LHZlPW51bGw7ZnVuY3Rpb24gbWUoKXtyZXR1cm4gdmV8fCh2ZT1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoInRpdGxlIikpfWZ1bmN0aW9uIGdlKHQpe3ZhciBlPS8oXHMqPG1ldGEgW14+XSo+KSovLmV4ZWModCk7ZSYmKHQ9dC5zbGljZShlWzBdLmxlbmd0aCkpO3ZhciBuLHI9bWUoKS5jcmVhdGVFbGVtZW50KCJkaXYiKSxvPS8oPzo8bWV0YSBbXj5dKj4pKjwoW2Etel1bXj5cc10rKS9pLmV4ZWModCksaT0wOyhuPW8mJmRlW29bMV0udG9Mb3dlckNhc2UoKV0pJiYodD1uLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIjwiK3QrIj4ifSkpLmpvaW4oIiIpK3Qrbi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiI8LyIrdCsiPiJ9KSkucmV2ZXJzZSgpLmpvaW4oIiIpLGk9bi5sZW5ndGgpLHIuaW5uZXJIVE1MPXQ7Zm9yKHZhciBhPTA7YTxpO2ErKylyPXIuZmlyc3RDaGlsZDtyZXR1cm4gcn1mdW5jdGlvbiB5ZSh0LGUpe2lmKCF0LnNpemUpcmV0dXJuIHQ7dmFyIG4scj10LmNvbnRlbnQuZmlyc3RDaGlsZC50eXBlLnNjaGVtYTt0cnl7bj1KU09OLnBhcnNlKGUpfWNhdGNoKHUpe3JldHVybiB0fWZvcih2YXIgaT10LmNvbnRlbnQsYT10Lm9wZW5TdGFydCxzPXQub3BlbkVuZCxjPW4ubGVuZ3RoLTI7Yz49MDtjLT0yKXt2YXIgbD1yLm5vZGVzW25bY11dO2lmKCFsfHxsLmhhc1JlcXVpcmVkQXR0cnMoKSlicmVhaztpPW8uRnJhZ21lbnQuZnJvbShsLmNyZWF0ZShuW2MrMV0saSkpLGErKyxzKyt9cmV0dXJuIG5ldyBvLlNsaWNlKGksYSxzKX12YXIgd2U9e2NoaWxkTGlzdDohMCxjaGFyYWN0ZXJEYXRhOiEwLGF0dHJpYnV0ZXM6ITAsc3VidHJlZTohMCxjaGFyYWN0ZXJEYXRhT2xkVmFsdWU6ITB9LGJlPWEuaWUmJmEuaWVfdmVyc2lvbjw9MTEsa2U9ZnVuY3Rpb24oKXt0aGlzLmFuY2hvck5vZGU9dGhpcy5hbmNob3JPZmZzZXQ9dGhpcy5mb2N1c05vZGU9dGhpcy5mb2N1c09mZnNldD1udWxsfTtrZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuYW5jaG9yTm9kZT10LmFuY2hvck5vZGUsdGhpcy5hbmNob3JPZmZzZXQ9dC5hbmNob3JPZmZzZXQsdGhpcy5mb2N1c05vZGU9dC5mb2N1c05vZGUsdGhpcy5mb2N1c09mZnNldD10LmZvY3VzT2Zmc2V0fSxrZS5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHQuYW5jaG9yTm9kZT09dGhpcy5hbmNob3JOb2RlJiZ0LmFuY2hvck9mZnNldD09dGhpcy5hbmNob3JPZmZzZXQmJnQuZm9jdXNOb2RlPT10aGlzLmZvY3VzTm9kZSYmdC5mb2N1c09mZnNldD09dGhpcy5mb2N1c09mZnNldH07dmFyIFNlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0aGlzLnZpZXc9dCx0aGlzLmhhbmRsZURPTUNoYW5nZT1lLHRoaXMucXVldWU9W10sdGhpcy5mbHVzaGluZ1Nvb249ITEsdGhpcy5vYnNlcnZlcj13aW5kb3cuTXV0YXRpb25PYnNlcnZlciYmbmV3IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyKChmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyluLnF1ZXVlLnB1c2godFtlXSk7YS5pZSYmYS5pZV92ZXJzaW9uPD0xMSYmdC5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4iY2hpbGRMaXN0Ij09dC50eXBlJiYxPT10LnJlbW92ZWROb2Rlcy5sZW5ndGgmJnQucmVtb3ZlZE5vZGVzWzBdLnBhcmVudE5vZGU9PXQudGFyZ2V0fHwiY2hhcmFjdGVyRGF0YSI9PXQudHlwZSYmdC5vbGRWYWx1ZS5sZW5ndGg+dC50YXJnZXQubm9kZVZhbHVlLmxlbmd0aH0pKT9uLmZsdXNoU29vbigpOm4uZmx1c2goKX0pKSx0aGlzLmN1cnJlbnRTZWxlY3Rpb249bmV3IGtlLGJlJiYodGhpcy5vbkNoYXJEYXRhPWZ1bmN0aW9uKHQpe24ucXVldWUucHVzaCh7dGFyZ2V0OnQudGFyZ2V0LHR5cGU6ImNoYXJhY3RlckRhdGEiLG9sZFZhbHVlOnQucHJldlZhbHVlfSksbi5mbHVzaFNvb24oKX0pLHRoaXMub25TZWxlY3Rpb25DaGFuZ2U9dGhpcy5vblNlbGVjdGlvbkNoYW5nZS5iaW5kKHRoaXMpLHRoaXMuc3VwcHJlc3NpbmdTZWxlY3Rpb25VcGRhdGVzPSExfTtTZS5wcm90b3R5cGUuZmx1c2hTb29uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmZsdXNoaW5nU29vbnx8KHRoaXMuZmx1c2hpbmdTb29uPSEwLHdpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuZmx1c2hpbmdTb29uPSExLHQuZmx1c2goKX0pLDIwKSl9LFNlLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe3RoaXMub2JzZXJ2ZXImJnRoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnZpZXcuZG9tLHdlKSxiZSYmdGhpcy52aWV3LmRvbS5hZGRFdmVudExpc3RlbmVyKCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQiLHRoaXMub25DaGFyRGF0YSksdGhpcy5jb25uZWN0U2VsZWN0aW9uKCl9LFNlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMub2JzZXJ2ZXIudGFrZVJlY29yZHMoKTtpZihlLmxlbmd0aCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdC5xdWV1ZS5wdXNoKGVbbl0pO3dpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0LmZsdXNoKCl9KSwyMCl9dGhpcy5vYnNlcnZlciYmdGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCksYmUmJnRoaXMudmlldy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIix0aGlzLm9uQ2hhckRhdGEpLHRoaXMuZGlzY29ubmVjdFNlbGVjdGlvbigpfSxTZS5wcm90b3R5cGUuY29ubmVjdFNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMudmlldy5kb20ub3duZXJEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLHRoaXMub25TZWxlY3Rpb25DaGFuZ2UpfSxTZS5wcm90b3R5cGUuZGlzY29ubmVjdFNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMudmlldy5kb20ub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLHRoaXMub25TZWxlY3Rpb25DaGFuZ2UpfSxTZS5wcm90b3R5cGUuc3VwcHJlc3NTZWxlY3Rpb25VcGRhdGVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcz0hMCxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0LnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcz0hMX0pLDUwKX0sU2UucHJvdG90eXBlLm9uU2VsZWN0aW9uQ2hhbmdlPWZ1bmN0aW9uKCl7aWYoR3QodGhpcy52aWV3KSl7aWYodGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMpcmV0dXJuIFZ0KHRoaXMudmlldyk7aWYoYS5pZSYmYS5pZV92ZXJzaW9uPD0xMSYmIXRoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24uZW1wdHkpe3ZhciB0PXRoaXMudmlldy5yb290LmdldFNlbGVjdGlvbigpO2lmKHQuZm9jdXNOb2RlJiZ2KHQuZm9jdXNOb2RlLHQuZm9jdXNPZmZzZXQsdC5hbmNob3JOb2RlLHQuYW5jaG9yT2Zmc2V0KSlyZXR1cm4gdGhpcy5mbHVzaFNvb24oKX10aGlzLmZsdXNoKCl9fSxTZS5wcm90b3R5cGUuc2V0Q3VyU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50U2VsZWN0aW9uLnNldCh0aGlzLnZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKSl9LFNlLnByb3RvdHlwZS5pZ25vcmVTZWxlY3Rpb25DaGFuZ2U9ZnVuY3Rpb24odCl7aWYoMD09dC5yYW5nZUNvdW50KXJldHVybiEwO3ZhciBlPXQuZ2V0UmFuZ2VBdCgwKS5jb21tb25BbmNlc3RvckNvbnRhaW5lcixuPXRoaXMudmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKGUpO3JldHVybiBuJiZuLmlnbm9yZU11dGF0aW9uKHt0eXBlOiJzZWxlY3Rpb24iLHRhcmdldDozPT1lLm5vZGVUeXBlP2UucGFyZW50Tm9kZTplfSl9LFNlLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodGhpcy52aWV3LmRvY1ZpZXcmJiF0aGlzLmZsdXNoaW5nU29vbil7dmFyIGU9dGhpcy5vYnNlcnZlci50YWtlUmVjb3JkcygpO3RoaXMucXVldWUubGVuZ3RoJiYoZT10aGlzLnF1ZXVlLmNvbmNhdChlKSx0aGlzLnF1ZXVlLmxlbmd0aD0wKTt2YXIgbj10aGlzLnZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKSxyPSF0aGlzLnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcyYmIXRoaXMuY3VycmVudFNlbGVjdGlvbi5lcShuKSYmWHQodGhpcy52aWV3KSYmIXRoaXMuaWdub3JlU2VsZWN0aW9uQ2hhbmdlKG4pLG89LTEsaT0tMSxhPSExO2lmKHRoaXMudmlldy5lZGl0YWJsZSlmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKyl7dmFyIGM9dC5yZWdpc3Rlck11dGF0aW9uKGVbc10pO2MmJihvPW88MD9jLmZyb206TWF0aC5taW4oYy5mcm9tLG8pLGk9aTwwP2MudG86TWF0aC5tYXgoYy50byxpKSxjLnR5cGVPdmVyJiYhdC52aWV3LmNvbXBvc2luZyYmKGE9ITApKX0obz4tMXx8cikmJihvPi0xJiZ0aGlzLnZpZXcuZG9jVmlldy5tYXJrRGlydHkobyxpKSx0aGlzLmhhbmRsZURPTUNoYW5nZShvLGksYSksdGhpcy52aWV3LmRvY1ZpZXcuZGlydHk/dGhpcy52aWV3LnVwZGF0ZVN0YXRlKHRoaXMudmlldy5zdGF0ZSk6dGhpcy5jdXJyZW50U2VsZWN0aW9uLmVxKG4pfHxWdCh0aGlzLnZpZXcpKX19LFNlLnByb3RvdHlwZS5yZWdpc3Rlck11dGF0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKHQudGFyZ2V0KTtpZigiYXR0cmlidXRlcyI9PXQudHlwZSYmKGU9PXRoaXMudmlldy5kb2NWaWV3fHwiY29udGVudGVkaXRhYmxlIj09dC5hdHRyaWJ1dGVOYW1lfHwic3R5bGUiPT10LmF0dHJpYnV0ZU5hbWUmJiF0Lm9sZFZhbHVlJiYhdC50YXJnZXQuZ2V0QXR0cmlidXRlKCJzdHlsZSIpKSlyZXR1cm4gbnVsbDtpZighZXx8ZS5pZ25vcmVNdXRhdGlvbih0KSlyZXR1cm4gbnVsbDtpZigiY2hpbGRMaXN0Ij09dC50eXBlKXt2YXIgbj10LnByZXZpb3VzU2libGluZyxyPXQubmV4dFNpYmxpbmc7aWYoYS5pZSYmYS5pZV92ZXJzaW9uPD0xMSl7d2hpbGUobiYmIkJSIj09bi5ub2RlTmFtZSluPW4ucHJldmlvdXNTaWJsaW5nO3doaWxlKHImJiJCUiI9PXIubm9kZU5hbWUpcj1yLnByZXZpb3VzU2libGluZ312YXIgbz1uJiZuLnBhcmVudE5vZGU9PXQudGFyZ2V0P3AobikrMTowLGk9ZS5sb2NhbFBvc0Zyb21ET00odC50YXJnZXQsbywtMSkscz1yJiZyLnBhcmVudE5vZGU9PXQudGFyZ2V0P3Aocik6dC50YXJnZXQuY2hpbGROb2Rlcy5sZW5ndGgsYz1lLmxvY2FsUG9zRnJvbURPTSh0LnRhcmdldCxzLDEpO3JldHVybntmcm9tOmksdG86Y319cmV0dXJuImF0dHJpYnV0ZXMiPT10LnR5cGU/e2Zyb206ZS5wb3NBdFN0YXJ0LWUuYm9yZGVyLHRvOmUucG9zQXRFbmQrZS5ib3JkZXJ9Ontmcm9tOmUucG9zQXRTdGFydCx0bzplLnBvc0F0RW5kLHR5cGVPdmVyOnQudGFyZ2V0Lm5vZGVWYWx1ZT09dC5vbGRWYWx1ZX19O3ZhciB4ZT17fSxDZT17fTtmdW5jdGlvbiBNZSh0KXt0LnNoaWZ0S2V5PSExLHQubW91c2VEb3duPW51bGwsdC5sYXN0S2V5Q29kZT1udWxsLHQubGFzdEtleUNvZGVUaW1lPTAsdC5sYXN0Q2xpY2s9e3RpbWU6MCx4OjAseTowLHR5cGU6IiJ9LHQubGFzdFNlbGVjdGlvbk9yaWdpbj1udWxsLHQubGFzdFNlbGVjdGlvblRpbWU9MCx0LmNvbXBvc2luZz0hMSx0LmNvbXBvc2luZ1RpbWVvdXQ9bnVsbCx0LmNvbXBvc2l0aW9uTm9kZXM9W10sdC5jb21wb3NpdGlvbkVuZGVkQXQ9LTJlOCx0LmRvbU9ic2VydmVyPW5ldyBTZSh0LChmdW5jdGlvbihlLG4scil7cmV0dXJuIHRlKHQsZSxuLHIpfSkpLHQuZG9tT2JzZXJ2ZXIuc3RhcnQoKSx0LmRvbUNoYW5nZUNvdW50PTAsdC5ldmVudEhhbmRsZXJzPU9iamVjdC5jcmVhdGUobnVsbCk7dmFyIGU9ZnVuY3Rpb24oZSl7dmFyIG49eGVbZV07dC5kb20uYWRkRXZlbnRMaXN0ZW5lcihlLHQuZXZlbnRIYW5kbGVyc1tlXT1mdW5jdGlvbihlKXshRWUodCxlKXx8TmUodCxlKXx8IXQuZWRpdGFibGUmJmUudHlwZSBpbiBDZXx8bih0LGUpfSl9O2Zvcih2YXIgbiBpbiB4ZSllKG4pO2Euc2FmYXJpJiZ0LmRvbS5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9KSksVGUodCl9ZnVuY3Rpb24gT2UodCxlKXt0Lmxhc3RTZWxlY3Rpb25PcmlnaW49ZSx0Lmxhc3RTZWxlY3Rpb25UaW1lPURhdGUubm93KCl9ZnVuY3Rpb24gQWUodCl7Zm9yKHZhciBlIGluIHQuZG9tT2JzZXJ2ZXIuc3RvcCgpLHQuZXZlbnRIYW5kbGVycyl0LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKGUsdC5ldmVudEhhbmRsZXJzW2VdKTtjbGVhclRpbWVvdXQodC5jb21wb3NpbmdUaW1lb3V0KX1mdW5jdGlvbiBUZSh0KXt0LnNvbWVQcm9wKCJoYW5kbGVET01FdmVudHMiLChmdW5jdGlvbihlKXtmb3IodmFyIG4gaW4gZSl0LmV2ZW50SGFuZGxlcnNbbl18fHQuZG9tLmFkZEV2ZW50TGlzdGVuZXIobix0LmV2ZW50SGFuZGxlcnNbbl09ZnVuY3Rpb24oZSl7cmV0dXJuIE5lKHQsZSl9KX0pKX1mdW5jdGlvbiBOZSh0LGUpe3JldHVybiB0LnNvbWVQcm9wKCJoYW5kbGVET01FdmVudHMiLChmdW5jdGlvbihuKXt2YXIgcj1uW2UudHlwZV07cmV0dXJuISFyJiYocih0LGUpfHxlLmRlZmF1bHRQcmV2ZW50ZWQpfSkpfWZ1bmN0aW9uIEVlKHQsZSl7aWYoIWUuYnViYmxlcylyZXR1cm4hMDtpZihlLmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuITE7Zm9yKHZhciBuPWUudGFyZ2V0O24hPXQuZG9tO249bi5wYXJlbnROb2RlKWlmKCFufHwxMT09bi5ub2RlVHlwZXx8bi5wbVZpZXdEZXNjJiZuLnBtVmlld0Rlc2Muc3RvcEV2ZW50KGUpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIF9lKHQsZSl7TmUodCxlKXx8IXhlW2UudHlwZV18fCF0LmVkaXRhYmxlJiZlLnR5cGUgaW4gQ2V8fHhlW2UudHlwZV0odCxlKX1mdW5jdGlvbiBSZSh0KXtyZXR1cm57bGVmdDp0LmNsaWVudFgsdG9wOnQuY2xpZW50WX19ZnVuY3Rpb24gRGUodCxlKXt2YXIgbj1lLngtdC5jbGllbnRYLHI9ZS55LXQuY2xpZW50WTtyZXR1cm4gbipuK3IqcjwxMDB9ZnVuY3Rpb24gUGUodCxlLG4scixvKXtpZigtMT09cilyZXR1cm4hMTtmb3IodmFyIGk9dC5zdGF0ZS5kb2MucmVzb2x2ZShyKSxhPWZ1bmN0aW9uKHIpe2lmKHQuc29tZVByb3AoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIHI+aS5kZXB0aD9lKHQsbixpLm5vZGVBZnRlcixpLmJlZm9yZShyKSxvLCEwKTplKHQsbixpLm5vZGUociksaS5iZWZvcmUociksbywhMSl9KSkpcmV0dXJue3Y6ITB9fSxzPWkuZGVwdGgrMTtzPjA7cy0tKXt2YXIgYz1hKHMpO2lmKGMpcmV0dXJuIGMudn1yZXR1cm4hMX1mdW5jdGlvbiB6ZSh0LGUsbil7dC5mb2N1c2VkfHx0LmZvY3VzKCk7dmFyIHI9dC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oZSk7InBvaW50ZXIiPT1uJiZyLnNldE1ldGEoInBvaW50ZXIiLCEwKSx0LmRpc3BhdGNoKHIpfWZ1bmN0aW9uIEllKHQsZSl7aWYoLTE9PWUpcmV0dXJuITE7dmFyIG49dC5zdGF0ZS5kb2MucmVzb2x2ZShlKSxvPW4ubm9kZUFmdGVyO3JldHVybiEhKG8mJm8uaXNBdG9tJiZyLk5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlKG8pKSYmKHplKHQsbmV3IHIuTm9kZVNlbGVjdGlvbihuKSwicG9pbnRlciIpLCEwKX1mdW5jdGlvbiBqZSh0LGUpe2lmKC0xPT1lKXJldHVybiExO3ZhciBuLG8saT10LnN0YXRlLnNlbGVjdGlvbjtpIGluc3RhbmNlb2Ygci5Ob2RlU2VsZWN0aW9uJiYobj1pLm5vZGUpO2Zvcih2YXIgYT10LnN0YXRlLmRvYy5yZXNvbHZlKGUpLHM9YS5kZXB0aCsxO3M+MDtzLS0pe3ZhciBjPXM+YS5kZXB0aD9hLm5vZGVBZnRlcjphLm5vZGUocyk7aWYoci5Ob2RlU2VsZWN0aW9uLmlzU2VsZWN0YWJsZShjKSl7bz1uJiZpLiRmcm9tLmRlcHRoPjAmJnM+PWkuJGZyb20uZGVwdGgmJmEuYmVmb3JlKGkuJGZyb20uZGVwdGgrMSk9PWkuJGZyb20ucG9zP2EuYmVmb3JlKGkuJGZyb20uZGVwdGgpOmEuYmVmb3JlKHMpO2JyZWFrfX1yZXR1cm4gbnVsbCE9byYmKHplKHQsci5Ob2RlU2VsZWN0aW9uLmNyZWF0ZSh0LnN0YXRlLmRvYyxvKSwicG9pbnRlciIpLCEwKX1mdW5jdGlvbiBCZSh0LGUsbixyLG8pe3JldHVybiBQZSh0LCJoYW5kbGVDbGlja09uIixlLG4scil8fHQuc29tZVByb3AoImhhbmRsZUNsaWNrIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlLHIpfSkpfHwobz9qZSh0LG4pOkllKHQsbikpfWZ1bmN0aW9uICRlKHQsZSxuLHIpe3JldHVybiBQZSh0LCJoYW5kbGVEb3VibGVDbGlja09uIixlLG4scil8fHQuc29tZVByb3AoImhhbmRsZURvdWJsZUNsaWNrIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlLHIpfSkpfWZ1bmN0aW9uIEZlKHQsZSxuLHIpe3JldHVybiBQZSh0LCJoYW5kbGVUcmlwbGVDbGlja09uIixlLG4scil8fHQuc29tZVByb3AoImhhbmRsZVRyaXBsZUNsaWNrIiwoZnVuY3Rpb24obil7cmV0dXJuIG4odCxlLHIpfSkpfHxWZSh0LG4pfWZ1bmN0aW9uIFZlKHQsZSl7dmFyIG49dC5zdGF0ZS5kb2M7aWYoLTE9PWUpcmV0dXJuISFuLmlubGluZUNvbnRlbnQmJih6ZSh0LHIuVGV4dFNlbGVjdGlvbi5jcmVhdGUobiwwLG4uY29udGVudC5zaXplKSwicG9pbnRlciIpLCEwKTtmb3IodmFyIG89bi5yZXNvbHZlKGUpLGk9by5kZXB0aCsxO2k+MDtpLS0pe3ZhciBhPWk+by5kZXB0aD9vLm5vZGVBZnRlcjpvLm5vZGUoaSkscz1vLmJlZm9yZShpKTtpZihhLmlubGluZUNvbnRlbnQpemUodCxyLlRleHRTZWxlY3Rpb24uY3JlYXRlKG4scysxLHMrMSthLmNvbnRlbnQuc2l6ZSksInBvaW50ZXIiKTtlbHNle2lmKCFyLk5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlKGEpKWNvbnRpbnVlO3plKHQsci5Ob2RlU2VsZWN0aW9uLmNyZWF0ZShuLHMpLCJwb2ludGVyIil9cmV0dXJuITB9fWZ1bmN0aW9uIExlKHQpe3JldHVybiBVZSh0KX1DZS5rZXlkb3duPWZ1bmN0aW9uKHQsZSl7dC5zaGlmdEtleT0xNj09ZS5rZXlDb2RlfHxlLnNoaWZ0S2V5LEplKHQsZSl8fCh0Lmxhc3RLZXlDb2RlPWUua2V5Q29kZSx0Lmxhc3RLZXlDb2RlVGltZT1EYXRlLm5vdygpLHQuc29tZVByb3AoImhhbmRsZUtleURvd24iLChmdW5jdGlvbihuKXtyZXR1cm4gbih0LGUpfSkpfHwkdCh0LGUpP2UucHJldmVudERlZmF1bHQoKTpPZSh0LCJrZXkiKSl9LENlLmtleXVwPWZ1bmN0aW9uKHQsZSl7MTY9PWUua2V5Q29kZSYmKHQuc2hpZnRLZXk9ITEpfSxDZS5rZXlwcmVzcz1mdW5jdGlvbih0LGUpe2lmKCEoSmUodCxlKXx8IWUuY2hhckNvZGV8fGUuY3RybEtleSYmIWUuYWx0S2V5fHxhLm1hYyYmZS5tZXRhS2V5KSlpZih0LnNvbWVQcm9wKCJoYW5kbGVLZXlQcmVzcyIsKGZ1bmN0aW9uKG4pe3JldHVybiBuKHQsZSl9KSkpZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2V7dmFyIG49dC5zdGF0ZS5zZWxlY3Rpb247aWYoIShuIGluc3RhbmNlb2Ygci5UZXh0U2VsZWN0aW9uKXx8IW4uJGZyb20uc2FtZVBhcmVudChuLiR0bykpe3ZhciBvPVN0cmluZy5mcm9tQ2hhckNvZGUoZS5jaGFyQ29kZSk7dC5zb21lUHJvcCgiaGFuZGxlVGV4dElucHV0IiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCxuLiRmcm9tLnBvcyxuLiR0by5wb3Msbyl9KSl8fHQuZGlzcGF0Y2godC5zdGF0ZS50ci5pbnNlcnRUZXh0KG8pLnNjcm9sbEludG9WaWV3KCkpLGUucHJldmVudERlZmF1bHQoKX19fTt2YXIgSGU9YS5tYWM/Im1ldGFLZXkiOiJjdHJsS2V5Ijt4ZS5tb3VzZWRvd249ZnVuY3Rpb24odCxlKXt0LnNoaWZ0S2V5PWUuc2hpZnRLZXk7dmFyIG49TGUodCkscj1EYXRlLm5vdygpLG89InNpbmdsZUNsaWNrIjtyLXQubGFzdENsaWNrLnRpbWU8NTAwJiZEZShlLHQubGFzdENsaWNrKSYmIWVbSGVdJiYoInNpbmdsZUNsaWNrIj09dC5sYXN0Q2xpY2sudHlwZT9vPSJkb3VibGVDbGljayI6ImRvdWJsZUNsaWNrIj09dC5sYXN0Q2xpY2sudHlwZSYmKG89InRyaXBsZUNsaWNrIikpLHQubGFzdENsaWNrPXt0aW1lOnIseDplLmNsaWVudFgseTplLmNsaWVudFksdHlwZTpvfTt2YXIgaT10LnBvc0F0Q29vcmRzKFJlKGUpKTtpJiYoInNpbmdsZUNsaWNrIj09bz90Lm1vdXNlRG93bj1uZXcgV2UodCxpLGUsbik6KCJkb3VibGVDbGljayI9PW8/JGU6RmUpKHQsaS5wb3MsaS5pbnNpZGUsZSk/ZS5wcmV2ZW50RGVmYXVsdCgpOk9lKHQsInBvaW50ZXIiKSl9O3ZhciBXZT1mdW5jdGlvbih0LGUsbixvKXt2YXIgaSxzLGM9dGhpcztpZih0aGlzLnZpZXc9dCx0aGlzLnN0YXJ0RG9jPXQuc3RhdGUuZG9jLHRoaXMucG9zPWUsdGhpcy5ldmVudD1uLHRoaXMuZmx1c2hlZD1vLHRoaXMuc2VsZWN0Tm9kZT1uW0hlXSx0aGlzLmFsbG93RGVmYXVsdD1uLnNoaWZ0S2V5LGUuaW5zaWRlPi0xKWk9dC5zdGF0ZS5kb2Mubm9kZUF0KGUuaW5zaWRlKSxzPWUuaW5zaWRlO2Vsc2V7dmFyIGw9dC5zdGF0ZS5kb2MucmVzb2x2ZShlLnBvcyk7aT1sLnBhcmVudCxzPWwuZGVwdGg/bC5iZWZvcmUoKTowfXRoaXMubWlnaHREcmFnPW51bGw7dmFyIHU9bz9udWxsOm4udGFyZ2V0LGY9dT90LmRvY1ZpZXcubmVhcmVzdERlc2ModSwhMCk6bnVsbDt0aGlzLnRhcmdldD1mP2YuZG9tOm51bGwsKGkudHlwZS5zcGVjLmRyYWdnYWJsZSYmITEhPT1pLnR5cGUuc3BlYy5zZWxlY3RhYmxlfHx0LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIHIuTm9kZVNlbGVjdGlvbiYmcz09dC5zdGF0ZS5zZWxlY3Rpb24uZnJvbSkmJih0aGlzLm1pZ2h0RHJhZz17bm9kZTppLHBvczpzLGFkZEF0dHI6dGhpcy50YXJnZXQmJiF0aGlzLnRhcmdldC5kcmFnZ2FibGUsc2V0VW5lZGl0YWJsZTp0aGlzLnRhcmdldCYmYS5nZWNrbyYmIXRoaXMudGFyZ2V0Lmhhc0F0dHJpYnV0ZSgiY29udGVudEVkaXRhYmxlIil9KSx0aGlzLnRhcmdldCYmdGhpcy5taWdodERyYWcmJih0aGlzLm1pZ2h0RHJhZy5hZGRBdHRyfHx0aGlzLm1pZ2h0RHJhZy5zZXRVbmVkaXRhYmxlKSYmKHRoaXMudmlldy5kb21PYnNlcnZlci5zdG9wKCksdGhpcy5taWdodERyYWcuYWRkQXR0ciYmKHRoaXMudGFyZ2V0LmRyYWdnYWJsZT0hMCksdGhpcy5taWdodERyYWcuc2V0VW5lZGl0YWJsZSYmc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gYy50YXJnZXQuc2V0QXR0cmlidXRlKCJjb250ZW50RWRpdGFibGUiLCJmYWxzZSIpfSksMjApLHRoaXMudmlldy5kb21PYnNlcnZlci5zdGFydCgpKSx0LnJvb3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsdGhpcy51cD10aGlzLnVwLmJpbmQodGhpcykpLHQucm9vdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLHRoaXMubW92ZT10aGlzLm1vdmUuYmluZCh0aGlzKSksT2UodCwicG9pbnRlciIpfTtmdW5jdGlvbiBKZSh0LGUpe3JldHVybiEhdC5jb21wb3Npbmd8fCEhKGEuc2FmYXJpJiZNYXRoLmFicyhlLnRpbWVTdGFtcC10LmNvbXBvc2l0aW9uRW5kZWRBdCk8NTAwKSYmKHQuY29tcG9zaXRpb25FbmRlZEF0PS0yZTgsITApfVdlLnByb3RvdHlwZS5kb25lPWZ1bmN0aW9uKCl7dGhpcy52aWV3LnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsdGhpcy51cCksdGhpcy52aWV3LnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIix0aGlzLm1vdmUpLHRoaXMubWlnaHREcmFnJiZ0aGlzLnRhcmdldCYmKHRoaXMudmlldy5kb21PYnNlcnZlci5zdG9wKCksdGhpcy5taWdodERyYWcuYWRkQXR0ciYmKHRoaXMudGFyZ2V0LmRyYWdnYWJsZT0hMSksdGhpcy5taWdodERyYWcuc2V0VW5lZGl0YWJsZSYmdGhpcy50YXJnZXQucmVtb3ZlQXR0cmlidXRlKCJjb250ZW50RWRpdGFibGUiKSx0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RhcnQoKSksdGhpcy52aWV3Lm1vdXNlRG93bj1udWxsfSxXZS5wcm90b3R5cGUudXA9ZnVuY3Rpb24odCl7aWYodGhpcy5kb25lKCksdGhpcy52aWV3LmRvbS5jb250YWlucygzPT10LnRhcmdldC5ub2RlVHlwZT90LnRhcmdldC5wYXJlbnROb2RlOnQudGFyZ2V0KSl7dmFyIGU9dGhpcy5wb3M7dGhpcy52aWV3LnN0YXRlLmRvYyE9dGhpcy5zdGFydERvYyYmKGU9dGhpcy52aWV3LnBvc0F0Q29vcmRzKFJlKHQpKSksdGhpcy5hbGxvd0RlZmF1bHR8fCFlP09lKHRoaXMudmlldywicG9pbnRlciIpOkJlKHRoaXMudmlldyxlLnBvcyxlLmluc2lkZSx0LHRoaXMuc2VsZWN0Tm9kZSk/dC5wcmV2ZW50RGVmYXVsdCgpOiF0aGlzLmZsdXNoZWQmJighYS5jaHJvbWV8fHRoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiByLlRleHRTZWxlY3Rpb258fGUucG9zIT10aGlzLnZpZXcuc3RhdGUuc2VsZWN0aW9uLmZyb20mJmUucG9zIT10aGlzLnZpZXcuc3RhdGUuc2VsZWN0aW9uLnRvKT9PZSh0aGlzLnZpZXcsInBvaW50ZXIiKTooemUodGhpcy52aWV3LHIuU2VsZWN0aW9uLm5lYXIodGhpcy52aWV3LnN0YXRlLmRvYy5yZXNvbHZlKGUucG9zKSksInBvaW50ZXIiKSx0LnByZXZlbnREZWZhdWx0KCkpfX0sV2UucHJvdG90eXBlLm1vdmU9ZnVuY3Rpb24odCl7IXRoaXMuYWxsb3dEZWZhdWx0JiYoTWF0aC5hYnModGhpcy5ldmVudC54LXQuY2xpZW50WCk+NHx8TWF0aC5hYnModGhpcy5ldmVudC55LXQuY2xpZW50WSk+NCkmJih0aGlzLmFsbG93RGVmYXVsdD0hMCksT2UodGhpcy52aWV3LCJwb2ludGVyIil9LHhlLnRvdWNoZG93bj1mdW5jdGlvbih0KXtMZSh0KSxPZSh0LCJwb2ludGVyIil9LHhlLmNvbnRleHRtZW51PWZ1bmN0aW9uKHQpe3JldHVybiBMZSh0KX07dmFyIHFlPWEuYW5kcm9pZD81ZTM6LTE7ZnVuY3Rpb24gS2UodCxlKXtjbGVhclRpbWVvdXQodC5jb21wb3NpbmdUaW1lb3V0KSxlPi0xJiYodC5jb21wb3NpbmdUaW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIFVlKHQpfSksZSkpfWZ1bmN0aW9uIFVlKHQsZSl7dC5jb21wb3Npbmc9ITE7d2hpbGUodC5jb21wb3NpdGlvbk5vZGVzLmxlbmd0aD4wKXQuY29tcG9zaXRpb25Ob2Rlcy5wb3AoKS5tYXJrUGFyZW50c0RpcnR5KCk7cmV0dXJuISghZSYmIXQuZG9jVmlldy5kaXJ0eSkmJih0LnVwZGF0ZVN0YXRlKHQuc3RhdGUpLCEwKX1mdW5jdGlvbiBHZSh0LGUpe3ZhciBuPXQuZG9tLm93bmVyRG9jdW1lbnQscj1uLmJvZHkuYXBwZW5kQ2hpbGQobi5jcmVhdGVFbGVtZW50KCJkaXYiKSk7ci5hcHBlbmRDaGlsZChlKSxyLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOiBmaXhlZDsgbGVmdDogLTEwMDAwcHg7IHRvcDogMTBweCI7dmFyIG89Z2V0U2VsZWN0aW9uKCksaT1uLmNyZWF0ZVJhbmdlKCk7aS5zZWxlY3ROb2RlQ29udGVudHMoZSksdC5kb20uYmx1cigpLG8ucmVtb3ZlQWxsUmFuZ2VzKCksby5hZGRSYW5nZShpKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe24uYm9keS5yZW1vdmVDaGlsZChyKSx0LmZvY3VzKCl9KSw1MCl9Q2UuY29tcG9zaXRpb25zdGFydD1DZS5jb21wb3NpdGlvbnVwZGF0ZT1mdW5jdGlvbih0KXtpZighdC5jb21wb3Npbmcpe3QuZG9tT2JzZXJ2ZXIuZmx1c2goKTt2YXIgZT10LnN0YXRlLG49ZS5zZWxlY3Rpb24uJGZyb207aWYoZS5zZWxlY3Rpb24uZW1wdHkmJihlLnN0b3JlZE1hcmtzfHwhbi50ZXh0T2Zmc2V0JiZuLnBhcmVudE9mZnNldCYmbi5ub2RlQmVmb3JlLm1hcmtzLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiExPT09dC50eXBlLnNwZWMuaW5jbHVzaXZlfSkpKSl0Lm1hcmtDdXJzb3I9dC5zdGF0ZS5zdG9yZWRNYXJrc3x8bi5tYXJrcygpLFVlKHQsITApLHQubWFya0N1cnNvcj1udWxsO2Vsc2UgaWYoVWUodCksYS5nZWNrbyYmZS5zZWxlY3Rpb24uZW1wdHkmJm4ucGFyZW50T2Zmc2V0JiYhbi50ZXh0T2Zmc2V0JiZuLm5vZGVCZWZvcmUubWFya3MubGVuZ3RoKWZvcih2YXIgcj10LnJvb3QuZ2V0U2VsZWN0aW9uKCksbz1yLmZvY3VzTm9kZSxpPXIuZm9jdXNPZmZzZXQ7byYmMT09by5ub2RlVHlwZSYmMCE9aTspe3ZhciBzPWk8MD9vLmxhc3RDaGlsZDpvLmNoaWxkTm9kZXNbaS0xXTtpZigzPT1zLm5vZGVUeXBlKXtyLmNvbGxhcHNlKHMscy5ub2RlVmFsdWUubGVuZ3RoKTticmVha31vPXMsaT0tMX10LmNvbXBvc2luZz0hMH1LZSh0LHFlKX0sQ2UuY29tcG9zaXRpb25lbmQ9ZnVuY3Rpb24odCxlKXt0LmNvbXBvc2luZyYmKHQuY29tcG9zaW5nPSExLHQuY29tcG9zaXRpb25FbmRlZEF0PWUudGltZVN0YW1wLEtlKHQsMjApKX07dmFyIFhlPWEuaWUmJmEuaWVfdmVyc2lvbjwxNXx8YS5pb3MmJmEud2Via2l0X3ZlcnNpb248NjA0O2Z1bmN0aW9uIFllKHQpe3JldHVybiAwPT10Lm9wZW5TdGFydCYmMD09dC5vcGVuRW5kJiYxPT10LmNvbnRlbnQuY2hpbGRDb3VudD90LmNvbnRlbnQuZmlyc3RDaGlsZDpudWxsfWZ1bmN0aW9uIFFlKHQsZSl7dmFyIG49dC5kb20ub3duZXJEb2N1bWVudCxyPXQuc2hpZnRLZXl8fHQuc3RhdGUuc2VsZWN0aW9uLiRmcm9tLnBhcmVudC50eXBlLnNwZWMuY29kZSxvPW4uYm9keS5hcHBlbmRDaGlsZChuLmNyZWF0ZUVsZW1lbnQocj8idGV4dGFyZWEiOiJkaXYiKSk7cnx8KG8uY29udGVudEVkaXRhYmxlPSJ0cnVlIiksby5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6IC0xMDAwMHB4OyB0b3A6IDEwcHgiLG8uZm9jdXMoKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuZm9jdXMoKSxuLmJvZHkucmVtb3ZlQ2hpbGQobykscj9aZSh0LG8udmFsdWUsbnVsbCxlKTpaZSh0LG8udGV4dENvbnRlbnQsby5pbm5lckhUTUwsZSl9KSw1MCl9ZnVuY3Rpb24gWmUodCxlLG4scil7dmFyIGk9c2UodCxlLG4sdC5zaGlmdEtleSx0LnN0YXRlLnNlbGVjdGlvbi4kZnJvbSk7aWYodC5zb21lUHJvcCgiaGFuZGxlUGFzdGUiLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0LHIsaXx8by5TbGljZS5lbXB0eSl9KSl8fCFpKXJldHVybiEwO3ZhciBhPVllKGkpLHM9YT90LnN0YXRlLnRyLnJlcGxhY2VTZWxlY3Rpb25XaXRoKGEsdC5zaGlmdEtleSk6dC5zdGF0ZS50ci5yZXBsYWNlU2VsZWN0aW9uKGkpO3JldHVybiB0LmRpc3BhdGNoKHMuc2Nyb2xsSW50b1ZpZXcoKS5zZXRNZXRhKCJwYXN0ZSIsITApLnNldE1ldGEoInVpRXZlbnQiLCJwYXN0ZSIpKSwhMH14ZS5jb3B5PUNlLmN1dD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuc3RhdGUuc2VsZWN0aW9uLHI9ImN1dCI9PWUudHlwZTtpZighbi5lbXB0eSl7dmFyIG89WGU/bnVsbDplLmNsaXBib2FyZERhdGEsaT1uLmNvbnRlbnQoKSxhPWFlKHQsaSkscz1hLmRvbSxjPWEudGV4dDtvPyhlLnByZXZlbnREZWZhdWx0KCksby5jbGVhckRhdGEoKSxvLnNldERhdGEoInRleHQvaHRtbCIscy5pbm5lckhUTUwpLG8uc2V0RGF0YSgidGV4dC9wbGFpbiIsYykpOkdlKHQscyksciYmdC5kaXNwYXRjaCh0LnN0YXRlLnRyLmRlbGV0ZVNlbGVjdGlvbigpLnNjcm9sbEludG9WaWV3KCkuc2V0TWV0YSgidWlFdmVudCIsImN1dCIpKX19LENlLnBhc3RlPWZ1bmN0aW9uKHQsZSl7dmFyIG49WGU/bnVsbDplLmNsaXBib2FyZERhdGE7biYmKFplKHQsbi5nZXREYXRhKCJ0ZXh0L3BsYWluIiksbi5nZXREYXRhKCJ0ZXh0L2h0bWwiKSxlKXx8bi5maWxlcy5sZW5ndGg+MCk/ZS5wcmV2ZW50RGVmYXVsdCgpOlFlKHQsZSl9O3ZhciB0bj1mdW5jdGlvbih0LGUpe3RoaXMuc2xpY2U9dCx0aGlzLm1vdmU9ZX0sZW49YS5tYWM/ImFsdEtleSI6ImN0cmxLZXkiO2Zvcih2YXIgbm4gaW4geGUuZHJhZ3N0YXJ0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5tb3VzZURvd247aWYobiYmbi5kb25lKCksZS5kYXRhVHJhbnNmZXIpe3ZhciBvPXQuc3RhdGUuc2VsZWN0aW9uLGk9by5lbXB0eT9udWxsOnQucG9zQXRDb29yZHMoUmUoZSkpO2lmKGkmJmkucG9zPj1vLmZyb20mJmkucG9zPD0obyBpbnN0YW5jZW9mIHIuTm9kZVNlbGVjdGlvbj9vLnRvLTE6by50bykpO2Vsc2UgaWYobiYmbi5taWdodERyYWcpdC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldFNlbGVjdGlvbihyLk5vZGVTZWxlY3Rpb24uY3JlYXRlKHQuc3RhdGUuZG9jLG4ubWlnaHREcmFnLnBvcykpKTtlbHNlIGlmKGUudGFyZ2V0JiYxPT1lLnRhcmdldC5ub2RlVHlwZSl7dmFyIGE9dC5kb2NWaWV3Lm5lYXJlc3REZXNjKGUudGFyZ2V0LCEwKTtpZighYXx8IWEubm9kZS50eXBlLnNwZWMuZHJhZ2dhYmxlfHxhPT10LmRvY1ZpZXcpcmV0dXJuO3QuZGlzcGF0Y2godC5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oci5Ob2RlU2VsZWN0aW9uLmNyZWF0ZSh0LnN0YXRlLmRvYyxhLnBvc0JlZm9yZSkpKX12YXIgcz10LnN0YXRlLnNlbGVjdGlvbi5jb250ZW50KCksYz1hZSh0LHMpLGw9Yy5kb20sdT1jLnRleHQ7ZS5kYXRhVHJhbnNmZXIuY2xlYXJEYXRhKCksZS5kYXRhVHJhbnNmZXIuc2V0RGF0YShYZT8iVGV4dCI6InRleHQvaHRtbCIsbC5pbm5lckhUTUwpLFhlfHxlLmRhdGFUcmFuc2Zlci5zZXREYXRhKCJ0ZXh0L3BsYWluIix1KSx0LmRyYWdnaW5nPW5ldyB0bihzLCFlW2VuXSl9fSx4ZS5kcmFnZW5kPWZ1bmN0aW9uKHQpe3dpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0LmRyYWdnaW5nPW51bGx9KSw1MCl9LENlLmRyYWdvdmVyPUNlLmRyYWdlbnRlcj1mdW5jdGlvbih0LGUpe3JldHVybiBlLnByZXZlbnREZWZhdWx0KCl9LENlLmRyb3A9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmRyYWdnaW5nO2lmKHQuZHJhZ2dpbmc9bnVsbCxlLmRhdGFUcmFuc2Zlcil7dmFyIG89dC5wb3NBdENvb3JkcyhSZShlKSk7aWYobyl7dmFyIGE9dC5zdGF0ZS5kb2MucmVzb2x2ZShvLnBvcyk7aWYoYSl7dmFyIHM9biYmbi5zbGljZXx8c2UodCxlLmRhdGFUcmFuc2Zlci5nZXREYXRhKFhlPyJUZXh0IjoidGV4dC9wbGFpbiIpLFhlP251bGw6ZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgidGV4dC9odG1sIiksITEsYSk7aWYocyYmKGUucHJldmVudERlZmF1bHQoKSwhdC5zb21lUHJvcCgiaGFuZGxlRHJvcCIsKGZ1bmN0aW9uKHIpe3JldHVybiByKHQsZSxzLG4mJm4ubW92ZSl9KSkpKXt2YXIgYz1zP2kuZHJvcFBvaW50KHQuc3RhdGUuZG9jLGEucG9zLHMpOmEucG9zO251bGw9PWMmJihjPWEucG9zKTt2YXIgbD10LnN0YXRlLnRyO24mJm4ubW92ZSYmbC5kZWxldGVTZWxlY3Rpb24oKTt2YXIgdT1sLm1hcHBpbmcubWFwKGMpLGY9MD09cy5vcGVuU3RhcnQmJjA9PXMub3BlbkVuZCYmMT09cy5jb250ZW50LmNoaWxkQ291bnQscD1sLmRvYztpZihmP2wucmVwbGFjZVJhbmdlV2l0aCh1LHUscy5jb250ZW50LmZpcnN0Q2hpbGQpOmwucmVwbGFjZVJhbmdlKHUsdSxzKSwhbC5kb2MuZXEocCkpe3ZhciBoPWwuZG9jLnJlc29sdmUodSk7ZiYmci5Ob2RlU2VsZWN0aW9uLmlzU2VsZWN0YWJsZShzLmNvbnRlbnQuZmlyc3RDaGlsZCkmJmgubm9kZUFmdGVyJiZoLm5vZGVBZnRlci5zYW1lTWFya3VwKHMuY29udGVudC5maXJzdENoaWxkKT9sLnNldFNlbGVjdGlvbihuZXcgci5Ob2RlU2VsZWN0aW9uKGgpKTpsLnNldFNlbGVjdGlvbihVdCh0LGgsbC5kb2MucmVzb2x2ZShsLm1hcHBpbmcubWFwKGMpKSkpLHQuZm9jdXMoKSx0LmRpc3BhdGNoKGwuc2V0TWV0YSgidWlFdmVudCIsImRyb3AiKSl9fX19fX0seGUuZm9jdXM9ZnVuY3Rpb24odCl7dC5mb2N1c2VkfHwodC5kb21PYnNlcnZlci5zdG9wKCksdC5kb20uY2xhc3NMaXN0LmFkZCgiUHJvc2VNaXJyb3ItZm9jdXNlZCIpLHQuZG9tT2JzZXJ2ZXIuc3RhcnQoKSx0LmZvY3VzZWQ9ITApfSx4ZS5ibHVyPWZ1bmN0aW9uKHQpe3QuZm9jdXNlZCYmKHQuZG9tT2JzZXJ2ZXIuc3RvcCgpLHQuZG9tLmNsYXNzTGlzdC5yZW1vdmUoIlByb3NlTWlycm9yLWZvY3VzZWQiKSx0LmRvbU9ic2VydmVyLnN0YXJ0KCksdC5mb2N1c2VkPSExKX0seGUuYmVmb3JlaW5wdXQ9ZnVuY3Rpb24odCxlKXtpZihhLmNocm9tZSYmYS5hbmRyb2lkJiYiZGVsZXRlQ29udGVudEJhY2t3YXJkIj09ZS5pbnB1dFR5cGUpe3ZhciBuPXQuZG9tQ2hhbmdlQ291bnQ7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtpZih0LmRvbUNoYW5nZUNvdW50PT1uJiYodC5kb20uYmx1cigpLHQuZm9jdXMoKSwhdC5zb21lUHJvcCgiaGFuZGxlS2V5RG93biIsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQsayg4LCJCYWNrc3BhY2UiKSl9KSkpKXt2YXIgZT10LnN0YXRlLnNlbGVjdGlvbixyPWUuJGN1cnNvcjtyJiZyLnBvcz4wJiZ0LmRpc3BhdGNoKHQuc3RhdGUudHIuZGVsZXRlKHIucG9zLTEsci5wb3MpLnNjcm9sbEludG9WaWV3KCkpfX0pLDUwKX19LENlKXhlW25uXT1DZVtubl07ZnVuY3Rpb24gcm4odCxlKXtpZih0PT1lKXJldHVybiEwO2Zvcih2YXIgbiBpbiB0KWlmKHRbbl0hPT1lW25dKXJldHVybiExO2Zvcih2YXIgciBpbiBlKWlmKCEociBpbiB0KSlyZXR1cm4hMTtyZXR1cm4hMH12YXIgb249ZnVuY3Rpb24odCxlKXt0aGlzLnNwZWM9ZXx8Zm4sdGhpcy5zaWRlPXRoaXMuc3BlYy5zaWRlfHwwLHRoaXMudG9ET009dH07b24ucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10Lm1hcFJlc3VsdChlLmZyb20rcix0aGlzLnNpZGU8MD8tMToxKSxpPW8ucG9zLGE9by5kZWxldGVkO3JldHVybiBhP251bGw6bmV3IGNuKGktbixpLW4sdGhpcyl9LG9uLnByb3RvdHlwZS52YWxpZD1mdW5jdGlvbigpe3JldHVybiEwfSxvbi5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PXR8fHQgaW5zdGFuY2VvZiBvbiYmKHRoaXMuc3BlYy5rZXkmJnRoaXMuc3BlYy5rZXk9PXQuc3BlYy5rZXl8fHRoaXMudG9ET009PXQudG9ET00mJnJuKHRoaXMuc3BlYyx0LnNwZWMpKX07dmFyIGFuPWZ1bmN0aW9uKHQsZSl7dGhpcy5zcGVjPWV8fGZuLHRoaXMuYXR0cnM9dH07YW4ucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10Lm1hcChlLmZyb20rcix0aGlzLnNwZWMuaW5jbHVzaXZlU3RhcnQ/LTE6MSktbixpPXQubWFwKGUudG8rcix0aGlzLnNwZWMuaW5jbHVzaXZlRW5kPzE6LTEpLW47cmV0dXJuIG8+PWk/bnVsbDpuZXcgY24obyxpLHRoaXMpfSxhbi5wcm90b3R5cGUudmFsaWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5mcm9tPGUudG99LGFuLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09dHx8dCBpbnN0YW5jZW9mIGFuJiZybih0aGlzLmF0dHJzLHQuYXR0cnMpJiZybih0aGlzLnNwZWMsdC5zcGVjKX0sYW4uaXM9ZnVuY3Rpb24odCl7cmV0dXJuIHQudHlwZSBpbnN0YW5jZW9mIGFufTt2YXIgc249ZnVuY3Rpb24odCxlKXt0aGlzLnNwZWM9ZXx8Zm4sdGhpcy5hdHRycz10fTtzbi5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQubWFwUmVzdWx0KGUuZnJvbStyLDEpO2lmKG8uZGVsZXRlZClyZXR1cm4gbnVsbDt2YXIgaT10Lm1hcFJlc3VsdChlLnRvK3IsLTEpO3JldHVybiBpLmRlbGV0ZWR8fGkucG9zPD1vLnBvcz9udWxsOm5ldyBjbihvLnBvcy1uLGkucG9zLW4sdGhpcyl9LHNuLnByb3RvdHlwZS52YWxpZD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuY29udGVudC5maW5kSW5kZXgoZS5mcm9tKSxyPW4uaW5kZXgsbz1uLm9mZnNldDtyZXR1cm4gbz09ZS5mcm9tJiZvK3QuY2hpbGQocikubm9kZVNpemU9PWUudG99LHNuLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09dHx8dCBpbnN0YW5jZW9mIHNuJiZybih0aGlzLmF0dHJzLHQuYXR0cnMpJiZybih0aGlzLnNwZWMsdC5zcGVjKX07dmFyIGNuPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmZyb209dCx0aGlzLnRvPWUsdGhpcy50eXBlPW59LGxuPXtzcGVjOnt9fTtjbi5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgY24odCxlLHRoaXMudHlwZSl9LGNuLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50eXBlLmVxKHQudHlwZSkmJnRoaXMuZnJvbT09dC5mcm9tJiZ0aGlzLnRvPT10LnRvfSxjbi5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy50eXBlLm1hcCh0LHRoaXMsZSxuKX0sY24ud2lkZ2V0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IGNuKHQsdCxuZXcgb24oZSxuKSl9LGNuLmlubGluZT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gbmV3IGNuKHQsZSxuZXcgYW4obixyKSl9LGNuLm5vZGU9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIG5ldyBjbih0LGUsbmV3IHNuKG4scikpfSxsbi5zcGVjLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUuc3BlY30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY24ucHJvdG90eXBlLGxuKTt2YXIgdW49W10sZm49e30scG49ZnVuY3Rpb24odCxlKXt0aGlzLmxvY2FsPXQmJnQubGVuZ3RoP3Q6dW4sdGhpcy5jaGlsZHJlbj1lJiZlLmxlbmd0aD9lOnVufTtwbi5jcmVhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5sZW5ndGg/Ym4oZSx0LDAsZm4pOmhufSxwbi5wcm90b3R5cGUuZmluZD1mdW5jdGlvbih0LGUsbil7dmFyIHI9W107cmV0dXJuIHRoaXMuZmluZElubmVyKG51bGw9PXQ/MDp0LG51bGw9PWU/MWU5OmUsciwwLG4pLHJ9LHBuLnByb3RvdHlwZS5maW5kSW5uZXI9ZnVuY3Rpb24odCxlLG4scixvKXtmb3IodmFyIGk9dGhpcyxhPTA7YTx0aGlzLmxvY2FsLmxlbmd0aDthKyspe3ZhciBzPWkubG9jYWxbYV07cy5mcm9tPD1lJiZzLnRvPj10JiYoIW98fG8ocy5zcGVjKSkmJm4ucHVzaChzLmNvcHkocy5mcm9tK3Iscy50bytyKSl9Zm9yKHZhciBjPTA7Yzx0aGlzLmNoaWxkcmVuLmxlbmd0aDtjKz0zKWlmKGkuY2hpbGRyZW5bY108ZSYmaS5jaGlsZHJlbltjKzFdPnQpe3ZhciBsPWkuY2hpbGRyZW5bY10rMTtpLmNoaWxkcmVuW2MrMl0uZmluZElubmVyKHQtbCxlLWwsbixyK2wsbyl9fSxwbi5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcz09aG58fDA9PXQubWFwcy5sZW5ndGg/dGhpczp0aGlzLm1hcElubmVyKHQsZSwwLDAsbnx8Zm4pfSxwbi5wcm90b3R5cGUubWFwSW5uZXI9ZnVuY3Rpb24odCxlLG4scixvKXtmb3IodmFyIGksYT10aGlzLHM9MDtzPHRoaXMubG9jYWwubGVuZ3RoO3MrKyl7dmFyIGM9YS5sb2NhbFtzXS5tYXAodCxuLHIpO2MmJmMudHlwZS52YWxpZChlLGMpPyhpfHwoaT1bXSkpLnB1c2goYyk6by5vblJlbW92ZSYmby5vblJlbW92ZShhLmxvY2FsW3NdLnNwZWMpfXJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aD92bih0aGlzLmNoaWxkcmVuLGksdCxlLG4scixvKTppP25ldyBwbihpLnNvcnQoa24pKTpobn0scG4ucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUpe3JldHVybiBlLmxlbmd0aD90aGlzPT1obj9wbi5jcmVhdGUodCxlKTp0aGlzLmFkZElubmVyKHQsZSwwKTp0aGlzfSxwbi5wcm90b3R5cGUuYWRkSW5uZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciByLG89dGhpcyxpPTA7dC5mb3JFYWNoKChmdW5jdGlvbih0LGEpe3ZhciBzLGM9YStuO2lmKHM9eW4oZSx0LGMpKXtyfHwocj1vLmNoaWxkcmVuLnNsaWNlKCkpO3doaWxlKGk8ci5sZW5ndGgmJnJbaV08YSlpKz0zO3JbaV09PWE/cltpKzJdPXJbaSsyXS5hZGRJbm5lcih0LHMsYysxKTpyLnNwbGljZShpLDAsYSxhK3Qubm9kZVNpemUsYm4ocyx0LGMrMSxmbikpLGkrPTN9fSkpO3ZhciBhPW1uKGk/d24oZSk6ZSwtbik7cmV0dXJuIG5ldyBwbihhLmxlbmd0aD90aGlzLmxvY2FsLmNvbmNhdChhKS5zb3J0KGtuKTp0aGlzLmxvY2FsLHJ8fHRoaXMuY2hpbGRyZW4pfSxwbi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3JldHVybiAwPT10Lmxlbmd0aHx8dGhpcz09aG4/dGhpczp0aGlzLnJlbW92ZUlubmVyKHQsMCl9LHBuLnByb3RvdHlwZS5yZW1vdmVJbm5lcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLHI9dGhpcy5jaGlsZHJlbixvPXRoaXMubG9jYWwsaT0wO2k8ci5sZW5ndGg7aSs9Myl7Zm9yKHZhciBhPXZvaWQgMCxzPXJbaV0rZSxjPXJbaSsxXStlLGw9MCx1PXZvaWQgMDtsPHQubGVuZ3RoO2wrKykodT10W2xdKSYmdS5mcm9tPnMmJnUudG88YyYmKHRbbF09bnVsbCwoYXx8KGE9W10pKS5wdXNoKHUpKTtpZihhKXtyPT1uLmNoaWxkcmVuJiYocj1uLmNoaWxkcmVuLnNsaWNlKCkpO3ZhciBmPXJbaSsyXS5yZW1vdmVJbm5lcihhLHMrMSk7ZiE9aG4/cltpKzJdPWY6KHIuc3BsaWNlKGksMyksaS09Myl9fWlmKG8ubGVuZ3RoKWZvcih2YXIgcD0wLGg9dm9pZCAwO3A8dC5sZW5ndGg7cCsrKWlmKGg9dFtwXSlmb3IodmFyIGQ9MDtkPG8ubGVuZ3RoO2QrKylvW2RdLnR5cGUuZXEoaC50eXBlKSYmKG89PW4ubG9jYWwmJihvPW4ubG9jYWwuc2xpY2UoKSksby5zcGxpY2UoZC0tLDEpKTtyZXR1cm4gcj09dGhpcy5jaGlsZHJlbiYmbz09dGhpcy5sb2NhbD90aGlzOm8ubGVuZ3RofHxyLmxlbmd0aD9uZXcgcG4obyxyKTpobn0scG4ucHJvdG90eXBlLmZvckNoaWxkPWZ1bmN0aW9uKHQsZSl7dmFyIG4scixvPXRoaXM7aWYodGhpcz09aG4pcmV0dXJuIHRoaXM7aWYoZS5pc0xlYWYpcmV0dXJuIHBuLmVtcHR5O2Zvcih2YXIgaT0wO2k8dGhpcy5jaGlsZHJlbi5sZW5ndGg7aSs9MylpZihvLmNoaWxkcmVuW2ldPj10KXtvLmNoaWxkcmVuW2ldPT10JiYobj1vLmNoaWxkcmVuW2krMl0pO2JyZWFrfWZvcih2YXIgYT10KzEscz1hK2UuY29udGVudC5zaXplLGM9MDtjPHRoaXMubG9jYWwubGVuZ3RoO2MrKyl7dmFyIGw9by5sb2NhbFtjXTtpZihsLmZyb208cyYmbC50bz5hJiZsLnR5cGUgaW5zdGFuY2VvZiBhbil7dmFyIHU9TWF0aC5tYXgoYSxsLmZyb20pLWEsZj1NYXRoLm1pbihzLGwudG8pLWE7dTxmJiYocnx8KHI9W10pKS5wdXNoKGwuY29weSh1LGYpKX19aWYocil7dmFyIHA9bmV3IHBuKHIuc29ydChrbikpO3JldHVybiBuP25ldyBkbihbcCxuXSk6cH1yZXR1cm4gbnx8aG59LHBuLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKHRoaXM9PXQpcmV0dXJuITA7aWYoISh0IGluc3RhbmNlb2YgcG4pfHx0aGlzLmxvY2FsLmxlbmd0aCE9dC5sb2NhbC5sZW5ndGh8fHRoaXMuY2hpbGRyZW4ubGVuZ3RoIT10LmNoaWxkcmVuLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG49MDtuPHRoaXMubG9jYWwubGVuZ3RoO24rKylpZighZS5sb2NhbFtuXS5lcSh0LmxvY2FsW25dKSlyZXR1cm4hMTtmb3IodmFyIHI9MDtyPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3IrPTMpaWYoZS5jaGlsZHJlbltyXSE9dC5jaGlsZHJlbltyXXx8ZS5jaGlsZHJlbltyKzFdIT10LmNoaWxkcmVuW3IrMV18fCFlLmNoaWxkcmVuW3IrMl0uZXEodC5jaGlsZHJlbltyKzJdKSlyZXR1cm4hMTtyZXR1cm4hMH0scG4ucHJvdG90eXBlLmxvY2Fscz1mdW5jdGlvbih0KXtyZXR1cm4gU24odGhpcy5sb2NhbHNJbm5lcih0KSl9LHBuLnByb3RvdHlwZS5sb2NhbHNJbm5lcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKHRoaXM9PWhuKXJldHVybiB1bjtpZih0LmlubGluZUNvbnRlbnR8fCF0aGlzLmxvY2FsLnNvbWUoYW4uaXMpKXJldHVybiB0aGlzLmxvY2FsO2Zvcih2YXIgbj1bXSxyPTA7cjx0aGlzLmxvY2FsLmxlbmd0aDtyKyspZS5sb2NhbFtyXS50eXBlIGluc3RhbmNlb2YgYW58fG4ucHVzaChlLmxvY2FsW3JdKTtyZXR1cm4gbn07dmFyIGhuPW5ldyBwbjtwbi5lbXB0eT1obixwbi5yZW1vdmVPdmVybGFwPVNuO3ZhciBkbj1mdW5jdGlvbih0KXt0aGlzLm1lbWJlcnM9dH07ZnVuY3Rpb24gdm4odCxlLG4scixvLGksYSl7Zm9yKHZhciBzPXQuc2xpY2UoKSxjPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgYT0wO2E8cy5sZW5ndGg7YSs9Myl7dmFyIGM9c1thKzFdLGw9dm9pZCAwOy0xPT1jfHx0PmMraXx8KGU+PXNbYV0raT9zW2ErMV09LTE6KGw9ci1uLShlLXQpKyhpLW8pKSYmKHNbYV0rPWwsc1thKzFdKz1sKSl9fSxsPTA7bDxuLm1hcHMubGVuZ3RoO2wrKyluLm1hcHNbbF0uZm9yRWFjaChjKTtmb3IodmFyIHU9ITEsZj0wO2Y8cy5sZW5ndGg7Zis9MylpZigtMT09c1tmKzFdKXt2YXIgcD1uLm1hcChzW2ZdK2kpLGg9cC1vO2lmKGg8MHx8aD49ci5jb250ZW50LnNpemUpe3U9ITA7Y29udGludWV9dmFyIGQ9bi5tYXAodFtmKzFdK2ksLTEpLHY9ZC1vLG09ci5jb250ZW50LmZpbmRJbmRleChoKSxnPW0uaW5kZXgseT1tLm9mZnNldCx3PXIubWF5YmVDaGlsZChnKTtpZih3JiZ5PT1oJiZ5K3cubm9kZVNpemU9PXYpe3ZhciBiPXNbZisyXS5tYXBJbm5lcihuLHcscCsxLHNbZl0raSsxLGEpO2IhPWhuPyhzW2ZdPWgsc1tmKzFdPXYsc1tmKzJdPWIpOihzW2YrMV09LTIsdT0hMCl9ZWxzZSB1PSEwfWlmKHUpe3ZhciBrPWduKHMsdCxlfHxbXSxuLG8saSxhKSxTPWJuKGssciwwLGEpO2U9Uy5sb2NhbDtmb3IodmFyIHg9MDt4PHMubGVuZ3RoO3grPTMpc1t4KzFdPDAmJihzLnNwbGljZSh4LDMpLHgtPTMpO2Zvcih2YXIgQz0wLE09MDtDPFMuY2hpbGRyZW4ubGVuZ3RoO0MrPTMpe3ZhciBPPVMuY2hpbGRyZW5bQ107d2hpbGUoTTxzLmxlbmd0aCYmc1tNXTxPKU0rPTM7cy5zcGxpY2UoTSwwLFMuY2hpbGRyZW5bQ10sUy5jaGlsZHJlbltDKzFdLFMuY2hpbGRyZW5bQysyXSl9fXJldHVybiBuZXcgcG4oZSYmZS5zb3J0KGtuKSxzKX1mdW5jdGlvbiBtbih0LGUpe2lmKCFlfHwhdC5sZW5ndGgpcmV0dXJuIHQ7Zm9yKHZhciBuPVtdLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtuLnB1c2gobmV3IGNuKG8uZnJvbStlLG8udG8rZSxvLnR5cGUpKX1yZXR1cm4gbn1mdW5jdGlvbiBnbih0LGUsbixyLG8saSxhKXtmdW5jdGlvbiBzKHQsZSl7Zm9yKHZhciBpPTA7aTx0LmxvY2FsLmxlbmd0aDtpKyspe3ZhciBjPXQubG9jYWxbaV0ubWFwKHIsbyxlKTtjP24ucHVzaChjKTphLm9uUmVtb3ZlJiZhLm9uUmVtb3ZlKHQubG9jYWxbaV0uc3BlYyl9Zm9yKHZhciBsPTA7bDx0LmNoaWxkcmVuLmxlbmd0aDtsKz0zKXModC5jaGlsZHJlbltsKzJdLHQuY2hpbGRyZW5bbF0rZSsxKX1mb3IodmFyIGM9MDtjPHQubGVuZ3RoO2MrPTMpLTE9PXRbYysxXSYmcyh0W2MrMl0sZVtjXStpKzEpO3JldHVybiBufWZ1bmN0aW9uIHluKHQsZSxuKXtpZihlLmlzTGVhZilyZXR1cm4gbnVsbDtmb3IodmFyIHI9bitlLm5vZGVTaXplLG89bnVsbCxpPTAsYT12b2lkIDA7aTx0Lmxlbmd0aDtpKyspKGE9dFtpXSkmJmEuZnJvbT5uJiZhLnRvPHImJigob3x8KG89W10pKS5wdXNoKGEpLHRbaV09bnVsbCk7cmV0dXJuIG99ZnVuY3Rpb24gd24odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQubGVuZ3RoO24rKyludWxsIT10W25dJiZlLnB1c2godFtuXSk7cmV0dXJuIGV9ZnVuY3Rpb24gYm4odCxlLG4scil7dmFyIG89W10saT0hMTtlLmZvckVhY2goKGZ1bmN0aW9uKGUsYSl7dmFyIHM9eW4odCxlLGErbik7aWYocyl7aT0hMDt2YXIgYz1ibihzLGUsbithKzEscik7YyE9aG4mJm8ucHVzaChhLGErZS5ub2RlU2l6ZSxjKX19KSk7Zm9yKHZhciBhPW1uKGk/d24odCk6dCwtbikuc29ydChrbikscz0wO3M8YS5sZW5ndGg7cysrKWFbc10udHlwZS52YWxpZChlLGFbc10pfHwoci5vblJlbW92ZSYmci5vblJlbW92ZShhW3NdLnNwZWMpLGEuc3BsaWNlKHMtLSwxKSk7cmV0dXJuIGEubGVuZ3RofHxvLmxlbmd0aD9uZXcgcG4oYSxvKTpobn1mdW5jdGlvbiBrbih0LGUpe3JldHVybiB0LmZyb20tZS5mcm9tfHx0LnRvLWUudG99ZnVuY3Rpb24gU24odCl7Zm9yKHZhciBlPXQsbj0wO248ZS5sZW5ndGgtMTtuKyspe3ZhciByPWVbbl07aWYoci5mcm9tIT1yLnRvKWZvcih2YXIgbz1uKzE7bzxlLmxlbmd0aDtvKyspe3ZhciBpPWVbb107aWYoaS5mcm9tIT1yLmZyb20pe2kuZnJvbTxyLnRvJiYoZT09dCYmKGU9dC5zbGljZSgpKSxlW25dPXIuY29weShyLmZyb20saS5mcm9tKSx4bihlLG8sci5jb3B5KGkuZnJvbSxyLnRvKSkpO2JyZWFrfWkudG8hPXIudG8mJihlPT10JiYoZT10LnNsaWNlKCkpLGVbb109aS5jb3B5KGkuZnJvbSxyLnRvKSx4bihlLG8rMSxpLmNvcHkoci50byxpLnRvKSkpfX1yZXR1cm4gZX1mdW5jdGlvbiB4bih0LGUsbil7d2hpbGUoZTx0Lmxlbmd0aCYma24obix0W2VdKT4wKWUrKzt0LnNwbGljZShlLDAsbil9ZnVuY3Rpb24gQ24odCl7dmFyIGU9W107cmV0dXJuIHQuc29tZVByb3AoImRlY29yYXRpb25zIiwoZnVuY3Rpb24obil7dmFyIHI9bih0LnN0YXRlKTtyJiZyIT1obiYmZS5wdXNoKHIpfSkpLHQuY3Vyc29yV3JhcHBlciYmZS5wdXNoKHBuLmNyZWF0ZSh0LnN0YXRlLmRvYyxbdC5jdXJzb3JXcmFwcGVyLmRlY29dKSksZG4uZnJvbShlKX1kbi5wcm90b3R5cGUuZm9yQ2hpbGQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKGUuaXNMZWFmKXJldHVybiBwbi5lbXB0eTtmb3IodmFyIHI9W10sbz0wO288dGhpcy5tZW1iZXJzLmxlbmd0aDtvKyspe3ZhciBpPW4ubWVtYmVyc1tvXS5mb3JDaGlsZCh0LGUpO2khPWhuJiYoaSBpbnN0YW5jZW9mIGRuP3I9ci5jb25jYXQoaS5tZW1iZXJzKTpyLnB1c2goaSkpfXJldHVybiBkbi5mcm9tKHIpfSxkbi5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZighKHQgaW5zdGFuY2VvZiBkbil8fHQubWVtYmVycy5sZW5ndGghPXRoaXMubWVtYmVycy5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0aGlzLm1lbWJlcnMubGVuZ3RoO24rKylpZighZS5tZW1iZXJzW25dLmVxKHQubWVtYmVyc1tuXSkpcmV0dXJuITE7cmV0dXJuITB9LGRuLnByb3RvdHlwZS5sb2NhbHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49dGhpcyxyPSEwLG89MDtvPHRoaXMubWVtYmVycy5sZW5ndGg7bysrKXt2YXIgaT1uLm1lbWJlcnNbb10ubG9jYWxzSW5uZXIodCk7aWYoaS5sZW5ndGgpaWYoZSl7ciYmKGU9ZS5zbGljZSgpLHI9ITEpO2Zvcih2YXIgYT0wO2E8aS5sZW5ndGg7YSsrKWUucHVzaChpW2FdKX1lbHNlIGU9aX1yZXR1cm4gZT9TbihyP2U6ZS5zb3J0KGtuKSk6dW59LGRuLmZyb209ZnVuY3Rpb24odCl7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIGhuO2Nhc2UgMTpyZXR1cm4gdFswXTtkZWZhdWx0OnJldHVybiBuZXcgZG4odCl9fTt2YXIgTW49ZnVuY3Rpb24odCxlKXt0aGlzLl9wcm9wcz1lLHRoaXMuc3RhdGU9ZS5zdGF0ZSx0aGlzLmRpc3BhdGNoPXRoaXMuZGlzcGF0Y2guYmluZCh0aGlzKSx0aGlzLl9yb290PW51bGwsdGhpcy5mb2N1c2VkPSExLHRoaXMuZG9tPXQmJnQubW91bnR8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHQmJih0LmFwcGVuZENoaWxkP3QuYXBwZW5kQ2hpbGQodGhpcy5kb20pOnQuYXBwbHk/dCh0aGlzLmRvbSk6dC5tb3VudCYmKHRoaXMubW91bnRlZD0hMCkpLHRoaXMuZWRpdGFibGU9Tm4odGhpcyksdGhpcy5tYXJrQ3Vyc29yPW51bGwsdGhpcy5jdXJzb3JXcmFwcGVyPW51bGwsVG4odGhpcyksdGhpcy5ub2RlVmlld3M9Um4odGhpcyksdGhpcy5kb2NWaWV3PW90KHRoaXMuc3RhdGUuZG9jLEFuKHRoaXMpLENuKHRoaXMpLHRoaXMuZG9tLHRoaXMpLHRoaXMubGFzdFNlbGVjdGVkVmlld0Rlc2M9bnVsbCx0aGlzLmRyYWdnaW5nPW51bGwsTWUodGhpcyksdGhpcy5wbHVnaW5WaWV3cz1bXSx0aGlzLnVwZGF0ZVBsdWdpblZpZXdzKCl9LE9uPXtwcm9wczp7fSxyb290Ont9fTtmdW5jdGlvbiBBbih0KXt2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybiBlLmNsYXNzPSJQcm9zZU1pcnJvciIsZS5jb250ZW50ZWRpdGFibGU9U3RyaW5nKHQuZWRpdGFibGUpLHQuc29tZVByb3AoImF0dHJpYnV0ZXMiLChmdW5jdGlvbihuKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgbiYmKG49bih0LnN0YXRlKSksbilmb3IodmFyIHIgaW4gbikiY2xhc3MiPT1yP2UuY2xhc3MrPSIgIituW3JdOmVbcl18fCJjb250ZW50ZWRpdGFibGUiPT1yfHwibm9kZU5hbWUiPT1yfHwoZVtyXT1TdHJpbmcobltyXSkpfSkpLFtjbi5ub2RlKDAsdC5zdGF0ZS5kb2MuY29udGVudC5zaXplLGUpXX1mdW5jdGlvbiBUbih0KXt2YXIgZT10LnN0YXRlLnNlbGVjdGlvbixuPWUuJGhlYWQscj1lLiRhbmNob3Isbz1lLnZpc2libGU7aWYodC5tYXJrQ3Vyc29yKXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtpLnNldEF0dHJpYnV0ZSgibWFyay1wbGFjZWhvbGRlciIsInRydWUiKSx0LmN1cnNvcldyYXBwZXI9e2RvbTppLGRlY286Y24ud2lkZ2V0KG4ucG9zLGkse3JhdzohMCxtYXJrczp0Lm1hcmtDdXJzb3J9KX19ZWxzZSBpZihvfHxuLnBvcyE9ci5wb3MpdC5jdXJzb3JXcmFwcGVyPW51bGw7ZWxzZXt2YXIgYTshdC5jdXJzb3JXcmFwcGVyfHx0LmN1cnNvcldyYXBwZXIuZG9tLmNoaWxkTm9kZXMubGVuZ3RoPyhhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGEuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixhLnN0eWxlLmxlZnQ9Ii0xMDAwMDBweCIpOnQuY3Vyc29yV3JhcHBlci5kZWNvLnBvcyE9bi5wb3MmJihhPXQuY3Vyc29yV3JhcHBlci5kb20pLGEmJih0LmN1cnNvcldyYXBwZXI9e2RvbTphLGRlY286Y24ud2lkZ2V0KG4ucG9zLGEse3JhdzohMH0pfSl9fWZ1bmN0aW9uIE5uKHQpe3JldHVybiF0LnNvbWVQcm9wKCJlZGl0YWJsZSIsKGZ1bmN0aW9uKGUpe3JldHVybiExPT09ZSh0LnN0YXRlKX0pKX1mdW5jdGlvbiBFbih0KXt2YXIgZT10LmdldFNlbGVjdGlvbigpLG49ZS5mb2N1c09mZnNldCxyPWUuZm9jdXNOb2RlO3JldHVybiByJiYzIT1yLm5vZGVUeXBlP1tyLG4sMT09ci5ub2RlVHlwZT9yLmNoaWxkTm9kZXNbbi0xXTpudWxsLDE9PXIubm9kZVR5cGU/ci5jaGlsZE5vZGVzW25dOm51bGxdOm51bGx9ZnVuY3Rpb24gX24odCxlKXt2YXIgbj1FbihlKTtpZighbnx8Mz09blswXS5ub2RlVHlwZSlyZXR1cm4hMTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylpZihuW3JdIT10W3JdKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIFJuKHQpe3ZhciBlPXt9O3JldHVybiB0LnNvbWVQcm9wKCJub2RlVmlld3MiLChmdW5jdGlvbih0KXtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKXx8KGVbbl09dFtuXSl9KSksZX1mdW5jdGlvbiBEbih0LGUpe3ZhciBuPTAscj0wO2Zvcih2YXIgbyBpbiB0KXtpZih0W29dIT1lW29dKXJldHVybiEwO24rK31mb3IodmFyIGkgaW4gZSlyKys7cmV0dXJuIG4hPXJ9T24ucHJvcHMuZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLl9wcm9wcy5zdGF0ZSE9dGhpcy5zdGF0ZSl7dmFyIGU9dGhpcy5fcHJvcHM7Zm9yKHZhciBuIGluIHRoaXMuX3Byb3BzPXt9LGUpdC5fcHJvcHNbbl09ZVtuXTt0aGlzLl9wcm9wcy5zdGF0ZT10aGlzLnN0YXRlfXJldHVybiB0aGlzLl9wcm9wc30sTW4ucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0LmhhbmRsZURPTUV2ZW50cyE9dGhpcy5fcHJvcHMuaGFuZGxlRE9NRXZlbnRzJiZUZSh0aGlzKSx0aGlzLl9wcm9wcz10LHRoaXMudXBkYXRlU3RhdGVJbm5lcih0LnN0YXRlLCEwKX0sTW4ucHJvdG90eXBlLnNldFByb3BzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj17fTtmb3IodmFyIHIgaW4gZS5fcHJvcHMpbltyXT1lLl9wcm9wc1tyXTtmb3IodmFyIG8gaW4gbi5zdGF0ZT10aGlzLnN0YXRlLHQpbltvXT10W29dO3RoaXMudXBkYXRlKG4pfSxNbi5wcm90b3R5cGUudXBkYXRlU3RhdGU9ZnVuY3Rpb24odCl7dGhpcy51cGRhdGVTdGF0ZUlubmVyKHQsdGhpcy5zdGF0ZS5wbHVnaW5zIT10LnBsdWdpbnMpfSxNbi5wcm90b3R5cGUudXBkYXRlU3RhdGVJbm5lcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMsbz10aGlzLnN0YXRlLGk9ITE7aWYodGhpcy5zdGF0ZT10LGUpe3ZhciBzPVJuKHRoaXMpO0RuKHMsdGhpcy5ub2RlVmlld3MpJiYodGhpcy5ub2RlVmlld3M9cyxpPSEwKSxUZSh0aGlzKX10aGlzLmVkaXRhYmxlPU5uKHRoaXMpLFRuKHRoaXMpO3ZhciBjPUNuKHRoaXMpLGw9QW4odGhpcyksdT1lPyJyZXNldCI6dC5zY3JvbGxUb1NlbGVjdGlvbj5vLnNjcm9sbFRvU2VsZWN0aW9uPyJ0byBzZWxlY3Rpb24iOiJwcmVzZXJ2ZSIsZj1pfHwhdGhpcy5kb2NWaWV3Lm1hdGNoZXNOb2RlKHQuZG9jLGwsYykscD1mfHwhdC5zZWxlY3Rpb24uZXEoby5zZWxlY3Rpb24pLGg9InByZXNlcnZlIj09dSYmcCYmbnVsbD09dGhpcy5kb20uc3R5bGUub3ZlcmZsb3dBbmNob3ImJk0odGhpcyk7aWYocCl7dGhpcy5kb21PYnNlcnZlci5zdG9wKCk7dmFyIGQ9ITE7aWYoZil7dmFyIHY9YS5jaHJvbWUmJkVuKHRoaXMucm9vdCk7IWkmJnRoaXMuZG9jVmlldy51cGRhdGUodC5kb2MsbCxjLHRoaXMpfHwodGhpcy5kb2NWaWV3LmRlc3Ryb3koKSx0aGlzLmRvY1ZpZXc9b3QodC5kb2MsbCxjLHRoaXMuZG9tLHRoaXMpKSx2JiYoZD0hdGhpcy5jb21wb3NpbmcmJl9uKHYsdGhpcy5yb290KSksYS5pZSYmYS5pZV92ZXJzaW9uPD0xMSYmIW8uc2VsZWN0aW9uLmVtcHR5JiZ0LnNlbGVjdGlvbi5lbXB0eSYmdC5kb2MuY29udGVudC5zaXplPG8uZG9jLmNvbnRlbnQuc2l6ZSYmKGQ9ITApfWR8fCEodGhpcy5tb3VzZURvd24mJnRoaXMuZG9tT2JzZXJ2ZXIuY3VycmVudFNlbGVjdGlvbi5lcSh0aGlzLnJvb3QuZ2V0U2VsZWN0aW9uKCkpJiZZdCh0aGlzKSk/VnQodGhpcywhMSxkKToocXQodGhpcyx0LnNlbGVjdGlvbiksdGhpcy5kb21PYnNlcnZlci5zZXRDdXJTZWxlY3Rpb24oKSksdGhpcy5kb21PYnNlcnZlci5zdGFydCgpfWlmKHRoaXMudXBkYXRlUGx1Z2luVmlld3MobyksInJlc2V0Ij09dSl0aGlzLmRvbS5zY3JvbGxUb3A9MDtlbHNlIGlmKCJ0byBzZWxlY3Rpb24iPT11KXt2YXIgbT10aGlzLnJvb3QuZ2V0U2VsZWN0aW9uKCkuZm9jdXNOb2RlO3RoaXMuc29tZVByb3AoImhhbmRsZVNjcm9sbFRvU2VsZWN0aW9uIiwoZnVuY3Rpb24odCl7cmV0dXJuIHQobil9KSl8fCh0LnNlbGVjdGlvbiBpbnN0YW5jZW9mIHIuTm9kZVNlbGVjdGlvbj9DKHRoaXMsdGhpcy5kb2NWaWV3LmRvbUFmdGVyUG9zKHQuc2VsZWN0aW9uLmZyb20pLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG0pOkModGhpcyx0aGlzLmNvb3Jkc0F0UG9zKHQuc2VsZWN0aW9uLmhlYWQpLG0pKX1lbHNlIGgmJk8oaCl9LE1uLnByb3RvdHlwZS5kZXN0cm95UGx1Z2luVmlld3M9ZnVuY3Rpb24oKXt2YXIgdDt3aGlsZSh0PXRoaXMucGx1Z2luVmlld3MucG9wKCkpdC5kZXN0cm95JiZ0LmRlc3Ryb3koKX0sTW4ucHJvdG90eXBlLnVwZGF0ZVBsdWdpblZpZXdzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodCYmdC5wbHVnaW5zPT10aGlzLnN0YXRlLnBsdWdpbnMpZm9yKHZhciBuPTA7bjx0aGlzLnBsdWdpblZpZXdzLmxlbmd0aDtuKyspe3ZhciByPWUucGx1Z2luVmlld3Nbbl07ci51cGRhdGUmJnIudXBkYXRlKGUsdCl9ZWxzZXt0aGlzLmRlc3Ryb3lQbHVnaW5WaWV3cygpO2Zvcih2YXIgbz0wO288dGhpcy5zdGF0ZS5wbHVnaW5zLmxlbmd0aDtvKyspe3ZhciBpPWUuc3RhdGUucGx1Z2luc1tvXTtpLnNwZWMudmlldyYmZS5wbHVnaW5WaWV3cy5wdXNoKGkuc3BlYy52aWV3KGUpKX19fSxNbi5wcm90b3R5cGUuc29tZVByb3A9ZnVuY3Rpb24odCxlKXt2YXIgbixyPXRoaXMuX3Byb3BzJiZ0aGlzLl9wcm9wc1t0XTtpZihudWxsIT1yJiYobj1lP2Uocik6cikpcmV0dXJuIG47dmFyIG89dGhpcy5zdGF0ZS5wbHVnaW5zO2lmKG8pZm9yKHZhciBpPTA7aTxvLmxlbmd0aDtpKyspe3ZhciBhPW9baV0ucHJvcHNbdF07aWYobnVsbCE9YSYmKG49ZT9lKGEpOmEpKXJldHVybiBufX0sTW4ucHJvdG90eXBlLmhhc0ZvY3VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdC5hY3RpdmVFbGVtZW50PT10aGlzLmRvbX0sTW4ucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKCl7dGhpcy5kb21PYnNlcnZlci5zdG9wKCksVnQodGhpcywhMCksdGhpcy5lZGl0YWJsZSYmKHRoaXMuZG9tLnNldEFjdGl2ZT90aGlzLmRvbS5zZXRBY3RpdmUoKTp0aGlzLmRvbS5mb2N1cyh7cHJldmVudFNjcm9sbDohMH0pKSx0aGlzLmRvbU9ic2VydmVyLnN0YXJ0KCl9LE9uLnJvb3QuZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMuX3Jvb3Q7aWYobnVsbD09ZSlmb3IodmFyIG49dGhpcy5kb20ucGFyZW50Tm9kZTtuO249bi5wYXJlbnROb2RlKWlmKDk9PW4ubm9kZVR5cGV8fDExPT1uLm5vZGVUeXBlJiZuLmhvc3QpcmV0dXJuIHQuX3Jvb3Q9bjtyZXR1cm4gZXx8ZG9jdW1lbnR9LE1uLnByb3RvdHlwZS5wb3NBdENvb3Jkcz1mdW5jdGlvbih0KXtyZXR1cm4gUCh0aGlzLHQpfSxNbi5wcm90b3R5cGUuY29vcmRzQXRQb3M9ZnVuY3Rpb24odCl7cmV0dXJuIEkodGhpcyx0KX0sTW4ucHJvdG90eXBlLmRvbUF0UG9zPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRvY1ZpZXcuZG9tRnJvbVBvcyh0KX0sTW4ucHJvdG90eXBlLm5vZGVET009ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kb2NWaWV3LmRlc2NBdCh0KTtyZXR1cm4gZT9lLm5vZGVET006bnVsbH0sTW4ucHJvdG90eXBlLnBvc0F0RE9NPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0tMSk7dmFyIHI9dGhpcy5kb2NWaWV3LnBvc0Zyb21ET00odCxlLG4pO2lmKG51bGw9PXIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRPTSBwb3NpdGlvbiBub3QgaW5zaWRlIHRoZSBlZGl0b3IiKTtyZXR1cm4gcn0sTW4ucHJvdG90eXBlLmVuZE9mVGV4dGJsb2NrPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHEodGhpcyxlfHx0aGlzLnN0YXRlLHQpfSxNbi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZG9jVmlldyYmKEFlKHRoaXMpLHRoaXMuZGVzdHJveVBsdWdpblZpZXdzKCksdGhpcy5tb3VudGVkPyh0aGlzLmRvY1ZpZXcudXBkYXRlKHRoaXMuc3RhdGUuZG9jLFtdLENuKHRoaXMpLHRoaXMpLHRoaXMuZG9tLnRleHRDb250ZW50PSIiKTp0aGlzLmRvbS5wYXJlbnROb2RlJiZ0aGlzLmRvbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tKSx0aGlzLmRvY1ZpZXcuZGVzdHJveSgpLHRoaXMuZG9jVmlldz1udWxsKX0sTW4ucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIF9lKHRoaXMsdCl9LE1uLnByb3RvdHlwZS5kaXNwYXRjaD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wcm9wcy5kaXNwYXRjaFRyYW5zYWN0aW9uO2U/ZS5jYWxsKHRoaXMsdCk6dGhpcy51cGRhdGVTdGF0ZSh0aGlzLnN0YXRlLmFwcGx5KHQpKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTW4ucHJvdG90eXBlLE9uKSxlLkVkaXRvclZpZXc9TW4sZS5EZWNvcmF0aW9uPWNuLGUuRGVjb3JhdGlvblNldD1wbixlLl9fc2VyaWFsaXplRm9yQ2xpcGJvYXJkPWFlLGUuX19wYXJzZUZyb21DbGlwYm9hcmQ9c2UsZS5fX2VuZENvbXBvc2l0aW9uPVVlfSwiNzFjMSI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjNhMzgiKSxvPW4oIjI1ZWIiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIGksYSxzPVN0cmluZyhvKGUpKSxjPXIobiksbD1zLmxlbmd0aDtyZXR1cm4gYzwwfHxjPj1sP3Q/IiI6dm9pZCAwOihpPXMuY2hhckNvZGVBdChjKSxpPDU1Mjk2fHxpPjU2MzE5fHxjKzE9PT1sfHwoYT1zLmNoYXJDb2RlQXQoYysxKSk8NTYzMjB8fGE+NTczNDM/dD9zLmNoYXJBdChjKTppOnQ/cy5zbGljZShjLGMrMik6YS01NjMyMCsoaS01NTI5Njw8MTApKzY1NTM2KX19fSwiNzJhOCI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9bigiNmZmYiIpLG89bigiYjkyMyIpLGk9ZnVuY3Rpb24odCxlKXt0aGlzLm1hdGNoPXQsdGhpcy5oYW5kbGVyPSJzdHJpbmciPT10eXBlb2YgZT9hKGUpOmV9O2Z1bmN0aW9uIGEodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixyLG8pe3ZhciBpPXQ7aWYoblsxXSl7dmFyIGE9blswXS5sYXN0SW5kZXhPZihuWzFdKTtpKz1uWzBdLnNsaWNlKGErblsxXS5sZW5ndGgpLHIrPWE7dmFyIHM9ci1vO3M+MCYmKGk9blswXS5zbGljZShhLXMsYSkraSxyPW8pfXJldHVybiBlLnRyLmluc2VydFRleHQoaSxyLG8pfX12YXIgcz01MDA7ZnVuY3Rpb24gYyh0KXt2YXIgZT10LnJ1bGVzLG49bmV3IHIuUGx1Z2luKHtzdGF0ZTp7aW5pdDpmdW5jdGlvbigpe3JldHVybiBudWxsfSxhcHBseTpmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0TWV0YSh0aGlzKTtyZXR1cm4gbnx8KHQuc2VsZWN0aW9uU2V0fHx0LmRvY0NoYW5nZWQ/bnVsbDplKX19LHByb3BzOntoYW5kbGVUZXh0SW5wdXQ6ZnVuY3Rpb24odCxyLG8saSl7cmV0dXJuIGwodCxyLG8saSxlLG4pfSxoYW5kbGVET01FdmVudHM6e2NvbXBvc2l0aW9uZW5kOmZ1bmN0aW9uKHQpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dmFyIHI9dC5zdGF0ZS5zZWxlY3Rpb24sbz1yLiRjdXJzb3I7byYmbCh0LG8ucG9zLG8ucG9zLCIiLGUsbil9KSl9fX0saXNJbnB1dFJ1bGVzOiEwfSk7cmV0dXJuIG59ZnVuY3Rpb24gbCh0LGUsbixyLG8saSl7aWYodC5jb21wb3NpbmcpcmV0dXJuITE7dmFyIGE9dC5zdGF0ZSxjPWEuZG9jLnJlc29sdmUoZSk7aWYoYy5wYXJlbnQudHlwZS5zcGVjLmNvZGUpcmV0dXJuITE7Zm9yKHZhciBsPWMucGFyZW50LnRleHRCZXR3ZWVuKE1hdGgubWF4KDAsYy5wYXJlbnRPZmZzZXQtcyksYy5wYXJlbnRPZmZzZXQsbnVsbCwi77+8Iikrcix1PTA7dTxvLmxlbmd0aDt1Kyspe3ZhciBmPW9bdV0ubWF0Y2guZXhlYyhsKSxwPWYmJm9bdV0uaGFuZGxlcihhLGYsZS0oZlswXS5sZW5ndGgtci5sZW5ndGgpLG4pO2lmKHApcmV0dXJuIHQuZGlzcGF0Y2gocC5zZXRNZXRhKGkse3RyYW5zZm9ybTpwLGZyb206ZSx0bzpuLHRleHQ6cn0pKSwhMH1yZXR1cm4hMX1mdW5jdGlvbiB1KHQsZSl7Zm9yKHZhciBuPXQucGx1Z2lucyxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl0saT12b2lkIDA7aWYoby5zcGVjLmlzSW5wdXRSdWxlcyYmKGk9by5nZXRTdGF0ZSh0KSkpe2lmKGUpe2Zvcih2YXIgYT10LnRyLHM9aS50cmFuc2Zvcm0sYz1zLnN0ZXBzLmxlbmd0aC0xO2M+PTA7Yy0tKWEuc3RlcChzLnN0ZXBzW2NdLmludmVydChzLmRvY3NbY10pKTt2YXIgbD1hLmRvYy5yZXNvbHZlKGkuZnJvbSkubWFya3MoKTtlKGEucmVwbGFjZVdpdGgoaS5mcm9tLGkudG8sdC5zY2hlbWEudGV4dChpLnRleHQsbCkpKX1yZXR1cm4hMH19cmV0dXJuITF9dmFyIGY9bmV3IGkoLy0tJC8sIuKAlCIpLHA9bmV3IGkoL1wuXC5cLiQvLCLigKYiKSxoPW5ldyBpKC8oPzpefFtcc1x7XFtcKFw8JyJcdTIwMThcdTIwMUNdKSgiKSQvLCLigJwiKSxkPW5ldyBpKC8iJC8sIuKAnSIpLHY9bmV3IGkoLyg/Ol58W1xzXHtcW1woXDwnIlx1MjAxOFx1MjAxQ10pKCcpJC8sIuKAmCIpLG09bmV3IGkoLyckLywi4oCZIiksZz1baCxkLHYsbV07ZnVuY3Rpb24geSh0LGUsbixyKXtyZXR1cm4gbmV3IGkodCwoZnVuY3Rpb24odCxpLGEscyl7dmFyIGM9biBpbnN0YW5jZW9mIEZ1bmN0aW9uP24oaSk6bixsPXQudHIuZGVsZXRlKGEscyksdT1sLmRvYy5yZXNvbHZlKGEpLGY9dS5ibG9ja1JhbmdlKCkscD1mJiZvLmZpbmRXcmFwcGluZyhmLGUsYyk7aWYoIXApcmV0dXJuIG51bGw7bC53cmFwKGYscCk7dmFyIGg9bC5kb2MucmVzb2x2ZShhLTEpLm5vZGVCZWZvcmU7cmV0dXJuIGgmJmgudHlwZT09ZSYmby5jYW5Kb2luKGwuZG9jLGEtMSkmJighcnx8cihpLGgpKSYmbC5qb2luKGEtMSksbH0pKX1mdW5jdGlvbiB3KHQsZSxuKXtyZXR1cm4gbmV3IGkodCwoZnVuY3Rpb24odCxyLG8saSl7dmFyIGE9dC5kb2MucmVzb2x2ZShvKSxzPW4gaW5zdGFuY2VvZiBGdW5jdGlvbj9uKHIpOm47cmV0dXJuIGEubm9kZSgtMSkuY2FuUmVwbGFjZVdpdGgoYS5pbmRleCgtMSksYS5pbmRleEFmdGVyKC0xKSxlKT90LnRyLmRlbGV0ZShvLGkpLnNldEJsb2NrVHlwZShvLG8sZSxzKTpudWxsfSkpfWUuSW5wdXRSdWxlPWksZS5pbnB1dFJ1bGVzPWMsZS51bmRvSW5wdXRSdWxlPXUsZS5lbURhc2g9ZixlLmVsbGlwc2lzPXAsZS5vcGVuRG91YmxlUXVvdGU9aCxlLmNsb3NlRG91YmxlUXVvdGU9ZCxlLm9wZW5TaW5nbGVRdW90ZT12LGUuY2xvc2VTaW5nbGVRdW90ZT1tLGUuc21hcnRRdW90ZXM9ZyxlLndyYXBwaW5nSW5wdXRSdWxlPXksZS50ZXh0YmxvY2tUeXBlSW5wdXRSdWxlPXd9LDc3MjY6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LCI3N2YxIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiNDU4OCIpLG89TWF0aC5tYXgsaT1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD1yKHQpLHQ8MD9vKHQrZSwwKTppKHQsZSl9fSwiNzk0YiI6ZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz0hbigiOGU2MCIpJiYhbigiMjk0YyIpKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkobigiMWVjOSIpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KSl9LCI3OWFhIjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBUeXBlRXJyb3IodCsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiB0fX0sIjc5ZTUiOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4hIXQoKX1jYXRjaChlKXtyZXR1cm4hMH19fSwiN2E4NyI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9bigiYjkyMyIpLG89bigiNmYyNyIpLGk9WyJvbCIsMF0sYT1bInVsIiwwXSxzPVsibGkiLDBdLGM9e2F0dHJzOntvcmRlcjp7ZGVmYXVsdDoxfX0scGFyc2VET006W3t0YWc6Im9sIixnZXRBdHRyczpmdW5jdGlvbih0KXtyZXR1cm57b3JkZXI6dC5oYXNBdHRyaWJ1dGUoInN0YXJ0Iik/K3QuZ2V0QXR0cmlidXRlKCJzdGFydCIpOjF9fX1dLHRvRE9NOmZ1bmN0aW9uKHQpe3JldHVybiAxPT10LmF0dHJzLm9yZGVyP2k6WyJvbCIse3N0YXJ0OnQuYXR0cnMub3JkZXJ9LDBdfX0sbD17cGFyc2VET006W3t0YWc6InVsIn1dLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuIGF9fSx1PXtwYXJzZURPTTpbe3RhZzoibGkifV0sdG9ET006ZnVuY3Rpb24oKXtyZXR1cm4gc30sZGVmaW5pbmc6ITB9O2Z1bmN0aW9uIGYodCxlKXt2YXIgbj17fTtmb3IodmFyIHIgaW4gdCluW3JdPXRbcl07Zm9yKHZhciBvIGluIGUpbltvXT1lW29dO3JldHVybiBufWZ1bmN0aW9uIHAodCxlLG4pe3JldHVybiB0LmFwcGVuZCh7b3JkZXJlZF9saXN0OmYoYyx7Y29udGVudDoibGlzdF9pdGVtKyIsZ3JvdXA6bn0pLGJ1bGxldF9saXN0OmYobCx7Y29udGVudDoibGlzdF9pdGVtKyIsZ3JvdXA6bn0pLGxpc3RfaXRlbTpmKHUse2NvbnRlbnQ6ZX0pfSl9ZnVuY3Rpb24gaCh0LGUpe3JldHVybiBmdW5jdGlvbihuLGkpe3ZhciBhPW4uc2VsZWN0aW9uLHM9YS4kZnJvbSxjPWEuJHRvLGw9cy5ibG9ja1JhbmdlKGMpLHU9ITEsZj1sO2lmKCFsKXJldHVybiExO2lmKGwuZGVwdGg+PTImJnMubm9kZShsLmRlcHRoLTEpLnR5cGUuY29tcGF0aWJsZUNvbnRlbnQodCkmJjA9PWwuc3RhcnRJbmRleCl7aWYoMD09cy5pbmRleChsLmRlcHRoLTEpKXJldHVybiExO3ZhciBwPW4uZG9jLnJlc29sdmUobC5zdGFydC0yKTtmPW5ldyBvLk5vZGVSYW5nZShwLHAsbC5kZXB0aCksbC5lbmRJbmRleDxsLnBhcmVudC5jaGlsZENvdW50JiYobD1uZXcgby5Ob2RlUmFuZ2UocyxuLmRvYy5yZXNvbHZlKGMuZW5kKGwuZGVwdGgpKSxsLmRlcHRoKSksdT0hMH12YXIgaD1yLmZpbmRXcmFwcGluZyhmLHQsZSxsKTtyZXR1cm4hIWgmJihpJiZpKGQobi50cixsLGgsdSx0KS5zY3JvbGxJbnRvVmlldygpKSwhMCl9fWZ1bmN0aW9uIGQodCxlLG4saSxhKXtmb3IodmFyIHM9by5GcmFnbWVudC5lbXB0eSxjPW4ubGVuZ3RoLTE7Yz49MDtjLS0pcz1vLkZyYWdtZW50LmZyb20obltjXS50eXBlLmNyZWF0ZShuW2NdLmF0dHJzLHMpKTt0LnN0ZXAobmV3IHIuUmVwbGFjZUFyb3VuZFN0ZXAoZS5zdGFydC0oaT8yOjApLGUuZW5kLGUuc3RhcnQsZS5lbmQsbmV3IG8uU2xpY2UocywwLDApLG4ubGVuZ3RoLCEwKSk7Zm9yKHZhciBsPTAsdT0wO3U8bi5sZW5ndGg7dSsrKW5bdV0udHlwZT09YSYmKGw9dSsxKTtmb3IodmFyIGY9bi5sZW5ndGgtbCxwPWUuc3RhcnQrbi5sZW5ndGgtKGk/MjowKSxoPWUucGFyZW50LGQ9ZS5zdGFydEluZGV4LHY9ZS5lbmRJbmRleCxtPSEwO2Q8djtkKyssbT0hMSkhbSYmci5jYW5TcGxpdCh0LmRvYyxwLGYpJiYodC5zcGxpdChwLGYpLHArPTIqZikscCs9aC5jaGlsZChkKS5ub2RlU2l6ZTtyZXR1cm4gdH1mdW5jdGlvbiB2KHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciBpPWUuc2VsZWN0aW9uLGE9aS4kZnJvbSxzPWkuJHRvLGM9aS5ub2RlO2lmKGMmJmMuaXNCbG9ja3x8YS5kZXB0aDwyfHwhYS5zYW1lUGFyZW50KHMpKXJldHVybiExO3ZhciBsPWEubm9kZSgtMSk7aWYobC50eXBlIT10KXJldHVybiExO2lmKDA9PWEucGFyZW50LmNvbnRlbnQuc2l6ZSl7aWYoMj09YS5kZXB0aHx8YS5ub2RlKC0zKS50eXBlIT10fHxhLmluZGV4KC0yKSE9YS5ub2RlKC0yKS5jaGlsZENvdW50LTEpcmV0dXJuITE7aWYobil7Zm9yKHZhciB1PW8uRnJhZ21lbnQuZW1wdHksZj1hLmluZGV4KC0xKT4wLHA9YS5kZXB0aC0oZj8xOjIpO3A+PWEuZGVwdGgtMztwLS0pdT1vLkZyYWdtZW50LmZyb20oYS5ub2RlKHApLmNvcHkodSkpO3U9dS5hcHBlbmQoby5GcmFnbWVudC5mcm9tKHQuY3JlYXRlQW5kRmlsbCgpKSk7dmFyIGg9ZS50ci5yZXBsYWNlKGEuYmVmb3JlKGY/bnVsbDotMSksYS5hZnRlcigtMyksbmV3IG8uU2xpY2UodSxmPzM6MiwyKSk7aC5zZXRTZWxlY3Rpb24oZS5zZWxlY3Rpb24uY29uc3RydWN0b3IubmVhcihoLmRvYy5yZXNvbHZlKGEucG9zKyhmPzM6MikpKSksbihoLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfXZhciBkPXMucG9zPT1hLmVuZCgpP2wuY29udGVudE1hdGNoQXQoYS5pbmRleEFmdGVyKC0xKSkuZGVmYXVsdFR5cGU6bnVsbCx2PWUudHIuZGVsZXRlKGEucG9zLHMucG9zKSxtPWQmJltudWxsLHt0eXBlOmR9XTtyZXR1cm4hIXIuY2FuU3BsaXQodi5kb2MsYS5wb3MsMixtKSYmKG4mJm4odi5zcGxpdChhLnBvcywyLG0pLnNjcm9sbEludG9WaWV3KCkpLCEwKX19ZnVuY3Rpb24gbSh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgcj1lLnNlbGVjdGlvbixvPXIuJGZyb20saT1yLiR0byxhPW8uYmxvY2tSYW5nZShpLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGlsZENvdW50JiZlLmZpcnN0Q2hpbGQudHlwZT09dH0pKTtyZXR1cm4hIWEmJighbnx8KG8ubm9kZShhLmRlcHRoLTEpLnR5cGU9PXQ/ZyhlLG4sdCxhKTp5KGUsbixhKSkpfX1mdW5jdGlvbiBnKHQsZSxuLGkpe3ZhciBhPXQudHIscz1pLmVuZCxjPWkuJHRvLmVuZChpLmRlcHRoKTtyZXR1cm4gczxjJiYoYS5zdGVwKG5ldyByLlJlcGxhY2VBcm91bmRTdGVwKHMtMSxjLHMsYyxuZXcgby5TbGljZShvLkZyYWdtZW50LmZyb20obi5jcmVhdGUobnVsbCxpLnBhcmVudC5jb3B5KCkpKSwxLDApLDEsITApKSxpPW5ldyBvLk5vZGVSYW5nZShhLmRvYy5yZXNvbHZlKGkuJGZyb20ucG9zKSxhLmRvYy5yZXNvbHZlKGMpLGkuZGVwdGgpKSxlKGEubGlmdChpLHIubGlmdFRhcmdldChpKSkuc2Nyb2xsSW50b1ZpZXcoKSksITB9ZnVuY3Rpb24geSh0LGUsbil7Zm9yKHZhciBpPXQudHIsYT1uLnBhcmVudCxzPW4uZW5kLGM9bi5lbmRJbmRleC0xLGw9bi5zdGFydEluZGV4O2M+bDtjLS0pcy09YS5jaGlsZChjKS5ub2RlU2l6ZSxpLmRlbGV0ZShzLTEscysxKTt2YXIgdT1pLmRvYy5yZXNvbHZlKG4uc3RhcnQpLGY9dS5ub2RlQWZ0ZXIscD0wPT1uLnN0YXJ0SW5kZXgsaD1uLmVuZEluZGV4PT1hLmNoaWxkQ291bnQsZD11Lm5vZGUoLTEpLHY9dS5pbmRleCgtMSk7aWYoIWQuY2FuUmVwbGFjZSh2KyhwPzA6MSksdisxLGYuY29udGVudC5hcHBlbmQoaD9vLkZyYWdtZW50LmVtcHR5Om8uRnJhZ21lbnQuZnJvbShhKSkpKXJldHVybiExO3ZhciBtPXUucG9zLGc9bStmLm5vZGVTaXplO3JldHVybiBpLnN0ZXAobmV3IHIuUmVwbGFjZUFyb3VuZFN0ZXAobS0ocD8xOjApLGcrKGg/MTowKSxtKzEsZy0xLG5ldyBvLlNsaWNlKChwP28uRnJhZ21lbnQuZW1wdHk6by5GcmFnbWVudC5mcm9tKGEuY29weShvLkZyYWdtZW50LmVtcHR5KSkpLmFwcGVuZChoP28uRnJhZ21lbnQuZW1wdHk6by5GcmFnbWVudC5mcm9tKGEuY29weShvLkZyYWdtZW50LmVtcHR5KSkpLHA/MDoxLGg/MDoxKSxwPzA6MSkpLGUoaS5zY3JvbGxJbnRvVmlldygpKSwhMH1mdW5jdGlvbiB3KHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciBpPWUuc2VsZWN0aW9uLGE9aS4kZnJvbSxzPWkuJHRvLGM9YS5ibG9ja1JhbmdlKHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoaWxkQ291bnQmJmUuZmlyc3RDaGlsZC50eXBlPT10fSkpO2lmKCFjKXJldHVybiExO3ZhciBsPWMuc3RhcnRJbmRleDtpZigwPT1sKXJldHVybiExO3ZhciB1PWMucGFyZW50LGY9dS5jaGlsZChsLTEpO2lmKGYudHlwZSE9dClyZXR1cm4hMTtpZihuKXt2YXIgcD1mLmxhc3RDaGlsZCYmZi5sYXN0Q2hpbGQudHlwZT09dS50eXBlLGg9by5GcmFnbWVudC5mcm9tKHA/dC5jcmVhdGUoKTpudWxsKSxkPW5ldyBvLlNsaWNlKG8uRnJhZ21lbnQuZnJvbSh0LmNyZWF0ZShudWxsLG8uRnJhZ21lbnQuZnJvbSh1LnR5cGUuY3JlYXRlKG51bGwsaCkpKSkscD8zOjEsMCksdj1jLnN0YXJ0LG09Yy5lbmQ7bihlLnRyLnN0ZXAobmV3IHIuUmVwbGFjZUFyb3VuZFN0ZXAodi0ocD8zOjEpLG0sdixtLGQsMSwhMCkpLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfX1lLm9yZGVyZWRMaXN0PWMsZS5idWxsZXRMaXN0PWwsZS5saXN0SXRlbT11LGUuYWRkTGlzdE5vZGVzPXAsZS53cmFwSW5MaXN0PWgsZS5zcGxpdExpc3RJdGVtPXYsZS5saWZ0TGlzdEl0ZW09bSxlLnNpbmtMaXN0SXRlbT13fSwiN2NkNiI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjQwYzMiKSxvPW4oIjUxNjgiKSgiaXRlcmF0b3IiKSxpPW4oIjQ4MWIiKTt0LmV4cG9ydHM9bigiNTg0YSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9dClyZXR1cm4gdFtvXXx8dFsiQEBpdGVyYXRvciJdfHxpW3IodCldfX0sIjdkN2IiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJlNGFlIiksbz1uKCI3Y2Q2Iik7dC5leHBvcnRzPW4oIjU4NGEiKS5nZXRJdGVyYXRvcj1mdW5jdGlvbih0KXt2YXIgZT1vKHQpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcih0KyIgaXMgbm90IGl0ZXJhYmxlISIpO3JldHVybiByKGUuY2FsbCh0KSl9fSwiN2U5MCI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImQ5ZjYiKSxvPW4oImU0YWUiKSxpPW4oImMzYTEiKTt0LmV4cG9ydHM9bigiOGU2MCIpP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKHQsZSl7byh0KTt2YXIgbixhPWkoZSkscz1hLmxlbmd0aCxjPTA7d2hpbGUocz5jKXIuZih0LG49YVtjKytdLGVbbl0pO3JldHVybiB0fX0sIjdmMjAiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI4NmNjIikuZixvPW4oIjY5YTgiKSxpPW4oIjJiNGMiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3QmJiFvKHQ9bj90OnQucHJvdG90eXBlLGkpJiZyKHQsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOmV9KX19LCI3ZjdmIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiODZjYyIpLmYsbz1GdW5jdGlvbi5wcm90b3R5cGUsaT0vXlxzKmZ1bmN0aW9uIChbXiAoXSopLyxhPSJuYW1lIjthIGluIG98fG4oIjllMWUiKSYmcihvLGEse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuKCIiK3RoaXMpLm1hdGNoKGkpWzFdfWNhdGNoKHQpe3JldHVybiIifX19KX0sODM3ODpmdW5jdGlvbih0LGUpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjoiMi42LjkifTsibnVtYmVyIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0sODQzNjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbigpe319LCI4NGYyIjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17fX0sIjg2Y2MiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJjYjdjIiksbz1uKCJjNjlhIiksaT1uKCI2YTk5IiksYT1PYmplY3QuZGVmaW5lUHJvcGVydHk7ZS5mPW4oIjllMWUiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24odCxlLG4pe2lmKHIodCksZT1pKGUsITApLHIobiksbyl0cnl7cmV0dXJuIGEodCxlLG4pfWNhdGNoKHMpe31pZigiZ2V0ImluIG58fCJzZXQiaW4gbil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiBuJiYodFtlXT1uLnZhbHVlKSx0fX0sIjhiYmYiOmZ1bmN0aW9uKGUsbil7ZS5leHBvcnRzPXR9LCI4ZTYwIjpmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPSFuKCIyOTRjIikoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KSl9LCI4ZjYwIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImExNTkiKSxvPW4oImFlYmQiKSxpPW4oIjQ1ZjIiKSxhPXt9O24oIjM1ZTgiKShhLG4oIjUxNjgiKSgiaXRlcmF0b3IiKSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSx0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3QucHJvdG90eXBlPXIoYSx7bmV4dDpvKDEsbil9KSxpKHQsZSsiIEl0ZXJhdG9yIil9fSw5MDAzOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI2YjRjIik7dC5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVybiJBcnJheSI9PXIodCl9fSw5MTM4OmZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigiMzVlOCIpfSwiOTVkNSI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjQwYzMiKSxvPW4oIjUxNjgiKSgiaXRlcmF0b3IiKSxpPW4oIjQ4MWIiKTt0LmV4cG9ydHM9bigiNTg0YSIpLmlzSXRlcmFibGU9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0KHQpO3JldHVybiB2b2lkIDAhPT1lW29dfHwiQEBpdGVyYXRvciJpbiBlfHxpLmhhc093blByb3BlcnR5KHIoZSkpfX0sIjk4NmQiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciByPW4oIjZmZmIiKSxvPW4oIjZmMjciKSxpPW4oImZjODgiKSxhPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1WKHQpKGUuc2VsZWN0aW9uKTtyZXR1cm4gbj94KG4ucG9zKShlKTplfX0scz1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pO2Zvcih2YXIgcj0wLG89dC5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9Vih0W3JdKShuLnNlbGVjdGlvbik7aWYoaSl7dmFyIGE9ayhpLnBvcyxlKShuKTtpZihhIT09bilyZXR1cm4gYX19cmV0dXJuIG59fSxjPWZ1bmN0aW9uKHQpe2lmKHkodC5zZWxlY3Rpb24pKXt2YXIgZT10LnNlbGVjdGlvbi4kZnJvbS5wb3Msbj10LnNlbGVjdGlvbi4kdG8ucG9zO3JldHVybiBiKHQuZGVsZXRlKGUsbikpfXJldHVybiB0fSxsPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtpZih5KGUuc2VsZWN0aW9uKSl7dmFyIG49ZS5zZWxlY3Rpb24saT1uLiRmcm9tLGE9bi4kdG87aWYodCBpbnN0YW5jZW9mIG8uRnJhZ21lbnQmJmkucGFyZW50LmNhblJlcGxhY2UoaS5pbmRleCgpLGkuaW5kZXhBZnRlcigpLHQpfHxpLnBhcmVudC5jYW5SZXBsYWNlV2l0aChpLmluZGV4KCksaS5pbmRleEFmdGVyKCksdC50eXBlKSlyZXR1cm4gYihlLnJlcGxhY2VXaXRoKGkucG9zLGEucG9zLHQpLnNldFNlbGVjdGlvbihuZXcgci5Ob2RlU2VsZWN0aW9uKGUuZG9jLnJlc29sdmUoaS5wb3MpKSkpfXJldHVybiBlfX0sdT1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG89ci5TZWxlY3Rpb24uZmluZEZyb20obi5kb2MucmVzb2x2ZSh0KSxlLCEwKTtyZXR1cm4gbz9uLnNldFNlbGVjdGlvbihvKTpufX0sZj1mdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlJiZ0LnR5cGUuc3BlYy5zZWxlY3RhYmxlfSxwPWZ1bmN0aW9uKHQpe3JldHVybiBmKHQpJiZ0LnR5cGUuaXNMZWFmfSxoPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gcCh0KT9uLnNldFNlbGVjdGlvbihuZXcgci5Ob2RlU2VsZWN0aW9uKG4uZG9jLnJlc29sdmUoZSkpKTp1KGUpKG4pfSxkPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIG89Im51bWJlciI9PT10eXBlb2YgZSxpPXIuc2VsZWN0aW9uLiRmcm9tLGE9bz9yLmRvYy5yZXNvbHZlKGUpOnkoci5zZWxlY3Rpb24pP3IuZG9jLnJlc29sdmUoaS5wb3MrMSk6aSxjPWEucGFyZW50O2lmKHkoci5zZWxlY3Rpb24pJiZuKXt2YXIgdT1yO2lmKHI9bCh0KShyKSx1IT09cilyZXR1cm4gcn1pZihPKGMpKXt2YXIgcD1yO2lmKHI9cyhjLnR5cGUsdCkocikscCE9PXIpe3ZhciBkPWYodCk/YS5iZWZvcmUoYS5kZXB0aCk6YS5wb3M7cmV0dXJuIGgodCxkLHIpfX1pZihNKGEsdCkpe3IuaW5zZXJ0KGEucG9zLHQpO3ZhciB2PW8/YS5wb3M6Zih0KT9yLnNlbGVjdGlvbi4kYW5jaG9yLnBvcy0xOnIuc2VsZWN0aW9uLiRhbmNob3IucG9zO3JldHVybiBiKGgodCx2LHIpKX1mb3IodmFyIG09YS5kZXB0aDttPjA7bS0tKXt2YXIgZz1hLmFmdGVyKG0pLHc9ci5kb2MucmVzb2x2ZShnKTtpZihNKHcsdCkpcmV0dXJuIHIuaW5zZXJ0KGcsdCksYihoKHQsZyxyKSl9cmV0dXJuIHJ9fSx2PWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBmdW5jdGlvbihvKXt2YXIgaT1WKHQpKG8uc2VsZWN0aW9uKTtyZXR1cm4gaT9iKG8uc2V0Tm9kZU1hcmt1cChpLnBvcyxlLE9iamVjdC5hc3NpZ24oe30saS5ub2RlLmF0dHJzLG4pLHIpKTpvfX0sbT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoIXkoZS5zZWxlY3Rpb24pKXt2YXIgbj1WKHQpKGUuc2VsZWN0aW9uKTtpZihuKXJldHVybiBiKGUuc2V0U2VsZWN0aW9uKHIuTm9kZVNlbGVjdGlvbi5jcmVhdGUoZS5kb2Msbi5wb3MpKSl9cmV0dXJuIGV9fSxnPWZ1bmN0aW9uKHQpe3ZhciBlPXEodC5zZWxlY3Rpb24pO3JldHVybiJudW1iZXIiPT09dHlwZW9mIGU/eChlKSh0KTp0fSx5PWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygci5Ob2RlU2VsZWN0aW9ufSx3PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCkmJnQuaW5kZXhPZihlLnR5cGUpPi0xfHxlLnR5cGU9PT10fSxiPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUodCksdCkuc2V0VGltZShEYXRlLm5vdygpKX0saz1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgcj1uLmRvYy5ub2RlQXQodCksbz1uLmRvYy5yZXNvbHZlKHQpO2lmKFMobyxlKSl7bj1uLnJlcGxhY2VXaXRoKHQsdCtyLm5vZGVTaXplLGUpO3ZhciBpPW4uc2VsZWN0aW9uLiRmcm9tLnBvcy0xO3JldHVybiBuPXUoTWF0aC5tYXgoaSwwKSwtMSkobiksbj11KG4uc2VsZWN0aW9uLiRmcm9tLnN0YXJ0KCkpKG4pLGIobil9cmV0dXJuIG59fSxTPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5ub2RlKHQuZGVwdGgpO3JldHVybiBuJiZuLnR5cGUudmFsaWRDb250ZW50KGUgaW5zdGFuY2VvZiBvLkZyYWdtZW50P2U6by5GcmFnbWVudC5mcm9tKGUpKX0seD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49ZS5kb2Mubm9kZUF0KHQpO3JldHVybiBiKGUuZGVsZXRlKHQsdCtuLm5vZGVTaXplKSl9fSxDPWZ1bmN0aW9uKHQpe2lmKHQuY2FjaGVkLnRhYmxlTm9kZVR5cGVzKXJldHVybiB0LmNhY2hlZC50YWJsZU5vZGVUeXBlczt2YXIgZT17fTtyZXR1cm4gT2JqZWN0LmtleXModC5ub2RlcykuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIHI9dC5ub2Rlc1tuXTtyLnNwZWMudGFibGVSb2xlJiYoZVtyLnNwZWMudGFibGVSb2xlXT1yKX0pKSx0LmNhY2hlZC50YWJsZU5vZGVUeXBlcz1lLGV9LE09ZnVuY3Rpb24odCxlKXt2YXIgbj10LmluZGV4KCk7cmV0dXJuIGUgaW5zdGFuY2VvZiBvLkZyYWdtZW50P3QucGFyZW50LmNhblJlcGxhY2UobixuLGUpOmUgaW5zdGFuY2VvZiBvLk5vZGUmJnQucGFyZW50LmNhblJlcGxhY2VXaXRoKG4sbixlLnR5cGUpfSxPPWZ1bmN0aW9uKHQpe3JldHVybiF0fHwicGFyYWdyYXBoIj09PXQudHlwZS5uYW1lJiYyPT09dC5ub2RlU2l6ZX0sQT1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlLnNwZWMudGFibGVSb2xlJiYvdGFibGUvaS50ZXN0KHQudHlwZS5zcGVjLnRhYmxlUm9sZSl9O3JldHVybiBCKHQsZSl9LFQ9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGw7cmV0dXJuIGU/dC5jcmVhdGVDaGVja2VkKG51bGwsZSk6dC5jcmVhdGVBbmRGaWxsKCl9LE49ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Zvcih2YXIgbj1pLlRhYmxlTWFwLmdldChlLiRhbmNob3JDZWxsLm5vZGUoLTEpKSxyPWUuJGFuY2hvckNlbGwuc3RhcnQoLTEpLG89bi5jZWxsc0luUmVjdCh0KSxhPW4uY2VsbHNJblJlY3Qobi5yZWN0QmV0d2VlbihlLiRhbmNob3JDZWxsLnBvcy1yLGUuJGhlYWRDZWxsLnBvcy1yKSkscz0wLGM9by5sZW5ndGg7czxjO3MrKylpZigtMT09PWEuaW5kZXhPZihvW3NdKSlyZXR1cm4hMTtyZXR1cm4hMH19LEU9ZnVuY3Rpb24odCl7cmV0dXJuIHRbMF0ubWFwKChmdW5jdGlvbihlLG4pe3JldHVybiB0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbbl19KSl9KSl9LF89ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWkuVGFibGVNYXAuZ2V0KHQpLG49W10scj0wO3I8ZS5oZWlnaHQ7cisrKXtmb3IodmFyIG89W10sYT17fSxzPTA7czxlLndpZHRoO3MrKyl7dmFyIGM9ZS5tYXBbciplLndpZHRoK3NdLGw9dC5ub2RlQXQoYyksdT1lLmZpbmRDZWxsKGMpO2FbY118fHUudG9wIT09cj9vLnB1c2gobnVsbCk6KGFbY109ITAsby5wdXNoKGwpKX1uLnB1c2gobyl9cmV0dXJuIG59LFI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10scj1pLlRhYmxlTWFwLmdldCh0KSxvPTA7bzxyLmhlaWdodDtvKyspe2Zvcih2YXIgYT10LmNoaWxkKG8pLHM9W10sYz0wO2M8ci53aWR0aDtjKyspaWYoZVtvXVtjXSl7dmFyIGw9ci5tYXBbbypyLndpZHRoK2NdLHU9ZVtvXVtjXSxmPXQubm9kZUF0KGwpLHA9Zi50eXBlLmNyZWF0ZUNoZWNrZWQoT2JqZWN0LmFzc2lnbih7fSx1LmF0dHJzKSx1LmNvbnRlbnQsdS5tYXJrcyk7cy5wdXNoKHApfW4ucHVzaChhLnR5cGUuY3JlYXRlQ2hlY2tlZChhLmF0dHJzLHMsYS5tYXJrcykpfXZhciBoPXQudHlwZS5jcmVhdGVDaGVja2VkKHQuYXR0cnMsbix0Lm1hcmtzKTtyZXR1cm4gaH0sRD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz1FKF8odC5ub2RlKSk7cmV0dXJuIG89eihvLGUsbixyKSxvPUUobyksUih0Lm5vZGUsbyl9LFA9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89Xyh0Lm5vZGUpO3JldHVybiBvPXoobyxlLG4sciksUih0Lm5vZGUsbyl9LHo9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89ZVswXT5uWzBdPy0xOjEsaT10LnNwbGljZShlWzBdLGUubGVuZ3RoKSxhPWkubGVuZ3RoJTI9PT0wPzE6MCxzPXZvaWQgMDtyZXR1cm4gcz0tMT09PXImJjE9PT1vP25bMF0tMToxPT09ciYmLTE9PT1vP25bbi5sZW5ndGgtMV0tYSsxOi0xPT09bz9uWzBdOm5bbi5sZW5ndGgtMV0tYSx0LnNwbGljZS5hcHBseSh0LFtzLDBdLmNvbmNhdChpKSksdH0sST1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10PmU/LTE6MSxpPSJUYXJnZXQgcG9zaXRpb24gaXMgaW52YWxpZCwgeW91IGNhbid0IG1vdmUgdGhlICIrcisiICIrdCsiIHRvICIrZSsiLCB0aGUgdGFyZ2V0IGNhbid0IGJlIHNwbGl0LiBZb3UgY291bGQgdXNlIHRyeVRvRml0IG9wdGlvbi4iO2lmKDE9PT1vKXtpZigtMSE9PW4uc2xpY2UoMCxuLmxlbmd0aC0xKS5pbmRleE9mKGUpKXRocm93IG5ldyBFcnJvcihpKX1lbHNlIGlmKC0xIT09bi5zbGljZSgxKS5pbmRleE9mKGUpKXRocm93IG5ldyBFcnJvcihpKTtyZXR1cm4hMH0saj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49ZS4kZnJvbTtyZXR1cm4gQihuLHQpfX0sQj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LmRlcHRoO24+MDtuLS0pe3ZhciByPXQubm9kZShuKTtpZihlKHIpKXJldHVybntwb3M6bj4wP3QuYmVmb3JlKG4pOjAsc3RhcnQ6dC5zdGFydChuKSxkZXB0aDpuLG5vZGU6cn19fSwkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciByPWoodCkobik7aWYocilyZXR1cm4gSyhyLnBvcyxlKX19LEY9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiEhaih0KShlKX19LFY9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBqKChmdW5jdGlvbihlKXtyZXR1cm4gdyh0LGUpfSkpKGUpfX0sTD1mdW5jdGlvbih0LGUpe3JldHVybiBCKHQsKGZ1bmN0aW9uKHQpe3JldHVybiB3KGUsdCl9KSl9LEg9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBGKChmdW5jdGlvbihlKXtyZXR1cm4gdyh0LGUpfSkpKGUpfX0sVz1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gJCgoZnVuY3Rpb24oZSl7cmV0dXJuIHcodCxlKX0pLGUpKG4pfX0sSj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoeShlKSl7dmFyIG49ZS5ub2RlLHI9ZS4kZnJvbTtpZih3KHQsbikpcmV0dXJue25vZGU6bixwb3M6ci5wb3MsZGVwdGg6ci5kZXB0aH19fX0scT1mdW5jdGlvbih0KXt2YXIgZT10LiRmcm9tLm5vZGVCZWZvcmUsbj1yLlNlbGVjdGlvbi5maW5kRnJvbSh0LiRmcm9tLC0xKTtpZihuJiZlKXt2YXIgbz1WKGUudHlwZSkobik7cmV0dXJuIG8/by5wb3M6bi4kZnJvbS5wb3N9fSxLPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZSh0KSxyPW4ubm9kZS5jaGlsZE5vZGVzW24ub2Zmc2V0XTtyZXR1cm4gbi5ub2RlLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREU/bi5ub2RlLnBhcmVudE5vZGU6ciYmci5ub2RlVHlwZSE9PU5vZGUuVEVYVF9OT0RFP3I6bi5ub2RlfSxVPWZ1bmN0aW9uKHQpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07aWYoIXQpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkICJub2RlIiBwYXJhbWV0ZXInKTt2YXIgbj1bXTtyZXR1cm4gdC5kZXNjZW5kYW50cygoZnVuY3Rpb24odCxyKXtpZihuLnB1c2goe25vZGU6dCxwb3M6cn0pLCFlKXJldHVybiExfSkpLG59LEc9ZnVuY3Rpb24odCxlLG4pe2lmKCF0KXRocm93IG5ldyBFcnJvcignSW52YWxpZCAibm9kZSIgcGFyYW1ldGVyJyk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkICJwcmVkaWNhdGUiIHBhcmFtZXRlcicpO3JldHVybiBVKHQsbikuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZSh0Lm5vZGUpfSkpfSxYPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEcodCwoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNUZXh0fSksZSl9LFk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gRyh0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5pc0lubGluZX0pLGUpfSxRPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEcodCwoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNCbG9ja30pLGUpfSxaPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gRyh0LChmdW5jdGlvbih0KXtyZXR1cm4hIWUodC5hdHRycyl9KSxuKX0sdHQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBHKHQsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PT1lfSksbil9LGV0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gRyh0LChmdW5jdGlvbih0KXtyZXR1cm4gZS5pc0luU2V0KHQubWFya3MpfSksbil9LG50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuISF0dCh0LGUpLmxlbmd0aH07ZnVuY3Rpb24gcnQodCl7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBlPTAsbj1BcnJheSh0Lmxlbmd0aCk7ZTx0Lmxlbmd0aDtlKyspbltlXT10W2VdO3JldHVybiBufXJldHVybiBBcnJheS5mcm9tKHQpfXZhciBvdD1mdW5jdGlvbih0KXtyZXR1cm4gaigoZnVuY3Rpb24odCl7cmV0dXJuIHQudHlwZS5zcGVjLnRhYmxlUm9sZSYmInRhYmxlIj09PXQudHlwZS5zcGVjLnRhYmxlUm9sZX0pKSh0KX0saXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBpLkNlbGxTZWxlY3Rpb259LGF0PWZ1bmN0aW9uKHQpe2lmKGl0KHQpKXt2YXIgZT10LiRhbmNob3JDZWxsLnN0YXJ0KC0xKSxuPWkuVGFibGVNYXAuZ2V0KHQuJGFuY2hvckNlbGwubm9kZSgtMSkpO3JldHVybiBuLnJlY3RCZXR3ZWVuKHQuJGFuY2hvckNlbGwucG9zLWUsdC4kaGVhZENlbGwucG9zLWUpfX0sc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKGl0KGUpKXt2YXIgbj1pLlRhYmxlTWFwLmdldChlLiRhbmNob3JDZWxsLm5vZGUoLTEpKTtyZXR1cm4gTih7bGVmdDp0LHJpZ2h0OnQrMSx0b3A6MCxib3R0b206bi5oZWlnaHR9KShlKX1yZXR1cm4hMX19LGN0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihpdChlKSl7dmFyIG49aS5UYWJsZU1hcC5nZXQoZS4kYW5jaG9yQ2VsbC5ub2RlKC0xKSk7cmV0dXJuIE4oe2xlZnQ6MCxyaWdodDpuLndpZHRoLHRvcDp0LGJvdHRvbTp0KzF9KShlKX1yZXR1cm4hMX19LGx0PWZ1bmN0aW9uKHQpe2lmKGl0KHQpKXt2YXIgZT1pLlRhYmxlTWFwLmdldCh0LiRhbmNob3JDZWxsLm5vZGUoLTEpKTtyZXR1cm4gTih7bGVmdDowLHJpZ2h0OmUud2lkdGgsdG9wOjAsYm90dG9tOmUuaGVpZ2h0fSkodCl9cmV0dXJuITF9LHV0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1vdChlKTtpZihuKXt2YXIgcj1pLlRhYmxlTWFwLmdldChuLm5vZGUpLG89QXJyYXkuaXNBcnJheSh0KT90OkFycmF5LmZyb20oW3RdKTtyZXR1cm4gby5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7aWYoZT49MCYmZTw9ci53aWR0aC0xKXt2YXIgbz1yLmNlbGxzSW5SZWN0KHtsZWZ0OmUscmlnaHQ6ZSsxLHRvcDowLGJvdHRvbTpyLmhlaWdodH0pO3JldHVybiB0LmNvbmNhdChvLm1hcCgoZnVuY3Rpb24odCl7dmFyIGU9bi5ub2RlLm5vZGVBdCh0KSxyPXQrbi5zdGFydDtyZXR1cm57cG9zOnIsc3RhcnQ6cisxLG5vZGU6ZX19KSkpfX0pLFtdKX19fSxmdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49b3QoZSk7aWYobil7dmFyIHI9aS5UYWJsZU1hcC5nZXQobi5ub2RlKSxvPUFycmF5LmlzQXJyYXkodCk/dDpBcnJheS5mcm9tKFt0XSk7cmV0dXJuIG8ucmVkdWNlKChmdW5jdGlvbih0LGUpe2lmKGU+PTAmJmU8PXIuaGVpZ2h0LTEpe3ZhciBvPXIuY2VsbHNJblJlY3Qoe2xlZnQ6MCxyaWdodDpyLndpZHRoLHRvcDplLGJvdHRvbTplKzF9KTtyZXR1cm4gdC5jb25jYXQoby5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBlPW4ubm9kZS5ub2RlQXQodCkscj10K24uc3RhcnQ7cmV0dXJue3BvczpyLHN0YXJ0OnIrMSxub2RlOmV9fSkpKX19KSxbXSl9fX0scHQ9ZnVuY3Rpb24odCl7dmFyIGU9b3QodCk7aWYoZSl7dmFyIG49aS5UYWJsZU1hcC5nZXQoZS5ub2RlKSxyPW4uY2VsbHNJblJlY3Qoe2xlZnQ6MCxyaWdodDpuLndpZHRoLHRvcDowLGJvdHRvbTpuLmhlaWdodH0pO3JldHVybiByLm1hcCgoZnVuY3Rpb24odCl7dmFyIG49ZS5ub2RlLm5vZGVBdCh0KSxyPXQrZS5zdGFydDtyZXR1cm57cG9zOnIsc3RhcnQ6cisxLG5vZGU6bn19KSl9fSxodD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIG89b3Qoci5zZWxlY3Rpb24pLGE9InJvdyI9PT10O2lmKG8pe3ZhciBzPWkuVGFibGVNYXAuZ2V0KG8ubm9kZSk7aWYoZT49MCYmZTwoYT9zLmhlaWdodDpzLndpZHRoKSl7dmFyIGM9YT8wOmUsbD1hP2U6MCx1PWE/cy53aWR0aDplKzEsZj1hP2UrMTpzLmhlaWdodDtpZihuKXt2YXIgcD1QdChyLnNlbGVjdGlvbi4kZnJvbSk7aWYoIXApcmV0dXJuIHI7dmFyIGg9cy5maW5kQ2VsbChwLnBvcy1vLnN0YXJ0KTthPyhsPU1hdGgubWluKGwsaC50b3ApLGY9TWF0aC5tYXgoZixoLmJvdHRvbSkpOihjPU1hdGgubWluKGMsaC5sZWZ0KSx1PU1hdGgubWF4KHUsaC5yaWdodCkpfXZhciBkPXMuY2VsbHNJblJlY3Qoe2xlZnQ6Yyx0b3A6bCxyaWdodDphP3U6YysxLGJvdHRvbTphP2wrMTpmfSksdj1mLWw9PT0xP2Q6cy5jZWxsc0luUmVjdCh7bGVmdDphP2M6dS0xLHRvcDphP2YtMTpsLHJpZ2h0OnUsYm90dG9tOmZ9KSxtPW8uc3RhcnQrZFswXSxnPW8uc3RhcnQrdlt2Lmxlbmd0aC0xXSx5PXIuZG9jLnJlc29sdmUobSksdz1yLmRvYy5yZXNvbHZlKGcpO3JldHVybiBiKHIuc2V0U2VsZWN0aW9uKG5ldyBpLkNlbGxTZWxlY3Rpb24odyx5KSkpfX1yZXR1cm4gcn19fSxkdD1odCgiY29sdW1uIiksdnQ9aHQoInJvdyIpLG10PWZ1bmN0aW9uKHQpe3ZhciBlPW90KHQuc2VsZWN0aW9uKTtpZihlKXt2YXIgbj1pLlRhYmxlTWFwLmdldChlLm5vZGUpLHI9bi5tYXA7aWYociYmci5sZW5ndGgpe3ZhciBvPWUuc3RhcnQrclswXSxhPWUuc3RhcnQrcltyLmxlbmd0aC0xXSxzPXQuZG9jLnJlc29sdmUobyksYz10LmRvYy5yZXNvbHZlKGEpO3JldHVybiBiKHQuc2V0U2VsZWN0aW9uKG5ldyBpLkNlbGxTZWxlY3Rpb24oYyxzKSkpfX1yZXR1cm4gdH0sZ3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7aWYodCl7dmFyIHI9QyhlKS5jZWxsLmNyZWF0ZUFuZEZpbGwoKSxvPXIuY29udGVudDtpZighdC5ub2RlLmNvbnRlbnQuZXEobykpcmV0dXJuIG4ucmVwbGFjZVdpdGgodC5wb3MrMSx0LnBvcyt0Lm5vZGUubm9kZVNpemUsbyksYihuKX1yZXR1cm4gbn19LHl0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1vdChlLnNlbGVjdGlvbik7aWYobil7dmFyIHI9aS5UYWJsZU1hcC5nZXQobi5ub2RlKTtpZih0Pj0wJiZ0PD1yLndpZHRoKXJldHVybiBiKGkuYWRkQ29sdW1uKGUse21hcDpyLHRhYmxlU3RhcnQ6bi5zdGFydCx0YWJsZTpuLm5vZGV9LHQpKX1yZXR1cm4gZX19LHd0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIG89e3RyeVRvRml0OiExLGRpcmVjdGlvbjowfSxpPU9iamVjdC5hc3NpZ24obyxuKSxhPW90KHIuc2VsZWN0aW9uKTtpZighYSlyZXR1cm4gcjt2YXIgcz1CdCh0KShyKSxjPXMuaW5kZXhlcyxsPUJ0KGUpKHIpLHU9bC5pbmRleGVzO2lmKGMuaW5kZXhPZihlKT4tMSlyZXR1cm4gcjshaS50cnlUb0ZpdCYmdS5sZW5ndGg+MSYmSSh0LGUsdSwicm93Iik7dmFyIGY9UChhLGMsdSxpLmRpcmVjdGlvbik7cmV0dXJuIGIocikucmVwbGFjZVdpdGgoYS5wb3MsYS5wb3MrYS5ub2RlLm5vZGVTaXplLGYpfX0sYnQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbihyKXt2YXIgbz17dHJ5VG9GaXQ6ITEsZGlyZWN0aW9uOjB9LGk9T2JqZWN0LmFzc2lnbihvLG4pLGE9b3Qoci5zZWxlY3Rpb24pO2lmKCFhKXJldHVybiByO3ZhciBzPWp0KHQpKHIpLGM9cy5pbmRleGVzLGw9anQoZSkociksdT1sLmluZGV4ZXM7aWYoYy5pbmRleE9mKGUpPi0xKXJldHVybiByOyFpLnRyeVRvRml0JiZ1Lmxlbmd0aD4xJiZJKHQsZSx1LCJjb2x1bW4iKTt2YXIgZj1EKGEsYyx1LGkuZGlyZWN0aW9uKTtyZXR1cm4gYihyKS5yZXBsYWNlV2l0aChhLnBvcyxhLnBvcythLm5vZGUubm9kZVNpemUsZil9fSxrdD1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgcj1vdChuLnNlbGVjdGlvbik7aWYocil7dmFyIG89aS5UYWJsZU1hcC5nZXQoci5ub2RlKSxhPXQtMTtpZihlJiZhPj0wKXJldHVybiBiKFN0KGEpKG4pKTtpZih0Pj0wJiZ0PD1vLmhlaWdodClyZXR1cm4gYihpLmFkZFJvdyhuLHttYXA6byx0YWJsZVN0YXJ0OnIuc3RhcnQsdGFibGU6ci5ub2RlfSx0KSl9cmV0dXJuIG59fSxTdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49b3QoZS5zZWxlY3Rpb24pO2lmKG4pe3ZhciByPWkuVGFibGVNYXAuZ2V0KG4ubm9kZSk7aWYodD49MCYmdDw9ci5oZWlnaHQpe2Zvcih2YXIgbz1uLm5vZGUsYT1DKG8udHlwZS5zY2hlbWEpLHM9bi5zdGFydCxjPTA7Yzx0KzE7YysrKXMrPW8uY2hpbGQoYykubm9kZVNpemU7dmFyIGw9by5jaGlsZCh0KSx1PVtdLGY9MDtpZihsLmZvckVhY2goKGZ1bmN0aW9uKHQpezE9PT10LmF0dHJzLnJvd3NwYW4mJihmKz10LmF0dHJzLmNvbHNwYW4sdS5wdXNoKGFbdC50eXBlLnNwZWMudGFibGVSb2xlXS5jcmVhdGVBbmRGaWxsKHQuYXR0cnMsdC5tYXJrcykpKX0pKSxmPHIud2lkdGgpe2Zvcih2YXIgcD1bXSxoPWZ1bmN0aW9uKG4pe3ZhciByPUl0KG4sKGZ1bmN0aW9uKGUscil7dmFyIG89ZS5ub2RlLmF0dHJzLnJvd3NwYW4saT1uK287cmV0dXJuIG8+MSYmaT50fSkpKGUpO3AucHVzaC5hcHBseShwLHJ0KHIpKX0sdj10O3Y+PTA7di0tKWgodik7cC5sZW5ndGgmJnAuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZT1SdCh0LHtyb3dzcGFuOnQubm9kZS5hdHRycy5yb3dzcGFuKzF9KShlKX0pKX1yZXR1cm4gZChhLnJvdy5jcmVhdGUobC5hdHRycyx1KSxzKShlKX19cmV0dXJuIGV9fSx4dD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49b3QoZS5zZWxlY3Rpb24pO2lmKG4pe3ZhciByPWkuVGFibGVNYXAuZ2V0KG4ubm9kZSk7aWYoMD09PXQmJjE9PT1yLndpZHRoKXJldHVybiBNdChlKTtpZih0Pj0wJiZ0PD1yLndpZHRoKXJldHVybiBpLnJlbW92ZUNvbHVtbihlLHttYXA6cix0YWJsZVN0YXJ0Om4uc3RhcnQsdGFibGU6bi5ub2RlfSx0KSxiKGUpfXJldHVybiBlfX0sQ3Q9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPW90KGUuc2VsZWN0aW9uKTtpZihuKXt2YXIgcj1pLlRhYmxlTWFwLmdldChuLm5vZGUpO2lmKDA9PT10JiYxPT09ci5oZWlnaHQpcmV0dXJuIE10KGUpO2lmKHQ+PTAmJnQ8PXIuaGVpZ2h0KXJldHVybiBpLnJlbW92ZVJvdyhlLHttYXA6cix0YWJsZVN0YXJ0Om4uc3RhcnQsdGFibGU6bi5ub2RlfSx0KSxiKGUpfXJldHVybiBlfX0sTXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuc2VsZWN0aW9uLiRmcm9tLG49ZS5kZXB0aDtuPjA7bi0tKXt2YXIgcj1lLm5vZGUobik7aWYoInRhYmxlIj09PXIudHlwZS5zcGVjLnRhYmxlUm9sZSlyZXR1cm4gYih0LmRlbGV0ZShlLmJlZm9yZShuKSxlLmFmdGVyKG4pKSl9cmV0dXJuIHR9LE90PWZ1bmN0aW9uKHQpe3ZhciBlPXQuc2VsZWN0aW9uO2lmKGx0KGUpKXJldHVybiBNdCh0KTtpZihpdChlKSl7dmFyIG49b3QoZSk7aWYobil7dmFyIHI9aS5UYWJsZU1hcC5nZXQobi5ub2RlKSxvPXIucmVjdEJldHdlZW4oZS4kYW5jaG9yQ2VsbC5wb3Mtbi5zdGFydCxlLiRoZWFkQ2VsbC5wb3Mtbi5zdGFydCk7aWYoMD09by5sZWZ0JiZvLnJpZ2h0PT1yLndpZHRoKXJldHVybiExO2Zvcih2YXIgYT1PYmplY3QuYXNzaWduKHt9LG8se21hcDpyLHRhYmxlOm4ubm9kZSx0YWJsZVN0YXJ0Om4uc3RhcnR9KSxzPWEucmlnaHQtMTs7cy0tKXtpZihpLnJlbW92ZUNvbHVtbih0LGEscykscz09PWEubGVmdClicmVhazthLnRhYmxlPWEudGFibGVTdGFydD90LmRvYy5ub2RlQXQoYS50YWJsZVN0YXJ0LTEpOnQuZG9jLGEubWFwPWkuVGFibGVNYXAuZ2V0KGEudGFibGUpfXJldHVybiBiKHQpfX1yZXR1cm4gdH0sQXQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5zZWxlY3Rpb247aWYobHQoZSkpcmV0dXJuIE10KHQpO2lmKGl0KGUpKXt2YXIgbj1vdChlKTtpZihuKXt2YXIgcj1pLlRhYmxlTWFwLmdldChuLm5vZGUpLG89ci5yZWN0QmV0d2VlbihlLiRhbmNob3JDZWxsLnBvcy1uLnN0YXJ0LGUuJGhlYWRDZWxsLnBvcy1uLnN0YXJ0KTtpZigwPT1vLnRvcCYmby5ib3R0b209PXIuaGVpZ2h0KXJldHVybiExO2Zvcih2YXIgYT1PYmplY3QuYXNzaWduKHt9LG8se21hcDpyLHRhYmxlOm4ubm9kZSx0YWJsZVN0YXJ0Om4uc3RhcnR9KSxzPWEuYm90dG9tLTE7O3MtLSl7aWYoaS5yZW1vdmVSb3codCxhLHMpLHM9PT1hLnRvcClicmVhazthLnRhYmxlPWEudGFibGVTdGFydD90LmRvYy5ub2RlQXQoYS50YWJsZVN0YXJ0LTEpOnQuZG9jLGEubWFwPWkuVGFibGVNYXAuZ2V0KGEudGFibGUpfXJldHVybiBiKHQpfX1yZXR1cm4gdH0sVHQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPXp0KHQpO3JldHVybiBuP3h0KG4ubGVmdCkodSh0LnBvcykoZSkpOmV9fSxOdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49enQodCk7cmV0dXJuIG4/Q3Qobi50b3ApKHUodC5wb3MpKGUpKTplfX0sRXQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbihvKXt2YXIgaT11dCh0KShvLnNlbGVjdGlvbik7aWYoaSl7Zm9yKHZhciBhPWkubGVuZ3RoLTE7YT49MDthLS0pbz1lKGlbYV0sbyk7aWYobil7dmFyIHM9by5kb2MucmVzb2x2ZShvLm1hcHBpbmcubWFwKGlbaS5sZW5ndGgtMV0ucG9zKSk7by5zZXRTZWxlY3Rpb24oci5TZWxlY3Rpb24ubmVhcihzKSl9cmV0dXJuIGIobyl9cmV0dXJuIG99fSxfdD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKG8pe3ZhciBpPWZ0KHQpKG8uc2VsZWN0aW9uKTtpZihpKXtmb3IodmFyIGE9aS5sZW5ndGgtMTthPj0wO2EtLSlvPWUoaVthXSxvKTtpZihuKXt2YXIgcz1vLmRvYy5yZXNvbHZlKG8ubWFwcGluZy5tYXAoaVtpLmxlbmd0aC0xXS5wb3MpKTtvLnNldFNlbGVjdGlvbihyLlNlbGVjdGlvbi5uZWFyKHMpKX19cmV0dXJuIG99fSxSdD1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdD8obi5zZXROb2RlTWFya3VwKHQucG9zLG51bGwsT2JqZWN0LmFzc2lnbih7fSx0Lm5vZGUuYXR0cnMsZSkpLGIobikpOm59fSxEdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjMsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MyxyPSEoYXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10pfHxhcmd1bWVudHNbM10sbz1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06bnVsbCxpPUModCksYT1pLmNlbGwscz1pLmhlYWRlcl9jZWxsLGM9aS5yb3csbD1pLnRhYmxlLHU9W10sZj1bXSxwPTA7cDxuO3ArKyl1LnB1c2goVChhLG8pKSxyJiZmLnB1c2goVChzLG8pKTtmb3IodmFyIGg9W10sZD0wO2Q8ZTtkKyspaC5wdXNoKGMuY3JlYXRlQ2hlY2tlZChudWxsLHImJjA9PT1kP2Y6dSkpO3JldHVybiBsLmNyZWF0ZUNoZWNrZWQobnVsbCxoKX0sUHQ9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQudHlwZS5zcGVjLnRhYmxlUm9sZSYmL2NlbGwvaS50ZXN0KHQudHlwZS5zcGVjLnRhYmxlUm9sZSl9O3JldHVybiBCKHQsZSl9LHp0PWZ1bmN0aW9uKHQpe3ZhciBlPVB0KHQpO2lmKGUpe3ZhciBuPUEodCkscj1pLlRhYmxlTWFwLmdldChuLm5vZGUpLG89ZS5wb3Mtbi5zdGFydDtyZXR1cm4gci5yZWN0QmV0d2VlbihvLG8pfX0sSXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHI9W10sbz1mdCh0KShuLnNlbGVjdGlvbik7aWYobylmb3IodmFyIGk9by5sZW5ndGgtMTtpPj0wO2ktLSllKG9baV0sbikmJnIucHVzaChvW2ldKTtyZXR1cm4gcn19LGp0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIG49dCxyPXQsbz1mdW5jdGlvbih0KXt2YXIgbz11dCh0KShlLnNlbGVjdGlvbik7byYmby5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbz1lLm5vZGUuYXR0cnMuY29sc3Bhbit0LTE7bz49biYmKG49dCksbz5yJiYocj1vKX0pKX0saT10O2k+PTA7aS0tKW8oaSk7dmFyIGE9ZnVuY3Rpb24odCl7dmFyIG49dXQodCkoZS5zZWxlY3Rpb24pO24mJm4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZS5ub2RlLmF0dHJzLmNvbHNwYW4rdC0xO2Uubm9kZS5hdHRycy5jb2xzcGFuPjEmJm4+ciYmKHI9bil9KSl9O2ZvcihpPXQ7aTw9cjtpKyspYShpKTt2YXIgcz1bXTtmb3IoaT1uO2k8PXI7aSsrKXt2YXIgYz11dChpKShlLnNlbGVjdGlvbik7YyYmYy5sZW5ndGgmJnMucHVzaChpKX1uPXNbMF0scj1zW3MubGVuZ3RoLTFdO2Zvcih2YXIgbD11dChuKShlLnNlbGVjdGlvbiksdT1mdCgwKShlLnNlbGVjdGlvbiksZj1lLmRvYy5yZXNvbHZlKGxbbC5sZW5ndGgtMV0ucG9zKSxwPXZvaWQgMCxoPXI7aD49bjtoLS0pe3ZhciBkPXV0KGgpKGUuc2VsZWN0aW9uKTtpZihkJiZkLmxlbmd0aCl7Zm9yKHZhciB2PXUubGVuZ3RoLTE7dj49MDt2LS0paWYodVt2XS5wb3M9PT1kWzBdLnBvcyl7cD1kWzBdO2JyZWFrfWlmKHApYnJlYWt9fXZhciBtPWUuZG9jLnJlc29sdmUocC5wb3MpO3JldHVybnskYW5jaG9yOmYsJGhlYWQ6bSxpbmRleGVzOnN9fX0sQnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Zvcih2YXIgbj10LHI9dCxvPWZ1bmN0aW9uKHQpe3ZhciBvPWZ0KHQpKGUuc2VsZWN0aW9uKTtvLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBvPWUubm9kZS5hdHRycy5yb3dzcGFuK3QtMTtvPj1uJiYobj10KSxvPnImJihyPW8pfSkpfSxpPXQ7aT49MDtpLS0pbyhpKTt2YXIgYT1mdW5jdGlvbih0KXt2YXIgbj1mdCh0KShlLnNlbGVjdGlvbik7bi5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLm5vZGUuYXR0cnMucm93c3Bhbit0LTE7ZS5ub2RlLmF0dHJzLnJvd3NwYW4+MSYmbj5yJiYocj1uKX0pKX07Zm9yKGk9dDtpPD1yO2krKylhKGkpO3ZhciBzPVtdO2ZvcihpPW47aTw9cjtpKyspe3ZhciBjPWZ0KGkpKGUuc2VsZWN0aW9uKTtjJiZjLmxlbmd0aCYmcy5wdXNoKGkpfW49c1swXSxyPXNbcy5sZW5ndGgtMV07Zm9yKHZhciBsPWZ0KG4pKGUuc2VsZWN0aW9uKSx1PXV0KDApKGUuc2VsZWN0aW9uKSxmPWUuZG9jLnJlc29sdmUobFtsLmxlbmd0aC0xXS5wb3MpLHA9dm9pZCAwLGg9cjtoPj1uO2gtLSl7dmFyIGQ9ZnQoaCkoZS5zZWxlY3Rpb24pO2lmKGQmJmQubGVuZ3RoKXtmb3IodmFyIHY9dS5sZW5ndGgtMTt2Pj0wO3YtLSlpZih1W3ZdLnBvcz09PWRbMF0ucG9zKXtwPWRbMF07YnJlYWt9aWYocClicmVha319dmFyIG09ZS5kb2MucmVzb2x2ZShwLnBvcyk7cmV0dXJueyRhbmNob3I6ZiwkaGVhZDptLGluZGV4ZXM6c319fTtlLmlzTm9kZVNlbGVjdGlvbj15LGUuY2FuSW5zZXJ0PU0sZS5jb252ZXJ0VGFibGVOb2RlVG9BcnJheU9mUm93cz1fLGUuY29udmVydEFycmF5T2ZSb3dzVG9UYWJsZU5vZGU9UixlLmZpbmRQYXJlbnROb2RlPWosZS5maW5kUGFyZW50Tm9kZUNsb3Nlc3RUb1Bvcz1CLGUuZmluZFBhcmVudERvbVJlZj0kLGUuaGFzUGFyZW50Tm9kZT1GLGUuZmluZFBhcmVudE5vZGVPZlR5cGU9VixlLmZpbmRQYXJlbnROb2RlT2ZUeXBlQ2xvc2VzdFRvUG9zPUwsZS5oYXNQYXJlbnROb2RlT2ZUeXBlPUgsZS5maW5kUGFyZW50RG9tUmVmT2ZUeXBlPVcsZS5maW5kU2VsZWN0ZWROb2RlT2ZUeXBlPUosZS5maW5kUG9zaXRpb25PZk5vZGVCZWZvcmU9cSxlLmZpbmREb21SZWZBdFBvcz1LLGUuZmxhdHRlbj1VLGUuZmluZENoaWxkcmVuPUcsZS5maW5kVGV4dE5vZGVzPVgsZS5maW5kSW5saW5lTm9kZXM9WSxlLmZpbmRCbG9ja05vZGVzPVEsZS5maW5kQ2hpbGRyZW5CeUF0dHI9WixlLmZpbmRDaGlsZHJlbkJ5VHlwZT10dCxlLmZpbmRDaGlsZHJlbkJ5TWFyaz1ldCxlLmNvbnRhaW5zPW50LGUuZmluZFRhYmxlPW90LGUuaXNDZWxsU2VsZWN0aW9uPWl0LGUuZ2V0U2VsZWN0aW9uUmVjdD1hdCxlLmlzQ29sdW1uU2VsZWN0ZWQ9c3QsZS5pc1Jvd1NlbGVjdGVkPWN0LGUuaXNUYWJsZVNlbGVjdGVkPWx0LGUuZ2V0Q2VsbHNJbkNvbHVtbj11dCxlLmdldENlbGxzSW5Sb3c9ZnQsZS5nZXRDZWxsc0luVGFibGU9cHQsZS5zZWxlY3RDb2x1bW49ZHQsZS5zZWxlY3RSb3c9dnQsZS5zZWxlY3RUYWJsZT1tdCxlLmVtcHR5Q2VsbD1ndCxlLmFkZENvbHVtbkF0PXl0LGUubW92ZVJvdz13dCxlLm1vdmVDb2x1bW49YnQsZS5hZGRSb3dBdD1rdCxlLmNsb25lUm93QXQ9U3QsZS5yZW1vdmVDb2x1bW5BdD14dCxlLnJlbW92ZVJvd0F0PUN0LGUucmVtb3ZlVGFibGU9TXQsZS5yZW1vdmVTZWxlY3RlZENvbHVtbnM9T3QsZS5yZW1vdmVTZWxlY3RlZFJvd3M9QXQsZS5yZW1vdmVDb2x1bW5DbG9zZXN0VG9Qb3M9VHQsZS5yZW1vdmVSb3dDbG9zZXN0VG9Qb3M9TnQsZS5mb3JFYWNoQ2VsbEluQ29sdW1uPUV0LGUuZm9yRWFjaENlbGxJblJvdz1fdCxlLnNldENlbGxBdHRycz1SdCxlLmNyZWF0ZVRhYmxlPUR0LGUuZmluZENlbGxDbG9zZXN0VG9Qb3M9UHQsZS5maW5kQ2VsbFJlY3RDbG9zZXN0VG9Qb3M9enQsZS5nZXRTZWxlY3Rpb25SYW5nZUluQ29sdW1uPWp0LGUuZ2V0U2VsZWN0aW9uUmFuZ2VJblJvdz1CdCxlLnJlbW92ZVBhcmVudE5vZGVPZlR5cGU9YSxlLnJlcGxhY2VQYXJlbnROb2RlT2ZUeXBlPXMsZS5yZW1vdmVTZWxlY3RlZE5vZGU9YyxlLnJlcGxhY2VTZWxlY3RlZE5vZGU9bCxlLnNldFRleHRTZWxlY3Rpb249dSxlLnNhZmVJbnNlcnQ9ZCxlLnNldFBhcmVudE5vZGVNYXJrdXA9dixlLnNlbGVjdFBhcmVudE5vZGVPZlR5cGU9bSxlLnJlbW92ZU5vZGVCZWZvcmU9Z30sIjliNDMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJkOGU4Iik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtpZihyKHQpLHZvaWQgMD09PWUpcmV0dXJuIHQ7c3dpdGNoKG4pe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQuY2FsbChlLG4pfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIHQuY2FsbChlLG4scil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24obixyLG8pe3JldHVybiB0LmNhbGwoZSxuLHIsbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19fSwiOWM2YyI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjJiNGMiKSgidW5zY29wYWJsZXMiKSxvPUFycmF5LnByb3RvdHlwZTt2b2lkIDA9PW9bcl0mJm4oIjMyZTkiKShvLHIse30pLHQuZXhwb3J0cz1mdW5jdGlvbih0KXtvW3JdW3RdPSEwfX0sIjlkZWYiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI0NTg4Iiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+MD9vKHIodCksOTAwNzE5OTI1NDc0MDk5MSk6MH19LCI5ZTFlIjpmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPSFuKCI3OWU1IikoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KSl9LGEwNjg6ZnVuY3Rpb24odCxlLG4pe30sYTE1OTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZTRhZSIpLG89bigiN2U5MCIpLGk9bigiMTY5MSIpLGE9bigiNTU1OSIpKCJJRV9QUk9UTyIpLHM9ZnVuY3Rpb24oKXt9LGM9InByb3RvdHlwZSIsbD1mdW5jdGlvbigpe3ZhciB0LGU9bigiMWVjOSIpKCJpZnJhbWUiKSxyPWkubGVuZ3RoLG89IjwiLGE9Ij4iO2Uuc3R5bGUuZGlzcGxheT0ibm9uZSIsbigiMzJmYyIpLmFwcGVuZENoaWxkKGUpLGUuc3JjPSJqYXZhc2NyaXB0OiIsdD1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQsdC5vcGVuKCksdC53cml0ZShvKyJzY3JpcHQiK2ErImRvY3VtZW50LkY9T2JqZWN0IitvKyIvc2NyaXB0IithKSx0LmNsb3NlKCksbD10LkY7d2hpbGUoci0tKWRlbGV0ZSBsW2NdW2lbcl1dO3JldHVybiBsKCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBudWxsIT09dD8oc1tjXT1yKHQpLG49bmV3IHMsc1tjXT1udWxsLG5bYV09dCk6bj1sKCksdm9pZCAwPT09ZT9uOm8obixlKX19LGE3MGU6ZnVuY3Rpb24odCxlLG4pe3ZhciByLG87KGZ1bmN0aW9uKG4pe3ZhciBpPSJvYmplY3QiPT09dHlwZW9mIHdpbmRvdyYmd2luZG93fHwib2JqZWN0Ij09PXR5cGVvZiBzZWxmJiZzZWxmO2Uubm9kZVR5cGU/aSYmKGkuaGxqcz1uKHt9KSxyPVtdLG89ZnVuY3Rpb24oKXtyZXR1cm4gaS5obGpzfS5hcHBseShlLHIpLHZvaWQgMD09PW98fCh0LmV4cG9ydHM9bykpOm4oZSl9KSgoZnVuY3Rpb24odCl7dmFyIGUsbj1bXSxyPU9iamVjdC5rZXlzLG89e30saT17fSxhPS9eKG5vLT9oaWdobGlnaHR8cGxhaW58dGV4dCkkL2kscz0vXGJsYW5nKD86dWFnZSk/LShbXHctXSspXGIvaSxjPS8oKF4oPFtePl0rPnxcdHwpK3woPzpcbikpKS9nbSxsPSI8L3NwYW4+Iix1PXtjbGFzc1ByZWZpeDoiaGxqcy0iLHRhYlJlcGxhY2U6bnVsbCx1c2VCUjohMSxsYW5ndWFnZXM6dm9pZCAwfTtmdW5jdGlvbiBmKHQpe3JldHVybiB0LnJlcGxhY2UoLyYvZywiJmFtcDsiKS5yZXBsYWNlKC88L2csIiZsdDsiKS5yZXBsYWNlKC8+L2csIiZndDsiKX1mdW5jdGlvbiBwKHQpe3JldHVybiB0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gaCh0LGUpe3ZhciBuPXQmJnQuZXhlYyhlKTtyZXR1cm4gbiYmMD09PW4uaW5kZXh9ZnVuY3Rpb24gZCh0KXtyZXR1cm4gYS50ZXN0KHQpfWZ1bmN0aW9uIHYodCl7dmFyIGUsbixyLG8saT10LmNsYXNzTmFtZSsiICI7aWYoaSs9dC5wYXJlbnROb2RlP3QucGFyZW50Tm9kZS5jbGFzc05hbWU6IiIsbj1zLmV4ZWMoaSksbilyZXR1cm4gUihuWzFdKT9uWzFdOiJuby1oaWdobGlnaHQiO2ZvcihpPWkuc3BsaXQoL1xzKy8pLGU9MCxyPWkubGVuZ3RoO2U8cjtlKyspaWYobz1pW2VdLGQobyl8fFIobykpcmV0dXJuIG99ZnVuY3Rpb24gbSh0KXt2YXIgZSxuPXt9LHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2ZvcihlIGluIHQpbltlXT10W2VdO3JldHVybiByLmZvckVhY2goKGZ1bmN0aW9uKHQpe2ZvcihlIGluIHQpbltlXT10W2VdfSkpLG59ZnVuY3Rpb24gZyh0KXt2YXIgZT1bXTtyZXR1cm4gZnVuY3Rpb24gdChuLHIpe2Zvcih2YXIgbz1uLmZpcnN0Q2hpbGQ7bztvPW8ubmV4dFNpYmxpbmcpMz09PW8ubm9kZVR5cGU/cis9by5ub2RlVmFsdWUubGVuZ3RoOjE9PT1vLm5vZGVUeXBlJiYoZS5wdXNoKHtldmVudDoic3RhcnQiLG9mZnNldDpyLG5vZGU6b30pLHI9dChvLHIpLHAobykubWF0Y2goL2JyfGhyfGltZ3xpbnB1dC8pfHxlLnB1c2goe2V2ZW50OiJzdG9wIixvZmZzZXQ6cixub2RlOm99KSk7cmV0dXJuIHJ9KHQsMCksZX1mdW5jdGlvbiB5KHQsZSxyKXt2YXIgbz0wLGk9IiIsYT1bXTtmdW5jdGlvbiBzKCl7cmV0dXJuIHQubGVuZ3RoJiZlLmxlbmd0aD90WzBdLm9mZnNldCE9PWVbMF0ub2Zmc2V0P3RbMF0ub2Zmc2V0PGVbMF0ub2Zmc2V0P3Q6ZToic3RhcnQiPT09ZVswXS5ldmVudD90OmU6dC5sZW5ndGg/dDplfWZ1bmN0aW9uIGModCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4iICIrdC5ub2RlTmFtZSsnPSInK2YodC52YWx1ZSkucmVwbGFjZSgnIicsIiZxdW90OyIpKyciJ31pKz0iPCIrcCh0KStuLm1hcC5jYWxsKHQuYXR0cmlidXRlcyxlKS5qb2luKCIiKSsiPiJ9ZnVuY3Rpb24gbCh0KXtpKz0iPC8iK3AodCkrIj4ifWZ1bmN0aW9uIHUodCl7KCJzdGFydCI9PT10LmV2ZW50P2M6bCkodC5ub2RlKX13aGlsZSh0Lmxlbmd0aHx8ZS5sZW5ndGgpe3ZhciBoPXMoKTtpZihpKz1mKHIuc3Vic3RyaW5nKG8saFswXS5vZmZzZXQpKSxvPWhbMF0ub2Zmc2V0LGg9PT10KXthLnJldmVyc2UoKS5mb3JFYWNoKGwpO2Rve3UoaC5zcGxpY2UoMCwxKVswXSksaD1zKCl9d2hpbGUoaD09PXQmJmgubGVuZ3RoJiZoWzBdLm9mZnNldD09PW8pO2EucmV2ZXJzZSgpLmZvckVhY2goYyl9ZWxzZSJzdGFydCI9PT1oWzBdLmV2ZW50P2EucHVzaChoWzBdLm5vZGUpOmEucG9wKCksdShoLnNwbGljZSgwLDEpWzBdKX1yZXR1cm4gaStmKHIuc3Vic3RyKG8pKX1mdW5jdGlvbiB3KHQpe3JldHVybiB0LnZhcmlhbnRzJiYhdC5jYWNoZWRfdmFyaWFudHMmJih0LmNhY2hlZF92YXJpYW50cz10LnZhcmlhbnRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG0odCx7dmFyaWFudHM6bnVsbH0sZSl9KSkpLHQuY2FjaGVkX3ZhcmlhbnRzfHx0LmVuZHNXaXRoUGFyZW50JiZbbSh0KV18fFt0XX1mdW5jdGlvbiBiKHQpe2lmKGUmJiF0LmxhbmdBcGlSZXN0b3JlZCl7Zm9yKHZhciBuIGluIHQubGFuZ0FwaVJlc3RvcmVkPSEwLGUpdFtuXSYmKHRbZVtuXV09dFtuXSk7KHQuY29udGFpbnN8fFtdKS5jb25jYXQodC52YXJpYW50c3x8W10pLmZvckVhY2goYil9fWZ1bmN0aW9uIGsodCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gdCYmdC5zb3VyY2V8fHR9ZnVuY3Rpb24gbihuLHIpe3JldHVybiBuZXcgUmVnRXhwKGUobiksIm0iKyh0LmNhc2VfaW5zZW5zaXRpdmU/ImkiOiIiKSsocj8iZyI6IiIpKX1mdW5jdGlvbiBvKHQsbil7Zm9yKHZhciByPS9cWyg/OlteXFxcXV18XFwuKSpcXXxcKFw/P3xcXChbMS05XVswLTldKil8XFwuLyxvPTAsaT0iIixhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciBzPW8sYz1lKHRbYV0pO2E+MCYmKGkrPW4pO3doaWxlKGMubGVuZ3RoPjApe3ZhciBsPXIuZXhlYyhjKTtpZihudWxsPT1sKXtpKz1jO2JyZWFrfWkrPWMuc3Vic3RyaW5nKDAsbC5pbmRleCksYz1jLnN1YnN0cmluZyhsLmluZGV4K2xbMF0ubGVuZ3RoKSwiXFwiPT1sWzBdWzBdJiZsWzFdP2krPSJcXCIrU3RyaW5nKE51bWJlcihsWzFdKStzKTooaSs9bFswXSwiKCI9PWxbMF0mJm8rKyl9fXJldHVybiBpfWZ1bmN0aW9uIGkoYSxzKXtpZighYS5jb21waWxlZCl7aWYoYS5jb21waWxlZD0hMCxhLmtleXdvcmRzPWEua2V5d29yZHN8fGEuYmVnaW5LZXl3b3JkcyxhLmtleXdvcmRzKXt2YXIgYz17fSxsPWZ1bmN0aW9uKGUsbil7dC5jYXNlX2luc2Vuc2l0aXZlJiYobj1uLnRvTG93ZXJDYXNlKCkpLG4uc3BsaXQoIiAiKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbj10LnNwbGl0KCJ8Iik7Y1tuWzBdXT1bZSxuWzFdP051bWJlcihuWzFdKToxXX0pKX07InN0cmluZyI9PT10eXBlb2YgYS5rZXl3b3Jkcz9sKCJrZXl3b3JkIixhLmtleXdvcmRzKTpyKGEua2V5d29yZHMpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2wodCxhLmtleXdvcmRzW3RdKX0pKSxhLmtleXdvcmRzPWN9YS5sZXhlbWVzUmU9bihhLmxleGVtZXN8fC9cdysvLCEwKSxzJiYoYS5iZWdpbktleXdvcmRzJiYoYS5iZWdpbj0iXFxiKCIrYS5iZWdpbktleXdvcmRzLnNwbGl0KCIgIikuam9pbigifCIpKyIpXFxiIiksYS5iZWdpbnx8KGEuYmVnaW49L1xCfFxiLyksYS5iZWdpblJlPW4oYS5iZWdpbiksYS5lbmRTYW1lQXNCZWdpbiYmKGEuZW5kPWEuYmVnaW4pLGEuZW5kfHxhLmVuZHNXaXRoUGFyZW50fHwoYS5lbmQ9L1xCfFxiLyksYS5lbmQmJihhLmVuZFJlPW4oYS5lbmQpKSxhLnRlcm1pbmF0b3JfZW5kPWUoYS5lbmQpfHwiIixhLmVuZHNXaXRoUGFyZW50JiZzLnRlcm1pbmF0b3JfZW5kJiYoYS50ZXJtaW5hdG9yX2VuZCs9KGEuZW5kPyJ8IjoiIikrcy50ZXJtaW5hdG9yX2VuZCkpLGEuaWxsZWdhbCYmKGEuaWxsZWdhbFJlPW4oYS5pbGxlZ2FsKSksbnVsbD09YS5yZWxldmFuY2UmJihhLnJlbGV2YW5jZT0xKSxhLmNvbnRhaW5zfHwoYS5jb250YWlucz1bXSksYS5jb250YWlucz1BcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLGEuY29udGFpbnMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdygic2VsZiI9PT10P2E6dCl9KSkpLGEuY29udGFpbnMuZm9yRWFjaCgoZnVuY3Rpb24odCl7aSh0LGEpfSkpLGEuc3RhcnRzJiZpKGEuc3RhcnRzLHMpO3ZhciB1PWEuY29udGFpbnMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5iZWdpbktleXdvcmRzPyJcXC4/KD86Iit0LmJlZ2luKyIpXFwuPyI6dC5iZWdpbn0pKS5jb25jYXQoW2EudGVybWluYXRvcl9lbmQsYS5pbGxlZ2FsXSkubWFwKGUpLmZpbHRlcihCb29sZWFuKTthLnRlcm1pbmF0b3JzPXUubGVuZ3RoP24obyh1LCJ8IiksITApOntleGVjOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fX19aSh0KX1mdW5jdGlvbiBTKHQsZSxuLHIpe2Z1bmN0aW9uIGkodCl7cmV0dXJuIG5ldyBSZWdFeHAodC5yZXBsYWNlKC9bLVwvXFxeJCorPy4oKXxbXF17fV0vZywiXFwkJiIpLCJtIil9ZnVuY3Rpb24gYSh0LGUpe3ZhciBuLHI7Zm9yKG49MCxyPWUuY29udGFpbnMubGVuZ3RoO248cjtuKyspaWYoaChlLmNvbnRhaW5zW25dLmJlZ2luUmUsdCkpcmV0dXJuIGUuY29udGFpbnNbbl0uZW5kU2FtZUFzQmVnaW4mJihlLmNvbnRhaW5zW25dLmVuZFJlPWkoZS5jb250YWluc1tuXS5iZWdpblJlLmV4ZWModClbMF0pKSxlLmNvbnRhaW5zW25dfWZ1bmN0aW9uIHModCxlKXtpZihoKHQuZW5kUmUsZSkpe3doaWxlKHQuZW5kc1BhcmVudCYmdC5wYXJlbnQpdD10LnBhcmVudDtyZXR1cm4gdH1pZih0LmVuZHNXaXRoUGFyZW50KXJldHVybiBzKHQucGFyZW50LGUpfWZ1bmN0aW9uIGModCxlKXtyZXR1cm4hbiYmaChlLmlsbGVnYWxSZSx0KX1mdW5jdGlvbiBwKHQsZSl7dmFyIG49Yi5jYXNlX2luc2Vuc2l0aXZlP2VbMF0udG9Mb3dlckNhc2UoKTplWzBdO3JldHVybiB0LmtleXdvcmRzLmhhc093blByb3BlcnR5KG4pJiZ0LmtleXdvcmRzW25dfWZ1bmN0aW9uIGQodCxlLG4scil7dmFyIG89cj8iIjp1LmNsYXNzUHJlZml4LGk9JzxzcGFuIGNsYXNzPSInK28sYT1uPyIiOmw7cmV0dXJuIGkrPXQrJyI+Jyx0P2krZSthOmV9ZnVuY3Rpb24gdigpe3ZhciB0LGUsbixyO2lmKCFNLmtleXdvcmRzKXJldHVybiBmKFQpO3I9IiIsZT0wLE0ubGV4ZW1lc1JlLmxhc3RJbmRleD0wLG49TS5sZXhlbWVzUmUuZXhlYyhUKTt3aGlsZShuKXIrPWYoVC5zdWJzdHJpbmcoZSxuLmluZGV4KSksdD1wKE0sbiksdD8oTis9dFsxXSxyKz1kKHRbMF0sZihuWzBdKSkpOnIrPWYoblswXSksZT1NLmxleGVtZXNSZS5sYXN0SW5kZXgsbj1NLmxleGVtZXNSZS5leGVjKFQpO3JldHVybiByK2YoVC5zdWJzdHIoZSkpfWZ1bmN0aW9uIG0oKXt2YXIgdD0ic3RyaW5nIj09PXR5cGVvZiBNLnN1Ykxhbmd1YWdlO2lmKHQmJiFvW00uc3ViTGFuZ3VhZ2VdKXJldHVybiBmKFQpO3ZhciBlPXQ/UyhNLnN1Ykxhbmd1YWdlLFQsITAsT1tNLnN1Ykxhbmd1YWdlXSk6eChULE0uc3ViTGFuZ3VhZ2UubGVuZ3RoP00uc3ViTGFuZ3VhZ2U6dm9pZCAwKTtyZXR1cm4gTS5yZWxldmFuY2U+MCYmKE4rPWUucmVsZXZhbmNlKSx0JiYoT1tNLnN1Ykxhbmd1YWdlXT1lLnRvcCksZChlLmxhbmd1YWdlLGUudmFsdWUsITEsITApfWZ1bmN0aW9uIGcoKXtBKz1udWxsIT1NLnN1Ykxhbmd1YWdlP20oKTp2KCksVD0iIn1mdW5jdGlvbiB5KHQpe0ErPXQuY2xhc3NOYW1lP2QodC5jbGFzc05hbWUsIiIsITApOiIiLE09T2JqZWN0LmNyZWF0ZSh0LHtwYXJlbnQ6e3ZhbHVlOk19fSl9ZnVuY3Rpb24gdyh0LGUpe2lmKFQrPXQsbnVsbD09ZSlyZXR1cm4gZygpLDA7dmFyIG49YShlLE0pO2lmKG4pcmV0dXJuIG4uc2tpcD9UKz1lOihuLmV4Y2x1ZGVCZWdpbiYmKFQrPWUpLGcoKSxuLnJldHVybkJlZ2lufHxuLmV4Y2x1ZGVCZWdpbnx8KFQ9ZSkpLHkobixlKSxuLnJldHVybkJlZ2luPzA6ZS5sZW5ndGg7dmFyIHI9cyhNLGUpO2lmKHIpe3ZhciBvPU07by5za2lwP1QrPWU6KG8ucmV0dXJuRW5kfHxvLmV4Y2x1ZGVFbmR8fChUKz1lKSxnKCksby5leGNsdWRlRW5kJiYoVD1lKSk7ZG97TS5jbGFzc05hbWUmJihBKz1sKSxNLnNraXB8fE0uc3ViTGFuZ3VhZ2V8fChOKz1NLnJlbGV2YW5jZSksTT1NLnBhcmVudH13aGlsZShNIT09ci5wYXJlbnQpO3JldHVybiByLnN0YXJ0cyYmKHIuZW5kU2FtZUFzQmVnaW4mJihyLnN0YXJ0cy5lbmRSZT1yLmVuZFJlKSx5KHIuc3RhcnRzLCIiKSksby5yZXR1cm5FbmQ/MDplLmxlbmd0aH1pZihjKGUsTSkpdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIGxleGVtZSAiJytlKyciIGZvciBtb2RlICInKyhNLmNsYXNzTmFtZXx8Ijx1bm5hbWVkPiIpKyciJyk7cmV0dXJuIFQrPWUsZS5sZW5ndGh8fDF9dmFyIGI9Uih0KTtpZighYil0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbGFuZ3VhZ2U6ICInK3QrJyInKTtrKGIpO3ZhciBDLE09cnx8YixPPXt9LEE9IiI7Zm9yKEM9TTtDIT09YjtDPUMucGFyZW50KUMuY2xhc3NOYW1lJiYoQT1kKEMuY2xhc3NOYW1lLCIiLCEwKStBKTt2YXIgVD0iIixOPTA7dHJ5e3ZhciBFLF8sRD0wO3doaWxlKDEpe2lmKE0udGVybWluYXRvcnMubGFzdEluZGV4PUQsRT1NLnRlcm1pbmF0b3JzLmV4ZWMoZSksIUUpYnJlYWs7Xz13KGUuc3Vic3RyaW5nKEQsRS5pbmRleCksRVswXSksRD1FLmluZGV4K199Zm9yKHcoZS5zdWJzdHIoRCkpLEM9TTtDLnBhcmVudDtDPUMucGFyZW50KUMuY2xhc3NOYW1lJiYoQSs9bCk7cmV0dXJue3JlbGV2YW5jZTpOLHZhbHVlOkEsbGFuZ3VhZ2U6dCx0b3A6TX19Y2F0Y2goUCl7aWYoUC5tZXNzYWdlJiYtMSE9PVAubWVzc2FnZS5pbmRleE9mKCJJbGxlZ2FsIikpcmV0dXJue3JlbGV2YW5jZTowLHZhbHVlOmYoZSl9O3Rocm93IFB9fWZ1bmN0aW9uIHgodCxlKXtlPWV8fHUubGFuZ3VhZ2VzfHxyKG8pO3ZhciBuPXtyZWxldmFuY2U6MCx2YWx1ZTpmKHQpfSxpPW47cmV0dXJuIGUuZmlsdGVyKFIpLmZpbHRlcihEKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1TKGUsdCwhMSk7ci5sYW5ndWFnZT1lLHIucmVsZXZhbmNlPmkucmVsZXZhbmNlJiYoaT1yKSxyLnJlbGV2YW5jZT5uLnJlbGV2YW5jZSYmKGk9bixuPXIpfSkpLGkubGFuZ3VhZ2UmJihuLnNlY29uZF9iZXN0PWkpLG59ZnVuY3Rpb24gQyh0KXtyZXR1cm4gdS50YWJSZXBsYWNlfHx1LnVzZUJSP3QucmVwbGFjZShjLChmdW5jdGlvbih0LGUpe3JldHVybiB1LnVzZUJSJiYiXG4iPT09dD8iPGJyPiI6dS50YWJSZXBsYWNlP2UucmVwbGFjZSgvXHQvZyx1LnRhYlJlcGxhY2UpOiIifSkpOnR9ZnVuY3Rpb24gTSh0LGUsbil7dmFyIHI9ZT9pW2VdOm4sbz1bdC50cmltKCldO3JldHVybiB0Lm1hdGNoKC9cYmhsanNcYi8pfHxvLnB1c2goImhsanMiKSwtMT09PXQuaW5kZXhPZihyKSYmby5wdXNoKHIpLG8uam9pbigiICIpLnRyaW0oKX1mdW5jdGlvbiBPKHQpe3ZhciBlLG4scixvLGksYT12KHQpO2QoYSl8fCh1LnVzZUJSPyhlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIsImRpdiIpLGUuaW5uZXJIVE1MPXQuaW5uZXJIVE1MLnJlcGxhY2UoL1xuL2csIiIpLnJlcGxhY2UoLzxiclsgXC9dKj4vZywiXG4iKSk6ZT10LGk9ZS50ZXh0Q29udGVudCxyPWE/UyhhLGksITApOngoaSksbj1nKGUpLG4ubGVuZ3RoJiYobz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLCJkaXYiKSxvLmlubmVySFRNTD1yLnZhbHVlLHIudmFsdWU9eShuLGcobyksaSkpLHIudmFsdWU9QyhyLnZhbHVlKSx0LmlubmVySFRNTD1yLnZhbHVlLHQuY2xhc3NOYW1lPU0odC5jbGFzc05hbWUsYSxyLmxhbmd1YWdlKSx0LnJlc3VsdD17bGFuZ3VhZ2U6ci5sYW5ndWFnZSxyZTpyLnJlbGV2YW5jZX0sci5zZWNvbmRfYmVzdCYmKHQuc2Vjb25kX2Jlc3Q9e2xhbmd1YWdlOnIuc2Vjb25kX2Jlc3QubGFuZ3VhZ2UscmU6ci5zZWNvbmRfYmVzdC5yZWxldmFuY2V9KSl9ZnVuY3Rpb24gQSh0KXt1PW0odSx0KX1mdW5jdGlvbiBUKCl7aWYoIVQuY2FsbGVkKXtULmNhbGxlZD0hMDt2YXIgdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJwcmUgY29kZSIpO24uZm9yRWFjaC5jYWxsKHQsTyl9fWZ1bmN0aW9uIE4oKXthZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixULCExKSxhZGRFdmVudExpc3RlbmVyKCJsb2FkIixULCExKX1mdW5jdGlvbiBFKGUsbil7dmFyIHI9b1tlXT1uKHQpO2Iociksci5hbGlhc2VzJiZyLmFsaWFzZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7aVt0XT1lfSkpfWZ1bmN0aW9uIF8oKXtyZXR1cm4gcihvKX1mdW5jdGlvbiBSKHQpe3JldHVybiB0PSh0fHwiIikudG9Mb3dlckNhc2UoKSxvW3RdfHxvW2lbdF1dfWZ1bmN0aW9uIEQodCl7dmFyIGU9Uih0KTtyZXR1cm4gZSYmIWUuZGlzYWJsZUF1dG9kZXRlY3R9cmV0dXJuIHQuaGlnaGxpZ2h0PVMsdC5oaWdobGlnaHRBdXRvPXgsdC5maXhNYXJrdXA9Qyx0LmhpZ2hsaWdodEJsb2NrPU8sdC5jb25maWd1cmU9QSx0LmluaXRIaWdobGlnaHRpbmc9VCx0LmluaXRIaWdobGlnaHRpbmdPbkxvYWQ9Tix0LnJlZ2lzdGVyTGFuZ3VhZ2U9RSx0Lmxpc3RMYW5ndWFnZXM9Xyx0LmdldExhbmd1YWdlPVIsdC5hdXRvRGV0ZWN0aW9uPUQsdC5pbmhlcml0PW0sdC5JREVOVF9SRT0iW2EtekEtWl1cXHcqIix0LlVOREVSU0NPUkVfSURFTlRfUkU9IlthLXpBLVpfXVxcdyoiLHQuTlVNQkVSX1JFPSJcXGJcXGQrKFxcLlxcZCspPyIsdC5DX05VTUJFUl9SRT0iKC0/KShcXGIwW3hYXVthLWZBLUYwLTldK3woXFxiXFxkKyhcXC5cXGQqKT98XFwuXFxkKykoW2VFXVstK10/XFxkKyk/KSIsdC5CSU5BUllfTlVNQkVSX1JFPSJcXGIoMGJbMDFdKykiLHQuUkVfU1RBUlRFUlNfUkU9IiF8IT18IT09fCV8JT18JnwmJnwmPXxcXCp8XFwqPXxcXCt8XFwrPXwsfC18LT18Lz18L3w6fDt8PDx8PDw9fDw9fDx8PT09fD09fD18Pj4+PXw+Pj18Pj18Pj4+fD4+fD58XFw/fFxcW3xcXHt8XFwofFxcXnxcXF49fFxcfHxcXHw9fFxcfFxcfHx+Iix0LkJBQ0tTTEFTSF9FU0NBUEU9e2JlZ2luOiJcXFxcW1xcc1xcU10iLHJlbGV2YW5jZTowfSx0LkFQT1NfU1RSSU5HX01PREU9e2NsYXNzTmFtZToic3RyaW5nIixiZWdpbjoiJyIsZW5kOiInIixpbGxlZ2FsOiJcXG4iLGNvbnRhaW5zOlt0LkJBQ0tTTEFTSF9FU0NBUEVdfSx0LlFVT1RFX1NUUklOR19NT0RFPXtjbGFzc05hbWU6InN0cmluZyIsYmVnaW46JyInLGVuZDonIicsaWxsZWdhbDoiXFxuIixjb250YWluczpbdC5CQUNLU0xBU0hfRVNDQVBFXX0sdC5QSFJBU0FMX1dPUkRTX01PREU9e2JlZ2luOi9cYihhfGFufHRoZXxhcmV8SSdtfGlzbid0fGRvbid0fGRvZXNuJ3R8d29uJ3R8YnV0fGp1c3R8c2hvdWxkfHByZXR0eXxzaW1wbHl8ZW5vdWdofGdvbm5hfGdvaW5nfHd0Znxzb3xzdWNofHdpbGx8eW91fHlvdXJ8dGhleXxsaWtlfG1vcmUpXGIvfSx0LkNPTU1FTlQ9ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPXQuaW5oZXJpdCh7Y2xhc3NOYW1lOiJjb21tZW50IixiZWdpbjplLGVuZDpuLGNvbnRhaW5zOltdfSxyfHx7fSk7cmV0dXJuIG8uY29udGFpbnMucHVzaCh0LlBIUkFTQUxfV09SRFNfTU9ERSksby5jb250YWlucy5wdXNoKHtjbGFzc05hbWU6ImRvY3RhZyIsYmVnaW46Iig/OlRPRE98RklYTUV8Tk9URXxCVUd8WFhYKToiLHJlbGV2YW5jZTowfSksb30sdC5DX0xJTkVfQ09NTUVOVF9NT0RFPXQuQ09NTUVOVCgiLy8iLCIkIiksdC5DX0JMT0NLX0NPTU1FTlRfTU9ERT10LkNPTU1FTlQoIi9cXCoiLCJcXCovIiksdC5IQVNIX0NPTU1FTlRfTU9ERT10LkNPTU1FTlQoIiMiLCIkIiksdC5OVU1CRVJfTU9ERT17Y2xhc3NOYW1lOiJudW1iZXIiLGJlZ2luOnQuTlVNQkVSX1JFLHJlbGV2YW5jZTowfSx0LkNfTlVNQkVSX01PREU9e2NsYXNzTmFtZToibnVtYmVyIixiZWdpbjp0LkNfTlVNQkVSX1JFLHJlbGV2YW5jZTowfSx0LkJJTkFSWV9OVU1CRVJfTU9ERT17Y2xhc3NOYW1lOiJudW1iZXIiLGJlZ2luOnQuQklOQVJZX05VTUJFUl9SRSxyZWxldmFuY2U6MH0sdC5DU1NfTlVNQkVSX01PREU9e2NsYXNzTmFtZToibnVtYmVyIixiZWdpbjp0Lk5VTUJFUl9SRSsiKCV8ZW18ZXh8Y2h8cmVtfHZ3fHZofHZtaW58dm1heHxjbXxtbXxpbnxwdHxwY3xweHxkZWd8Z3JhZHxyYWR8dHVybnxzfG1zfEh6fGtIenxkcGl8ZHBjbXxkcHB4KT8iLHJlbGV2YW5jZTowfSx0LlJFR0VYUF9NT0RFPXtjbGFzc05hbWU6InJlZ2V4cCIsYmVnaW46L1wvLyxlbmQ6L1wvW2dpbXV5XSovLGlsbGVnYWw6L1xuLyxjb250YWluczpbdC5CQUNLU0xBU0hfRVNDQVBFLHtiZWdpbjovXFsvLGVuZDovXF0vLHJlbGV2YW5jZTowLGNvbnRhaW5zOlt0LkJBQ0tTTEFTSF9FU0NBUEVdfV19LHQuVElUTEVfTU9ERT17Y2xhc3NOYW1lOiJ0aXRsZSIsYmVnaW46dC5JREVOVF9SRSxyZWxldmFuY2U6MH0sdC5VTkRFUlNDT1JFX1RJVExFX01PREU9e2NsYXNzTmFtZToidGl0bGUiLGJlZ2luOnQuVU5ERVJTQ09SRV9JREVOVF9SRSxyZWxldmFuY2U6MH0sdC5NRVRIT0RfR1VBUkQ9e2JlZ2luOiJcXC5cXHMqIit0LlVOREVSU0NPUkVfSURFTlRfUkUscmVsZXZhbmNlOjB9LHR9KSl9LGE3NDU6ZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKCJmNDEwIil9LGFjNmE6ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1uKCJjYWRmIiksbz1uKCIwZDU4IiksaT1uKCIyYWJhIiksYT1uKCI3NzI2Iikscz1uKCIzMmU5IiksYz1uKCI4NGYyIiksbD1uKCIyYjRjIiksdT1sKCJpdGVyYXRvciIpLGY9bCgidG9TdHJpbmdUYWciKSxwPWMuQXJyYXksaD17Q1NTUnVsZUxpc3Q6ITAsQ1NTU3R5bGVEZWNsYXJhdGlvbjohMSxDU1NWYWx1ZUxpc3Q6ITEsQ2xpZW50UmVjdExpc3Q6ITEsRE9NUmVjdExpc3Q6ITEsRE9NU3RyaW5nTGlzdDohMSxET01Ub2tlbkxpc3Q6ITAsRGF0YVRyYW5zZmVySXRlbUxpc3Q6ITEsRmlsZUxpc3Q6ITEsSFRNTEFsbENvbGxlY3Rpb246ITEsSFRNTENvbGxlY3Rpb246ITEsSFRNTEZvcm1FbGVtZW50OiExLEhUTUxTZWxlY3RFbGVtZW50OiExLE1lZGlhTGlzdDohMCxNaW1lVHlwZUFycmF5OiExLE5hbWVkTm9kZU1hcDohMSxOb2RlTGlzdDohMCxQYWludFJlcXVlc3RMaXN0OiExLFBsdWdpbjohMSxQbHVnaW5BcnJheTohMSxTVkdMZW5ndGhMaXN0OiExLFNWR051bWJlckxpc3Q6ITEsU1ZHUGF0aFNlZ0xpc3Q6ITEsU1ZHUG9pbnRMaXN0OiExLFNWR1N0cmluZ0xpc3Q6ITEsU1ZHVHJhbnNmb3JtTGlzdDohMSxTb3VyY2VCdWZmZXJMaXN0OiExLFN0eWxlU2hlZXRMaXN0OiEwLFRleHRUcmFja0N1ZUxpc3Q6ITEsVGV4dFRyYWNrTGlzdDohMSxUb3VjaExpc3Q6ITF9LGQ9byhoKSx2PTA7djxkLmxlbmd0aDt2Kyspe3ZhciBtLGc9ZFt2XSx5PWhbZ10sdz1hW2ddLGI9dyYmdy5wcm90b3R5cGU7aWYoYiYmKGJbdV18fHMoYix1LHApLGJbZl18fHMoYixmLGcpLGNbZ109cCx5KSlmb3IobSBpbiByKWJbbV18fGkoYixtLHJbbV0sITApfX0sYWViZDpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybntlbnVtZXJhYmxlOiEoMSZ0KSxjb25maWd1cmFibGU6ISgyJnQpLHdyaXRhYmxlOiEoNCZ0KSx2YWx1ZTplfX19LGI0NDc6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjNhMzgiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP28ocih0KSw5MDA3MTk5MjU0NzQwOTkxKTowfX0sYjhlMzpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0hMH0sYjkyMzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj1uKCI2ZjI3Iiksbz02NTUzNSxpPU1hdGgucG93KDIsMTYpO2Z1bmN0aW9uIGEodCxlKXtyZXR1cm4gdCtlKml9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gdCZvfWZ1bmN0aW9uIGModCl7cmV0dXJuKHQtKHQmbykpL2l9dmFyIGw9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPSExKSx2b2lkIDA9PT1uJiYobj1udWxsKSx0aGlzLnBvcz10LHRoaXMuZGVsZXRlZD1lLHRoaXMucmVjb3Zlcj1ufSx1PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMucmFuZ2VzPXQsdGhpcy5pbnZlcnRlZD1lfTt1LnByb3RvdHlwZS5yZWNvdmVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj0wLHI9cyh0KTtpZighdGhpcy5pbnZlcnRlZClmb3IodmFyIG89MDtvPHI7bysrKW4rPWUucmFuZ2VzWzMqbysyXS1lLnJhbmdlc1szKm8rMV07cmV0dXJuIHRoaXMucmFuZ2VzWzMqcl0rbitjKHQpfSx1LnByb3RvdHlwZS5tYXBSZXN1bHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MSksdGhpcy5fbWFwKHQsZSwhMSl9LHUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0xKSx0aGlzLl9tYXAodCxlLCEwKX0sdS5wcm90b3R5cGUuX21hcD1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPXRoaXMsbz0wLGk9dGhpcy5pbnZlcnRlZD8yOjEscz10aGlzLmludmVydGVkPzE6MixjPTA7Yzx0aGlzLnJhbmdlcy5sZW5ndGg7Yys9Myl7dmFyIHU9ci5yYW5nZXNbY10tKHIuaW52ZXJ0ZWQ/bzowKTtpZih1PnQpYnJlYWs7dmFyIGY9ci5yYW5nZXNbYytpXSxwPXIucmFuZ2VzW2Mrc10saD11K2Y7aWYodDw9aCl7dmFyIGQ9Zj90PT11Py0xOnQ9PWg/MTplOmUsdj11K28rKGQ8MD8wOnApO2lmKG4pcmV0dXJuIHY7dmFyIG09YShjLzMsdC11KTtyZXR1cm4gbmV3IGwodixlPDA/dCE9dTp0IT1oLG0pfW8rPXAtZn1yZXR1cm4gbj90K286bmV3IGwodCtvKX0sdS5wcm90b3R5cGUudG91Y2hlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLHI9MCxvPXMoZSksaT10aGlzLmludmVydGVkPzI6MSxhPXRoaXMuaW52ZXJ0ZWQ/MToyLGM9MDtjPHRoaXMucmFuZ2VzLmxlbmd0aDtjKz0zKXt2YXIgbD1uLnJhbmdlc1tjXS0obi5pbnZlcnRlZD9yOjApO2lmKGw+dClicmVhazt2YXIgdT1uLnJhbmdlc1tjK2ldLGY9bCt1O2lmKHQ8PWYmJmM9PTMqbylyZXR1cm4hMDtyKz1uLnJhbmdlc1tjK2FdLXV9cmV0dXJuITF9LHUucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj10aGlzLmludmVydGVkPzI6MSxyPXRoaXMuaW52ZXJ0ZWQ/MToyLG89MCxpPTA7bzx0aGlzLnJhbmdlcy5sZW5ndGg7bys9Myl7dmFyIGE9ZS5yYW5nZXNbb10scz1hLShlLmludmVydGVkP2k6MCksYz1hKyhlLmludmVydGVkPzA6aSksbD1lLnJhbmdlc1tvK25dLHU9ZS5yYW5nZXNbbytyXTt0KHMscytsLGMsYyt1KSxpKz11LWx9fSx1LnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHUodGhpcy5yYW5nZXMsIXRoaXMuaW52ZXJ0ZWQpfSx1LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybih0aGlzLmludmVydGVkPyItIjoiIikrSlNPTi5zdHJpbmdpZnkodGhpcy5yYW5nZXMpfSx1Lm9mZnNldD1mdW5jdGlvbih0KXtyZXR1cm4gMD09dD91LmVtcHR5Om5ldyB1KHQ8MD9bMCwtdCwwXTpbMCwwLHRdKX0sdS5lbXB0eT1uZXcgdShbXSk7dmFyIGY9ZnVuY3Rpb24odCxlLG4scil7dGhpcy5tYXBzPXR8fFtdLHRoaXMuZnJvbT1ufHwwLHRoaXMudG89bnVsbD09cj90aGlzLm1hcHMubGVuZ3RoOnIsdGhpcy5taXJyb3I9ZX07ZnVuY3Rpb24gcCh0KXt2YXIgZT1FcnJvci5jYWxsKHRoaXMsdCk7cmV0dXJuIGUuX19wcm90b19fPXAucHJvdG90eXBlLGV9Zi5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09ZSYmKGU9dGhpcy5tYXBzLmxlbmd0aCksbmV3IGYodGhpcy5tYXBzLHRoaXMubWlycm9yLHQsZSl9LGYucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGYodGhpcy5tYXBzLnNsaWNlKCksdGhpcy5taXJyb3ImJnRoaXMubWlycm9yLnNsaWNlKCksdGhpcy5mcm9tLHRoaXMudG8pfSxmLnByb3RvdHlwZS5hcHBlbmRNYXA9ZnVuY3Rpb24odCxlKXt0aGlzLnRvPXRoaXMubWFwcy5wdXNoKHQpLG51bGwhPWUmJnRoaXMuc2V0TWlycm9yKHRoaXMubWFwcy5sZW5ndGgtMSxlKX0sZi5wcm90b3R5cGUuYXBwZW5kTWFwcGluZz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxuPTAscj10aGlzLm1hcHMubGVuZ3RoO248dC5tYXBzLmxlbmd0aDtuKyspe3ZhciBvPXQuZ2V0TWlycm9yKG4pO2UuYXBwZW5kTWFwKHQubWFwc1tuXSxudWxsIT1vJiZvPG4/citvOm51bGwpfX0sZi5wcm90b3R5cGUuZ2V0TWlycm9yPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodGhpcy5taXJyb3IpZm9yKHZhciBuPTA7bjx0aGlzLm1pcnJvci5sZW5ndGg7bisrKWlmKGUubWlycm9yW25dPT10KXJldHVybiBlLm1pcnJvcltuKyhuJTI/LTE6MSldfSxmLnByb3RvdHlwZS5zZXRNaXJyb3I9ZnVuY3Rpb24odCxlKXt0aGlzLm1pcnJvcnx8KHRoaXMubWlycm9yPVtdKSx0aGlzLm1pcnJvci5wdXNoKHQsZSl9LGYucHJvdG90eXBlLmFwcGVuZE1hcHBpbmdJbnZlcnRlZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxuPXQubWFwcy5sZW5ndGgtMSxyPXRoaXMubWFwcy5sZW5ndGgrdC5tYXBzLmxlbmd0aDtuPj0wO24tLSl7dmFyIG89dC5nZXRNaXJyb3Iobik7ZS5hcHBlbmRNYXAodC5tYXBzW25dLmludmVydCgpLG51bGwhPW8mJm8+bj9yLW8tMTpudWxsKX19LGYucHJvdG90eXBlLmludmVydD1mdW5jdGlvbigpe3ZhciB0PW5ldyBmO3JldHVybiB0LmFwcGVuZE1hcHBpbmdJbnZlcnRlZCh0aGlzKSx0fSxmLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKHZvaWQgMD09PWUmJihlPTEpLHRoaXMubWlycm9yKXJldHVybiB0aGlzLl9tYXAodCxlLCEwKTtmb3IodmFyIHI9dGhpcy5mcm9tO3I8dGhpcy50bztyKyspdD1uLm1hcHNbcl0ubWFwKHQsZSk7cmV0dXJuIHR9LGYucHJvdG90eXBlLm1hcFJlc3VsdD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0xKSx0aGlzLl9tYXAodCxlLCExKX0sZi5wcm90b3R5cGUuX21hcD1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPXRoaXMsbz0hMSxpPW51bGwsYT10aGlzLmZyb207YTx0aGlzLnRvO2ErKyl7dmFyIHM9ci5tYXBzW2FdLGM9aSYmaVthXTtpZihudWxsIT1jJiZzLnRvdWNoZXModCxjKSl0PXMucmVjb3ZlcihjKTtlbHNle3ZhciB1PXMubWFwUmVzdWx0KHQsZSk7aWYobnVsbCE9dS5yZWNvdmVyKXt2YXIgZj1yLmdldE1pcnJvcihhKTtpZihudWxsIT1mJiZmPmEmJmY8ci50byl7aWYodS5kZWxldGVkKXthPWYsdD1yLm1hcHNbZl0ucmVjb3Zlcih1LnJlY292ZXIpO2NvbnRpbnVlfShpfHwoaT1PYmplY3QuY3JlYXRlKG51bGwpKSlbZl09dS5yZWNvdmVyfX11LmRlbGV0ZWQmJihvPSEwKSx0PXUucG9zfX1yZXR1cm4gbj90Om5ldyBsKHQsbyl9LHAucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSxwLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1wLHAucHJvdG90eXBlLm5hbWU9IlRyYW5zZm9ybUVycm9yIjt2YXIgaD1mdW5jdGlvbih0KXt0aGlzLmRvYz10LHRoaXMuc3RlcHM9W10sdGhpcy5kb2NzPVtdLHRoaXMubWFwcGluZz1uZXcgZn0sZD17YmVmb3JlOnt9LGRvY0NoYW5nZWQ6e319O2Z1bmN0aW9uIHYoKXt0aHJvdyBuZXcgRXJyb3IoIk92ZXJyaWRlIG1lIil9ZC5iZWZvcmUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jcy5sZW5ndGg/dGhpcy5kb2NzWzBdOnRoaXMuZG9jfSxoLnByb3RvdHlwZS5zdGVwPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubWF5YmVTdGVwKHQpO2lmKGUuZmFpbGVkKXRocm93IG5ldyBwKGUuZmFpbGVkKTtyZXR1cm4gdGhpc30saC5wcm90b3R5cGUubWF5YmVTdGVwPWZ1bmN0aW9uKHQpe3ZhciBlPXQuYXBwbHkodGhpcy5kb2MpO3JldHVybiBlLmZhaWxlZHx8dGhpcy5hZGRTdGVwKHQsZS5kb2MpLGV9LGQuZG9jQ2hhbmdlZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGVwcy5sZW5ndGg+MH0saC5wcm90b3R5cGUuYWRkU3RlcD1mdW5jdGlvbih0LGUpe3RoaXMuZG9jcy5wdXNoKHRoaXMuZG9jKSx0aGlzLnN0ZXBzLnB1c2godCksdGhpcy5tYXBwaW5nLmFwcGVuZE1hcCh0LmdldE1hcCgpKSx0aGlzLmRvYz1lfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhoLnByb3RvdHlwZSxkKTt2YXIgbT1PYmplY3QuY3JlYXRlKG51bGwpLGc9ZnVuY3Rpb24oKXt9O2cucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQpe3JldHVybiB2KCl9LGcucHJvdG90eXBlLmdldE1hcD1mdW5jdGlvbigpe3JldHVybiB1LmVtcHR5fSxnLnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHYoKX0sZy5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe3JldHVybiB2KCl9LGcucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsfSxnLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdigpfSxnLmZyb21KU09OPWZ1bmN0aW9uKHQsZSl7aWYoIWV8fCFlLnN0ZXBUeXBlKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBTdGVwLmZyb21KU09OIik7dmFyIG49bVtlLnN0ZXBUeXBlXTtpZighbil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiTm8gc3RlcCB0eXBlICIrZS5zdGVwVHlwZSsiIGRlZmluZWQiKTtyZXR1cm4gbi5mcm9tSlNPTih0LGUpfSxnLmpzb25JRD1mdW5jdGlvbih0LGUpe2lmKHQgaW4gbSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRHVwbGljYXRlIHVzZSBvZiBzdGVwIEpTT04gSUQgIit0KTtyZXR1cm4gbVt0XT1lLGUucHJvdG90eXBlLmpzb25JRD10LGV9O3ZhciB5PWZ1bmN0aW9uKHQsZSl7dGhpcy5kb2M9dCx0aGlzLmZhaWxlZD1lfTt5Lm9rPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgeSh0LG51bGwpfSx5LmZhaWw9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB5KG51bGwsdCl9LHkuZnJvbVJlcGxhY2U9ZnVuY3Rpb24odCxlLG4sbyl7dHJ5e3JldHVybiB5Lm9rKHQucmVwbGFjZShlLG4sbykpfWNhdGNoKGkpe2lmKGkgaW5zdGFuY2VvZiByLlJlcGxhY2VFcnJvcilyZXR1cm4geS5mYWlsKGkubWVzc2FnZSk7dGhyb3cgaX19O3ZhciB3PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyl7dC5jYWxsKHRoaXMpLHRoaXMuZnJvbT1lLHRoaXMudG89bix0aGlzLnNsaWNlPXIsdGhpcy5zdHJ1Y3R1cmU9ISFvfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdHJ1Y3R1cmUmJmsodCx0aGlzLmZyb20sdGhpcy50byk/eS5mYWlsKCJTdHJ1Y3R1cmUgcmVwbGFjZSB3b3VsZCBvdmVyd3JpdGUgY29udGVudCIpOnkuZnJvbVJlcGxhY2UodCx0aGlzLmZyb20sdGhpcy50byx0aGlzLnNsaWNlKX0sZS5wcm90b3R5cGUuZ2V0TWFwPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1KFt0aGlzLmZyb20sdGhpcy50by10aGlzLmZyb20sdGhpcy5zbGljZS5zaXplXSl9LGUucHJvdG90eXBlLmludmVydD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodGhpcy5mcm9tLHRoaXMuZnJvbSt0aGlzLnNsaWNlLnNpemUsdC5zbGljZSh0aGlzLmZyb20sdGhpcy50bykpfSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7dmFyIG49dC5tYXBSZXN1bHQodGhpcy5mcm9tLDEpLHI9dC5tYXBSZXN1bHQodGhpcy50bywtMSk7cmV0dXJuIG4uZGVsZXRlZCYmci5kZWxldGVkP251bGw6bmV3IGUobi5wb3MsTWF0aC5tYXgobi5wb3Msci5wb3MpLHRoaXMuc2xpY2UpfSxlLnByb3RvdHlwZS5tZXJnZT1mdW5jdGlvbih0KXtpZighKHQgaW5zdGFuY2VvZiBlKXx8dC5zdHJ1Y3R1cmUhPXRoaXMuc3RydWN0dXJlKXJldHVybiBudWxsO2lmKHRoaXMuZnJvbSt0aGlzLnNsaWNlLnNpemUhPXQuZnJvbXx8dGhpcy5zbGljZS5vcGVuRW5kfHx0LnNsaWNlLm9wZW5TdGFydCl7aWYodC50byE9dGhpcy5mcm9tfHx0aGlzLnNsaWNlLm9wZW5TdGFydHx8dC5zbGljZS5vcGVuRW5kKXJldHVybiBudWxsO3ZhciBuPXRoaXMuc2xpY2Uuc2l6ZSt0LnNsaWNlLnNpemU9PTA/ci5TbGljZS5lbXB0eTpuZXcgci5TbGljZSh0LnNsaWNlLmNvbnRlbnQuYXBwZW5kKHRoaXMuc2xpY2UuY29udGVudCksdC5zbGljZS5vcGVuU3RhcnQsdGhpcy5zbGljZS5vcGVuRW5kKTtyZXR1cm4gbmV3IGUodC5mcm9tLHRoaXMudG8sbix0aGlzLnN0cnVjdHVyZSl9dmFyIG89dGhpcy5zbGljZS5zaXplK3Quc2xpY2Uuc2l6ZT09MD9yLlNsaWNlLmVtcHR5Om5ldyByLlNsaWNlKHRoaXMuc2xpY2UuY29udGVudC5hcHBlbmQodC5zbGljZS5jb250ZW50KSx0aGlzLnNsaWNlLm9wZW5TdGFydCx0LnNsaWNlLm9wZW5FbmQpO3JldHVybiBuZXcgZSh0aGlzLmZyb20sdGhpcy50bysodC50by10LmZyb20pLG8sdGhpcy5zdHJ1Y3R1cmUpfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgdD17c3RlcFR5cGU6InJlcGxhY2UiLGZyb206dGhpcy5mcm9tLHRvOnRoaXMudG99O3JldHVybiB0aGlzLnNsaWNlLnNpemUmJih0LnNsaWNlPXRoaXMuc2xpY2UudG9KU09OKCkpLHRoaXMuc3RydWN0dXJlJiYodC5zdHJ1Y3R1cmU9ITApLHR9LGUuZnJvbUpTT049ZnVuY3Rpb24odCxuKXtpZigibnVtYmVyIiE9dHlwZW9mIG4uZnJvbXx8Im51bWJlciIhPXR5cGVvZiBuLnRvKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGlucHV0IGZvciBSZXBsYWNlU3RlcC5mcm9tSlNPTiIpO3JldHVybiBuZXcgZShuLmZyb20sbi50byxyLlNsaWNlLmZyb21KU09OKHQsbi5zbGljZSksISFuLnN0cnVjdHVyZSl9LGV9KGcpO2cuanNvbklEKCJyZXBsYWNlIix3KTt2YXIgYj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLG8saSxhLHMpe3QuY2FsbCh0aGlzKSx0aGlzLmZyb209ZSx0aGlzLnRvPW4sdGhpcy5nYXBGcm9tPXIsdGhpcy5nYXBUbz1vLHRoaXMuc2xpY2U9aSx0aGlzLmluc2VydD1hLHRoaXMuc3RydWN0dXJlPSEhc31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7aWYodGhpcy5zdHJ1Y3R1cmUmJihrKHQsdGhpcy5mcm9tLHRoaXMuZ2FwRnJvbSl8fGsodCx0aGlzLmdhcFRvLHRoaXMudG8pKSlyZXR1cm4geS5mYWlsKCJTdHJ1Y3R1cmUgZ2FwLXJlcGxhY2Ugd291bGQgb3ZlcndyaXRlIGNvbnRlbnQiKTt2YXIgZT10LnNsaWNlKHRoaXMuZ2FwRnJvbSx0aGlzLmdhcFRvKTtpZihlLm9wZW5TdGFydHx8ZS5vcGVuRW5kKXJldHVybiB5LmZhaWwoIkdhcCBpcyBub3QgYSBmbGF0IHJhbmdlIik7dmFyIG49dGhpcy5zbGljZS5pbnNlcnRBdCh0aGlzLmluc2VydCxlLmNvbnRlbnQpO3JldHVybiBuP3kuZnJvbVJlcGxhY2UodCx0aGlzLmZyb20sdGhpcy50byxuKTp5LmZhaWwoIkNvbnRlbnQgZG9lcyBub3QgZml0IGluIGdhcCIpfSxlLnByb3RvdHlwZS5nZXRNYXA9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHUoW3RoaXMuZnJvbSx0aGlzLmdhcEZyb20tdGhpcy5mcm9tLHRoaXMuaW5zZXJ0LHRoaXMuZ2FwVG8sdGhpcy50by10aGlzLmdhcFRvLHRoaXMuc2xpY2Uuc2l6ZS10aGlzLmluc2VydF0pfSxlLnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5nYXBUby10aGlzLmdhcEZyb207cmV0dXJuIG5ldyBlKHRoaXMuZnJvbSx0aGlzLmZyb20rdGhpcy5zbGljZS5zaXplK24sdGhpcy5mcm9tK3RoaXMuaW5zZXJ0LHRoaXMuZnJvbSt0aGlzLmluc2VydCtuLHQuc2xpY2UodGhpcy5mcm9tLHRoaXMudG8pLnJlbW92ZUJldHdlZW4odGhpcy5nYXBGcm9tLXRoaXMuZnJvbSx0aGlzLmdhcFRvLXRoaXMuZnJvbSksdGhpcy5nYXBGcm9tLXRoaXMuZnJvbSx0aGlzLnN0cnVjdHVyZSl9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXt2YXIgbj10Lm1hcFJlc3VsdCh0aGlzLmZyb20sMSkscj10Lm1hcFJlc3VsdCh0aGlzLnRvLC0xKSxvPXQubWFwKHRoaXMuZ2FwRnJvbSwtMSksaT10Lm1hcCh0aGlzLmdhcFRvLDEpO3JldHVybiBuLmRlbGV0ZWQmJnIuZGVsZXRlZHx8bzxuLnBvc3x8aT5yLnBvcz9udWxsOm5ldyBlKG4ucG9zLHIucG9zLG8saSx0aGlzLnNsaWNlLHRoaXMuaW5zZXJ0LHRoaXMuc3RydWN0dXJlKX0sZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIHQ9e3N0ZXBUeXBlOiJyZXBsYWNlQXJvdW5kIixmcm9tOnRoaXMuZnJvbSx0bzp0aGlzLnRvLGdhcEZyb206dGhpcy5nYXBGcm9tLGdhcFRvOnRoaXMuZ2FwVG8saW5zZXJ0OnRoaXMuaW5zZXJ0fTtyZXR1cm4gdGhpcy5zbGljZS5zaXplJiYodC5zbGljZT10aGlzLnNsaWNlLnRvSlNPTigpKSx0aGlzLnN0cnVjdHVyZSYmKHQuc3RydWN0dXJlPSEwKSx0fSxlLmZyb21KU09OPWZ1bmN0aW9uKHQsbil7aWYoIm51bWJlciIhPXR5cGVvZiBuLmZyb218fCJudW1iZXIiIT10eXBlb2Ygbi50b3x8Im51bWJlciIhPXR5cGVvZiBuLmdhcEZyb218fCJudW1iZXIiIT10eXBlb2Ygbi5nYXBUb3x8Im51bWJlciIhPXR5cGVvZiBuLmluc2VydCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBpbnB1dCBmb3IgUmVwbGFjZUFyb3VuZFN0ZXAuZnJvbUpTT04iKTtyZXR1cm4gbmV3IGUobi5mcm9tLG4udG8sbi5nYXBGcm9tLG4uZ2FwVG8sci5TbGljZS5mcm9tSlNPTih0LG4uc2xpY2UpLG4uaW5zZXJ0LCEhbi5zdHJ1Y3R1cmUpfSxlfShnKTtmdW5jdGlvbiBrKHQsZSxuKXt2YXIgcj10LnJlc29sdmUoZSksbz1uLWUsaT1yLmRlcHRoO3doaWxlKG8+MCYmaT4wJiZyLmluZGV4QWZ0ZXIoaSk9PXIubm9kZShpKS5jaGlsZENvdW50KWktLSxvLS07aWYobz4wKXt2YXIgYT1yLm5vZGUoaSkubWF5YmVDaGlsZChyLmluZGV4QWZ0ZXIoaSkpO3doaWxlKG8+MCl7aWYoIWF8fGEuaXNMZWFmKXJldHVybiEwO2E9YS5maXJzdENoaWxkLG8tLX19cmV0dXJuITF9ZnVuY3Rpb24gUyh0LGUsbil7cmV0dXJuKDA9PWV8fHQuY2FuUmVwbGFjZShlLHQuY2hpbGRDb3VudCkpJiYobj09dC5jaGlsZENvdW50fHx0LmNhblJlcGxhY2UoMCxuKSl9ZnVuY3Rpb24geCh0KXtmb3IodmFyIGU9dC5wYXJlbnQsbj1lLmNvbnRlbnQuY3V0QnlJbmRleCh0LnN0YXJ0SW5kZXgsdC5lbmRJbmRleCkscj10LmRlcHRoOzstLXIpe3ZhciBvPXQuJGZyb20ubm9kZShyKSxpPXQuJGZyb20uaW5kZXgociksYT10LiR0by5pbmRleEFmdGVyKHIpO2lmKHI8dC5kZXB0aCYmby5jYW5SZXBsYWNlKGksYSxuKSlyZXR1cm4gcjtpZigwPT1yfHxvLnR5cGUuc3BlYy5pc29sYXRpbmd8fCFTKG8saSxhKSlicmVha319ZnVuY3Rpb24gQyh0LGUsbixyKXt2b2lkIDA9PT1yJiYocj10KTt2YXIgbz1PKHQsZSksaT1vJiZBKHIsZSk7cmV0dXJuIGk/by5tYXAoTSkuY29uY2F0KHt0eXBlOmUsYXR0cnM6bn0pLmNvbmNhdChpLm1hcChNKSk6bnVsbH1mdW5jdGlvbiBNKHQpe3JldHVybnt0eXBlOnQsYXR0cnM6bnVsbH19ZnVuY3Rpb24gTyh0LGUpe3ZhciBuPXQucGFyZW50LHI9dC5zdGFydEluZGV4LG89dC5lbmRJbmRleCxpPW4uY29udGVudE1hdGNoQXQocikuZmluZFdyYXBwaW5nKGUpO2lmKCFpKXJldHVybiBudWxsO3ZhciBhPWkubGVuZ3RoP2lbMF06ZTtyZXR1cm4gbi5jYW5SZXBsYWNlV2l0aChyLG8sYSk/aTpudWxsfWZ1bmN0aW9uIEEodCxlKXt2YXIgbj10LnBhcmVudCxyPXQuc3RhcnRJbmRleCxvPXQuZW5kSW5kZXgsaT1uLmNoaWxkKHIpLGE9ZS5jb250ZW50TWF0Y2guZmluZFdyYXBwaW5nKGkudHlwZSk7aWYoIWEpcmV0dXJuIG51bGw7Zm9yKHZhciBzPWEubGVuZ3RoP2FbYS5sZW5ndGgtMV06ZSxjPXMuY29udGVudE1hdGNoLGw9cjtjJiZsPG87bCsrKWM9Yy5tYXRjaFR5cGUobi5jaGlsZChsKS50eXBlKTtyZXR1cm4gYyYmYy52YWxpZEVuZD9hOm51bGx9ZnVuY3Rpb24gVCh0LGUsbil7dmFyIHI9dC5yZXNvbHZlKGUpLG89ci5pbmRleCgpO3JldHVybiByLnBhcmVudC5jYW5SZXBsYWNlV2l0aChvLG8rMSxuKX1mdW5jdGlvbiBOKHQsZSxuLHIpe3ZvaWQgMD09PW4mJihuPTEpO3ZhciBvPXQucmVzb2x2ZShlKSxpPW8uZGVwdGgtbixhPXImJnJbci5sZW5ndGgtMV18fG8ucGFyZW50O2lmKGk8MHx8by5wYXJlbnQudHlwZS5zcGVjLmlzb2xhdGluZ3x8IW8ucGFyZW50LmNhblJlcGxhY2Uoby5pbmRleCgpLG8ucGFyZW50LmNoaWxkQ291bnQpfHwhYS50eXBlLnZhbGlkQ29udGVudChvLnBhcmVudC5jb250ZW50LmN1dEJ5SW5kZXgoby5pbmRleCgpLG8ucGFyZW50LmNoaWxkQ291bnQpKSlyZXR1cm4hMTtmb3IodmFyIHM9by5kZXB0aC0xLGM9bi0yO3M+aTtzLS0sYy0tKXt2YXIgbD1vLm5vZGUocyksdT1vLmluZGV4KHMpO2lmKGwudHlwZS5zcGVjLmlzb2xhdGluZylyZXR1cm4hMTt2YXIgZj1sLmNvbnRlbnQuY3V0QnlJbmRleCh1LGwuY2hpbGRDb3VudCkscD1yJiZyW2NdfHxsO2lmKHAhPWwmJihmPWYucmVwbGFjZUNoaWxkKDAscC50eXBlLmNyZWF0ZShwLmF0dHJzKSkpLCFsLmNhblJlcGxhY2UodSsxLGwuY2hpbGRDb3VudCl8fCFwLnR5cGUudmFsaWRDb250ZW50KGYpKXJldHVybiExfXZhciBoPW8uaW5kZXhBZnRlcihpKSxkPXImJnJbMF07cmV0dXJuIG8ubm9kZShpKS5jYW5SZXBsYWNlV2l0aChoLGgsZD9kLnR5cGU6by5ub2RlKGkrMSkudHlwZSl9ZnVuY3Rpb24gRSh0LGUpe3ZhciBuPXQucmVzb2x2ZShlKSxyPW4uaW5kZXgoKTtyZXR1cm4gXyhuLm5vZGVCZWZvcmUsbi5ub2RlQWZ0ZXIpJiZuLnBhcmVudC5jYW5SZXBsYWNlKHIscisxKX1mdW5jdGlvbiBfKHQsZSl7cmV0dXJuIHQmJmUmJiF0LmlzTGVhZiYmdC5jYW5BcHBlbmQoZSl9ZnVuY3Rpb24gUih0LGUsbil7dm9pZCAwPT09biYmKG49LTEpO2Zvcih2YXIgcj10LnJlc29sdmUoZSksbz1yLmRlcHRoOztvLS0pe3ZhciBpPXZvaWQgMCxhPXZvaWQgMDtpZihvPT1yLmRlcHRoPyhpPXIubm9kZUJlZm9yZSxhPXIubm9kZUFmdGVyKTpuPjA/KGk9ci5ub2RlKG8rMSksYT1yLm5vZGUobykubWF5YmVDaGlsZChyLmluZGV4KG8pKzEpKTooaT1yLm5vZGUobykubWF5YmVDaGlsZChyLmluZGV4KG8pLTEpLGE9ci5ub2RlKG8rMSkpLGkmJiFpLmlzVGV4dGJsb2NrJiZfKGksYSkpcmV0dXJuIGU7aWYoMD09bylicmVhaztlPW48MD9yLmJlZm9yZShvKTpyLmFmdGVyKG8pfX1mdW5jdGlvbiBEKHQsZSxuKXt2YXIgcj10LnJlc29sdmUoZSk7aWYoci5wYXJlbnQuY2FuUmVwbGFjZVdpdGgoci5pbmRleCgpLHIuaW5kZXgoKSxuKSlyZXR1cm4gZTtpZigwPT1yLnBhcmVudE9mZnNldClmb3IodmFyIG89ci5kZXB0aC0xO28+PTA7by0tKXt2YXIgaT1yLmluZGV4KG8pO2lmKHIubm9kZShvKS5jYW5SZXBsYWNlV2l0aChpLGksbikpcmV0dXJuIHIuYmVmb3JlKG8rMSk7aWYoaT4wKXJldHVybiBudWxsfWlmKHIucGFyZW50T2Zmc2V0PT1yLnBhcmVudC5jb250ZW50LnNpemUpZm9yKHZhciBhPXIuZGVwdGgtMTthPj0wO2EtLSl7dmFyIHM9ci5pbmRleEFmdGVyKGEpO2lmKHIubm9kZShhKS5jYW5SZXBsYWNlV2l0aChzLHMsbikpcmV0dXJuIHIuYWZ0ZXIoYSsxKTtpZihzPHIubm9kZShhKS5jaGlsZENvdW50KXJldHVybiBudWxsfX1mdW5jdGlvbiBQKHQsZSxuKXt2YXIgcj10LnJlc29sdmUoZSk7aWYoIW4uY29udGVudC5zaXplKXJldHVybiBlO2Zvcih2YXIgbz1uLmNvbnRlbnQsaT0wO2k8bi5vcGVuU3RhcnQ7aSsrKW89by5maXJzdENoaWxkLmNvbnRlbnQ7Zm9yKHZhciBhPTE7YTw9KDA9PW4ub3BlblN0YXJ0JiZuLnNpemU/MjoxKTthKyspZm9yKHZhciBzPXIuZGVwdGg7cz49MDtzLS0pe3ZhciBjPXM9PXIuZGVwdGg/MDpyLnBvczw9KHIuc3RhcnQocysxKStyLmVuZChzKzEpKS8yPy0xOjEsbD1yLmluZGV4KHMpKyhjPjA/MTowKTtpZigxPT1hP3Iubm9kZShzKS5jYW5SZXBsYWNlKGwsbCxvKTpyLm5vZGUocykuY29udGVudE1hdGNoQXQobCkuZmluZFdyYXBwaW5nKG8uZmlyc3RDaGlsZC50eXBlKSlyZXR1cm4gMD09Yz9yLnBvczpjPDA/ci5iZWZvcmUocysxKTpyLmFmdGVyKHMrMSl9cmV0dXJuIG51bGx9ZnVuY3Rpb24geih0LGUsbil7Zm9yKHZhciBvPVtdLGk9MDtpPHQuY2hpbGRDb3VudDtpKyspe3ZhciBhPXQuY2hpbGQoaSk7YS5jb250ZW50LnNpemUmJihhPWEuY29weSh6KGEuY29udGVudCxlLGEpKSksYS5pc0lubGluZSYmKGE9ZShhLG4saSkpLG8ucHVzaChhKX1yZXR1cm4gci5GcmFnbWVudC5mcm9tQXJyYXkobyl9Zy5qc29uSUQoInJlcGxhY2VBcm91bmQiLGIpLGgucHJvdG90eXBlLmxpZnQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC4kZnJvbSxvPXQuJHRvLGk9dC5kZXB0aCxhPW4uYmVmb3JlKGkrMSkscz1vLmFmdGVyKGkrMSksYz1hLGw9cyx1PXIuRnJhZ21lbnQuZW1wdHksZj0wLHA9aSxoPSExO3A+ZTtwLS0paHx8bi5pbmRleChwKT4wPyhoPSEwLHU9ci5GcmFnbWVudC5mcm9tKG4ubm9kZShwKS5jb3B5KHUpKSxmKyspOmMtLTtmb3IodmFyIGQ9ci5GcmFnbWVudC5lbXB0eSx2PTAsbT1pLGc9ITE7bT5lO20tLSlnfHxvLmFmdGVyKG0rMSk8by5lbmQobSk/KGc9ITAsZD1yLkZyYWdtZW50LmZyb20oby5ub2RlKG0pLmNvcHkoZCkpLHYrKyk6bCsrO3JldHVybiB0aGlzLnN0ZXAobmV3IGIoYyxsLGEscyxuZXcgci5TbGljZSh1LmFwcGVuZChkKSxmLHYpLHUuc2l6ZS1mLCEwKSl9LGgucHJvdG90eXBlLndyYXA9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ci5GcmFnbWVudC5lbXB0eSxvPWUubGVuZ3RoLTE7bz49MDtvLS0pbj1yLkZyYWdtZW50LmZyb20oZVtvXS50eXBlLmNyZWF0ZShlW29dLmF0dHJzLG4pKTt2YXIgaT10LnN0YXJ0LGE9dC5lbmQ7cmV0dXJuIHRoaXMuc3RlcChuZXcgYihpLGEsaSxhLG5ldyByLlNsaWNlKG4sMCwwKSxlLmxlbmd0aCwhMCkpfSxoLnByb3RvdHlwZS5zZXRCbG9ja1R5cGU9ZnVuY3Rpb24odCxlLG4sbyl7dmFyIGk9dGhpcztpZih2b2lkIDA9PT1lJiYoZT10KSwhbi5pc1RleHRibG9jayl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVHlwZSBnaXZlbiB0byBzZXRCbG9ja1R5cGUgc2hvdWxkIGJlIGEgdGV4dGJsb2NrIik7dmFyIGE9dGhpcy5zdGVwcy5sZW5ndGg7cmV0dXJuIHRoaXMuZG9jLm5vZGVzQmV0d2Vlbih0LGUsKGZ1bmN0aW9uKHQsZSl7aWYodC5pc1RleHRibG9jayYmIXQuaGFzTWFya3VwKG4sbykmJlQoaS5kb2MsaS5tYXBwaW5nLnNsaWNlKGEpLm1hcChlKSxuKSl7aS5jbGVhckluY29tcGF0aWJsZShpLm1hcHBpbmcuc2xpY2UoYSkubWFwKGUsMSksbik7dmFyIHM9aS5tYXBwaW5nLnNsaWNlKGEpLGM9cy5tYXAoZSwxKSxsPXMubWFwKGUrdC5ub2RlU2l6ZSwxKTtyZXR1cm4gaS5zdGVwKG5ldyBiKGMsbCxjKzEsbC0xLG5ldyByLlNsaWNlKHIuRnJhZ21lbnQuZnJvbShuLmNyZWF0ZShvLG51bGwsdC5tYXJrcykpLDAsMCksMSwhMCkpLCExfX0pKSx0aGlzfSxoLnByb3RvdHlwZS5zZXROb2RlTWFya3VwPWZ1bmN0aW9uKHQsZSxuLG8pe3ZhciBpPXRoaXMuZG9jLm5vZGVBdCh0KTtpZighaSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiTm8gbm9kZSBhdCBnaXZlbiBwb3NpdGlvbiIpO2V8fChlPWkudHlwZSk7dmFyIGE9ZS5jcmVhdGUobixudWxsLG98fGkubWFya3MpO2lmKGkuaXNMZWFmKXJldHVybiB0aGlzLnJlcGxhY2VXaXRoKHQsdCtpLm5vZGVTaXplLGEpO2lmKCFlLnZhbGlkQ29udGVudChpLmNvbnRlbnQpKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGNvbnRlbnQgZm9yIG5vZGUgdHlwZSAiK2UubmFtZSk7cmV0dXJuIHRoaXMuc3RlcChuZXcgYih0LHQraS5ub2RlU2l6ZSx0KzEsdCtpLm5vZGVTaXplLTEsbmV3IHIuU2xpY2Uoci5GcmFnbWVudC5mcm9tKGEpLDAsMCksMSwhMCkpfSxoLnByb3RvdHlwZS5zcGxpdD1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9MSk7Zm9yKHZhciBvPXRoaXMuZG9jLnJlc29sdmUodCksaT1yLkZyYWdtZW50LmVtcHR5LGE9ci5GcmFnbWVudC5lbXB0eSxzPW8uZGVwdGgsYz1vLmRlcHRoLWUsbD1lLTE7cz5jO3MtLSxsLS0pe2k9ci5GcmFnbWVudC5mcm9tKG8ubm9kZShzKS5jb3B5KGkpKTt2YXIgdT1uJiZuW2xdO2E9ci5GcmFnbWVudC5mcm9tKHU/dS50eXBlLmNyZWF0ZSh1LmF0dHJzLGEpOm8ubm9kZShzKS5jb3B5KGEpKX1yZXR1cm4gdGhpcy5zdGVwKG5ldyB3KHQsdCxuZXcgci5TbGljZShpLmFwcGVuZChhKSxlLGUpLCEwKSl9LGgucHJvdG90eXBlLmpvaW49ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0xKTt2YXIgbj1uZXcgdyh0LWUsdCtlLHIuU2xpY2UuZW1wdHksITApO3JldHVybiB0aGlzLnN0ZXAobil9O3ZhciBJPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIpe3QuY2FsbCh0aGlzKSx0aGlzLmZyb209ZSx0aGlzLnRvPW4sdGhpcy5tYXJrPXJ9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LnNsaWNlKHRoaXMuZnJvbSx0aGlzLnRvKSxvPXQucmVzb2x2ZSh0aGlzLmZyb20pLGk9by5ub2RlKG8uc2hhcmVkRGVwdGgodGhpcy50bykpLGE9bmV3IHIuU2xpY2UoeihuLmNvbnRlbnQsKGZ1bmN0aW9uKHQsbil7cmV0dXJuIG4udHlwZS5hbGxvd3NNYXJrVHlwZShlLm1hcmsudHlwZSk/dC5tYXJrKGUubWFyay5hZGRUb1NldCh0Lm1hcmtzKSk6dH0pLGkpLG4ub3BlblN0YXJ0LG4ub3BlbkVuZCk7cmV0dXJuIHkuZnJvbVJlcGxhY2UodCx0aGlzLmZyb20sdGhpcy50byxhKX0sZS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBqKHRoaXMuZnJvbSx0aGlzLnRvLHRoaXMubWFyayl9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXt2YXIgbj10Lm1hcFJlc3VsdCh0aGlzLmZyb20sMSkscj10Lm1hcFJlc3VsdCh0aGlzLnRvLC0xKTtyZXR1cm4gbi5kZWxldGVkJiZyLmRlbGV0ZWR8fG4ucG9zPj1yLnBvcz9udWxsOm5ldyBlKG4ucG9zLHIucG9zLHRoaXMubWFyayl9LGUucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBlJiZ0Lm1hcmsuZXEodGhpcy5tYXJrKSYmdGhpcy5mcm9tPD10LnRvJiZ0aGlzLnRvPj10LmZyb20pcmV0dXJuIG5ldyBlKE1hdGgubWluKHRoaXMuZnJvbSx0LmZyb20pLE1hdGgubWF4KHRoaXMudG8sdC50byksdGhpcy5tYXJrKX0sZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3N0ZXBUeXBlOiJhZGRNYXJrIixtYXJrOnRoaXMubWFyay50b0pTT04oKSxmcm9tOnRoaXMuZnJvbSx0bzp0aGlzLnRvfX0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbi5mcm9tfHwibnVtYmVyIiE9dHlwZW9mIG4udG8pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIEFkZE1hcmtTdGVwLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKG4uZnJvbSxuLnRvLHQubWFya0Zyb21KU09OKG4ubWFyaykpfSxlfShnKTtnLmpzb25JRCgiYWRkTWFyayIsSSk7dmFyIGo9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scil7dC5jYWxsKHRoaXMpLHRoaXMuZnJvbT1lLHRoaXMudG89bix0aGlzLm1hcms9cn1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQuc2xpY2UodGhpcy5mcm9tLHRoaXMudG8pLG89bmV3IHIuU2xpY2UoeihuLmNvbnRlbnQsKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1hcmsoZS5tYXJrLnJlbW92ZUZyb21TZXQodC5tYXJrcykpfSkpLG4ub3BlblN0YXJ0LG4ub3BlbkVuZCk7cmV0dXJuIHkuZnJvbVJlcGxhY2UodCx0aGlzLmZyb20sdGhpcy50byxvKX0sZS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBJKHRoaXMuZnJvbSx0aGlzLnRvLHRoaXMubWFyayl9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXt2YXIgbj10Lm1hcFJlc3VsdCh0aGlzLmZyb20sMSkscj10Lm1hcFJlc3VsdCh0aGlzLnRvLC0xKTtyZXR1cm4gbi5kZWxldGVkJiZyLmRlbGV0ZWR8fG4ucG9zPj1yLnBvcz9udWxsOm5ldyBlKG4ucG9zLHIucG9zLHRoaXMubWFyayl9LGUucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBlJiZ0Lm1hcmsuZXEodGhpcy5tYXJrKSYmdGhpcy5mcm9tPD10LnRvJiZ0aGlzLnRvPj10LmZyb20pcmV0dXJuIG5ldyBlKE1hdGgubWluKHRoaXMuZnJvbSx0LmZyb20pLE1hdGgubWF4KHRoaXMudG8sdC50byksdGhpcy5tYXJrKX0sZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3N0ZXBUeXBlOiJyZW1vdmVNYXJrIixtYXJrOnRoaXMubWFyay50b0pTT04oKSxmcm9tOnRoaXMuZnJvbSx0bzp0aGlzLnRvfX0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbi5mcm9tfHwibnVtYmVyIiE9dHlwZW9mIG4udG8pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW5wdXQgZm9yIFJlbW92ZU1hcmtTdGVwLmZyb21KU09OIik7cmV0dXJuIG5ldyBlKG4uZnJvbSxuLnRvLHQubWFya0Zyb21KU09OKG4ubWFyaykpfSxlfShnKTtmdW5jdGlvbiBCKHQsZSxuLG8pe2lmKHZvaWQgMD09PW4mJihuPWUpLHZvaWQgMD09PW8mJihvPXIuU2xpY2UuZW1wdHkpLGU9PW4mJiFvLnNpemUpcmV0dXJuIG51bGw7dmFyIGk9dC5yZXNvbHZlKGUpLGE9dC5yZXNvbHZlKG4pO2lmKHEoaSxhLG8pKXJldHVybiBuZXcgdyhlLG4sbyk7dmFyIHM9RyhpLG8pLGM9RihpLHMpLGw9SihpLGEsYyk7aWYoIWwpcmV0dXJuIG51bGw7aWYoYy5zaXplIT1sLnNpemUmJksoaSxhLGMpKXt2YXIgdT1hLmRlcHRoLGY9YS5hZnRlcih1KTt3aGlsZSh1PjEmJmY9PWEuZW5kKC0tdSkpKytmO3ZhciBwPUooaSx0LnJlc29sdmUoZiksYyk7aWYocClyZXR1cm4gbmV3IGIoZSxmLG4sYS5lbmQoKSxwLGMuc2l6ZSl9cmV0dXJuIGwuc2l6ZXx8ZSE9bj9uZXcgdyhlLG4sbCk6bnVsbH1mdW5jdGlvbiAkKHQsZSxuLG8pe3ZhciBpPXIuRnJhZ21lbnQuZW1wdHksYT0wLHM9bltlXTtpZih0LmRlcHRoPmUpe3ZhciBjPSQodCxlKzEsbixvfHxzKTthPWMub3BlbkVuZCsxLGk9ci5GcmFnbWVudC5mcm9tKHQubm9kZShlKzEpLmNvcHkoYy5jb250ZW50KSl9cmV0dXJuIHMmJihpPWkuYXBwZW5kKHMuY29udGVudCksYT1zLm9wZW5FbmQpLG8mJihpPWkuYXBwZW5kKHQubm9kZShlKS5jb250ZW50TWF0Y2hBdCh0LmluZGV4QWZ0ZXIoZSkpLmZpbGxCZWZvcmUoci5GcmFnbWVudC5lbXB0eSwhMCkpLGE9MCkse2NvbnRlbnQ6aSxvcGVuRW5kOmF9fWZ1bmN0aW9uIEYodCxlKXt2YXIgbj0kKHQsMCxlLCExKSxvPW4uY29udGVudCxpPW4ub3BlbkVuZDtyZXR1cm4gbmV3IHIuU2xpY2Uobyx0LmRlcHRoLGl8fDApfWZ1bmN0aW9uIFYodCxlLG4scixvLGksYSl7dmFyIHMsYz10LmNoaWxkQ291bnQsbD1jLShhPjA/MTowKSx1PWk8MD9lOm4ubm9kZShvKTtzPWk8MD91LmNvbnRlbnRNYXRjaEF0KGwpOjE9PWMmJmE+MD91LmNvbnRlbnRNYXRjaEF0KGk/bi5pbmRleChvKTpuLmluZGV4QWZ0ZXIobykpOnUuY29udGVudE1hdGNoQXQobi5pbmRleEFmdGVyKG8pKS5tYXRjaEZyYWdtZW50KHQsYz4wJiZpPzE6MCxsKTt2YXIgZj1yLm5vZGUobyk7aWYoYT4wJiZvPHIuZGVwdGgpe3ZhciBwPWYuY29udGVudC5jdXRCeUluZGV4KHIuaW5kZXhBZnRlcihvKSkuYWRkVG9TdGFydCh0Lmxhc3RDaGlsZCksaD1zLmZpbGxCZWZvcmUocCwhMCk7aWYoaCYmaC5zaXplJiZpPjAmJjE9PWMmJihoPW51bGwpLGgpe3ZhciBkPVYodC5sYXN0Q2hpbGQuY29udGVudCx0Lmxhc3RDaGlsZCxuLHIsbysxLDE9PWM/aS0xOi0xLGEtMSk7aWYoZCl7dmFyIHY9dC5sYXN0Q2hpbGQuY29weShkKTtyZXR1cm4gaC5zaXplP3QuY3V0QnlJbmRleCgwLGMtMSkuYXBwZW5kKGgpLmFkZFRvRW5kKHYpOnQucmVwbGFjZUNoaWxkKGMtMSx2KX19fWE+MCYmKHM9cy5tYXRjaFR5cGUoKDE9PWMmJmk+MD9uLm5vZGUobysxKTp0Lmxhc3RDaGlsZCkudHlwZSkpO3ZhciBtPXIuaW5kZXgobyk7aWYobT09Zi5jaGlsZENvdW50JiYhZi50eXBlLmNvbXBhdGlibGVDb250ZW50KGUudHlwZSkpcmV0dXJuIG51bGw7Zm9yKHZhciBnPXMuZmlsbEJlZm9yZShmLmNvbnRlbnQsITAsbSkseT1tO2cmJnk8Zi5jb250ZW50LmNoaWxkQ291bnQ7eSsrKXUudHlwZS5hbGxvd3NNYXJrcyhmLmNvbnRlbnQuY2hpbGQoeSkubWFya3MpfHwoZz1udWxsKTtpZighZylyZXR1cm4gbnVsbDtpZihhPjApe3ZhciB3PUwodC5sYXN0Q2hpbGQsYS0xLG4sbysxLDE9PWM/aS0xOi0xKTt0PXQucmVwbGFjZUNoaWxkKGMtMSx3KX1yZXR1cm4gdD10LmFwcGVuZChnKSxyLmRlcHRoPm8mJih0PXQuYWRkVG9FbmQoSChyLG8rMSkpKSx0fWZ1bmN0aW9uIEwodCxlLG4sbyxpKXt2YXIgYSxzPXQuY29udGVudCxjPXMuY2hpbGRDb3VudDtpZihhPWk+PTA/bi5ub2RlKG8pLmNvbnRlbnRNYXRjaEF0KG4uaW5kZXhBZnRlcihvKSkubWF0Y2hGcmFnbWVudChzLGk+MD8xOjAsYyk6dC5jb250ZW50TWF0Y2hBdChjKSxlPjApe3ZhciBsPUwocy5sYXN0Q2hpbGQsZS0xLG4sbysxLDE9PWM/aS0xOi0xKTtzPXMucmVwbGFjZUNoaWxkKGMtMSxsKX1yZXR1cm4gdC5jb3B5KHMuYXBwZW5kKGEuZmlsbEJlZm9yZShyLkZyYWdtZW50LmVtcHR5LCEwKSkpfWZ1bmN0aW9uIEgodCxlKXt2YXIgbj10Lm5vZGUoZSkscj1uLmNvbnRlbnRNYXRjaEF0KDApLmZpbGxCZWZvcmUobi5jb250ZW50LCEwLHQuaW5kZXgoZSkpO3JldHVybiB0LmRlcHRoPmUmJihyPXIuYWRkVG9FbmQoSCh0LGUrMSkpKSxuLmNvcHkocil9ZnVuY3Rpb24gVyh0LGUsbil7d2hpbGUoZT4wJiZuPjAmJjE9PXQuY2hpbGRDb3VudCl0PXQuZmlyc3RDaGlsZC5jb250ZW50LGUtLSxuLS07cmV0dXJuIG5ldyByLlNsaWNlKHQsZSxuKX1mdW5jdGlvbiBKKHQsZSxuKXt2YXIgcj1WKG4uY29udGVudCx0Lm5vZGUoMCksdCxlLDAsbi5vcGVuU3RhcnQsbi5vcGVuRW5kKTtyZXR1cm4gcj9XKHIsbi5vcGVuU3RhcnQsZS5kZXB0aCk6bnVsbH1mdW5jdGlvbiBxKHQsZSxuKXtyZXR1cm4hbi5vcGVuU3RhcnQmJiFuLm9wZW5FbmQmJnQuc3RhcnQoKT09ZS5zdGFydCgpJiZ0LnBhcmVudC5jYW5SZXBsYWNlKHQuaW5kZXgoKSxlLmluZGV4KCksbi5jb250ZW50KX1mdW5jdGlvbiBLKHQsZSxuKXtpZighZS5wYXJlbnQuaXNUZXh0YmxvY2spcmV0dXJuITE7dmFyIHIsbz1uLm9wZW5FbmQ/VShuLmNvbnRlbnQsbi5vcGVuRW5kKTp0Lm5vZGUodC5kZXB0aC0obi5vcGVuU3RhcnQtbi5vcGVuRW5kKSk7aWYoIW8uaXNUZXh0YmxvY2spcmV0dXJuITE7Zm9yKHZhciBpPWUuaW5kZXgoKTtpPGUucGFyZW50LmNoaWxkQ291bnQ7aSsrKWlmKCFvLnR5cGUuYWxsb3dzTWFya3MoZS5wYXJlbnQuY2hpbGQoaSkubWFya3MpKXJldHVybiExO3JldHVybiBuLm9wZW5FbmQ/cj1vLmNvbnRlbnRNYXRjaEF0KG8uY2hpbGRDb3VudCk6KHI9by5jb250ZW50TWF0Y2hBdChvLmNoaWxkQ291bnQpLG4uc2l6ZSYmKHI9ci5tYXRjaEZyYWdtZW50KG4uY29udGVudCxuLm9wZW5TdGFydD8xOjApKSkscj1yLm1hdGNoRnJhZ21lbnQoZS5wYXJlbnQuY29udGVudCxlLmluZGV4KCkpLHImJnIudmFsaWRFbmR9ZnVuY3Rpb24gVSh0LGUpe2Zvcih2YXIgbj0xO248ZTtuKyspdD10Lmxhc3RDaGlsZC5jb250ZW50O3JldHVybiB0Lmxhc3RDaGlsZH1mdW5jdGlvbiBHKHQsZSl7Zm9yKHZhciBuPW5ldyBYKHQpLHI9MTtlLnNpemUmJnI8PTM7cisrKXt2YXIgbz1uLnBsYWNlU2xpY2UoZS5jb250ZW50LGUub3BlblN0YXJ0LGUub3BlbkVuZCxyKTszPT1yJiZvIT1lJiZvLnNpemUmJihyPTApLGU9b313aGlsZShuLm9wZW4ubGVuZ3RoKW4uY2xvc2VOb2RlKCk7cmV0dXJuIG4ucGxhY2VkfWcuanNvbklEKCJyZW1vdmVNYXJrIixqKSxoLnByb3RvdHlwZS5hZGRNYXJrPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLG89W10saT1bXSxhPW51bGwscz1udWxsO3JldHVybiB0aGlzLmRvYy5ub2Rlc0JldHdlZW4odCxlLChmdW5jdGlvbihyLGMsbCl7aWYoci5pc0lubGluZSl7dmFyIHU9ci5tYXJrcztpZighbi5pc0luU2V0KHUpJiZsLnR5cGUuYWxsb3dzTWFya1R5cGUobi50eXBlKSl7Zm9yKHZhciBmPU1hdGgubWF4KGMsdCkscD1NYXRoLm1pbihjK3Iubm9kZVNpemUsZSksaD1uLmFkZFRvU2V0KHUpLGQ9MDtkPHUubGVuZ3RoO2QrKyl1W2RdLmlzSW5TZXQoaCl8fChhJiZhLnRvPT1mJiZhLm1hcmsuZXEodVtkXSk/YS50bz1wOm8ucHVzaChhPW5ldyBqKGYscCx1W2RdKSkpO3MmJnMudG89PWY/cy50bz1wOmkucHVzaChzPW5ldyBJKGYscCxuKSl9fX0pKSxvLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiByLnN0ZXAodCl9KSksaS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gci5zdGVwKHQpfSkpLHRoaXN9LGgucHJvdG90eXBlLnJlbW92ZU1hcms9ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXM7dm9pZCAwPT09biYmKG49bnVsbCk7dmFyIGk9W10sYT0wO3JldHVybiB0aGlzLmRvYy5ub2Rlc0JldHdlZW4odCxlLChmdW5jdGlvbihvLHMpe2lmKG8uaXNJbmxpbmUpe2ErKzt2YXIgYz1udWxsO2lmKG4gaW5zdGFuY2VvZiByLk1hcmtUeXBlKXt2YXIgbD1uLmlzSW5TZXQoby5tYXJrcyk7bCYmKGM9W2xdKX1lbHNlIG4/bi5pc0luU2V0KG8ubWFya3MpJiYoYz1bbl0pOmM9by5tYXJrcztpZihjJiZjLmxlbmd0aClmb3IodmFyIHU9TWF0aC5taW4ocytvLm5vZGVTaXplLGUpLGY9MDtmPGMubGVuZ3RoO2YrKyl7Zm9yKHZhciBwPWNbZl0saD12b2lkIDAsZD0wO2Q8aS5sZW5ndGg7ZCsrKXt2YXIgdj1pW2RdO3Yuc3RlcD09YS0xJiZwLmVxKGlbZF0uc3R5bGUpJiYoaD12KX1oPyhoLnRvPXUsaC5zdGVwPWEpOmkucHVzaCh7c3R5bGU6cCxmcm9tOk1hdGgubWF4KHMsdCksdG86dSxzdGVwOmF9KX19fSkpLGkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIG8uc3RlcChuZXcgaih0LmZyb20sdC50byx0LnN0eWxlKSl9KSksdGhpc30saC5wcm90b3R5cGUuY2xlYXJJbmNvbXBhdGlibGU9ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXM7dm9pZCAwPT09biYmKG49ZS5jb250ZW50TWF0Y2gpO2Zvcih2YXIgaT10aGlzLmRvYy5ub2RlQXQodCksYT1bXSxzPXQrMSxjPTA7YzxpLmNoaWxkQ291bnQ7YysrKXt2YXIgbD1pLmNoaWxkKGMpLHU9cytsLm5vZGVTaXplLGY9bi5tYXRjaFR5cGUobC50eXBlLGwuYXR0cnMpO2lmKGYpe249Zjtmb3IodmFyIHA9MDtwPGwubWFya3MubGVuZ3RoO3ArKyllLmFsbG93c01hcmtUeXBlKGwubWFya3NbcF0udHlwZSl8fG8uc3RlcChuZXcgaihzLHUsbC5tYXJrc1twXSkpfWVsc2UgYS5wdXNoKG5ldyB3KHMsdSxyLlNsaWNlLmVtcHR5KSk7cz11fWlmKCFuLnZhbGlkRW5kKXt2YXIgaD1uLmZpbGxCZWZvcmUoci5GcmFnbWVudC5lbXB0eSwhMCk7dGhpcy5yZXBsYWNlKHMscyxuZXcgci5TbGljZShoLDAsMCkpfWZvcih2YXIgZD1hLmxlbmd0aC0xO2Q+PTA7ZC0tKW8uc3RlcChhW2RdKTtyZXR1cm4gdGhpc30saC5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9dCksdm9pZCAwPT09biYmKG49ci5TbGljZS5lbXB0eSk7dmFyIG89Qih0aGlzLmRvYyx0LGUsbik7cmV0dXJuIG8mJnRoaXMuc3RlcChvKSx0aGlzfSxoLnByb3RvdHlwZS5yZXBsYWNlV2l0aD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMucmVwbGFjZSh0LGUsbmV3IHIuU2xpY2Uoci5GcmFnbWVudC5mcm9tKG4pLDAsMCkpfSxoLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5yZXBsYWNlKHQsZSxyLlNsaWNlLmVtcHR5KX0saC5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVwbGFjZVdpdGgodCx0LGUpfTt2YXIgWD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMub3Blbj1bXTtmb3IodmFyIG49MDtuPD10LmRlcHRoO24rKyl7dmFyIG89dC5ub2RlKG4pLGk9by5jb250ZW50TWF0Y2hBdCh0LmluZGV4QWZ0ZXIobikpO2Uub3Blbi5wdXNoKHtwYXJlbnQ6byxtYXRjaDppLGNvbnRlbnQ6ci5GcmFnbWVudC5lbXB0eSx3cmFwcGVyOiExLG9wZW5FbmQ6MCxkZXB0aDpufSl9dGhpcy5wbGFjZWQ9W119O2Z1bmN0aW9uIFkodCxlLG4pe3ZhciByPXQuY29udGVudDtpZihlPjEpe3ZhciBvPVkodC5maXJzdENoaWxkLGUtMSwxPT10LmNoaWxkQ291bnQ/bi0xOjApO3I9dC5jb250ZW50LnJlcGxhY2VDaGlsZCgwLG8pfXZhciBpPXQudHlwZS5jb250ZW50TWF0Y2guZmlsbEJlZm9yZShyLDA9PW4pO3JldHVybiB0LmNvcHkoaS5hcHBlbmQocikpfWZ1bmN0aW9uIFEodCxlKXt2YXIgbj10LmNvbnRlbnQ7aWYoZT4xKXt2YXIgbz1RKHQubGFzdENoaWxkLGUtMSk7bj10LmNvbnRlbnQucmVwbGFjZUNoaWxkKHQuY2hpbGRDb3VudC0xLG8pfXZhciBpPXQuY29udGVudE1hdGNoQXQodC5jaGlsZENvdW50KS5maWxsQmVmb3JlKHIuRnJhZ21lbnQuZW1wdHksITApO3JldHVybiB0LmNvcHkobi5hcHBlbmQoaSkpfWZ1bmN0aW9uIFoodCxlKXtyZXR1cm4gZT90LnJlcGxhY2VDaGlsZCh0LmNoaWxkQ291bnQtMSxRKHQubGFzdENoaWxkLGUpKTp0fWZ1bmN0aW9uIHR0KHQsZSxuLHIsbyl7aWYoZTxuKXt2YXIgaT10LmZpcnN0Q2hpbGQ7dD10LnJlcGxhY2VDaGlsZCgwLGkuY29weSh0dChpLmNvbnRlbnQsZSsxLG4scixpKSkpfXJldHVybiBlPnImJih0PW8uY29udGVudE1hdGNoQXQoMCkuZmlsbEJlZm9yZSh0LCEwKS5hcHBlbmQodCkpLHR9ZnVuY3Rpb24gZXQodCxlKXtmb3IodmFyIG49W10scj1NYXRoLm1pbih0LmRlcHRoLGUuZGVwdGgpLG89cjtvPj0wO28tLSl7dmFyIGk9dC5zdGFydChvKTtpZihpPHQucG9zLSh0LmRlcHRoLW8pfHxlLmVuZChvKT5lLnBvcysoZS5kZXB0aC1vKXx8dC5ub2RlKG8pLnR5cGUuc3BlYy5pc29sYXRpbmd8fGUubm9kZShvKS50eXBlLnNwZWMuaXNvbGF0aW5nKWJyZWFrO2k9PWUuc3RhcnQobykmJm4ucHVzaChvKX1yZXR1cm4gbn1YLnByb3RvdHlwZS5wbGFjZVNsaWNlPWZ1bmN0aW9uKHQsZSxuLG8saSl7aWYoZT4wKXt2YXIgYT10LmZpcnN0Q2hpbGQscz10aGlzLnBsYWNlU2xpY2UoYS5jb250ZW50LE1hdGgubWF4KDAsZS0xKSxuJiYxPT10LmNoaWxkQ291bnQ/bi0xOjAsbyxhKTtzLmNvbnRlbnQhPWEuY29udGVudCYmKHMuY29udGVudC5zaXplPyh0PXQucmVwbGFjZUNoaWxkKDAsYS5jb3B5KHMuY29udGVudCkpLGU9cy5vcGVuU3RhcnQrMSk6KDE9PXQuY2hpbGRDb3VudCYmKG49MCksdD10LmN1dEJ5SW5kZXgoMSksZT0wKSl9dmFyIGM9dGhpcy5wbGFjZUNvbnRlbnQodCxlLG4sbyxpKTtpZihvPjImJmMuc2l6ZSYmMD09ZSl7dmFyIGw9Yy5jb250ZW50LmZpcnN0Q2hpbGQsdT0xPT1jLmNvbnRlbnQuY2hpbGRDb3VudDt0aGlzLnBsYWNlQ29udGVudChsLmNvbnRlbnQsMCxuJiZ1P24tMTowLG8sbCksYz11P3IuRnJhZ21lbnQuZW1wdHk6bmV3IHIuU2xpY2UoYy5jb250ZW50LmN1dEJ5SW5kZXgoMSksMCxuKX1yZXR1cm4gY30sWC5wcm90b3R5cGUucGxhY2VDb250ZW50PWZ1bmN0aW9uKHQsZSxuLG8saSl7Zm9yKHZhciBhPXRoaXMscz0wO3M8dC5jaGlsZENvdW50O3MrKyl7Zm9yKHZhciBjPXQuY2hpbGQocyksbD0hMSx1PXM9PXQuY2hpbGRDb3VudC0xLGY9dGhpcy5vcGVuLmxlbmd0aC0xO2Y+PTA7Zi0tKXt2YXIgcD1hLm9wZW5bZl0saD12b2lkIDA7aWYobz4xJiYoaD1wLm1hdGNoLmZpbmRXcmFwcGluZyhjLnR5cGUpKSYmKCFpfHwhaC5sZW5ndGh8fGhbaC5sZW5ndGgtMV0hPWkudHlwZSkpe3doaWxlKHRoaXMub3Blbi5sZW5ndGgtMT5mKWEuY2xvc2VOb2RlKCk7Zm9yKHZhciBkPTA7ZDxoLmxlbmd0aDtkKyspcC5tYXRjaD1wLm1hdGNoLm1hdGNoVHlwZShoW2RdKSxmKysscD17cGFyZW50OmhbZF0uY3JlYXRlKCksbWF0Y2g6aFtkXS5jb250ZW50TWF0Y2gsY29udGVudDpyLkZyYWdtZW50LmVtcHR5LHdyYXBwZXI6ITAsb3BlbkVuZDowLGRlcHRoOmYrZH0sYS5vcGVuLnB1c2gocCl9dmFyIHY9cC5tYXRjaC5tYXRjaFR5cGUoYy50eXBlKTtpZighdil7dmFyIG09cC5tYXRjaC5maWxsQmVmb3JlKHIuRnJhZ21lbnQuZnJvbShjKSk7aWYoIW0pe2lmKGkmJnAubWF0Y2gubWF0Y2hUeXBlKGkudHlwZSkpYnJlYWs7Y29udGludWV9Zm9yKHZhciBnPTA7ZzxtLmNoaWxkQ291bnQ7ZysrKXt2YXIgeT1tLmNoaWxkKGcpO2EuYWRkTm9kZShwLHksMCksdj1wLm1hdGNoLm1hdGNoRnJhZ21lbnQoeSl9fXdoaWxlKHRoaXMub3Blbi5sZW5ndGgtMT5mKWEuY2xvc2VOb2RlKCk7Yz1jLm1hcmsocC5wYXJlbnQudHlwZS5hbGxvd2VkTWFya3MoYy5tYXJrcykpLGUmJihjPVkoYyxlLHU/bjowKSxlPTApLGEuYWRkTm9kZShwLGMsdT9uOjApLHAubWF0Y2g9dix1JiYobj0wKSxsPSEwO2JyZWFrfWlmKCFsKWJyZWFrfXJldHVybiB0aGlzLm9wZW4ubGVuZ3RoPjEmJihzPjAmJnM9PXQuY2hpbGRDb3VudHx8aSYmdGhpcy5vcGVuW3RoaXMub3Blbi5sZW5ndGgtMV0ucGFyZW50LnR5cGU9PWkudHlwZSkmJnRoaXMuY2xvc2VOb2RlKCksbmV3IHIuU2xpY2UodC5jdXRCeUluZGV4KHMpLGUsbil9LFgucHJvdG90eXBlLmFkZE5vZGU9ZnVuY3Rpb24odCxlLG4pe3QuY29udGVudD1aKHQuY29udGVudCx0Lm9wZW5FbmQpLmFkZFRvRW5kKGUpLHQub3BlbkVuZD1ufSxYLnByb3RvdHlwZS5jbG9zZU5vZGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wZW4ucG9wKCk7MD09dC5jb250ZW50LnNpemV8fCh0LndyYXBwZXI/dGhpcy5hZGROb2RlKHRoaXMub3Blblt0aGlzLm9wZW4ubGVuZ3RoLTFdLHQucGFyZW50LmNvcHkodC5jb250ZW50KSx0Lm9wZW5FbmQrMSk6dGhpcy5wbGFjZWRbdC5kZXB0aF09e2RlcHRoOnQuZGVwdGgsY29udGVudDp0LmNvbnRlbnQsb3BlbkVuZDp0Lm9wZW5FbmR9KX0saC5wcm90b3R5cGUucmVwbGFjZVJhbmdlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzO2lmKCFuLnNpemUpcmV0dXJuIHRoaXMuZGVsZXRlUmFuZ2UodCxlKTt2YXIgaT10aGlzLmRvYy5yZXNvbHZlKHQpLGE9dGhpcy5kb2MucmVzb2x2ZShlKTtpZihxKGksYSxuKSlyZXR1cm4gdGhpcy5zdGVwKG5ldyB3KHQsZSxuKSk7dmFyIHM9ZXQoaSx0aGlzLmRvYy5yZXNvbHZlKGUpKTswPT1zW3MubGVuZ3RoLTFdJiZzLnBvcCgpO3ZhciBjPS0oaS5kZXB0aCsxKTtzLnVuc2hpZnQoYyk7Zm9yKHZhciBsPWkuZGVwdGgsdT1pLnBvcy0xO2w+MDtsLS0sdS0tKXt2YXIgZj1pLm5vZGUobCkudHlwZS5zcGVjO2lmKGYuZGVmaW5pbmd8fGYuaXNvbGF0aW5nKWJyZWFrO3MuaW5kZXhPZihsKT4tMT9jPWw6aS5iZWZvcmUobCk9PXUmJnMuc3BsaWNlKDEsMCwtbCl9Zm9yKHZhciBwPXMuaW5kZXhPZihjKSxoPVtdLGQ9bi5vcGVuU3RhcnQsdj1uLmNvbnRlbnQsbT0wOzttKyspe3ZhciBnPXYuZmlyc3RDaGlsZDtpZihoLnB1c2goZyksbT09bi5vcGVuU3RhcnQpYnJlYWs7dj1nLmNvbnRlbnR9ZD4wJiZoW2QtMV0udHlwZS5zcGVjLmRlZmluaW5nJiZpLm5vZGUocCkudHlwZSE9aFtkLTFdLnR5cGU/ZC09MTpkPj0yJiZoW2QtMV0uaXNUZXh0YmxvY2smJmhbZC0yXS50eXBlLnNwZWMuZGVmaW5pbmcmJmkubm9kZShwKS50eXBlIT1oW2QtMl0udHlwZSYmKGQtPTIpO2Zvcih2YXIgeT1uLm9wZW5TdGFydDt5Pj0wO3ktLSl7dmFyIGI9KHkrZCsxKSUobi5vcGVuU3RhcnQrMSksaz1oW2JdO2lmKGspZm9yKHZhciBTPTA7UzxzLmxlbmd0aDtTKyspe3ZhciB4PXNbKFMrcCklcy5sZW5ndGhdLEM9ITA7eDwwJiYoQz0hMSx4PS14KTt2YXIgTT1pLm5vZGUoeC0xKSxPPWkuaW5kZXgoeC0xKTtpZihNLmNhblJlcGxhY2VXaXRoKE8sTyxrLnR5cGUsay5tYXJrcykpcmV0dXJuIG8ucmVwbGFjZShpLmJlZm9yZSh4KSxDP2EuYWZ0ZXIoeCk6ZSxuZXcgci5TbGljZSh0dChuLmNvbnRlbnQsMCxuLm9wZW5TdGFydCxiKSxiLG4ub3BlbkVuZCkpfX1mb3IodmFyIEE9dGhpcy5zdGVwcy5sZW5ndGgsVD1zLmxlbmd0aC0xO1Q+PTA7VC0tKXtpZihvLnJlcGxhY2UodCxlLG4pLG8uc3RlcHMubGVuZ3RoPkEpYnJlYWs7dmFyIE49c1tUXTtUPDB8fCh0PWkuYmVmb3JlKE4pLGU9YS5hZnRlcihOKSl9cmV0dXJuIHRoaXN9LGgucHJvdG90eXBlLnJlcGxhY2VSYW5nZVdpdGg9ZnVuY3Rpb24odCxlLG4pe2lmKCFuLmlzSW5saW5lJiZ0PT1lJiZ0aGlzLmRvYy5yZXNvbHZlKHQpLnBhcmVudC5jb250ZW50LnNpemUpe3ZhciBvPUQodGhpcy5kb2MsdCxuLnR5cGUpO251bGwhPW8mJih0PWU9byl9cmV0dXJuIHRoaXMucmVwbGFjZVJhbmdlKHQsZSxuZXcgci5TbGljZShyLkZyYWdtZW50LmZyb20obiksMCwwKSl9LGgucHJvdG90eXBlLmRlbGV0ZVJhbmdlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMscj10aGlzLmRvYy5yZXNvbHZlKHQpLG89dGhpcy5kb2MucmVzb2x2ZShlKSxpPWV0KHIsbyksYT0wO2E8aS5sZW5ndGg7YSsrKXt2YXIgcz1pW2FdLGM9YT09aS5sZW5ndGgtMTtpZihjJiYwPT1zfHxyLm5vZGUocykudHlwZS5jb250ZW50TWF0Y2gudmFsaWRFbmQpcmV0dXJuIG4uZGVsZXRlKHIuc3RhcnQocyksby5lbmQocykpO2lmKHM+MCYmKGN8fHIubm9kZShzLTEpLmNhblJlcGxhY2Uoci5pbmRleChzLTEpLG8uaW5kZXhBZnRlcihzLTEpKSkpcmV0dXJuIG4uZGVsZXRlKHIuYmVmb3JlKHMpLG8uYWZ0ZXIocykpfWZvcih2YXIgbD0xO2w8PXIuZGVwdGg7bCsrKWlmKHQtci5zdGFydChsKT09ci5kZXB0aC1sJiZlPnIuZW5kKGwpKXJldHVybiBuLmRlbGV0ZShyLmJlZm9yZShsKSxlKTtyZXR1cm4gdGhpcy5kZWxldGUodCxlKX0sZS5UcmFuc2Zvcm09aCxlLlRyYW5zZm9ybUVycm9yPXAsZS5TdGVwPWcsZS5TdGVwUmVzdWx0PXksZS5qb2luUG9pbnQ9UixlLmNhbkpvaW49RSxlLmNhblNwbGl0PU4sZS5pbnNlcnRQb2ludD1ELGUuZHJvcFBvaW50PVAsZS5saWZ0VGFyZ2V0PXgsZS5maW5kV3JhcHBpbmc9QyxlLlN0ZXBNYXA9dSxlLk1hcFJlc3VsdD1sLGUuTWFwcGluZz1mLGUuQWRkTWFya1N0ZXA9SSxlLlJlbW92ZU1hcmtTdGVwPWosZS5SZXBsYWNlU3RlcD13LGUuUmVwbGFjZUFyb3VuZFN0ZXA9YixlLnJlcGxhY2VTdGVwPUJ9LGJlMTM6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT10KXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrdCk7cmV0dXJuIHR9fSxjMzY2OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI2ODIxIiksbz1uKCI5ZGVmIiksaT1uKCI3N2YxIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4sYSl7dmFyIHMsYz1yKGUpLGw9byhjLmxlbmd0aCksdT1pKGEsbCk7aWYodCYmbiE9bil7d2hpbGUobD51KWlmKHM9Y1t1KytdLHMhPXMpcmV0dXJuITB9ZWxzZSBmb3IoO2w+dTt1KyspaWYoKHR8fHUgaW4gYykmJmNbdV09PT1uKXJldHVybiB0fHx1fHwwO3JldHVybiF0JiYtMX19fSxjMzY3OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiODQzNiIpLG89bigiNTBlZCIpLGk9bigiNDgxYiIpLGE9bigiMzZjMyIpO3QuZXhwb3J0cz1uKCIzMGYxIikoQXJyYXksIkFycmF5IiwoZnVuY3Rpb24odCxlKXt0aGlzLl90PWEodCksdGhpcy5faT0wLHRoaXMuX2s9ZX0pLChmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3QsZT10aGlzLl9rLG49dGhpcy5faSsrO3JldHVybiF0fHxuPj10Lmxlbmd0aD8odGhpcy5fdD12b2lkIDAsbygxKSk6bygwLCJrZXlzIj09ZT9uOiJ2YWx1ZXMiPT1lP3Rbbl06W24sdFtuXV0pfSksInZhbHVlcyIpLGkuQXJndW1lbnRzPWkuQXJyYXkscigia2V5cyIpLHIoInZhbHVlcyIpLHIoImVudHJpZXMiKX0sYzNhMTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZTZmMyIpLG89bigiMTY5MSIpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24odCl7cmV0dXJuIHIodCxvKX19LGM2OWE6ZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz0hbigiOWUxZSIpJiYhbigiNzllNSIpKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkobigiMjMwZSIpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KSl9LGM4YmI6ZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKCI1NGExIil9LGNhNWE6ZnVuY3Rpb24odCxlKXt2YXIgbj0wLHI9TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT10PyIiOnQsIilfIiwoKytuK3IpLnRvU3RyaW5nKDM2KSl9fSxjYWRmOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiOWM2YyIpLG89bigiZDUzYiIpLGk9bigiODRmMiIpLGE9bigiNjgyMSIpO3QuZXhwb3J0cz1uKCIwMWY5IikoQXJyYXksIkFycmF5IiwoZnVuY3Rpb24odCxlKXt0aGlzLl90PWEodCksdGhpcy5faT0wLHRoaXMuX2s9ZX0pLChmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3QsZT10aGlzLl9rLG49dGhpcy5faSsrO3JldHVybiF0fHxuPj10Lmxlbmd0aD8odGhpcy5fdD12b2lkIDAsbygxKSk6bygwLCJrZXlzIj09ZT9uOiJ2YWx1ZXMiPT1lP3Rbbl06W24sdFtuXV0pfSksInZhbHVlcyIpLGkuQXJndW1lbnRzPWkuQXJyYXkscigia2V5cyIpLHIoInZhbHVlcyIpLHIoImVudHJpZXMiKX0sY2I3YzpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZDNmNCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighcih0KSl0aHJvdyBUeXBlRXJyb3IodCsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIHR9fSxjZGQwOmZ1bmN0aW9uKHQsZSl7dmFyIG49MjAwLHI9ZnVuY3Rpb24oKXt9O3IucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbih0KXtyZXR1cm4gdC5sZW5ndGg/KHQ9ci5mcm9tKHQpLCF0aGlzLmxlbmd0aCYmdHx8dC5sZW5ndGg8biYmdGhpcy5sZWFmQXBwZW5kKHQpfHx0aGlzLmxlbmd0aDxuJiZ0LmxlYWZQcmVwZW5kKHRoaXMpfHx0aGlzLmFwcGVuZElubmVyKHQpKTp0aGlzfSxyLnByb3RvdHlwZS5wcmVwZW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0Lmxlbmd0aD9yLmZyb20odCkuYXBwZW5kKHRoaXMpOnRoaXN9LHIucHJvdG90eXBlLmFwcGVuZElubmVyPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgaSh0aGlzLHQpfSxyLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT10aGlzLmxlbmd0aCksdD49ZT9yLmVtcHR5OnRoaXMuc2xpY2VJbm5lcihNYXRoLm1heCgwLHQpLE1hdGgubWluKHRoaXMubGVuZ3RoLGUpKX0sci5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe2lmKCEodDwwfHx0Pj10aGlzLmxlbmd0aCkpcmV0dXJuIHRoaXMuZ2V0SW5uZXIodCl9LHIucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PW4mJihuPXRoaXMubGVuZ3RoKSxlPD1uP3RoaXMuZm9yRWFjaElubmVyKHQsZSxuLDApOnRoaXMuZm9yRWFjaEludmVydGVkSW5uZXIodCxlLG4sMCl9LHIucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09biYmKG49dGhpcy5sZW5ndGgpO3ZhciByPVtdO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHIucHVzaCh0KGUsbikpfSksZSxuKSxyfSxyLmZyb209ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiByP3Q6dCYmdC5sZW5ndGg/bmV3IG8odCk6ci5lbXB0eX07dmFyIG89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyksdGhpcy52YWx1ZXM9ZX10JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgcj17bGVuZ3RoOnt9LGRlcHRoOnt9fTtyZXR1cm4gZS5wcm90b3R5cGUuZmxhdHRlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlc30sZS5wcm90b3R5cGUuc2xpY2VJbm5lcj1mdW5jdGlvbih0LG4pe3JldHVybiAwPT10JiZuPT10aGlzLmxlbmd0aD90aGlzOm5ldyBlKHRoaXMudmFsdWVzLnNsaWNlKHQsbikpfSxlLnByb3RvdHlwZS5nZXRJbm5lcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy52YWx1ZXNbdF19LGUucHJvdG90eXBlLmZvckVhY2hJbm5lcj1mdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIG89dGhpcyxpPWU7aTxuO2krKylpZighMT09PXQoby52YWx1ZXNbaV0scitpKSlyZXR1cm4hMX0sZS5wcm90b3R5cGUuZm9yRWFjaEludmVydGVkSW5uZXI9ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBvPXRoaXMsaT1lLTE7aT49bjtpLS0paWYoITE9PT10KG8udmFsdWVzW2ldLHIraSkpcmV0dXJuITF9LGUucHJvdG90eXBlLmxlYWZBcHBlbmQ9ZnVuY3Rpb24odCl7aWYodGhpcy5sZW5ndGgrdC5sZW5ndGg8PW4pcmV0dXJuIG5ldyBlKHRoaXMudmFsdWVzLmNvbmNhdCh0LmZsYXR0ZW4oKSkpfSxlLnByb3RvdHlwZS5sZWFmUHJlcGVuZD1mdW5jdGlvbih0KXtpZih0aGlzLmxlbmd0aCt0Lmxlbmd0aDw9bilyZXR1cm4gbmV3IGUodC5mbGF0dGVuKCkuY29uY2F0KHRoaXMudmFsdWVzKSl9LHIubGVuZ3RoLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlcy5sZW5ndGh9LHIuZGVwdGguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLHIpLGV9KHIpO3IuZW1wdHk9bmV3IG8oW10pO3ZhciBpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyksdGhpcy5sZWZ0PWUsdGhpcy5yaWdodD1uLHRoaXMubGVuZ3RoPWUubGVuZ3RoK24ubGVuZ3RoLHRoaXMuZGVwdGg9TWF0aC5tYXgoZS5kZXB0aCxuLmRlcHRoKSsxfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5mbGF0dGVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVmdC5mbGF0dGVuKCkuY29uY2F0KHRoaXMucmlnaHQuZmxhdHRlbigpKX0sZS5wcm90b3R5cGUuZ2V0SW5uZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHQ8dGhpcy5sZWZ0Lmxlbmd0aD90aGlzLmxlZnQuZ2V0KHQpOnRoaXMucmlnaHQuZ2V0KHQtdGhpcy5sZWZ0Lmxlbmd0aCl9LGUucHJvdG90eXBlLmZvckVhY2hJbm5lcj1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10aGlzLmxlZnQubGVuZ3RoO3JldHVybiEoZTxvJiYhMT09PXRoaXMubGVmdC5mb3JFYWNoSW5uZXIodCxlLE1hdGgubWluKG4sbykscikpJiYoIShuPm8mJiExPT09dGhpcy5yaWdodC5mb3JFYWNoSW5uZXIodCxNYXRoLm1heChlLW8sMCksTWF0aC5taW4odGhpcy5sZW5ndGgsbiktbyxyK28pKSYmdm9pZCAwKX0sZS5wcm90b3R5cGUuZm9yRWFjaEludmVydGVkSW5uZXI9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89dGhpcy5sZWZ0Lmxlbmd0aDtyZXR1cm4hKGU+byYmITE9PT10aGlzLnJpZ2h0LmZvckVhY2hJbnZlcnRlZElubmVyKHQsZS1vLE1hdGgubWF4KG4sbyktbyxyK28pKSYmKCEobjxvJiYhMT09PXRoaXMubGVmdC5mb3JFYWNoSW52ZXJ0ZWRJbm5lcih0LE1hdGgubWluKGUsbyksbixyKSkmJnZvaWQgMCl9LGUucHJvdG90eXBlLnNsaWNlSW5uZXI9ZnVuY3Rpb24odCxlKXtpZigwPT10JiZlPT10aGlzLmxlbmd0aClyZXR1cm4gdGhpczt2YXIgbj10aGlzLmxlZnQubGVuZ3RoO3JldHVybiBlPD1uP3RoaXMubGVmdC5zbGljZSh0LGUpOnQ+PW4/dGhpcy5yaWdodC5zbGljZSh0LW4sZS1uKTp0aGlzLmxlZnQuc2xpY2UodCxuKS5hcHBlbmQodGhpcy5yaWdodC5zbGljZSgwLGUtbikpfSxlLnByb3RvdHlwZS5sZWFmQXBwZW5kPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMucmlnaHQubGVhZkFwcGVuZCh0KTtpZihuKXJldHVybiBuZXcgZSh0aGlzLmxlZnQsbil9LGUucHJvdG90eXBlLmxlYWZQcmVwZW5kPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMubGVmdC5sZWFmUHJlcGVuZCh0KTtpZihuKXJldHVybiBuZXcgZShuLHRoaXMucmlnaHQpfSxlLnByb3RvdHlwZS5hcHBlbmRJbm5lcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sZWZ0LmRlcHRoPj1NYXRoLm1heCh0aGlzLnJpZ2h0LmRlcHRoLHQuZGVwdGgpKzE/bmV3IGUodGhpcy5sZWZ0LG5ldyBlKHRoaXMucmlnaHQsdCkpOm5ldyBlKHRoaXMsdCl9LGV9KHIpO3QuZXhwb3J0cz1yfSxjZTEwOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI2OWE4Iiksbz1uKCI2ODIxIiksaT1uKCJjMzY2IikoITEpLGE9bigiNjEzYiIpKCJJRV9QUk9UTyIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLHM9byh0KSxjPTAsbD1bXTtmb3IobiBpbiBzKW4hPWEmJnIocyxuKSYmbC5wdXNoKG4pO3doaWxlKGUubGVuZ3RoPmMpcihzLG49ZVtjKytdKSYmKH5pKGwsbil8fGwucHVzaChuKSk7cmV0dXJuIGx9fSxkM2Y0OmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiJvYmplY3QiPT09dHlwZW9mIHQ/bnVsbCE9PXQ6ImZ1bmN0aW9uIj09PXR5cGVvZiB0fX0sZDUzYjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybnt2YWx1ZTplLGRvbmU6ISF0fX19LGQ4NjQ6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjc5YWEiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2lmKHIodCksdm9pZCAwPT09ZSlyZXR1cm4gdDtzd2l0Y2gobil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdC5jYWxsKGUsbil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gdC5jYWxsKGUsbixyKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihuLHIsbyl7cmV0dXJuIHQuY2FsbChlLG4scixvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX19LGQ4ZTg6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgVHlwZUVycm9yKHQrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gdH19LGQ5ZjY6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImU0YWUiKSxvPW4oIjc5NGIiKSxpPW4oIjFiYzMiKSxhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtlLmY9bigiOGU2MCIpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbih0LGUsbil7aWYocih0KSxlPWkoZSwhMCkscihuKSxvKXRyeXtyZXR1cm4gYSh0LGUsbil9Y2F0Y2gocyl7fWlmKCJnZXQiaW4gbnx8InNldCJpbiBuKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIG4mJih0W2VdPW4udmFsdWUpLHR9fSxkYmRiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI1ODRhIiksbz1uKCJlNTNkIiksaT0iX19jb3JlLWpzX3NoYXJlZF9fIixhPW9baV18fChvW2ldPXt9KTsodC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGFbdF18fChhW3RdPXZvaWQgMCE9PWU/ZTp7fSl9KSgidmVyc2lvbnMiLFtdKS5wdXNoKHt2ZXJzaW9uOnIudmVyc2lvbixtb2RlOm4oImI4ZTMiKT8icHVyZSI6Imdsb2JhbCIsY29weXJpZ2h0OiLCqSAyMDE5IERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpIn0pfSxkYzQ0OmZ1bmN0aW9uKHQsZSxuKXt9LGUxMWU6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0sZTRhZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZjc3MiIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighcih0KSl0aHJvdyBUeXBlRXJyb3IodCsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIHR9fSxlNTNkOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW4pfSxlNmYzOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCIwN2UzIiksbz1uKCIzNmMzIiksaT1uKCI1YjRlIikoITEpLGE9bigiNTU1OSIpKCJJRV9QUk9UTyIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLHM9byh0KSxjPTAsbD1bXTtmb3IobiBpbiBzKW4hPWEmJnIocyxuKSYmbC5wdXNoKG4pO3doaWxlKGUubGVuZ3RoPmMpcihzLG49ZVtjKytdKSYmKH5pKGwsbil8fGwucHVzaChuKSk7cmV0dXJuIGx9fSxmNDEwOmZ1bmN0aW9uKHQsZSxuKXtuKCIxYWY2IiksdC5leHBvcnRzPW4oIjU4NGEiKS5BcnJheS5pc0FycmF5fSxmNmZkOmZ1bmN0aW9uKHQsZSl7KGZ1bmN0aW9uKHQpe3ZhciBlPSJjdXJyZW50U2NyaXB0IixuPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpO2UgaW4gdHx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7Z2V0OmZ1bmN0aW9uKCl7dHJ5e3Rocm93IG5ldyBFcnJvcn1jYXRjaChyKXt2YXIgdCxlPSgvLiphdCBbXlwoXSpcKCguKik6Lis6LitcKSQvZ2kuZXhlYyhyLnN0YWNrKXx8WyExXSlbMV07Zm9yKHQgaW4gbilpZihuW3RdLnNyYz09ZXx8ImludGVyYWN0aXZlIj09blt0XS5yZWFkeVN0YXRlKXJldHVybiBuW3RdO3JldHVybiBudWxsfX19KX0pKGRvY3VtZW50KX0sZjc3MjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4ib2JqZWN0Ij09PXR5cGVvZiB0P251bGwhPT10OiJmdW5jdGlvbiI9PT10eXBlb2YgdH19LGZhNWI6ZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKCI1NTM3IikoIm5hdGl2ZS1mdW5jdGlvbi10by1zdHJpbmciLEZ1bmN0aW9uLnRvU3RyaW5nKX0sZmFhMTpmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCl7dGhpcy5jb250ZW50PXR9bi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOm4sZmluZDpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuY29udGVudC5sZW5ndGg7ZSs9MilpZih0aGlzLmNvbnRlbnRbZV09PT10KXJldHVybiBlO3JldHVybi0xfSxnZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5maW5kKHQpO3JldHVybi0xPT1lP3ZvaWQgMDp0aGlzLmNvbnRlbnRbZSsxXX0sdXBkYXRlOmZ1bmN0aW9uKHQsZSxyKXt2YXIgbz1yJiZyIT10P3RoaXMucmVtb3ZlKHIpOnRoaXMsaT1vLmZpbmQodCksYT1vLmNvbnRlbnQuc2xpY2UoKTtyZXR1cm4tMT09aT9hLnB1c2gocnx8dCxlKTooYVtpKzFdPWUsciYmKGFbaV09cikpLG5ldyBuKGEpfSxyZW1vdmU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5maW5kKHQpO2lmKC0xPT1lKXJldHVybiB0aGlzO3ZhciByPXRoaXMuY29udGVudC5zbGljZSgpO3JldHVybiByLnNwbGljZShlLDIpLG5ldyBuKHIpfSxhZGRUb1N0YXJ0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBuKFt0LGVdLmNvbmNhdCh0aGlzLnJlbW92ZSh0KS5jb250ZW50KSl9LGFkZFRvRW5kOmZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5yZW1vdmUodCkuY29udGVudC5zbGljZSgpO3JldHVybiByLnB1c2godCxlKSxuZXcgbihyKX0sYWRkQmVmb3JlOmZ1bmN0aW9uKHQsZSxyKXt2YXIgbz10aGlzLnJlbW92ZShlKSxpPW8uY29udGVudC5zbGljZSgpLGE9by5maW5kKHQpO3JldHVybiBpLnNwbGljZSgtMT09YT9pLmxlbmd0aDphLDAsZSxyKSxuZXcgbihpKX0sZm9yRWFjaDpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuY29udGVudC5sZW5ndGg7ZSs9Mil0KHRoaXMuY29udGVudFtlXSx0aGlzLmNvbnRlbnRbZSsxXSl9LHByZXBlbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9bi5mcm9tKHQpLHQuc2l6ZT9uZXcgbih0LmNvbnRlbnQuY29uY2F0KHRoaXMuc3VidHJhY3QodCkuY29udGVudCkpOnRoaXN9LGFwcGVuZDpmdW5jdGlvbih0KXtyZXR1cm4gdD1uLmZyb20odCksdC5zaXplP25ldyBuKHRoaXMuc3VidHJhY3QodCkuY29udGVudC5jb25jYXQodC5jb250ZW50KSk6dGhpc30sc3VidHJhY3Q6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0PW4uZnJvbSh0KTtmb3IodmFyIHI9MDtyPHQuY29udGVudC5sZW5ndGg7cis9MillPWUucmVtb3ZlKHQuY29udGVudFtyXSk7cmV0dXJuIGV9LGdldCBzaXplKCl7cmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGg+PjF9fSxuLmZyb209ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIG4pcmV0dXJuIHQ7dmFyIGU9W107aWYodClmb3IodmFyIHIgaW4gdCllLnB1c2gocix0W3JdKTtyZXR1cm4gbmV3IG4oZSl9LHQuZXhwb3J0cz1ufSxmYWIyOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI3NzI2IikuZG9jdW1lbnQ7dC5leHBvcnRzPXImJnIuZG9jdW1lbnRFbGVtZW50fSxmYWUzOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI7KG4ucihlKSwidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cpJiYobigiZjZmZCIpLChyPXdpbmRvdy5kb2N1bWVudC5jdXJyZW50U2NyaXB0KSYmKHI9ci5zcmMubWF0Y2goLyguK1wvKVteXC9dK1wuanMoXD8uKik/JC8pKSYmKG4ucD1yWzFdKSk7dmFyIG89ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC4kY3JlYXRlRWxlbWVudCxuPXQuX3NlbGYuX2N8fGU7cmV0dXJuIG4oImRpdiIse3N0YXRpY0NsYXNzOiJ0aXB0YXAtZWRpdG9yIn0sW24oImVkaXRvci1tZW51LWJhciIse2F0dHJzOntlZGl0b3I6dC5lZGl0b3J9LHNjb3BlZFNsb3RzOnQuX3UoW3trZXk6ImRlZmF1bHQiLGZuOmZ1bmN0aW9uKGUpe3ZhciByPWUuY29tbWFuZHMsbz1lLmlzQWN0aXZlO3JldHVybltuKCJkaXYiLHtzdGF0aWNDbGFzczoibWVudWJhciJ9LFtuKCJkaXYiLHtzdGF0aWNDbGFzczoidG9vbGJhciJ9LFtuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5oZWFkaW5nKHtsZXZlbDoxfSl9LG9uOntjbGljazpmdW5jdGlvbih0KXtyZXR1cm4gci5oZWFkaW5nKHtsZXZlbDoxfSl9fX0sW3QuX3YoIlxuXHRcdFx0SDFcblx0XHQiKV0pLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLmhlYWRpbmcoe2xldmVsOjJ9KX0sb246e2NsaWNrOmZ1bmN0aW9uKHQpe3JldHVybiByLmhlYWRpbmcoe2xldmVsOjJ9KX19fSxbdC5fdigiXG5cdFx0XHRIMlxuXHRcdCIpXSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8uaGVhZGluZyh7bGV2ZWw6M30pfSxvbjp7Y2xpY2s6ZnVuY3Rpb24odCl7cmV0dXJuIHIuaGVhZGluZyh7bGV2ZWw6M30pfX19LFt0Ll92KCJcblx0XHRcdEgzXG5cdFx0IildKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5idWxsZXRfbGlzdCgpfSxvbjp7Y2xpY2s6ci5idWxsZXRfbGlzdH19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6InVsIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8ub3JkZXJlZF9saXN0KCl9LG9uOntjbGljazpyLm9yZGVyZWRfbGlzdH19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6Im9sIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8uYm9sZCgpfSxvbjp7Y2xpY2s6ci5ib2xkfX0sW24oImljb24iLHthdHRyczp7bmFtZToiYm9sZCJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLml0YWxpYygpfSxvbjp7Y2xpY2s6ci5pdGFsaWN9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJpdGFsaWMifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5zdHJpa2UoKX0sb246e2NsaWNrOnIuc3RyaWtlfX0sW24oImljb24iLHthdHRyczp7bmFtZToic3RyaWtlIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8udW5kZXJsaW5lKCl9LG9uOntjbGljazpyLnVuZGVybGluZX19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6InVuZGVybGluZSJ9fSldLDEpLG4oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLGNsYXNzOnsiaXMtYWN0aXZlIjpvLmNvZGUoKX0sb246e2NsaWNrOnIuY29kZX19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImNvZGUifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5wYXJhZ3JhcGgoKX0sb246e2NsaWNrOnIucGFyYWdyYXBofX0sW24oImljb24iLHthdHRyczp7bmFtZToicGFyYWdyYXBoIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsY2xhc3M6eyJpcy1hY3RpdmUiOm8uYmxvY2txdW90ZSgpfSxvbjp7Y2xpY2s6ci5ibG9ja3F1b3RlfX0sW24oImljb24iLHthdHRyczp7bmFtZToicXVvdGUifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixjbGFzczp7ImlzLWFjdGl2ZSI6by5jb2RlX2Jsb2NrKCl9LG9uOntjbGljazpyLmNvZGVfYmxvY2t9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJjb2RlX2Jsb2NrIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsb246e2NsaWNrOmZ1bmN0aW9uKHQpe3JldHVybiByLmNyZWF0ZVRhYmxlKHtyb3dzQ291bnQ6Myxjb2xzQ291bnQ6Myx3aXRoSGVhZGVyUm93OiExfSl9fX0sW24oImljb24iLHthdHRyczp7bmFtZToidGFibGUifX0pXSwxKSxvLnRhYmxlKCk/bigic3BhbiIsW24oImJ1dHRvbiIse3N0YXRpY0NsYXNzOiJtZW51YmFyX19idXR0b24iLG9uOntjbGljazpyLmRlbGV0ZVRhYmxlfX0sW24oImljb24iLHthdHRyczp7bmFtZToiZGVsZXRlX3RhYmxlIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsb246e2NsaWNrOnIuYWRkQ29sdW1uQmVmb3JlfX0sW24oImljb24iLHthdHRyczp7bmFtZToiYWRkX2NvbF9iZWZvcmUifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixvbjp7Y2xpY2s6ci5hZGRDb2x1bW5BZnRlcn19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImFkZF9jb2xfYWZ0ZXIifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixvbjp7Y2xpY2s6ci5kZWxldGVDb2x1bW59fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJkZWxldGVfY29sIn19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsb246e2NsaWNrOnIuYWRkUm93QmVmb3JlfX0sW24oImljb24iLHthdHRyczp7bmFtZToiYWRkX3Jvd19iZWZvcmUifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixvbjp7Y2xpY2s6ci5hZGRSb3dBZnRlcn19LFtuKCJpY29uIix7YXR0cnM6e25hbWU6ImFkZF9yb3dfYWZ0ZXIifX0pXSwxKSxuKCJidXR0b24iLHtzdGF0aWNDbGFzczoibWVudWJhcl9fYnV0dG9uIixvbjp7Y2xpY2s6ci5kZWxldGVSb3d9fSxbbigiaWNvbiIse2F0dHJzOntuYW1lOiJkZWxldGVfcm93In19KV0sMSksbigiYnV0dG9uIix7c3RhdGljQ2xhc3M6Im1lbnViYXJfX2J1dHRvbiIsb246e2NsaWNrOnIudG9nZ2xlQ2VsbE1lcmdlfX0sW24oImljb24iLHthdHRyczp7bmFtZToiY29tYmluZV9jZWxscyJ9fSldLDEpXSk6dC5fZSgpXSldKV19fV0pfSksbigiZWRpdG9yLWNvbnRlbnQiLHtzdGF0aWNDbGFzczoidGlwdGFwLWVkaXRvcl9fY29udGVudCIsYXR0cnM6e2VkaXRvcjp0LmVkaXRvcn19KV0sMSl9LGk9W10sYT0obigiZGM0NCIpLG4oIjZmZmIiKSkscz1uKCI3MDNmIiksYz1uKCI2ZjI3IiksbD1uKCIyZWM4IiksdT1uKCIyMjRkIiksZj1uKCI1NmVjIikscD1uKCJmYmVhIiksaD1uKCI3MmE4IiksZD1uKCI5ODZkIik7Ci8qIQogICAgKiB0aXB0YXAtdXRpbHMgdjEuNi4xCiAgICAqIChjKSAyMDE5IFNjcnVtcHkgVUcgKGxpbWl0ZWQgbGlhYmlsaXR5KQogICAgKiBAbGljZW5zZSBNSVQKICAgICovCmZ1bmN0aW9uIHYodCl7cmV0dXJuIG0odCl8fGcodCl8fHkoKX1mdW5jdGlvbiBtKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgZT0wLG49bmV3IEFycmF5KHQubGVuZ3RoKTtlPHQubGVuZ3RoO2UrKyluW2VdPXRbZV07cmV0dXJuIG59fWZ1bmN0aW9uIGcodCl7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KXx8IltvYmplY3QgQXJndW1lbnRzXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpcmV0dXJuIEFycmF5LmZyb20odCl9ZnVuY3Rpb24geSgpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9ZnVuY3Rpb24gdyh0LGUpe3ZhciBuPXQuc2VsZWN0aW9uLHI9bi5mcm9tLG89bi50byxpPVtdO3QuZG9jLm5vZGVzQmV0d2VlbihyLG8sKGZ1bmN0aW9uKHQpe2k9W10uY29uY2F0KHYoaSksdih0Lm1hcmtzKSl9KSk7dmFyIGE9aS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlLm5hbWU9PT1lLm5hbWV9KSk7cmV0dXJuIGE/YS5hdHRyczp7fX1mdW5jdGlvbiBiKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGwsZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbDtpZighdHx8IWUpcmV0dXJuITE7dmFyIG49dC5wYXJlbnQuY2hpbGRBZnRlcih0LnBhcmVudE9mZnNldCk7aWYoIW4ubm9kZSlyZXR1cm4hMTt2YXIgcj1uLm5vZGUubWFya3MuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudHlwZT09PWV9KSk7aWYoIXIpcmV0dXJuITE7dmFyIG89dC5pbmRleCgpLGk9dC5zdGFydCgpK24ub2Zmc2V0LGE9bysxLHM9aStuLm5vZGUubm9kZVNpemU7d2hpbGUobz4wJiZyLmlzSW5TZXQodC5wYXJlbnQuY2hpbGQoby0xKS5tYXJrcykpby09MSxpLT10LnBhcmVudC5jaGlsZChvKS5ub2RlU2l6ZTt3aGlsZShhPHQucGFyZW50LmNoaWxkQ291bnQmJnIuaXNJblNldCh0LnBhcmVudC5jaGlsZChhKS5tYXJrcykpcys9dC5wYXJlbnQuY2hpbGQoYSkubm9kZVNpemUsYSs9MTtyZXR1cm57ZnJvbTppLHRvOnN9fWZ1bmN0aW9uIGsodCxlKXt2YXIgbj10LnNlbGVjdGlvbixyPW4uZnJvbSxvPW4uJGZyb20saT1uLnRvLGE9bi5lbXB0eTtyZXR1cm4gYT8hIWUuaXNJblNldCh0LnN0b3JlZE1hcmtzfHxvLm1hcmtzKCkpOiEhdC5kb2MucmFuZ2VIYXNNYXJrKHIsaSxlKX1mdW5jdGlvbiBTKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LHI9ZnVuY3Rpb24odCl7cmV0dXJuIHQudHlwZT09PWV9LG89T2JqZWN0KGRbImZpbmRTZWxlY3RlZE5vZGVPZlR5cGUiXSkoZSkodC5zZWxlY3Rpb24pfHxPYmplY3QoZFsiZmluZFBhcmVudE5vZGUiXSkocikodC5zZWxlY3Rpb24pO3JldHVybiBPYmplY3Qua2V5cyhuKS5sZW5ndGgmJm8/by5ub2RlLmhhc01hcmt1cChlLG4pOiEhb312YXIgeD1uKCI4YmJmIiksQz1uLm4oeCksTT1uKCI3YTg3Iik7ZnVuY3Rpb24gTyh0KXtyZXR1cm4gQSh0KXx8VCh0KXx8TigpfWZ1bmN0aW9uIEEodCl7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBlPTAsbj1uZXcgQXJyYXkodC5sZW5ndGgpO2U8dC5sZW5ndGg7ZSsrKW5bZV09dFtlXTtyZXR1cm4gbn19ZnVuY3Rpb24gVCh0KXtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSlyZXR1cm4gQXJyYXkuZnJvbSh0KX1mdW5jdGlvbiBOKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKX1mdW5jdGlvbiBFKHQsZSxuKXt2YXIgcj1bXTtyZXR1cm4gbi5kb2Mubm9kZXNCZXR3ZWVuKHQsZSwoZnVuY3Rpb24odCxlKXtyPVtdLmNvbmNhdChPKHIpLE8odC5tYXJrcy5tYXAoKGZ1bmN0aW9uKG4pe3JldHVybntzdGFydDplLGVuZDplK3Qubm9kZVNpemUsbWFyazpufX0pKSkpfSkpLHJ9ZnVuY3Rpb24gXyh0LGUsbil7cmV0dXJuIG5ldyBoWyJJbnB1dFJ1bGUiXSh0LChmdW5jdGlvbih0LHIsbyxpKXt2YXIgYT1uIGluc3RhbmNlb2YgRnVuY3Rpb24/bihyKTpuLHM9dC50cixjPXIubGVuZ3RoLTEsbD1pLHU9bztpZihyW2NdKXt2YXIgZj1vK3JbMF0uaW5kZXhPZihyW2MtMV0pLHA9ZityW2MtMV0ubGVuZ3RoLGg9ZityW2MtMV0ubGFzdEluZGV4T2YocltjXSksZD1oK3JbY10ubGVuZ3RoLHY9RShvLGksdCkuZmlsdGVyKChmdW5jdGlvbih0KXt2YXIgbj10Lm1hcmsudHlwZS5leGNsdWRlZDtyZXR1cm4gbi5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZS5uYW1lfSkpfSkpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuZW5kPmZ9KSk7aWYodi5sZW5ndGgpcmV0dXJuITE7ZDxwJiZzLmRlbGV0ZShkLHApLGg+ZiYmcy5kZWxldGUoZixoKSx1PWYsbD11K3JbY10ubGVuZ3RofXJldHVybiBzLmFkZE1hcmsodSxsLGUuY3JlYXRlKGEpKSxzLnJlbW92ZVN0b3JlZE1hcmsoZSksc30pKX1mdW5jdGlvbiBSKHQsZSxuKXt2YXIgcj1mdW5jdGlvbiByKG8pe3ZhciBpPVtdO3JldHVybiBvLmZvckVhY2goKGZ1bmN0aW9uKG8pe2lmKG8uaXNUZXh0KXt2YXIgYSxzPW8udGV4dCxjPTA7ZG97aWYoYT10LmV4ZWMocyksYSl7dmFyIGw9YS5pbmRleCx1PWwrYVswXS5sZW5ndGgsZj1uIGluc3RhbmNlb2YgRnVuY3Rpb24/bihhWzBdKTpuO2w+MCYmaS5wdXNoKG8uY3V0KGMsbCkpLGkucHVzaChvLmN1dChsLHUpLm1hcmsoZS5jcmVhdGUoZikuYWRkVG9TZXQoby5tYXJrcykpKSxjPXV9fXdoaWxlKGEpO2M8cy5sZW5ndGgmJmkucHVzaChvLmN1dChjKSl9ZWxzZSBpLnB1c2goby5jb3B5KHIoby5jb250ZW50KSkpfSkpLGNbIkZyYWdtZW50Il0uZnJvbUFycmF5KGkpfTtyZXR1cm4gbmV3IGFbIlBsdWdpbiJdKHtwcm9wczp7dHJhbnNmb3JtUGFzdGVkOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgY1siU2xpY2UiXShyKHQuY29udGVudCksdC5vcGVuU3RhcnQsdC5vcGVuRW5kKX19fSl9ZnVuY3Rpb24gRCh0LGUsbil7dmFyIHI9ZnVuY3Rpb24gcihvKXt2YXIgaT1bXTtyZXR1cm4gby5mb3JFYWNoKChmdW5jdGlvbihvKXtpZihvLmlzVGV4dCl7dmFyIGEscz1vLnRleHQsYz1vLm1hcmtzLGw9MCx1PSEhYy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiJsaW5rIj09PXQudHlwZS5uYW1lfSkpWzBdO3doaWxlKCF1JiZudWxsIT09KGE9dC5leGVjKHMpKSlpZihhWzFdKXt2YXIgZj1hLmluZGV4LHA9ZithWzBdLmxlbmd0aCxoPWYrYVswXS5pbmRleE9mKGFbMV0pLGQ9aCthWzFdLmxlbmd0aCx2PW4gaW5zdGFuY2VvZiBGdW5jdGlvbj9uKGEpOm47Zj4wJiZpLnB1c2goby5jdXQobCxmKSksaS5wdXNoKG8uY3V0KGgsZCkubWFyayhlLmNyZWF0ZSh2KS5hZGRUb1NldChvLm1hcmtzKSkpLGw9cH1sPHMubGVuZ3RoJiZpLnB1c2goby5jdXQobCkpfWVsc2UgaS5wdXNoKG8uY29weShyKG8uY29udGVudCkpKX0pKSxjWyJGcmFnbWVudCJdLmZyb21BcnJheShpKX07cmV0dXJuIG5ldyBhWyJQbHVnaW4iXSh7cHJvcHM6e3RyYW5zZm9ybVBhc3RlZDpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGNbIlNsaWNlIl0ocih0LmNvbnRlbnQpLHQub3BlblN0YXJ0LHQub3BlbkVuZCl9fX0pfWZ1bmN0aW9uIFAodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIHI9ZS5zZWxlY3Rpb24sbz1yLmZyb20saT1yLnRvO3JldHVybiBuKGUudHIucmVtb3ZlTWFyayhvLGksdCkpfX1mdW5jdGlvbiB6KHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjEscj1hcmd1bWVudHMubGVuZ3RoPjM/YXJndW1lbnRzWzNdOnZvaWQgMCxvPXQucmVzb2x2ZShlKSxpPW8uZGVwdGgtbixhPXImJnJbci5sZW5ndGgtMV18fG8ucGFyZW50O2lmKGk8MHx8by5wYXJlbnQudHlwZS5zcGVjLmlzb2xhdGluZ3x8IW8ucGFyZW50LmNhblJlcGxhY2Uoby5pbmRleCgpLG8ucGFyZW50LmNoaWxkQ291bnQpfHwhYS50eXBlLnZhbGlkQ29udGVudChvLnBhcmVudC5jb250ZW50LmN1dEJ5SW5kZXgoby5pbmRleCgpLG8ucGFyZW50LmNoaWxkQ291bnQpKSlyZXR1cm4hMTtmb3IodmFyIHM9by5kZXB0aC0xLGM9bi0yO3M+aTtzLS0sYy0tKXt2YXIgbD1vLm5vZGUocyksdT1vLmluZGV4KHMpO2lmKGwudHlwZS5zcGVjLmlzb2xhdGluZylyZXR1cm4hMTt2YXIgZj1sLmNvbnRlbnQuY3V0QnlJbmRleCh1LGwuY2hpbGRDb3VudCkscD1yJiZyW2NdfHxsO2lmKHAhPWwmJihmPWYucmVwbGFjZUNoaWxkKDAscC50eXBlLmNyZWF0ZShwLmF0dHJzKSkpLCFsLmNhblJlcGxhY2UodSsxLGwuY2hpbGRDb3VudCkpcmV0dXJuITF9dmFyIGg9by5pbmRleEFmdGVyKGkpLGQ9ciYmclswXTtyZXR1cm4gby5ub2RlKGkpLmNhblJlcGxhY2VXaXRoKGgsaCxkP2QudHlwZTpvLm5vZGUoaSsxKS50eXBlKX1mdW5jdGlvbiBJKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciByPWUuc2VsZWN0aW9uLG89ci4kZnJvbSxpPXIuJHRvLGE9ci5ub2RlO2lmKGEmJmEuaXNCbG9ja3x8by5kZXB0aDwyfHwhby5zYW1lUGFyZW50KGkpKXJldHVybiExO3ZhciBzPW8ubm9kZSgtMSk7aWYocy50eXBlIT10KXJldHVybiExO2lmKDA9PW8ucGFyZW50LmNvbnRlbnQuc2l6ZSl7aWYoMj09by5kZXB0aHx8by5ub2RlKC0zKS50eXBlIT10fHxvLmluZGV4KC0yKSE9by5ub2RlKC0yKS5jaGlsZENvdW50LTEpcmV0dXJuITE7aWYobil7Zm9yKHZhciBsPWNbIkZyYWdtZW50Il0uZW1wdHksdT1vLmluZGV4KC0xKT4wLGY9by5kZXB0aC0odT8xOjIpO2Y+PW8uZGVwdGgtMztmLS0pbD1jWyJGcmFnbWVudCJdLmZyb20oby5ub2RlKGYpLmNvcHkobCkpO2w9bC5hcHBlbmQoY1siRnJhZ21lbnQiXS5mcm9tKHQuY3JlYXRlQW5kRmlsbCgpKSk7dmFyIHA9ZS50ci5yZXBsYWNlKG8uYmVmb3JlKHU/bnVsbDotMSksby5hZnRlcigtMyksbmV3IGNbIlNsaWNlIl0obCx1PzM6MiwyKSk7cC5zZXRTZWxlY3Rpb24oZS5zZWxlY3Rpb24uY29uc3RydWN0b3IubmVhcihwLmRvYy5yZXNvbHZlKG8ucG9zKyh1PzM6MikpKSksbihwLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfXZhciBoPWkucG9zPT1vLmVuZCgpP3MuY29udGVudE1hdGNoQXQoby5pbmRleEFmdGVyKC0xKSkuZGVmYXVsdFR5cGU6bnVsbCxkPWUudHIuZGVsZXRlKG8ucG9zLGkucG9zKSx2PWgmJlt7dHlwZTp0fSx7dHlwZTpofV07cmV0dXJuIHZ8fCh2PVt7dHlwZTp0fSxudWxsXSksISF6KGQuZG9jLG8ucG9zLDIsdikmJihuJiZuKGQuc3BsaXQoby5wb3MsMix2KS5zY3JvbGxJbnRvVmlldygpKSwhMCl9fWZ1bmN0aW9uIGoodCxlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307cmV0dXJuIGZ1bmN0aW9uKHIsbyxpKXt2YXIgYT1TKHIsdCxuKTtyZXR1cm4gYT9PYmplY3QocFsic2V0QmxvY2tUeXBlIl0pKGUpKHIsbyxpKTpPYmplY3QocFsic2V0QmxvY2tUeXBlIl0pKHQsbikocixvLGkpfX1mdW5jdGlvbiBCKHQsZSl7cmV0dXJuIHQudHlwZT09PWUubm9kZXMuYnVsbGV0X2xpc3R8fHQudHlwZT09PWUubm9kZXMub3JkZXJlZF9saXN0fHx0LnR5cGU9PT1lLm5vZGVzLnRvZG9fbGlzdH1mdW5jdGlvbiAkKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scixvKXt2YXIgaT1uLnNjaGVtYSxhPW4uc2VsZWN0aW9uLHM9YS4kZnJvbSxjPWEuJHRvLGw9cy5ibG9ja1JhbmdlKGMpO2lmKCFsKXJldHVybiExO3ZhciB1PU9iamVjdChkWyJmaW5kUGFyZW50Tm9kZSJdKSgoZnVuY3Rpb24odCl7cmV0dXJuIEIodCxpKX0pKShhKTtpZihsLmRlcHRoPj0xJiZ1JiZsLmRlcHRoLXUuZGVwdGg8PTEpe2lmKHUubm9kZS50eXBlPT09dClyZXR1cm4gT2JqZWN0KE1bImxpZnRMaXN0SXRlbSJdKShlKShuLHIsbyk7aWYoQih1Lm5vZGUsaSkmJnQudmFsaWRDb250ZW50KHUubm9kZS5jb250ZW50KSl7dmFyIGY9bi50cjtyZXR1cm4gZi5zZXROb2RlTWFya3VwKHUucG9zLHQpLHImJnIoZiksITF9fXJldHVybiBPYmplY3QoTVsid3JhcEluTGlzdCJdKSh0KShuLHIsbyl9fWZ1bmN0aW9uIEYodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXt2YXIgbz1TKGUsdCk7cmV0dXJuIG8/T2JqZWN0KHBbImxpZnQiXSkoZSxuKTpPYmplY3QocFsid3JhcEluIl0pKHQpKGUsbixyKX19ZnVuY3Rpb24gVih0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciBvPW4uc2VsZWN0aW9uLGk9by5mcm9tLGE9by50bztyZXR1cm4gcihuLnRyLmFkZE1hcmsoaSxhLHQuY3JlYXRlKGUpKSl9fQovKiEKICAgICogdGlwdGFwIHYxLjI0LjIKICAgICogKGMpIDIwMTkgU2NydW1weSBVRyAobGltaXRlZCBsaWFiaWxpdHkpCiAgICAqIEBsaWNlbnNlIE1JVAogICAgKi9mdW5jdGlvbiBMKHQpe3JldHVybiBMPSJmdW5jdGlvbiI9PT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiB0fSxMKHQpfWZ1bmN0aW9uIEgodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiBXKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsInZhbHVlImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19ZnVuY3Rpb24gSih0LGUsbil7cmV0dXJuIGUmJlcodC5wcm90b3R5cGUsZSksbiYmVyh0LG4pLHR9ZnVuY3Rpb24gcSh0LGUsbil7cmV0dXJuIGUgaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9ZnVuY3Rpb24gSyh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gVSh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9LKG4sITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe3EodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOksobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fWZ1bmN0aW9uIEcodCxlKXtpZigiZnVuY3Rpb24iIT09dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJlkodCxlKX1mdW5jdGlvbiBYKHQpe3JldHVybiBYPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFgodCl9ZnVuY3Rpb24gWSh0LGUpe3JldHVybiBZPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxZKHQsZSl9ZnVuY3Rpb24gUSh0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7cmV0dXJuIHR9ZnVuY3Rpb24gWih0LGUpe3JldHVybiFlfHwib2JqZWN0IiE9PXR5cGVvZiBlJiYiZnVuY3Rpb24iIT09dHlwZW9mIGU/USh0KTplfWZ1bmN0aW9uIHR0KHQsZSl7cmV0dXJuIHJ0KHQpfHxpdCh0LGUpfHxzdCgpfWZ1bmN0aW9uIGV0KHQpe3JldHVybiBudCh0KXx8b3QodCl8fGF0KCl9ZnVuY3Rpb24gbnQodCl7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBlPTAsbj1uZXcgQXJyYXkodC5sZW5ndGgpO2U8dC5sZW5ndGg7ZSsrKW5bZV09dFtlXTtyZXR1cm4gbn19ZnVuY3Rpb24gcnQodCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH1mdW5jdGlvbiBvdCh0KXtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSlyZXR1cm4gQXJyYXkuZnJvbSh0KX1mdW5jdGlvbiBpdCh0LGUpe3ZhciBuPVtdLHI9ITAsbz0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLHM9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShhPXMubmV4dCgpKS5kb25lKTtyPSEwKWlmKG4ucHVzaChhLnZhbHVlKSxlJiZuLmxlbmd0aD09PWUpYnJlYWt9Y2F0Y2goYyl7bz0hMCxpPWN9ZmluYWxseXt0cnl7cnx8bnVsbD09c1sicmV0dXJuIl18fHNbInJldHVybiJdKCl9ZmluYWxseXtpZihvKXRocm93IGl9fXJldHVybiBufWZ1bmN0aW9uIGF0KCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKX1mdW5jdGlvbiBzdCgpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKX1mdW5jdGlvbiBjdCh0KXtyZXR1cm4gdC5yZXBsYWNlKC8oPzpeXHd8W0EtWl18XGJcdykvZywoZnVuY3Rpb24odCxlKXtyZXR1cm4gMD09PWU/dC50b0xvd2VyQ2FzZSgpOnQudG9VcHBlckNhc2UoKX0pKS5yZXBsYWNlKC9ccysvZywiIil9dmFyIGx0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe3ZhciByPW4uZWRpdG9yLG89bi5leHRlbnNpb24saT1uLnBhcmVudCxhPW4ubm9kZSxzPW4udmlldyxjPW4uZGVjb3JhdGlvbnMsbD1uLmdldFBvcztIKHRoaXMsdCksdGhpcy5jb21wb25lbnQ9ZSx0aGlzLmVkaXRvcj1yLHRoaXMuZXh0ZW5zaW9uPW8sdGhpcy5wYXJlbnQ9aSx0aGlzLm5vZGU9YSx0aGlzLnZpZXc9cyx0aGlzLmRlY29yYXRpb25zPWMsdGhpcy5pc05vZGU9ISF0aGlzLm5vZGUubWFya3MsdGhpcy5pc01hcms9IXRoaXMuaXNOb2RlLHRoaXMuZ2V0UG9zPXRoaXMuaXNNYXJrP3RoaXMuZ2V0TWFya1BvczpsLHRoaXMuY2FwdHVyZUV2ZW50cz0hMCx0aGlzLmRvbT10aGlzLmNyZWF0ZURPTSgpLHRoaXMuY29udGVudERPTT10aGlzLnZtLiRyZWZzLmNvbnRlbnR9cmV0dXJuIEoodCxbe2tleToiY3JlYXRlRE9NIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1DLmEuZXh0ZW5kKHRoaXMuY29tcG9uZW50KSxuPXtlZGl0b3I6dGhpcy5lZGl0b3Isbm9kZTp0aGlzLm5vZGUsdmlldzp0aGlzLnZpZXcsZ2V0UG9zOmZ1bmN0aW9uKCl7cmV0dXJuIHQuZ2V0UG9zKCl9LGRlY29yYXRpb25zOnRoaXMuZGVjb3JhdGlvbnMsc2VsZWN0ZWQ6ITEsb3B0aW9uczp0aGlzLmV4dGVuc2lvbi5vcHRpb25zLHVwZGF0ZUF0dHJzOmZ1bmN0aW9uKGUpe3JldHVybiB0LnVwZGF0ZUF0dHJzKGUpfX07cmV0dXJuImZ1bmN0aW9uIj09PXR5cGVvZiB0aGlzLmV4dGVuc2lvbi5zZXRTZWxlY3Rpb24mJih0aGlzLnNldFNlbGVjdGlvbj10aGlzLmV4dGVuc2lvbi5zZXRTZWxlY3Rpb24pLHRoaXMudm09bmV3IGUoe3BhcmVudDp0aGlzLnBhcmVudCxwcm9wc0RhdGE6bn0pLiRtb3VudCgpLHRoaXMudm0uJGVsfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0LnR5cGU9PT10aGlzLm5vZGUudHlwZSYmKHQ9PT10aGlzLm5vZGUmJnRoaXMuZGVjb3JhdGlvbnM9PT1lfHwodGhpcy5ub2RlPXQsdGhpcy5kZWNvcmF0aW9ucz1lLHRoaXMudXBkYXRlQ29tcG9uZW50UHJvcHMoe25vZGU6dCxkZWNvcmF0aW9uczplfSksITApKX19LHtrZXk6InVwZGF0ZUNvbXBvbmVudFByb3BzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKHRoaXMudm0uX3Byb3BzKXt2YXIgbj1DLmEuY29uZmlnLnNpbGVudDtDLmEuY29uZmlnLnNpbGVudD0hMCxPYmplY3QuZW50cmllcyh0KS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbj10dCh0LDIpLHI9blswXSxvPW5bMV07ZS52bS5fcHJvcHNbcl09b30pKSxDLmEuY29uZmlnLnNpbGVudD1ufX19LHtrZXk6InVwZGF0ZUF0dHJzIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLnZpZXcuZWRpdGFibGUpe3ZhciBlPXRoaXMudmlldy5zdGF0ZSxuPXRoaXMubm9kZS50eXBlLHI9dGhpcy5nZXRQb3MoKSxvPVUoe30sdGhpcy5ub2RlLmF0dHJzLHt9LHQpLGk9dGhpcy5pc01hcms/ZS50ci5yZW1vdmVNYXJrKHIuZnJvbSxyLnRvLG4pLmFkZE1hcmsoci5mcm9tLHIudG8sbi5jcmVhdGUobykpOmUudHIuc2V0Tm9kZU1hcmt1cChyLG51bGwsbyk7dGhpcy52aWV3LmRpc3BhdGNoKGkpfX19LHtrZXk6Imlnbm9yZU11dGF0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4hdGhpcy5jb250ZW50RE9NfHwhdGhpcy5jb250ZW50RE9NLmNvbnRhaW5zKHQudGFyZ2V0KX19LHtrZXk6InN0b3BFdmVudCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZigiZnVuY3Rpb24iPT09dHlwZW9mIHRoaXMuZXh0ZW5zaW9uLnN0b3BFdmVudClyZXR1cm4gdGhpcy5leHRlbnNpb24uc3RvcEV2ZW50KHQpO3ZhciBuPSEhdGhpcy5leHRlbnNpb24uc2NoZW1hLmRyYWdnYWJsZTtpZihuJiYibW91c2Vkb3duIj09PXQudHlwZSl7dmFyIHI9dC50YXJnZXQuY2xvc2VzdCYmdC50YXJnZXQuY2xvc2VzdCgiW2RhdGEtZHJhZy1oYW5kbGVdIiksbz1yJiYodGhpcy5kb209PT1yfHx0aGlzLmRvbS5jb250YWlucyhyKSk7byYmKHRoaXMuY2FwdHVyZUV2ZW50cz0hMSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJkcmFnZW5kIiwoZnVuY3Rpb24oKXtlLmNhcHR1cmVFdmVudHM9ITB9KSx7b25jZTohMH0pKX12YXIgaT0iY29weSI9PT10LnR5cGUsYT0icGFzdGUiPT09dC50eXBlLHM9ImN1dCI9PT10LnR5cGUsYz10LnR5cGUuc3RhcnRzV2l0aCgiZHJhZyIpfHwiZHJvcCI9PT10LnR5cGU7cmV0dXJuIShuJiZjfHxpfHxhfHxzKSYmdGhpcy5jYXB0dXJlRXZlbnRzfX0se2tleToic2VsZWN0Tm9kZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUNvbXBvbmVudFByb3BzKHtzZWxlY3RlZDohMH0pfX0se2tleToiZGVzZWxlY3ROb2RlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudXBkYXRlQ29tcG9uZW50UHJvcHMoe3NlbGVjdGVkOiExfSl9fSx7a2V5OiJnZXRNYXJrUG9zIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMudmlldy5wb3NBdERPTSh0aGlzLmRvbSksZT10aGlzLnZpZXcuc3RhdGUuZG9jLnJlc29sdmUodCksbj1iKGUsdGhpcy5ub2RlLnR5cGUpO3JldHVybiBufX0se2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnZtLiRkZXN0cm95KCl9fV0pLHR9KCksdXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7SCh0aGlzLHQpfXJldHVybiBKKHQsW3trZXk6Im9uIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fSx0aGlzLl9jYWxsYmFja3NbdF18fCh0aGlzLl9jYWxsYmFja3NbdF09W10pLHRoaXMuX2NhbGxiYWNrc1t0XS5wdXNoKGUpLHRoaXN9fSx7a2V5OiJlbWl0Iix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxuPWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkobj4xP24tMTowKSxvPTE7bzxuO28rKylyW28tMV09YXJndW1lbnRzW29dO3RoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9O3ZhciBpPXRoaXMuX2NhbGxiYWNrc1t0XTtyZXR1cm4gaSYmaS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hcHBseShlLHIpfSkpLHRoaXN9fSx7a2V5OiJvZmYiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoYXJndW1lbnRzLmxlbmd0aCl7dmFyIG49dGhpcy5fY2FsbGJhY2tzP3RoaXMuX2NhbGxiYWNrc1t0XTpudWxsO24mJihlP3RoaXMuX2NhbGxiYWNrc1t0XT1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1lfSkpOmRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbdF0pfWVsc2UgdGhpcy5fY2FsbGJhY2tzPXt9O3JldHVybiB0aGlzfX1dKSx0fSgpLGZ0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtIKHRoaXMsdCksdGhpcy5vcHRpb25zPVUoe30sdGhpcy5kZWZhdWx0T3B0aW9ucyx7fSxlKX1yZXR1cm4gSih0LFt7a2V5OiJpbml0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsfX0se2tleToiYmluZEVkaXRvciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbDt0aGlzLmVkaXRvcj10fX0se2tleToiaW5wdXRSdWxlcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5bXX19LHtrZXk6InBhc3RlUnVsZXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuW119fSx7a2V5OiJrZXlzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybnt9fX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fSx7a2V5OiJ0eXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iZXh0ZW5zaW9uIn19LHtrZXk6InVwZGF0ZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7fX19LHtrZXk6ImRlZmF1bHRPcHRpb25zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57fX19LHtrZXk6InBsdWdpbnMiLGdldDpmdW5jdGlvbigpe3JldHVybltdfX1dKSx0fSgpLHB0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXSxuPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO0godGhpcyx0KSxlLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuYmluZEVkaXRvcihuKSx0LmluaXQoKX0pKSx0aGlzLmV4dGVuc2lvbnM9ZX1yZXR1cm4gSih0LFt7a2V5OiJrZXltYXBzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnNjaGVtYSxuPXRoaXMuZXh0ZW5zaW9ucy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVyblsiZXh0ZW5zaW9uIl0uaW5jbHVkZXModC50eXBlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmtleXN9KSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5rZXlzKHtzY2hlbWE6ZX0pfSkpLHI9dGhpcy5leHRlbnNpb25zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuWyJub2RlIiwibWFyayJdLmluY2x1ZGVzKHQudHlwZSl9KSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5rZXlzfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5cyh7dHlwZTplWyIiLmNvbmNhdCh0LnR5cGUsInMiKV1bdC5uYW1lXSxzY2hlbWE6ZX0pfSkpO3JldHVybltdLmNvbmNhdChldChuKSxldChyKSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGZbImtleW1hcCJdKSh0KX0pKX19LHtrZXk6ImlucHV0UnVsZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc2NoZW1hLG49dC5leGNsdWRlZEV4dGVuc2lvbnM7aWYoIShuIGluc3RhbmNlb2YgQXJyYXkpJiZuKXJldHVybltdO3ZhciByPW4gaW5zdGFuY2VvZiBBcnJheT90aGlzLmV4dGVuc2lvbnMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hbi5pbmNsdWRlcyh0Lm5hbWUpfSkpOnRoaXMuZXh0ZW5zaW9ucyxvPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm5bImV4dGVuc2lvbiJdLmluY2x1ZGVzKHQudHlwZSl9KSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pbnB1dFJ1bGVzfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaW5wdXRSdWxlcyh7c2NoZW1hOmV9KX0pKSxpPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm5bIm5vZGUiLCJtYXJrIl0uaW5jbHVkZXModC50eXBlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlucHV0UnVsZXN9KSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pbnB1dFJ1bGVzKHt0eXBlOmVbIiIuY29uY2F0KHQudHlwZSwicyIpXVt0Lm5hbWVdLHNjaGVtYTplfSl9KSk7cmV0dXJuW10uY29uY2F0KGV0KG8pLGV0KGkpKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuW10uY29uY2F0KGV0KHQpLGV0KGUpKX0pLFtdKX19LHtrZXk6InBhc3RlUnVsZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc2NoZW1hLG49dC5leGNsdWRlZEV4dGVuc2lvbnM7aWYoIShuIGluc3RhbmNlb2YgQXJyYXkpJiZuKXJldHVybltdO3ZhciByPW4gaW5zdGFuY2VvZiBBcnJheT90aGlzLmV4dGVuc2lvbnMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hbi5pbmNsdWRlcyh0Lm5hbWUpfSkpOnRoaXMuZXh0ZW5zaW9ucyxvPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm5bImV4dGVuc2lvbiJdLmluY2x1ZGVzKHQudHlwZSl9KSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXN0ZVJ1bGVzfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQucGFzdGVSdWxlcyh7c2NoZW1hOmV9KX0pKSxpPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm5bIm5vZGUiLCJtYXJrIl0uaW5jbHVkZXModC50eXBlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBhc3RlUnVsZXN9KSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXN0ZVJ1bGVzKHt0eXBlOmVbIiIuY29uY2F0KHQudHlwZSwicyIpXVt0Lm5hbWVdLHNjaGVtYTplfSl9KSk7cmV0dXJuW10uY29uY2F0KGV0KG8pLGV0KGkpKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuW10uY29uY2F0KGV0KHQpLGV0KGUpKX0pLFtdKX19LHtrZXk6ImNvbW1hbmRzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnNjaGVtYSxuPXQudmlldztyZXR1cm4gdGhpcy5leHRlbnNpb25zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuY29tbWFuZHN9KSkucmVkdWNlKChmdW5jdGlvbih0LHIpe3ZhciBvPXIubmFtZSxpPXIudHlwZSxhPXt9LHM9ci5jb21tYW5kcyhVKHtzY2hlbWE6ZX0sWyJub2RlIiwibWFyayJdLmluY2x1ZGVzKGkpP3t0eXBlOmVbIiIuY29uY2F0KGksInMiKV1bb119Ont9KSksYz1mdW5jdGlvbih0LGUpe3JldHVybiEhbi5lZGl0YWJsZSYmKG4uZm9jdXMoKSx0KGUpKG4uc3RhdGUsbi5kaXNwYXRjaCxuKSl9LGw9ZnVuY3Rpb24odCxlKXtBcnJheS5pc0FycmF5KGUpP2FbdF09ZnVuY3Rpb24odCl7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGMoZSx0KX0pKX06ImZ1bmN0aW9uIj09PXR5cGVvZiBlJiYoYVt0XT1mdW5jdGlvbih0KXtyZXR1cm4gYyhlLHQpfSl9O3JldHVybiJvYmplY3QiPT09TChzKT9PYmplY3QuZW50cmllcyhzKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT10dCh0LDIpLG49ZVswXSxyPWVbMV07bChuLHIpfSkpOmwobyxzKSxVKHt9LHQse30sYSl9KSx7fSl9fSx7a2V5OiJub2RlcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiJub2RlIj09PXQudHlwZX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5uYW1lLHI9ZS5zY2hlbWE7cmV0dXJuIFUoe30sdCxxKHt9LG4scikpfSkse30pfX0se2tleToib3B0aW9ucyIsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy52aWV3O3JldHVybiB0aGlzLmV4dGVuc2lvbnMucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybiBVKHt9LGUscSh7fSxuLm5hbWUsbmV3IFByb3h5KG4ub3B0aW9ucyx7c2V0OmZ1bmN0aW9uKGUscixvKXt2YXIgaT1lW3JdIT09bztyZXR1cm4gT2JqZWN0LmFzc2lnbihlLHEoe30scixvKSksaSYmbi51cGRhdGUodCksITB9fSkpKX0pLHt9KX19LHtrZXk6Im1hcmtzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIm1hcmsiPT09dC50eXBlfSkpLnJlZHVjZSgoZnVuY3Rpb24odCxlKXt2YXIgbj1lLm5hbWUscj1lLnNjaGVtYTtyZXR1cm4gVSh7fSx0LHEoe30sbixyKSl9KSx7fSl9fSx7a2V5OiJwbHVnaW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQucGx1Z2luc30pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5wbHVnaW5zO3JldHVybltdLmNvbmNhdChldCh0KSxldChuKSl9KSxbXSl9fV0pLHR9KCk7ZnVuY3Rpb24gaHQodCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtlLnR5cGU9InRleHQvY3NzIixlLnRleHRDb250ZW50PXQ7dmFyIG49ZG9jdW1lbnQscj1uLmhlYWQsbz1yLmZpcnN0Q2hpbGQ7bz9yLmluc2VydEJlZm9yZShlLG8pOnIuYXBwZW5kQ2hpbGQoZSl9dmFyIGR0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIEgodGhpcyxlKSxaKHRoaXMsWChlKS5jYWxsKHRoaXMsdCkpfXJldHVybiBHKGUsdCksSihlLFt7a2V5OiJjb21tYW5kIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe319fSx7a2V5OiJ0eXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4ibWFyayJ9fSx7a2V5OiJ2aWV3IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fV0pLGV9KGZ0KTtmdW5jdGlvbiB2dCgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MDtyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgocGFyc2VJbnQodCwxMCksZSksbil9dmFyIG10PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIEgodGhpcyxlKSxaKHRoaXMsWChlKS5jYWxsKHRoaXMsdCkpfXJldHVybiBHKGUsdCksSihlLFt7a2V5OiJjb21tYW5kIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe319fSx7a2V5OiJ0eXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4ibm9kZSJ9fSx7a2V5OiJ2aWV3IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fV0pLGV9KGZ0KSxndD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIEgodGhpcyxlKSxaKHRoaXMsWChlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBHKGUsdCksSihlLFt7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iZG9jIn19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue2NvbnRlbnQ6ImJsb2NrKyJ9fX1dKSxlfShtdCkseXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBIKHRoaXMsZSksWih0aGlzLFgoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gRyhlLHQpLEooZSxbe2tleToiY29tbWFuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KHBbInNldEJsb2NrVHlwZSJdKShlKX19fSx7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4icGFyYWdyYXBoIn19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue2NvbnRlbnQ6ImlubGluZSoiLGdyb3VwOiJibG9jayIsZHJhZ2dhYmxlOiExLHBhcnNlRE9NOlt7dGFnOiJwIn1dLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuWyJwIiwwXX19fX1dKSxlfShtdCksd3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBIKHRoaXMsZSksWih0aGlzLFgoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gRyhlLHQpLEooZSxbe2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuInRleHQifX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57Z3JvdXA6ImlubGluZSJ9fX1dKSxlfShtdCksYnQ9Jy5Qcm9zZU1pcnJvciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLlByb3NlTWlycm9yIHtcbiAgd29yZC13cmFwOiBicmVhay13b3JkO1xuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XG4gIC13ZWJraXQtZm9udC12YXJpYW50LWxpZ2F0dXJlczogbm9uZTtcbiAgZm9udC12YXJpYW50LWxpZ2F0dXJlczogbm9uZTtcbn1cblxuLlByb3NlTWlycm9yIHByZSB7XG4gIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbn1cblxuLlByb3NlTWlycm9yLWdhcGN1cnNvciB7XG4gIGRpc3BsYXk6IG5vbmU7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG59XG5cbi5Qcm9zZU1pcnJvci1nYXBjdXJzb3I6YWZ0ZXIge1xuICBjb250ZW50OiAiIjtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAtMnB4O1xuICB3aWR0aDogMjBweDtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIGJsYWNrO1xuICBhbmltYXRpb246IFByb3NlTWlycm9yLWN1cnNvci1ibGluayAxLjFzIHN0ZXBzKDIsIHN0YXJ0KSBpbmZpbml0ZTtcbn1cblxuQGtleWZyYW1lcyBQcm9zZU1pcnJvci1jdXJzb3ItYmxpbmsge1xuICB0byB7XG4gICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICB9XG59XG5cbi5Qcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uICo6OnNlbGVjdGlvbiB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xufVxuXG4uUHJvc2VNaXJyb3ItaGlkZXNlbGVjdGlvbiAqOjotbW96LXNlbGVjdGlvbiB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xufVxuXG4uUHJvc2VNaXJyb3ItaGlkZXNlbGVjdGlvbiAqIHtcbiAgY2FyZXQtY29sb3I6IHRyYW5zcGFyZW50O1xufVxuXG4uUHJvc2VNaXJyb3ItZm9jdXNlZCAuUHJvc2VNaXJyb3ItZ2FwY3Vyc29yIHtcbiAgZGlzcGxheTogYmxvY2s7XG59XG4nLGt0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgdCxuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gSCh0aGlzLGUpLHQ9Wih0aGlzLFgoZSkuY2FsbCh0aGlzKSksdC5kZWZhdWx0T3B0aW9ucz17ZWRpdG9yUHJvcHM6e30sZWRpdGFibGU6ITAsYXV0b0ZvY3VzOm51bGwsZXh0ZW5zaW9uczpbXSxjb250ZW50OiIiLHRvcE5vZGU6ImRvYyIsZW1wdHlEb2N1bWVudDp7dHlwZToiZG9jIixjb250ZW50Olt7dHlwZToicGFyYWdyYXBoIn1dfSx1c2VCdWlsdEluRXh0ZW5zaW9uczohMCxkaXNhYmxlSW5wdXRSdWxlczohMSxkaXNhYmxlUGFzdGVSdWxlczohMSxkcm9wQ3Vyc29yOnt9LHBhcnNlT3B0aW9uczp7fSxpbmplY3RDU1M6ITAsb25Jbml0OmZ1bmN0aW9uKCl7fSxvblRyYW5zYWN0aW9uOmZ1bmN0aW9uKCl7fSxvblVwZGF0ZTpmdW5jdGlvbigpe30sb25Gb2N1czpmdW5jdGlvbigpe30sb25CbHVyOmZ1bmN0aW9uKCl7fSxvblBhc3RlOmZ1bmN0aW9uKCl7fSxvbkRyb3A6ZnVuY3Rpb24oKXt9fSx0LmV2ZW50cz1bImluaXQiLCJ0cmFuc2FjdGlvbiIsInVwZGF0ZSIsImZvY3VzIiwiYmx1ciIsInBhc3RlIiwiZHJvcCJdLHQuaW5pdChuKSx0fXJldHVybiBHKGUsdCksSihlLFt7a2V5OiJpbml0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307dGhpcy5zZXRPcHRpb25zKFUoe30sdGhpcy5kZWZhdWx0T3B0aW9ucyx7fSxlKSksdGhpcy5mb2N1c2VkPSExLHRoaXMuc2VsZWN0aW9uPXtmcm9tOjAsdG86MH0sdGhpcy5lbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuZXh0ZW5zaW9ucz10aGlzLmNyZWF0ZUV4dGVuc2lvbnMoKSx0aGlzLm5vZGVzPXRoaXMuY3JlYXRlTm9kZXMoKSx0aGlzLm1hcmtzPXRoaXMuY3JlYXRlTWFya3MoKSx0aGlzLnNjaGVtYT10aGlzLmNyZWF0ZVNjaGVtYSgpLHRoaXMucGx1Z2lucz10aGlzLmNyZWF0ZVBsdWdpbnMoKSx0aGlzLmtleW1hcHM9dGhpcy5jcmVhdGVLZXltYXBzKCksdGhpcy5pbnB1dFJ1bGVzPXRoaXMuY3JlYXRlSW5wdXRSdWxlcygpLHRoaXMucGFzdGVSdWxlcz10aGlzLmNyZWF0ZVBhc3RlUnVsZXMoKSx0aGlzLnZpZXc9dGhpcy5jcmVhdGVWaWV3KCksdGhpcy5jb21tYW5kcz10aGlzLmNyZWF0ZUNvbW1hbmRzKCksdGhpcy5zZXRBY3RpdmVOb2Rlc0FuZE1hcmtzKCksdGhpcy5vcHRpb25zLmluamVjdENTUyYmaHQoYnQpLG51bGwhPT10aGlzLm9wdGlvbnMuYXV0b0ZvY3VzJiZ0aGlzLmZvY3VzKHRoaXMub3B0aW9ucy5hdXRvRm9jdXMpLHRoaXMuZXZlbnRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3Qub24oZSx0Lm9wdGlvbnNbY3QoIm9uICIuY29uY2F0KGUpKV18fGZ1bmN0aW9uKCl7fSl9KSksdGhpcy5lbWl0KCJpbml0Iix7dmlldzp0aGlzLnZpZXcsc3RhdGU6dGhpcy5zdGF0ZX0pLHRoaXMuZXh0ZW5zaW9ucy52aWV3PXRoaXMudmlld319LHtrZXk6InNldE9wdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucz1VKHt9LHRoaXMub3B0aW9ucyx7fSx0KSx0aGlzLnZpZXcmJnRoaXMuc3RhdGUmJnRoaXMudmlldy51cGRhdGVTdGF0ZSh0aGlzLnN0YXRlKX19LHtrZXk6ImNyZWF0ZUV4dGVuc2lvbnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBwdChbXS5jb25jYXQoZXQodGhpcy5idWlsdEluRXh0ZW5zaW9ucyksZXQodGhpcy5vcHRpb25zLmV4dGVuc2lvbnMpKSx0aGlzKX19LHtrZXk6ImNyZWF0ZVBsdWdpbnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5wbHVnaW5zfX0se2tleToiY3JlYXRlS2V5bWFwcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLmtleW1hcHMoe3NjaGVtYTp0aGlzLnNjaGVtYX0pfX0se2tleToiY3JlYXRlSW5wdXRSdWxlcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leHRlbnNpb25zLmlucHV0UnVsZXMoe3NjaGVtYTp0aGlzLnNjaGVtYSxleGNsdWRlZEV4dGVuc2lvbnM6dGhpcy5vcHRpb25zLmRpc2FibGVJbnB1dFJ1bGVzfSl9fSx7a2V5OiJjcmVhdGVQYXN0ZVJ1bGVzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmV4dGVuc2lvbnMucGFzdGVSdWxlcyh7c2NoZW1hOnRoaXMuc2NoZW1hLGV4Y2x1ZGVkRXh0ZW5zaW9uczp0aGlzLm9wdGlvbnMuZGlzYWJsZVBhc3RlUnVsZXN9KX19LHtrZXk6ImNyZWF0ZUNvbW1hbmRzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmV4dGVuc2lvbnMuY29tbWFuZHMoe3NjaGVtYTp0aGlzLnNjaGVtYSx2aWV3OnRoaXMudmlld30pfX0se2tleToiY3JlYXRlTm9kZXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5ub2Rlc319LHtrZXk6ImNyZWF0ZU1hcmtzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmV4dGVuc2lvbnMubWFya3N9fSx7a2V5OiJjcmVhdGVTY2hlbWEiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBjWyJTY2hlbWEiXSh7dG9wTm9kZTp0aGlzLm9wdGlvbnMudG9wTm9kZSxub2Rlczp0aGlzLm5vZGVzLG1hcmtzOnRoaXMubWFya3N9KX19LHtrZXk6ImNyZWF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIGFbIkVkaXRvclN0YXRlIl0uY3JlYXRlKHtzY2hlbWE6dGhpcy5zY2hlbWEsZG9jOnRoaXMuY3JlYXRlRG9jdW1lbnQodGhpcy5vcHRpb25zLmNvbnRlbnQpLHBsdWdpbnM6W10uY29uY2F0KGV0KHRoaXMucGx1Z2lucyksW09iamVjdChoWyJpbnB1dFJ1bGVzIl0pKHtydWxlczp0aGlzLmlucHV0UnVsZXN9KV0sZXQodGhpcy5wYXN0ZVJ1bGVzKSxldCh0aGlzLmtleW1hcHMpLFtPYmplY3QoZlsia2V5bWFwIl0pKHtCYWNrc3BhY2U6aFsidW5kb0lucHV0UnVsZSJdfSksT2JqZWN0KGZbImtleW1hcCJdKShwWyJiYXNlS2V5bWFwIl0pLE9iamVjdChsWyJkcm9wQ3Vyc29yIl0pKHRoaXMub3B0aW9ucy5kcm9wQ3Vyc29yKSxPYmplY3QodVsiZ2FwQ3Vyc29yIl0pKCksbmV3IGFbIlBsdWdpbiJdKHtrZXk6bmV3IGFbIlBsdWdpbktleSJdKCJlZGl0YWJsZSIpLHByb3BzOntlZGl0YWJsZTpmdW5jdGlvbigpe3JldHVybiB0Lm9wdGlvbnMuZWRpdGFibGV9fX0pLG5ldyBhWyJQbHVnaW4iXSh7cHJvcHM6e2F0dHJpYnV0ZXM6e3RhYmluZGV4OjB9LGhhbmRsZURPTUV2ZW50czp7Zm9jdXM6ZnVuY3Rpb24oZSxuKXt0LmZvY3VzZWQ9ITAsdC5lbWl0KCJmb2N1cyIse2V2ZW50Om4sc3RhdGU6ZS5zdGF0ZSx2aWV3OmV9KTt2YXIgcj10LnN0YXRlLnRyLnNldE1ldGEoImZvY3VzZWQiLCEwKTt0LnZpZXcuZGlzcGF0Y2gocil9LGJsdXI6ZnVuY3Rpb24oZSxuKXt0LmZvY3VzZWQ9ITEsdC5lbWl0KCJibHVyIix7ZXZlbnQ6bixzdGF0ZTplLnN0YXRlLHZpZXc6ZX0pO3ZhciByPXQuc3RhdGUudHIuc2V0TWV0YSgiZm9jdXNlZCIsITEpO3Qudmlldy5kaXNwYXRjaChyKX19fX0pLG5ldyBhWyJQbHVnaW4iXSh7cHJvcHM6dGhpcy5vcHRpb25zLmVkaXRvclByb3BzfSldKX0pfX0se2tleToiY3JlYXRlRG9jdW1lbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0aGlzLm9wdGlvbnMucGFyc2VPcHRpb25zO2lmKG51bGw9PT10KXJldHVybiB0aGlzLnNjaGVtYS5ub2RlRnJvbUpTT04odGhpcy5vcHRpb25zLmVtcHR5RG9jdW1lbnQpO2lmKCJvYmplY3QiPT09TCh0KSl0cnl7cmV0dXJuIHRoaXMuc2NoZW1hLm5vZGVGcm9tSlNPTih0KX1jYXRjaChyKXtyZXR1cm4gY29uc29sZS53YXJuKCJbdGlwdGFwIHdhcm5dOiBJbnZhbGlkIGNvbnRlbnQuIiwiUGFzc2VkIHZhbHVlOiIsdCwiRXJyb3I6IixyKSx0aGlzLnNjaGVtYS5ub2RlRnJvbUpTT04odGhpcy5vcHRpb25zLmVtcHR5RG9jdW1lbnQpfWlmKCJzdHJpbmciPT09dHlwZW9mIHQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBuLmlubmVySFRNTD10LnRyaW0oKSxjWyJET01QYXJzZXIiXS5mcm9tU2NoZW1hKHRoaXMuc2NoZW1hKS5wYXJzZShuLGUpfXJldHVybiExfX0se2tleToiY3JlYXRlVmlldyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBuZXcgc1siRWRpdG9yVmlldyJdKHRoaXMuZWxlbWVudCx7c3RhdGU6dGhpcy5jcmVhdGVTdGF0ZSgpLGhhbmRsZVBhc3RlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZSkscj0wO3I8ZTtyKyspbltyXT1hcmd1bWVudHNbcl07dC5lbWl0LmFwcGx5KHQsWyJwYXN0ZSJdLmNvbmNhdChuKSl9LGhhbmRsZURyb3A6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKyluW3JdPWFyZ3VtZW50c1tyXTt0LmVtaXQuYXBwbHkodCxbImRyb3AiXS5jb25jYXQobikpfSxkaXNwYXRjaFRyYW5zYWN0aW9uOnRoaXMuZGlzcGF0Y2hUcmFuc2FjdGlvbi5iaW5kKHRoaXMpfSl9fSx7a2V5OiJzZXRQYXJlbnRDb21wb25lbnQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7dCYmdGhpcy52aWV3LnNldFByb3BzKHtub2RlVmlld3M6dGhpcy5pbml0Tm9kZVZpZXdzKHtwYXJlbnQ6dCxleHRlbnNpb25zOltdLmNvbmNhdChldCh0aGlzLmJ1aWx0SW5FeHRlbnNpb25zKSxldCh0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucykpfSl9KX19LHtrZXk6ImluaXROb2RlVmlld3MiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LnBhcmVudCxyPXQuZXh0ZW5zaW9ucztyZXR1cm4gci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVyblsibm9kZSIsIm1hcmsiXS5pbmNsdWRlcyh0LnR5cGUpfSkpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQudmlld30pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQscil7dmFyIG89ZnVuY3Rpb24odCxvLGksYSl7dmFyIHM9ci52aWV3O3JldHVybiBuZXcgbHQocyx7ZWRpdG9yOmUsZXh0ZW5zaW9uOnIscGFyZW50Om4sbm9kZTp0LHZpZXc6byxnZXRQb3M6aSxkZWNvcmF0aW9uczphfSl9O3JldHVybiBVKHt9LHQscSh7fSxyLm5hbWUsbykpfSkse30pfX0se2tleToiZGlzcGF0Y2hUcmFuc2FjdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0ZS5hcHBseSh0KTt0aGlzLnZpZXcudXBkYXRlU3RhdGUoZSksdGhpcy5zZWxlY3Rpb249e2Zyb206dGhpcy5zdGF0ZS5zZWxlY3Rpb24uZnJvbSx0bzp0aGlzLnN0YXRlLnNlbGVjdGlvbi50b30sdGhpcy5zZXRBY3RpdmVOb2Rlc0FuZE1hcmtzKCksdGhpcy5lbWl0KCJ0cmFuc2FjdGlvbiIse2dldEhUTUw6dGhpcy5nZXRIVE1MLmJpbmQodGhpcyksZ2V0SlNPTjp0aGlzLmdldEpTT04uYmluZCh0aGlzKSxzdGF0ZTp0aGlzLnN0YXRlLHRyYW5zYWN0aW9uOnR9KSx0LmRvY0NoYW5nZWQmJiF0LmdldE1ldGEoInByZXZlbnRVcGRhdGUiKSYmdGhpcy5lbWl0VXBkYXRlKHQpfX0se2tleToiZW1pdFVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5lbWl0KCJ1cGRhdGUiLHtnZXRIVE1MOnRoaXMuZ2V0SFRNTC5iaW5kKHRoaXMpLGdldEpTT046dGhpcy5nZXRKU09OLmJpbmQodGhpcyksc3RhdGU6dGhpcy5zdGF0ZSx0cmFuc2FjdGlvbjp0fSl9fSx7a2V5OiJyZXNvbHZlU2VsZWN0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsO2lmKHRoaXMuc2VsZWN0aW9uJiZudWxsPT09dClyZXR1cm4gdGhpcy5zZWxlY3Rpb247aWYoInN0YXJ0Ij09PXR8fCEwPT09dClyZXR1cm57ZnJvbTowLHRvOjB9O2lmKCJlbmQiPT09dCl7dmFyIGU9dGhpcy5zdGF0ZS5kb2M7cmV0dXJue2Zyb206ZS5jb250ZW50LnNpemUsdG86ZS5jb250ZW50LnNpemV9fXJldHVybntmcm9tOnQsdG86dH19fSx7a2V5OiJmb2N1cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7aWYoISh0aGlzLnZpZXcuZm9jdXNlZCYmbnVsbD09PWV8fCExPT09ZSkpe3ZhciBuPXRoaXMucmVzb2x2ZVNlbGVjdGlvbihlKSxyPW4uZnJvbSxvPW4udG87dGhpcy5zZXRTZWxlY3Rpb24ocixvKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0LnZpZXcuZm9jdXMoKX0pLDEwKX19fSx7a2V5OiJzZXRTZWxlY3Rpb24iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAsZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxuPXRoaXMuc3RhdGUscj1uLmRvYyxvPW4udHIsaT12dCh0LDAsci5jb250ZW50LnNpemUpLHM9dnQoZSwwLHIuY29udGVudC5zaXplKSxjPWFbIlRleHRTZWxlY3Rpb24iXS5jcmVhdGUocixpLHMpLGw9by5zZXRTZWxlY3Rpb24oYyk7dGhpcy52aWV3LmRpc3BhdGNoKGwpfX0se2tleToiYmx1ciIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnZpZXcuZG9tLmJsdXIoKX19LHtrZXk6ImdldFNjaGVtYUpTT04iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoe25vZGVzOnRoaXMuZXh0ZW5zaW9ucy5ub2RlcyxtYXJrczp0aGlzLmV4dGVuc2lvbnMubWFya3N9KSl9fSx7a2V5OiJnZXRIVE1MIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGU9Y1siRE9NU2VyaWFsaXplciJdLmZyb21TY2hlbWEodGhpcy5zY2hlbWEpLnNlcmlhbGl6ZUZyYWdtZW50KHRoaXMuc3RhdGUuZG9jLmNvbnRlbnQpO3JldHVybiB0LmFwcGVuZENoaWxkKGUpLHQuaW5uZXJIVE1MfX0se2tleToiZ2V0SlNPTiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZS5kb2MudG9KU09OKCl9fSx7a2V5OiJzZXRDb250ZW50Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0sbj1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCxyPXRoaXMuc3RhdGUsbz1yLmRvYyxpPXIudHIscz10aGlzLmNyZWF0ZURvY3VtZW50KHQsbiksYz1hWyJUZXh0U2VsZWN0aW9uIl0uY3JlYXRlKG8sMCxvLmNvbnRlbnQuc2l6ZSksbD1pLnNldFNlbGVjdGlvbihjKS5yZXBsYWNlU2VsZWN0aW9uV2l0aChzLCExKS5zZXRNZXRhKCJwcmV2ZW50VXBkYXRlIiwhZSk7dGhpcy52aWV3LmRpc3BhdGNoKGwpfX0se2tleToiY2xlYXJDb250ZW50Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07dGhpcy5zZXRDb250ZW50KHRoaXMub3B0aW9ucy5lbXB0eURvY3VtZW50LHQpfX0se2tleToic2V0QWN0aXZlTm9kZXNBbmRNYXJrcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuYWN0aXZlTWFya3M9T2JqZWN0LmVudHJpZXModGhpcy5zY2hlbWEubWFya3MpLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXt2YXIgcj10dChuLDIpLG89clswXSxpPXJbMV07cmV0dXJuIFUoe30sZSxxKHt9LG8sKGZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiBrKHQuc3RhdGUsaSxlKX0pKSl9KSx7fSksdGhpcy5hY3RpdmVNYXJrQXR0cnM9T2JqZWN0LmVudHJpZXModGhpcy5zY2hlbWEubWFya3MpLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXt2YXIgcj10dChuLDIpLG89clswXSxpPXJbMV07cmV0dXJuIFUoe30sZSxxKHt9LG8sdyh0LnN0YXRlLGkpKSl9KSx7fSksdGhpcy5hY3RpdmVOb2Rlcz1PYmplY3QuZW50cmllcyh0aGlzLnNjaGVtYS5ub2RlcykucmVkdWNlKChmdW5jdGlvbihlLG4pe3ZhciByPXR0KG4sMiksbz1yWzBdLGk9clsxXTtyZXR1cm4gVSh7fSxlLHEoe30sbywoZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIFModC5zdGF0ZSxpLGUpfSkpKX0pLHt9KX19LHtrZXk6ImdldE1hcmtBdHRycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbDtyZXR1cm4gdGhpcy5hY3RpdmVNYXJrQXR0cnNbdF19fSx7a2V5OiJyZWdpc3RlclBsdWdpbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbDtpZih0KXt2YXIgZT10aGlzLnN0YXRlLnJlY29uZmlndXJlKHtwbHVnaW5zOnRoaXMuc3RhdGUucGx1Z2lucy5jb25jYXQoW3RdKX0pO3RoaXMudmlldy51cGRhdGVTdGF0ZShlKX19fSx7a2V5OiJ1bnJlZ2lzdGVyUGx1Z2luIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsO2lmKHQmJnRoaXMudmlldy5kb2NWaWV3KXt2YXIgZT10aGlzLnN0YXRlLnJlY29uZmlndXJlKHtwbHVnaW5zOnRoaXMuc3RhdGUucGx1Z2lucy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFlLmtleS5zdGFydHNXaXRoKCIiLmNvbmNhdCh0LCIkIikpfSkpfSk7dGhpcy52aWV3LnVwZGF0ZVN0YXRlKGUpfX19LHtrZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy52aWV3JiZ0aGlzLnZpZXcuZGVzdHJveSgpfX0se2tleToiYnVpbHRJbkV4dGVuc2lvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMudXNlQnVpbHRJbkV4dGVuc2lvbnM/W25ldyBndCxuZXcgd3QsbmV3IHl0XTpbXX19LHtrZXk6InN0YXRlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3P3RoaXMudmlldy5zdGF0ZTpudWxsfX0se2tleToiaXNBY3RpdmUiLGdldDpmdW5jdGlvbigpe3JldHVybiBPYmplY3QuZW50cmllcyhVKHt9LHRoaXMuYWN0aXZlTWFya3Mse30sdGhpcy5hY3RpdmVOb2RlcykpLnJlZHVjZSgoZnVuY3Rpb24odCxlKXt2YXIgbj10dChlLDIpLHI9blswXSxvPW5bMV07cmV0dXJuIFUoe30sdCxxKHt9LHIsKGZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiBvKHQpfSkpKX0pLHt9KX19XSksZX0odXQpLFN0PXtwcm9wczp7ZWRpdG9yOntkZWZhdWx0Om51bGwsdHlwZTpPYmplY3R9fSx3YXRjaDp7ZWRpdG9yOntpbW1lZGlhdGU6ITAsaGFuZGxlcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3QmJnQuZWxlbWVudCYmdGhpcy4kbmV4dFRpY2soKGZ1bmN0aW9uKCl7ZS4kZWwuYXBwZW5kQ2hpbGQodC5lbGVtZW50LmZpcnN0Q2hpbGQpLHQuc2V0UGFyZW50Q29tcG9uZW50KGUpfSkpfX19LHJlbmRlcjpmdW5jdGlvbih0KXtyZXR1cm4gdCgiZGl2Iil9LGJlZm9yZURlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVkaXRvci5lbGVtZW50PXRoaXMuJGVsfX0seHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWUub3B0aW9ucztIKHRoaXMsdCksdGhpcy5vcHRpb25zPW4sdGhpcy5vcHRpb25zLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIix0aGlzLmhhbmRsZUNsaWNrKX1yZXR1cm4gSih0LFt7a2V5OiJoYW5kbGVDbGljayIsdmFsdWU6ZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpfX0se2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLHRoaXMuaGFuZGxlQ2xpY2spfX1dKSx0fSgpO2Z1bmN0aW9uIEN0KHQpe3JldHVybiBuZXcgYVsiUGx1Z2luIl0oe2tleTpuZXcgYVsiUGx1Z2luS2V5Il0oIm1lbnVfYmFyIiksdmlldzpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHh0KHtlZGl0b3JWaWV3OmUsb3B0aW9uczp0fSl9fSl9dmFyIE10PXtwcm9wczp7ZWRpdG9yOntkZWZhdWx0Om51bGwsdHlwZTpPYmplY3R9fSx3YXRjaDp7ZWRpdG9yOntpbW1lZGlhdGU6ITAsaGFuZGxlcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3QmJnRoaXMuJG5leHRUaWNrKChmdW5jdGlvbigpe3QucmVnaXN0ZXJQbHVnaW4oQ3Qoe2VkaXRvcjp0LGVsZW1lbnQ6ZS4kZWx9KSl9KSl9fX0scmVuZGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yP3RoaXMuJHNjb3BlZFNsb3RzLmRlZmF1bHQoe2ZvY3VzZWQ6dGhpcy5lZGl0b3Iudmlldy5mb2N1c2VkLGZvY3VzOnRoaXMuZWRpdG9yLmZvY3VzLGNvbW1hbmRzOnRoaXMuZWRpdG9yLmNvbW1hbmRzLGlzQWN0aXZlOnRoaXMuZWRpdG9yLmlzQWN0aXZlLGdldE1hcmtBdHRyczp0aGlzLmVkaXRvci5nZXRNYXJrQXR0cnMuYmluZCh0aGlzLmVkaXRvcil9KTpudWxsfX07ZnVuY3Rpb24gT3QodCxlLG4pe3ZhciByPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7cmV0dXJuIHIuc2V0RW5kKHQsbnVsbD09bj90Lm5vZGVWYWx1ZS5sZW5ndGg6biksci5zZXRTdGFydCh0LGV8fDApLHJ9ZnVuY3Rpb24gQXQodCxlKXt2YXIgbj10LmdldENsaWVudFJlY3RzKCk7cmV0dXJuIG4ubGVuZ3RoP25bZTwwPzA6bi5sZW5ndGgtMV06dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1mdW5jdGlvbiBUdCh0LGUpe3ZhciBuLHIsbz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdLGk9dC5kb2NWaWV3LmRvbUZyb21Qb3MoZSksYT1pLm5vZGUscz1pLm9mZnNldDtpZigzPT09YS5ub2RlVHlwZSlvJiZzPGEubm9kZVZhbHVlLmxlbmd0aD8ocj1BdChPdChhLHMtMSxzKSwtMSksbj0icmlnaHQiKTpzPGEubm9kZVZhbHVlLmxlbmd0aCYmKHI9QXQoT3QoYSxzLHMrMSksLTEpLG49ImxlZnQiKTtlbHNlIGlmKGEuZmlyc3RDaGlsZCl7aWYoczxhLmNoaWxkTm9kZXMubGVuZ3RoKXt2YXIgYz1hLmNoaWxkTm9kZXNbc107cj1BdCgzPT09Yy5ub2RlVHlwZT9PdChjKTpjLC0xKSxuPSJsZWZ0In1pZigoIXJ8fHIudG9wPT09ci5ib3R0b20pJiZzKXt2YXIgbD1hLmNoaWxkTm9kZXNbcy0xXTtyPUF0KDM9PT1sLm5vZGVUeXBlP090KGwpOmwsMSksbj0icmlnaHQifX1lbHNlIHI9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPSJsZWZ0Ijt2YXIgdT1yW25dO3JldHVybnt0b3A6ci50b3AsYm90dG9tOnIuYm90dG9tLGxlZnQ6dSxyaWdodDp1fX12YXIgTnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPXRoaXMscj1lLm9wdGlvbnMsbz1lLmVkaXRvclZpZXc7SCh0aGlzLHQpLHRoaXMub3B0aW9ucz1VKHt9LHtlbGVtZW50Om51bGwsa2VlcEluQm91bmRzOiEwLG9uVXBkYXRlOmZ1bmN0aW9uKCl7cmV0dXJuITF9fSx7fSxyKSx0aGlzLmVkaXRvclZpZXc9byx0aGlzLmlzQWN0aXZlPSExLHRoaXMubGVmdD0wLHRoaXMuYm90dG9tPTAsdGhpcy5vcHRpb25zLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIix0aGlzLmhhbmRsZUNsaWNrKSx0aGlzLm9wdGlvbnMuZWRpdG9yLm9uKCJmb2N1cyIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQudmlldztuLnVwZGF0ZShlKX0pKSx0aGlzLm9wdGlvbnMuZWRpdG9yLm9uKCJibHVyIiwoZnVuY3Rpb24odCl7dmFyIGU9dC5ldmVudDtuLmhpZGUoZSl9KSl9cmV0dXJuIEoodCxbe2tleToiaGFuZGxlQ2xpY2siLHZhbHVlOmZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKX19LHtrZXk6InVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10LnN0YXRlO2lmKCF0LmNvbXBvc2luZyYmIShlJiZlLmRvYy5lcShuLmRvYykmJmUuc2VsZWN0aW9uLmVxKG4uc2VsZWN0aW9uKSkpaWYobi5zZWxlY3Rpb24uZW1wdHkpdGhpcy5oaWRlKCk7ZWxzZXt2YXIgcj1uLnNlbGVjdGlvbixvPXIuZnJvbSxpPXIudG8sYT1UdCh0LG8pLHM9VHQodCxpLCEwKSxjPXRoaXMub3B0aW9ucy5lbGVtZW50Lm9mZnNldFBhcmVudDtpZihjKXt2YXIgbD1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHU9dGhpcy5vcHRpb25zLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksZj0oYS5sZWZ0K3MubGVmdCkvMi1sLmxlZnQ7dGhpcy5sZWZ0PU1hdGgucm91bmQodGhpcy5vcHRpb25zLmtlZXBJbkJvdW5kcz9NYXRoLm1pbihsLndpZHRoLXUud2lkdGgvMixNYXRoLm1heChmLHUud2lkdGgvMikpOmYpLHRoaXMuYm90dG9tPU1hdGgucm91bmQobC5ib3R0b20tYS50b3ApLHRoaXMuaXNBY3RpdmU9ITAsdGhpcy5zZW5kVXBkYXRlKCl9ZWxzZSB0aGlzLmhpZGUoKX19fSx7a2V5OiJzZW5kVXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5vblVwZGF0ZSh7aXNBY3RpdmU6dGhpcy5pc0FjdGl2ZSxsZWZ0OnRoaXMubGVmdCxib3R0b206dGhpcy5ib3R0b219KX19LHtrZXk6ImhpZGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3QmJnQucmVsYXRlZFRhcmdldHx8KHRoaXMuaXNBY3RpdmU9ITEsdGhpcy5zZW5kVXBkYXRlKCkpfX0se2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLHRoaXMuaGFuZGxlQ2xpY2spfX1dKSx0fSgpO2Z1bmN0aW9uIEV0KHQpe3JldHVybiBuZXcgYVsiUGx1Z2luIl0oe2tleTpuZXcgYVsiUGx1Z2luS2V5Il0oIm1lbnVfYnViYmxlIiksdmlldzpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IE50KHtlZGl0b3JWaWV3OmUsb3B0aW9uczp0fSl9fSl9T2JqZWN0LEJvb2xlYW47dmFyIF90PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj10aGlzLHI9ZS5vcHRpb25zLG89ZS5lZGl0b3JWaWV3O0godGhpcyx0KSx0aGlzLm9wdGlvbnM9VSh7fSx7cmVzaXplT2JzZXJ2ZXI6ITAsZWxlbWVudDpudWxsLG9uVXBkYXRlOmZ1bmN0aW9uKCl7cmV0dXJuITF9fSx7fSxyKSx0aGlzLmVkaXRvclZpZXc9byx0aGlzLmlzQWN0aXZlPSExLHRoaXMudG9wPTAsdGhpcy5vcHRpb25zLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIix0aGlzLmhhbmRsZUNsaWNrKSx0aGlzLm9wdGlvbnMuZWRpdG9yLm9uKCJmb2N1cyIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQudmlldztuLnVwZGF0ZShlKX0pKSx0aGlzLm9wdGlvbnMuZWRpdG9yLm9uKCJibHVyIiwoZnVuY3Rpb24odCl7dmFyIGU9dC5ldmVudDtuLmhpZGUoZSl9KSksdGhpcy5vcHRpb25zLnJlc2l6ZU9ic2VydmVyJiZ3aW5kb3cuUmVzaXplT2JzZXJ2ZXImJih0aGlzLnJlc2l6ZU9ic2VydmVyPW5ldyBSZXNpemVPYnNlcnZlcigoZnVuY3Rpb24oKXtuLmlzQWN0aXZlJiZuLnVwZGF0ZShuLmVkaXRvclZpZXcpfSkpLHRoaXMucmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmVkaXRvclZpZXcuZG9tKSl9cmV0dXJuIEoodCxbe2tleToiaGFuZGxlQ2xpY2siLHZhbHVlOmZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKX19LHtrZXk6InVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10LnN0YXRlO2lmKCEoZSYmZS5kb2MuZXEobi5kb2MpJiZlLnNlbGVjdGlvbi5lcShuLnNlbGVjdGlvbikpKWlmKG4uc2VsZWN0aW9uLmVtcHR5KXt2YXIgcj10LmRvbUF0UG9zKG4uc2VsZWN0aW9uLmFuY2hvciksbz0iPGJyPiI9PT1yLm5vZGUuaW5uZXJIVE1MJiYiUCI9PT1yLm5vZGUudGFnTmFtZSYmci5ub2RlLnBhcmVudE5vZGU9PT10LmRvbTtpZihvKXt2YXIgaT10aGlzLm9wdGlvbnMuZWxlbWVudC5vZmZzZXRQYXJlbnQ7aWYoaSl7dmFyIGE9aS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxzPXQuY29vcmRzQXRQb3Mobi5zZWxlY3Rpb24uYW5jaG9yKSxjPXMudG9wLWEudG9wO3RoaXMuaXNBY3RpdmU9ITAsdGhpcy50b3A9Yyx0aGlzLnNlbmRVcGRhdGUoKX1lbHNlIHRoaXMuaGlkZSgpfWVsc2UgdGhpcy5oaWRlKCl9ZWxzZSB0aGlzLmhpZGUoKX19LHtrZXk6InNlbmRVcGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLm9uVXBkYXRlKHtpc0FjdGl2ZTp0aGlzLmlzQWN0aXZlLHRvcDp0aGlzLnRvcH0pfX0se2tleToiaGlkZSIsdmFsdWU6ZnVuY3Rpb24odCl7dCYmdC5yZWxhdGVkVGFyZ2V0fHwodGhpcy5pc0FjdGl2ZT0hMSx0aGlzLnNlbmRVcGRhdGUoKSl9fSx7a2V5OiJkZXN0cm95Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsdGhpcy5oYW5kbGVDbGljayksdGhpcy5yZXNpemVPYnNlcnZlciYmdGhpcy5yZXNpemVPYnNlcnZlci51bm9ic2VydmUodGhpcy5lZGl0b3JWaWV3LmRvbSl9fV0pLHR9KCk7ZnVuY3Rpb24gUnQodCl7cmV0dXJuIG5ldyBhWyJQbHVnaW4iXSh7a2V5Om5ldyBhWyJQbHVnaW5LZXkiXSgiZmxvYXRpbmdfbWVudSIpLHZpZXc6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBfdCh7ZWRpdG9yVmlldzplLG9wdGlvbnM6dH0pfX0pfXZhciBEdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10LiRjcmVhdGVFbGVtZW50LG49dC5fc2VsZi5fY3x8ZTtyZXR1cm4gbigiZGl2Iix7c3RhdGljQ2xhc3M6Imljb24iLGNsYXNzOlsiaWNvbi0tIit0Lm5hbWUsImljb24tLSIrdC5zaXplXX0sW24odC5pY29uLHt0YWc6ImNvbXBvbmVudCJ9KV0sMSl9LFB0PVtdLHp0PW4oImE3NDUiKSxJdD1uLm4oenQpO2Z1bmN0aW9uIGp0KHQpe2lmKEl0KCkodCkpcmV0dXJuIHR9dmFyIEJ0PW4oIjVkNzMiKSwkdD1uLm4oQnQpLEZ0PW4oImM4YmIiKSxWdD1uLm4oRnQpO2Z1bmN0aW9uIEx0KHQsZSl7aWYoVnQoKShPYmplY3QodCkpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSl7dmFyIG49W10scj0hMCxvPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIGEscz0kdCgpKHQpOyEocj0oYT1zLm5leHQoKSkuZG9uZSk7cj0hMClpZihuLnB1c2goYS52YWx1ZSksZSYmbi5sZW5ndGg9PT1lKWJyZWFrfWNhdGNoKGMpe289ITAsaT1jfWZpbmFsbHl7dHJ5e3J8fG51bGw9PXNbInJldHVybiJdfHxzWyJyZXR1cm4iXSgpfWZpbmFsbHl7aWYobyl0aHJvdyBpfX1yZXR1cm4gbn19ZnVuY3Rpb24gSHQoKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9ZnVuY3Rpb24gV3QodCxlKXtyZXR1cm4ganQodCl8fEx0KHQsZSl8fEh0KCl9bigiYWM2YSIpLG4oImNhZGYiKSxuKCJmZmMxIiksbigiN2Y3ZiIpO2Zvcih2YXIgSnQ9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczphLHN0YXRpY0NsYXNzOnMsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZn09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W2Esc10sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5mfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNNSAxNGE1IDUgMCAxMTAgMTAgNSA1IDAgMDEwLTEwem0yLjUgNS45MzhhLjkzNy45MzcgMCAxMDAtMS44NzVINi4yNWEuMzEyLjMxMiAwIDAxLS4zMTMtLjMxM1YxNi41YS45MzcuOTM3IDAgMTAtMS44NzUgMHYxLjI1YzAgLjE3My0uMTQuMzEzLS4zMTIuMzEzSDIuNWEuOTM3LjkzNyAwIDEwMCAxLjg3NWgxLjI1Yy4xNzMgMCAuMzEzLjE0LjMxMy4zMTJ2MS4yNWEuOTM3LjkzNyAwIDEwMS44NzUgMHYtMS4yNWMwLS4xNzMuMTQtLjMxMy4zMTItLjMxM0g3LjV6TTE2IDE5YTMgMyAwIDAwNiAwVjVhMyAzIDAgMDAtNiAwdjE0em0tMiAwVjVhNSA1IDAgMDExMCAwdjE0YTUgNSAwIDAxLTEwIDB6In19KV0pKX19LHF0PXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6YSxzdGF0aWNDbGFzczpzLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOlthLHNdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTE5IDE0YTUgNSAwIDExMCAxMCA1IDUgMCAwMTAtMTB6bTIuNSA1LjkzOGEuOTM3LjkzNyAwIDEwMC0xLjg3NWgtMS4yNWEuMzEyLjMxMiAwIDAxLS4zMTMtLjMxM1YxNi41YS45MzcuOTM3IDAgMTAtMS44NzUgMHYxLjI1YzAgLjE3My0uMTQuMzEzLS4zMTIuMzEzSDE2LjVhLjkzNy45MzcgMCAxMDAgMS44NzVoMS4yNWMuMTczIDAgLjMxMy4xNC4zMTMuMzEydjEuMjVhLjkzNy45MzcgMCAxMDEuODc1IDB2LTEuMjVjMC0uMTczLjE0LS4zMTMuMzEyLS4zMTNoMS4yNXpNMiAxOWEzIDMgMCAwMDYgMFY1YTMgMyAwIDEwLTYgMHYxNHptLTIgMFY1YTUgNSAwIDExMTAgMHYxNGE1IDUgMCAwMS0xMCAweiJ9fSldKSl9fSxLdD17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOmEsc3RhdGljQ2xhc3M6cyxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5mfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbYSxzXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmZ9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xOSAwYTUgNSAwIDExMCAxMCA1IDUgMCAwMTAtMTB6bTIuNSA1LjkzOGEuOTM3LjkzNyAwIDEwMC0xLjg3NWgtMS4yNWEuMzEyLjMxMiAwIDAxLS4zMTMtLjMxM1YyLjVhLjkzNy45MzcgMCAxMC0xLjg3NSAwdjEuMjVjMCAuMTczLS4xNC4zMTMtLjMxMi4zMTNIMTYuNWEuOTM3LjkzNyAwIDEwMCAxLjg3NWgxLjI1Yy4xNzMgMCAuMzEzLjE0LjMxMy4zMTJWNy41YS45MzcuOTM3IDAgMTAxLjg3NSAwVjYuMjVjMC0uMTczLjE0LS4zMTMuMzEyLS4zMTNoMS4yNXpNNSAxNmEzIDMgMCAwMDAgNmgxNGEzIDMgMCAwMDAtNkg1em0wLTJoMTRhNSA1IDAgMDEwIDEwSDVhNSA1IDAgMDEwLTEweiJ9fSldKSl9fSxVdD17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOmEsc3RhdGljQ2xhc3M6cyxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5mfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbYSxzXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmZ9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xOSAxNGE1IDUgMCAxMTAgMTAgNSA1IDAgMDEwLTEwem0yLjUgNS45MzhhLjkzNy45MzcgMCAxMDAtMS44NzVoLTEuMjVhLjMxMi4zMTIgMCAwMS0uMzEzLS4zMTNWMTYuNWEuOTM3LjkzNyAwIDEwLTEuODc1IDB2MS4yNWMwIC4xNzMtLjE0LjMxMy0uMzEyLjMxM0gxNi41YS45MzcuOTM3IDAgMTAwIDEuODc1aDEuMjVjLjE3MyAwIC4zMTMuMTQuMzEzLjMxMnYxLjI1YS45MzcuOTM3IDAgMTAxLjg3NSAwdi0xLjI1YzAtLjE3My4xNC0uMzEzLjMxMi0uMzEzaDEuMjV6TTUgMmEzIDMgMCAxMDAgNmgxNGEzIDMgMCAwMDAtNkg1em0wLTJoMTRhNSA1IDAgMDEwIDEwSDVBNSA1IDAgMTE1IDB6In19KV0pKX19LEd0PXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6YSxzdGF0aWNDbGFzczpzLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOlthLHNdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTE3LjE5NCAxMC45NjJBNi4yNzEgNi4yNzEgMCAwMDEyLjg0NC4yNDhINC4zYTEuMjUgMS4yNSAwIDAwMCAyLjVoMS4wMTNhLjI1LjI1IDAgMDEuMjUuMjVWMjFhLjI1LjI1IDAgMDEtLjI1LjI1SDQuM2ExLjI1IDEuMjUgMCAxMDAgMi41aDkuOTYzYTYuNzQyIDYuNzQyIDAgMDAyLjkzLTEyLjc4NnptLTQuMzUtOC4yMTRhMy43NjIgMy43NjIgMCAwMTAgNy41MjNIOC4zMTNhLjI1LjI1IDAgMDEtLjI1LS4yNVYzYS4yNS4yNSAwIDAxLjI1LS4yNXptMS40MiAxOC41SDguMzEzYS4yNS4yNSAwIDAxLS4yNS0uMjV2LTcuOTc3YS4yNS4yNSAwIDAxLjI1LS4yNUgxNC4yNjRhNC4yMzkgNC4yMzkgMCAwMTAgOC40Nzd6In19KV0pKX19LFh0PXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6YSxzdGF0aWNDbGFzczpzLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOlthLHNdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTIxIDBIM2EzIDMgMCAwMC0zIDN2MThhMyAzIDAgMDAzIDNoMThhMyAzIDAgMDAzLTNWM2EzIDMgMCAwMC0zLTN6bTEgMjFhMSAxIDAgMDEtMSAxSDNhMSAxIDAgMDEtMS0xVjNhMSAxIDAgMDExLTFoMThhMSAxIDAgMDExIDF6In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xMS4yNDkgNC41YTEuMjUxIDEuMjUxIDAgMDAtMS43NS4yNUw3LjM2NSA3LjZsLS40ODItLjQ4MWExLjI1IDEuMjUgMCAwMC0xLjc2NyAxLjc2NGwxLjUgMS41YTEuMjYyIDEuMjYyIDAgMDAxLjg4NC0uMTM0bDMtNGExLjI1IDEuMjUgMCAwMC0uMjUxLTEuNzQ5ek0xMS4yNDkgMTMuNWExLjI1MSAxLjI1MSAwIDAwLTEuNzUuMjVMNy4zNjUgMTYuNmwtLjQ4Mi0uNDgxYTEuMjUgMS4yNSAwIDEwLTEuNzY3IDEuNzY4bDEuNSAxLjVhMS4yNjUgMS4yNjUgMCAwMDEuODg0LS4xMzhsMy00YTEuMjUgMS4yNSAwIDAwLS4yNTEtMS43NDl6TTE4LjUgNy43NDlIMTRhMS4yNSAxLjI1IDAgMDAwIDIuNWg0LjVhMS4yNSAxLjI1IDAgMDAwLTIuNXpNMTguNSAxNS43NDlIMTRhMS4yNSAxLjI1IDAgMDAwIDIuNWg0LjVhMS4yNSAxLjI1IDAgMTAwLTIuNXoifX0pXSkpfX0sWXQ9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczphLHN0YXRpY0NsYXNzOnMsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZn09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W2Esc10sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5mfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNOS4xNDcgMjEuNTUyYTEuMjQ0IDEuMjQ0IDAgMDEtLjg5NS0uMzc4TC44NCAxMy41NjFhMi4yNTcgMi4yNTcgMCAwMTAtMy4xMjVsNy40MTItNy42MTNhMS4yNSAxLjI1IDAgMDExLjc5MSAxLjc0NGwtNi45IDcuMDgzYS41LjUgMCAwMDAgLjdsNi45IDcuMDgyYTEuMjUgMS4yNSAwIDAxLS45IDIuMTIyek0xNC44NTQgMjEuNTUyYTEuMjUgMS4yNSAwIDAxLS45LTIuMTIybDYuOS03LjA4M2EuNS41IDAgMDAwLS43bC02LjktNy4wODJhMS4yNSAxLjI1IDAgMDExLjc5MS0xLjc0NGw3LjQxMSA3LjYxMmEyLjI1NyAyLjI1NyAwIDAxMCAzLjEyNWwtNy40MTIgNy42MTRhMS4yNDQgMS4yNDQgMCAwMS0uODkuMzh6bTYuNTE0LTkuMzczeiJ9fSldKSl9fSxRdD17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOmEsc3RhdGljQ2xhc3M6cyxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5mfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbYSxzXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCA0NzQuNTU3IDQ3NC41NTciLHdpZHRoOiIyNCIsaGVpZ2h0OiIyNCJ9LHUpLC4uLmZ9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0wIDIuMDI4VjQ3Mi41M2g0NzQuNTU3VjIuMDI4SDB6bTQzNS40NzEgNDMxLjQzN0gzOS4xMDhWNDEuMTM2aDM5Ni4zNjN2MzkyLjMyOXoifX0pLG4oInBhdGgiLHthdHRyczp7ZDoiTTEyNC45MTYgMjczLjYyNWMxLjI5NCA0LjUzIDIuMDA2IDE0LjQwOSAyLjAwNiAyOS41NzQgMCAxMy4wMDcuNjY5IDIyLjU2MyAyLjA3MSAyOC42MjQgMS40MDIgNi4wMTggNC4xNDIgMTEuMTc0IDguMjQgMTUuMjcyIDQuMDc3IDQuMDk4IDkuMDgxIDcuMDc1IDE1LjAxMyA4Ljg2NiA1Ljk1NCAxLjc2OSAxNC40OTYgMi42NTMgMjUuNjA1IDIuNjUzaDYuNTc5di0yOS42NmMtOC44NjYgMC0xNC42MjUtLjU2MS0xNy4zLTEuNjgyLTIuNjUzLTEuMTQzLTQuNjM4LTIuNzE4LTUuOTU0LTQuODk3LTEuMjk0LTIuMTU3LTEuOTQxLTUuOTEtMS45NDEtMTEuMzI1IDAtMy44NC0uMzQ1LTEyLjU3Ni0uOTkyLTI2LjI5NS0uNDk2LTguOTczLTEuNTc1LTE2LjEzNS0zLjIzNi0yMS40ODQtMS42MzktNS4zOTMtNC4wMTItOS45NDQtNy4xMTgtMTMuNjk3LTMuMDg1LTMuNzc1LTcuMDU0LTcuMDMyLTExLjkwNy05LjgxNSA1LjUwMS0zLjU4MSA5LjU3Ny02Ljk2NyAxMi4yNzQtMTAuMzExIDIuNjc1LTMuMjU3IDQuODc1LTcuNDQyIDYuNjAxLTEyLjUxMSAxLjcwNC01LjA2OSAyLjc4My0xMS42OTEgMy4yMTQtMTkuODQ1LjczMy0xNC40NTIgMS4xNDMtMjQuMjg5IDEuMTQzLTI5LjQ4NyAwLTUuMDkxLjYyNi04LjcxNSAxLjg1NS0xMC44MDcgMS4yNTEtMi4wNzEgMy4xNDktMy42NDUgNS43MzgtNC43MDIgMi41ODgtMS4wMTQgOC40NzctMS41MzIgMTcuNjIzLTEuNTMydi0yOS41MDloLTYuNTc5Yy0xMC44MDcgMC0xOC43MjMuNzU1LTIzLjcyOCAyLjI0My03LjQyIDIuMjIyLTEzLjA3MiA1LjI0Mi0xNi45NzYgOS4wNi0zLjg4MyAzLjg0LTYuNTU4IDguOTA5LTguMDQ2IDE1LjIyOS0xLjQ2NyA2LjI3Ny0yLjE3OSAxNy40MjktMi4xNzkgMzMuMzQ4IDAgOS44NTgtLjM2NyAxNi42NzQtMS4wMzUgMjAuNjQzLS44MiA1LjI2My0yLjM1MSA5LjY0Mi00LjU1MSAxMy4xNTgtMi4yNDMgMy41MTYtNC44MzIgNS45OTctNy45MTYgNy40ODUtMy4wMiAxLjQ0NS03LjUyOCAyLjM3My0xMy41NjggMi43Mzl2MjkuNjgxYzcuNTkzLjM4OCAxMy4yMDEgMi4wMjggMTYuODkgNC44OTcgMy42NDUgMi44MDYgNi4zODQgNy40ODcgOC4xNzQgMTQuMDg3ek0yMTIuMDg0IDMzMS4zOTJsNi43MyAxNC4zNjZjNy40Mi0yLjY1MyAxMy41NjgtNi4zMiAxOC40LTEwLjkxNSA0LjgzMi00LjU5NSA4LjA4OS05LjgxNSA5LjgxNS0xNS42MTcgMS43NDctNS44NDYgMi42MS0xMy44MDUgMi42MS0yMy44MTR2LTI0Ljc4NWgtMzQuNzUxdjM0LjcyOWgxNi43NjFjLS4xMjkgNi44MzgtMS43MjYgMTIuMjk1LTQuNjU5IDE2LjQ4LTIuOTU2IDQuMDM0LTcuOTM5IDcuMjY5LTE0LjkwNiA5LjU1NnpNMjE0Ljg4OCAxNzQuMDEyaDM0Ljc1MXYzNC43NzJoLTM0Ljc1MXpNMzExLjE4IDM1Ni4zNDljNy40NjQtMi4yNDMgMTMuMjAxLTUuMjIgMTcuMTA2LTkuMDgxIDMuODgzLTMuODE4IDYuNTM2LTguOTMgNy45MzgtMTUuMjcyIDEuNDAyLTYuMzYzIDIuMTc5LTE3LjUxNSAyLjE3OS0zMy40OTkgMC05Ljc1LjM2Ny0xNi42MDkgMS4wMTQtMjAuNTU3Ljg4NC01LjI2MyAyLjQzOC05LjY0MiA0LjY1OS0xMy4xMzcgMi4xNzktMy40OTQgNC43NjctNi4wMTggNy44MDktNy40ODUgMy4wNDItMS40NjcgNy41NS0yLjM3MyAxMy41NjgtMi42OTZoLS4wNDN2LTI5LjY2Yy03LjYxNS0uNDUzLTEzLjE4LTIuMDcxLTE2LjkzMy00LjkxOC0zLjY2Ny0yLjgyNi02LjQwNy03LjU3MS04LjI2Mi0xNC4xMDctMS4yNTEtNC42MTYtMS44NTUtMTQuNDUyLTEuODU1LTI5LjUwOSAwLTEzLjAyOS0uNzEyLTIyLjU0MS0yLjE1Ny0yOC41Ni0xLjQyNC02LjEwNS00LjE2My0xMS4xOTUtOC4xOTctMTUuMzU4LTQuMDU1LTQuMTQyLTkuMDM4LTcuMDU0LTE0Ljk3LTguODAxLTUuOTc1LTEuNzI2LTE0LjUxNy0yLjYxLTI1LjYyNi0yLjYxaC02LjU1N3YyOS40NjZjOS4zNCAwIDE1LjMzNy41NjEgMTcuOTkgMS42ODMgMi42OTYgMS4xIDQuNTUxIDIuNjc1IDUuNTY1IDQuNzI0IDEuMDU3IDIuMDQ5IDEuNTUzIDYuMTY5IDEuNjM5IDEyLjM2LjQ1MyAxOS42MDggMS4xODYgMzIuMjkxIDIuMDcxIDM4LjA3MiAxLjM4MSA4LjM2OSA0LjA1NSAxNS4yOTQgNy44NzMgMjAuNjg2IDIuODI2IDMuODQgNy4yNDggNy42NTggMTMuMzUyIDExLjYyNy00LjcwMiAyLjY5Ni04LjUyIDUuODQ2LTExLjU0IDkuNDQ4LTMuMDQxIDMuNTU5LTUuNDM2IDcuOTYtNy4yMDUgMTMuMDcyLTEuODEyIDUuMTc3LTIuOTU1IDEyLjA4LTMuMzIyIDIwLjYtLjY2OSAxNC4xNzItMS4xIDIzLjgxNC0xLjEgMjguODE5LS4wODYgNS4wMjYtLjY2OSA4LjU4NS0xLjk4NCAxMC42OTktMS4zMTYgMi4xMzYtMy4yNzkgMy43MS01Ljk3NSA0Ljg1My0yLjcxOCAxLjEyMi04LjUyIDEuNjM5LTE3LjM2NCAxLjYzOXYyOS42Nmg2LjYyMmMxMC43NDEuMDY0IDE4LjY3OS0uNzEyIDIzLjcwNS0yLjE1OHoifX0pXSkpfX0sWnQ9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczphLHN0YXRpY0NsYXNzOnMsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZn09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W2Esc10sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5mfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMiAxOWEzIDMgMCAwMDMgM2gxNGEzIDMgMCAwMDMtM1Y1YTMgMyAwIDAwLTMtM0g1YTMgMyAwIDAwLTMgM3YxNHptLTIgMFY1YTUgNSAwIDAxNS01aDE0YTUgNSAwIDAxNSA1djE0YTUgNSAwIDAxLTUgNUg1YTUgNSAwIDAxLTUtNXptMTItOWExIDEgMCAwMTEgMXYyYTEgMSAwIDAxLTIgMHYtMmExIDEgMCAwMTEtMXptMCA2YTEgMSAwIDAxMSAxdjNhMSAxIDAgMDEtMiAwdi0zYTEgMSAwIDAxMS0xem0wLTEzYTEgMSAwIDAxMSAxdjNhMSAxIDAgMDEtMiAwVjRhMSAxIDAgMDExLTF6In19KV0pKX19LHRlPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6YSxzdGF0aWNDbGFzczpzLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOlthLHNdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTEyLjY0MSAyMS45MzFhNy4wMSA3LjAxIDAgMDAxLjE0NiAxLjc0QTUgNSAwIDAxNyAxOVY1YTUgNSAwIDExMTAgMHY3LjI5YTYuOTcyIDYuOTcyIDAgMDAtMiAuOTY1VjVhMyAzIDAgMDAtNiAwdjE0YTMgMyAwIDAwMy42NDEgMi45MzF6TTE5IDE0YTUgNSAwIDExMCAxMCA1IDUgMCAwMTAtMTB6bS0yLjUgNS45MzhoNWEuOTM3LjkzNyAwIDEwMC0xLjg3NWgtNWEuOTM3LjkzNyAwIDEwMCAxLjg3NXoifX0pXSkpfX0sZWU9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczphLHN0YXRpY0NsYXNzOnMsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZn09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W2Esc10sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5mfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMTMuMjU1IDE1YTYuOTcyIDYuOTcyIDAgMDAtLjk2NSAySDVBNSA1IDAgMDE1IDdoMTRhNSA1IDAgMDE0LjY3MSA2Ljc4NyA3LjAxIDcuMDEgMCAwMC0xLjc0LTEuMTQ2QTMgMyAwIDAwMTkgOUg1YTMgMyAwIDAwMCA2aDguMjU1ek0xOSAxNGE1IDUgMCAxMTAgMTAgNSA1IDAgMDEwLTEwem0tMi41IDUuOTM4aDVhLjkzNy45MzcgMCAxMDAtMS44NzVoLTVhLjkzNy45MzcgMCAxMDAgMS44NzV6In19KV0pKX19LG5lPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6YSxzdGF0aWNDbGFzczpzLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOlthLHNdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTE5IDE0YTUgNSAwIDExMCAxMCA1IDUgMCAwMTAtMTB6bS0yLjUgNS45MzhoNWEuOTM3LjkzNyAwIDEwMC0xLjg3NWgtNWEuOTM3LjkzNyAwIDEwMCAxLjg3NXpNMTIuMjkgMTdIOXY1aDMuNjc0Yy4zNTYuNzUuODQxIDEuNDI2IDEuNDI3IDJINWE1IDUgMCAwMS01LTVWNWE1IDUgMCAwMTUtNWgxNGE1IDUgMCAwMTUgNXYyLjgyM2EuODQzLjg0MyAwIDAxMCAuMzU0VjE0LjFhNy4wMTggNy4wMTggMCAwMC0yLTEuNDI3VjloLTV2My4yOWE2Ljk3MiA2Ljk3MiAwIDAwLTIgLjk2NVY5SDl2Nmg0LjI1NWE2Ljk3MiA2Ljk3MiAwIDAwLS45NjUgMnpNMTcgN2g1VjVhMyAzIDAgMDAtMy0zaC0ydjV6bS0yIDBWMkg5djVoNnpNNyAySDVhMyAzIDAgMDAtMyAzdjJoNVYyek0yIDl2Nmg1VjlIMnptMCA4djJhMyAzIDAgMDAzIDNoMnYtNUgyeiJ9fSldKSl9fSxyZT17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOmEsc3RhdGljQ2xhc3M6cyxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5mfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbYSxzXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmZ9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xMS45OTkuNUM1LjY0OS41LjUgNS42NDguNSAxMmMwIDUuMDgyIDMuMjk0IDkuMzkyIDcuODY1IDEwLjkxNC41NzQuMTAzLjc1Ni0uMjM2Ljc1Ni0uNTQxIDAtLjI3NC4wMDYtMS4wMzcgMC0xLjk5Ny0zLjE5OC42OTQtMy44NjEtMS41MTUtMy44NjEtMS41MTUtLjUyMy0xLjMyOS0xLjI3NS0xLjY4Mi0xLjI3NS0xLjY4Mi0xLjA0NS0uNzE0LjA3Ny0uNjk5LjA3Ny0uNjk5IDEuMTUzLjA4IDEuNzYyIDEuMTg0IDEuNzYyIDEuMTg0IDEuMDI2IDEuNzU4IDIuNjkxIDEuMjUgMy4zNDYuOTU2LjEwNi0uNzQyLjQwMi0xLjI1MS43MzEtMS41MzYtMi41NTQtLjI5Mi01LjIzOC0xLjI3Ny01LjIzOC01LjY4NiAwLTEuMjU1LjQ0OC0yLjI4MSAxLjE4NC0zLjA4Ni0uMTE4LS4yODktLjUxNC0xLjQ2LjExMi0zLjA0MyAwIDAgLjk2Ny0uMzA5IDMuMTYyIDEuMThhMTEuMDExIDExLjAxMSAwIDAxMi44OC0uMzg4Yy45NzYuMDA1IDEuOTYuMTMyIDIuODguMzg4IDIuMTk1LTEuNDg4IDMuMTU5LTEuMTggMy4xNTktMS4xOC42MjcgMS41ODMuMjMyIDIuNzU0LjExNCAzLjA0My43MzYuODA1IDEuMTgzIDEuODMxIDEuMTgzIDMuMDg2IDAgNC40Mi0yLjY4OSA1LjM5MS01LjI1MSA1LjY3NC40MTIuMzU3Ljc4NyAxLjA0Ny43ODcgMi4xMnYzLjE4NGMwIC4zMDguMTg2LjY0Ny43Ny41MzZDMjAuMjA5IDIxLjM4OSAyMy41IDE3LjA4IDIzLjUgMTIgMjMuNSA1LjY0OCAxOC4zNTIuNSAxMS45OTkuNXoifX0pXSkpfX0sb2U9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczphLHN0YXRpY0NsYXNzOnMsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZn09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W2Esc10sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5mfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNNSAxM2ExIDEgMCAwMTAtMmgxNGExIDEgMCAwMTAgMkg1eiJ9fSldKSl9fSxpZT17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOmEsc3RhdGljQ2xhc3M6cyxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5mfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbYSxzXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmZ9LGkuY29uY2F0KFtuKCJjaXJjbGUiLHthdHRyczp7Y3g6IjkuNzUiLGN5OiI2LjI0NyIscjoiMi4yNSJ9fSksbigicGF0aCIse2F0dHJzOntkOiJNMTYuOTE2IDguNzFBMS4wMjcgMS4wMjcgMCAwMDE2IDguMTU4YTEuMDA3IDEuMDA3IDAgMDAtLjg5Mi41ODZsLTEuNTU4IDMuNDM0YS4yNDkuMjQ5IDAgMDEtLjQyMi4wNTNsLS44Mi0xLjAyNGExIDEgMCAwMC0uODEzLS4zNzYgMS4wMDcgMS4wMDcgMCAwMC0uNzg3LjQyNkw3LjU5IDE1LjcxYS41LjUgMCAwMC40MS43OWgxMmEuNS41IDAgMDAuNDI1LS4yMzcuNS41IDAgMDAuMDIyLS40ODZ6In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMiAwSDUuNWEyIDIgMCAwMC0yIDJ2MTYuNWEyIDIgMCAwMDIgMkgyMmEyIDIgMCAwMDItMlYyYTIgMiAwIDAwLTItMnptLS4xNDUgMTguMzU0YS41LjUgMCAwMS0uMzU0LjE0Nkg2YS41LjUgMCAwMS0uNS0uNVYyLjVBLjUuNSAwIDAxNiAyaDE1LjVhLjUuNSAwIDAxLjUuNVYxOGEuNS41IDAgMDEtLjE0NS4zNTF6In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0xOS41IDIyaC0xN2EuNS41IDAgMDEtLjUtLjV2LTE3YTEgMSAwIDAwLTIgMFYyMmEyIDIgMCAwMDIgMmgxNy41YTEgMSAwIDAwMC0yeiJ9fSldKSl9fSxhZT17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOmEsc3RhdGljQ2xhc3M6cyxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5mfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbYSxzXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmZ9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMi41LjI0OGgtNy42MzdhMS4yNSAxLjI1IDAgMDAwIDIuNWgxLjA4NmEuMjUuMjUgMCAwMS4yMTEuMzg0TDQuNzggMjEuMDE3YS41LjUgMCAwMS0uNDIyLjIzMUgxLjVhMS4yNSAxLjI1IDAgMDAwIDIuNWg3LjYzN2ExLjI1IDEuMjUgMCAwMDAtMi41SDguMDUxYS4yNS4yNSAwIDAxLS4yMTEtLjM4NEwxOS4yMiAyLjk4YS41LjUgMCAwMS40MjItLjIzMkgyMi41YTEuMjUgMS4yNSAwIDAwMC0yLjV6In19KV0pKX19LHNlPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6YSxzdGF0aWNDbGFzczpzLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOlthLHNdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTEyLjQwNiAxNC45MDVhMSAxIDAgMDAtLjU0MyAxLjMwNyAxIDEgMCAwMS0uMjE3IDEuMDlsLTIuODI4IDIuODI5YTIgMiAwIDAxLTIuODI4IDBMMy44NjggMTguMDFhMiAyIDAgMDEwLTIuODI5TDYuNyAxMi4zNTNhMS4wMTMgMS4wMTMgMCAwMTEuMDkxLS4yMTcgMSAxIDAgMDAuNzYzLTEuODQ5IDMuMDM0IDMuMDM0IDAgMDAtMy4yNjguNjUybC0yLjgzMiAyLjgyOGE0LjAwNiA0LjAwNiAwIDAwMCA1LjY1N2wyLjEyMiAyLjEyMWE0IDQgMCAwMDUuNjU2IDBsMi44MjktMi44MjhhMy4wMDggMy4wMDggMCAwMC42NTEtMy4yNyAxIDEgMCAwMC0xLjMwNi0uNTQyeiJ9fSksbigicGF0aCIse2F0dHJzOntkOiJNNy43NTcgMTYuMjQxYTEuMDExIDEuMDExIDAgMDAxLjQxNCAwbDcuNzc5LTcuNzc4YTEgMSAwIDAwLTEuNDE0LTEuNDE0bC03Ljc3OSA3Ljc3OGExIDEgMCAwMDAgMS40MTR6In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMS41NDYgNC41NzRsLTIuMTIxLTIuMTIxYTQuMDA2IDQuMDA2IDAgMDAtNS42NTcgMGwtMi44MjkgMi44MjhhMy4wMDYgMy4wMDYgMCAwMC0uNjUxIDMuMjY5IDEgMSAwIDEwMS44NDktLjc2NCAxIDEgMCAwMS4yMTctMS4wODZsMi44MjgtMi44MjhhMiAyIDAgMDEyLjgyOSAwbDIuMTIxIDIuMTIxYTIgMiAwIDAxMCAyLjgyOUwxNy4zIDExLjY0NWExLjAxNSAxLjAxNSAwIDAxLTEuMDkxLjIxNyAxIDEgMCAwMC0uNzY1IDEuODQ5IDMuMDI2IDMuMDI2IDAgMDAzLjI3LS42NTFsMi44MjgtMi44MjhhNC4wMDcgNC4wMDcgMCAwMC4wMDQtNS42NTh6In19KV0pKX19LGNlPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6YSxzdGF0aWNDbGFzczpzLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOlthLHNdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTEyIC41QTExLjYzNCAxMS42MzQgMCAwMC4yNjIgMTIgMTEuNjM0IDExLjYzNCAwIDAwMTIgMjMuNWExMS44MzYgMTEuODM2IDAgMDA2LjYyNC0yIDEuMjUgMS4yNSAwIDEwLTEuMzkzLTIuMDc2QTkuMzQgOS4zNCAwIDAxMTIgMjFhOS4xMzIgOS4xMzIgMCAwMS05LjIzOC05QTkuMTMyIDkuMTMyIDAgMDExMiAzYTkuMTMyIDkuMTMyIDAgMDE5LjIzOCA5di44OTFhMS45NDMgMS45NDMgMCAwMS0zLjg4NCAwVjEyQTUuMzU1IDUuMzU1IDAgMTAxMiAxNy4yNjFhNS4zNzYgNS4zNzYgMCAwMDMuODYxLTEuNjM0IDQuNDM4IDQuNDM4IDAgMDA3Ljg3Ny0yLjczNlYxMkExMS42MzQgMTEuNjM0IDAgMDAxMiAuNXptMCAxNC4yNjFBMi43NjMgMi43NjMgMCAxMTE0Ljg1NCAxMiAyLjgxMiAyLjgxMiAwIDAxMTIgMTQuNzYxeiJ9fSldKSl9fSxsZT17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOmEsc3RhdGljQ2xhc3M6cyxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5mfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbYSxzXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmZ9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik03Ljc1IDQuNWgxNWExIDEgMCAwMDAtMmgtMTVhMSAxIDAgMDAwIDJ6TTIyLjc1IDExaC0xNWExIDEgMCAxMDAgMmgxNWExIDEgMCAwMDAtMnpNMjIuNzUgMTkuNWgtMTVhMSAxIDAgMDAwIDJoMTVhMSAxIDAgMDAwLTJ6TTIuMjEyIDE3LjI0OGEyIDIgMCAwMC0xLjkzMyAxLjQ4NC43NS43NSAwIDEwMS40NS4zODYuNS41IDAgMTEuNDgzLjYzLjc1Ljc1IDAgMTAwIDEuNS41LjUgMCAxMS0uNDgyLjYzNS43NS43NSAwIDEwLTEuNDQ1LjQgMiAyIDAgMTAzLjU4OS0xLjY0OC4yNTEuMjUxIDAgMDEwLS4yNzggMiAyIDAgMDAtMS42NjItMy4xMTF6TTQuMjUgMTAuNzQ4YTIgMiAwIDAwLTQgMCAuNzUuNzUgMCAwMDEuNSAwIC41LjUgMCAwMTEgMCAxLjAzMSAxLjAzMSAwIDAxLS4yMjcuNjQ1TC40MTQgMTQuMDI5QS43NS43NSAwIDAwMSAxNS4yNDhoMi41YS43NS43NSAwIDAwMC0xLjVoLS40MTlhLjI0OS4yNDkgMCAwMS0uMTk1LS40MDZMMy43IDEyLjMzYTIuNTQ0IDIuNTQ0IDAgMDAuNTUtMS41ODJ6TTQgNS4yNDhoLS4yNUEuMjUuMjUgMCAwMTMuNSA1VjEuNjIzQTEuMzc3IDEuMzc3IDAgMDAyLjEyNS4yNDhIMS41YS43NS43NSAwIDAwMCAxLjVoLjI1QS4yNS4yNSAwIDAxMiAydjNhLjI1LjI1IDAgMDEtLjI1LjI1SDEuNWEuNzUuNzUgMCAwMDAgMS41SDRhLjc1Ljc1IDAgMDAwLTEuNXoifX0pXSkpfX0sdWU9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczphLHN0YXRpY0NsYXNzOnMsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZn09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W2Esc10sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5mfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMjIuNS4yNDhINy4yMjhhNi45NzcgNi45NzcgMCAxMDAgMTMuOTU0aDIuMzE4YS4yNS4yNSAwIDAxLjI1LjI1VjIyLjVhMS4yNSAxLjI1IDAgMDAyLjUgMFYzYS4yNS4yNSAwIDAxLjI1LS4yNWgzLjY4MmEuMjUuMjUgMCAwMS4yNS4yNXYxOS41YTEuMjUgMS4yNSAwIDAwMi41IDBWM2EuMjQ5LjI0OSAwIDAxLjI1LS4yNUgyMi41YTEuMjUgMS4yNSAwIDAwMC0yLjV6TTkuOCAxMS40NTJhLjI1LjI1IDAgMDEtLjI1LjI1SDcuMjI4YTQuNDc3IDQuNDc3IDAgMTEwLTguOTU0aDIuMzE4QS4yNS4yNSAwIDAxOS44IDN6In19KV0pKX19LGZlPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6YSxzdGF0aWNDbGFzczpzLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOlthLHNdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTE4LjU1OSAzLjkzMmE0Ljk0MiA0Ljk0MiAwIDEwMCA5Ljg4MyA0LjYwOSA0LjYwOSAwIDAwMS4xMTUtLjE0MS4yNS4yNSAwIDAxLjI3Ni4zNjggNi44MyA2LjgzIDAgMDEtNS44NzggMy41MjMgMS4yNSAxLjI1IDAgMDAwIDIuNSA5LjcxIDkuNzEgMCAwMDkuNDI4LTkuOTVWOC44NzNhNC45NDcgNC45NDcgMCAwMC00Ljk0MS00Ljk0MXpNNi4yMzYgMy45MzJhNC45NDIgNC45NDIgMCAwMDAgOS44ODMgNC42IDQuNiAwIDAwMS4xMTUtLjE0MS4yNS4yNSAwIDAxLjI3Ny4zNjggNi44MyA2LjgzIDAgMDEtNS44NzggMy41MjMgMS4yNSAxLjI1IDAgMDAwIDIuNSA5LjcxMSA5LjcxMSAwIDAwOS40MjgtOS45NVY4Ljg3M2E0Ljk0NyA0Ljk0NyAwIDAwLTQuOTQyLTQuOTQxeiJ9fSldKSl9fSxwZT17ZnVuY3Rpb25hbDohMCxyZW5kZXIodCxlKXtjb25zdHtfYzpuLF92OnIsZGF0YTpvLGNoaWxkcmVuOmk9W119PWUse2NsYXNzOmEsc3RhdGljQ2xhc3M6cyxzdHlsZTpjLHN0YXRpY1N0eWxlOmwsYXR0cnM6dT17fSwuLi5mfT1vO3JldHVybiBuKCJzdmciLHtjbGFzczpbYSxzXSxzdHlsZTpbYyxsXSxhdHRyczpPYmplY3QuYXNzaWduKHt4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LHUpLC4uLmZ9LGkuY29uY2F0KFtuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMi42MDguMTYxYS41LjUgMCAwMC0uNTQ1LjEwOEwxOS40NzIgMi44NmEuMjUuMjUgMCAwMS0uMjkyLjA0NSAxMi41MzcgMTIuNTM3IDAgMDAtMTIuOTY2Ljg2NUExMi4yNTkgMTIuMjU5IDAgMDA2LjEgMjMuNjMyYTEuMjUgMS4yNSAwIDAwMS40NzYtMi4wMTggOS43NTkgOS43NTkgMCAwMS4wOTEtMTUuODA5IDEwIDEwIDAgMDE5LjQ2Ni0xLjEuMjUuMjUgMCAwMS4wODQuNDA5bC0xLjg1IDEuODVhLjUuNSAwIDAwLjM1NC44NTNoNi43YS41LjUgMCAwMC41LS41Vi42MjNhLjUuNSAwIDAwLS4zMTMtLjQ2MnoifX0pXSkpfX0saGU9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczphLHN0YXRpY0NsYXNzOnMsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZn09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W2Esc10sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5mfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOntkOiJNMjAuNDg1IDMuNTExQTEyLjAxIDEyLjAxIDAgMTAyNCAxMmExMi4wMDkgMTIuMDA5IDAgMDAtMy41MTUtOC40ODl6bS0xLjc2NyAxNS4yMUE5LjUxIDkuNTEgMCAxMTIxLjUgMTJhOS41MDggOS41MDggMCAwMS0yLjc4MiA2LjcyMXoifX0pLG4oInBhdGgiLHthdHRyczp7ZDoiTTE2Ljk4NyA3LjAxYTEuMjc1IDEuMjc1IDAgMDAtMS44IDBsLTMuMTc3IDMuMTc3TDguODI5IDcuMDFhMS4yNzcgMS4yNzcgMCAwMC0xLjgwNSAxLjgwNmwzLjE3NiAzLjE3Ny0zLjE3NiAzLjE3OGExLjI3NyAxLjI3NyAwIDAwMS44MDUgMS44MDZsMy4xNzYtMy4xNzcgMy4xNzcgMy4xNzhhMS4yNzcgMS4yNzcgMCAwMDEuOC0xLjgwNmwtMy4xNzYtMy4xNzggMy4xNzYtMy4xNzdhMS4yNzggMS4yNzggMCAwMC4wMDUtMS44MDd6In19KV0pKX19LGRlPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6YSxzdGF0aWNDbGFzczpzLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOlthLHNdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTIzLjc1IDEyLjk1MkExLjI1IDEuMjUgMCAwMDIyLjUgMTEuN2gtOC45MzZhLjQ5Mi40OTIgMCAwMS0uMjgyLS4wOWMtLjcyMi0uNTEzLTEuNDgyLS45ODEtMi4yMTgtMS40MzItMi44LTEuNzE1LTQuNS0yLjktNC41LTQuODYzIDAtMi4yMzUgMi4yMDctMi41NjkgMy41MjMtMi41NjlhNC41NCA0LjU0IDAgMDEzLjA4MS43NjQgMi42NjIgMi42NjIgMCAwMS40NDcgMS45OXYuM2ExLjI1IDEuMjUgMCAxMDIuNSAwdi0uMjY4YTQuODg3IDQuODg3IDAgMDAtMS4xNjUtMy43NzdDMTMuOTQ5Ljc0MSAxMi4zNTkuMjQ4IDEwLjA5MS4yNDhjLTMuNjU4IDAtNi4wMjMgMS45ODktNi4wMjMgNS4wNjkgMCAyLjc3MyAxLjg5MiA0LjUxMiA0IDUuOTI3YS4yNS4yNSAwIDAxLS4xMzkuNDU4SDEuNWExLjI1IDEuMjUgMCAwMDAgMi41aDEwLjk3N2EuMjUxLjI1MSAwIDAxLjE1OS4wNTggNC4zMzkgNC4zMzkgMCAwMTEuOTMyIDMuNDY2YzAgMy4yNjgtMy40MjYgMy41MjItNC40NzcgMy41MjItMS44MTQgMC0zLjEzOS0uNDA1LTMuODM0LTEuMTczYTMuMzk0IDMuMzk0IDAgMDEtLjY1LTIuNyAxLjI1IDEuMjUgMCAwMC0yLjQ4OC0uMjQ2QTUuNzYgNS43NiAwIDAwNC40IDIxLjc1M2MxLjIgMS4zMjQgMy4xMTQgMiA1LjY4OCAyIDQuMTc0IDAgNi45NzctMi40MiA2Ljk3Ny02LjAyMmE2LjA1OSA2LjA1OSAwIDAwLS44NDktMy4xNDcuMjUuMjUgMCAwMS4yMTYtLjM3N0gyMi41YTEuMjUgMS4yNSAwIDAwMS4yNS0xLjI1NXoifX0pXSkpfX0sdmU9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczphLHN0YXRpY0NsYXNzOnMsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZn09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W2Esc10sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5mfSxpLmNvbmNhdChbbigicGF0aCIse2F0dHJzOnsiZmlsbC1ydWxlIjoiZXZlbm9kZCIsZDoiTTE3IDE3djVoMmEzIDMgMCAwMDMtM3YtMmgtNXptLTIgMEg5djVoNnYtNXptMi0yaDVWOWgtNXY2em0tMiAwVjlIOXY2aDZ6bTItOGg1VjVhMyAzIDAgMDAtMy0zaC0ydjV6bS0yIDBWMkg5djVoNnptOSA5LjE3N1YxOWE1IDUgMCAwMS01IDVINWE1IDUgMCAwMS01LTVWNWE1IDUgMCAwMTUtNWgxNGE1IDUgMCAwMTUgNXYyLjgyM2EuODQzLjg0MyAwIDAxMCAuMzU0djcuNjQ2YS44NDMuODQzIDAgMDEwIC4zNTR6TTcgMkg1YTMgMyAwIDAwLTMgM3YyaDVWMnpNMiA5djZoNVY5SDJ6bTAgOHYyYTMgMyAwIDAwMyAzaDJ2LTVIMnoifX0pXSkpfX0sbWU9e2Z1bmN0aW9uYWw6ITAscmVuZGVyKHQsZSl7Y29uc3R7X2M6bixfdjpyLGRhdGE6byxjaGlsZHJlbjppPVtdfT1lLHtjbGFzczphLHN0YXRpY0NsYXNzOnMsc3R5bGU6YyxzdGF0aWNTdHlsZTpsLGF0dHJzOnU9e30sLi4uZn09bztyZXR1cm4gbigic3ZnIix7Y2xhc3M6W2Esc10sc3R5bGU6W2MsbF0sYXR0cnM6T2JqZWN0LmFzc2lnbih7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgMjQgMjQifSx1KSwuLi5mfSxpLmNvbmNhdChbbigiY2lyY2xlIix7YXR0cnM6e2N4OiIyLjUiLGN5OiIzLjk5OCIscjoiMi41In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik04LjUgNUgyM2ExIDEgMCAwMDAtMkg4LjVhMSAxIDAgMDAwIDJ6In19KSxuKCJjaXJjbGUiLHthdHRyczp7Y3g6IjIuNSIsY3k6IjExLjk5OCIscjoiMi41In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMyAxMUg4LjVhMSAxIDAgMDAwIDJIMjNhMSAxIDAgMDAwLTJ6In19KSxuKCJjaXJjbGUiLHthdHRyczp7Y3g6IjIuNSIsY3k6IjE5Ljk5OCIscjoiMi41In19KSxuKCJwYXRoIix7YXR0cnM6e2Q6Ik0yMyAxOUg4LjVhMSAxIDAgMDAwIDJIMjNhMSAxIDAgMDAwLTJ6In19KV0pKX19LGdlPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6YSxzdGF0aWNDbGFzczpzLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOlthLHNdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTIyLjUgMjEuMjQ4aC0yMWExLjI1IDEuMjUgMCAwMDAgMi41aDIxYTEuMjUgMS4yNSAwIDAwMC0yLjV6TTEuOTc4IDIuNzQ4aDEuMzYzYS4yNS4yNSAwIDAxLjI1LjI1djguNTIzYTguNDA5IDguNDA5IDAgMDAxNi44MTggMFYzYS4yNS4yNSAwIDAxLjI1LS4yNWgxLjM2M2ExLjI1IDEuMjUgMCAwMDAtMi41SDE2LjNhMS4yNSAxLjI1IDAgMDAwIDIuNWgxLjM2M2EuMjUuMjUgMCAwMS4yNS4yNXY4LjUyM2E1LjkwOSA1LjkwOSAwIDAxLTExLjgxOCAwVjNhLjI1LjI1IDAgMDEuMjUtLjI1SDcuN2ExLjI1IDEuMjUgMCAxMDAtMi41SDEuOTc4YTEuMjUgMS4yNSAwIDAwMCAyLjV6In19KV0pKX19LHllPXtmdW5jdGlvbmFsOiEwLHJlbmRlcih0LGUpe2NvbnN0e19jOm4sX3Y6cixkYXRhOm8sY2hpbGRyZW46aT1bXX09ZSx7Y2xhc3M6YSxzdGF0aWNDbGFzczpzLHN0eWxlOmMsc3RhdGljU3R5bGU6bCxhdHRyczp1PXt9LC4uLmZ9PW87cmV0dXJuIG4oInN2ZyIse2NsYXNzOlthLHNdLHN0eWxlOltjLGxdLGF0dHJzOk9iamVjdC5hc3NpZ24oe3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDI0IDI0In0sdSksLi4uZn0saS5jb25jYXQoW24oInBhdGgiLHthdHRyczp7ZDoiTTE3Ljc4NiAzLjc3YTEyLjU0MiAxMi41NDIgMCAwMC0xMi45NjUtLjg2NS4yNDkuMjQ5IDAgMDEtLjI5Mi0uMDQ1TDEuOTM3LjI2OUEuNTA3LjUwNyAwIDAwMS4zOTIuMTZhLjUuNSAwIDAwLS4zMDguNDYydjYuN2EuNS41IDAgMDAuNS41aDYuN2EuNS41IDAgMDAuMzU0LS44NTRMNi43ODMgNS4xMTVhLjI1My4yNTMgMCAwMS0uMDY4LS4yMjguMjQ5LjI0OSAwIDAxLjE1Mi0uMTgxIDEwIDEwIDAgMDE5LjQ2NiAxLjEgOS43NTkgOS43NTkgMCAwMS4wOTQgMTUuODA5IDEuMjUgMS4yNSAwIDAwMS40NzMgMi4wMTYgMTIuMTIyIDEyLjEyMiAwIDAwNS4wMTMtOS45NjEgMTIuMTI1IDEyLjEyNSAwIDAwLTUuMTI3LTkuOXoifX0pXSkpfX0sd2U9e2FkZF9jb2xfYWZ0ZXI6SnQsYWRkX2NvbF9iZWZvcmU6cXQsYWRkX3Jvd19hZnRlcjpLdCxhZGRfcm93X2JlZm9yZTpVdCxib2xkOkd0LGNoZWNrbGlzdDpYdCxjb2RlOll0LGNvZGVfYmxvY2s6UXQsY29tYmluZV9jZWxsczpadCxkZWxldGVfY29sOnRlLGRlbGV0ZV9yb3c6ZWUsZGVsZXRlX3RhYmxlOm5lLGdpdGh1YjpyZSxocjpvZSxpbWFnZTppZSxpdGFsaWM6YWUsbGluazpzZSxtZW50aW9uOmNlLG9sOmxlLHBhcmFncmFwaDp1ZSxxdW90ZTpmZSxyZWRvOnBlLHJlbW92ZTpoZSxzdHJpa2U6ZGUsdGFibGU6dmUsdWw6bWUsdW5kZXJsaW5lOmdlLHVuZG86eWV9LGJlPXt9LGtlPTAsU2U9T2JqZWN0LmVudHJpZXMod2UpO2tlPFNlLmxlbmd0aDtrZSsrKXt2YXIgeGU9V3QoU2Vba2VdLDIpLENlPXhlWzBdLE1lPXhlWzFdO2JlWyJpY29uXyIrQ2VdPU1lfXZhciBPZT17Y29tcG9uZW50czpiZSxwcm9wczp7bmFtZTp7fSxzaXplOntkZWZhdWx0OiJub3JtYWwifSxtb2RpZmllcjp7ZGVmYXVsdDpudWxsfSxmaXhBbGlnbjp7ZGVmYXVsdDohMH19LGNvbXB1dGVkOntpY29uOmZ1bmN0aW9uKCl7cmV0dXJuImljb25fIit0aGlzLm5hbWV9fX0sQWU9T2U7bigiMWFmYSIpO2Z1bmN0aW9uIFRlKHQsZSxuLHIsbyxpLGEscyl7dmFyIGMsbD0iZnVuY3Rpb24iPT09dHlwZW9mIHQ/dC5vcHRpb25zOnQ7aWYoZSYmKGwucmVuZGVyPWUsbC5zdGF0aWNSZW5kZXJGbnM9bixsLl9jb21waWxlZD0hMCksciYmKGwuZnVuY3Rpb25hbD0hMCksaSYmKGwuX3Njb3BlSWQ9ImRhdGEtdi0iK2kpLGE/KGM9ZnVuY3Rpb24odCl7dD10fHx0aGlzLiR2bm9kZSYmdGhpcy4kdm5vZGUuc3NyQ29udGV4dHx8dGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LiR2bm9kZSYmdGhpcy5wYXJlbnQuJHZub2RlLnNzckNvbnRleHQsdHx8InVuZGVmaW5lZCI9PT10eXBlb2YgX19WVUVfU1NSX0NPTlRFWFRfX3x8KHQ9X19WVUVfU1NSX0NPTlRFWFRfXyksbyYmby5jYWxsKHRoaXMsdCksdCYmdC5fcmVnaXN0ZXJlZENvbXBvbmVudHMmJnQuX3JlZ2lzdGVyZWRDb21wb25lbnRzLmFkZChhKX0sbC5fc3NyUmVnaXN0ZXI9Yyk6byYmKGM9cz9mdW5jdGlvbigpe28uY2FsbCh0aGlzLHRoaXMuJHJvb3QuJG9wdGlvbnMuc2hhZG93Um9vdCl9Om8pLGMpaWYobC5mdW5jdGlvbmFsKXtsLl9pbmplY3RTdHlsZXM9Yzt2YXIgdT1sLnJlbmRlcjtsLnJlbmRlcj1mdW5jdGlvbih0LGUpe3JldHVybiBjLmNhbGwoZSksdSh0LGUpfX1lbHNle3ZhciBmPWwuYmVmb3JlQ3JlYXRlO2wuYmVmb3JlQ3JlYXRlPWY/W10uY29uY2F0KGYsYyk6W2NdfXJldHVybntleHBvcnRzOnQsb3B0aW9uczpsfX12YXIgTmU9VGUoQWUsRHQsUHQsITEsbnVsbCwiZTU5Zjc4MzIiLG51bGwpLEVlPU5lLmV4cG9ydHMsX2U9KG4oIjNjZTQiKSxuKCJmYzg4IikpLFJlPShuKCJiOTIzIiksbigiM2I1MiIpLG4oIjMyMWEiKSk7Ci8qIQogICAgKiB0aXB0YXAtZXh0ZW5zaW9ucyB2MS4yNi4yCiAgICAqIChjKSAyMDE5IFNjcnVtcHkgVUcgKGxpbWl0ZWQgbGlhYmlsaXR5KQogICAgKiBAbGljZW5zZSBNSVQKICAgICovCmZ1bmN0aW9uIERlKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gUGUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1mdW5jdGlvbiB6ZSh0LGUsbil7cmV0dXJuIGUmJlBlKHQucHJvdG90eXBlLGUpLG4mJlBlKHQsbiksdH1mdW5jdGlvbiBJZSh0LGUsbil7cmV0dXJuIGUgaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9ZnVuY3Rpb24gamUodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIEJlKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP2plKG4sITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe0llKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpqZShuKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9ZnVuY3Rpb24gJGUodCxlKXtpZigiZnVuY3Rpb24iIT09dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJlZlKHQsZSl9ZnVuY3Rpb24gRmUodCl7cmV0dXJuIEZlPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LEZlKHQpfWZ1bmN0aW9uIFZlKHQsZSl7cmV0dXJuIFZlPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxWZSh0LGUpfWZ1bmN0aW9uIExlKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gdH1mdW5jdGlvbiBIZSh0LGUpe3JldHVybiFlfHwib2JqZWN0IiE9PXR5cGVvZiBlJiYiZnVuY3Rpb24iIT09dHlwZW9mIGU/TGUodCk6ZX1mdW5jdGlvbiBXZSh0KXtyZXR1cm4gSmUodCl8fHFlKHQpfHxLZSgpfWZ1bmN0aW9uIEplKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgZT0wLG49bmV3IEFycmF5KHQubGVuZ3RoKTtlPHQubGVuZ3RoO2UrKyluW2VdPXRbZV07cmV0dXJuIG59fWZ1bmN0aW9uIHFlKHQpe2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QodCl8fCJbb2JqZWN0IEFyZ3VtZW50c10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiBBcnJheS5mcm9tKHQpfWZ1bmN0aW9uIEtlKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKX12YXIgVWU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBEZSh0aGlzLGUpLEhlKHRoaXMsRmUoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gJGUoZSx0KSx6ZShlLFt7a2V5OiJjb21tYW5kcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlLG49dC5zY2hlbWE7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIEYoZSxuLm5vZGVzLnBhcmFncmFwaCl9fX0se2tleToia2V5cyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybnsiQ3RybC0+IjpGKGUpfX19LHtrZXk6ImlucHV0UnVsZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm5bT2JqZWN0KGhbIndyYXBwaW5nSW5wdXRSdWxlIl0pKC9eXHMqPlxzJC8sZSldfX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuImJsb2NrcXVvdGUifX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57Y29udGVudDoiYmxvY2sqIixncm91cDoiYmxvY2siLGRlZmluaW5nOiEwLGRyYWdnYWJsZTohMSxwYXJzZURPTTpbe3RhZzoiYmxvY2txdW90ZSJ9XSx0b0RPTTpmdW5jdGlvbigpe3JldHVyblsiYmxvY2txdW90ZSIsMF19fX19XSksZX0obXQpLEdlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gRGUodGhpcyxlKSxIZSh0aGlzLEZlKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuICRlKGUsdCksemUoZSxbe2tleToiY29tbWFuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZSxuPXQuc2NoZW1hO3JldHVybiBmdW5jdGlvbigpe3JldHVybiAkKGUsbi5ub2Rlcy5saXN0X2l0ZW0pfX19LHtrZXk6ImtleXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZSxuPXQuc2NoZW1hO3JldHVybnsiU2hpZnQtQ3RybC04IjokKGUsbi5ub2Rlcy5saXN0X2l0ZW0pfX19LHtrZXk6ImlucHV0UnVsZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm5bT2JqZWN0KGhbIndyYXBwaW5nSW5wdXRSdWxlIl0pKC9eXHMqKFstKypdKVxzJC8sZSldfX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuImJ1bGxldF9saXN0In19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue2NvbnRlbnQ6Imxpc3RfaXRlbSsiLGdyb3VwOiJibG9jayIscGFyc2VET006W3t0YWc6InVsIn1dLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuWyJ1bCIsMF19fX19XSksZX0obXQpLFhlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gRGUodGhpcyxlKSxIZSh0aGlzLEZlKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuICRlKGUsdCksemUoZSxbe2tleToiY29tbWFuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZSxuPXQuc2NoZW1hO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBqKGUsbi5ub2Rlcy5wYXJhZ3JhcGgpfX19LHtrZXk6ImtleXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm57IlNoaWZ0LUN0cmwtXFwiOk9iamVjdChwWyJzZXRCbG9ja1R5cGUiXSkoZSl9fX0se2tleToiaW5wdXRSdWxlcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybltPYmplY3QoaFsidGV4dGJsb2NrVHlwZUlucHV0UnVsZSJdKSgvXmBgYCQvLGUpXX19LHtrZXk6Im5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiJjb2RlX2Jsb2NrIn19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue2NvbnRlbnQ6InRleHQqIixtYXJrczoiIixncm91cDoiYmxvY2siLGNvZGU6ITAsZGVmaW5pbmc6ITAsZHJhZ2dhYmxlOiExLHBhcnNlRE9NOlt7dGFnOiJwcmUiLHByZXNlcnZlV2hpdGVzcGFjZToiZnVsbCJ9XSx0b0RPTTpmdW5jdGlvbigpe3JldHVyblsicHJlIixbImNvZGUiLDBdXX19fX1dKSxlfShtdCk7dmFyIFllPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gRGUodGhpcyxlKSxIZSh0aGlzLEZlKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuICRlKGUsdCksemUoZSxbe2tleToia2V5cyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlLG49T2JqZWN0KHBbImNoYWluQ29tbWFuZHMiXSkocFsiZXhpdENvZGUiXSwoZnVuY3Rpb24odCxuKXtyZXR1cm4gbih0LnRyLnJlcGxhY2VTZWxlY3Rpb25XaXRoKGUuY3JlYXRlKCkpLnNjcm9sbEludG9WaWV3KCkpLCEwfSkpO3JldHVybnsiTW9kLUVudGVyIjpuLCJTaGlmdC1FbnRlciI6bn19fSx7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iaGFyZF9icmVhayJ9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybntpbmxpbmU6ITAsZ3JvdXA6ImlubGluZSIsc2VsZWN0YWJsZTohMSxwYXJzZURPTTpbe3RhZzoiYnIifV0sdG9ET006ZnVuY3Rpb24oKXtyZXR1cm5bImJyIl19fX19XSksZX0obXQpLFFlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gRGUodGhpcyxlKSxIZSh0aGlzLEZlKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuICRlKGUsdCksemUoZSxbe2tleToiY29tbWFuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZSxuPXQuc2NoZW1hO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gaihlLG4ubm9kZXMucGFyYWdyYXBoLHQpfX19LHtrZXk6ImtleXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm4gdGhpcy5vcHRpb25zLmxldmVscy5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIEJlKHt9LHQse30sSWUoe30sIlNoaWZ0LUN0cmwtIi5jb25jYXQobiksT2JqZWN0KHBbInNldEJsb2NrVHlwZSJdKShlLHtsZXZlbDpufSkpKX0pLHt9KX19LHtrZXk6ImlucHV0UnVsZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm4gdGhpcy5vcHRpb25zLmxldmVscy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoaFsidGV4dGJsb2NrVHlwZUlucHV0UnVsZSJdKShuZXcgUmVnRXhwKCJeKCN7MSwiLmNvbmNhdCh0LCJ9KVxccyQiKSksZSwoZnVuY3Rpb24oKXtyZXR1cm57bGV2ZWw6dH19KSl9KSl9fSx7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iaGVhZGluZyJ9fSx7a2V5OiJkZWZhdWx0T3B0aW9ucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue2xldmVsczpbMSwyLDMsNCw1LDZdfX19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue2F0dHJzOntsZXZlbDp7ZGVmYXVsdDoxfX0sY29udGVudDoiaW5saW5lKiIsZ3JvdXA6ImJsb2NrIixkZWZpbmluZzohMCxkcmFnZ2FibGU6ITEscGFyc2VET006dGhpcy5vcHRpb25zLmxldmVscy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybnt0YWc6ImgiLmNvbmNhdCh0KSxhdHRyczp7bGV2ZWw6dH19fSkpLHRvRE9NOmZ1bmN0aW9uKHQpe3JldHVyblsiaCIuY29uY2F0KHQuYXR0cnMubGV2ZWwpLDBdfX19fV0pLGV9KG10KSxaZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIERlKHRoaXMsZSksSGUodGhpcyxGZShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiAkZShlLHQpLHplKGUsW3trZXk6ImtleXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm57RW50ZXI6T2JqZWN0KE1bInNwbGl0TGlzdEl0ZW0iXSkoZSksVGFiOk9iamVjdChNWyJzaW5rTGlzdEl0ZW0iXSkoZSksIlNoaWZ0LVRhYiI6T2JqZWN0KE1bImxpZnRMaXN0SXRlbSJdKShlKX19fSx7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4ibGlzdF9pdGVtIn19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue2NvbnRlbnQ6InBhcmFncmFwaCBibG9jayoiLGRlZmluaW5nOiEwLGRyYWdnYWJsZTohMSxwYXJzZURPTTpbe3RhZzoibGkifV0sdG9ET006ZnVuY3Rpb24oKXtyZXR1cm5bImxpIiwwXX19fX1dKSxlfShtdCk7dmFyIHRuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gRGUodGhpcyxlKSxIZSh0aGlzLEZlKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuICRlKGUsdCksemUoZSxbe2tleToiY29tbWFuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZSxuPXQuc2NoZW1hO3JldHVybiBmdW5jdGlvbigpe3JldHVybiAkKGUsbi5ub2Rlcy5saXN0X2l0ZW0pfX19LHtrZXk6ImtleXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZSxuPXQuc2NoZW1hO3JldHVybnsiU2hpZnQtQ3RybC05IjokKGUsbi5ub2Rlcy5saXN0X2l0ZW0pfX19LHtrZXk6ImlucHV0UnVsZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm5bT2JqZWN0KGhbIndyYXBwaW5nSW5wdXRSdWxlIl0pKC9eKFxkKylcLlxzJC8sZSwoZnVuY3Rpb24odCl7cmV0dXJue29yZGVyOit0WzFdfX0pLChmdW5jdGlvbih0LGUpe3JldHVybiBlLmNoaWxkQ291bnQrZS5hdHRycy5vcmRlcj09PSt0WzFdfSkpXX19LHtrZXk6Im5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiJvcmRlcmVkX2xpc3QifX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57YXR0cnM6e29yZGVyOntkZWZhdWx0OjF9fSxjb250ZW50OiJsaXN0X2l0ZW0rIixncm91cDoiYmxvY2siLHBhcnNlRE9NOlt7dGFnOiJvbCIsZ2V0QXR0cnM6ZnVuY3Rpb24odCl7cmV0dXJue29yZGVyOnQuaGFzQXR0cmlidXRlKCJzdGFydCIpPyt0LmdldEF0dHJpYnV0ZSgic3RhcnQiKToxfX19XSx0b0RPTTpmdW5jdGlvbih0KXtyZXR1cm4gMT09PXQuYXR0cnMub3JkZXI/WyJvbCIsMF06WyJvbCIse3N0YXJ0OnQuYXR0cnMub3JkZXJ9LDBdfX19fV0pLGV9KG10KSxlbj1PYmplY3QoX2VbInRhYmxlTm9kZXMiXSkoe3RhYmxlR3JvdXA6ImJsb2NrIixjZWxsQ29udGVudDoiYmxvY2srIixjZWxsQXR0cmlidXRlczp7YmFja2dyb3VuZDp7ZGVmYXVsdDpudWxsLGdldEZyb21ET006ZnVuY3Rpb24odCl7cmV0dXJuIHQuc3R5bGUuYmFja2dyb3VuZENvbG9yfHxudWxsfSxzZXRET01BdHRyOmZ1bmN0aW9uKHQsZSl7aWYodCl7dmFyIG49e3N0eWxlOiIiLmNvbmNhdChlLnN0eWxlfHwiIiwiYmFja2dyb3VuZC1jb2xvcjogIikuY29uY2F0KHQsIjsiKX07T2JqZWN0LmFzc2lnbihlLG4pfX19fX0pLG5uPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gRGUodGhpcyxlKSxIZSh0aGlzLEZlKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuICRlKGUsdCksemUoZSxbe2tleToiY29tbWFuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc2NoZW1hO3JldHVybntjcmVhdGVUYWJsZTpmdW5jdGlvbih0KXt2YXIgbj10LnJvd3NDb3VudCxyPXQuY29sc0NvdW50LG89dC53aXRoSGVhZGVyUm93O3JldHVybiBmdW5jdGlvbih0LGkpe3ZhciBhPU9iamVjdChkWyJjcmVhdGVUYWJsZSJdKShlLG4scixvKSxzPXQudHIucmVwbGFjZVNlbGVjdGlvbldpdGgoYSkuc2Nyb2xsSW50b1ZpZXcoKTtpKHMpfX0sYWRkQ29sdW1uQmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIF9lWyJhZGRDb2x1bW5CZWZvcmUiXX0sYWRkQ29sdW1uQWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gX2VbImFkZENvbHVtbkFmdGVyIl19LGRlbGV0ZUNvbHVtbjpmdW5jdGlvbigpe3JldHVybiBfZVsiZGVsZXRlQ29sdW1uIl19LGFkZFJvd0JlZm9yZTpmdW5jdGlvbigpe3JldHVybiBfZVsiYWRkUm93QmVmb3JlIl19LGFkZFJvd0FmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIF9lWyJhZGRSb3dBZnRlciJdfSxkZWxldGVSb3c6ZnVuY3Rpb24oKXtyZXR1cm4gX2VbImRlbGV0ZVJvdyJdfSxkZWxldGVUYWJsZTpmdW5jdGlvbigpe3JldHVybiBfZVsiZGVsZXRlVGFibGUiXX0sdG9nZ2xlQ2VsbE1lcmdlOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7T2JqZWN0KF9lWyJtZXJnZUNlbGxzIl0pKHQsZSl8fE9iamVjdChfZVsic3BsaXRDZWxsIl0pKHQsZSl9fSxtZXJnZUNlbGxzOmZ1bmN0aW9uKCl7cmV0dXJuIF9lWyJtZXJnZUNlbGxzIl19LHNwbGl0Q2VsbDpmdW5jdGlvbigpe3JldHVybiBfZVsic3BsaXRDZWxsIl19LHRvZ2dsZUhlYWRlckNvbHVtbjpmdW5jdGlvbigpe3JldHVybiBfZVsidG9nZ2xlSGVhZGVyQ29sdW1uIl19LHRvZ2dsZUhlYWRlclJvdzpmdW5jdGlvbigpe3JldHVybiBfZVsidG9nZ2xlSGVhZGVyUm93Il19LHRvZ2dsZUhlYWRlckNlbGw6ZnVuY3Rpb24oKXtyZXR1cm4gX2VbInRvZ2dsZUhlYWRlckNlbGwiXX0sc2V0Q2VsbEF0dHI6ZnVuY3Rpb24oKXtyZXR1cm4gX2VbInNldENlbGxBdHRyIl19LGZpeFRhYmxlczpmdW5jdGlvbigpe3JldHVybiBfZVsiZml4VGFibGVzIl19fX19LHtrZXk6ImtleXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue1RhYjpPYmplY3QoX2VbImdvVG9OZXh0Q2VsbCJdKSgxKSwiU2hpZnQtVGFiIjpPYmplY3QoX2VbImdvVG9OZXh0Q2VsbCJdKSgtMSl9fX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuInRhYmxlIn19LHtrZXk6ImRlZmF1bHRPcHRpb25zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57cmVzaXphYmxlOiExfX19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGVuLnRhYmxlfX0se2tleToicGx1Z2lucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuW10uY29uY2F0KFdlKHRoaXMub3B0aW9ucy5yZXNpemFibGU/W09iamVjdChfZVsiY29sdW1uUmVzaXppbmciXSkoKV06W10pLFtPYmplY3QoX2VbInRhYmxlRWRpdGluZyJdKSgpXSl9fV0pLGV9KG10KSxybj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIERlKHRoaXMsZSksSGUodGhpcyxGZShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiAkZShlLHQpLHplKGUsW3trZXk6Im5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiJ0YWJsZV9oZWFkZXIifX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZW4udGFibGVfaGVhZGVyfX1dKSxlfShtdCksb249ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBEZSh0aGlzLGUpLEhlKHRoaXMsRmUoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gJGUoZSx0KSx6ZShlLFt7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4idGFibGVfY2VsbCJ9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiBlbi50YWJsZV9jZWxsfX1dKSxlfShtdCksYW49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBEZSh0aGlzLGUpLEhlKHRoaXMsRmUoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gJGUoZSx0KSx6ZShlLFt7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4idGFibGVfcm93In19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGVuLnRhYmxlX3Jvd319XSksZX0obXQpLHNuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gRGUodGhpcyxlKSxIZSh0aGlzLEZlKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuICRlKGUsdCksemUoZSxbe2tleToia2V5cyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybntFbnRlcjpJKGUpLFRhYjp0aGlzLm9wdGlvbnMubmVzdGVkP09iamVjdChNWyJzaW5rTGlzdEl0ZW0iXSkoZSk6ZnVuY3Rpb24oKXt9LCJTaGlmdC1UYWIiOk9iamVjdChNWyJsaWZ0TGlzdEl0ZW0iXSkoZSl9fX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuInRvZG9faXRlbSJ9fSx7a2V5OiJkZWZhdWx0T3B0aW9ucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue25lc3RlZDohMX19fSx7a2V5OiJ2aWV3IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57cHJvcHM6WyJub2RlIiwidXBkYXRlQXR0cnMiLCJ2aWV3Il0sbWV0aG9kczp7b25DaGFuZ2U6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUF0dHJzKHtkb25lOiF0aGlzLm5vZGUuYXR0cnMuZG9uZX0pfX0sdGVtcGxhdGU6J1xuICAgICAgICA8bGkgOmRhdGEtdHlwZT0ibm9kZS50eXBlLm5hbWUiIDpkYXRhLWRvbmU9Im5vZGUuYXR0cnMuZG9uZS50b1N0cmluZygpIiBkYXRhLWRyYWctaGFuZGxlPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPSJ0b2RvLWNoZWNrYm94IiBjb250ZW50ZWRpdGFibGU9ImZhbHNlIiBAY2xpY2s9Im9uQ2hhbmdlIj48L3NwYW4+XG4gICAgICAgICAgPGRpdiBjbGFzcz0idG9kby1jb250ZW50IiByZWY9ImNvbnRlbnQiIDpjb250ZW50ZWRpdGFibGU9InZpZXcuZWRpdGFibGUudG9TdHJpbmcoKSI+PC9kaXY+XG4gICAgICAgIDwvbGk+XG4gICAgICAnfX19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm57YXR0cnM6e2RvbmU6e2RlZmF1bHQ6ITF9fSxkcmFnZ2FibGU6ITAsY29udGVudDp0aGlzLm9wdGlvbnMubmVzdGVkPyIocGFyYWdyYXBofHRvZG9fbGlzdCkrIjoicGFyYWdyYXBoKyIsdG9ET006ZnVuY3Rpb24oZSl7dmFyIG49ZS5hdHRycy5kb25lO3JldHVyblsibGkiLHsiZGF0YS10eXBlIjp0Lm5hbWUsImRhdGEtZG9uZSI6bi50b1N0cmluZygpfSxbInNwYW4iLHtjbGFzczoidG9kby1jaGVja2JveCIsY29udGVudGVkaXRhYmxlOiJmYWxzZSJ9XSxbImRpdiIse2NsYXNzOiJ0b2RvLWNvbnRlbnQifSwwXV19LHBhcnNlRE9NOlt7cHJpb3JpdHk6NTEsdGFnOidbZGF0YS10eXBlPSInLmNvbmNhdCh0aGlzLm5hbWUsJyJdJyksZ2V0QXR0cnM6ZnVuY3Rpb24odCl7cmV0dXJue2RvbmU6InRydWUiPT09dC5nZXRBdHRyaWJ1dGUoImRhdGEtZG9uZSIpfX19XX19fV0pLGV9KG10KSxjbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIERlKHRoaXMsZSksSGUodGhpcyxGZShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiAkZShlLHQpLHplKGUsW3trZXk6ImNvbW1hbmRzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGUsbj10LnNjaGVtYTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gJChlLG4ubm9kZXMudG9kb19pdGVtKX19fSx7a2V5OiJpbnB1dFJ1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuW09iamVjdChoWyJ3cmFwcGluZ0lucHV0UnVsZSJdKSgvXlxzKihcWyBcXSlccyQvLGUpXX19LHtrZXk6Im5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiJ0b2RvX2xpc3QifX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybntncm91cDoiYmxvY2siLGNvbnRlbnQ6InRvZG9faXRlbSsiLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuWyJ1bCIseyJkYXRhLXR5cGUiOnQubmFtZX0sMF19LHBhcnNlRE9NOlt7cHJpb3JpdHk6NTEsdGFnOidbZGF0YS10eXBlPSInLmNvbmNhdCh0aGlzLm5hbWUsJyJdJyl9XX19fV0pLGV9KG10KSxsbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIERlKHRoaXMsZSksSGUodGhpcyxGZShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiAkZShlLHQpLHplKGUsW3trZXk6ImtleXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm57Ik1vZC1iIjpPYmplY3QocFsidG9nZ2xlTWFyayJdKShlKX19fSx7a2V5OiJjb21tYW5kcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBPYmplY3QocFsidG9nZ2xlTWFyayJdKShlKX19fSx7a2V5OiJpbnB1dFJ1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuW18oLyg/OlwqXCp8X18pKFteKl9dKykoPzpcKlwqfF9fKSQvLGUpXX19LHtrZXk6InBhc3RlUnVsZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm5bRCgvKD86XCpcKnxfXykoW14qX10rKSg/OlwqXCp8X18pL2csZSldfX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuImJvbGQifX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57cGFyc2VET006W3t0YWc6InN0cm9uZyJ9LHt0YWc6ImIiLGdldEF0dHJzOmZ1bmN0aW9uKHQpe3JldHVybiJub3JtYWwiIT09dC5zdHlsZS5mb250V2VpZ2h0JiZudWxsfX0se3N0eWxlOiJmb250LXdlaWdodCIsZ2V0QXR0cnM6ZnVuY3Rpb24odCl7cmV0dXJuL14oYm9sZChlcik/fFs1LTldXGR7Mix9KSQvLnRlc3QodCkmJm51bGx9fV0sdG9ET006ZnVuY3Rpb24oKXtyZXR1cm5bInN0cm9uZyIsMF19fX19XSksZX0oZHQpLHVuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gRGUodGhpcyxlKSxIZSh0aGlzLEZlKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuICRlKGUsdCksemUoZSxbe2tleToia2V5cyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybnsiTW9kLWAiOk9iamVjdChwWyJ0b2dnbGVNYXJrIl0pKGUpfX19LHtrZXk6ImNvbW1hbmRzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChwWyJ0b2dnbGVNYXJrIl0pKGUpfX19LHtrZXk6ImlucHV0UnVsZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm5bXygvKD86YCkoW15gXSspKD86YCkkLyxlKV19fSx7a2V5OiJwYXN0ZVJ1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuW0QoLyg/OmApKFteYF0rKSg/OmApL2csZSldfX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuImNvZGUifX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57ZXhjbHVkZXM6Il8iLHBhcnNlRE9NOlt7dGFnOiJjb2RlIn1dLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuWyJjb2RlIiwwXX19fX1dKSxlfShkdCksZm49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBEZSh0aGlzLGUpLEhlKHRoaXMsRmUoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gJGUoZSx0KSx6ZShlLFt7a2V5OiJrZXlzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJueyJNb2QtaSI6T2JqZWN0KHBbInRvZ2dsZU1hcmsiXSkoZSl9fX0se2tleToiY29tbWFuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KHBbInRvZ2dsZU1hcmsiXSkoZSl9fX0se2tleToiaW5wdXRSdWxlcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybltfKC8oPzpefFteX10pKF8oW15fXSspXykkLyxlKSxfKC8oPzpefFteKl0pKFwqKFteKl0rKVwqKSQvLGUpXX19LHtrZXk6InBhc3RlUnVsZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm5bRCgvXyhbXl9dKylfL2csZSksRCgvXCooW14qXSspXCovZyxlKV19fSx7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iaXRhbGljIn19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue3BhcnNlRE9NOlt7dGFnOiJpIn0se3RhZzoiZW0ifSx7c3R5bGU6ImZvbnQtc3R5bGU9aXRhbGljIn1dLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuWyJlbSIsMF19fX19XSksZX0oZHQpLHBuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gRGUodGhpcyxlKSxIZSh0aGlzLEZlKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuICRlKGUsdCksemUoZSxbe2tleToiY29tbWFuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQuaHJlZj9WKGUsdCk6UChlKX19fSx7a2V5OiJwYXN0ZVJ1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuW1IoL2h0dHBzPzpcL1wvKHd3d1wuKT9bLWEtekEtWjAtOUA6JS5fK34jPV17MiwyNTZ9XC5bYS16QS1aXXsyLH1cYihbLWEtekEtWjAtOUA6JV8rLn4jPyZcL1wvPV0qKS9nLGUsKGZ1bmN0aW9uKHQpe3JldHVybntocmVmOnR9fSkpXX19LHtrZXk6Im5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiJsaW5rIn19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue2F0dHJzOntocmVmOntkZWZhdWx0Om51bGx9fSxpbmNsdXNpdmU6ITEscGFyc2VET006W3t0YWc6ImFbaHJlZl0iLGdldEF0dHJzOmZ1bmN0aW9uKHQpe3JldHVybntocmVmOnQuZ2V0QXR0cmlidXRlKCJocmVmIil9fX1dLHRvRE9NOmZ1bmN0aW9uKHQpe3JldHVyblsiYSIsQmUoe30sdC5hdHRycyx7cmVsOiJub29wZW5lciBub3JlZmVycmVyIG5vZm9sbG93In0pLDBdfX19fSx7a2V5OiJwbHVnaW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5bbmV3IGFbIlBsdWdpbiJdKHtwcm9wczp7aGFuZGxlQ2xpY2s6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQuc3RhdGUuc2NoZW1hLG89dyh0LnN0YXRlLHIubWFya3MubGluayk7by5ocmVmJiZuLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxBbmNob3JFbGVtZW50JiYobi5zdG9wUHJvcGFnYXRpb24oKSx3aW5kb3cub3BlbihvLmhyZWYpKX19fSldfX1dKSxlfShkdCksaG49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBEZSh0aGlzLGUpLEhlKHRoaXMsRmUoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gJGUoZSx0KSx6ZShlLFt7a2V5OiJrZXlzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJueyJNb2QtZCI6T2JqZWN0KHBbInRvZ2dsZU1hcmsiXSkoZSl9fX0se2tleToiY29tbWFuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KHBbInRvZ2dsZU1hcmsiXSkoZSl9fX0se2tleToiaW5wdXRSdWxlcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlO3JldHVybltfKC9+KFtefl0rKX4kLyxlKV19fSx7a2V5OiJwYXN0ZVJ1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuW0QoL34oW15+XSspfi9nLGUpXX19LHtrZXk6Im5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiJzdHJpa2UifX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57cGFyc2VET006W3t0YWc6InMifSx7dGFnOiJkZWwifSx7dGFnOiJzdHJpa2UifSx7c3R5bGU6InRleHQtZGVjb3JhdGlvbiIsZ2V0QXR0cnM6ZnVuY3Rpb24odCl7cmV0dXJuImxpbmUtdGhyb3VnaCI9PT10fX1dLHRvRE9NOmZ1bmN0aW9uKCl7cmV0dXJuWyJzIiwwXX19fX1dKSxlfShkdCksZG49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBEZSh0aGlzLGUpLEhlKHRoaXMsRmUoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gJGUoZSx0KSx6ZShlLFt7a2V5OiJrZXlzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJueyJNb2QtdSI6T2JqZWN0KHBbInRvZ2dsZU1hcmsiXSkoZSl9fX0se2tleToiY29tbWFuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KHBbInRvZ2dsZU1hcmsiXSkoZSl9fX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuInVuZGVybGluZSJ9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybntwYXJzZURPTTpbe3RhZzoidSJ9LHtzdHlsZToidGV4dC1kZWNvcmF0aW9uIixnZXRBdHRyczpmdW5jdGlvbih0KXtyZXR1cm4idW5kZXJsaW5lIj09PXR9fV0sdG9ET006ZnVuY3Rpb24oKXtyZXR1cm5bInUiLDBdfX19fV0pLGV9KGR0KSx2bj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIERlKHRoaXMsZSksSGUodGhpcyxGZShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiAkZShlLHQpLHplKGUsW3trZXk6ImtleXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9eyJNb2QteiI6UmVbInVuZG8iXSwiTW9kLXkiOlJlWyJyZWRvIl0sIlNoaWZ0LU1vZC16IjpSZVsicmVkbyJdfTtyZXR1cm4gdH19LHtrZXk6ImNvbW1hbmRzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybnt1bmRvOmZ1bmN0aW9uKCl7cmV0dXJuIFJlWyJ1bmRvIl19LHJlZG86ZnVuY3Rpb24oKXtyZXR1cm4gUmVbInJlZG8iXX19fX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuImhpc3RvcnkifX0se2tleToiZGVmYXVsdE9wdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybntkZXB0aDoiIixuZXdHcm91cERlbGF5OiIifX19LHtrZXk6InBsdWdpbnMiLGdldDpmdW5jdGlvbigpe3JldHVybltPYmplY3QoUmVbImhpc3RvcnkiXSkoe2RlcHRoOnRoaXMub3B0aW9ucy5kZXB0aCxuZXdHcm91cERlbGF5OnRoaXMub3B0aW9ucy5uZXdHcm91cERlbGF5fSldfX1dKSxlfShmdCk7ZnVuY3Rpb24gbW4oKXtyZXR1cm5bbmV3IFVlLG5ldyBHZSxuZXcgWGUsbmV3IFllLG5ldyBRZSxuZXcgWmUsbmV3IHRuLG5ldyBzbixuZXcgY24sbmV3IHBuLG5ldyBubih7cmVzaXphYmxlOiEwfSksbmV3IHJuLG5ldyBvbixuZXcgYW4sbmV3IGxuLG5ldyB1bixuZXcgZm4sbmV3IGhuLG5ldyBkbixuZXcgdm5dfXZhciBnbj17aW5qZWN0OlsiY29yZSJdLGNvbXBvbmVudHM6e0VkaXRvckNvbnRlbnQ6U3QsRWRpdG9yTWVudUJhcjpNdCxJY29uOkVlfSxwcm9wczp7ZmllbGROYW1lOlN0cmluZyx2YWx1ZTpTdHJpbmd9LG1vdW50ZWQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLiRwcm9wcyxlPXQudmFsdWUsbj10LmZpZWxkTmFtZTt0aGlzLmNvcmUuc2V0Rm9ybVZhbHVlKG4sZSl9LGRhdGE6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC4kcHJvcHMuZmllbGROYW1lO3JldHVybntlZGl0b3I6bmV3IGt0KHtjb250ZW50OnRoaXMuJHByb3BzLnZhbHVlLGV4dGVuc2lvbnM6bW4oKSxvblVwZGF0ZTpmdW5jdGlvbihuKXt2YXIgcj1uLmdldEhUTUwsbz1yKCk7ZSYmMCE9ZS5sZW5ndGgmJnQuY29yZS5zZXRGb3JtVmFsdWUoZSxvKX19KX19LGJlZm9yZURlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVkaXRvci5kZXN0cm95KCl9fSx5bj1nbix3bj1UZSh5bixvLGksITEsbnVsbCxudWxsLG51bGwpLGJuPXduLmV4cG9ydHM7KHdpbmRvdy5fX2dvcGxhaWRWdWVDb21wb25lbnRSZWdpc3RlcnM9d2luZG93Ll9fZ29wbGFpZFZ1ZUNvbXBvbmVudFJlZ2lzdGVyc3x8W10pLnB1c2goKGZ1bmN0aW9uKHQpe3QuY29tcG9uZW50KCJ0aXB0YXAtZWRpdG9yIixibil9KSl9LGZiZWE6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9bigiYjkyMyIpLG89bigiNmYyNyIpLGk9bigiNmZmYiIpO2Z1bmN0aW9uIGEodCxlKXtyZXR1cm4hdC5zZWxlY3Rpb24uZW1wdHkmJihlJiZlKHQudHIuZGVsZXRlU2VsZWN0aW9uKCkuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIHModCxlLG4pe3ZhciBvPXQuc2VsZWN0aW9uLGE9by4kY3Vyc29yO2lmKCFhfHwobj8hbi5lbmRPZlRleHRibG9jaygiYmFja3dhcmQiLHQpOmEucGFyZW50T2Zmc2V0PjApKXJldHVybiExO3ZhciBzPXUoYSk7aWYoIXMpe3ZhciBsPWEuYmxvY2tSYW5nZSgpLGY9bCYmci5saWZ0VGFyZ2V0KGwpO3JldHVybiBudWxsIT1mJiYoZSYmZSh0LnRyLmxpZnQobCxmKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9dmFyIHA9cy5ub2RlQmVmb3JlO2lmKCFwLnR5cGUuc3BlYy5pc29sYXRpbmcmJk8odCxzLGUpKXJldHVybiEwO2lmKDA9PWEucGFyZW50LmNvbnRlbnQuc2l6ZSYmKGMocCwiZW5kIil8fGkuTm9kZVNlbGVjdGlvbi5pc1NlbGVjdGFibGUocCkpKXtpZihlKXt2YXIgaD10LnRyLmRlbGV0ZVJhbmdlKGEuYmVmb3JlKCksYS5hZnRlcigpKTtoLnNldFNlbGVjdGlvbihjKHAsImVuZCIpP2kuU2VsZWN0aW9uLmZpbmRGcm9tKGguZG9jLnJlc29sdmUoaC5tYXBwaW5nLm1hcChzLnBvcywtMSkpLC0xKTppLk5vZGVTZWxlY3Rpb24uY3JlYXRlKGguZG9jLHMucG9zLXAubm9kZVNpemUpKSxlKGguc2Nyb2xsSW50b1ZpZXcoKSl9cmV0dXJuITB9cmV0dXJuISghcC5pc0F0b218fHMuZGVwdGghPWEuZGVwdGgtMSkmJihlJiZlKHQudHIuZGVsZXRlKHMucG9zLXAubm9kZVNpemUscy5wb3MpLnNjcm9sbEludG9WaWV3KCkpLCEwKX1mdW5jdGlvbiBjKHQsZSl7Zm9yKDt0O3Q9InN0YXJ0Ij09ZT90LmZpcnN0Q2hpbGQ6dC5sYXN0Q2hpbGQpaWYodC5pc1RleHRibG9jaylyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBsKHQsZSxuKXt2YXIgcj10LnNlbGVjdGlvbixvPXIuJGN1cnNvcjtpZighb3x8KG4/IW4uZW5kT2ZUZXh0YmxvY2soImJhY2t3YXJkIix0KTpvLnBhcmVudE9mZnNldD4wKSlyZXR1cm4hMTt2YXIgYT11KG8pLHM9YSYmYS5ub2RlQmVmb3JlO3JldHVybiEoIXN8fCFpLk5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlKHMpKSYmKGUmJmUodC50ci5zZXRTZWxlY3Rpb24oaS5Ob2RlU2VsZWN0aW9uLmNyZWF0ZSh0LmRvYyxhLnBvcy1zLm5vZGVTaXplKSkuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIHUodCl7aWYoIXQucGFyZW50LnR5cGUuc3BlYy5pc29sYXRpbmcpZm9yKHZhciBlPXQuZGVwdGgtMTtlPj0wO2UtLSl7aWYodC5pbmRleChlKT4wKXJldHVybiB0LmRvYy5yZXNvbHZlKHQuYmVmb3JlKGUrMSkpO2lmKHQubm9kZShlKS50eXBlLnNwZWMuaXNvbGF0aW5nKWJyZWFrfXJldHVybiBudWxsfWZ1bmN0aW9uIGYodCxlLG4pe3ZhciByPXQuc2VsZWN0aW9uLG89ci4kY3Vyc29yO2lmKCFvfHwobj8hbi5lbmRPZlRleHRibG9jaygiZm9yd2FyZCIsdCk6by5wYXJlbnRPZmZzZXQ8by5wYXJlbnQuY29udGVudC5zaXplKSlyZXR1cm4hMTt2YXIgYT1oKG8pO2lmKCFhKXJldHVybiExO3ZhciBzPWEubm9kZUFmdGVyO2lmKE8odCxhLGUpKXJldHVybiEwO2lmKDA9PW8ucGFyZW50LmNvbnRlbnQuc2l6ZSYmKGMocywic3RhcnQiKXx8aS5Ob2RlU2VsZWN0aW9uLmlzU2VsZWN0YWJsZShzKSkpe2lmKGUpe3ZhciBsPXQudHIuZGVsZXRlUmFuZ2Uoby5iZWZvcmUoKSxvLmFmdGVyKCkpO2wuc2V0U2VsZWN0aW9uKGMocywic3RhcnQiKT9pLlNlbGVjdGlvbi5maW5kRnJvbShsLmRvYy5yZXNvbHZlKGwubWFwcGluZy5tYXAoYS5wb3MpKSwxKTppLk5vZGVTZWxlY3Rpb24uY3JlYXRlKGwuZG9jLGwubWFwcGluZy5tYXAoYS5wb3MpKSksZShsLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfXJldHVybiEoIXMuaXNBdG9tfHxhLmRlcHRoIT1vLmRlcHRoLTEpJiYoZSYmZSh0LnRyLmRlbGV0ZShhLnBvcyxhLnBvcytzLm5vZGVTaXplKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9ZnVuY3Rpb24gcCh0LGUsbil7dmFyIHI9dC5zZWxlY3Rpb24sbz1yLiRjdXJzb3I7aWYoIW98fChuPyFuLmVuZE9mVGV4dGJsb2NrKCJmb3J3YXJkIix0KTpvLnBhcmVudE9mZnNldDxvLnBhcmVudC5jb250ZW50LnNpemUpKXJldHVybiExO3ZhciBhPWgobykscz1hJiZhLm5vZGVBZnRlcjtyZXR1cm4hKCFzfHwhaS5Ob2RlU2VsZWN0aW9uLmlzU2VsZWN0YWJsZShzKSkmJihlJiZlKHQudHIuc2V0U2VsZWN0aW9uKGkuTm9kZVNlbGVjdGlvbi5jcmVhdGUodC5kb2MsYS5wb3MpKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9ZnVuY3Rpb24gaCh0KXtpZighdC5wYXJlbnQudHlwZS5zcGVjLmlzb2xhdGluZylmb3IodmFyIGU9dC5kZXB0aC0xO2U+PTA7ZS0tKXt2YXIgbj10Lm5vZGUoZSk7aWYodC5pbmRleChlKSsxPG4uY2hpbGRDb3VudClyZXR1cm4gdC5kb2MucmVzb2x2ZSh0LmFmdGVyKGUrMSkpO2lmKG4udHlwZS5zcGVjLmlzb2xhdGluZylicmVha31yZXR1cm4gbnVsbH1mdW5jdGlvbiBkKHQsZSl7dmFyIG4sbz10LnNlbGVjdGlvbixhPW8gaW5zdGFuY2VvZiBpLk5vZGVTZWxlY3Rpb247aWYoYSl7aWYoby5ub2RlLmlzVGV4dGJsb2NrfHwhci5jYW5Kb2luKHQuZG9jLG8uZnJvbSkpcmV0dXJuITE7bj1vLmZyb219ZWxzZSBpZihuPXIuam9pblBvaW50KHQuZG9jLG8uZnJvbSwtMSksbnVsbD09bilyZXR1cm4hMTtpZihlKXt2YXIgcz10LnRyLmpvaW4obik7YSYmcy5zZXRTZWxlY3Rpb24oaS5Ob2RlU2VsZWN0aW9uLmNyZWF0ZShzLmRvYyxuLXQuZG9jLnJlc29sdmUobikubm9kZUJlZm9yZS5ub2RlU2l6ZSkpLGUocy5zY3JvbGxJbnRvVmlldygpKX1yZXR1cm4hMH1mdW5jdGlvbiB2KHQsZSl7dmFyIG4sbz10LnNlbGVjdGlvbjtpZihvIGluc3RhbmNlb2YgaS5Ob2RlU2VsZWN0aW9uKXtpZihvLm5vZGUuaXNUZXh0YmxvY2t8fCFyLmNhbkpvaW4odC5kb2Msby50bykpcmV0dXJuITE7bj1vLnRvfWVsc2UgaWYobj1yLmpvaW5Qb2ludCh0LmRvYyxvLnRvLDEpLG51bGw9PW4pcmV0dXJuITE7cmV0dXJuIGUmJmUodC50ci5qb2luKG4pLnNjcm9sbEludG9WaWV3KCkpLCEwfWZ1bmN0aW9uIG0odCxlKXt2YXIgbj10LnNlbGVjdGlvbixvPW4uJGZyb20saT1uLiR0byxhPW8uYmxvY2tSYW5nZShpKSxzPWEmJnIubGlmdFRhcmdldChhKTtyZXR1cm4gbnVsbCE9cyYmKGUmJmUodC50ci5saWZ0KGEscykuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIGcodCxlKXt2YXIgbj10LnNlbGVjdGlvbixyPW4uJGhlYWQsbz1uLiRhbmNob3I7cmV0dXJuISghci5wYXJlbnQudHlwZS5zcGVjLmNvZGV8fCFyLnNhbWVQYXJlbnQobykpJiYoZSYmZSh0LnRyLmluc2VydFRleHQoIlxuIikuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIHkodCxlKXt2YXIgbj10LnNlbGVjdGlvbixyPW4uJGhlYWQsbz1uLiRhbmNob3I7aWYoIXIucGFyZW50LnR5cGUuc3BlYy5jb2RlfHwhci5zYW1lUGFyZW50KG8pKXJldHVybiExO3ZhciBhPXIubm9kZSgtMSkscz1yLmluZGV4QWZ0ZXIoLTEpLGM9YS5jb250ZW50TWF0Y2hBdChzKS5kZWZhdWx0VHlwZTtpZighYS5jYW5SZXBsYWNlV2l0aChzLHMsYykpcmV0dXJuITE7aWYoZSl7dmFyIGw9ci5hZnRlcigpLHU9dC50ci5yZXBsYWNlV2l0aChsLGwsYy5jcmVhdGVBbmRGaWxsKCkpO3Uuc2V0U2VsZWN0aW9uKGkuU2VsZWN0aW9uLm5lYXIodS5kb2MucmVzb2x2ZShsKSwxKSksZSh1LnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfWZ1bmN0aW9uIHcodCxlKXt2YXIgbj10LnNlbGVjdGlvbixyPW4uJGZyb20sbz1uLiR0bztpZihyLnBhcmVudC5pbmxpbmVDb250ZW50fHxvLnBhcmVudC5pbmxpbmVDb250ZW50KXJldHVybiExO3ZhciBhPXIucGFyZW50LmNvbnRlbnRNYXRjaEF0KG8uaW5kZXhBZnRlcigpKS5kZWZhdWx0VHlwZTtpZighYXx8IWEuaXNUZXh0YmxvY2spcmV0dXJuITE7aWYoZSl7dmFyIHM9KCFyLnBhcmVudE9mZnNldCYmby5pbmRleCgpPG8ucGFyZW50LmNoaWxkQ291bnQ/cjpvKS5wb3MsYz10LnRyLmluc2VydChzLGEuY3JlYXRlQW5kRmlsbCgpKTtjLnNldFNlbGVjdGlvbihpLlRleHRTZWxlY3Rpb24uY3JlYXRlKGMuZG9jLHMrMSkpLGUoYy5zY3JvbGxJbnRvVmlldygpKX1yZXR1cm4hMH1mdW5jdGlvbiBiKHQsZSl7dmFyIG49dC5zZWxlY3Rpb24sbz1uLiRjdXJzb3I7aWYoIW98fG8ucGFyZW50LmNvbnRlbnQuc2l6ZSlyZXR1cm4hMTtpZihvLmRlcHRoPjEmJm8uYWZ0ZXIoKSE9by5lbmQoLTEpKXt2YXIgaT1vLmJlZm9yZSgpO2lmKHIuY2FuU3BsaXQodC5kb2MsaSkpcmV0dXJuIGUmJmUodC50ci5zcGxpdChpKS5zY3JvbGxJbnRvVmlldygpKSwhMH12YXIgYT1vLmJsb2NrUmFuZ2UoKSxzPWEmJnIubGlmdFRhcmdldChhKTtyZXR1cm4gbnVsbCE9cyYmKGUmJmUodC50ci5saWZ0KGEscykuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIGsodCxlKXt2YXIgbj10LnNlbGVjdGlvbixhPW4uJGZyb20scz1uLiR0bztpZih0LnNlbGVjdGlvbiBpbnN0YW5jZW9mIGkuTm9kZVNlbGVjdGlvbiYmdC5zZWxlY3Rpb24ubm9kZS5pc0Jsb2NrKXJldHVybiEoIWEucGFyZW50T2Zmc2V0fHwhci5jYW5TcGxpdCh0LmRvYyxhLnBvcykpJiYoZSYmZSh0LnRyLnNwbGl0KGEucG9zKS5zY3JvbGxJbnRvVmlldygpKSwhMCk7aWYoIWEucGFyZW50LmlzQmxvY2spcmV0dXJuITE7aWYoZSl7dmFyIGM9cy5wYXJlbnRPZmZzZXQ9PXMucGFyZW50LmNvbnRlbnQuc2l6ZSxsPXQudHI7dC5zZWxlY3Rpb24gaW5zdGFuY2VvZiBpLlRleHRTZWxlY3Rpb24mJmwuZGVsZXRlU2VsZWN0aW9uKCk7dmFyIHU9MD09YS5kZXB0aD9udWxsOmEubm9kZSgtMSkuY29udGVudE1hdGNoQXQoYS5pbmRleEFmdGVyKC0xKSkuZGVmYXVsdFR5cGUsZj1jJiZ1P1t7dHlwZTp1fV06bnVsbCxwPXIuY2FuU3BsaXQobC5kb2MsbC5tYXBwaW5nLm1hcChhLnBvcyksMSxmKTtmfHxwfHwhci5jYW5TcGxpdChsLmRvYyxsLm1hcHBpbmcubWFwKGEucG9zKSwxLHUmJlt7dHlwZTp1fV0pfHwoZj1be3R5cGU6dX1dLHA9ITApLHAmJihsLnNwbGl0KGwubWFwcGluZy5tYXAoYS5wb3MpLDEsZiksY3x8YS5wYXJlbnRPZmZzZXR8fGEucGFyZW50LnR5cGU9PXV8fCFhLm5vZGUoLTEpLmNhblJlcGxhY2UoYS5pbmRleCgtMSksYS5pbmRleEFmdGVyKC0xKSxvLkZyYWdtZW50LmZyb20odS5jcmVhdGUoKSxhLnBhcmVudCkpfHxsLnNldE5vZGVNYXJrdXAobC5tYXBwaW5nLm1hcChhLmJlZm9yZSgpKSx1KSksZShsLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfWZ1bmN0aW9uIFModCxlKXtyZXR1cm4gayh0LGUmJmZ1bmN0aW9uKG4pe3ZhciByPXQuc3RvcmVkTWFya3N8fHQuc2VsZWN0aW9uLiR0by5wYXJlbnRPZmZzZXQmJnQuc2VsZWN0aW9uLiRmcm9tLm1hcmtzKCk7ciYmbi5lbnN1cmVNYXJrcyhyKSxlKG4pfSl9ZnVuY3Rpb24geCh0LGUpe3ZhciBuLHI9dC5zZWxlY3Rpb24sbz1yLiRmcm9tLGE9ci50byxzPW8uc2hhcmVkRGVwdGgoYSk7cmV0dXJuIDAhPXMmJihuPW8uYmVmb3JlKHMpLGUmJmUodC50ci5zZXRTZWxlY3Rpb24oaS5Ob2RlU2VsZWN0aW9uLmNyZWF0ZSh0LmRvYyxuKSkpLCEwKX1mdW5jdGlvbiBDKHQsZSl7cmV0dXJuIGUmJmUodC50ci5zZXRTZWxlY3Rpb24obmV3IGkuQWxsU2VsZWN0aW9uKHQuZG9jKSkpLCEwfWZ1bmN0aW9uIE0odCxlLG4pe3ZhciBvPWUubm9kZUJlZm9yZSxpPWUubm9kZUFmdGVyLGE9ZS5pbmRleCgpO3JldHVybiEhKG8mJmkmJm8udHlwZS5jb21wYXRpYmxlQ29udGVudChpLnR5cGUpKSYmKCFvLmNvbnRlbnQuc2l6ZSYmZS5wYXJlbnQuY2FuUmVwbGFjZShhLTEsYSk/KG4mJm4odC50ci5kZWxldGUoZS5wb3Mtby5ub2RlU2l6ZSxlLnBvcykuc2Nyb2xsSW50b1ZpZXcoKSksITApOiEoIWUucGFyZW50LmNhblJlcGxhY2UoYSxhKzEpfHwhaS5pc1RleHRibG9jayYmIXIuY2FuSm9pbih0LmRvYyxlLnBvcykpJiYobiYmbih0LnRyLmNsZWFySW5jb21wYXRpYmxlKGUucG9zLG8udHlwZSxvLmNvbnRlbnRNYXRjaEF0KG8uY2hpbGRDb3VudCkpLmpvaW4oZS5wb3MpLnNjcm9sbEludG9WaWV3KCkpLCEwKSl9ZnVuY3Rpb24gTyh0LGUsbil7dmFyIGEscyxjPWUubm9kZUJlZm9yZSxsPWUubm9kZUFmdGVyO2lmKGMudHlwZS5zcGVjLmlzb2xhdGluZ3x8bC50eXBlLnNwZWMuaXNvbGF0aW5nKXJldHVybiExO2lmKE0odCxlLG4pKXJldHVybiEwO2lmKGUucGFyZW50LmNhblJlcGxhY2UoZS5pbmRleCgpLGUuaW5kZXgoKSsxKSYmKGE9KHM9Yy5jb250ZW50TWF0Y2hBdChjLmNoaWxkQ291bnQpKS5maW5kV3JhcHBpbmcobC50eXBlKSkmJnMubWF0Y2hUeXBlKGFbMF18fGwudHlwZSkudmFsaWRFbmQpe2lmKG4pe2Zvcih2YXIgdT1lLnBvcytsLm5vZGVTaXplLGY9by5GcmFnbWVudC5lbXB0eSxwPWEubGVuZ3RoLTE7cD49MDtwLS0pZj1vLkZyYWdtZW50LmZyb20oYVtwXS5jcmVhdGUobnVsbCxmKSk7Zj1vLkZyYWdtZW50LmZyb20oYy5jb3B5KGYpKTt2YXIgaD10LnRyLnN0ZXAobmV3IHIuUmVwbGFjZUFyb3VuZFN0ZXAoZS5wb3MtMSx1LGUucG9zLHUsbmV3IG8uU2xpY2UoZiwxLDApLGEubGVuZ3RoLCEwKSksZD11KzIqYS5sZW5ndGg7ci5jYW5Kb2luKGguZG9jLGQpJiZoLmpvaW4oZCksbihoLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfXZhciB2PWkuU2VsZWN0aW9uLmZpbmRGcm9tKGUsMSksbT12JiZ2LiRmcm9tLmJsb2NrUmFuZ2Uodi4kdG8pLGc9bSYmci5saWZ0VGFyZ2V0KG0pO3JldHVybiBudWxsIT1nJiZnPj1lLmRlcHRoJiYobiYmbih0LnRyLmxpZnQobSxnKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9ZnVuY3Rpb24gQSh0LGUpe3JldHVybiBmdW5jdGlvbihuLG8pe3ZhciBpPW4uc2VsZWN0aW9uLGE9aS4kZnJvbSxzPWkuJHRvLGM9YS5ibG9ja1JhbmdlKHMpLGw9YyYmci5maW5kV3JhcHBpbmcoYyx0LGUpO3JldHVybiEhbCYmKG8mJm8obi50ci53cmFwKGMsbCkuc2Nyb2xsSW50b1ZpZXcoKSksITApfX1mdW5jdGlvbiBUKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7dmFyIG89bi5zZWxlY3Rpb24saT1vLmZyb20sYT1vLnRvLHM9ITE7cmV0dXJuIG4uZG9jLm5vZGVzQmV0d2VlbihpLGEsKGZ1bmN0aW9uKHIsbyl7aWYocylyZXR1cm4hMTtpZihyLmlzVGV4dGJsb2NrJiYhci5oYXNNYXJrdXAodCxlKSlpZihyLnR5cGU9PXQpcz0hMDtlbHNle3ZhciBpPW4uZG9jLnJlc29sdmUobyksYT1pLmluZGV4KCk7cz1pLnBhcmVudC5jYW5SZXBsYWNlV2l0aChhLGErMSx0KX19KSksISFzJiYociYmcihuLnRyLnNldEJsb2NrVHlwZShpLGEsdCxlKS5zY3JvbGxJbnRvVmlldygpKSwhMCl9fWZ1bmN0aW9uIE4odCxlLG4pe2Zvcih2YXIgcj1mdW5jdGlvbihyKXt2YXIgbz1lW3JdLGk9by4kZnJvbSxhPW8uJHRvLHM9MD09aS5kZXB0aCYmdC50eXBlLmFsbG93c01hcmtUeXBlKG4pO2lmKHQubm9kZXNCZXR3ZWVuKGkucG9zLGEucG9zLChmdW5jdGlvbih0KXtpZihzKXJldHVybiExO3M9dC5pbmxpbmVDb250ZW50JiZ0LnR5cGUuYWxsb3dzTWFya1R5cGUobil9KSkscylyZXR1cm57djohMH19LG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIGk9cihvKTtpZihpKXJldHVybiBpLnZ9cmV0dXJuITF9ZnVuY3Rpb24gRSh0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciBvPW4uc2VsZWN0aW9uLGk9by5lbXB0eSxhPW8uJGN1cnNvcixzPW8ucmFuZ2VzO2lmKGkmJiFhfHwhTihuLmRvYyxzLHQpKXJldHVybiExO2lmKHIpaWYoYSl0LmlzSW5TZXQobi5zdG9yZWRNYXJrc3x8YS5tYXJrcygpKT9yKG4udHIucmVtb3ZlU3RvcmVkTWFyayh0KSk6cihuLnRyLmFkZFN0b3JlZE1hcmsodC5jcmVhdGUoZSkpKTtlbHNle2Zvcih2YXIgYz0hMSxsPW4udHIsdT0wOyFjJiZ1PHMubGVuZ3RoO3UrKyl7dmFyIGY9c1t1XSxwPWYuJGZyb20saD1mLiR0bztjPW4uZG9jLnJhbmdlSGFzTWFyayhwLnBvcyxoLnBvcyx0KX1mb3IodmFyIGQ9MDtkPHMubGVuZ3RoO2QrKyl7dmFyIHY9c1tkXSxtPXYuJGZyb20sZz12LiR0bztjP2wucmVtb3ZlTWFyayhtLnBvcyxnLnBvcyx0KTpsLmFkZE1hcmsobS5wb3MsZy5wb3MsdC5jcmVhdGUoZSkpfXIobC5zY3JvbGxJbnRvVmlldygpKX1yZXR1cm4hMH19ZnVuY3Rpb24gXyh0LGUpe3JldHVybiBmdW5jdGlvbihuKXtpZighbi5pc0dlbmVyaWMpcmV0dXJuIHQobik7Zm9yKHZhciBvPVtdLGk9MDtpPG4ubWFwcGluZy5tYXBzLmxlbmd0aDtpKyspe2Zvcih2YXIgYT1uLm1hcHBpbmcubWFwc1tpXSxzPTA7czxvLmxlbmd0aDtzKyspb1tzXT1hLm1hcChvW3NdKTthLmZvckVhY2goKGZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBvLnB1c2gobixyKX0pKX1mb3IodmFyIGM9W10sbD0wO2w8by5sZW5ndGg7bCs9Milmb3IodmFyIHU9b1tsXSxmPW9bbCsxXSxwPW4uZG9jLnJlc29sdmUodSksaD1wLnNoYXJlZERlcHRoKGYpLGQ9cC5ub2RlKGgpLHY9cC5pbmRleEFmdGVyKGgpLG09cC5hZnRlcihoKzEpO208PWY7Kyt2KXt2YXIgZz1kLm1heWJlQ2hpbGQodik7aWYoIWcpYnJlYWs7aWYodiYmLTE9PWMuaW5kZXhPZihtKSl7dmFyIHk9ZC5jaGlsZCh2LTEpO3kudHlwZT09Zy50eXBlJiZlKHksZykmJmMucHVzaChtKX1tKz1nLm5vZGVTaXplfWMuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1lfSkpO2Zvcih2YXIgdz1jLmxlbmd0aC0xO3c+PTA7dy0tKXIuY2FuSm9pbihuLmRvYyxjW3ddKSYmbi5qb2luKGNbd10pO3Qobil9fWZ1bmN0aW9uIFIodCxlKXtpZihBcnJheS5pc0FycmF5KGUpKXt2YXIgbj1lO2U9ZnVuY3Rpb24odCl7cmV0dXJuIG4uaW5kZXhPZih0LnR5cGUubmFtZSk+LTF9fXJldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiB0KG4sciYmXyhyLGUpKX19ZnVuY3Rpb24gRCgpe3ZhciB0PVtdLGU9YXJndW1lbnRzLmxlbmd0aDt3aGlsZShlLS0pdFtlXT1hcmd1bWVudHNbZV07cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtmb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKylpZih0W29dKGUsbixyKSlyZXR1cm4hMDtyZXR1cm4hMX19dmFyIFA9RChhLHMsbCksej1EKGEsZixwKSxJPXtFbnRlcjpEKGcsdyxiLGspLCJNb2QtRW50ZXIiOnksQmFja3NwYWNlOlAsIk1vZC1CYWNrc3BhY2UiOlAsRGVsZXRlOnosIk1vZC1EZWxldGUiOnosIk1vZC1hIjpDfSxqPXsiQ3RybC1oIjpJWyJCYWNrc3BhY2UiXSwiQWx0LUJhY2tzcGFjZSI6SVsiTW9kLUJhY2tzcGFjZSJdLCJDdHJsLWQiOklbIkRlbGV0ZSJdLCJDdHJsLUFsdC1CYWNrc3BhY2UiOklbIk1vZC1EZWxldGUiXSwiQWx0LURlbGV0ZSI6SVsiTW9kLURlbGV0ZSJdLCJBbHQtZCI6SVsiTW9kLURlbGV0ZSJdfTtmb3IodmFyIEIgaW4gSSlqW0JdPUlbQl07dmFyICQ9InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3I/L01hYy8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pOiJ1bmRlZmluZWQiIT10eXBlb2Ygb3MmJiJkYXJ3aW4iPT1vcy5wbGF0Zm9ybSgpLEY9JD9qOkk7ZS5kZWxldGVTZWxlY3Rpb249YSxlLmpvaW5CYWNrd2FyZD1zLGUuc2VsZWN0Tm9kZUJhY2t3YXJkPWwsZS5qb2luRm9yd2FyZD1mLGUuc2VsZWN0Tm9kZUZvcndhcmQ9cCxlLmpvaW5VcD1kLGUuam9pbkRvd249dixlLmxpZnQ9bSxlLm5ld2xpbmVJbkNvZGU9ZyxlLmV4aXRDb2RlPXksZS5jcmVhdGVQYXJhZ3JhcGhOZWFyPXcsZS5saWZ0RW1wdHlCbG9jaz1iLGUuc3BsaXRCbG9jaz1rLGUuc3BsaXRCbG9ja0tlZXBNYXJrcz1TLGUuc2VsZWN0UGFyZW50Tm9kZT14LGUuc2VsZWN0QWxsPUMsZS53cmFwSW49QSxlLnNldEJsb2NrVHlwZT1ULGUudG9nZ2xlTWFyaz1FLGUuYXV0b0pvaW49UixlLmNoYWluQ29tbWFuZHM9RCxlLnBjQmFzZUtleW1hcD1JLGUubWFjQmFzZUtleW1hcD1qLGUuYmFzZUtleW1hcD1GfSxmYzg4OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciByLG8saT1uKCI2ZmZiIiksYT1uKCI3MDNmIikscz1uKCI2ZjI3IiksYz1uKCJiOTIzIiksbD1uKCI1NmVjIik7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBXZWFrTWFwKXt2YXIgdT1uZXcgV2Vha01hcDtyPWZ1bmN0aW9uKHQpe3JldHVybiB1LmdldCh0KX0sbz1mdW5jdGlvbih0LGUpe3JldHVybiB1LnNldCh0LGUpLGV9fWVsc2V7dmFyIGY9W10scD0xMCxoPTA7cj1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPGYubGVuZ3RoO2UrPTIpaWYoZltlXT09dClyZXR1cm4gZltlKzFdfSxvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGg9PXAmJihoPTApLGZbaCsrXT10LGZbaCsrXT1lfX12YXIgZD1mdW5jdGlvbih0LGUsbixyKXt0aGlzLmxlZnQ9dCx0aGlzLnRvcD1lLHRoaXMucmlnaHQ9bix0aGlzLmJvdHRvbT1yfSx2PWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMud2lkdGg9dCx0aGlzLmhlaWdodD1lLHRoaXMubWFwPW4sdGhpcy5wcm9ibGVtcz1yfTtmdW5jdGlvbiBtKHQpe2lmKCJ0YWJsZSIhPXQudHlwZS5zcGVjLnRhYmxlUm9sZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiTm90IGEgdGFibGUgbm9kZTogIit0LnR5cGUubmFtZSk7Zm9yKHZhciBlPWcodCksbj10LmNoaWxkQ291bnQscj1bXSxvPTAsaT1udWxsLGE9W10scz0wLGM9ZSpuO3M8YztzKyspcltzXT0wO2Zvcih2YXIgbD0wLHU9MDtsPG47bCsrKXt2YXIgZj10LmNoaWxkKGwpO3UrKztmb3IodmFyIHA9MDs7cCsrKXt3aGlsZShvPHIubGVuZ3RoJiYwIT1yW29dKW8rKztpZihwPT1mLmNoaWxkQ291bnQpYnJlYWs7Zm9yKHZhciBoPWYuY2hpbGQocCksZD1oLmF0dHJzLG09ZC5jb2xzcGFuLHc9ZC5yb3dzcGFuLGI9ZC5jb2x3aWR0aCxrPTA7azx3O2srKyl7aWYoaytsPj1uKXsoaXx8KGk9W10pKS5wdXNoKHt0eXBlOiJvdmVybG9uZ19yb3dzcGFuIixwb3M6dSxuOncta30pO2JyZWFrfWZvcih2YXIgUz1vK2sqZSx4PTA7eDxtO3grKyl7MD09cltTK3hdP3JbUyt4XT11OihpfHwoaT1bXSkpLnB1c2goe3R5cGU6ImNvbGxpc2lvbiIscm93OmwscG9zOnUsbjptLXh9KTt2YXIgQz1iJiZiW3hdO2lmKEMpe3ZhciBNPShTK3gpJWUqMixPPWFbTV07bnVsbD09T3x8TyE9QyYmMT09YVtNKzFdPyhhW01dPUMsYVtNKzFdPTEpOk89PUMmJmFbTSsxXSsrfX19bys9bSx1Kz1oLm5vZGVTaXplfXZhciBBPShsKzEpKmUsVD0wO3doaWxlKG88QSkwPT1yW28rK10mJlQrKztUJiYoaXx8KGk9W10pKS5wdXNoKHt0eXBlOiJtaXNzaW5nIixyb3c6bCxuOlR9KSx1Kyt9Zm9yKHZhciBOPW5ldyB2KGUsbixyLGkpLEU9ITEsXz0wOyFFJiZfPGEubGVuZ3RoO18rPTIpbnVsbCE9YVtfXSYmYVtfKzFdPG4mJihFPSEwKTtyZXR1cm4gRSYmeShOLGEsdCksTn1mdW5jdGlvbiBnKHQpe2Zvcih2YXIgZT0tMSxuPSExLHI9MDtyPHQuY2hpbGRDb3VudDtyKyspe3ZhciBvPXQuY2hpbGQociksaT0wO2lmKG4pZm9yKHZhciBhPTA7YTxyO2ErKylmb3IodmFyIHM9dC5jaGlsZChhKSxjPTA7YzxzLmNoaWxkQ291bnQ7YysrKXt2YXIgbD1zLmNoaWxkKGMpO2ErbC5hdHRycy5yb3dzcGFuPnImJihpKz1sLmF0dHJzLmNvbHNwYW4pfWZvcih2YXIgdT0wO3U8by5jaGlsZENvdW50O3UrKyl7dmFyIGY9by5jaGlsZCh1KTtpKz1mLmF0dHJzLmNvbHNwYW4sZi5hdHRycy5yb3dzcGFuPjEmJihuPSEwKX0tMT09ZT9lPWk6ZSE9aSYmKGU9TWF0aC5tYXgoZSxpKSl9cmV0dXJuIGV9ZnVuY3Rpb24geSh0LGUsbil7dC5wcm9ibGVtc3x8KHQucHJvYmxlbXM9W10pO2Zvcih2YXIgcj0wLG89e307cjx0Lm1hcC5sZW5ndGg7cisrKXt2YXIgaT10Lm1hcFtyXTtpZighb1tpXSl7b1tpXT0hMDtmb3IodmFyIGE9bi5ub2RlQXQoaSkscz1udWxsLGM9MDtjPGEuYXR0cnMuY29sc3BhbjtjKyspe3ZhciBsPShyK2MpJXQud2lkdGgsdT1lWzIqbF07bnVsbD09dXx8YS5hdHRycy5jb2x3aWR0aCYmYS5hdHRycy5jb2x3aWR0aFtjXT09dXx8KChzfHwocz13KGEuYXR0cnMpKSlbY109dSl9cyYmdC5wcm9ibGVtcy51bnNoaWZ0KHt0eXBlOiJjb2x3aWR0aCBtaXNtYXRjaCIscG9zOmksY29sd2lkdGg6c30pfX19ZnVuY3Rpb24gdyh0KXtpZih0LmNvbHdpZHRoKXJldHVybiB0LmNvbHdpZHRoLnNsaWNlKCk7Zm9yKHZhciBlPVtdLG49MDtuPHQuY29sc3BhbjtuKyspZS5wdXNoKDApO3JldHVybiBlfXYucHJvdG90eXBlLmZpbmRDZWxsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLG49MDtuPHRoaXMubWFwLmxlbmd0aDtuKyspe3ZhciByPWUubWFwW25dO2lmKHI9PXQpe2Zvcih2YXIgbz1uJWUud2lkdGgsaT1uL2Uud2lkdGh8MCxhPW8rMSxzPWkrMSxjPTE7YTx0aGlzLndpZHRoJiZ0aGlzLm1hcFtuK2NdPT1yO2MrKylhKys7Zm9yKHZhciBsPTE7czx0aGlzLmhlaWdodCYmdGhpcy5tYXBbbit0aGlzLndpZHRoKmxdPT1yO2wrKylzKys7cmV0dXJuIG5ldyBkKG8saSxhLHMpfX10aHJvdyBuZXcgUmFuZ2VFcnJvcigiTm8gY2VsbCB3aXRoIG9mZnNldCAiK3QrIiBmb3VuZCIpfSx2LnByb3RvdHlwZS5jb2xDb3VudD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxuPTA7bjx0aGlzLm1hcC5sZW5ndGg7bisrKWlmKGUubWFwW25dPT10KXJldHVybiBuJWUud2lkdGg7dGhyb3cgbmV3IFJhbmdlRXJyb3IoIk5vIGNlbGwgd2l0aCBvZmZzZXQgIit0KyIgZm91bmQiKX0sdi5wcm90b3R5cGUubmV4dENlbGw9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuZmluZENlbGwodCksbz1yLmxlZnQsaT1yLnJpZ2h0LGE9ci50b3Ascz1yLmJvdHRvbTtyZXR1cm4iaG9yaXoiPT1lPyhuPDA/MD09bzppPT10aGlzLndpZHRoKT9udWxsOnRoaXMubWFwW2EqdGhpcy53aWR0aCsobjwwP28tMTppKV06KG48MD8wPT1hOnM9PXRoaXMuaGVpZ2h0KT9udWxsOnRoaXMubWFwW28rdGhpcy53aWR0aCoobjwwP2EtMTpzKV19LHYucHJvdG90eXBlLnJlY3RCZXR3ZWVuPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5maW5kQ2VsbCh0KSxyPW4ubGVmdCxvPW4ucmlnaHQsaT1uLnRvcCxhPW4uYm90dG9tLHM9dGhpcy5maW5kQ2VsbChlKSxjPXMubGVmdCxsPXMucmlnaHQsdT1zLnRvcCxmPXMuYm90dG9tO3JldHVybiBuZXcgZChNYXRoLm1pbihyLGMpLE1hdGgubWluKGksdSksTWF0aC5tYXgobyxsKSxNYXRoLm1heChhLGYpKX0sdi5wcm90b3R5cGUuY2VsbHNJblJlY3Q9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj1bXSxyPXt9LG89dC50b3A7bzx0LmJvdHRvbTtvKyspZm9yKHZhciBpPXQubGVmdDtpPHQucmlnaHQ7aSsrKXt2YXIgYT1vKmUud2lkdGgraSxzPWUubWFwW2FdO3Jbc118fChyW3NdPSEwLGk9PXQubGVmdCYmaSYmZS5tYXBbYS0xXT09c3x8bz09dC50b3AmJm8mJmUubWFwW2EtZS53aWR0aF09PXN8fG4ucHVzaChzKSl9cmV0dXJuIG59LHYucHJvdG90eXBlLnBvc2l0aW9uQXQ9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj10aGlzLG89MCxpPTA7O28rKyl7dmFyIGE9aStuLmNoaWxkKG8pLm5vZGVTaXplO2lmKG89PXQpe3ZhciBzPWUrdCpyLndpZHRoLGM9KHQrMSkqci53aWR0aDt3aGlsZShzPGMmJnRoaXMubWFwW3NdPGkpcysrO3JldHVybiBzPT1jP2EtMTpyLm1hcFtzXX1pPWF9fSx2LmdldD1mdW5jdGlvbih0KXtyZXR1cm4gcih0KXx8byh0LG0odCkpfTt2YXIgYj1uZXcgaS5QbHVnaW5LZXkoInNlbGVjdGluZ0NlbGxzIik7ZnVuY3Rpb24gayh0KXtmb3IodmFyIGU9dC5kZXB0aC0xO2U+MDtlLS0paWYoInJvdyI9PXQubm9kZShlKS50eXBlLnNwZWMudGFibGVSb2xlKXJldHVybiB0Lm5vZGUoMCkucmVzb2x2ZSh0LmJlZm9yZShlKzEpKTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBTKHQpe2Zvcih2YXIgZT10LmRlcHRoO2U+MDtlLS0pe3ZhciBuPXQubm9kZShlKS50eXBlLnNwZWMudGFibGVSb2xlO2lmKCJjZWxsIj09PW58fCJoZWFkZXJfY2VsbCI9PT1uKXJldHVybiB0Lm5vZGUoZSl9cmV0dXJuIG51bGx9ZnVuY3Rpb24geCh0KXtmb3IodmFyIGU9dC5zZWxlY3Rpb24uJGhlYWQsbj1lLmRlcHRoO24+MDtuLS0paWYoInJvdyI9PWUubm9kZShuKS50eXBlLnNwZWMudGFibGVSb2xlKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIEModCl7dmFyIGU9dC5zZWxlY3Rpb247cmV0dXJuIGUuJGFuY2hvckNlbGw/ZS4kYW5jaG9yQ2VsbC5wb3M+ZS4kaGVhZENlbGwucG9zP2UuJGFuY2hvckNlbGw6ZS4kaGVhZENlbGw6ZS5ub2RlJiYiY2VsbCI9PWUubm9kZS50eXBlLnNwZWMudGFibGVSb2xlP2UuJGFuY2hvcjprKGUuJGhlYWQpfHxNKGUuJGhlYWQpfWZ1bmN0aW9uIE0odCl7Zm9yKHZhciBlPXQubm9kZUFmdGVyLG49dC5wb3M7ZTtlPWUuZmlyc3RDaGlsZCxuKyspe3ZhciByPWUudHlwZS5zcGVjLnRhYmxlUm9sZTtpZigiY2VsbCI9PXJ8fCJoZWFkZXJfY2VsbCI9PXIpcmV0dXJuIHQuZG9jLnJlc29sdmUobil9Zm9yKHZhciBvPXQubm9kZUJlZm9yZSxpPXQucG9zO287bz1vLmxhc3RDaGlsZCxpLS0pe3ZhciBhPW8udHlwZS5zcGVjLnRhYmxlUm9sZTtpZigiY2VsbCI9PWF8fCJoZWFkZXJfY2VsbCI9PWEpcmV0dXJuIHQuZG9jLnJlc29sdmUoaS1vLm5vZGVTaXplKX19ZnVuY3Rpb24gTyh0KXtyZXR1cm4icm93Ij09dC5wYXJlbnQudHlwZS5zcGVjLnRhYmxlUm9sZSYmdC5ub2RlQWZ0ZXJ9ZnVuY3Rpb24gQSh0KXtyZXR1cm4gdC5ub2RlKDApLnJlc29sdmUodC5wb3MrdC5ub2RlQWZ0ZXIubm9kZVNpemUpfWZ1bmN0aW9uIFQodCxlKXtyZXR1cm4gdC5kZXB0aD09ZS5kZXB0aCYmdC5wb3M+PWUuc3RhcnQoLTEpJiZ0LnBvczw9ZS5lbmQoLTEpfWZ1bmN0aW9uIE4odCl7cmV0dXJuIHYuZ2V0KHQubm9kZSgtMSkpLmZpbmRDZWxsKHQucG9zLXQuc3RhcnQoLTEpKX1mdW5jdGlvbiBFKHQpe3JldHVybiB2LmdldCh0Lm5vZGUoLTEpKS5jb2xDb3VudCh0LnBvcy10LnN0YXJ0KC0xKSl9ZnVuY3Rpb24gXyh0LGUsbil7dmFyIHI9dC5zdGFydCgtMSksbz12LmdldCh0Lm5vZGUoLTEpKSxpPW8ubmV4dENlbGwodC5wb3MtcixlLG4pO3JldHVybiBudWxsPT1pP251bGw6dC5ub2RlKDApLnJlc29sdmUocitpKX1mdW5jdGlvbiBSKHQsZSxuKXt2YXIgcj17fTtmb3IodmFyIG8gaW4gdClyW29dPXRbb107cmV0dXJuIHJbZV09bixyfWZ1bmN0aW9uIEQodCxlLG4pe3ZvaWQgMD09PW4mJihuPTEpO3ZhciByPVIodCwiY29sc3BhbiIsdC5jb2xzcGFuLW4pO3JldHVybiByLmNvbHdpZHRoJiYoci5jb2x3aWR0aD1yLmNvbHdpZHRoLnNsaWNlKCksci5jb2x3aWR0aC5zcGxpY2UoZSxuKSxyLmNvbHdpZHRoLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiB0PjB9KSl8fChyLmNvbHdpZHRoPW51bGwpKSxyfWZ1bmN0aW9uIFAodCxlLG4pe3ZvaWQgMD09PW4mJihuPTEpO3ZhciByPVIodCwiY29sc3BhbiIsdC5jb2xzcGFuK24pO2lmKHIuY29sd2lkdGgpe3IuY29sd2lkdGg9ci5jb2x3aWR0aC5zbGljZSgpO2Zvcih2YXIgbz0wO288bjtvKyspci5jb2x3aWR0aC5zcGxpY2UoZSwwLDApfXJldHVybiByfXZhciB6PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2b2lkIDA9PT1uJiYobj1lKTt2YXIgcj1lLm5vZGUoLTEpLG89di5nZXQociksYT1lLnN0YXJ0KC0xKSxzPW8ucmVjdEJldHdlZW4oZS5wb3MtYSxuLnBvcy1hKSxjPWUubm9kZSgwKSxsPW8uY2VsbHNJblJlY3QocykuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdCE9bi5wb3MtYX0pKTtsLnVuc2hpZnQobi5wb3MtYSk7dmFyIHU9bC5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBlPXIubm9kZUF0KHQpLG49dCthKzE7cmV0dXJuIG5ldyBpLlNlbGVjdGlvblJhbmdlKGMucmVzb2x2ZShuKSxjLnJlc29sdmUobitlLmNvbnRlbnQuc2l6ZSkpfSkpO3QuY2FsbCh0aGlzLHVbMF0uJGZyb20sdVswXS4kdG8sdSksdGhpcy4kYW5jaG9yQ2VsbD1lLHRoaXMuJGhlYWRDZWxsPW59cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LG4pe3ZhciByPXQucmVzb2x2ZShuLm1hcCh0aGlzLiRhbmNob3JDZWxsLnBvcykpLG89dC5yZXNvbHZlKG4ubWFwKHRoaXMuJGhlYWRDZWxsLnBvcykpO2lmKE8ocikmJk8obykmJlQocixvKSl7dmFyIGE9dGhpcy4kYW5jaG9yQ2VsbC5ub2RlKC0xKSE9ci5ub2RlKC0xKTtyZXR1cm4gYSYmdGhpcy5pc1Jvd1NlbGVjdGlvbigpP2Uucm93U2VsZWN0aW9uKHIsbyk6YSYmdGhpcy5pc0NvbFNlbGVjdGlvbigpP2UuY29sU2VsZWN0aW9uKHIsbyk6bmV3IGUocixvKX1yZXR1cm4gaS5UZXh0U2VsZWN0aW9uLmJldHdlZW4ocixvKX0sZS5wcm90b3R5cGUuY29udGVudD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLiRhbmNob3JDZWxsLm5vZGUoLTEpLGU9di5nZXQodCksbj10aGlzLiRhbmNob3JDZWxsLnN0YXJ0KC0xKSxyPWUucmVjdEJldHdlZW4odGhpcy4kYW5jaG9yQ2VsbC5wb3Mtbix0aGlzLiRoZWFkQ2VsbC5wb3Mtbiksbz17fSxpPVtdLGE9ci50b3A7YTxyLmJvdHRvbTthKyspe2Zvcih2YXIgYz1bXSxsPWEqZS53aWR0aCtyLmxlZnQsdT1yLmxlZnQ7dTxyLnJpZ2h0O3UrKyxsKyspe3ZhciBmPWUubWFwW2xdO2lmKCFvW2ZdKXtvW2ZdPSEwO3ZhciBwPWUuZmluZENlbGwoZiksaD10Lm5vZGVBdChmKSxkPXIubGVmdC1wLmxlZnQsbT1wLnJpZ2h0LXIucmlnaHQ7aWYoZD4wfHxtPjApe3ZhciBnPWguYXR0cnM7ZD4wJiYoZz1EKGcsMCxkKSksbT4wJiYoZz1EKGcsZy5jb2xzcGFuLW0sbSkpLGg9cC5sZWZ0PHIubGVmdD9oLnR5cGUuY3JlYXRlQW5kRmlsbChnKTpoLnR5cGUuY3JlYXRlKGcsaC5jb250ZW50KX1pZihwLnRvcDxyLnRvcHx8cC5ib3R0b20+ci5ib3R0b20pe3ZhciB5PVIoaC5hdHRycywicm93c3BhbiIsTWF0aC5taW4ocC5ib3R0b20sci5ib3R0b20pLU1hdGgubWF4KHAudG9wLHIudG9wKSk7aD1wLnRvcDxyLnRvcD9oLnR5cGUuY3JlYXRlQW5kRmlsbCh5KTpoLnR5cGUuY3JlYXRlKHksaC5jb250ZW50KX1jLnB1c2goaCl9fWkucHVzaCh0LmNoaWxkKGEpLmNvcHkocy5GcmFnbWVudC5mcm9tKGMpKSl9dmFyIHc9dGhpcy5pc0NvbFNlbGVjdGlvbigpJiZ0aGlzLmlzUm93U2VsZWN0aW9uKCk/dDppO3JldHVybiBuZXcgcy5TbGljZShzLkZyYWdtZW50LmZyb20odyksMSwxKX0sZS5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbihlLG4pe3ZvaWQgMD09PW4mJihuPXMuU2xpY2UuZW1wdHkpO2Zvcih2YXIgcj1lLnN0ZXBzLmxlbmd0aCxvPXRoaXMucmFuZ2VzLGk9MDtpPG8ubGVuZ3RoO2krKyl7dmFyIGE9b1tpXSxjPWEuJGZyb20sbD1hLiR0byx1PWUubWFwcGluZy5zbGljZShyKTtlLnJlcGxhY2UodS5tYXAoYy5wb3MpLHUubWFwKGwucG9zKSxpP3MuU2xpY2UuZW1wdHk6bil9dmFyIGY9dC5maW5kRnJvbShlLmRvYy5yZXNvbHZlKGUubWFwcGluZy5zbGljZShyKS5tYXAodGhpcy50bykpLC0xKTtmJiZlLnNldFNlbGVjdGlvbihmKX0sZS5wcm90b3R5cGUucmVwbGFjZVdpdGg9ZnVuY3Rpb24odCxlKXt0aGlzLnJlcGxhY2UodCxuZXcgcy5TbGljZShzLkZyYWdtZW50LmZyb20oZSksMCwwKSl9LGUucHJvdG90eXBlLmZvckVhY2hDZWxsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLiRhbmNob3JDZWxsLm5vZGUoLTEpLG49di5nZXQoZSkscj10aGlzLiRhbmNob3JDZWxsLnN0YXJ0KC0xKSxvPW4uY2VsbHNJblJlY3Qobi5yZWN0QmV0d2Vlbih0aGlzLiRhbmNob3JDZWxsLnBvcy1yLHRoaXMuJGhlYWRDZWxsLnBvcy1yKSksaT0wO2k8by5sZW5ndGg7aSsrKXQoZS5ub2RlQXQob1tpXSkscitvW2ldKX0sZS5wcm90b3R5cGUuaXNDb2xTZWxlY3Rpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLiRhbmNob3JDZWxsLmluZGV4KC0xKSxlPXRoaXMuJGhlYWRDZWxsLmluZGV4KC0xKTtpZihNYXRoLm1pbih0LGUpPjApcmV0dXJuITE7dmFyIG49dCt0aGlzLiRhbmNob3JDZWxsLm5vZGVBZnRlci5hdHRycy5yb3dzcGFuLHI9ZSt0aGlzLiRoZWFkQ2VsbC5ub2RlQWZ0ZXIuYXR0cnMucm93c3BhbjtyZXR1cm4gTWF0aC5tYXgobixyKT09dGhpcy4kaGVhZENlbGwubm9kZSgtMSkuY2hpbGRDb3VudH0sZS5jb2xTZWxlY3Rpb249ZnVuY3Rpb24odCxuKXt2b2lkIDA9PT1uJiYobj10KTt2YXIgcj12LmdldCh0Lm5vZGUoLTEpKSxvPXQuc3RhcnQoLTEpLGk9ci5maW5kQ2VsbCh0LnBvcy1vKSxhPXIuZmluZENlbGwobi5wb3Mtbykscz10Lm5vZGUoMCk7cmV0dXJuIGkudG9wPD1hLnRvcD8oaS50b3A+MCYmKHQ9cy5yZXNvbHZlKG8rci5tYXBbaS5sZWZ0XSkpLGEuYm90dG9tPHIuaGVpZ2h0JiYobj1zLnJlc29sdmUobytyLm1hcFtyLndpZHRoKihyLmhlaWdodC0xKSthLnJpZ2h0LTFdKSkpOihhLnRvcD4wJiYobj1zLnJlc29sdmUobytyLm1hcFthLmxlZnRdKSksaS5ib3R0b208ci5oZWlnaHQmJih0PXMucmVzb2x2ZShvK3IubWFwW3Iud2lkdGgqKHIuaGVpZ2h0LTEpK2kucmlnaHQtMV0pKSksbmV3IGUodCxuKX0sZS5wcm90b3R5cGUuaXNSb3dTZWxlY3Rpb249ZnVuY3Rpb24oKXt2YXIgdD12LmdldCh0aGlzLiRhbmNob3JDZWxsLm5vZGUoLTEpKSxlPXRoaXMuJGFuY2hvckNlbGwuc3RhcnQoLTEpLG49dC5jb2xDb3VudCh0aGlzLiRhbmNob3JDZWxsLnBvcy1lKSxyPXQuY29sQ291bnQodGhpcy4kaGVhZENlbGwucG9zLWUpO2lmKE1hdGgubWluKG4scik+MClyZXR1cm4hMTt2YXIgbz1uK3RoaXMuJGFuY2hvckNlbGwubm9kZUFmdGVyLmF0dHJzLmNvbHNwYW4saT1yK3RoaXMuJGhlYWRDZWxsLm5vZGVBZnRlci5hdHRycy5jb2xzcGFuO3JldHVybiBNYXRoLm1heChvLGkpPT10LndpZHRofSxlLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGUmJnQuJGFuY2hvckNlbGwucG9zPT10aGlzLiRhbmNob3JDZWxsLnBvcyYmdC4kaGVhZENlbGwucG9zPT10aGlzLiRoZWFkQ2VsbC5wb3N9LGUucm93U2VsZWN0aW9uPWZ1bmN0aW9uKHQsbil7dm9pZCAwPT09biYmKG49dCk7dmFyIHI9di5nZXQodC5ub2RlKC0xKSksbz10LnN0YXJ0KC0xKSxpPXIuZmluZENlbGwodC5wb3MtbyksYT1yLmZpbmRDZWxsKG4ucG9zLW8pLHM9dC5ub2RlKDApO3JldHVybiBpLmxlZnQ8PWEubGVmdD8oaS5sZWZ0PjAmJih0PXMucmVzb2x2ZShvK3IubWFwW2kudG9wKnIud2lkdGhdKSksYS5yaWdodDxyLndpZHRoJiYobj1zLnJlc29sdmUobytyLm1hcFtyLndpZHRoKihhLnRvcCsxKS0xXSkpKTooYS5sZWZ0PjAmJihuPXMucmVzb2x2ZShvK3IubWFwW2EudG9wKnIud2lkdGhdKSksaS5yaWdodDxyLndpZHRoJiYodD1zLnJlc29sdmUobytyLm1hcFtyLndpZHRoKihpLnRvcCsxKS0xXSkpKSxuZXcgZSh0LG4pfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZToiY2VsbCIsYW5jaG9yOnRoaXMuJGFuY2hvckNlbGwucG9zLGhlYWQ6dGhpcy4kaGVhZENlbGwucG9zfX0sZS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe3JldHVybiBuZXcgZSh0LnJlc29sdmUobi5hbmNob3IpLHQucmVzb2x2ZShuLmhlYWQpKX0sZS5jcmVhdGU9ZnVuY3Rpb24odCxuLHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj1uKSxuZXcgZSh0LnJlc29sdmUobiksdC5yZXNvbHZlKHIpKX0sZS5wcm90b3R5cGUuZ2V0Qm9va21hcms9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEkodGhpcy4kYW5jaG9yQ2VsbC5wb3MsdGhpcy4kaGVhZENlbGwucG9zKX0sZX0oaS5TZWxlY3Rpb24pO3oucHJvdG90eXBlLnZpc2libGU9ITEsaS5TZWxlY3Rpb24uanNvbklEKCJjZWxsIix6KTt2YXIgST1mdW5jdGlvbih0LGUpe3RoaXMuYW5jaG9yPXQsdGhpcy5oZWFkPWV9O2Z1bmN0aW9uIGoodCl7aWYoISh0LnNlbGVjdGlvbiBpbnN0YW5jZW9mIHopKXJldHVybiBudWxsO3ZhciBlPVtdO3JldHVybiB0LnNlbGVjdGlvbi5mb3JFYWNoQ2VsbCgoZnVuY3Rpb24odCxuKXtlLnB1c2goYS5EZWNvcmF0aW9uLm5vZGUobixuK3Qubm9kZVNpemUse2NsYXNzOiJzZWxlY3RlZENlbGwifSkpfSkpLGEuRGVjb3JhdGlvblNldC5jcmVhdGUodC5kb2MsZSl9ZnVuY3Rpb24gQih0KXt2YXIgZT10LiRmcm9tLG49dC4kdG87aWYoZS5wb3M9PW4ucG9zfHxlLnBvczxlLnBvcy02KXJldHVybiExO2Zvcih2YXIgcj1lLnBvcyxvPW4ucG9zLGk9ZS5kZXB0aDtpPj0wO2ktLSxyKyspaWYoZS5hZnRlcihpKzEpPGUuZW5kKGkpKWJyZWFrO2Zvcih2YXIgYT1uLmRlcHRoO2E+PTA7YS0tLG8tLSlpZihuLmJlZm9yZShhKzEpPm4uc3RhcnQoYSkpYnJlYWs7cmV0dXJuIHI9PW8mJi9yb3d8dGFibGUvLnRlc3QoZS5ub2RlKGkpLnR5cGUuc3BlYy50YWJsZVJvbGUpfWZ1bmN0aW9uICQodCl7Zm9yKHZhciBlLG4scj10LiRmcm9tLG89dC4kdG8saT1yLmRlcHRoO2k+MDtpLS0pe3ZhciBhPXIubm9kZShpKTtpZigiY2VsbCI9PT1hLnR5cGUuc3BlYy50YWJsZVJvbGV8fCJoZWFkZXJfY2VsbCI9PT1hLnR5cGUuc3BlYy50YWJsZVJvbGUpe2U9YTticmVha319Zm9yKHZhciBzPW8uZGVwdGg7cz4wO3MtLSl7dmFyIGM9by5ub2RlKHMpO2lmKCJjZWxsIj09PWMudHlwZS5zcGVjLnRhYmxlUm9sZXx8ImhlYWRlcl9jZWxsIj09PWMudHlwZS5zcGVjLnRhYmxlUm9sZSl7bj1jO2JyZWFrfX1yZXR1cm4gZSE9PW4mJjA9PT1vLnBhcmVudE9mZnNldH1mdW5jdGlvbiBGKHQsZSxuKXt2YXIgcixvLGE9KGV8fHQpLnNlbGVjdGlvbixzPShlfHx0KS5kb2M7aWYoYSBpbnN0YW5jZW9mIGkuTm9kZVNlbGVjdGlvbiYmKG89YS5ub2RlLnR5cGUuc3BlYy50YWJsZVJvbGUpKXtpZigiY2VsbCI9PW98fCJoZWFkZXJfY2VsbCI9PW8pcj16LmNyZWF0ZShzLGEuZnJvbSk7ZWxzZSBpZigicm93Ij09byl7dmFyIGM9cy5yZXNvbHZlKGEuZnJvbSsxKTtyPXoucm93U2VsZWN0aW9uKGMsYyl9ZWxzZSBpZighbil7dmFyIGw9di5nZXQoYS5ub2RlKSx1PWEuZnJvbSsxLGY9dStsLm1hcFtsLndpZHRoKmwuaGVpZ2h0LTFdO3I9ei5jcmVhdGUocyx1KzEsZil9fWVsc2UgYSBpbnN0YW5jZW9mIGkuVGV4dFNlbGVjdGlvbiYmQihhKT9yPWkuVGV4dFNlbGVjdGlvbi5jcmVhdGUocyxhLmZyb20pOmEgaW5zdGFuY2VvZiBpLlRleHRTZWxlY3Rpb24mJiQoYSkmJihyPWkuVGV4dFNlbGVjdGlvbi5jcmVhdGUocyxhLiRmcm9tLnN0YXJ0KCksYS4kZnJvbS5lbmQoKSkpO3JldHVybiByJiYoZXx8KGU9dC50cikpLnNldFNlbGVjdGlvbihyKSxlfWZ1bmN0aW9uIFYodCxlKXt2YXIgbj10LmdldEF0dHJpYnV0ZSgiZGF0YS1jb2x3aWR0aCIpLHI9biYmL15cZCsoLFxkKykqJC8udGVzdChuKT9uLnNwbGl0KCIsIikubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gTnVtYmVyKHQpfSkpOm51bGwsbz1OdW1iZXIodC5nZXRBdHRyaWJ1dGUoImNvbHNwYW4iKXx8MSksaT17Y29sc3BhbjpvLHJvd3NwYW46TnVtYmVyKHQuZ2V0QXR0cmlidXRlKCJyb3dzcGFuIil8fDEpLGNvbHdpZHRoOnImJnIubGVuZ3RoPT1vP3I6bnVsbH07Zm9yKHZhciBhIGluIGUpe3ZhciBzPWVbYV0uZ2V0RnJvbURPTSxjPXMmJnModCk7bnVsbCE9YyYmKGlbYV09Yyl9cmV0dXJuIGl9ZnVuY3Rpb24gTCh0LGUpe3ZhciBuPXt9O2Zvcih2YXIgciBpbiAxIT10LmF0dHJzLmNvbHNwYW4mJihuLmNvbHNwYW49dC5hdHRycy5jb2xzcGFuKSwxIT10LmF0dHJzLnJvd3NwYW4mJihuLnJvd3NwYW49dC5hdHRycy5yb3dzcGFuKSx0LmF0dHJzLmNvbHdpZHRoJiYoblsiZGF0YS1jb2x3aWR0aCJdPXQuYXR0cnMuY29sd2lkdGguam9pbigiLCIpKSxlKXt2YXIgbz1lW3JdLnNldERPTUF0dHI7byYmbyh0LmF0dHJzW3JdLG4pfXJldHVybiBufWZ1bmN0aW9uIEgodCl7dmFyIGU9dC5jZWxsQXR0cmlidXRlc3x8e30sbj17Y29sc3Bhbjp7ZGVmYXVsdDoxfSxyb3dzcGFuOntkZWZhdWx0OjF9LGNvbHdpZHRoOntkZWZhdWx0Om51bGx9fTtmb3IodmFyIHIgaW4gZSluW3JdPXtkZWZhdWx0OmVbcl0uZGVmYXVsdH07cmV0dXJue3RhYmxlOntjb250ZW50OiJ0YWJsZV9yb3crIix0YWJsZVJvbGU6InRhYmxlIixpc29sYXRpbmc6ITAsZ3JvdXA6dC50YWJsZUdyb3VwLHBhcnNlRE9NOlt7dGFnOiJ0YWJsZSJ9XSx0b0RPTTpmdW5jdGlvbigpe3JldHVyblsidGFibGUiLFsidGJvZHkiLDBdXX19LHRhYmxlX3Jvdzp7Y29udGVudDoiKHRhYmxlX2NlbGwgfCB0YWJsZV9oZWFkZXIpKiIsdGFibGVSb2xlOiJyb3ciLHBhcnNlRE9NOlt7dGFnOiJ0ciJ9XSx0b0RPTTpmdW5jdGlvbigpe3JldHVyblsidHIiLDBdfX0sdGFibGVfY2VsbDp7Y29udGVudDp0LmNlbGxDb250ZW50LGF0dHJzOm4sdGFibGVSb2xlOiJjZWxsIixpc29sYXRpbmc6ITAscGFyc2VET006W3t0YWc6InRkIixnZXRBdHRyczpmdW5jdGlvbih0KXtyZXR1cm4gVih0LGUpfX1dLHRvRE9NOmZ1bmN0aW9uKHQpe3JldHVyblsidGQiLEwodCxlKSwwXX19LHRhYmxlX2hlYWRlcjp7Y29udGVudDp0LmNlbGxDb250ZW50LGF0dHJzOm4sdGFibGVSb2xlOiJoZWFkZXJfY2VsbCIsaXNvbGF0aW5nOiEwLHBhcnNlRE9NOlt7dGFnOiJ0aCIsZ2V0QXR0cnM6ZnVuY3Rpb24odCl7cmV0dXJuIFYodCxlKX19XSx0b0RPTTpmdW5jdGlvbih0KXtyZXR1cm5bInRoIixMKHQsZSksMF19fX19ZnVuY3Rpb24gVyh0KXt2YXIgZT10LmNhY2hlZC50YWJsZU5vZGVUeXBlcztpZighZSlmb3IodmFyIG4gaW4gZT10LmNhY2hlZC50YWJsZU5vZGVUeXBlcz17fSx0Lm5vZGVzKXt2YXIgcj10Lm5vZGVzW25dLG89ci5zcGVjLnRhYmxlUm9sZTtvJiYoZVtvXT1yKX1yZXR1cm4gZX1mdW5jdGlvbiBKKHQpe2lmKCF0LnNpemUpcmV0dXJuIG51bGw7dmFyIGU9dC5jb250ZW50LG49dC5vcGVuU3RhcnQscj10Lm9wZW5FbmQ7d2hpbGUoMT09ZS5jaGlsZENvdW50JiYobj4wJiZyPjB8fCJ0YWJsZSI9PWUuZmlyc3RDaGlsZC50eXBlLnNwZWMudGFibGVSb2xlKSluLS0sci0tLGU9ZS5maXJzdENoaWxkLmNvbnRlbnQ7dmFyIG89ZS5maXJzdENoaWxkLGk9by50eXBlLnNwZWMudGFibGVSb2xlLGE9by50eXBlLnNjaGVtYSxjPVtdO2lmKCJyb3ciPT1pKWZvcih2YXIgbD0wO2w8ZS5jaGlsZENvdW50O2wrKyl7dmFyIHU9ZS5jaGlsZChsKS5jb250ZW50LGY9bD8wOk1hdGgubWF4KDAsbi0xKSxwPWw8ZS5jaGlsZENvdW50LTE/MDpNYXRoLm1heCgwLHItMSk7KGZ8fHApJiYodT1LKFcoYSkucm93LG5ldyBzLlNsaWNlKHUsZixwKSkuY29udGVudCksYy5wdXNoKHUpfWVsc2V7aWYoImNlbGwiIT1pJiYiaGVhZGVyX2NlbGwiIT1pKXJldHVybiBudWxsO2MucHVzaChufHxyP0soVyhhKS5yb3csbmV3IHMuU2xpY2UoZSxuLHIpKS5jb250ZW50OmUpfXJldHVybiBxKGEsYyl9ZnVuY3Rpb24gcSh0LGUpe2Zvcih2YXIgbj1bXSxyPTA7cjxlLmxlbmd0aDtyKyspZm9yKHZhciBvPWVbcl0saT1vLmNoaWxkQ291bnQtMTtpPj0wO2ktLSlmb3IodmFyIGE9by5jaGlsZChpKS5hdHRycyxjPWEucm93c3BhbixsPWEuY29sc3Bhbix1PXI7dTxyK2M7dSsrKW5bdV09KG5bdV18fDApK2w7Zm9yKHZhciBmPTAscD0wO3A8bi5sZW5ndGg7cCsrKWY9TWF0aC5tYXgoZixuW3BdKTtmb3IodmFyIGg9MDtoPG4ubGVuZ3RoO2grKylpZihoPj1lLmxlbmd0aCYmZS5wdXNoKHMuRnJhZ21lbnQuZW1wdHkpLG5baF08Zil7Zm9yKHZhciBkPVcodCkuY2VsbC5jcmVhdGVBbmRGaWxsKCksdj1bXSxtPW5baF07bTxmO20rKyl2LnB1c2goZCk7ZVtoXT1lW2hdLmFwcGVuZChzLkZyYWdtZW50LmZyb20odikpfXJldHVybntoZWlnaHQ6ZS5sZW5ndGgsd2lkdGg6Zixyb3dzOmV9fWZ1bmN0aW9uIEsodCxlKXt2YXIgbj10LmNyZWF0ZUFuZEZpbGwoKSxyPW5ldyBjLlRyYW5zZm9ybShuKS5yZXBsYWNlKDAsbi5jb250ZW50LnNpemUsZSk7cmV0dXJuIHIuZG9jfWZ1bmN0aW9uIFUodCxlLG4pe3ZhciByPXQud2lkdGgsbz10LmhlaWdodCxpPXQucm93cztpZihyIT1lKXtmb3IodmFyIGE9W10sYz1bXSxsPTA7bDxpLmxlbmd0aDtsKyspe2Zvcih2YXIgdT1pW2xdLGY9W10scD1hW2xdfHwwLGg9MDtwPGU7aCsrKXt2YXIgZD11LmNoaWxkKGgldS5jaGlsZENvdW50KTtwK2QuYXR0cnMuY29sc3Bhbj5lJiYoZD1kLnR5cGUuY3JlYXRlKEQoZC5hdHRycyxkLmF0dHJzLmNvbHNwYW4scCtkLmF0dHJzLmNvbHNwYW4tZSksZC5jb250ZW50KSksZi5wdXNoKGQpLHArPWQuYXR0cnMuY29sc3Bhbjtmb3IodmFyIHY9MTt2PGQuYXR0cnMucm93c3Bhbjt2KyspYVtsK3ZdPShhW2wrdl18fDApK2QuYXR0cnMuY29sc3Bhbn1jLnB1c2gocy5GcmFnbWVudC5mcm9tKGYpKX1pPWMscj1lfWlmKG8hPW4pe2Zvcih2YXIgbT1bXSxnPTAseT0wO2c8bjtnKysseSsrKXtmb3IodmFyIHc9W10sYj1pW3klb10saz0wO2s8Yi5jaGlsZENvdW50O2srKyl7dmFyIFM9Yi5jaGlsZChrKTtnK1MuYXR0cnMucm93c3Bhbj5uJiYoUz1TLnR5cGUuY3JlYXRlKFIoUy5hdHRycywicm93c3BhbiIsbi1TLmF0dHJzLnJvd3NwYW4pLFMuY29udGVudCkpLHcucHVzaChTKX1tLnB1c2gocy5GcmFnbWVudC5mcm9tKHcpKX1pPW0sbz1ufXJldHVybnt3aWR0aDpyLGhlaWdodDpvLHJvd3M6aX19ZnVuY3Rpb24gRyh0LGUsbixyLG8saSxhKXt2YXIgYyxsLHU9dC5kb2MudHlwZS5zY2hlbWEsZj1XKHUpO2lmKG8+ZS53aWR0aClmb3IodmFyIHA9MCxoPTA7cDxlLmhlaWdodDtwKyspe3ZhciBkPW4uY2hpbGQocCk7aCs9ZC5ub2RlU2l6ZTt2YXIgdj1bXSxtPXZvaWQgMDttPW51bGw9PWQubGFzdENoaWxkfHxkLmxhc3RDaGlsZC50eXBlPT1mLmNlbGw/Y3x8KGM9Zi5jZWxsLmNyZWF0ZUFuZEZpbGwoKSk6bHx8KGw9Zi5oZWFkZXJfY2VsbC5jcmVhdGVBbmRGaWxsKCkpO2Zvcih2YXIgZz1lLndpZHRoO2c8bztnKyspdi5wdXNoKG0pO3QuaW5zZXJ0KHQubWFwcGluZy5zbGljZShhKS5tYXAoaC0xK3IpLHYpfWlmKGk+ZS5oZWlnaHQpe2Zvcih2YXIgeT1bXSx3PTAsYj0oZS5oZWlnaHQtMSkqZS53aWR0aDt3PE1hdGgubWF4KGUud2lkdGgsbyk7dysrKXt2YXIgaz0hKHc+PWUud2lkdGgpJiZuLm5vZGVBdChlLm1hcFtiK3ddKS50eXBlPT1mLmhlYWRlcl9jZWxsO3kucHVzaChrP2x8fChsPWYuaGVhZGVyX2NlbGwuY3JlYXRlQW5kRmlsbCgpKTpjfHwoYz1mLmNlbGwuY3JlYXRlQW5kRmlsbCgpKSl9Zm9yKHZhciBTPWYucm93LmNyZWF0ZShudWxsLHMuRnJhZ21lbnQuZnJvbSh5KSkseD1bXSxDPWUuaGVpZ2h0O0M8aTtDKyspeC5wdXNoKFMpO3QuaW5zZXJ0KHQubWFwcGluZy5zbGljZShhKS5tYXAocituLm5vZGVTaXplLTIpLHgpfXJldHVybiEoIWMmJiFsKX1mdW5jdGlvbiBYKHQsZSxuLHIsbyxpLGEscyl7aWYoMD09YXx8YT09ZS5oZWlnaHQpcmV0dXJuITE7Zm9yKHZhciBjPSExLGw9bztsPGk7bCsrKXt2YXIgdT1hKmUud2lkdGgrbCxmPWUubWFwW3VdO2lmKGUubWFwW3UtZS53aWR0aF09PWYpe2M9ITA7dmFyIHA9bi5ub2RlQXQoZiksaD1lLmZpbmRDZWxsKGYpLGQ9aC50b3Asdj1oLmxlZnQ7dC5zZXROb2RlTWFya3VwKHQubWFwcGluZy5zbGljZShzKS5tYXAoZityKSxudWxsLFIocC5hdHRycywicm93c3BhbiIsYS1kKSksdC5pbnNlcnQodC5tYXBwaW5nLnNsaWNlKHMpLm1hcChlLnBvc2l0aW9uQXQoYSx2LG4pKSxwLnR5cGUuY3JlYXRlQW5kRmlsbChSKHAuYXR0cnMsInJvd3NwYW4iLGQrcC5hdHRycy5yb3dzcGFuLWEpKSksbCs9cC5hdHRycy5jb2xzcGFuLTF9fXJldHVybiBjfWZ1bmN0aW9uIFkodCxlLG4scixvLGksYSxzKXtpZigwPT1hfHxhPT1lLndpZHRoKXJldHVybiExO2Zvcih2YXIgYz0hMSxsPW87bDxpO2wrKyl7dmFyIHU9bCplLndpZHRoK2EsZj1lLm1hcFt1XTtpZihlLm1hcFt1LTFdPT1mKXtjPSEwO3ZhciBwPW4ubm9kZUF0KGYpLGg9ZS5jb2xDb3VudChmKSxkPXQubWFwcGluZy5zbGljZShzKS5tYXAoZityKTt0LnNldE5vZGVNYXJrdXAoZCxudWxsLEQocC5hdHRycyxhLWgscC5hdHRycy5jb2xzcGFuLShhLWgpKSksdC5pbnNlcnQoZCtwLm5vZGVTaXplLHAudHlwZS5jcmVhdGVBbmRGaWxsKEQocC5hdHRycywwLGEtaCkpKSxsKz1wLmF0dHJzLnJvd3NwYW4tMX19cmV0dXJuIGN9ZnVuY3Rpb24gUSh0LGUsbixyLG8pe3ZhciBpPW4/dC5kb2Mubm9kZUF0KG4tMSk6dC5kb2MsYT12LmdldChpKSxjPXIudG9wLGw9ci5sZWZ0LHU9bCtvLndpZHRoLGY9YytvLmhlaWdodCxwPXQudHIsaD0wO2Z1bmN0aW9uIGQoKXtpPW4/cC5kb2Mubm9kZUF0KG4tMSk6cC5kb2MsYT12LmdldChpKSxoPXAubWFwcGluZy5tYXBzLmxlbmd0aH1HKHAsYSxpLG4sdSxmLGgpJiZkKCksWChwLGEsaSxuLGwsdSxjLGgpJiZkKCksWChwLGEsaSxuLGwsdSxmLGgpJiZkKCksWShwLGEsaSxuLGMsZixsLGgpJiZkKCksWShwLGEsaSxuLGMsZix1LGgpJiZkKCk7Zm9yKHZhciBtPWM7bTxmO20rKyl7dmFyIGc9YS5wb3NpdGlvbkF0KG0sbCxpKSx5PWEucG9zaXRpb25BdChtLHUsaSk7cC5yZXBsYWNlKHAubWFwcGluZy5zbGljZShoKS5tYXAoZytuKSxwLm1hcHBpbmcuc2xpY2UoaCkubWFwKHkrbiksbmV3IHMuU2xpY2Uoby5yb3dzW20tY10sMCwwKSl9ZCgpLHAuc2V0U2VsZWN0aW9uKG5ldyB6KHAuZG9jLnJlc29sdmUobithLnBvc2l0aW9uQXQoYyxsLGkpKSxwLmRvYy5yZXNvbHZlKG4rYS5wb3NpdGlvbkF0KGYtMSx1LTEsaSkpKSksZShwKX1JLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBJKHQubWFwKHRoaXMuYW5jaG9yKSx0Lm1hcCh0aGlzLmhlYWQpKX0sSS5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0KXt2YXIgZT10LnJlc29sdmUodGhpcy5hbmNob3IpLG49dC5yZXNvbHZlKHRoaXMuaGVhZCk7cmV0dXJuInJvdyI9PWUucGFyZW50LnR5cGUuc3BlYy50YWJsZVJvbGUmJiJyb3ciPT1uLnBhcmVudC50eXBlLnNwZWMudGFibGVSb2xlJiZlLmluZGV4KCk8ZS5wYXJlbnQuY2hpbGRDb3VudCYmbi5pbmRleCgpPG4ucGFyZW50LmNoaWxkQ291bnQmJlQoZSxuKT9uZXcgeihlLG4pOmkuU2VsZWN0aW9uLm5lYXIobiwxKX07dmFyIFo9bC5rZXlkb3duSGFuZGxlcih7QXJyb3dMZWZ0OmV0KCJob3JpeiIsLTEpLEFycm93UmlnaHQ6ZXQoImhvcml6IiwxKSxBcnJvd1VwOmV0KCJ2ZXJ0IiwtMSksQXJyb3dEb3duOmV0KCJ2ZXJ0IiwxKSwiU2hpZnQtQXJyb3dMZWZ0IjpudCgiaG9yaXoiLC0xKSwiU2hpZnQtQXJyb3dSaWdodCI6bnQoImhvcml6IiwxKSwiU2hpZnQtQXJyb3dVcCI6bnQoInZlcnQiLC0xKSwiU2hpZnQtQXJyb3dEb3duIjpudCgidmVydCIsMSksQmFja3NwYWNlOnJ0LCJNb2QtQmFja3NwYWNlIjpydCxEZWxldGU6cnQsIk1vZC1EZWxldGUiOnJ0fSk7ZnVuY3Rpb24gdHQodCxlLG4pe3JldHVybiFuLmVxKHQuc2VsZWN0aW9uKSYmKGUmJmUodC50ci5zZXRTZWxlY3Rpb24obikuc2Nyb2xsSW50b1ZpZXcoKSksITApfWZ1bmN0aW9uIGV0KHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scixvKXt2YXIgYT1uLnNlbGVjdGlvbjtpZihhIGluc3RhbmNlb2YgeilyZXR1cm4gdHQobixyLGkuU2VsZWN0aW9uLm5lYXIoYS4kaGVhZENlbGwsZSkpO2lmKCJob3JpeiIhPXQmJiFhLmVtcHR5KXJldHVybiExO3ZhciBzPXN0KG8sdCxlKTtpZihudWxsPT1zKXJldHVybiExO2lmKCJob3JpeiI9PXQpcmV0dXJuIHR0KG4scixpLlNlbGVjdGlvbi5uZWFyKG4uZG9jLnJlc29sdmUoYS5oZWFkK2UpLGUpKTt2YXIgYyxsPW4uZG9jLnJlc29sdmUocyksdT1fKGwsdCxlKTtyZXR1cm4gYz11P2kuU2VsZWN0aW9uLm5lYXIodSwxKTplPDA/aS5TZWxlY3Rpb24ubmVhcihuLmRvYy5yZXNvbHZlKGwuYmVmb3JlKC0xKSksLTEpOmkuU2VsZWN0aW9uLm5lYXIobi5kb2MucmVzb2x2ZShsLmFmdGVyKC0xKSksMSksdHQobixyLGMpfX1mdW5jdGlvbiBudCh0LGUpe3JldHVybiBmdW5jdGlvbihuLHIsbyl7dmFyIGk9bi5zZWxlY3Rpb247aWYoIShpIGluc3RhbmNlb2Ygeikpe3ZhciBhPXN0KG8sdCxlKTtpZihudWxsPT1hKXJldHVybiExO2k9bmV3IHoobi5kb2MucmVzb2x2ZShhKSl9dmFyIHM9XyhpLiRoZWFkQ2VsbCx0LGUpO3JldHVybiEhcyYmdHQobixyLG5ldyB6KGkuJGFuY2hvckNlbGwscykpfX1mdW5jdGlvbiBydCh0LGUpe3ZhciBuPXQuc2VsZWN0aW9uO2lmKCEobiBpbnN0YW5jZW9mIHopKXJldHVybiExO2lmKGUpe3ZhciByPXQudHIsbz1XKHQuc2NoZW1hKS5jZWxsLmNyZWF0ZUFuZEZpbGwoKS5jb250ZW50O24uZm9yRWFjaENlbGwoKGZ1bmN0aW9uKHQsZSl7dC5jb250ZW50LmVxKG8pfHxyLnJlcGxhY2Uoci5tYXBwaW5nLm1hcChlKzEpLHIubWFwcGluZy5tYXAoZSt0Lm5vZGVTaXplLTEpLG5ldyBzLlNsaWNlKG8sMCwwKSl9KSksci5kb2NDaGFuZ2VkJiZlKHIpfXJldHVybiEwfWZ1bmN0aW9uIG90KHQsZSl7dmFyIG49dC5zdGF0ZS5kb2Mscj1rKG4ucmVzb2x2ZShlKSk7cmV0dXJuISFyJiYodC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldFNlbGVjdGlvbihuZXcgeihyKSkpLCEwKX1mdW5jdGlvbiBpdCh0LGUsbil7aWYoIXgodC5zdGF0ZSkpcmV0dXJuITE7dmFyIHI9SihuKSxvPXQuc3RhdGUuc2VsZWN0aW9uO2lmKG8gaW5zdGFuY2VvZiB6KXtyfHwocj17d2lkdGg6MSxoZWlnaHQ6MSxyb3dzOltzLkZyYWdtZW50LmZyb20oSyhXKHQuc3RhdGUuc2NoZW1hKS5jZWxsLG4pKV19KTt2YXIgaT1vLiRhbmNob3JDZWxsLm5vZGUoLTEpLGE9by4kYW5jaG9yQ2VsbC5zdGFydCgtMSksYz12LmdldChpKS5yZWN0QmV0d2VlbihvLiRhbmNob3JDZWxsLnBvcy1hLG8uJGhlYWRDZWxsLnBvcy1hKTtyZXR1cm4gcj1VKHIsYy5yaWdodC1jLmxlZnQsYy5ib3R0b20tYy50b3ApLFEodC5zdGF0ZSx0LmRpc3BhdGNoLGEsYyxyKSwhMH1pZihyKXt2YXIgbD1DKHQuc3RhdGUpLHU9bC5zdGFydCgtMSk7cmV0dXJuIFEodC5zdGF0ZSx0LmRpc3BhdGNoLHUsdi5nZXQobC5ub2RlKC0xKSkuZmluZENlbGwobC5wb3MtdSksciksITB9cmV0dXJuITF9ZnVuY3Rpb24gYXQodCxlKXtpZighZS5jdHJsS2V5JiYhZS5tZXRhS2V5KXt2YXIgbixyPWN0KHQsZS50YXJnZXQpO2lmKGUuc2hpZnRLZXkmJnQuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgeilvKHQuc3RhdGUuc2VsZWN0aW9uLiRhbmNob3JDZWxsLGUpLGUucHJldmVudERlZmF1bHQoKTtlbHNlIGlmKGUuc2hpZnRLZXkmJnImJm51bGwhPShuPWsodC5zdGF0ZS5zZWxlY3Rpb24uJGFuY2hvcikpJiZsdCh0LGUpLnBvcyE9bi5wb3MpbyhuLGUpLGUucHJldmVudERlZmF1bHQoKTtlbHNlIGlmKCFyKXJldHVybjt0LnJvb3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsaSksdC5yb290LmFkZEV2ZW50TGlzdGVuZXIoImRyYWdzdGFydCIsaSksdC5yb290LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsYSl9ZnVuY3Rpb24gbyhlLG4pe3ZhciByPWx0KHQsbiksbz1udWxsPT1iLmdldFN0YXRlKHQuc3RhdGUpO2lmKCFyfHwhVChlLHIpKXtpZighbylyZXR1cm47cj1lfXZhciBpPW5ldyB6KGUscik7aWYob3x8IXQuc3RhdGUuc2VsZWN0aW9uLmVxKGkpKXt2YXIgYT10LnN0YXRlLnRyLnNldFNlbGVjdGlvbihpKTtvJiZhLnNldE1ldGEoYixlLnBvcyksdC5kaXNwYXRjaChhKX19ZnVuY3Rpb24gaSgpe3Qucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZXVwIixpKSx0LnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZHJhZ3N0YXJ0IixpKSx0LnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIixhKSxudWxsIT1iLmdldFN0YXRlKHQuc3RhdGUpJiZ0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0TWV0YShiLC0xKSl9ZnVuY3Rpb24gYShuKXt2YXIgYSxzPWIuZ2V0U3RhdGUodC5zdGF0ZSk7aWYobnVsbCE9cylhPXQuc3RhdGUuZG9jLnJlc29sdmUocyk7ZWxzZSBpZihjdCh0LG4udGFyZ2V0KSE9ciYmKGE9bHQodCxlKSwhYSkpcmV0dXJuIGkoKTthJiZvKGEsbil9fWZ1bmN0aW9uIHN0KHQsZSxuKXtpZighKHQuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgaS5UZXh0U2VsZWN0aW9uKSlyZXR1cm4gbnVsbDtmb3IodmFyIHI9dC5zdGF0ZS5zZWxlY3Rpb24sbz1yLiRoZWFkLGE9by5kZXB0aC0xO2E+PTA7YS0tKXt2YXIgcz1vLm5vZGUoYSksYz1uPDA/by5pbmRleChhKTpvLmluZGV4QWZ0ZXIoYSk7aWYoYyE9KG48MD8wOnMuY2hpbGRDb3VudCkpcmV0dXJuIG51bGw7aWYoImNlbGwiPT1zLnR5cGUuc3BlYy50YWJsZVJvbGV8fCJoZWFkZXJfY2VsbCI9PXMudHlwZS5zcGVjLnRhYmxlUm9sZSl7dmFyIGw9by5iZWZvcmUoYSksdT0idmVydCI9PWU/bj4wPyJkb3duIjoidXAiOm4+MD8icmlnaHQiOiJsZWZ0IjtyZXR1cm4gdC5lbmRPZlRleHRibG9jayh1KT9sOm51bGx9fXJldHVybiBudWxsfWZ1bmN0aW9uIGN0KHQsZSl7Zm9yKDtlJiZlIT10LmRvbTtlPWUucGFyZW50Tm9kZSlpZigiVEQiPT1lLm5vZGVOYW1lfHwiVEgiPT1lLm5vZGVOYW1lKXJldHVybiBlfWZ1bmN0aW9uIGx0KHQsZSl7dmFyIG49dC5wb3NBdENvb3Jkcyh7bGVmdDplLmNsaWVudFgsdG9wOmUuY2xpZW50WX0pO3JldHVybiBuJiZuP2sodC5zdGF0ZS5kb2MucmVzb2x2ZShuLnBvcykpOm51bGx9ZnVuY3Rpb24gdXQodCxlLG4scil7dmFyIG89dC5jaGlsZENvdW50LGk9ZS5jaGlsZENvdW50O3Q6Zm9yKHZhciBhPTAscz0wO2E8aTthKyspe2Zvcih2YXIgYz1lLmNoaWxkKGEpLGw9cyx1PU1hdGgubWluKG8sYSszKTtsPHU7bCsrKWlmKHQuY2hpbGQobCk9PWMpe3M9bCsxLG4rPWMubm9kZVNpemU7Y29udGludWUgdH1yKGMsbiksczxvJiZ0LmNoaWxkKHMpLnNhbWVNYXJrdXAoYyk/dXQodC5jaGlsZChzKSxjLG4rMSxyKTpjLm5vZGVzQmV0d2VlbigwLGMuY29udGVudC5zaXplLHIsbisxKSxuKz1jLm5vZGVTaXplfX1mdW5jdGlvbiBmdCh0LGUpe3ZhciBuLHI9ZnVuY3Rpb24oZSxyKXsidGFibGUiPT1lLnR5cGUuc3BlYy50YWJsZVJvbGUmJihuPXB0KHQsZSxyLG4pKX07cmV0dXJuIGU/ZS5kb2MhPXQuZG9jJiZ1dChlLmRvYyx0LmRvYywwLHIpOnQuZG9jLmRlc2NlbmRhbnRzKHIpLG59ZnVuY3Rpb24gcHQodCxlLG4scil7dmFyIG89di5nZXQoZSk7aWYoIW8ucHJvYmxlbXMpcmV0dXJuIHI7cnx8KHI9dC50cik7Zm9yKHZhciBpLGEscz1bXSxjPTA7YzxvLmhlaWdodDtjKyspcy5wdXNoKDApO2Zvcih2YXIgbD0wO2w8by5wcm9ibGVtcy5sZW5ndGg7bCsrKXt2YXIgdT1vLnByb2JsZW1zW2xdO2lmKCJjb2xsaXNpb24iPT11LnR5cGUpe2Zvcih2YXIgZj1lLm5vZGVBdCh1LnBvcykscD0wO3A8Zi5hdHRycy5yb3dzcGFuO3ArKylzW3Uucm93K3BdKz11Lm47ci5zZXROb2RlTWFya3VwKHIubWFwcGluZy5tYXAobisxK3UucG9zKSxudWxsLEQoZi5hdHRycyxmLmF0dHJzLmNvbHNwYW4tdS5uLHUubikpfWVsc2UgaWYoIm1pc3NpbmciPT11LnR5cGUpc1t1LnJvd10rPXUubjtlbHNlIGlmKCJvdmVybG9uZ19yb3dzcGFuIj09dS50eXBlKXt2YXIgaD1lLm5vZGVBdCh1LnBvcyk7ci5zZXROb2RlTWFya3VwKHIubWFwcGluZy5tYXAobisxK3UucG9zKSxudWxsLFIoaC5hdHRycywicm93c3BhbiIsaC5hdHRycy5yb3dzcGFuLXUubikpfWVsc2UgaWYoImNvbHdpZHRoIG1pc21hdGNoIj09dS50eXBlKXt2YXIgZD1lLm5vZGVBdCh1LnBvcyk7ci5zZXROb2RlTWFya3VwKHIubWFwcGluZy5tYXAobisxK3UucG9zKSxudWxsLFIoZC5hdHRycywiY29sd2lkdGgiLHUuY29sd2lkdGgpKX19Zm9yKHZhciBtPTA7bTxzLmxlbmd0aDttKyspc1ttXSYmKG51bGw9PWkmJihpPW0pLGE9bSk7Zm9yKHZhciBnPTAseT1uKzE7ZzxvLmhlaWdodDtnKyspe3ZhciB3PWUuY2hpbGQoZyksaz15K3cubm9kZVNpemUsUz1zW2ddO2lmKFM+MCl7dmFyIHg9ImNlbGwiO3cuZmlyc3RDaGlsZCYmKHg9dy5maXJzdENoaWxkLnR5cGUuc3BlYy50YWJsZVJvbGUpO2Zvcih2YXIgQz1bXSxNPTA7TTxTO00rKylDLnB1c2goVyh0LnNjaGVtYSlbeF0uY3JlYXRlQW5kRmlsbCgpKTt2YXIgTz0wIT1nJiZpIT1nLTF8fGEhPWc/ay0xOnkrMTtyLmluc2VydChyLm1hcHBpbmcubWFwKE8pLEMpfXk9a31yZXR1cm4gci5zZXRNZXRhKGIse2ZpeFRhYmxlczohMH0pfWZ1bmN0aW9uIGh0KHQpe3ZhciBlLG49dC5zZWxlY3Rpb24scj1DKHQpLG89ci5ub2RlKC0xKSxpPXIuc3RhcnQoLTEpLGE9di5nZXQobyk7cmV0dXJuIGU9biBpbnN0YW5jZW9mIHo/YS5yZWN0QmV0d2VlbihuLiRhbmNob3JDZWxsLnBvcy1pLG4uJGhlYWRDZWxsLnBvcy1pKTphLmZpbmRDZWxsKHIucG9zLWkpLGUudGFibGVTdGFydD1pLGUubWFwPWEsZS50YWJsZT1vLGV9ZnVuY3Rpb24gZHQodCxlLG4pe2Zvcih2YXIgcj1XKGUudHlwZS5zY2hlbWEpLmhlYWRlcl9jZWxsLG89MDtvPHQuaGVpZ2h0O28rKylpZihlLm5vZGVBdCh0Lm1hcFtuK28qdC53aWR0aF0pLnR5cGUhPXIpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gdnQodCxlLG4pe3ZhciByPWUubWFwLG89ZS50YWJsZVN0YXJ0LGk9ZS50YWJsZSxhPW4+MD8tMTowO2R0KHIsaSxuK2EpJiYoYT0wPT1ufHxuPT1yLndpZHRoP251bGw6MCk7Zm9yKHZhciBzPTA7czxyLmhlaWdodDtzKyspe3ZhciBjPXMqci53aWR0aCtuO2lmKG4+MCYmbjxyLndpZHRoJiZyLm1hcFtjLTFdPT1yLm1hcFtjXSl7dmFyIGw9ci5tYXBbY10sdT1pLm5vZGVBdChsKTt0LnNldE5vZGVNYXJrdXAodC5tYXBwaW5nLm1hcChvK2wpLG51bGwsUCh1LmF0dHJzLG4tci5jb2xDb3VudChsKSkpLHMrPXUuYXR0cnMucm93c3Bhbi0xfWVsc2V7dmFyIGY9bnVsbD09YT9XKGkudHlwZS5zY2hlbWEpLmNlbGw6aS5ub2RlQXQoci5tYXBbYythXSkudHlwZSxwPXIucG9zaXRpb25BdChzLG4saSk7dC5pbnNlcnQodC5tYXBwaW5nLm1hcChvK3ApLGYuY3JlYXRlQW5kRmlsbCgpKX19cmV0dXJuIHR9ZnVuY3Rpb24gbXQodCxlKXtpZigheCh0KSlyZXR1cm4hMTtpZihlKXt2YXIgbj1odCh0KTtlKHZ0KHQudHIsbixuLmxlZnQpKX1yZXR1cm4hMH1mdW5jdGlvbiBndCh0LGUpe2lmKCF4KHQpKXJldHVybiExO2lmKGUpe3ZhciBuPWh0KHQpO2UodnQodC50cixuLG4ucmlnaHQpKX1yZXR1cm4hMH1mdW5jdGlvbiB5dCh0LGUsbil7Zm9yKHZhciByPWUubWFwLG89ZS50YWJsZSxpPWUudGFibGVTdGFydCxhPXQubWFwcGluZy5tYXBzLmxlbmd0aCxzPTA7czxyLmhlaWdodDspe3ZhciBjPXMqci53aWR0aCtuLGw9ci5tYXBbY10sdT1vLm5vZGVBdChsKTtpZihuPjAmJnIubWFwW2MtMV09PWx8fG48ci53aWR0aC0xJiZyLm1hcFtjKzFdPT1sKXQuc2V0Tm9kZU1hcmt1cCh0Lm1hcHBpbmcuc2xpY2UoYSkubWFwKGkrbCksbnVsbCxEKHUuYXR0cnMsbi1yLmNvbENvdW50KGwpKSk7ZWxzZXt2YXIgZj10Lm1hcHBpbmcuc2xpY2UoYSkubWFwKGkrbCk7dC5kZWxldGUoZixmK3Uubm9kZVNpemUpfXMrPXUuYXR0cnMucm93c3Bhbn19ZnVuY3Rpb24gd3QodCxlKXtpZigheCh0KSlyZXR1cm4hMTtpZihlKXt2YXIgbj1odCh0KSxyPXQudHI7aWYoMD09bi5sZWZ0JiZuLnJpZ2h0PT1uLm1hcC53aWR0aClyZXR1cm4hMTtmb3IodmFyIG89bi5yaWdodC0xOztvLS0pe2lmKHl0KHIsbixvKSxvPT1uLmxlZnQpYnJlYWs7bi50YWJsZT1uLnRhYmxlU3RhcnQ/ci5kb2Mubm9kZUF0KG4udGFibGVTdGFydC0xKTpyLmRvYyxuLm1hcD12LmdldChuLnRhYmxlKX1lKHIpfXJldHVybiEwfWZ1bmN0aW9uIGJ0KHQsZSxuKXtmb3IodmFyIHI9VyhlLnR5cGUuc2NoZW1hKS5oZWFkZXJfY2VsbCxvPTA7bzx0LndpZHRoO28rKylpZihlLm5vZGVBdCh0Lm1hcFtvK24qdC53aWR0aF0pLnR5cGUhPXIpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24ga3QodCxlLG4pe2Zvcih2YXIgcj1lLm1hcCxvPWUudGFibGVTdGFydCxpPWUudGFibGUsYT1vLHM9MDtzPG47cysrKWErPWkuY2hpbGQocykubm9kZVNpemU7dmFyIGM9W10sbD1uPjA/LTE6MDtidChyLGksbitsKSYmKGw9MD09bnx8bj09ci5oZWlnaHQ/bnVsbDowKTtmb3IodmFyIHU9MCxmPXIud2lkdGgqbjt1PHIud2lkdGg7dSsrLGYrKylpZihuPjAmJm48ci5oZWlnaHQmJnIubWFwW2ZdPT1yLm1hcFtmLXIud2lkdGhdKXt2YXIgcD1yLm1hcFtmXSxoPWkubm9kZUF0KHApLmF0dHJzO3Quc2V0Tm9kZU1hcmt1cChvK3AsbnVsbCxSKGgsInJvd3NwYW4iLGgucm93c3BhbisxKSksdSs9aC5jb2xzcGFuLTF9ZWxzZXt2YXIgZD1udWxsPT1sP1coaS50eXBlLnNjaGVtYSkuY2VsbDppLm5vZGVBdChyLm1hcFtmK2wqci53aWR0aF0pLnR5cGU7Yy5wdXNoKGQuY3JlYXRlQW5kRmlsbCgpKX1yZXR1cm4gdC5pbnNlcnQoYSxXKGkudHlwZS5zY2hlbWEpLnJvdy5jcmVhdGUobnVsbCxjKSksdH1mdW5jdGlvbiBTdCh0LGUpe2lmKCF4KHQpKXJldHVybiExO2lmKGUpe3ZhciBuPWh0KHQpO2Uoa3QodC50cixuLG4udG9wKSl9cmV0dXJuITB9ZnVuY3Rpb24geHQodCxlKXtpZigheCh0KSlyZXR1cm4hMTtpZihlKXt2YXIgbj1odCh0KTtlKGt0KHQudHIsbixuLmJvdHRvbSkpfXJldHVybiEwfWZ1bmN0aW9uIEN0KHQsZSxuKXtmb3IodmFyIHI9ZS5tYXAsbz1lLnRhYmxlLGk9ZS50YWJsZVN0YXJ0LGE9MCxzPTA7czxuO3MrKylhKz1vLmNoaWxkKHMpLm5vZGVTaXplO3ZhciBjPWErby5jaGlsZChuKS5ub2RlU2l6ZSxsPXQubWFwcGluZy5tYXBzLmxlbmd0aDt0LmRlbGV0ZShhK2ksYytpKTtmb3IodmFyIHU9MCxmPW4qci53aWR0aDt1PHIud2lkdGg7dSsrLGYrKyl7dmFyIHA9ci5tYXBbZl07aWYobj4wJiZwPT1yLm1hcFtmLXIud2lkdGhdKXt2YXIgaD1vLm5vZGVBdChwKS5hdHRyczt0LnNldE5vZGVNYXJrdXAodC5tYXBwaW5nLnNsaWNlKGwpLm1hcChwK2kpLG51bGwsUihoLCJyb3dzcGFuIixoLnJvd3NwYW4tMSkpLHUrPWguY29sc3Bhbi0xfWVsc2UgaWYobjxyLndpZHRoJiZwPT1yLm1hcFtmK3Iud2lkdGhdKXt2YXIgZD1vLm5vZGVBdChwKSx2PWQudHlwZS5jcmVhdGUoUihkLmF0dHJzLCJyb3dzcGFuIixkLmF0dHJzLnJvd3NwYW4tMSksZC5jb250ZW50KSxtPXIucG9zaXRpb25BdChuKzEsdSxvKTt0Lmluc2VydCh0Lm1hcHBpbmcuc2xpY2UobCkubWFwKGkrbSksdiksdSs9ZC5hdHRycy5jb2xzcGFuLTF9fX1mdW5jdGlvbiBNdCh0LGUpe2lmKCF4KHQpKXJldHVybiExO2lmKGUpe3ZhciBuPWh0KHQpLHI9dC50cjtpZigwPT1uLnRvcCYmbi5ib3R0b209PW4ubWFwLmhlaWdodClyZXR1cm4hMTtmb3IodmFyIG89bi5ib3R0b20tMTs7by0tKXtpZihDdChyLG4sbyksbz09bi50b3ApYnJlYWs7bi50YWJsZT1uLnRhYmxlU3RhcnQ/ci5kb2Mubm9kZUF0KG4udGFibGVTdGFydC0xKTpyLmRvYyxuLm1hcD12LmdldChuLnRhYmxlKX1lKHIpfXJldHVybiEwfWZ1bmN0aW9uIE90KHQpe3ZhciBlPXQuY29udGVudDtyZXR1cm4gMT09ZS5jaGlsZENvdW50JiZlLmZpcnN0Q2hpbGQuaXNUZXh0YmxvY2smJjA9PWUuZmlyc3RDaGlsZC5jaGlsZENvdW50fWZ1bmN0aW9uIEF0KHQsZSl7Zm9yKHZhciBuPXQud2lkdGgscj10LmhlaWdodCxvPXQubWFwLGk9ZS50b3AqbitlLmxlZnQsYT1pLHM9KGUuYm90dG9tLTEpKm4rZS5sZWZ0LGM9aSsoZS5yaWdodC1lLmxlZnQtMSksbD1lLnRvcDtsPGUuYm90dG9tO2wrKyl7aWYoZS5sZWZ0PjAmJm9bYV09PW9bYS0xXXx8ZS5yaWdodDxuJiZvW2NdPT1vW2MrMV0pcmV0dXJuITA7YSs9bixjKz1ufWZvcih2YXIgdT1lLmxlZnQ7dTxlLnJpZ2h0O3UrKyl7aWYoZS50b3A+MCYmb1tpXT09b1tpLW5dfHxlLmJvdHRvbTxyJiZvW3NdPT1vW3Mrbl0pcmV0dXJuITA7aSsrLHMrK31yZXR1cm4hMX1mdW5jdGlvbiBUdCh0LGUpe3ZhciBuPXQuc2VsZWN0aW9uO2lmKCEobiBpbnN0YW5jZW9mIHopfHxuLiRhbmNob3JDZWxsLnBvcz09bi4kaGVhZENlbGwucG9zKXJldHVybiExO3ZhciByPWh0KHQpLG89ci5tYXA7aWYoQXQobyxyKSlyZXR1cm4hMTtpZihlKXtmb3IodmFyIGksYSxjPXQudHIsbD17fSx1PXMuRnJhZ21lbnQuZW1wdHksZj1yLnRvcDtmPHIuYm90dG9tO2YrKylmb3IodmFyIHA9ci5sZWZ0O3A8ci5yaWdodDtwKyspe3ZhciBoPW8ubWFwW2Yqby53aWR0aCtwXSxkPXIudGFibGUubm9kZUF0KGgpO2lmKCFsW2hdKWlmKGxbaF09ITAsbnVsbD09aSlpPWgsYT1kO2Vsc2V7T3QoZCl8fCh1PXUuYXBwZW5kKGQuY29udGVudCkpO3ZhciB2PWMubWFwcGluZy5tYXAoaCtyLnRhYmxlU3RhcnQpO2MuZGVsZXRlKHYsditkLm5vZGVTaXplKX19aWYoYy5zZXROb2RlTWFya3VwKGkrci50YWJsZVN0YXJ0LG51bGwsUihQKGEuYXR0cnMsYS5hdHRycy5jb2xzcGFuLHIucmlnaHQtci5sZWZ0LWEuYXR0cnMuY29sc3BhbiksInJvd3NwYW4iLHIuYm90dG9tLXIudG9wKSksdS5zaXplKXt2YXIgbT1pKzErYS5jb250ZW50LnNpemUsZz1PdChhKT9pKzE6bTtjLnJlcGxhY2VXaXRoKGcrci50YWJsZVN0YXJ0LG0rci50YWJsZVN0YXJ0LHUpfWMuc2V0U2VsZWN0aW9uKG5ldyB6KGMuZG9jLnJlc29sdmUoaStyLnRhYmxlU3RhcnQpKSksZShjKX1yZXR1cm4hMH1mdW5jdGlvbiBOdCh0LGUpe3ZhciBuPVcodC5zY2hlbWEpO3JldHVybiBFdCgoZnVuY3Rpb24odCl7dmFyIGU9dC5ub2RlO3JldHVybiBuW2UudHlwZS5zcGVjLnRhYmxlUm9sZV19KSkodCxlKX1mdW5jdGlvbiBFdCh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgcixvLGk9ZS5zZWxlY3Rpb247aWYoaSBpbnN0YW5jZW9mIHope2lmKGkuJGFuY2hvckNlbGwucG9zIT1pLiRoZWFkQ2VsbC5wb3MpcmV0dXJuITE7cj1pLiRhbmNob3JDZWxsLm5vZGVBZnRlcixvPWkuJGFuY2hvckNlbGwucG9zfWVsc2V7aWYocj1TKGkuJGZyb20pLCFyKXJldHVybiExO289ayhpLiRmcm9tKS5wb3N9aWYoMT09ci5hdHRycy5jb2xzcGFuJiYxPT1yLmF0dHJzLnJvd3NwYW4pcmV0dXJuITE7aWYobil7dmFyIGE9ci5hdHRycyxzPVtdLGM9YS5jb2x3aWR0aDthLnJvd3NwYW4+MSYmKGE9UihhLCJyb3dzcGFuIiwxKSksYS5jb2xzcGFuPjEmJihhPVIoYSwiY29sc3BhbiIsMSkpO2Zvcih2YXIgbCx1PWh0KGUpLGY9ZS50cixwPTA7cDx1LnJpZ2h0LXUubGVmdDtwKyspcy5wdXNoKGM/UihhLCJjb2x3aWR0aCIsYyYmY1twXT9bY1twXV06bnVsbCk6YSk7Zm9yKHZhciBoPXUudG9wO2g8dS5ib3R0b207aCsrKXt2YXIgZD11Lm1hcC5wb3NpdGlvbkF0KGgsdS5sZWZ0LHUudGFibGUpO2g9PXUudG9wJiYoZCs9ci5ub2RlU2l6ZSk7Zm9yKHZhciB2PXUubGVmdCxtPTA7djx1LnJpZ2h0O3YrKyxtKyspdj09dS5sZWZ0JiZoPT11LnRvcHx8Zi5pbnNlcnQobD1mLm1hcHBpbmcubWFwKGQrdS50YWJsZVN0YXJ0LDEpLHQoe25vZGU6cixyb3c6aCxjb2w6dn0pLmNyZWF0ZUFuZEZpbGwoc1ttXSkpfWYuc2V0Tm9kZU1hcmt1cChvLHQoe25vZGU6cixyb3c6dS50b3AsY29sOnUubGVmdH0pLHNbMF0pLGkgaW5zdGFuY2VvZiB6JiZmLnNldFNlbGVjdGlvbihuZXcgeihmLmRvYy5yZXNvbHZlKGkuJGFuY2hvckNlbGwucG9zKSxsJiZmLmRvYy5yZXNvbHZlKGwpKSksbihmKX1yZXR1cm4hMH19ZnVuY3Rpb24gX3QodCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXtpZigheChuKSlyZXR1cm4hMTt2YXIgbz1DKG4pO2lmKG8ubm9kZUFmdGVyLmF0dHJzW3RdPT09ZSlyZXR1cm4hMTtpZihyKXt2YXIgaT1uLnRyO24uc2VsZWN0aW9uIGluc3RhbmNlb2Ygej9uLnNlbGVjdGlvbi5mb3JFYWNoQ2VsbCgoZnVuY3Rpb24obixyKXtuLmF0dHJzW3RdIT09ZSYmaS5zZXROb2RlTWFya3VwKHIsbnVsbCxSKG4uYXR0cnMsdCxlKSl9KSk6aS5zZXROb2RlTWFya3VwKG8ucG9zLG51bGwsUihvLm5vZGVBZnRlci5hdHRycyx0LGUpKSxyKGkpfXJldHVybiEwfX1mdW5jdGlvbiBSdCh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtpZigheChlKSlyZXR1cm4hMTtpZihuKXtmb3IodmFyIHI9VyhlLnNjaGVtYSksbz1odChlKSxpPWUudHIsYT1vLm1hcC5jZWxsc0luUmVjdCgiY29sdW1uIj09dD9uZXcgZChvLmxlZnQsMCxvLnJpZ2h0LG8ubWFwLmhlaWdodCk6InJvdyI9PXQ/bmV3IGQoMCxvLnRvcCxvLm1hcC53aWR0aCxvLmJvdHRvbSk6bykscz1hLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG8udGFibGUubm9kZUF0KHQpfSkpLGM9MDtjPGEubGVuZ3RoO2MrKylzW2NdLnR5cGU9PXIuaGVhZGVyX2NlbGwmJmkuc2V0Tm9kZU1hcmt1cChvLnRhYmxlU3RhcnQrYVtjXSxyLmNlbGwsc1tjXS5hdHRycyk7aWYoMD09aS5zdGVwcy5sZW5ndGgpZm9yKHZhciBsPTA7bDxhLmxlbmd0aDtsKyspaS5zZXROb2RlTWFya3VwKG8udGFibGVTdGFydCthW2xdLHIuaGVhZGVyX2NlbGwsc1tsXS5hdHRycyk7bihpKX1yZXR1cm4hMH19ZnVuY3Rpb24gRHQodCxlLG4pe2Zvcih2YXIgcj1lLm1hcC5jZWxsc0luUmVjdCh7bGVmdDowLHRvcDowLHJpZ2h0OiJyb3ciPT10P2UubWFwLndpZHRoOjEsYm90dG9tOiJjb2x1bW4iPT10P2UubWFwLmhlaWdodDoxfSksbz0wO288ci5sZW5ndGg7bysrKXt2YXIgaT1lLnRhYmxlLm5vZGVBdChyW29dKTtpZihpJiZpLnR5cGUhPT1uLmhlYWRlcl9jZWxsKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIFB0KHQsZSl7cmV0dXJuIGU9ZXx8e3VzZURlcHJlY2F0ZWRMb2dpYzohMX0sZS51c2VEZXByZWNhdGVkTG9naWM/UnQodCk6ZnVuY3Rpb24oZSxuKXtpZigheChlKSlyZXR1cm4hMTtpZihuKXt2YXIgcj1XKGUuc2NoZW1hKSxvPWh0KGUpLGk9ZS50cixhPUR0KCJyb3ciLG8scikscz1EdCgiY29sdW1uIixvLHIpLGM9ImNvbHVtbiI9PT10P2E6InJvdyI9PT10JiZzLGw9Yz8xOjAsdT0iY29sdW1uIj09dD9uZXcgZCgwLGwsMSxvLm1hcC5oZWlnaHQpOiJyb3ciPT10P25ldyBkKGwsMCxvLm1hcC53aWR0aCwxKTpvLGY9ImNvbHVtbiI9PXQ/cz9yLmNlbGw6ci5oZWFkZXJfY2VsbDoicm93Ij09dD9hP3IuY2VsbDpyLmhlYWRlcl9jZWxsOnIuY2VsbDtvLm1hcC5jZWxsc0luUmVjdCh1KS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT10K28udGFibGVTdGFydCxuPWkuZG9jLm5vZGVBdChlKTtuJiZpLnNldE5vZGVNYXJrdXAoZSxmLG4uYXR0cnMpfSkpLG4oaSl9cmV0dXJuITB9fXZhciB6dD1QdCgicm93Iix7dXNlRGVwcmVjYXRlZExvZ2ljOiEwfSksSXQ9UHQoImNvbHVtbiIse3VzZURlcHJlY2F0ZWRMb2dpYzohMH0pLGp0PVB0KCJjZWxsIix7dXNlRGVwcmVjYXRlZExvZ2ljOiEwfSk7ZnVuY3Rpb24gQnQodCxlKXtpZihlPDApe3ZhciBuPXQubm9kZUJlZm9yZTtpZihuKXJldHVybiB0LnBvcy1uLm5vZGVTaXplO2Zvcih2YXIgcj10LmluZGV4KC0xKS0xLG89dC5iZWZvcmUoKTtyPj0wO3ItLSl7dmFyIGk9dC5ub2RlKC0xKS5jaGlsZChyKTtpZihpLmNoaWxkQ291bnQpcmV0dXJuIG8tMS1pLmxhc3RDaGlsZC5ub2RlU2l6ZTtvLT1pLm5vZGVTaXplfX1lbHNle2lmKHQuaW5kZXgoKTx0LnBhcmVudC5jaGlsZENvdW50LTEpcmV0dXJuIHQucG9zK3Qubm9kZUFmdGVyLm5vZGVTaXplO2Zvcih2YXIgYT10Lm5vZGUoLTEpLHM9dC5pbmRleEFmdGVyKC0xKSxjPXQuYWZ0ZXIoKTtzPGEuY2hpbGRDb3VudDtzKyspe3ZhciBsPWEuY2hpbGQocyk7aWYobC5jaGlsZENvdW50KXJldHVybiBjKzE7Yys9bC5ub2RlU2l6ZX19fWZ1bmN0aW9uICR0KHQpe3JldHVybiBmdW5jdGlvbihlLG4pe2lmKCF4KGUpKXJldHVybiExO3ZhciByPUJ0KEMoZSksdCk7aWYobnVsbCE9cil7aWYobil7dmFyIG89ZS5kb2MucmVzb2x2ZShyKTtuKGUudHIuc2V0U2VsZWN0aW9uKGkuVGV4dFNlbGVjdGlvbi5iZXR3ZWVuKG8sQShvKSkpLnNjcm9sbEludG9WaWV3KCkpfXJldHVybiEwfX19ZnVuY3Rpb24gRnQodCxlKXtmb3IodmFyIG49dC5zZWxlY3Rpb24uJGFuY2hvcixyPW4uZGVwdGg7cj4wO3ItLSl7dmFyIG89bi5ub2RlKHIpO2lmKCJ0YWJsZSI9PW8udHlwZS5zcGVjLnRhYmxlUm9sZSlyZXR1cm4gZSYmZSh0LnRyLmRlbGV0ZShuLmJlZm9yZShyKSxuLmFmdGVyKHIpKS5zY3JvbGxJbnRvVmlldygpKSwhMH1yZXR1cm4hMX12YXIgVnQ9ZnVuY3Rpb24odCxlKXt0aGlzLm5vZGU9dCx0aGlzLmNlbGxNaW5XaWR0aD1lLHRoaXMuZG9tPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuZG9tLmNsYXNzTmFtZT0idGFibGVXcmFwcGVyIix0aGlzLnRhYmxlPXRoaXMuZG9tLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIikpLHRoaXMuY29sZ3JvdXA9dGhpcy50YWJsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjb2xncm91cCIpKSxMdCh0LHRoaXMuY29sZ3JvdXAsdGhpcy50YWJsZSxlKSx0aGlzLmNvbnRlbnRET009dGhpcy50YWJsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpKX07ZnVuY3Rpb24gTHQodCxlLG4scixvLGkpe2Zvcih2YXIgYT0wLHM9ITAsYz1lLmZpcnN0Q2hpbGQsbD10LmZpcnN0Q2hpbGQsdT0wLGY9MDt1PGwuY2hpbGRDb3VudDt1KyspZm9yKHZhciBwPWwuY2hpbGQodSkuYXR0cnMsaD1wLmNvbHNwYW4sZD1wLmNvbHdpZHRoLHY9MDt2PGg7disrLGYrKyl7dmFyIG09bz09Zj9pOmQmJmRbdl0sZz1tP20rInB4IjoiIjthKz1tfHxyLG18fChzPSExKSxjPyhjLnN0eWxlLndpZHRoIT1nJiYoYy5zdHlsZS53aWR0aD1nKSxjPWMubmV4dFNpYmxpbmcpOmUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY29sIikpLnN0eWxlLndpZHRoPWd9d2hpbGUoYyl7dmFyIHk9Yy5uZXh0U2libGluZztjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyksYz15fXM/KG4uc3R5bGUud2lkdGg9YSsicHgiLG4uc3R5bGUubWluV2lkdGg9IiIpOihuLnN0eWxlLndpZHRoPSIiLG4uc3R5bGUubWluV2lkdGg9YSsicHgiKX1WdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PXRoaXMubm9kZS50eXBlJiYodGhpcy5ub2RlPXQsTHQodCx0aGlzLmNvbGdyb3VwLHRoaXMudGFibGUsdGhpcy5jZWxsTWluV2lkdGgpLCEwKX0sVnQucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiJhdHRyaWJ1dGVzIj09dC50eXBlJiYodC50YXJnZXQ9PXRoaXMudGFibGV8fHRoaXMuY29sZ3JvdXAuY29udGFpbnModC50YXJnZXQpKX07dmFyIEh0PW5ldyBpLlBsdWdpbktleSgidGFibGVDb2x1bW5SZXNpemluZyIpO2Z1bmN0aW9uIFd0KHQpe3ZvaWQgMD09PXQmJih0PXt9KTt2YXIgZT10LmhhbmRsZVdpZHRoO3ZvaWQgMD09PWUmJihlPTUpO3ZhciBuPXQuY2VsbE1pbldpZHRoO3ZvaWQgMD09PW4mJihuPTI1KTt2YXIgcj10LlZpZXc7dm9pZCAwPT09ciYmKHI9VnQpO3ZhciBvPXQubGFzdENvbHVtblJlc2l6YWJsZTt2b2lkIDA9PT1vJiYobz0hMCk7dmFyIGE9bmV3IGkuUGx1Z2luKHtrZXk6SHQsc3RhdGU6e2luaXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zcGVjLnByb3BzLm5vZGVWaWV3c1tXKGUuc2NoZW1hKS50YWJsZS5uYW1lXT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgcih0LG4sZSl9LG5ldyBKdCgtMSwhMSl9LGFwcGx5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuYXBwbHkodCl9fSxwcm9wczp7YXR0cmlidXRlczpmdW5jdGlvbih0KXt2YXIgZT1IdC5nZXRTdGF0ZSh0KTtyZXR1cm4gZS5hY3RpdmVIYW5kbGU+LTE/e2NsYXNzOiJyZXNpemUtY3Vyc29yIn06bnVsbH0saGFuZGxlRE9NRXZlbnRzOnttb3VzZW1vdmU6ZnVuY3Rpb24odCxyKXtxdCh0LHIsZSxuLG8pfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKHQpe0t0KHQpfSxtb3VzZWRvd246ZnVuY3Rpb24odCxlKXtVdCh0LGUsbil9fSxkZWNvcmF0aW9uczpmdW5jdGlvbih0KXt2YXIgZT1IdC5nZXRTdGF0ZSh0KTtpZihlLmFjdGl2ZUhhbmRsZT4tMSlyZXR1cm4gcmUodCxlLmFjdGl2ZUhhbmRsZSl9LG5vZGVWaWV3czp7fX19KTtyZXR1cm4gYX12YXIgSnQ9ZnVuY3Rpb24odCxlKXt0aGlzLmFjdGl2ZUhhbmRsZT10LHRoaXMuZHJhZ2dpbmc9ZX07ZnVuY3Rpb24gcXQodCxlLG4scixvKXt2YXIgaT1IdC5nZXRTdGF0ZSh0LnN0YXRlKTtpZighaS5kcmFnZ2luZyl7dmFyIGE9WHQoZS50YXJnZXQpLHM9LTE7aWYoYSl7dmFyIGM9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxsPWMubGVmdCx1PWMucmlnaHQ7ZS5jbGllbnRYLWw8PW4/cz1ZdCh0LGUsImxlZnQiKTp1LWUuY2xpZW50WDw9biYmKHM9WXQodCxlLCJyaWdodCIpKX1pZihzIT1pLmFjdGl2ZUhhbmRsZSl7aWYoIW8mJi0xIT09cyl7dmFyIGY9dC5zdGF0ZS5kb2MucmVzb2x2ZShzKSxwPWYubm9kZSgtMSksaD12LmdldChwKSxkPWYuc3RhcnQoLTEpLG09aC5jb2xDb3VudChmLnBvcy1kKStmLm5vZGVBZnRlci5hdHRycy5jb2xzcGFuLTE7aWYobT09aC53aWR0aC0xKXJldHVybn1adCh0LHMpfX19ZnVuY3Rpb24gS3QodCl7dmFyIGU9SHQuZ2V0U3RhdGUodC5zdGF0ZSk7ZS5hY3RpdmVIYW5kbGU+LTEmJiFlLmRyYWdnaW5nJiZadCh0LC0xKX1mdW5jdGlvbiBVdCh0LGUsbil7dmFyIHI9SHQuZ2V0U3RhdGUodC5zdGF0ZSk7aWYoLTE9PXIuYWN0aXZlSGFuZGxlfHxyLmRyYWdnaW5nKXJldHVybiExO3ZhciBvPXQuc3RhdGUuZG9jLm5vZGVBdChyLmFjdGl2ZUhhbmRsZSksaT1HdCh0LHIuYWN0aXZlSGFuZGxlLG8uYXR0cnMpO2Z1bmN0aW9uIGEoZSl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLGEpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLHMpO3ZhciByPUh0LmdldFN0YXRlKHQuc3RhdGUpO3IuZHJhZ2dpbmcmJih0ZSh0LHIuYWN0aXZlSGFuZGxlLFF0KHIuZHJhZ2dpbmcsZSxuKSksdC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldE1ldGEoSHQse3NldERyYWdnaW5nOm51bGx9KSkpfWZ1bmN0aW9uIHMoZSl7aWYoIWUud2hpY2gpcmV0dXJuIGEoZSk7dmFyIHI9SHQuZ2V0U3RhdGUodC5zdGF0ZSksbz1RdChyLmRyYWdnaW5nLGUsbik7ZWUodCxyLmFjdGl2ZUhhbmRsZSxvLG4pfXJldHVybiB0LmRpc3BhdGNoKHQuc3RhdGUudHIuc2V0TWV0YShIdCx7c2V0RHJhZ2dpbmc6e3N0YXJ0WDplLmNsaWVudFgsc3RhcnRXaWR0aDppfX0pKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsYSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIscyksZS5wcmV2ZW50RGVmYXVsdCgpLCEwfWZ1bmN0aW9uIEd0KHQsZSxuKXt2YXIgcj1uLmNvbHNwYW4sbz1uLmNvbHdpZHRoLGk9byYmb1tvLmxlbmd0aC0xXTtpZihpKXJldHVybiBpO3ZhciBhPXQuZG9tQXRQb3MoZSkscz1hLm5vZGUuY2hpbGROb2Rlc1thLm9mZnNldF0sYz1zLm9mZnNldFdpZHRoLGw9cjtpZihvKWZvcih2YXIgdT0wO3U8cjt1Kyspb1t1XSYmKGMtPW9bdV0sbC0tKTtyZXR1cm4gYy9sfWZ1bmN0aW9uIFh0KHQpe3doaWxlKHQmJiJURCIhPXQubm9kZU5hbWUmJiJUSCIhPXQubm9kZU5hbWUpdD10LmNsYXNzTGlzdC5jb250YWlucygiUHJvc2VNaXJyb3IiKT9udWxsOnQucGFyZW50Tm9kZTtyZXR1cm4gdH1mdW5jdGlvbiBZdCh0LGUsbil7dmFyIHI9dC5wb3NBdENvb3Jkcyh7bGVmdDplLmNsaWVudFgsdG9wOmUuY2xpZW50WX0pLG89ci5wb3MsaT1rKHQuc3RhdGUuZG9jLnJlc29sdmUobykpO2lmKCFpKXJldHVybi0xO2lmKCJyaWdodCI9PW4pcmV0dXJuIGkucG9zO3ZhciBhPXYuZ2V0KGkubm9kZSgtMSkpLHM9aS5zdGFydCgtMSksYz1hLm1hcC5pbmRleE9mKGkucG9zLXMpO3JldHVybiBjJWEud2lkdGg9PTA/LTE6cythLm1hcFtjLTFdfWZ1bmN0aW9uIFF0KHQsZSxuKXt2YXIgcj1lLmNsaWVudFgtdC5zdGFydFg7cmV0dXJuIE1hdGgubWF4KG4sdC5zdGFydFdpZHRoK3IpfWZ1bmN0aW9uIFp0KHQsZSl7dC5kaXNwYXRjaCh0LnN0YXRlLnRyLnNldE1ldGEoSHQse3NldEhhbmRsZTplfSkpfWZ1bmN0aW9uIHRlKHQsZSxuKXtmb3IodmFyIHI9dC5zdGF0ZS5kb2MucmVzb2x2ZShlKSxvPXIubm9kZSgtMSksaT12LmdldChvKSxhPXIuc3RhcnQoLTEpLHM9aS5jb2xDb3VudChyLnBvcy1hKStyLm5vZGVBZnRlci5hdHRycy5jb2xzcGFuLTEsYz10LnN0YXRlLnRyLGw9MDtsPGkuaGVpZ2h0O2wrKyl7dmFyIHU9bCppLndpZHRoK3M7aWYoIWx8fGkubWFwW3VdIT1pLm1hcFt1LWkud2lkdGhdKXt2YXIgZj1pLm1hcFt1XSxwPW8ubm9kZUF0KGYpLGg9cC5hdHRycyxkPTE9PWguY29sc3Bhbj8wOnMtaS5jb2xDb3VudChmKTtpZighaC5jb2x3aWR0aHx8aC5jb2x3aWR0aFtkXSE9bil7dmFyIG09aC5jb2x3aWR0aD9oLmNvbHdpZHRoLnNsaWNlKCk6bmUoaC5jb2xzcGFuKTttW2RdPW4sYy5zZXROb2RlTWFya3VwKGErZixudWxsLFIoaCwiY29sd2lkdGgiLG0pKX19fWMuZG9jQ2hhbmdlZCYmdC5kaXNwYXRjaChjKX1mdW5jdGlvbiBlZSh0LGUsbixyKXt2YXIgbz10LnN0YXRlLmRvYy5yZXNvbHZlKGUpLGk9by5ub2RlKC0xKSxhPW8uc3RhcnQoLTEpLHM9di5nZXQoaSkuY29sQ291bnQoby5wb3MtYSkrby5ub2RlQWZ0ZXIuYXR0cnMuY29sc3Bhbi0xLGM9dC5kb21BdFBvcyhvLnN0YXJ0KC0xKSkubm9kZTt3aGlsZSgiVEFCTEUiIT1jLm5vZGVOYW1lKWM9Yy5wYXJlbnROb2RlO0x0KGksYy5maXJzdENoaWxkLGMscixzLG4pfWZ1bmN0aW9uIG5lKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0O24rKyllLnB1c2goMCk7cmV0dXJuIGV9ZnVuY3Rpb24gcmUodCxlKXtmb3IodmFyIG49W10scj10LmRvYy5yZXNvbHZlKGUpLG89ci5ub2RlKC0xKSxpPXYuZ2V0KG8pLHM9ci5zdGFydCgtMSksYz1pLmNvbENvdW50KHIucG9zLXMpK3Iubm9kZUFmdGVyLmF0dHJzLmNvbHNwYW4sbD0wO2w8aS5oZWlnaHQ7bCsrKXt2YXIgdT1jK2wqaS53aWR0aC0xO2lmKChjPT1pLndpZHRofHxpLm1hcFt1XSE9aS5tYXBbdSsxXSkmJigwPT1sfHxpLm1hcFt1LTFdIT1pLm1hcFt1LTEtaS53aWR0aF0pKXt2YXIgZj1pLm1hcFt1XSxwPXMrZitvLm5vZGVBdChmKS5ub2RlU2l6ZS0xLGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aC5jbGFzc05hbWU9ImNvbHVtbi1yZXNpemUtaGFuZGxlIixuLnB1c2goYS5EZWNvcmF0aW9uLndpZGdldChwLGgpKX19cmV0dXJuIGEuRGVjb3JhdGlvblNldC5jcmVhdGUodC5kb2Msbil9ZnVuY3Rpb24gb2UodCl7dm9pZCAwPT09dCYmKHQ9e30pO3ZhciBlPXQuYWxsb3dUYWJsZU5vZGVTZWxlY3Rpb247cmV0dXJuIHZvaWQgMD09PWUmJihlPSExKSxuZXcgaS5QbHVnaW4oe2tleTpiLHN0YXRlOntpbml0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGFwcGx5OmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRNZXRhKGIpO2lmKG51bGwhPW4pcmV0dXJuLTE9PW4/bnVsbDpuO2lmKG51bGw9PWV8fCF0LmRvY0NoYW5nZWQpcmV0dXJuIGU7dmFyIHI9dC5tYXBwaW5nLm1hcFJlc3VsdChlKSxvPXIuZGVsZXRlZCxpPXIucG9zO3JldHVybiBvP251bGw6aX19LHByb3BzOntkZWNvcmF0aW9uczpqLGhhbmRsZURPTUV2ZW50czp7bW91c2Vkb3duOmF0fSxjcmVhdGVTZWxlY3Rpb25CZXR3ZWVuOmZ1bmN0aW9uKHQpe2lmKG51bGwhPWIuZ2V0U3RhdGUodC5zdGF0ZSkpcmV0dXJuIHQuc3RhdGUuc2VsZWN0aW9ufSxoYW5kbGVUcmlwbGVDbGljazpvdCxoYW5kbGVLZXlEb3duOlosaGFuZGxlUGFzdGU6aXR9LGFwcGVuZFRyYW5zYWN0aW9uOmZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gRihyLGZ0KHIsbiksZSl9fSl9SnQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LmdldE1ldGEoSHQpO2lmKG4mJm51bGwhPW4uc2V0SGFuZGxlKXJldHVybiBuZXcgSnQobi5zZXRIYW5kbGUsbnVsbCk7aWYobiYmdm9pZCAwIT09bi5zZXREcmFnZ2luZylyZXR1cm4gbmV3IEp0KGUuYWN0aXZlSGFuZGxlLG4uc2V0RHJhZ2dpbmcpO2lmKGUuYWN0aXZlSGFuZGxlPi0xJiZ0LmRvY0NoYW5nZWQpe3ZhciByPXQubWFwcGluZy5tYXAoZS5hY3RpdmVIYW5kbGUsLTEpO08odC5kb2MucmVzb2x2ZShyKSl8fChyPW51bGwpLGU9bmV3IEp0KHIsZS5kcmFnZ2luZyl9cmV0dXJuIGV9LGUudGFibGVFZGl0aW5nPW9lLGUuZml4VGFibGVzPWZ0LGUuaGFuZGxlUGFzdGU9aXQsZS50YWJsZUVkaXRpbmdLZXk9YixlLmNlbGxBcm91bmQ9ayxlLmlzSW5UYWJsZT14LGUuc2VsZWN0aW9uQ2VsbD1DLGUubW92ZUNlbGxGb3J3YXJkPUEsZS5pblNhbWVUYWJsZT1ULGUuZmluZENlbGw9TixlLmNvbENvdW50PUUsZS5uZXh0Q2VsbD1fLGUudGFibGVOb2Rlcz1ILGUuQ2VsbFNlbGVjdGlvbj16LGUuVGFibGVNYXA9dixlLmNvbHVtblJlc2l6aW5nPVd0LGUuY29sdW1uUmVzaXppbmdQbHVnaW5LZXk9SHQsZS51cGRhdGVDb2x1bW5zT25SZXNpemU9THQsZS5fX3Bhc3RlZENlbGxzPUosZS5fX2luc2VydENlbGxzPVEsZS5fX2NsaXBDZWxscz1VLGUuYWRkQ29sdW1uPXZ0LGUuYWRkQ29sdW1uQmVmb3JlPW10LGUuYWRkQ29sdW1uQWZ0ZXI9Z3QsZS5yZW1vdmVDb2x1bW49eXQsZS5kZWxldGVDb2x1bW49d3QsZS5hZGRSb3c9a3QsZS5hZGRSb3dCZWZvcmU9U3QsZS5hZGRSb3dBZnRlcj14dCxlLnJlbW92ZVJvdz1DdCxlLmRlbGV0ZVJvdz1NdCxlLm1lcmdlQ2VsbHM9VHQsZS5zcGxpdENlbGw9TnQsZS5zcGxpdENlbGxXaXRoVHlwZT1FdCxlLnNldENlbGxBdHRyPV90LGUudG9nZ2xlSGVhZGVyPVB0LGUudG9nZ2xlSGVhZGVyUm93PXp0LGUudG9nZ2xlSGVhZGVyQ29sdW1uPUl0LGUudG9nZ2xlSGVhZGVyQ2VsbD1qdCxlLmdvVG9OZXh0Q2VsbD0kdCxlLmRlbGV0ZVRhYmxlPUZ0fSxmZmMxOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI1Y2ExIiksbz1uKCI1MDRjIikoITApO3Ioci5TLCJPYmplY3QiLHtlbnRyaWVzOmZ1bmN0aW9uKHQpe3JldHVybiBvKHQpfX0pfX0pWyJkZWZhdWx0Il19KSk7\"")
}
